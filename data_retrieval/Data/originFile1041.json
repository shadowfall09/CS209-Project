{"items":[{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","remotewebdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1653508415,"post_id":72381617,"comment_id":127872714,"body_markdown":"seems like you&#39;d need remoteURL in your new RemoveWebDriver() call.  Maybe:  WebDriver driver = new RemoteWebDriver(remoteUrl, cap);","body":"seems like you&#39;d need remoteURL in your new RemoveWebDriver() call.  Maybe:  WebDriver driver = new RemoteWebDriver(remoteUrl, cap);"},{"owner":{"account_id":6364919,"reputation":352,"user_id":4939167,"accept_rate":0,"display_name":"Ashu123"},"score":1,"creation_date":1653532360,"post_id":72381617,"comment_id":127877273,"body_markdown":"No it doesn&#39;t launch the browser though!","body":"No it doesn&#39;t launch the browser though!"}],"answers":[{"tags":[],"owner":{"account_id":9129587,"reputation":1,"user_id":6791839,"display_name":"Sanjeev Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663038701,"creation_date":1662752639,"answer_id":73666837,"question_id":72381617,"body_markdown":"```lang.java\r\n WebDriver driver = new RemoteWebDriver(cap);\r\n```\r\n\r\nYou are missing the parameter **URL** in the RemoteWebDriver constructor.\r\n\r\nThe correct way to call is:\r\n\r\n```lang.java\r\n    URL remoteUrl = new URL(&quot;http://*******:4444/wd/hub&quot;);\r\n    WebDriver driver = new RemoteWebDriver(*remoteUrl* , cap);\r\n```","title":"Unable to launch Chrome Browser in Selenium Remote WebDriver","body":"<pre><code> WebDriver driver = new RemoteWebDriver(cap);\n</code></pre>\n<p>You are missing the parameter <strong>URL</strong> in the RemoteWebDriver constructor.</p>\n<p>The correct way to call is:</p>\n<pre><code>    URL remoteUrl = new URL(&quot;http://*******:4444/wd/hub&quot;);\n    WebDriver driver = new RemoteWebDriver(*remoteUrl* , cap);\n</code></pre>\n"}],"owner":{"account_id":6364919,"reputation":352,"user_id":4939167,"accept_rate":0,"display_name":"Ashu123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663038701,"creation_date":1653497808,"question_id":72381617,"body_markdown":"I am new to Selenium. I am trying to Launch Chrome using Remote web driver. Below are the environment I am using.\r\n\r\n```\r\nWindows : Windows 10 Enterprise\r\nJava Version : 9.0.4\r\nSelenium Standalone Jar : 3.5.3\r\nIDE : Eclipse\r\n```\r\n\r\nStarted hub and node servers on my local machine like below -\r\nOn one CMD session -\r\n\r\n```\r\njava -jar selenium-server-standalone-3.5.3.jar -role hub\r\n22:10:41.391 INFO - Selenium build info: version: &#39;3.5.3&#39;, revision: &#39;a88d25fe6b&#39;\r\n22:10:41.391 INFO - Launching Selenium Grid hub\r\n2022-05-25 22:10:43.322:INFO::main: Logging initialized @2152ms to org.seleniumhq.jetty9.util.log.StdErrLog\r\n22:10:43.332 INFO - Will listen on 4444\r\n2022-05-25 22:10:43.365:INFO:osjs.Server:main: jetty-9.4.5.v20170502\r\n2022-05-25 22:10:43.381:INFO:osjs.session:main: DefaultSessionIdManager workerName=node0\r\n2022-05-25 22:10:43.381:INFO:osjs.session:main: No SessionScavenger set, using defaults\r\n2022-05-25 22:10:43.382:INFO:osjs.session:main: Scavenging every 600000ms\r\n2022-05-25 22:10:43.387:INFO:osjsh.ContextHandler:main: Started o.s.j.s.ServletContextHandler@4d0d9fe7{/,null,AVAILABLE}\r\n2022-05-25 22:10:43.399:INFO:osjs.AbstractConnector:main: Started ServerConnector@1500b2f3{HTTP/1.1,[http/1.1]}{0.0.0.0:4444}\r\n2022-05-25 22:10:43.400:INFO:osjs.Server:main: Started @2230ms\r\n22:10:43.400 INFO - Nodes should register to http://********:4444/grid/register/\r\n22:10:43.401 INFO - Selenium Grid hub is up and running\r\n22:10:44.300 INFO - Registered a node http://******:5555\r\n22:10:54.537 INFO - Registered a node http://********:5555\r\n22:10:54.537 WARN - Cleaning up stale test sessions on the unregistered node http://********:5555\r\n```\r\n\r\nAnd on another CMD session i have like below -\r\n```\r\njava -jar -Dwebdriver.chrome.driver=&quot;C:\\********\\chromedriver.exe&quot; selenium-server-standalone-3.5.3.jar -role node -hub http://localhost:4444\r\n22:10:51.312 INFO - Selenium build info: version: &#39;3.5.3&#39;, revision: &#39;a88d25fe6b&#39;\r\n22:10:51.313 INFO - Launching a Selenium Grid node\r\n2022-05-25 22:10:53.750:INFO::main: Logging initialized @2658ms to org.seleniumhq.jetty9.util.log.StdErrLog\r\n22:10:53.773 INFO - Driver class not found: com.opera.core.systems.OperaDriver\r\n22:10:53.783 INFO - Driver provider class org.openqa.selenium.safari.SafariDriver registration is skipped:\r\n registration capabilities Capabilities [{browserName=safari, version=, platform=MAC}] does not match the current platform WIN10\r\n22:10:53.798 INFO - Using the passthrough mode handler\r\n2022-05-25 22:10:53.811:INFO:osjs.Server:main: jetty-9.4.5.v20170502\r\n2022-05-25 22:10:53.824:WARN:osjs.SecurityHandler:main: ServletContext@o.s.j.s.ServletContextHandler@4ed5eb72{/,null,STARTING} has uncovered http methods for path: /\r\n2022-05-25 22:10:53.826:INFO:osjsh.ContextHandler:main: Started o.s.j.s.ServletContextHandler@4ed5eb72{/,null,AVAILABLE}\r\n2022-05-25 22:10:53.837:INFO:osjs.AbstractConnector:main: Started ServerConnector@e19bb76{HTTP/1.1,[http/1.1]}{0.0.0.0:5555}\r\n2022-05-25 22:10:53.837:INFO:osjs.Server:main: Started @2745ms\r\n22:10:53.837 INFO - Selenium Grid node is up and ready to register to the hub\r\n22:10:53.845 INFO - Starting auto registration thread. Will try to register every 5000 ms.\r\n22:10:53.845 INFO - Registering the node to the hub: http://localhost:4444/grid/register\r\n22:10:54.537 INFO - The node is registered to the hub and ready to use\r\n```\r\nI have the code for Chrome like below -\r\n\r\n```\r\n\r\npublic class ChromeFactory extends DriverFactory{\r\n\t\r\n\tString mcWebUrl;\r\n\r\n\tpublic ChromeFactory(String mcURL) {\r\n\t\tmcWebUrl = mcURL;\r\n\t\tinitBrowser();\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void initBrowser() {\r\n\t\ttry {\r\n\t\t\t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n\t\t\t\tcap.setBrowserName(&quot;chrome&quot;);\r\n\r\n\t\t\t\tURL remoteUrl = new URL(&quot;http://*******:4444/wd/hub&quot;);\r\n\t\t\t\tWebDriver driver = new RemoteWebDriver(cap);\r\n\t\t\t\tdriver.get(mcWebUrl);\r\n\t\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n}\r\n\r\n``` \r\n\r\nI get a below message in red and thats all the Browser do not launch -\r\n\r\n```\r\nMay 25, 2022 10:23:25 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\n```\r\n","title":"Unable to launch Chrome Browser in Selenium Remote WebDriver","body":"<p>I am new to Selenium. I am trying to Launch Chrome using Remote web driver. Below are the environment I am using.</p>\n<pre><code>Windows : Windows 10 Enterprise\nJava Version : 9.0.4\nSelenium Standalone Jar : 3.5.3\nIDE : Eclipse\n</code></pre>\n<p>Started hub and node servers on my local machine like below -\nOn one CMD session -</p>\n<pre><code>java -jar selenium-server-standalone-3.5.3.jar -role hub\n22:10:41.391 INFO - Selenium build info: version: '3.5.3', revision: 'a88d25fe6b'\n22:10:41.391 INFO - Launching Selenium Grid hub\n2022-05-25 22:10:43.322:INFO::main: Logging initialized @2152ms to org.seleniumhq.jetty9.util.log.StdErrLog\n22:10:43.332 INFO - Will listen on 4444\n2022-05-25 22:10:43.365:INFO:osjs.Server:main: jetty-9.4.5.v20170502\n2022-05-25 22:10:43.381:INFO:osjs.session:main: DefaultSessionIdManager workerName=node0\n2022-05-25 22:10:43.381:INFO:osjs.session:main: No SessionScavenger set, using defaults\n2022-05-25 22:10:43.382:INFO:osjs.session:main: Scavenging every 600000ms\n2022-05-25 22:10:43.387:INFO:osjsh.ContextHandler:main: Started o.s.j.s.ServletContextHandler@4d0d9fe7{/,null,AVAILABLE}\n2022-05-25 22:10:43.399:INFO:osjs.AbstractConnector:main: Started ServerConnector@1500b2f3{HTTP/1.1,[http/1.1]}{0.0.0.0:4444}\n2022-05-25 22:10:43.400:INFO:osjs.Server:main: Started @2230ms\n22:10:43.400 INFO - Nodes should register to http://********:4444/grid/register/\n22:10:43.401 INFO - Selenium Grid hub is up and running\n22:10:44.300 INFO - Registered a node http://******:5555\n22:10:54.537 INFO - Registered a node http://********:5555\n22:10:54.537 WARN - Cleaning up stale test sessions on the unregistered node http://********:5555\n</code></pre>\n<p>And on another CMD session i have like below -</p>\n<pre><code>java -jar -Dwebdriver.chrome.driver=&quot;C:\\********\\chromedriver.exe&quot; selenium-server-standalone-3.5.3.jar -role node -hub http://localhost:4444\n22:10:51.312 INFO - Selenium build info: version: '3.5.3', revision: 'a88d25fe6b'\n22:10:51.313 INFO - Launching a Selenium Grid node\n2022-05-25 22:10:53.750:INFO::main: Logging initialized @2658ms to org.seleniumhq.jetty9.util.log.StdErrLog\n22:10:53.773 INFO - Driver class not found: com.opera.core.systems.OperaDriver\n22:10:53.783 INFO - Driver provider class org.openqa.selenium.safari.SafariDriver registration is skipped:\n registration capabilities Capabilities [{browserName=safari, version=, platform=MAC}] does not match the current platform WIN10\n22:10:53.798 INFO - Using the passthrough mode handler\n2022-05-25 22:10:53.811:INFO:osjs.Server:main: jetty-9.4.5.v20170502\n2022-05-25 22:10:53.824:WARN:osjs.SecurityHandler:main: ServletContext@o.s.j.s.ServletContextHandler@4ed5eb72{/,null,STARTING} has uncovered http methods for path: /\n2022-05-25 22:10:53.826:INFO:osjsh.ContextHandler:main: Started o.s.j.s.ServletContextHandler@4ed5eb72{/,null,AVAILABLE}\n2022-05-25 22:10:53.837:INFO:osjs.AbstractConnector:main: Started ServerConnector@e19bb76{HTTP/1.1,[http/1.1]}{0.0.0.0:5555}\n2022-05-25 22:10:53.837:INFO:osjs.Server:main: Started @2745ms\n22:10:53.837 INFO - Selenium Grid node is up and ready to register to the hub\n22:10:53.845 INFO - Starting auto registration thread. Will try to register every 5000 ms.\n22:10:53.845 INFO - Registering the node to the hub: http://localhost:4444/grid/register\n22:10:54.537 INFO - The node is registered to the hub and ready to use\n</code></pre>\n<p>I have the code for Chrome like below -</p>\n<pre><code>\npublic class ChromeFactory extends DriverFactory{\n    \n    String mcWebUrl;\n\n    public ChromeFactory(String mcURL) {\n        mcWebUrl = mcURL;\n        initBrowser();\n    }\n    \n    @Override\n    protected void initBrowser() {\n        try {\n                DesiredCapabilities cap = new DesiredCapabilities();\n                cap.setBrowserName(&quot;chrome&quot;);\n\n                URL remoteUrl = new URL(&quot;http://*******:4444/wd/hub&quot;);\n                WebDriver driver = new RemoteWebDriver(cap);\n                driver.get(mcWebUrl);\n            } catch (MalformedURLException e) {\n            e.printStackTrace();\n}\n\n</code></pre>\n<p>I get a below message in red and thats all the Browser do not launch -</p>\n<pre><code>May 25, 2022 10:23:25 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\n</code></pre>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"score":0,"creation_date":1397739606,"post_id":23133024,"comment_id":35369176,"body_markdown":"can you share the parent of these &quot;`&lt;div&gt;`&quot;&#39;s please?","body":"can you share the parent of these &quot;<code>&lt;div&gt;</code>&quot;&#39;s please?"},{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":0,"creation_date":1397745903,"post_id":23133024,"comment_id":35373959,"body_markdown":"Order within the DOM and order shown to the user on screen, **can** be different. (Just to throw a spanner into the works ;))","body":"Order within the DOM and order shown to the user on screen, <b>can</b> be different. (Just to throw a spanner into the works ;))"},{"owner":{"account_id":4087108,"reputation":491,"user_id":3356141,"accept_rate":88,"display_name":"user3356141"},"score":0,"creation_date":1397803705,"post_id":23133024,"comment_id":35396709,"body_markdown":"@sircapsalot: I recon you mean the tags that tie all the &lt;divs&gt; together? I edited my first post","body":"@sircapsalot: I recon you mean the tags that tie all the &lt;divs&gt; together? I edited my first post"}],"answers":[{"tags":[],"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1397739732,"creation_date":1397739732,"answer_id":23133898,"question_id":23133024,"body_markdown":"You sure can.  Here&#39;s some pseudo-code.\r\n\r\n    assertTrue(\r\n        driver.findElement(\r\n            By.cssSelector(&quot;div#parent &gt; div:nth-child(1) &gt; textarea#field3&quot;)\r\n        ).isDisplayed()\r\n    );\r\n\r\nThe logic here pretty much says:\r\n\r\n&gt; Look for the first `div` that is under `&lt;div id=&quot;parent&quot;&gt;`, that is immediately followed by `&lt;textarea id=&quot;field3&quot;&gt;`.   If this assertion fails, that means it&#39;s out of order, and the third field is NOT first.\r\n\r\n*(note, that div#parent is obviously subject to change.  You need to change it to the parent of these divs, and you may also need to fiddle about with the `:nth-child(n)` depending on the order)*","title":"Can I test on the order of elements using Selenium Webdriver?","body":"<p>You sure can.  Here's some pseudo-code.</p>\n\n<pre><code>assertTrue(\n    driver.findElement(\n        By.cssSelector(\"div#parent &gt; div:nth-child(1) &gt; textarea#field3\")\n    ).isDisplayed()\n);\n</code></pre>\n\n<p>The logic here pretty much says:</p>\n\n<blockquote>\n  <p>Look for the first <code>div</code> that is under <code>&lt;div id=\"parent\"&gt;</code>, that is immediately followed by <code>&lt;textarea id=\"field3\"&gt;</code>.   If this assertion fails, that means it's out of order, and the third field is NOT first.</p>\n</blockquote>\n\n<p><em>(note, that div#parent is obviously subject to change.  You need to change it to the parent of these divs, and you may also need to fiddle about with the <code>:nth-child(n)</code> depending on the order)</em></p>\n"},{"tags":[],"owner":{"account_id":17478578,"reputation":13,"user_id":12672909,"display_name":"user12672909"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663038435,"creation_date":1662745378,"answer_id":73665784,"question_id":23133024,"body_markdown":"```lang.java\r\npublic String ValidateOrderOfResRentFilters(ExtentTest test) throws InterruptedException {\r\nString xpath_FilterOrder=&quot;//div[@id=&#39;abcd&#39;]&quot;;\r\n\r\nList&lt;WebElement&gt; element = driver.findElements(By.xpath(xpath_FilterOrder));\r\nList&lt;String&gt; filters = new ArrayList&lt;&gt;();\r\n\t\r\nfor(WebElement e: element){\r\n\t  String str = e.getText();\r\n\t  System.out.println(&quot;The items are  &quot; + str);\r\n\t  filters.add(str);\r\n\t}\r\n\tSystem.out.println(ret);\r\n\treturn filters.toString();\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Can I test on the order of elements using Selenium Webdriver?","body":"<pre><code>public String ValidateOrderOfResRentFilters(ExtentTest test) throws InterruptedException {\nString xpath_FilterOrder=&quot;//div[@id='abcd']&quot;;\n\nList&lt;WebElement&gt; element = driver.findElements(By.xpath(xpath_FilterOrder));\nList&lt;String&gt; filters = new ArrayList&lt;&gt;();\n    \nfor(WebElement e: element){\n      String str = e.getText();\n      System.out.println(&quot;The items are  &quot; + str);\n      filters.add(str);\n    }\n    System.out.println(ret);\n    return filters.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":4087108,"reputation":491,"user_id":3356141,"accept_rate":88,"display_name":"user3356141"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6829,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23133898,"answer_count":2,"score":2,"last_activity_date":1663038435,"creation_date":1397737471,"question_id":23133024,"body_markdown":"There is a form in which there are 3 fields with 3 different ID&#39;s: \r\n\r\n    &lt;fieldset&gt;\r\n    &lt;div&gt;&lt;label for=&quot;field1&quot;&gt;\r\n     FIELD1\r\n     &lt;/label&gt;\r\n     &lt;textarea id=&quot;field1&quot; name=&quot;field1&quot; rows=&quot;10&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;\r\n\r\n\r\n     &lt;div&gt;&lt;label for=&quot;field2&quot;&gt;\r\n      FIELD2\r\n    &lt;/label&gt;&lt;textarea id=&quot;field2&quot; name=&quot;field2&quot; rows=&quot;10&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;\r\n\r\n\r\n    &lt;div&gt;&lt;label for=&quot;field3&quot;&gt;\r\n      FIELD3\r\n    &lt;/label&gt;&lt;textarea id=&quot;field3&quot; name=&quot;field3&quot; rows=&quot;10&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;\r\n\r\n    &lt;/fieldset&gt;\r\n\r\n\r\nNow, there is a Story in our scrum process which places FIELD3 at the top of the page, above FIELD1, so that the new order of fields will be 3, 1, 2. \r\n\r\n\r\nMy question is: Is there a way to verify/assert the order? If yes, how do I test this automatically using Selenium Webdriver (java)?\r\n\r\n\r\n\r\n","title":"Can I test on the order of elements using Selenium Webdriver?","body":"<p>There is a form in which there are 3 fields with 3 different ID's: </p>\n\n<pre><code>&lt;fieldset&gt;\n&lt;div&gt;&lt;label for=\"field1\"&gt;\n FIELD1\n &lt;/label&gt;\n &lt;textarea id=\"field1\" name=\"field1\" rows=\"10\" cols=\"40\"&gt;&lt;/textarea&gt;&lt;/div&gt;\n\n\n &lt;div&gt;&lt;label for=\"field2\"&gt;\n  FIELD2\n&lt;/label&gt;&lt;textarea id=\"field2\" name=\"field2\" rows=\"10\" cols=\"40\"&gt;&lt;/textarea&gt;&lt;/div&gt;\n\n\n&lt;div&gt;&lt;label for=\"field3\"&gt;\n  FIELD3\n&lt;/label&gt;&lt;textarea id=\"field3\" name=\"field3\" rows=\"10\" cols=\"40\"&gt;&lt;/textarea&gt;&lt;/div&gt;\n\n&lt;/fieldset&gt;\n</code></pre>\n\n<p>Now, there is a Story in our scrum process which places FIELD3 at the top of the page, above FIELD1, so that the new order of fields will be 3, 1, 2. </p>\n\n<p>My question is: Is there a way to verify/assert the order? If yes, how do I test this automatically using Selenium Webdriver (java)?</p>\n"},{"tags":["java","android","viewpagerindicator"],"comments":[{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1663036278,"post_id":73696891,"comment_id":130139071,"body_markdown":"That is a feature of this library that you are using. If  you  don&#39;t need it you can turn if off if that control is available in this or use another dependency","body":"That is a feature of this library that you are using. If  you  don&#39;t need it you can turn if off if that control is available in this or use another dependency"}],"owner":{"account_id":26093857,"reputation":19,"user_id":19790254,"display_name":"peterKay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1663038009,"creation_date":1663035289,"question_id":73696891,"body_markdown":"I am used ViewPager2 and CircleIndicator 3 for my image slider but the size of the unselected and selected icons isn&#39;t equal.\r\n\r\n[image description][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OEI5X.png\r\n\r\nThis is my code:\r\n\r\n```\r\n&lt;me.relex.circleindicator.CircleIndicator3\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        app:ci_drawable=&quot;@drawable/ic_indicator&quot;\r\n        app:ci_drawable_unselected=&quot;@drawable/ic_indicator_unselected&quot;\r\n        app:ci_height=&quot;8dp&quot;\r\n        app:ci_width=&quot;8dp&quot;\r\n        app:ci_margin=&quot;8dp&quot;/&gt;\r\n```\r\nAnyone knows how to set size (width and height) for the indicator icon? Any help will be appreciated. Thanks!","title":"How to set the size of the indicator icon in Indicator3?","body":"<p>I am used ViewPager2 and CircleIndicator 3 for my image slider but the size of the unselected and selected icons isn't equal.</p>\n<p><a href=\"https://i.stack.imgur.com/OEI5X.png\" rel=\"nofollow noreferrer\">image description</a></p>\n<p>This is my code:</p>\n<pre><code>&lt;me.relex.circleindicator.CircleIndicator3\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        app:ci_drawable=&quot;@drawable/ic_indicator&quot;\n        app:ci_drawable_unselected=&quot;@drawable/ic_indicator_unselected&quot;\n        app:ci_height=&quot;8dp&quot;\n        app:ci_width=&quot;8dp&quot;\n        app:ci_margin=&quot;8dp&quot;/&gt;\n</code></pre>\n<p>Anyone knows how to set size (width and height) for the indicator icon? Any help will be appreciated. Thanks!</p>\n"},{"tags":["java","amazon-s3","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":3,"creation_date":1658462152,"post_id":73074763,"comment_id":129061999,"body_markdown":"PDF is either empty or not a PDF at all. Please share the code you&#39;re using and the actual stack trace, and the PDFBox version you&#39;re using. PDFs start with &quot;%PDF&quot;.","body":"PDF is either empty or not a PDF at all. Please share the code you&#39;re using and the actual stack trace, and the PDFBox version you&#39;re using. PDFs start with &quot;%PDF&quot;."},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1658463176,"post_id":73074763,"comment_id":129062144,"body_markdown":"@TilmanHausherr added stack trace","body":"@TilmanHausherr added stack trace"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1658485924,"post_id":73074763,"comment_id":129068740,"body_markdown":"Definitively a header problem. Try saving `pFileS3Obj.getS3ObjectInputStream()` into a file to see what&#39;s in there with `Files.write(Paths.get(&quot;/tmp/yourfile.pdf&quot;), IOUtils.toByteArray(pFileS3Obj.getS3ObjectInputStream()));`  (closing of input streams ommitted)","body":"Definitively a header problem. Try saving <code>pFileS3Obj.getS3ObjectInputStream()</code> into a file to see what&#39;s in there with <code>Files.write(Paths.get(&quot;&#47;tmp&#47;yourfile.pdf&quot;), IOUtils.toByteArray(pFileS3Obj.getS3ObjectInputStream()));</code>  (closing of input streams ommitted)"},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1658712806,"post_id":73074763,"comment_id":129111524,"body_markdown":"@TilmanHausherr its valid pdf file. when i am adding all input stream responses in one pdfs it works fine , but giving error when individually adding response into file. updated question","body":"@TilmanHausherr its valid pdf file. when i am adding all input stream responses in one pdfs it works fine , but giving error when individually adding response into file. updated question"},{"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"score":0,"creation_date":1658717509,"post_id":73074763,"comment_id":129112182,"body_markdown":"My requirement is to Merge one file at a time and capture any failed file into response object , with Second option i will not be able to capture any failed file","body":"My requirement is to Merge one file at a time and capture any failed file into response object , with Second option i will not be able to capture any failed file"}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663037072,"creation_date":1658715404,"answer_id":73103450,"question_id":73074763,"body_markdown":"This is because `PDFMergerUtility` keeps a list of sources and does not reset that after `mergeDocuments()` is done, so what you&#39;re doing in the second code segment is to re-run the merging on the same list of input streams several times, despite that the first input stream has already been consumed.\r\n\r\n&gt; My requirement is to Merge one file at a time and capture any failed\r\n&gt; file into response object , with Second option i will not be able to\r\n&gt; capture any failed file\r\n\r\nSo if you want to merge one file at a time, then it would be better to use the `appendDocument()` method instead of the `mergeDocuments()` method (and start with am empty PDDocument, and load the current PDDocument from s3 before the call).\r\n\r\nHere&#39;s a code attempt (I can&#39;t test it because I don&#39;t use s3; there&#39;s also the risk that `source` is closed too early if any resources are used in the destination). \r\n\r\n    PDDocument destination = new PDDocument();\r\n    for (PS3ObjectStream pFileS3Obj : PS3ObjectStream)\r\n    {\r\n        PDFMergerUtility pdfMerger = new PDFMergerUtility();\r\n        PDDocument source;\r\n        try (InputStream is = pFileS3Obj.getS3ObjectInputStream())\r\n        {\r\n            source = PDDocument.load(is);\r\n        }\r\n        catch (IOException)\r\n        {\r\n            // do something\r\n        }\r\n        try\r\n        {\r\n            appendDocument(destination, source);\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            // do something\r\n        }\r\n        finally\r\n        {\r\n            source.close();\r\n        }\r\n    }\r\n    destination.save(...);\r\n    destination.close();","title":"End of file exception - Merge pdf using pdfbox","body":"<p>This is because <code>PDFMergerUtility</code> keeps a list of sources and does not reset that after <code>mergeDocuments()</code> is done, so what you're doing in the second code segment is to re-run the merging on the same list of input streams several times, despite that the first input stream has already been consumed.</p>\n<blockquote>\n<p>My requirement is to Merge one file at a time and capture any failed\nfile into response object , with Second option i will not be able to\ncapture any failed file</p>\n</blockquote>\n<p>So if you want to merge one file at a time, then it would be better to use the <code>appendDocument()</code> method instead of the <code>mergeDocuments()</code> method (and start with am empty PDDocument, and load the current PDDocument from s3 before the call).</p>\n<p>Here's a code attempt (I can't test it because I don't use s3; there's also the risk that <code>source</code> is closed too early if any resources are used in the destination).</p>\n<pre><code>PDDocument destination = new PDDocument();\nfor (PS3ObjectStream pFileS3Obj : PS3ObjectStream)\n{\n    PDFMergerUtility pdfMerger = new PDFMergerUtility();\n    PDDocument source;\n    try (InputStream is = pFileS3Obj.getS3ObjectInputStream())\n    {\n        source = PDDocument.load(is);\n    }\n    catch (IOException)\n    {\n        // do something\n    }\n    try\n    {\n        appendDocument(destination, source);\n    }\n    catch (Exception e)\n    {\n        // do something\n    }\n    finally\n    {\n        source.close();\n    }\n}\ndestination.save(...);\ndestination.close();\n</code></pre>\n"}],"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73103450,"answer_count":1,"score":0,"last_activity_date":1663037072,"creation_date":1658460034,"question_id":73074763,"body_markdown":"I have pdf files on S3 and would like to merge into one pdf.\r\n\r\nI am using array of Inputstream reading file from s3 and then doing merge using pdf merge utility.\r\nBelow code works fine while adding all inputstream at once ( after for loop ) but doesn&#39;t work for individual inputstream.  Missing something on IO operation on inputstream like closing stream :(  \r\n\r\n         for (PS3ObjectStream pFileS3Obj: PS3ObjectStream ) {\r\n            \t\t\ttry {\r\n            \t\t\t\tpdfMerger.addSource(pFileS3Obj.getS3ObjectInputStream());\r\n            \t\t\t\t\r\n            \t\t\t}catch(Exception e) {\r\n            \t\t\t\te.printStackTrace();\r\n            \t\t\t}\r\n    pdfMerger.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\n    }\r\n    \r\n\r\nNot working:\r\n\r\n    for (PS3ObjectStream pFileS3Obj: PS3ObjectStream ) {\r\n        \t\t\ttry {\r\n        \t\t\t\tpdfMerger.addSource(pFileS3Obj.getS3ObjectInputStream());\r\n        \t\t\t\tpdfMerger.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\n        \t\t\t}catch(Exception e) {\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t}\r\n    }\r\n\r\n\r\n\r\nI am getting error : End-of-file , expected line exception.\r\n\r\nAny pointers on how should I look into this issue.\r\n\r\n    java.io.IOException: Error: End-of-File, expected line\r\n\tat org.apache.pdfbox.pdfparser.BaseParser.readLine(BaseParser.java:1107)\r\n\tat org.apache.pdfbox.pdfparser.COSParser.parseHeader(COSParser.java:2650)\r\n\tat org.apache.pdfbox.pdfparser.COSParser.parsePDFHeader(COSParser.java:2633)\r\n\tat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:219)\r\n\tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1230)\r\n\tat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1148)\r\n\tat org.apache.pdfbox.multipdf.PDFMergerUtility.legacyMergeDocuments(PDFMergerUtility.java:455)\r\n\tat org.apache.pdfbox.multipdf.PDFMergerUtility.mergeDocuments(PDFMergerUtility.java:346)\r\n\tat com.djcs.pslintegration.pdfutility.mergeService.MergePdfFileService.mergePDfFiles(MergePdfFileService.java:92)\r\n\tat com.djcs.pslintegration.pdfutility.mergeService.MergePdfFileService.combinePdfFiles(MergePdfFileService.java:47)\r\n\tat com.djcs.pslintegration.pdfutility.controller.PDFUtilityController.combinePdfFiles(PDFUtilityController.java:98)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\r\n","title":"End of file exception - Merge pdf using pdfbox","body":"<p>I have pdf files on S3 and would like to merge into one pdf.</p>\n<p>I am using array of Inputstream reading file from s3 and then doing merge using pdf merge utility.\nBelow code works fine while adding all inputstream at once ( after for loop ) but doesn't work for individual inputstream.  Missing something on IO operation on inputstream like closing stream :(</p>\n<pre><code>     for (PS3ObjectStream pFileS3Obj: PS3ObjectStream ) {\n                    try {\n                        pdfMerger.addSource(pFileS3Obj.getS3ObjectInputStream());\n                        \n                    }catch(Exception e) {\n                        e.printStackTrace();\n                    }\npdfMerger.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\n}\n</code></pre>\n<p>Not working:</p>\n<pre><code>for (PS3ObjectStream pFileS3Obj: PS3ObjectStream ) {\n                try {\n                    pdfMerger.addSource(pFileS3Obj.getS3ObjectInputStream());\n                    pdfMerger.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\n                }catch(Exception e) {\n                    e.printStackTrace();\n                }\n}\n</code></pre>\n<p>I am getting error : End-of-file , expected line exception.</p>\n<p>Any pointers on how should I look into this issue.</p>\n<pre><code>java.io.IOException: Error: End-of-File, expected line\nat org.apache.pdfbox.pdfparser.BaseParser.readLine(BaseParser.java:1107)\nat org.apache.pdfbox.pdfparser.COSParser.parseHeader(COSParser.java:2650)\nat org.apache.pdfbox.pdfparser.COSParser.parsePDFHeader(COSParser.java:2633)\nat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:219)\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1230)\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1148)\nat org.apache.pdfbox.multipdf.PDFMergerUtility.legacyMergeDocuments(PDFMergerUtility.java:455)\nat org.apache.pdfbox.multipdf.PDFMergerUtility.mergeDocuments(PDFMergerUtility.java:346)\nat com.djcs.pslintegration.pdfutility.mergeService.MergePdfFileService.mergePDfFiles(MergePdfFileService.java:92)\nat com.djcs.pslintegration.pdfutility.mergeService.MergePdfFileService.combinePdfFiles(MergePdfFileService.java:47)\nat com.djcs.pslintegration.pdfutility.controller.PDFUtilityController.combinePdfFiles(PDFUtilityController.java:98)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n</code></pre>\n"},{"tags":["java","algorithm","geometry"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1663014175,"post_id":73694832,"comment_id":130135366,"body_markdown":"the loop limits are not *symmetric*  start with `-r`  end with `2*r` ! A total of `3r`, should be `2r`. (the `for` loop condition is NOT based on number of iterations)","body":"the loop limits are not <i>symmetric</i>  start with <code>-r</code>  end with <code>2*r</code> ! A total of <code>3r</code>, should be <code>2r</code>. (the <code>for</code> loop condition is NOT based on number of iterations)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1663014304,"post_id":73694832,"comment_id":130135389,"body_markdown":"In both loops, multiplying by `2` is unnecessary. Change the conditions to `y &lt;= r` and `x &lt;= r` to avoid redundant iterations.","body":"In both loops, multiplying by <code>2</code> is unnecessary. Change the conditions to <code>y &lt;= r</code> and <code>x &lt;= r</code> to avoid redundant iterations."},{"owner":{"account_id":20418118,"reputation":23,"user_id":14979773,"display_name":"Asher_"},"score":0,"creation_date":1663015245,"post_id":73694832,"comment_id":130135640,"body_markdown":"Oh ok, i understand now, i didn&#39;t see that error, thanks","body":"Oh ok, i understand now, i didn&#39;t see that error, thanks"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663014058,"creation_date":1663014058,"answer_id":73694867,"question_id":73694832,"body_markdown":"Use `r` as the upper bound for both loops, not `2 * r`.","title":"Getting extra spaces in the end of a program that outputs a circle","body":"<p>Use <code>r</code> as the upper bound for both loops, not <code>2 * r</code>.</p>\n"}],"owner":{"account_id":20418118,"reputation":23,"user_id":14979773,"display_name":"Asher_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73694867,"answer_count":1,"score":1,"last_activity_date":1663033980,"creation_date":1663013838,"question_id":73694832,"body_markdown":"I was coding a program to display a circle in my terminal, and it works, but at the same time it doesn&#39;t because, as it outputs the circle it also outputs some extra lines in the end, which is using a lot of my screen, making hard to see the circle sometimes.\r\nHere is the code:\r\n\r\n    public static void main(String[] args){\r\n        Draw(10);\r\n    }\r\n\r\n    private static void Draw(double r){ // r stands for radius\r\n        for (double y = -r; y &lt;= 2 * r; y++) {\r\n            for (double x = -r; x &lt;= 2 * r; x++) {\r\n                if (isInCircle(x, y, r)) {\r\n                    System.out.print(&quot;+\\s&quot;);\r\n                } else {\r\n                    System.out.print(&quot; \\s&quot;);\r\n                }\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n    static boolean isInCircle(double x, double y, double r) {\r\n        return (Math.pow(x, 2)+Math.pow(y, 2)) &lt;= r*r;\r\n    }\r\n\r\nAnd this is my output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, it outputs extra lines making hard to see when the terminal window is smaller.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BqQS0.png","title":"Getting extra spaces in the end of a program that outputs a circle","body":"<p>I was coding a program to display a circle in my terminal, and it works, but at the same time it doesn't because, as it outputs the circle it also outputs some extra lines in the end, which is using a lot of my screen, making hard to see the circle sometimes.\nHere is the code:</p>\n<pre><code>public static void main(String[] args){\n    Draw(10);\n}\n\nprivate static void Draw(double r){ // r stands for radius\n    for (double y = -r; y &lt;= 2 * r; y++) {\n        for (double x = -r; x &lt;= 2 * r; x++) {\n            if (isInCircle(x, y, r)) {\n                System.out.print(&quot;+\\s&quot;);\n            } else {\n                System.out.print(&quot; \\s&quot;);\n            }\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n}\n\nstatic boolean isInCircle(double x, double y, double r) {\n    return (Math.pow(x, 2)+Math.pow(y, 2)) &lt;= r*r;\n}\n</code></pre>\n<p>And this is my output:</p>\n<p><a href=\"https://i.stack.imgur.com/BqQS0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BqQS0.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, it outputs extra lines making hard to see when the terminal window is smaller.</p>\n"},{"tags":["java","html","jsp","servlets"],"answers":[{"tags":[],"owner":{"account_id":22596407,"reputation":97,"user_id":16778637,"display_name":"Lorna from Perth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663033400,"creation_date":1663033400,"answer_id":73696753,"question_id":73685955,"body_markdown":"I found the answer at https://stackoverflow.com/questions/71180424/intellij-servlet-errors-unable-to-open-servlet\r\n\r\nI was using tomcat version 8.5.7.  It turns out that the latest version of intellijIDEA is creating jakarta. packages but the tomcat I had installed was looking for javax. packages.  I updated to tomcat 10 and all is now working.  Phew!!","title":"Why can&#39;t my Tomcat server find the java Servlet in the html form","body":"<p>I found the answer at <a href=\"https://stackoverflow.com/questions/71180424/intellij-servlet-errors-unable-to-open-servlet\">IntelliJ servlet errors, unable to open servlet</a></p>\n<p>I was using tomcat version 8.5.7.  It turns out that the latest version of intellijIDEA is creating jakarta. packages but the tomcat I had installed was looking for javax. packages.  I updated to tomcat 10 and all is now working.  Phew!!</p>\n"}],"owner":{"account_id":22596407,"reputation":97,"user_id":16778637,"display_name":"Lorna from Perth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663060455,"answer_count":1,"score":0,"last_activity_date":1663033400,"creation_date":1662968589,"question_id":73685955,"body_markdown":"I am brand new to learning how to create java web applications using IntelliJIDEA.  I followed the instructions for my first demo project exactly.  But my server is giving a 404 Not found error with this message: The requested resource [/DEMO220912B_war_exploded/CalculatorServlet] is not available.  I have followed the instructions three times and keep getting the same error.  I am using Tomcat 8.5.70, which I already had in the XAMPP folder and have set this in the Run/Debug Configurations.  The URL in there is http://localhost:8080/DEMO220912b_war_exploded/.  I am using intelliJIDEA 2022.2.1 (Ultimate Edition) free trial version built on August 16, 2022. This is a very new version and I wonder if there&#39;s a bug in it.  Is there any way I can test this outside of intelliJIDEA to rule out problems with that software?  Or can anyone see something I am doing wrong?  I&#39;m tearing my hair out.  The code is so simple.  \r\n\r\nHere is the Servlet code:\r\n```\r\npackage com.example.demo220912b;\r\n\r\nimport java.io.*;\r\n\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\n@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\r\npublic class HelloServlet extends HttpServlet {\r\n    private String message;\r\n\r\n    public void init() {\r\n        message = &quot;Hello World!&quot;;\r\n    }\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n\r\n        // Hello\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    }\r\n\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\nThe CalculatorServlet\r\n```\r\npackage com.example.demo220912b;\r\n\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;\r\n\r\nimport java.io.IOException;\r\n\r\n@WebServlet(name = &quot;CalculatorServlet&quot;, value = &quot;/CalculatorServlet&quot;)\r\npublic class CalculatorServlet extends HttpServlet {\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        int a = Integer.parseInt(request.getParameter(&quot;a&quot;));\r\n        int b = Integer.parseInt(request.getParameter(&quot;b&quot;));\r\n        int sum = (a + b);\r\n\r\n        response.getWriter().println(&quot;sum of &quot; + a + &quot; and &quot; + b +&quot; = &quot; + sum);\r\n    }\r\n}\r\n```\r\nThe JSP file\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;JSP - Hello World&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;&lt;%= &quot;Hello World!&quot; %&gt;\r\n&lt;/h1&gt;\r\n\r\n&lt;form action=&quot;CalculatorServlet&quot; method=&quot;post&quot;&gt;\r\n    &lt;p&gt;\r\n        Input number A: &lt;input type=&quot;number&quot; name=&quot;a&quot; required /&gt;\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        Input number B: &lt;input type=&quot;number&quot; name=&quot;b&quot; required /&gt;\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;RUN&quot; /&gt;\r\n    &lt;/p&gt;\r\n\r\n&lt;/form&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Why can&#39;t my Tomcat server find the java Servlet in the html form","body":"<p>I am brand new to learning how to create java web applications using IntelliJIDEA.  I followed the instructions for my first demo project exactly.  But my server is giving a 404 Not found error with this message: The requested resource [/DEMO220912B_war_exploded/CalculatorServlet] is not available.  I have followed the instructions three times and keep getting the same error.  I am using Tomcat 8.5.70, which I already had in the XAMPP folder and have set this in the Run/Debug Configurations.  The URL in there is http://localhost:8080/DEMO220912b_war_exploded/.  I am using intelliJIDEA 2022.2.1 (Ultimate Edition) free trial version built on August 16, 2022. This is a very new version and I wonder if there's a bug in it.  Is there any way I can test this outside of intelliJIDEA to rule out problems with that software?  Or can anyone see something I am doing wrong?  I'm tearing my hair out.  The code is so simple.</p>\n<p>Here is the Servlet code:</p>\n<pre><code>package com.example.demo220912b;\n\nimport java.io.*;\n\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;\n\n@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\npublic class HelloServlet extends HttpServlet {\n    private String message;\n\n    public void init() {\n        message = &quot;Hello World!&quot;;\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n\n        // Hello\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>The CalculatorServlet</p>\n<pre><code>package com.example.demo220912b;\n\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;\n\nimport java.io.IOException;\n\n@WebServlet(name = &quot;CalculatorServlet&quot;, value = &quot;/CalculatorServlet&quot;)\npublic class CalculatorServlet extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        int a = Integer.parseInt(request.getParameter(&quot;a&quot;));\n        int b = Integer.parseInt(request.getParameter(&quot;b&quot;));\n        int sum = (a + b);\n\n        response.getWriter().println(&quot;sum of &quot; + a + &quot; and &quot; + b +&quot; = &quot; + sum);\n    }\n}\n</code></pre>\n<p>The JSP file</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;JSP - Hello World&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;&lt;%= &quot;Hello World!&quot; %&gt;\n&lt;/h1&gt;\n\n&lt;form action=&quot;CalculatorServlet&quot; method=&quot;post&quot;&gt;\n    &lt;p&gt;\n        Input number A: &lt;input type=&quot;number&quot; name=&quot;a&quot; required /&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        Input number B: &lt;input type=&quot;number&quot; name=&quot;b&quot; required /&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;RUN&quot; /&gt;\n    &lt;/p&gt;\n\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663064911,"post_id":73696600,"comment_id":130146124,"body_markdown":"You have so far only described what you are not allowed to do. But what are you supposed to do? What is your assigned task?","body":"You have so far only described what you are not allowed to do. But what are you supposed to do? What is your assigned task?"}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663033188,"creation_date":1663033188,"answer_id":73696735,"question_id":73696600,"body_markdown":"The answer is to add a throws clause with the checked exception. JUnit expects exceptions to be thrown from tests, it catches the exception, saves the stacktrace, and marks the method as failed. \r\n\r\nThis isn&#39;t something to work around.  If you&#39;re not allowed to change it, your instructor should. Show your instructor that the test doesn&#39;t compile.","title":"JUnit checked exception test","body":"<p>The answer is to add a throws clause with the checked exception. JUnit expects exceptions to be thrown from tests, it catches the exception, saves the stacktrace, and marks the method as failed.</p>\n<p>This isn't something to work around.  If you're not allowed to change it, your instructor should. Show your instructor that the test doesn't compile.</p>\n"}],"owner":{"account_id":9725738,"reputation":3,"user_id":7212768,"display_name":"D. Hoven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663033188,"creation_date":1663031250,"question_id":73696600,"body_markdown":"I have the following test:\r\n\r\n    @Test(expected = ParseException.class)\r\n    public void parserTest4() {\r\n        MeticParser.run(&quot;send+me-more=money&quot;);\r\n    }\r\n\r\nNote that this test **must not** be changed.(Its from a test class given from my University)\r\nMy problem is that the `ParseException` is a checked exception so it must eiter be surrounded with `try/catch` or a `throws` statement must be added to the methode head. \r\n\r\nUsing `try/catch` JUnit wont see a `ParseException ` being thrown. \r\n\r\nUsing the `throws` signatur will result in me changing the test class (not allowed) since it must be given upwards until its being handeld. \r\n\r\nIs there a workaround of some sort?\r\n","title":"JUnit checked exception test","body":"<p>I have the following test:</p>\n<pre><code>@Test(expected = ParseException.class)\npublic void parserTest4() {\n    MeticParser.run(&quot;send+me-more=money&quot;);\n}\n</code></pre>\n<p>Note that this test <strong>must not</strong> be changed.(Its from a test class given from my University)\nMy problem is that the <code>ParseException</code> is a checked exception so it must eiter be surrounded with <code>try/catch</code> or a <code>throws</code> statement must be added to the methode head.</p>\n<p>Using <code>try/catch</code> JUnit wont see a <code>ParseException </code> being thrown.</p>\n<p>Using the <code>throws</code> signatur will result in me changing the test class (not allowed) since it must be given upwards until its being handeld.</p>\n<p>Is there a workaround of some sort?</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1662423487,"post_id":73615483,"comment_id":129997094,"body_markdown":"It might help the reader if you try to mention your actual question earlier in the text body, and make it a little more clear in the title. It helps frame the mind while reading. Other than that, nice question!","body":"It might help the reader if you try to mention your actual question earlier in the text body, and make it a little more clear in the title. It helps frame the mind while reading. Other than that, nice question!"},{"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"score":0,"creation_date":1662738278,"post_id":73615483,"comment_id":130083085,"body_markdown":"Seems like something is missing from your example. You read from a file, which gets you an InputStream, then you&#39;re calling `${body.get...` on it. But there&#39;s no `get()` on an InputStream, or String if it&#39;s being type converted.","body":"Seems like something is missing from your example. You read from a file, which gets you an InputStream, then you&#39;re calling <code>${body.get...</code> on it. But there&#39;s no <code>get()</code> on an InputStream, or String if it&#39;s being type converted."},{"owner":{"account_id":1469806,"reputation":39,"user_id":1381647,"display_name":"Frank Jackson"},"score":0,"creation_date":1662935175,"post_id":73615483,"comment_id":130115027,"body_markdown":"Sorry @JeremyRoss - The body is being converted to a string - the code wasnt intended to be functional - just illustrative of the change in behaviour.  I am doing a `.convertBodyTo(String.class)` in the actual version.","body":"Sorry @JeremyRoss - The body is being converted to a string - the code wasnt intended to be functional - just illustrative of the change in behaviour.  I am doing a <code>.convertBodyTo(String.class)</code> in the actual version."},{"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"score":0,"creation_date":1663011698,"post_id":73615483,"comment_id":130134656,"body_markdown":"I&#39;m still missing something here. Need to see how you&#39;re actually splitting.","body":"I&#39;m still missing something here. Need to see how you&#39;re actually splitting."},{"owner":{"account_id":1469806,"reputation":39,"user_id":1381647,"display_name":"Frank Jackson"},"score":0,"creation_date":1663033269,"post_id":73615483,"comment_id":130138702,"body_markdown":"We may have had some luck with using an AggregationStrategy on the split to assemble the object from its elements. I will post some code once we&#39;ve ironed it out.","body":"We may have had some luck with using an AggregationStrategy on the split to assemble the object from its elements. I will post some code once we&#39;ve ironed it out."}],"owner":{"account_id":1469806,"reputation":39,"user_id":1381647,"display_name":"Frank Jackson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1663033117,"creation_date":1662421369,"question_id":73615483,"body_markdown":"With Apache Camel (spring-boot) there was a change in how split handled non-array JSON objects around version 3.13. \r\n\r\nIs there any way to &quot;force&quot; the 3.12 behaviour of split? (or get a similar result?) \r\n\r\nWhen splitting the following JSON document:\r\n```json\r\n{\r\n  &quot;listOfthings&quot;: [\r\n    {\r\n      &quot;thingA&quot;: { &quot;Afield1&quot;: &quot;Avalue1&quot;,&quot;Afield2&quot;: &quot;Avalue2&quot;},\r\n      &quot;thingB&quot;: { &quot;Bfield1&quot;: &quot;Bvalue1&quot;,&quot;Bfield2&quot;: &quot;Bvalue2&quot;}\r\n    },\r\n    {\r\n      &quot;thingA&quot;: {&quot;Afield1&quot;: &quot;Avalue3&quot;,&quot;Afield2&quot;: &quot;Avalue4&quot;},\r\n      &quot;thingB&quot;: {&quot;Bfield1&quot;: &quot;Bvalue3&quot;,&quot;Bfield2&quot;: &quot;Bvalue4&quot;}\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nIn camel version 3.12, the following code: \r\n```java\r\nfrom(&quot;file://read/some/file.json&quot;)\r\n    .convertBodyTo(String.class)\r\n    .unmarshal().json()\r\n    .split(simple(&quot;${body.get(&#39;listOfthings&#39;)}&quot;))\r\n   \t  .split(simple(&quot;${body.get(&#39;thingA&#39;)}&quot;))\r\n\t  .bean(&quot;processBodyBean&quot;);\r\n```\r\n\r\nThe body that would go to processBodyBean was \r\n\r\n```\r\n{ Afield1: &quot;Avalue1&quot;, Afield2: &quot;Avalue2&quot; } \r\n{ Afield1: &quot;Avalue3&quot;, Afield2: &quot;Avalue4&quot; }\r\n```\r\n\r\nin versions **after 3.12** the body contains the field level key-value pair.\r\n\r\n```\r\nAfield1: &quot;Avalue1&quot;\r\nAfield2: &quot;Avalue2&quot;\r\nAfield1: &quot;Avalue3&quot;\r\nAfield2: &quot;Avalue4&quot;\r\n```\r\n\r\nThe &quot;new&quot; behaviour feels logically more accurate - so i&#39;m sure this is not a &quot;bug&quot;. \r\n\r\nWe started with a new project using camel and it was deployed around the time 3.12 was released. We unfortunately wrote it based on the 3.12 behaviour. It&#39;s not a major re-write, but it is a significant change to a production system - which has run flawlessly for months. \r\n\r\nWe are just considering our options before we re-write.","title":"How to return non-array JSON object from Apache Camel split?","body":"<p>With Apache Camel (spring-boot) there was a change in how split handled non-array JSON objects around version 3.13.</p>\n<p>Is there any way to &quot;force&quot; the 3.12 behaviour of split? (or get a similar result?)</p>\n<p>When splitting the following JSON document:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;listOfthings&quot;: [\n    {\n      &quot;thingA&quot;: { &quot;Afield1&quot;: &quot;Avalue1&quot;,&quot;Afield2&quot;: &quot;Avalue2&quot;},\n      &quot;thingB&quot;: { &quot;Bfield1&quot;: &quot;Bvalue1&quot;,&quot;Bfield2&quot;: &quot;Bvalue2&quot;}\n    },\n    {\n      &quot;thingA&quot;: {&quot;Afield1&quot;: &quot;Avalue3&quot;,&quot;Afield2&quot;: &quot;Avalue4&quot;},\n      &quot;thingB&quot;: {&quot;Bfield1&quot;: &quot;Bvalue3&quot;,&quot;Bfield2&quot;: &quot;Bvalue4&quot;}\n    }\n  ]\n}\n</code></pre>\n<p>In camel version 3.12, the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;file://read/some/file.json&quot;)\n    .convertBodyTo(String.class)\n    .unmarshal().json()\n    .split(simple(&quot;${body.get('listOfthings')}&quot;))\n      .split(simple(&quot;${body.get('thingA')}&quot;))\n      .bean(&quot;processBodyBean&quot;);\n</code></pre>\n<p>The body that would go to processBodyBean was</p>\n<pre><code>{ Afield1: &quot;Avalue1&quot;, Afield2: &quot;Avalue2&quot; } \n{ Afield1: &quot;Avalue3&quot;, Afield2: &quot;Avalue4&quot; }\n</code></pre>\n<p>in versions <strong>after 3.12</strong> the body contains the field level key-value pair.</p>\n<pre><code>Afield1: &quot;Avalue1&quot;\nAfield2: &quot;Avalue2&quot;\nAfield1: &quot;Avalue3&quot;\nAfield2: &quot;Avalue4&quot;\n</code></pre>\n<p>The &quot;new&quot; behaviour feels logically more accurate - so i'm sure this is not a &quot;bug&quot;.</p>\n<p>We started with a new project using camel and it was deployed around the time 3.12 was released. We unfortunately wrote it based on the 3.12 behaviour. It's not a major re-write, but it is a significant change to a production system - which has run flawlessly for months.</p>\n<p>We are just considering our options before we re-write.</p>\n"},{"tags":["java","maven","spring-boot","jar","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1500288704,"post_id":45142017,"comment_id":77253181,"body_markdown":"That jar should contain the dependencies, if not you are doing something really wrong.","body":"That jar should contain the dependencies, if not you are doing something really wrong."},{"owner":{"account_id":8540808,"reputation":361,"user_id":6401022,"accept_rate":80,"display_name":"Stefan Fischer"},"score":2,"creation_date":1550154586,"post_id":45142017,"comment_id":96172813,"body_markdown":"Have you found a solution to this problem? I&#39;m having the same.","body":"Have you found a solution to this problem? I&#39;m having the same."}],"answers":[{"tags":[],"owner":{"account_id":15573431,"reputation":1,"user_id":11235136,"display_name":"kbcity"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663032636,"creation_date":1663032636,"answer_id":73696698,"question_id":45142017,"body_markdown":"Just use it and run with `mvn clean package` evething will be okay.\r\n\r\n    &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;addResources&gt;false&lt;/addResources&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;your.main.class&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;","title":"spring-boot-maven-plugin create jar with dependencies","body":"<p>Just use it and run with <code>mvn clean package</code> evething will be okay.</p>\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;addResources&gt;false&lt;/addResources&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;your.main.class&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":6732536,"reputation":435,"user_id":5188341,"accept_rate":45,"display_name":"Sid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1663032636,"creation_date":1500287898,"question_id":45142017,"body_markdown":"My project is running fine in eclipse. I was using the following plugin to build my jar with dependencies.\r\n\r\n    &lt;build&gt;\r\n\t    &lt;plugins&gt;\r\n\t      &lt;plugin&gt;\r\n\t        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t        &lt;executions&gt;\r\n\t          &lt;execution&gt;\r\n\t            &lt;phase&gt;package&lt;/phase&gt;\r\n\t            &lt;goals&gt;\r\n\t              &lt;goal&gt;single&lt;/goal&gt;\r\n\t            &lt;/goals&gt;\r\n\t          &lt;/execution&gt;\r\n\t        &lt;/executions&gt;\r\n\t        &lt;configuration&gt;\r\n\t        \t&lt;archive&gt;\r\n\t        \t\t&lt;manifest&gt;\r\n\t\t\t\t        &lt;mainClass&gt;com.project.App&lt;/mainClass&gt;\r\n\t\t\t\t    &lt;/manifest&gt;\r\n\t        \t&lt;/archive&gt;\r\n\t          &lt;descriptorRefs&gt;\r\n\t            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t          &lt;/descriptorRefs&gt;\r\n\t        &lt;/configuration&gt;\r\n\t      &lt;/plugin&gt;\r\n\t    &lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nOn running the jar, I got the following error.\r\n\r\n    2017-07-17 15:21:06.825 ERROR 17587 --- [           \r\n    main] o.s.boot.SpringApplication               : \r\n    Application startup failed\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: \r\n    Failed to process import candidates for configuration class [com.project.App]; \r\n    nested exception is java.lang.IllegalArgumentException: \r\n    No auto configuration classes found in META-INF/spring.factories. \r\n    If you are using a custom packaging, make sure that file is correct.\r\n\r\nI found [this][1] solution to use spring-boot-maven-plugin and modified my code as shown below.\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;configuration&gt;\r\n\t\t\t      &lt;fork&gt;true&lt;/fork&gt;\r\n\t\t\t      &lt;mainClass&gt;com.project.App&lt;/mainClass&gt;\r\n\t\t\t    &lt;/configuration&gt;\r\n\t\t\t    &lt;executions&gt;\r\n\t\t\t      &lt;execution&gt;\r\n\t\t\t        &lt;goals&gt;\r\n\t\t\t          &lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t        &lt;/goals&gt;\r\n\t\t\t      &lt;/execution&gt;\r\n\t\t\t    &lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nThe error was fixed. However, the jar created through this process does not contain dependencies. Is it possible to build jar with dependencies using spring-boot-maven-plugin? Kindly suggest a solution.\r\n\r\n  [1]: https://stackoverflow.com/questions/39375016/failed-to-process-import-candidates-for-configuration-class &quot;this&quot;","title":"spring-boot-maven-plugin create jar with dependencies","body":"<p>My project is running fine in eclipse. I was using the following plugin to build my jar with dependencies.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;com.project.App&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>On running the jar, I got the following error.</p>\n\n<pre><code>2017-07-17 15:21:06.825 ERROR 17587 --- [           \nmain] o.s.boot.SpringApplication               : \nApplication startup failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: \nFailed to process import candidates for configuration class [com.project.App]; \nnested exception is java.lang.IllegalArgumentException: \nNo auto configuration classes found in META-INF/spring.factories. \nIf you are using a custom packaging, make sure that file is correct.\n</code></pre>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/39375016/failed-to-process-import-candidates-for-configuration-class\" title=\"this\">this</a> solution to use spring-boot-maven-plugin and modified my code as shown below.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;fork&gt;true&lt;/fork&gt;\n              &lt;mainClass&gt;com.project.App&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The error was fixed. However, the jar created through this process does not contain dependencies. Is it possible to build jar with dependencies using spring-boot-maven-plugin? Kindly suggest a solution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1663035447,"post_id":73696652,"comment_id":130138962,"body_markdown":"have you tried moving the rss bundle out of the language package","body":"have you tried moving the rss bundle out of the language package"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663062755,"post_id":73696652,"comment_id":130145406,"body_markdown":"The exception message says that you are trying to look up the *key* Login *within* the resource bundle. This is about the *content* of your resource bundle.","body":"The exception message says that you are trying to look up the <i>key</i> Login <i>within</i> the resource bundle. This is about the <i>content</i> of your resource bundle."}],"owner":{"account_id":8598393,"reputation":1,"user_id":6440783,"display_name":"sphipps"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663032024,"creation_date":1663032024,"question_id":73696652,"body_markdown":"I am trying to get past a hurdle with my application. Seems that my code is have a problem finding the resource bundle. Error reads Language Resource file not found: java.util.MissingResourceException: Can&#39;t find resource for bundle java.util.PropertyResourceBundle, key Login. yes I am using &quot;resource/login&quot; but the resource files are login.properties, login_en_us.properties, etc. is there anything to reference to get better information for intelliJ 2022.2.1? I am having a hard time finding anything. I am trying to figure out What java is looking for or how it trying to locate the properties file.\r\n\r\nThank you for the help.\r\n\r\nError: Language Resource file not found: Can&#39;t find resource for bundle java.util.PropertyResourceBundle, key Login\r\n\r\nLine of code in question\r\n\r\n...\r\n `rb = ResourceBundle.getBundle(&quot;Language/Login&quot;, Locale.getDefault());`\r\n...\r\n\r\nmy directory structure is as follows...\r\n\r\n[Resource application directory][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eywnM.png","title":"Language Resource file not found: Can&#39;t find resource for bundle java.util.PropertyResourceBundle","body":"<p>I am trying to get past a hurdle with my application. Seems that my code is have a problem finding the resource bundle. Error reads Language Resource file not found: java.util.MissingResourceException: Can't find resource for bundle java.util.PropertyResourceBundle, key Login. yes I am using &quot;resource/login&quot; but the resource files are login.properties, login_en_us.properties, etc. is there anything to reference to get better information for intelliJ 2022.2.1? I am having a hard time finding anything. I am trying to figure out What java is looking for or how it trying to locate the properties file.</p>\n<p>Thank you for the help.</p>\n<p>Error: Language Resource file not found: Can't find resource for bundle java.util.PropertyResourceBundle, key Login</p>\n<p>Line of code in question</p>\n<p>...\n<code>rb = ResourceBundle.getBundle(&quot;Language/Login&quot;, Locale.getDefault());</code>\n...</p>\n<p>my directory structure is as follows...</p>\n<p><a href=\"https://i.stack.imgur.com/eywnM.png\" rel=\"nofollow noreferrer\">Resource application directory</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"score":0,"creation_date":1663020679,"post_id":73694757,"comment_id":130136918,"body_markdown":"See if this answers your question : https://stackoverflow.com/questions/3470042/intent-uri-to-launch-gmail-app","body":"See if this answers your question : <a href=\"https://stackoverflow.com/questions/3470042/intent-uri-to-launch-gmail-app\" title=\"intent uri to launch gmail app\">stackoverflow.com/questions/3470042/&hellip;</a>"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1663043992,"post_id":73694757,"comment_id":130140100,"body_markdown":"`getPackageManager` is a method on a `Context`, which your class is not... Pass in a context if you want to call that. It&#39;s literally the [first answer](https://stackoverflow.com/a/22396570/9473786) in the question you linked","body":"<code>getPackageManager</code> is a method on a <code>Context</code>, which your class is not... Pass in a context if you want to call that. It&#39;s literally the <a href=\"https://stackoverflow.com/a/22396570/9473786\">first answer</a> in the question you linked"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1663085762,"post_id":73694757,"comment_id":130154553,"body_markdown":"Does this answer your question? [Can&#39;t find getPackageManager() method in android](https://stackoverflow.com/questions/22396382/cant-find-getpackagemanager-method-in-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22396382/cant-find-getpackagemanager-method-in-android\">Can&#39;t find getPackageManager() method in android</a>"}],"answers":[{"tags":[],"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663030456,"creation_date":1663030456,"answer_id":73696550,"question_id":73694757,"body_markdown":"There are many potential causes for the symptoms you are describing, but one potential cause is the package visibility restrictions introduced in Android 11.\r\n\r\nhttps://developer.android.com/training/package-visibility/automatic\r\n\r\nTry adding this to your manifest:\r\n\r\n```\r\n    &lt;queries&gt;\r\n        &lt;package android:name=&quot;com.google.android.gm&quot; /&gt;\r\n    &lt;/queries&gt;\r\n```","title":"Why can&#39;t it find getPackageManager?","body":"<p>There are many potential causes for the symptoms you are describing, but one potential cause is the package visibility restrictions introduced in Android 11.</p>\n<p><a href=\"https://developer.android.com/training/package-visibility/automatic\" rel=\"nofollow noreferrer\">https://developer.android.com/training/package-visibility/automatic</a></p>\n<p>Try adding this to your manifest:</p>\n<pre><code>    &lt;queries&gt;\n        &lt;package android:name=&quot;com.google.android.gm&quot; /&gt;\n    &lt;/queries&gt;\n</code></pre>\n"}],"owner":{"account_id":26308361,"reputation":1,"user_id":19972400,"display_name":"Hugo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1663030456,"creation_date":1663013393,"question_id":73694757,"body_markdown":"I have tried to open the Gmail app via this:\r\n\r\n```\r\nimport android.content.Intent;\r\n\r\n\r\npublic class GmailApp {\r\n    public static void OpenGmail() {\r\n\r\n        Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;com.google.android.gm&quot;);\r\n        if(intent != null){\r\n            startActivity(intent);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nIt says it can&#39;t find it.\r\nBut how?\r\n\r\nI&#39;ve read this article right here https://stackoverflow.com/questions/22396382/cant-find-getpackagemanager-method-in-android\r\n\r\nBut I don&#39;t understand it.\r\n\r\nCan anyone give me an example code that will work?","title":"Why can&#39;t it find getPackageManager?","body":"<p>I have tried to open the Gmail app via this:</p>\n<pre><code>import android.content.Intent;\n\n\npublic class GmailApp {\n    public static void OpenGmail() {\n\n        Intent intent = getPackageManager().getLaunchIntentForPackage(&quot;com.google.android.gm&quot;);\n        if(intent != null){\n            startActivity(intent);\n        }\n\n    }\n}\n\n</code></pre>\n<p>It says it can't find it.\nBut how?</p>\n<p>I've read this article right here <a href=\"https://stackoverflow.com/questions/22396382/cant-find-getpackagemanager-method-in-android\">Can&#39;t find getPackageManager() method in android</a></p>\n<p>But I don't understand it.</p>\n<p>Can anyone give me an example code that will work?</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":9,"creation_date":1356960565,"post_id":14102083,"comment_id":19509910,"body_markdown":"It is worth nothing that `new BigDecimal(&quot;2.0&quot;).compareTo(new BigDecimal(&quot;2.00&quot;)) == 0`","body":"It is worth nothing that <code>new BigDecimal(&quot;2.0&quot;).compareTo(new BigDecimal(&quot;2.00&quot;)) == 0</code>"}],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1356960033,"creation_date":1356960033,"answer_id":14102119,"question_id":14102083,"body_markdown":"Because in some situations, an indication of precision (i.e. the margin of error) may be important.\r\n\r\nFor example, if you&#39;re storing measurements made by two physical sensors, perhaps one is 10x more precise than the other.  It may be important to represent this fact.","title":"Why is BigDecimal.equals specified to compare both value and scale individually?","body":"<p>Because in some situations, an indication of precision (i.e. the margin of error) may be important.</p>\n\n<p>For example, if you're storing measurements made by two physical sensors, perhaps one is 10x more precise than the other.  It may be important to represent this fact.</p>\n"},{"tags":[],"owner":{"account_id":80316,"reputation":18412,"user_id":227192,"accept_rate":100,"display_name":"Aleksander Blomsk&#248;ld"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1548323995,"creation_date":1356960074,"answer_id":14102127,"question_id":14102083,"body_markdown":"In math, 10.0 equals 10.00. In physics 10.0m and 10.00m are arguably different (different precision), when talking about objects in an OOP, I would definitely say that they are not equal.\r\n\r\nIt&#39;s also easy to think of unexpected functionality if equals ignored the scale (For instance: if a.equals(b), wouldn&#39;t you expect a.add(0.1).equals(b.add(0.1)?).\r\n","title":"Why is BigDecimal.equals specified to compare both value and scale individually?","body":"<p>In math, 10.0 equals 10.00. In physics 10.0m and 10.00m are arguably different (different precision), when talking about objects in an OOP, I would definitely say that they are not equal.</p>\n\n<p>It's also easy to think of unexpected functionality if equals ignored the scale (For instance: if a.equals(b), wouldn't you expect a.add(0.1).equals(b.add(0.1)?).</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1356960165,"creation_date":1356960165,"answer_id":14102137,"question_id":14102083,"body_markdown":"If numbers get rounded, it shows the precision of the calculation - in other words:\r\n\r\n- 10.0 could mean that the exact number was between 9.95 and 10.05\r\n- 10.00 could mean that the exact number was between 9.995 and 10.005\r\n\r\nIn other words, it is linked to [arithmetic precision][1].\r\n\r\n [1]: http://en.wikipedia.org/wiki/Arithmetic_precision","title":"Why is BigDecimal.equals specified to compare both value and scale individually?","body":"<p>If numbers get rounded, it shows the precision of the calculation - in other words:</p>\n\n<ul>\n<li>10.0 could mean that the exact number was between 9.95 and 10.05</li>\n<li>10.00 could mean that the exact number was between 9.995 and 10.005</li>\n</ul>\n\n<p>In other words, it is linked to <a href=\"http://en.wikipedia.org/wiki/Arithmetic_precision\" rel=\"noreferrer\">arithmetic precision</a>.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1442613401,"creation_date":1358799620,"answer_id":14446533,"question_id":14102083,"body_markdown":"The `compareTo` method knows that trailing zeros do not affect the numeric value represented by a `BigDecimal`, which is the only aspect `compareTo` cares about.  By contrast, the `equals` method generally has no way of knowing what aspects of an object someone cares about, and should thus only return `true` if two objects are equivalent in *every* way that a programmer might be interested in.  If `x.equals(y)` is true, it would be rather surprising for `x.toString().equals(y.toString())` to yield false.\r\n\r\nAnother issue which is perhaps even more significant is that `BigDecimal` essentially combines a `BigInteger` and a scaling factor, such that if two numbers represent the same value but have different numbers of trailing zeroes, one will hold a `bigInteger` whose value is some power of ten times the other.  If equality requires that the mantissa and scale both match, then the `hashCode()` for `BigDecimal` can use the hash code of `BigInteger`.  If it&#39;s possible for two values to be considered &quot;equal&quot; even though they contain different `BigInteger` values, however, that will complicate things significantly.  A `BigDecimal` type which used its own backing storage, rather than a `BigInteger`, could be implemented in a variety of ways to allow numbers to be quickly hashed in such a way that values representing the same number would compare equal (as a simple example, a version which packed nine decimal digits in each `long` value and always required that the decimal point sit between groups of nine, could compute the hash code in a way that would ignore trailing groups whose value was zero) but a `BigDecimal` that encapsulates a `BigInteger` can&#39;t do that.","title":"Why is BigDecimal.equals specified to compare both value and scale individually?","body":"<p>The <code>compareTo</code> method knows that trailing zeros do not affect the numeric value represented by a <code>BigDecimal</code>, which is the only aspect <code>compareTo</code> cares about.  By contrast, the <code>equals</code> method generally has no way of knowing what aspects of an object someone cares about, and should thus only return <code>true</code> if two objects are equivalent in <em>every</em> way that a programmer might be interested in.  If <code>x.equals(y)</code> is true, it would be rather surprising for <code>x.toString().equals(y.toString())</code> to yield false.</p>\n\n<p>Another issue which is perhaps even more significant is that <code>BigDecimal</code> essentially combines a <code>BigInteger</code> and a scaling factor, such that if two numbers represent the same value but have different numbers of trailing zeroes, one will hold a <code>bigInteger</code> whose value is some power of ten times the other.  If equality requires that the mantissa and scale both match, then the <code>hashCode()</code> for <code>BigDecimal</code> can use the hash code of <code>BigInteger</code>.  If it's possible for two values to be considered \"equal\" even though they contain different <code>BigInteger</code> values, however, that will complicate things significantly.  A <code>BigDecimal</code> type which used its own backing storage, rather than a <code>BigInteger</code>, could be implemented in a variety of ways to allow numbers to be quickly hashed in such a way that values representing the same number would compare equal (as a simple example, a version which packed nine decimal digits in each <code>long</code> value and always required that the decimal point sit between groups of nine, could compute the hash code in a way that would ignore trailing groups whose value was zero) but a <code>BigDecimal</code> that encapsulates a <code>BigInteger</code> can't do that.</p>\n"},{"tags":[],"owner":{"account_id":24162,"reputation":10032,"user_id":61298,"accept_rate":67,"display_name":"Matt R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405067081,"creation_date":1405067081,"answer_id":24693237,"question_id":14102083,"body_markdown":"&gt; I imagine there must be a good reason for ignoring this recommendation.\r\n\r\nMaybe not. I propose the simple explanation that the designers of `BigDecimal` just made a bad design choice.\r\n\r\n 1. A good design optimises for the common use case. The majority of the time (&gt;95%), people want to compare two quantities based on mathematical equality. For the minority of the time where you really do care about the two numbers being equal in both scale and value, there could have been an additional method for that purpose.\r\n 2. It goes against people&#39;s expectations, and creates a trap that&#39;s very easy to fall into. A good API obeys the &quot;principle of least surprise&quot;.\r\n 3. It breaks the usual Java convention that `Comparable` is consistent with equality.\r\n\r\nInterestingly, Scala&#39;s `BigDecimal` class (which is implemented using Java&#39;s `BigDecimal` under the hood) has made the opposite choice:\r\n\r\n    BigDecimal(&quot;2.0&quot;) == BigDecimal(&quot;2.00&quot;)     // true\r\n","title":"Why is BigDecimal.equals specified to compare both value and scale individually?","body":"<blockquote>\n  <p>I imagine there must be a good reason for ignoring this recommendation.</p>\n</blockquote>\n\n<p>Maybe not. I propose the simple explanation that the designers of <code>BigDecimal</code> just made a bad design choice.</p>\n\n<ol>\n<li>A good design optimises for the common use case. The majority of the time (>95%), people want to compare two quantities based on mathematical equality. For the minority of the time where you really do care about the two numbers being equal in both scale and value, there could have been an additional method for that purpose.</li>\n<li>It goes against people's expectations, and creates a trap that's very easy to fall into. A good API obeys the \"principle of least surprise\".</li>\n<li>It breaks the usual Java convention that <code>Comparable</code> is consistent with equality.</li>\n</ol>\n\n<p>Interestingly, Scala's <code>BigDecimal</code> class (which is implemented using Java's <code>BigDecimal</code> under the hood) has made the opposite choice:</p>\n\n<pre><code>BigDecimal(\"2.0\") == BigDecimal(\"2.00\")     // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1406330737,"creation_date":1406330737,"answer_id":24965902,"question_id":14102083,"body_markdown":"A point which has not yet been considered in any of the other answers is that `equals` is required to be consistent with `hashCode`, and the cost of a `hashCode` implementation which was required to yield the same value for 123.0 as for 123.00 (but still do a reasonable job of distinguishing different values) would be much greater than that of a hashCode implementation which was not required to do so.  Under the present semantics, `hashCode` requires a multiply-by-31 and add for each 32 bits of stored value.  If `hashCode` were required to be consistent among values with different precision, it would either have to compute the normalized form of any value (expensive) or else, at minimum, do something like compute the base-999999999 digital root of the value and multiply that, mod 999999999, based upon the precision.  The inner loop of such a method would be:\r\n\r\n    temp = (temp + (mag[i] &amp; LONG_MASK) * scale_factor[i]) % 999999999;\r\n\r\nreplacing a multiply-by-31 with a 64-bit modulus operation--much more expensive.  If one wants a hash table which regards numerically-equivalent `BigDecimal` values as equivalent, and most keys which are sought in the table will be found, the efficient way to achieve the desired result would be to use a hash table which stores value wrappers, rather than storing values directly.  To find a value in the table, start by looking for the value itself.  If none is found, normalize the value and look for that.  If nothing is found, create an empty wrapper and store an entry under the original and normalized forms of the number.\r\n\r\nLooking for something which isn&#39;t in the table and hasn&#39;t been searched for previously would require an expensive normalization step, but looking for something that has been searched for would be much faster.  By contrast, if HashCode needed to return equivalent values for numbers which, because of differing precision, were stored totally differently, that would make all hash table operations much slower.","title":"Why is BigDecimal.equals specified to compare both value and scale individually?","body":"<p>A point which has not yet been considered in any of the other answers is that <code>equals</code> is required to be consistent with <code>hashCode</code>, and the cost of a <code>hashCode</code> implementation which was required to yield the same value for 123.0 as for 123.00 (but still do a reasonable job of distinguishing different values) would be much greater than that of a hashCode implementation which was not required to do so.  Under the present semantics, <code>hashCode</code> requires a multiply-by-31 and add for each 32 bits of stored value.  If <code>hashCode</code> were required to be consistent among values with different precision, it would either have to compute the normalized form of any value (expensive) or else, at minimum, do something like compute the base-999999999 digital root of the value and multiply that, mod 999999999, based upon the precision.  The inner loop of such a method would be:</p>\n\n<pre><code>temp = (temp + (mag[i] &amp; LONG_MASK) * scale_factor[i]) % 999999999;\n</code></pre>\n\n<p>replacing a multiply-by-31 with a 64-bit modulus operation--much more expensive.  If one wants a hash table which regards numerically-equivalent <code>BigDecimal</code> values as equivalent, and most keys which are sought in the table will be found, the efficient way to achieve the desired result would be to use a hash table which stores value wrappers, rather than storing values directly.  To find a value in the table, start by looking for the value itself.  If none is found, normalize the value and look for that.  If nothing is found, create an empty wrapper and store an entry under the original and normalized forms of the number.</p>\n\n<p>Looking for something which isn't in the table and hasn't been searched for previously would require an expensive normalization step, but looking for something that has been searched for would be much faster.  By contrast, if HashCode needed to return equivalent values for numbers which, because of differing precision, were stored totally differently, that would make all hash table operations much slower.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1663029485,"creation_date":1613173768,"answer_id":66180493,"question_id":14102083,"body_markdown":"The general rule for `equals` is that two equal values should be substitutable for one another. That is, if performing a computation using one value gives some result, substituting an `equals` value into the same computation should give a result that `equals` the first result. This applies to objects that are values, such as `String`, `Integer`, `BigDecimal`, etc.\r\n\r\nNow consider `BigDecimal` values 2.0 and 2.00. We know they are numerically equal, and that `compareTo` on them returns 0. But `equals` returns false. Why?\r\n\r\nHere&#39;s an example where they are _not substitutable_:\r\n\r\n    var a = new BigDecimal(&quot;2.0&quot;);\r\n    var b = new BigDecimal(&quot;2.00&quot;);\r\n    var three = new BigDecimal(3);\r\n\r\n    a.divide(three, RoundingMode.HALF_UP)\r\n    ==&gt; 0.7\r\n\r\n    b.divide(three, RoundingMode.HALF_UP)\r\n    ==&gt; 0.67\r\n\r\nThe results are clearly unequal, so the value of `a` is not substitutable for `b`. Therefore, `a.equals(b)` should be false.\r\n","title":"Why is BigDecimal.equals specified to compare both value and scale individually?","body":"<p>The general rule for <code>equals</code> is that two equal values should be substitutable for one another. That is, if performing a computation using one value gives some result, substituting an <code>equals</code> value into the same computation should give a result that <code>equals</code> the first result. This applies to objects that are values, such as <code>String</code>, <code>Integer</code>, <code>BigDecimal</code>, etc.</p>\n<p>Now consider <code>BigDecimal</code> values 2.0 and 2.00. We know they are numerically equal, and that <code>compareTo</code> on them returns 0. But <code>equals</code> returns false. Why?</p>\n<p>Here's an example where they are <em>not substitutable</em>:</p>\n<pre><code>var a = new BigDecimal(&quot;2.0&quot;);\nvar b = new BigDecimal(&quot;2.00&quot;);\nvar three = new BigDecimal(3);\n\na.divide(three, RoundingMode.HALF_UP)\n==&gt; 0.7\n\nb.divide(three, RoundingMode.HALF_UP)\n==&gt; 0.67\n</code></pre>\n<p>The results are clearly unequal, so the value of <code>a</code> is not substitutable for <code>b</code>. Therefore, <code>a.equals(b)</code> should be false.</p>\n"}],"owner":{"account_id":17101,"reputation":9851,"user_id":37941,"accept_rate":70,"display_name":"bacar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21266,"favorite_count":0,"down_vote_count":1,"up_vote_count":56,"accepted_answer_id":14102119,"answer_count":7,"score":55,"last_activity_date":1663029485,"creation_date":1356959773,"question_id":14102083,"body_markdown":"This is not a question about how to compare two `BigDecimal` objects - I know that you can use `compareTo` instead of `equals` to do that, since `equals` is documented as:\r\n\r\n&gt; Unlike compareTo, this method considers two BigDecimal objects equal only if they are equal in value and scale (thus 2.0 is not equal to 2.00 when compared by this method).\r\n\r\nThe question is: why has the `equals` been specified in this seemingly counter-intuitive manner? That is, why is it **important** to be able to distinguish between 2.0 and 2.00?\r\n\r\nIt seems likely that there must be a reason for this, since the `Comparable` documentation, which specifies the `compareTo` method, states: \r\n&gt; It is strongly recommended (though not required) that natural orderings be consistent with equals\r\n\r\nI imagine there must be a good reason for ignoring this recommendation.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html","title":"Why is BigDecimal.equals specified to compare both value and scale individually?","body":"<p>This is not a question about how to compare two <code>BigDecimal</code> objects - I know that you can use <code>compareTo</code> instead of <code>equals</code> to do that, since <code>equals</code> is documented as:</p>\n\n<blockquote>\n  <p>Unlike compareTo, this method considers two BigDecimal objects equal only if they are equal in value and scale (thus 2.0 is not equal to 2.00 when compared by this method).</p>\n</blockquote>\n\n<p>The question is: why has the <code>equals</code> been specified in this seemingly counter-intuitive manner? That is, why is it <strong>important</strong> to be able to distinguish between 2.0 and 2.00?</p>\n\n<p>It seems likely that there must be a reason for this, since the <code>Comparable</code> documentation, which specifies the <code>compareTo</code> method, states: </p>\n\n<blockquote>\n  <p>It is strongly recommended (though not required) that natural orderings be consistent with equals</p>\n</blockquote>\n\n<p>I imagine there must be a good reason for ignoring this recommendation.</p>\n"},{"tags":["java","google-oauth"],"comments":[{"owner":{"account_id":2164601,"reputation":452,"user_id":1917963,"accept_rate":80,"display_name":"lil&#39;ms"},"score":2,"creation_date":1525415805,"post_id":49311417,"comment_id":87354659,"body_markdown":"did you resolved the issue?","body":"did you resolved the issue?"}],"answers":[{"tags":[],"owner":{"account_id":8632300,"reputation":91978,"user_id":6463558,"accept_rate":48,"display_name":"Lin Du"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1552613258,"creation_date":1551158157,"answer_id":54878836,"question_id":49311417,"body_markdown":"I am using `Node.js` googleapis client library, Here is my case:\r\n\r\nThe authorization code in the url hash fragment is encoded by `encodeURIComponent` api, so if you pass this code to request access token. It will throw an error:\r\n\r\n`{ &quot;error&quot;: &quot;invalid_grant&quot;, &quot;error_description&quot;: &quot;Malformed auth code.&quot; }`\r\n\r\nSo I use `decodeURIComponent` to decode the authorization code.\r\n\r\n    decodeURIComponent(&#39;4%2F_QCXwy-PG5Ub_JTiL7ULaCVb6K-Jsv45c7TPqPsG2-sCPYMTseEtqHWcU_ynqWQJB3Vuw5Ad1etoWqNPBaGvGHY&#39;)\r\n    \r\nAfter decode, the authorization code is:\r\n\r\n    &quot;4/_QCXwy-PG5Ub_JTiL7ULaCVb6K-Jsv45c7TPqPsG2-sCPYMTseEtqHWcU_ynqWQJB3Vuw5Ad1etoWqNPBaGvGHY&quot;\r\n\r\n\r\nIn Java, maybe you can use `URLDecoder.decode` handle the code.","title":"Getting Invalid grant, malformed auth code while verifying token on server side","body":"<p>I am using <code>Node.js</code> googleapis client library, Here is my case:</p>\n\n<p>The authorization code in the url hash fragment is encoded by <code>encodeURIComponent</code> api, so if you pass this code to request access token. It will throw an error:</p>\n\n<p><code>{ \"error\": \"invalid_grant\", \"error_description\": \"Malformed auth code.\" }</code></p>\n\n<p>So I use <code>decodeURIComponent</code> to decode the authorization code.</p>\n\n<pre><code>decodeURIComponent('4%2F_QCXwy-PG5Ub_JTiL7ULaCVb6K-Jsv45c7TPqPsG2-sCPYMTseEtqHWcU_ynqWQJB3Vuw5Ad1etoWqNPBaGvGHY')\n</code></pre>\n\n<p>After decode, the authorization code is:</p>\n\n<pre><code>\"4/_QCXwy-PG5Ub_JTiL7ULaCVb6K-Jsv45c7TPqPsG2-sCPYMTseEtqHWcU_ynqWQJB3Vuw5Ad1etoWqNPBaGvGHY\"\n</code></pre>\n\n<p>In Java, maybe you can use <code>URLDecoder.decode</code> handle the code.</p>\n"},{"tags":[],"owner":{"account_id":22194785,"reputation":500,"user_id":16436336,"display_name":"BobTheCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626409145,"creation_date":1626408817,"answer_id":68403334,"question_id":49311417,"body_markdown":"Thanks to slideshowp2&#39;s answer, and Subhadeep Banerjee&#39;s comment.\r\n\r\nI am using server-side web app with HTTP/REST ,also facing the same problem\r\nand yes, the reason is that authorization code return from URL is encoded.\r\n\r\nAfter decode, everything work fine to get access token.\r\n\r\np.s. here is some info about [encodedURL][1]\r\n\r\nsince our Content-Type: application/x-www-form-urlencoded\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Percent-encoding","title":"Getting Invalid grant, malformed auth code while verifying token on server side","body":"<p>Thanks to slideshowp2's answer, and Subhadeep Banerjee's comment.</p>\n<p>I am using server-side web app with HTTP/REST ,also facing the same problem\nand yes, the reason is that authorization code return from URL is encoded.</p>\n<p>After decode, everything work fine to get access token.</p>\n<p>p.s. here is some info about <a href=\"https://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow noreferrer\">encodedURL</a></p>\n<p>since our Content-Type: application/x-www-form-urlencoded</p>\n"},{"tags":[],"owner":{"account_id":3278117,"reputation":117,"user_id":2759482,"display_name":"Omar Muhtaseb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637692664,"creation_date":1637692664,"answer_id":70086159,"question_id":49311417,"body_markdown":"For anyone who might face this in the future. I faced this issue and `decodeURIComponent` **did** **not** work with me. The previous answers work with for different issue. \r\n\r\nFrom the question itself, you can see that the token starts with `ya29.`\r\n```\r\nya29.Glx_BUjV_zIiDzq0oYMqoXkxz8VGzt8GCQuBiaaJ3FxN0qaLxbBXvnWXjNKZbpeu4jraoEqw6Mj9D7LpTx_8Ts_8TH0VGT5cbrooGcAOF0wKMc1DDEjm6p5m-MvtFA\r\n```\r\n\r\nThat indicates that the token is an online token. In case of the online login, you can see that the response looks like this [![enter image description here][1]][1] \r\n\r\nBut that will not work with server side login. So, when using some Google client library, please note that there are two variables that you need to check:\r\n\r\n - access_type: `offline`\r\n - responseType: `code`\r\n\r\nOnce you configure Google client library with those fields, you can see that the response of the login will change to something like this \r\n```\r\n{\r\n    &quot;code&quot;: &quot;4/0AX4XfWgaJJc3bsUYZugm5-Y5lPu3muSfUqCrpY5KZoGEGAHuw0jrkg_xkD_RX-6bNUq-vA&quot;\r\n}\r\n```\r\nThen you can send that code to the backend and it will work.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GjLau.png","title":"Getting Invalid grant, malformed auth code while verifying token on server side","body":"<p>For anyone who might face this in the future. I faced this issue and <code>decodeURIComponent</code> <strong>did</strong> <strong>not</strong> work with me. The previous answers work with for different issue.</p>\n<p>From the question itself, you can see that the token starts with <code>ya29.</code></p>\n<pre><code>ya29.Glx_BUjV_zIiDzq0oYMqoXkxz8VGzt8GCQuBiaaJ3FxN0qaLxbBXvnWXjNKZbpeu4jraoEqw6Mj9D7LpTx_8Ts_8TH0VGT5cbrooGcAOF0wKMc1DDEjm6p5m-MvtFA\n</code></pre>\n<p>That indicates that the token is an online token. In case of the online login, you can see that the response looks like this <a href=\"https://i.stack.imgur.com/GjLau.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GjLau.png\" alt=\"enter image description here\" /></a></p>\n<p>But that will not work with server side login. So, when using some Google client library, please note that there are two variables that you need to check:</p>\n<ul>\n<li>access_type: <code>offline</code></li>\n<li>responseType: <code>code</code></li>\n</ul>\n<p>Once you configure Google client library with those fields, you can see that the response of the login will change to something like this</p>\n<pre><code>{\n    &quot;code&quot;: &quot;4/0AX4XfWgaJJc3bsUYZugm5-Y5lPu3muSfUqCrpY5KZoGEGAHuw0jrkg_xkD_RX-6bNUq-vA&quot;\n}\n</code></pre>\n<p>Then you can send that code to the backend and it will work.</p>\n"},{"tags":[],"owner":{"account_id":362640,"reputation":22777,"user_id":705945,"accept_rate":67,"display_name":"David Dehghan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663025529,"creation_date":1663025529,"answer_id":73696199,"question_id":49311417,"body_markdown":"we do get this error when for some reason the call back url of the auth is called a second time. The first time it works but the second time it errors out. \r\n\r\nNot sure how the users are able to do that. Maybe by pressing the back button in the browser. \r\n\r\nThe error is indeed this:\r\n\r\n    {&quot;error&quot;: &quot;invalid_grant&quot;,&quot;error_description&quot;: &quot;Malformed auth code.&quot;}\r\n\r\nEncoding the code in the call back URL was not the problem.","title":"Getting Invalid grant, malformed auth code while verifying token on server side","body":"<p>we do get this error when for some reason the call back url of the auth is called a second time. The first time it works but the second time it errors out.</p>\n<p>Not sure how the users are able to do that. Maybe by pressing the back button in the browser.</p>\n<p>The error is indeed this:</p>\n<pre><code>{&quot;error&quot;: &quot;invalid_grant&quot;,&quot;error_description&quot;: &quot;Malformed auth code.&quot;}\n</code></pre>\n<p>Encoding the code in the call back URL was not the problem.</p>\n"}],"owner":{"account_id":3588860,"reputation":977,"user_id":2995358,"accept_rate":43,"display_name":"user2995358"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9601,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"answer_count":4,"score":11,"last_activity_date":1663025529,"creation_date":1521159984,"question_id":49311417,"body_markdown":"We are trying to use Google OAuth in our product. The flow would be to get Client get the auth from the users and send the token to server. On server side I need to verify the token is valid. For now, I am using OAuth2Sample provided by Google as client. when I verify the sent token on server side, I am getting the following exception:\r\n\r\n&gt; com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\r\n\r\n&gt; {  \r\n  &quot;error&quot; : &quot;invalid_grant&quot;,  \r\n  &quot;error_description&quot; : &quot;Malformed auth code.&quot;  \r\n}\r\n\r\n&gt; at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:105)\r\n\r\n&gt; at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:287)\r\n&gt; at com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeTokenRequest.execute(GoogleAuthorizationCodeTokenRequest.java:158)\r\n\r\nHere is the code on the server side:\r\n\r\n    GoogleTokenResponse tokenResponse =\r\n\t\t          new GoogleAuthorizationCodeTokenRequest(\r\n\t\t              new NetHttpTransport(),\r\n\t\t              JacksonFactory.getDefaultInstance(),\r\n\t\t              &quot;https://www.googleapis.com/oauth2/v4/token&quot;,\r\n\t\t              \r\n\t\t              CLIENT_ID,\r\n\t\t              CLIENT_SECRET,\r\n\t\t              \r\n\t\t              authToken, //Sent from the client\r\n\t\t              &quot;&quot;)  // specify an empty string if you do not have redirect URL\r\n\t\t              .execute();\r\n\r\nHere is how I get the accesstoken on the client side:\r\n\r\n    private static final List&lt;String&gt; SCOPES = Arrays.asList(\r\n    &quot;https://www.googleapis.com/auth/userinfo.profile&quot;,\r\n    &quot;https://www.googleapis.com/auth/userinfo.email&quot;);\r\n    //...\r\n\r\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n\t        httpTransport, JSON_FACTORY, \r\n    clientSecrets, //Client ID and Client Secret\r\n    SCOPES).setDataStoreFactory(\r\n\t        dataStoreFactory).build();\r\n\r\n    LocalServerReceiver lsr = new LocalServerReceiver();\r\n    Credential cr = new AuthorizationCodeInstalledApp(flow, lsr).authorize(&quot;user&quot;);\r\n    return cr.getAccessToken(); //send this to server for verification\r\n\r\nThe token is not corrupted on the way to server and it is:\r\n\r\n&gt; ya29.Glx_BUjV_zIiDzq0oYMqoXkxz8VGzt8GCQuBiaaJ3FxN0qaLxbBXvnWXjNKZbpeu4jraoEqw6Mj9D7LpTx_8Ts_8TH0VGT5cbrooGcAOF0wKMc1DDEjm6p5m-MvtFA\r\n\r\nIf I try to access profile and email from the client side, it works fine. Same token does not work on the server side gets malformed token exception.\r\n    ","title":"Getting Invalid grant, malformed auth code while verifying token on server side","body":"<p>We are trying to use Google OAuth in our product. The flow would be to get Client get the auth from the users and send the token to server. On server side I need to verify the token is valid. For now, I am using OAuth2Sample provided by Google as client. when I verify the sent token on server side, I am getting the following exception:</p>\n\n<blockquote>\n  <p>com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request</p>\n  \n  <p>{<br>\n    \"error\" : \"invalid_grant\",<br>\n    \"error_description\" : \"Malformed auth code.\"<br>\n  }</p>\n  \n  <p>at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:105)</p>\n  \n  <p>at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:287)\n  at com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeTokenRequest.execute(GoogleAuthorizationCodeTokenRequest.java:158)</p>\n</blockquote>\n\n<p>Here is the code on the server side:</p>\n\n<pre><code>GoogleTokenResponse tokenResponse =\n              new GoogleAuthorizationCodeTokenRequest(\n                  new NetHttpTransport(),\n                  JacksonFactory.getDefaultInstance(),\n                  \"https://www.googleapis.com/oauth2/v4/token\",\n\n                  CLIENT_ID,\n                  CLIENT_SECRET,\n\n                  authToken, //Sent from the client\n                  \"\")  // specify an empty string if you do not have redirect URL\n                  .execute();\n</code></pre>\n\n<p>Here is how I get the accesstoken on the client side:</p>\n\n<pre><code>private static final List&lt;String&gt; SCOPES = Arrays.asList(\n\"https://www.googleapis.com/auth/userinfo.profile\",\n\"https://www.googleapis.com/auth/userinfo.email\");\n//...\n\nGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n        httpTransport, JSON_FACTORY, \nclientSecrets, //Client ID and Client Secret\nSCOPES).setDataStoreFactory(\n        dataStoreFactory).build();\n\nLocalServerReceiver lsr = new LocalServerReceiver();\nCredential cr = new AuthorizationCodeInstalledApp(flow, lsr).authorize(\"user\");\nreturn cr.getAccessToken(); //send this to server for verification\n</code></pre>\n\n<p>The token is not corrupted on the way to server and it is:</p>\n\n<blockquote>\n  <p>ya29.Glx_BUjV_zIiDzq0oYMqoXkxz8VGzt8GCQuBiaaJ3FxN0qaLxbBXvnWXjNKZbpeu4jraoEqw6Mj9D7LpTx_8Ts_8TH0VGT5cbrooGcAOF0wKMc1DDEjm6p5m-MvtFA</p>\n</blockquote>\n\n<p>If I try to access profile and email from the client side, it works fine. Same token does not work on the server side gets malformed token exception.</p>\n"},{"tags":["java","pagination"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1663024786,"post_id":73695938,"comment_id":130137664,"body_markdown":"Best solution for what?","body":"Best solution for what?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663024761,"creation_date":1663024761,"answer_id":73696145,"question_id":73695938,"body_markdown":"You can calculate the number of pages based on the size of the `List` and the page size.\r\n\r\n```\r\nfinal int pageSize = 5;\r\nfinal int pages = (getProducts().size() + pageSize - 1) / pageSize;\r\nfor (int i = 1; i &lt;= pages; i++) {\r\n    System.out.println(getPageProduct(getProducts(), i, pageSize));\r\n}\r\n```","title":"Pagination in Java, how to paginate a List of objects","body":"<p>You can calculate the number of pages based on the size of the <code>List</code> and the page size.</p>\n<pre><code>final int pageSize = 5;\nfinal int pages = (getProducts().size() + pageSize - 1) / pageSize;\nfor (int i = 1; i &lt;= pages; i++) {\n    System.out.println(getPageProduct(getProducts(), i, pageSize));\n}\n</code></pre>\n"}],"owner":{"account_id":22202704,"reputation":55,"user_id":16443121,"display_name":"Ricardo Muraoka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2093,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73696145,"answer_count":1,"score":1,"last_activity_date":1663025337,"creation_date":1663022557,"question_id":73695938,"body_markdown":"I&#39;m studying java, and I&#39;m trying to paginate a list of objects, is it possible using only java?\r\n\r\n\r\n    public class Produto {\r\n        public static List&lt;Produto&gt; estoque = new ArrayList&lt;&gt;();\r\n        private String nome;\r\n        private Double preco;\r\n        private int quantidade;\r\n\r\nI&#39;m using this toString()\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;\\nProduto: &quot; + nome + &quot;, preco: R$&quot;\r\n                + preco + &quot;, quantidade: &quot; + quantidade;\r\n    }\r\n\r\nI got this pagination to work:\r\n\r\n    public static &lt;Produto&gt; List&lt;Produto&gt; getPageProduct(List&lt;Produto&gt; produtos, int page, int pageSize) {\r\n        if(pageSize &lt;= 0 || page &lt;= 0) {\r\n            throw new IllegalArgumentException(&quot;invalid page size: &quot; + pageSize);\r\n        }\r\n\r\n        int fromIndex = (page - 1) * pageSize;\r\n        if(produtos == null || produtos.size() &lt;= fromIndex){\r\n            return Collections.emptyList();\r\n        }\r\n\r\n        return produtos.subList(fromIndex, Math.min(fromIndex + pageSize, produtos.size()));\r\n    }\r\n\r\nBut I cant get around having to input manually the number of the page\r\n\r\n\r\n    System.out.println(getPageProduct(getProducts(), 1, 5));\r\n    Thread.sleep(3000);\r\n\r\n\r\n\r\nWhat would be the best solution? \r\n\r\n","title":"Pagination in Java, how to paginate a List of objects","body":"<p>I'm studying java, and I'm trying to paginate a list of objects, is it possible using only java?</p>\n<pre><code>public class Produto {\n    public static List&lt;Produto&gt; estoque = new ArrayList&lt;&gt;();\n    private String nome;\n    private Double preco;\n    private int quantidade;\n</code></pre>\n<p>I'm using this toString()</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;\\nProduto: &quot; + nome + &quot;, preco: R$&quot;\n            + preco + &quot;, quantidade: &quot; + quantidade;\n}\n</code></pre>\n<p>I got this pagination to work:</p>\n<pre><code>public static &lt;Produto&gt; List&lt;Produto&gt; getPageProduct(List&lt;Produto&gt; produtos, int page, int pageSize) {\n    if(pageSize &lt;= 0 || page &lt;= 0) {\n        throw new IllegalArgumentException(&quot;invalid page size: &quot; + pageSize);\n    }\n\n    int fromIndex = (page - 1) * pageSize;\n    if(produtos == null || produtos.size() &lt;= fromIndex){\n        return Collections.emptyList();\n    }\n\n    return produtos.subList(fromIndex, Math.min(fromIndex + pageSize, produtos.size()));\n}\n</code></pre>\n<p>But I cant get around having to input manually the number of the page</p>\n<pre><code>System.out.println(getPageProduct(getProducts(), 1, 5));\nThread.sleep(3000);\n</code></pre>\n<p>What would be the best solution?</p>\n"},{"tags":["java","jenkins","gmail-api"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1662412665,"post_id":73614646,"comment_id":129995481,"body_markdown":"Check the network configuration on the system that is running Jenkins. Can it actually connect to the outside world?","body":"Check the network configuration on the system that is running Jenkins. Can it actually connect to the outside world?"},{"owner":{"account_id":7325773,"reputation":1251,"user_id":7093031,"accept_rate":25,"display_name":"Zoette"},"score":0,"creation_date":1662412962,"post_id":73614646,"comment_id":129995537,"body_markdown":"@JimGarrison I think so, but how to be sure?","body":"@JimGarrison I think so, but how to be sure?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1662420154,"post_id":73614646,"comment_id":129996683,"body_markdown":"Try connecting to the outside world?","body":"Try connecting to the outside world?"},{"owner":{"account_id":7325773,"reputation":1251,"user_id":7093031,"accept_rate":25,"display_name":"Zoette"},"score":0,"creation_date":1662421481,"post_id":73614646,"comment_id":129996830,"body_markdown":"@accessviolation Jenkins is running behind a proxy and in fact, I couldn&#39;t even access Google home page (I tested this just now). But Google home page isn&#39;t my goal, that&#39;s why I asked to allow `accounts.google.com` &amp; `gmail.googleapis.com`. It seems that it&#39;s not enough, but I don&#39;t know which resource I must ask to allow.","body":"@accessviolation Jenkins is running behind a proxy and in fact, I couldn&#39;t even access Google home page (I tested this just now). But Google home page isn&#39;t my goal, that&#39;s why I asked to allow <code>accounts.google.com</code> &amp; <code>gmail.googleapis.com</code>. It seems that it&#39;s not enough, but I don&#39;t know which resource I must ask to allow."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662422314,"post_id":73614646,"comment_id":129996926,"body_markdown":"Do you need to tell your transport that a proxy is being used? https://cloud.google.com/java/docs/reference/google-api-client/latest/com.google.api.client.googleapis.javanet.GoogleNetHttpTransport#com_google_api_client_googleapis_javanet_GoogleNetHttpTransport_newTrustedTransport__","body":"Do you need to tell your transport that a proxy is being used? <a href=\"https://cloud.google.com/java/docs/reference/google-api-client/latest/com.google.api.client.googleapis.javanet.GoogleNetHttpTransport#com_google_api_client_googleapis_javanet_GoogleNetHttpTransport_newTrustedTransport__\" rel=\"nofollow noreferrer\">cloud.google.com/java/docs/reference/google-api-client/lates&zwnj;&#8203;t/&hellip;</a>"},{"owner":{"account_id":7325773,"reputation":1251,"user_id":7093031,"accept_rate":25,"display_name":"Zoette"},"score":0,"creation_date":1662519881,"post_id":73614646,"comment_id":130021672,"body_markdown":"@tgdavies thanks for the idea, I tried this but unfortunately it didn&#39;t work","body":"@tgdavies thanks for the idea, I tried this but unfortunately it didn&#39;t work"},{"owner":{"account_id":13149721,"reputation":111,"user_id":9498734,"display_name":"Thomas W"},"score":1,"creation_date":1662737474,"post_id":73614646,"comment_id":130082833,"body_markdown":"If your jenkins is behind a (corporate) proxy, chances are high you are using something like cntlm to setup a local proxy? If so, you can ssh to your jenkins and use &quot;journalctl -u cntlm.service -f&quot; to see which URLs are called. Depending on the setup or the tooling you might need to adapt the params a bit.","body":"If your jenkins is behind a (corporate) proxy, chances are high you are using something like cntlm to setup a local proxy? If so, you can ssh to your jenkins and use &quot;journalctl -u cntlm.service -f&quot; to see which URLs are called. Depending on the setup or the tooling you might need to adapt the params a bit."},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1662774857,"post_id":73614646,"comment_id":130090488,"body_markdown":"Show full error stacktrace","body":"Show full error stacktrace"},{"owner":{"account_id":6796917,"reputation":374,"user_id":5231798,"display_name":"Moemen"},"score":0,"creation_date":1662909453,"post_id":73614646,"comment_id":130110283,"body_markdown":"@Y-BCause do you use any kind of containers in your jenkins pipeline? e.g. Docker","body":"@Y-BCause do you use any kind of containers in your jenkins pipeline? e.g. Docker"}],"answers":[{"tags":[],"owner":{"account_id":7325773,"reputation":1251,"user_id":7093031,"accept_rate":25,"display_name":"Zoette"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663025089,"creation_date":1663025089,"answer_id":73696164,"question_id":73614646,"body_markdown":"We finally found how to fix the problem. It was, as expected, a proxy issue. My virtual machine was running behind a certain corporate proxy, and the Jenkins instance was running behind *another one*.\r\n\r\nInstead of `final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();`\r\n\r\nI put a custom `final NetHttpTransport HTTP_TRANSPORT = (NetHttpTransport) newProxyTransport();`\r\n\r\nWhich is defined here:\r\n\r\n    protected static Boolean isJenkinsMode = Boolean.getBoolean(System.getProperty(&quot;jenkinsMode&quot;));\r\n\r\n    static HttpTransport newProxyTransport() throws GeneralSecurityException, IOException {\r\n        NetHttpTransport.Builder builder = new NetHttpTransport.Builder();\r\n        builder.trustCertificates(GoogleUtils.getCertificateTrustStore());\r\n        String proxy = &quot;default-proxy-address-which-works-on-my-machine.com&quot;;\r\n        if(isJenkinsMode){\r\n            proxy = &quot;proxy-address-for-jenkins.com&quot;;\r\n        }\r\n        builder.setProxy(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxy, 3128)));\r\n        return builder.build();\r\n    }\r\n\r\nThen, from Jenkins, I run the Maven command with `-DjenkinsMode=true`.","title":"SocketTimeoutException while trying to reach Gmail API from Jenkins","body":"<p>We finally found how to fix the problem. It was, as expected, a proxy issue. My virtual machine was running behind a certain corporate proxy, and the Jenkins instance was running behind <em>another one</em>.</p>\n<p>Instead of <code>final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();</code></p>\n<p>I put a custom <code>final NetHttpTransport HTTP_TRANSPORT = (NetHttpTransport) newProxyTransport();</code></p>\n<p>Which is defined here:</p>\n<pre><code>protected static Boolean isJenkinsMode = Boolean.getBoolean(System.getProperty(&quot;jenkinsMode&quot;));\n\nstatic HttpTransport newProxyTransport() throws GeneralSecurityException, IOException {\n    NetHttpTransport.Builder builder = new NetHttpTransport.Builder();\n    builder.trustCertificates(GoogleUtils.getCertificateTrustStore());\n    String proxy = &quot;default-proxy-address-which-works-on-my-machine.com&quot;;\n    if(isJenkinsMode){\n        proxy = &quot;proxy-address-for-jenkins.com&quot;;\n    }\n    builder.setProxy(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxy, 3128)));\n    return builder.build();\n}\n</code></pre>\n<p>Then, from Jenkins, I run the Maven command with <code>-DjenkinsMode=true</code>.</p>\n"}],"owner":{"account_id":7325773,"reputation":1251,"user_id":7093031,"accept_rate":25,"display_name":"Zoette"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73696164,"answer_count":1,"score":0,"last_activity_date":1663025089,"creation_date":1662411770,"question_id":73614646,"body_markdown":"I&#39;m running automated tests that call the Gmail API.\r\n\r\nI&#39;m going to say it (are you ready?): *It works on my machine*.\r\n\r\nBut when I run the same tests via Jenkins, I get a `SocketTimeoutException: connect timed out` error.\r\n\r\nSome addresses have been added to the proxy&#39;s whitelist (but with no improvement):\r\n\r\n- `accounts.google.com`\r\n- `gmail.googleapis.com`\r\n\r\nWhere it fails:\r\n\r\n    JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    String APPLICATION_NAME = &quot;TEST&quot;;\r\n\r\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n    // This one runs ok\r\n    Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n        .setApplicationName(APPLICATION_NAME)\r\n        .build();\r\n    // It fails here:\r\n    ListMessagesResponse response = service.\r\n        users().\r\n        messages().\r\n        list(&quot;me&quot;).\r\n        setQ(&quot;subject:&quot; + messageTitle).\r\n        execute();\r\n\r\nAny help will be very appreciated :)","title":"SocketTimeoutException while trying to reach Gmail API from Jenkins","body":"<p>I'm running automated tests that call the Gmail API.</p>\n<p>I'm going to say it (are you ready?): <em>It works on my machine</em>.</p>\n<p>But when I run the same tests via Jenkins, I get a <code>SocketTimeoutException: connect timed out</code> error.</p>\n<p>Some addresses have been added to the proxy's whitelist (but with no improvement):</p>\n<ul>\n<li><code>accounts.google.com</code></li>\n<li><code>gmail.googleapis.com</code></li>\n</ul>\n<p>Where it fails:</p>\n<pre><code>JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\nString APPLICATION_NAME = &quot;TEST&quot;;\n\nfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n// This one runs ok\nGmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n    .setApplicationName(APPLICATION_NAME)\n    .build();\n// It fails here:\nListMessagesResponse response = service.\n    users().\n    messages().\n    list(&quot;me&quot;).\n    setQ(&quot;subject:&quot; + messageTitle).\n    execute();\n</code></pre>\n<p>Any help will be very appreciated :)</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":4727352,"reputation":1053,"user_id":3823862,"accept_rate":100,"display_name":"mirzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618214765,"creation_date":1618214765,"answer_id":67054704,"question_id":67054650,"body_markdown":"You need to include the debugger first:\r\n\r\n- Go to the Extensions view (Ctrl+Shift+X)\r\n- Filter the extensions list by typing &quot;java&quot;\r\n- Select &quot;Debugger for Java&quot;\r\n\r\nIn addition I would advise you to use Intellij instead. VSCode is a nice tool but I guess for java you can have better.","title":"Can&#39;t run vscode debugger for Java","body":"<p>You need to include the debugger first:</p>\n<ul>\n<li>Go to the Extensions view (Ctrl+Shift+X)</li>\n<li>Filter the extensions list by typing &quot;java&quot;</li>\n<li>Select &quot;Debugger for Java&quot;</li>\n</ul>\n<p>In addition I would advise you to use Intellij instead. VSCode is a nice tool but I guess for java you can have better.</p>\n"},{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618279995,"creation_date":1618279995,"answer_id":67067853,"question_id":67054650,"body_markdown":"If no breakpoint set, the extension **debugger for java** will indeed flickers and run the code.\r\n\r\nAfter [creating a launch.json][1], adding a breakpoint before the code you want to debug, then clicking Debug, debug toolbar will appear on the top of the editor. You may continue, step over or stop the debug session. For your reference:\r\n[![enter image description here][2]][2]\r\n\r\nDetailed information please view [Debugging in VS Code][3].\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/editor/debugging#_launch-configurations\r\n  [2]: https://i.stack.imgur.com/bJjXS.gif\r\n  [3]: https://code.visualstudio.com/docs/editor/debugging","title":"Can&#39;t run vscode debugger for Java","body":"<p>If no breakpoint set, the extension <strong>debugger for java</strong> will indeed flickers and run the code.</p>\n<p>After <a href=\"https://code.visualstudio.com/docs/editor/debugging#_launch-configurations\" rel=\"nofollow noreferrer\">creating a launch.json</a>, adding a breakpoint before the code you want to debug, then clicking Debug, debug toolbar will appear on the top of the editor. You may continue, step over or stop the debug session. For your reference:\n<a href=\"https://i.stack.imgur.com/bJjXS.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bJjXS.gif\" alt=\"enter image description here\" /></a></p>\n<p>Detailed information please view <a href=\"https://code.visualstudio.com/docs/editor/debugging\" rel=\"nofollow noreferrer\">Debugging in VS Code</a>.</p>\n"}],"owner":{"account_id":17299607,"reputation":13,"user_id":12529550,"display_name":"ABegineer_bruh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67067853,"answer_count":2,"score":1,"last_activity_date":1663024855,"creation_date":1618214537,"question_id":67054650,"body_markdown":"I have been trying to run debugger for java in vscode but nothing is happening it just flickers and just run the code.\r\nHere is my json file and i have tried several configurations but nothing happens.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QBqQd.jpg","title":"Can&#39;t run vscode debugger for Java","body":"<p>I have been trying to run debugger for java in vscode but nothing is happening it just flickers and just run the code.\nHere is my json file and i have tried several configurations but nothing happens.</p>\n<p><a href=\"https://i.stack.imgur.com/QBqQd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QBqQd.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1663032099,"post_id":73696111,"comment_id":130138576,"body_markdown":"Any function that does this will still have to loop through the mat, so there really isn&#39;t much to be saved other than regular loop optimization? Have you done any testing to see if this actually has a noticeable impact on the frame rate? We will need a lot more information about the process if you want more help. On performance, how accurate does it have to be? You could increase the performance by only checking 1 pixel out of every 4 (effectively rendering at a lower resolution) and upscaling it, or check one pixel, and draw 4, but it all depends if the bottleneck is the loop, or the drawing","body":"Any function that does this will still have to loop through the mat, so there really isn&#39;t much to be saved other than regular loop optimization? Have you done any testing to see if this actually has a noticeable impact on the frame rate? We will need a lot more information about the process if you want more help. On performance, how accurate does it have to be? You could increase the performance by only checking 1 pixel out of every 4 (effectively rendering at a lower resolution) and upscaling it, or check one pixel, and draw 4, but it all depends if the bottleneck is the loop, or the drawing"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1663065075,"post_id":73696111,"comment_id":130146174,"body_markdown":"sounds like you want to use `cv.cvtColor(im, cv.BGR2HSV)`, dial the **saturation** up on everything, convert back. -- please review [ask] and [mre]. at least show your own effort, including input data. show your research (googlings).","body":"sounds like you want to use <code>cv.cvtColor(im, cv.BGR2HSV)</code>, dial the <b>saturation</b> up on everything, convert back. -- please review <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. at least show your own effort, including input data. show your research (googlings)."}],"owner":{"account_id":17240574,"reputation":11,"user_id":12482938,"display_name":"I Like To Know Stuff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663024264,"creation_date":1663024264,"question_id":73696111,"body_markdown":"I have a problem with OpenCV in Java. I have a mat, let&#39;s say, `input`, that is formatted in BGR, with blue on channel 0, green on channel 1, and red on channel 2. I am trying to generate a new mat that, for each pixel, has the brightest channel at that pixel at full intensity. For example, if the input mat has a point with BGR values `(15, 84, 198)`, then the output mat, at that same point, should have `(0, 0, 255)`. I could loop over each point manually, but this processing happens every frame, and I fear that this would be too slow. I am confident that there is a quick and easy way to do this with some native functions, but I cannot find any. Is there any way to do this processing quickly and efficiently?","title":"How to get brightest color in Mat with Java OpenCV?","body":"<p>I have a problem with OpenCV in Java. I have a mat, let's say, <code>input</code>, that is formatted in BGR, with blue on channel 0, green on channel 1, and red on channel 2. I am trying to generate a new mat that, for each pixel, has the brightest channel at that pixel at full intensity. For example, if the input mat has a point with BGR values <code>(15, 84, 198)</code>, then the output mat, at that same point, should have <code>(0, 0, 255)</code>. I could loop over each point manually, but this processing happens every frame, and I fear that this would be too slow. I am confident that there is a quick and easy way to do this with some native functions, but I cannot find any. Is there any way to do this processing quickly and efficiently?</p>\n"},{"tags":["java","jar","javac"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1662814226,"post_id":73671892,"comment_id":130095708,"body_markdown":"the man&#237;fest file has the name `MANIFEST.MF` and must be in the META-INF foleder","body":"the man&#237;fest file has the name <code>MANIFEST.MF</code> and must be in the META-INF foleder"},{"owner":{"account_id":26298936,"reputation":21,"user_id":19964712,"display_name":"Bursting_News"},"score":0,"creation_date":1662814437,"post_id":73671892,"comment_id":130095743,"body_markdown":"Then what command should I run to compile it into a JArchive file?","body":"Then what command should I run to compile it into a JArchive file?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662814483,"post_id":73671892,"comment_id":130095749,"body_markdown":"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/&hellip;</a>"},{"owner":{"account_id":26298936,"reputation":21,"user_id":19964712,"display_name":"Bursting_News"},"score":0,"creation_date":1662814891,"post_id":73671892,"comment_id":130095821,"body_markdown":"It says to do what I originally did, which doesn&#39;t work.","body":"It says to do what I originally did, which doesn&#39;t work."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662815751,"post_id":73671892,"comment_id":130095960,"body_markdown":"```jar cvfe main.jar Main Main.class``` *Then* ```java -jar main.jar```","body":"<code>jar cvfe main.jar Main Main.class</code> <i>Then</i> <code>java -jar main.jar</code>"},{"owner":{"account_id":26298936,"reputation":21,"user_id":19964712,"display_name":"Bursting_News"},"score":0,"creation_date":1662817682,"post_id":73671892,"comment_id":130096333,"body_markdown":"Question, when running `jar cvfe main.jar Main Main.class`, what does `Main` after `main.jar` for? What is `Main` referencing?","body":"Question, when running <code>jar cvfe main.jar Main Main.class</code>, what does <code>Main</code> after <code>main.jar</code> for? What is <code>Main</code> referencing?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1662829426,"post_id":73671892,"comment_id":130098733,"body_markdown":"Your `jar` command is exactly right.  Your `java -jar` command is also exactly right.  How did you create manifest.txt?  Was it with Notepad in Windows, by any chance?  Notepad has a tendency to put a Byte Order Mark (BOM) character at the start of files it saves, which would mean your manifest.txt does not have a line starting with `Main-Class:` at all;  rather, it would have a line starting with `\\ufeffMain-Class:`.","body":"Your <code>jar</code> command is exactly right.  Your <code>java -jar</code> command is also exactly right.  How did you create manifest.txt?  Was it with Notepad in Windows, by any chance?  Notepad has a tendency to put a Byte Order Mark (BOM) character at the start of files it saves, which would mean your manifest.txt does not have a line starting with <code>Main-Class:</code> at all;  rather, it would have a line starting with <code>\\ufeffMain-Class:</code>."},{"owner":{"account_id":26298936,"reputation":21,"user_id":19964712,"display_name":"Bursting_News"},"score":0,"creation_date":1662833156,"post_id":73671892,"comment_id":130099488,"body_markdown":"I made it in the Replit text editor","body":"I made it in the Replit text editor"}],"answers":[{"tags":[],"owner":{"account_id":26298936,"reputation":21,"user_id":19964712,"display_name":"Bursting_News"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663023816,"creation_date":1663023816,"answer_id":73696063,"question_id":73671892,"body_markdown":"I figured it out.\r\n\r\n`jar cvfe main.jar Main Main.class`","title":"Jar File: no main manifest attribute, in file.jar","body":"<p>I figured it out.</p>\n<p><code>jar cvfe main.jar Main Main.class</code></p>\n"}],"owner":{"account_id":26298936,"reputation":21,"user_id":19964712,"display_name":"Bursting_News"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73696063,"answer_count":1,"score":1,"last_activity_date":1663023816,"creation_date":1662813712,"question_id":73671892,"body_markdown":"I was building a jar file featuring one class, Main. It was based off Main.java:\r\n```java\r\npublic class Main {\r\n  \r\n\r\n  public static void main(String[] args) {\r\n   System.out.println(&quot;hello jar file:-/&quot;);\r\n  }\r\n\r\n  \r\n}\r\n```\r\n\r\nI compiled with this command:\r\n`javac Main.java`\r\n\r\nMade this manifest.txt:\r\n```\r\nMain-Class: Main\r\n```\r\n\r\nAnd finished with:\r\n`jar cfm myfirstjarfile.jar manifest.txt Main.class`\r\n\r\nWhen I run `java -jar myfirstjarfile.jar` I get this error:\r\n`no main manifest attribute, in myfirstjarfile.jar`\r\n\r\nI was then told to put manifest in META-INF and call it MANIFEST.MF but I can&#39;t compile it, so what command do I use to turn this into a jar?\r\n\r\nAnyone know why? Thank you!","title":"Jar File: no main manifest attribute, in file.jar","body":"<p>I was building a jar file featuring one class, Main. It was based off Main.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n  \n\n  public static void main(String[] args) {\n   System.out.println(&quot;hello jar file:-/&quot;);\n  }\n\n  \n}\n</code></pre>\n<p>I compiled with this command:\n<code>javac Main.java</code></p>\n<p>Made this manifest.txt:</p>\n<pre><code>Main-Class: Main\n</code></pre>\n<p>And finished with:\n<code>jar cfm myfirstjarfile.jar manifest.txt Main.class</code></p>\n<p>When I run <code>java -jar myfirstjarfile.jar</code> I get this error:\n<code>no main manifest attribute, in myfirstjarfile.jar</code></p>\n<p>I was then told to put manifest in META-INF and call it MANIFEST.MF but I can't compile it, so what command do I use to turn this into a jar?</p>\n<p>Anyone know why? Thank you!</p>\n"},{"tags":["java","scala","reflection"],"answers":[{"tags":[],"owner":{"account_id":6871207,"reputation":113,"user_id":5284991,"display_name":"Razvanescu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462304252,"creation_date":1462304252,"answer_id":37012950,"question_id":37011958,"body_markdown":"Maybe this can help you.\r\n[TypeTags and manifests.][1]\r\n\r\n\r\n  [1]: http://docs.scala-lang.org/overviews/reflection/typetags-manifests\r\n\r\n&gt; For example, we can write a method which takes some arbitrary object, and using a TypeTag, prints information about that object’s type arguments:\r\n&gt; \r\n&gt;     import scala.reflect.runtime.universe._\r\n&gt;     def paramInfo[T](x: T)(implicit tag: TypeTag[T]): Unit = {\r\n&gt;       val targs = tag.tpe match { case TypeRef(_, _, args) =&gt; args }\r\n&gt;       println(s&quot;type of $x has type arguments $targs&quot;)\r\n&gt;     }\r\n&gt; Here, we write a generic method paramInfo parameterized on T, and we\r\n&gt; supply an implicit parameter (implicit tag: TypeTag[T]). We can then\r\n&gt; directly access the type (of type Type) that tag represents using\r\n&gt; method tpe of TypeTag.\r\n&gt; \r\n&gt; We can then use our method paramInfo as follows:\r\n&gt; \r\n&gt;     scala&gt; paramInfo(42)\r\n&gt;     type of 42 has type arguments List()\r\n&gt;     scala&gt; paramInfo(List(1, 2))\r\n&gt;     type of List(1, 2) has type arguments List(Int)","title":"How to obtain generic type at runtime in Scala","body":"<p>Maybe this can help you.\n<a href=\"http://docs.scala-lang.org/overviews/reflection/typetags-manifests\" rel=\"nofollow\">TypeTags and manifests.</a></p>\n\n<blockquote>\n  <p>For example, we can write a method which takes some arbitrary object, and using a TypeTag, prints information about that object’s type arguments:</p>\n\n<pre><code>import scala.reflect.runtime.universe._\ndef paramInfo[T](x: T)(implicit tag: TypeTag[T]): Unit = {\n  val targs = tag.tpe match { case TypeRef(_, _, args) =&gt; args }\n  println(s\"type of $x has type arguments $targs\")\n}\n</code></pre>\n  \n  <p>Here, we write a generic method paramInfo parameterized on T, and we\n  supply an implicit parameter (implicit tag: TypeTag[T]). We can then\n  directly access the type (of type Type) that tag represents using\n  method tpe of TypeTag.</p>\n  \n  <p>We can then use our method paramInfo as follows:</p>\n\n<pre><code>scala&gt; paramInfo(42)\ntype of 42 has type arguments List()\nscala&gt; paramInfo(List(1, 2))\ntype of List(1, 2) has type arguments List(Int)\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23378,"reputation":3764,"user_id":58530,"accept_rate":59,"display_name":"Brian Kent"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462315045,"creation_date":1462315045,"answer_id":37015558,"question_id":37011958,"body_markdown":"You can accomplish this with Scala&#39;s reflection library.\r\n\r\nIt&#39;s not especially pretty though:\r\n    \r\n    import scala.reflect.runtime.{ universe =&gt; u }\r\n    import scala.reflect.runtime.universe._\r\n\r\n    object ReflectionHelper {\r\n    \r\n      val classLoader = Thread.currentThread().getContextClassLoader\r\n    \r\n      val mirror = u.runtimeMirror(classLoader)\r\n    \r\n      def getFieldType(className: String, fieldName: String): Option[Type] = {\r\n    \r\n        val classSymbol = mirror.staticClass(className)\r\n    \r\n        for {\r\n          fieldSymbol &lt;- classSymbol.selfType.members.collectFirst({\r\n            case s: Symbol if s.isPublic &amp;&amp; s.name.decodedName.toString() == fieldName =&gt; s\r\n          })\r\n        } yield {\r\n    \r\n          fieldSymbol.info.resultType\r\n        }\r\n      }\r\n    \r\n      def maybeUnwrapFieldType[A](fieldType: Type)(implicit tag: TypeTag[A]): Option[Type] = {\r\n        if (fieldType.typeConstructor == tag.tpe.typeConstructor) {\r\n          fieldType.typeArgs.headOption\r\n        } else {\r\n          Option(fieldType)\r\n        }\r\n      }\r\n    \r\n      def getFieldClass(className: String, fieldName: String): java.lang.Class[_] = {\r\n    \r\n        // case normal field return its class\r\n        // case Option field return generic type of Option\r\n    \r\n        val result = for {\r\n          fieldType &lt;- getFieldType(className, fieldName)\r\n          unwrappedFieldType &lt;- maybeUnwrapFieldType[Option[_]](fieldType)\r\n        } yield {\r\n          mirror.runtimeClass(unwrappedFieldType)\r\n        }\r\n    \r\n        // Consider changing return type to: Option[Class[_]]\r\n        result.getOrElse(null)\r\n      }\r\n    }\r\n\r\nThen:\r\n\r\n    ReflectionHelper.getFieldClass(&quot;myapp.model.Person&quot;, &quot;age&quot;)  // int\r\n    ReflectionHelper.getFieldClass(&quot;myapp.model.Person&quot;, &quot;name&quot;) // class java.lang.String\r\n\r\nI would recommend changing the return type of `getFieldClass` to be optional in case the field value doesn&#39;t make sense!","title":"How to obtain generic type at runtime in Scala","body":"<p>You can accomplish this with Scala's reflection library.</p>\n\n<p>It's not especially pretty though:</p>\n\n<pre><code>import scala.reflect.runtime.{ universe =&gt; u }\nimport scala.reflect.runtime.universe._\n\nobject ReflectionHelper {\n\n  val classLoader = Thread.currentThread().getContextClassLoader\n\n  val mirror = u.runtimeMirror(classLoader)\n\n  def getFieldType(className: String, fieldName: String): Option[Type] = {\n\n    val classSymbol = mirror.staticClass(className)\n\n    for {\n      fieldSymbol &lt;- classSymbol.selfType.members.collectFirst({\n        case s: Symbol if s.isPublic &amp;&amp; s.name.decodedName.toString() == fieldName =&gt; s\n      })\n    } yield {\n\n      fieldSymbol.info.resultType\n    }\n  }\n\n  def maybeUnwrapFieldType[A](fieldType: Type)(implicit tag: TypeTag[A]): Option[Type] = {\n    if (fieldType.typeConstructor == tag.tpe.typeConstructor) {\n      fieldType.typeArgs.headOption\n    } else {\n      Option(fieldType)\n    }\n  }\n\n  def getFieldClass(className: String, fieldName: String): java.lang.Class[_] = {\n\n    // case normal field return its class\n    // case Option field return generic type of Option\n\n    val result = for {\n      fieldType &lt;- getFieldType(className, fieldName)\n      unwrappedFieldType &lt;- maybeUnwrapFieldType[Option[_]](fieldType)\n    } yield {\n      mirror.runtimeClass(unwrappedFieldType)\n    }\n\n    // Consider changing return type to: Option[Class[_]]\n    result.getOrElse(null)\n  }\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>ReflectionHelper.getFieldClass(\"myapp.model.Person\", \"age\")  // int\nReflectionHelper.getFieldClass(\"myapp.model.Person\", \"name\") // class java.lang.String\n</code></pre>\n\n<p>I would recommend changing the return type of <code>getFieldClass</code> to be optional in case the field value doesn't make sense!</p>\n"}],"owner":{"account_id":1408851,"reputation":666,"user_id":1335879,"accept_rate":20,"display_name":"Tomasz Bekas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663023144,"creation_date":1462300885,"question_id":37011958,"body_markdown":"I have a following class\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    package myapp.model\r\n    \r\n    case class Person(\r\n     name: String,\r\n     age: Option[Int]\r\n    )\r\n\r\nI would like to implement following function:\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    def getFieldClass(className: String, fieldName:String): java.lang.Class[_] = {\r\n    \t// case normal field return its class\r\n        // case Option field return generic type of Option\r\n    }\r\n\r\nSo that for following input:\r\n\r\n - className=&quot;myapp.model.Person&quot;\r\n - fieldName=&quot;age&quot;\r\n\r\nthe function will return class object: scala.Int\r\n\r\n---\r\n\r\nSolution with Java Reflection API doesn&#39;t work well, it returns java.lang.Object for Option[Int]:\r\n\r\n    def getFieldClass(className: String, fieldName:String): java.lang.Class[_] = {\r\n    \tval cls = java.lang.Class.forName(className)\r\n    \tval pt = cls.getDeclaredField(fieldName).getGenericType.asInstanceOf[java.lang.reflect.ParameterizedType]\r\n    \tval tpe = pt.getActualTypeArguments()(0);\r\n    \tjava.lang.Class.forName(tpe.getTypeName)\r\n    }\r\n\r\nI&#39;m writing part of deserializing feature and I don&#39;t have the object to check it&#39;s type, I have only a class name.\r\n","title":"How to obtain generic type at runtime in Scala","body":"<p>I have a following class</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>package myapp.model\n\ncase class Person(\n name: String,\n age: Option[Int]\n)\n</code></pre>\n\n<p>I would like to implement following function:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def getFieldClass(className: String, fieldName:String): java.lang.Class[_] = {\n    // case normal field return its class\n    // case Option field return generic type of Option\n}\n</code></pre>\n\n<p>So that for following input:</p>\n\n<ul>\n<li>className=\"myapp.model.Person\"</li>\n<li>fieldName=\"age\"</li>\n</ul>\n\n<p>the function will return class object: scala.Int</p>\n\n<hr>\n\n<p>Solution with Java Reflection API doesn't work well, it returns java.lang.Object for Option[Int]:</p>\n\n<pre><code>def getFieldClass(className: String, fieldName:String): java.lang.Class[_] = {\n    val cls = java.lang.Class.forName(className)\n    val pt = cls.getDeclaredField(fieldName).getGenericType.asInstanceOf[java.lang.reflect.ParameterizedType]\n    val tpe = pt.getActualTypeArguments()(0);\n    java.lang.Class.forName(tpe.getTypeName)\n}\n</code></pre>\n\n<p>I'm writing part of deserializing feature and I don't have the object to check it's type, I have only a class name.</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1386352021,"post_id":20430257,"comment_id":30517027,"body_markdown":"This is when you use a profiler.","body":"This is when you use a profiler."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1386352033,"post_id":20430257,"comment_id":30517031,"body_markdown":"This is Java.  A program that runs &quot;forever&quot; will eventually fill up the GC heap, before GC is triggered and everything&#39;s collected.  You can adjust the max heap size if you feel it&#39;s taking too much system resource.","body":"This is Java.  A program that runs &quot;forever&quot; will eventually fill up the GC heap, before GC is triggered and everything&#39;s collected.  You can adjust the max heap size if you feel it&#39;s taking too much system resource."},{"owner":{"account_id":208605,"reputation":5884,"user_id":459185,"accept_rate":100,"display_name":"Amit Sharma"},"score":1,"creation_date":1386352194,"post_id":20430257,"comment_id":30517112,"body_markdown":"Try System.gc(); before invoking sleep. It&#39;s a shitty hack, but will work :)","body":"Try System.gc(); before invoking sleep. It&#39;s a shitty hack, but will work :)"},{"owner":{"account_id":20061,"reputation":20239,"user_id":47552,"accept_rate":91,"display_name":"Matt McHenry"},"score":2,"creation_date":1386352600,"post_id":20430257,"comment_id":30517315,"body_markdown":"Calling `gc()` is a code smell and should be avoided.  Note in particular that a compliant implementation of that method is for the JVM to do nothing at all.","body":"Calling <code>gc()</code> is a code smell and should be avoided.  Note in particular that a compliant implementation of that method is for the JVM to do nothing at all."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1386354763,"post_id":20430257,"comment_id":30518528,"body_markdown":"@MattMcHenry Well, for that matter, garbage collection itself is optional.","body":"@MattMcHenry Well, for that matter, garbage collection itself is optional."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1386355210,"post_id":20430257,"comment_id":30518785,"body_markdown":"How much heap is it using after a Full GC? Any other number you look at is likely to be a tuning issue. 200 MB costs about $0.50 and its reusable so its not that much.","body":"How much heap is it using after a Full GC? Any other number you look at is likely to be a tuning issue. 200 MB costs about $0.50 and its reusable so its not that much."},{"owner":{"account_id":20061,"reputation":20239,"user_id":47552,"accept_rate":91,"display_name":"Matt McHenry"},"score":0,"creation_date":1386381179,"post_id":20430257,"comment_id":30529275,"body_markdown":"@chrylis: sort of.  The JVM spec (sec 2.5.3) says &quot;Heap storage for objects is reclaimed by an automatic storage management system (known as a garbage collector); objects are never explicitly deallocated. The Java Virtual Machine assumes no particular type of automatic storage management system, and the storage management technique may be chosen according to the implementor&#39;s system requirements.&quot;  http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.3","body":"@chrylis: sort of.  The JVM spec (sec 2.5.3) says &quot;Heap storage for objects is reclaimed by an automatic storage management system (known as a garbage collector); objects are never explicitly deallocated. The Java Virtual Machine assumes no particular type of automatic storage management system, and the storage management technique may be chosen according to the implementor&#39;s system requirements.&quot;  <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.3\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/&hellip;</a>"},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":0,"creation_date":1499796679,"post_id":20430257,"comment_id":77057728,"body_markdown":"after the call to `ImageIO.write(...)` you can call `screenShot.flush()`. that will free up image resources immediately (a single 4k screencapture will take up ~32mb of ram)","body":"after the call to <code>ImageIO.write(...)</code> you can call <code>screenShot.flush()</code>. that will free up image resources immediately (a single 4k screencapture will take up ~32mb of ram)"},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1644163576,"post_id":20430257,"comment_id":125527487,"body_markdown":"@AmitSharma While this might work, it&#39;s not required to work by the standard. The documentation says that `System.gc()` gives a hint, which may or may not be used, to run the garbage collector.","body":"@AmitSharma While this might work, it&#39;s not required to work by the standard. The documentation says that <code>System.gc()</code> gives a hint, which may or may not be used, to run the garbage collector."},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1644163739,"post_id":20430257,"comment_id":125527530,"body_markdown":"@chrylis-cautiouslyoptimistic- The garbage collector must exist and run at certain times to meet the requirements in Java. `System.gc()`, in those requirements, is defined as giving a hint to run the garbage collector. It expressly notes the hint may be ignored and/or the garbage collector may not run.","body":"@chrylis-cautiouslyoptimistic- The garbage collector must exist and run at certain times to meet the requirements in Java. <code>System.gc()</code>, in those requirements, is defined as giving a hint to run the garbage collector. It expressly notes the hint may be ignored and/or the garbage collector may not run."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1386352008,"creation_date":1386352008,"answer_id":20430292,"question_id":20430257,"body_markdown":"For a modern computer, 200MB is not an excessive amount of memory. The JVM will let the heap grow for a while if you&#39;re creating and discarding lots of objects so that your program doesn&#39;t get bogged down with garbage collection. Let your program run for several hours and then check back if you think there&#39;s a problem.","title":"Why is this Java program taking up so much memory?","body":"<p>For a modern computer, 200MB is not an excessive amount of memory. The JVM will let the heap grow for a while if you're creating and discarding lots of objects so that your program doesn't get bogged down with garbage collection. Let your program run for several hours and then check back if you think there's a problem.</p>\n"},{"tags":[],"owner":{"account_id":3693359,"reputation":31,"user_id":3075429,"display_name":"expozed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386352343,"creation_date":1386352343,"answer_id":20430389,"question_id":20430257,"body_markdown":"JVM garbage collector will eventually clear your memory heap. For manually clearing that heap call `Runtime.getRuntime().gc();`, but I don&#39;t advise doing that for every 5 minutes.","title":"Why is this Java program taking up so much memory?","body":"<p>JVM garbage collector will eventually clear your memory heap. For manually clearing that heap call <code>Runtime.getRuntime().gc();</code>, but I don't advise doing that for every 5 minutes.</p>\n"},{"tags":[],"owner":{"account_id":355770,"reputation":316,"user_id":694898,"display_name":"Mike Wasson"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1386352399,"creation_date":1386352399,"answer_id":20430403,"question_id":20430257,"body_markdown":"The other answers are right that Java will use as much memory as it is allowed to, at which point it will garbage collect. To work around this, you can specify a smaller max heap size in the JVM settings. You do this with the -Xmx setting. For example, if you think you only need 32MB, run it as:\r\n\r\n    java -Xmx32M [your main class or jar here]\r\n\r\nThe heap of your program (the non-stack memory) will never take more than 32MB, but it will crash if it needs more than that at once (and that&#39;s where you&#39;ll need to profile). I don&#39;t see any obvious leaks in your program (assuming ImageIO doesn&#39;t require any cleanup), though, so I think you&#39;ll be fine.","title":"Why is this Java program taking up so much memory?","body":"<p>The other answers are right that Java will use as much memory as it is allowed to, at which point it will garbage collect. To work around this, you can specify a smaller max heap size in the JVM settings. You do this with the -Xmx setting. For example, if you think you only need 32MB, run it as:</p>\n\n<pre><code>java -Xmx32M [your main class or jar here]\n</code></pre>\n\n<p>The heap of your program (the non-stack memory) will never take more than 32MB, but it will crash if it needs more than that at once (and that's where you'll need to profile). I don't see any obvious leaks in your program (assuming ImageIO doesn't require any cleanup), though, so I think you'll be fine.</p>\n"}],"owner":{"account_id":56841,"reputation":4405,"user_id":170243,"accept_rate":64,"display_name":"Joe"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34109,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":20430403,"answer_count":3,"score":13,"last_activity_date":1663022689,"creation_date":1386351894,"question_id":20430257,"body_markdown":"I have a small piece of code that takes a screenshot of my desktop every five minutes.\r\nHowever I&#39;m a little confused by the amount of memory it takes up - often it will creep up to 200mb of RAM, which I&#39;m sure is excessive... Can anyone tell me a) sensible ways to reduce the memory footprint or b) why it&#39;s going up *at all*? \r\n\r\n\r\n    /**\r\n     * Code modified from code given in http://whileonefork.blogspot.co.uk/2011/02/java-multi-monitor-screenshots.html following a SE question at  \r\n     * http://stackoverflow.com/questions/10042086/screen-capture-in-java-not-capturing-whole-screen and then modified by a code review at http://codereview.stackexchange.com/questions/10783/java-screengrab\r\n     */\r\n    package com.tmc.personal;\r\n    \r\n    import java.awt.AWTException;\r\n    import java.awt.GraphicsDevice;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Robot;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    class ScreenCapture {\r\n    \r\n    \tstatic int minsBetweenScreenshots = 5;\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tint indexOfPicture = 1000;// should be only used for naming file...\r\n    \t\twhile (true) {\r\n    \t\t\ttakeScreenshot(&quot;ScreenCapture&quot; + indexOfPicture++);\r\n    \t\t\ttry {\r\n    \t\t\t\tTimeUnit.MINUTES.sleep(minsBetweenScreenshots);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t//from http://www.coderanch.com/t/409980/java/java/append-file-timestamp\r\n    \tprivate  final static String getDateTime()\r\n    \t{\r\n    \t    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd_hh:mm:ss&quot;);\r\n    \t    df.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\n    \t    return df.format(new Date());\r\n    \t}\r\n    \r\n    \tpublic static void takeScreenshot(String filename) {\r\n    \t\tRectangle allScreenBounds = getAllScreenBounds();\r\n    \t\tRobot robot;\r\n    \t\ttry {\r\n    \t\t\trobot = new Robot();\r\n    \t\t\tBufferedImage screenShot = robot.createScreenCapture(allScreenBounds);\r\n    \t\t\tImageIO.write(screenShot, &quot;jpg&quot;, new File(filename + getDateTime()+ &quot;.jpg&quot;));\r\n    \t\t} catch (AWTException e) {\r\n    \t\t\tSystem.err.println(&quot;Something went wrong starting the robot&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(&quot;Something went wrong writing files&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Okay so all we have to do here is find the screen with the lowest x, the\r\n    \t * screen with the lowest y, the screen with the higtest value of X+ width\r\n    \t * and the screen with the highest value of Y+height\r\n    \t * \r\n    \t * @return A rectangle that covers the all screens that might be nearby...\r\n    \t */\r\n    \tprivate static Rectangle getAllScreenBounds() {\r\n    \t\tRectangle allScreenBounds = new Rectangle();\r\n    \t\tGraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    \t\tGraphicsDevice[] screens = ge.getScreenDevices();\r\n    \r\n    \t\tint farx = 0;\r\n    \t\tint fary = 0;\r\n    \t\tfor (GraphicsDevice screen : screens) {\r\n    \t\t\tRectangle screenBounds = screen.getDefaultConfiguration().getBounds();\r\n    \t\t\t// finding the one corner\r\n    \t\t\tif (allScreenBounds.x &gt; screenBounds.x) {\r\n    \t\t\t\tallScreenBounds.x = screenBounds.x;\r\n    \t\t\t}\r\n    \t\t\tif (allScreenBounds.y &gt; screenBounds.y) {\r\n    \t\t\t\tallScreenBounds.y = screenBounds.y;\r\n    \t\t\t}\r\n    \t\t\t// finding the other corner\r\n    \t\t\tif (farx &lt; (screenBounds.x + screenBounds.width)) {\r\n    \t\t\t\tfarx = screenBounds.x + screenBounds.width;\r\n    \t\t\t}\r\n    \t\t\tif (fary &lt; (screenBounds.y + screenBounds.height)) {\r\n    \t\t\t\tfary = screenBounds.y + screenBounds.height;\r\n    \t\t\t}\r\n    \t\t\tallScreenBounds.width = farx - allScreenBounds.x;\r\n    \t\t\tallScreenBounds.height = fary - allScreenBounds.y;\r\n    \t\t}\r\n    \t\treturn allScreenBounds;\r\n    \t}\r\n    }\r\n","title":"Why is this Java program taking up so much memory?","body":"<p>I have a small piece of code that takes a screenshot of my desktop every five minutes.\nHowever I'm a little confused by the amount of memory it takes up - often it will creep up to 200mb of RAM, which I'm sure is excessive... Can anyone tell me a) sensible ways to reduce the memory footprint or b) why it's going up <em>at all</em>? </p>\n\n<pre><code>/**\n * Code modified from code given in http://whileonefork.blogspot.co.uk/2011/02/java-multi-monitor-screenshots.html following a SE question at  \n * http://stackoverflow.com/questions/10042086/screen-capture-in-java-not-capturing-whole-screen and then modified by a code review at http://codereview.stackexchange.com/questions/10783/java-screengrab\n */\npackage com.tmc.personal;\n\nimport java.awt.AWTException;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.TimeZone;\nimport java.util.concurrent.TimeUnit;\n\nimport javax.imageio.ImageIO;\n\nclass ScreenCapture {\n\n    static int minsBetweenScreenshots = 5;\n\n    public static void main(String args[]) {\n        int indexOfPicture = 1000;// should be only used for naming file...\n        while (true) {\n            takeScreenshot(\"ScreenCapture\" + indexOfPicture++);\n            try {\n                TimeUnit.MINUTES.sleep(minsBetweenScreenshots);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    //from http://www.coderanch.com/t/409980/java/java/append-file-timestamp\n    private  final static String getDateTime()\n    {\n        DateFormat df = new SimpleDateFormat(\"yyyy-MM-dd_hh:mm:ss\");\n        df.setTimeZone(TimeZone.getTimeZone(\"PST\"));\n        return df.format(new Date());\n    }\n\n    public static void takeScreenshot(String filename) {\n        Rectangle allScreenBounds = getAllScreenBounds();\n        Robot robot;\n        try {\n            robot = new Robot();\n            BufferedImage screenShot = robot.createScreenCapture(allScreenBounds);\n            ImageIO.write(screenShot, \"jpg\", new File(filename + getDateTime()+ \".jpg\"));\n        } catch (AWTException e) {\n            System.err.println(\"Something went wrong starting the robot\");\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.err.println(\"Something went wrong writing files\");\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Okay so all we have to do here is find the screen with the lowest x, the\n     * screen with the lowest y, the screen with the higtest value of X+ width\n     * and the screen with the highest value of Y+height\n     * \n     * @return A rectangle that covers the all screens that might be nearby...\n     */\n    private static Rectangle getAllScreenBounds() {\n        Rectangle allScreenBounds = new Rectangle();\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n        GraphicsDevice[] screens = ge.getScreenDevices();\n\n        int farx = 0;\n        int fary = 0;\n        for (GraphicsDevice screen : screens) {\n            Rectangle screenBounds = screen.getDefaultConfiguration().getBounds();\n            // finding the one corner\n            if (allScreenBounds.x &gt; screenBounds.x) {\n                allScreenBounds.x = screenBounds.x;\n            }\n            if (allScreenBounds.y &gt; screenBounds.y) {\n                allScreenBounds.y = screenBounds.y;\n            }\n            // finding the other corner\n            if (farx &lt; (screenBounds.x + screenBounds.width)) {\n                farx = screenBounds.x + screenBounds.width;\n            }\n            if (fary &lt; (screenBounds.y + screenBounds.height)) {\n                fary = screenBounds.y + screenBounds.height;\n            }\n            allScreenBounds.width = farx - allScreenBounds.x;\n            allScreenBounds.height = fary - allScreenBounds.y;\n        }\n        return allScreenBounds;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","rest"],"comments":[{"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"score":0,"creation_date":1661770644,"post_id":73527719,"comment_id":129842759,"body_markdown":"Is bookRepository autowired?\nAnd how is the service instantiated?\nI think it could be a problem if you use `Service service = new Service()`","body":"Is bookRepository autowired? And how is the service instantiated? I think it could be a problem if you use <code>Service service = new Service()</code>"},{"owner":{"account_id":16767755,"reputation":33,"user_id":12121012,"display_name":"Levent Kaya"},"score":0,"creation_date":1661770802,"post_id":73527719,"comment_id":129842813,"body_markdown":"@Nico No it is not autowired, I used `@RequiredArgsConstructor` and works for other Http methods include other Get methods.","body":"@Nico No it is not autowired, I used <code>@RequiredArgsConstructor</code> and works for other Http methods include other Get methods."},{"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"score":0,"creation_date":1661771050,"post_id":73527719,"comment_id":129842874,"body_markdown":"So that means you&#39;re creating the `bookRepository` somewhere else and then pass it to the service when it gets instantiated?  \nIs the `bookRepository` correctly created then, did you check that with a debugger?","body":"So that means you&#39;re creating the <code>bookRepository</code> somewhere else and then pass it to the service when it gets instantiated?   Is the <code>bookRepository</code> correctly created then, did you check that with a debugger?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1661771137,"post_id":73527719,"comment_id":129842897,"body_markdown":"You&#39;re creating a new `Book` object: `Book entity = new Book();` but you are not filling it with data from the response, so you&#39;re storing a `Book` object with empty values in the database. What is the line `jsonObject.put(ISBNCode, entity);` supposed to do? Note that this does not automatically copy everything from the response into the `Book` object.","body":"You&#39;re creating a new <code>Book</code> object: <code>Book entity = new Book();</code> but you are not filling it with data from the response, so you&#39;re storing a <code>Book</code> object with empty values in the database. What is the line <code>jsonObject.put(ISBNCode, entity);</code> supposed to do? Note that this does not automatically copy everything from the response into the <code>Book</code> object."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1661777432,"post_id":73527719,"comment_id":129845128,"body_markdown":"Assuming you have the proper, getter/setter in your book ditch the JSON handling and just do `ResponseEntity&lt;Book&gt; externalBook = restTemplate.getForEntity(uri, Book.class);`. Work with the framework instead of against it.","body":"Assuming you have the proper, getter/setter in your book ditch the JSON handling and just do <code>ResponseEntity&lt;Book&gt; externalBook = restTemplate.getForEntity(uri, Book.class);</code>. Work with the framework instead of against it."}],"answers":[{"tags":[],"owner":{"account_id":15302648,"reputation":92,"user_id":11042152,"display_name":"knowNothing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661799531,"creation_date":1661799531,"answer_id":73533493,"question_id":73527719,"body_markdown":"Did you try to debug or print &quot;entity&quot; object. I think it is null. I recommend you to use library like Gson to convert json to your entity class.","title":"Spring boot External API to JPA Database Returns Null","body":"<p>Did you try to debug or print &quot;entity&quot; object. I think it is null. I recommend you to use library like Gson to convert json to your entity class.</p>\n"},{"tags":[],"owner":{"account_id":13662117,"reputation":26,"user_id":9856870,"display_name":"A.Margaryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663022251,"creation_date":1663022251,"answer_id":73695913,"question_id":73527719,"body_markdown":"There are number of issue with this code:\r\n\r\n- The structure of JSON received from external service is not direclty correlated with Book. In the example JSON the data is a single-element entry\r\nwith ISBN as the key, and everything else is the value. So this JSON cannot be directly converted into the Book object.\r\n\r\n- The code `jsonObject.put(ISBNCode, entity)` does not do what the author of the post was hope to get (as I see it). It *does not* assign values from the JSON object to the Book fields. It just &quot;pushes&quot; a new entry into the JSON with the value of an &#39;empty&#39; Book.\r\n\r\n- And then finally the &#39;empty&#39; Book object is persisted, which assigns an ID, but all the other fields are null, so the result is expected.\r\n\r\n\r\nTo fix the problem I suggest to do the following:\r\n\r\n1. Introduce a DTO (ex. `BookDTO`) with the proper structure according the the example JSON, which might also include a Book field\r\n2. Use the Jackson mapper to convert the JSON to that DTO (ex. `mapper.readValue(externalBook, BookDTO.class)`)\r\n3. Build or get the Book instance from that DTO","title":"Spring boot External API to JPA Database Returns Null","body":"<p>There are number of issue with this code:</p>\n<ul>\n<li><p>The structure of JSON received from external service is not direclty correlated with Book. In the example JSON the data is a single-element entry\nwith ISBN as the key, and everything else is the value. So this JSON cannot be directly converted into the Book object.</p>\n</li>\n<li><p>The code <code>jsonObject.put(ISBNCode, entity)</code> does not do what the author of the post was hope to get (as I see it). It <em>does not</em> assign values from the JSON object to the Book fields. It just &quot;pushes&quot; a new entry into the JSON with the value of an 'empty' Book.</p>\n</li>\n<li><p>And then finally the 'empty' Book object is persisted, which assigns an ID, but all the other fields are null, so the result is expected.</p>\n</li>\n</ul>\n<p>To fix the problem I suggest to do the following:</p>\n<ol>\n<li>Introduce a DTO (ex. <code>BookDTO</code>) with the proper structure according the the example JSON, which might also include a Book field</li>\n<li>Use the Jackson mapper to convert the JSON to that DTO (ex. <code>mapper.readValue(externalBook, BookDTO.class)</code>)</li>\n<li>Build or get the Book instance from that DTO</li>\n</ol>\n"}],"owner":{"account_id":16767755,"reputation":33,"user_id":12121012,"display_name":"Levent Kaya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663022251,"creation_date":1661770474,"question_id":73527719,"body_markdown":"Hi I&#39;m trying to call an external API from my spring boot application and save to response to my local MySQL database, but the response returns null. \r\n\r\nMy Entity Class:\r\n\r\n    public class Book {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.AUTO\r\n    )\r\n    private Long id;\r\n    private String bookName;\r\n    private LocalDate publishYear;\r\n    private Integer stock;\r\n    private String ISBN;\r\n    private String bib_key;\r\n    private String info_url;\r\n    private String preview;\r\n    private String preview_url;\r\n    private String thumbnail_url;\r\n}\r\n\r\nMy Service : \r\n\r\n    public Book getExternal(String isbn) {\r\n        String uri = &quot;https://openlibrary.org/api/books?bibkeys=ISBN:&quot; + isbn + &quot;&amp;format=json&quot;;\r\n        String ISBNCode = &quot;ISBN:&quot; + isbn;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseEntity&lt;String&gt; externalBook = restTemplate.getForEntity(uri, String.class);\r\n        JSONObject jsonObject = new JSONObject(externalBook);\r\n        Book entity = new Book();\r\n        jsonObject.put(ISBNCode, entity);\r\n        bookRepository.saveAndFlush(entity);\r\n        return entity;\r\n    }\r\n\r\nWhen I try to print the response as String everyting is okay and I can see the response, but when I try to save this response to my database as Book entitity, everything returns null. And here is an example of a sample response:\r\n\r\n    {\r\n    &quot;ISBN:1931498717&quot;: {\r\n    &quot;bib_key&quot;: &quot;ISBN:1931498717&quot;,\r\n    &quot;info_url&quot;: &quot;https://openlibrary.org/books/OL34424821M/Don&#39;t_Think_of_an_Elephant!&quot;,\r\n    &quot;preview&quot;: &quot;borrow&quot;,\r\n    &quot;preview_url&quot;: &quot;https://archive.org/details/dontthinkofeleph0000lako&quot;,\r\n    &quot;thumbnail_url&quot;: &quot;https://covers.openlibrary.org/b/id/12039210-S.jpg&quot;\r\n    }\r\n    }\r\n\r\n\r\nI tried lot&#39;s of solutions include that ones answered on the Stackoverflow but my JPA is still null.\r\n\r\n    {\r\n        &quot;id&quot;: 42,\r\n        &quot;bookName&quot;: null,\r\n        &quot;publishYear&quot;: null,\r\n        &quot;stock&quot;: null,\r\n        &quot;bib_key&quot;: null,\r\n        &quot;info_url&quot;: null,\r\n        &quot;preview&quot;: null,\r\n        &quot;preview_url&quot;: null,\r\n        &quot;thumbnail_url&quot;: null,\r\n        &quot;kind&quot;: null,\r\n        &quot;isbn&quot;: null\r\n    }","title":"Spring boot External API to JPA Database Returns Null","body":"<p>Hi I'm trying to call an external API from my spring boot application and save to response to my local MySQL database, but the response returns null.</p>\n<p>My Entity Class:</p>\n<pre><code>public class Book {\n@Id\n@GeneratedValue(\n        strategy = GenerationType.AUTO\n)\nprivate Long id;\nprivate String bookName;\nprivate LocalDate publishYear;\nprivate Integer stock;\nprivate String ISBN;\nprivate String bib_key;\nprivate String info_url;\nprivate String preview;\nprivate String preview_url;\nprivate String thumbnail_url;\n</code></pre>\n<p>}</p>\n<p>My Service :</p>\n<pre><code>public Book getExternal(String isbn) {\n    String uri = &quot;https://openlibrary.org/api/books?bibkeys=ISBN:&quot; + isbn + &quot;&amp;format=json&quot;;\n    String ISBNCode = &quot;ISBN:&quot; + isbn;\n    RestTemplate restTemplate = new RestTemplate();\n    ResponseEntity&lt;String&gt; externalBook = restTemplate.getForEntity(uri, String.class);\n    JSONObject jsonObject = new JSONObject(externalBook);\n    Book entity = new Book();\n    jsonObject.put(ISBNCode, entity);\n    bookRepository.saveAndFlush(entity);\n    return entity;\n}\n</code></pre>\n<p>When I try to print the response as String everyting is okay and I can see the response, but when I try to save this response to my database as Book entitity, everything returns null. And here is an example of a sample response:</p>\n<pre><code>{\n&quot;ISBN:1931498717&quot;: {\n&quot;bib_key&quot;: &quot;ISBN:1931498717&quot;,\n&quot;info_url&quot;: &quot;https://openlibrary.org/books/OL34424821M/Don't_Think_of_an_Elephant!&quot;,\n&quot;preview&quot;: &quot;borrow&quot;,\n&quot;preview_url&quot;: &quot;https://archive.org/details/dontthinkofeleph0000lako&quot;,\n&quot;thumbnail_url&quot;: &quot;https://covers.openlibrary.org/b/id/12039210-S.jpg&quot;\n}\n}\n</code></pre>\n<p>I tried lot's of solutions include that ones answered on the Stackoverflow but my JPA is still null.</p>\n<pre><code>{\n    &quot;id&quot;: 42,\n    &quot;bookName&quot;: null,\n    &quot;publishYear&quot;: null,\n    &quot;stock&quot;: null,\n    &quot;bib_key&quot;: null,\n    &quot;info_url&quot;: null,\n    &quot;preview&quot;: null,\n    &quot;preview_url&quot;: null,\n    &quot;thumbnail_url&quot;: null,\n    &quot;kind&quot;: null,\n    &quot;isbn&quot;: null\n}\n</code></pre>\n"},{"tags":["java","x509certificate","bouncycastle"],"comments":[{"owner":{"account_id":85671,"reputation":40848,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1663021903,"post_id":73695853,"comment_id":130137165,"body_markdown":"What would be the point, since no software would accept it? Why not just sign it?","body":"What would be the point, since no software would accept it? Why not just sign it?"},{"owner":{"account_id":8737108,"reputation":30927,"user_id":6535399,"display_name":"bartonjs"},"score":0,"creation_date":1663022369,"post_id":73695853,"comment_id":130137248,"body_markdown":"All certificates have a signature, as the signature is a required field of the structure.  You could fill it with gibberish, or say it has length 0, or whatever, but you have to have one.  Of course, to @PresidentJamesK.Polk&#39;s point: anything other than a valid signature from a known algorithm is going to have very limited utility.","body":"All certificates have a signature, as the signature is a required field of the structure.  You could fill it with gibberish, or say it has length 0, or whatever, but you have to have one.  Of course, to @PresidentJamesK.Polk&#39;s point: anything other than a valid signature from a known algorithm is going to have very limited utility."},{"owner":{"account_id":6917264,"reputation":219,"user_id":5311017,"display_name":"JDMcMillian"},"score":0,"creation_date":1663022762,"post_id":73695853,"comment_id":130137323,"body_markdown":"@PresidentJamesK.Polk Thank you, but signing violates the requirements.  The requirement is to create a cert that is not signed.","body":"@PresidentJamesK.Polk Thank you, but signing violates the requirements.  The requirement is to create a cert that is not signed."},{"owner":{"account_id":6917264,"reputation":219,"user_id":5311017,"display_name":"JDMcMillian"},"score":0,"creation_date":1663022837,"post_id":73695853,"comment_id":130137339,"body_markdown":"@bartonjs Sounds interesting and might work.  How can I create a cert with a 0-length signature without going through the signing process?","body":"@bartonjs Sounds interesting and might work.  How can I create a cert with a 0-length signature without going through the signing process?"},{"owner":{"account_id":17617577,"reputation":1008,"user_id":12784276,"display_name":"Alan Carlyle"},"score":3,"creation_date":1663037261,"post_id":73695853,"comment_id":130139193,"body_markdown":"@JDMcMillian, the basic definition of X509 certificate is that it is certified by an issuer that signs it, either by being self signed or by another certificate.  If it was not signed it would not be able to be processed as an X509 certificate as it would effectively be lacking an issuer and only have a subject. This question has been examined more fully here - https://stackoverflow.com/questions/58146101/is-it-possible-to-create-a-x509-certificate-without-signature-field","body":"@JDMcMillian, the basic definition of X509 certificate is that it is certified by an issuer that signs it, either by being self signed or by another certificate.  If it was not signed it would not be able to be processed as an X509 certificate as it would effectively be lacking an issuer and only have a subject. This question has been examined more fully here - <a href=\"https://stackoverflow.com/questions/58146101/is-it-possible-to-create-a-x509-certificate-without-signature-field\" title=\"is it possible to create a x509 certificate without signature field\">stackoverflow.com/questions/58146101/&hellip;</a>"}],"owner":{"account_id":6917264,"reputation":219,"user_id":5311017,"display_name":"JDMcMillian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663021718,"creation_date":1663021718,"question_id":73695853,"body_markdown":"I get this may be out of the norm, but this is a solution to a current problem I&#39;m working on.\r\n\r\nI need to create an x509 certificate without signing it.  I realize this flies in the face of what a certificate is for, but can it be done?\r\n\r\nSpecifically, the platform is Java 11 with the BC library.\r\n\r\nIf it can be done, got an example?","title":"can I create an unsigned certficate","body":"<p>I get this may be out of the norm, but this is a solution to a current problem I'm working on.</p>\n<p>I need to create an x509 certificate without signing it.  I realize this flies in the face of what a certificate is for, but can it be done?</p>\n<p>Specifically, the platform is Java 11 with the BC library.</p>\n<p>If it can be done, got an example?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1663004904,"post_id":73692994,"comment_id":130132624,"body_markdown":"Is JWindow what you are looking for?","body":"Is JWindow what you are looking for?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1663004972,"post_id":73692994,"comment_id":130132649,"body_markdown":"Normally, if a `Container` isn&#39;t visible, it&#39;s children will not be either","body":"Normally, if a <code>Container</code> isn&#39;t visible, it&#39;s children will not be either"},{"owner":{"account_id":21188398,"reputation":29,"user_id":15581318,"display_name":"Peeyur"},"score":0,"creation_date":1663005158,"post_id":73692994,"comment_id":130132710,"body_markdown":"@ControlAltDel I&#39;ll be looking into it! Thank you for the suggestion! I also didn&#39;t know about that!","body":"@ControlAltDel I&#39;ll be looking into it! Thank you for the suggestion! I also didn&#39;t know about that!"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1663029095,"post_id":73692994,"comment_id":130138223,"body_markdown":"(1-) Don&#39;t repost question. Keep all the information in one place so everybody knows what has already been suggested. An undecorated frame will appear the same as a JWindow. You still haven&#39;t defined what &quot;invisible&quot; means to you or why an undecorated frame doesn&#39;t do what you want. Also, post an [mre] demonstrating you problem so we can see exactly what your problem is. An image is also helpful when asking a question.","body":"(1-) Don&#39;t repost question. Keep all the information in one place so everybody knows what has already been suggested. An undecorated frame will appear the same as a JWindow. You still haven&#39;t defined what &quot;invisible&quot; means to you or why an undecorated frame doesn&#39;t do what you want. Also, post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating you problem so we can see exactly what your problem is. An image is also helpful when asking a question."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663021014,"creation_date":1663021014,"answer_id":73695781,"question_id":73692994,"body_markdown":"Just make the frame background transparent:\r\n\r\n    JFrame frame = new JFrame();\r\n    frame.setUndecorated(true);\r\n    frame.setBackground(new Color(1.0f, 1.0f, 1.0f, 0.5f));\r\n    \r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    frame.setSize(500, 400);\r\n    frame.setLocationRelativeTo(null);\r\n    \r\n    JPanel panel = new JPanel(new BorderLayout());\r\n    panel.add(new JLabel(&quot;Top&quot;, SwingConstants.CENTER), BorderLayout.NORTH);\r\n    panel.add(new JLabel(&quot;Bottom&quot;, SwingConstants.CENTER), BorderLayout.SOUTH);\r\n    panel.add(new JLabel(&quot;Right&quot;, SwingConstants.CENTER), BorderLayout.EAST);\r\n    panel.add(new JLabel(&quot;Left&quot;, SwingConstants.CENTER), BorderLayout.WEST);\r\n    \r\n    frame.setLayout(new BorderLayout());\r\n    frame.add(panel, BorderLayout.CENTER);\r\n    \r\n    frame.setVisible(true);","title":"How to make JFrame INVISIBLE with a JPanel that is VISIBLE?","body":"<p>Just make the frame background transparent:</p>\n<pre><code>JFrame frame = new JFrame();\nframe.setUndecorated(true);\nframe.setBackground(new Color(1.0f, 1.0f, 1.0f, 0.5f));\n\nframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nframe.setSize(500, 400);\nframe.setLocationRelativeTo(null);\n\nJPanel panel = new JPanel(new BorderLayout());\npanel.add(new JLabel(&quot;Top&quot;, SwingConstants.CENTER), BorderLayout.NORTH);\npanel.add(new JLabel(&quot;Bottom&quot;, SwingConstants.CENTER), BorderLayout.SOUTH);\npanel.add(new JLabel(&quot;Right&quot;, SwingConstants.CENTER), BorderLayout.EAST);\npanel.add(new JLabel(&quot;Left&quot;, SwingConstants.CENTER), BorderLayout.WEST);\n\nframe.setLayout(new BorderLayout());\nframe.add(panel, BorderLayout.CENTER);\n\nframe.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":21188398,"reputation":29,"user_id":15581318,"display_name":"Peeyur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1663028050,"accepted_answer_id":73695781,"answer_count":1,"score":0,"last_activity_date":1663021014,"creation_date":1663003268,"question_id":73692994,"body_markdown":"I&#39;m sorry for using caps, my last attempt of asking this question wasn&#39;t clear which is fine.\r\nHow do I make the JFrame fully invisible, not: &#39;.setUndecorated(true)&#39;, but actually invisible and put a JPanel on that JFrame that is visible.\r\nSo pretty much, the JPanel will act as a JFrame, but I need the JFrame to be bigger than the JPanel because I&#39;d like to add shadow around the JPanel, which has been figured out already.","title":"How to make JFrame INVISIBLE with a JPanel that is VISIBLE?","body":"<p>I'm sorry for using caps, my last attempt of asking this question wasn't clear which is fine.\nHow do I make the JFrame fully invisible, not: '.setUndecorated(true)', but actually invisible and put a JPanel on that JFrame that is visible.\nSo pretty much, the JPanel will act as a JFrame, but I need the JFrame to be bigger than the JPanel because I'd like to add shadow around the JPanel, which has been figured out already.</p>\n"},{"tags":["java","apache-poi","powerpoint","xslf"],"answers":[{"tags":[],"owner":{"account_id":6527564,"reputation":71,"user_id":5049837,"display_name":"Nicolas Cailloux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480696295,"creation_date":1480696295,"answer_id":40936870,"question_id":35431714,"body_markdown":"You can&#39;t. I tried and tried, the problem is that the duplication does not handle images or charts. \r\n\r\nI had to copy files by hand through a script. Here are the steps: \r\n\r\n * Locate the slide file\r\n * Duplicate it\r\n * Find the chart object in the XML file, and note the _relation Id_\r\n * In the relations file, check which file is designated by the _relation Id_\r\n * Duplicate this file\r\n * You also have to duplicate the relation file for the new slide, and update the name\r\n * The new slide is not visible, you have to update _presentaion.xml_\r\n * **Please note**: if you want your PPTX to work with Microsoft Powerpoint, you&#39;ll also have to duplicate associated Excel workbook (see in the relation file of the chart)","title":"How to duplicate a slide containing a chart using apache POI?","body":"<p>You can't. I tried and tried, the problem is that the duplication does not handle images or charts. </p>\n\n<p>I had to copy files by hand through a script. Here are the steps: </p>\n\n<ul>\n<li>Locate the slide file</li>\n<li>Duplicate it</li>\n<li>Find the chart object in the XML file, and note the <em>relation Id</em></li>\n<li>In the relations file, check which file is designated by the <em>relation Id</em></li>\n<li>Duplicate this file</li>\n<li>You also have to duplicate the relation file for the new slide, and update the name</li>\n<li>The new slide is not visible, you have to update <em>presentaion.xml</em></li>\n<li><strong>Please note</strong>: if you want your PPTX to work with Microsoft Powerpoint, you'll also have to duplicate associated Excel workbook (see in the relation file of the chart)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1257266,"reputation":112,"user_id":1216479,"display_name":"Alain FAGOT B&#201;AREZ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589757346,"creation_date":1589757346,"answer_id":61860040,"question_id":35431714,"body_markdown":"Since Apache POI 4.0.0, the original code from the question will work to duplicate a slide.","title":"How to duplicate a slide containing a chart using apache POI?","body":"<p>Since Apache POI 4.0.0, the original code from the question will work to duplicate a slide.</p>\n"},{"tags":[],"owner":{"account_id":1339126,"reputation":720,"user_id":1281193,"accept_rate":71,"display_name":"NeeL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663020969,"creation_date":1663020969,"answer_id":73695772,"question_id":35431714,"body_markdown":"My problem was really close to yours with version 5.2.2, the chart was indeed correctly duplicated but the reference to the internal workbook of the sheet was copied too, by reference ! (It&#39;s actually done here : https://apache.googlesource.com/poi/+/refs/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xslf/usermodel/XSLFGraphicFrame.java#241 )\r\n\r\nIt means that when I edited the chart values in the duplicated slide I edited both chart values. It makes visually no difference in powerpoint at first but when you right-click&gt;edit data on the chart, it re-renders and the data changes visually.\r\n\r\nTo avoid that, just re-set the workbook of the chart to null so that it creates (or really load from the relation part) a new one for the duplicated chart\r\n\r\nThe code to duplicate a slide with a chart should look like this : \r\n```java\r\n        XSLFSlide oldSlide = ppt.getSlides().get(number);\r\n\t\tXSLFSlideLayout layout = oldSlide.getSlideLayout();\r\n\t\tXSLFSlide newSlide = ppt.createSlide(layout);\r\n\t\tnewSlide.importContent(oldSlide);\r\n\t\tnewSlide.getRelations().stream()\r\n\t\t\t\t.filter(r -&gt; r instanceof XSLFChart)\r\n\t\t\t\t.forEach(chart-&gt;((XSLFChart)chart).setWorkbook(null));\r\n        //to force loading the correct worksheet\r\n```\r\n\r\nI hope it help some people stumbling upon this :)","title":"How to duplicate a slide containing a chart using apache POI?","body":"<p>My problem was really close to yours with version 5.2.2, the chart was indeed correctly duplicated but the reference to the internal workbook of the sheet was copied too, by reference ! (It's actually done here : <a href=\"https://apache.googlesource.com/poi/+/refs/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xslf/usermodel/XSLFGraphicFrame.java#241\" rel=\"nofollow noreferrer\">https://apache.googlesource.com/poi/+/refs/tags/REL_5_2_2/poi-ooxml/src/main/java/org/apache/poi/xslf/usermodel/XSLFGraphicFrame.java#241</a> )</p>\n<p>It means that when I edited the chart values in the duplicated slide I edited both chart values. It makes visually no difference in powerpoint at first but when you right-click&gt;edit data on the chart, it re-renders and the data changes visually.</p>\n<p>To avoid that, just re-set the workbook of the chart to null so that it creates (or really load from the relation part) a new one for the duplicated chart</p>\n<p>The code to duplicate a slide with a chart should look like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        XSLFSlide oldSlide = ppt.getSlides().get(number);\n        XSLFSlideLayout layout = oldSlide.getSlideLayout();\n        XSLFSlide newSlide = ppt.createSlide(layout);\n        newSlide.importContent(oldSlide);\n        newSlide.getRelations().stream()\n                .filter(r -&gt; r instanceof XSLFChart)\n                .forEach(chart-&gt;((XSLFChart)chart).setWorkbook(null));\n        //to force loading the correct worksheet\n</code></pre>\n<p>I hope it help some people stumbling upon this :)</p>\n"}],"owner":{"account_id":1476968,"reputation":177,"user_id":5815019,"accept_rate":57,"display_name":"Romain Andr&#233;-Lovichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1663020969,"creation_date":1455623144,"question_id":35431714,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nDear all,\r\n\r\nI&#39;m working with Apache POI and I would like to duplicate a slide containing several charts from code.\r\n\r\nThe code below (inspired by https://poi.apache.org/slideshow/xslf-cookbook.html#Merge) works fine when there is no chart on the slide. \r\n\r\nUnfortunately, it seems that the charts are not duplicated with this method: when I try to open the resulting file, Powerpoint detects a problem, tries to repair it, but fails, and I get empty slides. \r\n\r\nI&#39;ve checked the underlying XML files (using Open XML SDK), and it seems that the chart themselves (in the folder `/ppt/charts`) are not duplicated, and the relationship files (in the folder `/ppt/slides/_rels`) are not completely updated.\r\n\r\nHere is my current code:\r\n\r\n    // Open slideshow\r\n    FileInputStream fileInputStream = new FileInputStream(sourceFilePath);\r\n    XMLSlideShow slideShow = new XMLSlideShow(fileInputStream);\r\n    fileInputStream.close();\r\n\r\n    // Duplicate slide\r\n    XSLFSlideLayout layout = slide.getSlideLayout();\r\n    XSLFSlide newSlide = slideshow.createSlide(layout);\r\n    newSlide.importContent(slide);\r\n    \r\n    // Save updated slideshow\r\n    FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\r\n    slideShow.write(fileOutputStream);\r\n    fileOutputStream.close();\r\n\r\nDo you know how I could clone a slide and its charts ?\r\n\r\nThanks a lot, and best regards!","title":"How to duplicate a slide containing a chart using apache POI?","body":"\n\n<p>Dear all,</p>\n\n<p>I'm working with Apache POI and I would like to duplicate a slide containing several charts from code.</p>\n\n<p>The code below (inspired by <a href=\"https://poi.apache.org/slideshow/xslf-cookbook.html#Merge\" rel=\"nofollow\">https://poi.apache.org/slideshow/xslf-cookbook.html#Merge</a>) works fine when there is no chart on the slide. </p>\n\n<p>Unfortunately, it seems that the charts are not duplicated with this method: when I try to open the resulting file, Powerpoint detects a problem, tries to repair it, but fails, and I get empty slides. </p>\n\n<p>I've checked the underlying XML files (using Open XML SDK), and it seems that the chart themselves (in the folder <code>/ppt/charts</code>) are not duplicated, and the relationship files (in the folder <code>/ppt/slides/_rels</code>) are not completely updated.</p>\n\n<p>Here is my current code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Open slideshow\nFileInputStream fileInputStream = new FileInputStream(sourceFilePath);\nXMLSlideShow slideShow = new XMLSlideShow(fileInputStream);\nfileInputStream.close();\n\n// Duplicate slide\nXSLFSlideLayout layout = slide.getSlideLayout();\nXSLFSlide newSlide = slideshow.createSlide(layout);\nnewSlide.importContent(slide);\n\n// Save updated slideshow\nFileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\nslideShow.write(fileOutputStream);\nfileOutputStream.close();\n</code></pre>\n\n<p>Do you know how I could clone a slide and its charts ?</p>\n\n<p>Thanks a lot, and best regards!</p>\n"},{"tags":["java","arrays","algorithm","bubble-sort"],"answers":[{"tags":[],"owner":{"account_id":1474271,"reputation":1908,"user_id":1385083,"accept_rate":57,"display_name":"Jamie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663014349,"creation_date":1663009293,"answer_id":73694096,"question_id":73693335,"body_markdown":"It appears to me that this is the problem:\r\n\r\n    public static void bubbleSortEven(int[] a){\r\n        for (int n = 0; n &lt; a.length; n++)\r\n        {\r\n            for (int i = 1; i &lt; n &amp;&amp; a[i] % 2 == 0; i++)\r\n                                     ^^^^^^^^^^^^^^\r\n\r\nAs you have already moved the odd numbers to the beginning of the array, a[1] is pretty much guaranteed to be odd, and so your loop will exit before it does anything because with i=1, a[i]%2 is 1.\r\n\r\nYou should probably start `sortEven` by scanning through the array to find the first even number, and then starting from there.\r\n\r\nAnother option would be to do a single bubble sort where you weight the even-ness more than the difference.  Something like:\r\n\r\n    int n1 = a[i-1];\r\n    int n2 = a[i];\r\n    if (n1%2 != n2%2) {\r\n      if (n1%2 == 0) {\r\n        // n1 is even and n2 is not. Swap them\r\n        change(a, i - 1, i);\r\n      }\r\n    } else if (n1 &gt; n2) {\r\n      change(a, i - 1, i);\r\n    }\r\n\r\n","title":"Group together and Sort Odd and Even elements of the Array using Bubble sort","body":"<p>It appears to me that this is the problem:</p>\n<pre><code>public static void bubbleSortEven(int[] a){\n    for (int n = 0; n &lt; a.length; n++)\n    {\n        for (int i = 1; i &lt; n &amp;&amp; a[i] % 2 == 0; i++)\n                                 ^^^^^^^^^^^^^^\n</code></pre>\n<p>As you have already moved the odd numbers to the beginning of the array, a[1] is pretty much guaranteed to be odd, and so your loop will exit before it does anything because with i=1, a[i]%2 is 1.</p>\n<p>You should probably start <code>sortEven</code> by scanning through the array to find the first even number, and then starting from there.</p>\n<p>Another option would be to do a single bubble sort where you weight the even-ness more than the difference.  Something like:</p>\n<pre><code>int n1 = a[i-1];\nint n2 = a[i];\nif (n1%2 != n2%2) {\n  if (n1%2 == 0) {\n    // n1 is even and n2 is not. Swap them\n    change(a, i - 1, i);\n  }\n} else if (n1 &gt; n2) {\n  change(a, i - 1, i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663020337,"creation_date":1663020337,"answer_id":73695699,"question_id":73693335,"body_markdown":"You can address this problem by sorting by sorting *odd* and *even* parts of the array. That would the solution a bit more concise.\r\n\r\nTo do that, we can obtain a *pivot* (index which would point either at the rightmost odd number or at the leftmost even number) while splitting the array into two parts.\r\n\r\nThen *pivot* index can be used as a boundary while sorting the array.\r\n\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static void sortEvenAndOdd(int[] arr) {\r\n        int pivot = split(arr);\r\n        sort(arr, pivot);\r\n    }\r\n    \r\n    public static int split(int[] arr) {\r\n        int odd = 0;\r\n        int even = arr.length - 1;\r\n    \r\n        while (true) {\r\n            while (arr[odd] % 2 != 0 &amp;&amp; odd &lt; even) odd++;\r\n            while (arr[even] % 2 == 0 &amp;&amp; odd &lt; even) even--;\r\n        \r\n            if (odd &lt; even) swap(arr, odd, even);\r\n            else break;\r\n        }\r\n        return odd;\r\n    }\r\n    \r\n    public static void sort(int[] arr, int pivot) {\r\n        int hiOdd = arr[pivot] % 2 != 0 ? pivot : pivot - 1; // if pivot points at the Even number - step one index back\r\n        \r\n        for (int odd = 0, even = 0; odd &lt;= hiOdd || arr.length - 1 - even &gt; hiOdd; odd++, even++) {\r\n            for (int i = 0; i &lt; hiOdd - odd; i++) {\r\n                if (arr[i] &gt; arr[i + 1]) swap(arr, i, i + 1);\r\n            }\r\n            for (int j = arr.length - 1; j &gt; hiOdd + even + 1; j--) {\r\n                \r\n                if (arr[j - 1] &gt; arr[j]) swap(arr, j, j - 1);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static void swap(int[] arr, int odd, int even) {\r\n        int temp = arr[odd];\r\n        arr[odd] = arr[even];\r\n        arr[even] = temp;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = {1,2,3,4,5,6,7,8,9,10};\r\n        sortEvenAndOdd(array);\r\n\r\n        System.out.println(Arrays.toString(array));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 3, 5, 7, 9, 2, 4, 6, 8, 10]\r\n```","title":"Group together and Sort Odd and Even elements of the Array using Bubble sort","body":"<p>You can address this problem by sorting by sorting <em>odd</em> and <em>even</em> parts of the array. That would the solution a bit more concise.</p>\n<p>To do that, we can obtain a <em>pivot</em> (index which would point either at the rightmost odd number or at the leftmost even number) while splitting the array into two parts.</p>\n<p>Then <em>pivot</em> index can be used as a boundary while sorting the array.</p>\n<p>That's how it might be implemented:</p>\n<pre><code>public static void sortEvenAndOdd(int[] arr) {\n    int pivot = split(arr);\n    sort(arr, pivot);\n}\n\npublic static int split(int[] arr) {\n    int odd = 0;\n    int even = arr.length - 1;\n\n    while (true) {\n        while (arr[odd] % 2 != 0 &amp;&amp; odd &lt; even) odd++;\n        while (arr[even] % 2 == 0 &amp;&amp; odd &lt; even) even--;\n    \n        if (odd &lt; even) swap(arr, odd, even);\n        else break;\n    }\n    return odd;\n}\n\npublic static void sort(int[] arr, int pivot) {\n    int hiOdd = arr[pivot] % 2 != 0 ? pivot : pivot - 1; // if pivot points at the Even number - step one index back\n    \n    for (int odd = 0, even = 0; odd &lt;= hiOdd || arr.length - 1 - even &gt; hiOdd; odd++, even++) {\n        for (int i = 0; i &lt; hiOdd - odd; i++) {\n            if (arr[i] &gt; arr[i + 1]) swap(arr, i, i + 1);\n        }\n        for (int j = arr.length - 1; j &gt; hiOdd + even + 1; j--) {\n            \n            if (arr[j - 1] &gt; arr[j]) swap(arr, j, j - 1);\n        }\n    }\n}\n\npublic static void swap(int[] arr, int odd, int even) {\n    int temp = arr[odd];\n    arr[odd] = arr[even];\n    arr[even] = temp;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    int[] array = {1,2,3,4,5,6,7,8,9,10};\n    sortEvenAndOdd(array);\n\n    System.out.println(Arrays.toString(array));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 3, 5, 7, 9, 2, 4, 6, 8, 10]\n</code></pre>\n"}],"owner":{"account_id":26316142,"reputation":21,"user_id":19978892,"display_name":"DennisJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663020849,"creation_date":1663005032,"question_id":73693335,"body_markdown":"I am trying to make an array where **odd** numbers are sorted in order using *Bubble sort* algorithm on the *left side* of the array, and **even** numbers are sorted in order on the right side of the array.\r\n\r\nThe output should be like this:\r\n```\r\nint[] a = {1,2,3,4,5,6,7,8,9,10}\r\noutput: 1 3 5 7 9 2 4 6 8 10\r\n```\r\nThe first split between even and odd numbers works, and also the sorting of the odd numbers, but the even numbers are not sorted, and I don&#39;t know why.\r\n\r\n**My Code:**\r\n```\r\npublic class ObligOppgave4 {\r\n\r\n    public static void main(String[] args) {\r\n        int[] a = {1,2,3,4,5,6,7,8,9,10};\r\n       \r\n        sortEvenAndOdd(a);\r\n        bubbleSortOdd(a);\r\n        bubbleSortEven(a);\r\n\r\n        print(a);\r\n    }\r\n\r\n    public static void sortEvenAndOdd(int[] a) {\r\n\r\n        int l = a.length;\r\n        int v = 0, h = l - 1;\r\n\r\n        if (a.length == 0) return;\r\n\r\n        while (v &lt;= h) {\r\n            if (((a[v] % 2) == 0) &amp;&amp; !((a[h] % 2) == 0)) {\r\n                change(a, v++, h--);\r\n            } else if ((a[v] % 2) == 0) {\r\n                h--;\r\n            } else if (!((a[h] % 2) == 0)) {\r\n                v++;\r\n            } else if (!((a[v] % 2) == 0) &amp;&amp; ((a[h] % 2) == 0)) {\r\n                v++;\r\n                h--;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void bubbleSortOdd(int[] a) {\r\n        for (int n = 0; n &lt; a.length; n++) {\r\n            for (int i = 1; i &lt; n &amp;&amp; a[i] % 2 != 0; i++) {\r\n                if (a[i - 1] &gt; a[i]) {\r\n                    change(a, i - 1, i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void bubbleSortEven(int[] a){\r\n        for (int n = 0; n &lt; a.length; n++) {\r\n            for (int i = 1; i &lt; n &amp;&amp; a[i] % 2 == 0; i++) {\r\n                if (a[i - 1] &gt; a[i]) {\r\n                    change(a, i ,i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void change(int[] a, int i, int j) {\r\n        int temp = a[i];\r\n        a[i] = a[j];\r\n        a[j] = temp;\r\n    }\r\n\r\n    public static void print(int[] a) {\r\n        for(int i = 0; i &lt; a.length; i++)\r\n            System.out.print(a[i] + &quot; &quot;);\r\n\r\n        System.out.println();\r\n    }\r\n}\r\n```","title":"Group together and Sort Odd and Even elements of the Array using Bubble sort","body":"<p>I am trying to make an array where <strong>odd</strong> numbers are sorted in order using <em>Bubble sort</em> algorithm on the <em>left side</em> of the array, and <strong>even</strong> numbers are sorted in order on the right side of the array.</p>\n<p>The output should be like this:</p>\n<pre><code>int[] a = {1,2,3,4,5,6,7,8,9,10}\noutput: 1 3 5 7 9 2 4 6 8 10\n</code></pre>\n<p>The first split between even and odd numbers works, and also the sorting of the odd numbers, but the even numbers are not sorted, and I don't know why.</p>\n<p><strong>My Code:</strong></p>\n<pre><code>public class ObligOppgave4 {\n\n    public static void main(String[] args) {\n        int[] a = {1,2,3,4,5,6,7,8,9,10};\n       \n        sortEvenAndOdd(a);\n        bubbleSortOdd(a);\n        bubbleSortEven(a);\n\n        print(a);\n    }\n\n    public static void sortEvenAndOdd(int[] a) {\n\n        int l = a.length;\n        int v = 0, h = l - 1;\n\n        if (a.length == 0) return;\n\n        while (v &lt;= h) {\n            if (((a[v] % 2) == 0) &amp;&amp; !((a[h] % 2) == 0)) {\n                change(a, v++, h--);\n            } else if ((a[v] % 2) == 0) {\n                h--;\n            } else if (!((a[h] % 2) == 0)) {\n                v++;\n            } else if (!((a[v] % 2) == 0) &amp;&amp; ((a[h] % 2) == 0)) {\n                v++;\n                h--;\n            }\n        }\n    }\n\n    public static void bubbleSortOdd(int[] a) {\n        for (int n = 0; n &lt; a.length; n++) {\n            for (int i = 1; i &lt; n &amp;&amp; a[i] % 2 != 0; i++) {\n                if (a[i - 1] &gt; a[i]) {\n                    change(a, i - 1, i);\n                }\n            }\n        }\n    }\n\n    public static void bubbleSortEven(int[] a){\n        for (int n = 0; n &lt; a.length; n++) {\n            for (int i = 1; i &lt; n &amp;&amp; a[i] % 2 == 0; i++) {\n                if (a[i - 1] &gt; a[i]) {\n                    change(a, i ,i);\n                }\n            }\n        }\n    }\n\n    public static void change(int[] a, int i, int j) {\n        int temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n\n    public static void print(int[] a) {\n        for(int i = 0; i &lt; a.length; i++)\n            System.out.print(a[i] + &quot; &quot;);\n\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":1518561,"reputation":2184,"user_id":1418938,"accept_rate":56,"display_name":"Davey Chu"},"score":0,"creation_date":1372534592,"post_id":17384008,"comment_id":25235658,"body_markdown":"Catch the RollbackException.","body":"Catch the RollbackException."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":2,"creation_date":1372534829,"post_id":17384008,"comment_id":25235724,"body_markdown":"You may never be able to catch it due to wrapping. But.. try flushing the session in the line below `memberDao.create(newMember);` (while still inside the `try` block).","body":"You may never be able to catch it due to wrapping. But.. try flushing the session in the line below <code>memberDao.create(newMember);</code> (while still inside the <code>try</code> block)."},{"owner":{"account_id":76507,"reputation":3223,"user_id":218971,"display_name":"Michał Zalewski"},"score":1,"creation_date":1638568284,"post_id":17384008,"comment_id":124132471,"body_markdown":"@acdcjunior Thanks! It&#39;s so simple to forget that calling method on entity manager is not the same as running SQL in DB and JPA make calls later :D","body":"@acdcjunior Thanks! It&#39;s so simple to forget that calling method on entity manager is not the same as running SQL in DB and JPA make calls later :D"}],"answers":[{"tags":[],"owner":{"account_id":1797603,"reputation":3764,"user_id":1636680,"display_name":"eternay"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1372537610,"creation_date":1372534691,"answer_id":17384035,"question_id":17384008,"body_markdown":"It is wrapped in a `EJBTransactionRolledbackException`, so you should try to catch that one instead of `ConstraintViolationException`.\r\n\r\nThe `ConstraintViolationException` is first wrapped by a `PersistenceException`, then by a `RollbackException`, and at last by an `EJBTransactionRolledbackException`.\r\n\r\nYou should call the `getCause()` method of the `Exception` till you encounter the constraint violation or null, which would indicate that the exception is not due to a constraint violation. You can try something like:\r\n\r\n    try {\r\n        memberDao.create(newMember);\r\n    } catch (EJBTransactionRolledbackException e) {\r\n        Throwable t = e.getCause();\r\n        while ((t != null) &amp;&amp; !(t instanceof ConstraintViolationException)) {\r\n            t = t.getCause();\r\n        }\r\n        if (t instanceof ConstraintViolationException) {\r\n            // Here you&#39;re sure you have a ConstraintViolationException, you can handle it\r\n        }\r\n    }\r\n","title":"Can&#39;t catch ConstraintViolationException","body":"<p>It is wrapped in a <code>EJBTransactionRolledbackException</code>, so you should try to catch that one instead of <code>ConstraintViolationException</code>.</p>\n\n<p>The <code>ConstraintViolationException</code> is first wrapped by a <code>PersistenceException</code>, then by a <code>RollbackException</code>, and at last by an <code>EJBTransactionRolledbackException</code>.</p>\n\n<p>You should call the <code>getCause()</code> method of the <code>Exception</code> till you encounter the constraint violation or null, which would indicate that the exception is not due to a constraint violation. You can try something like:</p>\n\n<pre><code>try {\n    memberDao.create(newMember);\n} catch (EJBTransactionRolledbackException e) {\n    Throwable t = e.getCause();\n    while ((t != null) &amp;&amp; !(t instanceof ConstraintViolationException)) {\n        t = t.getCause();\n    }\n    if (t instanceof ConstraintViolationException) {\n        // Here you're sure you have a ConstraintViolationException, you can handle it\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14264629,"reputation":127,"user_id":10304251,"display_name":"ashwani kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663020763,"creation_date":1663020763,"answer_id":73695751,"question_id":17384008,"body_markdown":"For me, it was a stupid reason.\r\n\r\n```ConstraintViolationException``` that I had in my ```Catch``` block was imported from ```javax.validation``` package. Ideally, it should have come from ```org.hibernate.exception``` package.","title":"Can&#39;t catch ConstraintViolationException","body":"<p>For me, it was a stupid reason.</p>\n<p><code>ConstraintViolationException</code> that I had in my <code>Catch</code> block was imported from <code>javax.validation</code> package. Ideally, it should have come from <code>org.hibernate.exception</code> package.</p>\n"}],"owner":{"account_id":1293547,"reputation":906,"user_id":1245177,"accept_rate":65,"display_name":"Anton Giertli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38446,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":17384035,"answer_count":2,"score":20,"last_activity_date":1663020763,"creation_date":1372534483,"question_id":17384008,"body_markdown":"I can&#39;t seem to catch constraint violation Exception though I see it in the logs.\r\n\r\nEntity\r\n\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\nI  am trying to catch it like this\r\n\r\n    try {\r\n            memberDao.create(newMember);\r\n    } catch (ConstraintViolationException e) {\r\n    \t\r\n    \t//\r\n    \t\r\n    }\r\n\r\n-- it never reaches the catch block.\r\n\r\nWhen I use\r\n\r\ncatch (Exception e)\r\n\r\nI catch &quot;javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.&quot;\r\n\r\n\r\nHere is the error log:\r\n\r\n    21:24:36,296 ERROR [org.jboss.ejb3.invocation] (http--127.0.0.1-8080-5) JBAS014134: EJB Invocation failed on component MemberDAOImpl for method public abstract void pv243.peaktogether.dao.MemberDAOInt.create(pv243.peaktogether.model.Member): javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\tat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n\tat pv243.peaktogether.dao.MemberDAOInt$$$view178.create(Unknown Source) [peaktogether-ejb-0.0.1-SNAPSHOT.jar:]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_17]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_17]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_17]\r\n\tat java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_17]\r\n\tat org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:111) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat pv243.peaktogether.dao.MemberDAOInt$-682821774$Proxy$_$$_Weld$Proxy$.create(MemberDAOInt$-682821774$Proxy$_$$_Weld$Proxy$.java) [peaktogether-ejb-0.0.1-SNAPSHOT.jar:]\r\n\tat pv243.peaktogether.web.controller.RegisterController.register(RegisterController.java:95)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_17]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_17]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_17]\r\n\tat java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_17]\r\n\tat org.apache.el.parser.AstValue.invoke(AstValue.java:262)\r\n\tat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278)\r\n\tat org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:39) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n\tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)\r\n\tat \r\n\r\n    com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\r\n    \tat javax.faces.component.UICommand.broadcast(UICommand.java:315)\r\n    \tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)\r\n    \tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)\r\n    \tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\r\n    \tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n    \tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\r\n    \tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n    \tat org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n    \tat pv243.peaktogether.filters.SecurityFilter.doFilter(SecurityFilter.java:48)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n    \tat pv243.peaktogether.filters.EncodingFilter.doFilter(EncodingFilter.java:20)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)\r\n    \tat org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368)\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877)\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930)\r\n    \tat java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]\r\n    Caused by: javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1177)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117)\r\n    \tat com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \t... 75 more\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: ERROR: duplicate key value violates unique constraint &quot;member_email_key&quot;\r\n      Detail: Key (email)=(email@test.com) already exists.\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1295) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl$CallbackExceptionMapperImpl.mapManagedFlushFailure(AbstractEntityManagerImpl.java:1481) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:109) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:53) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\r\n    \tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\r\n    \t... 78 more\r\n    Caused by: org.hibernate.exception.ConstraintViolationException: ERROR: duplicate key value violates unique constraint &quot;member_email_key&quot;\r\n      Detail: Key (email)=(email@test.com) already exists.\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:128) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat sun.proxy.$Proxy99.executeUpdate(Unknown Source)\r\n    \tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:56) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2849) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 84 more\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;member_email_key&quot;\r\n      Detail: Key (email)=(email@test.com) already exists.\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2157) [postgresql-8.4-701.jdbc4.jar:]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1886) [postgresql-8.4-701.jdbc4.jar:]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255) [postgresql-8.4-701.jdbc4.jar:]\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:555) [postgresql-8.4-701.jdbc4.jar:]\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:417) [postgresql-8.4-701.jdbc4.jar:]\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeUpdate(AbstractJdbc2Statement.java:363) [postgresql-8.4-701.jdbc4.jar:]\r\n    \tat org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:493)\r\n    \tat sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) [:1.7.0_17]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_17]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_17]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 98 more\r\n\r\n\r\n\r\nWhat am I doing wrong ?\r\n\r\n\r\nUPDATE&gt;&gt;\r\n\r\nMy current code is:\r\n\r\n   \r\n    try {\r\n            memberDao.create(newMember);\r\n            \r\n    } catch (EJBTransactionRolledbackException e) {\r\n    \tlog.info(&quot;Exception caught!! &quot;+e.getCausedByException());\r\n    \tlog.info(&quot;Exception caught!! &quot;+e.getCause());\r\n    \tlog.info(&quot;Exception caught!! &quot;+e.getMessage());\r\n    \t\r\n    \tStackTraceElement[] stack = e.getStackTrace();\r\n    \t\r\n    \tfor (int i = 0; i&lt; stack.length; i++) {\r\n    \t\t\r\n    \t\tlog.info(stack[i].toString());\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd the log is\r\n\r\n   \r\n\r\n     22:02:57,297 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) Exception caught!! javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\r\n    22:02:57,298 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) Exception caught!! javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\r\n    22:02:57,298 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) Exception caught!! Transaction rolled back\r\n    22:02:57,298 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115)\r\n    22:02:57,299 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95)\r\n    22:02:57,299 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232)\r\n    22:02:57,299 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304)\r\n    22:02:57,300 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190)\r\n    22:02:57,300 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\r\n    22:02:57,300 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\r\n    22:02:57,301 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\r\n    22:02:57,301 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59)\r\n    22:02:57,301 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\r\n    22:02:57,302 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\r\n    22:02:57,302 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\r\n    22:02:57,302 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32)\r\n    22:02:57,303 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\r\n    22:02:57,303 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45)\r\n    22:02:57,303 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\r\n    22:02:57,304 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\r\n    22:02:57,304 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165)\r\n    22:02:57,304 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173)\r\n    22:02:57,305 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\r\n    22:02:57,305 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\r\n    22:02:57,305 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72)\r\n    22:02:57,306 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.dao.MemberDAOInt$$$view241.create(Unknown Source)\r\n    22:02:57,306 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    22:02:57,306 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    22:02:57,307 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    22:02:57,307 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) java.lang.reflect.Method.invoke(Method.java:601)\r\n    22:02:57,307 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264)\r\n    22:02:57,308 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52)\r\n    22:02:57,308 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137)\r\n    22:02:57,308 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260)\r\n    22:02:57,309 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:111)\r\n    22:02:57,309 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\r\n    22:02:57,309 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)\r\n    22:02:57,310 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.dao.MemberDAOInt$-682821774$Proxy$_$$_Weld$Proxy$.create(MemberDAOInt$-682821774$Proxy$_$$_Weld$Proxy$.java)\r\n    22:02:57,310 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.web.controller.RegisterController.register(RegisterController.java:98)\r\n    22:02:57,310 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    22:02:57,310 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    22:02:57,311 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    22:02:57,311 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) java.lang.reflect.Method.invoke(Method.java:601)\r\n    22:02:57,311 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.el.parser.AstValue.invoke(AstValue.java:262)\r\n    22:02:57,312 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278)\r\n    22:02:57,312 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:39)\r\n    22:02:57,312 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)\r\n    22:02:57,313 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\r\n    22:02:57,313 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)\r\n    22:02:57,313 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\r\n    22:02:57,313 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.component.UICommand.broadcast(UICommand.java:315)\r\n    22:02:57,314 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)\r\n    22:02:57,314 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)\r\n    22:02:57,314 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\r\n    22:02:57,315 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n    22:02:57,315 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\r\n    22:02:57,315 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)\r\n    22:02:57,315 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329)\r\n    22:02:57,316 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n    22:02:57,316 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62)\r\n    22:02:57,317 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n    22:02:57,317 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n    22:02:57,317 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.filters.SecurityFilter.doFilter(SecurityFilter.java:48)\r\n    22:02:57,317 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n    22:02:57,318 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n    22:02:57,318 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.filters.EncodingFilter.doFilter(EncodingFilter.java:20)\r\n    22:02:57,318 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n    22:02:57,319 INFO  [pv243.peaktogether.web.controller.RegisterController] (http-\r\n\r\nEnvironment:\r\nPostgreSQL 9.2\r\nJBoss AS 7.1.1\r\nJPA 2.0\r\n\r\nCheers,\r\nOSiRiS","title":"Can&#39;t catch ConstraintViolationException","body":"<p>I can't seem to catch constraint violation Exception though I see it in the logs.</p>\n\n<p>Entity</p>\n\n<pre><code>@Column(unique = true)\nprivate String email;\n</code></pre>\n\n<p>I  am trying to catch it like this</p>\n\n<pre><code>try {\n        memberDao.create(newMember);\n} catch (ConstraintViolationException e) {\n\n    //\n\n}\n</code></pre>\n\n<p>-- it never reaches the catch block.</p>\n\n<p>When I use</p>\n\n<p>catch (Exception e)</p>\n\n<p>I catch \"javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\"</p>\n\n<p>Here is the error log:</p>\n\n<pre><code>21:24:36,296 ERROR [org.jboss.ejb3.invocation] (http--127.0.0.1-8080-5) JBAS014134: EJB Invocation failed on component MemberDAOImpl for method public abstract void pv243.peaktogether.dao.MemberDAOInt.create(pv243.peaktogether.model.Member): javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\nat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\nat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\nat pv243.peaktogether.dao.MemberDAOInt$$$view178.create(Unknown Source) [peaktogether-ejb-0.0.1-SNAPSHOT.jar:]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_17]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_17]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_17]\nat java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_17]\nat org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:111) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat pv243.peaktogether.dao.MemberDAOInt$-682821774$Proxy$_$$_Weld$Proxy$.create(MemberDAOInt$-682821774$Proxy$_$$_Weld$Proxy$.java) [peaktogether-ejb-0.0.1-SNAPSHOT.jar:]\nat pv243.peaktogether.web.controller.RegisterController.register(RegisterController.java:95)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_17]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_17]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_17]\nat java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_17]\nat org.apache.el.parser.AstValue.invoke(AstValue.java:262)\nat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278)\nat org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:39) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\nat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\nat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)\nat \n\ncom.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n    at javax.faces.component.UICommand.broadcast(UICommand.java:315)\n    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)\n    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)\n    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n    at org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n    at pv243.peaktogether.filters.SecurityFilter.doFilter(SecurityFilter.java:48)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n    at pv243.peaktogether.filters.EncodingFilter.doFilter(EncodingFilter.java:20)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)\n    at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930)\n    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]\nCaused by: javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1177)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117)\n    at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    ... 75 more\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: ERROR: duplicate key value violates unique constraint \"member_email_key\"\n  Detail: Key (email)=(email@test.com) already exists.\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1295) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl$CallbackExceptionMapperImpl.mapManagedFlushFailure(AbstractEntityManagerImpl.java:1481) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:109) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:53) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\n    ... 78 more\nCaused by: org.hibernate.exception.ConstraintViolationException: ERROR: duplicate key value violates unique constraint \"member_email_key\"\n  Detail: Key (email)=(email@test.com) already exists.\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:128) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at sun.proxy.$Proxy99.executeUpdate(Unknown Source)\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:56) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2849) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 84 more\nCaused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"member_email_key\"\n  Detail: Key (email)=(email@test.com) already exists.\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2157) [postgresql-8.4-701.jdbc4.jar:]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1886) [postgresql-8.4-701.jdbc4.jar:]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255) [postgresql-8.4-701.jdbc4.jar:]\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:555) [postgresql-8.4-701.jdbc4.jar:]\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:417) [postgresql-8.4-701.jdbc4.jar:]\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeUpdate(AbstractJdbc2Statement.java:363) [postgresql-8.4-701.jdbc4.jar:]\n    at org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:493)\n    at sun.reflect.GeneratedMethodAccessor206.invoke(Unknown Source) [:1.7.0_17]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_17]\n    at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_17]\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 98 more\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n\n<p>UPDATE>></p>\n\n<p>My current code is:</p>\n\n<pre><code>try {\n        memberDao.create(newMember);\n\n} catch (EJBTransactionRolledbackException e) {\n    log.info(\"Exception caught!! \"+e.getCausedByException());\n    log.info(\"Exception caught!! \"+e.getCause());\n    log.info(\"Exception caught!! \"+e.getMessage());\n\n    StackTraceElement[] stack = e.getStackTrace();\n\n    for (int i = 0; i&lt; stack.length; i++) {\n\n        log.info(stack[i].toString());\n    }\n\n}\n</code></pre>\n\n<p>And the log is</p>\n\n<pre><code> 22:02:57,297 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) Exception caught!! javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\n22:02:57,298 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) Exception caught!! javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\n22:02:57,298 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) Exception caught!! Transaction rolled back\n22:02:57,298 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115)\n22:02:57,299 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95)\n22:02:57,299 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232)\n22:02:57,299 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304)\n22:02:57,300 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190)\n22:02:57,300 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\n22:02:57,300 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\n22:02:57,301 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\n22:02:57,301 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59)\n22:02:57,301 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\n22:02:57,302 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\n22:02:57,302 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\n22:02:57,302 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32)\n22:02:57,303 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\n22:02:57,303 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45)\n22:02:57,303 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\n22:02:57,304 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\n22:02:57,304 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165)\n22:02:57,304 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173)\n22:02:57,305 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288)\n22:02:57,305 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\n22:02:57,305 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72)\n22:02:57,306 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.dao.MemberDAOInt$$$view241.create(Unknown Source)\n22:02:57,306 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n22:02:57,306 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n22:02:57,307 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n22:02:57,307 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) java.lang.reflect.Method.invoke(Method.java:601)\n22:02:57,307 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.reflection.SecureReflections$13.work(SecureReflections.java:264)\n22:02:57,308 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.reflection.SecureReflectionAccess.run(SecureReflectionAccess.java:52)\n22:02:57,308 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.reflection.SecureReflectionAccess.runAsInvocation(SecureReflectionAccess.java:137)\n22:02:57,308 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.reflection.SecureReflections.invoke(SecureReflections.java:260)\n22:02:57,309 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:111)\n22:02:57,309 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\n22:02:57,309 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:105)\n22:02:57,310 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.dao.MemberDAOInt$-682821774$Proxy$_$$_Weld$Proxy$.create(MemberDAOInt$-682821774$Proxy$_$$_Weld$Proxy$.java)\n22:02:57,310 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.web.controller.RegisterController.register(RegisterController.java:98)\n22:02:57,310 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n22:02:57,310 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n22:02:57,311 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n22:02:57,311 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) java.lang.reflect.Method.invoke(Method.java:601)\n22:02:57,311 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.el.parser.AstValue.invoke(AstValue.java:262)\n22:02:57,312 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:278)\n22:02:57,312 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:39)\n22:02:57,312 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)\n22:02:57,313 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\n22:02:57,313 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:88)\n22:02:57,313 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n22:02:57,313 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.component.UICommand.broadcast(UICommand.java:315)\n22:02:57,314 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)\n22:02:57,314 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)\n22:02:57,314 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\n22:02:57,315 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n22:02:57,315 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\n22:02:57,315 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)\n22:02:57,315 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329)\n22:02:57,316 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n22:02:57,316 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62)\n22:02:57,317 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n22:02:57,317 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n22:02:57,317 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.filters.SecurityFilter.doFilter(SecurityFilter.java:48)\n22:02:57,317 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n22:02:57,318 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n22:02:57,318 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) pv243.peaktogether.filters.EncodingFilter.doFilter(EncodingFilter.java:20)\n22:02:57,318 INFO  [pv243.peaktogether.web.controller.RegisterController] (http--127.0.0.1-8080-6) org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n22:02:57,319 INFO  [pv243.peaktogether.web.controller.RegisterController] (http-\n</code></pre>\n\n<p>Environment:\nPostgreSQL 9.2\nJBoss AS 7.1.1\nJPA 2.0</p>\n\n<p>Cheers,\nOSiRiS</p>\n"},{"tags":["java","reflection","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":269420,"reputation":6750,"user_id":558751,"accept_rate":80,"display_name":"Amol Katdare"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1296671490,"creation_date":1296671490,"answer_id":4878335,"question_id":4877729,"body_markdown":"After doing some research, the short answer to &quot;Is it possible...&quot; question is **No**.","title":"Is it possible automatically instantiation of a nested Property with Commons Bean Utils?","body":"<p>After doing some research, the short answer to \"Is it possible...\" question is <strong>No</strong>.</p>\n"},{"tags":[],"owner":{"account_id":178757,"reputation":11335,"user_id":410946,"accept_rate":88,"display_name":"Alfredo Osorio"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1300137317,"creation_date":1296688564,"answer_id":4881082,"question_id":4877729,"body_markdown":"I solved it by doing this:\r\n\r\n\tprivate void instantiateNestedProperties(Object obj, String fieldName) {\r\n\t\ttry {\r\n\t\t\tString[] fieldNames = fieldName.split(&quot;\\\\.&quot;);\r\n\t\t\tif (fieldNames.length &gt; 1) {\r\n\t\t\t\tStringBuffer nestedProperty = new StringBuffer();\r\n\t\t\t\tfor (int i = 0; i &lt; fieldNames.length - 1; i++) {\r\n\t\t\t\t\tString fn = fieldNames[i];\r\n\t\t\t\t\tif (i != 0) {\r\n\t\t\t\t\t\tnestedProperty.append(&quot;.&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnestedProperty.append(fn);\r\n\t\t\t\t\t\r\n\t\t\t\t\tObject value = PropertyUtils.getProperty(obj, nestedProperty.toString());\r\n\r\n\t\t\t\t\tif (value == null) {\r\n\t\t\t\t\t\tPropertyDescriptor propertyDescriptor = PropertyUtils.getPropertyDescriptor(obj, nestedProperty.toString());\r\n\t\t\t\t\t\tClass&lt;?&gt; propertyType = propertyDescriptor.getPropertyType();\r\n\t\t\t\t\t\tObject newInstance = propertyType.newInstance();\r\n\t\t\t\t\t\tPropertyUtils.setProperty(obj, nestedProperty.toString(), newInstance);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IllegalAccessException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t} catch (InvocationTargetException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t} catch (NoSuchMethodException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t} catch (InstantiationException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}","title":"Is it possible automatically instantiation of a nested Property with Commons Bean Utils?","body":"<p>I solved it by doing this:</p>\n\n<pre><code>private void instantiateNestedProperties(Object obj, String fieldName) {\n    try {\n        String[] fieldNames = fieldName.split(\"\\\\.\");\n        if (fieldNames.length &gt; 1) {\n            StringBuffer nestedProperty = new StringBuffer();\n            for (int i = 0; i &lt; fieldNames.length - 1; i++) {\n                String fn = fieldNames[i];\n                if (i != 0) {\n                    nestedProperty.append(\".\");\n                }\n                nestedProperty.append(fn);\n\n                Object value = PropertyUtils.getProperty(obj, nestedProperty.toString());\n\n                if (value == null) {\n                    PropertyDescriptor propertyDescriptor = PropertyUtils.getPropertyDescriptor(obj, nestedProperty.toString());\n                    Class&lt;?&gt; propertyType = propertyDescriptor.getPropertyType();\n                    Object newInstance = propertyType.newInstance();\n                    PropertyUtils.setProperty(obj, nestedProperty.toString(), newInstance);\n                }\n            }\n        }\n    } catch (IllegalAccessException e) {\n        throw new RuntimeException(e);\n    } catch (InvocationTargetException e) {\n        throw new RuntimeException(e);\n    } catch (NoSuchMethodException e) {\n        throw new RuntimeException(e);\n    } catch (InstantiationException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":679929,"reputation":21,"user_id":633909,"display_name":"pfuy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337358619,"creation_date":1298628378,"answer_id":5115914,"question_id":4877729,"body_markdown":"A little correction:\r\n\r\n    String fn = fieldNames[i];\r\n    if (i != 0) {\r\n            nestedProperty.append(&quot;.&quot;);\r\n    }\r\n    nestedProperty.append(fn);\r\n    Object value = PropertyUtils.getProperty(obj, nestedProperty.toString());","title":"Is it possible automatically instantiation of a nested Property with Commons Bean Utils?","body":"<p>A little correction:</p>\n\n<pre><code>String fn = fieldNames[i];\nif (i != 0) {\n        nestedProperty.append(\".\");\n}\nnestedProperty.append(fn);\nObject value = PropertyUtils.getProperty(obj, nestedProperty.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2610976,"reputation":623,"user_id":2261088,"accept_rate":74,"display_name":"Seng Zhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438049203,"creation_date":1438049203,"answer_id":31666259,"question_id":4877729,"body_markdown":"I have used only reflection w/o Apache library to achieve this. The assumption is that all object to be traversed are all POJOs, and default construction is publicly accessible. This way, there is no need to construct the reference path for each loop.\r\n\r\n    public Object getOrCreateEmbeddedObject(Object inputObj,String[] fieldNames) throws Exception {\r\n\r\n\t\tObject cursor = inputObj;\r\n\r\n        //Loop until second last index\r\n\t\tfor (int i = 0; i &lt; fieldNames.length - 1; i++){\r\n\t\t\tField ff = getClassFieldFrom(cursor,fieldNames[i]);\r\n\t\t\tObject child = ff.get(cursor);\r\n\t\t\tif(null == child) {\r\n\t\t\t\tClass&lt;?&gt; cls=ff.getType();\r\n\t\t\t\tchild = cls.newInstance();\r\n\t\t\t\tff.set(cursor, child);\r\n\t\t\t}\r\n\t\t\tcursor = child;\r\n\t\t}\r\n\t\t\r\n\t\treturn cursor;\r\n\t}\r\n\r\n    private Field getClassFieldFrom(Object object, String fieldStr)\r\n    \t\t\tthrows NoSuchFieldException {\r\n    \t\tjava.lang.reflect.Field ff = object.getClass().getDeclaredField(fieldStr);\r\n    \t\tff.setAccessible(true);\r\n    \t\treturn ff;\r\n    }\r\n\r\nIf you have any suggestion to my solution , please let me know.","title":"Is it possible automatically instantiation of a nested Property with Commons Bean Utils?","body":"<p>I have used only reflection w/o Apache library to achieve this. The assumption is that all object to be traversed are all POJOs, and default construction is publicly accessible. This way, there is no need to construct the reference path for each loop.</p>\n\n<pre><code>public Object getOrCreateEmbeddedObject(Object inputObj,String[] fieldNames) throws Exception {\n\n    Object cursor = inputObj;\n\n    //Loop until second last index\n    for (int i = 0; i &lt; fieldNames.length - 1; i++){\n        Field ff = getClassFieldFrom(cursor,fieldNames[i]);\n        Object child = ff.get(cursor);\n        if(null == child) {\n            Class&lt;?&gt; cls=ff.getType();\n            child = cls.newInstance();\n            ff.set(cursor, child);\n        }\n        cursor = child;\n    }\n\n    return cursor;\n}\n\nprivate Field getClassFieldFrom(Object object, String fieldStr)\n            throws NoSuchFieldException {\n        java.lang.reflect.Field ff = object.getClass().getDeclaredField(fieldStr);\n        ff.setAccessible(true);\n        return ff;\n}\n</code></pre>\n\n<p>If you have any suggestion to my solution , please let me know.</p>\n"},{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445003682,"creation_date":1445003682,"answer_id":33172277,"question_id":4877729,"body_markdown":"I went for the very basic approach of just instantiating each of the objects by default:\r\n\r\n    public class A {\r\n        B b = new B();\r\n    }\r\n\r\n    public class B {\r\n        C c = new C();\r\n    }\r\n\r\n    public class C {\r\n    }\r\n\r\nNot ideal, but it worked for my situation and didn&#39;t involve complicated fixes.\r\n","title":"Is it possible automatically instantiation of a nested Property with Commons Bean Utils?","body":"<p>I went for the very basic approach of just instantiating each of the objects by default:</p>\n\n<pre><code>public class A {\n    B b = new B();\n}\n\npublic class B {\n    C c = new C();\n}\n\npublic class C {\n}\n</code></pre>\n\n<p>Not ideal, but it worked for my situation and didn't involve complicated fixes.</p>\n"},{"tags":[],"owner":{"account_id":73139,"reputation":856,"user_id":210788,"display_name":"Noctiluque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1482888569,"creation_date":1482881085,"answer_id":41353446,"question_id":4877729,"body_markdown":"I know the question is about apache commons PropertyUtils.setProperty but there is very similar functionality available in \r\n[Spring Expression Language &quot;SpEL][1]&quot; which does exactly what you want. Better still it deals  with lists and arrays too. The doc link above is for spring 4.x but the code below works for me in spring 3.2.9.\r\n\r\n\r\n        StockOrder stockOrder = new StockOrder(); // Your root class here\r\n\r\n        SpelParserConfiguration config = new SpelParserConfiguration(true,true);   // auto create objects if null\r\n        ExpressionParser parser = new SpelExpressionParser(config);\r\n        StandardEvaluationContext modelContext = new StandardEvaluationContext(stockOrder);\r\n\r\n        parser.parseExpression(&quot;techId&quot;).setValue(modelContext, &quot;XXXYYY1&quot;);\r\n        parser.parseExpression(&quot;orderLines[0].partNumber&quot;).setValue(modelContext, &quot;65498&quot;);\r\n        parser.parseExpression(&quot;orderLines[0].inventories[0].serialNumber&quot;).setValue(modelContext, &quot;54686513216&quot;);\r\n\r\n        System.out.println(ReflectionToStringBuilder.toString(stockOrder));\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html#expressions-language-ref","title":"Is it possible automatically instantiation of a nested Property with Commons Bean Utils?","body":"<p>I know the question is about apache commons PropertyUtils.setProperty but there is very similar functionality available in \n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/expressions.html#expressions-language-ref\" rel=\"noreferrer\">Spring Expression Language \"SpEL</a>\" which does exactly what you want. Better still it deals  with lists and arrays too. The doc link above is for spring 4.x but the code below works for me in spring 3.2.9.</p>\n\n<pre><code>    StockOrder stockOrder = new StockOrder(); // Your root class here\n\n    SpelParserConfiguration config = new SpelParserConfiguration(true,true);   // auto create objects if null\n    ExpressionParser parser = new SpelExpressionParser(config);\n    StandardEvaluationContext modelContext = new StandardEvaluationContext(stockOrder);\n\n    parser.parseExpression(\"techId\").setValue(modelContext, \"XXXYYY1\");\n    parser.parseExpression(\"orderLines[0].partNumber\").setValue(modelContext, \"65498\");\n    parser.parseExpression(\"orderLines[0].inventories[0].serialNumber\").setValue(modelContext, \"54686513216\");\n\n    System.out.println(ReflectionToStringBuilder.toString(stockOrder));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4058044,"reputation":1024,"user_id":3335350,"display_name":"s_bighead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663019493,"creation_date":1606163896,"answer_id":64976058,"question_id":4877729,"body_markdown":"IMHO, the best solution is to get rid of the commons-beanutils and use Spring Framework [org.springframework.beans.PropertyAccessorFactory][1]\r\n\r\n    BeanWrapper wrapper = PropertyAccessorFactory.forBeanPropertyAccess(targetObject);\r\n    wrapper.setAutoGrowNestedPaths(true);\r\n\r\nI won&#39;t delve into details of how it works, but if you want to check it out, go take a look at the link above, this API is quite intuitive, but you&#39;ll need to have Spring Framework Core configured on your classpath, so I wouldn&#39;t recommend that you add spring just for the sake of this feature.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/PropertyAccessorFactory.html\r\n\r\n**However**,\r\n\r\nIf you only have **commons-beanutils** as your ally, this following code snippet may help you to grow your nested paths, as you set the values, therefore, you won&#39;t need to concern about the null objects along the path properties.\r\n\r\n\r\nIn this example I used with JPA Tuple Query to construct a custom object with some specific property paths with its corresponding values to be set.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.persistence.Tuple;\r\n    import javax.persistence.TupleElement;\r\n    \r\n    import org.apache.commons.beanutils.PropertyUtils;\r\n    import org.apache.commons.beanutils.expression.DefaultResolver;\r\n    public class TupleToObject&lt;T&gt; {\r\n\r\n    \r\n    \tpublic List&lt;T&gt; transformResult(List&lt;Tuple&gt; result, Class&lt;T&gt; targetClass) {\r\n    \t\ttry {\r\n    \t\t\tList&lt;T&gt; objects = new ArrayList&lt;&gt;();\r\n    \t\t\tfor (Tuple tuple : result) {\r\n    \t\t\t\tT target = targetClass.newInstance();\r\n    \r\n    \t\t\t\tList&lt;TupleElement&lt;?&gt;&gt; elements = tuple.getElements();\r\n    \t\t\t\tfor (TupleElement&lt;?&gt; tupleElement : elements) {\r\n    \t\t\t\t\tString alias = tupleElement.getAlias();\r\n    \t\t\t\t\tObject value = tuple.get(alias);\r\n    \r\n    \t\t\t\t\tif (value != null) {\r\n    \t\t\t\t\t\tinstantiateObject(target, alias);\r\n    \t\t\t\t\t\tPropertyUtils.setNestedProperty(target, alias, value);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\tobjects.add(target);\r\n    \t\t\t}\r\n    \t\t\treturn objects;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate void instantiateObject(T target, String propertyPath) throws Exception {\r\n    \t\tDefaultResolver resolver = new DefaultResolver();\r\n    \t\tObject currentTarget = target;\r\n    \t\twhile (resolver.hasNested(propertyPath)) {\r\n    \t\t\tfinal String property = resolver.next(propertyPath);\r\n    \t\t\tObject value = PropertyUtils.getSimpleProperty(currentTarget, property);\r\n    \t\t\tif (value == null) {\r\n    \t\t\t\tClass&lt;?&gt; propertyType = PropertyUtils.getPropertyType(currentTarget, property);\r\n    \t\t\t\tvalue = propertyType.newInstance();\r\n    \t\t\t\tPropertyUtils.setSimpleProperty(currentTarget, property, value);\r\n    \t\t\t}\r\n    \t\t\tcurrentTarget = value;\r\n    \r\n    \t\t\tpropertyPath = resolver.remove(propertyPath);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis code is using commons-beanutils-1.9.3.jar\r\n\r\nHope it helps!","title":"Is it possible automatically instantiation of a nested Property with Commons Bean Utils?","body":"<p>IMHO, the best solution is to get rid of the commons-beanutils and use Spring Framework <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/PropertyAccessorFactory.html\" rel=\"nofollow noreferrer\">org.springframework.beans.PropertyAccessorFactory</a></p>\n<pre><code>BeanWrapper wrapper = PropertyAccessorFactory.forBeanPropertyAccess(targetObject);\nwrapper.setAutoGrowNestedPaths(true);\n</code></pre>\n<p>I won't delve into details of how it works, but if you want to check it out, go take a look at the link above, this API is quite intuitive, but you'll need to have Spring Framework Core configured on your classpath, so I wouldn't recommend that you add spring just for the sake of this feature.</p>\n<p><strong>However</strong>,</p>\n<p>If you only have <strong>commons-beanutils</strong> as your ally, this following code snippet may help you to grow your nested paths, as you set the values, therefore, you won't need to concern about the null objects along the path properties.</p>\n<p>In this example I used with JPA Tuple Query to construct a custom object with some specific property paths with its corresponding values to be set.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.persistence.Tuple;\nimport javax.persistence.TupleElement;\n\nimport org.apache.commons.beanutils.PropertyUtils;\nimport org.apache.commons.beanutils.expression.DefaultResolver;\npublic class TupleToObject&lt;T&gt; {\n\n\n    public List&lt;T&gt; transformResult(List&lt;Tuple&gt; result, Class&lt;T&gt; targetClass) {\n        try {\n            List&lt;T&gt; objects = new ArrayList&lt;&gt;();\n            for (Tuple tuple : result) {\n                T target = targetClass.newInstance();\n\n                List&lt;TupleElement&lt;?&gt;&gt; elements = tuple.getElements();\n                for (TupleElement&lt;?&gt; tupleElement : elements) {\n                    String alias = tupleElement.getAlias();\n                    Object value = tuple.get(alias);\n\n                    if (value != null) {\n                        instantiateObject(target, alias);\n                        PropertyUtils.setNestedProperty(target, alias, value);\n                    }\n\n                }\n                objects.add(target);\n            }\n            return objects;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n    private void instantiateObject(T target, String propertyPath) throws Exception {\n        DefaultResolver resolver = new DefaultResolver();\n        Object currentTarget = target;\n        while (resolver.hasNested(propertyPath)) {\n            final String property = resolver.next(propertyPath);\n            Object value = PropertyUtils.getSimpleProperty(currentTarget, property);\n            if (value == null) {\n                Class&lt;?&gt; propertyType = PropertyUtils.getPropertyType(currentTarget, property);\n                value = propertyType.newInstance();\n                PropertyUtils.setSimpleProperty(currentTarget, property, value);\n            }\n            currentTarget = value;\n\n            propertyPath = resolver.remove(propertyPath);\n        }\n    }\n}\n</code></pre>\n<p>This code is using commons-beanutils-1.9.3.jar</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":178757,"reputation":11335,"user_id":410946,"accept_rate":88,"display_name":"Alfredo Osorio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11827,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":4881082,"answer_count":7,"score":7,"last_activity_date":1663019493,"creation_date":1296667966,"question_id":4877729,"body_markdown":"I&#39;m using **PropertyUtils.setProperty(object, name, value)** method of Apache Commons Bean Utils:\r\n\r\nGiving these classes:\r\n\r\n    public class A {\r\n    \tB b;\r\n    }\r\n    \r\n    public class B {\r\n    \tC c;\r\n    }\r\n    \r\n    public class C {\r\n    }\r\n\r\nAnd this:\r\n\r\n    A a = new A();\r\n    C c = new C();\r\n    PropertyUtils.setProperty(a, &quot;b.c&quot;, c); //exception\r\n\r\nIf I try that I get:\r\n**org.apache.commons.beanutils.NestedNullException: Null property value for &#39;b.c&#39; on bean class &#39;class A**&#39;\r\n\r\nIs it possible to tell PropertyUtils that if a nested property has a null value try to instantiate it (default constructor) before trying to go deeper?\r\n\r\nAny other approach?\r\n\r\nThank you","title":"Is it possible automatically instantiation of a nested Property with Commons Bean Utils?","body":"<p>I'm using <strong>PropertyUtils.setProperty(object, name, value)</strong> method of Apache Commons Bean Utils:</p>\n\n<p>Giving these classes:</p>\n\n<pre><code>public class A {\n    B b;\n}\n\npublic class B {\n    C c;\n}\n\npublic class C {\n}\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>A a = new A();\nC c = new C();\nPropertyUtils.setProperty(a, \"b.c\", c); //exception\n</code></pre>\n\n<p>If I try that I get:\n<strong>org.apache.commons.beanutils.NestedNullException: Null property value for 'b.c' on bean class 'class A</strong>'</p>\n\n<p>Is it possible to tell PropertyUtils that if a nested property has a null value try to instantiate it (default constructor) before trying to go deeper?</p>\n\n<p>Any other approach?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","file","jar","executable-jar"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663011401,"creation_date":1663011401,"answer_id":73694454,"question_id":73693995,"body_markdown":"You can&#39;t write to files inside your JAR file, because they aren&#39;t actually files, they are ZIP entries.\r\n\r\nThe easiest way to store configuration for a Java application is to use [Preferences][1]:\r\n\r\n```\r\nPreferences prefs = Preferences.userNodeForPackage(MyApp.class);\r\n```\r\n\r\nNow all you have to do is use any of the get methods to read, and put methods to write.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.prefs/java/util/prefs/Preferences.html","title":"Java read and write to the resource folder","body":"<p>You can't write to files inside your JAR file, because they aren't actually files, they are ZIP entries.</p>\n<p>The easiest way to store configuration for a Java application is to use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.prefs/java/util/prefs/Preferences.html\" rel=\"nofollow noreferrer\">Preferences</a>:</p>\n<pre><code>Preferences prefs = Preferences.userNodeForPackage(MyApp.class);\n</code></pre>\n<p>Now all you have to do is use any of the get methods to read, and put methods to write.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663013888,"creation_date":1663013888,"answer_id":73694840,"question_id":73693995,"body_markdown":"There is absolutely no need to write files into your resource folder inside a jar. All you need to have is a smart classloader structure. Either there is a classloader that allows changing jars (how difficult is that to implement?), or you just setup a classpath that contains an empty directory before listing all the involved jars.\r\n\r\nAs soon as you want to change a resource, just store a file in that directory. When loading the resource next time, it will be searched on the classpath and the first match is returned - in that case your changed file.\r\n\r\nNow it could be that your application needs to be started with that modified classpath, and on top of that it needs to be aware which directory was placed first. You could still setup that classloader structure within a launcher application, which then transfers control to the real application loaded via the newly defined classloader.","title":"Java read and write to the resource folder","body":"<p>There is absolutely no need to write files into your resource folder inside a jar. All you need to have is a smart classloader structure. Either there is a classloader that allows changing jars (how difficult is that to implement?), or you just setup a classpath that contains an empty directory before listing all the involved jars.</p>\n<p>As soon as you want to change a resource, just store a file in that directory. When loading the resource next time, it will be searched on the classpath and the first match is returned - in that case your changed file.</p>\n<p>Now it could be that your application needs to be started with that modified classpath, and on top of that it needs to be aware which directory was placed first. You could still setup that classloader structure within a launcher application, which then transfers control to the real application loaded via the newly defined classloader.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663015162,"creation_date":1663015162,"answer_id":73695017,"question_id":73693995,"body_markdown":"You could also check on application startup whether a directory such as `${user.home}/${application_name}/data` exists.\r\n\r\nIf not, create it by extracting a predefined zip into this location.\r\nThen just run your application which would load/write all the data in this directory.\r\n\r\nNo need to read/write to the classpath. No need to include 3rd party APIs. And modifying this initial data set would just mean to distribute a new zip to be extracted from.\r\n","title":"Java read and write to the resource folder","body":"<p>You could also check on application startup whether a directory such as <code>${user.home}/${application_name}/data</code> exists.</p>\n<p>If not, create it by extracting a predefined zip into this location.\nThen just run your application which would load/write all the data in this directory.</p>\n<p>No need to read/write to the classpath. No need to include 3rd party APIs. And modifying this initial data set would just mean to distribute a new zip to be extracted from.</p>\n"}],"owner":{"account_id":26013175,"reputation":91,"user_id":19721896,"display_name":"IDontWantToMakeAnotherAccount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1663018521,"creation_date":1663008699,"question_id":73693995,"body_markdown":"When someone opens my jar up I am opening a file selector gui so they can choose where they want to store their jar&#39;s files like config files and such. This should only take place the first time they open the jar. However, one issue with this approach is that I would have no way to know if it&#39;s their first time opening the jar since I will need to save the selected path somewhere. The best solution to this sounds like saving the selected path inside a file in the resource folder which is what I am having issues with. Reading and writing to this resource file will only need to be done when the program is actually running. These read and write operations need to work for packaged jar files (I use maven) and in the IDE.\r\n\r\nI am able to read a resources file inside of the IDE and then save that file to the designated location specified in the file selector by doing this. However, I have not been able to do the same from a jar despite trying multiple other approaches from other threads. \r\n\r\n            ClassLoader classloader = Thread.currentThread().getContextClassLoader();\r\n            InputStream is = classloader.getResourceAsStream(&quot;config.yml&quot;);\r\n            try {\r\n                if(is != null) {\r\n                    Files.copy(is, testFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n                    is.close();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nSo just to clarify when my project is loaded I need to listen for the user to select a valid path for files like my config. Then I want to write my config to that path which I can do from my IDE and is shown above but I cant figure this out when I compile my project into a jar file since I always receive a file not found error in my cmd. However, the main point of this post is so that I can figure out how to save that selected path to my resource folder to a file (it can be json, yml or whatever u like). In the code above I was able to read a file but I have no idea how to go from that to get the files path since then reading and writing to it would be trivial. Also keep in mind I need to be able to read and write to a resource folder from both my IDE and from a compiled jar. \r\n\r\nThe following code shows my attempt at reading a resource from a compiled jar. When I added a print statement above name.startWith(path) I generated a massive list of classes that reference config.yml but I am not sure which one I need. I assume it has to be one of the paths relating to my project or possible the META-INF or META-INF/MANIFEST.MF path. Either way how am I able to copy the file or copy the contents of the file?\r\n\r\n      final String path = &quot;resources/config.yml&quot;;\r\n      final File jarFile = new File(getClass().getProtectionDomain().getCodeSource().getLocation().getPath());\r\n\r\n        if(jarFile.isFile()) {  // Run with JAR file\r\n            try {\r\n                final JarFile jar = new JarFile(jarFile);\r\n                final Enumeration&lt;JarEntry&gt; entries = jar.entries(); //gives ALL entries in jar\r\n                while(entries.hasMoreElements()) {\r\n                    final String name = entries.nextElement().getName();\r\n                    if (name.startsWith(path)) { //filter according to the path\r\n                        System.out.println(name);\r\n                    }\r\n                }\r\n                jar.close();\r\n            } catch (IOException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n\r\nAlso if you were wondering I got the above code from the following post and my first block of code I pasted above is actually in the else statement since the IDE code from that post also did not work.\r\nhttps://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file","title":"Java read and write to the resource folder","body":"<p>When someone opens my jar up I am opening a file selector gui so they can choose where they want to store their jar's files like config files and such. This should only take place the first time they open the jar. However, one issue with this approach is that I would have no way to know if it's their first time opening the jar since I will need to save the selected path somewhere. The best solution to this sounds like saving the selected path inside a file in the resource folder which is what I am having issues with. Reading and writing to this resource file will only need to be done when the program is actually running. These read and write operations need to work for packaged jar files (I use maven) and in the IDE.</p>\n<p>I am able to read a resources file inside of the IDE and then save that file to the designated location specified in the file selector by doing this. However, I have not been able to do the same from a jar despite trying multiple other approaches from other threads.</p>\n<pre><code>        ClassLoader classloader = Thread.currentThread().getContextClassLoader();\n        InputStream is = classloader.getResourceAsStream(&quot;config.yml&quot;);\n        try {\n            if(is != null) {\n                Files.copy(is, testFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\n                is.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>So just to clarify when my project is loaded I need to listen for the user to select a valid path for files like my config. Then I want to write my config to that path which I can do from my IDE and is shown above but I cant figure this out when I compile my project into a jar file since I always receive a file not found error in my cmd. However, the main point of this post is so that I can figure out how to save that selected path to my resource folder to a file (it can be json, yml or whatever u like). In the code above I was able to read a file but I have no idea how to go from that to get the files path since then reading and writing to it would be trivial. Also keep in mind I need to be able to read and write to a resource folder from both my IDE and from a compiled jar.</p>\n<p>The following code shows my attempt at reading a resource from a compiled jar. When I added a print statement above name.startWith(path) I generated a massive list of classes that reference config.yml but I am not sure which one I need. I assume it has to be one of the paths relating to my project or possible the META-INF or META-INF/MANIFEST.MF path. Either way how am I able to copy the file or copy the contents of the file?</p>\n<pre><code>  final String path = &quot;resources/config.yml&quot;;\n  final File jarFile = new File(getClass().getProtectionDomain().getCodeSource().getLocation().getPath());\n\n    if(jarFile.isFile()) {  // Run with JAR file\n        try {\n            final JarFile jar = new JarFile(jarFile);\n            final Enumeration&lt;JarEntry&gt; entries = jar.entries(); //gives ALL entries in jar\n            while(entries.hasMoreElements()) {\n                final String name = entries.nextElement().getName();\n                if (name.startsWith(path)) { //filter according to the path\n                    System.out.println(name);\n                }\n            }\n            jar.close();\n        } catch (IOException exception) {\n            exception.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Also if you were wondering I got the above code from the following post and my first block of code I pasted above is actually in the else statement since the IDE code from that post also did not work.\n<a href=\"https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file\">How can I access a folder inside of a resource folder from inside my jar File?</a></p>\n"},{"tags":["java","serialization","jvm","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1663021321,"post_id":73695469,"comment_id":130137047,"body_markdown":"This is not possible, due to the halting problem. Note that you&#39;re delving real deep here. Is it &#39;a change&#39; if I call `someStaticField.foo()`, where foo() just causes a log message to be emitted? No? What if foo() deletes a file. Before you say no, note that there is no effective difference between a `public static boolean` field, and deleting/creating a file in a specific location. So why does one &#39;count&#39; and the other &#39;does not&#39;?","body":"This is not possible, due to the halting problem. Note that you&#39;re delving real deep here. Is it &#39;a change&#39; if I call <code>someStaticField.foo()</code>, where foo() just causes a log message to be emitted? No? What if foo() deletes a file. Before you say no, note that there is no effective difference between a <code>public static boolean</code> field, and deleting/creating a file in a specific location. So why does one &#39;count&#39; and the other &#39;does not&#39;?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1663021445,"post_id":73695469,"comment_id":130137077,"body_markdown":"What if I call a method that changes a &#39;builder&#39; state, but then this builder isn&#39;t used? You&#39;ve changed a property that has no effect. This turns essentially philosophical - if a tree falls in the forest, and all that. Turns out, the definition of &#39;track changes&#39; requires that you define what the word __change__ means. And this is not, at all, obvious.","body":"What if I call a method that changes a &#39;builder&#39; state, but then this builder isn&#39;t used? You&#39;ve changed a property that has no effect. This turns essentially philosophical - if a tree falls in the forest, and all that. Turns out, the definition of &#39;track changes&#39; requires that you define what the word <b>change</b> means. And this is not, at all, obvious."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1663028853,"post_id":73695469,"comment_id":130138191,"body_markdown":"Does calling `String.hashCode()` change the String? It may assign the `hashCode` field when first called, after all.","body":"Does calling <code>String.hashCode()</code> change the String? It may assign the <code>hashCode</code> field when first called, after all."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663055596,"post_id":73695469,"comment_id":130142883,"body_markdown":"You’d simplify your task by using immutable types, e.g. `record Name(String firstName, String familyName) {}`, however, it’s not clear why “serialize every possible state” is an actual goal. If I do `president.name.familyName = &quot;x&quot;; president.name.firstName = &quot;y&quot;;`, the intermediate state of having `&quot;x&quot;` for the `familyName` but the old `firstName` would last only for some nanoseconds if the serialization wasn’t slowing everything down, so what’s the point of serializing it? I could even go a step further and ask, what’s the significance of `static` fields in your application?","body":"You’d simplify your task by using immutable types, e.g. <code>record Name(String firstName, String familyName) {}</code>, however, it’s not clear why “serialize every possible state” is an actual goal. If I do <code>president.name.familyName = &quot;x&quot;; president.name.firstName = &quot;y&quot;;</code>, the intermediate state of having <code>&quot;x&quot;</code> for the <code>familyName</code> but the old <code>firstName</code> would last only for some nanoseconds if the serialization wasn’t slowing everything down, so what’s the point of serializing it? I could even go a step further and ask, what’s the significance of <code>static</code> fields in your application?"}],"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663018386,"creation_date":1663018386,"question_id":73695469,"body_markdown":"Firstly, this question is more like a general question than a specific technical problem.\r\n\r\nI&#39;m doing a research project, where I need to record all the possible values of public static fields during the test suite execution (The project to run the test suite can be any projects, not written by me, and preferably not change its code). To do this, my plan was to detect the value changes of such public static fields and then serialize those values at the same time.\r\n\r\nSpecifically, I wanted to use ASM to instrument the java class files to detect such (public-static-)variable-changing instructions and insert some instructions to do the serialization.\r\n\r\nHowever, I noticed that &quot;detect the value change of such public static fields&quot; can be hard and tricky. It is not simply monitoring the `PUTSTATIC` instruction, because `PUTSTATIC` only means the reference of that variable is changed (if it is an object), but actually the state (value) of the public static objects can be changed in various ways, e.g., `List.add(xxx)`, `List.remove(xxx)`, and even other user-defined functions of user-defined classes.\r\n\r\nFor example:\r\n```java\r\nclass Name {\r\n    String firstName;\r\n    String familyName;\r\n    public Name(String firstName, String familyName) {\r\n        this.firstName = firstName;\r\n        this.familyName = familyName;\r\n    }\r\n}\r\n\r\nclass Person {\r\n    Name name;\r\n    public Person(Name name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\npublic class Test {\r\n    // The following value change (static initializer) can be detected by monitoring &#39;PUTSTATIC&#39;\r\n    public static Person president = new Person(new Name(&quot;foo&quot;, &quot;bar&quot;));\r\n    public void personTest(){\r\n        // The object (reference) changed, can be detected by monitoring &#39;PUTSTATIC&#39;\r\n        president = new Person(new Name(&quot;xxx&quot;, &quot;yyy&quot;));\r\n        // The object state changed, but can not be detected by monitoring &#39;PUTSTATIC&#39;\r\n        president.name = new Name(&quot;a&quot;, &quot;b&quot;);\r\n        president.name.familyName = &quot;c&quot;;\r\n        ...\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m not sure whether it is possible to &quot;record all the possible values of public static fields during test suite execution&quot;. Any ideas about this?","title":"How to record all the possible values of public static fields during test suite execution?","body":"<p>Firstly, this question is more like a general question than a specific technical problem.</p>\n<p>I'm doing a research project, where I need to record all the possible values of public static fields during the test suite execution (The project to run the test suite can be any projects, not written by me, and preferably not change its code). To do this, my plan was to detect the value changes of such public static fields and then serialize those values at the same time.</p>\n<p>Specifically, I wanted to use ASM to instrument the java class files to detect such (public-static-)variable-changing instructions and insert some instructions to do the serialization.</p>\n<p>However, I noticed that &quot;detect the value change of such public static fields&quot; can be hard and tricky. It is not simply monitoring the <code>PUTSTATIC</code> instruction, because <code>PUTSTATIC</code> only means the reference of that variable is changed (if it is an object), but actually the state (value) of the public static objects can be changed in various ways, e.g., <code>List.add(xxx)</code>, <code>List.remove(xxx)</code>, and even other user-defined functions of user-defined classes.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Name {\n    String firstName;\n    String familyName;\n    public Name(String firstName, String familyName) {\n        this.firstName = firstName;\n        this.familyName = familyName;\n    }\n}\n\nclass Person {\n    Name name;\n    public Person(Name name) {\n        this.name = name;\n    }\n}\n\npublic class Test {\n    // The following value change (static initializer) can be detected by monitoring 'PUTSTATIC'\n    public static Person president = new Person(new Name(&quot;foo&quot;, &quot;bar&quot;));\n    public void personTest(){\n        // The object (reference) changed, can be detected by monitoring 'PUTSTATIC'\n        president = new Person(new Name(&quot;xxx&quot;, &quot;yyy&quot;));\n        // The object state changed, but can not be detected by monitoring 'PUTSTATIC'\n        president.name = new Name(&quot;a&quot;, &quot;b&quot;);\n        president.name.familyName = &quot;c&quot;;\n        ...\n    }\n}\n\n</code></pre>\n<p>I'm not sure whether it is possible to &quot;record all the possible values of public static fields during test suite execution&quot;. Any ideas about this?</p>\n"},{"tags":["java","security","prepared-statement","sql-injection"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662984838,"post_id":73689057,"comment_id":130125265,"body_markdown":"If ID is a string (unlikely) then yes, it is dangerous. Actually as a reader cannot verify it, this code is counterproductive, not something one should strive to.","body":"If ID is a string (unlikely) then yes, it is dangerous. Actually as a reader cannot verify it, this code is counterproductive, not something one should strive to."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1662985021,"post_id":73689057,"comment_id":130125323,"body_markdown":"`whereString`, `Table.ID` and `ID` are all potential sources for SQL injection. You&#39;ll have to investigate each one to check if that&#39;s actually possible. For example I *assume* `Table.ID` to be a compile-time constant, in which case you don&#39;t have to worry about external users injecting unexpected SQL this way (a nasty developer still might, but that&#39;s not *usually* what we mean when talking about SQL injection).","body":"<code>whereString</code>, <code>Table.ID</code> and <code>ID</code> are all potential sources for SQL injection. You&#39;ll have to investigate each one to check if that&#39;s actually possible. For example I <i>assume</i> <code>Table.ID</code> to be a compile-time constant, in which case you don&#39;t have to worry about external users injecting unexpected SQL this way (a nasty developer still might, but that&#39;s not <i>usually</i> what we mean when talking about SQL injection)."},{"owner":{"account_id":107389,"reputation":157559,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":0,"creation_date":1662997665,"post_id":73689057,"comment_id":130130264,"body_markdown":"Does this answer your question? [How can I modify the code to avoid SQL-injection attack?](https://stackoverflow.com/questions/73455600/how-can-i-modify-the-code-to-avoid-sql-injection-attack)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73455600/how-can-i-modify-the-code-to-avoid-sql-injection-attack\">How can I modify the code to avoid SQL-injection attack?</a>"},{"owner":{"account_id":107389,"reputation":157559,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":1,"creation_date":1662997715,"post_id":73689057,"comment_id":130130287,"body_markdown":"Prepared statement doesn&#39;t protect your query by itself. It&#39;s not a magic wand that you can tap any query with and it will become magically immune. \n\nProtection that prepared statements offer is coming from *parameters*. Only when your variables are not concatenated into the query but represented by parameters, prepared statement will do its magic.  Identifiers, such as table and column names, cannot be parameterized and have to be whitelisted","body":"Prepared statement doesn&#39;t protect your query by itself. It&#39;s not a magic wand that you can tap any query with and it will become magically immune.   Protection that prepared statements offer is coming from <i>parameters</i>. Only when your variables are not concatenated into the query but represented by parameters, prepared statement will do its magic.  Identifiers, such as table and column names, cannot be parameterized and have to be whitelisted"}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663015863,"creation_date":1663015863,"answer_id":73695131,"question_id":73689057,"body_markdown":"Yes, the code you show has a risk of SQL injection, depending on how `Table1.ID` and `ID` are assigned values.\r\n\r\nNo, using a prepared statement does not eliminate the risk of SQL injection.","title":"Does concatenated string that is later used in prepared statement cause sql injection?","body":"<p>Yes, the code you show has a risk of SQL injection, depending on how <code>Table1.ID</code> and <code>ID</code> are assigned values.</p>\n<p>No, using a prepared statement does not eliminate the risk of SQL injection.</p>\n"},{"tags":[],"owner":{"account_id":9630238,"reputation":739,"user_id":7184001,"display_name":"Egret"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663018159,"creation_date":1663018159,"answer_id":73695438,"question_id":73689057,"body_markdown":"Using a prepared statement is useful for ensuring that parameters do not cause a SQL injection.  It does not prevent issues from untrusted data going into the statement.  If `Table.ID` or `ID` are coming from untrusted sources, you will still have a SQL injection problem.\r\n\r\nYou can resolve this by validating or quoting the untrusted values.  Options are:\r\n\r\n - Quote the table and ID names and validate that the table / ID do not have quotes\r\n - Validate the table and ID names using a parameterized query in the database - since these are variables in this case, this will be safe.  Not this won&#39;t protect you if the attacker has the ability to create arbitrary IDs or Table names\r\n - Quote the table and ID names and encode any quotes - this is a bit tricky to get right\r\n\r\n","title":"Does concatenated string that is later used in prepared statement cause sql injection?","body":"<p>Using a prepared statement is useful for ensuring that parameters do not cause a SQL injection.  It does not prevent issues from untrusted data going into the statement.  If <code>Table.ID</code> or <code>ID</code> are coming from untrusted sources, you will still have a SQL injection problem.</p>\n<p>You can resolve this by validating or quoting the untrusted values.  Options are:</p>\n<ul>\n<li>Quote the table and ID names and validate that the table / ID do not have quotes</li>\n<li>Validate the table and ID names using a parameterized query in the database - since these are variables in this case, this will be safe.  Not this won't protect you if the attacker has the ability to create arbitrary IDs or Table names</li>\n<li>Quote the table and ID names and encode any quotes - this is a bit tricky to get right</li>\n</ul>\n"}],"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663018159,"creation_date":1662984621,"question_id":73689057,"body_markdown":"I am assessing a piece of code to check the possibility of sql injection.\r\nI noticed that before making a prepared statement, a string is constrcuted just for the where condition (named strwhere) and then this is passed to a function that created the prepared statement. Noting that in the strwhere it is built using string concatenation, does this raise an sql injection? or just the fact that is passed to a prepared statement eliminates this risk?\r\n\r\nCode:\r\n```\r\nString strWhere = whereString + &quot; AND &quot; + &quot;(&quot; + Table1.ID + &quot;=&quot; + ID + &quot;)&quot;;\r\nRows = myTable.readRow(jdbcSource, stWhere);\r\n\r\n```\r\n\r\nin the **readRow** function, it builds the final query using prepared statement.\r\n\r\n","title":"Does concatenated string that is later used in prepared statement cause sql injection?","body":"<p>I am assessing a piece of code to check the possibility of sql injection.\nI noticed that before making a prepared statement, a string is constrcuted just for the where condition (named strwhere) and then this is passed to a function that created the prepared statement. Noting that in the strwhere it is built using string concatenation, does this raise an sql injection? or just the fact that is passed to a prepared statement eliminates this risk?</p>\n<p>Code:</p>\n<pre><code>String strWhere = whereString + &quot; AND &quot; + &quot;(&quot; + Table1.ID + &quot;=&quot; + ID + &quot;)&quot;;\nRows = myTable.readRow(jdbcSource, stWhere);\n\n</code></pre>\n<p>in the <strong>readRow</strong> function, it builds the final query using prepared statement.</p>\n"},{"tags":["java","hashmap","java-stream","option-type"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1663009716,"post_id":73694076,"comment_id":130134037,"body_markdown":"Do you want to work with each match in each Map in the `maplist` or just with one (any) of the filtered results? If you want to replace the for-loops, it would be each match, and not just one, right?","body":"Do you want to work with each match in each Map in the <code>maplist</code> or just with one (any) of the filtered results? If you want to replace the for-loops, it would be each match, and not just one, right?"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1663010241,"post_id":73694076,"comment_id":130134186,"body_markdown":"I just need to get the Value from Map once the key matches SubmittedBy.","body":"I just need to get the Value from Map once the key matches SubmittedBy."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663017580,"creation_date":1663010456,"answer_id":73694292,"question_id":73694076,"body_markdown":"It seems like you want to obtain a *value* mapped to the *key* that matches `&quot;SubmittedBy&quot;`.\r\n\r\nYou&#39;ve messed around with your filters, and you don&#39;t need a nested stream in the first place.\r\n\r\nInitially, you have a stream of maps `Stream&lt;Map&lt;String,Object&gt;&gt;`.\r\n\r\nAs the first step, you need to flatten the *entries* of each *map* using [`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) operation to obtain a stream of entries.\r\n\r\nAnd only then you need to apply a `filter()`. Operation `findFirst()` would give an optional of map-entry and to transform it into the `Optional&lt;String&gt;` you can map use of `Optional.map()`.\r\n\r\n```\r\nString submittedBy = mapList.stream()                                // Stream&lt;Map&lt;String, Object&gt;&gt;\r\n    .flatMap(map -&gt; map.entrySet().stream())                         // Stream&lt;Map.Entry&lt;String, Object&gt;&gt;\r\n    .filter(entry -&gt; entry.getKey().strip().equalsIgnoreCase(&quot;SubmittedBy&quot;))\r\n    .findAny()                                                      // Optional&lt;Map.Entry&lt;String, Object&gt;&gt;\r\n    .map(entry -&gt; (String) entry.getValue())                        // Optional&lt;String&gt;\r\n    .orElseThrow();\r\n```\r\n\r\n**Note** that [`Optional.orElseThrow()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow()) is preferred over `Optional.get()` when you&#39;re not checking the presence of data in the Optional (see the [API Note](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#get())).\r\n\r\nBoth methods would throw `NoSuchElementException` in case if optional is empty, by using `orElseThrow()` you&#39;re making your intention (*throw if there&#39;s no result*) clear to the reader of the code.\r\n\r\n____________________________________________\r\n\r\nRegarding the compilation error, as you probably know, `Predicate` is a *function* that produces a `boolean` value.\r\n\r\nAnd to produce a value from a stream, you need to apply a *terminal* operation. `anyMatch()`, `allMatch()`, `noneMatch()` - these are *terminal* operations that return a `boolean`.\r\n\r\nOn the other hand, `filter()` is an *intermediate* operation, which means it produces another stream, not a value.\r\n\r\nFor more information have a look at API documentation [*Stream operations and pipelines*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps).","title":"Obtain a Value mapped to the Key that matches the Predicate from a List of Map using Streams","body":"<p>It seems like you want to obtain a <em>value</em> mapped to the <em>key</em> that matches <code>&quot;SubmittedBy&quot;</code>.</p>\n<p>You've messed around with your filters, and you don't need a nested stream in the first place.</p>\n<p>Initially, you have a stream of maps <code>Stream&lt;Map&lt;String,Object&gt;&gt;</code>.</p>\n<p>As the first step, you need to flatten the <em>entries</em> of each <em>map</em> using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> operation to obtain a stream of entries.</p>\n<p>And only then you need to apply a <code>filter()</code>. Operation <code>findFirst()</code> would give an optional of map-entry and to transform it into the <code>Optional&lt;String&gt;</code> you can map use of <code>Optional.map()</code>.</p>\n<pre><code>String submittedBy = mapList.stream()                                // Stream&lt;Map&lt;String, Object&gt;&gt;\n    .flatMap(map -&gt; map.entrySet().stream())                         // Stream&lt;Map.Entry&lt;String, Object&gt;&gt;\n    .filter(entry -&gt; entry.getKey().strip().equalsIgnoreCase(&quot;SubmittedBy&quot;))\n    .findAny()                                                      // Optional&lt;Map.Entry&lt;String, Object&gt;&gt;\n    .map(entry -&gt; (String) entry.getValue())                        // Optional&lt;String&gt;\n    .orElseThrow();\n</code></pre>\n<p><strong>Note</strong> that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow()\" rel=\"nofollow noreferrer\"><code>Optional.orElseThrow()</code></a> is preferred over <code>Optional.get()</code> when you're not checking the presence of data in the Optional (see the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#get()\" rel=\"nofollow noreferrer\">API Note</a>).</p>\n<p>Both methods would throw <code>NoSuchElementException</code> in case if optional is empty, by using <code>orElseThrow()</code> you're making your intention (<em>throw if there's no result</em>) clear to the reader of the code.</p>\n<hr />\n<p>Regarding the compilation error, as you probably know, <code>Predicate</code> is a <em>function</em> that produces a <code>boolean</code> value.</p>\n<p>And to produce a value from a stream, you need to apply a <em>terminal</em> operation. <code>anyMatch()</code>, <code>allMatch()</code>, <code>noneMatch()</code> - these are <em>terminal</em> operations that return a <code>boolean</code>.</p>\n<p>On the other hand, <code>filter()</code> is an <em>intermediate</em> operation, which means it produces another stream, not a value.</p>\n<p>For more information have a look at API documentation <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\"><em>Stream operations and pipelines</em></a>.</p>\n"}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73694292,"answer_count":1,"score":1,"last_activity_date":1663017580,"creation_date":1663009133,"question_id":73694076,"body_markdown":"I have a list of maps `mapList`.\r\n\r\nI&#39;m iterating using nested `for`-loops to get a *value*.\r\n\r\nHere&#39;s my imperative code: \r\n\r\n      for(Map&lt;String, Object&gt; stringObjectMap : mapList){\r\n        for(Map.Entry&lt;String, Object&gt; entry : stringObjectMap.entrySet()){\r\n          if(&quot;SubmittedBy&quot;.equalsIgnoreCase(entry.getKey().trim())){\r\n\t\t\t  // Logics to implement\r\n\t\t  }\r\n\t\t}\r\n\t  }\r\n\r\nNow, I&#39;m trying to achieve it using Stream API.\r\n\r\nI need to get a `String` *value* from one of the `Map`s which is associated with a *key* matches ignoring case to the string `&quot;SubmittedBy&quot;`.\r\n\r\nHere&#39;s my attempt:\r\n```\r\nString submittedBy = mapList.stream()\r\n    .filter(map -&gt; map.entrySet().stream()\r\n    .filter(sub -&gt; sub.getKey().equalsIgnoreCase(&quot;SubmittedBy&quot;)))\r\n    .findAny()\r\n    .get();\r\n```\r\nIt produces a compile error saying bad return type. How I can fix it?\r\n```\r\nBad return type in lambda expression:\r\nStream&lt;Entry&lt;String, Object&gt;&gt; cannot be converted to boolean\r\n```","title":"Obtain a Value mapped to the Key that matches the Predicate from a List of Map using Streams","body":"<p>I have a list of maps <code>mapList</code>.</p>\n<p>I'm iterating using nested <code>for</code>-loops to get a <em>value</em>.</p>\n<p>Here's my imperative code:</p>\n<pre><code>  for(Map&lt;String, Object&gt; stringObjectMap : mapList){\n    for(Map.Entry&lt;String, Object&gt; entry : stringObjectMap.entrySet()){\n      if(&quot;SubmittedBy&quot;.equalsIgnoreCase(entry.getKey().trim())){\n          // Logics to implement\n      }\n    }\n  }\n</code></pre>\n<p>Now, I'm trying to achieve it using Stream API.</p>\n<p>I need to get a <code>String</code> <em>value</em> from one of the <code>Map</code>s which is associated with a <em>key</em> matches ignoring case to the string <code>&quot;SubmittedBy&quot;</code>.</p>\n<p>Here's my attempt:</p>\n<pre><code>String submittedBy = mapList.stream()\n    .filter(map -&gt; map.entrySet().stream()\n    .filter(sub -&gt; sub.getKey().equalsIgnoreCase(&quot;SubmittedBy&quot;)))\n    .findAny()\n    .get();\n</code></pre>\n<p>It produces a compile error saying bad return type. How I can fix it?</p>\n<pre><code>Bad return type in lambda expression:\nStream&lt;Entry&lt;String, Object&gt;&gt; cannot be converted to boolean\n</code></pre>\n"},{"tags":["java","sql","oracle","spring-data-jpa","jdbctemplate"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1616619545,"post_id":66789090,"comment_id":118063420,"body_markdown":"Are you connected to the same db server from intellij and your application?","body":"Are you connected to the same db server from intellij and your application?"},{"owner":{"account_id":1107109,"reputation":325,"user_id":1098309,"display_name":"Noa"},"score":0,"creation_date":1616640328,"post_id":66789090,"comment_id":118068587,"body_markdown":"Yes both connecting to the same dB server","body":"Yes both connecting to the same dB server"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1616654078,"post_id":66789090,"comment_id":118071429,"body_markdown":"Are you fetching the complete result in the console?","body":"Are you fetching the complete result in the console?"},{"owner":{"account_id":1107109,"reputation":325,"user_id":1098309,"display_name":"Noa"},"score":0,"creation_date":1616655007,"post_id":66789090,"comment_id":118071730,"body_markdown":"yes the execute the same query on both  java application and console and I get the same result but a very different response time","body":"yes the execute the same query on both  java application and console and I get the same result but a very different response time"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1616667108,"post_id":66789090,"comment_id":118076467,"body_markdown":"Comparing apples and oranges. What happens is that you also have a rowmapper which turns the result into objects. Depending on the amount of data this takes a lot of time. Also what time are you measuring? Only the db execution or the rendering of an HTTP page.","body":"Comparing apples and oranges. What happens is that you also have a rowmapper which turns the result into objects. Depending on the amount of data this takes a lot of time. Also what time are you measuring? Only the db execution or the rendering of an HTTP page."},{"owner":{"account_id":1107109,"reputation":325,"user_id":1098309,"display_name":"Noa"},"score":0,"creation_date":1616673659,"post_id":66789090,"comment_id":118079674,"body_markdown":"@M.Deinum is there any suggestion to improve it?","body":"@M.Deinum is there any suggestion to improve it?"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616844777,"creation_date":1616801946,"answer_id":66825596,"question_id":66789090,"body_markdown":"Please, keep in mind that behind the scenes probably IntelliJ is performing some kind of optimization when running your query - prefetching data slices, using caches, etcetera. For these and other reasons this kind of tools will usually offer a better performance that when the application run as pure Java code.  \r\n\r\nHaving said that, in order to improve your query, you can do several things.\r\n\r\nOn one hand, review your sql, I think it can be improved in different ways:\r\n\r\n - Get rid of `IN` clauses, they offer typically a very poor performance. Use JOINS or maybe, in your example, `EXISTS` clauses instead.\r\n - Probably it will be advisable for the following columns to be indexed (be careful in any case, these are a lot columns, and the indexes maintenance can be expensive and can affect the performance when running insert, update and delete operations, try to find a balance between queries and DML operations):\r\n    - organizationid\r\n    - enclosingHire_organizationId\r\n    - gln_orig_organizationid\r\n    - gln_dest_organizationid\r\n    - bbrorgid\r\n    - facilityid\r\n - You are applying functions like `nvl` and `coalesce` to your dates: I am afraid that they seems necessary, but be aware that it will probably prevent the use of any index created over that columns. The use of many `OR`s sometimes is not optimal as well.\r\n - I think you can simplify the queries related with the `v_FacilityAndBbrOrg` table.\r\n\r\nIn summary, please, try to use a query similar to this:\r\n\r\n```java\r\nString q = &quot;select journeyid, extid, extccuid\r\n        from ACTIVE_JOURNEY_VIEW\r\n        WHERE coalesce(ata, nextJourneyEtd, sysdate + 1) &gt; sysdate\r\n          AND ((organizationid = :orgId AND deleted = 0)\r\n            OR organizationid = :orgId\r\n            OR enclosingHire_organizationId = :orgId\r\n            OR gln_orig_organizationid = :orgId\r\n            OR gln_dest_organizationid = :orgId\r\n            OR EXISTS (\r\n                select 1 \r\n                from v_FacilityAndBbrOrg\r\n                where bbrorgid = :orgId\r\n                  and (facilityid = originFacilityId OR facilityid = destinationFacilityId)\r\n                  and (nvl(atd, etd), activeEndDate) overlaps (fromDate, toDate)\r\n            )\r\n          )&quot;;\r\n```\r\n\r\nIn addition, try to benchmark your application with different fetch sizes. You indicated `200` records with seems quite reasonable. In any way, of course, depending on the available memory for your application and other aspects like the row size, etcetera, try to increase that number: any amount up to `1000` records can be good enough.\r\n\r\nFinally, try to measure when your application is consuming your time, whether querying the database, obtaining the results and converting your records, serializing to JSON or rendering a server side page. You have several options for this purpose, of course, but at a first glance, using a simple tool like [`StopWatch`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StopWatch.html) can be useful to detect, roughly, _grosso modo_, possible bottlenecks.","title":"Slow Performance with NamedParameterJdbcTemplate","body":"<p>Please, keep in mind that behind the scenes probably IntelliJ is performing some kind of optimization when running your query - prefetching data slices, using caches, etcetera. For these and other reasons this kind of tools will usually offer a better performance that when the application run as pure Java code.</p>\n<p>Having said that, in order to improve your query, you can do several things.</p>\n<p>On one hand, review your sql, I think it can be improved in different ways:</p>\n<ul>\n<li>Get rid of <code>IN</code> clauses, they offer typically a very poor performance. Use JOINS or maybe, in your example, <code>EXISTS</code> clauses instead.</li>\n<li>Probably it will be advisable for the following columns to be indexed (be careful in any case, these are a lot columns, and the indexes maintenance can be expensive and can affect the performance when running insert, update and delete operations, try to find a balance between queries and DML operations):\n<ul>\n<li>organizationid</li>\n<li>enclosingHire_organizationId</li>\n<li>gln_orig_organizationid</li>\n<li>gln_dest_organizationid</li>\n<li>bbrorgid</li>\n<li>facilityid</li>\n</ul>\n</li>\n<li>You are applying functions like <code>nvl</code> and <code>coalesce</code> to your dates: I am afraid that they seems necessary, but be aware that it will probably prevent the use of any index created over that columns. The use of many <code>OR</code>s sometimes is not optimal as well.</li>\n<li>I think you can simplify the queries related with the <code>v_FacilityAndBbrOrg</code> table.</li>\n</ul>\n<p>In summary, please, try to use a query similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String q = &quot;select journeyid, extid, extccuid\n        from ACTIVE_JOURNEY_VIEW\n        WHERE coalesce(ata, nextJourneyEtd, sysdate + 1) &gt; sysdate\n          AND ((organizationid = :orgId AND deleted = 0)\n            OR organizationid = :orgId\n            OR enclosingHire_organizationId = :orgId\n            OR gln_orig_organizationid = :orgId\n            OR gln_dest_organizationid = :orgId\n            OR EXISTS (\n                select 1 \n                from v_FacilityAndBbrOrg\n                where bbrorgid = :orgId\n                  and (facilityid = originFacilityId OR facilityid = destinationFacilityId)\n                  and (nvl(atd, etd), activeEndDate) overlaps (fromDate, toDate)\n            )\n          )&quot;;\n</code></pre>\n<p>In addition, try to benchmark your application with different fetch sizes. You indicated <code>200</code> records with seems quite reasonable. In any way, of course, depending on the available memory for your application and other aspects like the row size, etcetera, try to increase that number: any amount up to <code>1000</code> records can be good enough.</p>\n<p>Finally, try to measure when your application is consuming your time, whether querying the database, obtaining the results and converting your records, serializing to JSON or rendering a server side page. You have several options for this purpose, of course, but at a first glance, using a simple tool like <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StopWatch.html\" rel=\"nofollow noreferrer\"><code>StopWatch</code></a> can be useful to detect, roughly, <em>grosso modo</em>, possible bottlenecks.</p>\n"},{"tags":[],"owner":{"account_id":9915495,"reputation":97,"user_id":7340517,"display_name":"incognito nerd "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663017373,"creation_date":1663017373,"answer_id":73695331,"question_id":66789090,"body_markdown":"i set the max fetch size like this. Integer.MAX_VALUE = 2147483647. call goes from 4 secs to ms\r\n    \r\n    @Bean(name = &quot;spiderman&quot;)\r\n\tpublic JdbcTemplate spiderJdbcTemplate(@Qualifier(&quot;spidermanDataSource&quot;) DataSource spidermanDataSource) {\r\n\t\tJdbcTemplate jdbc = new JdbcTemplate(spidermanDataSource);\r\n\t\tjdbc.setFetchSize(Integer.MAX_VALUE);\r\n\r\n\t\treturn jdbc;\r\n\t}\r\n\r\n","title":"Slow Performance with NamedParameterJdbcTemplate","body":"<p>i set the max fetch size like this. Integer.MAX_VALUE = 2147483647. call goes from 4 secs to ms</p>\n<pre><code>@Bean(name = &quot;spiderman&quot;)\npublic JdbcTemplate spiderJdbcTemplate(@Qualifier(&quot;spidermanDataSource&quot;) DataSource spidermanDataSource) {\n    JdbcTemplate jdbc = new JdbcTemplate(spidermanDataSource);\n    jdbc.setFetchSize(Integer.MAX_VALUE);\n\n    return jdbc;\n}\n</code></pre>\n"}],"owner":{"account_id":1107109,"reputation":325,"user_id":1098309,"display_name":"Noa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663017373,"creation_date":1616618655,"question_id":66789090,"body_markdown":"I have a Spring5 application using `NamedParameterJdbcTemplate` to fetch data from OracleDB.\r\n\r\nWhen I execute the same query from intellij DB console I get the result in 1.5 seconds but when I execute the same query from the Java application using\r\n `jdbcTemplate.queryForList(query, params);` it takes 90 seconds\r\n\r\nHere is the DBconfigration class:\r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(&quot;com.xxxx.xxx.relational.repositories&quot;)\r\n@PropertySource(value = &quot;classpath:jdbc.properties&quot;)\r\n@ComponentScan\r\n@EnableTransactionManagement\r\n@Import(RestTemplateConfig.class)\r\npublic class RelationalConfig {\r\n\r\n    @Bean(destroyMethod = &quot;close&quot;)\r\n    public BasicDataSource dataSource(@Value(&quot;${jdbc.driverClassName}&quot;) String driverClassName,\r\n            @Value(&quot;${jdbc.url}&quot;) String url, @Value(&quot;${jdbc.username}&quot;) String username,\r\n            @Value(&quot;${jdbc.password}&quot;) String password) {\r\n        BasicDataSource ds = new BasicDataSource();\r\n        ds.setDriverClassName(driverClassName);\r\n        ds.setUrl(url);\r\n        ds.setUsername(username);\r\n        ds.setPassword(password);\r\n        return ds;\r\n    }\r\n\r\n    @Bean\r\n    HibernateJpaVendorAdapter hibernateJpaVendorAdapter() {\r\n        return new HibernateJpaVendorAdapter();\r\n    }\r\n\r\n    @Bean\r\n    @Autowired\r\n    LocalContainerEntityManagerFactoryBean entityManagerFactory(BasicDataSource dataSource,\r\n            HibernateJpaVendorAdapter vendor, @Value(&quot;${hibernate.dialect}&quot;) String dialect,\r\n            @Value(&quot;${jdbc.schema}&quot;) String schema) {\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        entityManagerFactoryBean.setDataSource(dataSource);\r\n        entityManagerFactoryBean.setJpaVendorAdapter(vendor);\r\n        Properties jpaProperties = new Properties();\r\n\r\n        jpaProperties.put(&quot;hibernate.dialect&quot;, dialect);\r\n        jpaProperties.put(&quot;hibernate.default_schema&quot;, schema);\r\n//        jpaProperties.put(&quot;hibernate.jdbc.fetch_size&quot;, 200);\r\n//        jpaProperties.put(&quot;hibernate.connection.pool_size&quot;, 10);\r\n        entityManagerFactoryBean.setJpaProperties(jpaProperties);\r\n        entityManagerFactoryBean.setPackagesToScan(&quot;com.xxx.xxx.relational.entities&quot;);\r\n        return entityManagerFactoryBean;\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Autowired\r\n    JpaTransactionManager transactionManager(EntityManagerFactory factory) {\r\n        return new JpaTransactionManager(factory);\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Autowired\r\n    NamedParameterJdbcTemplate jdbcTemplate(DataSource dataSource) {\r\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n        jdbcTemplate.setFetchSize(200);\r\n        return new NamedParameterJdbcTemplate(jdbcTemplate);\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Autowired\r\n    SiblingsRepo&lt;LegDTO&gt; legSiblingsRepo(LegRepository legRepo) {\r\n        return new SiblingsRepo&lt;LegDTO&gt;() {\r\n            @Override\r\n            public Optional&lt;LegDTO&gt; byNext(LegDTO next) {\r\n                return legRepo.findByNextLegId(next.getId());\r\n            }\r\n\r\n            @Override\r\n            public Optional&lt;LegDTO&gt; byId(Integer id) {\r\n                return legRepo.findById(id);\r\n            }\r\n\r\n            @Override\r\n            public LegDTO save(LegDTO sibling) {\r\n                return legRepo.save(sibling);\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Autowired\r\n    SiblingsRepo&lt;JourneyDTO&gt; journeySiblingsRepo(JourneyRepository journeyRepo) {\r\n        return new SiblingsRepo&lt;JourneyDTO&gt;() {\r\n            @Override\r\n            public Optional&lt;JourneyDTO&gt; byNext(JourneyDTO next) {\r\n                return journeyRepo.findByNextJourneyId(next.getId());\r\n            }\r\n\r\n            @Override\r\n            public Optional&lt;JourneyDTO&gt; byId(Integer id) {\r\n                return journeyRepo.findById(id);\r\n            }\r\n\r\n            @Override\r\n            public JourneyDTO save(JourneyDTO sibling) {\r\n                return journeyRepo.save(sibling);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer propertyConfig() {\r\n        return new PropertySourcesPlaceholderConfigurer();\r\n    }\r\n}\r\n```\r\n\r\nHere is the query:\r\n\r\n    String q = &quot;select journeyid, extid, extccuid\r\n            from ACTIVE_JOURNEY_VIEW\r\n            WHERE coalesce(ata, nextJourneyEtd, sysdate + 1) &gt; sysdate\r\n              AND ((organizationid = :orgId AND deleted = 0)\r\n                OR organizationid = :orgId\r\n                OR enclosingHire_organizationId = :orgId\r\n                OR gln_orig_organizationid = :orgId\r\n                OR originFacilityId in (\r\n                    select facilityid\r\n                    from v_FacilityAndBbrOrg\r\n                    where bbrorgid = :orgId\r\n                      and (nvl(atd, etd), activeEndDate) overlaps (fromDate, toDate))\r\n                OR gln_dest_organizationid = :orgId\r\n                OR destinationFacilityId in (\r\n                    select facilityid\r\n                    from v_FacilityAndBbrOrg\r\n                    where bbrorgid = :orgId\r\n                      and (nvl(atd, etd), activeEndDate) overlaps (fromDate, toDate))\r\n                )&quot;;\r\n\r\n    protected &lt;T&gt; List&lt;T&gt; query(String key, RowMapper&lt;T&gt; mapper, Object... kvs) {\r\n        Map&lt;String, Object&gt; params = map(kvs);\r\n        return  jdbcTemplate.queryForList(q, params);\r\n    }","title":"Slow Performance with NamedParameterJdbcTemplate","body":"<p>I have a Spring5 application using <code>NamedParameterJdbcTemplate</code> to fetch data from OracleDB.</p>\n<p>When I execute the same query from intellij DB console I get the result in 1.5 seconds but when I execute the same query from the Java application using\n<code>jdbcTemplate.queryForList(query, params);</code> it takes 90 seconds</p>\n<p>Here is the DBconfigration class:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(&quot;com.xxxx.xxx.relational.repositories&quot;)\n@PropertySource(value = &quot;classpath:jdbc.properties&quot;)\n@ComponentScan\n@EnableTransactionManagement\n@Import(RestTemplateConfig.class)\npublic class RelationalConfig {\n\n    @Bean(destroyMethod = &quot;close&quot;)\n    public BasicDataSource dataSource(@Value(&quot;${jdbc.driverClassName}&quot;) String driverClassName,\n            @Value(&quot;${jdbc.url}&quot;) String url, @Value(&quot;${jdbc.username}&quot;) String username,\n            @Value(&quot;${jdbc.password}&quot;) String password) {\n        BasicDataSource ds = new BasicDataSource();\n        ds.setDriverClassName(driverClassName);\n        ds.setUrl(url);\n        ds.setUsername(username);\n        ds.setPassword(password);\n        return ds;\n    }\n\n    @Bean\n    HibernateJpaVendorAdapter hibernateJpaVendorAdapter() {\n        return new HibernateJpaVendorAdapter();\n    }\n\n    @Bean\n    @Autowired\n    LocalContainerEntityManagerFactoryBean entityManagerFactory(BasicDataSource dataSource,\n            HibernateJpaVendorAdapter vendor, @Value(&quot;${hibernate.dialect}&quot;) String dialect,\n            @Value(&quot;${jdbc.schema}&quot;) String schema) {\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactoryBean.setDataSource(dataSource);\n        entityManagerFactoryBean.setJpaVendorAdapter(vendor);\n        Properties jpaProperties = new Properties();\n\n        jpaProperties.put(&quot;hibernate.dialect&quot;, dialect);\n        jpaProperties.put(&quot;hibernate.default_schema&quot;, schema);\n//        jpaProperties.put(&quot;hibernate.jdbc.fetch_size&quot;, 200);\n//        jpaProperties.put(&quot;hibernate.connection.pool_size&quot;, 10);\n        entityManagerFactoryBean.setJpaProperties(jpaProperties);\n        entityManagerFactoryBean.setPackagesToScan(&quot;com.xxx.xxx.relational.entities&quot;);\n        return entityManagerFactoryBean;\n    }\n\n\n    @Bean\n    @Autowired\n    JpaTransactionManager transactionManager(EntityManagerFactory factory) {\n        return new JpaTransactionManager(factory);\n    }\n\n\n    @Bean\n    @Autowired\n    NamedParameterJdbcTemplate jdbcTemplate(DataSource dataSource) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n        jdbcTemplate.setFetchSize(200);\n        return new NamedParameterJdbcTemplate(jdbcTemplate);\n    }\n\n\n    @Bean\n    @Autowired\n    SiblingsRepo&lt;LegDTO&gt; legSiblingsRepo(LegRepository legRepo) {\n        return new SiblingsRepo&lt;LegDTO&gt;() {\n            @Override\n            public Optional&lt;LegDTO&gt; byNext(LegDTO next) {\n                return legRepo.findByNextLegId(next.getId());\n            }\n\n            @Override\n            public Optional&lt;LegDTO&gt; byId(Integer id) {\n                return legRepo.findById(id);\n            }\n\n            @Override\n            public LegDTO save(LegDTO sibling) {\n                return legRepo.save(sibling);\n            }\n        };\n    }\n\n\n    @Bean\n    @Autowired\n    SiblingsRepo&lt;JourneyDTO&gt; journeySiblingsRepo(JourneyRepository journeyRepo) {\n        return new SiblingsRepo&lt;JourneyDTO&gt;() {\n            @Override\n            public Optional&lt;JourneyDTO&gt; byNext(JourneyDTO next) {\n                return journeyRepo.findByNextJourneyId(next.getId());\n            }\n\n            @Override\n            public Optional&lt;JourneyDTO&gt; byId(Integer id) {\n                return journeyRepo.findById(id);\n            }\n\n            @Override\n            public JourneyDTO save(JourneyDTO sibling) {\n                return journeyRepo.save(sibling);\n            }\n        };\n    }\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertyConfig() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n<p>Here is the query:</p>\n<pre><code>String q = &quot;select journeyid, extid, extccuid\n        from ACTIVE_JOURNEY_VIEW\n        WHERE coalesce(ata, nextJourneyEtd, sysdate + 1) &gt; sysdate\n          AND ((organizationid = :orgId AND deleted = 0)\n            OR organizationid = :orgId\n            OR enclosingHire_organizationId = :orgId\n            OR gln_orig_organizationid = :orgId\n            OR originFacilityId in (\n                select facilityid\n                from v_FacilityAndBbrOrg\n                where bbrorgid = :orgId\n                  and (nvl(atd, etd), activeEndDate) overlaps (fromDate, toDate))\n            OR gln_dest_organizationid = :orgId\n            OR destinationFacilityId in (\n                select facilityid\n                from v_FacilityAndBbrOrg\n                where bbrorgid = :orgId\n                  and (nvl(atd, etd), activeEndDate) overlaps (fromDate, toDate))\n            )&quot;;\n\nprotected &lt;T&gt; List&lt;T&gt; query(String key, RowMapper&lt;T&gt; mapper, Object... kvs) {\n    Map&lt;String, Object&gt; params = map(kvs);\n    return  jdbcTemplate.queryForList(q, params);\n}\n</code></pre>\n"},{"tags":["java","liquibase"],"answers":[{"tags":[],"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663017162,"creation_date":1663017162,"answer_id":73695297,"question_id":73538376,"body_markdown":"Per accepted solutions on the similar post linked below, you need to add\r\n```\r\n &lt;sql splitStatements=&quot;false&quot;&gt;\r\n```\r\nor something along those lines. Take a look at the answers on the post and see if you&#39;re able to resolve it with that info.\r\n\r\nReference: \r\n* https://stackoverflow.com/questions/57098328/how-to-fix-sql-syntax-error-using-liquibase-and-mysql-to-create-trigger\r\n","title":"How to substitute property values in Liquibase?","body":"<p>Per accepted solutions on the similar post linked below, you need to add</p>\n<pre><code> &lt;sql splitStatements=&quot;false&quot;&gt;\n</code></pre>\n<p>or something along those lines. Take a look at the answers on the post and see if you're able to resolve it with that info.</p>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/57098328/how-to-fix-sql-syntax-error-using-liquibase-and-mysql-to-create-trigger\">How to fix SQL syntax error using liquibase and mysql to create trigger</a></li>\n</ul>\n"}],"owner":{"account_id":7147210,"reputation":438,"user_id":5462526,"accept_rate":76,"display_name":"freestar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1663017162,"creation_date":1661842915,"question_id":73538376,"body_markdown":"I have a *changelog-root.xml* file with the following properties:\r\n```\r\n&lt;property  name=&quot;identity&quot;  value=&quot;bigserial&quot;  dbms=&quot;postgresql&quot;/&gt;\r\n&lt;property  name=&quot;identity&quot;  value=&quot;identity&quot;  dbms=&quot;h2&quot;/&gt;\r\n...\r\n&lt;include file=&quot;changelog-create-schema.sql&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\r\n```\r\n\r\nAnd in the *changelog-create-schema.sql* i would like to substitute them like:\r\n\r\n```\r\nCREATE TABLE user_token (\r\n    id ${identity} primary key,\r\n    token_encrypted varchar(200) NOT NULL UNIQUE,\r\n    expiration timestamp NOT NULL\r\n);\r\n\r\n```\r\n\r\nI have read the liquibase documentation and used the same syntax as described here:\r\nhttps://docs.liquibase.com/concepts/changelogs/property-substitution.html\r\n\r\nBut its not working for me i get:\r\n\r\n**liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;$&quot;**\r\n\r\nCan u help me pls?\r\n\r\n","title":"How to substitute property values in Liquibase?","body":"<p>I have a <em>changelog-root.xml</em> file with the following properties:</p>\n<pre><code>&lt;property  name=&quot;identity&quot;  value=&quot;bigserial&quot;  dbms=&quot;postgresql&quot;/&gt;\n&lt;property  name=&quot;identity&quot;  value=&quot;identity&quot;  dbms=&quot;h2&quot;/&gt;\n...\n&lt;include file=&quot;changelog-create-schema.sql&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\n</code></pre>\n<p>And in the <em>changelog-create-schema.sql</em> i would like to substitute them like:</p>\n<pre><code>CREATE TABLE user_token (\n    id ${identity} primary key,\n    token_encrypted varchar(200) NOT NULL UNIQUE,\n    expiration timestamp NOT NULL\n);\n\n</code></pre>\n<p>I have read the liquibase documentation and used the same syntax as described here:\n<a href=\"https://docs.liquibase.com/concepts/changelogs/property-substitution.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/concepts/changelogs/property-substitution.html</a></p>\n<p>But its not working for me i get:</p>\n<p><strong>liquibase.exception.DatabaseException: ERROR: syntax error at or near &quot;$&quot;</strong></p>\n<p>Can u help me pls?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1663017370,"post_id":73695271,"comment_id":130136192,"body_markdown":"Are you aware that cert and private key installed via settings go into Android Keychain not AndroidKeystore? Also your code only uses the certificate and ignores the private key, is this what you want? In difference to .Net languages in Java a certificate is just the certificate with it&#39;s public key, the private key is a different class.","body":"Are you aware that cert and private key installed via settings go into Android Keychain not AndroidKeystore? Also your code only uses the certificate and ignores the private key, is this what you want? In difference to .Net languages in Java a certificate is just the certificate with it&#39;s public key, the private key is a different class."},{"owner":{"account_id":2293719,"reputation":91,"user_id":2015766,"display_name":"Martijn Deleij"},"score":0,"creation_date":1663017465,"post_id":73695271,"comment_id":130136219,"body_markdown":"Yeah, like I said, I am not very good at this. I need both the private key and the certificate installed in the KeyStore, not the keyChain....","body":"Yeah, like I said, I am not very good at this. I need both the private key and the certificate installed in the KeyStore, not the keyChain...."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1663054150,"post_id":73695271,"comment_id":130142370,"body_markdown":"Then try [this answer](https://stackoverflow.com/a/36805098/150978). Note that is uses DER encoded cert and key, not PEM encoded. You can convert your PEM files to DER files using openSSL (or just apply base64 decode on the part between the `---` lines and save that to a file then it is DER encoded).","body":"Then try <a href=\"https://stackoverflow.com/a/36805098/150978\">this answer</a>. Note that is uses DER encoded cert and key, not PEM encoded. You can convert your PEM files to DER files using openSSL (or just apply base64 decode on the part between the <code>---</code> lines and save that to a file then it is DER encoded)."}],"owner":{"account_id":2293719,"reputation":91,"user_id":2015766,"display_name":"Martijn Deleij"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663016959,"creation_date":1663016959,"question_id":73695271,"body_markdown":"I am trying to import an existing RSA private / public key into the android keystore (Android 7.0.3.2, Emulator).\r\n\r\nI have both keys as PCKS 1 inside PEM files. I tried making them a pcks12 file with openssl, but when I try to import those with the below code:\r\n\r\n    private void getCertsFromP12(String pathToFile, String passphrase){\r\n            try {\r\n                File folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n                File myFile = new File(folder, &quot;Tokkey.p12&quot;);\r\n                KeyStore p12 = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n                p12.load(new FileInputStream(myFile), passphrase.toCharArray());\r\n                Enumeration e = p12.aliases();\r\n                while (e.hasMoreElements()) {\r\n                    String alias = (String) e.nextElement();\r\n                    X509Certificate c = (X509Certificate) p12.getCertificate(alias);\r\n                    addCertificateToKeyStore(c);\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n\r\n                Log.d(TAG,&quot;error&quot;,e);\r\n            }\r\n    }\r\n\r\n    private void addCertificateToKeyStore(X509Certificate c) {\r\n        try {\r\n            KeyStore ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            ks.load(null);\r\n            ks.setCertificateEntry(&quot;myCertAlias&quot;, c);\r\n        } catch (Exception e){}\r\n    }\r\n\r\nIt says file corrupt or password invalid. When I try to install them via the settings, it won&#39;t accept any password, constantly telling me its wrong.\r\n\r\nI have been bashing my head against this for hours now and would really appreciate some help!\r\n\r\nThe keys are in the following format:\r\n\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n    MIIEpAIBAAKCAQEArQ2gq2Y3HE9PfFTkEcJcVBNhme0vFF4uk4wgh3AJa/GgSu5o\r\n    PyAbPmE/kzE1Ye7+S/1WlRYfYLUyzF2lZJuc/1Q2ZBCwdMuJ2TFxuHlqo00zKBNH\r\n    RhsdzmXyY+NbCUFuH5DPMs3QRs/jQvYle2mTlslULC5ndoQrT229+GxgdR3zScKJ\r\n    Olheqa81nEfFkVKjFTcLeYslCNO3sX/DP/m+WDomeFtp1k73tk14EBMtQlUb895c\r\n    xu27b5bdbsbJNdDcSonXsqzxwZtW3mZZN494qkMCrAdiYyFQ17UOmHlP+7wGNqpn\r\n    L/XLeP8k2ufpHfo/j2rgD21zqjncQ1WCstFi8QIDAQABAoIBAQCPbdIS/V8D+cAZ\r\n    foqhJYQ8suucFneE3CKia+uyFWvZqaR/NmX0m/m4lAWLS6fBCcJ+3PRcEL/k+Ymm\r\n    1J72afuPrA6AlUyLIP+Zol9s1EVMH/ocZw4Vzve/T8O8gn27iB1r0CvLIcZUSo1D\r\n    vJuIVBLdUPSQwc1C73yuEnj3Y2v25IUA6We2Mlo1wJATMg7a99J1v+IofpDizQ/G\r\n    fjXXAcbN4g4pbcNZ6pzCqPlRP9kjJCR9K9uLiMBnQWN+mIXo+OoXXo9OAzy8LkSi\r\n    HWwAWR7BQTVQN5eyq7Foldx7d4E10B+reSYZRfIxFswEUv3uMxuMpry7+itkcRbl\r\n    HRpEqywBAoGBANZLYaTPjRJqIVsTN7dktS7cXG/YJEV3jy8fRBJgkssHxaBpUamJ\r\n    4SUXG2ZsR0HgRboQcIQ7xdNYWcgwkEBChs/k8Tk8eSROydwdXnz7072F0mAYn5f9\r\n    sGIY8M/NRR7SSG72RxtkVzB9yRlYHSIxjK9kRMA15Vx6TAI1L4mDgHwhAoGBAM67\r\n    hKRcMWhRfPQlm9BkQN2H9IBjO/DgY7sReXUugbiZ+663JCi4ksde5JGT16JWJihC\r\n    3/Z26FG8ryviYC0w3YDaeaReflSGg4qunxvg6xAk3URH9KcaqvL3egeR9cK4lCG4\r\n    kK8kpczIg3lf8IR2/ouUSO2Rdz1qhMiY77YByozRAoGBAMX1Wt1B8iLpsaiNhzG+\r\n    MXV5kVash0041ieErYCAf/pYUqMNx6djPH3j66bhLa5YPHFWkGpHQUcsXbwFyKvk\r\n    CN9xsbja+VmmAul4o/m3NHHmdmHZPUzNyKvGOGbuTATd4pXGogdW2QhtmmD0Oe2F\r\n    cl3vtWcOIrQcMaz0btaMiRuhAoGARqC94kE1CAS/AdJPd1So7IZkO/CrK9IdgG2p\r\n    5yTqYJ0K5VfgXKEiVEbRJAM0aluwUZT3WwaovDQQTJfcb9P/+OOrJ0K5OjtyeVDL\r\n    PwUKictuZMOIjAaKXNO7txZgthPFV/fsRkno8xuV/0ONslPNBva0K6XE7RCVKMtH\r\n    KhFWl+ECgYBgNrlbK5J5JreTXsql1DYMQGpf07DBxWhksY1/bLvz6qL2fURA1WLO\r\n    n2MEQpygCw3/PnUSHCuvvtgZtpiejz9xNQq2P8s/66/ZEItbd69b7SLC0z5M/MWD\r\n    WCWo43bvnvE2exWaiSEkbSIrFLyWbszVsY2FjbtCN9hago8fD3lPuQ==\r\n    -----END RSA PRIVATE KEY-----\r\n\r\n","title":"Import an existing RSA Key / CERT into android keystore (PEM Format / PCKS1)","body":"<p>I am trying to import an existing RSA private / public key into the android keystore (Android 7.0.3.2, Emulator).</p>\n<p>I have both keys as PCKS 1 inside PEM files. I tried making them a pcks12 file with openssl, but when I try to import those with the below code:</p>\n<pre><code>private void getCertsFromP12(String pathToFile, String passphrase){\n        try {\n            File folder = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n            File myFile = new File(folder, &quot;Tokkey.p12&quot;);\n            KeyStore p12 = KeyStore.getInstance(&quot;pkcs12&quot;);\n            p12.load(new FileInputStream(myFile), passphrase.toCharArray());\n            Enumeration e = p12.aliases();\n            while (e.hasMoreElements()) {\n                String alias = (String) e.nextElement();\n                X509Certificate c = (X509Certificate) p12.getCertificate(alias);\n                addCertificateToKeyStore(c);\n            }\n        }\n        catch (Exception e) {\n\n            Log.d(TAG,&quot;error&quot;,e);\n        }\n}\n\nprivate void addCertificateToKeyStore(X509Certificate c) {\n    try {\n        KeyStore ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n        ks.load(null);\n        ks.setCertificateEntry(&quot;myCertAlias&quot;, c);\n    } catch (Exception e){}\n}\n</code></pre>\n<p>It says file corrupt or password invalid. When I try to install them via the settings, it won't accept any password, constantly telling me its wrong.</p>\n<p>I have been bashing my head against this for hours now and would really appreciate some help!</p>\n<p>The keys are in the following format:</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEArQ2gq2Y3HE9PfFTkEcJcVBNhme0vFF4uk4wgh3AJa/GgSu5o\nPyAbPmE/kzE1Ye7+S/1WlRYfYLUyzF2lZJuc/1Q2ZBCwdMuJ2TFxuHlqo00zKBNH\nRhsdzmXyY+NbCUFuH5DPMs3QRs/jQvYle2mTlslULC5ndoQrT229+GxgdR3zScKJ\nOlheqa81nEfFkVKjFTcLeYslCNO3sX/DP/m+WDomeFtp1k73tk14EBMtQlUb895c\nxu27b5bdbsbJNdDcSonXsqzxwZtW3mZZN494qkMCrAdiYyFQ17UOmHlP+7wGNqpn\nL/XLeP8k2ufpHfo/j2rgD21zqjncQ1WCstFi8QIDAQABAoIBAQCPbdIS/V8D+cAZ\nfoqhJYQ8suucFneE3CKia+uyFWvZqaR/NmX0m/m4lAWLS6fBCcJ+3PRcEL/k+Ymm\n1J72afuPrA6AlUyLIP+Zol9s1EVMH/ocZw4Vzve/T8O8gn27iB1r0CvLIcZUSo1D\nvJuIVBLdUPSQwc1C73yuEnj3Y2v25IUA6We2Mlo1wJATMg7a99J1v+IofpDizQ/G\nfjXXAcbN4g4pbcNZ6pzCqPlRP9kjJCR9K9uLiMBnQWN+mIXo+OoXXo9OAzy8LkSi\nHWwAWR7BQTVQN5eyq7Foldx7d4E10B+reSYZRfIxFswEUv3uMxuMpry7+itkcRbl\nHRpEqywBAoGBANZLYaTPjRJqIVsTN7dktS7cXG/YJEV3jy8fRBJgkssHxaBpUamJ\n4SUXG2ZsR0HgRboQcIQ7xdNYWcgwkEBChs/k8Tk8eSROydwdXnz7072F0mAYn5f9\nsGIY8M/NRR7SSG72RxtkVzB9yRlYHSIxjK9kRMA15Vx6TAI1L4mDgHwhAoGBAM67\nhKRcMWhRfPQlm9BkQN2H9IBjO/DgY7sReXUugbiZ+663JCi4ksde5JGT16JWJihC\n3/Z26FG8ryviYC0w3YDaeaReflSGg4qunxvg6xAk3URH9KcaqvL3egeR9cK4lCG4\nkK8kpczIg3lf8IR2/ouUSO2Rdz1qhMiY77YByozRAoGBAMX1Wt1B8iLpsaiNhzG+\nMXV5kVash0041ieErYCAf/pYUqMNx6djPH3j66bhLa5YPHFWkGpHQUcsXbwFyKvk\nCN9xsbja+VmmAul4o/m3NHHmdmHZPUzNyKvGOGbuTATd4pXGogdW2QhtmmD0Oe2F\ncl3vtWcOIrQcMaz0btaMiRuhAoGARqC94kE1CAS/AdJPd1So7IZkO/CrK9IdgG2p\n5yTqYJ0K5VfgXKEiVEbRJAM0aluwUZT3WwaovDQQTJfcb9P/+OOrJ0K5OjtyeVDL\nPwUKictuZMOIjAaKXNO7txZgthPFV/fsRkno8xuV/0ONslPNBva0K6XE7RCVKMtH\nKhFWl+ECgYBgNrlbK5J5JreTXsql1DYMQGpf07DBxWhksY1/bLvz6qL2fURA1WLO\nn2MEQpygCw3/PnUSHCuvvtgZtpiejz9xNQq2P8s/66/ZEItbd69b7SLC0z5M/MWD\nWCWo43bvnvE2exWaiSEkbSIrFLyWbszVsY2FjbtCN9hago8fD3lPuQ==\n-----END RSA PRIVATE KEY-----\n</code></pre>\n"},{"tags":["java","spring","spring-data","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1453027152,"creation_date":1452989107,"answer_id":34833571,"question_id":34832758,"body_markdown":"A transaction means that all modifications of persistent objects performed within the boundary of the transaction will either :\r\n\r\n- be commited at the end of the transaction (i.e. **all** modification are persisted in the DB)\r\n- be rollbacked at the end of the transaction (i.e. **none** of the modifications are persisted in the DB)\r\nThat&#39;s all.\r\n\r\n\r\nHow transaction works in this case ?\r\n\r\nOne of the 2 threads reach the end of the transaction and commit successfully. The other thread reach the end of the transaction and fail to commit due to constraint violation, so the second transaction terminate in &quot;rollback&quot; state.\r\n\r\nWhy `findOne` isn&#39;t blocked in the second transaction ?\r\n\r\nSimply because, despite the SERIALIZABLE transaction level, there is no row to lock. `findOne` returns no results in both transactions and nothing get locked (of course if first transaction is commited before that the second transaction execute `findOne` : it&#39;s another story).\r\n\r\nHow to handle concurrent transaction in your particular case (i.e. constraint violation on PK while inserting new rows) ? \r\n\r\nThe most common strategy is to let the database assign the id to new rows -with the help of a sequence- \r\n\r\n(As an experiment, you can try to set the isolation level to READ_UNCOMMITED so that second transaction may read uncommited changes from first transaction. I&#39;m not sure you notice any difference because if `findOne` in second transaction is executed before `testRepository.save(ntm);` from the first transaction it will still return no results)\r\n\r\nHow to handle transaction rollback due to concurrent modification in general ?\r\n\r\nIt really depends on your use case. Basically you have the choice between: \r\n\r\n- catching the exception and &quot;retry&quot; the operation.\r\n- throwing the exception to caller (probably to display a gentle error message to the user).\r\n\r\nBe aware that if the transaction terminate in a rollback state : the graph of persistent objects modified during the transaction is not reverted to it&#39;s original state.\r\n\r\nPlease note that using isolation level SERIALIZABLE can cause huge performance issues and is generally used only for critical and occasional transaction.","title":"How to handle transactions with concurrent access in Spring","body":"<p>A transaction means that all modifications of persistent objects performed within the boundary of the transaction will either :</p>\n\n<ul>\n<li>be commited at the end of the transaction (i.e. <strong>all</strong> modification are persisted in the DB)</li>\n<li>be rollbacked at the end of the transaction (i.e. <strong>none</strong> of the modifications are persisted in the DB)\nThat's all.</li>\n</ul>\n\n<p>How transaction works in this case ?</p>\n\n<p>One of the 2 threads reach the end of the transaction and commit successfully. The other thread reach the end of the transaction and fail to commit due to constraint violation, so the second transaction terminate in \"rollback\" state.</p>\n\n<p>Why <code>findOne</code> isn't blocked in the second transaction ?</p>\n\n<p>Simply because, despite the SERIALIZABLE transaction level, there is no row to lock. <code>findOne</code> returns no results in both transactions and nothing get locked (of course if first transaction is commited before that the second transaction execute <code>findOne</code> : it's another story).</p>\n\n<p>How to handle concurrent transaction in your particular case (i.e. constraint violation on PK while inserting new rows) ? </p>\n\n<p>The most common strategy is to let the database assign the id to new rows -with the help of a sequence- </p>\n\n<p>(As an experiment, you can try to set the isolation level to READ_UNCOMMITED so that second transaction may read uncommited changes from first transaction. I'm not sure you notice any difference because if <code>findOne</code> in second transaction is executed before <code>testRepository.save(ntm);</code> from the first transaction it will still return no results)</p>\n\n<p>How to handle transaction rollback due to concurrent modification in general ?</p>\n\n<p>It really depends on your use case. Basically you have the choice between: </p>\n\n<ul>\n<li>catching the exception and \"retry\" the operation.</li>\n<li>throwing the exception to caller (probably to display a gentle error message to the user).</li>\n</ul>\n\n<p>Be aware that if the transaction terminate in a rollback state : the graph of persistent objects modified during the transaction is not reverted to it's original state.</p>\n\n<p>Please note that using isolation level SERIALIZABLE can cause huge performance issues and is generally used only for critical and occasional transaction.</p>\n"},{"tags":[],"owner":{"account_id":960326,"reputation":988,"user_id":984838,"display_name":"ajaristi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615416750,"creation_date":1615416750,"answer_id":66574051,"question_id":34832758,"body_markdown":"I had a similar problem with parallel calls and I solved it using [ReentrantLock][1]. \r\n\r\nThis is one example using your code:\r\n\r\n    @Service\r\n    public class DefaultTestService {\r\n    \r\n      private final ReentrantLock lock = new ReentrantLock();\r\n    \r\n      @Autowired\r\n      private TestRepository testRepository;\r\n    \r\n      @Transactional(readOnly = false, isolation = Isolation.SERIALIZABLE)\r\n      public void incrementAndGet(Long testModelId) {\r\n        lock.lock();\r\n        try {\r\n          final TestModel tm = testRepository.findOne(testModelId);\r\n          if (tm != null) {\r\n            LOGGER.debug(&quot;Updated &quot; + testModelId + &quot; from value: &quot; + tm.getValue());\r\n            tm.setValue(tm.getValue() + 1);\r\n            testRepository.save(tm);\r\n          } else {\r\n            LOGGER.debug(&quot;Saved with id: &quot; + testModelId);\r\n            final TestModel ntm = new TestModel();\r\n            ntm.setId(testModelId);\r\n            testRepository.save(ntm);\r\n          }\r\n        } finally {\r\n          lock.unlock();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html","title":"How to handle transactions with concurrent access in Spring","body":"<p>I had a similar problem with parallel calls and I solved it using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\">ReentrantLock</a>.</p>\n<p>This is one example using your code:</p>\n<pre><code>@Service\npublic class DefaultTestService {\n\n  private final ReentrantLock lock = new ReentrantLock();\n\n  @Autowired\n  private TestRepository testRepository;\n\n  @Transactional(readOnly = false, isolation = Isolation.SERIALIZABLE)\n  public void incrementAndGet(Long testModelId) {\n    lock.lock();\n    try {\n      final TestModel tm = testRepository.findOne(testModelId);\n      if (tm != null) {\n        LOGGER.debug(&quot;Updated &quot; + testModelId + &quot; from value: &quot; + tm.getValue());\n        tm.setValue(tm.getValue() + 1);\n        testRepository.save(tm);\n      } else {\n        LOGGER.debug(&quot;Saved with id: &quot; + testModelId);\n        final TestModel ntm = new TestModel();\n        ntm.setId(testModelId);\n        testRepository.save(ntm);\n      }\n    } finally {\n      lock.unlock();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5342445,"reputation":4807,"user_id":4259032,"accept_rate":56,"display_name":"Alain Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663016890,"creation_date":1663016890,"answer_id":73695263,"question_id":34832758,"body_markdown":"You could use optimistic locking, just as shown in this [Baeldung guide][1]. A little summary of what must be done.\r\n\r\n1. Adding a `bigint (or anything similar)` version field to the tables that were modified in the commonly deadlocked transactions (database wise)\r\n2. Adding the annotation `@Version` to the JPA model&#39;s newly created version field\r\n\r\nWith a quite simple solution, most of my deadlocked issues disappear. Hope it helps somebody else. \r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-optimistic-locking","title":"How to handle transactions with concurrent access in Spring","body":"<p>You could use optimistic locking, just as shown in this <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">Baeldung guide</a>. A little summary of what must be done.</p>\n<ol>\n<li>Adding a <code>bigint (or anything similar)</code> version field to the tables that were modified in the commonly deadlocked transactions (database wise)</li>\n<li>Adding the annotation <code>@Version</code> to the JPA model's newly created version field</li>\n</ol>\n<p>With a quite simple solution, most of my deadlocked issues disappear. Hope it helps somebody else.</p>\n"}],"owner":{"account_id":2345470,"reputation":6598,"user_id":2055854,"accept_rate":44,"display_name":"Orest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6712,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":34833571,"answer_count":3,"score":6,"last_activity_date":1663016890,"creation_date":1452982603,"question_id":34832758,"body_markdown":"I have a service with one method:\r\n\r\n        @Service\r\n        public class DefaultTestService implements TestService {\r\n            private static final Logger LOGGER = Logger.getLogger(DefaultTestService.class);\r\n            @Autowired\r\n            private TestRepository testRepository;\r\n        \r\n            @Transactional(readOnly = false, isolation = Isolation.SERIALIZABLE)\r\n            @Override\r\n            public void incrementAndGet(Long testModelId) {\r\n                LOGGER.debug(&quot;Transaction is active: &quot; + TransactionSynchronizationManager.isActualTransactionActive());\r\n                final TestModel tm = testRepository.findOne(testModelId);\r\n                if (tm != null) {\r\n                    LOGGER.debug(&quot;Updated &quot; + testModelId + &quot; from value: &quot; + tm.getValue());\r\n                    tm.setValue(tm.getValue() + 1);\r\n                    testRepository.save(tm);\r\n                } else {\r\n                    LOGGER.debug(&quot;Saved with id: &quot; + testModelId);\r\n                    final TestModel ntm = new TestModel();\r\n                    ntm.setId(testModelId);\r\n                    testRepository.save(ntm);\r\n                }\r\n           }\r\n        }\r\n    \r\nAnd I&#39;m running Gatling with 2 parallel calls config with `testModelId = 1L` argument. \r\nAs a result of these calls I&#39;m getting error:\r\n\r\n    org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;test_model_pkey&quot;\r\n\r\nWhat I can see from logs is that two calls have entered this method at once and each printed log\r\n\r\n    &quot;Saved with id: 1&quot;\r\n    &quot;Saved with id: 1&quot;\r\n\r\nI assumed that adding transaction annotation on this method would block one of the calls on the line `testRepository.findOne(testModelId)` until other call finishes its execution, but as I can see from logs it&#39;s working in a different way.\r\n\r\nSo my question is how transaction works in this case when concurrent access appears? And how can I handle this case with concurrent access?","title":"How to handle transactions with concurrent access in Spring","body":"<p>I have a service with one method:</p>\n\n<pre><code>    @Service\n    public class DefaultTestService implements TestService {\n        private static final Logger LOGGER = Logger.getLogger(DefaultTestService.class);\n        @Autowired\n        private TestRepository testRepository;\n\n        @Transactional(readOnly = false, isolation = Isolation.SERIALIZABLE)\n        @Override\n        public void incrementAndGet(Long testModelId) {\n            LOGGER.debug(\"Transaction is active: \" + TransactionSynchronizationManager.isActualTransactionActive());\n            final TestModel tm = testRepository.findOne(testModelId);\n            if (tm != null) {\n                LOGGER.debug(\"Updated \" + testModelId + \" from value: \" + tm.getValue());\n                tm.setValue(tm.getValue() + 1);\n                testRepository.save(tm);\n            } else {\n                LOGGER.debug(\"Saved with id: \" + testModelId);\n                final TestModel ntm = new TestModel();\n                ntm.setId(testModelId);\n                testRepository.save(ntm);\n            }\n       }\n    }\n</code></pre>\n\n<p>And I'm running Gatling with 2 parallel calls config with <code>testModelId = 1L</code> argument. \nAs a result of these calls I'm getting error:</p>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint \"test_model_pkey\"\n</code></pre>\n\n<p>What I can see from logs is that two calls have entered this method at once and each printed log</p>\n\n<pre><code>\"Saved with id: 1\"\n\"Saved with id: 1\"\n</code></pre>\n\n<p>I assumed that adding transaction annotation on this method would block one of the calls on the line <code>testRepository.findOne(testModelId)</code> until other call finishes its execution, but as I can see from logs it's working in a different way.</p>\n\n<p>So my question is how transaction works in this case when concurrent access appears? And how can I handle this case with concurrent access?</p>\n"},{"tags":["java","javafx-8","fxml"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1663026878,"post_id":73695253,"comment_id":130137971,"body_markdown":"What version of Java are you using?  What IDE are you using?","body":"What version of Java are you using?  What IDE are you using?"},{"owner":{"account_id":8551720,"reputation":1,"user_id":6408448,"display_name":"Simiyu Cyphrene Sabuni"},"score":0,"creation_date":1663037296,"post_id":73695253,"comment_id":130139203,"body_markdown":"I am using netbeans 8.0","body":"I am using netbeans 8.0"}],"owner":{"account_id":8551720,"reputation":1,"user_id":6408448,"display_name":"Simiyu Cyphrene Sabuni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663016826,"creation_date":1663016826,"question_id":73695253,"body_markdown":"I am trying to build my first on JFX and am unable to find the jar library for javafx.scene.control.ButtonBar so that I can add to my project library. Any support please","title":"Java FX ButtonBar Library","body":"<p>I am trying to build my first on JFX and am unable to find the jar library for javafx.scene.control.ButtonBar so that I can add to my project library. Any support please</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":7208890,"reputation":576,"user_id":5503653,"accept_rate":50,"display_name":"Robidu"},"score":0,"creation_date":1663351873,"post_id":73694893,"comment_id":130227464,"body_markdown":"Could you please provide what you have come up with so far? Please post any code that you have come it so far, plus make sure to read this article: https://stackoverflow.com/help/how-to-ask","body":"Could you please provide what you have come up with so far? Please post any code that you have come it so far, plus make sure to read this article: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663014671,"creation_date":1663014671,"answer_id":73694954,"question_id":73694893,"body_markdown":"Before you set the Adapter of your recyclerView, get the size of your Arraylist, then pass it has a text inyour button after parsing it to a string. It should work for you","title":"Update button text based on recyclerview item count","body":"<p>Before you set the Adapter of your recyclerView, get the size of your Arraylist, then pass it has a text inyour button after parsing it to a string. It should work for you</p>\n"}],"owner":{"account_id":22925591,"reputation":1,"user_id":17060724,"display_name":"tanim_ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663014671,"creation_date":1663014179,"question_id":73694893,"body_markdown":"I am creating a android project. I have a recyclerview and a button below it. I want to change my button text based on how many items are on the recyclerview.Any help will be appreciated.","title":"Update button text based on recyclerview item count","body":"<p>I am creating a android project. I have a recyclerview and a button below it. I want to change my button text based on how many items are on the recyclerview.Any help will be appreciated.</p>\n"},{"tags":["java","url","uri","bufferedreader"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1663006058,"post_id":73693409,"comment_id":130132991,"body_markdown":"the first part of the url (`steam://...`) declares the protocol. In this case, it leads to the page being opened in the steam brower itself, so this will do us no good. Furthermore, the profile-id (and thus the account) is part of the url (`.../profiles/**76561198118053054**/...`), so this would have to change from user to user. I would recommend taking a look at [Steam&#39;s API documentation](https://developer.valvesoftware.com/wiki/Steam_Web_API).","body":"the first part of the url (<code>steam:&#47;&#47;...</code>) declares the protocol. In this case, it leads to the page being opened in the steam brower itself, so this will do us no good. Furthermore, the profile-id (and thus the account) is part of the url (<code>...&#47;profiles&#47;**76561198118053054**&#47;...</code>), so this would have to change from user to user. I would recommend taking a look at <a href=\"https://developer.valvesoftware.com/wiki/Steam_Web_API\" rel=\"nofollow noreferrer\">Steam&#39;s API documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663014151,"creation_date":1663014151,"answer_id":73694891,"question_id":73693409,"body_markdown":"Unless you provide an implementation of [URLStreamHandler][1] that can handle steam://... urls (or the steam protocol), you should actually expect to catch [MalformedURLExceptions][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLStreamHandler.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/MalformedURLException.html","title":"Java reading the contents of an URI","body":"<p>Unless you provide an implementation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLStreamHandler.html\" rel=\"nofollow noreferrer\">URLStreamHandler</a> that can handle steam://... urls (or the steam protocol), you should actually expect to catch <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/MalformedURLException.html\" rel=\"nofollow noreferrer\">MalformedURLExceptions</a>.</p>\n"}],"owner":{"account_id":13254254,"reputation":3,"user_id":9570875,"display_name":"UserXyZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663014151,"creation_date":1663005401,"question_id":73693409,"body_markdown":"I have a URI which opens a URL in an application (Steam). \r\n\r\n    String uriString = &quot;steam://openurl/https://steamcommunity.com/profiles/76561198118053054/gcpd/730&quot;;\r\n\tURI uri = new URI(uriString);\r\n\r\nWith this URI personal data of different games can be displayed in Steam when logged in. If you are not logged in you will be redirected to the profile.\r\n\r\nnow i would like to read the content directly from the Steam browser since every user is logged in there by default. Otherwise the users would have to log in to their own internet browser before they start the application.\r\n\r\nin the Steam browser you can already save the source of the page with right click then there should be a way to automate this.\r\n\r\nso how can I read the content of this URI in the Steam Browser?\r\n","title":"Java reading the contents of an URI","body":"<p>I have a URI which opens a URL in an application (Steam).</p>\n<pre><code>String uriString = &quot;steam://openurl/https://steamcommunity.com/profiles/76561198118053054/gcpd/730&quot;;\nURI uri = new URI(uriString);\n</code></pre>\n<p>With this URI personal data of different games can be displayed in Steam when logged in. If you are not logged in you will be redirected to the profile.</p>\n<p>now i would like to read the content directly from the Steam browser since every user is logged in there by default. Otherwise the users would have to log in to their own internet browser before they start the application.</p>\n<p>in the Steam browser you can already save the source of the page with right click then there should be a way to automate this.</p>\n<p>so how can I read the content of this URI in the Steam Browser?</p>\n"},{"tags":["java","android","libgdx","2d","game-development"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1663013733,"post_id":73694727,"comment_id":130135237,"body_markdown":"You are using the parent class as a package.  Maybe a package would be better?  O","body":"You are using the parent class as a package.  Maybe a package would be better?  O"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663013872,"creation_date":1663013872,"answer_id":73694837,"question_id":73694727,"body_markdown":"Inner classes that are declared without the keyword `static` are tethered to the outer class they exist in. \r\n\r\nTo fix\r\n\r\n        public static class GameObject{\r\n\r\nWhy would you want an inner class without static? Here&#39;s an example\r\n\r\n    public class Game {\r\n      private Data gameData;\r\n    \r\n      class MyListener {\r\n        public void receiveNewData(Data newData) {\r\n          //update gameData with the new data\r\n        }\r\n      }\r\n    }\r\n\r\nIf MyListener was static, it would not be able to access Game&#39;s gameData\r\n\r\n","title":"Accessing to inner class in java","body":"<p>Inner classes that are declared without the keyword <code>static</code> are tethered to the outer class they exist in.</p>\n<p>To fix</p>\n<pre><code>    public static class GameObject{\n</code></pre>\n<p>Why would you want an inner class without static? Here's an example</p>\n<pre><code>public class Game {\n  private Data gameData;\n\n  class MyListener {\n    public void receiveNewData(Data newData) {\n      //update gameData with the new data\n    }\n  }\n}\n</code></pre>\n<p>If MyListener was static, it would not be able to access Game's gameData</p>\n"}],"owner":{"account_id":20826055,"reputation":15,"user_id":15296528,"display_name":"tfk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73694837,"answer_count":1,"score":0,"last_activity_date":1663013872,"creation_date":1663013159,"question_id":73694727,"body_markdown":"I&#39;m a beginner in libGdx and I&#39;m making a simple game.\r\n\r\nI wrote a nested class. As you can see here:\r\n```\r\npublic class classes{\r\n        public class GameObject{\r\n\t\t\r\n\t\t//declaring section\r\n\t\tprivate Texture texture;\r\n\t\tprivate Texture[] spawnAnimation;\r\n\t\tprivate Texture[] deathAnimation;\r\n\t\tprivate Texture[] damageAnimation;\r\n\t\tprivate Texture[] moveAnimation;\r\n\t\tprivate Texture[] fightAnimation;\r\n\t\tprivate Texture[] talkAnimation;\r\n\t\tprivate SpriteBatch batch = new SpriteBatch();\r\n\t\t\r\n\t\t\r\n\t\tprivate float width, height;\r\n\t\tprivate float x, y;\r\n\t\t\r\n\t\tprivate Sound spawnSound, touchSound, deathSound, objSound, moveSound, fightSound;\r\n\t\t\r\n\t\tpublic GameObject(Texture txtr, float width, float height, float x, float y) {\r\n\t\t\tthis.texture = txtr;\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t\t\r\n\t\t//this method checks wether our game object is over an other object\r\n\t\tpublic boolean isOver(GameObject obj){\r\n\t\t\tif(((this.x &gt;= obj.x) &amp;&amp; (this.x &lt;= (obj.x + obj.width))) &amp;&amp; ((this.y &gt;= obj.y) &amp;&amp; (this.y &lt;= (obj.y + obj.height))))\r\n\t\t\t\treturn true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t//this method sets the object bounds\r\n\t\tpublic void setBounds(float width, float height, float x, float y){\r\n\t\t\tthis.width = width;\r\n\t\t\tthis.height = height;\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t\t\r\n\t\t//this method draws the object\r\n\t\tpublic void draw(){\r\n\t\t\tbatch.draw(this.texture, this.width, this.height, this.x, this.y);\r\n\t\t}\r\n\t\t\r\n\t\t//animation setting section\r\n\t\tpublic void setSpawnAnimation(Texture[] texture){\r\n\t\t\tthis.spawnAnimation = texture;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDeathAnimation(Texture[] texture){\r\n\t\t\tthis.deathAnimation = texture;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDamageAnimation(Texture[] texture){\r\n\t\t\tthis.damageAnimation = texture;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setMoveAnimation(Texture[] texture){\r\n\t\t\tthis.moveAnimation = texture;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setFightAnimation(Texture[] texture){\r\n\t\t\tthis.fightAnimation = texture;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setTalkAnimation(Texture[] texture){\r\n\t\t\tthis.talkAnimation = texture;\r\n\t\t}\r\n\t\t\r\n\t\t//sounds setting section\r\n\t\tpublic void setSpawnSound(Sound sound){\r\n\t\t\tthis.spawnSound = sound;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setTouchSound(Sound sound){\r\n\t\t\tthis.touchSound = sound;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDeathSound(Sound sound){\r\n\t\t\tthis.deathSound = sound;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setObjSound(Sound sound){\r\n\t\t\tthis.objSound = sound;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setMoveSound(Sound sound){\r\n\t\t\tthis.moveSound = sound;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setFightSound(Sound sound){\r\n\t\t\tthis.fightSound = sound;\r\n\t\t}\r\n\t\t\r\n\t\t//animation and behavior section\r\n\t\tpublic void spawn(){\r\n\t\t\tbatch.begin();\r\n\t\t\tfor(int i=0;i&lt;=this.spawnAnimation.length;i++){\r\n\t\t\t\tthis.texture = this.spawnAnimation[i];\r\n\t\t\t\tthis.draw();\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tThread.sleep(0, 1);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (InterruptedException e)\r\n\t\t\t\t{}\r\n\t\t\t}\r\n\t\t\tbatch.end();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void die(Texture[] deathTexture){\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI went to the other file, in the other class, and I tried to set the object texture\r\n```\r\npublic class MyGdxGame implements ApplicationListener{\r\n\r\n    Texture texture;\r\n\tSpriteBatch batch;\r\n\tclasses.GameObject gun;\r\n\t@Override\r\n\tpublic void create()\r\n\t{\r\n\t\tbatch = new SpriteBatch();\r\n\t\tgun = new classes.GameObject(new Texture(Gdx.files.internal(&quot;gun.png&quot;)), 0, 0, 300, 300);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render()\r\n\t{        \r\n\t    Gdx.gl.glClearColor(1, 1, 1, 1);\r\n\t    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\t\tbatch.begin();\r\n\t\tbatch.end();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void dispose()\r\n\t{\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void resize(int width, int height)\r\n\t{\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void pause()\r\n\t{\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void resume()\r\n\t{\r\n\t}\r\n}\r\n```\r\nonce I try to access it. I face this error: aan instance for an enclosing class is required\r\n\r\n**note:** I&#39;m making this game for android. using AIDE ide which offers developing apps and games directly on your phone.","title":"Accessing to inner class in java","body":"<p>I'm a beginner in libGdx and I'm making a simple game.</p>\n<p>I wrote a nested class. As you can see here:</p>\n<pre><code>public class classes{\n        public class GameObject{\n        \n        //declaring section\n        private Texture texture;\n        private Texture[] spawnAnimation;\n        private Texture[] deathAnimation;\n        private Texture[] damageAnimation;\n        private Texture[] moveAnimation;\n        private Texture[] fightAnimation;\n        private Texture[] talkAnimation;\n        private SpriteBatch batch = new SpriteBatch();\n        \n        \n        private float width, height;\n        private float x, y;\n        \n        private Sound spawnSound, touchSound, deathSound, objSound, moveSound, fightSound;\n        \n        public GameObject(Texture txtr, float width, float height, float x, float y) {\n            this.texture = txtr;\n            this.width = width;\n            this.height = height;\n            this.x = x;\n            this.y = y;\n        }\n        \n        //this method checks wether our game object is over an other object\n        public boolean isOver(GameObject obj){\n            if(((this.x &gt;= obj.x) &amp;&amp; (this.x &lt;= (obj.x + obj.width))) &amp;&amp; ((this.y &gt;= obj.y) &amp;&amp; (this.y &lt;= (obj.y + obj.height))))\n                return true;\n            return false;\n        }\n        \n        //this method sets the object bounds\n        public void setBounds(float width, float height, float x, float y){\n            this.width = width;\n            this.height = height;\n            this.x = x;\n            this.y = y;\n        }\n        \n        //this method draws the object\n        public void draw(){\n            batch.draw(this.texture, this.width, this.height, this.x, this.y);\n        }\n        \n        //animation setting section\n        public void setSpawnAnimation(Texture[] texture){\n            this.spawnAnimation = texture;\n        }\n        \n        public void setDeathAnimation(Texture[] texture){\n            this.deathAnimation = texture;\n        }\n        \n        public void setDamageAnimation(Texture[] texture){\n            this.damageAnimation = texture;\n        }\n        \n        public void setMoveAnimation(Texture[] texture){\n            this.moveAnimation = texture;\n        }\n        \n        public void setFightAnimation(Texture[] texture){\n            this.fightAnimation = texture;\n        }\n        \n        public void setTalkAnimation(Texture[] texture){\n            this.talkAnimation = texture;\n        }\n        \n        //sounds setting section\n        public void setSpawnSound(Sound sound){\n            this.spawnSound = sound;\n        }\n        \n        public void setTouchSound(Sound sound){\n            this.touchSound = sound;\n        }\n        \n        public void setDeathSound(Sound sound){\n            this.deathSound = sound;\n        }\n        \n        public void setObjSound(Sound sound){\n            this.objSound = sound;\n        }\n        \n        public void setMoveSound(Sound sound){\n            this.moveSound = sound;\n        }\n        \n        public void setFightSound(Sound sound){\n            this.fightSound = sound;\n        }\n        \n        //animation and behavior section\n        public void spawn(){\n            batch.begin();\n            for(int i=0;i&lt;=this.spawnAnimation.length;i++){\n                this.texture = this.spawnAnimation[i];\n                this.draw();\n                try\n                {\n                    Thread.sleep(0, 1);\n                }\n                catch (InterruptedException e)\n                {}\n            }\n            batch.end();\n        }\n        \n        public void die(Texture[] deathTexture){\n            \n        }\n    }\n}\n</code></pre>\n<p>I went to the other file, in the other class, and I tried to set the object texture</p>\n<pre><code>public class MyGdxGame implements ApplicationListener{\n\n    Texture texture;\n    SpriteBatch batch;\n    classes.GameObject gun;\n    @Override\n    public void create()\n    {\n        batch = new SpriteBatch();\n        gun = new classes.GameObject(new Texture(Gdx.files.internal(&quot;gun.png&quot;)), 0, 0, 300, 300);\n    }\n\n    @Override\n    public void render()\n    {        \n        Gdx.gl.glClearColor(1, 1, 1, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        batch.begin();\n        batch.end();\n    }\n\n    @Override\n    public void dispose()\n    {\n    }\n\n    @Override\n    public void resize(int width, int height)\n    {\n    }\n\n    @Override\n    public void pause()\n    {\n    }\n\n    @Override\n    public void resume()\n    {\n    }\n}\n</code></pre>\n<p>once I try to access it. I face this error: aan instance for an enclosing class is required</p>\n<p><strong>note:</strong> I'm making this game for android. using AIDE ide which offers developing apps and games directly on your phone.</p>\n"},{"tags":["java","spring-boot","opencv","javacv","bytedeco-javacv"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1663013512,"post_id":73693878,"comment_id":130135163,"body_markdown":"you should seek help from the authors/maintainers of &quot;OpenPNP&quot; and &quot;javacv&quot; (bytedeco) -- you should also review [ask]. do some research, i.e. google the error.","body":"you should seek help from the authors/maintainers of &quot;OpenPNP&quot; and &quot;javacv&quot; (bytedeco) -- you should also review <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. do some research, i.e. google the error."},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1663118656,"post_id":73693878,"comment_id":130162405,"body_markdown":"It&#39;s not possible to load 2 different versions of OpenCV in the same process. You&#39;ll need to choose one or the other.","body":"It&#39;s not possible to load 2 different versions of OpenCV in the same process. You&#39;ll need to choose one or the other."}],"owner":{"account_id":6908380,"reputation":11,"user_id":5305260,"display_name":"Neeraj Kunturkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663013487,"creation_date":1663008047,"question_id":73693878,"body_markdown":"I am using OpenCV frame extraction from video in spring-boot application.\r\nI have following openCV related mvn dependencies defined\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.2-0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javacv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1-1.4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;openblas&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.20-1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;openblas-platform&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.20-1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javacv-platform&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ffmpeg-platform&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1-1.4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWhen I run the code getting this error\r\n\r\n```\r\nOpenJDK 64-Bit Server VM warning: You have loaded library /tmp/opencv_openpnp6973620001123807679/nu/pattern/opencv/linux/x86_64/libopencv_java342.so which might have disabled stack guard. The VM will try to fix the stack guard now.\r\nIt&#39;s highly recommended that you fix the library with &#39;execstack -c &lt;libfile&gt;&#39;, or link it with &#39;-z noexecstack&#39;.\r\nUnable to stop the stream: Inappropriate ioctl for device\r\n```\r\n\r\nPlease suggest. Thanks!","title":"Spring boot application -OpenCV : Unable to stop the stream: Inappropriate ioctl for device","body":"<p>I am using OpenCV frame extraction from video in spring-boot application.\nI have following openCV related mvn dependencies defined</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n            &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2-0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n            &lt;artifactId&gt;javacv&lt;/artifactId&gt;\n            &lt;version&gt;1.5.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n            &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1-1.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n            &lt;artifactId&gt;openblas&lt;/artifactId&gt;\n            &lt;version&gt;0.2.20-1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n            &lt;artifactId&gt;openblas-platform&lt;/artifactId&gt;\n            &lt;version&gt;0.2.20-1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco&lt;/groupId&gt;\n            &lt;artifactId&gt;javacv-platform&lt;/artifactId&gt;\n            &lt;version&gt;1.5.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bytedeco.javacpp-presets&lt;/groupId&gt;\n            &lt;artifactId&gt;ffmpeg-platform&lt;/artifactId&gt;\n            &lt;version&gt;4.1-1.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When I run the code getting this error</p>\n<pre><code>OpenJDK 64-Bit Server VM warning: You have loaded library /tmp/opencv_openpnp6973620001123807679/nu/pattern/opencv/linux/x86_64/libopencv_java342.so which might have disabled stack guard. The VM will try to fix the stack guard now.\nIt's highly recommended that you fix the library with 'execstack -c &lt;libfile&gt;', or link it with '-z noexecstack'.\nUnable to stop the stream: Inappropriate ioctl for device\n</code></pre>\n<p>Please suggest. Thanks!</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663010524,"post_id":73694252,"comment_id":130134278,"body_markdown":"Run `mvn package` either in the Terminal or from the Maven tool window in the IDE?","body":"Run <code>mvn package</code> either in the Terminal or from the Maven tool window in the IDE?"},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1663010639,"post_id":73694252,"comment_id":130134312,"body_markdown":"I have run maven package under lifecycle in the Maven are to the right.  That&#39;s what creates the jar file that is named according to the pom file, but  it isn&#39;t updating the 5049 kb jar file.","body":"I have run maven package under lifecycle in the Maven are to the right.  That&#39;s what creates the jar file that is named according to the pom file, but  it isn&#39;t updating the 5049 kb jar file."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1663010693,"post_id":73694252,"comment_id":130134334,"body_markdown":"No one knows how that file was built. Maven/IntelliJ IDEA is not supposed to update it. You can try creating an artifact with all the dependencies included in the jar per https://www.jetbrains.com/help/idea/artifacts.html and see if it works.","body":"No one knows how that file was built. Maven/IntelliJ IDEA is not supposed to update it. You can try creating an artifact with all the dependencies included in the jar per <a href=\"https://www.jetbrains.com/help/idea/artifacts.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/artifacts.html</a> and see if it works."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1663010912,"post_id":73694252,"comment_id":130134401,"body_markdown":"If you want Maven to build the artifact with all the dependent jars unpacked inside it, see https://stackoverflow.com/questions/16222748/building-a-fat-jar-using-maven.","body":"If you want Maven to build the artifact with all the dependent jars unpacked inside it, see <a href=\"https://stackoverflow.com/questions/16222748/building-a-fat-jar-using-maven\" title=\"building a fat jar using maven\">stackoverflow.com/questions/16222748/&hellip;</a>."},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1663012112,"post_id":73694252,"comment_id":130134777,"body_markdown":"So far I did what&#39;s at the jetbrains artifacts link, and rebuilt, and did the artifact step, and package under maven, and it didn&#39;t change the jar file size to reflect that 5049 kb that the old one was...still 18 kb.  No new one appeared either, that I can see.","body":"So far I did what&#39;s at the jetbrains artifacts link, and rebuilt, and did the artifact step, and package under maven, and it didn&#39;t change the jar file size to reflect that 5049 kb that the old one was...still 18 kb.  No new one appeared either, that I can see."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1663012469,"post_id":73694252,"comment_id":130134878,"body_markdown":"You may want to hire a consultant to get your build environment fixed correctly.  The money will be very well spent.","body":"You may want to hire a consultant to get your build environment fixed correctly.  The money will be very well spent."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663012938,"post_id":73694252,"comment_id":130134997,"body_markdown":"Default artifact generated by IntelliJ IDEA will match the Maven configuration. You can create a new custom artifact with the dependencies included.","body":"Default artifact generated by IntelliJ IDEA will match the Maven configuration. You can create a new custom artifact with the dependencies included."},{"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"score":0,"creation_date":1663013779,"post_id":73694252,"comment_id":130135250,"body_markdown":"@CrazyCoder - it&#39;s giving errors with the pom file format with the changes in that stackoverflow question. Any ideas? See update above.","body":"@CrazyCoder - it&#39;s giving errors with the pom file format with the changes in that stackoverflow question. Any ideas? See update above."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663013887,"post_id":73694252,"comment_id":130135275,"body_markdown":"You removed some required tags as explained in the error message. They were present in your original pom.xml.","body":"You removed some required tags as explained in the error message. They were present in your original pom.xml."}],"owner":{"account_id":997267,"reputation":3667,"user_id":1012914,"accept_rate":64,"display_name":"Michele"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663013380,"creation_date":1663010202,"question_id":73694252,"body_markdown":"I&#39;m new to intellij idea and maven, and we recently added/used it to build a legacy java project. The original developers have left the company and I haven&#39;t used java in 20 years and didn&#39;t use these tools, and frankly it was in college (things have changed).  We got the project building, and dependencies are resolved, and it has a pom.xml file now, and it generates a jar file according to the artifactId and version in the pom file, in the target dir, and it&#39;s 18 kb.  However, the original jar file has not rebuilt, and I can see it in a higher project dir and it&#39;s 5049 kb.  That 5049 kb jar file is what was living on the server (*and it&#39;s not rebuilding). We are updating the server name/cred in a file that, and I&#39;m concerned that the 5049 kb file needs to rebuild to reflect the modified cred ini file.  I&#39;m not sure if it makes a difference, but this is the project dir structure:\r\n\r\n    *ServiceNow\r\n       DbCred.ini\r\n       ServiceNowTask\r\n    \r\n       SourceCode\r\n    \r\n       ServiceNowTAsk\r\n        src\r\n           main&gt;java&gt;Task&gt;ServiceNowTask&gt;old java files to build\r\n        target\r\n          ServiceNowTAsk-1-snapshot.jar (new date, 18 kb)\r\n        .classpath\r\n        .project\r\n        pom.xml\r\n        ServiceNowTask.iml\r\n        ServiceNowTask.jar (old date, 5049 kb)\r\n\r\n(read this, ServiceNow is the main dir, with DbCred and ServiceNowTask under it, and under ServiceNowTask is SourceCode, and under that is ServiceNowTask, src, target, ServiceNowTask.iml, ServiceNowTask.jar. etc.)\r\nThere are other ServiceNow projects at the level of ServiceNowTask, and each contains java files with main, so I think they need to be built separately to create the separate jar files.\r\n\r\nThe pom file looks like this (do I need to add ServiceNowTask.jar to the pom file?):\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;Task&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ServiceNowTask&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;ServiceNowTask&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n          &lt;java.version&gt;18&lt;/java.version&gt;\r\n          &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n          &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n      \r\n      \t&lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;4.5.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n          &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;org.ini4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ini4j&lt;/artifactId&gt;\r\n              &lt;version&gt;0.5.4&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nMy question is, how do I get it to rebuild all jar files, specifically that 5049 kb one that isn&#39;t rebuilding?\r\n\r\n\r\n*Update*\r\nI changed the pom file to this but there are errors: \r\n\r\n    [ERROR] Malformed POM C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml: Unrecognised tag: &#39;packaging&#39; (position: START_TAG seen ...&lt;/version&gt;\\r\\n              &lt;packaging&gt;... @11:26)  @ C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml, line 11, column 26\r\n    [FATAL] &#39;groupId&#39; is missing. @ line 2, column 102\r\n    [FATAL] &#39;artifactId&#39; is missing. @ line 2, column 102\r\n    [FATAL] &#39;version&#39; is missing. @ line 2, column 102\r\n     @ \r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    [ERROR]   \r\n    [ERROR]   The project [unknown-group-id]:[unknown-artifact-id]:[unknown-version] (C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml) has 4 errors\r\n    [ERROR]     Malformed POM C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml: Unrecognised tag: &#39;packaging&#39; (position: START_TAG seen ...&lt;/version&gt;\\r\\n              &lt;packaging&gt;... @11:26)  @ C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml, line 11, column 26 -&gt; [Help 2]\r\n    [ERROR]     &#39;groupId&#39; is missing. @ line 2, column 102\r\n    [ERROR]     &#39;artifactId&#39; is missing. @ line 2, column 102\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                  &lt;groupId&gt;Task&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;ServiceNowTask&lt;/artifactId&gt;\r\n                  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n                  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;descriptorRefs&gt;\r\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                        &lt;/descriptorRefs&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;assemble-all&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n      &lt;name&gt;ServiceNowTask&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n          &lt;java.version&gt;18&lt;/java.version&gt;\r\n          &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n          &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n      \r\n      \t&lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;4.5.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n          &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n          &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;org.ini4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ini4j&lt;/artifactId&gt;\r\n              &lt;version&gt;0.5.4&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Added maven/intellij for existing java project and it&#39;s not rebuilding all jar files","body":"<p>I'm new to intellij idea and maven, and we recently added/used it to build a legacy java project. The original developers have left the company and I haven't used java in 20 years and didn't use these tools, and frankly it was in college (things have changed).  We got the project building, and dependencies are resolved, and it has a pom.xml file now, and it generates a jar file according to the artifactId and version in the pom file, in the target dir, and it's 18 kb.  However, the original jar file has not rebuilt, and I can see it in a higher project dir and it's 5049 kb.  That 5049 kb jar file is what was living on the server (*and it's not rebuilding). We are updating the server name/cred in a file that, and I'm concerned that the 5049 kb file needs to rebuild to reflect the modified cred ini file.  I'm not sure if it makes a difference, but this is the project dir structure:</p>\n<pre><code>*ServiceNow\n   DbCred.ini\n   ServiceNowTask\n\n   SourceCode\n\n   ServiceNowTAsk\n    src\n       main&gt;java&gt;Task&gt;ServiceNowTask&gt;old java files to build\n    target\n      ServiceNowTAsk-1-snapshot.jar (new date, 18 kb)\n    .classpath\n    .project\n    pom.xml\n    ServiceNowTask.iml\n    ServiceNowTask.jar (old date, 5049 kb)\n</code></pre>\n<p>(read this, ServiceNow is the main dir, with DbCred and ServiceNowTask under it, and under ServiceNowTask is SourceCode, and under that is ServiceNowTask, src, target, ServiceNowTask.iml, ServiceNowTask.jar. etc.)\nThere are other ServiceNow projects at the level of ServiceNowTask, and each contains java files with main, so I think they need to be built separately to create the separate jar files.</p>\n<p>The pom file looks like this (do I need to add ServiceNowTask.jar to the pom file?):</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;Task&lt;/groupId&gt;\n  &lt;artifactId&gt;ServiceNowTask&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;ServiceNowTask&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;java.version&gt;18&lt;/java.version&gt;\n      &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n      &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n  \n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n      &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n      &lt;version&gt;1.1.1&lt;/version&gt;\n   &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.ini4j&lt;/groupId&gt;\n          &lt;artifactId&gt;ini4j&lt;/artifactId&gt;\n          &lt;version&gt;0.5.4&lt;/version&gt;\n      &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My question is, how do I get it to rebuild all jar files, specifically that 5049 kb one that isn't rebuilding?</p>\n<p><em>Update</em>\nI changed the pom file to this but there are errors:</p>\n<pre><code>[ERROR] Malformed POM C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml: Unrecognised tag: 'packaging' (position: START_TAG seen ...&lt;/version&gt;\\r\\n              &lt;packaging&gt;... @11:26)  @ C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml, line 11, column 26\n[FATAL] 'groupId' is missing. @ line 2, column 102\n[FATAL] 'artifactId' is missing. @ line 2, column 102\n[FATAL] 'version' is missing. @ line 2, column 102\n @ \n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]   \n[ERROR]   The project [unknown-group-id]:[unknown-artifact-id]:[unknown-version] (C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml) has 4 errors\n[ERROR]     Malformed POM C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml: Unrecognised tag: 'packaging' (position: START_TAG seen ...&lt;/version&gt;\\r\\n              &lt;packaging&gt;... @11:26)  @ C:\\Users\\xxx\\OneDrive - Company, Inc\\Documents\\2022\\Java\\ServiceNow\\ServiceNowTask\\SourceCode\\ServiceNowTask\\pom.xml, line 11, column 26 -&gt; [Help 2]\n[ERROR]     'groupId' is missing. @ line 2, column 102\n[ERROR]     'artifactId' is missing. @ line 2, column 102\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;groupId&gt;Task&lt;/groupId&gt;\n              &lt;artifactId&gt;ServiceNowTask&lt;/artifactId&gt;\n              &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n              &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;assemble-all&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n&lt;/build&gt;\n  &lt;name&gt;ServiceNowTask&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;java.version&gt;18&lt;/java.version&gt;\n      &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n      &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n  \n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n      &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n      &lt;version&gt;1.1.1&lt;/version&gt;\n   &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.ini4j&lt;/groupId&gt;\n          &lt;artifactId&gt;ini4j&lt;/artifactId&gt;\n          &lt;version&gt;0.5.4&lt;/version&gt;\n      &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663013026,"creation_date":1663013026,"answer_id":73694712,"question_id":73689410,"body_markdown":"I know it make not make a ton of sense but in multiple programming languages (certainly Java and Python) I&#39;ve had to loop to get everything from a queue.  In Java it&#39;s something like (using the V2 api&#39;s):\r\n\r\n    // note that &quot;done&quot; needs to be set somewhere else to stop the loop\r\n    while (!done) {\r\n        ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\r\n                        .queueUrl(queueUrl)\r\n                        .waitTimeSeconds(20)\r\n                        .build();\r\n        List&lt;Message&gt; messages = sqsClient.receiveMessage(receiveMessageRequest).messages();\r\n    \r\n        for (Message nextMessage : messages) {\r\n            // do something with the message\r\n    \r\n           DeleteMessageRequest deleteMessageRequest = DeleteMessageRequest\r\n                            .builder()\r\n                            .queueUrl(queueUrl)\r\n                            .receiptHandle(nextMessage.receiptHandle())\r\n                            .build();\r\n    \r\n           sqsClient.deleteMessage(deleteMessageRequest);\r\n       }\r\n    }\r\n\r\nFrom what I&#39;ve read it is because there are ultimately many servers behind SQS and a single call doesn&#39;t hit all of them - it takes multiple calls.  This is not a busy loop as the `waitTimeSeconds` does block if there is nothing to do.\r\n\r\nTry something like this to read SQS.  It&#39;s not quite as elegant but it does work.","title":"SQS ReceiveMessageRequest not receiving all the messages in the queue (messages are under 10)","body":"<p>I know it make not make a ton of sense but in multiple programming languages (certainly Java and Python) I've had to loop to get everything from a queue.  In Java it's something like (using the V2 api's):</p>\n<pre><code>// note that &quot;done&quot; needs to be set somewhere else to stop the loop\nwhile (!done) {\n    ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\n                    .queueUrl(queueUrl)\n                    .waitTimeSeconds(20)\n                    .build();\n    List&lt;Message&gt; messages = sqsClient.receiveMessage(receiveMessageRequest).messages();\n\n    for (Message nextMessage : messages) {\n        // do something with the message\n\n       DeleteMessageRequest deleteMessageRequest = DeleteMessageRequest\n                        .builder()\n                        .queueUrl(queueUrl)\n                        .receiptHandle(nextMessage.receiptHandle())\n                        .build();\n\n       sqsClient.deleteMessage(deleteMessageRequest);\n   }\n}\n</code></pre>\n<p>From what I've read it is because there are ultimately many servers behind SQS and a single call doesn't hit all of them - it takes multiple calls.  This is not a busy loop as the <code>waitTimeSeconds</code> does block if there is nothing to do.</p>\n<p>Try something like this to read SQS.  It's not quite as elegant but it does work.</p>\n"}],"owner":{"account_id":25152939,"reputation":57,"user_id":18998077,"display_name":"Aditya K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663013026,"creation_date":1662986302,"question_id":73689410,"body_markdown":"I&#39;m trying to retrieve messages from a queue. I understand that ```RecieveMessageRequest``` has a threshold of 10 messages but when I tried I was able to receive only 2 out 3 messages in the queue. I read many threads which said adding ```setMaxNumberOfMessages(10)``` and increasing ```WaitTimeSeconds``` will fix it(Before adding this I received only one message out of 3) but it wasn&#39;t helpful. \r\n\r\nFYI: I&#39;m using a standard queue and all the messages were definitely there in the queue at the time of receive message request so it shouldn&#39;t have been a polling issue.\r\n\r\nMy implementation: \r\n```\r\nList&lt;Message&gt; messages;\r\n\r\nReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest().withQueueUrl(queueUrl)\r\n                    .withWaitTimeSeconds(10)\r\n                    .withMaxNumberOfMessages(10);\r\n           \r\nmessages = sqsConfig.getSQSClient().receiveMessage(receiveMessageRequest).getMessages();\r\n````","title":"SQS ReceiveMessageRequest not receiving all the messages in the queue (messages are under 10)","body":"<p>I'm trying to retrieve messages from a queue. I understand that <code>RecieveMessageRequest</code> has a threshold of 10 messages but when I tried I was able to receive only 2 out 3 messages in the queue. I read many threads which said adding <code>setMaxNumberOfMessages(10)</code> and increasing <code>WaitTimeSeconds</code> will fix it(Before adding this I received only one message out of 3) but it wasn't helpful.</p>\n<p>FYI: I'm using a standard queue and all the messages were definitely there in the queue at the time of receive message request so it shouldn't have been a polling issue.</p>\n<p>My implementation:</p>\n<pre><code>List&lt;Message&gt; messages;\n\nReceiveMessageRequest receiveMessageRequest = new ReceiveMessageRequest().withQueueUrl(queueUrl)\n                    .withWaitTimeSeconds(10)\n                    .withMaxNumberOfMessages(10);\n           \nmessages = sqsConfig.getSQSClient().receiveMessage(receiveMessageRequest).getMessages();\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1663012756,"post_id":73694624,"comment_id":130134950,"body_markdown":"I&#39;m not 100% sure I understand the question/problem: how do the messages you receive and send depend on the Java version? Are all three things not on independent machines?","body":"I&#39;m not 100% sure I understand the question/problem: how do the messages you receive and send depend on the Java version? Are all three things not on independent machines?"},{"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"score":0,"creation_date":1663016158,"post_id":73694624,"comment_id":130135889,"body_markdown":"you cannot use 2 different java versions when for 1 executable","body":"you cannot use 2 different java versions when for 1 executable"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663012963,"creation_date":1663012645,"answer_id":73694643,"question_id":73694624,"body_markdown":"Short answer, no. You can run two JVM processes on one physical server using different Java executables, sure... **However**...\r\n\r\n&gt; based on source and destination\r\n\r\nThis shouldn&#39;t matter. From what I understand, those are external services, and do not affect the serialization formats your Spring app would be able to use, as a stream consumer or data-lake client. \r\n\r\nIn fact, Java JRE 11 can run compiled &quot;Java 8 code&quot;, so it would make more sense to simply update the Java version on the streaming platform side, if at all possible. \r\n\r\nSame answer should apply to any Java framework, not only Spring. You may even be able to write such service without Java/Spring... ","title":"Different JAVA Versions in a single springboot app","body":"<p>Short answer, no. You can run two JVM processes on one physical server using different Java executables, sure... <strong>However</strong>...</p>\n<blockquote>\n<p>based on source and destination</p>\n</blockquote>\n<p>This shouldn't matter. From what I understand, those are external services, and do not affect the serialization formats your Spring app would be able to use, as a stream consumer or data-lake client.</p>\n<p>In fact, Java JRE 11 can run compiled &quot;Java 8 code&quot;, so it would make more sense to simply update the Java version on the streaming platform side, if at all possible.</p>\n<p>Same answer should apply to any Java framework, not only Spring. You may even be able to write such service without Java/Spring...</p>\n"}],"owner":{"account_id":2052414,"reputation":27,"user_id":1831107,"display_name":"Morgan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663012963,"creation_date":1663012474,"question_id":73694624,"body_markdown":"I am not well versed on Java Spring Boot. I am asking for help here. Flow is this - a Message Streaming platform (supports only Java 8) --&gt; Consumer --&gt; Data Lake Platform (Supports only Java 11).  \r\n\r\nSo We need to write a Consumer app on Spring boot consume a message from Streaming platform and update/insert into the Data Lake Platform. For now, wwe are trying to create two different springboot apps to consume and write. I wanted to know if we can have only one app (which can support multiple Java version based on source and destination). Is it even possible or not.","title":"Different JAVA Versions in a single springboot app","body":"<p>I am not well versed on Java Spring Boot. I am asking for help here. Flow is this - a Message Streaming platform (supports only Java 8) --&gt; Consumer --&gt; Data Lake Platform (Supports only Java 11).</p>\n<p>So We need to write a Consumer app on Spring boot consume a message from Streaming platform and update/insert into the Data Lake Platform. For now, wwe are trying to create two different springboot apps to consume and write. I wanted to know if we can have only one app (which can support multiple Java version based on source and destination). Is it even possible or not.</p>\n"},{"tags":["java","macos","jsp","embedded-jetty"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1663506775,"post_id":73693292,"comment_id":130251264,"body_markdown":"Question already asked at https://stackoverflow.com/questions/73703704/jetty-server-error-config-does-not-exist - (with requests for more information)","body":"Question already asked at <a href=\"https://stackoverflow.com/questions/73703704/jetty-server-error-config-does-not-exist\" title=\"jetty server error config does not exist\">stackoverflow.com/questions/73703704/&hellip;</a> - (with requests for more information)"},{"owner":{"account_id":1345799,"reputation":863,"user_id":1286583,"display_name":"Andrew Norman"},"score":0,"creation_date":1687544178,"post_id":73693292,"comment_id":134957252,"body_markdown":"@JoakimErdfelt your link is broken","body":"@JoakimErdfelt your link is broken"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1687811331,"post_id":73693292,"comment_id":134986172,"body_markdown":"@AndrewNorman looks like OP deleted the other question.  This question cannot be answered in it&#39;s current state, there is far too little information to work with.  No details, no steps to reproduce, just an error message with no context.  All on a version of Jetty that has reached End of Life. (Jetty 9.x is at End of Life)","body":"@AndrewNorman looks like OP deleted the other question.  This question cannot be answered in it&#39;s current state, there is far too little information to work with.  No details, no steps to reproduce, just an error message with no context.  All on a version of Jetty that has reached End of Life. (Jetty 9.x is at End of Life)"}],"owner":{"account_id":23884087,"reputation":19,"user_id":17884438,"display_name":"Valerio Tavoletti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1663506739,"answer_count":0,"score":1,"last_activity_date":1663012759,"creation_date":1663004800,"question_id":73693292,"body_markdown":"I am trying to get a Jetty Server to start, however I keep getting this error. I do not understand where it wants me to make/move the etc folder and realm.properties file? (assuming I just copy and paste the ones present in the jetty package) could someone please explain? I am using version 9.4.48 of Jetty by the way, as the others simply did not work.","title":"Jetty Servers Error: &quot;Config does not exist: file:///etc/realm.properties&quot;","body":"<p>I am trying to get a Jetty Server to start, however I keep getting this error. I do not understand where it wants me to make/move the etc folder and realm.properties file? (assuming I just copy and paste the ones present in the jetty package) could someone please explain? I am using version 9.4.48 of Jetty by the way, as the others simply did not work.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1663012205,"post_id":73694548,"comment_id":130134802,"body_markdown":"It might make sense to include the exact escaped version you&#39;ve tried, since escaping is mandatory.","body":"It might make sense to include the exact escaped version you&#39;ve tried, since escaping is mandatory."},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1663012326,"post_id":73694548,"comment_id":130134836,"body_markdown":"If you use Eclipse, you can use https://marketplace.eclipse.org/content/quickrex for a more Java centric Regexp.","body":"If you use Eclipse, you can use <a href=\"https://marketplace.eclipse.org/content/quickrex\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/quickrex</a> for a more Java centric Regexp."},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":2,"creation_date":1663012450,"post_id":73694548,"comment_id":130134870,"body_markdown":"It should be: `String pattern = &quot;(\\\\(.+?\\\\))&quot;;` as there are no regex delimiters in Java.","body":"It should be: <code>String pattern = &quot;(\\\\(.+?\\\\))&quot;;</code> as there are no regex delimiters in Java."}],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663012403,"creation_date":1663012403,"answer_id":73694613,"question_id":73694548,"body_markdown":"You problem is that Java don&#39;t use the // delimiter: you muse use `&quot;(\\\\(.+?\\\\))&quot;`.\r\n\r\nThe syntax differs from JavaScript because there is actually a sugar syntax for pattern: `/azerty/g` is same as `new RegEx(&quot;azerty&quot;, &quot;g&quot;)`: \r\n\r\n- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\r\n- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/RegExp#syntax\r\n\r\nIn Java, we only have `Pattern.compile` and flags are represented by ints.\r\n\r\n\r\n\r\n","title":"Java regex not functioning as expected illegal character exception","body":"<p>You problem is that Java don't use the // delimiter: you muse use <code>&quot;(\\\\(.+?\\\\))&quot;</code>.</p>\n<p>The syntax differs from JavaScript because there is actually a sugar syntax for pattern: <code>/azerty/g</code> is same as <code>new RegEx(&quot;azerty&quot;, &quot;g&quot;)</code>:</p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/RegExp#syntax\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/RegExp#syntax</a></li>\n</ul>\n<p>In Java, we only have <code>Pattern.compile</code> and flags are represented by ints.</p>\n"}],"owner":{"account_id":7468171,"reputation":2758,"user_id":5676949,"accept_rate":79,"display_name":"Dog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73694613,"answer_count":1,"score":0,"last_activity_date":1663012403,"creation_date":1663012043,"question_id":73694548,"body_markdown":"I have the following Regex that I built, which works in regex101.com:\r\n\r\n```(\\(.+?\\))/g```\r\n\r\nThe regex identifies groups of paren contained text. For example, in the string: \r\n\r\n&quot;test item (paren text here) more random content (inside content)&quot;\r\n\r\nIt matches: (paren text here), and (inside content).\r\n\r\nWhile this combination works in regex101 and even in Javascript, when I have been attempting to use it in Java, I consistently get the error that I am using an illegal escape character. For example, I get that error with the below:\r\n\r\n```\r\nString searchString = &quot;asfdasdf asdfasd asdfasd (adfasdf) asdfasd \r\nasdfasd AND asdfasdfasd (asfdasd) asfdasdfas&quot;;\r\n \r\n        String pattern = &quot;/(\\(.+?\\))/g&quot;;\r\n        \r\n        Pattern patternFound = Pattern.compile(pattern);\r\n        Matcher matcher = patternFound.matcher(searchString);\r\n        \r\n        System.out.println(matcher.find());\r\n```\r\n\r\nWhen I use: \r\n\r\n```String pattern = &quot;/(\\\\(.+?\\\\))/g&quot;;```\r\n\r\nI no longer receive the error, but the regex no longer works and returns false. \r\n\r\nHow can I properly format my regex so that it works in Java the same as it does on regex101 and in JavaScript? \r\n","title":"Java regex not functioning as expected illegal character exception","body":"<p>I have the following Regex that I built, which works in regex101.com:</p>\n<p><code>(\\(.+?\\))/g</code></p>\n<p>The regex identifies groups of paren contained text. For example, in the string:</p>\n<p>&quot;test item (paren text here) more random content (inside content)&quot;</p>\n<p>It matches: (paren text here), and (inside content).</p>\n<p>While this combination works in regex101 and even in Javascript, when I have been attempting to use it in Java, I consistently get the error that I am using an illegal escape character. For example, I get that error with the below:</p>\n<pre><code>String searchString = &quot;asfdasdf asdfasd asdfasd (adfasdf) asdfasd \nasdfasd AND asdfasdfasd (asfdasd) asfdasdfas&quot;;\n \n        String pattern = &quot;/(\\(.+?\\))/g&quot;;\n        \n        Pattern patternFound = Pattern.compile(pattern);\n        Matcher matcher = patternFound.matcher(searchString);\n        \n        System.out.println(matcher.find());\n</code></pre>\n<p>When I use:</p>\n<p><code>String pattern = &quot;/(\\\\(.+?\\\\))/g&quot;;</code></p>\n<p>I no longer receive the error, but the regex no longer works and returns false.</p>\n<p>How can I properly format my regex so that it works in Java the same as it does on regex101 and in JavaScript?</p>\n"},{"tags":["reflection","java-11","java-17","java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1662548502,"post_id":73634283,"comment_id":130029821,"body_markdown":"Try `--add-opens java.base/java.lang.reflect=ALL-UNNAMED`","body":"Try <code>--add-opens java.base&#47;java.lang.reflect=ALL-UNNAMED</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1662549949,"post_id":73634283,"comment_id":130030394,"body_markdown":"Or remove the need for such hacks from your code. Otherwise, be prepared for this code to break again in one of the next releases…","body":"Or remove the need for such hacks from your code. Otherwise, be prepared for this code to break again in one of the next releases…"},{"owner":{"account_id":3412797,"reputation":305,"user_id":2862385,"display_name":"maverickabhi"},"score":0,"creation_date":1662554681,"post_id":73634283,"comment_id":130032340,"body_markdown":"@JoachimSauer Yes, I have tried this but still failing","body":"@JoachimSauer Yes, I have tried this but still failing"}],"answers":[{"tags":[],"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1663011584,"creation_date":1662903275,"answer_id":73679701,"question_id":73634283,"body_markdown":"You can pass your method in to this:\r\n\r\n    public static &lt;T extends AccessibleObject&gt; T forceAccessible(T o) {\r\n        try {\r\n            Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n            unsafeField.setAccessible(true);\r\n            Unsafe unsafe = (Unsafe) unsafeField.get(null);\r\n\r\n            Method m = Class.class.getDeclaredMethod(&quot;getDeclaredFields0&quot;, boolean.class);\r\n            m.setAccessible(true);\r\n            Field override = ((Field[]) m.invoke(AccessibleObject.class, false))[0];\r\n\r\n            if (!o.isAccessible()) {\r\n                try {\r\n                    o.setAccessible(true);\r\n                } catch (InaccessibleObjectException e) {\r\n                    unsafe.putBoolean(o, unsafe.objectFieldOffset(override), true);\r\n                }\r\n            }\r\n        } catch (Exception e) {}\r\n        return o;\r\n    }","title":"Issue while updating java project from JDK11 to JDK17","body":"<p>You can pass your method in to this:</p>\n<pre><code>public static &lt;T extends AccessibleObject&gt; T forceAccessible(T o) {\n    try {\n        Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n        unsafeField.setAccessible(true);\n        Unsafe unsafe = (Unsafe) unsafeField.get(null);\n\n        Method m = Class.class.getDeclaredMethod(&quot;getDeclaredFields0&quot;, boolean.class);\n        m.setAccessible(true);\n        Field override = ((Field[]) m.invoke(AccessibleObject.class, false))[0];\n\n        if (!o.isAccessible()) {\n            try {\n                o.setAccessible(true);\n            } catch (InaccessibleObjectException e) {\n                unsafe.putBoolean(o, unsafe.objectFieldOffset(override), true);\n            }\n        }\n    } catch (Exception e) {}\n    return o;\n}\n</code></pre>\n"}],"owner":{"account_id":3412797,"reputation":305,"user_id":2862385,"display_name":"maverickabhi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663011584,"creation_date":1662548127,"question_id":73634283,"body_markdown":"I have a java project using jdk11. I need to migrate the project to java 17 but integration tests have started failing. As soon as I upgraded to JDK17 I started getting below error:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make private sun.reflect.generics.repository.FieldRepository java.lang.reflect.Field.getGenericInfo() accessible: module java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @5702b3b1\r\n\r\nI was also getting error for java.util but that is fixed using below command line code.\r\n\r\nI have tried adding the command line options as below but the tests are still failing\r\n\r\n                    &lt;argLine&gt;\r\n                        --illegal-access=permit\r\n                        --add-opens java.base/java.lang=ALL-UNNAMED\r\n                        --add-opens java.base/sun.reflect=ALL-UNNAMED\r\n                        --add-opens java.base/java.util=ALL-UNNAMED\r\n                    &lt;/argLine&gt;\r\n\r\nAny help is appreciated.","title":"Issue while updating java project from JDK11 to JDK17","body":"<p>I have a java project using jdk11. I need to migrate the project to java 17 but integration tests have started failing. As soon as I upgraded to JDK17 I started getting below error:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make private sun.reflect.generics.repository.FieldRepository java.lang.reflect.Field.getGenericInfo() accessible: module java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @5702b3b1\n</code></pre>\n<p>I was also getting error for java.util but that is fixed using below command line code.</p>\n<p>I have tried adding the command line options as below but the tests are still failing</p>\n<pre><code>                &lt;argLine&gt;\n                    --illegal-access=permit\n                    --add-opens java.base/java.lang=ALL-UNNAMED\n                    --add-opens java.base/sun.reflect=ALL-UNNAMED\n                    --add-opens java.base/java.util=ALL-UNNAMED\n                &lt;/argLine&gt;\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1663010596,"post_id":73694256,"comment_id":130134304,"body_markdown":"Try to Right click on the project &gt; Maven &gt; Reload Project.","body":"Try to Right click on the project &gt; Maven &gt; Reload Project."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663010843,"post_id":73694256,"comment_id":130134380,"body_markdown":"See https://stackoverflow.com/a/43192764/104891.","body":"See <a href=\"https://stackoverflow.com/a/43192764/104891\">stackoverflow.com/a/43192764/104891</a>."},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1663010960,"post_id":73694256,"comment_id":130134421,"body_markdown":"@PaulWhelan when I right click the project I don&#39;t have a &quot;Maven&quot; voice.","body":"@PaulWhelan when I right click the project I don&#39;t have a &quot;Maven&quot; voice."},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1663011000,"post_id":73694256,"comment_id":130134436,"body_markdown":"@CrazyCoder maven has a similar little icon with an &quot;m&quot;. I&#39;ve cliked on it many times, nothing changes","body":"@CrazyCoder maven has a similar little icon with an &quot;m&quot;. I&#39;ve cliked on it many times, nothing changes"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663011049,"post_id":73694256,"comment_id":130134450,"body_markdown":"Does the project build with `mvn clean package` in the command line? Any errors in [idea.log](https://intellij-support.jetbrains.com/hc/en-us/articles/207241085)?","body":"Does the project build with <code>mvn clean package</code> in the command line? Any errors in <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a>?"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1663012833,"post_id":73694256,"comment_id":130134979,"body_markdown":"Fix the dependencies and try again. At least JUnit is missing. idea.log message is irrelevant.","body":"Fix the dependencies and try again. At least JUnit is missing. idea.log message is irrelevant."},{"owner":{"account_id":2218,"reputation":16624,"user_id":3050,"accept_rate":95,"display_name":"Paul Whelan"},"score":0,"creation_date":1663248903,"post_id":73694256,"comment_id":130198328,"body_markdown":"@IDK There should be a Add as maven project option when intellij spots the pom.xml","body":"@IDK There should be a Add as maven project option when intellij spots the pom.xml"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663011486,"creation_date":1663010240,"question_id":73694256,"body_markdown":"I&#39;ve just barely started a java 8 project with spring boot and maven. I can&#39;t add the **springframework** dependancy...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I go over it with the mouse and click on &quot;Add dependancy&quot; nothing changes, even after loading the maven changes.\r\n\r\nHere&#39;s my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;microservices.book&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;social-multiplication&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;social-multiplication&lt;/name&gt;\r\n\t&lt;description&gt;Social Multiplication App&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.20&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**EDIT**:\r\n\r\n    mvn clean package \r\n\r\n\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] --------------&lt; microservices.book:social-multiplication &gt;--------------\r\n[INFO] Building social-multiplication 0.0.1-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO]\r\n[INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ social-multiplication ---\r\n[INFO] Deleting C:\\Users\\username\\Desktop\\Programming\\social-multiplication\\target\r\n[INFO]\r\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ social-multiplication ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n[INFO] Copying 1 resource\r\n[INFO] Copying 0 resource\r\n[INFO]\r\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ social-multiplication ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 4 source files to C:\\Users\\username\\Desktop\\Programming\\social-multiplication\\target\\classes\r\n[INFO]\r\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ social-multiplication ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n[INFO] skip non existing resourceDirectory C:\\Users\\username\\Desktop\\Programming\\social-multiplication\\src\\test\\resources\r\n[INFO]\r\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ social-multiplication ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 2 source files to C:\\Users\\username\\Desktop\\Programming\\social-multiplication\\target\\test-classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\r\nnApplicationTests.java:[3,17] package org.junit does not exist\r\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\r\nnApplicationTests.java:[4,24] package org.junit.runner does not exist\r\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\r\nnApplicationTests.java:[10,10] cannot find symbol\r\n  symbol:   class Test\r\n  location: class test.java.microservices.book.multiplication.SocialMultiplicationApplicationTests\r\n[INFO] 3 errors\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.838 s\r\n[INFO] Finished at: 2022-09-12T21:36:28+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile (default-testCompile) on project socia\r\nl-multiplication: Compilation failure: Compilation failure: \r\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\r\nnApplicationTests.java:[3,17] package org.junit does not exist\r\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\r\nnApplicationTests.java:[4,24] package org.junit.runner does not exist\r\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\r\nnApplicationTests.java:[10,10] cannot find symbol\r\n[ERROR]   symbol:   class Test\r\n[ERROR]   location: class test.java.microservices.book.multiplication.SocialMultiplicationApplicationTests\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```\r\n\r\n*.idea.log* file contents:\r\n\r\n2022-09-12 21:36:41,468 [ 502853]   WARN - com.intellij.util.xmlb.Binding - no accessors for org.jetbrains.kotlin.idea.scripting.gradle.GradleScriptInputsWatcher$Storage \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ans4l.png","title":"How do I add springframework dependancy in java, maven, intellij","body":"<p>I've just barely started a java 8 project with spring boot and maven. I can't add the <strong>springframework</strong> dependancy...</p>\n<p><a href=\"https://i.stack.imgur.com/ans4l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ans4l.png\" alt=\"enter image description here\" /></a></p>\n<p>When I go over it with the mouse and click on &quot;Add dependancy&quot; nothing changes, even after loading the maven changes.</p>\n<p>Here's my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;microservices.book&lt;/groupId&gt;\n    &lt;artifactId&gt;social-multiplication&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;social-multiplication&lt;/name&gt;\n    &lt;description&gt;Social Multiplication App&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>EDIT</strong>:</p>\n<pre><code>mvn clean package \n</code></pre>\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] --------------&lt; microservices.book:social-multiplication &gt;--------------\n[INFO] Building social-multiplication 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ social-multiplication ---\n[INFO] Deleting C:\\Users\\username\\Desktop\\Programming\\social-multiplication\\target\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ social-multiplication ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 1 resource\n[INFO] Copying 0 resource\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ social-multiplication ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 4 source files to C:\\Users\\username\\Desktop\\Programming\\social-multiplication\\target\\classes\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ social-multiplication ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] skip non existing resourceDirectory C:\\Users\\username\\Desktop\\Programming\\social-multiplication\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ social-multiplication ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 2 source files to C:\\Users\\username\\Desktop\\Programming\\social-multiplication\\target\\test-classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\nnApplicationTests.java:[3,17] package org.junit does not exist\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\nnApplicationTests.java:[4,24] package org.junit.runner does not exist\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\nnApplicationTests.java:[10,10] cannot find symbol\n  symbol:   class Test\n  location: class test.java.microservices.book.multiplication.SocialMultiplicationApplicationTests\n[INFO] 3 errors\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.838 s\n[INFO] Finished at: 2022-09-12T21:36:28+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile (default-testCompile) on project socia\nl-multiplication: Compilation failure: Compilation failure: \n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\nnApplicationTests.java:[3,17] package org.junit does not exist\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\nnApplicationTests.java:[4,24] package org.junit.runner does not exist\n[ERROR] /C:/Users/username/Desktop/Programming/social-multiplication/src/test/java/microservices/book/multiplication/SocialMultiplicatio\nnApplicationTests.java:[10,10] cannot find symbol\n[ERROR]   symbol:   class Test\n[ERROR]   location: class test.java.microservices.book.multiplication.SocialMultiplicationApplicationTests\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n<p><em>.idea.log</em> file contents:</p>\n<p>2022-09-12 21:36:41,468 [ 502853]   WARN - com.intellij.util.xmlb.Binding - no accessors for org.jetbrains.kotlin.idea.scripting.gradle.GradleScriptInputsWatcher$Storage</p>\n"},{"tags":["java","javascript","selenium","selenium-rc"],"comments":[{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":0,"creation_date":1391431408,"post_id":21526666,"comment_id":32505026,"body_markdown":"Why are you using JavaScript in the first place?","body":"Why are you using JavaScript in the first place?"},{"owner":{"account_id":3935309,"reputation":35,"user_id":3251902,"accept_rate":73,"display_name":"Harish Naidu"},"score":0,"creation_date":1391431862,"post_id":21526666,"comment_id":32505296,"body_markdown":"typecasting webdriver","body":"typecasting webdriver"},{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":0,"creation_date":1391431972,"post_id":21526666,"comment_id":32505361,"body_markdown":"Well **why**? You are getting the text from an element. You can do that without JavaScript.","body":"Well <b>why</b>? You are getting the text from an element. You can do that without JavaScript."},{"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"score":0,"creation_date":1391440981,"post_id":21526666,"comment_id":32511085,"body_markdown":"If you are using Java script, you don&#39;t need WebDriver. On a side note, `value` attribute is not `text`","body":"If you are using Java script, you don&#39;t need WebDriver. On a side note, <code>value</code> attribute is not <code>text</code>"}],"answers":[{"tags":[],"owner":{"account_id":3935309,"reputation":35,"user_id":3251902,"accept_rate":73,"display_name":"Harish Naidu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1391431727,"creation_date":1391431727,"answer_id":21527870,"question_id":21526666,"body_markdown":"    (String) ((JavascriptExecutor) this)\r\n    \t\t\t\t\t.executeScript(&quot;return window.document.getElementById(&#39;tempid&#39;).innerHTML&quot;);","title":"Not able to get visible text from some paragraph by using javascript executor and web driver","body":"<pre><code>(String) ((JavascriptExecutor) this)\n                    .executeScript(\"return window.document.getElementById('tempid').innerHTML\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391441202,"creation_date":1391441202,"answer_id":21531177,"question_id":21526666,"body_markdown":"Like everyone already mentioned. Don&#39;t use Javascript. If you do, you don&#39;t need WebDriver.\r\n\r\n    WebElement para = driver.findElement(By.id(&quot;tempid&quot;));\r\n    String text = para.getText(); //this will return &quot;testing the test&quot;\r\n    String value = para.getAttribute(&quot;value&quot;); //this will return &quot;Manual Effect&quot;","title":"Not able to get visible text from some paragraph by using javascript executor and web driver","body":"<p>Like everyone already mentioned. Don't use Javascript. If you do, you don't need WebDriver.</p>\n\n<pre><code>WebElement para = driver.findElement(By.id(\"tempid\"));\nString text = para.getText(); //this will return \"testing the test\"\nString value = para.getAttribute(\"value\"); //this will return \"Manual Effect\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17046626,"reputation":26,"user_id":12333324,"display_name":"Vaibhav Deshmukh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663011222,"creation_date":1663007894,"answer_id":73693851,"question_id":21526666,"body_markdown":"&gt; [![&lt;p id=&quot;tempid&quot; value=&quot;Manual Effect&quot;&gt;testing the test&lt;/p&gt;][1]][1]\r\n\r\nSir,\r\nYou try this solution...\r\n\r\nString script = &quot;return document.getElementByTagName(&#39;p&#39;).tempid.getInnerHtml()&quot;;\r\n\r\nString script1 = &quot;return document.getElementById(&#39;tempid&#39;).innerHTML;\r\n\r\nJavaScriptExecutor js = (JavaScriptExecutor)driver;\r\n\r\nString value = (String)js.executeScript(script);\r\n\r\nSystem.out.println(value);\r\n\r\nJavascriptExecutor is more better than webdriver ant many assepect.\r\nWebDriver are work on the basis of webElements, some time if webElement is not accessible. It Show staleElementException, ElementNotFoundException..., Its some time headache.\r\n\r\nBut JavaScript Executor work directly On HTML. So that why its better...\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gE7Qb.png","title":"Not able to get visible text from some paragraph by using javascript executor and web driver","body":"<blockquote>\n<p><a href=\"https://i.stack.imgur.com/gE7Qb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gE7Qb.png\" alt=\"testing the test\" /></a></p>\n</blockquote>\n<p>Sir,\nYou try this solution...</p>\n<p>String script = &quot;return document.getElementByTagName('p').tempid.getInnerHtml()&quot;;</p>\n<p>String script1 = &quot;return document.getElementById('tempid').innerHTML;</p>\n<p>JavaScriptExecutor js = (JavaScriptExecutor)driver;</p>\n<p>String value = (String)js.executeScript(script);</p>\n<p>System.out.println(value);</p>\n<p>JavascriptExecutor is more better than webdriver ant many assepect.\nWebDriver are work on the basis of webElements, some time if webElement is not accessible. It Show staleElementException, ElementNotFoundException..., Its some time headache.</p>\n<p>But JavaScript Executor work directly On HTML. So that why its better...</p>\n"}],"owner":{"account_id":3935309,"reputation":35,"user_id":3251902,"accept_rate":73,"display_name":"Harish Naidu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1663011222,"creation_date":1391428256,"question_id":21526666,"body_markdown":"In a site I have:\r\n\r\n    &lt;p id=&quot;tempid&quot; value=&quot;Manual Effect&quot;&gt;testing the test&lt;/p&gt;\r\n\r\n&lt;!----&gt;\r\n\r\n    String value = (String)((JavascriptExecutor) this).executeScript(&quot;return window.document.getElementById(&#39;tempid&#39;).value&quot;);\r\n    System.out.println(&quot;value is : &quot; + value);\r\n\r\nI am getting null value or nothing.  \r\nI want to get the test &quot;testing the test&quot; as output.\r\n","title":"Not able to get visible text from some paragraph by using javascript executor and web driver","body":"<p>In a site I have:</p>\n\n<pre><code>&lt;p id=\"tempid\" value=\"Manual Effect\"&gt;testing the test&lt;/p&gt;\n</code></pre>\n\n\n\n<pre><code>String value = (String)((JavascriptExecutor) this).executeScript(\"return window.document.getElementById('tempid').value\");\nSystem.out.println(\"value is : \" + value);\n</code></pre>\n\n<p>I am getting null value or nothing.<br>\nI want to get the test \"testing the test\" as output.</p>\n"},{"tags":["java","struts2","httpsession"],"comments":[{"owner":{"account_id":1691406,"reputation":1159,"user_id":1553661,"accept_rate":58,"display_name":"Java_Alert"},"score":0,"creation_date":1372061726,"post_id":17270484,"comment_id":25035611,"body_markdown":"Have you checked the web.xml for the session timeout?","body":"Have you checked the web.xml for the session timeout?"},{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1372062630,"post_id":17270484,"comment_id":25036032,"body_markdown":"Thanks. it sets to 30","body":"Thanks. it sets to 30"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1372068235,"post_id":17270484,"comment_id":25038874,"body_markdown":"Why do you access the struts session when you invalidated the servlet session?","body":"Why do you access the struts session when you invalidated the servlet session?"},{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1372070150,"post_id":17270484,"comment_id":25039795,"body_markdown":"well its like this. the jsp which the action forward has the s:token tag. Which i assume create a token and try to put it to the session. And this s:token may not access the session via request. That is the point which the edited answer exception throws.","body":"well its like this. the jsp which the action forward has the s:token tag. Which i assume create a token and try to put it to the session. And this s:token may not access the session via request. That is the point which the edited answer exception throws."},{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1372070414,"post_id":17270484,"comment_id":25039936,"body_markdown":"Actually before this s:token issue i put a getSession() statement and when that line execute the session invalidate exception throws. But then i did like setSession(null) and again assign the getSession(map) and print getSession() and then that exception went. And now when when the jsp renders above exception i posted occured because of the s:token","body":"Actually before this s:token issue i put a getSession() statement and when that line execute the session invalidate exception throws. But then i did like setSession(null) and again assign the getSession(map) and print getSession() and then that exception went. And now when when the jsp renders above exception i posted occured because of the s:token"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1372071636,"post_id":17270484,"comment_id":25040539,"body_markdown":"@Harshana Use the struts session in the way I described below, it clean the struts session properly, set the new servlet session into it when renew, and creates new container for the values.","body":"@Harshana Use the struts session in the way I described below, it clean the struts session properly, set the new servlet session into it when renew, and creates new container for the values."},{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1372073168,"post_id":17270484,"comment_id":25041254,"body_markdown":"Thank you very much. Can you please describe what is this renewServletSession property. Why you put null there and remove the whole attribute?","body":"Thank you very much. Can you please describe what is this renewServletSession property. Why you put null there and remove the whole attribute?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1372075098,"post_id":17270484,"comment_id":25042317,"body_markdown":"When I put the object into struts session it&#39;s renew the servlet session if the session attribute of the session map is `null` (it becomes null when invalidate is called on the session map). Also it sets the object as attribute of the servlet session, thus I removed it afterwards when new servlet session is set to the session map.","body":"When I put the object into struts session it&#39;s renew the servlet session if the session attribute of the session map is <code>null</code> (it becomes null when invalidate is called on the session map). Also it sets the object as attribute of the servlet session, thus I removed it afterwards when new servlet session is set to the session map."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1372070776,"creation_date":1372070408,"answer_id":17273482,"question_id":17270484,"body_markdown":"If you want to access the struts session after you invalidated the servlet session you should update or renew the struts session. For example\r\n\r\n    SessionMap session = (SessionMap) ActionContext.getContext().getSession();\r\n\r\n    //invalidate\r\n    session.invalidate();\r\n    \r\n    //renew servlet session\r\n    session.put(&quot;renewServletSession&quot;, null);\r\n    session.remove(&quot;renewServletSession&quot;);\r\n    \r\n    //populate the struts session\r\n    session.entrySet();\r\n\r\nnow struts session is ready to use the new servlet session and you ready to reuse the struts session.\r\n\r\n\r\n\r\n\r\n","title":"Struts 2 session invalidation with setting request session to a new session","body":"<p>If you want to access the struts session after you invalidated the servlet session you should update or renew the struts session. For example</p>\n\n<pre><code>SessionMap session = (SessionMap) ActionContext.getContext().getSession();\n\n//invalidate\nsession.invalidate();\n\n//renew servlet session\nsession.put(\"renewServletSession\", null);\nsession.remove(\"renewServletSession\");\n\n//populate the struts session\nsession.entrySet();\n</code></pre>\n\n<p>now struts session is ready to use the new servlet session and you ready to reuse the struts session.</p>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9825,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17273482,"answer_count":1,"score":3,"last_activity_date":1663010991,"creation_date":1372060373,"question_id":17270484,"body_markdown":"In my Struts application once an user login I need to invalidate the current session and create a new session. I invalidate the session with\r\n\r\n    getHttpServletRequest().getSession().invalidate();\r\n\r\nAnd I create a new session as \r\n\r\n    getHttpServletRequest().getSession(true);\r\n\r\nThe problem here is after above I try to access `getSession()` it gives the state invalid exception; `HttpSession` is invalid.\r\n\r\n`getSession()` returns a map where in my action class I implements `SessionAware` which has the `setSession(Map session)`.\r\n\r\n**EDIT: Below is the exception**\r\n\r\n    Error creating HttpSession due response is commited to client. You can use the CreateSessionInterceptor or create the HttpSession from your action before the result is rendered to the client: HttpSession is invalid\r\n    java.lang.IllegalStateException: HttpSession is invalid\r\n\r\n\r\nSo, what I assume the problem is the Struts `getSession()` still reference the session which I&#39;ve invalidated. \r\n\r\nHow to make the Struts `getSession()` to reference the new session which I&#39;ve created?\r\n\r\n","title":"Struts 2 session invalidation with setting request session to a new session","body":"<p>In my Struts application once an user login I need to invalidate the current session and create a new session. I invalidate the session with</p>\n\n<pre><code>getHttpServletRequest().getSession().invalidate();\n</code></pre>\n\n<p>And I create a new session as </p>\n\n<pre><code>getHttpServletRequest().getSession(true);\n</code></pre>\n\n<p>The problem here is after above I try to access <code>getSession()</code> it gives the state invalid exception; <code>HttpSession</code> is invalid.</p>\n\n<p><code>getSession()</code> returns a map where in my action class I implements <code>SessionAware</code> which has the <code>setSession(Map session)</code>.</p>\n\n<p><strong>EDIT: Below is the exception</strong></p>\n\n<pre><code>Error creating HttpSession due response is commited to client. You can use the CreateSessionInterceptor or create the HttpSession from your action before the result is rendered to the client: HttpSession is invalid\njava.lang.IllegalStateException: HttpSession is invalid\n</code></pre>\n\n<p>So, what I assume the problem is the Struts <code>getSession()</code> still reference the session which I've invalidated. </p>\n\n<p>How to make the Struts <code>getSession()</code> to reference the new session which I've created?</p>\n"},{"tags":["java","swing","jframe","jpanel","jlabel"],"comments":[{"owner":{"account_id":1504382,"reputation":8300,"user_id":1408143,"display_name":"copeg"},"score":3,"creation_date":1432310168,"post_id":30400983,"comment_id":48889777,"body_markdown":"`panel.setLayout(null);` I would recommend using an appropriate [LayoutManager](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"<code>panel.setLayout(null);</code> I would recommend using an appropriate <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">LayoutManager</a>"},{"owner":{"account_id":5310667,"reputation":29,"user_id":4237125,"accept_rate":25,"display_name":"Xela"},"score":0,"creation_date":1432312751,"post_id":30400983,"comment_id":48891348,"body_markdown":"I already did panel.setLayout(null); WHY IS MY CODE NOT SHOWING MY JLABEL","body":"I already did panel.setLayout(null); WHY IS MY CODE NOT SHOWING MY JLABEL"},{"owner":{"account_id":1504382,"reputation":8300,"user_id":1408143,"display_name":"copeg"},"score":4,"creation_date":1432313204,"post_id":30400983,"comment_id":48891554,"body_markdown":"That is my point - you are using a `null` layout. I recommend looking at the link provided in my first comment.","body":"That is my point - you are using a <code>null</code> layout. I recommend looking at the link provided in my first comment."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1432657435,"post_id":30400983,"comment_id":49008348,"body_markdown":"Did any of the answers below solve your problem? Consider accepting one (green checkmark to the left).","body":"Did any of the answers below solve your problem? Consider accepting one (green checkmark to the left)."}],"answers":[{"tags":[],"owner":{"account_id":3819388,"reputation":158,"user_id":3467000,"display_name":"Isaac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432313492,"creation_date":1432313186,"answer_id":30401954,"question_id":30400983,"body_markdown":"Use a proper Layout Manager just as copeg said. Even the default Layout Manager (Flow Layout) will work. Just remove `panel.setLayout(null);` and your JLabel will show up.\r\n\r\nAlso when I try your snippet code there also problem on `Images obj = new Images();` I assume you already have the Images class defined in your package somehow.\r\n`","title":"JLabel not showing up on JPanel","body":"<p>Use a proper Layout Manager just as copeg said. Even the default Layout Manager (Flow Layout) will work. Just remove <code>panel.setLayout(null);</code> and your JLabel will show up.</p>\n\n<p>Also when I try your snippet code there also problem on <code>Images obj = new Images();</code> I assume you already have the Images class defined in your package somehow.\n`</p>\n"},{"tags":[],"owner":{"account_id":4728250,"reputation":475,"user_id":3824561,"accept_rate":100,"display_name":"SaeHyun Kim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432314479,"creation_date":1432314479,"answer_id":30402304,"question_id":30400983,"body_markdown":"\r\n    //frame.add(panel);\r\n    frame.setContentPane(panel);\r\n    \r\n    //panel.setVisible(true); // not necessary code\r\n\t//panel.setLayout(null); // not necessary code\r\n\tpanel.setBackground(Color.WHITE); //To see if text is even appearing\r\n\t\r\n    frame.getContentPane().add(problem);\r\n\r\n","title":"JLabel not showing up on JPanel","body":"<pre><code>//frame.add(panel);\nframe.setContentPane(panel);\n\n//panel.setVisible(true); // not necessary code\n//panel.setLayout(null); // not necessary code\npanel.setBackground(Color.WHITE); //To see if text is even appearing\n\nframe.getContentPane().add(problem);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432389802,"creation_date":1432389802,"answer_id":30413596,"question_id":30400983,"body_markdown":"The problem is that with `null` layout, you have to set both the location and the size of *each* component. You set only the location of the label, so you can fix it with `problem.setSize(x, y);`. With that being said, it&#39;s just wrong to take this approach. See what your whole GUI design for this frame looks like and choose an [appropriate `LayoutManager`](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html).\r\n\r\nTry this:\r\n\r\n    public class MyCanvas {\r\n    \r\n    \tpublic MyCanvas() {\r\n    \r\n    \t\tRandom gen = new Random();\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tJLabel problem = new JLabel();\r\n    \r\n    \t\tpanel.setBackground(Color.WHITE);\r\n    \r\n    \t\tproblem.setFont(new Font(&quot;Comic Sans MS&quot;, Font.PLAIN, 20));\r\n    \t\tproblem.setText(gen.nextInt(11) + &quot; + &quot; + gen.nextInt(11));\r\n    \t\tpanel.add(problem); // Default FlowLayout\r\n    \r\n    \t\tframe.add(panel); // Default BorderLayout at position CENTER\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setTitle(&quot;Math Owl: Alpha V:0.1 (coded by John)&quot;);\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tnew MyCanvas();\r\n    \t}\r\n    }\r\n\r\n###Notes:\r\n* `frame.setVisible(true)` should be the last call you make.\r\n* `frame.setAlwaysOnTop(true)` and `frame.setResizable(false)` are things you usually want to avoid from the user&#39;s perspective.\r\n* `frame.setSize(...)` should be replace with `frame.pack()`.\r\n* `frame.setLocationRelativeTo(null)` should be called between `pack()` and `setVisible(true)`.\r\n* No need for `panel.setVisible(true)`, it does nothing for you.\r\n* No need for `panel.validate()` (should be `revalidate()`), it is only needed when changing the layout during runtime.\r\n* The class `Canvas` already exists, use a different name.","title":"JLabel not showing up on JPanel","body":"<p>The problem is that with <code>null</code> layout, you have to set both the location and the size of <em>each</em> component. You set only the location of the label, so you can fix it with <code>problem.setSize(x, y);</code>. With that being said, it's just wrong to take this approach. See what your whole GUI design for this frame looks like and choose an <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow\">appropriate <code>LayoutManager</code></a>.</p>\n\n<p>Try this:</p>\n\n<pre><code>public class MyCanvas {\n\n    public MyCanvas() {\n\n        Random gen = new Random();\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n        JLabel problem = new JLabel();\n\n        panel.setBackground(Color.WHITE);\n\n        problem.setFont(new Font(\"Comic Sans MS\", Font.PLAIN, 20));\n        problem.setText(gen.nextInt(11) + \" + \" + gen.nextInt(11));\n        panel.add(problem); // Default FlowLayout\n\n        frame.add(panel); // Default BorderLayout at position CENTER\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(\"Math Owl: Alpha V:0.1 (coded by John)\");\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n\n        new MyCanvas();\n    }\n}\n</code></pre>\n\n<h3>Notes:</h3>\n\n<ul>\n<li><code>frame.setVisible(true)</code> should be the last call you make.</li>\n<li><code>frame.setAlwaysOnTop(true)</code> and <code>frame.setResizable(false)</code> are things you usually want to avoid from the user's perspective.</li>\n<li><code>frame.setSize(...)</code> should be replace with <code>frame.pack()</code>.</li>\n<li><code>frame.setLocationRelativeTo(null)</code> should be called between <code>pack()</code> and <code>setVisible(true)</code>.</li>\n<li>No need for <code>panel.setVisible(true)</code>, it does nothing for you.</li>\n<li>No need for <code>panel.validate()</code> (should be <code>revalidate()</code>), it is only needed when changing the layout during runtime.</li>\n<li>The class <code>Canvas</code> already exists, use a different name.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25870756,"reputation":11,"user_id":19601676,"display_name":"Bhavin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663010860,"creation_date":1663010771,"answer_id":73694344,"question_id":30400983,"body_markdown":"\r\nThere two way\r\nis you are using any layout manager then you can simply show the component by using setSize(new Dimension(width, height)\r\n\r\nif you have set the layout manager to null then you must use\r\nsetBounds(x,y, width, height) (if you do this obviously no need to set size)  to show the component\r\n\r\notherwise just do \r\nsetSize(new Dimension(width,height)\r\nthen setLocation(x,y)\r\nif you want to dynamically calculate the position then you can set the initial locaion as setLocation(0,0) \r\nafterwards when all the components are showing you can use your algorithm to recalculate x and y position and again setLocation(x,y)\r\nfor e.g. \r\nlabel1=setSize(new Dimension(100,20)\r\nlabel1.setLocation(0,0)\r\nLabel2=setSize(new Dimension(100,20)\r\n\r\nLabel2.setLocation((int)label1.getSize().getWidth()+10,20) and so on","title":"JLabel not showing up on JPanel","body":"<p>There two way\nis you are using any layout manager then you can simply show the component by using setSize(new Dimension(width, height)</p>\n<p>if you have set the layout manager to null then you must use\nsetBounds(x,y, width, height) (if you do this obviously no need to set size)  to show the component</p>\n<p>otherwise just do\nsetSize(new Dimension(width,height)\nthen setLocation(x,y)\nif you want to dynamically calculate the position then you can set the initial locaion as setLocation(0,0)\nafterwards when all the components are showing you can use your algorithm to recalculate x and y position and again setLocation(x,y)\nfor e.g.\nlabel1=setSize(new Dimension(100,20)\nlabel1.setLocation(0,0)\nLabel2=setSize(new Dimension(100,20)</p>\n<p>Label2.setLocation((int)label1.getSize().getWidth()+10,20) and so on</p>\n"}],"owner":{"account_id":5310667,"reputation":29,"user_id":4237125,"accept_rate":25,"display_name":"Xela"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4200,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1663010860,"creation_date":1432309787,"question_id":30400983,"body_markdown":"For some reason even though I have implemented the validate method in my code, and added my JPanel to my JFrame. I am also trying to get my JLabel to have Comic Sans font and for it to be centered in the screen. Why is my JLabel not showing up on my JPane\r\n\r\n    package math_program;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.util.Random;\r\n    import javax.swing.*;\r\n    import static javax.swing.JFrame.EXIT_ON_CLOSE;\r\n    \r\n    public class Canvas \r\n    {\r\n        Images obj = new Images();\r\n        \r\n        public void paintFrame()\r\n        {\r\n            //Instantiation of objects\r\n            Random gen = new Random();\r\n            JFrame frame = new JFrame();\r\n            JPanel panel = new JPanel();\r\n            \r\n            //Text\r\n            JLabel problem = new JLabel();\r\n                    \r\n            frame.setVisible(true);\r\n            frame.setAlwaysOnTop(true);\r\n            frame.setResizable(false);\r\n            frame.setDefaultCloseOperation(EXIT_ON_CLOSE); //Make frame actually closeable\r\n            frame.setTitle(&quot;Math Owl: Alpha V:0.1 (coded by John)&quot;);\r\n            frame.setSize(800, 500);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.add(panel); //Add JPanel to JFrame\r\n            panel.setVisible(true);\r\n            panel.setLayout(null);\r\n            panel.setBackground(Color.WHITE); //To see if text is even appearing\r\n            \r\n            //Adding Components\r\n            problem.setFont(new Font(&quot;Comic Sans MS&quot;, Font.PLAIN, 20));\r\n            problem.setLocation(400,250);\r\n            problem.setText(gen.nextInt(11) + &quot; + &quot; + gen.nextInt(11));\r\n            panel.add(problem);\r\n            panel.validate();\r\n    \r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n","title":"JLabel not showing up on JPanel","body":"<p>For some reason even though I have implemented the validate method in my code, and added my JPanel to my JFrame. I am also trying to get my JLabel to have Comic Sans font and for it to be centered in the screen. Why is my JLabel not showing up on my JPane</p>\n\n<pre><code>package math_program;\n\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.util.Random;\nimport javax.swing.*;\nimport static javax.swing.JFrame.EXIT_ON_CLOSE;\n\npublic class Canvas \n{\n    Images obj = new Images();\n\n    public void paintFrame()\n    {\n        //Instantiation of objects\n        Random gen = new Random();\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n\n        //Text\n        JLabel problem = new JLabel();\n\n        frame.setVisible(true);\n        frame.setAlwaysOnTop(true);\n        frame.setResizable(false);\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE); //Make frame actually closeable\n        frame.setTitle(\"Math Owl: Alpha V:0.1 (coded by John)\");\n        frame.setSize(800, 500);\n        frame.setLocationRelativeTo(null);\n        frame.add(panel); //Add JPanel to JFrame\n        panel.setVisible(true);\n        panel.setLayout(null);\n        panel.setBackground(Color.WHITE); //To see if text is even appearing\n\n        //Adding Components\n        problem.setFont(new Font(\"Comic Sans MS\", Font.PLAIN, 20));\n        problem.setLocation(400,250);\n        problem.setText(gen.nextInt(11) + \" + \" + gen.nextInt(11));\n        panel.add(problem);\n        panel.validate();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","service","annotate"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1662997389,"post_id":73691823,"comment_id":130130163,"body_markdown":"Short answer: to make the injection magic work.","body":"Short answer: to make the injection magic work."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1662997438,"post_id":73691823,"comment_id":130130183,"body_markdown":"Does this answer your question? [How does autowiring work in Spring?](https://stackoverflow.com/questions/3153546/how-does-autowiring-work-in-spring)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3153546/how-does-autowiring-work-in-spring\">How does autowiring work in Spring?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14032570,"reputation":46,"user_id":17533661,"display_name":"Emre Uygun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663010777,"creation_date":1663010243,"answer_id":73694258,"question_id":73691823,"body_markdown":"The main reason you put these stereotype annotations to classes is creating beans in application context and let the IOC container to provide the management and configuration of these beans depending on their stereotypes. \r\n\r\nSpring is an IOC container responsible for instantiating, configuring and assembling these beans. And putting stereotype annotation is just a way to define bean. \r\n\r\nYou can define beans in various ways such as using @Bean annotation, stereotype annotations, XML definitions etc. and if you don&#39;t define your bean, the IOC container can not detect and instantiate the service.","title":"Why you have to anotate classes in Spring boot with service etc.?","body":"<p>The main reason you put these stereotype annotations to classes is creating beans in application context and let the IOC container to provide the management and configuration of these beans depending on their stereotypes.</p>\n<p>Spring is an IOC container responsible for instantiating, configuring and assembling these beans. And putting stereotype annotation is just a way to define bean.</p>\n<p>You can define beans in various ways such as using @Bean annotation, stereotype annotations, XML definitions etc. and if you don't define your bean, the IOC container can not detect and instantiate the service.</p>\n"}],"owner":{"account_id":25723657,"reputation":17,"user_id":19480325,"display_name":"Szabolcs Fekete"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73694258,"answer_count":1,"score":-2,"last_activity_date":1663010777,"creation_date":1662997296,"question_id":73691823,"body_markdown":"Everyone says that it&#39;s because spring boot in that case will know that service exists. But if you call that service&#39;s method in another method that you try to run when the web app is running. Should it know the service exists without the annotation or not? ","title":"Why you have to anotate classes in Spring boot with service etc.?","body":"<p>Everyone says that it's because spring boot in that case will know that service exists. But if you call that service's method in another method that you try to run when the web app is running. Should it know the service exists without the annotation or not?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1456986541,"creation_date":1456986541,"answer_id":35764731,"question_id":35764341,"body_markdown":"You can use the [delete-by-query plugin](https://www.elastic.co/guide/en/elasticsearch/plugins/2.2/plugins-delete-by-query.html) in order to achieve that.\r\n\r\nYou need to install it on all nodes with\r\n\r\n    sudo bin/plugin install delete-by-query\r\n\r\nThen you can add this dependency to your `pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.elasticsearch.plugin&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;delete-by-query&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd finally you&#39;ll be able to use the [`DeleteByQueryRequestBuilder`](https://github.com/elastic/elasticsearch/blob/2.2/plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java) in order to delete all your documents after your tests.","title":"deleting all documents with out dropping index in elasticsearch java API","body":"<p>You can use the <a href=\"https://www.elastic.co/guide/en/elasticsearch/plugins/2.2/plugins-delete-by-query.html\" rel=\"nofollow\">delete-by-query plugin</a> in order to achieve that.</p>\n\n<p>You need to install it on all nodes with</p>\n\n<pre><code>sudo bin/plugin install delete-by-query\n</code></pre>\n\n<p>Then you can add this dependency to your <code>pom.xml</code></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;delete-by-query&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And finally you'll be able to use the <a href=\"https://github.com/elastic/elasticsearch/blob/2.2/plugins/delete-by-query/src/main/java/org/elasticsearch/action/deletebyquery/DeleteByQueryRequestBuilder.java\" rel=\"nofollow\"><code>DeleteByQueryRequestBuilder</code></a> in order to delete all your documents after your tests.</p>\n"},{"tags":[],"owner":{"account_id":3760405,"reputation":2891,"user_id":3125592,"accept_rate":75,"display_name":"Evan Volgas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457037898,"creation_date":1457037898,"answer_id":35782686,"question_id":35764341,"body_markdown":"If it were me, I wouldn&#39;t try to truncate data in ES like this. Instead, I would use -0 and -1 suffixed indices and an index alias pointed at the index I considered &quot;hot.&quot; \r\n\r\nSo for example if you have an index called `my-data`, I would replace that index with `my-data-0` and `my-data-1`. Then, I would define an alias for `my-data` pointed at `my-data-0`\r\n\r\nIf I wanted to truncate my index, I&#39;d simply swap the alias for `my-data` to point it at `my-data-1`, which would be empty, and away from `my-data-0`, which obviously isn&#39;t since you&#39;re trying to truncate it. After that, I would delete `my-data-0` and then immediately recreate the index. Next time I need an empty index, I&#39;d do the same thing all over again, just in reverse. \r\n\r\nYou should note that this sort of operation can be handled atomically (eg https://www.elastic.co/guide/en/elasticsearch/guide/current/index-aliases.html). \r\n\r\nYou should also note that it is gonna be much much faster this way, especially on large indices... and it&#39;ll make schema evolution a lot easier to manage as well. Please consider if that would accomplish what you need. If so, I think you&#39;ll find that much nicer to work with than the delete by query. ","title":"deleting all documents with out dropping index in elasticsearch java API","body":"<p>If it were me, I wouldn't try to truncate data in ES like this. Instead, I would use -0 and -1 suffixed indices and an index alias pointed at the index I considered \"hot.\" </p>\n\n<p>So for example if you have an index called <code>my-data</code>, I would replace that index with <code>my-data-0</code> and <code>my-data-1</code>. Then, I would define an alias for <code>my-data</code> pointed at <code>my-data-0</code></p>\n\n<p>If I wanted to truncate my index, I'd simply swap the alias for <code>my-data</code> to point it at <code>my-data-1</code>, which would be empty, and away from <code>my-data-0</code>, which obviously isn't since you're trying to truncate it. After that, I would delete <code>my-data-0</code> and then immediately recreate the index. Next time I need an empty index, I'd do the same thing all over again, just in reverse. </p>\n\n<p>You should note that this sort of operation can be handled atomically (eg <a href=\"https://www.elastic.co/guide/en/elasticsearch/guide/current/index-aliases.html\" rel=\"nofollow\">https://www.elastic.co/guide/en/elasticsearch/guide/current/index-aliases.html</a>). </p>\n\n<p>You should also note that it is gonna be much much faster this way, especially on large indices... and it'll make schema evolution a lot easier to manage as well. Please consider if that would accomplish what you need. If so, I think you'll find that much nicer to work with than the delete by query. </p>\n"},{"tags":[],"owner":{"account_id":12318817,"reputation":119,"user_id":8988573,"display_name":"Abhijith Anil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512455974,"creation_date":1512454568,"answer_id":47647191,"question_id":35764341,"body_markdown":"You could find elaseticsearchservice.functioncall - it is because i have written all es operation in a separate class    \r\n\r\nAsync way --\r\n----------------------------------------------------------------------\r\n\r\n              DeleteByQueryRequestBuilder deleteByQueryRequestBuilder = elasticsearchService.deleteAllDocument(PRODUCTSINDEX);\r\n                deleteByQueryRequestBuilder.execute(new ActionListener&lt;BulkIndexByScrollResponse&gt;() {\r\n                    @Override\r\n                    public void onResponse(BulkIndexByScrollResponse bulkIndexByScrollResponse) {\r\n                        if (bulkIndexByScrollResponse.getDeleted() == 0) {\r\n                           \r\n                        } else if (bulkIndexByScrollResponse.getDeleted() &gt; 0) {\r\n                           // getDeleted() gives you how many docs in that index have been deleted\r\n                        }\r\n                    }\r\n        \r\n                    @Override\r\n                    public void onFailure(Exception e) {\r\n                       //reason like no index exists, improper connection etc\r\n                    }\r\n                });\r\n        \r\n      ------------------------------------------------------------------  \r\n          public DeleteByQueryRequestBuilder deleteAllDocument(String indexName) {\r\n                DeleteByQueryRequestBuilder DeleteByQueryRequestBuilder = DeleteByQueryAction.INSTANCE.newRequestBuilder(client)\r\n                        .filter(QueryBuilders.matchAllQuery())\r\n                        .source(indexName);\r\n                return DeleteByQueryRequestBuilder;\r\n        \r\n            }\r\n\r\n--------------------------------------------------------------\r\nNormal way--\r\n--------------------------------------------------------------\r\n\r\n    public void deleteAllProduct(RoutingContext routingContext) {\r\n            long starttime = System.currentTimeMillis();\r\n           elasticsearchService.deleteAllDocument1(PRODUCTSINDEX);\r\n    \r\n        }\r\n    --------------------------------------------------------------\r\n    \r\n      public void deleteAllDocument1(String indexName) {\r\n            ListenableActionFuture&lt;BulkIndexByScrollResponse&gt; execute = DeleteByQueryAction.INSTANCE.newRequestBuilder(client)\r\n                    .filter(QueryBuilders.matchAllQuery())\r\n                    .source(indexName).execute();\r\n    \r\n    \r\n            try {\r\n                BulkIndexByScrollResponse   bulkIndexByScrollResponse = execute.get();\r\n                if (bulkIndexByScrollResponse.getDeleted()&gt;0)\r\n                {\r\n                    System.out.println(bulkIndexByScrollResponse.getDeleted());\r\n                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            } catch (ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n        }\r\n\r\n","title":"deleting all documents with out dropping index in elasticsearch java API","body":"<p>You could find elaseticsearchservice.functioncall - it is because i have written all es operation in a separate class    </p>\n\n<h2>Async way --</h2>\n\n<pre><code>          DeleteByQueryRequestBuilder deleteByQueryRequestBuilder = elasticsearchService.deleteAllDocument(PRODUCTSINDEX);\n            deleteByQueryRequestBuilder.execute(new ActionListener&lt;BulkIndexByScrollResponse&gt;() {\n                @Override\n                public void onResponse(BulkIndexByScrollResponse bulkIndexByScrollResponse) {\n                    if (bulkIndexByScrollResponse.getDeleted() == 0) {\n\n                    } else if (bulkIndexByScrollResponse.getDeleted() &gt; 0) {\n                       // getDeleted() gives you how many docs in that index have been deleted\n                    }\n                }\n\n                @Override\n                public void onFailure(Exception e) {\n                   //reason like no index exists, improper connection etc\n                }\n            });\n\n  ------------------------------------------------------------------  \n      public DeleteByQueryRequestBuilder deleteAllDocument(String indexName) {\n            DeleteByQueryRequestBuilder DeleteByQueryRequestBuilder = DeleteByQueryAction.INSTANCE.newRequestBuilder(client)\n                    .filter(QueryBuilders.matchAllQuery())\n                    .source(indexName);\n            return DeleteByQueryRequestBuilder;\n\n        }\n</code></pre>\n\n<hr>\n\n<h2>Normal way--</h2>\n\n<pre><code>public void deleteAllProduct(RoutingContext routingContext) {\n        long starttime = System.currentTimeMillis();\n       elasticsearchService.deleteAllDocument1(PRODUCTSINDEX);\n\n    }\n--------------------------------------------------------------\n\n  public void deleteAllDocument1(String indexName) {\n        ListenableActionFuture&lt;BulkIndexByScrollResponse&gt; execute = DeleteByQueryAction.INSTANCE.newRequestBuilder(client)\n                .filter(QueryBuilders.matchAllQuery())\n                .source(indexName).execute();\n\n\n        try {\n            BulkIndexByScrollResponse   bulkIndexByScrollResponse = execute.get();\n            if (bulkIndexByScrollResponse.getDeleted()&gt;0)\n            {\n                System.out.println(bulkIndexByScrollResponse.getDeleted());\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2751420,"reputation":637,"user_id":2370728,"accept_rate":86,"display_name":"Anant Simran Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521726741,"creation_date":1521726741,"answer_id":49430438,"question_id":35764341,"body_markdown":"You can truncate by looping through search results and deleting them:\r\n\r\n        public static void truncateESNamespace(String namespace) {\r\n        client.admin().indices().prepareRefresh(namespace).get();\r\n        SearchResponse response = client.prepareSearch(namespace).setSize(10000).get();\r\n        while (response.getHits().totalHits &gt; 0) {\r\n            BulkRequestBuilder bulkRequest = client.prepareBulk();\r\n            Arrays.stream(response.getHits().getHits()).forEach(h -&gt; bulkRequest.add(client.prepareDelete(h.getIndex(), h.getType(), h.getId())));\r\n            bulkRequest.get();\r\n            client.admin().indices().prepareRefresh(namespace).get();\r\n            response = client.prepareSearch(namespace).setSize(10000).get();\r\n        }\r\n    }","title":"deleting all documents with out dropping index in elasticsearch java API","body":"<p>You can truncate by looping through search results and deleting them:</p>\n\n<pre><code>    public static void truncateESNamespace(String namespace) {\n    client.admin().indices().prepareRefresh(namespace).get();\n    SearchResponse response = client.prepareSearch(namespace).setSize(10000).get();\n    while (response.getHits().totalHits &gt; 0) {\n        BulkRequestBuilder bulkRequest = client.prepareBulk();\n        Arrays.stream(response.getHits().getHits()).forEach(h -&gt; bulkRequest.add(client.prepareDelete(h.getIndex(), h.getType(), h.getId())));\n        bulkRequest.get();\n        client.admin().indices().prepareRefresh(namespace).get();\n        response = client.prepareSearch(namespace).setSize(10000).get();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1923709,"reputation":1257,"user_id":1734640,"display_name":"Pawel Gorczynski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619511894,"creation_date":1619511894,"answer_id":67279436,"question_id":35764341,"body_markdown":"When using the `RestHighLevelClient` you can do the following:\r\n\r\n```\r\nDeleteByQueryRequest request = new DeleteByQueryRequest(index);\r\nrequest.setQuery(QueryBuilders.matchAllQuery());\r\n\r\nclient.deleteByQuery(request, RequestOptions.DEFAULT);\r\n\r\n```","title":"deleting all documents with out dropping index in elasticsearch java API","body":"<p>When using the <code>RestHighLevelClient</code> you can do the following:</p>\n<pre><code>DeleteByQueryRequest request = new DeleteByQueryRequest(index);\nrequest.setQuery(QueryBuilders.matchAllQuery());\n\nclient.deleteByQuery(request, RequestOptions.DEFAULT);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15520403,"reputation":11,"user_id":11196778,"display_name":"Brian Silas Luke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663010637,"creation_date":1663010637,"answer_id":73694326,"question_id":35764341,"body_markdown":"Use a DeleteByQueryRequest\r\n\r\n\r\n    DeleteByQueryRequest delete = new DeleteByQueryRequest(&quot;inser index name here&quot;);\r\n    delete.setQuery(QueryBuilders.matchAllQuery());\r\n    this.client.deleteByQuery(delete, RequestOptions.DEFAULT);//RestHighLevelClient","title":"deleting all documents with out dropping index in elasticsearch java API","body":"<p>Use a DeleteByQueryRequest</p>\n<pre><code>DeleteByQueryRequest delete = new DeleteByQueryRequest(&quot;inser index name here&quot;);\ndelete.setQuery(QueryBuilders.matchAllQuery());\nthis.client.deleteByQuery(delete, RequestOptions.DEFAULT);//RestHighLevelClient\n</code></pre>\n"}],"owner":{"account_id":2524791,"reputation":3884,"user_id":2194364,"accept_rate":77,"display_name":"Raghu K Nair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3176,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":35764731,"answer_count":6,"score":6,"last_activity_date":1663010637,"creation_date":1456984823,"question_id":35764341,"body_markdown":"Is there any simple Java API to delete all the documents from elastic search with out dropping the index. \r\n\r\nI know that we could get all the ids and delete each document one by one \r\n\r\n    DeleteResponse response = _client.prepareDelete(INDEX, TYPE, id)\r\n                .setRefresh(true)\r\n                .execute()\r\n                .actionGet();\r\nBut I was looking for TRUNCATE kind of scenario. \r\n\r\nAt present I am deleting the index and recreating the mapping in unit tests. ","title":"deleting all documents with out dropping index in elasticsearch java API","body":"<p>Is there any simple Java API to delete all the documents from elastic search with out dropping the index. </p>\n\n<p>I know that we could get all the ids and delete each document one by one </p>\n\n<pre><code>DeleteResponse response = _client.prepareDelete(INDEX, TYPE, id)\n            .setRefresh(true)\n            .execute()\n            .actionGet();\n</code></pre>\n\n<p>But I was looking for TRUNCATE kind of scenario. </p>\n\n<p>At present I am deleting the index and recreating the mapping in unit tests. </p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663010313,"creation_date":1663010313,"answer_id":73694271,"question_id":73692408,"body_markdown":"It seems you are willing to set a system property `FEATURE_FLAG` to turn on/off your logging.\r\n\r\nHow about using the system property `log4j2.configurationFile` (see [documentation][1])? Then you can have multiple configuration files. One of those with no FileAppender will definitely not create any logfile. In addition you still have opportunity to send the messages to e.g. stdout or via the network.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","title":"log4j: create log file only is environment variable is set","body":"<p>It seems you are willing to set a system property <code>FEATURE_FLAG</code> to turn on/off your logging.</p>\n<p>How about using the system property <code>log4j2.configurationFile</code> (see <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">documentation</a>)? Then you can have multiple configuration files. One of those with no FileAppender will definitely not create any logfile. In addition you still have opportunity to send the messages to e.g. stdout or via the network.</p>\n"}],"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663010313,"creation_date":1663000084,"question_id":73692408,"body_markdown":"I have a log4j file where I create a new log file. However, I want this file to be created only if a particular environment variable (FEATURE_FLAG) is set.Else I don&#39;t want the log file to be created at all.\r\n\r\nI looked this up a bit and wrote the following filter in the log4j xml file:\r\n\r\n    &lt;logger name=&quot;MyLogger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n      \t\t&lt;AppenderRef ref=&quot;MyLogger&quot;&gt;\r\n    \t\t&lt;ScriptFilter onMatch=&quot;ACCEPT&quot; onMisMatch=&quot;DENY&quot;&gt;\r\n          &lt;Script language=&quot;groovy&quot;&gt;&lt;![CDATA[\r\n             return System.getProperty(&quot;FEATURE_FLAG&quot;, &quot;0&quot;).equalsIgnoreCase(&quot;0&quot;);\r\n          ]]&gt;&lt;/Script&gt;\r\n        &lt;/ScriptFilter&gt;\r\n    \t&lt;/AppenderRef&gt;\r\n      \t&lt;/logger&gt;\r\n\r\nHowever, when I run this, I still see that the log file is created. Though nothing is written to it if the FEATURE_FLAG is not set to 0.\r\n\r\nWhat I want though is: the file should not even be created if the FEATURE_FLAG is not enabled.\r\n\r\nPlease suggest.\r\nTIA.\r\nOmi\r\n","title":"log4j: create log file only is environment variable is set","body":"<p>I have a log4j file where I create a new log file. However, I want this file to be created only if a particular environment variable (FEATURE_FLAG) is set.Else I don't want the log file to be created at all.</p>\n<p>I looked this up a bit and wrote the following filter in the log4j xml file:</p>\n<pre><code>&lt;logger name=&quot;MyLogger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n        &lt;AppenderRef ref=&quot;MyLogger&quot;&gt;\n        &lt;ScriptFilter onMatch=&quot;ACCEPT&quot; onMisMatch=&quot;DENY&quot;&gt;\n      &lt;Script language=&quot;groovy&quot;&gt;&lt;![CDATA[\n         return System.getProperty(&quot;FEATURE_FLAG&quot;, &quot;0&quot;).equalsIgnoreCase(&quot;0&quot;);\n      ]]&gt;&lt;/Script&gt;\n    &lt;/ScriptFilter&gt;\n    &lt;/AppenderRef&gt;\n    &lt;/logger&gt;\n</code></pre>\n<p>However, when I run this, I still see that the log file is created. Though nothing is written to it if the FEATURE_FLAG is not set to 0.</p>\n<p>What I want though is: the file should not even be created if the FEATURE_FLAG is not enabled.</p>\n<p>Please suggest.\nTIA.\nOmi</p>\n"},{"tags":["java","jboss","jboss7.x"],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663006439,"creation_date":1663006439,"answer_id":73693598,"question_id":73693146,"body_markdown":"You can&#39;t change that as each marker file has a sense for the deployment scanner. One way to avoid that is not to deploy using the deployment scanner but using the management API (via jboss-cli deploy command or HAL).","title":"JBoss change the deployment marker file location","body":"<p>You can't change that as each marker file has a sense for the deployment scanner. One way to avoid that is not to deploy using the deployment scanner but using the management API (via jboss-cli deploy command or HAL).</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663009708,"creation_date":1663009708,"answer_id":73694177,"question_id":73693146,"body_markdown":"The Wildfly Deployment Scanner (which very likely is being used verbatim in JBoss) does not provide configuration to change or avoid the deployment marker files.\r\n\r\nhttps://docs.wildfly.org/26.1/Admin_Guide.html#Deployment_Scanner\r\n\r\nBut what you definitely can do is to disable the JBoss deployment scanner, then tell the JBoss microkernel to use a subsystem that you provide: Your own, tweaked version of the deployment scanner. It will have all the features that you implement.\r\n\r\nBTW, why do you want to get rid of the marker files?","title":"JBoss change the deployment marker file location","body":"<p>The Wildfly Deployment Scanner (which very likely is being used verbatim in JBoss) does not provide configuration to change or avoid the deployment marker files.</p>\n<p><a href=\"https://docs.wildfly.org/26.1/Admin_Guide.html#Deployment_Scanner\" rel=\"nofollow noreferrer\">https://docs.wildfly.org/26.1/Admin_Guide.html#Deployment_Scanner</a></p>\n<p>But what you definitely can do is to disable the JBoss deployment scanner, then tell the JBoss microkernel to use a subsystem that you provide: Your own, tweaked version of the deployment scanner. It will have all the features that you implement.</p>\n<p>BTW, why do you want to get rid of the marker files?</p>\n"}],"owner":{"account_id":12729495,"reputation":39,"user_id":9246705,"display_name":"Shighil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663009708,"creation_date":1663004071,"question_id":73693146,"body_markdown":"By default, JBoss creates abc.war.deployed marker file for a deployed war file abc.war in deployment directory on successful deployment. \r\n\r\nIs it possible to change this? I mean just the marker file location. I think entire deployment directory can be changed. But I would like to change just the marker file location.\r\n\r\nI am using JBoss 7.","title":"JBoss change the deployment marker file location","body":"<p>By default, JBoss creates abc.war.deployed marker file for a deployed war file abc.war in deployment directory on successful deployment.</p>\n<p>Is it possible to change this? I mean just the marker file location. I think entire deployment directory can be changed. But I would like to change just the marker file location.</p>\n<p>I am using JBoss 7.</p>\n"},{"tags":["javascript","java","testing","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663009380,"creation_date":1663009380,"answer_id":73694120,"question_id":73692864,"body_markdown":"Yes this is possible. You can find examples in our test-suites, for example this one: https://github.com/karatelabs/karate/tree/v1.2.1.RC1/karate-core/src/test/java/com/intuit/karate/core/parajava\r\n\r\nPersonally, I discourage too much of this, we&#39;ve had problems with Java interop + JS, but the good news is it is mostly resolved. If you go down this path, please use 1.3.0.RC1 or RC2: https://github.com/karatelabs/karate/wiki/1.3.0-Upgrade-Guide","title":"Karate-config.js - is it possible to have methods of a java class made available for use elsewhere?","body":"<p>Yes this is possible. You can find examples in our test-suites, for example this one: <a href=\"https://github.com/karatelabs/karate/tree/v1.2.1.RC1/karate-core/src/test/java/com/intuit/karate/core/parajava\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/tree/v1.2.1.RC1/karate-core/src/test/java/com/intuit/karate/core/parajava</a></p>\n<p>Personally, I discourage too much of this, we've had problems with Java interop + JS, but the good news is it is mostly resolved. If you go down this path, please use 1.3.0.RC1 or RC2: <a href=\"https://github.com/karatelabs/karate/wiki/1.3.0-Upgrade-Guide\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/wiki/1.3.0-Upgrade-Guide</a></p>\n"}],"owner":{"account_id":20052825,"reputation":11,"user_id":14701159,"display_name":"Peach-24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663009380,"creation_date":1663002628,"question_id":73692864,"body_markdown":"To save me having to repeat a line of code (example a) in lots of different files - wherever I want to make use of a Java method, is it possible to move that line of code to the Karate-config.js so that I can make use of the methods attached to it? like in (example b)?\r\n\r\nexample a (line in feature file that I want to move to karate-config): \r\n```\r\n* def LdapUtils = Java.type(&#39;com.package.something.LdapUtils&#39;)\r\n```\r\n\r\nexample b (in feature file):\r\n```\r\n* def newUser = LdapUtils.addNewUser()\r\n* def userId = newUser.uid\r\n```","title":"Karate-config.js - is it possible to have methods of a java class made available for use elsewhere?","body":"<p>To save me having to repeat a line of code (example a) in lots of different files - wherever I want to make use of a Java method, is it possible to move that line of code to the Karate-config.js so that I can make use of the methods attached to it? like in (example b)?</p>\n<p>example a (line in feature file that I want to move to karate-config):</p>\n<pre><code>* def LdapUtils = Java.type('com.package.something.LdapUtils')\n</code></pre>\n<p>example b (in feature file):</p>\n<pre><code>* def newUser = LdapUtils.addNewUser()\n* def userId = newUser.uid\n</code></pre>\n"},{"tags":["java","integer","double","java.util.scanner"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1663006043,"post_id":73693491,"comment_id":130132989,"body_markdown":"what is double scanner?","body":"what is double scanner?"},{"owner":{"account_id":26301102,"reputation":11,"user_id":19966465,"display_name":"DewzD"},"score":0,"creation_date":1663006253,"post_id":73693491,"comment_id":130133064,"body_markdown":"@IłyaBursov sorry that was a mistake","body":"@IłyaBursov sorry that was a mistake"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1663006378,"post_id":73693491,"comment_id":130133100,"body_markdown":"still not sure what the question is, but - scanner is reading strings and only strings, but then you can use nextint/nextdouble methods which convert string into appropriate type","body":"still not sure what the question is, but - scanner is reading strings and only strings, but then you can use nextint/nextdouble methods which convert string into appropriate type"},{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":0,"creation_date":1663006813,"post_id":73693491,"comment_id":130133224,"body_markdown":"@DewzD and Integer is a floating point without decimals. That&#39;s why, a string containing an integer can be seen either as Integer and Double.","body":"@DewzD and Integer is a floating point without decimals. That&#39;s why, a string containing an integer can be seen either as Integer and Double."},{"owner":{"account_id":26301102,"reputation":11,"user_id":19966465,"display_name":"DewzD"},"score":0,"creation_date":1663006863,"post_id":73693491,"comment_id":130133240,"body_markdown":"@IłyaBursov if I use nextDouble, does it scans input data as an &quot;int&quot;?","body":"@IłyaBursov if I use nextDouble, does it scans input data as an &quot;int&quot;?"},{"owner":{"account_id":26301102,"reputation":11,"user_id":19966465,"display_name":"DewzD"},"score":0,"creation_date":1663006934,"post_id":73693491,"comment_id":130133261,"body_markdown":"@LucaScarcia ohh right I got it now, thank you so much","body":"@LucaScarcia ohh right I got it now, thank you so much"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663028295,"post_id":73693491,"comment_id":130138131,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":22739655,"reputation":1,"user_id":16901364,"display_name":"Chaotisch3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663009321,"creation_date":1663009321,"answer_id":73694103,"question_id":73693491,"body_markdown":"The Scanner is using &#39;,&#39; for it&#39;s next.Double(). You can simply change this by adding the Countries locale.\r\n\r\n    input.useLocale(Locale.US);\r\n\r\nThis should be placed before you set the value of ounce:\r\n\r\n    input.useLocale(Locale.US);\r\n    ounce = input.nextDouble();","title":"how does nextDouble(); scan integer values?","body":"<p>The Scanner is using ',' for it's next.Double(). You can simply change this by adding the Countries locale.</p>\n<pre><code>input.useLocale(Locale.US);\n</code></pre>\n<p>This should be placed before you set the value of ounce:</p>\n<pre><code>input.useLocale(Locale.US);\nounce = input.nextDouble();\n</code></pre>\n"}],"owner":{"account_id":26301102,"reputation":11,"user_id":19966465,"display_name":"DewzD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1663009321,"creation_date":1663005797,"question_id":73693491,"body_markdown":"I&#39;m new to coding and I wrote this code using nextDouble();, it reads both double and integer values. Is this right? How does that happen? This is my code,\r\n\r\n        import java.util.*;\r\n    class Example{\r\n       public static void main(String args[]){\r\n          Scanner input=new Scanner(System.in);\r\n          double gram;\r\n          double ounce;\r\n          System.out.println(&quot;Input ounce:&quot;);\r\n          ounce=input.nextDouble();\r\n          System.out.println(&quot;ounce in gram:&quot;);\r\n          gram=ounce*28.3495;\r\n          System.out.println(gram);\r\n       }\r\n    }","title":"how does nextDouble(); scan integer values?","body":"<p>I'm new to coding and I wrote this code using nextDouble();, it reads both double and integer values. Is this right? How does that happen? This is my code,</p>\n<pre><code>    import java.util.*;\nclass Example{\n   public static void main(String args[]){\n      Scanner input=new Scanner(System.in);\n      double gram;\n      double ounce;\n      System.out.println(&quot;Input ounce:&quot;);\n      ounce=input.nextDouble();\n      System.out.println(&quot;ounce in gram:&quot;);\n      gram=ounce*28.3495;\n      System.out.println(gram);\n   }\n}\n</code></pre>\n"},{"tags":["java","scala","maven","config","databricks"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663009073,"creation_date":1663009073,"answer_id":73694065,"question_id":73692163,"body_markdown":"There are several options:\r\n\r\n- **add an &quot;external&quot; file in the classpath** when running the code. The classpath does not only consists of the JARs of your app, it can also contain regular files. This way you don&#39;t even have to modify your current code. But.. I don&#39;t know if/how to customize the classpath with Databricks.\r\n\r\n- **modify your code to read from &quot;external&quot; file in the first place** rather than the classpath. You could hardcodd the path of the file or make it configurable via a system property.","title":"Changing resource file dynamically without repackaging jar in Scala","body":"<p>There are several options:</p>\n<ul>\n<li><p><strong>add an &quot;external&quot; file in the classpath</strong> when running the code. The classpath does not only consists of the JARs of your app, it can also contain regular files. This way you don't even have to modify your current code. But.. I don't know if/how to customize the classpath with Databricks.</p>\n</li>\n<li><p><strong>modify your code to read from &quot;external&quot; file in the first place</strong> rather than the classpath. You could hardcodd the path of the file or make it configurable via a system property.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":7040847,"reputation":321,"user_id":5393382,"accept_rate":75,"display_name":"Olivier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73694065,"answer_count":1,"score":1,"last_activity_date":1663009073,"creation_date":1662998853,"question_id":73692163,"body_markdown":"I have a Maven scala project with a config file located here: `src/main/resources/reference.yaml`. This file contains particular configurable parameters that are used throughout the entire application. \r\n\r\nCurrently, I package the jar and read the file in the following manner, which is found in the classpath.\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport com.fasterxml.jackson.dataformat.yaml.YAMLFactory\r\nimport com.fasterxml.jackson.module.scala.DefaultScalaModule\r\nimport java.io.{File, InputStream}\r\n\r\nval configInput: InputStream = getClass.getResourceAsStream(&quot;/&quot; + configFileName)\r\nval mapper = new ObjectMapper(new YAMLFactory)\r\nmapper.registerModule(DefaultScalaModule)\r\nmapper.readValue(configInput, classOf[Map[String, Any]])\r\n```\r\n\r\nI have custom functions to be able to parse the yaml file and load the variables into an object that stores all my config values.  \r\n```\r\nobject Paths {\r\n\r\n  // Config\r\n  val table: String = getConfigValue(&quot;sql.finance_table&quot;, &quot;finance_v1&quot;)\r\n}\r\n\r\n```\r\nThis object is imported in various other scala files that define the pipeline, and use the config parameters to follow the specification of the user. \r\n\r\nTo execute the pipeline, the jar is packaged up and deployed to a cluster on databricks where it runs as part of a job. Thus, all config values are static and provided during build time.\r\n\r\nWhile this works, I would like to separate the resource file customisation and the packaging and deployment of the jar. Is it possible to simply get the jar to read a resource file from an external location? This would allow the user to modify the config even after the jar has been built. \r\n\r\nI&#39;m not using lightbend or pureconfig.","title":"Changing resource file dynamically without repackaging jar in Scala","body":"<p>I have a Maven scala project with a config file located here: <code>src/main/resources/reference.yaml</code>. This file contains particular configurable parameters that are used throughout the entire application.</p>\n<p>Currently, I package the jar and read the file in the following manner, which is found in the classpath.</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.dataformat.yaml.YAMLFactory\nimport com.fasterxml.jackson.module.scala.DefaultScalaModule\nimport java.io.{File, InputStream}\n\nval configInput: InputStream = getClass.getResourceAsStream(&quot;/&quot; + configFileName)\nval mapper = new ObjectMapper(new YAMLFactory)\nmapper.registerModule(DefaultScalaModule)\nmapper.readValue(configInput, classOf[Map[String, Any]])\n</code></pre>\n<p>I have custom functions to be able to parse the yaml file and load the variables into an object that stores all my config values.</p>\n<pre><code>object Paths {\n\n  // Config\n  val table: String = getConfigValue(&quot;sql.finance_table&quot;, &quot;finance_v1&quot;)\n}\n\n</code></pre>\n<p>This object is imported in various other scala files that define the pipeline, and use the config parameters to follow the specification of the user.</p>\n<p>To execute the pipeline, the jar is packaged up and deployed to a cluster on databricks where it runs as part of a job. Thus, all config values are static and provided during build time.</p>\n<p>While this works, I would like to separate the resource file customisation and the packaging and deployment of the jar. Is it possible to simply get the jar to read a resource file from an external location? This would allow the user to modify the config even after the jar has been built.</p>\n<p>I'm not using lightbend or pureconfig.</p>\n"},{"tags":["java","spring-boot","spring-security","authorization","swagger-ui"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1662192703,"post_id":73584250,"comment_id":129953116,"body_markdown":"*I can not remove @RequestHeader(&quot;Authorization&quot;) String authToken from controller parameters as I am fetching the userId from this token only.* That&#39;s the wrong way. You should use Spring Security to get the user ID.","body":"<i>I can not remove @RequestHeader(&quot;Authorization&quot;) String authToken from controller parameters as I am fetching the userId from this token only.</i> That&#39;s the wrong way. You should use Spring Security to get the user ID."},{"owner":{"account_id":13648348,"reputation":21,"user_id":9846891,"display_name":"Rajesh Kumar"},"score":0,"creation_date":1662217026,"post_id":73584250,"comment_id":129957494,"body_markdown":"@dur can you help me in fetching the userId using spring securtiy any document or tutorial refernce","body":"@dur can you help me in fetching the userId using spring securtiy any document or tutorial refernce"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1662218864,"post_id":73584250,"comment_id":129957877,"body_markdown":"See https://stackoverflow.com/questions/50355486/spring-boot-get-current-users-username","body":"See <a href=\"https://stackoverflow.com/questions/50355486/spring-boot-get-current-users-username\" title=\"spring boot get current users username\">stackoverflow.com/questions/50355486/&hellip;</a>"}],"owner":{"account_id":13648348,"reputation":21,"user_id":9846891,"display_name":"Rajesh Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663008644,"creation_date":1662129569,"question_id":73584250,"body_markdown":"I am using JWT Bearer token for authorization. I have added common authorization in SWAGGER UI which is working fine. But API level authorization RequestHeader is still showing in swagger UI. How can I hide it. Please refer to image 1.\r\n\r\n[Swagger UI Screenshot][1] \r\n\r\nController Code \r\n\r\n    @SecurityRequirement(name = &quot;my-notes-api&quot;)\r\n    @Operation(description = &quot;Update the existing note&quot;, \r\n    \t\t\tsummary = &quot;Update Note&quot;, \r\n    \t\t\ttags = &quot;Notes&quot;)\r\n    @PutMapping(path = &quot;/update-note&quot;, \r\n    \t\t\tconsumes = MediaType.APPLICATION_JSON_VALUE, \r\n    \t\t\tproduces = MediaType.APPLICATION_JSON_VALUE) \r\n    public Notes updateNote(@RequestHeader(&quot;Authorization&quot;) String authToken, \r\n    \t\t\t\t\t\t@RequestHeader(&quot;note-id&quot;) String noteId, \r\n    \t\t\t\t\t\t@RequestBody @Valid NotePOJO note) throws BusinessException {\r\n    \t\t\t\t\t\t\r\n    \treturn notesService.updateNote(jwtUtils.extractUserId(authToken.substring(7)), noteId, note);\r\n    \t\r\n    }\r\n\r\nI can not remove `@RequestHeader(&quot;Authorization&quot;) String authToken` from controller parameters as I am fetching the userId from this token only.\r\n\r\n  [1]: https://i.stack.imgur.com/dD78O.png","title":"Hide Authorization header from being displayed in Swagger3","body":"<p>I am using JWT Bearer token for authorization. I have added common authorization in SWAGGER UI which is working fine. But API level authorization RequestHeader is still showing in swagger UI. How can I hide it. Please refer to image 1.</p>\n<p><a href=\"https://i.stack.imgur.com/dD78O.png\" rel=\"nofollow noreferrer\">Swagger UI Screenshot</a></p>\n<p>Controller Code</p>\n<pre><code>@SecurityRequirement(name = &quot;my-notes-api&quot;)\n@Operation(description = &quot;Update the existing note&quot;, \n            summary = &quot;Update Note&quot;, \n            tags = &quot;Notes&quot;)\n@PutMapping(path = &quot;/update-note&quot;, \n            consumes = MediaType.APPLICATION_JSON_VALUE, \n            produces = MediaType.APPLICATION_JSON_VALUE) \npublic Notes updateNote(@RequestHeader(&quot;Authorization&quot;) String authToken, \n                        @RequestHeader(&quot;note-id&quot;) String noteId, \n                        @RequestBody @Valid NotePOJO note) throws BusinessException {\n                        \n    return notesService.updateNote(jwtUtils.extractUserId(authToken.substring(7)), noteId, note);\n    \n}\n</code></pre>\n<p>I can not remove <code>@RequestHeader(&quot;Authorization&quot;) String authToken</code> from controller parameters as I am fetching the userId from this token only.</p>\n"},{"tags":["java","android","datepicker"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1663049764,"post_id":73693861,"comment_id":130141184,"body_markdown":"Not answering your question. Since you want a `LocalDate` in the end, don’t go the detour over `Calendar`. Just use `selectedDateOfBirth = LocalDate.of(year, monthOfYear + 1, dayOfMonth);` (need to add 1 to the month value because the date picker insanely counts months from 0 = January).","body":"Not answering your question. Since you want a <code>LocalDate</code> in the end, don’t go the detour over <code>Calendar</code>. Just use <code>selectedDateOfBirth = LocalDate.of(year, monthOfYear + 1, dayOfMonth);</code> (need to add 1 to the month value because the date picker insanely counts months from 0 = January)."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1663060695,"post_id":73693861,"comment_id":130144597,"body_markdown":"I understand what you meant but my problem is how to select the date of birth from the DatePicker. There&#39;s no option to set it when the dialog pop-ups and it&#39;s making me unable to get the actual date of Birth selected. Even to store it as a string will still be ok as I can change the data type from the backend","body":"I understand what you meant but my problem is how to select the date of birth from the DatePicker. There&#39;s no option to set it when the dialog pop-ups and it&#39;s making me unable to get the actual date of Birth selected. Even to store it as a string will still be ok as I can change the data type from the backend"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663007943,"creation_date":1663007943,"question_id":73693861,"body_markdown":"I want the user to be able to select the date of birth using the custom DatePicker from XML, the issue is that I don&#39;t know how to get the values selected and store it as a LocalDate variable because the backend stored it as a LocalDate. Firstly I customized it with DatePickerDialog but the thing is so frustrating, just imagine a user that was born in 1990, the person needs to scroll for a while before reaching that and I don&#39;t want to use that again as I came across the custom DatePicker which makes me to select the year, month and day differently. Hope you guys understands what I want to achieved. Here is the DatePicker I used in the XML to get the calendar. I want to get all the values selected and store it as a variable of type LocalDate so that I can use it in the user&#39;s registration because date of birth is one of the parameters required.\r\n        \r\n        &lt;DatePicker\r\n                                    android:id=&quot;@+id/datePicker&quot;\r\n                                    android:layout_width=&quot;wrap_content&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:calendarViewShown=&quot;false&quot;\r\n                                    android:datePickerMode=&quot;spinner&quot;\r\n                                    android:spinnersShown=&quot;true&quot;/&gt;\r\n    \r\n    \r\n    This is the one I used before but I don&#39;t want to use it again. It&#39;s frustrating to scroll down for a longer time if the person that want to register is a bit advanced in age.\r\n\r\n\r\nthis was the XML for it\r\n\r\n &lt;TextView\r\n\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:gravity=&quot;center_horizontal&quot;\r\n                        android:text=&quot;DATE OF BIRTH&quot;\r\n                        android:textAlignment=&quot;center&quot;\r\n                        android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Caption&quot;\r\n                        android:textColor=&quot;@color/grey_40&quot; /&gt;\r\n\r\n\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                        &lt;Button\r\n                            android:id=&quot;@+id/btn_date_of_birth&quot;\r\n                            style=&quot;@style/Base.Widget.AppCompat.Spinner.Underlined&quot;\r\n                            android:layout_width=&quot;0dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;2&quot;\r\n                            android:text=&quot;select here&quot;\r\n                            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\r\n                            android:textColor=&quot;@color/grey_40&quot; /&gt;\r\n\r\nAnd this was the method in the Java class\r\n\r\nprivate Button btnDateOfBirth;\r\n\r\n        btnDateOfBirth = findViewById(R.id.btn_date_of_birth);\r\n\r\n    \r\n    \r\n    private void setDatePicker(final Button btnDateOfBirth){\r\n            Calendar current_calendar = Calendar.getInstance();\r\n            DatePickerDialog dialog = DatePickerDialog.newInstance((view, year, monthOfYear, dayOfMonth) -&gt; {\r\n    \r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.set(Calendar.YEAR,year);\r\n                calendar.set(Calendar.MONTH,monthOfYear);\r\n                calendar.set(Calendar.DATE,dayOfMonth);\r\n                long date_millis = calendar.getTimeInMillis();\r\n                btnDateOfBirth.setText(getFormattedDateEvent(date_millis));\r\n    \r\n            },\r\n                    current_calendar.get(Calendar.YEAR),\r\n                    current_calendar.get(Calendar.MONTH),\r\n                    current_calendar.get(Calendar.DATE));\r\n            dialog.setThemeDark(false);\r\n            dialog.setAccentColor(getResources().getColor(R.color.cyan_800_overlay));\r\n            //dialog.setMinDate(current_calendar);\r\n            dialog.show(getFragmentManager(),&quot;Date PickerDialog&quot;);\r\n        }\r\n        public static String getFormattedDateEvent(Long dateTime){\r\n            SimpleDateFormat newFormat = new SimpleDateFormat(&quot;EEE, yyyy MMM dd&quot;);\r\n            return newFormat.format(new Date(dateTime));\r\n        }\r\n    Then used a button to get and store the date selected by setting onclick to it and called the method inside the onclick\r\n    \r\n    btnDateOfBirth.setOnClickListener(view -&gt; {\r\n                setDatePicker((Button)view);\r\n            });","title":"how to get the values in DatePicker in java Android","body":"<p>I want the user to be able to select the date of birth using the custom DatePicker from XML, the issue is that I don't know how to get the values selected and store it as a LocalDate variable because the backend stored it as a LocalDate. Firstly I customized it with DatePickerDialog but the thing is so frustrating, just imagine a user that was born in 1990, the person needs to scroll for a while before reaching that and I don't want to use that again as I came across the custom DatePicker which makes me to select the year, month and day differently. Hope you guys understands what I want to achieved. Here is the DatePicker I used in the XML to get the calendar. I want to get all the values selected and store it as a variable of type LocalDate so that I can use it in the user's registration because date of birth is one of the parameters required.</p>\n<pre><code>    &lt;DatePicker\n                                android:id=&quot;@+id/datePicker&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:calendarViewShown=&quot;false&quot;\n                                android:datePickerMode=&quot;spinner&quot;\n                                android:spinnersShown=&quot;true&quot;/&gt;\n\n\nThis is the one I used before but I don't want to use it again. It's frustrating to scroll down for a longer time if the person that want to register is a bit advanced in age.\n</code></pre>\n<p>this was the XML for it</p>\n<p>&lt;TextView</p>\n<pre><code>                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:gravity=&quot;center_horizontal&quot;\n                    android:text=&quot;DATE OF BIRTH&quot;\n                    android:textAlignment=&quot;center&quot;\n                    android:textAppearance=&quot;@style/Base.TextAppearance.AppCompat.Caption&quot;\n                    android:textColor=&quot;@color/grey_40&quot; /&gt;\n\n\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot;&gt;\n\n                    &lt;Button\n                        android:id=&quot;@+id/btn_date_of_birth&quot;\n                        style=&quot;@style/Base.Widget.AppCompat.Spinner.Underlined&quot;\n                        android:layout_width=&quot;0dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_weight=&quot;2&quot;\n                        android:text=&quot;select here&quot;\n                        android:textAppearance=&quot;@style/TextAppearance.AppCompat.Medium&quot;\n                        android:textColor=&quot;@color/grey_40&quot; /&gt;\n</code></pre>\n<p>And this was the method in the Java class</p>\n<p>private Button btnDateOfBirth;</p>\n<pre><code>    btnDateOfBirth = findViewById(R.id.btn_date_of_birth);\n\n\n\nprivate void setDatePicker(final Button btnDateOfBirth){\n        Calendar current_calendar = Calendar.getInstance();\n        DatePickerDialog dialog = DatePickerDialog.newInstance((view, year, monthOfYear, dayOfMonth) -&gt; {\n\n            Calendar calendar = Calendar.getInstance();\n            calendar.set(Calendar.YEAR,year);\n            calendar.set(Calendar.MONTH,monthOfYear);\n            calendar.set(Calendar.DATE,dayOfMonth);\n            long date_millis = calendar.getTimeInMillis();\n            btnDateOfBirth.setText(getFormattedDateEvent(date_millis));\n\n        },\n                current_calendar.get(Calendar.YEAR),\n                current_calendar.get(Calendar.MONTH),\n                current_calendar.get(Calendar.DATE));\n        dialog.setThemeDark(false);\n        dialog.setAccentColor(getResources().getColor(R.color.cyan_800_overlay));\n        //dialog.setMinDate(current_calendar);\n        dialog.show(getFragmentManager(),&quot;Date PickerDialog&quot;);\n    }\n    public static String getFormattedDateEvent(Long dateTime){\n        SimpleDateFormat newFormat = new SimpleDateFormat(&quot;EEE, yyyy MMM dd&quot;);\n        return newFormat.format(new Date(dateTime));\n    }\nThen used a button to get and store the date selected by setting onclick to it and called the method inside the onclick\n\nbtnDateOfBirth.setOnClickListener(view -&gt; {\n            setDatePicker((Button)view);\n        });\n</code></pre>\n"},{"tags":["java","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":13031664,"reputation":1971,"user_id":9417843,"display_name":"zlaval"},"score":0,"creation_date":1663002599,"post_id":73692708,"comment_id":130131873,"body_markdown":"how t0 and t1 are defined? do they depend on the start time of the system or some calendar date? if the second one, you can describe almost anything using cron expression.","body":"how t0 and t1 are defined? do they depend on the start time of the system or some calendar date? if the second one, you can describe almost anything using cron expression."},{"owner":{"account_id":23012567,"reputation":45,"user_id":17134888,"display_name":"moussakaChaos"},"score":0,"creation_date":1663053745,"post_id":73692708,"comment_id":130142242,"body_markdown":"t0 = 1h, t1 = until i stop the service","body":"t0 = 1h, t1 = until i stop the service"}],"answers":[{"tags":[],"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663003957,"creation_date":1663003957,"answer_id":73693131,"question_id":73692708,"body_markdown":"You can schedule a task programatically via `org.springframework.scheduling.TaskScheduler`. \r\n\r\ne.g.\r\n```java\r\n    @Autowired\r\n    private TaskScheduler taskScheduler;\r\n\r\n    void scheduleTask(){\r\n        final int xSeconds = 2000;\r\n        PeriodicTrigger periodicTrigger = new PeriodicTrigger(xSeconds, TimeUnit.SECONDS);\r\n        taskScheduler.schedule(\r\n                () -&gt; System.out.println(&quot;task B&quot;),\r\n                periodicTrigger\r\n        );\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n[This acticle][1] can also be helpful. \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-task-scheduler","title":"Springboot: start a and stop programmatically a scheduled task","body":"<p>You can schedule a task programatically via <code>org.springframework.scheduling.TaskScheduler</code>.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private TaskScheduler taskScheduler;\n\n    void scheduleTask(){\n        final int xSeconds = 2000;\n        PeriodicTrigger periodicTrigger = new PeriodicTrigger(xSeconds, TimeUnit.SECONDS);\n        taskScheduler.schedule(\n                () -&gt; System.out.println(&quot;task B&quot;),\n                periodicTrigger\n        );\n    }\n\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-task-scheduler\" rel=\"nofollow noreferrer\">This acticle</a> can also be helpful.</p>\n"},{"tags":[],"owner":{"account_id":12021327,"reputation":132,"user_id":8794667,"display_name":"dulvui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663004401,"creation_date":1663004401,"answer_id":73693231,"question_id":73692708,"body_markdown":"You can combine `fixedRate` with `initialDelay` annotation.\r\nSo taskB runs after an initial delay of 6100 ms.\r\n\r\nA --------- B ----- A -------- B ----- A ------&gt;  \r\nt(0)    t(5900) t(6000)    t(1900) t(12000)\r\n\r\n```\r\n@Scheduled(fixedRate = 6000)\r\nprivate void taskA(){\r\n   System.out.println(&quot;A&quot;);\r\n}\r\n\r\n@Scheduled(fixedRate = 6000, initialDelay = 5000)\r\nprivate void taskB(){\r\n   System.out.println(&quot;B&quot;);\r\n}\r\n```","title":"Springboot: start a and stop programmatically a scheduled task","body":"<p>You can combine <code>fixedRate</code> with <code>initialDelay</code> annotation.\nSo taskB runs after an initial delay of 6100 ms.</p>\n<p>A --------- B ----- A -------- B ----- A ------&gt;<br />\nt(0)    t(5900) t(6000)    t(1900) t(12000)</p>\n<pre><code>@Scheduled(fixedRate = 6000)\nprivate void taskA(){\n   System.out.println(&quot;A&quot;);\n}\n\n@Scheduled(fixedRate = 6000, initialDelay = 5000)\nprivate void taskB(){\n   System.out.println(&quot;B&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663007161,"creation_date":1663007161,"answer_id":73693720,"question_id":73692708,"body_markdown":"The `@Scheduled` annotation is for stuff that runs forever.\r\nConsider `TaskScheduler` for the task that must stop and\r\n`@Scheduled` for the task that should run until you stop the service.\r\n\r\nHere is some code:\r\n```Java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class Blam\r\nimplements\r\n\tRunnable\r\n{\r\n\tprivate int count = 0;\r\n\tprivate ScheduledFuture&lt;?&gt; scheduledFuture = null;\r\n\tprivate final TaskScheduler taskScheduler;\r\n\r\n\t@Override\r\n\tpublic void run()\r\n\t{\r\n\t\tif (count &lt; 6)\r\n\t\t{\r\n\t\t\tSystem.out.printf(&quot;%d: blam.taskA\\n&quot;, count);\r\n\t\t\t++count;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tscheduledFuture.cancel(true);\r\n\t\t}\r\n\t}\r\n\r\n\t@PostConstruct\r\n\tpublic void postConstruct()\r\n\t{\r\n\t\tscheduledFuture = taskScheduler.scheduleWithFixedDelay(this, 1000);\r\n\t}\r\n}\r\n\r\n@Component\r\npublic class Kapow\r\n{\r\n\t@Scheduled(initialDelay = 6000, fixedDelay = 1000)\r\n\tpublic void taskB()\r\n\t{\r\n\t\tSystem.out.println(&quot;Kapow.taskB&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n`@RequiredArgsConstructor` is a Lombok annotation,\r\nI highly recommend using Lombok.\r\nIf you don&#39;t use Lombok,\r\njust inject the `TashScheduler` however you choose.","title":"Springboot: start a and stop programmatically a scheduled task","body":"<p>The <code>@Scheduled</code> annotation is for stuff that runs forever.\nConsider <code>TaskScheduler</code> for the task that must stop and\n<code>@Scheduled</code> for the task that should run until you stop the service.</p>\n<p>Here is some code:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class Blam\nimplements\n    Runnable\n{\n    private int count = 0;\n    private ScheduledFuture&lt;?&gt; scheduledFuture = null;\n    private final TaskScheduler taskScheduler;\n\n    @Override\n    public void run()\n    {\n        if (count &lt; 6)\n        {\n            System.out.printf(&quot;%d: blam.taskA\\n&quot;, count);\n            ++count;\n        }\n        else\n        {\n            scheduledFuture.cancel(true);\n        }\n    }\n\n    @PostConstruct\n    public void postConstruct()\n    {\n        scheduledFuture = taskScheduler.scheduleWithFixedDelay(this, 1000);\n    }\n}\n\n@Component\npublic class Kapow\n{\n    @Scheduled(initialDelay = 6000, fixedDelay = 1000)\n    public void taskB()\n    {\n        System.out.println(&quot;Kapow.taskB&quot;);\n    }\n}\n</code></pre>\n<p><code>@RequiredArgsConstructor</code> is a Lombok annotation,\nI highly recommend using Lombok.\nIf you don't use Lombok,\njust inject the <code>TashScheduler</code> however you choose.</p>\n"}],"owner":{"account_id":23012567,"reputation":45,"user_id":17134888,"display_name":"moussakaChaos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73693131,"answer_count":3,"score":0,"last_activity_date":1663007161,"creation_date":1663001776,"question_id":73692708,"body_markdown":"I have two different tasks, let&#39;s call them A and B.\r\n\r\nTask A should start immediately (t0) and stop after a fixed time (t1), task B should start after a fixed time (t1) and run until i stop the service.\r\n\r\nBoth task A and B should do something every x seconds (for convenience, print a string). I know that in Springboot i can achive that using this annotation:\r\n\r\n```\r\n@Scheduled(fixedDelay = 6000)\r\nprivate void taskA(){\r\n   print(&quot;A&quot;)\r\n}\r\n\r\n```\r\n\r\nBut i have no clue how to start and stop each tasks after the time window has passed.\r\nI have made a simple scheme to help you understand better.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QEHZE.jpg","title":"Springboot: start a and stop programmatically a scheduled task","body":"<p>I have two different tasks, let's call them A and B.</p>\n<p>Task A should start immediately (t0) and stop after a fixed time (t1), task B should start after a fixed time (t1) and run until i stop the service.</p>\n<p>Both task A and B should do something every x seconds (for convenience, print a string). I know that in Springboot i can achive that using this annotation:</p>\n<pre><code>@Scheduled(fixedDelay = 6000)\nprivate void taskA(){\n   print(&quot;A&quot;)\n}\n\n</code></pre>\n<p>But i have no clue how to start and stop each tasks after the time window has passed.\nI have made a simple scheme to help you understand better.</p>\n<p><a href=\"https://i.stack.imgur.com/QEHZE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QEHZE.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Thanks</p>\n"},{"tags":["java","postgresql","flyway"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1662994801,"post_id":73691264,"comment_id":130129193,"body_markdown":"If the column type is `date` then the value will be not stored with any format. A format is presentation thing and should be handled at that layer","body":"If the column type is <code>date</code> then the value will be not stored with any format. A format is presentation thing and should be handled at that layer"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1662994815,"post_id":73691264,"comment_id":130129198,"body_markdown":"Are you saying that you want to store this date constant in a table somewhere?  Something else?","body":"Are you saying that you want to store this date constant in a table somewhere?  Something else?"},{"owner":{"account_id":19819644,"reputation":83,"user_id":14516525,"display_name":"floatfoo"},"score":0,"creation_date":1662994918,"post_id":73691264,"comment_id":130129235,"body_markdown":"@TimBiegeleisen No, just this format, where date goes first, then time, divided by letter T","body":"@TimBiegeleisen No, just this format, where date goes first, then time, divided by letter T"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1662994949,"post_id":73691264,"comment_id":130129255,"body_markdown":"@floatfoo Please read the first comment above.  Dates are stored internally in Postgres as binary, they have no explicit format.","body":"@floatfoo Please read the first comment above.  Dates are stored internally in Postgres as binary, they have no explicit format."},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1663006338,"post_id":73691264,"comment_id":130133089,"body_markdown":"If you want an INSERT `date` then you can create  `DEFAULT current_date` to have a date automatically created on the column.  If you want something else you will need to be more specific about what you are trying to achieve?","body":"If you want an INSERT <code>date</code> then you can create  <code>DEFAULT current_date</code> to have a date automatically created on the column.  If you want something else you will need to be more specific about what you are trying to achieve?"},{"owner":{"account_id":19819644,"reputation":83,"user_id":14516525,"display_name":"floatfoo"},"score":0,"creation_date":1663009142,"post_id":73691264,"comment_id":130133891,"body_markdown":"@AdrianKlaver Well, I want to update column field, when I reupload file (doing insert or update).  Still your approach works fine -  I will have a default on creation and then manually update every time","body":"@AdrianKlaver Well, I want to update column field, when I reupload file (doing insert or update).  Still your approach works fine -  I will have a default on creation and then manually update every time"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1663011065,"post_id":73691264,"comment_id":130134455,"body_markdown":"Or you can use an `BEFORE UPDATE ON` trigger as illustrated in my answer to this question [Update a column](https://stackoverflow.com/questions/73483680/how-to-update-a-column-only-when-a-row-has-any-changes/73490431#73490431).","body":"Or you can use an <code>BEFORE UPDATE ON</code> trigger as illustrated in my answer to this question <a href=\"https://stackoverflow.com/questions/73483680/how-to-update-a-column-only-when-a-row-has-any-changes/73490431#73490431\">Update a column</a>."}],"answers":[{"tags":[],"owner":{"account_id":23201300,"reputation":3123,"user_id":17296084,"display_name":"Ramin Faracov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663006505,"creation_date":1663006505,"answer_id":73693608,"question_id":73691264,"body_markdown":"It is generally recommended to store date types in all DBs as date types rather than as strings.\r\nBecause date types has a internal structures and you can shown this data to users in any formats. For example: `13 September 2022` or `13.09.2022` or `2022-09-13T12:24:45` and etc. \r\nYou can use all date functions for this field such as: year &gt; 2022 and etc. \r\nAnd all this does not depend on the fact that we use DB triggers or Java DAO.\r\n\r\nBut, triggers for that, for example, when there is an insert data into a table, we want to change another record in another table or in same table.\r\nWe have two variants for doing this process: \r\n1. Doing this using PostgreSQL triggers. \r\n2. To do this in Backend (Java dao logic)\r\n\r\nOption 1- not recommended. Because triggers wil be runs always, even when we will be execute any SQL command for importing data. Or in the Future may be we need different business logic such as: for some records we don&#39;t need changing another records. \r\n\r\nOption 2 - recommended. Because all our business logics will be store in backend. And where ever we need to change another record before inserting, we will write the change code. And where not but we will not use the change code.\r\n\r\nBut sometimes it happens that before inserting data, you always (necessarily) need to change another record. In these circumstances, it is recommended to use triggers because suddenly you forget to write the change code somewhere. And triggers will always work no matter what","title":"Postgres Insert Trigger or update with Java?","body":"<p>It is generally recommended to store date types in all DBs as date types rather than as strings.\nBecause date types has a internal structures and you can shown this data to users in any formats. For example: <code>13 September 2022</code> or <code>13.09.2022</code> or <code>2022-09-13T12:24:45</code> and etc.\nYou can use all date functions for this field such as: year &gt; 2022 and etc.\nAnd all this does not depend on the fact that we use DB triggers or Java DAO.</p>\n<p>But, triggers for that, for example, when there is an insert data into a table, we want to change another record in another table or in same table.\nWe have two variants for doing this process:</p>\n<ol>\n<li>Doing this using PostgreSQL triggers.</li>\n<li>To do this in Backend (Java dao logic)</li>\n</ol>\n<p>Option 1- not recommended. Because triggers wil be runs always, even when we will be execute any SQL command for importing data. Or in the Future may be we need different business logic such as: for some records we don't need changing another records.</p>\n<p>Option 2 - recommended. Because all our business logics will be store in backend. And where ever we need to change another record before inserting, we will write the change code. And where not but we will not use the change code.</p>\n<p>But sometimes it happens that before inserting data, you always (necessarily) need to change another record. In these circumstances, it is recommended to use triggers because suddenly you forget to write the change code somewhere. And triggers will always work no matter what</p>\n"}],"owner":{"account_id":19819644,"reputation":83,"user_id":14516525,"display_name":"floatfoo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73693608,"answer_count":1,"score":0,"last_activity_date":1663006505,"creation_date":1662994698,"question_id":73691264,"body_markdown":"I am learning how to use ORM with Postgres in Java and I want to maintain in the table column `date` record that will hold exactly the following format:\r\n\r\n`2022-05-28T21:12:01.000Z`\r\n\r\nSo I see two path:\r\n1. Create a Postgres Insert trigger\r\n2. Just care about date insertint in dao logic\r\n\r\nSecond is pretty intuitive for me, but what should I choose? Maybe _flyway migration_ may be of use here?\r\n\r\nEDIT:: I&#39;ve been said in the comment that Postgres saves date in binary format, so I&#39;ll handle this. But automatic insertion of &#39;date&#39; is still unclear to me\r\n\r\nThanks in advance!\r\n","title":"Postgres Insert Trigger or update with Java?","body":"<p>I am learning how to use ORM with Postgres in Java and I want to maintain in the table column <code>date</code> record that will hold exactly the following format:</p>\n<p><code>2022-05-28T21:12:01.000Z</code></p>\n<p>So I see two path:</p>\n<ol>\n<li>Create a Postgres Insert trigger</li>\n<li>Just care about date insertint in dao logic</li>\n</ol>\n<p>Second is pretty intuitive for me, but what should I choose? Maybe <em>flyway migration</em> may be of use here?</p>\n<p>EDIT:: I've been said in the comment that Postgres saves date in binary format, so I'll handle this. But automatic insertion of 'date' is still unclear to me</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14705970,"reputation":474,"user_id":10620689,"display_name":"Andrian Soluk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662546361,"creation_date":1662546037,"answer_id":73633832,"question_id":73633793,"body_markdown":"First of all you should not add annotation `@Service` for ProductService interface.\r\nMoreover this can happen when you have your Class `Application` in &quot;another package&quot;. \r\nYou can solve the problem using annotation `@ComponentScan (basePackages = {&quot;your.company.domain.package&quot;})`","title":"Consider defining a bean of type &#39;com.fsse2207.project_backend.service.ProductService&#39; in your configuration","body":"<p>First of all you should not add annotation <code>@Service</code> for ProductService interface.\nMoreover this can happen when you have your Class <code>Application</code> in &quot;another package&quot;.\nYou can solve the problem using annotation <code>@ComponentScan (basePackages = {&quot;your.company.domain.package&quot;})</code></p>\n"},{"tags":[],"owner":{"display_name":"user19576524"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663006143,"creation_date":1662555349,"answer_id":73635920,"question_id":73633793,"body_markdown":"I found the problem:\r\n\r\nI didn&#39;t add the `implements` keyword in the class definition of `ProductServiceImpl` so it was not connected to the bean, aka the interface, aka the service layer.","title":"Consider defining a bean of type &#39;com.fsse2207.project_backend.service.ProductService&#39; in your configuration","body":"<p>I found the problem:</p>\n<p>I didn't add the <code>implements</code> keyword in the class definition of <code>ProductServiceImpl</code> so it was not connected to the bean, aka the interface, aka the service layer.</p>\n"}],"owner":{"display_name":"user19576524"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73635920,"answer_count":2,"score":0,"last_activity_date":1663006143,"creation_date":1662545853,"question_id":73633793,"body_markdown":"Basically, I have created all of the pojo and layers(including the repository layer) necessary for Spring Boot to automatically implement MySql commands. When I trying to run the programme, I get the following command: \r\nDescription:\r\n\r\nParameter 0 of constructor in com.fsse2207.project_backend.api.ProductApi required a bean of type &#39;com.fsse2207.project_backend.service.ProductService&#39; that could not be found.\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.fsse2207.project_backend.service.ProductService&#39; in your configuration.\r\n\r\nIt turns out there&#39;s sth wrong about the bean in my ProductApi. It says &quot;\r\nCould not autowire. No beans of &#39;ProductService&#39; type found.&quot; How do I fix it?\r\n\r\nThe following is the interface under the service layer:\r\n\r\n    package com.fsse2207.project_backend.service;\r\n\r\n    import com.fsse2207.project_backend.data.ProductCreateData;\r\n    import com.fsse2207.project_backend.data.ProductDetailData;\r\n    import com.fsse2207.project_backend.exception.ProductFoundByIdException;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    public interface ProductService {\r\n        ProductDetailData createProductData (ProductCreateData productCreateData) throws ProductFoundByIdException;\r\n    }\r\n\r\nThe following is the service class:\r\n\r\n    package com.fsse2207.project_backend.service.impl;\r\n\r\n    import com.fsse2207.project_backend.data.ProductCreateData;\r\n    import com.fsse2207.project_backend.data.ProductDetailData;\r\n    import com.fsse2207.project_backend.data.entity.ProductEntity;\r\n    import com.fsse2207.project_backend.exception.ProductFoundByIdException;\r\n    import com.fsse2207.project_backend.repository.ProductRepository;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    public class ProductServiceImpl {\r\n        private ProductRepository productRepository;\r\n        @Autowired\r\n        public ProductServiceImpl(ProductRepository productRepository){\r\n            this.productRepository=productRepository;\r\n        }\r\n        public ProductDetailData createProductData (ProductCreateData productCreateData) throws ProductFoundByIdException {\r\n            ProductEntity productEntity=new ProductEntity(productCreateData);\r\n            if(productRepository.existsById(productEntity.getpId())){\r\n                throw new ProductFoundByIdException();\r\n            }\r\n            return new ProductDetailData(productRepository.save(productEntity));\r\n        }\r\n    }\r\n\r\nThe following is the Api:\r\n\r\n    package com.fsse2207.project_backend.api;\r\n\r\n    import com.fsse2207.project_backend.data.ProductCreateData;\r\n    import com.fsse2207.project_backend.data.ProductDetailData;\r\n    import com.fsse2207.project_backend.data.dto.CreateRequestDto;\r\n    import com.fsse2207.project_backend.data.dto.CreateResponseDto;\r\n    import com.fsse2207.project_backend.exception.ProductFoundByIdException;\r\n    import com.fsse2207.project_backend.service.ProductService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class ProductApi {\r\n        private ProductService productService;\r\n        @Autowired\r\n        public ProductApi(ProductService productService){\r\n            this.productService=productService;\r\n        }\r\n        @PostMapping\r\n        public CreateResponseDto createResponseDto(@RequestBody CreateRequestDto createRequestDto) throws ProductFoundByIdException {\r\n            ProductCreateData productCreateData=new ProductCreateData(createRequestDto);\r\n            ProductDetailData productDetailData =productService.createProductData(productCreateData);\r\n            return new CreateResponseDto(productDetailData);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Consider defining a bean of type &#39;com.fsse2207.project_backend.service.ProductService&#39; in your configuration","body":"<p>Basically, I have created all of the pojo and layers(including the repository layer) necessary for Spring Boot to automatically implement MySql commands. When I trying to run the programme, I get the following command:\nDescription:</p>\n<p>Parameter 0 of constructor in com.fsse2207.project_backend.api.ProductApi required a bean of type 'com.fsse2207.project_backend.service.ProductService' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.fsse2207.project_backend.service.ProductService' in your configuration.</p>\n<p>It turns out there's sth wrong about the bean in my ProductApi. It says &quot;\nCould not autowire. No beans of 'ProductService' type found.&quot; How do I fix it?</p>\n<p>The following is the interface under the service layer:</p>\n<pre><code>package com.fsse2207.project_backend.service;\n\nimport com.fsse2207.project_backend.data.ProductCreateData;\nimport com.fsse2207.project_backend.data.ProductDetailData;\nimport com.fsse2207.project_backend.exception.ProductFoundByIdException;\nimport org.springframework.stereotype.Service;\n\npublic interface ProductService {\n    ProductDetailData createProductData (ProductCreateData productCreateData) throws ProductFoundByIdException;\n}\n</code></pre>\n<p>The following is the service class:</p>\n<pre><code>package com.fsse2207.project_backend.service.impl;\n\nimport com.fsse2207.project_backend.data.ProductCreateData;\nimport com.fsse2207.project_backend.data.ProductDetailData;\nimport com.fsse2207.project_backend.data.entity.ProductEntity;\nimport com.fsse2207.project_backend.exception.ProductFoundByIdException;\nimport com.fsse2207.project_backend.repository.ProductRepository;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class ProductServiceImpl {\n    private ProductRepository productRepository;\n    @Autowired\n    public ProductServiceImpl(ProductRepository productRepository){\n        this.productRepository=productRepository;\n    }\n    public ProductDetailData createProductData (ProductCreateData productCreateData) throws ProductFoundByIdException {\n        ProductEntity productEntity=new ProductEntity(productCreateData);\n        if(productRepository.existsById(productEntity.getpId())){\n            throw new ProductFoundByIdException();\n        }\n        return new ProductDetailData(productRepository.save(productEntity));\n    }\n}\n</code></pre>\n<p>The following is the Api:</p>\n<pre><code>package com.fsse2207.project_backend.api;\n\nimport com.fsse2207.project_backend.data.ProductCreateData;\nimport com.fsse2207.project_backend.data.ProductDetailData;\nimport com.fsse2207.project_backend.data.dto.CreateRequestDto;\nimport com.fsse2207.project_backend.data.dto.CreateResponseDto;\nimport com.fsse2207.project_backend.exception.ProductFoundByIdException;\nimport com.fsse2207.project_backend.service.ProductService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class ProductApi {\n    private ProductService productService;\n    @Autowired\n    public ProductApi(ProductService productService){\n        this.productService=productService;\n    }\n    @PostMapping\n    public CreateResponseDto createResponseDto(@RequestBody CreateRequestDto createRequestDto) throws ProductFoundByIdException {\n        ProductCreateData productCreateData=new ProductCreateData(createRequestDto);\n        ProductDetailData productDetailData =productService.createProductData(productCreateData);\n        return new CreateResponseDto(productDetailData);\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","servlets","apache-poi","xlsx"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1363183838,"post_id":15387243,"comment_id":21749073,"body_markdown":"What type is `outByteStream`?","body":"What type is <code>outByteStream</code>?"},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":1,"creation_date":1363184231,"post_id":15387243,"comment_id":21749397,"body_markdown":"Why do you need a `ByteArrayOutputStream`? Can&#39;t you simply do `wb.write(response.getOutputStream())` instead?","body":"Why do you need a <code>ByteArrayOutputStream</code>? Can&#39;t you simply do <code>wb.write(response.getOutputStream())</code> instead?"},{"owner":{"account_id":2387931,"reputation":61,"user_id":2088486,"display_name":"Lucas_Mux"},"score":0,"creation_date":1363184787,"post_id":15387243,"comment_id":21749784,"body_markdown":"I tried with `org.apache.commons.io.output.ByteArrayOutputStream` and \n`java.io.ByteArrayOutputStream`","body":"I tried with <code>org.apache.commons.io.output.ByteArrayOutputStream</code> and  <code>java.io.ByteArrayOutputStream</code>"},{"owner":{"account_id":2387931,"reputation":61,"user_id":2088486,"display_name":"Lucas_Mux"},"score":0,"creation_date":1363185210,"post_id":15387243,"comment_id":21750126,"body_markdown":"Tried with `wb.write(response.getOutputStream())`, but the message persists.","body":"Tried with <code>wb.write(response.getOutputStream())</code>, but the message persists."},{"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"score":0,"creation_date":1363261351,"post_id":15387243,"comment_id":21784683,"body_markdown":"Try this http://superuser.com/questions/401714/how-do-i-resolve-the-error-excel-found-unreadable-content-in-filename","body":"Try this <a href=\"http://superuser.com/questions/401714/how-do-i-resolve-the-error-excel-found-unreadable-content-in-filename\" title=\"how do i resolve the error excel found unreadable content in filename\">superuser.com/questions/401714/&hellip;</a>"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1370091248,"post_id":15387243,"comment_id":24340114,"body_markdown":"If you write the XSSFWorkbook to a file rather than the servlet, can Excel open that without errors? That&#39;ll let you work out if you have a servlet output problem, or a XSSF problem","body":"If you write the XSSFWorkbook to a file rather than the servlet, can Excel open that without errors? That&#39;ll let you work out if you have a servlet output problem, or a XSSF problem"}],"answers":[{"tags":[],"owner":{"account_id":2843701,"reputation":7,"user_id":2442706,"display_name":"amy"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1370070602,"creation_date":1370070602,"answer_id":16870102,"question_id":15387243,"body_markdown":"Use this JSP code and generate the excel file succesfully.I have given input to excel file through the database you can also give manual inputs.\r\n\r\n\r\n    &lt;%HSSFWorkbook wb = new HSSFWorkbook();\r\n        HSSFSheet sheet = wb.createSheet();\r\n           try {\r\n            java.sql.Connection con;\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/custinfo&quot;,&quot;root&quot;,&quot;abc&quot;);\r\n                Statement st= con.createStatement(); \r\n                out.println(&quot;hello world&quot;);\r\n            ResultSet rs=st.executeQuery(&quot;select name ,state ,balance,description from customerdata where customerid=&#39;&quot;+Id+&quot;&#39;&quot;); \r\n            \r\n            HSSFRow row = sheet.createRow((short)0);\r\n        \trow.createCell((short)0).setCellValue(&quot;NAME&quot;);\r\n        \trow.createCell((short)1).setCellValue(&quot;STATE&quot;);\r\n        \trow.createCell((short)2).setCellValue(&quot;BALANCE&quot;);\r\n        \trow.createCell((short)3).setCellValue(&quot;DESCRIPTION&quot;);\r\n            while(rs.next())\r\n            {\r\n            \t out.println(&quot;hello world data&quot;);\t    \r\n            \tHSSFRow row1 = sheet.createRow((short)i);\r\n            \trow1.createCell((short)0).setCellValue(rs.getString(&quot;name&quot;));\r\n           \t    row1.createCell((short)1).setCellValue(rs.getString(&quot;state&quot;));\r\n           \t row1.createCell((short)2).setCellValue(rs.getString(3));\r\n           \t row1.createCell((short)3).setCellValue(rs.getString(4));\r\n           \t i=i+1;\r\n            sheet.autoSizeColumn((short)1); \r\n           \r\n            }\r\n         \r\n           }\r\n          catch(SQLException e) {\r\n            out.println(&quot;SQLException caught: &quot; +e.getMessage());\r\n          }%&gt;\r\n        // create a small spreadsheet\r\n        &lt;%\r\n        \r\n        %&gt;\r\n        &lt;% \r\n        \r\n        ByteArrayOutputStream outByteStream = new ByteArrayOutputStream();\r\n        wb.write(outByteStream);\r\n        byte [] outArray = outByteStream.toByteArray();\r\n        response.setContentType(&quot;application/ms-excel&quot;);\r\n        response.setContentLength(outArray.length);\r\n        response.setHeader(&quot;Expires:&quot;, &quot;0&quot;); // eliminates browser caching\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=testxls.xls&quot;);\r\n        OutputStream outStream = response.getOutputStream();\r\n        outStream.write(outArray);\r\n        outStream.flush();\r\n        \r\n        %&gt;","title":"Apache POI - Working with XSSFWorkbok + servlet response","body":"<p>Use this JSP code and generate the excel file succesfully.I have given input to excel file through the database you can also give manual inputs.</p>\n\n<pre><code>&lt;%HSSFWorkbook wb = new HSSFWorkbook();\n    HSSFSheet sheet = wb.createSheet();\n       try {\n        java.sql.Connection con;\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/custinfo\",\"root\",\"abc\");\n            Statement st= con.createStatement(); \n            out.println(\"hello world\");\n        ResultSet rs=st.executeQuery(\"select name ,state ,balance,description from customerdata where customerid='\"+Id+\"'\"); \n\n        HSSFRow row = sheet.createRow((short)0);\n        row.createCell((short)0).setCellValue(\"NAME\");\n        row.createCell((short)1).setCellValue(\"STATE\");\n        row.createCell((short)2).setCellValue(\"BALANCE\");\n        row.createCell((short)3).setCellValue(\"DESCRIPTION\");\n        while(rs.next())\n        {\n             out.println(\"hello world data\");       \n            HSSFRow row1 = sheet.createRow((short)i);\n            row1.createCell((short)0).setCellValue(rs.getString(\"name\"));\n            row1.createCell((short)1).setCellValue(rs.getString(\"state\"));\n         row1.createCell((short)2).setCellValue(rs.getString(3));\n         row1.createCell((short)3).setCellValue(rs.getString(4));\n         i=i+1;\n        sheet.autoSizeColumn((short)1); \n\n        }\n\n       }\n      catch(SQLException e) {\n        out.println(\"SQLException caught: \" +e.getMessage());\n      }%&gt;\n    // create a small spreadsheet\n    &lt;%\n\n    %&gt;\n    &lt;% \n\n    ByteArrayOutputStream outByteStream = new ByteArrayOutputStream();\n    wb.write(outByteStream);\n    byte [] outArray = outByteStream.toByteArray();\n    response.setContentType(\"application/ms-excel\");\n    response.setContentLength(outArray.length);\n    response.setHeader(\"Expires:\", \"0\"); // eliminates browser caching\n    response.setHeader(\"Content-Disposition\", \"attachment; filename=testxls.xls\");\n    OutputStream outStream = response.getOutputStream();\n    outStream.write(outArray);\n    outStream.flush();\n\n    %&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2242938,"reputation":21,"user_id":1977008,"display_name":"user1977008"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594652149,"creation_date":1594652149,"answer_id":62878521,"question_id":15387243,"body_markdown":"I know this is a very old (6 years) but I made my way here after updating some old code to move from HSSF to XSSF, my issue was a missing jar xmlbeans-3.1.0.jar. The error was written to the TomCat localhost log &quot;java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject&quot;","title":"Apache POI - Working with XSSFWorkbok + servlet response","body":"<p>I know this is a very old (6 years) but I made my way here after updating some old code to move from HSSF to XSSF, my issue was a missing jar xmlbeans-3.1.0.jar. The error was written to the TomCat localhost log &quot;java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject&quot;</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649648134,"creation_date":1649647762,"answer_id":71822437,"question_id":15387243,"body_markdown":"`XSSFWprkbook` is `AutoCloseable` and its `close()` does some additional work.\r\nBest use _try-with-resources_ which ensures that close is always called event with exception or return inside the block.\r\n\r\n    ByteArrayOutputStream outByteStream = new ByteArrayOutputStream();\r\n    try (XSSFWorkbook wb = new XSSFWorkbook()) {\r\n        XSSFSheet sheet = wb.createSheet();\r\n        XSSFRow row = sheet.createRow(0);\r\n        XSSFCell cell = row.createCell(0);\r\n        cell.setCellValue(&quot;Some text&quot;);\r\n               \r\n        wb.write(outByteStream);\r\n    }\r\n    byte[] outArray = outByteStream.toByteArray();\r\n\r\n    OutputStream outStream = response.getOutputStream();\r\n    outStream.write(outArray);\r\n    outStream.flush();","title":"Apache POI - Working with XSSFWorkbok + servlet response","body":"<p><code>XSSFWprkbook</code> is <code>AutoCloseable</code> and its <code>close()</code> does some additional work.\nBest use <em>try-with-resources</em> which ensures that close is always called event with exception or return inside the block.</p>\n<pre><code>ByteArrayOutputStream outByteStream = new ByteArrayOutputStream();\ntry (XSSFWorkbook wb = new XSSFWorkbook()) {\n    XSSFSheet sheet = wb.createSheet();\n    XSSFRow row = sheet.createRow(0);\n    XSSFCell cell = row.createCell(0);\n    cell.setCellValue(&quot;Some text&quot;);\n           \n    wb.write(outByteStream);\n}\nbyte[] outArray = outByteStream.toByteArray();\n\nOutputStream outStream = response.getOutputStream();\noutStream.write(outArray);\noutStream.flush();\n</code></pre>\n"}],"owner":{"account_id":2387931,"reputation":61,"user_id":2088486,"display_name":"Lucas_Mux"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23579,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1663005635,"creation_date":1363182642,"question_id":15387243,"body_markdown":"I&#39;m having problems in my java application to enable downloading XLSX files.\r\n\r\nfollowing the example displayed in this link: https://stackoverflow.com/questions/11226603/create-an-excel-file-for-users-to-download-using-apache-poi-jsp, I tried two configurations to download/save a spreadsheet.\r\n\r\nFirst with a .XLS file:\r\n\r\n    response.setContentType(&quot;application/ms-excel&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=testxls.xls&quot;);\r\n\r\n    HSSFWorkbook wb = new HSSFWorkbook();\r\n    HSSFSheet sheet = wb.createSheet();\r\n    HSSFRow row = sheet.createRow(0);\r\n    HSSFCell cell = row.createCell(0);\r\n    cell.setCellValue(&quot;Some text&quot;);\r\n\r\n    ByteArrayOutputStream outByteStream = new ByteArrayOutputStream();\r\n    wb.write(outByteStream);\r\n\r\n    byte[] outArray = outByteStream.toByteArray();\r\n    OutputStream outStream = response.getOutputStream();\r\n    outStream.write(outArray);\r\n    outStream.flush();\r\n\r\nThis works.\r\n\r\nThen i tried with a XLSX file:\r\n\r\n    response.setContentType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=testxls.xlsx&quot;);\r\n\r\n    XSSFWorkbook wb = new XSSFWorkbook();\r\n    XSSFSheet sheet = wb.createSheet();\r\n    XSSFRow row = sheet.createRow(0);\r\n    XSSFCell cell = row.createCell(0);\r\n    cell.setCellValue(&quot;Some text&quot;);\r\n\r\n    ByteArrayOutputStream outByteStream = new ByteArrayOutputStream();\r\n    wb.write(outByteStream);\r\n\r\n    byte[] outArray = outByteStream.toByteArray();\r\n    OutputStream outStream = response.getOutputStream();\r\n    outStream.write(outArray);\r\n    outStream.flush();\r\n\r\nWhen i try this, i receive the message: &quot;**Excel found unreadable content in &#39;testxls.xlsx&#39;. Do you want to recover the contents of this workbook? ....**&quot;\r\n\r\nDespite this message, the spreadsheet opens normally, but i really want to remove this message.\r\n\r\nAny ideas?","title":"Apache POI - Working with XSSFWorkbok + servlet response","body":"<p>I'm having problems in my java application to enable downloading XLSX files.</p>\n\n<p>following the example displayed in this link: <a href=\"https://stackoverflow.com/questions/11226603/create-an-excel-file-for-users-to-download-using-apache-poi-jsp\">Create an excel file for users to download using Apache POI</a>, I tried two configurations to download/save a spreadsheet.</p>\n\n<p>First with a .XLS file:</p>\n\n<pre><code>response.setContentType(\"application/ms-excel\");\nresponse.setHeader(\"Content-Disposition\", \"attachment; filename=testxls.xls\");\n\nHSSFWorkbook wb = new HSSFWorkbook();\nHSSFSheet sheet = wb.createSheet();\nHSSFRow row = sheet.createRow(0);\nHSSFCell cell = row.createCell(0);\ncell.setCellValue(\"Some text\");\n\nByteArrayOutputStream outByteStream = new ByteArrayOutputStream();\nwb.write(outByteStream);\n\nbyte[] outArray = outByteStream.toByteArray();\nOutputStream outStream = response.getOutputStream();\noutStream.write(outArray);\noutStream.flush();\n</code></pre>\n\n<p>This works.</p>\n\n<p>Then i tried with a XLSX file:</p>\n\n<pre><code>response.setContentType(\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\nresponse.setHeader(\"Content-Disposition\", \"attachment; filename=testxls.xlsx\");\n\nXSSFWorkbook wb = new XSSFWorkbook();\nXSSFSheet sheet = wb.createSheet();\nXSSFRow row = sheet.createRow(0);\nXSSFCell cell = row.createCell(0);\ncell.setCellValue(\"Some text\");\n\nByteArrayOutputStream outByteStream = new ByteArrayOutputStream();\nwb.write(outByteStream);\n\nbyte[] outArray = outByteStream.toByteArray();\nOutputStream outStream = response.getOutputStream();\noutStream.write(outArray);\noutStream.flush();\n</code></pre>\n\n<p>When i try this, i receive the message: \"<strong>Excel found unreadable content in 'testxls.xlsx'. Do you want to recover the contents of this workbook? ....</strong>\"</p>\n\n<p>Despite this message, the spreadsheet opens normally, but i really want to remove this message.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","eclipse","gradle","noclassdeffounderror"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1663001744,"post_id":73691750,"comment_id":130131608,"body_markdown":"NoClassDefFoundError happens at runtime, so how are you launching your application? Also, are you using the Buildship plug-ins for integrating Gradle into Eclipse?","body":"NoClassDefFoundError happens at runtime, so how are you launching your application? Also, are you using the Buildship plug-ins for integrating Gradle into Eclipse?"},{"owner":{"account_id":22450657,"reputation":61,"user_id":16654025,"display_name":"Jigglypuffer"},"score":0,"creation_date":1663002821,"post_id":73691750,"comment_id":130131951,"body_markdown":"I run ./gradlew build in my project directory. I am not using Buildship.","body":"I run ./gradlew build in my project directory. I am not using Buildship."}],"answers":[{"tags":[],"owner":{"account_id":22450657,"reputation":61,"user_id":16654025,"display_name":"Jigglypuffer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663005498,"creation_date":1663005471,"answer_id":73693421,"question_id":73691750,"body_markdown":"@nitind helped. I focused upon runtime and found the problem was to do with my build.gradle file (even though the build was successful!). I changed it to this and the error has vanished:\r\n\r\n    buildscript {\r\n            repositories {\r\n                    mavenCentral()\r\n                    }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;org.spongepowered.plugin&#39; version &#39;0.9.0&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    \r\n    group = pluginGroup\r\n    version = pluginVersion\r\n    \r\n    sourceCompatibility = &#39;1.8&#39;\r\n    targetCompatibility = &#39;1.8&#39;\r\n    \r\n    dependencies {\r\n        compileOnly &#39;org.spongepowered:spongeapi:7.2.0&#39;\r\n        annotationProcessor &#39;org.spongepowered:spongeapi:7.2.0&#39;\r\n        compile &#39;org.apache.commons:commons-compress:1.21&#39;\r\n    }\r\n    \r\n    jar {\r\n            from configurations.compile.collect { zipTree it }\r\n    }\r\n    \r\n    sponge.plugin.id = pluginId","title":"Why am I getting &quot;java.lang.NoClassDefFoundError&quot; despite referencing the library in eclipse and specifying the dependency in build.gradle?","body":"<p>@nitind helped. I focused upon runtime and found the problem was to do with my build.gradle file (even though the build was successful!). I changed it to this and the error has vanished:</p>\n<pre><code>buildscript {\n        repositories {\n                mavenCentral()\n                }\n}\n\nplugins {\n    id 'org.spongepowered.plugin' version '0.9.0'\n}\n\napply plugin: 'java'\n\ngroup = pluginGroup\nversion = pluginVersion\n\nsourceCompatibility = '1.8'\ntargetCompatibility = '1.8'\n\ndependencies {\n    compileOnly 'org.spongepowered:spongeapi:7.2.0'\n    annotationProcessor 'org.spongepowered:spongeapi:7.2.0'\n    compile 'org.apache.commons:commons-compress:1.21'\n}\n\njar {\n        from configurations.compile.collect { zipTree it }\n}\n\nsponge.plugin.id = pluginId\n</code></pre>\n"}],"owner":{"account_id":22450657,"reputation":61,"user_id":16654025,"display_name":"Jigglypuffer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663005498,"creation_date":1662996949,"question_id":73691750,"body_markdown":"The error gets thrown for org/apache/commons/compress/archivers/tar/TarArchiveInputStream as seen [here][1].\r\n\r\n  [1]: https://i.stack.imgur.com/vEfgx.png\r\n\r\nI have referenced this library in eclipse (as seen [here][2])\r\n\r\n  [2]: https://i.stack.imgur.com/bas7q.png\r\n\r\nThe dependency has also been specified in build.gradle. The contents of the gradle file:\r\n\r\n    plugins {\r\n        id &#39;org.spongepowered.plugin&#39; version &#39;0.9.0&#39;\r\n    }\r\n    \r\n    group = pluginGroup\r\n    version = pluginVersion\r\n    \r\n    sourceCompatibility = &#39;1.8&#39;\r\n    targetCompatibility = &#39;1.8&#39;\r\n    \r\n    dependencies {\r\n        compileOnly &#39;org.spongepowered:spongeapi:7.2.0&#39;\r\n        annotationProcessor &#39;org.spongepowered:spongeapi:7.2.0&#39;\r\n        compile &#39;org.apache.commons:commons-compress:1.21&#39;\r\n    }\r\n    \r\n    sponge.plugin.id = pluginId\r\n\r\nEclipse also does not flag any errors. Lines of code such as `tarInput.getNextTarEntry()` appear in the correct colour with no red underlining, and eclipse even autocompletes the names of methods found in commons-compress. \r\n\r\nGiven eclipse *seems* to be working correctly with the dependency, and given that running `./gradlew build` leads to a successful build, I am therefore at a loss for why I am getting the `java.lang.NoClassDefFoundError` error.","title":"Why am I getting &quot;java.lang.NoClassDefFoundError&quot; despite referencing the library in eclipse and specifying the dependency in build.gradle?","body":"<p>The error gets thrown for org/apache/commons/compress/archivers/tar/TarArchiveInputStream as seen <a href=\"https://i.stack.imgur.com/vEfgx.png\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I have referenced this library in eclipse (as seen <a href=\"https://i.stack.imgur.com/bas7q.png\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>The dependency has also been specified in build.gradle. The contents of the gradle file:</p>\n<pre><code>plugins {\n    id 'org.spongepowered.plugin' version '0.9.0'\n}\n\ngroup = pluginGroup\nversion = pluginVersion\n\nsourceCompatibility = '1.8'\ntargetCompatibility = '1.8'\n\ndependencies {\n    compileOnly 'org.spongepowered:spongeapi:7.2.0'\n    annotationProcessor 'org.spongepowered:spongeapi:7.2.0'\n    compile 'org.apache.commons:commons-compress:1.21'\n}\n\nsponge.plugin.id = pluginId\n</code></pre>\n<p>Eclipse also does not flag any errors. Lines of code such as <code>tarInput.getNextTarEntry()</code> appear in the correct colour with no red underlining, and eclipse even autocompletes the names of methods found in commons-compress.</p>\n<p>Given eclipse <em>seems</em> to be working correctly with the dependency, and given that running <code>./gradlew build</code> leads to a successful build, I am therefore at a loss for why I am getting the <code>java.lang.NoClassDefFoundError</code> error.</p>\n"},{"tags":["java","sql","hibernate","oracle-sqldeveloper"],"comments":[{"owner":{"account_id":9155528,"reputation":31517,"user_id":6808583,"accept_rate":60,"display_name":"Zaynul Abadin Tuhin"},"score":0,"creation_date":1662454682,"post_id":73619164,"comment_id":130003207,"body_markdown":"share your expected result","body":"share your expected result"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662455636,"creation_date":1662454766,"answer_id":73619334,"question_id":73619164,"body_markdown":"I think you are looking for [group by][1]. The query will look like this:\r\n```\r\nSELECT name, COUNT(name) AS popularity \r\nFROM test \r\nGROUP BY NAME \r\nORDER BY popularity DESC\r\n```\r\nThe jpql should be like this:\r\n```\r\n@Query(&quot;SELECT t.name AS name, COUNT(t.name) AS popularity FROM Test t GROUP BY t.name ORDER BY popularity DESC&quot;)\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javadb/10.8.3.0/ref/rrefsqlj32654.html","title":"Complex SQL Query For Counting and Listing","body":"<p>I think you are looking for <a href=\"https://docs.oracle.com/javadb/10.8.3.0/ref/rrefsqlj32654.html\" rel=\"nofollow noreferrer\">group by</a>. The query will look like this:</p>\n<pre><code>SELECT name, COUNT(name) AS popularity \nFROM test \nGROUP BY NAME \nORDER BY popularity DESC\n</code></pre>\n<p>The jpql should be like this:</p>\n<pre><code>@Query(&quot;SELECT t.name AS name, COUNT(t.name) AS popularity FROM Test t GROUP BY t.name ORDER BY popularity DESC&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22287407,"reputation":83,"user_id":16514821,"display_name":"user16514821"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663005343,"creation_date":1662455805,"answer_id":73619543,"question_id":73619164,"body_markdown":"I think &#39;DISTINCT&#39; will help you.\r\n\r\nExample -\r\n\r\n    SELECT DISTINCT NAME, COUNT(ID) as ID_COUNT FROM TABLE GROUP BY NAME ORDER BY ID and use `asc` or `desc` as your requirement.\r\n\r\n`DISTINCT` - will give you unique name\r\n`COUNT(ID)` - Will give you count of id&#39;s.","title":"Complex SQL Query For Counting and Listing","body":"<p>I think 'DISTINCT' will help you.</p>\n<p>Example -</p>\n<pre><code>SELECT DISTINCT NAME, COUNT(ID) as ID_COUNT FROM TABLE GROUP BY NAME ORDER BY ID and use `asc` or `desc` as your requirement.\n</code></pre>\n<p><code>DISTINCT</code> - will give you unique name\n<code>COUNT(ID)</code> - Will give you count of id's.</p>\n"},{"tags":[],"owner":{"account_id":9424381,"reputation":62,"user_id":7009850,"display_name":"neha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662457308,"creation_date":1662457308,"answer_id":73619897,"question_id":73619164,"body_markdown":"you can use **group by** for counting popularity and **distinct** for unique names\r\n\r\n    select distinct name, count(id) as pop from test group by name order by pop desc;\r\n","title":"Complex SQL Query For Counting and Listing","body":"<p>you can use <strong>group by</strong> for counting popularity and <strong>distinct</strong> for unique names</p>\n<pre><code>select distinct name, count(id) as pop from test group by name order by pop desc;\n</code></pre>\n"}],"owner":{"account_id":13902802,"reputation":275,"user_id":10038004,"display_name":"meursault"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73619334,"answer_count":3,"score":1,"last_activity_date":1663005343,"creation_date":1662453946,"question_id":73619164,"body_markdown":"I need to write complex sql for counting distinct names popularity and sorting them with descending order. I&#39;ll do this with hibernate @Query(&quot;SELECT * FROM ...&quot;) parameter. First I tried to do it on SQL then implement it to my spring boot project but I&#39;m stuck while writing it.\r\n\r\n```\r\nSELECT\r\n    f.Name,\r\n    COUNT(SELECT * FROM Family g WHERE g.Name WHERE ???) AS numberOfCount\r\n\r\nFROM Family AS f\r\nORDER BY numberOfCount\r\n\r\n```\r\n\r\n```\r\nid  | Name     | Surname | \r\n--------------------------\r\n1   | John     | Smith   | \r\n2   | Mary     | Smith   | \r\n3   | John     | Dawson  | \r\n4   | Lisa     | Smith   | \r\n5   | Lisa     | Dawson  | \r\n6   | Jack     | Smith   |\r\n7   | John     | Smith   | \r\n```\r\n\r\nSorted version:\r\n```\r\n Name    | Popularity\r\n--------------------------\r\n| John   |  3\r\n| Lisa   |  2\r\n| Mary   |  1\r\n| Jack   |  1\r\n```\r\n","title":"Complex SQL Query For Counting and Listing","body":"<p>I need to write complex sql for counting distinct names popularity and sorting them with descending order. I'll do this with hibernate @Query(&quot;SELECT * FROM ...&quot;) parameter. First I tried to do it on SQL then implement it to my spring boot project but I'm stuck while writing it.</p>\n<pre><code>SELECT\n    f.Name,\n    COUNT(SELECT * FROM Family g WHERE g.Name WHERE ???) AS numberOfCount\n\nFROM Family AS f\nORDER BY numberOfCount\n\n</code></pre>\n<pre><code>id  | Name     | Surname | \n--------------------------\n1   | John     | Smith   | \n2   | Mary     | Smith   | \n3   | John     | Dawson  | \n4   | Lisa     | Smith   | \n5   | Lisa     | Dawson  | \n6   | Jack     | Smith   |\n7   | John     | Smith   | \n</code></pre>\n<p>Sorted version:</p>\n<pre><code> Name    | Popularity\n--------------------------\n| John   |  3\n| Lisa   |  2\n| Mary   |  1\n| Jack   |  1\n</code></pre>\n"},{"tags":["java","spring","mongodb","rest","http"],"answers":[{"tags":[],"owner":{"account_id":2114518,"reputation":352,"user_id":1879103,"display_name":"Guo Song"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427709815,"creation_date":1427709815,"answer_id":29343370,"question_id":29343184,"body_markdown":"What is your requested url?\r\n\r\nI think your servlet-mapping part has some problem, you can change to:\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;","title":"HTTP Status 404 description The requested resource is not available","body":"<p>What is your requested url?</p>\n\n<p>I think your servlet-mapping part has some problem, you can change to:</p>\n\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5800829,"reputation":193,"user_id":4575057,"accept_rate":54,"display_name":"aayush_v20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427870760,"creation_date":1427870760,"answer_id":29384483,"question_id":29343184,"body_markdown":"Turns out I was missing some jars (although no error was being reported) which on placing into the m2 repository solved the problem. ","title":"HTTP Status 404 description The requested resource is not available","body":"<p>Turns out I was missing some jars (although no error was being reported) which on placing into the m2 repository solved the problem. </p>\n"}],"owner":{"account_id":5800829,"reputation":193,"user_id":4575057,"accept_rate":54,"display_name":"aayush_v20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663003835,"creation_date":1427709278,"question_id":29343184,"body_markdown":"I am performing CRUD operations on MongoDB using SPRING REST api. But I am getting the following HTTP error: \r\n\r\n    HTTP Status 404 -\r\n\r\n    type: Status report\r\n\r\n    message\r\n\r\n    description: The requested resource is not available.\r\n\r\nMy start default page (basically a simple welcome page) is working fine but when I click on a link in my page to redirect me to another page (where i perform the crud operations) then it shows this error. \r\n\r\nHere&#39;s my **pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n\thttp://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.manishchhabra.blog&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;HelloSpringWithMongoDB&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;HelloSpringWithMongoDB Maven Webapp&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.5.RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;HelloSpringWithMongoDB&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nHeres my **web.xml**\r\n\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \r\n\t     http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n\tversion=&quot;2.5&quot;&gt;\r\n\r\n\t&lt;display-name&gt;Spring With MongoDB Web Application&lt;/display-name&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n            /WEB-INF/dispatcher-servlet.xml\r\n        &lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n\r\n    &lt;/web-app&gt;\r\n\r\n\r\nHere&#39;s my **dispatcher-servelet.xml** (WEB_INF/jsp/dispatcher-servelet.xml)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\txsi:schemaLocation=&quot;\r\n       http://www.springframework.org/schema/beans \r\n       http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n\t   http://www.springframework.org/schema/context \r\n\t   http://www.springframework.org/schema/context/spring-context-3.2.xsd&quot;&gt;\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.manishchhabra.blog&quot; /&gt;\r\n\r\n\t&lt;!-- Factory bean that creates the Mongo instance --&gt;\r\n\t&lt;bean id=&quot;mongo&quot; class=&quot;org.springframework.data.mongodb.core.MongoFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;host&quot; value=&quot;localhost&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- MongoTemplate for connecting and querying the documents in the database --&gt;\r\n\t&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;mongo&quot; ref=&quot;mongo&quot; /&gt;\r\n\t\t&lt;constructor-arg name=&quot;databaseName&quot; value=&quot;test&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- Use this post processor to translate any MongoExceptions thrown in \r\n\t\t@Repository annotated classes --&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot; /&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;jspViewResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n\t\tp:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nI am using Tomcat v7.0 to run this on local server. The link for the entire code is this: \r\n[tutorial for the code][1]\r\n\r\nI have tried for days to remove this error. Kindly help me out.\r\n\r\n\r\n  [1]: http://blog.manishchhabra.com/2013/04/spring-data-mongodb-example-with-spring-mvc-3-2/\r\n\r\n**EDIT:** There are no errors being shown in the log. But for reference heres the log: \r\n\r\n    Mar 30, 2015 3:17:32 PM org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /Users/avarshney/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n    Mar 30, 2015 3:17:32 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:HelloSpringWithMongoDB&#39; did not find a matching property.\r\n    Mar 30, 2015 3:17:33 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8081&quot;]\r\n    Mar 30, 2015 3:17:33 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Mar 30, 2015 3:17:33 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 1367 ms\r\n    Mar 30, 2015 3:17:33 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Mar 30, 2015 3:17:33 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.34\r\n    Mar 30, 2015 3:17:37 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: No Spring WebApplicationInitializer types detected on classpath\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Mar 30, 2015 3:17:37 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring root WebApplicationContext\r\n    Mar 30, 2015 3:17:38 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring FrameworkServlet &#39;dispatcher&#39;\r\n    Mar 30, 2015 3:17:38 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8081&quot;]\r\n    Mar 30, 2015 3:17:38 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Mar 30, 2015 3:17:38 PM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 5452 ms","title":"HTTP Status 404 description The requested resource is not available","body":"<p>I am performing CRUD operations on MongoDB using SPRING REST api. But I am getting the following HTTP error:</p>\n<pre><code>HTTP Status 404 -\n\ntype: Status report\n\nmessage\n\ndescription: The requested resource is not available.\n</code></pre>\n<p>My start default page (basically a simple welcome page) is working fine but when I click on a link in my page to redirect me to another page (where i perform the crud operations) then it shows this error.</p>\n<p>Here's my <strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.manishchhabra.blog&lt;/groupId&gt;\n&lt;artifactId&gt;HelloSpringWithMongoDB&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;HelloSpringWithMongoDB Maven Webapp&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;4.1.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.1.5.RELEASE&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.6.RELEASE&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;finalName&gt;HelloSpringWithMongoDB&lt;/finalName&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Heres my <strong>web.xml</strong></p>\n<pre><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \n     http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\nversion=&quot;2.5&quot;&gt;\n\n&lt;display-name&gt;Spring With MongoDB Web Application&lt;/display-name&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n        /WEB-INF/dispatcher-servlet.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n\n&lt;/web-app&gt;\n</code></pre>\n<p>Here's my <strong>dispatcher-servelet.xml</strong> (WEB_INF/jsp/dispatcher-servelet.xml)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\nxmlns:p=&quot;http://www.springframework.org/schema/p&quot;\nxsi:schemaLocation=&quot;\n   http://www.springframework.org/schema/beans \n   http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n   http://www.springframework.org/schema/context \n   http://www.springframework.org/schema/context/spring-context-3.2.xsd&quot;&gt;\n\n&lt;context:component-scan base-package=&quot;com.manishchhabra.blog&quot; /&gt;\n\n&lt;!-- Factory bean that creates the Mongo instance --&gt;\n&lt;bean id=&quot;mongo&quot; class=&quot;org.springframework.data.mongodb.core.MongoFactoryBean&quot;&gt;\n    &lt;property name=&quot;host&quot; value=&quot;localhost&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;!-- MongoTemplate for connecting and querying the documents in the database --&gt;\n&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\n    &lt;constructor-arg name=&quot;mongo&quot; ref=&quot;mongo&quot; /&gt;\n    &lt;constructor-arg name=&quot;databaseName&quot; value=&quot;test&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;!-- Use this post processor to translate any MongoExceptions thrown in \n    @Repository annotated classes --&gt;\n&lt;bean\n    class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot; /&gt;\n\n\n&lt;bean id=&quot;jspViewResolver&quot;\n    class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\n    p:prefix=&quot;/WEB-INF/jsp/&quot; p:suffix=&quot;.jsp&quot; /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>I am using Tomcat v7.0 to run this on local server. The link for the entire code is this:\n<a href=\"http://blog.manishchhabra.com/2013/04/spring-data-mongodb-example-with-spring-mvc-3-2/\" rel=\"nofollow noreferrer\">tutorial for the code</a></p>\n<p>I have tried for days to remove this error. Kindly help me out.</p>\n<p><strong>EDIT:</strong> There are no errors being shown in the log. But for reference heres the log:</p>\n<pre><code>Mar 30, 2015 3:17:32 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /Users/avarshney/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\nMar 30, 2015 3:17:32 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:HelloSpringWithMongoDB' did not find a matching property.\nMar 30, 2015 3:17:33 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-bio-8081&quot;]\nMar 30, 2015 3:17:33 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\nMar 30, 2015 3:17:33 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 1367 ms\nMar 30, 2015 3:17:33 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nMar 30, 2015 3:17:33 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.34\nMar 30, 2015 3:17:37 PM org.apache.catalina.core.ApplicationContext log\nINFO: No Spring WebApplicationInitializer types detected on classpath\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nMar 30, 2015 3:17:37 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring root WebApplicationContext\nMar 30, 2015 3:17:38 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring FrameworkServlet 'dispatcher'\nMar 30, 2015 3:17:38 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;http-bio-8081&quot;]\nMar 30, 2015 3:17:38 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\nMar 30, 2015 3:17:38 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 5452 ms\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"score":0,"creation_date":1431322055,"post_id":30144366,"comment_id":48427303,"body_markdown":"the `mongo-client` XML element has been introduced in `spring-data-mongodb:1.7.0` and can therefore not be used with `1.4.1`","body":"the <code>mongo-client</code> XML element has been introduced in <code>spring-data-mongodb:1.7.0</code> and can therefore not be used with <code>1.4.1</code>"},{"owner":{"account_id":4711099,"reputation":207,"user_id":3811586,"accept_rate":55,"display_name":"Archit"},"score":0,"creation_date":1431366874,"post_id":30144366,"comment_id":48454862,"body_markdown":"@ChristophStrobl Thanks for your reply I have already fixed this issue with the same solution that you have suggested. And I also had to update to spring 4.","body":"@ChristophStrobl Thanks for your reply I have already fixed this issue with the same solution that you have suggested. And I also had to update to spring 4."}],"answers":[{"tags":[],"owner":{"account_id":4711099,"reputation":207,"user_id":3811586,"accept_rate":55,"display_name":"Archit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431367047,"creation_date":1431367047,"answer_id":30174463,"question_id":30144366,"body_markdown":"It was my mistake mongo-client is available in spring-data-mongodb:1.7.0 and I was using 1.4.1 and after updating spring data I had to update my spring to 4 due to some unresolved dependencies. Now it is working fine. :-)\r\n","title":"MongoDB 3.0 connection and authentication using spring data 1.4.1.RELEASE","body":"<p>It was my mistake mongo-client is available in spring-data-mongodb:1.7.0 and I was using 1.4.1 and after updating spring data I had to update my spring to 4 due to some unresolved dependencies. Now it is working fine. :-)</p>\n"}],"owner":{"account_id":4711099,"reputation":207,"user_id":3811586,"accept_rate":55,"display_name":"Archit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4042,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1663003754,"creation_date":1431201159,"question_id":30144366,"body_markdown":"I am facing issue in connecting to mongodb 3.0 using spring data if I am using `&lt;mongo:mongo …​ /&gt;` tag then it is showing issue with authentication failure message when my application queries the database and if I am using `&lt;mongo:mongo-client …​ /&gt;` and `&lt;mongo:client-options …​ /&gt;` then my application gives SAX exception in my mongoDb xml config file. And one more thing I would like to mention here is we are using replica set in mongodb.\r\n\r\nKindly suggest some solution for this problem. \r\n\r\nThanks in advance.\r\n\r\n\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txmlns:mongo=&quot;http://www.springframework.org/schema/data/mongo&quot;\r\n\t\txsi:schemaLocation=&quot;http://www.springframework.org/schema/data/mongo http://www.springframework.org/schema/data/mongo/spring-mongo.xsd\r\n\t\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n\r\n\t\t&lt;!-- &lt;context:property-placeholder location=&quot;classpath:mongo.properties&quot; /&gt; --&gt;\r\n\t\t&lt;mongo:mongo-client id=&quot;mongo&quot;  replica-set=&quot;xxx.xx.x.xx:27017,xxx.xx.x.xx::27017&quot; credentials=&quot;admin:abc_123@xyz&quot;&gt;\r\n\t\t\t&lt;mongo:client-options write-concern=&quot;NONE&quot;\r\n\t\t\t\tconnections-per-host=&quot;10&quot;            \r\n\t\t\t\t connect-timeout=&quot;30000&quot;\r\n\t\t\t\t max-wait-time=&quot;10000&quot;  \r\n\t\t\t/&gt;\r\n\t\t&lt;/mongo:mongo-client&gt;\r\n\t\t\r\n\t\t&lt;!-- MongoTemplate for connecting and querying the documents in the database --&gt;  \r\n\t\t&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n\t\t\t&lt;constructor-arg ref=&quot;mongo&quot;/&gt;\r\n\t\t\t&lt;constructor-arg name=&quot;databaseName&quot; value=&quot;xyz&quot;/&gt;\t\t\t\r\n\t\t &lt;/bean&gt;\t\t\r\n\t&lt;/beans&gt;","title":"MongoDB 3.0 connection and authentication using spring data 1.4.1.RELEASE","body":"<p>I am facing issue in connecting to mongodb 3.0 using spring data if I am using <code>&lt;mongo:mongo …​ /&gt;</code> tag then it is showing issue with authentication failure message when my application queries the database and if I am using <code>&lt;mongo:mongo-client …​ /&gt;</code> and <code>&lt;mongo:client-options …​ /&gt;</code> then my application gives SAX exception in my mongoDb xml config file. And one more thing I would like to mention here is we are using replica set in mongodb.</p>\n<p>Kindly suggest some solution for this problem.</p>\n<p>Thanks in advance.</p>\n<pre><code>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:mongo=&quot;http://www.springframework.org/schema/data/mongo&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/data/mongo http://www.springframework.org/schema/data/mongo/spring-mongo.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;!-- &lt;context:property-placeholder location=&quot;classpath:mongo.properties&quot; /&gt; --&gt;\n    &lt;mongo:mongo-client id=&quot;mongo&quot;  replica-set=&quot;xxx.xx.x.xx:27017,xxx.xx.x.xx::27017&quot; credentials=&quot;admin:abc_123@xyz&quot;&gt;\n        &lt;mongo:client-options write-concern=&quot;NONE&quot;\n            connections-per-host=&quot;10&quot;            \n             connect-timeout=&quot;30000&quot;\n             max-wait-time=&quot;10000&quot;  \n        /&gt;\n    &lt;/mongo:mongo-client&gt;\n    \n    &lt;!-- MongoTemplate for connecting and querying the documents in the database --&gt;  \n    &lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\n        &lt;constructor-arg ref=&quot;mongo&quot;/&gt;\n        &lt;constructor-arg name=&quot;databaseName&quot; value=&quot;xyz&quot;/&gt;          \n     &lt;/bean&gt;        \n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger"],"comments":[{"owner":{"account_id":5583238,"reputation":1337,"user_id":4424515,"accept_rate":77,"display_name":"Chol Nhial"},"score":0,"creation_date":1663044329,"post_id":73693082,"comment_id":130140140,"body_markdown":"What error message are you getting when you visit: `http://localhost:8080/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config`","body":"What error message are you getting when you visit: <code>http:&#47;&#47;localhost:8080&#47;swagger-ui&#47;index.html?configUrl=&#47;v3&#47;ap&zwnj;&#8203;i-docs&#47;swagger-confi&zwnj;&#8203;g</code>"}],"owner":{"account_id":24734548,"reputation":31,"user_id":18622100,"display_name":"Topdev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1663003751,"creation_date":1663003751,"question_id":73693082,"body_markdown":"I used spring boot swagger in my project.\r\nI added all the dependencies(swagger 3.0) and configuration file in my project.\r\nThe project only contains simple routing, swagger dependency and configuration file works well and shows apis.\r\nBut whenever I try to append these dependencies and configuration files to other project, it does not work at all.\r\nThe Spring Boot version is the same in both projects(2.2.6.RELEASE).\r\nSo it does not related to Spring boot version.\r\nI think there is other problem for that.\r\nPlease let me know the possible cases.","title":"Springboot swagger url does not work and shows WhiteLabel Error page","body":"<p>I used spring boot swagger in my project.\nI added all the dependencies(swagger 3.0) and configuration file in my project.\nThe project only contains simple routing, swagger dependency and configuration file works well and shows apis.\nBut whenever I try to append these dependencies and configuration files to other project, it does not work at all.\nThe Spring Boot version is the same in both projects(2.2.6.RELEASE).\nSo it does not related to Spring boot version.\nI think there is other problem for that.\nPlease let me know the possible cases.</p>\n"},{"tags":["java","spring-security","ldap","apacheds"],"answers":[{"tags":[],"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1663003722,"creation_date":1391021621,"answer_id":21440021,"question_id":21341729,"body_markdown":"Your question seems to be &quot;How do I debug this&quot;. Ideally you should provide some more information on what you mean by &quot;it doesn&#39;t do anything&quot;, but for debugging, Spring Security&#39;s standard debug output should tell you what&#39;s happening, and ApacheDS should also indicate whether it receives a request or not. Both use standard Java logging mechanisms. You can use the [logback configuration file from the Spring Security LDAP sample](https://github.com/spring-projects/spring-security/blob/master/samples/xml/ldap/src/main/resources/logback.xml) as an example (you can change it to DEBUG level if needed). In fact modifying that sample to work with your directory structure would probably be a good idea, first making sure that you can run it as it stands.\r\n\r\nI always suggest writing a test class for something like this before trying to deploy an app - see the [FAQ](https://docs.spring.io/spring-security/site/docs/current/reference/html/appendix-faq.html#appendix-faq-ldap-authentication) for an example - you can debug that in your IDE.\r\n\r\nIf you really want to work out what is being sent to the directory, you can monitor the network traffic directly using a utility like `tcpdump`. Something like:\r\n\r\n    sudo tcpdump -A -i lo0 tcp port 389\r\n\r\nwill log TCP traffic to port 389 to the console.\r\n\r\nOne thing that does appear to be wrong with your build configuration is that you have a different version for the `spring-security-ldap` dependency than for the other spring-security jars. These should all be the same. Use a maven property to prevent errors like this and check your classpath (lib directory) to make sure you don&#39;t have any duplicate jars or inconsistent versions.","title":"Spring Security + Ldap. Cannot debug","body":"<p>Your question seems to be &quot;How do I debug this&quot;. Ideally you should provide some more information on what you mean by &quot;it doesn't do anything&quot;, but for debugging, Spring Security's standard debug output should tell you what's happening, and ApacheDS should also indicate whether it receives a request or not. Both use standard Java logging mechanisms. You can use the <a href=\"https://github.com/spring-projects/spring-security/blob/master/samples/xml/ldap/src/main/resources/logback.xml\" rel=\"nofollow noreferrer\">logback configuration file from the Spring Security LDAP sample</a> as an example (you can change it to DEBUG level if needed). In fact modifying that sample to work with your directory structure would probably be a good idea, first making sure that you can run it as it stands.</p>\n<p>I always suggest writing a test class for something like this before trying to deploy an app - see the <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/appendix-faq.html#appendix-faq-ldap-authentication\" rel=\"nofollow noreferrer\">FAQ</a> for an example - you can debug that in your IDE.</p>\n<p>If you really want to work out what is being sent to the directory, you can monitor the network traffic directly using a utility like <code>tcpdump</code>. Something like:</p>\n<pre><code>sudo tcpdump -A -i lo0 tcp port 389\n</code></pre>\n<p>will log TCP traffic to port 389 to the console.</p>\n<p>One thing that does appear to be wrong with your build configuration is that you have a different version for the <code>spring-security-ldap</code> dependency than for the other spring-security jars. These should all be the same. Use a maven property to prevent errors like this and check your classpath (lib directory) to make sure you don't have any duplicate jars or inconsistent versions.</p>\n"}],"owner":{"account_id":2783657,"reputation":109,"user_id":2395647,"accept_rate":100,"display_name":"Fidel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8014,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21440021,"answer_count":1,"score":0,"last_activity_date":1663003722,"creation_date":1390594677,"question_id":21341729,"body_markdown":"I am trying to learn ldap + spring security.  I have setup a Local Dev with an Apache DS.\r\n\r\n\r\nI got to the point that it will compile and run without errors but when i try to log in it doesn&#39;t do anything and I don&#39;t have any error messages to go by.  I can&#39;t even tell if DS is getting the request.\r\n\r\n\r\n**If anyone has advice on de-bugging this or can see the issue that would be great.**\r\n\r\nJSP:\r\n\r\n    &lt;form action=&quot;/j_spring_security_check.action&quot; method=&quot;POST&quot;&gt;\r\n        &lt;span&gt;&lt;label for=&quot;username&quot;&gt;User Name:&lt;/label&gt;\r\n        &lt;input id=&quot;username&quot; name=&quot;j_username&quot; type=&quot;text&quot;/&gt;&lt;/span&gt;\r\n        &lt;span&gt;&lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\r\n        &lt;input id=&quot;password&quot; name=&quot;j_password&quot; type=&quot;password&quot;/&gt;&lt;/span&gt;\r\n        &lt;span&gt;&lt;input type=&quot;submit&quot; value=&quot;Log In&quot;/&gt;&lt;/span&gt;\r\n    &lt;/form&gt;\r\n\r\nApplication context:\r\n\r\n    &lt;bean id=&quot;contextSource&quot;\r\n              class=&quot;org.springframework.security.ldap.DefaultSpringSecurityContextSource&quot;&gt;\r\n            &lt;constructor-arg value=&quot;ldap://localhost:389/dc=example,dc=com&quot;/&gt;\r\n            &lt;property name=&quot;userDn&quot; value=&quot;cn=system,dc=example,dc=com&quot;/&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;password&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;ldapAuthProvider&quot;\r\n              class=&quot;org.springframework.security.ldap.authentication.LdapAuthenticationProvider&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean class=&quot;org.springframework.security.ldap.authentication.BindAuthenticator&quot;&gt;\r\n                    &lt;constructor-arg ref=&quot;contextSource&quot;/&gt;\r\n                    &lt;property name=&quot;userDnPatterns&quot;&gt;&lt;list&gt;&lt;value&gt;uid={0},ou=system&lt;/value&gt;&lt;/list&gt;&lt;/property&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/constructor-arg&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean class=&quot;org.springframework.security.ldap.userdetails.DefaultLdapAuthoritiesPopulator&quot;&gt;\r\n                    &lt;constructor-arg ref=&quot;contextSource&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;ou=system&quot;/&gt;\r\n                    &lt;property name=&quot;groupRoleAttribute&quot; value=&quot;ou&quot;/&gt;\r\n                    &lt;property name=&quot;defaultRole&quot; value=&quot;ROLE_ADMIN&quot;/&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/constructor-arg&gt;\r\n    \r\n        &lt;/bean&gt;\r\n\r\n\r\n\r\nspring-secuirty:\r\n\r\n    &lt;http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\r\n            &lt;intercept-url pattern=&quot;/noSecurityJSP/**&quot; access=&quot;permitAll()&quot;/&gt;\r\n            &lt;intercept-url pattern=&quot;/login*&quot; access=&quot;permitAll()&quot;/&gt;\r\n            &lt;intercept-url pattern=&quot;/resources/**&quot; access=&quot;permitAll()&quot;/&gt;\r\n            &lt;intercept-url pattern=&quot;/**&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n    \r\n            &lt;form-login\r\n                    login-page=&quot;/login.htm&quot;\r\n                    login-processing-url=&quot;/j_spring_security_check.action&quot;\r\n                    authentication-failure-url=&quot;/splash_page.htm?error=true&quot;\r\n                    default-target-url=&quot;/welcomePage.htm&quot;\r\n                    always-use-default-target=&quot;true&quot;/&gt;\r\n        &lt;/http&gt;\r\n    \r\n    \r\n    \r\n        &lt;authentication-manager&gt;\r\n            &lt;authentication-provider ref=&#39;ldapAuthProvider&#39;/&gt;\r\n        &lt;/authentication-manager&gt;\r\n\r\n\r\n\r\nSpring Maven dependancies:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\r\n\r\n\r\nPic of LDAP\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/r9X7P.png","title":"Spring Security + Ldap. Cannot debug","body":"<p>I am trying to learn ldap + spring security.  I have setup a Local Dev with an Apache DS.</p>\n\n<p>I got to the point that it will compile and run without errors but when i try to log in it doesn't do anything and I don't have any error messages to go by.  I can't even tell if DS is getting the request.</p>\n\n<p><strong>If anyone has advice on de-bugging this or can see the issue that would be great.</strong></p>\n\n<p>JSP:</p>\n\n<pre><code>&lt;form action=\"/j_spring_security_check.action\" method=\"POST\"&gt;\n    &lt;span&gt;&lt;label for=\"username\"&gt;User Name:&lt;/label&gt;\n    &lt;input id=\"username\" name=\"j_username\" type=\"text\"/&gt;&lt;/span&gt;\n    &lt;span&gt;&lt;label for=\"password\"&gt;Password:&lt;/label&gt;\n    &lt;input id=\"password\" name=\"j_password\" type=\"password\"/&gt;&lt;/span&gt;\n    &lt;span&gt;&lt;input type=\"submit\" value=\"Log In\"/&gt;&lt;/span&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Application context:</p>\n\n<pre><code>&lt;bean id=\"contextSource\"\n          class=\"org.springframework.security.ldap.DefaultSpringSecurityContextSource\"&gt;\n        &lt;constructor-arg value=\"ldap://localhost:389/dc=example,dc=com\"/&gt;\n        &lt;property name=\"userDn\" value=\"cn=system,dc=example,dc=com\"/&gt;\n        &lt;property name=\"password\" value=\"password\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"ldapAuthProvider\"\n          class=\"org.springframework.security.ldap.authentication.LdapAuthenticationProvider\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean class=\"org.springframework.security.ldap.authentication.BindAuthenticator\"&gt;\n                &lt;constructor-arg ref=\"contextSource\"/&gt;\n                &lt;property name=\"userDnPatterns\"&gt;&lt;list&gt;&lt;value&gt;uid={0},ou=system&lt;/value&gt;&lt;/list&gt;&lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/constructor-arg&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean class=\"org.springframework.security.ldap.userdetails.DefaultLdapAuthoritiesPopulator\"&gt;\n                &lt;constructor-arg ref=\"contextSource\"/&gt;\n                &lt;constructor-arg value=\"ou=system\"/&gt;\n                &lt;property name=\"groupRoleAttribute\" value=\"ou\"/&gt;\n                &lt;property name=\"defaultRole\" value=\"ROLE_ADMIN\"/&gt;\n            &lt;/bean&gt;\n        &lt;/constructor-arg&gt;\n\n    &lt;/bean&gt;\n</code></pre>\n\n<p>spring-secuirty:</p>\n\n<pre><code>&lt;http auto-config=\"true\" use-expressions=\"true\"&gt;\n        &lt;intercept-url pattern=\"/noSecurityJSP/**\" access=\"permitAll()\"/&gt;\n        &lt;intercept-url pattern=\"/login*\" access=\"permitAll()\"/&gt;\n        &lt;intercept-url pattern=\"/resources/**\" access=\"permitAll()\"/&gt;\n        &lt;intercept-url pattern=\"/**\" access=\"isAuthenticated()\"/&gt;\n\n        &lt;form-login\n                login-page=\"/login.htm\"\n                login-processing-url=\"/j_spring_security_check.action\"\n                authentication-failure-url=\"/splash_page.htm?error=true\"\n                default-target-url=\"/welcomePage.htm\"\n                always-use-default-target=\"true\"/&gt;\n    &lt;/http&gt;\n\n\n\n    &lt;authentication-manager&gt;\n        &lt;authentication-provider ref='ldapAuthProvider'/&gt;\n    &lt;/authentication-manager&gt;\n</code></pre>\n\n<p>Spring Maven dependancies:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2.RELEASE&lt;/version&gt;\n</code></pre>\n\n<p>Pic of LDAP\n<img src=\"https://i.stack.imgur.com/r9X7P.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1663002849,"post_id":73692884,"comment_id":130131958,"body_markdown":"Why not try it out?","body":"Why not try it out?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1663003062,"post_id":73692884,"comment_id":130132023,"body_markdown":"What&#39;s the question? Can you specify what exactly you&#39;re straggling to understand?","body":"What&#39;s the question? Can you specify what exactly you&#39;re straggling to understand?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1663003791,"post_id":73692884,"comment_id":130132265,"body_markdown":"Using a custom class as key in a Map has been [addressed many times already](https://duckduckgo.com/?q=site%3Astackoverflow.com+java+custom+class+as+key+in+map&amp;t=ipad&amp;ia=web). Search before posting.","body":"Using a custom class as key in a Map has been <a href=\"https://duckduckgo.com/?q=site%3Astackoverflow.com+java+custom+class+as+key+in+map&amp;t=ipad&amp;ia=web\" rel=\"nofollow noreferrer\">addressed many times already</a>. Search before posting."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663003676,"creation_date":1663003676,"answer_id":73693069,"question_id":73692884,"body_markdown":"Yes, _if_ you set up the `Employee` class correctly. That list of things you posted is what you &#39;prove&#39; by being able to do this.\r\n\r\nThe [javadoc of `Object.equals`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) and the [javadoc of `Object.hashCode`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()) list all sorts of caveats, such as: equality must be _reflexive_ (that&#39;s just one of many).\r\n\r\nIf you adhere to all of these caveats, then you can use a class as keys in a hashmap.\r\n\r\nIt seems fairly clear, given that you&#39;ve asked this question in this fashion, that,\r\n\r\n[A] you don&#39;t know about this stuff, and\r\n[B] it&#39;s part of a study requirement or job application.\r\n\r\nThe conclusion is fairly simple: _right now_, you fail at this task - you don&#39;t know about any of this. Fortunately, the bulleted list, along with the documentation of equals and hashCode as linked above, gives you the perfect opportunity to fix that. Start experimenting! Write a class, and start implementing hashCode and equals, and see what happens. Do the things the bullets describe (implements equals but not hashcode and see what happens when you create 2 seemingly identical Employee objects and note how you can then add both to a hashmap, breaking the rule that identical &#39;keys&#39; override each other).\r\n\r\nOne thing to keep in mind:\r\n\r\nIn order to see the problems of e.g. implementing hashCode but not equals and vice versa, it&#39;s crucial you make separate objects. You want something like:\r\n\r\n```\r\nEmployee a = new Employee(&quot;Pooja&quot;);\r\nEmployee b = new Employee(&quot;Pooja&quot;);\r\nMap&lt;Employee, String&gt; test = new HashMap&lt;&gt;();\r\ntest.put(a, &quot;hello&quot;);\r\ntest.put(b, &quot;world&quot;);\r\nSystem.out.println(test.size());\r\n```\r\n\r\nThis should print &#39;1&#39;. If you don&#39;t properly do what the docs say, it _will_ print 2. Experiment with what it takes to make that correctly print 1. Experiment with what happens when you intentionally mess up the implementation of e.g. hashCode and/or equals. Figure out what happens if the hashCode is the same but equals says they are not, etcetera.\r\n\r\nSomething like this:\r\n\r\n```\r\nEmployee a = new Employee(&quot;Pooja&quot;);\r\nMap&lt;Employee, String&gt; test = new HashMap&lt;&gt;();\r\ntest.put(a, &quot;hello&quot;);\r\ntest.put(a, &quot;world&quot;); // or\r\nEmployee b = a;\r\ntest.put(b, &quot;goodbye&quot;);\r\n```\r\n\r\nisn&#39;t particularly useful to observe what happens when you &#39;mess&#39; with equals and hashCode.\r\n\r\nSpend an hour or two and you&#39;d ace this question / test / qualification.\r\n","title":"Can one use an Employee class as a key in a HashMap?","body":"<p>Yes, <em>if</em> you set up the <code>Employee</code> class correctly. That list of things you posted is what you 'prove' by being able to do this.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">javadoc of <code>Object.equals</code></a> and the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">javadoc of <code>Object.hashCode</code></a> list all sorts of caveats, such as: equality must be <em>reflexive</em> (that's just one of many).</p>\n<p>If you adhere to all of these caveats, then you can use a class as keys in a hashmap.</p>\n<p>It seems fairly clear, given that you've asked this question in this fashion, that,</p>\n<p>[A] you don't know about this stuff, and\n[B] it's part of a study requirement or job application.</p>\n<p>The conclusion is fairly simple: <em>right now</em>, you fail at this task - you don't know about any of this. Fortunately, the bulleted list, along with the documentation of equals and hashCode as linked above, gives you the perfect opportunity to fix that. Start experimenting! Write a class, and start implementing hashCode and equals, and see what happens. Do the things the bullets describe (implements equals but not hashcode and see what happens when you create 2 seemingly identical Employee objects and note how you can then add both to a hashmap, breaking the rule that identical 'keys' override each other).</p>\n<p>One thing to keep in mind:</p>\n<p>In order to see the problems of e.g. implementing hashCode but not equals and vice versa, it's crucial you make separate objects. You want something like:</p>\n<pre><code>Employee a = new Employee(&quot;Pooja&quot;);\nEmployee b = new Employee(&quot;Pooja&quot;);\nMap&lt;Employee, String&gt; test = new HashMap&lt;&gt;();\ntest.put(a, &quot;hello&quot;);\ntest.put(b, &quot;world&quot;);\nSystem.out.println(test.size());\n</code></pre>\n<p>This should print '1'. If you don't properly do what the docs say, it <em>will</em> print 2. Experiment with what it takes to make that correctly print 1. Experiment with what happens when you intentionally mess up the implementation of e.g. hashCode and/or equals. Figure out what happens if the hashCode is the same but equals says they are not, etcetera.</p>\n<p>Something like this:</p>\n<pre><code>Employee a = new Employee(&quot;Pooja&quot;);\nMap&lt;Employee, String&gt; test = new HashMap&lt;&gt;();\ntest.put(a, &quot;hello&quot;);\ntest.put(a, &quot;world&quot;); // or\nEmployee b = a;\ntest.put(b, &quot;goodbye&quot;);\n</code></pre>\n<p>isn't particularly useful to observe what happens when you 'mess' with equals and hashCode.</p>\n<p>Spend an hour or two and you'd ace this question / test / qualification.</p>\n"}],"owner":{"account_id":19150294,"reputation":11,"user_id":13988362,"display_name":"Pooja Sawant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1663003676,"creation_date":1663002773,"question_id":73692884,"body_markdown":"Explain: \r\nCan one use an Employee class as a key in a HashMap?\r\n- Knows about overriding hashCode\r\n- Knows about overriding equals\r\n- Knows the behavior if hashCode returns a constant (including get and put time complexity)\r\n- Knows the behavior if hashCode is not implemented but equals is\r\n- Knows the behavior if hashCode is implemented but equals is not\r\n- Knows that making the class immutable is a good idea when using it as a key.","title":"Can one use an Employee class as a key in a HashMap?","body":"<p>Explain:\nCan one use an Employee class as a key in a HashMap?</p>\n<ul>\n<li>Knows about overriding hashCode</li>\n<li>Knows about overriding equals</li>\n<li>Knows the behavior if hashCode returns a constant (including get and put time complexity)</li>\n<li>Knows the behavior if hashCode is not implemented but equals is</li>\n<li>Knows the behavior if hashCode is implemented but equals is not</li>\n<li>Knows that making the class immutable is a good idea when using it as a key.</li>\n</ul>\n"},{"tags":["java","return","switch-statement","case","break"],"comments":[{"owner":{"account_id":463295,"reputation":2840,"user_id":866104,"accept_rate":86,"display_name":"Michelle"},"score":7,"creation_date":1376325707,"post_id":18192255,"comment_id":26659131,"body_markdown":"This looks fine to me. The switch statement is the only content of the method, and it&#39;s clear and readable, so that makes perfect sense.","body":"This looks fine to me. The switch statement is the only content of the method, and it&#39;s clear and readable, so that makes perfect sense."},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1654654543,"post_id":18192255,"comment_id":128140282,"body_markdown":"Prefer clear and simple code, vs clever code. I spent 1 second to immediately understand what the OP&#39;s method does, then i stare at AlexWien &#39;s method for 1 minute and my brain simply refuse to decipher it. Amen.","body":"Prefer clear and simple code, vs clever code. I spent 1 second to immediately understand what the OP&#39;s method does, then i stare at AlexWien &#39;s method for 1 minute and my brain simply refuse to decipher it. Amen."}],"answers":[{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"down_vote_count":5,"up_vote_count":94,"is_accepted":true,"score":89,"last_activity_date":1435692046,"creation_date":1376325779,"answer_id":18192315,"question_id":18192255,"body_markdown":"Assigning a value to a local variable and then returning that at the end is considered a good practice. Methods having [multiple exits are harder to debug][1] and can be difficult to read.\r\n\r\n\r\nThat said, thats the only plus point left to this paradigm. It was originated when only low-level procedural languages were around. And it made much more sense at that time.\r\n\r\nWhile we are on the topic you must [check this out][2]. Its an interesting read.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4838828/why-should-a-function-have-only-one-exit-point\r\n  [2]: https://softwareengineering.stackexchange.com/questions/118703/where-did-the-notion-of-one-return-only-come-from","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>Assigning a value to a local variable and then returning that at the end is considered a good practice. Methods having <a href=\"https://stackoverflow.com/questions/4838828/why-should-a-function-have-only-one-exit-point\">multiple exits are harder to debug</a> and can be difficult to read.</p>\n\n<p>That said, thats the only plus point left to this paradigm. It was originated when only low-level procedural languages were around. And it made much more sense at that time.</p>\n\n<p>While we are on the topic you must <a href=\"https://softwareengineering.stackexchange.com/questions/118703/where-did-the-notion-of-one-return-only-come-from\">check this out</a>. Its an interesting read.</p>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376325794,"creation_date":1376325794,"answer_id":18192319,"question_id":18192255,"body_markdown":"Nope, what you have is fine. You could also do this as a formula (`sliderVal &lt; 5 ? (1.0 - 0.1 * sliderVal) : 1.0`) or use a `Map&lt;Integer,Double&gt;`, but what you have is fine.","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>Nope, what you have is fine. You could also do this as a formula (<code>sliderVal &lt; 5 ? (1.0 - 0.1 * sliderVal) : 1.0</code>) or use a <code>Map&lt;Integer,Double&gt;</code>, but what you have is fine.</p>\n"},{"tags":[],"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376325799,"creation_date":1376325799,"answer_id":18192322,"question_id":18192255,"body_markdown":"I suggest you not use literals.\r\n\r\nOther than that the style itself looks fine.","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>I suggest you not use literals.</p>\n\n<p>Other than that the style itself looks fine.</p>\n"},{"tags":[],"owner":{"account_id":3088981,"reputation":28,"user_id":2615557,"display_name":"DanielD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376325808,"creation_date":1376325808,"answer_id":18192327,"question_id":18192255,"body_markdown":"If you&#39;re going to have a method that just runs the switch and then returns some value, then sure this way works.  But if you want a switch with other stuff in a method then you can&#39;t use return or the rest of the code inside the method will not execute.  Notice in the tutorial how it has a print after the code? Yours would not be able to do this.","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>If you're going to have a method that just runs the switch and then returns some value, then sure this way works.  But if you want a switch with other stuff in a method then you can't use return or the rest of the code inside the method will not execute.  Notice in the tutorial how it has a print after the code? Yours would not be able to do this.</p>\n"},{"tags":[],"owner":{"account_id":191083,"reputation":1008,"user_id":431415,"accept_rate":93,"display_name":"SubSevn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376326281,"creation_date":1376325862,"answer_id":18192341,"question_id":18192255,"body_markdown":"Why not just \r\n\r\n    private double translateSlider(int sliderval) {\r\n    if(sliderval &gt; 4 || sliderval &lt; 0)\r\n        return 1.0d;\r\n    return (1.0d - ((double)sliderval/10.0d));\r\n    }\r\n\r\nOr similar?","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>Why not just </p>\n\n<pre><code>private double translateSlider(int sliderval) {\nif(sliderval &gt; 4 || sliderval &lt; 0)\n    return 1.0d;\nreturn (1.0d - ((double)sliderval/10.0d));\n}\n</code></pre>\n\n<p>Or similar?</p>\n"},{"tags":[],"owner":{"account_id":2918528,"reputation":216,"user_id":2501263,"accept_rate":90,"display_name":"Xperiaz X"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1376325878,"creation_date":1376325878,"answer_id":18192349,"question_id":18192255,"body_markdown":"Yes this is good.\r\nTutorials are not always consize and neat.\r\nNot only that, creating local variables is waste of space and inefficient","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>Yes this is good.\nTutorials are not always consize and neat.\nNot only that, creating local variables is waste of space and inefficient</p>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1596656927,"creation_date":1376326017,"answer_id":18192382,"question_id":18192255,"body_markdown":"From human intelligence view your code is fine. From *static code analysis* tools view there are multiple returns, which makes it harder to debug. e.g you cannot set one and only *breakpoint* immediately before return.\r\n\r\nFurther you would not hard code the 4 slider steps in an professional app.\r\nEither calculate the values by using max - min, etc., or\r\nlook them up in an array:\r\n\r\n    public static final double[] SLIDER_VALUES = {1.0, 0.9, 0.8, 0.7, 0.6};\r\n    public static final double SLIDER_DEFAULT = 1.0;\r\n    \r\n\r\n    private double translateSlider(int sliderValue) {\r\n      double result = SLIDER_DEFAULT;\r\n      if (sliderValue &gt;= 0 &amp;&amp; sliderValue &lt; SLIDER_VALUES.length) {\r\n          ret = SLIDER_VALUES[sliderValue];\r\n      }\r\n\r\n      return result;\r\n    }","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>From human intelligence view your code is fine. From <em>static code analysis</em> tools view there are multiple returns, which makes it harder to debug. e.g you cannot set one and only <em>breakpoint</em> immediately before return.</p>\n<p>Further you would not hard code the 4 slider steps in an professional app.\nEither calculate the values by using max - min, etc., or\nlook them up in an array:</p>\n<pre><code>public static final double[] SLIDER_VALUES = {1.0, 0.9, 0.8, 0.7, 0.6};\npublic static final double SLIDER_DEFAULT = 1.0;\n\n\nprivate double translateSlider(int sliderValue) {\n  double result = SLIDER_DEFAULT;\n  if (sliderValue &gt;= 0 &amp;&amp; sliderValue &lt; SLIDER_VALUES.length) {\n      ret = SLIDER_VALUES[sliderValue];\n  }\n\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3161635,"reputation":73,"user_id":2672588,"display_name":"Kevin Bhuva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564930646,"creation_date":1376326069,"answer_id":18192403,"question_id":18192255,"body_markdown":"I think that what you have written is perfectly fine. I also don&#39;t see any readability issue with having multiple return statements.\r\n\r\nI would always prefer to return from the point in the code when I know to return and this will avoid running logic below the return.\r\n\r\nThere can be an argument for having a single return point for debugging and logging.\r\nBut, in your code, there is no issue of debugging and logging if we use it. It is very simple and readable the way you wrote.","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>I think that what you have written is perfectly fine. I also don't see any readability issue with having multiple return statements.</p>\n\n<p>I would always prefer to return from the point in the code when I know to return and this will avoid running logic below the return.</p>\n\n<p>There can be an argument for having a single return point for debugging and logging.\nBut, in your code, there is no issue of debugging and logging if we use it. It is very simple and readable the way you wrote.</p>\n"},{"tags":[],"owner":{"account_id":247706,"reputation":1520,"user_id":522599,"accept_rate":50,"display_name":"Dwight Spencer"},"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1602825413,"creation_date":1435694100,"answer_id":31147301,"question_id":18192255,"body_markdown":"Best case for human logic to computer generated bytecode would be to utilize code like the following:\r\n\r\n    private double translateSlider(int sliderVal) {\r\n      float retval = 1.0;\r\n\r\n      switch (sliderVal) {\r\n        case 1: retval = 0.9; break;\r\n        case 2: retval = 0.8; break;\r\n        case 3: retval = 0.7; break;\r\n        case 4: retval = 0.6; break;\r\n        case 0:\r\n        default: break;\r\n      }\r\n      return retval;\r\n    }\r\n\r\nThus eliminating multiple exits from the method and utilizing the language logically. (ie while sliderVal is an integer range of 1-4 change float value else if sliderVal is 0 and all other values, retval stays the same float value of 1.0)\r\n\r\nHowever something like this with each integer value of sliderVal being `(n-(n/10))` one really could just do a lambda and get a faster results:\r\n\r\n    private double translateSlider = (int sliderVal) -&gt; (1.0-(siderVal/10));\r\n\r\nEdit:\r\n   A modulus of 4 may be in order to keep logic (ie `(n-(n/10))%4)`)","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>Best case for human logic to computer generated bytecode would be to utilize code like the following:</p>\n<pre><code>private double translateSlider(int sliderVal) {\n  float retval = 1.0;\n\n  switch (sliderVal) {\n    case 1: retval = 0.9; break;\n    case 2: retval = 0.8; break;\n    case 3: retval = 0.7; break;\n    case 4: retval = 0.6; break;\n    case 0:\n    default: break;\n  }\n  return retval;\n}\n</code></pre>\n<p>Thus eliminating multiple exits from the method and utilizing the language logically. (ie while sliderVal is an integer range of 1-4 change float value else if sliderVal is 0 and all other values, retval stays the same float value of 1.0)</p>\n<p>However something like this with each integer value of sliderVal being <code>(n-(n/10))</code> one really could just do a lambda and get a faster results:</p>\n<pre><code>private double translateSlider = (int sliderVal) -&gt; (1.0-(siderVal/10));\n</code></pre>\n<p>Edit:\nA modulus of 4 may be in order to keep logic (ie <code>(n-(n/10))%4)</code>)</p>\n"},{"tags":[],"owner":{"account_id":2144311,"reputation":9891,"user_id":1902296,"accept_rate":35,"display_name":"humkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607793169,"creation_date":1607793169,"answer_id":65267644,"question_id":18192255,"body_markdown":"Though the question is old enough it still can be referenced nowdays.\r\n\r\nSemantically that is exactly what Java 12 introduced (https://openjdk.java.net/jeps/325), thus, exactly in that simple example provided I can&#39;t see any problem or cons.","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>Though the question is old enough it still can be referenced nowdays.</p>\n<p>Semantically that is exactly what Java 12 introduced (<a href=\"https://openjdk.java.net/jeps/325\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/325</a>), thus, exactly in that simple example provided I can't see any problem or cons.</p>\n"},{"tags":[],"owner":{"account_id":5555148,"reputation":386,"user_id":4406806,"display_name":"Tony Puthenveettil"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1663003401,"creation_date":1663003401,"answer_id":73693016,"question_id":18192255,"body_markdown":"If it&#39;s Java 14+, you may use functional expression of switch like this:\r\n\r\n    return switch(region) {\r\n        case &quot;us-east-1&quot; -&gt; Region.US_EAST_1;\r\n        default -&gt; Region.US_EAST_1;\r\n    };","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>If it's Java 14+, you may use functional expression of switch like this:</p>\n<pre><code>return switch(region) {\n    case &quot;us-east-1&quot; -&gt; Region.US_EAST_1;\n    default -&gt; Region.US_EAST_1;\n};\n</code></pre>\n"}],"owner":{"account_id":1547043,"reputation":1201,"user_id":1440362,"accept_rate":95,"display_name":"NickAbbey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169939,"favorite_count":0,"down_vote_count":2,"up_vote_count":75,"accepted_answer_id":18192315,"answer_count":11,"score":73,"last_activity_date":1663003401,"creation_date":1376325561,"question_id":18192255,"body_markdown":"Given this method, does this represent some egregious stylistic or semantic faux pas:\r\n\r\n    private double translateSlider(int sliderVal) {\r\n        switch (sliderVal) {\r\n            case 0:\r\n                return 1.0;\r\n            case 1:\r\n                return .9;\r\n            case 2:\r\n                return .8;\r\n            case 3:\r\n                return .7;\r\n            case 4:\r\n                return .6;\r\n            default:\r\n                return 1.0;\r\n        }\r\n    }  \r\n  \r\n\r\nIt&#39;s clearly not in line with the Java tutorials [here][1].  \r\n  \r\nHowever, It&#39;s clear, concise and so far has yielded exactly what I need.  Is there a compelling, pragmatic reason to create a local variable, assign a value to it within each case, add a break to each case and return the value at the end of the method?  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Regarding Java switch statements - using return and omitting breaks in each case","body":"<p>Given this method, does this represent some egregious stylistic or semantic faux pas:</p>\n\n<pre><code>private double translateSlider(int sliderVal) {\n    switch (sliderVal) {\n        case 0:\n            return 1.0;\n        case 1:\n            return .9;\n        case 2:\n            return .8;\n        case 3:\n            return .7;\n        case 4:\n            return .6;\n        default:\n            return 1.0;\n    }\n}  \n</code></pre>\n\n<p>It's clearly not in line with the Java tutorials <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\">here</a>.  </p>\n\n<p>However, It's clear, concise and so far has yielded exactly what I need.  Is there a compelling, pragmatic reason to create a local variable, assign a value to it within each case, add a break to each case and return the value at the end of the method?  </p>\n"},{"tags":["java","jersey","jax-rs"],"comments":[{"owner":{"account_id":4385932,"reputation":353,"user_id":3576110,"display_name":"Achilles Rasquinha"},"score":0,"creation_date":1461672962,"post_id":36864622,"comment_id":61296325,"body_markdown":"Did you try increasing the default timeout?","body":"Did you try increasing the default timeout?"},{"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"score":0,"creation_date":1461673022,"post_id":36864622,"comment_id":61296368,"body_markdown":"I thought if a timeout occurs there will be an exception stating that the connection timed out.Does the timeout influence a socket close?","body":"I thought if a timeout occurs there will be an exception stating that the connection timed out.Does the timeout influence a socket close?"},{"owner":{"account_id":1378972,"reputation":25142,"user_id":1312382,"display_name":"Aconcagua"},"score":0,"creation_date":1461673068,"post_id":36864622,"comment_id":61296399,"body_markdown":"Possibly the server closed the connection. Is there any kind of authentication you missed?","body":"Possibly the server closed the connection. Is there any kind of authentication you missed?"},{"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"score":0,"creation_date":1461673415,"post_id":36864622,"comment_id":61296679,"body_markdown":"No there is no auth on the server side. How to find out who closed the connection?","body":"No there is no auth on the server side. How to find out who closed the connection?"},{"owner":{"account_id":6806635,"reputation":11895,"user_id":5238158,"accept_rate":75,"display_name":"Gandhi"},"score":0,"creation_date":1461673792,"post_id":36864622,"comment_id":61296990,"body_markdown":"@k_wave jus have a look at this - http://stackoverflow.com/questions/585599/whats-causing-my-java-net-socketexception-connection-reset Hope it helps","body":"@k_wave jus have a look at this - <a href=\"http://stackoverflow.com/questions/585599/whats-causing-my-java-net-socketexception-connection-reset\" title=\"whats causing my java net socketexception connection reset\">stackoverflow.com/questions/585599/&hellip;</a> Hope it helps"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1461677547,"post_id":36864622,"comment_id":61300024,"body_markdown":"Try using the [apache connector](https://jersey.java.net/documentation/latest/client.html#d0e4844)","body":"Try using the <a href=\"https://jersey.java.net/documentation/latest/client.html#d0e4844\" rel=\"nofollow noreferrer\">apache connector</a>"},{"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"score":0,"creation_date":1461752159,"post_id":36864622,"comment_id":61338092,"body_markdown":"Unfortunately nothing in the comments helped to fix this. The only timeout I am setting is the connect timeout (5000ms). The default request timeout is 0, which means infinite. I&#39;ve added the exception cause in my original post- does this help?","body":"Unfortunately nothing in the comments helped to fix this. The only timeout I am setting is the connect timeout (5000ms). The default request timeout is 0, which means infinite. I&#39;ve added the exception cause in my original post- does this help?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1461753555,"post_id":36864622,"comment_id":61339068,"body_markdown":"&quot;I am using Jersey-Client to check the availability of a server resource&quot; is already the wrong question. The only reasonable way to check for the availability of a resource is to try to use it in the normal course of execution, and deal with non-availability when and if it actually arises. Any other technique introduces timing-window problems for a start, among numerous other vulnerabilites.","body":"&quot;I am using Jersey-Client to check the availability of a server resource&quot; is already the wrong question. The only reasonable way to check for the availability of a resource is to try to use it in the normal course of execution, and deal with non-availability when and if it actually arises. Any other technique introduces timing-window problems for a start, among numerous other vulnerabilites."},{"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"score":0,"creation_date":1461753798,"post_id":36864622,"comment_id":61339229,"body_markdown":"This is just a snippet to show the issue (minimal working example). So theres no point in discussing the sense of it.","body":"This is just a snippet to show the issue (minimal working example). So theres no point in discussing the sense of it."},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1662774766,"post_id":36864622,"comment_id":130090482,"body_markdown":"Stacktrace shows it has either issue with library (try other version), or server (returning no data), or Internet","body":"Stacktrace shows it has either issue with library (try other version), or server (returning no data), or Internet"},{"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"score":0,"creation_date":1662911429,"post_id":36864622,"comment_id":130110670,"body_markdown":"@gorootde do you use an IP address in your target URL or an host name?","body":"@gorootde do you use an IP address in your target URL or an host name?"},{"owner":{"account_id":13641857,"reputation":763,"user_id":9841751,"display_name":"pismy"},"score":0,"creation_date":1662966404,"post_id":36864622,"comment_id":130119362,"body_markdown":"There&#39;s nothing wrong with the code, I&#39;ve run it successfully. So there are 2 possibilities: either the connection is closed on client side (your computer) or on server side. In order to know, just try with another URL (ex: https://google.com). If it works, then your issue is due to the server you&#39;re trying to reach (maybe doesn&#39;t allow HEAD method? try with GET?). Otherwise the issue is on client side. Do you have specific network settings? (which platform? do you go through a proxy? or running in a container?)","body":"There&#39;s nothing wrong with the code, I&#39;ve run it successfully. So there are 2 possibilities: either the connection is closed on client side (your computer) or on server side. In order to know, just try with another URL (ex: <a href=\"https://google.com\" rel=\"nofollow noreferrer\">google.com</a>). If it works, then your issue is due to the server you&#39;re trying to reach (maybe doesn&#39;t allow HEAD method? try with GET?). Otherwise the issue is on client side. Do you have specific network settings? (which platform? do you go through a proxy? or running in a container?)"},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":0,"creation_date":1663002021,"post_id":36864622,"comment_id":130131690,"body_markdown":"It could be a network problem. Like a router killing connections between your client and server. If a client is caching connections and the connections aren&#39;t used often you can end up with half-open connection after other side kills connection due to inactivity. If that is a case you can avoid this by using heartbeats or by shortening expiration time of unused connection.","body":"It could be a network problem. Like a router killing connections between your client and server. If a client is caching connections and the connections aren&#39;t used often you can end up with half-open connection after other side kills connection due to inactivity. If that is a case you can avoid this by using heartbeats or by shortening expiration time of unused connection."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663003166,"creation_date":1663003166,"answer_id":73692958,"question_id":36864622,"body_markdown":"It looks like the server is closing the connection right after it receives it. Probably something is not sent in time by the client what is expected by the server, so it closes the connection, that might be some header or maybe the method is not accepted.\r\n\r\nYou can create a server socket java app or use some existing app to monitor what exactly is sent by the jersey client to that server. And you can maybe use something to look how the proper communication with the resource server you want to check should look like. Maybe there is already a real life example how to use the resource  from webpage? Then you can use something like developer tools (usually F12 in browser) and look into the network tab and to see the details of the request. Otherwise you can use some spying software like fiddler or wireshark.\r\n\r\nThat&#39;s how I usually solve this kind of problems.","title":"Jersey Socket Closed Exception","body":"<p>It looks like the server is closing the connection right after it receives it. Probably something is not sent in time by the client what is expected by the server, so it closes the connection, that might be some header or maybe the method is not accepted.</p>\n<p>You can create a server socket java app or use some existing app to monitor what exactly is sent by the jersey client to that server. And you can maybe use something to look how the proper communication with the resource server you want to check should look like. Maybe there is already a real life example how to use the resource  from webpage? Then you can use something like developer tools (usually F12 in browser) and look into the network tab and to see the details of the request. Otherwise you can use some spying software like fiddler or wireshark.</p>\n<p>That's how I usually solve this kind of problems.</p>\n"}],"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663003166,"creation_date":1461672754,"question_id":36864622,"body_markdown":"I am using Jersey-Client to check the availability of a server resource:\r\n\r\n\r\n    public class Test{\r\n    \t\r\n    \r\n    \tprivate final Client client=...;\t   \r\n    \t   \r\n    \tpublic void test(URI myURL){\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tfinal WebTarget functionConCheck = client.target(myURL);\r\n    \t\t\tfinal Response resp = functionConCheck.request(MediaType.APPLICATION_JSON).head();\r\n    \t\t\ttry {\r\n    \t\t\t\tif (resp.getStatus() == Status.OK.getStatusCode()) {\r\n    \t\t\t\t\tSystem.out.println(&quot;OK&quot;);\r\n    \t\t\t\t} \r\n    \t\t\t} finally {\r\n    \t\t\t\tresp.close();\r\n    \t\t\t}\r\n    \t\t} catch (MalformedURLException | URISyntaxException ex) {\r\n    \t\t\tLOGGER.error(&quot;Error checking&quot;, ex);\r\n    \t\t} catch (final ProcessingException e) {\r\n    \t\t\tLOGGER.error(&quot;No network connection&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    \t\t\r\n    }\r\n\r\nBut the code throws an exception:\r\n\r\n    ERROR [] ? (:) - No network connection\r\n    javax.ws.rs.ProcessingException: java.net.SocketException: Socket closed\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:287) ~[jersey-client-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255) ~[jersey-client-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684) ~[jersey-client-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681) ~[jersey-client-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:315) ~[jersey-common-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:297) ~[jersey-common-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:228) ~[jersey-common-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444) ~[jersey-common-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681) ~[jersey-client-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:411) ~[jersey-client-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.head(JerseyInvocation.java:375) ~[jersey-client-2.22.1.jar:?]\r\n    Caused by: java.net.SocketException: Socket is closed\r\n    \tat java.net.Socket.getInputStream(Unknown Source) ~[?:1.7.0_80]\r\n    \tat sun.security.ssl.SSLSocketImpl.doneConnect(Unknown Source) ~[?:1.7.0_80]\r\n    \tat sun.security.ssl.SSLSocketImpl.&lt;init&gt;(Unknown Source) ~[?:1.7.0_80]\r\n    \tat sun.security.ssl.SSLSocketFactoryImpl.createSocket(Unknown Source) ~[?:1.7.0_80]\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source) ~[?:1.7.0_80]\r\n    \tat sun.net.www.http.HttpClient.parseHTTP(Unknown Source) ~[?:1.7.0_80]\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source) ~[?:1.7.0_80]\r\n    \tat java.net.HttpURLConnection.getResponseCode(Unknown Source) ~[?:1.7.0_80]\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source) ~[?:1.7.0_80]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:394) ~[jersey-client-2.22.1.jar:?]\r\n    \tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:285) ~[jersey-client-2.22.1.jar:?]\r\n\r\n`client.close()` is never called anywhere. The only thing being closed is the `response`, but there is a new response instance for each method call.\r\nWhere does this exception come from and how to avoid it? \r\n\r\n","title":"Jersey Socket Closed Exception","body":"<p>I am using Jersey-Client to check the availability of a server resource:</p>\n\n<pre><code>public class Test{\n\n\n    private final Client client=...;       \n\n    public void test(URI myURL){\n\n        try {\n            final WebTarget functionConCheck = client.target(myURL);\n            final Response resp = functionConCheck.request(MediaType.APPLICATION_JSON).head();\n            try {\n                if (resp.getStatus() == Status.OK.getStatusCode()) {\n                    System.out.println(\"OK\");\n                } \n            } finally {\n                resp.close();\n            }\n        } catch (MalformedURLException | URISyntaxException ex) {\n            LOGGER.error(\"Error checking\", ex);\n        } catch (final ProcessingException e) {\n            LOGGER.error(\"No network connection\", e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>But the code throws an exception:</p>\n\n<pre><code>ERROR [] ? (:) - No network connection\njavax.ws.rs.ProcessingException: java.net.SocketException: Socket closed\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:287) ~[jersey-client-2.22.1.jar:?]\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255) ~[jersey-client-2.22.1.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684) ~[jersey-client-2.22.1.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681) ~[jersey-client-2.22.1.jar:?]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315) ~[jersey-common-2.22.1.jar:?]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297) ~[jersey-common-2.22.1.jar:?]\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:228) ~[jersey-common-2.22.1.jar:?]\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444) ~[jersey-common-2.22.1.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681) ~[jersey-client-2.22.1.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:411) ~[jersey-client-2.22.1.jar:?]\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.head(JerseyInvocation.java:375) ~[jersey-client-2.22.1.jar:?]\nCaused by: java.net.SocketException: Socket is closed\n    at java.net.Socket.getInputStream(Unknown Source) ~[?:1.7.0_80]\n    at sun.security.ssl.SSLSocketImpl.doneConnect(Unknown Source) ~[?:1.7.0_80]\n    at sun.security.ssl.SSLSocketImpl.&lt;init&gt;(Unknown Source) ~[?:1.7.0_80]\n    at sun.security.ssl.SSLSocketFactoryImpl.createSocket(Unknown Source) ~[?:1.7.0_80]\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source) ~[?:1.7.0_80]\n    at sun.net.www.http.HttpClient.parseHTTP(Unknown Source) ~[?:1.7.0_80]\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source) ~[?:1.7.0_80]\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source) ~[?:1.7.0_80]\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown Source) ~[?:1.7.0_80]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:394) ~[jersey-client-2.22.1.jar:?]\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:285) ~[jersey-client-2.22.1.jar:?]\n</code></pre>\n\n<p><code>client.close()</code> is never called anywhere. The only thing being closed is the <code>response</code>, but there is a new response instance for each method call.\nWhere does this exception come from and how to avoid it? </p>\n"},{"tags":["java","kubernetes","logging","slf4j","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1663004173,"post_id":73692949,"comment_id":130132400,"body_markdown":"Are you talking about [keycloakX](https://www.keycloak.org/2020/12/first-keycloak-x-release.adoc)? If so, this might be a question better asked on the [keycloak mailing list](https://groups.google.com/g/keycloak-user).","body":"Are you talking about <a href=\"https://www.keycloak.org/2020/12/first-keycloak-x-release.adoc\" rel=\"nofollow noreferrer\">keycloakX</a>? If so, this might be a question better asked on the <a href=\"https://groups.google.com/g/keycloak-user\" rel=\"nofollow noreferrer\">keycloak mailing list</a>."},{"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"score":0,"creation_date":1663011520,"post_id":73692949,"comment_id":130134597,"body_markdown":"yes, I&#39;m talkin about that","body":"yes, I&#39;m talkin about that"}],"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663003118,"creation_date":1663003118,"question_id":73692949,"body_markdown":"In my project since we moved to new keycloak version we started using quarkus as a logging system. When I setup quarkus.logging.level = DEBUG on my kubernetes cluster it&#39;s too verbose. What I want to achieve is that my quarkus logging level = INFO but in same time (just for testing some scenarios) I would like to provide to the console logging from my java code. slf4j is what I use in my application to log some info during the flow.\r\n\r\n```\r\nlog.debug(&quot;Some debug logging information&quot;);\r\n```\r\nI was reading about quarkus categories but non of them fits to slf4j directly. \r\nIf I set quarkus lvl = INFO and in same time \r\nJAVA_OPTS - Dlogging.level ..... =DEBUG\r\nit won&#39;t work. quarkus covers old kind of properties we were using in past.\r\n\r\nAny tip how can I manage that kind scenario?\r\n\r\n\r\n","title":"Quarkus logging level INFO covers JAVA_OPTS logging.level DEBUG","body":"<p>In my project since we moved to new keycloak version we started using quarkus as a logging system. When I setup quarkus.logging.level = DEBUG on my kubernetes cluster it's too verbose. What I want to achieve is that my quarkus logging level = INFO but in same time (just for testing some scenarios) I would like to provide to the console logging from my java code. slf4j is what I use in my application to log some info during the flow.</p>\n<pre><code>log.debug(&quot;Some debug logging information&quot;);\n</code></pre>\n<p>I was reading about quarkus categories but non of them fits to slf4j directly.\nIf I set quarkus lvl = INFO and in same time\nJAVA_OPTS - Dlogging.level ..... =DEBUG\nit won't work. quarkus covers old kind of properties we were using in past.</p>\n<p>Any tip how can I manage that kind scenario?</p>\n"},{"tags":["java","jdbi"],"comments":[{"owner":{"account_id":6521906,"reputation":1079,"user_id":5104621,"display_name":"Shreyas Chavan"},"score":0,"creation_date":1438642091,"post_id":31797571,"comment_id":51523543,"body_markdown":"You cant bind a list like that. Thats exactly what the runtime exception is telling you. If you still want to do this see [this approach](http://stackoverflow.com/questions/2861230/what-is-the-best-approach-using-jdbc-for-parameterizing-an-in-clause)","body":"You cant bind a list like that. Thats exactly what the runtime exception is telling you. If you still want to do this see <a href=\"http://stackoverflow.com/questions/2861230/what-is-the-best-approach-using-jdbc-for-parameterizing-an-in-clause\">this approach</a>"},{"owner":{"account_id":188020,"reputation":19910,"user_id":426493,"accept_rate":72,"display_name":"ab11"},"score":0,"creation_date":1438649512,"post_id":31797571,"comment_id":51525308,"body_markdown":"That approach won&#39;t work at all using it the jdbi query annotations?","body":"That approach won&#39;t work at all using it the jdbi query annotations?"}],"answers":[{"tags":[],"owner":{"account_id":1979075,"reputation":3045,"user_id":1776116,"accept_rate":25,"display_name":"Manikandan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438665637,"creation_date":1438663954,"answer_id":31800939,"question_id":31797571,"body_markdown":"Use BindIn annotation.    \r\n    \r\n    @SqlQuery(&quot;SELECT Id, Name FROM table WHERE Id IN (:ids)&quot;)\r\n    Set&lt;Model&gt; loadNames(@BindIn(&quot;ids&quot;) List&lt;Integer&gt; ids);","title":"Search for results WHERE IN a list of integers?","body":"<p>Use BindIn annotation.    </p>\n\n<pre><code>@SqlQuery(\"SELECT Id, Name FROM table WHERE Id IN (:ids)\")\nSet&lt;Model&gt; loadNames(@BindIn(\"ids\") List&lt;Integer&gt; ids);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50470,"reputation":2374,"user_id":150566,"accept_rate":93,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438883246,"creation_date":1438883246,"answer_id":31862480,"question_id":31797571,"body_markdown":"I got an exeception when I tried this:\r\n\r\n    @SqlUpdate(&quot;UPDATE k_product_rgstr SET sent_to_date = :dateSent WHERE id IN (:ids)&quot;)\r\n    public void updateSentToDate(@Bind(&quot;dateSent&quot;) Date dateSent, @BindIn(&quot;ids&quot;) List&lt;Long&gt; ids);\r\n\r\n    Exception in thread &quot;main&quot; org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException: Unable to execute, no named parameter matches &quot;ids&quot; and no positional param for place 1 (which is 2 in the JDBC &#39;start at 1&#39; scheme) has been set. [statement:&quot;UPDATE k_product_rgstr SET sent_to_date = :dateSent WHERE id IN (:ids)&quot;, located:&quot;UPDATE k_product_rgstr SET sent_to_date = :dateSent WHERE id IN (:ids)&quot;, rewritten:&quot;UPDATE k_product_rgstr SET sent_to_date = ? WHERE id IN (?)&quot;, arguments:{ positional:{}, named:{__ids_11:19,__ids_10:18,__ids_15:23,__ids_14:22,__ids_13:21,__ids_12:20,__ids_19:27,__ids_18:26,__ids_17:25,__ids_16:24,__ids_200:212,__ids_201:213,__ids_202:215,__ids_203:216,__ids_204:217,__ids_205:218,__ids_206:219,__ids_207:220,__ids_208:221,__ids_209:222,__ids_210:223,__ids_211:224,__ids_212:225,__ids_213:226,__ids_214:227,__ids_215:228,__ids_216:229,__ids_217:230,__ids_218:12,__ids_219:36,__ids_186:198,__ids_187:199,__ids_188:200,__ids_189:201,__ids_180:192,__ids_181:193,__ids_182:194,__ids_183:195,__ids_184:196,__ids_185:197,__ids_197:209,__ids_198:210,__ids_199:211,__ids_190:202,__ids_191:203,__ids_192:204,__ids_193:205,__ids_194:206,__ids_195:207,__ids_196:208,dateSent:Thu Aug 06 13:41:57 EDT 2015,__ids_95:105,__ids_142:154,__ids_94:104,__ids_143:155,__ids_93:103,__ids_144:156,__ids_92:102,__ids_145:157,__ids_99:109,__ids_146:158,__ids_98:108,__ids_147:159,__ids_97:107,__ids_148:160,__ids_96:106,__ids_149:161,__ids_2:9,__ids_1:214,__ids_0:139,__ids_6:14,__ids_5:13,__ids_4:11,__ids_140:152,__ids_3:10,__ids_141:153,__ids_9:17,__ids_8:16,__ids_7:15,__ids_84:93,__ids_153:165,__ids_83:92,__ids_154:166,__ids_82:91,__ids_155:167,__ids_81:90,__ids_156:168,__ids_88:97,__ids_157:169,__ids_87:96,__ids_158:170,__ids_86:95,__ids_159:171,__ids_85:94,__ids_89:98,__ids_150:162,__ids_151:163,__ids_152:164,__ids_91:101,__ids_90:100,__ids_73:82,__ids_164:176,__ids_72:81,__ids_165:177,__ids_71:80,__ids_166:178,__ids_70:79,__ids_167:179,__ids_77:86,__ids_168:180,__ids_76:85,__ids_169:181,__ids_75:84,__ids_74:83,__ids_79:88,__ids_78:87,__ids_160:172,__ids_161:173,__ids_162:174,__ids_163:175,__ids_80:89,__ids_62:71,__ids_175:187,__ids_61:70,__ids_176:188,__ids_60:69,__ids_177:189,__ids_178:190,__ids_66:75,__ids_179:191,__ids_65:74,__ids_64:73,__ids_63:72,__ids_69:78,__ids_68:77,__ids_67:76,__ids_170:182,__ids_171:183,__ids_172:184,__ids_173:185,__ids_174:186,__ids_51:60,__ids_50:59,__ids_220:99,__ids_100:110,__ids_221:140,__ids_101:111,__ids_55:64,__ids_102:112,__ids_54:63,__ids_103:113,__ids_53:62,__ids_104:114,__ids_52:61,__ids_105:115,__ids_59:68,__ids_58:67,__ids_57:66,__ids_56:65,__ids_106:116,__ids_107:117,__ids_108:118,__ids_109:119,__ids_40:49,__ids_110:120,__ids_111:121,__ids_112:122,__ids_44:53,__ids_113:123,__ids_43:52,__ids_114:124,__ids_42:51,__ids_115:125,__ids_41:50,__ids_116:126,__ids_48:57,__ids_47:56,__ids_46:55,__ids_45:54,__ids_49:58,__ids_117:127,__ids_118:128,__ids_119:129,__ids_120:130,__ids_121:131,__ids_122:132,__ids_123:133,__ids_33:42,__ids_124:134,__ids_32:41,__ids_125:135,__ids_31:40,__ids_126:136,__ids_30:39,__ids_127:137,__ids_37:46,__ids_36:45,__ids_35:44,__ids_34:43,__ids_39:48,__ids_38:47,__ids_128:138,__ids_129:141,__ids_131:143,__ids_132:144,__ids_133:145,__ids_134:146,__ids_22:30,__ids_135:147,__ids_21:29,__ids_136:148,__ids_20:28,__ids_137:149,__ids_138:150,__ids_26:34,__ids_25:33,__ids_24:32,__ids_23:31,__ids_29:38,__ids_28:37,__ids_27:35,__ids_130:142,__ids_139:151}, finder:[]}]\r\n    \tat org.skife.jdbi.v2.ColonPrefixNamedParamStatementRewriter$MyRewrittenStatement.bind(ColonPrefixNamedParamStatementRewriter.java:158)\r\n    \tat org.skife.jdbi.v2.SQLStatement.internalExecute(SQLStatement.java:1318)\r\n    \tat org.skife.jdbi.v2.Update.execute(Update.java:56)\r\n    \tat org.skife.jdbi.v2.sqlobject.UpdateHandler$2.value(UpdateHandler.java:62)\r\n    \tat org.skife.jdbi.v2.sqlobject.UpdateHandler.invoke(UpdateHandler.java:75)\r\n    \tat org.skife.jdbi.v2.sqlobject.SqlObject.invoke(SqlObject.java:175)\r\n    \tat org.skife.jdbi.v2.sqlobject.SqlObject$1.intercept(SqlObject.java:75)\r\n    \tat org.skife.jdbi.v2.sqlobject.CloseInternalDoNotUseThisClass$$EnhancerByCGLIB$$f3fbbd27.updateSentToDate(&lt;generated&gt;)\r\n","title":"Search for results WHERE IN a list of integers?","body":"<p>I got an exeception when I tried this:</p>\n\n<pre><code>@SqlUpdate(\"UPDATE k_product_rgstr SET sent_to_date = :dateSent WHERE id IN (:ids)\")\npublic void updateSentToDate(@Bind(\"dateSent\") Date dateSent, @BindIn(\"ids\") List&lt;Long&gt; ids);\n\nException in thread \"main\" org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException: Unable to execute, no named parameter matches \"ids\" and no positional param for place 1 (which is 2 in the JDBC 'start at 1' scheme) has been set. [statement:\"UPDATE k_product_rgstr SET sent_to_date = :dateSent WHERE id IN (:ids)\", located:\"UPDATE k_product_rgstr SET sent_to_date = :dateSent WHERE id IN (:ids)\", rewritten:\"UPDATE k_product_rgstr SET sent_to_date = ? WHERE id IN (?)\", arguments:{ positional:{}, named:{__ids_11:19,__ids_10:18,__ids_15:23,__ids_14:22,__ids_13:21,__ids_12:20,__ids_19:27,__ids_18:26,__ids_17:25,__ids_16:24,__ids_200:212,__ids_201:213,__ids_202:215,__ids_203:216,__ids_204:217,__ids_205:218,__ids_206:219,__ids_207:220,__ids_208:221,__ids_209:222,__ids_210:223,__ids_211:224,__ids_212:225,__ids_213:226,__ids_214:227,__ids_215:228,__ids_216:229,__ids_217:230,__ids_218:12,__ids_219:36,__ids_186:198,__ids_187:199,__ids_188:200,__ids_189:201,__ids_180:192,__ids_181:193,__ids_182:194,__ids_183:195,__ids_184:196,__ids_185:197,__ids_197:209,__ids_198:210,__ids_199:211,__ids_190:202,__ids_191:203,__ids_192:204,__ids_193:205,__ids_194:206,__ids_195:207,__ids_196:208,dateSent:Thu Aug 06 13:41:57 EDT 2015,__ids_95:105,__ids_142:154,__ids_94:104,__ids_143:155,__ids_93:103,__ids_144:156,__ids_92:102,__ids_145:157,__ids_99:109,__ids_146:158,__ids_98:108,__ids_147:159,__ids_97:107,__ids_148:160,__ids_96:106,__ids_149:161,__ids_2:9,__ids_1:214,__ids_0:139,__ids_6:14,__ids_5:13,__ids_4:11,__ids_140:152,__ids_3:10,__ids_141:153,__ids_9:17,__ids_8:16,__ids_7:15,__ids_84:93,__ids_153:165,__ids_83:92,__ids_154:166,__ids_82:91,__ids_155:167,__ids_81:90,__ids_156:168,__ids_88:97,__ids_157:169,__ids_87:96,__ids_158:170,__ids_86:95,__ids_159:171,__ids_85:94,__ids_89:98,__ids_150:162,__ids_151:163,__ids_152:164,__ids_91:101,__ids_90:100,__ids_73:82,__ids_164:176,__ids_72:81,__ids_165:177,__ids_71:80,__ids_166:178,__ids_70:79,__ids_167:179,__ids_77:86,__ids_168:180,__ids_76:85,__ids_169:181,__ids_75:84,__ids_74:83,__ids_79:88,__ids_78:87,__ids_160:172,__ids_161:173,__ids_162:174,__ids_163:175,__ids_80:89,__ids_62:71,__ids_175:187,__ids_61:70,__ids_176:188,__ids_60:69,__ids_177:189,__ids_178:190,__ids_66:75,__ids_179:191,__ids_65:74,__ids_64:73,__ids_63:72,__ids_69:78,__ids_68:77,__ids_67:76,__ids_170:182,__ids_171:183,__ids_172:184,__ids_173:185,__ids_174:186,__ids_51:60,__ids_50:59,__ids_220:99,__ids_100:110,__ids_221:140,__ids_101:111,__ids_55:64,__ids_102:112,__ids_54:63,__ids_103:113,__ids_53:62,__ids_104:114,__ids_52:61,__ids_105:115,__ids_59:68,__ids_58:67,__ids_57:66,__ids_56:65,__ids_106:116,__ids_107:117,__ids_108:118,__ids_109:119,__ids_40:49,__ids_110:120,__ids_111:121,__ids_112:122,__ids_44:53,__ids_113:123,__ids_43:52,__ids_114:124,__ids_42:51,__ids_115:125,__ids_41:50,__ids_116:126,__ids_48:57,__ids_47:56,__ids_46:55,__ids_45:54,__ids_49:58,__ids_117:127,__ids_118:128,__ids_119:129,__ids_120:130,__ids_121:131,__ids_122:132,__ids_123:133,__ids_33:42,__ids_124:134,__ids_32:41,__ids_125:135,__ids_31:40,__ids_126:136,__ids_30:39,__ids_127:137,__ids_37:46,__ids_36:45,__ids_35:44,__ids_34:43,__ids_39:48,__ids_38:47,__ids_128:138,__ids_129:141,__ids_131:143,__ids_132:144,__ids_133:145,__ids_134:146,__ids_22:30,__ids_135:147,__ids_21:29,__ids_136:148,__ids_20:28,__ids_137:149,__ids_138:150,__ids_26:34,__ids_25:33,__ids_24:32,__ids_23:31,__ids_29:38,__ids_28:37,__ids_27:35,__ids_130:142,__ids_139:151}, finder:[]}]\n    at org.skife.jdbi.v2.ColonPrefixNamedParamStatementRewriter$MyRewrittenStatement.bind(ColonPrefixNamedParamStatementRewriter.java:158)\n    at org.skife.jdbi.v2.SQLStatement.internalExecute(SQLStatement.java:1318)\n    at org.skife.jdbi.v2.Update.execute(Update.java:56)\n    at org.skife.jdbi.v2.sqlobject.UpdateHandler$2.value(UpdateHandler.java:62)\n    at org.skife.jdbi.v2.sqlobject.UpdateHandler.invoke(UpdateHandler.java:75)\n    at org.skife.jdbi.v2.sqlobject.SqlObject.invoke(SqlObject.java:175)\n    at org.skife.jdbi.v2.sqlobject.SqlObject$1.intercept(SqlObject.java:75)\n    at org.skife.jdbi.v2.sqlobject.CloseInternalDoNotUseThisClass$$EnhancerByCGLIB$$f3fbbd27.updateSentToDate(&lt;generated&gt;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1122239,"reputation":91,"user_id":1110339,"display_name":"Hassaan Hassaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663002975,"creation_date":1663002975,"answer_id":73692923,"question_id":31797571,"body_markdown":"1. make sure to annotate your class with the following : `@UseStringTemplate3StatementLocator` \r\n\r\n    this will require \r\n    \r\n    `import org.skife.jdbi.v2.sqlobject.stringtemplate.UseStringTemplate3StatementLocator;`\r\n\r\n2. Use BindIn annotation.\r\n\r\n    `@SqlQuery(&quot;SELECT Id, Name FROM table WHERE Id IN (&lt;ids&gt;)&quot;)`\r\n    \r\n    `Set&lt;Model&gt; loadNames(@BindIn(&quot;ids&quot;) List&lt;Integer&gt; ids);`\r\n\r\n     make sure to use `IN (&lt;ids&gt;)` instead of `IN (:ids)`","title":"Search for results WHERE IN a list of integers?","body":"<ol>\n<li><p>make sure to annotate your class with the following : <code>@UseStringTemplate3StatementLocator</code></p>\n<p>this will require</p>\n<p><code>import org.skife.jdbi.v2.sqlobject.stringtemplate.UseStringTemplate3StatementLocator;</code></p>\n</li>\n<li><p>Use BindIn annotation.</p>\n<p><code>@SqlQuery(&quot;SELECT Id, Name FROM table WHERE Id IN (&lt;ids&gt;)&quot;)</code></p>\n<p><code>Set&lt;Model&gt; loadNames(@BindIn(&quot;ids&quot;) List&lt;Integer&gt; ids);</code></p>\n<p>make sure to use <code>IN (&lt;ids&gt;)</code> instead of <code>IN (:ids)</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":188020,"reputation":19910,"user_id":426493,"accept_rate":72,"display_name":"ab11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1663002975,"creation_date":1438639625,"question_id":31797571,"body_markdown":"Using JDBI, I&#39;d like my result set to be populated based on any rows contained in a list of Integer ids. My method looks like the below, but throws a runtime exception that the SQL can&#39;t be bound.\r\n\r\n    @SqlQuery(&quot;SELECT Id, Name FROM table WHERE Id IN (:ids)&quot;)\r\n    Set&lt;Model&gt; loadNames(@Bind(&quot;ids&quot;) List&lt;Integer&gt; ids);","title":"Search for results WHERE IN a list of integers?","body":"<p>Using JDBI, I'd like my result set to be populated based on any rows contained in a list of Integer ids. My method looks like the below, but throws a runtime exception that the SQL can't be bound.</p>\n\n<pre><code>@SqlQuery(\"SELECT Id, Name FROM table WHERE Id IN (:ids)\")\nSet&lt;Model&gt; loadNames(@Bind(\"ids\") List&lt;Integer&gt; ids);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13031664,"reputation":1971,"user_id":9417843,"display_name":"zlaval"},"score":3,"creation_date":1663002352,"post_id":73692770,"comment_id":130131788,"body_markdown":"You can use AspectJ for this.","body":"You can use AspectJ for this."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1663002361,"post_id":73692770,"comment_id":130131792,"body_markdown":"What prevents you to just add the method call to mM to your project code?","body":"What prevents you to just add the method call to mM to your project code?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1663002706,"post_id":73692770,"comment_id":130131906,"body_markdown":"The wrapping mentioned by @dunni is somewhat simliar to the [Anti-Corruption Layer pattern (`softwareengineering.stackexchange.com`)](https://softwareengineering.stackexchange.com/questions/184464/what-is-an-anti-corruption-layer-and-how-is-it-used).","body":"The wrapping mentioned by @dunni is somewhat simliar to the <a href=\"https://softwareengineering.stackexchange.com/questions/184464/what-is-an-anti-corruption-layer-and-how-is-it-used\">Anti-Corruption Layer pattern (<code>softwareengineering.stackexchange.com</code>)</a>."},{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":0,"creation_date":1663002722,"post_id":73692770,"comment_id":130131916,"body_markdown":"@dunni I simplified this problem for the purpose of this question, but, in my real project the `m` method is invoked from hundreds of places in my project, plus from hundreds of places from many other librraries that depend on the `L` library so I can not simply wrap `m` method within my `mM` method. I need to somehow monitor `m`&#39;s invocations which should work whenever `m` gets invoked no matter from where.","body":"@dunni I simplified this problem for the purpose of this question, but, in my real project the <code>m</code> method is invoked from hundreds of places in my project, plus from hundreds of places from many other librraries that depend on the <code>L</code> library so I can not simply wrap <code>m</code> method within my <code>mM</code> method. I need to somehow monitor <code>m</code>&#39;s invocations which should work whenever <code>m</code> gets invoked no matter from where."}],"answers":[{"tags":[],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663002432,"creation_date":1663002432,"answer_id":73692833,"question_id":73692770,"body_markdown":"There are two approaches. You can either use `AspectJ` to intercept your program calls. OR You should be wrapping `L.jar` method `m` into a class of yours and expose that class to end user. end user should be using this class to invoke `m`. now you will have full control on who is calling `m` with which parameters. The downside is that user can always call `m` directly and bypass your code.","title":"How to call a method as a response to another method call in Java?","body":"<p>There are two approaches. You can either use <code>AspectJ</code> to intercept your program calls. OR You should be wrapping <code>L.jar</code> method <code>m</code> into a class of yours and expose that class to end user. end user should be using this class to invoke <code>m</code>. now you will have full control on who is calling <code>m</code> with which parameters. The downside is that user can always call <code>m</code> directly and bypass your code.</p>\n"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663002557,"creation_date":1663002036,"question_id":73692770,"body_markdown":"Suppose you have a Library `L.jar` which contains class `C.class` and a method `m`.\r\n\r\nNow, you have a project which imports this library and uses the `m` method.\r\n\r\nIn the project there is class `X` with method `mX`.\r\n\r\nWhat I want to do is to somehow monitor all invocations of the method `m` and invoke the method `mX` whenever method `m` gets invoked.\r\n\r\nIf I can somehow read the parameters which get passed to method `m` when invoking it, that would be awesome.\r\n\r\nIs this possible in Java and if so, how to do it?","title":"How to call a method as a response to another method call in Java?","body":"<p>Suppose you have a Library <code>L.jar</code> which contains class <code>C.class</code> and a method <code>m</code>.</p>\n<p>Now, you have a project which imports this library and uses the <code>m</code> method.</p>\n<p>In the project there is class <code>X</code> with method <code>mX</code>.</p>\n<p>What I want to do is to somehow monitor all invocations of the method <code>m</code> and invoke the method <code>mX</code> whenever method <code>m</code> gets invoked.</p>\n<p>If I can somehow read the parameters which get passed to method <code>m</code> when invoking it, that would be awesome.</p>\n<p>Is this possible in Java and if so, how to do it?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1663007775,"post_id":73692839,"comment_id":130133511,"body_markdown":"Not sure how Avro is relevant, as the data could be in any format, but I&#39;d recommend using UTC time. Otherwise, you&#39;ll be fighting daylight savings time, for example, with this approach every 6 months or so.","body":"Not sure how Avro is relevant, as the data could be in any format, but I&#39;d recommend using UTC time. Otherwise, you&#39;ll be fighting daylight savings time, for example, with this approach every 6 months or so."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663007957,"post_id":73692839,"comment_id":130133564,"body_markdown":"Also, not sure about Kafka Streams... You could use S3/JDBC Sink Connectors, then partition by region, so have two paths in a S3 bucket or database fields like `region=NYC` and `region=London`, then you can use external tools like Spark or Athena to run some query like  `consumptionTime BETWEEN T and addHours(T, 24)`","body":"Also, not sure about Kafka Streams... You could use S3/JDBC Sink Connectors, then partition by region, so have two paths in a S3 bucket or database fields like <code>region=NYC</code> and <code>region=London</code>, then you can use external tools like Spark or Athena to run some query like  <code>consumptionTime BETWEEN T and addHours(T, 24)</code>"},{"owner":{"account_id":4993259,"reputation":814,"user_id":4014778,"accept_rate":75,"display_name":"Lucian"},"score":0,"creation_date":1663008822,"post_id":73692839,"comment_id":130133796,"body_markdown":"would be great to have something like partitioning in kafka streams","body":"would be great to have something like partitioning in kafka streams"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663009010,"post_id":73692839,"comment_id":130133855,"body_markdown":"I mean, it kinda does... You can [prefixScan](https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#prefixScan(P,PS)) a store for `NYC/` or `London/`, but that will not allow a time-range query like a non key-value database would be able to support.","body":"I mean, it kinda does... You can <a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/streams/state/ReadOnlyKeyValueStore.html#prefixScan(P,PS)\" rel=\"nofollow noreferrer\">prefixScan</a> a store for <code>NYC&#47;</code> or <code>London&#47;</code>, but that will not allow a time-range query like a non key-value database would be able to support."},{"owner":{"account_id":4993259,"reputation":814,"user_id":4014778,"accept_rate":75,"display_name":"Lucian"},"score":0,"creation_date":1663009386,"post_id":73692839,"comment_id":130133948,"body_markdown":"yes, that&#39;s the problem :( I need to add the TimeWindows processing for each region. \nI was thinking of leveraging .split().branch(predicate), loop through multiple regions and somehow pass in a consumer, but not sure it works","body":"yes, that&#39;s the problem :( I need to add the TimeWindows processing for each region.  I was thinking of leveraging .split().branch(predicate), loop through multiple regions and somehow pass in a consumer, but not sure it works"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663009575,"post_id":73692839,"comment_id":130134001,"body_markdown":"You could have several such prefix keys like `NYC/20220912-0000-0100`, `NYC/20220912-0100-0200`, etc, but then every day, you have 23 keys. Every year, for every region, you have over 8300 keys... I don&#39;t think that would scale well in a KTable.","body":"You could have several such prefix keys like <code>NYC&#47;20220912-0000-0100</code>, <code>NYC&#47;20220912-0100-0200</code>, etc, but then every day, you have 23 keys. Every year, for every region, you have over 8300 keys... I don&#39;t think that would scale well in a KTable."},{"owner":{"account_id":4993259,"reputation":814,"user_id":4014778,"accept_rate":75,"display_name":"Lucian"},"score":1,"creation_date":1663050755,"post_id":73692839,"comment_id":130141411,"body_markdown":"I am thinking to use the split stream and process the substreams. Each substream could have a different windowing. But I have never seen this case implemented  before \n(https://developer.confluent.io/tutorials/split-a-stream-of-events-into-substreams/confluent.html)","body":"I am thinking to use the split stream and process the substreams. Each substream could have a different windowing. But I have never seen this case implemented  before  (<a href=\"https://developer.confluent.io/tutorials/split-a-stream-of-events-into-substreams/confluent.html\" rel=\"nofollow noreferrer\">developer.confluent.io/tutorials/&hellip;</a>)"}],"owner":{"account_id":4993259,"reputation":814,"user_id":4014778,"accept_rate":75,"display_name":"Lucian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663002489,"creation_date":1663002489,"question_id":73692839,"body_markdown":"Given I have the following AVRO schema or object format\r\n\r\n    consumption {\r\n       consumptionId;\r\n       consumptionTime;\r\n       region;\r\n       amount;\r\n    }\r\n\r\nI would like to aggregate by consumptionId and sum the totalAmount for each consumptionId for a given window. The given window is *[endOfDay-24h, endOfDay]* and the *endOfDay* is different for each region.\r\n\r\n - for region: USA, NYC, the *endOfDay* is 18:00 \r\n - for region: UK, London,the *endOfDay* is 20:00\r\n\r\nCurrently I am playing with it, but I am not really happy with the outcome. Can anyone suggest a good approach? \r\n\r\nDo I need to create a stream for each region(endOfDay)?\r\nI&#39;m at the beginning of my Kafka-streams journey and I would be really grateful if someone could help me :) \r\n","title":"Kafka Stream daily aggregation","body":"<p>Given I have the following AVRO schema or object format</p>\n<pre><code>consumption {\n   consumptionId;\n   consumptionTime;\n   region;\n   amount;\n}\n</code></pre>\n<p>I would like to aggregate by consumptionId and sum the totalAmount for each consumptionId for a given window. The given window is <em>[endOfDay-24h, endOfDay]</em> and the <em>endOfDay</em> is different for each region.</p>\n<ul>\n<li>for region: USA, NYC, the <em>endOfDay</em> is 18:00</li>\n<li>for region: UK, London,the <em>endOfDay</em> is 20:00</li>\n</ul>\n<p>Currently I am playing with it, but I am not really happy with the outcome. Can anyone suggest a good approach?</p>\n<p>Do I need to create a stream for each region(endOfDay)?\nI'm at the beginning of my Kafka-streams journey and I would be really grateful if someone could help me :)</p>\n"},{"tags":["java","apache-beam","avro","aws-msk","apache-beam-kafkaio"],"answers":[{"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663000454,"creation_date":1663000454,"answer_id":73692475,"question_id":73672304,"body_markdown":"I think you also need to provide a coder in this case, like:\r\n```\r\nKafkaIO.&lt;String, Envelope&gt;read()\r\n    ...\r\n    .withValueDeserializerAndCoder(\r\n            MyClassKafkaAvroDeserializer.class, AvroCoder.of(Envelope.class))\r\n```","title":"How to consume Avro Serialized messages from AWS MSK via Apache Beam","body":"<p>I think you also need to provide a coder in this case, like:</p>\n<pre><code>KafkaIO.&lt;String, Envelope&gt;read()\n    ...\n    .withValueDeserializerAndCoder(\n            MyClassKafkaAvroDeserializer.class, AvroCoder.of(Envelope.class))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663002290,"creation_date":1663002290,"answer_id":73692815,"question_id":73672304,"body_markdown":"If you&#39;re having trouble with deserializers, you can always follow your byte-producing Read with a Map that does the deserialization.","title":"How to consume Avro Serialized messages from AWS MSK via Apache Beam","body":"<p>If you're having trouble with deserializers, you can always follow your byte-producing Read with a Map that does the deserialization.</p>\n"}],"owner":{"account_id":14243862,"reputation":1,"user_id":10289508,"display_name":"Heshan Karunaratne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663002290,"creation_date":1662817573,"question_id":73672304,"body_markdown":"```\r\nPCollection&lt;KafkaRecord&lt;String, byte[]&gt;&gt; kafkaRecordPCollection =\r\n        pipeline.apply(\r\n            KafkaIO.&lt;String, byte[]&gt;read()\r\n                .withBootstrapServers(&quot;bootstrap-server&quot;)\r\n                .withTopic(&quot;topic&quot;)\r\n                .withConsumerConfigUpdates(props)\r\n                .withKeyDeserializer(StringDeserializer.class)\r\n                .withValueDeserializer(ByteArrayDeserializer.class));\r\n```\r\n\r\nWhen I create kafkaIO in above format Im able to get data in below mentioned way.\r\n\r\n```\r\nKV{Struct{OC_NO=ABCDE3,PO_NO=11XA435A,S_ID=024,__dbz__physicalTableIdentifier=cdc.po.PO}, [3, 0, -93, -44, 46, 43, 44, -90, 68, 71, -96, 24, -105, 51, 107, -22, -27, 86, 0, 2, 12, 65, 66, 67, 68, 69, 51, 0, 2, 97, 22, 49, 46, 56, 46, 49, 46, 70, 105, 110, 97, 108, 20, 112, 111, 115, 116, 103, 114, 101, 115, 113, 108, 20, 99, 100, 99, 95, 115, 101, 114, 118, 101, 114, -6, -96, -63, -16, -28, 96, 0, 10, 102, 97, 108, 115, 101, 18, 75, 65, 70, 75, 65, 45, 80, 79, 67, 2, 66, 91, 34, 49, 50, 53, 53, 51, 52, 49, 56, 48, 56, 52, 53, 54, 34, 44, 34, 49, 50, 53, 53, 51, 56, 57, 55, 54, 52, 52, 56, 56, 34, 93, 26, 112, 117, 114, 99, 104, 97, 115, 101, 111, 114, 100, 101, 114, 28, 80, 85, 82, 67, 72, 65, 83, 69, 95, 79, 82, 68, 69, 82, 2, -66, -95, -57, -90, 15, 2, -112, -18, -4, -80, -119, 73, 0, 2, 117, 2, -116, -89, -63, -16, -28, 96, 0]}\r\n```\r\n\r\nBut I need to deserialize the byte[] into a Pojo class generated from AVRO schema. And when I try to use it for withValueDeserializer() im getting errors. Is there a specific way to do it.\r\n\r\nI have created a custom MyClassKafkaAvroDeserializer as well.\r\n\r\n```\r\n@Slf4j\r\npublic class MyClassKafkaAvroDeserializer extends\r\n    AbstractKafkaAvroDeserializer implements Deserializer&lt;Envelope&gt; {\r\n\r\n  @Override\r\n  public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n    configure(new KafkaAvroDeserializerConfig(configs));\r\n  }\r\n\r\n  @Override\r\n  public Envelope deserialize(String s, byte[] bytes) {\r\n    return (Envelope) this.deserialize(bytes);\r\n  }\r\n\r\n  @Override\r\n  public void close() {\r\n  }\r\n}\r\n\r\n```\r\n    \r\n```\r\nPCollection&lt;KafkaRecord&lt;String, Envelope&gt;&gt; kafkaRecordPCollection =\r\n        pipeline.apply(\r\n            KafkaIO.&lt;String, Envelope&gt;read()\r\n                .withBootstrapServers(&quot;bootstrap-server&quot;)\r\n                .withTopic(&quot;topic&quot;)\r\n                .withConsumerConfigUpdates(props)\r\n                .withKeyDeserializer(StringDeserializer.class)\r\n                .withValueDeserializer(MyClassKafkaAvroDeserializer.class)\r\n        );\r\n```\r\n\r\nWhich gives me an error like below\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.kafka.common.errors.SerializationException: Unknown magic byte!\r\n```","title":"How to consume Avro Serialized messages from AWS MSK via Apache Beam","body":"<pre><code>PCollection&lt;KafkaRecord&lt;String, byte[]&gt;&gt; kafkaRecordPCollection =\n        pipeline.apply(\n            KafkaIO.&lt;String, byte[]&gt;read()\n                .withBootstrapServers(&quot;bootstrap-server&quot;)\n                .withTopic(&quot;topic&quot;)\n                .withConsumerConfigUpdates(props)\n                .withKeyDeserializer(StringDeserializer.class)\n                .withValueDeserializer(ByteArrayDeserializer.class));\n</code></pre>\n<p>When I create kafkaIO in above format Im able to get data in below mentioned way.</p>\n<pre><code>KV{Struct{OC_NO=ABCDE3,PO_NO=11XA435A,S_ID=024,__dbz__physicalTableIdentifier=cdc.po.PO}, [3, 0, -93, -44, 46, 43, 44, -90, 68, 71, -96, 24, -105, 51, 107, -22, -27, 86, 0, 2, 12, 65, 66, 67, 68, 69, 51, 0, 2, 97, 22, 49, 46, 56, 46, 49, 46, 70, 105, 110, 97, 108, 20, 112, 111, 115, 116, 103, 114, 101, 115, 113, 108, 20, 99, 100, 99, 95, 115, 101, 114, 118, 101, 114, -6, -96, -63, -16, -28, 96, 0, 10, 102, 97, 108, 115, 101, 18, 75, 65, 70, 75, 65, 45, 80, 79, 67, 2, 66, 91, 34, 49, 50, 53, 53, 51, 52, 49, 56, 48, 56, 52, 53, 54, 34, 44, 34, 49, 50, 53, 53, 51, 56, 57, 55, 54, 52, 52, 56, 56, 34, 93, 26, 112, 117, 114, 99, 104, 97, 115, 101, 111, 114, 100, 101, 114, 28, 80, 85, 82, 67, 72, 65, 83, 69, 95, 79, 82, 68, 69, 82, 2, -66, -95, -57, -90, 15, 2, -112, -18, -4, -80, -119, 73, 0, 2, 117, 2, -116, -89, -63, -16, -28, 96, 0]}\n</code></pre>\n<p>But I need to deserialize the byte[] into a Pojo class generated from AVRO schema. And when I try to use it for withValueDeserializer() im getting errors. Is there a specific way to do it.</p>\n<p>I have created a custom MyClassKafkaAvroDeserializer as well.</p>\n<pre><code>@Slf4j\npublic class MyClassKafkaAvroDeserializer extends\n    AbstractKafkaAvroDeserializer implements Deserializer&lt;Envelope&gt; {\n\n  @Override\n  public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n    configure(new KafkaAvroDeserializerConfig(configs));\n  }\n\n  @Override\n  public Envelope deserialize(String s, byte[] bytes) {\n    return (Envelope) this.deserialize(bytes);\n  }\n\n  @Override\n  public void close() {\n  }\n}\n\n</code></pre>\n<pre><code>PCollection&lt;KafkaRecord&lt;String, Envelope&gt;&gt; kafkaRecordPCollection =\n        pipeline.apply(\n            KafkaIO.&lt;String, Envelope&gt;read()\n                .withBootstrapServers(&quot;bootstrap-server&quot;)\n                .withTopic(&quot;topic&quot;)\n                .withConsumerConfigUpdates(props)\n                .withKeyDeserializer(StringDeserializer.class)\n                .withValueDeserializer(MyClassKafkaAvroDeserializer.class)\n        );\n</code></pre>\n<p>Which gives me an error like below</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.kafka.common.errors.SerializationException: Unknown magic byte!\n</code></pre>\n"},{"tags":["java","svg","jfreechart"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1330601986,"post_id":9515373,"comment_id":12051356,"body_markdown":"There is a thread about this here: http://www.jfree.org/phpBB2/viewtopic.php?f=3&amp;t=24365","body":"There is a thread about this here: <a href=\"http://www.jfree.org/phpBB2/viewtopic.php?f=3&amp;t=24365\" rel=\"nofollow noreferrer\">jfree.org/phpBB2/viewtopic.php?f=3&amp;t=24365</a>"},{"owner":{"account_id":1360281,"reputation":361,"user_id":1297789,"display_name":"Omnibyte"},"score":0,"creation_date":1553161034,"post_id":9515373,"comment_id":97284812,"body_markdown":"@assylias That link is dead by now, do you recall what the conclusion of the thread was?","body":"@assylias That link is dead by now, do you recall what the conclusion of the thread was?"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1663001917,"creation_date":1330602663,"answer_id":9515676,"question_id":9515373,"body_markdown":"No, [`JFreeChart`][1] supports SVG in the sense that it can be used in conjunction with [`Batik`][2] or [`JFreeSVG`][3], which are required. Related resources include these:\r\n\r\n- [*The JFreeChart Developer Guide*][4]&lt;sup&gt;†&lt;/sup&gt;, discussed [here][5].\r\n\r\n- [*Saving JFreeChart as SVG vector images using Batik*][6].\r\n\r\n- [`JFreeSVG`][7], which can &quot;generate content in SVG format using the standard `Java2D` drawing API, `Graphics2D`.&quot; Demonstration programs may be found [here][8], including this `SVGBarChartDemo1` excerpt:\r\n\r\n        JFreeChart chart = createChart(createDataset());\r\n        SVGGraphics2D g2 = new SVGGraphics2D(600, 400);\r\n        Rectangle r = new Rectangle(0, 0, 600, 400);\r\n        chart.draw(g2, r);\r\n        File f = new File(&quot;SVGBarChartDemo1.svg&quot;);\r\n        SVGUtils.writeToSVG(f, g2.getSVGElement());\r\n\r\n&lt;sup&gt;†&lt;/sup&gt;&lt;sub&gt;*Disclaimer: Not affiliated with Object Refinery Limited; just a satisfied customer and very minor contributor.*&lt;/sub&gt;\r\n\r\n\r\n  [1]: http://www.jfree.org/jfreechart/\r\n  [2]: http://xmlgraphics.apache.org/batik/\r\n  [3]: http://www.jfree.org/jfreesvg/\r\n  [4]: http://www.jfree.org/jfreechart/devguide.html\r\n  [5]: https://github.com/jfree/jfreechart/issues/253\r\n  [6]: http://dolf.trieschnigg.nl/jfreechart/\r\n  [7]: https://github.com/jfree/jfreesvg\r\n  [8]: https://github.com/jfree/jfree-demos/tree/master/src/main/java/org/jfree/graphics2d/svg/demo","title":"How to create an SVG with JFreeChart?","body":"<p>No, <a href=\"http://www.jfree.org/jfreechart/\" rel=\"nofollow noreferrer\"><code>JFreeChart</code></a> supports SVG in the sense that it can be used in conjunction with <a href=\"http://xmlgraphics.apache.org/batik/\" rel=\"nofollow noreferrer\"><code>Batik</code></a> or <a href=\"http://www.jfree.org/jfreesvg/\" rel=\"nofollow noreferrer\"><code>JFreeSVG</code></a>, which are required. Related resources include these:</p>\n<ul>\n<li><p><a href=\"http://www.jfree.org/jfreechart/devguide.html\" rel=\"nofollow noreferrer\"><em>The JFreeChart Developer Guide</em></a><sup>†</sup>, discussed <a href=\"https://github.com/jfree/jfreechart/issues/253\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p><a href=\"http://dolf.trieschnigg.nl/jfreechart/\" rel=\"nofollow noreferrer\"><em>Saving JFreeChart as SVG vector images using Batik</em></a>.</p>\n</li>\n<li><p><a href=\"https://github.com/jfree/jfreesvg\" rel=\"nofollow noreferrer\"><code>JFreeSVG</code></a>, which can &quot;generate content in SVG format using the standard <code>Java2D</code> drawing API, <code>Graphics2D</code>.&quot; Demonstration programs may be found <a href=\"https://github.com/jfree/jfree-demos/tree/master/src/main/java/org/jfree/graphics2d/svg/demo\" rel=\"nofollow noreferrer\">here</a>, including this <code>SVGBarChartDemo1</code> excerpt:</p>\n<pre><code>  JFreeChart chart = createChart(createDataset());\n  SVGGraphics2D g2 = new SVGGraphics2D(600, 400);\n  Rectangle r = new Rectangle(0, 0, 600, 400);\n  chart.draw(g2, r);\n  File f = new File(&quot;SVGBarChartDemo1.svg&quot;);\n  SVGUtils.writeToSVG(f, g2.getSVGElement());\n</code></pre>\n</li>\n</ul>\n<p><sup>†</sup><sub><em>Disclaimer: Not affiliated with Object Refinery Limited; just a satisfied customer and very minor contributor.</em></sub></p>\n"},{"tags":[],"owner":{"account_id":2049007,"reputation":43,"user_id":1828414,"display_name":"Sep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415385995,"creation_date":1415385995,"answer_id":26808002,"question_id":9515373,"body_markdown":"In addition to trashgod &#39;s answer \r\n\r\nIt seems that JFreeSVG is far more efficient than Batik : http://www.object-refinery.com/blog/blog-20140423.html","title":"How to create an SVG with JFreeChart?","body":"<p>In addition to trashgod 's answer </p>\n\n<p>It seems that JFreeSVG is far more efficient than Batik : <a href=\"http://www.object-refinery.com/blog/blog-20140423.html\" rel=\"nofollow\">http://www.object-refinery.com/blog/blog-20140423.html</a></p>\n"},{"tags":[],"owner":{"account_id":6263135,"reputation":88,"user_id":4869675,"display_name":"Farshad Bakhshandegan Moghadda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545129089,"creation_date":1545129089,"answer_id":53831068,"question_id":9515373,"body_markdown":"To just make it simple for other readers, the following code converts a jFreeChart to a SVG by using jFreeSVG:\r\n\r\n    import org.jfree.graphics2d.svg.SVGGraphics2D;\r\n    import org.jfree.chart.JFreeChart;\r\n    import java.awt.geom.Rectangle2D;\r\n    \r\n    public String getSvgXML(){\r\n        final int widthOfSVG = 200;\r\n        final int heightOfSVG = 200;\r\n        final SVGGraphics2D svg2d = new SVGGraphics2D(widthOfSVG, heightOfSVG);\r\n\r\n        final JFreeChart chart = createYourChart();\r\n        chart.draw(svg2d,new Rectangle2D.Double(0, 0, widthOfSVG, heightOfSVG));\r\n    \r\n        final String svgElement = svg2d.getSVGElement();\r\n        return svgElement;\r\n    }\r\n\r\nTo write the SVG elements to a PDF file, you can use the following code to generate a byte[] out of your SVG and then write it to a file. For this case I use [apache batic][1] :\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n\r\n    import org.apache.batik.transcoder.Transcoder;\r\n    import org.apache.batik.transcoder.TranscoderException;\r\n    import org.apache.batik.transcoder.TranscoderInput;\r\n    import org.apache.batik.transcoder.TranscoderOutput;\r\n    import org.apache.fop.svg.PDFTranscoder;\r\n\r\n    public byte[] getSVGInPDF(){ \r\n         final Transcoder transcoder = new PDFTranscoder();\r\n         final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n         final TranscoderInput transcoderInput = new TranscoderInput(\r\n         new ByteArrayInputStream(getSvgXML().getBytes()));\r\n         final TranscoderOutput transcoderOutput = new TranscoderOutput(outputStream);\r\n         transcoder.transcode(transcoderInput, transcoderOutput);\r\n         return outputStream.toByteArray();\r\n    }\r\n\r\n\r\n  [1]: https://xmlgraphics.apache.org/batik/","title":"How to create an SVG with JFreeChart?","body":"<p>To just make it simple for other readers, the following code converts a jFreeChart to a SVG by using jFreeSVG:</p>\n\n<pre><code>import org.jfree.graphics2d.svg.SVGGraphics2D;\nimport org.jfree.chart.JFreeChart;\nimport java.awt.geom.Rectangle2D;\n\npublic String getSvgXML(){\n    final int widthOfSVG = 200;\n    final int heightOfSVG = 200;\n    final SVGGraphics2D svg2d = new SVGGraphics2D(widthOfSVG, heightOfSVG);\n\n    final JFreeChart chart = createYourChart();\n    chart.draw(svg2d,new Rectangle2D.Double(0, 0, widthOfSVG, heightOfSVG));\n\n    final String svgElement = svg2d.getSVGElement();\n    return svgElement;\n}\n</code></pre>\n\n<p>To write the SVG elements to a PDF file, you can use the following code to generate a byte[] out of your SVG and then write it to a file. For this case I use <a href=\"https://xmlgraphics.apache.org/batik/\" rel=\"nofollow noreferrer\">apache batic</a> :</p>\n\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\n\nimport org.apache.batik.transcoder.Transcoder;\nimport org.apache.batik.transcoder.TranscoderException;\nimport org.apache.batik.transcoder.TranscoderInput;\nimport org.apache.batik.transcoder.TranscoderOutput;\nimport org.apache.fop.svg.PDFTranscoder;\n\npublic byte[] getSVGInPDF(){ \n     final Transcoder transcoder = new PDFTranscoder();\n     final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n     final TranscoderInput transcoderInput = new TranscoderInput(\n     new ByteArrayInputStream(getSvgXML().getBytes()));\n     final TranscoderOutput transcoderOutput = new TranscoderOutput(outputStream);\n     transcoder.transcode(transcoderInput, transcoderOutput);\n     return outputStream.toByteArray();\n}\n</code></pre>\n"}],"owner":{"account_id":1290269,"reputation":63,"user_id":1242510,"display_name":"super_ernie77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12132,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":9515676,"answer_count":3,"score":6,"last_activity_date":1663001917,"creation_date":1330601441,"question_id":9515373,"body_markdown":"On the JFreeChart web site it says that the library can output the chart in vector format. \r\n\r\nFrom the JFreeChart site:\r\n\r\n&gt; - support for many output types, including Swing components, image files (including PNG and JPEG), and vector graphics file formats\r\n&gt; (including PDF, EPS and **SVG**);\r\n\r\nBut how can I actually output in SVG format?\r\n\r\nThere is a way using the Apache Batik library, but from the statement above I would think JFreeChart can do it without Batik. \r\n\r\nI could figure out the output for PNG and JPG in the ChartUtilities class, but there seems to be no class for vector graphics output.","title":"How to create an SVG with JFreeChart?","body":"<p>On the JFreeChart web site it says that the library can output the chart in vector format. </p>\n\n<p>From the JFreeChart site:</p>\n\n<blockquote>\n  <ul>\n  <li>support for many output types, including Swing components, image files (including PNG and JPEG), and vector graphics file formats\n  (including PDF, EPS and <strong>SVG</strong>);</li>\n  </ul>\n</blockquote>\n\n<p>But how can I actually output in SVG format?</p>\n\n<p>There is a way using the Apache Batik library, but from the statement above I would think JFreeChart can do it without Batik. </p>\n\n<p>I could figure out the output for PNG and JPG in the ChartUtilities class, but there seems to be no class for vector graphics output.</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1661859529,"post_id":73541808,"comment_id":129866850,"body_markdown":"The date string contains &#39;-&#39;  where the format contains &#39;/&#39;. Simply use the pattern from the title `&quot;yyyy-MM-dd HH:mm:ss&quot;`","body":"The date string contains &#39;-&#39;  where the format contains &#39;/&#39;. Simply use the pattern from the title <code>&quot;yyyy-MM-dd HH:mm:ss&quot;</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1661859606,"post_id":73541808,"comment_id":129866883,"body_markdown":"Stop using the outdated classes `java.util.Date` and `SimpleDateFormat`. Switch to modern `java.time` API","body":"Stop using the outdated classes <code>java.util.Date</code> and <code>SimpleDateFormat</code>. Switch to modern <code>java.time</code> API"},{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":1,"creation_date":1661859616,"post_id":73541808,"comment_id":129866889,"body_markdown":"Does this answer your question? [String-Date conversion with nanoseconds](https://stackoverflow.com/questions/12000673/string-date-conversion-with-nanoseconds)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12000673/string-date-conversion-with-nanoseconds\">String-Date conversion with nanoseconds</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1661859627,"post_id":73541808,"comment_id":129866893,"body_markdown":"You wrote the correct pattern to parse in our question title. Why not actually use that pattern to parse the String to a date?","body":"You wrote the correct pattern to parse in our question title. Why not actually use that pattern to parse the String to a date?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1661859666,"post_id":73541808,"comment_id":129866907,"body_markdown":"@OHGODSPIDERS Well, almost. It will fail on the milliseconds, I guess","body":"@OHGODSPIDERS Well, almost. It will fail on the milliseconds, I guess"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1661859946,"post_id":73541808,"comment_id":129867008,"body_markdown":"@user16320675 Well, it will silently throw them away, but that&#39;s still a failure. It&#39;s just not an exception.","body":"@user16320675 Well, it will silently throw them away, but that&#39;s still a failure. It&#39;s just not an exception."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1661859953,"post_id":73541808,"comment_id":129867011,"body_markdown":"Yes there are 7 fractional seconds (so no microseconds) Not sure about the old time format taking 0117372 as &#181;s and thus with a factor 10 corrupting the seconds. Check that or indeed better use the thorough new java time classes. Read the javadoc","body":"Yes there are 7 fractional seconds (so no microseconds) Not sure about the old time format taking 0117372 as &#181;s and thus with a factor 10 corrupting the seconds. Check that or indeed better use the thorough new java time classes. Read the javadoc"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1661861884,"post_id":73541808,"comment_id":129867803,"body_markdown":"@user16320675 You&#39;re assuming the &#39;user&#39; knows what they are doing when they just asked a question on SO, which seems like borderline madness. Perhaps scoring an internet point against Michael here is not worth it? The remark &#39;hey, do know that you have millis in your input and this pattern chucks em away&#39; is a useful contribution.","body":"@user16320675 You&#39;re assuming the &#39;user&#39; knows what they are doing when they just asked a question on SO, which seems like borderline madness. Perhaps scoring an internet point against Michael here is not worth it? The remark &#39;hey, do know that you have millis in your input and this pattern chucks em away&#39; is a useful contribution."},{"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"score":1,"creation_date":1661862365,"post_id":73541808,"comment_id":129868046,"body_markdown":"I came here to comment that 117k milliseconds are actually 117 seconds, which will affect the resulting time, but I see that is already been discussed","body":"I came here to comment that 117k milliseconds are actually 117 seconds, which will affect the resulting time, but I see that is already been discussed"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661880707,"post_id":73541808,"comment_id":129875586,"body_markdown":"I too strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Also there is *no way* that `SimpleDateFormat` could parse the 7 decimals on the seocnds correctly. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I too strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Also there is <i>no way</i> that <code>SimpleDateFormat</code> could parse the 7 decimals on the seocnds correctly. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1661880801,"post_id":73541808,"comment_id":129875617,"body_markdown":"Does this in any way answer your question? [java.text.ParseException: Unparseable date: &quot;20:01:00.000Z&quot;](https://stackoverflow.com/questions/56302402/java-text-parseexception-unparseable-date-200100-000z)","body":"Does this in any way answer your question? <a href=\"https://stackoverflow.com/questions/56302402/java-text-parseexception-unparseable-date-200100-000z\">java.text.ParseException: Unparseable date: &quot;20:01:00.000Z&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":979189,"reputation":725,"user_id":1866010,"accept_rate":67,"display_name":"Calabacin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663001884,"creation_date":1661861453,"answer_id":73542251,"question_id":73541808,"body_markdown":"You are using &quot;dd/MM/yyyy&quot; for date format, but you should be using &quot;yyyy-MM-dd&quot; (inverse order, and dashes instead of slashes)\r\n\r\nAlso I suggest you use modern java.time packages and do something like this:\r\n\r\n    String str = &quot;2020-04-14 16:34:40.0117372&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot;);\r\n    LocalDateTime dateTime = LocalDateTime.parse(str, formatter);\r\n\r\n\r\nEdit: Having 7 digits for milliseconds is **correct**, first digits for milliseconds and the rest for nanoseconds. &lt;s&gt;strange. Usually you want 3 digits because 1000 milliseconds is a second. You likely have nanoseconds, which should be dealt with by this method&lt;/s&gt;.","title":"How to parse a yyyy-MM-dd HH:mm:ss to Date?","body":"<p>You are using &quot;dd/MM/yyyy&quot; for date format, but you should be using &quot;yyyy-MM-dd&quot; (inverse order, and dashes instead of slashes)</p>\n<p>Also I suggest you use modern java.time packages and do something like this:</p>\n<pre><code>String str = &quot;2020-04-14 16:34:40.0117372&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSSS&quot;);\nLocalDateTime dateTime = LocalDateTime.parse(str, formatter);\n</code></pre>\n<p>Edit: Having 7 digits for milliseconds is <strong>correct</strong>, first digits for milliseconds and the rest for nanoseconds. <s>strange. Usually you want 3 digits because 1000 milliseconds is a second. You likely have nanoseconds, which should be dealt with by this method</s>.</p>\n"}],"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":73542251,"answer_count":1,"score":-4,"last_activity_date":1663001884,"creation_date":1661859402,"question_id":73541808,"body_markdown":"I&#39;m trying to parse a date with the format &quot;&quot; to Date. \r\n\r\n    DateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n    Date date = sdf.parse(dateStr);\r\n    String = sdf.format(date);\r\n\r\nAn example of the *dateStr* is &quot;2020-04-14 16:34:40.0117372&quot;.\r\n\r\nI get an error when trying to parse the string, but I don&#39;t know why.\r\n\r\nThe error I&#39;m getting is the following:\r\n\r\n```\r\njava.text.ParseException: Unparseable date: &quot;2020-04-14 16:34:40.0117372&quot;\r\n```\r\n\r\nWhy can&#39;t I parse this date? How can I do it?\r\n\r\n\r\n","title":"How to parse a yyyy-MM-dd HH:mm:ss to Date?","body":"<p>I'm trying to parse a date with the format &quot;&quot; to Date.</p>\n<pre><code>DateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\nDate date = sdf.parse(dateStr);\nString = sdf.format(date);\n</code></pre>\n<p>An example of the <em>dateStr</em> is &quot;2020-04-14 16:34:40.0117372&quot;.</p>\n<p>I get an error when trying to parse the string, but I don't know why.</p>\n<p>The error I'm getting is the following:</p>\n<pre><code>java.text.ParseException: Unparseable date: &quot;2020-04-14 16:34:40.0117372&quot;\n</code></pre>\n<p>Why can't I parse this date? How can I do it?</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1663002462,"post_id":73692680,"comment_id":130131831,"body_markdown":"Correct the spelling of your technical terms","body":"Correct the spelling of your technical terms"},{"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"score":0,"creation_date":1663009006,"post_id":73692680,"comment_id":130133854,"body_markdown":"seems like it swagger bug https://github.com/springfox/springfox/issues/3033","body":"seems like it swagger bug <a href=\"https://github.com/springfox/springfox/issues/3033\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/3033</a>"},{"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"score":0,"creation_date":1663009124,"post_id":73692680,"comment_id":130133886,"body_markdown":"they use hashmap  to deal with methods instead of LinkedHashMap - that be able to do original order.....","body":"they use hashmap  to deal with methods instead of LinkedHashMap - that be able to do original order....."}],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663001582,"creation_date":1663001582,"question_id":73692680,"body_markdown":"Is there any way to config swagger to make generation UI ordered like it was in java class\r\n\r\n    public class someController{\r\n    \r\n    method1(){}\r\n    method2(){}\r\nand need to generate in same order\r\n\r\n- get method1\r\n- get method2","title":"How to config swager that generate UI with methods ordered like in controller","body":"<p>Is there any way to config swagger to make generation UI ordered like it was in java class</p>\n<pre><code>public class someController{\n\nmethod1(){}\nmethod2(){}\n</code></pre>\n<p>and need to generate in same order</p>\n<ul>\n<li>get method1</li>\n<li>get method2</li>\n</ul>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663001243,"creation_date":1663001243,"answer_id":73692616,"question_id":73691624,"body_markdown":"The text in an XWPFParagraph is composed from one or more XWPFRun objects\r\nXWPFRun has getText() and setText() methods.\r\nApache StringUtils.remove(str, remove) removes all occurrences of &quot;remove&quot; from the &quot;str&quot; string.\r\n\r\nI&#39;m still old-school, here is an imperative (and untested) solution:\r\n\r\n```java\r\nfor (final XWPFParagraph currentParagraph :  doc.getParagraphs())\r\n{\r\n\tfor (final XWPFRun currentRun : currentParagraph.getRuns())\r\n\t{\r\n\t\tfinal String strippedText;\r\n\t\tfinal String text = currentRun.getText(0); // Start at position 0\r\n\t\t\r\n\t\tstrippedText = StringUtils.remove(text, &quot;\\n&quot;);\r\n\t\t\r\n\t\tcurrentRun.setText(0):\r\n\t}\r\n}\r\n```\r\n\r\nNote: Apache StringUtils.remove is null safe.\r\n\r\nThis answer is a simplification of the accepted answer to this question:\r\nhttps://stackoverflow.com/questions/22268898/replacing-a-text-in-apache-poi-xwpf\r\n","title":"How to remove line breaks with Apache Poi?","body":"<p>The text in an XWPFParagraph is composed from one or more XWPFRun objects\nXWPFRun has getText() and setText() methods.\nApache StringUtils.remove(str, remove) removes all occurrences of &quot;remove&quot; from the &quot;str&quot; string.</p>\n<p>I'm still old-school, here is an imperative (and untested) solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (final XWPFParagraph currentParagraph :  doc.getParagraphs())\n{\n    for (final XWPFRun currentRun : currentParagraph.getRuns())\n    {\n        final String strippedText;\n        final String text = currentRun.getText(0); // Start at position 0\n        \n        strippedText = StringUtils.remove(text, &quot;\\n&quot;);\n        \n        currentRun.setText(0):\n    }\n}\n</code></pre>\n<p>Note: Apache StringUtils.remove is null safe.</p>\n<p>This answer is a simplification of the accepted answer to this question:\n<a href=\"https://stackoverflow.com/questions/22268898/replacing-a-text-in-apache-poi-xwpf\">Replacing a text in Apache POI XWPF</a></p>\n"}],"owner":{"display_name":"user19977997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663001243,"creation_date":1662996404,"question_id":73691624,"body_markdown":"I need to delete  line breaks in a document docx.\r\nMy code is this, but it doesn&#39;t work with line breaks, only it works with text:\r\n\r\n    XWPFParagraph toDelete = doc.getParagraphs().stream()\r\n                .filter(p-&gt; StringUtils.equalsAnyIgnoreCase(&quot;\\n&quot;, p.getParagraphText()))\r\n                .findFirst().orElse(null);\r\n        if(toDelete!=null){\r\n\r\n            doc.removeBodyElement(doc.getPosOfParagraph(toDelete));\r\n        }\r\n\r\n","title":"How to remove line breaks with Apache Poi?","body":"<p>I need to delete  line breaks in a document docx.\nMy code is this, but it doesn't work with line breaks, only it works with text:</p>\n<pre><code>XWPFParagraph toDelete = doc.getParagraphs().stream()\n            .filter(p-&gt; StringUtils.equalsAnyIgnoreCase(&quot;\\n&quot;, p.getParagraphText()))\n            .findFirst().orElse(null);\n    if(toDelete!=null){\n\n        doc.removeBodyElement(doc.getPosOfParagraph(toDelete));\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","plsql","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1662963498,"post_id":73685137,"comment_id":130118666,"body_markdown":"`employee=null` is the employee null or just the ID?","body":"<code>employee=null</code> is the employee null or just the ID?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1662965669,"post_id":73685137,"comment_id":130119175,"body_markdown":"You have a bi-directional relationship, you need to set the `Employee` on the `Project` else it won&#39;t save anything. So if you add a `Project` to the `Employee` call `setEmployee(this);` on the `Project` (or when setting the `List` which is actually a bad idea). Additionally using `@Data` for entities is a bad idea as it generates wrong `equals` and `hashCode` (for JPA at least).","body":"You have a bi-directional relationship, you need to set the <code>Employee</code> on the <code>Project</code> else it won&#39;t save anything. So if you add a <code>Project</code> to the <code>Employee</code> call <code>setEmployee(this);</code> on the <code>Project</code> (or when setting the <code>List</code> which is actually a bad idea). Additionally using <code>@Data</code> for entities is a bad idea as it generates wrong <code>equals</code> and <code>hashCode</code> (for JPA at least)."},{"owner":{"account_id":9259320,"reputation":13,"user_id":6876977,"display_name":"nani neelam"},"score":0,"creation_date":1662998061,"post_id":73685137,"comment_id":130130412,"body_markdown":"@XtremeBaumer : Yes. The employee is coming as null.","body":"@XtremeBaumer : Yes. The employee is coming as null."},{"owner":{"account_id":9259320,"reputation":13,"user_id":6876977,"display_name":"nani neelam"},"score":0,"creation_date":1662998066,"post_id":73685137,"comment_id":130130414,"body_markdown":"@M.Deinum\nI added the code which parses the csv and build the Employee and Project objects. Please let me know what I am missing.","body":"@M.Deinum I added the code which parses the csv and build the Employee and Project objects. Please let me know what I am missing."},{"owner":{"account_id":9259320,"reputation":13,"user_id":6876977,"display_name":"nani neelam"},"score":0,"creation_date":1662998624,"post_id":73685137,"comment_id":130130662,"body_markdown":"@M.Deinum: Also, I read about `@Data` with `Entity` and what you said makes sense. Thanks for the tip. I will clean it up.","body":"@M.Deinum: Also, I read about <code>@Data</code> with <code>Entity</code> and what you said makes sense. Thanks for the tip. I will clean it up."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662971016,"creation_date":1662970388,"answer_id":73686287,"question_id":73685137,"body_markdown":"&gt; I am thinking employee=null makes sense because it was not saved to DB yet.\r\n\r\nThis is wrong. If you save an item with bi-directional relationship then you cannot have a case when an orphan `Project` exists without an `Employee`. So before calling any `CrudRepository.save*()` you must make sure that all `projects` reference some `Employee`.\r\n\r\nOften in such cases when you add projects to employee you do it like:\r\n```java\r\n// method of Employee class\r\npublic void addAll(Projects projects) {\r\n  for (Project : projects) {\r\n    project.setEmployee(this);\r\n  }\r\n  this.projects.addAll(projects);\r\n}\r\n```\r\n","title":"Spring JPA Saving Parent Object is not Saving Child Object - Resolved (at end of comment)","body":"<blockquote>\n<p>I am thinking employee=null makes sense because it was not saved to DB yet.</p>\n</blockquote>\n<p>This is wrong. If you save an item with bi-directional relationship then you cannot have a case when an orphan <code>Project</code> exists without an <code>Employee</code>. So before calling any <code>CrudRepository.save*()</code> you must make sure that all <code>projects</code> reference some <code>Employee</code>.</p>\n<p>Often in such cases when you add projects to employee you do it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// method of Employee class\npublic void addAll(Projects projects) {\n  for (Project : projects) {\n    project.setEmployee(this);\n  }\n  this.projects.addAll(projects);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662970395,"creation_date":1662970395,"answer_id":73686289,"question_id":73685137,"body_markdown":"Further to comment by @M.Deinum - declare a method like this in your Employee class and use it to add a project to an employee ensuring the bidirectional relationship is kept in sync\r\n```\r\n    public void addProject(Project project) {\r\n        if (projects == null) {\r\n            projects = new ArrayList&lt;&gt;();\r\n        }\r\n        project.setEmployee(this);\r\n        projects.add(project);\r\n    }\r\n```","title":"Spring JPA Saving Parent Object is not Saving Child Object - Resolved (at end of comment)","body":"<p>Further to comment by @M.Deinum - declare a method like this in your Employee class and use it to add a project to an employee ensuring the bidirectional relationship is kept in sync</p>\n<pre><code>    public void addProject(Project project) {\n        if (projects == null) {\n            projects = new ArrayList&lt;&gt;();\n        }\n        project.setEmployee(this);\n        projects.add(project);\n    }\n</code></pre>\n"}],"owner":{"account_id":9259320,"reputation":13,"user_id":6876977,"display_name":"nani neelam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73686289,"answer_count":2,"score":1,"last_activity_date":1663001109,"creation_date":1662963106,"question_id":73685137,"body_markdown":"I have a csv file that has a list of employees and projects information (each employee having multiple projects).\r\nI upload the file, parse the csv and build a parent-child relationship -&gt; Employee and Projects respectively and save it to Database.\r\n\r\nBelow is my Employee Entity class (I tried the commented part but no luck)\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;employees&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    @NotNull\r\n    private String name;\r\n    @NotNull\r\n    private String empId;\r\n    @NotNull\r\n    private String department;\r\n\r\n    //@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;transcript&quot;, cascade = CascadeType.ALL) //tried didn&#39;t work\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;employee&quot;, orphanRemoval = true)\r\n    private List&lt;Project&gt; projects;\r\n\r\n    public Employee(String name, String empId, String department) {\r\n        this.name = name;\r\n        this.empId = empId;\r\n        this.department = department;\r\n    }\r\n}\r\n```\r\n\r\nBelow is my Project Entity class\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Project {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String projectName;\r\n    private String projectCode;\r\n        private Instant projectStartDate;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;employee_id&quot;, nullable = false)\r\n    @JsonBackReference\r\n    private Employee employee;\r\n\r\n    public Project(String name, String code, Instant time) {\r\n        this.projectName = name;\r\n        this.projectCode = code;\r\n        this.projectStartDate = time;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is where I am trying to save my Employee object:\r\n\r\n\r\n```\r\n@Transactional\r\n    public void uploadEmployees(MultipartFile file) {\r\n        try {\r\n//calls csv helper that does all the parsing and brings into Employee model object format\r\n            Set&lt;Employess&gt; employees = CSVHelper.csvToEmployess(file.getInputStream(), &quot;2&quot;);\r\n            employeeRepository.saveAll(employees);\r\n            System.out.println(&quot;I processed all the records of cdv into java&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }catch (Exception e ){\r\n            throw new RuntimeException(e.getMessage());\r\n        }\r\n    }\r\n```\r\nThis above method throws :\r\n\r\n\r\n```\r\n2022-09-11T22:30:08.438-05:00 ERROR 63321 --- [nio-8086-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column &quot;employee_id&quot; of relation &quot;projects&quot; violates not-null constraint\r\n  Detail: Failing row contains (6, p1, 123, 0184-06-08T01:07:47Z, null).\r\n```\r\n\r\n\r\nIf I change the id generation type to @GeneratedValue(strategy = GenerationType.AUTO) : I get the below exception:\r\n\r\n```\r\n2022-09-12T00:55:09.465-05:00  WARN 73014 --- [nio-8086-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n2022-09-12T00:55:09.465-05:00 ERROR 73014 --- [nio-8086-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;hibernate_sequence&quot; does not exist\r\n  Position: 17\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy133.saveAll(Unknown Source)\r\n\r\n\r\n```\r\n\r\nJust before executing saveAll method,I tried looking how my employees list looks like using debugger and it looks as below :\r\n\r\n\r\n```\r\n  Employee(id=0, name=&quot;test&quot;, empId=&quot;4511504557911789&quot;, department=&quot;JJ967W&quot;\r\n  \t\tprojects=[\r\n  \t\t\t\tProject(id=0, projectName=&quot;p1&quot;, projectCode=&quot;123&quot;, projectStartDate=&quot;0184-06-08T01:07:47Z&quot;, employee=null),\r\n   \t\t\t\tProject(id=0, projectName=&quot;p2&quot;, projectCode=&quot;345&quot;, projectStartDate=&quot;0184-06-08T01:07:47Z&quot;, employee=null)\r\n   \t\t\t\t]\r\n   \t\t)\r\n```\r\nI am thinking ```employee=null``` makes sense because it was not saved to DB yet.\r\n\r\n\r\nPlease help me out in what I am missing here that is causing this to break.\r\nThank you very much for taking time in providng help.\r\n\r\n\r\n**** UPDATED ****\r\n\r\nAdding the part where I am adding parsing CSV and building Employee and Project objects\r\n\r\n```\r\npublic static Set&lt;Employee&gt; csvToTranscripts(InputStream is) throws IOException {\r\n        try (BufferedReader fileReader = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\r\n             CSVParser csvParser = new CSVParser(fileReader,\r\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());) {\r\n            Set&lt;Employee&gt; employees = new HashSet&lt;&gt;();\r\n            List&lt;CSVRecord&gt; csvRecordsList = csvParser.getRecords();\r\n            Employee employee = null;\r\n            List&lt;String&gt; empIds = new ArrayList&lt;&gt;();\r\n            List&lt;Project&gt; projects = null;\r\n            //iterate through list and create project list for new emp_id\r\n            for(CSVRecord csvRecord : csvRecordsList){\r\n                if(employees.isEmpty() || !empIds.contains(csvRecord.get(&quot;EMP_ID&quot;))){\r\n                    employee = new Employee(\r\n                            csvRecord.get(&quot;NAME&quot;),\r\n                            csvRecord.get(&quot;EMP_ID&quot;),\r\n                            csvRecord.get(&quot;DEPARTMENT&quot;)\r\n                    );\r\n                    empIds.add(csvRecord.get(&quot;EMP_ID&quot;)); //this is mainly to check for unique emp id\r\n                    projects = new ArrayList&lt;&gt;();\r\n                }\r\n                Project project = new Project(csvRecord.get(&quot;NAME&quot;),\r\n                        csvRecord.get(&quot;CODE&quot;),\r\n                        formatToInstant(csvRecord.get(&quot;TIME&quot;)) );\r\n                project.setEmployee(employee);//setting employee to project here\r\n                projects.add(project);\r\n                employee.setProjects(projects); //setting projects list to employee here\r\n                employees.add(employee);\r\n            }\r\n            return employees;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;fail to parse CSV file: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n************ RESOLVED ******************\r\nThanks everyone for help. Setting employee to project resolved the issue. what a dumb I am !!!\r\n\r\n```\r\n project.setEmployee(employee);\r\n```","title":"Spring JPA Saving Parent Object is not Saving Child Object - Resolved (at end of comment)","body":"<p>I have a csv file that has a list of employees and projects information (each employee having multiple projects).\nI upload the file, parse the csv and build a parent-child relationship -&gt; Employee and Projects respectively and save it to Database.</p>\n<p>Below is my Employee Entity class (I tried the commented part but no luck)</p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    @NotNull\n    private String name;\n    @NotNull\n    private String empId;\n    @NotNull\n    private String department;\n\n    //@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;transcript&quot;, cascade = CascadeType.ALL) //tried didn't work\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;employee&quot;, orphanRemoval = true)\n    private List&lt;Project&gt; projects;\n\n    public Employee(String name, String empId, String department) {\n        this.name = name;\n        this.empId = empId;\n        this.department = department;\n    }\n}\n</code></pre>\n<p>Below is my Project Entity class</p>\n<pre><code>@Entity\n@Table(name = &quot;projects&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Project {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String projectName;\n    private String projectCode;\n        private Instant projectStartDate;\n\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;employee_id&quot;, nullable = false)\n    @JsonBackReference\n    private Employee employee;\n\n    public Project(String name, String code, Instant time) {\n        this.projectName = name;\n        this.projectCode = code;\n        this.projectStartDate = time;\n    }\n}\n</code></pre>\n<p>This is where I am trying to save my Employee object:</p>\n<pre><code>@Transactional\n    public void uploadEmployees(MultipartFile file) {\n        try {\n//calls csv helper that does all the parsing and brings into Employee model object format\n            Set&lt;Employess&gt; employees = CSVHelper.csvToEmployess(file.getInputStream(), &quot;2&quot;);\n            employeeRepository.saveAll(employees);\n            System.out.println(&quot;I processed all the records of cdv into java&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }catch (Exception e ){\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n</code></pre>\n<p>This above method throws :</p>\n<pre><code>2022-09-11T22:30:08.438-05:00 ERROR 63321 --- [nio-8086-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column &quot;employee_id&quot; of relation &quot;projects&quot; violates not-null constraint\n  Detail: Failing row contains (6, p1, 123, 0184-06-08T01:07:47Z, null).\n</code></pre>\n<p>If I change the id generation type to @GeneratedValue(strategy = GenerationType.AUTO) : I get the below exception:</p>\n<pre><code>2022-09-12T00:55:09.465-05:00  WARN 73014 --- [nio-8086-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2022-09-12T00:55:09.465-05:00 ERROR 73014 --- [nio-8086-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;hibernate_sequence&quot; does not exist\n  Position: 17\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy133.saveAll(Unknown Source)\n\n\n</code></pre>\n<p>Just before executing saveAll method,I tried looking how my employees list looks like using debugger and it looks as below :</p>\n<pre><code>  Employee(id=0, name=&quot;test&quot;, empId=&quot;4511504557911789&quot;, department=&quot;JJ967W&quot;\n        projects=[\n                Project(id=0, projectName=&quot;p1&quot;, projectCode=&quot;123&quot;, projectStartDate=&quot;0184-06-08T01:07:47Z&quot;, employee=null),\n                Project(id=0, projectName=&quot;p2&quot;, projectCode=&quot;345&quot;, projectStartDate=&quot;0184-06-08T01:07:47Z&quot;, employee=null)\n                ]\n        )\n</code></pre>\n<p>I am thinking <code>employee=null</code> makes sense because it was not saved to DB yet.</p>\n<p>Please help me out in what I am missing here that is causing this to break.\nThank you very much for taking time in providng help.</p>\n<p>**** UPDATED ****</p>\n<p>Adding the part where I am adding parsing CSV and building Employee and Project objects</p>\n<pre><code>public static Set&lt;Employee&gt; csvToTranscripts(InputStream is) throws IOException {\n        try (BufferedReader fileReader = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\n             CSVParser csvParser = new CSVParser(fileReader,\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim());) {\n            Set&lt;Employee&gt; employees = new HashSet&lt;&gt;();\n            List&lt;CSVRecord&gt; csvRecordsList = csvParser.getRecords();\n            Employee employee = null;\n            List&lt;String&gt; empIds = new ArrayList&lt;&gt;();\n            List&lt;Project&gt; projects = null;\n            //iterate through list and create project list for new emp_id\n            for(CSVRecord csvRecord : csvRecordsList){\n                if(employees.isEmpty() || !empIds.contains(csvRecord.get(&quot;EMP_ID&quot;))){\n                    employee = new Employee(\n                            csvRecord.get(&quot;NAME&quot;),\n                            csvRecord.get(&quot;EMP_ID&quot;),\n                            csvRecord.get(&quot;DEPARTMENT&quot;)\n                    );\n                    empIds.add(csvRecord.get(&quot;EMP_ID&quot;)); //this is mainly to check for unique emp id\n                    projects = new ArrayList&lt;&gt;();\n                }\n                Project project = new Project(csvRecord.get(&quot;NAME&quot;),\n                        csvRecord.get(&quot;CODE&quot;),\n                        formatToInstant(csvRecord.get(&quot;TIME&quot;)) );\n                project.setEmployee(employee);//setting employee to project here\n                projects.add(project);\n                employee.setProjects(projects); //setting projects list to employee here\n                employees.add(employee);\n            }\n            return employees;\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;fail to parse CSV file: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>************ RESOLVED ******************\nThanks everyone for help. Setting employee to project resolved the issue. what a dumb I am !!!</p>\n<pre><code> project.setEmployee(employee);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"score":1,"creation_date":1663001092,"post_id":73692531,"comment_id":130131416,"body_markdown":"Which version of Java are you using?","body":"Which version of Java are you using?"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663001030,"creation_date":1663001030,"answer_id":73692571,"question_id":73692531,"body_markdown":"You can use `Scanner` like this\r\n\r\n```\r\ntextFile = &quot;C:/Users/User/AppData/Local/Temp/Temp1_2022_WHP.zip/resources/characters.csv&quot;;\r\nList&lt;List&lt;String&gt;&gt; mylist = new ArrayList&lt;&gt;();\r\ntry (Scanner scanner = new Scanner(new File(&quot;textFile&quot;));) {\r\n    while (scanner.hasNextLine()) {\r\n        mylist.add(getRecordFromLine(scanner.nextLine()));\r\n    }\r\n}\r\n```\r\n\r\nYou can also use `BufferedReader` in java.io like the following\r\n\r\n```\r\ntextFile = &quot;C:/Users/User/AppData/Local/Temp/Temp1_2022_WHP.zip/resources/characters.csv&quot;;\r\n\r\nList&lt;List&lt;String&gt;&gt; myList = new ArrayList&lt;&gt;();\r\ntry (BufferedReader bffuerReader = new BufferedReader(new FileReader(&quot;textFile&quot;))) {\r\n        String line;\r\n        while ((line = bffuerReader.readLine()) != null) {\r\n            String[] values = line.split(COMMA_DELIMITER);\r\n            myList.add(Arrays.asList(values));\r\n        }\r\n    }\r\n```","title":"How to save information of a csv-File in a list","body":"<p>You can use <code>Scanner</code> like this</p>\n<pre><code>textFile = &quot;C:/Users/User/AppData/Local/Temp/Temp1_2022_WHP.zip/resources/characters.csv&quot;;\nList&lt;List&lt;String&gt;&gt; mylist = new ArrayList&lt;&gt;();\ntry (Scanner scanner = new Scanner(new File(&quot;textFile&quot;));) {\n    while (scanner.hasNextLine()) {\n        mylist.add(getRecordFromLine(scanner.nextLine()));\n    }\n}\n</code></pre>\n<p>You can also use <code>BufferedReader</code> in java.io like the following</p>\n<pre><code>textFile = &quot;C:/Users/User/AppData/Local/Temp/Temp1_2022_WHP.zip/resources/characters.csv&quot;;\n\nList&lt;List&lt;String&gt;&gt; myList = new ArrayList&lt;&gt;();\ntry (BufferedReader bffuerReader = new BufferedReader(new FileReader(&quot;textFile&quot;))) {\n        String line;\n        while ((line = bffuerReader.readLine()) != null) {\n            String[] values = line.split(COMMA_DELIMITER);\n            myList.add(Arrays.asList(values));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236909,"reputation":8312,"user_id":504717,"accept_rate":56,"display_name":"Em Ae"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663001042,"creation_date":1663001042,"answer_id":73692575,"question_id":73692531,"body_markdown":"Not sure if you have any limitations on what you can use and what can&#39;t but did you try using [OpenCSV][1] library?\r\n\r\nYou can then read it like this\r\n\r\n```\r\n  try (CSVReader reader = new CSVReader(new FileReader(&quot;file.csv&quot;))) {\r\n      List&lt;String[]&gt; r = reader.readAll();\r\n      r.forEach(x -&gt; System.out.println(Arrays.toString(x)));\r\n  }\r\n```\r\n\r\nThis will give you a list of array of strings which will contain all the values for each line. \r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/","title":"How to save information of a csv-File in a list","body":"<p>Not sure if you have any limitations on what you can use and what can't but did you try using <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">OpenCSV</a> library?</p>\n<p>You can then read it like this</p>\n<pre><code>  try (CSVReader reader = new CSVReader(new FileReader(&quot;file.csv&quot;))) {\n      List&lt;String[]&gt; r = reader.readAll();\n      r.forEach(x -&gt; System.out.println(Arrays.toString(x)));\n  }\n</code></pre>\n<p>This will give you a list of array of strings which will contain all the values for each line.</p>\n"}],"owner":{"account_id":26307847,"reputation":13,"user_id":19971974,"display_name":"haruka kudo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663001042,"creation_date":1663000756,"question_id":73692531,"body_markdown":"I wanted to ask how I can load information of a csv-file in a list. I don&#39;t have much until now so a little help would be nice if possible. What I tried until now is to get the file but I&#39;m not sure if it&#39;s right because I&#39;m not that good at File I/O. After that I stuck at how to save it in a list.\r\n```\r\nList&lt;GameCharacter&gt; characters;\r\n\r\nstatic void loadTextFile(String textFile) throws FileNotFoundException {\r\n        //textFile = String.valueOf(new File(&quot;C:/Users/User/AppData/Local/Temp/Temp1_2022_WHP.zip/resources/characters.csv&quot;));\r\n        textFile = &quot;C:/Users/User/AppData/Local/Temp/Temp1_2022_WHP.zip/resources/characters.csv&quot;;\r\n        FileInputStream d = new FileInputStream(textFile);\r\n    }\r\n```\r\n","title":"How to save information of a csv-File in a list","body":"<p>I wanted to ask how I can load information of a csv-file in a list. I don't have much until now so a little help would be nice if possible. What I tried until now is to get the file but I'm not sure if it's right because I'm not that good at File I/O. After that I stuck at how to save it in a list.</p>\n<pre><code>List&lt;GameCharacter&gt; characters;\n\nstatic void loadTextFile(String textFile) throws FileNotFoundException {\n        //textFile = String.valueOf(new File(&quot;C:/Users/User/AppData/Local/Temp/Temp1_2022_WHP.zip/resources/characters.csv&quot;));\n        textFile = &quot;C:/Users/User/AppData/Local/Temp/Temp1_2022_WHP.zip/resources/characters.csv&quot;;\n        FileInputStream d = new FileInputStream(textFile);\n    }\n</code></pre>\n"},{"tags":["java","adobe","analytics","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1663009566,"post_id":73692567,"comment_id":130133995,"body_markdown":"I recommend looking at these other answers: https://stackoverflow.com/a/59792468/143475 https://stackoverflow.com/a/54527955/143475","body":"I recommend looking at these other answers: <a href=\"https://stackoverflow.com/a/59792468/143475\">stackoverflow.com/a/59792468/143475</a> <a href=\"https://stackoverflow.com/a/54527955/143475\">stackoverflow.com/a/54527955/143475</a>"}],"owner":{"account_id":26315947,"reputation":11,"user_id":19978730,"display_name":"Ihor Kysil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663001009,"creation_date":1663001009,"question_id":73692567,"body_markdown":"My project is required to do ui testing and to track Adobe Analytics. I know that there are options with Java libraries. But I&#39;m willing to use Karate and combine it with Adobe Analytics. Any suggestions?","title":"Karate Analytics","body":"<p>My project is required to do ui testing and to track Adobe Analytics. I know that there are options with Java libraries. But I'm willing to use Karate and combine it with Adobe Analytics. Any suggestions?</p>\n"},{"tags":["java","performance","hashmap","hashset"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1661794079,"post_id":73532473,"comment_id":129851121,"body_markdown":"I mean, technically, all real computing is O(1) because there&#39;s a maximum amount of memory space in the universe.  Do you think that&#39;s a useful way of thinking about it?","body":"I mean, technically, all real computing is O(1) because there&#39;s a maximum amount of memory space in the universe.  Do you think that&#39;s a useful way of thinking about it?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1661794554,"post_id":73532473,"comment_id":129851307,"body_markdown":"There *isn&#39;t* an answer to this question.  Technically, it&#39;s both depending on how you look at it.  It&#39;s up to you what N means in your program when it&#39;s bounded.","body":"There <i>isn&#39;t</i> an answer to this question.  Technically, it&#39;s both depending on how you look at it.  It&#39;s up to you what N means in your program when it&#39;s bounded."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1661795247,"post_id":73532473,"comment_id":129851561,"body_markdown":"@LouisWasserman is the distinction you are trying to make that, since N is a constant (26), we can view the space requirement as constant *for this use.* For example, I&#39;m using this map to convert characters in a string from lower to upper case. The space required might depend on the string length, but its constant with respect to the conversion table. Something like that?","body":"@LouisWasserman is the distinction you are trying to make that, since N is a constant (26), we can view the space requirement as constant <i>for this use.</i> For example, I&#39;m using this map to convert characters in a string from lower to upper case. The space required might depend on the string length, but its constant with respect to the conversion table. Something like that?"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663000589,"creation_date":1661794091,"answer_id":73532527,"question_id":73532473,"body_markdown":"On average, hashed collections (maps or sets) require O(n) space and O(1) time for insert, search, and delete operations. You can think of a hash map as a hash set with some extra information linked to the key.\r\n\r\nIn your case, if `n` is the constant 26, O(26) &amp;approx; O(1). Constant space is required for this aspect of the algorithm that depends on this mapping.","title":"If I create a HashMap which contains only lowercase letter as key(max 26), what is the space complexity","body":"<p>On average, hashed collections (maps or sets) require O(n) space and O(1) time for insert, search, and delete operations. You can think of a hash map as a hash set with some extra information linked to the key.</p>\n<p>In your case, if <code>n</code> is the constant 26, O(26) ≈ O(1). Constant space is required for this aspect of the algorithm that depends on this mapping.</p>\n"}],"owner":{"account_id":22888338,"reputation":1,"user_id":17028864,"display_name":"Yikka Kkk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663000589,"creation_date":1661793779,"question_id":73532473,"body_markdown":"Also for the Hashset has only lowerletter case.\r\n\r\nIs this O(1)/ or O(N)\r\n\r\nNot the performance.\r\n\r\nEg: A leetcode problem\r\nMap&lt;Character,Integer&gt;store = new HashMap&lt;&gt;();\r\nstore only contains lowercase letter as key.\r\nAsk the space Complexity, is this O(1)/O(N).\r\n\r\n\r\n","title":"If I create a HashMap which contains only lowercase letter as key(max 26), what is the space complexity","body":"<p>Also for the Hashset has only lowerletter case.</p>\n<p>Is this O(1)/ or O(N)</p>\n<p>Not the performance.</p>\n<p>Eg: A leetcode problem\nMap&lt;Character,Integer&gt;store = new HashMap&lt;&gt;();\nstore only contains lowercase letter as key.\nAsk the space Complexity, is this O(1)/O(N).</p>\n"},{"tags":["java","generics","maps","wildcard"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":3,"creation_date":1662965978,"post_id":73685473,"comment_id":130119251,"body_markdown":"Use `Map&lt;String, Object&gt;`","body":"Use <code>Map&lt;String, Object&gt;</code>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1662966107,"post_id":73685473,"comment_id":130119291,"body_markdown":"… and use a full constructor for the maps, like `new HashMap&lt;String, String&gt;()` (add braces).","body":"… and use a full constructor for the maps, like <code>new HashMap&lt;String, String&gt;()</code> (add braces)."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1662966122,"post_id":73685473,"comment_id":130119294,"body_markdown":"Looks like you want `Address` and `Person` classes.","body":"Looks like you want <code>Address</code> and <code>Person</code> classes."},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1662966194,"post_id":73685473,"comment_id":130119310,"body_markdown":"@SaifAhmad Thanks... Is there a way to find out what is the type of value of a given key? Or the developer must know what is the type and use casting to covert to the correct type?","body":"@SaifAhmad Thanks... Is there a way to find out what is the type of value of a given key? Or the developer must know what is the type and use casting to covert to the correct type?"},{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1662966322,"post_id":73685473,"comment_id":130119345,"body_markdown":"Developer must know otherwise there will be multiple switch cases to detect the type.","body":"Developer must know otherwise there will be multiple switch cases to detect the type."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662970516,"post_id":73685473,"comment_id":130120489,"body_markdown":"@tarekahf `&quot;Is there a way to find out what is the type of value of a given key?&quot;` - seems like you&#39;ve introduced an [XY-problem](https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiGwJ_o5476AhWHgSoKHVw2BJUQFnoECAYQAQ&amp;url=https%3A%2F%2Fmeta.stackexchange.com%2Fquestions%2F66377%2Fwhat-is-the-xy-problem&amp;usg=AOvVaw1RW8UpIl7QYxoW-PU7zAk9).","body":"@tarekahf <code>&quot;Is there a way to find out what is the type of value of a given key?&quot;</code> - seems like you&#39;ve introduced an <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiGwJ_o5476AhWHgSoKHVw2BJUQFnoECAYQAQ&amp;url=https%3A%2F%2Fmeta.stackexchange.com%2Fquestions%2F66377%2Fwhat-is-the-xy-problem&amp;usg=AOvVaw1RW8UpIl7QYxoW-PU7zAk9\" rel=\"nofollow noreferrer\">XY-problem</a>."}],"answers":[{"tags":[],"owner":{"account_id":22866981,"reputation":131,"user_id":17010647,"display_name":"Ksu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663000551,"creation_date":1662971560,"answer_id":73686480,"question_id":73685473,"body_markdown":"Try this:\r\n\r\n        Map&lt;String, String&gt; myMap1 = new HashMap();\r\n        myMap1.put(&quot;streetAddress&quot;, &quot;123 street name&quot;);\r\n        myMap1.put(&quot;city&quot;, &quot;New York&quot;);\r\n\r\n        Map&lt;String, Object&gt; myMap2 = new HashMap();\r\n        myMap2.put(&quot;name&quot;, &quot;John Smith&quot;);\r\n        myMap2.put(&quot;age&quot;, 35);\r\n        myMap2.put(&quot;salary&quot;, 67000);\r\n        myMap2.put(&quot;dob&quot;, LocalDate.parse(&quot;1980-03-20&quot;));\r\n        myMap2.put(&quot;address&quot;, myMap1);\r\n\r\n        System.out.println(myMap2.toString());//{address={streetAddress=123 street name, city=New York}, dob=1980-03-20, name=John Smith, salary=67000, age=35}\r\n\r\nMap&lt;String, Object&gt; - key - String, value - any object","title":"Define Java map of key String and value can be any type including a map","body":"<p>Try this:</p>\n<pre><code>    Map&lt;String, String&gt; myMap1 = new HashMap();\n    myMap1.put(&quot;streetAddress&quot;, &quot;123 street name&quot;);\n    myMap1.put(&quot;city&quot;, &quot;New York&quot;);\n\n    Map&lt;String, Object&gt; myMap2 = new HashMap();\n    myMap2.put(&quot;name&quot;, &quot;John Smith&quot;);\n    myMap2.put(&quot;age&quot;, 35);\n    myMap2.put(&quot;salary&quot;, 67000);\n    myMap2.put(&quot;dob&quot;, LocalDate.parse(&quot;1980-03-20&quot;));\n    myMap2.put(&quot;address&quot;, myMap1);\n\n    System.out.println(myMap2.toString());//{address={streetAddress=123 street name, city=New York}, dob=1980-03-20, name=John Smith, salary=67000, age=35}\n</code></pre>\n<p>Map&lt;String, Object&gt; - key - String, value - any object</p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663000551,"creation_date":1662965741,"question_id":73685473,"body_markdown":"Is it possible to define a map object in Java where the key is a string and the value can be either a string, number, date, or another map?\r\n\r\nFollowing is an example of what I&#39;m trying to do:\r\n\r\n```\r\nMap&lt;String,? super String&gt; myMap1 = new HashMap&lt;String, String&gt;();\r\nmyMap1.put(&quot;streetAddress&quot;, &quot;123 street name&quot;);\r\nmyMap2.put(&quot;city&quot;, &quot;New York&quot;);\r\n\r\nMap&lt;String,? super String&gt; myMap2 = new HashMap&lt;String, Object&gt;();\r\nmyMap2.put(&quot;name&quot;, &quot;John Smith&quot;);\r\nmyMap2.put(&quot;age&quot;, 35);\r\nmyMap2.put(&quot;salary&quot;, 67000);\r\nmyMap2.put(&quot;dob&quot;, parseDate(&quot;1980-03-20&quot;));\r\nmyMap2.put(&quot;address&quot;, myMap1);\r\n\r\n```\r\n\r\nThe above will most likely result in a compile error, and I need help to be able to initialize such map. \r\n\r\nMy objective is to create a map object that can map a string key to a date, string, number, or another map. How is that possible? \r\n\r\n","title":"Define Java map of key String and value can be any type including a map","body":"<p>Is it possible to define a map object in Java where the key is a string and the value can be either a string, number, date, or another map?</p>\n<p>Following is an example of what I'm trying to do:</p>\n<pre><code>Map&lt;String,? super String&gt; myMap1 = new HashMap&lt;String, String&gt;();\nmyMap1.put(&quot;streetAddress&quot;, &quot;123 street name&quot;);\nmyMap2.put(&quot;city&quot;, &quot;New York&quot;);\n\nMap&lt;String,? super String&gt; myMap2 = new HashMap&lt;String, Object&gt;();\nmyMap2.put(&quot;name&quot;, &quot;John Smith&quot;);\nmyMap2.put(&quot;age&quot;, 35);\nmyMap2.put(&quot;salary&quot;, 67000);\nmyMap2.put(&quot;dob&quot;, parseDate(&quot;1980-03-20&quot;));\nmyMap2.put(&quot;address&quot;, myMap1);\n\n</code></pre>\n<p>The above will most likely result in a compile error, and I need help to be able to initialize such map.</p>\n<p>My objective is to create a map object that can map a string key to a date, string, number, or another map. How is that possible?</p>\n"},{"tags":["java","ssl","tls1.2","jtds","jconnect"],"comments":[{"owner":{"account_id":4833750,"reputation":381,"user_id":3901172,"accept_rate":83,"display_name":"orange14"},"score":0,"creation_date":1674571913,"post_id":73692460,"comment_id":132739437,"body_markdown":"did you figure it out by any chance ?","body":"did you figure it out by any chance ?"}],"owner":{"account_id":18871858,"reputation":11,"user_id":13766229,"display_name":"Ga-M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663000399,"creation_date":1663000399,"question_id":73692460,"body_markdown":"I&#39;m having issues to connect to a sybase DB using TLSv1.2. It throws error:\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\nIf I remove &quot;TLSv1, TLSv1.1&quot; from param &quot;jdk.tls.disabledAlgorithms &quot; in java.security file I get no errors, my java testing class works fine and retrieves some data from the DB (handshake message shows client version TLSv1).\r\n\r\nBut if I disable again TLSv1, TLSv1.1 and run SSLPoke, everything it works fine, I can see a ClientHello / ServerHello with value &quot;TLSv1.2&quot; in &quot;client version&quot;.\r\n\r\nI also tried to use a different driver, jTDS (tried 3 different versions: the original jtds-1.3.1.jar and also 2 others I found in the jTDS discussion forum: jtds-1.3.1-patched.jar and jtds-1.3.1-v20140512.jar), but it didn&#39;t work at all (got the following error: java.sql.SQLException: I/O Error: DB server closed connection. ). This driver only works if I completely disable SSL.\r\n\r\nDid a lot of research but so far I couldn&#39;t find a solution for this.\r\n\r\nI will try to be as detailed as possible, and I appreciate if someone could point what the issue could be\r\n\r\nJava version: (tried with a couple of different version, both 1.8.X)\r\n\r\n    openjdk version &quot;1.8.0_292&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_292-b10)\r\n\r\njconn4.jar version:\r\n\r\n    jConnect (TM) for JDBC(TM)/16.0 SP02 PL02 (Build 27276)/P/EBF25374/JDK 1.6.0/jdbcmain/OPT/Fri Oct  9 05:31:52 PDT 2015\r\n\r\nJDBCConnect.java (same code for both drivers: jConnect &quot;jconn4.jar&quot; and jTDS &quot;jtds-1.3.1.jar&quot;)\r\n\r\n```\r\nimport java.io.*;\r\nimport java.sql.*;\r\n\r\npublic class JDBCConnect\r\n{\r\n    public static void main( String args[] )\r\n    {\r\n        try\r\n        {\r\n            Class.forName(&quot;com.sybase.jdbc4.jdbc.SybDriver&quot;);\r\n            Connection con = DriverManager.getConnection(&quot;jdbc:sybase:Tds:mysybasehost:9876/mydatabase?ENABLE_SSL=true&amp;SSL_TRUST_ALL_CERTS=true&amp;ssl=require&quot;, &quot;sybaseuser&quot;,&quot;sybasepwd&quot;);\r\n            //Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n            //Connection con = DriverManager.getConnection(&quot;jdbc:jtds:sybase://mysybasehost:9876/mydatabase;user=sybaseuser;password=sybasepwd;trustServerCertificate=true;ssl=require&quot;,&quot;sybaseuser&quot;,&quot;sybasepwd&quot;);\r\n            System.out.println(&quot;connected&quot;);\r\n            Statement stmt = con.createStatement();\r\n            ResultSet rs = stmt.executeQuery(&quot;select top 1 * from my.table&quot;);\r\n            while( rs != null )\r\n            {\r\n                while (rs.next())\r\n                {\r\n                    for( int i = 1;\r\n                         i &lt;= rs.getMetaData().getColumnCount();\r\n                         i++ )\r\n                    {\r\n                        if( i &gt; 1 ) System.out.print(&quot;, &quot;);\r\n                        System.out.print(rs.getString(i));\r\n                    }\r\n                    System.out.println();\r\n                }\r\n                if( stmt.getMoreResults() )\r\n                {\r\n                    System.out.println(&quot;Hi&quot;);\r\n                    rs = stmt.getResultSet();\r\n                }\r\n                else\r\n                {\r\n                    rs.close();\r\n                    rs = null;\r\n                }\r\n            }\r\n            stmt.close();\r\n            con.close();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nCommand line: ( Note: tried with and without &quot; -Djsse.enableCBCProtection=false &quot; )\r\n\r\n```\r\njava -cp .\\jconn4.jar;. -Djavax.net.ssl.trustStore=&quot;.\\cacerts&quot; -Djavax.net.ssl.trustStorePassword=tspwd -Djavax.net.debug=ssl:handshake -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Djsse.enableCBCProtection=false JDBCConnect\r\njavax.net.ssl|FINE|01|main|2022-09-12 10:10:23.085 CDT|SSLCipher.java:438|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\njavax.net.ssl|SEVERE|01|main|2022-09-12 10:10:23.301 CDT|TransportContext.java:316|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n        at sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:171)\r\n        at sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\r\n        at sun.security.ssl.TransportContext.kickstart(TransportContext.java:220)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:428)\r\n        at com.sybase.jdbc4.jdbc.SybSSLSocketFactory.createSocket(SybSSLSocketFactory.java:392)\r\n        at com.sybase.jdbc4.timedio.SocketDbio.doConnect(SocketDbio.java:98)\r\n        at com.sybase.jdbc4.timedio.InStreamMgr.&lt;init&gt;(InStreamMgr.java:109)\r\n        at com.sybase.jdbc4.tds.Tds.login(Tds.java:530)\r\n        at com.sybase.jdbc4.jdbc.SybConnection.tryLogin(SybConnection.java:459)\r\n        at com.sybase.jdbc4.jdbc.SybConnection.handleHAFailover(SybConnection.java:3604)\r\n        at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(SybConnection.java:372)\r\n        at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(SybConnection.java:268)\r\n        at com.sybase.jdbc4.jdbc.SybDriver.connect(SybDriver.java:224)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n        at JDBCConnect.main(JDBCConnect.java:11)}\r\n\r\n)\r\njavax.net.ssl|FINE|01|main|2022-09-12 10:10:23.304 CDT|SSLSocketImpl.java:1601|close the underlying socket\r\njavax.net.ssl|FINE|01|main|2022-09-12 10:10:23.304 CDT|SSLSocketImpl.java:1620|close the SSL connection (initiative)\r\njava.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0T3 use getCause() to see the error chain\r\n        at com.sybase.jdbc4.jdbc.ErrorMessage.raiseError(ErrorMessage.java:841)\r\n        at com.sybase.jdbc4.jdbc.ErrorMessage.raiseErrorCheckDead(ErrorMessage.java:1174)\r\n        at com.sybase.jdbc4.tds.Tds.handleIOE(Tds.java:5247)\r\n        at com.sybase.jdbc4.tds.Tds.handleIOE(Tds.java:5192)\r\n        at com.sybase.jdbc4.tds.Tds.login(Tds.java:564)\r\n        at com.sybase.jdbc4.jdbc.SybConnection.tryLogin(SybConnection.java:459)\r\n        at com.sybase.jdbc4.jdbc.SybConnection.handleHAFailover(SybConnection.java:3604)\r\n        at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(SybConnection.java:372)\r\n        at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(SybConnection.java:268)\r\n        at com.sybase.jdbc4.jdbc.SybDriver.connect(SybDriver.java:224)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n        at JDBCConnect.main(JDBCConnect.java:11)\r\nCaused by: java.io.IOException: JZ0T3\r\n        at com.sybase.jdbc4.jdbc.SybSSLSocketFactory.createSocket(SybSSLSocketFactory.java:397)\r\n        at com.sybase.jdbc4.timedio.SocketDbio.doConnect(SocketDbio.java:98)\r\n        at com.sybase.jdbc4.timedio.InStreamMgr.&lt;init&gt;(InStreamMgr.java:109)\r\n        at com.sybase.jdbc4.tds.Tds.login(Tds.java:530)\r\n        ... 8 more\r\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n        at sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:171)\r\n        at sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\r\n        at sun.security.ssl.TransportContext.kickstart(TransportContext.java:220)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:428)\r\n        at com.sybase.jdbc4.jdbc.SybSSLSocketFactory.createSocket(SybSSLSocketFactory.java:392)\r\n        ... 11 more\r\n```\r\n\r\nAs suggested in another page, I tried to use some unlimited policy, jce_policy-8 also no luck.\r\n\r\nDoes anyone know what I&#39;m missing here?\r\n\r\nThank you all in advance.","title":"Not able to connect to sybase DB over TLS 1.2 using jConnect JDBC driver","body":"<p>I'm having issues to connect to a sybase DB using TLSv1.2. It throws error:\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</p>\n<p>If I remove &quot;TLSv1, TLSv1.1&quot; from param &quot;jdk.tls.disabledAlgorithms &quot; in java.security file I get no errors, my java testing class works fine and retrieves some data from the DB (handshake message shows client version TLSv1).</p>\n<p>But if I disable again TLSv1, TLSv1.1 and run SSLPoke, everything it works fine, I can see a ClientHello / ServerHello with value &quot;TLSv1.2&quot; in &quot;client version&quot;.</p>\n<p>I also tried to use a different driver, jTDS (tried 3 different versions: the original jtds-1.3.1.jar and also 2 others I found in the jTDS discussion forum: jtds-1.3.1-patched.jar and jtds-1.3.1-v20140512.jar), but it didn't work at all (got the following error: java.sql.SQLException: I/O Error: DB server closed connection. ). This driver only works if I completely disable SSL.</p>\n<p>Did a lot of research but so far I couldn't find a solution for this.</p>\n<p>I will try to be as detailed as possible, and I appreciate if someone could point what the issue could be</p>\n<p>Java version: (tried with a couple of different version, both 1.8.X)</p>\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-b10)\n</code></pre>\n<p>jconn4.jar version:</p>\n<pre><code>jConnect (TM) for JDBC(TM)/16.0 SP02 PL02 (Build 27276)/P/EBF25374/JDK 1.6.0/jdbcmain/OPT/Fri Oct  9 05:31:52 PDT 2015\n</code></pre>\n<p>JDBCConnect.java (same code for both drivers: jConnect &quot;jconn4.jar&quot; and jTDS &quot;jtds-1.3.1.jar&quot;)</p>\n<pre><code>import java.io.*;\nimport java.sql.*;\n\npublic class JDBCConnect\n{\n    public static void main( String args[] )\n    {\n        try\n        {\n            Class.forName(&quot;com.sybase.jdbc4.jdbc.SybDriver&quot;);\n            Connection con = DriverManager.getConnection(&quot;jdbc:sybase:Tds:mysybasehost:9876/mydatabase?ENABLE_SSL=true&amp;SSL_TRUST_ALL_CERTS=true&amp;ssl=require&quot;, &quot;sybaseuser&quot;,&quot;sybasepwd&quot;);\n            //Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n            //Connection con = DriverManager.getConnection(&quot;jdbc:jtds:sybase://mysybasehost:9876/mydatabase;user=sybaseuser;password=sybasepwd;trustServerCertificate=true;ssl=require&quot;,&quot;sybaseuser&quot;,&quot;sybasepwd&quot;);\n            System.out.println(&quot;connected&quot;);\n            Statement stmt = con.createStatement();\n            ResultSet rs = stmt.executeQuery(&quot;select top 1 * from my.table&quot;);\n            while( rs != null )\n            {\n                while (rs.next())\n                {\n                    for( int i = 1;\n                         i &lt;= rs.getMetaData().getColumnCount();\n                         i++ )\n                    {\n                        if( i &gt; 1 ) System.out.print(&quot;, &quot;);\n                        System.out.print(rs.getString(i));\n                    }\n                    System.out.println();\n                }\n                if( stmt.getMoreResults() )\n                {\n                    System.out.println(&quot;Hi&quot;);\n                    rs = stmt.getResultSet();\n                }\n                else\n                {\n                    rs.close();\n                    rs = null;\n                }\n            }\n            stmt.close();\n            con.close();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n            System.exit(1);\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>Command line: ( Note: tried with and without &quot; -Djsse.enableCBCProtection=false &quot; )</p>\n<pre><code>java -cp .\\jconn4.jar;. -Djavax.net.ssl.trustStore=&quot;.\\cacerts&quot; -Djavax.net.ssl.trustStorePassword=tspwd -Djavax.net.debug=ssl:handshake -Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2 -Djsse.enableCBCProtection=false JDBCConnect\njavax.net.ssl|FINE|01|main|2022-09-12 10:10:23.085 CDT|SSLCipher.java:438|jdk.tls.keyLimits:  entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\njavax.net.ssl|SEVERE|01|main|2022-09-12 10:10:23.301 CDT|TransportContext.java:316|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n        at sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:171)\n        at sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\n        at sun.security.ssl.TransportContext.kickstart(TransportContext.java:220)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:428)\n        at com.sybase.jdbc4.jdbc.SybSSLSocketFactory.createSocket(SybSSLSocketFactory.java:392)\n        at com.sybase.jdbc4.timedio.SocketDbio.doConnect(SocketDbio.java:98)\n        at com.sybase.jdbc4.timedio.InStreamMgr.&lt;init&gt;(InStreamMgr.java:109)\n        at com.sybase.jdbc4.tds.Tds.login(Tds.java:530)\n        at com.sybase.jdbc4.jdbc.SybConnection.tryLogin(SybConnection.java:459)\n        at com.sybase.jdbc4.jdbc.SybConnection.handleHAFailover(SybConnection.java:3604)\n        at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(SybConnection.java:372)\n        at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(SybConnection.java:268)\n        at com.sybase.jdbc4.jdbc.SybDriver.connect(SybDriver.java:224)\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\n        at java.sql.DriverManager.getConnection(DriverManager.java:247)\n        at JDBCConnect.main(JDBCConnect.java:11)}\n\n)\njavax.net.ssl|FINE|01|main|2022-09-12 10:10:23.304 CDT|SSLSocketImpl.java:1601|close the underlying socket\njavax.net.ssl|FINE|01|main|2022-09-12 10:10:23.304 CDT|SSLSocketImpl.java:1620|close the SSL connection (initiative)\njava.sql.SQLException: JZ006: Caught IOException: java.io.IOException: JZ0T3 use getCause() to see the error chain\n        at com.sybase.jdbc4.jdbc.ErrorMessage.raiseError(ErrorMessage.java:841)\n        at com.sybase.jdbc4.jdbc.ErrorMessage.raiseErrorCheckDead(ErrorMessage.java:1174)\n        at com.sybase.jdbc4.tds.Tds.handleIOE(Tds.java:5247)\n        at com.sybase.jdbc4.tds.Tds.handleIOE(Tds.java:5192)\n        at com.sybase.jdbc4.tds.Tds.login(Tds.java:564)\n        at com.sybase.jdbc4.jdbc.SybConnection.tryLogin(SybConnection.java:459)\n        at com.sybase.jdbc4.jdbc.SybConnection.handleHAFailover(SybConnection.java:3604)\n        at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(SybConnection.java:372)\n        at com.sybase.jdbc4.jdbc.SybConnection.&lt;init&gt;(SybConnection.java:268)\n        at com.sybase.jdbc4.jdbc.SybDriver.connect(SybDriver.java:224)\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\n        at java.sql.DriverManager.getConnection(DriverManager.java:247)\n        at JDBCConnect.main(JDBCConnect.java:11)\nCaused by: java.io.IOException: JZ0T3\n        at com.sybase.jdbc4.jdbc.SybSSLSocketFactory.createSocket(SybSSLSocketFactory.java:397)\n        at com.sybase.jdbc4.timedio.SocketDbio.doConnect(SocketDbio.java:98)\n        at com.sybase.jdbc4.timedio.InStreamMgr.&lt;init&gt;(InStreamMgr.java:109)\n        at com.sybase.jdbc4.tds.Tds.login(Tds.java:530)\n        ... 8 more\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n        at sun.security.ssl.HandshakeContext.&lt;init&gt;(HandshakeContext.java:171)\n        at sun.security.ssl.ClientHandshakeContext.&lt;init&gt;(ClientHandshakeContext.java:98)\n        at sun.security.ssl.TransportContext.kickstart(TransportContext.java:220)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:428)\n        at com.sybase.jdbc4.jdbc.SybSSLSocketFactory.createSocket(SybSSLSocketFactory.java:392)\n        ... 11 more\n</code></pre>\n<p>As suggested in another page, I tried to use some unlimited policy, jce_policy-8 also no luck.</p>\n<p>Does anyone know what I'm missing here?</p>\n<p>Thank you all in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1663000102,"post_id":73692341,"comment_id":130131108,"body_markdown":"`ActiveObject` and `WindowController` are not classes that come with Java itself. They seem to be from some library named `objectdraw`. You&#39;ll have to check the documentation of that library to see what it requires. And if something &quot;doesn&#39;t work&quot;, then telling us what exactly that looks like (what error message or wrong behaviour do you get?) will definitely help with finding a solution.","body":"<code>ActiveObject</code> and <code>WindowController</code> are not classes that come with Java itself. They seem to be from some library named <code>objectdraw</code>. You&#39;ll have to check the documentation of that library to see what it requires. And if something &quot;doesn&#39;t work&quot;, then telling us what exactly that looks like (what error message or wrong behaviour do you get?) will definitely help with finding a solution."},{"owner":{"account_id":18781757,"reputation":1,"user_id":13696249,"display_name":"Blobiy"},"score":0,"creation_date":1663073602,"post_id":73692341,"comment_id":130149382,"body_markdown":"Yeah biggest issue is that it runs, just doesn&#39;t preform what its supposed to do","body":"Yeah biggest issue is that it runs, just doesn&#39;t preform what its supposed to do"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1663075389,"post_id":73692341,"comment_id":130150170,"body_markdown":"Well, then **maybe** you could describe to us what it&#39;s *supposed to do* and also *what it does*. You&#39;re letting us guess and it&#39;s really up to you to provide information for us to help you. Read [ask], it might be useful.","body":"Well, then <b>maybe</b> you could describe to us what it&#39;s <i>supposed to do</i> and also <i>what it does</i>. You&#39;re letting us guess and it&#39;s really up to you to provide information for us to help you. Read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, it might be useful."}],"owner":{"account_id":18781757,"reputation":1,"user_id":13696249,"display_name":"Blobiy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662999770,"creation_date":1662999770,"question_id":73692341,"body_markdown":"Using objectDraw, you can extend either WindowController or ActiveObject, WindowController for various different imputs, and ActiveObject that runs independantly of those inputs. \r\n\r\nIve been told Java doesnt use applets anymore so it makes a lot of code not work, but here is the old code that would have worked if Java wasnt updated:\r\n\r\n    import objectdraw.*;\r\n    // animate the motion of a simple, falling ball\r\n    public class BouncingBall extends ActiveObject\r\n    {\r\n    // size and speed of balls\r\n    private static final double BALLSIZE = 30;\r\n    private static final double DELAY_TIME = 33;\r\n    private double ySpeed = 0.1;\r\n    \r\n    // y coordinate where ball disappears\r\n    private double bottom;\r\n    \r\n    // the ball\r\n    private FilledOval ball;\r\n    \r\n    // the paddle\r\n    private FilledRect paddle;\r\n    \r\n    public BouncingBall(double x, double y, FilledRect thePaddle, DrawingCanvas aCanvas)\r\n    {\r\n        \r\n        ball = new FilledOval(x - BALLSIZE/2 , y,\r\n                              BALLSIZE, BALLSIZE, aCanvas);\r\n        bottom = aCanvas.getHeight();\r\n        paddle = thePaddle;\r\n    }\r\n    \r\n    public void run()\r\n    {\r\n        double lastTime, currentTime, elapsedTime;\r\n        // remember the time;\r\n        lastTime = System.currentTimeMillis();\r\n        \r\n        double top = ball.getY();\r\n        \r\n        // move the ball repeatedly until it fall off screen\r\n        while (ball.getY() &lt; bottom ) {\r\n     \r\n            // determine how much time has passed\r\n            currentTime = System.currentTimeMillis();\r\n            elapsedTime = currentTime - lastTime;\r\n            // restart timing\r\n            lastTime = currentTime;\r\n            ball.move(0, ySpeed * elapsedTime);\r\n            \r\n            if (ball.overlaps(paddle) || ball.getY() &lt; top){\r\n                ySpeed = -ySpeed;\r\n            }\r\n            pause(DELAY_TIME);\r\n        }\r\n        \r\n        ball.removeFromCanvas();\r\n    }    \r\n    }\r\n\r\nHere is a working example of WindowController, updated.\r\n\r\n    import objectdraw.*;\r\n    \r\n    public class MakeBox extends WindowController {\r\n    \tpublic void begin() {\r\n    \t\tnew FilledRect(0,0,30,30,canvas);\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n           new MakeBox().startController(400,400);\r\n       \r\n    \t}\r\n    }\r\n\r\nJust adding a main class and running startController doesnt work, and currently the top program only creates a canvas with a small black box. \r\n\r\nAny ideas on how to update it are invaluable. Likewise if you know a solution that would connect a working windowsController to it, that would work aswell.\r\n\r\nThank You","title":"Does ActiveObject still work after applets update?","body":"<p>Using objectDraw, you can extend either WindowController or ActiveObject, WindowController for various different imputs, and ActiveObject that runs independantly of those inputs.</p>\n<p>Ive been told Java doesnt use applets anymore so it makes a lot of code not work, but here is the old code that would have worked if Java wasnt updated:</p>\n<pre><code>import objectdraw.*;\n// animate the motion of a simple, falling ball\npublic class BouncingBall extends ActiveObject\n{\n// size and speed of balls\nprivate static final double BALLSIZE = 30;\nprivate static final double DELAY_TIME = 33;\nprivate double ySpeed = 0.1;\n\n// y coordinate where ball disappears\nprivate double bottom;\n\n// the ball\nprivate FilledOval ball;\n\n// the paddle\nprivate FilledRect paddle;\n\npublic BouncingBall(double x, double y, FilledRect thePaddle, DrawingCanvas aCanvas)\n{\n    \n    ball = new FilledOval(x - BALLSIZE/2 , y,\n                          BALLSIZE, BALLSIZE, aCanvas);\n    bottom = aCanvas.getHeight();\n    paddle = thePaddle;\n}\n\npublic void run()\n{\n    double lastTime, currentTime, elapsedTime;\n    // remember the time;\n    lastTime = System.currentTimeMillis();\n    \n    double top = ball.getY();\n    \n    // move the ball repeatedly until it fall off screen\n    while (ball.getY() &lt; bottom ) {\n \n        // determine how much time has passed\n        currentTime = System.currentTimeMillis();\n        elapsedTime = currentTime - lastTime;\n        // restart timing\n        lastTime = currentTime;\n        ball.move(0, ySpeed * elapsedTime);\n        \n        if (ball.overlaps(paddle) || ball.getY() &lt; top){\n            ySpeed = -ySpeed;\n        }\n        pause(DELAY_TIME);\n    }\n    \n    ball.removeFromCanvas();\n}    \n}\n</code></pre>\n<p>Here is a working example of WindowController, updated.</p>\n<pre><code>import objectdraw.*;\n\npublic class MakeBox extends WindowController {\n    public void begin() {\n        new FilledRect(0,0,30,30,canvas);\n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n       new MakeBox().startController(400,400);\n   \n    }\n}\n</code></pre>\n<p>Just adding a main class and running startController doesnt work, and currently the top program only creates a canvas with a small black box.</p>\n<p>Any ideas on how to update it are invaluable. Likewise if you know a solution that would connect a working windowsController to it, that would work aswell.</p>\n<p>Thank You</p>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663028142,"post_id":73692324,"comment_id":130138101,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"score":0,"creation_date":1664534171,"post_id":73692324,"comment_id":130499124,"body_markdown":"Hi , why want to use beta? Any specific reason ? everything that is supported with beta SDK(Java) is here - https://github.com/microsoftgraph/msgraph-beta-sdk-java .","body":"Hi , why want to use beta? Any specific reason ? everything that is supported with beta SDK(Java) is here - <a href=\"https://github.com/microsoftgraph/msgraph-beta-sdk-java\" rel=\"nofollow noreferrer\">github.com/microsoftgraph/msgraph-beta-sdk-java</a> ."},{"owner":{"account_id":18159616,"reputation":1,"user_id":13211177,"display_name":"jidey"},"score":0,"creation_date":1664876778,"post_id":73692324,"comment_id":130565324,"body_markdown":"Hi, I use beta because I need some MS Graph features that are only in MS Graph beta yet","body":"Hi, I use beta because I need some MS Graph features that are only in MS Graph beta yet"},{"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"score":0,"creation_date":1665378817,"post_id":73692324,"comment_id":130677670,"body_markdown":"have you looked into the docs , everything that is supported with beta SDK(Java) - https://github.com/microsoftgraph/msgraph-beta-sdk-java","body":"have you looked into the docs , everything that is supported with beta SDK(Java) - <a href=\"https://github.com/microsoftgraph/msgraph-beta-sdk-java\" rel=\"nofollow noreferrer\">github.com/microsoftgraph/msgraph-beta-sdk-java</a>"},{"owner":{"account_id":18159616,"reputation":1,"user_id":13211177,"display_name":"jidey"},"score":0,"creation_date":1665491222,"post_id":73692324,"comment_id":130708475,"body_markdown":"Yes I have looked into those docs, and I couldn&#39;t find in those docs how to add secrets to a ServicePrincipal.","body":"Yes I have looked into those docs, and I couldn&#39;t find in those docs how to add secrets to a ServicePrincipal."},{"owner":{"account_id":24140407,"reputation":571,"user_id":18106676,"display_name":"vicky kumar"},"score":0,"creation_date":1669620930,"post_id":73692324,"comment_id":131674837,"body_markdown":"Sorry for delayed response , If its not there in the doc then this is available for msgraph-beta-sdk-java in that case , if you want this to available , you can raise a feature request - https://techcommunity.microsoft.com/t5/forums/searchpage/tab/message , thanks","body":"Sorry for delayed response , If its not there in the doc then this is available for msgraph-beta-sdk-java in that case , if you want this to available , you can raise a feature request - <a href=\"https://techcommunity.microsoft.com/t5/forums/searchpage/tab/message\" rel=\"nofollow noreferrer\">techcommunity.microsoft.com/t5/forums/searchpage/tab/message</a> , thanks"}],"owner":{"account_id":18159616,"reputation":1,"user_id":13211177,"display_name":"jidey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662999667,"creation_date":1662999667,"question_id":73692324,"body_markdown":"I&#39;m trying to use msgraph-beta-sdk-java to add/setup a synchronization job to a service principal. I&#39;m able to create a SynchronizationJob from the SynchronizationTemplate attached to the ServicePrincipal object, but I&#39;m having trouble when trying to add the required SynchronizationSecret to it.\r\n\r\nFirst, the validateCredentials function seems to be broken (https://github.com/microsoftgraph/msgraph-beta-sdk-java/issues/372).\r\n\r\nBut my question here is about how to actually add those secrets to the ServicePrincipal as documented in https://docs.microsoft.com/en-us/graph/api/synchronization-synchronization-secrets?view=graph-rest-beta&amp;tabs=http? Is it simply missing from msgraph-beta-sdk-java?\r\n\r\nThanks","title":"Add a synchronization secret with msgraph-beta-sdk-java","body":"<p>I'm trying to use msgraph-beta-sdk-java to add/setup a synchronization job to a service principal. I'm able to create a SynchronizationJob from the SynchronizationTemplate attached to the ServicePrincipal object, but I'm having trouble when trying to add the required SynchronizationSecret to it.</p>\n<p>First, the validateCredentials function seems to be broken (<a href=\"https://github.com/microsoftgraph/msgraph-beta-sdk-java/issues/372\" rel=\"nofollow noreferrer\">https://github.com/microsoftgraph/msgraph-beta-sdk-java/issues/372</a>).</p>\n<p>But my question here is about how to actually add those secrets to the ServicePrincipal as documented in <a href=\"https://learn.microsoft.com/en-us/graph/api/synchronization-synchronization-secrets?view=graph-rest-beta&amp;tabs=http\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/synchronization-synchronization-secrets?view=graph-rest-beta&amp;tabs=http</a>? Is it simply missing from msgraph-beta-sdk-java?</p>\n<p>Thanks</p>\n"},{"tags":["java","gradle","nullpointerexception","resources"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1662987812,"post_id":73689688,"comment_id":130126356,"body_markdown":"Somebody else&#39;s machine and application configuration.","body":"Somebody else&#39;s machine and application configuration."}],"answers":[{"tags":[],"owner":{"account_id":22891969,"reputation":221,"user_id":17031969,"display_name":"Dave562"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662988347,"creation_date":1662988347,"answer_id":73689919,"question_id":73689688,"body_markdown":"Is the directory created in the pipeline? Git does not track empty directories so it could be caused by that empty directory exists on local computer but is never created on the machine where pipeline is running.","title":"getResource() returns null when run code in gitlab pipeline and target directory is empty","body":"<p>Is the directory created in the pipeline? Git does not track empty directories so it could be caused by that empty directory exists on local computer but is never created on the machine where pipeline is running.</p>\n"}],"owner":{"account_id":17296442,"reputation":77,"user_id":12527009,"display_name":"Ip Man"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73689919,"answer_count":1,"score":0,"last_activity_date":1662999408,"creation_date":1662987351,"question_id":73689688,"body_markdown":"I have an empty folder emptyFolder. When I run code locally (gradle) it works\r\n\r\n    this.getClass().getClassLoader().getResource(emptyFolder)\r\nBut when I run the same code in gitlab pipeline it returns null\r\n\r\nAll tasks before the running are the same\r\n\r\n    &gt; Task :compileJava NO-SOURCE\r\n    &gt; Task :processResources NO-SOURCE\r\n    &gt; Task :classes UP-TO-DATE\r\n    &gt; Task :cleanTest\r\n    &gt; Task :compileTestJava UP-TO-DATE\r\n    &gt; Task :processTestResources UP-TO-DATE\r\n    &gt; Task :testClasses UP-TO-DATE\r\n    &gt; Task :test\r\nAt the same time if I put any file in emptyFolder it works in gitlab pipeline as well. Looks like the issue happens when I use getResource() for empty directory only. But why I do not have the same issue during the local running?\r\nCould somebody help me to understand?","title":"getResource() returns null when run code in gitlab pipeline and target directory is empty","body":"<p>I have an empty folder emptyFolder. When I run code locally (gradle) it works</p>\n<pre><code>this.getClass().getClassLoader().getResource(emptyFolder)\n</code></pre>\n<p>But when I run the same code in gitlab pipeline it returns null</p>\n<p>All tasks before the running are the same</p>\n<pre><code>&gt; Task :compileJava NO-SOURCE\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes UP-TO-DATE\n&gt; Task :cleanTest\n&gt; Task :compileTestJava UP-TO-DATE\n&gt; Task :processTestResources UP-TO-DATE\n&gt; Task :testClasses UP-TO-DATE\n&gt; Task :test\n</code></pre>\n<p>At the same time if I put any file in emptyFolder it works in gitlab pipeline as well. Looks like the issue happens when I use getResource() for empty directory only. But why I do not have the same issue during the local running?\nCould somebody help me to understand?</p>\n"},{"tags":["java","model-view-controller","model","dao"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598081672,"creation_date":1598081672,"answer_id":63533695,"question_id":63533657,"body_markdown":"&gt; Can someone explain the difference between model classes and DAO\r\n&gt; classes\r\n\r\nThese are very different things.   \r\nDAO is a CRUD oriented data service (read/create/update/delete data) and model are objects representing data.  DAO uses Model but not the reverse. \r\n\r\n\r\n&gt; Since I&#39;m using MVC structure do I really need to create a separate\r\n&gt; package for DAOs or is it okay to put all the DAO class\r\n&gt; implementations inside the Model class ?\r\n\r\nBecause DAO and models are two different concepts (while related), it appears clearer to separate their classes in two distinct packages.  ","title":"Difference between Model classes and DAO classes","body":"<blockquote>\n<p>Can someone explain the difference between model classes and DAO\nclasses</p>\n</blockquote>\n<p>These are very different things.<br />\nDAO is a CRUD oriented data service (read/create/update/delete data) and model are objects representing data.  DAO uses Model but not the reverse.</p>\n<blockquote>\n<p>Since I'm using MVC structure do I really need to create a separate\npackage for DAOs or is it okay to put all the DAO class\nimplementations inside the Model class ?</p>\n</blockquote>\n<p>Because DAO and models are two different concepts (while related), it appears clearer to separate their classes in two distinct packages.</p>\n"},{"tags":[],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1662998794,"creation_date":1598086733,"answer_id":63534373,"question_id":63533657,"body_markdown":"DAO classes talk to both your persistence system (generally a database) and your controller, and move instances of your model classes between them. Model classes are a representation of the real world stuff that you&#39;re working with (patients, doctors and appointments for a hospital management app, for example, or clients, accounts and so on for a bank app). Ideally, your model classes shouldn&#39;t even know that there&#39;s a DAO. So yes, it makes sense to put them in different packages since they are different things. Do note that even if your app follows the MVC pattern, that doesn&#39;t mean your app only concerns itself with the view, the model and the controller. You can and usually will have other concerns, like persistence, that belong in their own layer.\r\n\r\nOne other thing you probably want to do, while we&#39;re at it, is have [DTOs](https://en.wikipedia.org/wiki/Data_transfer_object). They are an additional representation of your model entities (but they should go in their own package, not the model package), but DTOs needn&#39;t have the same properties as your model classes. DTOs are what the controller should feed to the view (and viceversa). That way, your view doesn&#39;t know about your model, and you don&#39;t expose to the view layer any properties of your model classes that you don&#39;t want to expose. For example, if you have a model class for customers with information about their credit card number, but you have a view that doesn&#39;t need to show that credit card number, you can create a DTO that has the other customer data and use it for that view without sending the unneeded data to your view.","title":"Difference between Model classes and DAO classes","body":"<p>DAO classes talk to both your persistence system (generally a database) and your controller, and move instances of your model classes between them. Model classes are a representation of the real world stuff that you're working with (patients, doctors and appointments for a hospital management app, for example, or clients, accounts and so on for a bank app). Ideally, your model classes shouldn't even know that there's a DAO. So yes, it makes sense to put them in different packages since they are different things. Do note that even if your app follows the MVC pattern, that doesn't mean your app only concerns itself with the view, the model and the controller. You can and usually will have other concerns, like persistence, that belong in their own layer.</p>\n<p>One other thing you probably want to do, while we're at it, is have <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">DTOs</a>. They are an additional representation of your model entities (but they should go in their own package, not the model package), but DTOs needn't have the same properties as your model classes. DTOs are what the controller should feed to the view (and viceversa). That way, your view doesn't know about your model, and you don't expose to the view layer any properties of your model classes that you don't want to expose. For example, if you have a model class for customers with information about their credit card number, but you have a view that doesn't need to show that credit card number, you can create a DTO that has the other customer data and use it for that view without sending the unneeded data to your view.</p>\n"}],"owner":{"account_id":18589089,"reputation":81,"user_id":13546715,"display_name":"kenWay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4792,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1662998794,"creation_date":1598081375,"question_id":63533657,"body_markdown":"I&#39;m new to java based web applications. I have to create a dynamic web project using MVC structure. So far I created three packages and some java classes like below. I have some doubts about these things\r\n\r\n1) Can someone explain the difference between model classes and DAO classes\r\n \r\n2) Since I&#39;m using MVC structure do I really need to create a separate package for DAOs or is it okay to put all the DAO class implementations inside the Model class ? Because MVC means Model-View-Controller\r\n\r\n[![Three Packages][1]][1]\r\n\r\nModel Class\r\n[![Sample Model Class][2]][2]\r\n\r\nDAO class\r\n[![Sample DAO Class][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s4wGr.png\r\n  [2]: https://i.stack.imgur.com/gWFh7.png\r\n  [3]: https://i.stack.imgur.com/NkVtT.png","title":"Difference between Model classes and DAO classes","body":"<p>I'm new to java based web applications. I have to create a dynamic web project using MVC structure. So far I created three packages and some java classes like below. I have some doubts about these things</p>\n<ol>\n<li><p>Can someone explain the difference between model classes and DAO classes</p>\n</li>\n<li><p>Since I'm using MVC structure do I really need to create a separate package for DAOs or is it okay to put all the DAO class implementations inside the Model class ? Because MVC means Model-View-Controller</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/s4wGr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/s4wGr.png\" alt=\"Three Packages\" /></a></p>\n<p>Model Class\n<a href=\"https://i.stack.imgur.com/gWFh7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gWFh7.png\" alt=\"Sample Model Class\" /></a></p>\n<p>DAO class\n<a href=\"https://i.stack.imgur.com/NkVtT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NkVtT.png\" alt=\"Sample DAO Class\" /></a></p>\n"},{"tags":["java","arrays","big-o"],"comments":[{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":0,"creation_date":1662998451,"post_id":73692013,"comment_id":130130582,"body_markdown":"What you&#39;ve shown is simply `O(a.length)`","body":"What you&#39;ve shown is simply <code>O(a.length)</code>"},{"owner":{"account_id":26202942,"reputation":9,"user_id":19882998,"display_name":"ksuk333"},"score":0,"creation_date":1662998500,"post_id":73692013,"comment_id":130130612,"body_markdown":"@TheCornInspector the question doesnt specify what it does, I don&#39;t know what the Big O notation is for the entire snippet.","body":"@TheCornInspector the question doesnt specify what it does, I don&#39;t know what the Big O notation is for the entire snippet."},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1662998580,"post_id":73692013,"comment_id":130130640,"body_markdown":"&quot;do something with 2DArray&quot; do what with 2D Array? Your code is O(n) so far, I don&#39;t know why you felt the bottom half wasn&#39;t relevant","body":"&quot;do something with 2DArray&quot; do what with 2D Array? Your code is O(n) so far, I don&#39;t know why you felt the bottom half wasn&#39;t relevant"},{"owner":{"account_id":26202942,"reputation":9,"user_id":19882998,"display_name":"ksuk333"},"score":0,"creation_date":1662998898,"post_id":73692013,"comment_id":130130755,"body_markdown":"@TheCornInspector so how does the 2DArray influence the Big O notation of the code.","body":"@TheCornInspector so how does the 2DArray influence the Big O notation of the code."},{"owner":{"account_id":896414,"reputation":2239,"user_id":965361,"display_name":"Abhishek Tyagi"},"score":0,"creation_date":1662999128,"post_id":73692013,"comment_id":130130822,"body_markdown":"@ksuk333 time or space complexity?","body":"@ksuk333 time or space complexity?"},{"owner":{"account_id":26202942,"reputation":9,"user_id":19882998,"display_name":"ksuk333"},"score":0,"creation_date":1662999986,"post_id":73692013,"comment_id":130131077,"body_markdown":"@AbhishekTyagi space complexity","body":"@AbhishekTyagi space complexity"},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":1,"creation_date":1663015178,"post_id":73692013,"comment_id":130135623,"body_markdown":"@ksuk333 You didn&#39;t specify before whether you were talking about time or space complexity. For space complexity no, what you do with the array after won&#39;t matter.","body":"@ksuk333 You didn&#39;t specify before whether you were talking about time or space complexity. For space complexity no, what you do with the array after won&#39;t matter."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662998456,"creation_date":1662998456,"answer_id":73692079,"question_id":73692013,"body_markdown":"Your `reverseArray()` method, ignoring the &quot;do something with 2DArray&quot; portion, which is not shown, is `O(N)` both in space complexity and time complexity.  It walks down the input array once, and copies it backwards into an output array.","title":"What is the Big O notation for the following snippet of code?","body":"<p>Your <code>reverseArray()</code> method, ignoring the &quot;do something with 2DArray&quot; portion, which is not shown, is <code>O(N)</code> both in space complexity and time complexity.  It walks down the input array once, and copies it backwards into an output array.</p>\n"},{"tags":[],"owner":{"account_id":7017323,"reputation":3426,"user_id":5378187,"display_name":"Rubydesic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662998479,"creation_date":1662998479,"answer_id":73692084,"question_id":73692013,"body_markdown":"Instantiating the `result` array is `O(n)`, the loop is `O(n)`, but instantiating the 2D array would be `O(n^2)` since it will take up `a.length * a.length / 2` ints in memory, so the overall runtime would be `O(n^2)`","title":"What is the Big O notation for the following snippet of code?","body":"<p>Instantiating the <code>result</code> array is <code>O(n)</code>, the loop is <code>O(n)</code>, but instantiating the 2D array would be <code>O(n^2)</code> since it will take up <code>a.length * a.length / 2</code> ints in memory, so the overall runtime would be <code>O(n^2)</code></p>\n"}],"owner":{"account_id":26202942,"reputation":9,"user_id":19882998,"display_name":"ksuk333"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1662998479,"creation_date":1662998140,"question_id":73692013,"body_markdown":"The code below is of a java method that iterates through a for loop, also creating a new array every time. I believe the code without the new array instantiation is O(N) but with the new array declaration, I am not sure.\r\n\r\n```\r\nint[] reverseArray(int[] a) {\r\n  int[] result = new int[a.length];\r\n  for (int i = 0; i &lt; a.length; i++) {\r\n    result[a.length - 1 - i] = a[i];\r\n  }\r\n  int[][] 2DArray = new int[a.length][a.length/2];\r\n  // do something with 2DArray\r\n  return result;\r\n}\r\n```","title":"What is the Big O notation for the following snippet of code?","body":"<p>The code below is of a java method that iterates through a for loop, also creating a new array every time. I believe the code without the new array instantiation is O(N) but with the new array declaration, I am not sure.</p>\n<pre><code>int[] reverseArray(int[] a) {\n  int[] result = new int[a.length];\n  for (int i = 0; i &lt; a.length; i++) {\n    result[a.length - 1 - i] = a[i];\n  }\n  int[][] 2DArray = new int[a.length][a.length/2];\n  // do something with 2DArray\n  return result;\n}\n</code></pre>\n"},{"tags":["java","loops","primes"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1612840947,"post_id":66112449,"comment_id":116886250,"body_markdown":"It looks like you need `break;` instead of `continue;`.","body":"It looks like you need <code>break;</code> instead of <code>continue;</code>."}],"answers":[{"tags":[],"owner":{"account_id":17551404,"reputation":199,"user_id":12731743,"display_name":"Major_Ash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612841030,"creation_date":1612841030,"answer_id":66112544,"question_id":66112449,"body_markdown":"You need to add a flag to check the divisibility of the value `i`. It will remain true only if `i` is a prime number. Later if the flag remains true, you can return `i` else you need to continue iterating \r\n\r\nWhat&#39;s happening in your code is that when i=15, and the inner loop starts iterating starting from 2, 15%2!=0 so it skips the if condition and returns 15\r\n \r\n    for (int i = number-1; i &gt; 1; i--) {\r\n            if (number % i == 0) {\r\n                bool flag = true;\r\n                for (int j = 2; j &lt; i; j++) {\r\n                    if (i % j == 0) {\r\n                        flag = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if(flag)\r\n                    return i;\r\n            }\r\n        }","title":"Find the largest prime factor of a given number","body":"<p>You need to add a flag to check the divisibility of the value <code>i</code>. It will remain true only if <code>i</code> is a prime number. Later if the flag remains true, you can return <code>i</code> else you need to continue iterating</p>\n<p>What's happening in your code is that when i=15, and the inner loop starts iterating starting from 2, 15%2!=0 so it skips the if condition and returns 15</p>\n<pre><code>for (int i = number-1; i &gt; 1; i--) {\n        if (number % i == 0) {\n            bool flag = true;\n            for (int j = 2; j &lt; i; j++) {\n                if (i % j == 0) {\n                    flag = false;\n                    break;\n                }\n            }\n            if(flag)\n                return i;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17619742,"reputation":718,"user_id":12785994,"display_name":"javadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612841407,"creation_date":1612841407,"answer_id":66112582,"question_id":66112449,"body_markdown":"In short: The &quot;prime&quot; validation is wrong.\r\n\r\nIn your code, in the inner loop, you expect all numbers will be factors of &quot;i&quot;, which is of course wrong.\r\n\r\nYour code will retrieve the largest factor of your input, which there is a number which is not a factor of it (i % j != 0), therefore the largest factor of it (regardless of  primality).\r\n","title":"Find the largest prime factor of a given number","body":"<p>In short: The &quot;prime&quot; validation is wrong.</p>\n<p>In your code, in the inner loop, you expect all numbers will be factors of &quot;i&quot;, which is of course wrong.</p>\n<p>Your code will retrieve the largest factor of your input, which there is a number which is not a factor of it (i % j != 0), therefore the largest factor of it (regardless of  primality).</p>\n"},{"tags":[],"owner":{"account_id":20511313,"reputation":2360,"user_id":15102459,"display_name":"Thiyanesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612842570,"creation_date":1612842570,"answer_id":66112714,"question_id":66112449,"body_markdown":"1. Find the prime numbers before the input number\r\n2. Sort the prime numbers in reverse order\r\n3. Iterate over the prime numbers and check whether its an exact multiple\r\n4. If its an exact multiple return the prime number\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nclass PrimeFactorTest {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int[] inputs = new int[]{-100, -25, -2, -1, 0, 1, 2, 3, 4, 5, 100, 1223, 2000, 874032849,\r\n            Integer.MAX_VALUE, Integer.MAX_VALUE};\r\n\r\n        for (final int input : inputs) {\r\n            Optional primeFactor = largestPrimeFactor(input);\r\n            if (primeFactor.isPresent()) {\r\n                System.out.println(&quot;Largest Prime Factor of &quot; + input + &quot; is &quot; + primeFactor.get());\r\n            } else {\r\n                System.out.println(&quot;No Prime Factor for &quot; + input);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static Optional&lt;Integer&gt; largestPrimeFactor(final int input) {\r\n        if (input &lt; 0) {\r\n            return largestPrimeFactor(Math.abs(input));\r\n        }\r\n        final int sqrt = (int) Math.sqrt(input);\r\n        List&lt;Integer&gt; primes = getPrimesInDescendingOrder(sqrt);\r\n        if (primes.size() == 0) {\r\n            return Optional.empty();\r\n        }\r\n        for (final int prime : primes) {\r\n            if (input % prime == 0) {\r\n                return Optional.of(prime);\r\n            }\r\n        }\r\n        return Optional.of(input);\r\n    }\r\n\r\n    private static List&lt;Integer&gt; getPrimesInDescendingOrder(final int input) {\r\n        if (input &lt; 2) {\r\n            return new ArrayList&lt;&gt;();\r\n        }\r\n        List&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\r\n        primes.add(2);\r\n        for (int current = 3; current &lt;= input; current++) {\r\n            boolean isPrime = true;\r\n            for (int prime : primes) {\r\n                if (current % prime == 0) {\r\n                    isPrime = false;\r\n                }\r\n            }\r\n            if (isPrime) {\r\n                primes.add(current);\r\n            }\r\n        }\r\n        primes.sort(Collections.reverseOrder());\r\n        return Collections.unmodifiableList(primes);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Find the largest prime factor of a given number","body":"<ol>\n<li>Find the prime numbers before the input number</li>\n<li>Sort the prime numbers in reverse order</li>\n<li>Iterate over the prime numbers and check whether its an exact multiple</li>\n<li>If its an exact multiple return the prime number</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Optional;\n\nclass PrimeFactorTest {\n\n    public static void main(String[] args) throws Exception {\n        int[] inputs = new int[]{-100, -25, -2, -1, 0, 1, 2, 3, 4, 5, 100, 1223, 2000, 874032849,\n            Integer.MAX_VALUE, Integer.MAX_VALUE};\n\n        for (final int input : inputs) {\n            Optional primeFactor = largestPrimeFactor(input);\n            if (primeFactor.isPresent()) {\n                System.out.println(&quot;Largest Prime Factor of &quot; + input + &quot; is &quot; + primeFactor.get());\n            } else {\n                System.out.println(&quot;No Prime Factor for &quot; + input);\n            }\n        }\n    }\n\n    public static Optional&lt;Integer&gt; largestPrimeFactor(final int input) {\n        if (input &lt; 0) {\n            return largestPrimeFactor(Math.abs(input));\n        }\n        final int sqrt = (int) Math.sqrt(input);\n        List&lt;Integer&gt; primes = getPrimesInDescendingOrder(sqrt);\n        if (primes.size() == 0) {\n            return Optional.empty();\n        }\n        for (final int prime : primes) {\n            if (input % prime == 0) {\n                return Optional.of(prime);\n            }\n        }\n        return Optional.of(input);\n    }\n\n    private static List&lt;Integer&gt; getPrimesInDescendingOrder(final int input) {\n        if (input &lt; 2) {\n            return new ArrayList&lt;&gt;();\n        }\n        List&lt;Integer&gt; primes = new ArrayList&lt;&gt;();\n        primes.add(2);\n        for (int current = 3; current &lt;= input; current++) {\n            boolean isPrime = true;\n            for (int prime : primes) {\n                if (current % prime == 0) {\n                    isPrime = false;\n                }\n            }\n            if (isPrime) {\n                primes.add(current);\n            }\n        }\n        primes.sort(Collections.reverseOrder());\n        return Collections.unmodifiableList(primes);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8709503,"reputation":454,"user_id":6516178,"display_name":"Chris Foley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612842908,"creation_date":1612842908,"answer_id":66112750,"question_id":66112449,"body_markdown":"I came up with this. If you start at 2 and work up the way, you are eliminating all the non-primes before you hit them, as they will no-longer be factors of the remainder.\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class LargestPrimeFactor {\r\n    \t@Test\r\n    \tpublic void testGetLargestPrime() {\r\n    \t\tassertEquals(2, getLargestPrime(2));\r\n    \t\tassertEquals(3, getLargestPrime(3));\r\n    \t\tassertEquals(2, getLargestPrime(4));\r\n    \t\tassertEquals(5, getLargestPrime(5));\r\n    \t\tassertEquals(3, getLargestPrime(6));\r\n    \t\tassertEquals(7, getLargestPrime(7));\r\n    \t\tassertEquals(2, getLargestPrime(8));\r\n    \t\tassertEquals(3, getLargestPrime(9));\r\n    \t\t\r\n    \t\tassertEquals(23, getLargestPrime(23*23*7*2*5*11*11));\r\n    \t}\r\n    \r\n    \tint getLargestPrime(int number) {\r\n    \t\tfor (int i = 2; number &gt; i; i++) {\r\n    \t\t\twhile (number &gt; i &amp;&amp; number % i == 0) {\r\n    \t\t\t\tnumber = number / i;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn number;\r\n    \t}\r\n    }\r\n\r\n","title":"Find the largest prime factor of a given number","body":"<p>I came up with this. If you start at 2 and work up the way, you are eliminating all the non-primes before you hit them, as they will no-longer be factors of the remainder.</p>\n<pre><code>import static org.junit.Assert.assertEquals;\n\nimport org.junit.Test;\n\npublic class LargestPrimeFactor {\n    @Test\n    public void testGetLargestPrime() {\n        assertEquals(2, getLargestPrime(2));\n        assertEquals(3, getLargestPrime(3));\n        assertEquals(2, getLargestPrime(4));\n        assertEquals(5, getLargestPrime(5));\n        assertEquals(3, getLargestPrime(6));\n        assertEquals(7, getLargestPrime(7));\n        assertEquals(2, getLargestPrime(8));\n        assertEquals(3, getLargestPrime(9));\n        \n        assertEquals(23, getLargestPrime(23*23*7*2*5*11*11));\n    }\n\n    int getLargestPrime(int number) {\n        for (int i = 2; number &gt; i; i++) {\n            while (number &gt; i &amp;&amp; number % i == 0) {\n                number = number / i;\n            }\n        }\n        return number;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612844478,"creation_date":1612844478,"answer_id":66112941,"question_id":66112449,"body_markdown":"It wasn&#39;t working fine until it reached 45. It failed for 4, 8, 12, 16, 18, 20, 24, 27, 28, 30, 32, 36, 40, 42, and 44. It returned -1 for every prime number, which is correct, but it also returned -1 for 4. It usually finds the largest factor, regardless of whether it&#39;s prime.\r\n\r\nYour outer loop finds factors, starting with the largest. Your inner loop doesn&#39;t make sense. It needs to have a test for primality. It looks like you meant it to quit when it finds a factor of i, but it doesn&#39;t do that. Instead, it quits when it finds a number that isn&#39;t a factor. The continue statement tells it to go to the next value of j. You probably meant for it to go on to the next value of i. To do that, you could use break. That would bail out of the inner loop. Or you could label the outer loop and use the label in the continue statement, which is probably what you had in mind:\r\n\r\n    candidates:\r\n    for (int i = number - 1; i &gt; 1; i--) {\r\n      if (number % i == 0) {\r\n        for (int j = 2; j &lt; i; j++) {\r\n          if (i % j == 0) {\r\n            continue candidates; // This continues the outer loop\r\n          }\r\n          return i;\r\n        }\r\n      }\r\n    }\r\n    return -1;\r\n\r\n\r\n\r\nThat gets you closer, but it still fails for powers of two, and for cases where it finds p^n where p is a prime number.\r\n\r\nAlso, there&#39;s no point in starting the outer loop with number-1. You can skip all the numbers higher than number/2. None of them will produce a modulo of zero.\r\n","title":"Find the largest prime factor of a given number","body":"<p>It wasn't working fine until it reached 45. It failed for 4, 8, 12, 16, 18, 20, 24, 27, 28, 30, 32, 36, 40, 42, and 44. It returned -1 for every prime number, which is correct, but it also returned -1 for 4. It usually finds the largest factor, regardless of whether it's prime.</p>\n<p>Your outer loop finds factors, starting with the largest. Your inner loop doesn't make sense. It needs to have a test for primality. It looks like you meant it to quit when it finds a factor of i, but it doesn't do that. Instead, it quits when it finds a number that isn't a factor. The continue statement tells it to go to the next value of j. You probably meant for it to go on to the next value of i. To do that, you could use break. That would bail out of the inner loop. Or you could label the outer loop and use the label in the continue statement, which is probably what you had in mind:</p>\n<pre><code>candidates:\nfor (int i = number - 1; i &gt; 1; i--) {\n  if (number % i == 0) {\n    for (int j = 2; j &lt; i; j++) {\n      if (i % j == 0) {\n        continue candidates; // This continues the outer loop\n      }\n      return i;\n    }\n  }\n}\nreturn -1;\n</code></pre>\n<p>That gets you closer, but it still fails for powers of two, and for cases where it finds p^n where p is a prime number.</p>\n<p>Also, there's no point in starting the outer loop with number-1. You can skip all the numbers higher than number/2. None of them will produce a modulo of zero.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612844938,"creation_date":1612844938,"answer_id":66112995,"question_id":66112449,"body_markdown":"I would recommend doing something like this.  First, consider `2*2*3*47 = 564`. The square root of `564 is &lt;= 24`.  So all you need to do is divide by numbers up to `24`.  First, eliminate `2`. That leaves `3*47`.  Next is `3` which leaves `47`. Since no other number from `4 thru 24` divides `47`, `47` must be a prime.  If it were composite, it&#39;s prime factors would have been factored out by one of the earlier divisors.\r\n\r\nThis can be further optimized by factoring out `2` in a separate loop. Then starting with `3`, start dividing by only the odd numbers (`2` already eliminated the even factors if there were any).\r\n\r\nIf the situation arises when the number is reduced to 1, then the last divisor that did the reduction must be the largest prime.\r\n```\r\nint[] testData = { 2, 10, 2 * 2 * 5, 2 * 3 * 47 * 5,\r\n\t\t2 * 2 * 2 * 3 * 3 * 3 * 17 * 17 * 17 };\r\nfor (int v : testData) {\r\n\tSystem.out.printf(&quot;%8s - largest prime factor = %s%n&quot;, v,\r\n\t\t\tgetLargestPrime(v));\r\n}\r\n```\r\nPrints\r\n```\r\n       2 - largest prime factor = 2\r\n      10 - largest prime factor = 5\r\n      20 - largest prime factor = 5\r\n    1410 - largest prime factor = 47\r\n 1061208 - largest prime factor = 17\r\n```\r\nThe method\r\n```\t\r\npublic static int getLargestPrime(int number) {\r\n    // no primes less than 2 exist.\r\n\tif (number &lt; 2) {\r\n\t\treturn -1;\r\n\t}\r\n\twhile (number % 2 == 0) {\r\n\t\tnumber /= 2;\r\n\t}\r\n\t\r\n\tint lastDivisor = 2;\r\n\tfor (int d = 3; d &lt;= Math.sqrt(number); d += 2) {\r\n\t\tlastDivisor = d;\r\n\t\twhile (number % d == 0) {\r\n\t\t\tnumber /= d;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn number == 1 ? lastDivisor : number;\r\n}","title":"Find the largest prime factor of a given number","body":"<p>I would recommend doing something like this.  First, consider <code>2*2*3*47 = 564</code>. The square root of <code>564 is &lt;= 24</code>.  So all you need to do is divide by numbers up to <code>24</code>.  First, eliminate <code>2</code>. That leaves <code>3*47</code>.  Next is <code>3</code> which leaves <code>47</code>. Since no other number from <code>4 thru 24</code> divides <code>47</code>, <code>47</code> must be a prime.  If it were composite, it's prime factors would have been factored out by one of the earlier divisors.</p>\n<p>This can be further optimized by factoring out <code>2</code> in a separate loop. Then starting with <code>3</code>, start dividing by only the odd numbers (<code>2</code> already eliminated the even factors if there were any).</p>\n<p>If the situation arises when the number is reduced to 1, then the last divisor that did the reduction must be the largest prime.</p>\n<pre><code>int[] testData = { 2, 10, 2 * 2 * 5, 2 * 3 * 47 * 5,\n        2 * 2 * 2 * 3 * 3 * 3 * 17 * 17 * 17 };\nfor (int v : testData) {\n    System.out.printf(&quot;%8s - largest prime factor = %s%n&quot;, v,\n            getLargestPrime(v));\n}\n</code></pre>\n<p>Prints</p>\n<pre><code>       2 - largest prime factor = 2\n      10 - largest prime factor = 5\n      20 - largest prime factor = 5\n    1410 - largest prime factor = 47\n 1061208 - largest prime factor = 17\n</code></pre>\n<p>The method</p>\n<pre><code>public static int getLargestPrime(int number) {\n    // no primes less than 2 exist.\n    if (number &lt; 2) {\n        return -1;\n    }\n    while (number % 2 == 0) {\n        number /= 2;\n    }\n    \n    int lastDivisor = 2;\n    for (int d = 3; d &lt;= Math.sqrt(number); d += 2) {\n        lastDivisor = d;\n        while (number % d == 0) {\n            number /= d;\n        }\n    }\n    \n    return number == 1 ? lastDivisor : number;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15947332,"reputation":164,"user_id":11507522,"display_name":"Chrisphine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662998307,"creation_date":1662997868,"answer_id":73691952,"question_id":66112449,"body_markdown":"This code will help you find the largest prime number.  Most online servers won&#39;t allow it to run. Just change the value of n.\r\n   \r\n\r\n    public class PrimeExample{    \r\n             public static void main(String args[]){          \r\n              for(int n = 100;n&lt;=1000;n++){\r\n               int i,m=0,flag=0; \r\n                  m=n/2;      \r\n                  if(n==0||n==1){  \r\n                   System.out.println(n+&quot; is not prime number&quot;);      \r\n                  }else{  \r\n                   for(i=2;i&lt;=m;i++){      \r\n                    if(n%i==0){      \r\n                     System.out.println(n+&quot; is not prime number&quot;);      \r\n                     flag=1;      \r\n                     break;      \r\n                    }      \r\n                   }      \r\n                   if(flag==0)  { System.out.println(n+&quot; is prime number&quot;); }  \r\n                }//end of else  \r\n              }\r\n            }    \r\n        }  ","title":"Find the largest prime factor of a given number","body":"<p>This code will help you find the largest prime number.  Most online servers won't allow it to run. Just change the value of n.</p>\n<pre><code>public class PrimeExample{    \n         public static void main(String args[]){          \n          for(int n = 100;n&lt;=1000;n++){\n           int i,m=0,flag=0; \n              m=n/2;      \n              if(n==0||n==1){  \n               System.out.println(n+&quot; is not prime number&quot;);      \n              }else{  \n               for(i=2;i&lt;=m;i++){      \n                if(n%i==0){      \n                 System.out.println(n+&quot; is not prime number&quot;);      \n                 flag=1;      \n                 break;      \n                }      \n               }      \n               if(flag==0)  { System.out.println(n+&quot; is prime number&quot;); }  \n            }//end of else  \n          }\n        }    \n    }  \n</code></pre>\n"}],"owner":{"account_id":19953689,"reputation":45,"user_id":14622768,"display_name":"Sk_Hssn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1662998307,"creation_date":1612840233,"question_id":66112449,"body_markdown":"I am writing this method which should return the largest prime factor of a given number. It was working fine till 45 was entered and the output was 15, even though the output should be 5. I am struggling to find the bug. Please help.\r\n\r\n    public static int getLargestPrime(int number) {\r\n    \r\n            if (number &lt; 0) {\r\n                return -1;\r\n            }\r\n    \r\n            for (int i = number-1; i &gt; 1; i--) {\r\n                if (number % i == 0) {\r\n                    for (int j = 2; j &lt; i; j++) {\r\n                        if (i % j == 0) {\r\n                            continue;\r\n                        }\r\n                        return i;\r\n                    }\r\n                }\r\n            }\r\n            return -1;\r\n    \r\n        }","title":"Find the largest prime factor of a given number","body":"<p>I am writing this method which should return the largest prime factor of a given number. It was working fine till 45 was entered and the output was 15, even though the output should be 5. I am struggling to find the bug. Please help.</p>\n<pre><code>public static int getLargestPrime(int number) {\n\n        if (number &lt; 0) {\n            return -1;\n        }\n\n        for (int i = number-1; i &gt; 1; i--) {\n            if (number % i == 0) {\n                for (int j = 2; j &lt; i; j++) {\n                    if (i % j == 0) {\n                        continue;\n                    }\n                    return i;\n                }\n            }\n        }\n        return -1;\n\n    }\n</code></pre>\n"},{"tags":["java","spring","oracle","spring-boot"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1629825097,"post_id":68910711,"comment_id":121786975,"body_markdown":"No stack trace? that could tell you if hikari or tomcat pool is causing the error. https://stackoverflow.com/a/40090148/2834978","body":"No stack trace? that could tell you if hikari or tomcat pool is causing the error. <a href=\"https://stackoverflow.com/a/40090148/2834978\">stackoverflow.com/a/40090148/2834978</a>"},{"owner":{"account_id":9697932,"reputation":1242,"user_id":7193786,"accept_rate":87,"display_name":"Sahbaz"},"score":0,"creation_date":1629825784,"post_id":68910711,"comment_id":121787265,"body_markdown":"@LMC i added stack trace, could it tell you something ?","body":"@LMC i added stack trace, could it tell you something ?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1629827567,"post_id":68910711,"comment_id":121787963,"body_markdown":"Yes, seems to be the oracle wrapper issue. Hikari is not able to unwrap the connection: `Caused by: java.sql.SQLException: Object does not wrap anything with requested interface \t\n at oracle.jdbc.driver.OracleConnection.isWrapperFor(OracleConnection.java:251)\n at com.zaxxer.hikari.pool.ProxyConnection.isWrapperFor(ProxyConnection.java:448)`","body":"Yes, seems to be the oracle wrapper issue. Hikari is not able to unwrap the connection: <code>Caused by: java.sql.SQLException: Object does not wrap anything with requested interface \t  at oracle.jdbc.driver.OracleConnection.isWrapperFor(OracleConne&zwnj;&#8203;ction.java:251)  at com.zaxxer.hikari.pool.ProxyConnection.isWrapperFor(ProxyCon&zwnj;&#8203;nection.java:448)</code>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1629827903,"post_id":68910711,"comment_id":121788081,"body_markdown":"Fix could depend on your oracle db version","body":"Fix could depend on your oracle db version"},{"owner":{"account_id":9697932,"reputation":1242,"user_id":7193786,"accept_rate":87,"display_name":"Sahbaz"},"score":0,"creation_date":1629830211,"post_id":68910711,"comment_id":121788913,"body_markdown":"@LMC\n\nVersion is: Oracle Database 19c Enterprise Edition Release 19.0.0.0.0","body":"@LMC  Version is: Oracle Database 19c Enterprise Edition Release 19.0.0.0.0"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1629832366,"post_id":68910711,"comment_id":121789735,"body_markdown":"Dialect could be `org.hibernate.dialect.Oracle12cDialect` and dependency could be `implementation group: &#39;com.oracle.database.jdbc&#39;, name: &#39;ojdbc8&#39;, version: &#39;19.11.0.0&#39;`. Updating the driver could fix the issue, worth trying.","body":"Dialect could be <code>org.hibernate.dialect.Oracle12cDialect</code> and dependency could be <code>implementation group: &#39;com.oracle.database.jdbc&#39;, name: &#39;ojdbc8&#39;, version: &#39;19.11.0.0&#39;</code>. Updating the driver could fix the issue, worth trying."},{"owner":{"account_id":9697932,"reputation":1242,"user_id":7193786,"accept_rate":87,"display_name":"Sahbaz"},"score":0,"creation_date":1629843342,"post_id":68910711,"comment_id":121792887,"body_markdown":"I already tried that unfortunately its not working","body":"I already tried that unfortunately its not working"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1629845396,"post_id":68910711,"comment_id":121793315,"body_markdown":"Did you updated hikari too?","body":"Did you updated hikari too?"},{"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"score":0,"creation_date":1631112950,"post_id":68910711,"comment_id":122137158,"body_markdown":"@Sahbaz - just out of curiosity - why do you have both ldap and jdbc url values configured for your spring.datasource.url property in your yml file?","body":"@Sahbaz - just out of curiosity - why do you have both ldap and jdbc url values configured for your spring.datasource.url property in your yml file?"}],"owner":{"account_id":9697932,"reputation":1242,"user_id":7193786,"accept_rate":87,"display_name":"Sahbaz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662998304,"creation_date":1629821539,"question_id":68910711,"body_markdown":"I have very annoying issue and i have no idea where to start, i already checked every link on internet regarding this problem and was not able to find anything useful.\r\n\r\nSo basically i have fresh spring boot application and i am trying to connect it to existing oracle database. \r\n\r\nMy application.properties for local instance looks like this:\r\n\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:oracle:thin:@ldap://oraldap1:389/DB,cn=OracleContext,dc=COMPANY,dc=com ldap://oraldap2:389/DB,cn=OracleContext,dc=COMPANY,dc=com\r\n        username: user\r\n        password: pass\r\n        driverClassName: oracle.jdbc.OracleDriver\r\n        hikari:\r\n          maximum-pool-size: 30\r\n          connection-timeout: 20000\r\n        tomcat:\r\n          initial-size: 2\r\n          max-active: 20\r\n          min-idle: 2\r\n          max-idle: 2\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.Oracle10gDialect\r\n            jdbc:\r\n              use_get_generated_keys: true\r\n\r\n\r\nAnd in my gradle.build i have this dependency:\r\n\r\n    compile group: &#39;com.oracle.database.jdbc&#39;, name: &#39;ojdbc8&#39;, version: &#39;12.2.0.1&#39;\r\n\r\nWhen i start application i can  see 2 errors:\r\n\r\n&gt; 2021-08-24T17:46:03.685+02:00 WARN - 0 jvm\r\n&gt; org.springframework.boot.actuate.health.AbstractHealthIndicator\r\n&gt; {&quot;x-company-correlation-id&quot;:&quot;&quot;, &quot;@trace_info&quot;:&quot;[ebas,,,,]&quot;,\r\n&gt; &quot;@message&quot;: &quot;DataSource health check failed&quot;,&quot;@data&quot;:{}, &quot;@exception&quot;:\r\n&gt; &quot;\torg.springframework.jdbc.CannotGetJdbcConnectionException: Failed to\r\n&gt; obtain JDBC Connection; nested exception is java.sql.SQLException:\r\n&gt; Object does not wrap anything with requested interface\r\n&gt; \r\n&gt; 2021-08-24T17:45:51.418+02:00 ERROR - 0 jvm\r\n&gt; org.hibernate.hql.spi.id.IdTableHelper\r\n&gt; {&quot;x-company-correlation-id&quot;:&quot;&quot;, &quot;@trace_info&quot;:&quot;[ebas,,,,]&quot;,\r\n&gt; &quot;@message&quot;: &quot;Unable obtain JDBC Connection&quot;,&quot;@data&quot;:{}, &quot;@exception&quot;:\r\n&gt; &quot;\tjava.sql.SQLException: Object does not wrap anything with requested\r\n&gt; interface\r\n\r\n\r\nAnd the funny thing, when i put intentionally wrong password on application startup i can see message that says: \r\n\r\n&gt; Unable obtain JDBC Connection&quot;,&quot;@data&quot;:{}, &quot;@exception&quot;:\r\n&gt; &quot;\tjava.sql.SQLException: ORA-01017: invalid username/password; logon\r\n&gt; denied\r\n\r\n\r\nOf course i already know that this database url and drivers are correct because i can connect to db via dbeaver.\r\n\r\n\r\nedit: \r\nHere are stacktraces:\r\n\r\n&gt; at\r\n&gt; org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\r\n&gt; \tat\r\n&gt; org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:107)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:102)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:81)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:38)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:108)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:119)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:105)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:83)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:70)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:75)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)\r\n&gt; \tat\r\n&gt; org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)\r\n&gt; \tat\r\n&gt; com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n&gt; \tat\r\n&gt; com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n&gt; \tat\r\n&gt; javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n&gt; \tat\r\n&gt; javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n&gt; \tat\r\n&gt; javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n&gt; \tat\r\n&gt; javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n&gt; \tat\r\n&gt; javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n&gt; \tat sun.reflect.GeneratedMethodAccessor99.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n&gt; \tat sun.rmi.transport.Transport$1.run(Transport.java:200) \tat\r\n&gt; sun.rmi.transport.Transport$1.run(Transport.java:197) \tat\r\n&gt; java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; sun.rmi.transport.Transport.serviceCall(Transport.java:196) \tat\r\n&gt; sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n&gt; \tat\r\n&gt; sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n&gt; \tat\r\n&gt; sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n&gt; \tat java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; \tat java.lang.Thread.run(Thread.java:748) \tCaused by:\r\n&gt; java.sql.SQLException: Object does not wrap anything with requested\r\n&gt; interface \tat\r\n&gt; oracle.jdbc.driver.OracleConnection.isWrapperFor(OracleConnection.java:251)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.pool.ProxyConnection.isWrapperFor(ProxyConnection.java:448)\r\n&gt; \tat\r\n&gt; io.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n&gt; \tat\r\n&gt; org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n&gt; \tat\r\n&gt; org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$4d55a5a7.getConnection(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n&gt; \tat\r\n&gt; org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$e4736671.getConnection(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n&gt; \tat\r\n&gt; org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n&gt; \tat\r\n&gt; org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n&gt; \t... 47 common frames omitted\r\n&gt; \r\n\r\n\r\n\r\n&gt; \tat\r\n&gt; oracle.jdbc.driver.OracleConnection.isWrapperFor(OracleConnection.java:251)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.pool.ProxyConnection.isWrapperFor(ProxyConnection.java:448)\r\n&gt; \tat\r\n&gt; io.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.lang.reflect.Method.invoke(Method.java:498) \tat\r\n&gt; org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n&gt; \tat\r\n&gt; org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n&gt; \tat\r\n&gt; org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$4d55a5a7.getConnection(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\r\n&gt; \tat\r\n&gt; org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n&gt; \tat\r\n&gt; com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$e4736671.getConnection(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n&gt; \tat\r\n&gt; org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\r\n&gt; \tat\r\n&gt; org.hibernate.hql.spi.id.IdTableHelper.executeIdTableCreationStatements(IdTableHelper.java:67)\r\n&gt; \tat\r\n&gt; org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:125)\r\n&gt; \tat\r\n&gt; org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:42)\r\n&gt; \tat\r\n&gt; org.hibernate.hql.spi.id.AbstractMultiTableBulkIdStrategyImpl.prepare(AbstractMultiTableBulkIdStrategyImpl.java:88)\r\n&gt; \tat\r\n&gt; org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:313)\r\n&gt; \tat\r\n&gt; org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\r\n&gt; \tat\r\n&gt; org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)\r\n&gt; \tat\r\n&gt; org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n&gt; \tat\r\n&gt; org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n&gt; \tat\r\n&gt; org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)\r\n&gt; \tat\r\n&gt; org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)\r\n&gt; \tat\r\n&gt; org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n&gt; \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n&gt; \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n&gt; \tat\r\n&gt; com.bawagpsk.msa.ebanking.ebas.Application.main(Application.java:15)\r\n\r\n ","title":"Failed to obtain JDBC Connection Object does not wrap anything with requested interface when starting spring boot app","body":"<p>I have very annoying issue and i have no idea where to start, i already checked every link on internet regarding this problem and was not able to find anything useful.</p>\n<p>So basically i have fresh spring boot application and i am trying to connect it to existing oracle database.</p>\n<p>My application.properties for local instance looks like this:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:oracle:thin:@ldap://oraldap1:389/DB,cn=OracleContext,dc=COMPANY,dc=com ldap://oraldap2:389/DB,cn=OracleContext,dc=COMPANY,dc=com\n    username: user\n    password: pass\n    driverClassName: oracle.jdbc.OracleDriver\n    hikari:\n      maximum-pool-size: 30\n      connection-timeout: 20000\n    tomcat:\n      initial-size: 2\n      max-active: 20\n      min-idle: 2\n      max-idle: 2\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.Oracle10gDialect\n        jdbc:\n          use_get_generated_keys: true\n</code></pre>\n<p>And in my gradle.build i have this dependency:</p>\n<pre><code>compile group: 'com.oracle.database.jdbc', name: 'ojdbc8', version: '12.2.0.1'\n</code></pre>\n<p>When i start application i can  see 2 errors:</p>\n<blockquote>\n<p>2021-08-24T17:46:03.685+02:00 WARN - 0 jvm\norg.springframework.boot.actuate.health.AbstractHealthIndicator\n{&quot;x-company-correlation-id&quot;:&quot;&quot;, &quot;@trace_info&quot;:&quot;[ebas,,,,]&quot;,\n&quot;@message&quot;: &quot;DataSource health check failed&quot;,&quot;@data&quot;:{}, &quot;@exception&quot;:\n&quot; org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to\nobtain JDBC Connection; nested exception is java.sql.SQLException:\nObject does not wrap anything with requested interface</p>\n<p>2021-08-24T17:45:51.418+02:00 ERROR - 0 jvm\norg.hibernate.hql.spi.id.IdTableHelper\n{&quot;x-company-correlation-id&quot;:&quot;&quot;, &quot;@trace_info&quot;:&quot;[ebas,,,,]&quot;,\n&quot;@message&quot;: &quot;Unable obtain JDBC Connection&quot;,&quot;@data&quot;:{}, &quot;@exception&quot;:\n&quot; java.sql.SQLException: Object does not wrap anything with requested\ninterface</p>\n</blockquote>\n<p>And the funny thing, when i put intentionally wrong password on application startup i can see message that says:</p>\n<blockquote>\n<p>Unable obtain JDBC Connection&quot;,&quot;@data&quot;:{}, &quot;@exception&quot;:\n&quot; java.sql.SQLException: ORA-01017: invalid username/password; logon\ndenied</p>\n</blockquote>\n<p>Of course i already know that this database url and drivers are correct because i can connect to db via dbeaver.</p>\n<p>edit:\nHere are stacktraces:</p>\n<blockquote>\n<p>at\norg.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)\nat\norg.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)\nat\norg.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)\nat\norg.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:107)\nat\norg.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:102)\nat\norg.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\nat\norg.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\nat\norg.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:81)\nat\norg.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:38)\nat\norg.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:108)\nat\norg.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:119)\nat\norg.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:105)\nat\norg.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:83)\nat\norg.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:70)\nat\norg.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:75)\nat\norg.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:65)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)     at\norg.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\nat\norg.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\nat\norg.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\nat\norg.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121)\nat\norg.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96)\nat\ncom.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat\ncom.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat\njavax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\nat\njavax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\nat\njavax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\nat\njavax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\nat\njavax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\nat sun.reflect.GeneratedMethodAccessor99.invoke(Unknown Source)     at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)     at\nsun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)    at\nsun.rmi.transport.Transport$1.run(Transport.java:197)     at\njava.security.AccessController.doPrivileged(Native Method)    at\nsun.rmi.transport.Transport.serviceCall(Transport.java:196)   at\nsun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\nat\nsun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\nat\nsun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\nat java.security.AccessController.doPrivileged(Native Method)   at\nsun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\nat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)    Caused by:\njava.sql.SQLException: Object does not wrap anything with requested\ninterface     at\noracle.jdbc.driver.OracleConnection.isWrapperFor(OracleConnection.java:251)\nat\ncom.zaxxer.hikari.pool.ProxyConnection.isWrapperFor(ProxyConnection.java:448)\nat\nio.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)     at\norg.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\nat\norg.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\nat\norg.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\nat\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\nat\norg.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\nat\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\nat\norg.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\nat\ncom.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$4d55a5a7.getConnection()\nat\ncom.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke()\nat\norg.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)\nat\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\nat\norg.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\nat\norg.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\nat\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\nat\norg.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\nat\ncom.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$e4736671.getConnection()\nat\norg.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\nat\norg.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\nat\norg.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n... 47 common frames omitted</p>\n</blockquote>\n<blockquote>\n<p>at\noracle.jdbc.driver.OracleConnection.isWrapperFor(OracleConnection.java:251)\nat\ncom.zaxxer.hikari.pool.ProxyConnection.isWrapperFor(ProxyConnection.java:448)\nat\nio.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)     at\norg.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\nat\norg.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\nat\norg.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\nat\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\nat\norg.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\nat\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\nat\norg.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\nat\ncom.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$4d55a5a7.getConnection()\nat\ncom.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke()\nat\norg.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)\nat\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\nat\norg.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:136)\nat\norg.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\nat\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\nat\norg.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\nat\ncom.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$e4736671.getConnection()\nat\norg.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\nat\norg.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\nat\norg.hibernate.hql.spi.id.IdTableHelper.executeIdTableCreationStatements(IdTableHelper.java:67)\nat\norg.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:125)\nat\norg.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:42)\nat\norg.hibernate.hql.spi.id.AbstractMultiTableBulkIdStrategyImpl.prepare(AbstractMultiTableBulkIdStrategyImpl.java:88)\nat\norg.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:313)\nat\norg.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\nat\norg.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)\nat\norg.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\nat\norg.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\nat\norg.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)\nat\norg.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)\nat\norg.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\nat\norg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\nat\norg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\nat\norg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\nat\norg.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108)\nat\norg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\nat\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\nat\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\nat\norg.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\nat\norg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\nat\ncom.bawagpsk.msa.ebanking.ebas.Application.main(Application.java:15)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","kotlin","serialization","jackson"],"comments":[{"owner":{"account_id":5797887,"reputation":366,"user_id":4573103,"display_name":"Dhruv Patel"},"score":0,"creation_date":1662837185,"post_id":73674165,"comment_id":130100156,"body_markdown":"Could you take the input as a String and then use ObjectMapper to convert the request into the form you want to consume? \n\nAlso, you can try using 2 @JsonProperty, one for getter and other for setter for example:\n\nplease checkout this question:\nhttps://stackoverflow.com/questions/8560348/different-names-of-json-property-during-serialization-and-deserialization","body":"Could you take the input as a String and then use ObjectMapper to convert the request into the form you want to consume?   Also, you can try using 2 @JsonProperty, one for getter and other for setter for example:  please checkout this question: <a href=\"https://stackoverflow.com/questions/8560348/different-names-of-json-property-during-serialization-and-deserialization\" title=\"different names of json property during serialization and deserialization\">stackoverflow.com/questions/8560348/&hellip;</a>"},{"owner":{"account_id":12822065,"reputation":17,"user_id":10250453,"display_name":"krown_loki"},"score":0,"creation_date":1662947428,"post_id":73674165,"comment_id":130116403,"body_markdown":"No, unfortunately client wants to send request body exactly without key field in Map value. I don&#39;t understand if I can do that with `@JsonProperty` on setter method.","body":"No, unfortunately client wants to send request body exactly without key field in Map value. I don&#39;t understand if I can do that with <code>@JsonProperty</code> on setter method."}],"answers":[{"tags":[],"owner":{"account_id":12822065,"reputation":17,"user_id":10250453,"display_name":"krown_loki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662998170,"creation_date":1662998170,"answer_id":73692020,"question_id":73674165,"body_markdown":"I found solution. It&#39;s need to use @JsonAnySetter annotation.\r\nI changed **ExampleObject** to:  \r\n```\r\nclass ExampleObject(\r\n    @JsonProperty(&quot;paramTwo&quot;)\r\n    val paramTwo: String\r\n) {\r\n    @JsonProperty(&quot;paramOne&quot;)\r\n    val paramOne = MutableMap&lt;String, Int&gt; = mutableMapOf()\r\n\r\n    @JsonAnySetter\r\n    fun setParamOne(key: String, value: Int) {\r\n        paramOne[key] = value\r\n    }\r\n}\r\n```\r\nAnd now I can send request body the way I wanted. All fields that don&#39;t match with declared @JsonProperty annotation will be assigned to property with @JsonAnySetter method. \r\n```\r\n{\r\n    &quot;paramTwo&quot;: &quot;data&quot;,\r\n    &quot;testStringOne&quot;: 1,\r\n    &quot;testStringTwo&quot;: 2,\r\n    ...\r\n}\r\n```\r\n","title":"How to serialize request object without field name in Spring Boot?","body":"<p>I found solution. It's need to use @JsonAnySetter annotation.\nI changed <strong>ExampleObject</strong> to:</p>\n<pre><code>class ExampleObject(\n    @JsonProperty(&quot;paramTwo&quot;)\n    val paramTwo: String\n) {\n    @JsonProperty(&quot;paramOne&quot;)\n    val paramOne = MutableMap&lt;String, Int&gt; = mutableMapOf()\n\n    @JsonAnySetter\n    fun setParamOne(key: String, value: Int) {\n        paramOne[key] = value\n    }\n}\n</code></pre>\n<p>And now I can send request body the way I wanted. All fields that don't match with declared @JsonProperty annotation will be assigned to property with @JsonAnySetter method.</p>\n<pre><code>{\n    &quot;paramTwo&quot;: &quot;data&quot;,\n    &quot;testStringOne&quot;: 1,\n    &quot;testStringTwo&quot;: 2,\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":12822065,"reputation":17,"user_id":10250453,"display_name":"krown_loki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73692020,"answer_count":1,"score":0,"last_activity_date":1662998170,"creation_date":1662833416,"question_id":73674165,"body_markdown":"I have simple REST Controller (in Kotlin) method with ```@RequestBody``` object.  \r\n```\r\n@PostMappging(...)\r\nfun postTestFunction(@RequestBody data: ExampleObject) {\r\n    ...\r\n}\r\n```  \r\nWhere **ExampleObject** is:  \r\n```\r\nclass ExampleObject(\r\n    @JsonProperty(&quot;paramOne&quot;)\r\n    val paramOne: Map&lt;String, Int&gt;,\r\n    @JsonProperty(&quot;paramTwo&quot;)\r\n    val paramTwo: String\r\n)\r\n```  \r\nThat request can be send with next body:  \r\n```\r\n{\r\n    &quot;paramOne&quot;: {\r\n        &quot;test&quot;: 1 // Here I can write any number of Map&lt;String, Int&gt;\r\n    },\r\n    &quot;paramTwo&quot;: &quot;test&quot;\r\n}\r\n```  \r\nBut I need another request body something like this:  \r\n```\r\n{\r\n    &quot;test&quot;: 1, // I need  any number of Map&lt;String, Int&gt; without field name &quot;paramOne&quot;\r\n    &quot;paramTwo&quot;: &quot;test&quot;\r\n}\r\n```  \r\nWhat should I do to send request body with Map field (String, Int) but without field name?\r\n\r\n","title":"How to serialize request object without field name in Spring Boot?","body":"<p>I have simple REST Controller (in Kotlin) method with <code>@RequestBody</code> object.</p>\n<pre><code>@PostMappging(...)\nfun postTestFunction(@RequestBody data: ExampleObject) {\n    ...\n}\n</code></pre>\n<p>Where <strong>ExampleObject</strong> is:</p>\n<pre><code>class ExampleObject(\n    @JsonProperty(&quot;paramOne&quot;)\n    val paramOne: Map&lt;String, Int&gt;,\n    @JsonProperty(&quot;paramTwo&quot;)\n    val paramTwo: String\n)\n</code></pre>\n<p>That request can be send with next body:</p>\n<pre><code>{\n    &quot;paramOne&quot;: {\n        &quot;test&quot;: 1 // Here I can write any number of Map&lt;String, Int&gt;\n    },\n    &quot;paramTwo&quot;: &quot;test&quot;\n}\n</code></pre>\n<p>But I need another request body something like this:</p>\n<pre><code>{\n    &quot;test&quot;: 1, // I need  any number of Map&lt;String, Int&gt; without field name &quot;paramOne&quot;\n    &quot;paramTwo&quot;: &quot;test&quot;\n}\n</code></pre>\n<p>What should I do to send request body with Map field (String, Int) but without field name?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13810539,"reputation":3452,"user_id":9968399,"display_name":"Taseer"},"score":0,"creation_date":1563790519,"post_id":57143656,"comment_id":100802571,"body_markdown":"Looks like you are not setting an audio session","body":"Looks like you are not setting an audio session"},{"owner":{"account_id":10407151,"reputation":49,"user_id":10784377,"display_name":"Asif Ali Khan"},"score":0,"creation_date":1563790740,"post_id":57143656,"comment_id":100802709,"body_markdown":"The audio gets played when i comment out The SoundVisualtion library.@Tase","body":"The audio gets played when i comment out The SoundVisualtion library.@Tase"}],"answers":[{"tags":[],"owner":{"account_id":13810539,"reputation":3452,"user_id":9968399,"display_name":"Taseer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1563790995,"creation_date":1563790995,"answer_id":57143930,"question_id":57143656,"body_markdown":"Try doing this, it appeared that you were not supplying audio session ID to the visualizer.\r\n\r\n\r\n     public void init(){\r\n        Log.d(TAG, &quot;init: init() called&quot;);\r\n        LineVisualizer lineVisualizer = findViewById(R.id.lineVisualizer);\r\n        // set custom color to the line.\r\n        lineVisualizer.setColor(ContextCompat.getColor(this, R.color.custom));\r\n        // set the line with for the visualizer between 1-10 default 1.\r\n        lineVisualizer.setStrokeWidth(1);\r\n        // Set you media player to the visualizer.\r\n        lineVisualizer.setPlayer(mediaPlayer.getAudioSessionId());  //Added session ID\r\n    }","title":"How to visualize an audio file in an android app using Android Studio?","body":"<p>Try doing this, it appeared that you were not supplying audio session ID to the visualizer.</p>\n\n<pre><code> public void init(){\n    Log.d(TAG, \"init: init() called\");\n    LineVisualizer lineVisualizer = findViewById(R.id.lineVisualizer);\n    // set custom color to the line.\n    lineVisualizer.setColor(ContextCompat.getColor(this, R.color.custom));\n    // set the line with for the visualizer between 1-10 default 1.\n    lineVisualizer.setStrokeWidth(1);\n    // Set you media player to the visualizer.\n    lineVisualizer.setPlayer(mediaPlayer.getAudioSessionId());  //Added session ID\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19877748,"reputation":51,"user_id":14562389,"display_name":"Manisha Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662997941,"creation_date":1662997941,"answer_id":73691973,"question_id":57143656,"body_markdown":"Here&#39;s how you can add RECORD_AUDIO permissions inside your method: \r\n\r\n     if (context?.let {\r\n        ContextCompat.checkSelfPermission(\r\n            it,\r\n            Manifest.permission.RECORD_AUDIO\r\n        )\r\n    } != PackageManager.PERMISSION_GRANTED) {\r\n    activity?.let {\r\n        ActivityCompat.requestPermissions(\r\n            it,\r\n            Array(1) { Manifest.permission.RECORD_AUDIO },\r\n            0\r\n        )\r\n    }\r\n\r\nif (mediaPlayer!!.audioSessionId != -1)","title":"How to visualize an audio file in an android app using Android Studio?","body":"<p>Here's how you can add RECORD_AUDIO permissions inside your method:</p>\n<pre><code> if (context?.let {\n    ContextCompat.checkSelfPermission(\n        it,\n        Manifest.permission.RECORD_AUDIO\n    )\n} != PackageManager.PERMISSION_GRANTED) {\nactivity?.let {\n    ActivityCompat.requestPermissions(\n        it,\n        Array(1) { Manifest.permission.RECORD_AUDIO },\n        0\n    )\n}\n</code></pre>\n<p>if (mediaPlayer!!.audioSessionId != -1)</p>\n"}],"owner":{"account_id":10407151,"reputation":49,"user_id":10784377,"display_name":"Asif Ali Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57143930,"answer_count":2,"score":0,"last_activity_date":1662997941,"creation_date":1563790121,"question_id":57143656,"body_markdown":"I am trying to visualize an file  in android.I am using the following library to do it `com.chibde:audiovisualizer:2.1.0`. But my app crashes saying \r\n&gt;java.lang.RuntimeException: Cannot initialize Visualizer engine, error: -3\r\n                                                                              at android.media.audiofx.Visualizer\r\n\r\nI have written this code by reading this blog https://mindorks.com/android/store/Equalizers-and-Visualizations/gautamchibde/android-audio-visualizer.\r\n\r\nThe following is my MainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ImageButton playPauseBtn;\r\n        private static final String TAG = &quot;MainActivity&quot;;\r\n        MediaPlayer mediaPlayer;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            playPauseBtn = (ImageButton) findViewById(R.id.ib_play_pause);\r\n            setPlayer();\r\n        }\r\n        public void playPause(View view){\r\n            if(mediaPlayer != null){\r\n                if(mediaPlayer.isPlaying()){\r\n                    mediaPlayer.pause();\r\n                    playPauseBtn.setImageDrawable(ContextCompat.getDrawable(this,R.drawable.ic_play_red_48dp));\r\n                }\r\n                else\r\n                {\r\n                    mediaPlayer.start();\r\n                    playPauseBtn.setImageDrawable(ContextCompat.getDrawable(this,R.drawable.ic_pause_red_48dp));\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void setPlayer(){\r\n            Log.d(TAG, &quot;setPlayer: setPlayer() called&quot;);\r\n            mediaPlayer = MediaPlayer.create(this,R.raw.normal);\r\n            mediaPlayer.setLooping(false);\r\n            init();\r\n        }\r\n    \r\n        public void init(){\r\n            Log.d(TAG, &quot;init: init() called&quot;);\r\n            LineVisualizer lineVisualizer = findViewById(R.id.lineVisualizer);\r\n            // set custom color to the line.\r\n            lineVisualizer.setColor(ContextCompat.getColor(this, R.color.custom));\r\n            // set the line with for the visualizer between 1-10 default 1.\r\n            lineVisualizer.setStrokeWidth(1);\r\n            // Set you media player to the visualizer.\r\n            lineVisualizer.setPlayer(mediaPlayer);\r\n        }\r\n    }\r\n\r\n//The following is my ActivityMain.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;com.techmate.asifa.waves.MainActivity&quot;&gt;\r\n    \r\n       &lt;com.chibde.visualizer.LineVisualizer\r\n           android:layout_width=&quot;match_parent&quot;\r\n           android:layout_height=&quot;250dp&quot;\r\n           android:id=&quot;@+id/lineVisualizer&quot;/&gt;\r\n    \r\n    \r\n        &lt;include layout=&quot;@layout/layout_audio_buttons&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nthe following is my gradle\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        buildToolsVersion &quot;29.0.0&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.techmate.asifa.waves&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 28\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &#39;com.android.support:appcompat-v7:28.+&#39;\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        compile &#39;com.chibde:audiovisualizer:2.1.0&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nMy app crashes when i run it and the following error is shown in my logcat\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: Cannot initialize Visualizer engine, error: -3\r\n    at android.media.audiofx.Visualizer.&lt;init&gt;(Visualizer.java:218)\r\n    at com.chibde.BaseVisualizer.setPlayer(BaseVisualizer.java:81)\r\n    at com.chibde.BaseVisualizer.setPlayer(BaseVisualizer.java:77)\r\n    at com.techmate.asifa.waves.MainActivity.init(MainActivity.java:81)\r\n    at com.techmate.asifa.waves.MainActivity.setPlayer(MainActivity.java:66)\r\n    at com.techmate.asifa.waves.MainActivity.onCreate(MainActivity.java:32)\r\n    at android.app.Activity.performCreate(Activity.java:7009)\r\n    at android.app.Activity.performCreate(Activity.java:7000)\r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)&#160;\r\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)&#160;\r\n    at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n    at android.os.Looper.loop(Looper.java:164)&#160;\r\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n```\r\n\r\n","title":"How to visualize an audio file in an android app using Android Studio?","body":"<p>I am trying to visualize an file  in android.I am using the following library to do it <code>com.chibde:audiovisualizer:2.1.0</code>. But my app crashes saying </p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Cannot initialize Visualizer engine, error: -3\n                                                                                at android.media.audiofx.Visualizer</p>\n</blockquote>\n\n<p>I have written this code by reading this blog <a href=\"https://mindorks.com/android/store/Equalizers-and-Visualizations/gautamchibde/android-audio-visualizer\" rel=\"nofollow noreferrer\">https://mindorks.com/android/store/Equalizers-and-Visualizations/gautamchibde/android-audio-visualizer</a>.</p>\n\n<p>The following is my MainActivity.java</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ImageButton playPauseBtn;\n    private static final String TAG = \"MainActivity\";\n    MediaPlayer mediaPlayer;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        playPauseBtn = (ImageButton) findViewById(R.id.ib_play_pause);\n        setPlayer();\n    }\n    public void playPause(View view){\n        if(mediaPlayer != null){\n            if(mediaPlayer.isPlaying()){\n                mediaPlayer.pause();\n                playPauseBtn.setImageDrawable(ContextCompat.getDrawable(this,R.drawable.ic_play_red_48dp));\n            }\n            else\n            {\n                mediaPlayer.start();\n                playPauseBtn.setImageDrawable(ContextCompat.getDrawable(this,R.drawable.ic_pause_red_48dp));\n            }\n        }\n    }\n\n    public void setPlayer(){\n        Log.d(TAG, \"setPlayer: setPlayer() called\");\n        mediaPlayer = MediaPlayer.create(this,R.raw.normal);\n        mediaPlayer.setLooping(false);\n        init();\n    }\n\n    public void init(){\n        Log.d(TAG, \"init: init() called\");\n        LineVisualizer lineVisualizer = findViewById(R.id.lineVisualizer);\n        // set custom color to the line.\n        lineVisualizer.setColor(ContextCompat.getColor(this, R.color.custom));\n        // set the line with for the visualizer between 1-10 default 1.\n        lineVisualizer.setStrokeWidth(1);\n        // Set you media player to the visualizer.\n        lineVisualizer.setPlayer(mediaPlayer);\n    }\n}\n</code></pre>\n\n<p>//The following is my ActivityMain.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\"com.techmate.asifa.waves.MainActivity\"&gt;\n\n   &lt;com.chibde.visualizer.LineVisualizer\n       android:layout_width=\"match_parent\"\n       android:layout_height=\"250dp\"\n       android:id=\"@+id/lineVisualizer\"/&gt;\n\n\n    &lt;include layout=\"@layout/layout_audio_buttons\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>the following is my gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion \"29.0.0\"\n    defaultConfig {\n        applicationId \"com.techmate.asifa.waves\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:28.+'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.chibde:audiovisualizer:2.1.0'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>My app crashes when i run it and the following error is shown in my logcat</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: Cannot initialize Visualizer engine, error: -3\n    at android.media.audiofx.Visualizer.&lt;init&gt;(Visualizer.java:218)\n    at com.chibde.BaseVisualizer.setPlayer(BaseVisualizer.java:81)\n    at com.chibde.BaseVisualizer.setPlayer(BaseVisualizer.java:77)\n    at com.techmate.asifa.waves.MainActivity.init(MainActivity.java:81)\n    at com.techmate.asifa.waves.MainActivity.setPlayer(MainActivity.java:66)\n    at com.techmate.asifa.waves.MainActivity.onCreate(MainActivity.java:32)\n    at android.app.Activity.performCreate(Activity.java:7009)\n    at android.app.Activity.performCreate(Activity.java:7000)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \n    at android.app.ActivityThread.-wrap11(Unknown Source:0) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \n    at android.os.Handler.dispatchMessage(Handler.java:106) \n    at android.os.Looper.loop(Looper.java:164) \n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n</code></pre>\n"},{"tags":["java","spring-boot","multi-database-connections"],"answers":[{"tags":[],"owner":{"account_id":16689839,"reputation":557,"user_id":12062831,"display_name":"gsan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652480474,"creation_date":1652480474,"answer_id":72235905,"question_id":72225990,"body_markdown":"[This answer][1] explains how to configure two data sources for a single Spring Boot application. \r\n\r\nAlso [this][2] tutorial explains the same concept with a detailed example. \r\n\r\nThe copying procedure could be done by fetching all the objects from each table on the main db, deleting id values and saving them to the second db. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30344608/12062831\r\n  [2]: https://www.baeldung.com/spring-data-jpa-multiple-databases","title":"Dynamically change data source connection at runtime in Spring Boot","body":"<p><a href=\"https://stackoverflow.com/a/30344608/12062831\">This answer</a> explains how to configure two data sources for a single Spring Boot application.</p>\n<p>Also <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">this</a> tutorial explains the same concept with a detailed example.</p>\n<p>The copying procedure could be done by fetching all the objects from each table on the main db, deleting id values and saving them to the second db.</p>\n"},{"tags":[],"owner":{"account_id":2115514,"reputation":93,"user_id":1879941,"display_name":"Mah"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655040884,"creation_date":1655040884,"answer_id":72592663,"question_id":72225990,"body_markdown":"Alternative solution could be to use AbstractRoutingDatasource: https://www.baeldung.com/spring-abstract-routing-data-source","title":"Dynamically change data source connection at runtime in Spring Boot","body":"<p>Alternative solution could be to use AbstractRoutingDatasource: <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-abstract-routing-data-source</a></p>\n"},{"tags":[],"owner":{"account_id":3984506,"reputation":83,"user_id":15623419,"display_name":"SoftWar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662997409,"creation_date":1662997409,"answer_id":73691849,"question_id":72225990,"body_markdown":"I would like to write code for others on the same search:\r\n\r\n    _context.Database.CloseConnection();\r\n    _context.Database.SetConnectionString(&quot;NewConnectionString&quot;);\r\n    _context.Database.OpenConnection();\r\n\r\nthis will connect you whatever DB you want to connect...\r\n","title":"Dynamically change data source connection at runtime in Spring Boot","body":"<p>I would like to write code for others on the same search:</p>\n<pre><code>_context.Database.CloseConnection();\n_context.Database.SetConnectionString(&quot;NewConnectionString&quot;);\n_context.Database.OpenConnection();\n</code></pre>\n<p>this will connect you whatever DB you want to connect...</p>\n"}],"owner":{"account_id":2115514,"reputation":93,"user_id":1879941,"display_name":"Mah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10339,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72592663,"answer_count":3,"score":5,"last_activity_date":1662997409,"creation_date":1652427537,"question_id":72225990,"body_markdown":"I have a spring-boot application with one database. Now I would like to integrate the possibility to copy some data from this database to another database. The connection to the second database should be done during runtime. I insert in my frontend the second database connection and start the copy from the first database to the second. The two databases have the same tables and I would like to use the same repositories. Is it possible to do that? If yes, do you know some code example or documentation? I&#39;m trying to find the correct approach to do that.\r\n\r\nThank you!","title":"Dynamically change data source connection at runtime in Spring Boot","body":"<p>I have a spring-boot application with one database. Now I would like to integrate the possibility to copy some data from this database to another database. The connection to the second database should be done during runtime. I insert in my frontend the second database connection and start the copy from the first database to the second. The two databases have the same tables and I would like to use the same repositories. Is it possible to do that? If yes, do you know some code example or documentation? I'm trying to find the correct approach to do that.</p>\n<p>Thank you!</p>\n"},{"tags":["java","pyspark","jupyter-lab"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1636106908,"post_id":69851277,"comment_id":123473857,"body_markdown":"What java version are you using? Did you do export SPARK_LOCAL_IP=localhost ?","body":"What java version are you using? Did you do export SPARK_LOCAL_IP=localhost ?"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1636107358,"creation_date":1636107358,"answer_id":69851663,"question_id":69851277,"body_markdown":"Spark runs on `Java 8/11`, Scala 2.12, Python 3.6+ and R 3.5+. Python 3.6 support is deprecated as of Spark 3.2.0. \r\n\r\n&gt; Java 8 prior to version 8u201 support is deprecated as of Spark 3.2.0\r\n\r\nFor the Scala API, Spark 3.2.0 uses Scala 2.12. You will need to use a compatible Scala version (2.12.x).\r\n\r\nFor Python 3.9, Arrow optimization and pandas UDFs might not work due to the supported Python versions in Apache Arrow. Please refer to the latest Python Compatibility page. \r\n\r\nFor `Java 11`, `-Dio.netty.tryReflectionSetAccessible=true` is required additionally for Apache Arrow library. This prevents java.lang.UnsupportedOperationException: sun.misc.Unsafe or java.nio.DirectByteBuffer.(long, int) not available when Apache Arrow uses Netty internally.","title":"Error when initializing SparkContext in jupyterlab","body":"<p>Spark runs on <code>Java 8/11</code>, Scala 2.12, Python 3.6+ and R 3.5+. Python 3.6 support is deprecated as of Spark 3.2.0.</p>\n<blockquote>\n<p>Java 8 prior to version 8u201 support is deprecated as of Spark 3.2.0</p>\n</blockquote>\n<p>For the Scala API, Spark 3.2.0 uses Scala 2.12. You will need to use a compatible Scala version (2.12.x).</p>\n<p>For Python 3.9, Arrow optimization and pandas UDFs might not work due to the supported Python versions in Apache Arrow. Please refer to the latest Python Compatibility page.</p>\n<p>For <code>Java 11</code>, <code>-Dio.netty.tryReflectionSetAccessible=true</code> is required additionally for Apache Arrow library. This prevents java.lang.UnsupportedOperationException: sun.misc.Unsafe or java.nio.DirectByteBuffer.(long, int) not available when Apache Arrow uses Netty internally.</p>\n"},{"tags":[],"owner":{"account_id":7705631,"reputation":1881,"user_id":5836700,"display_name":"thrinadhn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662997336,"creation_date":1652371381,"answer_id":72218805,"question_id":69851277,"body_markdown":" - Spark runs on Java 8/11 [Java SE 8 Archive Downloads (JDK 8u202 and earlier)][1]\r\n - I successfully installed Python 3.9.7 version of Anaconda distribution.\r\n \r\n**I’ve provided a spark installation link** [How to Install and Run PySpark in Jupyter Notebook on Windows\r\n][2]\r\n\r\n**I’ve provided a spark installation video link** [youtube Video how to Run PySpark in Jupyter Notebook on Windows][3]\r\n\r\nThis works me\r\n\r\nSource: Eden Canlilar\r\n\r\n\r\n \r\n\r\n\r\n**How to Install and Run PySpark in Jupyter Notebook on Windows**\r\n\r\nWhen I write PySpark code, I use Jupyter notebook to test my code before submitting a job on the cluster. In this post, I will show you how to install and run PySpark locally in Jupyter Notebook on Windows. I’ve tested this guide on a dozen Windows 7 and 10 PCs in different languages.\r\n\r\n A. **Items needed**\r\n    \r\n\r\n 1. Spark distribution from spark.apache.org[spark.apache.org][4]\r\n [![Download Apache Spark][5]][5]\r\n 2. Python and Jupyter Notebook. You can get both by installing the Python 3.x version of [Anaconda distribution.]\r\n 3. winutils.exe — a Hadoop binary for Windows — from Steve Loughran’s [GitHub repo][6]. Go to the corresponding Hadoop version in the Spark distribution and find winutils.exe under /bin. For example,\r\nhttps://github.com/steveloughran/winutils/blob/master/hadoop-2.7.1/bin/winutils.exe\r\n[![enter image description here][7]][7]\r\n 4. The findspark Python module, which can be installed by running python -m pip install findspark either in Windows command prompt or Git bash if Python is installed in item 2. You can find command prompt by searching cmd in the search box.\r\n[![enter image description here][8]][8]\r\n 5. If you don’t have Java or your Java version is 7.x or less, download and install Java from [Oracle][9]. I recommend getting the latest JDK (current version 9.0.1).\r\n[![enter image description here][10]][10]\r\n 6. If you don’t know how to unpack a .tgz file on Windows, you can download and install 7-zip on Windows to unpack the .tgz file from Spark distribution in item 1 by right-clicking on the file icon and select [7-zip][11] &gt; Extract Here.\r\n[![enter image description here][12]][12]\r\n\r\nB. **Installing PySpark**\r\n\r\n   After getting all the items in section A, let’s set up PySpark.\r\n\r\n 1. Unpack the .tgz file. For example, I unpacked with 7zip from step A6 and put mine under D:\\spark\\spark-2.2.1-bin-hadoop2.7\r\n[![enter image description here][13]][13]\r\n 2. Move the winutils.exe downloaded from step A3 to the \\bin folder of Spark distribution. For example, D:\\spark\\spark-2.2.1-bin-hadoop2.7\\bin\\winutils.exe\r\n 3. Add environment variables: the environment variables let Windows find where the files are when we start the PySpark kernel. You can find the environment variable settings by putting “environ…” in the search box.\r\n\r\n    The variables to add are, in my example,\r\n\r\n    \r\n\r\n    | Name                       | Value              |\r\n    | ---------------------------|-------------------- \r\n    | SPARK_HOME                 | D:\\spark\\spark-2.2.1-bin-hadoop2.7|\r\n    | HADOOP_HOME                | D:\\spark\\spark-2.2.1-bin-hadoop2.7|\r\n    | PYSPARK_DRIVER_PYTHON      | jupyter            |\r\n    | PYSPARK_DRIVER_PYTHON_OPTS | notebook |\r\n    \r\n    [![enter code here][14]][14]\r\n\r\n 4. In the same environment variable settings window, look for the Path or PATH variable, click edit and add D:\\spark\\spark-2.2.1-bin-hadoop2.7\\bin to it. In Windows 7 you need to separate the values in Path with a semicolon ; between the values.\r\n 5. (Optional, if see Java related error in step C) Find the installed Java JDK folder from step A5, for example, D:\\Program Files\\Java\\jdk1.8.0_121, and add the following environment variable\r\n\r\n     | Name     | Value                              |\r\n     | ------   |------------------------------------| \r\n     | JAVA_HOME| D:\\Progra~1\\Java\\jdk1.8.0_121      |\r\n\r\nIf JDK is installed under \\Program Files (x86), then replace the Progra~1 part by Progra~2 instead. In my experience, this error only occurs in Windows 7, and I think it’s because Spark couldn’t parse the space in the folder name.\r\nEdit (1/23/19): You might also find Gerard’s comment helpful: [How to Install and Run PySpark in Jupyter Notebook on Windows][15]\r\n\r\n  C. **Running PySpark in Jupyter Notebook**\r\n\r\n   To run Jupyter notebook, open Windows command prompt or Git Bash and run jupyter notebook. If you use Anaconda Navigator to open Jupyter Notebook instead, you might see a Java gateway process exited before sending the driver its port number error from PySpark in step C. Fall back to Windows cmd if it happens.\r\n\r\nOnce inside Jupyter notebook, open a Python 3 notebook\r\n[![Create a new notebook][16]][16]\r\nIn the notebook, run the following code\r\n\r\n    import findspark\r\n    findspark.init()\r\n\r\n    import pyspark # only run after findspark.init()\r\n    from pyspark.sql import SparkSession\r\n    spark = SparkSession.builder.getOrCreate()\r\n\r\n    df = spark.sql(&#39;&#39;&#39;select &#39;spark&#39; as hello &#39;&#39;&#39;)\r\n    df.show()    \r\n    \r\n\r\n    When you press run, it might trigger a Windows firewall pop-up. I pressed cancel on the pop-up as blocking the connection doesn’t affect PySpark.\r\n\r\nIf you see the following output, then you have \r\ninstalled PySpark on your Windows system!\r\n[![following output][17]][17]\r\n\r\n\r\n  [1]: https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html\r\n  [2]: https://changhsinlee.com/install-pyspark-windows-jupyter/\r\n  [3]: https://www.youtube.com/watch?v=Rv4NOAn2m-g&amp;t=4s\r\n  [4]: https://spark.apache.org/downloads.html\r\n  [5]: https://i.stack.imgur.com/xU6GX.png\r\n  [6]: https://github.com/steveloughran/winutils/\r\n  [7]: https://i.stack.imgur.com/0a7gO.png\r\n  [8]: https://i.stack.imgur.com/IVe49.png\r\n  [9]: https://www.oracle.com/java/technologies/downloads/\r\n  [10]: https://i.stack.imgur.com/8PRXq.png\r\n  [11]: https://www.7-zip.org/download.html\r\n  [12]: https://i.stack.imgur.com/d2yuw.png\r\n  [13]: https://i.stack.imgur.com/xUlIZ.png\r\n  [14]: https://i.stack.imgur.com/AQ2kv.png\r\n  [15]: https://changhsinlee.com/install-pyspark-windows-jupyter/#comment-4302741820\r\n  [16]: https://i.stack.imgur.com/0j7Dr.png\r\n  [17]: https://i.stack.imgur.com/9bpS9.png","title":"Error when initializing SparkContext in jupyterlab","body":"<ul>\n<li>Spark runs on Java 8/11 <a href=\"https://www.oracle.com/in/java/technologies/javase/javase8-archive-downloads.html\" rel=\"nofollow noreferrer\">Java SE 8 Archive Downloads (JDK 8u202 and earlier)</a></li>\n<li>I successfully installed Python 3.9.7 version of Anaconda distribution.</li>\n</ul>\n<p><strong>I’ve provided a spark installation link</strong> <a href=\"https://changhsinlee.com/install-pyspark-windows-jupyter/\" rel=\"nofollow noreferrer\">How to Install and Run PySpark in Jupyter Notebook on Windows\n</a></p>\n<p><strong>I’ve provided a spark installation video link</strong> <a href=\"https://www.youtube.com/watch?v=Rv4NOAn2m-g&amp;t=4s\" rel=\"nofollow noreferrer\">youtube Video how to Run PySpark in Jupyter Notebook on Windows</a></p>\n<p>This works me</p>\n<p>Source: Eden Canlilar</p>\n<p><strong>How to Install and Run PySpark in Jupyter Notebook on Windows</strong></p>\n<p>When I write PySpark code, I use Jupyter notebook to test my code before submitting a job on the cluster. In this post, I will show you how to install and run PySpark locally in Jupyter Notebook on Windows. I’ve tested this guide on a dozen Windows 7 and 10 PCs in different languages.</p>\n<p>A. <strong>Items needed</strong></p>\n<ol>\n<li>Spark distribution from spark.apache.org<a href=\"https://spark.apache.org/downloads.html\" rel=\"nofollow noreferrer\">spark.apache.org</a>\n<a href=\"https://i.stack.imgur.com/xU6GX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xU6GX.png\" alt=\"Download Apache Spark\" /></a></li>\n<li>Python and Jupyter Notebook. You can get both by installing the Python 3.x version of [Anaconda distribution.]</li>\n<li>winutils.exe — a Hadoop binary for Windows — from Steve Loughran’s <a href=\"https://github.com/steveloughran/winutils/\" rel=\"nofollow noreferrer\">GitHub repo</a>. Go to the corresponding Hadoop version in the Spark distribution and find winutils.exe under /bin. For example,\n<a href=\"https://github.com/steveloughran/winutils/blob/master/hadoop-2.7.1/bin/winutils.exe\" rel=\"nofollow noreferrer\">https://github.com/steveloughran/winutils/blob/master/hadoop-2.7.1/bin/winutils.exe</a>\n<a href=\"https://i.stack.imgur.com/0a7gO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0a7gO.png\" alt=\"enter image description here\" /></a></li>\n<li>The findspark Python module, which can be installed by running python -m pip install findspark either in Windows command prompt or Git bash if Python is installed in item 2. You can find command prompt by searching cmd in the search box.\n<a href=\"https://i.stack.imgur.com/IVe49.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IVe49.png\" alt=\"enter image description here\" /></a></li>\n<li>If you don’t have Java or your Java version is 7.x or less, download and install Java from <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">Oracle</a>. I recommend getting the latest JDK (current version 9.0.1).\n<a href=\"https://i.stack.imgur.com/8PRXq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PRXq.png\" alt=\"enter image description here\" /></a></li>\n<li>If you don’t know how to unpack a .tgz file on Windows, you can download and install 7-zip on Windows to unpack the .tgz file from Spark distribution in item 1 by right-clicking on the file icon and select <a href=\"https://www.7-zip.org/download.html\" rel=\"nofollow noreferrer\">7-zip</a> &gt; Extract Here.\n<a href=\"https://i.stack.imgur.com/d2yuw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d2yuw.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>B. <strong>Installing PySpark</strong></p>\n<p>After getting all the items in section A, let’s set up PySpark.</p>\n<ol>\n<li><p>Unpack the .tgz file. For example, I unpacked with 7zip from step A6 and put mine under D:\\spark\\spark-2.2.1-bin-hadoop2.7\n<a href=\"https://i.stack.imgur.com/xUlIZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xUlIZ.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Move the winutils.exe downloaded from step A3 to the \\bin folder of Spark distribution. For example, D:\\spark\\spark-2.2.1-bin-hadoop2.7\\bin\\winutils.exe</p>\n</li>\n<li><p>Add environment variables: the environment variables let Windows find where the files are when we start the PySpark kernel. You can find the environment variable settings by putting “environ…” in the search box.</p>\n<p>The variables to add are, in my example,</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>SPARK_HOME</td>\n<td>D:\\spark\\spark-2.2.1-bin-hadoop2.7</td>\n</tr>\n<tr>\n<td>HADOOP_HOME</td>\n<td>D:\\spark\\spark-2.2.1-bin-hadoop2.7</td>\n</tr>\n<tr>\n<td>PYSPARK_DRIVER_PYTHON</td>\n<td>jupyter</td>\n</tr>\n<tr>\n<td>PYSPARK_DRIVER_PYTHON_OPTS</td>\n<td>notebook</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://i.stack.imgur.com/AQ2kv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQ2kv.png\" alt=\"enter code here\" /></a></p>\n</li>\n<li><p>In the same environment variable settings window, look for the Path or PATH variable, click edit and add D:\\spark\\spark-2.2.1-bin-hadoop2.7\\bin to it. In Windows 7 you need to separate the values in Path with a semicolon ; between the values.</p>\n</li>\n<li><p>(Optional, if see Java related error in step C) Find the installed Java JDK folder from step A5, for example, D:\\Program Files\\Java\\jdk1.8.0_121, and add the following environment variable</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>JAVA_HOME</td>\n<td>D:\\Progra~1\\Java\\jdk1.8.0_121</td>\n</tr>\n</tbody>\n</table>\n</div></li>\n</ol>\n<p>If JDK is installed under \\Program Files (x86), then replace the Progra~1 part by Progra~2 instead. In my experience, this error only occurs in Windows 7, and I think it’s because Spark couldn’t parse the space in the folder name.\nEdit (1/23/19): You might also find Gerard’s comment helpful: <a href=\"https://changhsinlee.com/install-pyspark-windows-jupyter/#comment-4302741820\" rel=\"nofollow noreferrer\">How to Install and Run PySpark in Jupyter Notebook on Windows</a></p>\n<p>C. <strong>Running PySpark in Jupyter Notebook</strong></p>\n<p>To run Jupyter notebook, open Windows command prompt or Git Bash and run jupyter notebook. If you use Anaconda Navigator to open Jupyter Notebook instead, you might see a Java gateway process exited before sending the driver its port number error from PySpark in step C. Fall back to Windows cmd if it happens.</p>\n<p>Once inside Jupyter notebook, open a Python 3 notebook\n<a href=\"https://i.stack.imgur.com/0j7Dr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0j7Dr.png\" alt=\"Create a new notebook\" /></a>\nIn the notebook, run the following code</p>\n<pre><code>import findspark\nfindspark.init()\n\nimport pyspark # only run after findspark.init()\nfrom pyspark.sql import SparkSession\nspark = SparkSession.builder.getOrCreate()\n\ndf = spark.sql('''select 'spark' as hello ''')\ndf.show()    \n\n\nWhen you press run, it might trigger a Windows firewall pop-up. I pressed cancel on the pop-up as blocking the connection doesn’t affect PySpark.\n</code></pre>\n<p>If you see the following output, then you have\ninstalled PySpark on your Windows system!\n<a href=\"https://i.stack.imgur.com/9bpS9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9bpS9.png\" alt=\"following output\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25329636,"reputation":21,"user_id":19149631,"display_name":"Green Lion"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652926049,"creation_date":1652926049,"answer_id":72297881,"question_id":69851277,"body_markdown":"What worked for me:\r\n\r\n`brew install openjdk@8`\r\n\r\n`sudo ln -sfn /usr/local/opt/openjdk@8/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-8.jdk`\r\n\r\nIf you need to have openjdk@8 first in your PATH, run:\r\n  `echo &#39;export PATH=&quot;/usr/local/opt/openjdk@8/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc`\r\n\r\n`source ~/.zshrc`\r\n","title":"Error when initializing SparkContext in jupyterlab","body":"<p>What worked for me:</p>\n<p><code>brew install openjdk@8</code></p>\n<p><code>sudo ln -sfn /usr/local/opt/openjdk@8/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-8.jdk</code></p>\n<p>If you need to have openjdk@8 first in your PATH, run:\n<code>echo 'export PATH=&quot;/usr/local/opt/openjdk@8/bin:$PATH&quot;' &gt;&gt; ~/.zshrc</code></p>\n<p><code>source ~/.zshrc</code></p>\n"}],"owner":{"account_id":10250968,"reputation":99,"user_id":7565232,"display_name":"The Questionner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6075,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69851663,"answer_count":3,"score":6,"last_activity_date":1662997336,"creation_date":1636105595,"question_id":69851277,"body_markdown":"Hi I&#39;m trying to learn how to use pyspark but when I run this first line :\r\n```\r\nimport pyspark\r\nsc = pyspark.SparkContext(&#39;local[*]&#39;)\r\n```\r\nI get this error :\r\n\r\n```\r\nPy4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.\r\n: java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x724b93a8) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x724b93a8\r\n```\r\n\r\nI can&#39;t seem to find what&#39;s causing it :/","title":"Error when initializing SparkContext in jupyterlab","body":"<p>Hi I'm trying to learn how to use pyspark but when I run this first line :</p>\n<pre><code>import pyspark\nsc = pyspark.SparkContext('local[*]')\n</code></pre>\n<p>I get this error :</p>\n<pre><code>Py4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext.\n: java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x724b93a8) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x724b93a8\n</code></pre>\n<p>I can't seem to find what's causing it :/</p>\n"},{"tags":["java","spring-boot","hibernate","database-connection","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662982438,"post_id":73688119,"comment_id":130124365,"body_markdown":"Your `HibernateConfig` should be an `@Configuration` not an `@Component`. Why is `auto-commit` set to `true`? You should have some form of transaction management. Can you add your jpa properties (from the `application.properties`) to your question as well. Generally these errors come from wrong configuration or from manually using the `DataSource` and obtaining connections without properly releasing them.","body":"Your <code>HibernateConfig</code> should be an <code>@Configuration</code> not an <code>@Component</code>. Why is <code>auto-commit</code> set to <code>true</code>? You should have some form of transaction management. Can you add your jpa properties (from the <code>application.properties</code>) to your question as well. Generally these errors come from wrong configuration or from manually using the <code>DataSource</code> and obtaining connections without properly releasing them."},{"owner":{"account_id":19124055,"reputation":27,"user_id":13967389,"display_name":"Pankaj Chouhan"},"score":0,"creation_date":1662988244,"post_id":73688119,"comment_id":130126551,"body_markdown":"@M.Deinum Thanks for yours reply, we have given @Transactional to some of our heavy CRUD ServiceImpl and also given @Configuration to HibernateConfig.\n\n    Only this much Jpa Prop we have given\n```\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.ddl-auto=none\n```","body":"@M.Deinum Thanks for yours reply, we have given @Transactional to some of our heavy CRUD ServiceImpl and also given @Configuration to HibernateConfig.      Only this much Jpa Prop we have given ``` spring.jpa.show-sql=true spring.jpa.properties.hibernate.format_sql=true spring.jpa.hibernate.ddl-auto=none ```"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1662989757,"post_id":73688119,"comment_id":130127140,"body_markdown":"All uour methods operating on the database should be `@Transactional`. Please don&#39;t add additional information as comments as that is totally unreadable. Please add your `applicaiton.properties` to your question instead.","body":"All uour methods operating on the database should be <code>@Transactional</code>. Please don&#39;t add additional information as comments as that is totally unreadable. Please add your <code>applicaiton.properties</code> to your question instead."},{"owner":{"account_id":19124055,"reputation":27,"user_id":13967389,"display_name":"Pankaj Chouhan"},"score":0,"creation_date":1662997339,"post_id":73688119,"comment_id":130130146,"body_markdown":"Hi @M.Deinum i have added application.properties file. Thank You.","body":"Hi @M.Deinum i have added application.properties file. Thank You."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663046904,"post_id":73688119,"comment_id":130140538,"body_markdown":"As you are using Spring Boot I would suggest removing your dedicated configuration and add a `EntityManagerFactoryBuilderCustomizer` to configure the multi-tenant stuff, that way you can use the Spring Boot auto configuration better. However you have a connection leak so check the places in which you use the entitymanager without a transaction (It shouls really be transactional all your database related stuff) and see if you are properly using it. Also check if there are places you are using a connection without properly returning it.","body":"As you are using Spring Boot I would suggest removing your dedicated configuration and add a <code>EntityManagerFactoryBuilderCustomizer</code> to configure the multi-tenant stuff, that way you can use the Spring Boot auto configuration better. However you have a connection leak so check the places in which you use the entitymanager without a transaction (It shouls really be transactional all your database related stuff) and see if you are properly using it. Also check if there are places you are using a connection without properly returning it."}],"owner":{"account_id":19124055,"reputation":27,"user_id":13967389,"display_name":"Pankaj Chouhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1662997253,"creation_date":1662979895,"question_id":73688119,"body_markdown":"I&#39;m facing this issue i do deployment through jenkins.Our project is a multiTenant project which follows (Single database &amp; Separate Schemas). \r\n\r\nTotal 4 microservice we have and same tenantdatasource.java ,hibernateConfig.java in all microservice we have kept, along with same hikari pool config in application.properties.\r\n\r\n\r\nWhenever i do deployment it runs fine till 1 day and next day our api&#39;s starts giving error.\r\nconnection getting lost after 30000ms , it says Hikari Fill pool skipped, pool is at sufficient level.But runs fine in local.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n2022-09-07 10:34:17.050 DEBUG 304980 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Pool stats (total=10, active=10, idle=0, waiting=4)\r\n2022-09-07 10:34:17.050 DEBUG 304980 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Fill pool skipped, pool is at sufficient level.\r\n2022-09-07 10:34:26.421 DEBUG 304980 --- [http-nio-9091-exec-8] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=3)\r\n2022-09-07 10:34:26.422  INFO 304980 --- [http-nio-9091-exec-8] c.m.s.tenant.TenantConnectionProvider    : Inside catch for get any conncetion org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\r\n2022-09-07 10:34:26.422  INFO 304980 --- [http-nio-9091-exec-8] c.m.session.tenant.RequestInterceptor    : java.lang.NullPointerException\r\n2022-09-07 10:34:26.422  INFO 304980 --- [http-nio-9091-exec-8] c.m.session.tenant.TenantSchemaResolver  : TenantSchemaResolver: qa-tenant-1\r\n2022-09-07 10:34:26.423  INFO 304980 --- [http-nio-9091-exec-8] c.m.s.tenant.TenantConnectionProvider    : INSIDE GET CONNECTION\r\n2022-09-07 10:34:26.423  INFO 304980 --- [http-nio-9091-exec-8] c.m.s.tenant.TenantConnectionProvider    : INSIDE GET ANY CONNECTION\r\n2022-09-07 10:34:26.423 DEBUG 304980 --- [http-nio-9091-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=3)\r\n2022-09-07 10:34:26.423  INFO 304980 --- [http-nio-9091-exec-3] c.m.s.tenant.TenantConnectionProvider    : Inside catch for get any conncetion org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.\r\n2022-09-07 10:34:26.424  INFO 304980 --- [http-nio-9091-exec-3] c.m.session.tenant.RequestInterceptor    : java.lang.NullPointerException\r\n2022-09-07 10:34:26.424  INFO 304980 --- [http-nio-9091-exec-3] c.m.session.tenant.TenantSchemaResolver  : TenantSchemaResolver: qa-tenant-1\r\n2022-09-07 10:34:26.424  INFO 304980 --- [http-nio-9091-exec-3] c.m.s.tenant.TenantConnectionProvider    : INSIDE GET CONNECTION\r\n2022-09-07 10:34:26.424  INFO 304980 --- [http-nio-9091-exec-3] c.m.s.tenant.TenantConnectionProvider    : INSIDE GET ANY CONNECTION\r\n2022-09-07 10:34:30.005 DEBUG 304980 --- [MessageBroker-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=2)\r\n2022-09-07 10:34:30.005 DEBUG 304980 --- [MessageBroker-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=3)\r\n2022-09-07 10:34:30.005  INFO 304980 --- [MessageBroker-2] c.m.s.tenant.TenantConnectionProvider    : Inside catch for get any conncetion org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.\r\n2022-09-07 10:34:30.005  INFO 304980 --- [MessageBroker-1] c.m.s.tenant.TenantConnectionProvider    : Inside catch for get any conncetion org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-\r\n```\r\n\r\nHikari config\r\n\r\n```\r\nspring.datasource.hikari.connectionTimeout=30000\r\nspring.datasource.hikari.idleTimeout=600000\r\nspring.datasource.hikari.maxLifetime=180000\r\nspring.datasource.hikari.maximum-pool-size=10\r\nspring.datasource.hikari.auto-commit =true\r\nspring.datasource.hikari.leak-detection-threshold=40000\r\n\r\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG \r\nlogging.level.com.zaxxer.hikari=TRACE\r\n\r\n```\r\n\r\n\r\n\r\nHibernateConfig.java\r\n\r\n```\r\nimport org.hibernate.MultiTenancyStrategy;\r\nimport org.hibernate.cfg.Environment;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.orm.jpa.JpaVendorAdapter;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Component\r\npublic class HibernateConfig {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(HibernateConfig.class);\r\n\r\n    @Autowired\r\n    private JpaProperties jpaProperties;\r\n\r\n    @Bean\r\n    JpaVendorAdapter jpaVendorAdapter() {\r\n        return new HibernateJpaVendorAdapter();\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            DataSource dataSource,\r\n            TenantConnectionProvider multiTenantConnectionProviderImpl,\r\n            TenantSchemaResolver currentTenantIdentifierResolverImpl,\r\n            JpaVendorAdapter jpaVendorAdapter) {\r\n\r\n        Map&lt;String, Object&gt; jpaPropertiesMap = new HashMap&lt;&gt;(jpaProperties.getProperties());\r\n        jpaPropertiesMap.put(Environment.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);\r\n        jpaPropertiesMap.put(Environment.MULTI_TENANT_CONNECTION_PROVIDER, multiTenantConnectionProviderImpl);\r\n        jpaPropertiesMap.put(Environment.MULTI_TENANT_IDENTIFIER_RESOLVER, currentTenantIdentifierResolverImpl);\r\n        jpaPropertiesMap.put(Environment.FORMAT_SQL, true);\r\n        jpaPropertiesMap.put(Environment.SHOW_SQL, true);\r\n        jpaPropertiesMap.put(Environment.USE_SECOND_LEVEL_CACHE, false);\r\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(dataSource);\r\n        em.setPackagesToScan(&quot;com.meis.*&quot;);\r\n        em.setJpaVendorAdapter(jpaVendorAdapter);\r\n        em.setJpaPropertyMap(jpaPropertiesMap);\r\n        return em;\r\n    }\r\n}\r\n```\r\n\r\n\r\nTenantConnectionProvider.java\r\n\r\n```\r\nimport org.hibernate.engine.jdbc.connections.spi.MultiTenantConnectionProvider;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\n\r\n@Component\r\npublic class TenantConnectionProvider implements MultiTenantConnectionProvider {\r\n\r\n    private final DataSource datasource;\r\n    private final Logger logger = LoggerFactory.getLogger(TenantConnectionProvider.class);\r\n\r\n    @Value(&quot;${master.schema.name}&quot;)\r\n    public String defaultTenant;\r\n\r\n    public TenantConnectionProvider(DataSource dataSource) {\r\n        this.datasource = dataSource;\r\n    }\r\n\r\n    @Override\r\n    public Connection getAnyConnection() throws SQLException {\r\n        return datasource.getConnection();\r\n    }\r\n\r\n    @Override\r\n    public void releaseAnyConnection(Connection connection) throws SQLException {\r\n\r\n        try {\r\n            connection.close();\r\n\r\n            logger.info(&quot;Connection closed&quot;);\r\n\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Connection not closed&quot;, e.toString());\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\r\n//        log.debug(&quot;Get connection for tenant {}&quot;, tenantIdentifier);\r\n        final Connection connection = getAnyConnection();\r\n\r\n        connection.setSchema(tenantIdentifier);\r\n        connection.setCatalog(tenantIdentifier);\r\n        return connection;\r\n    }\r\n\r\n    @Override\r\n    public void releaseConnection(String tenantIdentifier, Connection connection) throws SQLException {\r\n//        log.debug(&quot;Release connection for tenant {}&quot;, tenantIdentifier);\r\n        connection.setSchema(tenantIdentifier);\r\n        connection.setCatalog(tenantIdentifier);\r\n        releaseAnyConnection(connection);\r\n    }\r\n\r\n    @Override\r\n    public boolean supportsAggressiveRelease() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public boolean isUnwrappableAs(Class aClass) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; aClass) {\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nserver.port=9091\r\nspring.profiles.active=qa\r\nlogging.file.name=/home/ubuntu/logs/session-app.log\r\nlogging.file.max-size=10MB\r\nlogging.level.org.springframework.web: DEBUG\r\nlogging.level.org.hibernate: ERROR\r\n## MULTIPART (MultipartProperties)\r\n# Enable multipart uploads\r\nspring.servlet.multipart.enabled=true\r\n# Max file size.\r\nspring.servlet.multipart.max-file-size=200MB\r\n# Max Request Size\r\nspring.servlet.multipart.max-request-size=215MB\r\n\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.hibernate.ddl-auto=none\r\n\r\nadmin.default.topic=admin\r\n\r\nbyPassToken=hhhkhguuyiiih786566bhhkhgjbnkhgxfcgvhjghfgfvkhhhgcvhgfvbnbvbvvcdfdzzxknnlkbj\r\n\r\n\r\n\r\n# Connection pool configuration\r\n\r\nspring.datasource.hikari.connectionTimeout=30000\r\nspring.datasource.hikari.idleTimeout=600000\r\nspring.datasource.hikari.maxLifetime=180000\r\nspring.datasource.hikari.maximum-pool-size=10\r\n\r\nspring.datasource.hikari.leak-detection-threshold=40000\r\n\r\n\r\n\r\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG \r\nlogging.level.com.zaxxer.hikari=TRACE\r\n\r\n\r\n```\r\n","title":"HikariPool-1 - Fill pool skipped, pool is at sufficient level","body":"<p>I'm facing this issue i do deployment through jenkins.Our project is a multiTenant project which follows (Single database &amp; Separate Schemas).</p>\n<p>Total 4 microservice we have and same tenantdatasource.java ,hibernateConfig.java in all microservice we have kept, along with same hikari pool config in application.properties.</p>\n<p>Whenever i do deployment it runs fine till 1 day and next day our api's starts giving error.\nconnection getting lost after 30000ms , it says Hikari Fill pool skipped, pool is at sufficient level.But runs fine in local.</p>\n<pre><code>2022-09-07 10:34:17.050 DEBUG 304980 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Pool stats (total=10, active=10, idle=0, waiting=4)\n2022-09-07 10:34:17.050 DEBUG 304980 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Fill pool skipped, pool is at sufficient level.\n2022-09-07 10:34:26.421 DEBUG 304980 --- [http-nio-9091-exec-8] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=3)\n2022-09-07 10:34:26.422  INFO 304980 --- [http-nio-9091-exec-8] c.m.s.tenant.TenantConnectionProvider    : Inside catch for get any conncetion org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\n2022-09-07 10:34:26.422  INFO 304980 --- [http-nio-9091-exec-8] c.m.session.tenant.RequestInterceptor    : java.lang.NullPointerException\n2022-09-07 10:34:26.422  INFO 304980 --- [http-nio-9091-exec-8] c.m.session.tenant.TenantSchemaResolver  : TenantSchemaResolver: qa-tenant-1\n2022-09-07 10:34:26.423  INFO 304980 --- [http-nio-9091-exec-8] c.m.s.tenant.TenantConnectionProvider    : INSIDE GET CONNECTION\n2022-09-07 10:34:26.423  INFO 304980 --- [http-nio-9091-exec-8] c.m.s.tenant.TenantConnectionProvider    : INSIDE GET ANY CONNECTION\n2022-09-07 10:34:26.423 DEBUG 304980 --- [http-nio-9091-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=3)\n2022-09-07 10:34:26.423  INFO 304980 --- [http-nio-9091-exec-3] c.m.s.tenant.TenantConnectionProvider    : Inside catch for get any conncetion org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30003ms.\n2022-09-07 10:34:26.424  INFO 304980 --- [http-nio-9091-exec-3] c.m.session.tenant.RequestInterceptor    : java.lang.NullPointerException\n2022-09-07 10:34:26.424  INFO 304980 --- [http-nio-9091-exec-3] c.m.session.tenant.TenantSchemaResolver  : TenantSchemaResolver: qa-tenant-1\n2022-09-07 10:34:26.424  INFO 304980 --- [http-nio-9091-exec-3] c.m.s.tenant.TenantConnectionProvider    : INSIDE GET CONNECTION\n2022-09-07 10:34:26.424  INFO 304980 --- [http-nio-9091-exec-3] c.m.s.tenant.TenantConnectionProvider    : INSIDE GET ANY CONNECTION\n2022-09-07 10:34:30.005 DEBUG 304980 --- [MessageBroker-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=2)\n2022-09-07 10:34:30.005 DEBUG 304980 --- [MessageBroker-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=3)\n2022-09-07 10:34:30.005  INFO 304980 --- [MessageBroker-2] c.m.s.tenant.TenantConnectionProvider    : Inside catch for get any conncetion org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30004ms.\n2022-09-07 10:34:30.005  INFO 304980 --- [MessageBroker-1] c.m.s.tenant.TenantConnectionProvider    : Inside catch for get any conncetion org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-\n</code></pre>\n<p>Hikari config</p>\n<pre><code>spring.datasource.hikari.connectionTimeout=30000\nspring.datasource.hikari.idleTimeout=600000\nspring.datasource.hikari.maxLifetime=180000\nspring.datasource.hikari.maximum-pool-size=10\nspring.datasource.hikari.auto-commit =true\nspring.datasource.hikari.leak-detection-threshold=40000\n\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG \nlogging.level.com.zaxxer.hikari=TRACE\n\n</code></pre>\n<p>HibernateConfig.java</p>\n<pre><code>import org.hibernate.MultiTenancyStrategy;\nimport org.hibernate.cfg.Environment;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.orm.jpa.JpaProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.stereotype.Component;\n\nimport javax.sql.DataSource;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Component\npublic class HibernateConfig {\n\n    private static final Logger LOG = LoggerFactory.getLogger(HibernateConfig.class);\n\n    @Autowired\n    private JpaProperties jpaProperties;\n\n    @Bean\n    JpaVendorAdapter jpaVendorAdapter() {\n        return new HibernateJpaVendorAdapter();\n    }\n\n    @Primary\n    @Bean\n    LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            DataSource dataSource,\n            TenantConnectionProvider multiTenantConnectionProviderImpl,\n            TenantSchemaResolver currentTenantIdentifierResolverImpl,\n            JpaVendorAdapter jpaVendorAdapter) {\n\n        Map&lt;String, Object&gt; jpaPropertiesMap = new HashMap&lt;&gt;(jpaProperties.getProperties());\n        jpaPropertiesMap.put(Environment.MULTI_TENANT, MultiTenancyStrategy.SCHEMA);\n        jpaPropertiesMap.put(Environment.MULTI_TENANT_CONNECTION_PROVIDER, multiTenantConnectionProviderImpl);\n        jpaPropertiesMap.put(Environment.MULTI_TENANT_IDENTIFIER_RESOLVER, currentTenantIdentifierResolverImpl);\n        jpaPropertiesMap.put(Environment.FORMAT_SQL, true);\n        jpaPropertiesMap.put(Environment.SHOW_SQL, true);\n        jpaPropertiesMap.put(Environment.USE_SECOND_LEVEL_CACHE, false);\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(dataSource);\n        em.setPackagesToScan(&quot;com.meis.*&quot;);\n        em.setJpaVendorAdapter(jpaVendorAdapter);\n        em.setJpaPropertyMap(jpaPropertiesMap);\n        return em;\n    }\n}\n</code></pre>\n<p>TenantConnectionProvider.java</p>\n<pre><code>import org.hibernate.engine.jdbc.connections.spi.MultiTenantConnectionProvider;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\nimport javax.sql.DataSource;\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\n@Component\npublic class TenantConnectionProvider implements MultiTenantConnectionProvider {\n\n    private final DataSource datasource;\n    private final Logger logger = LoggerFactory.getLogger(TenantConnectionProvider.class);\n\n    @Value(&quot;${master.schema.name}&quot;)\n    public String defaultTenant;\n\n    public TenantConnectionProvider(DataSource dataSource) {\n        this.datasource = dataSource;\n    }\n\n    @Override\n    public Connection getAnyConnection() throws SQLException {\n        return datasource.getConnection();\n    }\n\n    @Override\n    public void releaseAnyConnection(Connection connection) throws SQLException {\n\n        try {\n            connection.close();\n\n            logger.info(&quot;Connection closed&quot;);\n\n        } catch (Exception e) {\n            logger.error(&quot;Connection not closed&quot;, e.toString());\n        }\n\n    }\n\n    @Override\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\n//        log.debug(&quot;Get connection for tenant {}&quot;, tenantIdentifier);\n        final Connection connection = getAnyConnection();\n\n        connection.setSchema(tenantIdentifier);\n        connection.setCatalog(tenantIdentifier);\n        return connection;\n    }\n\n    @Override\n    public void releaseConnection(String tenantIdentifier, Connection connection) throws SQLException {\n//        log.debug(&quot;Release connection for tenant {}&quot;, tenantIdentifier);\n        connection.setSchema(tenantIdentifier);\n        connection.setCatalog(tenantIdentifier);\n        releaseAnyConnection(connection);\n    }\n\n    @Override\n    public boolean supportsAggressiveRelease() {\n        return false;\n    }\n\n    @Override\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    public boolean isUnwrappableAs(Class aClass) {\n        return false;\n    }\n\n    @Override\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; aClass) {\n        return null;\n    }\n}\n\n</code></pre>\n<pre><code>server.port=9091\nspring.profiles.active=qa\nlogging.file.name=/home/ubuntu/logs/session-app.log\nlogging.file.max-size=10MB\nlogging.level.org.springframework.web: DEBUG\nlogging.level.org.hibernate: ERROR\n## MULTIPART (MultipartProperties)\n# Enable multipart uploads\nspring.servlet.multipart.enabled=true\n# Max file size.\nspring.servlet.multipart.max-file-size=200MB\n# Max Request Size\nspring.servlet.multipart.max-request-size=215MB\n\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.ddl-auto=none\n\nadmin.default.topic=admin\n\nbyPassToken=hhhkhguuyiiih786566bhhkhgjbnkhgxfcgvhjghfgfvkhhhgcvhgfvbnbvbvvcdfdzzxknnlkbj\n\n\n\n# Connection pool configuration\n\nspring.datasource.hikari.connectionTimeout=30000\nspring.datasource.hikari.idleTimeout=600000\nspring.datasource.hikari.maxLifetime=180000\nspring.datasource.hikari.maximum-pool-size=10\n\nspring.datasource.hikari.leak-detection-threshold=40000\n\n\n\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG \nlogging.level.com.zaxxer.hikari=TRACE\n\n\n</code></pre>\n"},{"tags":["java","upload","drive"],"comments":[{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1556616343,"post_id":55917579,"comment_id":98489753,"body_markdown":"A multipart file is just an abstraction that is used for transfers. It has the bytes, a name, and the type, etc. But it has no idea which is the source, is it really a file(bytes written on a physical drive)... You can not take this information at this point, unless you pass it somehow(meaning that you have to bundle it with the multipart at the moment of its creation). Check if [MultipartFile:: getOriginalFilename](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getOriginalFilename--) could be of any use to you.","body":"A multipart file is just an abstraction that is used for transfers. It has the bytes, a name, and the type, etc. But it has no idea which is the source, is it really a file(bytes written on a physical drive)... You can not take this information at this point, unless you pass it somehow(meaning that you have to bundle it with the multipart at the moment of its creation). Check if <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getOriginalFilename--\" rel=\"nofollow noreferrer\">MultipartFile:: getOriginalFilename</a> could be of any use to you."},{"owner":{"account_id":15836027,"reputation":35,"user_id":11425851,"display_name":"dorae"},"score":0,"creation_date":1556673260,"post_id":55917579,"comment_id":98514286,"body_markdown":"that is my local file that I chosen for upload to drive. i gave up to get the path. thank you for advice!","body":"that is my local file that I chosen for upload to drive. i gave up to get the path. thank you for advice!"}],"answers":[{"tags":[],"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556616241,"creation_date":1556616241,"answer_id":55917794,"question_id":55917579,"body_markdown":"You don&#39;t need a file path to upload the file anywhere. Use `multipartFile.getInputStream()` or `multipartFile.getBytes()` instead. Actually at the moment of getting the file you cann&#39;t know a path to a file (it&#39;s not a solid rule but rather a browser-dependent feature)","title":"how can I extract file path from MultipartFile","body":"<p>You don't need a file path to upload the file anywhere. Use <code>multipartFile.getInputStream()</code> or <code>multipartFile.getBytes()</code> instead. Actually at the moment of getting the file you cann't know a path to a file (it's not a solid rule but rather a browser-dependent feature)</p>\n"},{"tags":[],"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624505508,"creation_date":1624505508,"answer_id":68109300,"question_id":55917579,"body_markdown":"I could not extract file path from MultipartFile directly. However I could get the getInputStream() proprety.\r\n\r\nThen, you can use the code below considering the **inputStream** is your MultPartFile variable .getInputStream().\r\n\r\n     StringBuilder resultStringBuilder = new StringBuilder();\r\n        try (BufferedReader br\r\n          = new BufferedReader(new InputStreamReader(**inputStream**))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                resultStringBuilder.append(line).append(&quot;\\n&quot;);\r\n            }\r\n        }\r\n\r\nAfter you can read the resultStringBuilder variable and you can get the value you want.\r\n\r\nThis way worked to me. I hope can helps you.","title":"how can I extract file path from MultipartFile","body":"<p>I could not extract file path from MultipartFile directly. However I could get the getInputStream() proprety.</p>\n<p>Then, you can use the code below considering the <strong>inputStream</strong> is your MultPartFile variable .getInputStream().</p>\n<pre><code> StringBuilder resultStringBuilder = new StringBuilder();\n    try (BufferedReader br\n      = new BufferedReader(new InputStreamReader(**inputStream**))) {\n        String line;\n        while ((line = br.readLine()) != null) {\n            resultStringBuilder.append(line).append(&quot;\\n&quot;);\n        }\n    }\n</code></pre>\n<p>After you can read the resultStringBuilder variable and you can get the value you want.</p>\n<p>This way worked to me. I hope can helps you.</p>\n"},{"tags":[],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662997218,"creation_date":1662997218,"answer_id":73691806,"question_id":55917579,"body_markdown":"You could consider using the `CommonsMultipartResolver` from `org.springframework.web.multipart.commons` which is the implementation for \r\n\r\n&gt; implementation for Apache Commons FileUpload  1.2 or above.\r\n\r\n  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThen create a `multipartResolver` bean:\r\n\r\n       @Bean(name = &quot;multipartResolver&quot;)\r\n        public CommonsMultipartResolver multipartResolver(\r\n                @Value(&quot;${spring.servlet.multipart.location}&quot;) String tmpFolder,\r\n                @Value(&quot;${spring.servlet.multipart.max-file-size}&quot;) DataSize maxFileSize,\r\n                @Value(&quot;${spring.servlet.multipart.max-request-size}&quot;) DataSize maxRequestSize) throws IOException {\r\n            CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\r\n            commonsMultipartResolver.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            commonsMultipartResolver.setMaxUploadSizePerFile(maxRequestSize.toBytes());\r\n            commonsMultipartResolver.setMaxUploadSize(maxFileSize.toBytes());\r\n            commonsMultipartResolver.setUploadTempDir(new FileUrlResource(tmpFolder));\r\n            return commonsMultipartResolver;\r\n        }\r\n\r\nThen you should get a `CommonsMultipartFile` as implementation of the `MultipartFile` interface in your method and you can get the absolute path of the `MultipartFile`:\r\n\r\n    File storeLocation = uploadFile.getFileItem().getStoreLocation();\r\n               \r\n","title":"how can I extract file path from MultipartFile","body":"<p>You could consider using the <code>CommonsMultipartResolver</code> from <code>org.springframework.web.multipart.commons</code> which is the implementation for</p>\n<blockquote>\n<p>implementation for Apache Commons FileUpload  1.2 or above.</p>\n</blockquote>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then create a <code>multipartResolver</code> bean:</p>\n<pre><code>   @Bean(name = &quot;multipartResolver&quot;)\n    public CommonsMultipartResolver multipartResolver(\n            @Value(&quot;${spring.servlet.multipart.location}&quot;) String tmpFolder,\n            @Value(&quot;${spring.servlet.multipart.max-file-size}&quot;) DataSize maxFileSize,\n            @Value(&quot;${spring.servlet.multipart.max-request-size}&quot;) DataSize maxRequestSize) throws IOException {\n        CommonsMultipartResolver commonsMultipartResolver = new CommonsMultipartResolver();\n        commonsMultipartResolver.setDefaultEncoding(&quot;UTF-8&quot;);\n        commonsMultipartResolver.setMaxUploadSizePerFile(maxRequestSize.toBytes());\n        commonsMultipartResolver.setMaxUploadSize(maxFileSize.toBytes());\n        commonsMultipartResolver.setUploadTempDir(new FileUrlResource(tmpFolder));\n        return commonsMultipartResolver;\n    }\n</code></pre>\n<p>Then you should get a <code>CommonsMultipartFile</code> as implementation of the <code>MultipartFile</code> interface in your method and you can get the absolute path of the <code>MultipartFile</code>:</p>\n<pre><code>File storeLocation = uploadFile.getFileItem().getStoreLocation();\n           \n</code></pre>\n"}],"owner":{"account_id":15836027,"reputation":35,"user_id":11425851,"display_name":"dorae"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21924,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1662997218,"creation_date":1556615476,"question_id":55917579,"body_markdown":"I want to extract file path then can upload to google drive. How can I get the path from MultipartFile??\r\n\r\n\t\t//logger.info(&quot;&quot;+uploadFile.getClass().getResource(&quot;&quot;).getFile().getPath());\r\n\t\t//System.out.println(uploadFile.getClass().getResource(&quot;&quot;).getPath());\r\n\r\nalso tried convert MultipartFile to File but cannot &quot;import java.io.File&quot; because of &quot;import com.google.api.services.drive.model.File;&quot; cannot be compatible with. I think. already use drive.model.File a lot.\r\n\r\n\t@Override\r\n\tpublic int uploadFile(HttpSession session, MultipartFile uploadFile) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tFile fileMetadata = new File();\r\n\t\t\r\n\t\tDrive driveService = getCredential(session);\r\n\t\t\r\n\t\tfileMetadata.setName(uploadFile.getOriginalFilename());\r\n\t\tlogger.info(uploadFile.getResource().getFile().getAbsoluteFile().getPath());\r\n\t\t//logger.info(&quot;&quot;+uploadFile.getClass().getResource(&quot;&quot;).getFile().getPath());\r\n\t\t//System.out.println(uploadFile.getClass().getResource(&quot;&quot;).getPath());\r\n\t\t\r\n\t\tjava.io.File filePath = new java.io.File(&quot;need to input file path here&quot;);\r\n\t\tFileContent mediaContent = new FileContent(&quot;image/jpeg&quot;, filePath);\r\n\t\tFile file = driveService.files().create(fileMetadata, mediaContent).setFields(&quot;id&quot;).execute();\r\n\t\tSystem.out.println(&quot;File ID: &quot; + file.getId());\r\n\r\n\t\treturn 0;\r\n\t}\r\n\r\nServlet.service() for servlet [appServlet] in context with path [] threw exception\r\njava.io.FileNotFoundException: MultipartFile resource [uploadFile] cannot be resolved to absolute file path\r\n\r\nI can get the name, size from MultipartFile that is in parameter so it is exists but how can I get the path from it??","title":"how can I extract file path from MultipartFile","body":"<p>I want to extract file path then can upload to google drive. How can I get the path from MultipartFile??</p>\n\n<pre><code>    //logger.info(\"\"+uploadFile.getClass().getResource(\"\").getFile().getPath());\n    //System.out.println(uploadFile.getClass().getResource(\"\").getPath());\n</code></pre>\n\n<p>also tried convert MultipartFile to File but cannot \"import java.io.File\" because of \"import com.google.api.services.drive.model.File;\" cannot be compatible with. I think. already use drive.model.File a lot.</p>\n\n<pre><code>@Override\npublic int uploadFile(HttpSession session, MultipartFile uploadFile) throws Exception {\n    // TODO Auto-generated method stub\n    File fileMetadata = new File();\n\n    Drive driveService = getCredential(session);\n\n    fileMetadata.setName(uploadFile.getOriginalFilename());\n    logger.info(uploadFile.getResource().getFile().getAbsoluteFile().getPath());\n    //logger.info(\"\"+uploadFile.getClass().getResource(\"\").getFile().getPath());\n    //System.out.println(uploadFile.getClass().getResource(\"\").getPath());\n\n    java.io.File filePath = new java.io.File(\"need to input file path here\");\n    FileContent mediaContent = new FileContent(\"image/jpeg\", filePath);\n    File file = driveService.files().create(fileMetadata, mediaContent).setFields(\"id\").execute();\n    System.out.println(\"File ID: \" + file.getId());\n\n    return 0;\n}\n</code></pre>\n\n<p>Servlet.service() for servlet [appServlet] in context with path [] threw exception\njava.io.FileNotFoundException: MultipartFile resource [uploadFile] cannot be resolved to absolute file path</p>\n\n<p>I can get the name, size from MultipartFile that is in parameter so it is exists but how can I get the path from it??</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8951,"page":1041,"page_size":100}
