{"items":[{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":12585,"reputation":303280,"user_id":24874,"accept_rate":78,"display_name":"Drew Noakes"},"score":2,"creation_date":1231755695,"post_id":434989,"comment_id":22073751,"body_markdown":"I asked a [similar question](http://stackoverflow.com/questions/414109/) relating to .NET generic Dictionary&lt;TKey,TValue&gt; recently. You might find the discussion interesting there too.","body":"I asked a <a href=\"http://stackoverflow.com/questions/414109/\">similar question</a> relating to .NET generic Dictionary&lt;TKey,TValue&gt; recently. You might find the discussion interesting there too."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1410972776,"post_id":434989,"comment_id":40530426,"body_markdown":"See also http://stackoverflow.com/questions/7115445/what-is-the-optimal-capacity-and-load-factor-for-a-fixed-size-hashmap","body":"See also <a href=\"http://stackoverflow.com/questions/7115445/what-is-the-optimal-capacity-and-load-factor-for-a-fixed-size-hashmap\" title=\"what is the optimal capacity and load factor for a fixed size hashmap\">stackoverflow.com/questions/7115445/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5299913,"reputation":1693,"user_id":4229917,"display_name":"Michael Geier"},"score":1,"creation_date":1548756769,"post_id":435000,"comment_id":95646852,"body_markdown":"Regarding initial capacity, let me add that the initial capacity will internally be rounded up to the next power of two. So a capacity of 200 will be rounded up to 256. If HashMap wouldn&#39;t round up to a power-of-two value for capacity, some buckets would be never used. The bucket index for where to put the map data is determined by `bucketIndex = hashCode(key) &amp; (capacity-1)`.","body":"Regarding initial capacity, let me add that the initial capacity will internally be rounded up to the next power of two. So a capacity of 200 will be rounded up to 256. If HashMap wouldn&#39;t round up to a power-of-two value for capacity, some buckets would be never used. The bucket index for where to put the map data is determined by <code>bucketIndex = hashCode(key) &amp; (capacity-1)</code>."}],"tags":[],"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1231755518,"creation_date":1231755157,"answer_id":435000,"question_id":434989,"body_markdown":"Regarding the load factor, I&#39;ll simply quote from the [HashMap javadoc][1]:\r\n\r\n&gt; As a general rule, the default load factor (.75) offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.\r\n\r\nMeaning, the load factor should not be changed from `.75` , unless you have some specific optimization you are going to do. Initial capacity is the only thing you want to change, and set it according to your `N` value - meaning `(N / 0.75) + 1`, or something in that area. This will ensure that the table will always be large enough and no rehashing will occur.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/HashMap.html","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>Regarding the load factor, I'll simply quote from the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap javadoc</a>:</p>\n\n<blockquote>\n  <p>As a general rule, the default load factor (.75) offers a good tradeoff between time and space costs. Higher values decrease the space overhead but increase the lookup cost (reflected in most of the operations of the HashMap class, including get and put). The expected number of entries in the map and its load factor should be taken into account when setting its initial capacity, so as to minimize the number of rehash operations. If the initial capacity is greater than the maximum number of entries divided by the load factor, no rehash operations will ever occur.</p>\n</blockquote>\n\n<p>Meaning, the load factor should not be changed from <code>.75</code> , unless you have some specific optimization you are going to do. Initial capacity is the only thing you want to change, and set it according to your <code>N</code> value - meaning <code>(N / 0.75) + 1</code>, or something in that area. This will ensure that the table will always be large enough and no rehashing will occur.</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1231755897,"creation_date":1231755513,"answer_id":435009,"question_id":434989,"body_markdown":"&gt; In an ArrayList, the efficient number is N (N already assumes future grow).\r\n\r\nErm, no it doesn&#39;t, unless I misunderstand what you&#39;re saying here.  When you pass an integer into the Arraylist constructor, it will create an underlying array of exactly that size.  If it turns out you need even a single extra element, the ArrayList will need to resize the underlying array when you next call add(), causing this call to take a lot longer than it usually would.\r\n\r\nIf on the other hand you&#39;re talking about your value of N taking into account growth - then yes, if you can guarantee the value will never go above this then calling such an Arraylist constructor is appropriate.  And in this case, as pointed out by Hank, the analogous constructor for a map would be N and 1.0f.  This should perform reasonably even if you do happen to exceed N (though if you expect this to occur on a regular basis, you may wish to pass in a larger number for the initial size).\r\n\r\nThe load factor, in case you weren&#39;t aware, is the point at which the map will have its capacity increased, as a fraction of the total capacity.\r\n\r\n*Edit*: Yuval is probably right that it&#39;s a better idea to leave the load factor around 0.75 for a general purpose map.  A load factor of 1.0 would perform brilliantly if your keys had sequential hashcodes (such as sequential integer keys), but for anything else you  will likely run into collisions with the hash buckets, meaning that lookups take longer for some elements.  Creating more buckets than is strictly necessary will reduce this chance of collision, meaning there&#39;s more chance of elements being in their own buckets and thus being retrievable in the shortest amount of time.  As the docs say, this is a time vs space tradeoff.  If either is particularly important to you (as shown by a profiler rather than prematurely optimising!) you can emphasize that; otherwise, stick with the default.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<blockquote>\n  <p>In an ArrayList, the efficient number is N (N already assumes future grow).</p>\n</blockquote>\n\n<p>Erm, no it doesn't, unless I misunderstand what you're saying here.  When you pass an integer into the Arraylist constructor, it will create an underlying array of exactly that size.  If it turns out you need even a single extra element, the ArrayList will need to resize the underlying array when you next call add(), causing this call to take a lot longer than it usually would.</p>\n\n<p>If on the other hand you're talking about your value of N taking into account growth - then yes, if you can guarantee the value will never go above this then calling such an Arraylist constructor is appropriate.  And in this case, as pointed out by Hank, the analogous constructor for a map would be N and 1.0f.  This should perform reasonably even if you do happen to exceed N (though if you expect this to occur on a regular basis, you may wish to pass in a larger number for the initial size).</p>\n\n<p>The load factor, in case you weren't aware, is the point at which the map will have its capacity increased, as a fraction of the total capacity.</p>\n\n<p><em>Edit</em>: Yuval is probably right that it's a better idea to leave the load factor around 0.75 for a general purpose map.  A load factor of 1.0 would perform brilliantly if your keys had sequential hashcodes (such as sequential integer keys), but for anything else you  will likely run into collisions with the hash buckets, meaning that lookups take longer for some elements.  Creating more buckets than is strictly necessary will reduce this chance of collision, meaning there's more chance of elements being in their own buckets and thus being retrievable in the shortest amount of time.  As the docs say, this is a time vs space tradeoff.  If either is particularly important to you (as shown by a profiler rather than prematurely optimising!) you can emphasize that; otherwise, stick with the default.</p>\n"},{"comments":[{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":1,"creation_date":1304587176,"post_id":435013,"comment_id":6783134,"body_markdown":"I disagree. From HashMap&#39;s JavaDoc: &gt;&gt;Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings). Thus, it&#39;s very important not to set the initial capacity too high (or the load factor too low) if iteration performance is important. &lt;&lt;","body":"I disagree. From HashMap&#39;s JavaDoc: &gt;&gt;Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings). Thus, it&#39;s very important not to set the initial capacity too high (or the load factor too low) if iteration performance is important. &lt;&lt;"},{"owner":{"account_id":328785,"reputation":701,"user_id":651934,"accept_rate":70,"display_name":"Jim"},"score":1,"creation_date":1374154192,"post_id":435013,"comment_id":25835853,"body_markdown":"Iteration over the whole map will be slower but lookups (get) will be faster.","body":"Iteration over the whole map will be slower but lookups (get) will be faster."},{"owner":{"account_id":6559317,"reputation":1971,"user_id":5070990,"display_name":"Yann TM"},"score":0,"creation_date":1582327831,"post_id":435013,"comment_id":106752496,"body_markdown":"After testing with both, I tend to agree with this pragmatic oversize rather than `(requiredCapacity*4+2)/3`  ; the problem is not to just avoid a reindex because we *barely did not hit* the threshold, and are thus in &quot;heavily loaded&quot; conditions where a single additional insert would make default heuristics pay a reindex. We want a good low collision hash, large enough to store the items no problemo with O(1) lookup.","body":"After testing with both, I tend to agree with this pragmatic oversize rather than <code>(requiredCapacity*4+2)&#47;3</code>  ; the problem is not to just avoid a reindex because we <i>barely did not hit</i> the threshold, and are thus in &quot;heavily loaded&quot; conditions where a single additional insert would make default heuristics pay a reindex. We want a good low collision hash, large enough to store the items no problemo with O(1) lookup."}],"tags":[],"owner":{"account_id":8456,"reputation":22280,"user_id":15255,"accept_rate":89,"display_name":"Zarkonnen"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1231755575,"creation_date":1231755575,"answer_id":435013,"question_id":434989,"body_markdown":"It&#39;s also notable that having a HashMap on the small side makes hash collisions more likely, which can slow down lookup. Hence, if you really worry about the speed of the map, and less about its size, it might be worth making it a bit too large for the data it needs to hold. Since memory is cheap, I typically initialise HashMaps for a known number of items with\r\n\r\n    HashMap&lt;Foo&gt; myMap = new HashMap&lt;Foo&gt;(numberOfElements * 2);\r\n\r\nFeel free to disagree, in fact I&#39;d quite like to have this idea verified or thrown out.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>It's also notable that having a HashMap on the small side makes hash collisions more likely, which can slow down lookup. Hence, if you really worry about the speed of the map, and less about its size, it might be worth making it a bit too large for the data it needs to hold. Since memory is cheap, I typically initialise HashMaps for a known number of items with</p>\n\n<pre><code>HashMap&lt;Foo&gt; myMap = new HashMap&lt;Foo&gt;(numberOfElements * 2);\n</code></pre>\n\n<p>Feel free to disagree, in fact I'd quite like to have this idea verified or thrown out.</p>\n"},{"tags":[],"owner":{"account_id":192113,"reputation":931,"user_id":433078,"accept_rate":75,"display_name":"grayger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235527328,"creation_date":1235527328,"answer_id":584465,"question_id":434989,"body_markdown":"Referring to HashMap source code will help.\r\n\r\nIf the number of entries reaches threshold(capacity * load factor), rehashing is done automatically. That means too small load factor can incur frequent rehashing as entries grow.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>Referring to HashMap source code will help.</p>\n\n<p>If the number of entries reaches threshold(capacity * load factor), rehashing is done automatically. That means too small load factor can incur frequent rehashing as entries grow.</p>\n"},{"comments":[{"owner":{"account_id":712,"reputation":6325,"user_id":931,"accept_rate":59,"display_name":"Ran Biron"},"score":0,"creation_date":1246797556,"post_id":1080551,"comment_id":897277,"body_markdown":"Looks like a very nice tool - pity there&#39;s no trial version","body":"Looks like a very nice tool - pity there&#39;s no trial version"}],"tags":[],"owner":{"account_id":563756,"reputation":136,"user_id":132934,"display_name":"Laurence Vanhelsuwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246649095,"creation_date":1246649095,"answer_id":1080551,"question_id":434989,"body_markdown":"For very large HashMaps in critical systems, where getting the initial capacity wrong can be very problematic, you may need empirical information to determine how best to initialize your Map.\r\n\r\nCollectionSpy ([collectionspy.com][1]) is a new Java profiler which lets you see in the blink of an eye which HashMaps are close to needing rehashing, how many times they have been rehashed in the past, and more. An ideal tool to determine safe initial capacity arguments to capacity-based container constructors.\r\n\r\n\r\n  [1]: http://www.collectionspy.com","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>For very large HashMaps in critical systems, where getting the initial capacity wrong can be very problematic, you may need empirical information to determine how best to initialize your Map.</p>\n\n<p>CollectionSpy (<a href=\"http://www.collectionspy.com\" rel=\"nofollow noreferrer\">collectionspy.com</a>) is a new Java profiler which lets you see in the blink of an eye which HashMaps are close to needing rehashing, how many times they have been rehashed in the past, and more. An ideal tool to determine safe initial capacity arguments to capacity-based container constructors.</p>\n"},{"tags":[],"owner":{"account_id":76367,"reputation":51,"user_id":218662,"display_name":"NotEdible"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259161359,"creation_date":1259161359,"answer_id":1797517,"question_id":434989,"body_markdown":"The answer Yuval gave is only correct for Hashtable. HashMap uses power-of-two buckets, so for HashMap, Zarkonnen is actually correct. You can verify this from the source code:\r\n\r\n      // Find a power of 2 &gt;= initialCapacity\r\n      int capacity = 1;\r\n      while (capacity &lt; initialCapacity)\r\n      capacity &lt;&lt;= 1;\r\n\r\nSo, although the load factor of 0.75f is still the same between Hashtable and HashMap, you should use an initial capacity n*2 where n is the number of elements you plan on storing in the HashMap. This will ensure the fastest get/put speeds.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>The answer Yuval gave is only correct for Hashtable. HashMap uses power-of-two buckets, so for HashMap, Zarkonnen is actually correct. You can verify this from the source code:</p>\n\n<pre><code>  // Find a power of 2 &gt;= initialCapacity\n  int capacity = 1;\n  while (capacity &lt; initialCapacity)\n  capacity &lt;&lt;= 1;\n</code></pre>\n\n<p>So, although the load factor of 0.75f is still the same between Hashtable and HashMap, you should use an initial capacity n*2 where n is the number of elements you plan on storing in the HashMap. This will ensure the fastest get/put speeds.</p>\n"},{"comments":[{"owner":{"account_id":101713,"reputation":10449,"user_id":273456,"accept_rate":68,"display_name":"Zordid"},"score":5,"creation_date":1335253038,"post_id":3345546,"comment_id":13245066,"body_markdown":"Why should one initialize a list with a higher capacity than the maximum number of elements it will hold? That&#39;s not logical. Only for maps, as their constructor parameter does mean something completely different than for lists it is good to calculate a higher value!","body":"Why should one initialize a list with a higher capacity than the maximum number of elements it will hold? That&#39;s not logical. Only for maps, as their constructor parameter does mean something completely different than for lists it is good to calculate a higher value!"}],"tags":[],"owner":{"account_id":174321,"reputation":51,"user_id":403604,"display_name":"lv2program"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322977817,"creation_date":1280246597,"answer_id":3345546,"question_id":434989,"body_markdown":"It&#39;s safe in most cases of `List` and `Map` initialization to make the `List` or `Map` with the following size params.\r\n\r\n    List&lt;T&gt;(numElements + (numElements / 2));\r\n    Map&lt;T,T&gt;(numElements + (numElements / 2));\r\n\r\nthis follows the &lt;b&gt;.75&lt;/b&gt; rule as well as saves a little overhead over the &lt;b&gt;`* 2`&lt;/b&gt; operation described above.\r\n","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>It's safe in most cases of <code>List</code> and <code>Map</code> initialization to make the <code>List</code> or <code>Map</code> with the following size params.</p>\n\n<pre><code>List&lt;T&gt;(numElements + (numElements / 2));\nMap&lt;T,T&gt;(numElements + (numElements / 2));\n</code></pre>\n\n<p>this follows the <b>.75</b> rule as well as saves a little overhead over the <b><code>* 2</code></b> operation described above.</p>\n"},{"comments":[{"owner":{"account_id":559587,"reputation":11480,"user_id":1245622,"accept_rate":76,"display_name":"linqu"},"score":0,"creation_date":1366283107,"post_id":11970766,"comment_id":22956187,"body_markdown":"can you point out why @Yuval Adam&#39;s answer consumes too much memory in  given case? thanks","body":"can you point out why @Yuval Adam&#39;s answer consumes too much memory in  given case? thanks"},{"owner":{"account_id":239783,"reputation":10069,"user_id":509619,"accept_rate":75,"display_name":"Mark Rhodes"},"score":1,"creation_date":1366283767,"post_id":11970766,"comment_id":22956567,"body_markdown":"It&#39;s because the HashMap always works with a backing array with a length which is a power of 2.  So if `(requiredCapacity / 0.75)` is a power of 2, then setting the initial capacity to `(requiredCapacity / 0.75) + 1` will mean that it will allocate twice as much memory (it rounds up to the next power of 2).  This is &quot;too much&quot; in the sense that adding `requiredCapacity` elements to a HashMap with a backing array half that size won&#39;t cause it to resize.  Hope that makes sense!","body":"It&#39;s because the HashMap always works with a backing array with a length which is a power of 2.  So if <code>(requiredCapacity &#47; 0.75)</code> is a power of 2, then setting the initial capacity to <code>(requiredCapacity &#47; 0.75) + 1</code> will mean that it will allocate twice as much memory (it rounds up to the next power of 2).  This is &quot;too much&quot; in the sense that adding <code>requiredCapacity</code> elements to a HashMap with a backing array half that size won&#39;t cause it to resize.  Hope that makes sense!"},{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":9,"creation_date":1452180032,"post_id":11970766,"comment_id":57062739,"body_markdown":"An equivalent of `(int) Math.ceil(requiredCapacity / 0.75)`, avoiding a method call and conversions to and from floating-point, is `(requiredCapacity*4+2)/3`. This gives the same result while using purely `int` arithmetic.","body":"An equivalent of <code>(int) Math.ceil(requiredCapacity &#47; 0.75)</code>, avoiding a method call and conversions to and from floating-point, is <code>(requiredCapacity*4+2)&#47;3</code>. This gives the same result while using purely <code>int</code> arithmetic."}],"tags":[],"owner":{"account_id":239783,"reputation":10069,"user_id":509619,"accept_rate":75,"display_name":"Mark Rhodes"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1476628051,"creation_date":1345039598,"answer_id":11970766,"question_id":434989,"body_markdown":"I ran some [unit tests](http://blog.scottlogic.com/2012/08/14/efficient-map-initialization-in-java.html) to see if these answers were correct and it turned out that using:\r\n\r\n    (int) Math.ceil(requiredCapacity / loadFactor);\r\n\r\nas the initial capacity gives what you want for either a `HashMap` or a `Hashtable`.  By &quot;what you want&quot; I mean that adding `requiredCapacity ` elements to the map won&#39;t cause the array which it&#39;s wrapping to resize and the array won&#39;t be larger than required.  Since the default load capacity is 0.75, initializing a HashMap like so works:\r\n\r\n    ... = new HashMap&lt;KeyType, ValueType&gt;((int) Math.ceil(requiredCapacity / 0.75));\r\n\r\nSince a HashSet is effectively just a wrapper for a HashMap, the same logic also applies there, i.e. you can construct a HashSet efficiently like this:\r\n\r\n    .... = new HashSet&lt;TypeToStore&gt;((int) Math.ceil(requiredCapacity / 0.75));\r\n\r\n@Yuval Adam&#39;s answer is correct for all cases except where `(requiredCapacity / 0.75)` is a power of 2, in which case it allocates too much memory.  \r\n@NotEdible&#39;s answer uses too much memory in many cases, as the HashMap&#39;s constructor itself deals with the issues that it want the maps array to have a size which is a power of 2.","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>I ran some <a href=\"http://blog.scottlogic.com/2012/08/14/efficient-map-initialization-in-java.html\" rel=\"noreferrer\">unit tests</a> to see if these answers were correct and it turned out that using:</p>\n\n<pre><code>(int) Math.ceil(requiredCapacity / loadFactor);\n</code></pre>\n\n<p>as the initial capacity gives what you want for either a <code>HashMap</code> or a <code>Hashtable</code>.  By \"what you want\" I mean that adding <code>requiredCapacity</code> elements to the map won't cause the array which it's wrapping to resize and the array won't be larger than required.  Since the default load capacity is 0.75, initializing a HashMap like so works:</p>\n\n<pre><code>... = new HashMap&lt;KeyType, ValueType&gt;((int) Math.ceil(requiredCapacity / 0.75));\n</code></pre>\n\n<p>Since a HashSet is effectively just a wrapper for a HashMap, the same logic also applies there, i.e. you can construct a HashSet efficiently like this:</p>\n\n<pre><code>.... = new HashSet&lt;TypeToStore&gt;((int) Math.ceil(requiredCapacity / 0.75));\n</code></pre>\n\n<p>@Yuval Adam's answer is correct for all cases except where <code>(requiredCapacity / 0.75)</code> is a power of 2, in which case it allocates too much memory.<br>\n@NotEdible's answer uses too much memory in many cases, as the HashMap's constructor itself deals with the issues that it want the maps array to have a size which is a power of 2.</p>\n"},{"comments":[{"owner":{"account_id":1653585,"reputation":390,"user_id":1818419,"accept_rate":75,"display_name":"Kim Ahlstr&#248;m Meyn Mathiassen"},"score":0,"creation_date":1506321984,"post_id":16081519,"comment_id":79755222,"body_markdown":"You link to a HashSet not a HashMap.","body":"You link to a HashSet not a HashMap."},{"owner":{"account_id":1190494,"reputation":825,"user_id":1163411,"accept_rate":29,"display_name":"lowselfesteemsucks"},"score":1,"creation_date":1561015943,"post_id":16081519,"comment_id":99928051,"body_markdown":"Interesting to point out that they are using the same logic as @Yuval Adam&#39;s answer: `(float)expectedSize / 0.75F + 1.0F` which means it for size of power of 2, memory allocation is very big. See @Mark Rhodes answer.","body":"Interesting to point out that they are using the same logic as @Yuval Adam&#39;s answer: <code>(float)expectedSize &#47; 0.75F + 1.0F</code> which means it for size of power of 2, memory allocation is very big. See @Mark Rhodes answer."}],"tags":[],"owner":{"account_id":559587,"reputation":11480,"user_id":1245622,"accept_rate":76,"display_name":"linqu"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1506963383,"creation_date":1366283980,"answer_id":16081519,"question_id":434989,"body_markdown":"In the [guava libraries][1] from Google there is a function that creates a HashMap optimized for a expected number of items: [newHashMapWithExpectedSize][2]\r\n\r\nfrom the docs:\r\n&gt; Creates a HashMap instance, with a high enough &quot;initial capacity&quot; that it should hold expectedSize elements without growth ...\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/%20guava%20libraries\r\n  [2]: http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Maps.html#newHashMapWithExpectedSize-int-","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>In the <a href=\"https://code.google.com/p/guava-libraries/%20guava%20libraries\" rel=\"noreferrer\">guava libraries</a> from Google there is a function that creates a HashMap optimized for a expected number of items: <a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Maps.html#newHashMapWithExpectedSize-int-\" rel=\"noreferrer\">newHashMapWithExpectedSize</a></p>\n\n<p>from the docs:</p>\n\n<blockquote>\n  <p>Creates a HashMap instance, with a high enough \"initial capacity\" that it should hold expectedSize elements without growth ...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693261830,"creation_date":1693260861,"answer_id":76996308,"question_id":434989,"body_markdown":"&gt; What values should I pass to create an efficient `HashMap` / `HashMap`\r\n&gt; based structures for N items?\r\n\r\nFrom the Java (openjdk) source code itself ([link][1]):\r\n```\r\n  /**\r\n   * Calculate initial capacity for HashMap based classes, from expected size and\r\n   * default load factor (0.75).\r\n   *\r\n   * @param numMappings the expected number of mappings\r\n   * @return initial capacity for HashMap based classes.\r\n   * @since 19\r\n   */\r\n  static int calculateHashMapCapacity(int numMappings) {\r\n    return (int) Math.ceil(numMappings / (double) DEFAULT_LOAD_FACTOR);\r\n  }\r\n```\r\nWhere the `numMappings` is your `N`. And the default load factor of a `HashMap` is `0.75f`.\r\n\r\n&gt; What is the effect of changing the load factor?\r\n\r\nShort answer: a higher load factor - more elements and fewer buckets; a lower load factor - more buckets to store elements, which increases memory overhead but reduces collisions.\r\n\r\nLast but not least, there is a static helper method [`HashMap.newHashMap`][2] available since Java 19, consider using it instead of calculating the initial capacity manually:\r\n```\r\nMap&lt;K, V&gt; map = HashMap.newHashMap(N);\r\n```\r\nIt creates a new, empty `HashMap` suitable for the expected number of mappings.\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/69d1feb83f0e1f411f3b62f74e1a488f0dd29b15/src/java.base/share/classes/java/util/HashMap.java#L2563\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#newHashMap(int)","title":"HashMap initialization parameters (load / initialcapacity)","body":"<blockquote>\n<p>What values should I pass to create an efficient <code>HashMap</code> / <code>HashMap</code>\nbased structures for N items?</p>\n</blockquote>\n<p>From the Java (openjdk) source code itself (<a href=\"https://github.com/openjdk/jdk/blob/69d1feb83f0e1f411f3b62f74e1a488f0dd29b15/src/java.base/share/classes/java/util/HashMap.java#L2563\" rel=\"nofollow noreferrer\">link</a>):</p>\n<pre><code>  /**\n   * Calculate initial capacity for HashMap based classes, from expected size and\n   * default load factor (0.75).\n   *\n   * @param numMappings the expected number of mappings\n   * @return initial capacity for HashMap based classes.\n   * @since 19\n   */\n  static int calculateHashMapCapacity(int numMappings) {\n    return (int) Math.ceil(numMappings / (double) DEFAULT_LOAD_FACTOR);\n  }\n</code></pre>\n<p>Where the <code>numMappings</code> is your <code>N</code>. And the default load factor of a <code>HashMap</code> is <code>0.75f</code>.</p>\n<blockquote>\n<p>What is the effect of changing the load factor?</p>\n</blockquote>\n<p>Short answer: a higher load factor - more elements and fewer buckets; a lower load factor - more buckets to store elements, which increases memory overhead but reduces collisions.</p>\n<p>Last but not least, there is a static helper method <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#newHashMap(int)\" rel=\"nofollow noreferrer\"><code>HashMap.newHashMap</code></a> available since Java 19, consider using it instead of calculating the initial capacity manually:</p>\n<pre><code>Map&lt;K, V&gt; map = HashMap.newHashMap(N);\n</code></pre>\n<p>It creates a new, empty <code>HashMap</code> suitable for the expected number of mappings.</p>\n"}],"owner":{"account_id":712,"reputation":6325,"user_id":931,"accept_rate":59,"display_name":"Ran Biron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56445,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":435000,"answer_count":10,"score":39,"last_activity_date":1693261830,"creation_date":1231754717,"question_id":434989,"body_markdown":"What values should I pass to create an efficient `HashMap` / `HashMap` based structures for N items?\r\n\r\nIn an `ArrayList`, the efficient number is N (N already assumes future grow). What should be the parameters for a `HashMap`? ((int)(N * 0.75d), 0.75d)? More? Less? What is the effect of changing the load factor?","title":"HashMap initialization parameters (load / initialcapacity)","body":"<p>What values should I pass to create an efficient <code>HashMap</code> / <code>HashMap</code> based structures for N items?</p>\n\n<p>In an <code>ArrayList</code>, the efficient number is N (N already assumes future grow). What should be the parameters for a <code>HashMap</code>? ((int)(N * 0.75d), 0.75d)? More? Less? What is the effect of changing the load factor?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1693227469,"post_id":76992931,"comment_id":135728350,"body_markdown":"`spring-boot-starter-parent` should be used as parent of your POM, if you want to import a BOM you should use `spring-boot-dependencies`, see https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.parent-pom","body":"<code>spring-boot-starter-parent</code> should be used as parent of your POM, if you want to import a BOM you should use <code>spring-boot-dependencies</code>, see <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.parent-pom\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/referen&zwnj;&#8203;ce/&hellip;</a>"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1693229985,"post_id":76992931,"comment_id":135728942,"body_markdown":"@Pino , Thank you for the immediate response .I am using as like below dependency and mentioned in properties as like . And below configuration worked while upgrading the mongoDB driver to 4.6.1    version &lt;springboot.version&gt;2.7.15&lt;/springboot.version&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;${springboot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;","body":"@Pino , Thank you for the immediate response .I am using as like below dependency and mentioned in properties as like . And below configuration worked while upgrading the mongoDB driver to 4.6.1    version &lt;springboot.version&gt;2.7.15&lt;/springboot.version&gt;         &lt;dependency&gt;                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                 &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;                 &lt;version&gt;${springboot.version}&lt;/version&gt;                 &lt;type&gt;pom&lt;/type&gt;                 &lt;scope&gt;import&lt;/scope&gt;             &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693260882,"creation_date":1693258688,"answer_id":76996155,"question_id":76992931,"body_markdown":"Add the dependency for the specific version of the driver you wish to use.  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n        &lt;version&gt;4.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMaven will honor this version instead of the transient version supplied with Spring.\r\n\r\n\r\nBy the way, it appears SpringData MongoDB version 2.7.15 has mongodb driver sync 4.6.1 as it&#39;s transient dependency, not 4.7.0\r\n\r\n\r\nIt looks like SpringData MongoDB 3.0.10 has a transient dependency on mongodb driver sync version 4.8.2","title":"Upgrade of Mongodb Driver to 4.7.0 is not working in spring boot 2.7.15","body":"<p>Add the dependency for the specific version of the driver you wish to use.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;4.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maven will honor this version instead of the transient version supplied with Spring.</p>\n<p>By the way, it appears SpringData MongoDB version 2.7.15 has mongodb driver sync 4.6.1 as it's transient dependency, not 4.7.0</p>\n<p>It looks like SpringData MongoDB 3.0.10 has a transient dependency on mongodb driver sync version 4.8.2</p>\n"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76996155,"answer_count":1,"score":0,"last_activity_date":1693260882,"creation_date":1693226816,"question_id":76992931,"body_markdown":"I am trying to upgrade the MongoDB driver to 4.7.0 from 4.6.1 but the driver is not getting upgrade to MongoDb driver 4.7.0. Have tried with springboot 2.7.15 version but the driver is not getting upgrade to MongoDB driver 4.7.0. Maven pom.xml looks like below. I want to use inbuilt version of mongodb driver 4.7.0 but the version upgrade is not happening. Can anyone help me how to upgrade the mongoDB driver 4.7.0. Appreciate any help. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.agcs.cids&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SampleService&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;SampleService&lt;/name&gt;\r\n        &lt;description&gt;Project for SampleService Service&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;springboot.version&gt;2.7.15&lt;/springboot.version&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestone&lt;/id&gt;\r\n                &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;systemProperties&gt;\r\n                            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                        &lt;/systemProperties&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;arguments&gt;\r\n                            &lt;source&gt;1.8&lt;/source&gt;\r\n                            &lt;target&gt;1.8&lt;/target&gt;\r\n                            &lt;uberJar&gt;true&lt;/uberJar&gt;\r\n                        &lt;/arguments&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;toolchain-nexus&lt;/id&gt;\r\n                &lt;url&gt;${nexus.release.url}&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n    \r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;toolchain-nexus&lt;/id&gt;\r\n                &lt;url&gt;${nexus.snapshot.url}&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"Upgrade of Mongodb Driver to 4.7.0 is not working in spring boot 2.7.15","body":"<p>I am trying to upgrade the MongoDB driver to 4.7.0 from 4.6.1 but the driver is not getting upgrade to MongoDb driver 4.7.0. Have tried with springboot 2.7.15 version but the driver is not getting upgrade to MongoDB driver 4.7.0. Maven pom.xml looks like below. I want to use inbuilt version of mongodb driver 4.7.0 but the version upgrade is not happening. Can anyone help me how to upgrade the mongoDB driver 4.7.0. Appreciate any help.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.agcs.cids&lt;/groupId&gt;\n    &lt;artifactId&gt;SampleService&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;SampleService&lt;/name&gt;\n    &lt;description&gt;Project for SampleService Service&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;springboot.version&gt;2.7.15&lt;/springboot.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;surefire-plugin.version&gt;2.22.0&lt;/surefire-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;${springboot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                    &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${springboot.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;arguments&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                        &lt;uberJar&gt;true&lt;/uberJar&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;toolchain-nexus&lt;/id&gt;\n            &lt;url&gt;${nexus.release.url}&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;toolchain-nexus&lt;/id&gt;\n            &lt;url&gt;${nexus.snapshot.url}&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","aws-lambda","event-handling","amazon-connect"],"answers":[{"tags":[],"owner":{"account_id":20923043,"reputation":379,"user_id":15371153,"display_name":"ledge"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693260456,"creation_date":1693260456,"answer_id":76996269,"question_id":76972758,"body_markdown":"To capture disconnection events for all calls you will need to subscribe to Amazon Connect events via EventBridge. There is documentation around this [here][1]. That documentation has step by step instructions for setting up the event bridge. Note that this will capture all events. you could change the event pattern to...\r\n\r\n    {\r\n      &quot;source&quot;: [&quot;aws.connect&quot;],\r\n      &quot;detail-type&quot;: [&quot;Amazon Connect Contact Event&quot;],\r\n      &quot;detail&quot;: {\r\n        &quot;eventType&quot;: [&quot;DISCONNECTED&quot;]\r\n      }\r\n    }\r\n\r\n...so you only capture the disconnect events.\r\n\r\nYou can then set the target of this EventBridge rule to your lambda.\r\n\r\nThe event includes useful information, like `connectedToSystemTimestamp`, `connectedToAgentTimestamp` and `disconnectTimestamp` which you can use to calculate call duration.\r\n\r\nYou can also use the included `details.contactId` from the event in your lambda to get additional information from Connect. Use the Connect API [GetContactAttributes][2] action to rertrieve these. Note that there is no way to get the CallerID directly via the Connect API, so if you want that you&#39;ll need to attached the callers phone number as an attribute in your Connect contact flows, you can then get that information from the data returned by GetContactAttributes.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/connect/latest/adminguide/contact-events.html#subscribe-contact-events\r\n  [2]: https://docs.aws.amazon.com/connect/latest/APIReference/API_GetContactAttributes.html","title":"Invoking Lambda After Call Ends in Amazon Connect for Data Collection (Java)","body":"<p>To capture disconnection events for all calls you will need to subscribe to Amazon Connect events via EventBridge. There is documentation around this <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/contact-events.html#subscribe-contact-events\" rel=\"nofollow noreferrer\">here</a>. That documentation has step by step instructions for setting up the event bridge. Note that this will capture all events. you could change the event pattern to...</p>\n<pre><code>{\n  &quot;source&quot;: [&quot;aws.connect&quot;],\n  &quot;detail-type&quot;: [&quot;Amazon Connect Contact Event&quot;],\n  &quot;detail&quot;: {\n    &quot;eventType&quot;: [&quot;DISCONNECTED&quot;]\n  }\n}\n</code></pre>\n<p>...so you only capture the disconnect events.</p>\n<p>You can then set the target of this EventBridge rule to your lambda.</p>\n<p>The event includes useful information, like <code>connectedToSystemTimestamp</code>, <code>connectedToAgentTimestamp</code> and <code>disconnectTimestamp</code> which you can use to calculate call duration.</p>\n<p>You can also use the included <code>details.contactId</code> from the event in your lambda to get additional information from Connect. Use the Connect API <a href=\"https://docs.aws.amazon.com/connect/latest/APIReference/API_GetContactAttributes.html\" rel=\"nofollow noreferrer\">GetContactAttributes</a> action to rertrieve these. Note that there is no way to get the CallerID directly via the Connect API, so if you want that you'll need to attached the callers phone number as an attribute in your Connect contact flows, you can then get that information from the data returned by GetContactAttributes.</p>\n"}],"owner":{"account_id":17119466,"reputation":149,"user_id":12388078,"display_name":"Mahmudul Hasan Shafin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693260456,"creation_date":1692909261,"question_id":76972758,"body_markdown":"\r\nI&#39;m working on a Java-based project involving Amazon Connect and AWS Lambda. I want to achieve the following scenario:\r\n\r\n1. After a call ends in Amazon Connect (either by the user or normally), I want to invoke a Java-based AWS Lambda function to process and collect call-related data.\r\n\r\nI&#39;ve already set up an AWS Lambda function in Java that handles data processing, but I&#39;m unsure about the best way to trigger this function after a call ends. Here&#39;s what I&#39;m looking for:\r\n\r\n1. **Call Termination:** How can I detect when a call ends in Amazon Connect? Is there an event or mechanism I can use to determine if a call has ended, either by the user or in a normal manner?\r\n\r\n2. **Lambda Invocation:** Once a call ends, how can I programmatically trigger my Java-based AWS Lambda function? Are there specific settings I need to configure within Amazon Connect or the Lambda function itself to achieve this?\r\n\r\n3. **Data Collection:** Additionally, how can I collect relevant data from the call, such as call duration, caller ID, and any custom attributes that were set during the call?\r\n\r\nIf anyone has experience with Amazon Connect and Lambda integrations, especially in a Java environment, I&#39;d greatly appreciate your guidance on how to set up this workflow effectively. Any Java-specific code examples or step-by-step instructions would be incredibly helpful.\r\n\r\nThank you in advance for your assistance. I&#39;m looking forward to learning from your expertise!\r\n\r\nBest regards,\r\nShafin","title":"Invoking Lambda After Call Ends in Amazon Connect for Data Collection (Java)","body":"<p>I'm working on a Java-based project involving Amazon Connect and AWS Lambda. I want to achieve the following scenario:</p>\n<ol>\n<li>After a call ends in Amazon Connect (either by the user or normally), I want to invoke a Java-based AWS Lambda function to process and collect call-related data.</li>\n</ol>\n<p>I've already set up an AWS Lambda function in Java that handles data processing, but I'm unsure about the best way to trigger this function after a call ends. Here's what I'm looking for:</p>\n<ol>\n<li><p><strong>Call Termination:</strong> How can I detect when a call ends in Amazon Connect? Is there an event or mechanism I can use to determine if a call has ended, either by the user or in a normal manner?</p>\n</li>\n<li><p><strong>Lambda Invocation:</strong> Once a call ends, how can I programmatically trigger my Java-based AWS Lambda function? Are there specific settings I need to configure within Amazon Connect or the Lambda function itself to achieve this?</p>\n</li>\n<li><p><strong>Data Collection:</strong> Additionally, how can I collect relevant data from the call, such as call duration, caller ID, and any custom attributes that were set during the call?</p>\n</li>\n</ol>\n<p>If anyone has experience with Amazon Connect and Lambda integrations, especially in a Java environment, I'd greatly appreciate your guidance on how to set up this workflow effectively. Any Java-specific code examples or step-by-step instructions would be incredibly helpful.</p>\n<p>Thank you in advance for your assistance. I'm looking forward to learning from your expertise!</p>\n<p>Best regards,\nShafin</p>\n"},{"tags":["java","spring","model-view-controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693289032,"post_id":76995010,"comment_id":135737127,"body_markdown":"YOu don&#39;t as it will be set by the `DispatcherServlet` due to the fact that the `AnnotationConfigWebApplicationContext` is `ServletContextAware`.","body":"YOu don&#39;t as it will be set by the <code>DispatcherServlet</code> due to the fact that the <code>AnnotationConfigWebApplicationContext</code> is <code>ServletContextAware</code>."}],"answers":[{"comments":[{"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"score":0,"creation_date":1694957459,"post_id":76995162,"comment_id":135956904,"body_markdown":"THANK YOU SO MUCH FOR SUCH A DETAILED ANSWER.","body":"THANK YOU SO MUCH FOR SUCH A DETAILED ANSWER."}],"tags":[],"owner":{"account_id":11936753,"reputation":86,"user_id":8734970,"display_name":"bbart23"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693246475,"creation_date":1693246475,"answer_id":76995162,"question_id":76995010,"body_markdown":"Alright, let&#39;s break this down step by step:\r\n\r\n## The Spring Framework Context Hierarchy\r\nIn Spring, there&#39;s a concept of a parent-child hierarchy of contexts. The root context is typically the context of the entire application, while the child contexts are more specialized contexts, often linked to specific servlets.\r\n\r\nThe `DispatcherServlet` in Spring MVC is typically associated with a child context, which is a specialization of the general application context. This child context is meant for web-specific components, like controllers, view resolvers, etc.\r\n\r\n## The Role of ServletContext\r\nThe `ServletContext` is a standard Java EE interface that provides information about the web application and a way to interact with its container (like Tomcat). It&#39;s like a shared space where servlets in the same web application can communicate with each other.\r\n\r\n## The Purpose of ctx.setServletContext(container)\r\nWhen you do `ctx.setServletContext(container)`, you&#39;re linking the `ServletContext` of the web application to the Spring `ApplicationContext` you&#39;ve just created.\r\n\r\n### Why is this necessary?\r\n\r\n 1. **Web Application Context**: By setting the `ServletContext`, you&#39;re\r\n    effectively making the `ApplicationContext` a web application\r\n    context. This allows it to understand its surrounding web\r\n    environment and utilize web-specific features like resolving views,\r\n    interpreting web-based scopes (e.g., `request`, `session`), etc.\r\n    \r\n 2. **Resource Loading**: The `ServletContext` provides capabilities to load\r\n    resources from the web application. For instance, if you have a view\r\n    resolver that&#39;s resolving JSP files, it can utilize the\r\n    `ServletContext` to find those JSP files within the web application.\r\n    \r\n 3. **Scoped Beans**: Spring provides web-specific scopes (like `request`,\r\n    `session`, etc.). In order to create and manage beans with such\r\n    scopes, the `ApplicationContext` needs to be aware of the\r\n    `ServletContext`.\r\n\r\n## Is it Mandatory?\r\nIn many scenarios, if you don&#39;t set the `ServletContext`, your `ApplicationContext` might still work, but it won&#39;t be aware of the web environment. This means certain features, especially web-specific ones, might not function as expected.\r\n\r\n## Comparison with createServletApplicationContext()\r\nIn the method `createServletApplicationContext()` you provided, the `ServletContext` isn&#39;t being explicitly set. It&#39;s possible that the setting of the `ServletContext` is done elsewhere, perhaps within the Spring framework itself when the created context is actually being used in association with a `DispatcherServlet`.\r\n\r\n## Summary\r\nThe line `ctx.setServletContext(container)` is used to make the `ApplicationContext` aware of the web environment, allowing it to function correctly in a web application setting and utilize web-specific features provided by Spring.\r\n\r\nReferences:\r\n\r\n[Spring WebApplicationInitializer][1]\r\n\r\n[Java ServletContext][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html","title":"Spring MVC ServletContext and ApplicationContext","body":"<p>Alright, let's break this down step by step:</p>\n<h2>The Spring Framework Context Hierarchy</h2>\n<p>In Spring, there's a concept of a parent-child hierarchy of contexts. The root context is typically the context of the entire application, while the child contexts are more specialized contexts, often linked to specific servlets.</p>\n<p>The <code>DispatcherServlet</code> in Spring MVC is typically associated with a child context, which is a specialization of the general application context. This child context is meant for web-specific components, like controllers, view resolvers, etc.</p>\n<h2>The Role of ServletContext</h2>\n<p>The <code>ServletContext</code> is a standard Java EE interface that provides information about the web application and a way to interact with its container (like Tomcat). It's like a shared space where servlets in the same web application can communicate with each other.</p>\n<h2>The Purpose of ctx.setServletContext(container)</h2>\n<p>When you do <code>ctx.setServletContext(container)</code>, you're linking the <code>ServletContext</code> of the web application to the Spring <code>ApplicationContext</code> you've just created.</p>\n<h3>Why is this necessary?</h3>\n<ol>\n<li><p><strong>Web Application Context</strong>: By setting the <code>ServletContext</code>, you're\neffectively making the <code>ApplicationContext</code> a web application\ncontext. This allows it to understand its surrounding web\nenvironment and utilize web-specific features like resolving views,\ninterpreting web-based scopes (e.g., <code>request</code>, <code>session</code>), etc.</p>\n</li>\n<li><p><strong>Resource Loading</strong>: The <code>ServletContext</code> provides capabilities to load\nresources from the web application. For instance, if you have a view\nresolver that's resolving JSP files, it can utilize the\n<code>ServletContext</code> to find those JSP files within the web application.</p>\n</li>\n<li><p><strong>Scoped Beans</strong>: Spring provides web-specific scopes (like <code>request</code>,\n<code>session</code>, etc.). In order to create and manage beans with such\nscopes, the <code>ApplicationContext</code> needs to be aware of the\n<code>ServletContext</code>.</p>\n</li>\n</ol>\n<h2>Is it Mandatory?</h2>\n<p>In many scenarios, if you don't set the <code>ServletContext</code>, your <code>ApplicationContext</code> might still work, but it won't be aware of the web environment. This means certain features, especially web-specific ones, might not function as expected.</p>\n<h2>Comparison with createServletApplicationContext()</h2>\n<p>In the method <code>createServletApplicationContext()</code> you provided, the <code>ServletContext</code> isn't being explicitly set. It's possible that the setting of the <code>ServletContext</code> is done elsewhere, perhaps within the Spring framework itself when the created context is actually being used in association with a <code>DispatcherServlet</code>.</p>\n<h2>Summary</h2>\n<p>The line <code>ctx.setServletContext(container)</code> is used to make the <code>ApplicationContext</code> aware of the web environment, allowing it to function correctly in a web application setting and utilize web-specific features provided by Spring.</p>\n<p>References:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html\" rel=\"nofollow noreferrer\">Spring WebApplicationInitializer</a></p>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html\" rel=\"nofollow noreferrer\">Java ServletContext</a></p>\n"}],"owner":{"account_id":24170524,"reputation":37,"user_id":18132664,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693260132,"creation_date":1693244939,"question_id":76995010,"body_markdown":"I am currently learning Spring MVC. I came across a piece code which is bit confusing to me.\r\nIn Spring MVC, there is this concept of `DispatcherServlet`.\r\n\r\nEach `DispatcherServlet` is registered in the `ServletContext` and each `DispatcherServlet` has its own `applicationContext`. But now the code that is confusing to me is below one.\r\n\r\n\r\n```\r\npublic class AppInitializer implements WebApplicationInitializer {\r\n \r\n    public void onStartup(ServletContext container) throws ServletException {\r\n \r\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n        ctx.register(AppConfig.class);\r\n        ctx.setServletContext(container);\r\n \r\n        ServletRegistration.Dynamic servlet = container.addServlet(\r\n                &quot;dispatcher&quot;, new DispatcherServlet(ctx));\r\n \r\n        servlet.setLoadOnStartup(1);\r\n        servlet.addMapping(&quot;/&quot;);\r\n    }\r\n \r\n}\r\n```\r\n\r\nIf you see the above code in the `onStartUp` method, \r\n1. I am creating a instance of a `ApplicationContext`.\r\n2. I am registering the beans in the application context.\r\n3. And then this is the line I have the doubt ..what does the line of code do?\r\n     `ctx.setServletContext(container);`\r\n\r\nDoes it provide a `servletContext` to the `applicationContext`?\r\nWhat does the method `setServletContext()` mean here? I read the documentation, but it is not clear. It simply says Set the `ServletContext` for this web application context.\r\n\r\nBut why do we need to set the `ServletContext` to the application context? Is this line of code mandatory? Kindly help in clarifying it.\r\nIs application context registered in the `ServletContext`?\r\n\r\nI went through the code of `createServletApplicationContext()` method in the `AbstractAnnotationConfigDispatcherServletInitializer` class. There in the method the `servletContext` is never set in the application Context. Please refer the method below.\r\n\r\n    @Override\r\n    \tprotected WebApplicationContext createServletApplicationContext() {\r\n    \t\tAnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\r\n    \t\tClass&lt;?&gt;[] configClasses = getServletConfigClasses();\r\n    \t\tif (!ObjectUtils.isEmpty(configClasses)) {\r\n    \t\t\tcontext.register(configClasses);\r\n    \t\t}\r\n    \t\treturn context;\r\n    \t}\r\n\r\n","title":"Spring MVC ServletContext and ApplicationContext","body":"<p>I am currently learning Spring MVC. I came across a piece code which is bit confusing to me.\nIn Spring MVC, there is this concept of <code>DispatcherServlet</code>.</p>\n<p>Each <code>DispatcherServlet</code> is registered in the <code>ServletContext</code> and each <code>DispatcherServlet</code> has its own <code>applicationContext</code>. But now the code that is confusing to me is below one.</p>\n<pre><code>public class AppInitializer implements WebApplicationInitializer {\n \n    public void onStartup(ServletContext container) throws ServletException {\n \n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(AppConfig.class);\n        ctx.setServletContext(container);\n \n        ServletRegistration.Dynamic servlet = container.addServlet(\n                &quot;dispatcher&quot;, new DispatcherServlet(ctx));\n \n        servlet.setLoadOnStartup(1);\n        servlet.addMapping(&quot;/&quot;);\n    }\n \n}\n</code></pre>\n<p>If you see the above code in the <code>onStartUp</code> method,</p>\n<ol>\n<li>I am creating a instance of a <code>ApplicationContext</code>.</li>\n<li>I am registering the beans in the application context.</li>\n<li>And then this is the line I have the doubt ..what does the line of code do?\n<code>ctx.setServletContext(container);</code></li>\n</ol>\n<p>Does it provide a <code>servletContext</code> to the <code>applicationContext</code>?\nWhat does the method <code>setServletContext()</code> mean here? I read the documentation, but it is not clear. It simply says Set the <code>ServletContext</code> for this web application context.</p>\n<p>But why do we need to set the <code>ServletContext</code> to the application context? Is this line of code mandatory? Kindly help in clarifying it.\nIs application context registered in the <code>ServletContext</code>?</p>\n<p>I went through the code of <code>createServletApplicationContext()</code> method in the <code>AbstractAnnotationConfigDispatcherServletInitializer</code> class. There in the method the <code>servletContext</code> is never set in the application Context. Please refer the method below.</p>\n<pre><code>@Override\n    protected WebApplicationContext createServletApplicationContext() {\n        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\n        Class&lt;?&gt;[] configClasses = getServletConfigClasses();\n        if (!ObjectUtils.isEmpty(configClasses)) {\n            context.register(configClasses);\n        }\n        return context;\n    }\n</code></pre>\n"},{"tags":["java","arrays","h2"],"comments":[{"owner":{"account_id":1250533,"reputation":5799,"user_id":1211032,"accept_rate":100,"display_name":"Marc Grue"},"score":0,"creation_date":1693206935,"post_id":76961887,"comment_id":135724493,"body_markdown":"It would be nice to have some of the array functions/operators from PostGreSQL: https://www.postgresql.org/docs/current/functions-array.html","body":"It would be nice to have some of the array functions/operators from PostGreSQL: <a href=\"https://www.postgresql.org/docs/current/functions-array.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/functions-array.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":1250533,"reputation":5799,"user_id":1211032,"accept_rate":100,"display_name":"Marc Grue"},"score":0,"creation_date":1693251071,"post_id":76993658,"comment_id":135733267,"body_markdown":"Thanks @mircea-sirghi. But using the function ARRAY_SLICE presumes that you know the ordinality/position of the values that you want to retract and I don&#39;t know these (same applies to TRIM_ARRAY). I want to be able to retract and replace values without having to make a query first to obtain the ordinality - if possible.","body":"Thanks @mircea-sirghi. But using the function ARRAY_SLICE presumes that you know the ordinality/position of the values that you want to retract and I don&#39;t know these (same applies to TRIM_ARRAY). I want to be able to retract and replace values without having to make a query first to obtain the ordinality - if possible."},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1693259396,"post_id":76993658,"comment_id":135734454,"body_markdown":"Even better, please check updated version.","body":"Even better, please check updated version."},{"owner":{"account_id":1250533,"reputation":5799,"user_id":1211032,"accept_rate":100,"display_name":"Marc Grue"},"score":0,"creation_date":1693314213,"post_id":76993658,"comment_id":135741893,"body_markdown":"Excellent, @mircea-sirghi! This solved my problem, thanks!","body":"Excellent, @mircea-sirghi! This solved my problem, thanks!"},{"owner":{"account_id":1250533,"reputation":5799,"user_id":1211032,"accept_rate":100,"display_name":"Marc Grue"},"score":0,"creation_date":1693347084,"post_id":76993658,"comment_id":135748253,"body_markdown":"Sorry, missed that I hade to click the bounty to award it to you. Done now.","body":"Sorry, missed that I hade to click the bounty to award it to you. Done now."}],"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693259380,"creation_date":1693232524,"answer_id":76993658,"question_id":76961887,"body_markdown":"    // How to retract 2?\r\n    UPDATE A SET ints = ARRAY(SELECT V FROM TABLE(V INT = (SELECT ints FROM A WHERE id = 1)) where V != 2);\r\n    SELECT ints FROM A WHERE id = 1;\r\n    // [1, 3]\r\n\r\n\r\n    // How to replace 1 with 10?\r\n    UPDATE A SET ints = ARRAY[1, 2, 3];\r\n    SELECT ints FROM A WHERE id = 1;\r\n    UPDATE A SET ints = ARRAY(SELECT CASEWHEN(V=1, 10, V) FROM TABLE(V INT = (SELECT ints FROM A WHERE id = 1)));\r\n    SELECT ints FROM A WHERE id = 1;\r\n    // [10, 2, 3]\r\n\r\n","title":"How to manipulate array values in h2?","body":"<pre><code>// How to retract 2?\nUPDATE A SET ints = ARRAY(SELECT V FROM TABLE(V INT = (SELECT ints FROM A WHERE id = 1)) where V != 2);\nSELECT ints FROM A WHERE id = 1;\n// [1, 3]\n\n\n// How to replace 1 with 10?\nUPDATE A SET ints = ARRAY[1, 2, 3];\nSELECT ints FROM A WHERE id = 1;\nUPDATE A SET ints = ARRAY(SELECT CASEWHEN(V=1, 10, V) FROM TABLE(V INT = (SELECT ints FROM A WHERE id = 1)));\nSELECT ints FROM A WHERE id = 1;\n// [10, 2, 3]\n</code></pre>\n"}],"owner":{"account_id":1250533,"reputation":5799,"user_id":1211032,"accept_rate":100,"display_name":"Marc Grue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76993658,"answer_count":1,"score":1,"last_activity_date":1693259380,"creation_date":1692797793,"question_id":76961887,"body_markdown":"How can I retract and update values in an array in h2?\r\n\r\nSince I&#39;m trying to manage a `Set` of distinct values in an array I don&#39;t know the ordinality/position of values in the array and can\r\ntherefore only operate by value and not use the position of values in the array - if possible?\r\n\r\n(I can live with duplicate values in the array since I load queried array values into `Set`s that will automatically filter out duplicate values.)\r\n\r\nI can add a value with concatenation:\r\n```lang-sql\r\nDROP TABLE A IF EXISTS;\r\nCREATE TABLE A(id INT PRIMARY KEY AUTO_INCREMENT, ints INT ARRAY);\r\nINSERT INTO A(ints) VALUES (ARRAY[1, 2]);\r\nSELECT ints FROM A WHERE id = 1;\r\n// [1, 2]\r\n\r\n// Concatenate\r\nUPDATE A SET ints = ints || 3;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [1, 2, 3]\r\n```\r\n\r\nBut how can I retract a specific value?\r\n\r\n```lang-sql\r\n// How to retract 2?\r\nUPDATE A SET ints = ???;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [1, 3]\r\n\r\n// Or, how to retract 1 and 2?\r\nUPDATE A SET ints = ???;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [3]\r\n```\r\n\r\nAnd how can I update one value to another?\r\n\r\n```lang-sql\r\n// How to replace 1 with 10?\r\nUPDATE A SET ints = ???;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [10, 2, 3]\r\n\r\n// Or, how to replace 1 with 10 and 3 with 30?\r\nUPDATE A SET ints = ???;\r\nSELECT ints FROM A WHERE id = 1;\r\n// [10, 2, 30]\r\n```\r\n\r\n\r\nI have tried variations on unnesting the values and filter them to exclude (retract) certain values, then aggregate them back along the following (wrong) lines without success:\r\n\r\n```lang-sql\r\nUPDATE A \r\nSET ints = ARRAY_AGG(\r\n   (SELECT * FROM UNNEST(SELECT ints FROM A) WHERE c1 != 2)\r\n) \r\nWHERE id = 1;\r\n```\r\n\r\nUPDATE: I can get the desired filtered values:\r\n```lang-sql\r\nSELECT * FROM UNNEST(SELECT ints FROM A) where c1 != 2;\r\n// C1\r\n// 1\r\n// 3\r\n```\r\nBut then I can&#39;t create an array from those values (that I can set `ints` to):\r\n```lang-sql\r\nVALUES ARRAY(\r\n   SELECT * FROM UNNEST(SELECT ints FROM A) where c1 != 2\r\n);\r\n// C1\r\n// [null, null]\r\n```","title":"How to manipulate array values in h2?","body":"<p>How can I retract and update values in an array in h2?</p>\n<p>Since I'm trying to manage a <code>Set</code> of distinct values in an array I don't know the ordinality/position of values in the array and can\ntherefore only operate by value and not use the position of values in the array - if possible?</p>\n<p>(I can live with duplicate values in the array since I load queried array values into <code>Set</code>s that will automatically filter out duplicate values.)</p>\n<p>I can add a value with concatenation:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>DROP TABLE A IF EXISTS;\nCREATE TABLE A(id INT PRIMARY KEY AUTO_INCREMENT, ints INT ARRAY);\nINSERT INTO A(ints) VALUES (ARRAY[1, 2]);\nSELECT ints FROM A WHERE id = 1;\n// [1, 2]\n\n// Concatenate\nUPDATE A SET ints = ints || 3;\nSELECT ints FROM A WHERE id = 1;\n// [1, 2, 3]\n</code></pre>\n<p>But how can I retract a specific value?</p>\n<pre class=\"lang-sql prettyprint-override\"><code>// How to retract 2?\nUPDATE A SET ints = ???;\nSELECT ints FROM A WHERE id = 1;\n// [1, 3]\n\n// Or, how to retract 1 and 2?\nUPDATE A SET ints = ???;\nSELECT ints FROM A WHERE id = 1;\n// [3]\n</code></pre>\n<p>And how can I update one value to another?</p>\n<pre class=\"lang-sql prettyprint-override\"><code>// How to replace 1 with 10?\nUPDATE A SET ints = ???;\nSELECT ints FROM A WHERE id = 1;\n// [10, 2, 3]\n\n// Or, how to replace 1 with 10 and 3 with 30?\nUPDATE A SET ints = ???;\nSELECT ints FROM A WHERE id = 1;\n// [10, 2, 30]\n</code></pre>\n<p>I have tried variations on unnesting the values and filter them to exclude (retract) certain values, then aggregate them back along the following (wrong) lines without success:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE A \nSET ints = ARRAY_AGG(\n   (SELECT * FROM UNNEST(SELECT ints FROM A) WHERE c1 != 2)\n) \nWHERE id = 1;\n</code></pre>\n<p>UPDATE: I can get the desired filtered values:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM UNNEST(SELECT ints FROM A) where c1 != 2;\n// C1\n// 1\n// 3\n</code></pre>\n<p>But then I can't create an array from those values (that I can set <code>ints</code> to):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>VALUES ARRAY(\n   SELECT * FROM UNNEST(SELECT ints FROM A) where c1 != 2\n);\n// C1\n// [null, null]\n</code></pre>\n"},{"tags":["java","web","tomcat","apache-tomee"],"comments":[{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":2,"creation_date":1693214346,"post_id":76988830,"comment_id":135725806,"body_markdown":"There is no TomEE 10.272.","body":"There is no TomEE 10.272."},{"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"score":0,"creation_date":1693252534,"post_id":76988830,"comment_id":135733479,"body_markdown":"sorry, translator made some mistakes. i have edited @BasilBourque","body":"sorry, translator made some mistakes. i have edited @BasilBourque"},{"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"score":0,"creation_date":1693252572,"post_id":76988830,"comment_id":135733483,"body_markdown":"@rzo1 i have edited","body":"@rzo1 i have edited"},{"owner":{"account_id":64678,"reputation":19208,"user_id":190816,"accept_rate":67,"display_name":"David Blevins"},"score":0,"creation_date":1693254742,"post_id":76988830,"comment_id":135733831,"body_markdown":"@VsevolodKasatchikov As rzo1 mentioned, there is no TomEE version 10.x.  The latest version is 9.1","body":"@VsevolodKasatchikov As rzo1 mentioned, there is no TomEE version 10.x.  The latest version is 9.1"},{"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"score":0,"creation_date":1693255487,"post_id":76988830,"comment_id":135733953,"body_markdown":"@DavidBlevins oh, im sorry. i said like it was written in intellij idea. by fact, its 9.1.0 version","body":"@DavidBlevins oh, im sorry. i said like it was written in intellij idea. by fact, its 9.1.0 version"},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1693308865,"post_id":76988830,"comment_id":135740711,"body_markdown":"You should check catalina.out for any errors. Are you targeting EE10 or EE9.1 ?","body":"You should check catalina.out for any errors. Are you targeting EE10 or EE9.1 ?"},{"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"score":1,"creation_date":1693314801,"post_id":76988830,"comment_id":135742028,"body_markdown":"@rzo1 i use EE9.1. there is only one warning in catalina.out: WARNING [http-nio-8080-exec-4] org.apache.batchee.container.services.ServicesManager.init You didn&#39;t specify org.apache.batchee.jmx.application and JMX is already registered, skipping.\nI dont think it matters so much","body":"@rzo1 i use EE9.1. there is only one warning in catalina.out: WARNING [http-nio-8080-exec-4] org.apache.batchee.container.services.ServicesManager.init You didn&#39;t specify org.apache.batchee.jmx.application and JMX is already registered, skipping. I dont think it matters so much"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693388997,"post_id":76996123,"comment_id":135753119,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76996123/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29317454,"reputation":1,"user_id":22461861,"display_name":"Apk Modii"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693258328,"creation_date":1693258328,"answer_id":76996123,"question_id":76988830,"body_markdown":"TomEE usually keeps track of what&#39;s happening in log files. Look for any error messages or weird stuff in files like **catalina.out** or tomee.log.","title":"I can&#39;t launch the application on TomEE","body":"<p>TomEE usually keeps track of what's happening in log files. Look for any error messages or weird stuff in files like <strong>catalina.out</strong> or tomee.log.</p>\n"}],"owner":{"account_id":27116540,"reputation":1,"user_id":20660794,"display_name":"Vsevolod Kasatchikov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693258328,"creation_date":1693168177,"question_id":76988830,"body_markdown":"Earlier I used a regular Tomcat version 10.1.11, but then I switched to Tomee plus version 9.1.0 and everything stopped working for me. Now the page where the servlet should be displayed constantly throws the error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;.\r\nBut if I run this application again through the regular version of Tomcat, then everything will work. Has anyone encountered such an error?","title":"I can&#39;t launch the application on TomEE","body":"<p>Earlier I used a regular Tomcat version 10.1.11, but then I switched to Tomee plus version 9.1.0 and everything stopped working for me. Now the page where the servlet should be displayed constantly throws the error &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists&quot;.\nBut if I run this application again through the regular version of Tomcat, then everything will work. Has anyone encountered such an error?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","properties"],"answers":[{"tags":[],"owner":{"account_id":12152068,"reputation":581,"user_id":8872018,"display_name":"Anthony"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693257812,"creation_date":1569013678,"answer_id":58035201,"question_id":58030004,"body_markdown":"From `@PropertySource` javadoc\r\n\r\n&gt; ...  \r\nNote, however, that explicit registration\r\nof a `PropertySourcesPlaceholderConfigurer` via a static `@Bean`\r\nmethod is typically only required if you need to customize configuration such as the placeholder syntax, etc. See the &quot;Working with externalized values&quot; section of Configuration `@Configuration`&#39;s javadocs and &quot;a note on BeanFactoryPostProcessor-returning @Bean methods of Bean `@Bean`&#39;s javadocs for details and examples. Specifically, if no bean post-processor (such as a `PropertySourcesPlaceholderConfigurer`) has registered an embedded value resolver for the `ApplicationContext`, Spring will register a default embedded value resolver which resolves placeholders against property sources registered in the `Environment`.  \r\n...\r\n\r\nWell, if simple words if you need set up or get more control over property configuration bean such as `PropertySourcesPlaceholderConfigurer` you could define it. Otherwise it can be ommited.**But if you use version of Spring prior 4.3.0, this bean has to be declared for resolve `@Value`.**\r\n\r\nFor get more details:\r\n  \r\n* [6.Configuration using Raw Beans in Spring 3.0  the PropertyPlaceholderConfigurer](https://www.baeldung.com/properties-with-spring)  \r\n* [javadoc @PropertySource](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html)\r\n\r\nI hope it&#39;ll a little help you)\r\n    ","title":"Use of PropertySourcesPlaceholderConfigurer?","body":"<p>From <code>@PropertySource</code> javadoc</p>\n<blockquote>\n<p>...<br />\nNote, however, that explicit registration\nof a <code>PropertySourcesPlaceholderConfigurer</code> via a static <code>@Bean</code>\nmethod is typically only required if you need to customize configuration such as the placeholder syntax, etc. See the &quot;Working with externalized values&quot; section of Configuration <code>@Configuration</code>'s javadocs and &quot;a note on BeanFactoryPostProcessor-returning @Bean methods of Bean <code>@Bean</code>'s javadocs for details and examples. Specifically, if no bean post-processor (such as a <code>PropertySourcesPlaceholderConfigurer</code>) has registered an embedded value resolver for the <code>ApplicationContext</code>, Spring will register a default embedded value resolver which resolves placeholders against property sources registered in the <code>Environment</code>.<br />\n...</p>\n</blockquote>\n<p>Well, if simple words if you need set up or get more control over property configuration bean such as <code>PropertySourcesPlaceholderConfigurer</code> you could define it. Otherwise it can be ommited.<strong>But if you use version of Spring prior 4.3.0, this bean has to be declared for resolve <code>@Value</code>.</strong></p>\n<p>For get more details:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">6.Configuration using Raw Beans in Spring 3.0  the PropertyPlaceholderConfigurer</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow noreferrer\">javadoc @PropertySource</a></li>\n</ul>\n<p>I hope it'll a little help you)</p>\n"}],"owner":{"account_id":12394064,"reputation":391,"user_id":10875429,"display_name":"Djordje Vuckovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6836,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":58035201,"answer_count":1,"score":7,"last_activity_date":1693257812,"creation_date":1568988584,"question_id":58030004,"body_markdown":"I am starting to learn Spring annotations. I&#39;m currently using the `@PropertySource` annotation in my Configuration Class to resolve properties values and everything works fine, but then I read about `PropertySourcesPlaceholderConfigurer`.\r\n\r\nWhen or why I should use that?","title":"Use of PropertySourcesPlaceholderConfigurer?","body":"<p>I am starting to learn Spring annotations. I'm currently using the <code>@PropertySource</code> annotation in my Configuration Class to resolve properties values and everything works fine, but then I read about <code>PropertySourcesPlaceholderConfigurer</code>.</p>\n\n<p>When or why I should use that?</p>\n"},{"tags":["java","hibernate","jasper-reports"],"answers":[{"comments":[{"owner":{"account_id":4324600,"reputation":1,"user_id":3531759,"display_name":"user3531759"},"score":0,"creation_date":1401886107,"post_id":24037787,"comment_id":37057204,"body_markdown":"Firts link I&#39;ve read, but it didn&#39;t help, maybe because I&#39;m using Spring also, don&#39;t know.\nSecond tell&#39;s about sending result from query with *.jrxml file to compile. That mean&#39;s - query inside template it&#39;s not needed, I&#39;ll try to do it that way.","body":"Firts link I&#39;ve read, but it didn&#39;t help, maybe because I&#39;m using Spring also, don&#39;t know. Second tell&#39;s about sending result from query with *.jrxml file to compile. That mean&#39;s - query inside template it&#39;s not needed, I&#39;ll try to do it that way."},{"owner":{"account_id":4324600,"reputation":1,"user_id":3531759,"display_name":"user3531759"},"score":0,"creation_date":1402299925,"post_id":24037787,"comment_id":37203674,"body_markdown":"Here http://stackoverflow.com/questions/24115722/jasperreports-5-6-0-and-hibernate-4-nosuchfielderror-boolean I&#39;ve described another one problem.","body":"Here <a href=\"http://stackoverflow.com/questions/24115722/jasperreports-5-6-0-and-hibernate-4-nosuchfielderror-boolean\" title=\"jasperreports 5 6 0 and hibernate 4 nosuchfielderror boolean\">stackoverflow.com/questions/24115722/&hellip;</a> I&#39;ve described another one problem."}],"tags":[],"owner":{"account_id":2729582,"reputation":2238,"user_id":2353657,"accept_rate":60,"display_name":"Endrik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401885799,"creation_date":1401885799,"answer_id":24037787,"question_id":24036505,"body_markdown":"To answer you first question, yes it is possible. Please refer to this links for the required configuration needed for the JasperReports-Hibernate integration:\r\n[JasperReports 5.6.0 - Hibernate Sample][1]  and &lt;br&gt;\r\n[Using Hibernate queries in JasperReports][2]\r\n&lt;br&gt; While this last link is shows the specific requirement for Spring: [JasperReports - Spring MVC][3]\r\n&lt;br&gt; Hope these helps.\r\n\r\n\r\n  [1]: http://jasperreports.sourceforge.net/sample.reference/hibernate/\r\n  [2]: http://www.javalobby.org/articles/hibernatequery103/\r\n  [3]: http://keytotechnologies.blogspot.com/2013/02/jasper-report-spring-hibernate-example.html","title":"Using Hibernate connection with JasperReports","body":"<p>To answer you first question, yes it is possible. Please refer to this links for the required configuration needed for the JasperReports-Hibernate integration:\n<a href=\"http://jasperreports.sourceforge.net/sample.reference/hibernate/\" rel=\"nofollow\">JasperReports 5.6.0 - Hibernate Sample</a>  and <br>\n<a href=\"http://www.javalobby.org/articles/hibernatequery103/\" rel=\"nofollow\">Using Hibernate queries in JasperReports</a>\n<br> While this last link is shows the specific requirement for Spring: <a href=\"http://keytotechnologies.blogspot.com/2013/02/jasper-report-spring-hibernate-example.html\" rel=\"nofollow\">JasperReports - Spring MVC</a>\n<br> Hope these helps.</p>\n"}],"owner":{"account_id":4324600,"reputation":1,"user_id":3531759,"display_name":"user3531759"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693256745,"creation_date":1401882290,"question_id":24036505,"body_markdown":"I&#39;m making now a new module into a big one web application. I&#39;ve created in *iReport* a report with Hibernate Connection. All Hibernate classes were already made by my teammates, hql query also. So, we can say, I&#39;ve made only &quot;visual&quot; part in designer.\r\n\r\nIn *iReport* all works great, like I wanted. I&#39;m using hibernate.cfg.xml file where session factory is defined.\r\n\r\nMy problem began when I wanted to integrate my *.jrxml file with java web app.\r\nWeb application is made on maven using Spring Framework. So I have additional file applicationContext.xml where hibernate session factory is also defined like in hibernate.cfg.xml.\r\n\r\nThe question is, is it possible to make it&#39;s working, using @autowired on bean from applicationContext.xml?\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;binderSessionFactory&quot;)\r\n    protected SessionFactory sessionFactory;\r\n\r\nIf yes, how could I give this connection so it work&#39;s with my *.jrxml file?\r\n\r\nJava code:\r\n\r\n    OutputStream outputStream = response.getOutputStream();\r\n    \r\n    Map parameters = (Map) model.get(&quot;parameters&quot;);\r\n    \r\n    URL reportTemplate = getClass().getClassLoader().getResource(&quot;pathToFile/file.jrxml&quot;);\r\n    JasperReport jasperReport = JasperCompileManager.compileReport(reportTemplate.getPath());\r\n    jasperPrint = JasperFillManager.fillReport(jasperReport, parameters);\r\n    \r\n    JasperExportManager.exportReportToPdfStream(jasperPrint, outputStream);\r\n\r\nHow should I make a hibernate db connection visible for my report?","title":"Using Hibernate connection with JasperReports","body":"<p>I'm making now a new module into a big one web application. I've created in <em>iReport</em> a report with Hibernate Connection. All Hibernate classes were already made by my teammates, hql query also. So, we can say, I've made only \"visual\" part in designer.</p>\n\n<p>In <em>iReport</em> all works great, like I wanted. I'm using hibernate.cfg.xml file where session factory is defined.</p>\n\n<p>My problem began when I wanted to integrate my *.jrxml file with java web app.\nWeb application is made on maven using Spring Framework. So I have additional file applicationContext.xml where hibernate session factory is also defined like in hibernate.cfg.xml.</p>\n\n<p>The question is, is it possible to make it's working, using @autowired on bean from applicationContext.xml?</p>\n\n<pre><code>@Autowired\n@Qualifier(\"binderSessionFactory\")\nprotected SessionFactory sessionFactory;\n</code></pre>\n\n<p>If yes, how could I give this connection so it work's with my *.jrxml file?</p>\n\n<p>Java code:</p>\n\n<pre><code>OutputStream outputStream = response.getOutputStream();\n\nMap parameters = (Map) model.get(\"parameters\");\n\nURL reportTemplate = getClass().getClassLoader().getResource(\"pathToFile/file.jrxml\");\nJasperReport jasperReport = JasperCompileManager.compileReport(reportTemplate.getPath());\njasperPrint = JasperFillManager.fillReport(jasperReport, parameters);\n\nJasperExportManager.exportReportToPdfStream(jasperPrint, outputStream);\n</code></pre>\n\n<p>How should I make a hibernate db connection visible for my report?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"score":0,"creation_date":1392978933,"post_id":21930969,"comment_id":33221169,"body_markdown":"Con you provide the URL?","body":"Con you provide the URL?"},{"owner":{"account_id":2824883,"reputation":3123,"user_id":2427729,"accept_rate":19,"display_name":"Sitam Jana"},"score":0,"creation_date":1392980120,"post_id":21930969,"comment_id":33222067,"body_markdown":"We can try with any sample download link like : http://release.seleniumhq.org/selenium-ide/2.5.0/selenium-ide-2.5.0.xpi\n\nPlease let me know if you need more info on this.","body":"We can try with any sample download link like : <a href=\"http://release.seleniumhq.org/selenium-ide/2.5.0/selenium-ide-2.5.0.xpi\" rel=\"nofollow noreferrer\">release.seleniumhq.org/selenium-ide/2.5.0/&hellip;</a>  Please let me know if you need more info on this."},{"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"score":0,"creation_date":1392980190,"post_id":21930969,"comment_id":33222123,"body_markdown":"I meant the URL of the web-page that you are trying to control with Selenium","body":"I meant the URL of the web-page that you are trying to control with Selenium"},{"owner":{"account_id":2824883,"reputation":3123,"user_id":2427729,"accept_rate":19,"display_name":"Sitam Jana"},"score":0,"creation_date":1392982023,"post_id":21930969,"comment_id":33223451,"body_markdown":"Sorry! Barak. I can&#39;t provide the actual link because of security reasons. But yes, the link I provided earlier is very similar to that.","body":"Sorry! Barak. I can&#39;t provide the actual link because of security reasons. But yes, the link I provided earlier is very similar to that."}],"answers":[{"tags":[],"owner":{"account_id":1916486,"reputation":1268,"user_id":1728973,"display_name":"Algiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392993591,"creation_date":1392993591,"answer_id":21937373,"question_id":21930969,"body_markdown":"Not a direct answer to your question but I hope it will help.\r\n\r\nPool the file on your hard drive (compute a MD5 of it). Once it is correct, you can go further with your test. Fail your tets if the file is not correct after a timeout.","title":"How to wait for download to finish using Webdriver","body":"<p>Not a direct answer to your question but I hope it will help.</p>\n\n<p>Pool the file on your hard drive (compute a MD5 of it). Once it is correct, you can go further with your test. Fail your tets if the file is not correct after a timeout.</p>\n"},{"tags":[],"owner":{"account_id":3175170,"reputation":667,"user_id":2683225,"display_name":"Ben"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1393027617,"creation_date":1393027617,"answer_id":21947680,"question_id":21930969,"body_markdown":"For small files, I currently either use an implied wait or wait for the JS callback that my file has downloaded before moving on. The code below was posted on SO by another individual, I can&#39;t find the post right away, so I won&#39;t take credit for it. \r\n\r\npublic static void WaitForPageToLoad(IWebDriver driver)\r\n        {\r\n            TimeSpan timeout = new TimeSpan(0, 0, 2400);\r\n            WebDriverWait wait = new WebDriverWait(driver, timeout);\r\n\r\n            IJavaScriptExecutor javascript = driver as IJavaScriptExecutor;\r\n            if (javascript == null)\r\n                throw new ArgumentException(&quot;driver&quot;, &quot;Driver must support javascript execution&quot;);\r\n\r\n            wait.Until((d) =&gt;\r\n            {\r\n                try\r\n                {\r\n                    string readyState = javascript.ExecuteScript(&quot;if (document.readyState) return document.readyState;&quot;).ToString();\r\n                    return readyState.ToLower() == &quot;complete&quot;;\r\n                }\r\n                catch (InvalidOperationException e)\r\n                {\r\n                    //Window is no longer available\r\n                    return e.Message.ToLower().Contains(&quot;unable to get browser&quot;);\r\n                }\r\n                catch (WebDriverException e)\r\n                {\r\n                    //Browser is no longer available\r\n                    return e.Message.ToLower().Contains(&quot;unable to connect&quot;);\r\n                }\r\n                catch (Exception)\r\n                {\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n\r\nIt should wait for your file to finish if it is small. Unfortunately, I haven&#39;t tested this on larger files ( &gt; 5MB )","title":"How to wait for download to finish using Webdriver","body":"<p>For small files, I currently either use an implied wait or wait for the JS callback that my file has downloaded before moving on. The code below was posted on SO by another individual, I can't find the post right away, so I won't take credit for it. </p>\n\n<p>public static void WaitForPageToLoad(IWebDriver driver)\n        {\n            TimeSpan timeout = new TimeSpan(0, 0, 2400);\n            WebDriverWait wait = new WebDriverWait(driver, timeout);</p>\n\n<pre><code>        IJavaScriptExecutor javascript = driver as IJavaScriptExecutor;\n        if (javascript == null)\n            throw new ArgumentException(\"driver\", \"Driver must support javascript execution\");\n\n        wait.Until((d) =&gt;\n        {\n            try\n            {\n                string readyState = javascript.ExecuteScript(\"if (document.readyState) return document.readyState;\").ToString();\n                return readyState.ToLower() == \"complete\";\n            }\n            catch (InvalidOperationException e)\n            {\n                //Window is no longer available\n                return e.Message.ToLower().Contains(\"unable to get browser\");\n            }\n            catch (WebDriverException e)\n            {\n                //Browser is no longer available\n                return e.Message.ToLower().Contains(\"unable to connect\");\n            }\n            catch (Exception)\n            {\n                return false;\n            }\n        });\n    }\n</code></pre>\n\n<p>It should wait for your file to finish if it is small. Unfortunately, I haven't tested this on larger files ( > 5MB )</p>\n"},{"tags":[],"owner":{"account_id":73667,"reputation":985,"user_id":212023,"accept_rate":71,"display_name":"Ben George"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453081028,"creation_date":1453081028,"answer_id":34846007,"question_id":21930969,"body_markdown":"Poll the configured download directory for absence of partial file.\r\n\r\nExample code for Chrome below:\r\n\r\n        File destinationDir = new File(&quot;blah&quot;);\r\n\r\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n        prefs.put(&quot;download.default_directory&quot;, destinationDir.getAbsolutePath());\r\n\r\n        DesiredCapabilities desiredCapabilities = DesiredCapabilities.chrome();\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n        desiredCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\n        WebDriver webDriver = new ChromeDriver(desiredCapabilities);\r\n        // Initiate download...\r\n\r\n        do {\r\n            Thread.sleep(5000L);\r\n        } while(!org.apache.commons.io.FileUtils.listFiles(destinationDir, new String[]{&quot;crdownload&quot;}, false).isEmpty());","title":"How to wait for download to finish using Webdriver","body":"<p>Poll the configured download directory for absence of partial file.</p>\n\n<p>Example code for Chrome below:</p>\n\n<pre><code>    File destinationDir = new File(\"blah\");\n\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\n    prefs.put(\"download.default_directory\", destinationDir.getAbsolutePath());\n\n    DesiredCapabilities desiredCapabilities = DesiredCapabilities.chrome();\n\n    ChromeOptions options = new ChromeOptions();\n    options.setExperimentalOption(\"prefs\", prefs);\n    desiredCapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n\n    WebDriver webDriver = new ChromeDriver(desiredCapabilities);\n    // Initiate download...\n\n    do {\n        Thread.sleep(5000L);\n    } while(!org.apache.commons.io.FileUtils.listFiles(destinationDir, new String[]{\"crdownload\"}, false).isEmpty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8673368,"reputation":408,"user_id":6491515,"display_name":"Leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505373700,"creation_date":1505373700,"answer_id":46212898,"question_id":21930969,"body_markdown":"As answered on https://stackoverflow.com/questions/22714112/wait-for-download-to-finish-in-selenium-webdriver-java/46212629#46212629\r\n\r\n\r\n  \r\n\r\n      private void waitForFileDownload(int totalTimeoutInMillis, String expectedFileName) throws IOException {  \r\n                FluentWait&lt;WebDriver&gt; wait = new FluentWait(this.funcDriver.driver)\r\n                                       .withTimeout(totalTimeoutInMillis, TimeUnit.MILLISECONDS)\r\n                                       .pollingEvery(200, TimeUnit.MILLISECONDS);\r\n                File fileToCheck = getDownloadsDirectory()\r\n                                   .resolve(expectedFileName)\r\n                                   .toFile();\r\n        \r\n                wait.until((WebDriver wd) -&gt; fileToCheck.exists());\r\n        \r\n            }\r\n\r\n\r\n    public synchronized Path getDownloadsDirectory(){\r\n            if(downloadsDirectory == null){\r\n                \r\n                try {\r\n                    downloadsDirectory = Files.createTempDirectory(&quot;selleniumdownloads_&quot;);\r\n                } catch (IOException ex) {\r\n                    throw new RuntimeException(&quot;Failed to create temporary downloads directory&quot;);\r\n                }\r\n            }\r\n            return downloadsDirectory;\r\n        }\r\n\r\nThen you can use a library like [this][1] to do the actual file handling to see the file is stored correctly (that could mean comparing file size, Md5 hashes or even checking the content of the file which Tika can actually do as well).\r\n\r\n    public void fileChecker(){\r\n            waitForFileDownload(20000,&quot;filename_here&quot;);\r\n            \r\n            File file = downloadsDirectory.resolve(expectedFileName).toFile();\r\n    \r\n            AutoDetectParser parser = new AutoDetectParser();\r\n            parser.setParsers(new HashMap&lt;MediaType, Parser&gt;());\r\n    \r\n            Metadata metadata = new Metadata();\r\n            metadata.add(TikaMetadataKeys.RESOURCE_NAME_KEY, file.getName());\r\n    \r\n            try (InputStream stream = new FileInputStream(file)) {\r\n                parser.parse(stream, (ContentHandler) new DefaultHandler(), metadata, new ParseContext());\r\n            }\r\n    \r\n            String actualHash = metadata.get(HttpHeaders.CONTENT_MD5); \r\n            assertTrue(&quot;There was a hash mismatch for file xyz:&quot;,actualHash.equals(&quot;expectedHash&quot;));\r\n        }\r\n\r\n    \r\n  [1]: https://tika.apache.org/","title":"How to wait for download to finish using Webdriver","body":"<p>As answered on <a href=\"https://stackoverflow.com/questions/22714112/wait-for-download-to-finish-in-selenium-webdriver-java/46212629#46212629\">Wait for Download to finish in selenium webdriver JAVA</a></p>\n\n<pre><code>  private void waitForFileDownload(int totalTimeoutInMillis, String expectedFileName) throws IOException {  \n            FluentWait&lt;WebDriver&gt; wait = new FluentWait(this.funcDriver.driver)\n                                   .withTimeout(totalTimeoutInMillis, TimeUnit.MILLISECONDS)\n                                   .pollingEvery(200, TimeUnit.MILLISECONDS);\n            File fileToCheck = getDownloadsDirectory()\n                               .resolve(expectedFileName)\n                               .toFile();\n\n            wait.until((WebDriver wd) -&gt; fileToCheck.exists());\n\n        }\n\n\npublic synchronized Path getDownloadsDirectory(){\n        if(downloadsDirectory == null){\n\n            try {\n                downloadsDirectory = Files.createTempDirectory(\"selleniumdownloads_\");\n            } catch (IOException ex) {\n                throw new RuntimeException(\"Failed to create temporary downloads directory\");\n            }\n        }\n        return downloadsDirectory;\n    }\n</code></pre>\n\n<p>Then you can use a library like <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">this</a> to do the actual file handling to see the file is stored correctly (that could mean comparing file size, Md5 hashes or even checking the content of the file which Tika can actually do as well).</p>\n\n<pre><code>public void fileChecker(){\n        waitForFileDownload(20000,\"filename_here\");\n\n        File file = downloadsDirectory.resolve(expectedFileName).toFile();\n\n        AutoDetectParser parser = new AutoDetectParser();\n        parser.setParsers(new HashMap&lt;MediaType, Parser&gt;());\n\n        Metadata metadata = new Metadata();\n        metadata.add(TikaMetadataKeys.RESOURCE_NAME_KEY, file.getName());\n\n        try (InputStream stream = new FileInputStream(file)) {\n            parser.parse(stream, (ContentHandler) new DefaultHandler(), metadata, new ParseContext());\n        }\n\n        String actualHash = metadata.get(HttpHeaders.CONTENT_MD5); \n        assertTrue(\"There was a hash mismatch for file xyz:\",actualHash.equals(\"expectedHash\"));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10594162,"reputation":784,"user_id":7803545,"accept_rate":92,"display_name":"hildogjr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638446483,"creation_date":1638446483,"answer_id":70199064,"question_id":21930969,"body_markdown":"I am your the bellow code in Python + Firefox:\r\n\r\n```python\r\nbrowser.get(&#39;about:downloads&#39;)  #Open the download page.\r\n# WAit all icons change from &quot;X&quot; (cancel download).\r\nWebDriverWait(browser, URL_LOAD_TIMEOUT * 40).until_not(\r\n    EC.presence_of_element_located((By.CLASS_NAME, &#39;downloadIconCancel&#39;)))\r\n```","title":"How to wait for download to finish using Webdriver","body":"<p>I am your the bellow code in Python + Firefox:</p>\n<pre class=\"lang-py prettyprint-override\"><code>browser.get('about:downloads')  #Open the download page.\n# WAit all icons change from &quot;X&quot; (cancel download).\nWebDriverWait(browser, URL_LOAD_TIMEOUT * 40).until_not(\n    EC.presence_of_element_located((By.CLASS_NAME, 'downloadIconCancel')))\n</code></pre>\n"}],"owner":{"account_id":2824883,"reputation":3123,"user_id":2427729,"accept_rate":19,"display_name":"Sitam Jana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8973,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1693256745,"creation_date":1392976623,"question_id":21930969,"body_markdown":"Is there any way to wait for a download to finish in WebDriver?\r\n\r\nBasically, I want to verify that downloaded file getting stored correctly inside hard drive and to verify that, need to wait till download finishes. Please help if anyone aware of such a scenario earlier.","title":"How to wait for download to finish using Webdriver","body":"<p>Is there any way to wait for a download to finish in WebDriver?</p>\n\n<p>Basically, I want to verify that downloaded file getting stored correctly inside hard drive and to verify that, need to wait till download finishes. Please help if anyone aware of such a scenario earlier.</p>\n"},{"tags":["java","cucumber","selenium-extent-report","extent"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1692970196,"post_id":76977340,"comment_id":135701304,"body_markdown":"write the custom javascript within &#39;js&#39; xml tags, similarly css in &#39;css&#39; tags. styles and scripts tags are no longer valid","body":"write the custom javascript within &#39;js&#39; xml tags, similarly css in &#39;css&#39; tags. styles and scripts tags are no longer valid"}],"owner":{"account_id":23962269,"reputation":11,"user_id":17952185,"display_name":"Amey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693256383,"creation_date":1692967672,"question_id":76977340,"body_markdown":"I want to customize extent report for Cucumber.\r\nI am using Java testng cucumber framework.\r\nI want to add pass/failed ticks at the left side of each step/scenario.\r\nCan you please guide me to set the extent configurations?\r\n\r\n\r\n\r\nAdding screenshots below\r\nActual Report screenshot: \r\n\r\n[![Actual Report link][2]][2]\r\n\r\nExpected Report screenshot: \r\n\r\n[![Expected report link][1]][1]\r\n\r\nI have tried below extent.properties configuration\r\n\r\n**my extent.properties file details**\r\n\r\n```\r\nextent.reporter.spark.start=true\r\nextent.reporter.spark.out=Reports_cucumber/Spark.html\r\nextent.reporter.spark.config=spark-config.xml\r\nextent.reporter.pdf.start=true\r\nextent.reporter.pdf.out=Reports_cucumber/Spark.pdf\r\nextent.reporter.bdd.start=true\r\nextent.reporter.bdd.out=test-output/BddReport/\r\nextent.reporter.spark.base64imagesrc=true\r\n#FolderName\r\nbasefolder.name=Reports_cucumber/Report_\r\nbasefolder.datetimepattern=d_MMM_YY HH_mm_ss\r\nscreenshot.dir=/screenshots/\r\nscreenshot.rel.path=../screenshots/\r\n```\r\n\r\nand\r\n\r\n\r\n**extent-config.xml file details**\r\n\r\n```\r\n&lt;extentreports&gt;\r\n  &lt;configuration&gt;\r\n\r\n    &lt;!-- report theme --&gt;\r\n    &lt;!-- STANDARD, DARK --&gt;\r\n    &lt;theme&gt;STANDARD&lt;/theme&gt;\r\n\r\n    &lt;!-- document encoding --&gt;\r\n    &lt;!-- defaults to UTF-8 --&gt;\r\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\r\n    &lt;!-- protocol for script and stylesheets --&gt;\r\n    &lt;!-- defaults to https --&gt;\r\n    &lt;!-- HTTP, HTTPS --&gt;\r\n    &lt;protocol&gt;https&lt;/protocol&gt;\r\n\r\n    &lt;!-- offline report --&gt;\r\n    &lt;timelineEnabled&gt;true&lt;/timelineEnabled&gt;\r\n    \r\n    &lt;!-- offline report --&gt;\r\n    &lt;enableOfflineMode&gt;false&lt;/enableOfflineMode&gt;\r\n    \r\n    &lt;!-- use thumbnails for base64 images --&gt;\r\n    &lt;!-- this may slowdown viewing tests --&gt;\r\n    &lt;thumbnailForBase64&gt;false&lt;/thumbnailForBase64&gt;\r\n\r\n    &lt;!-- title of the document --&gt;\r\n    &lt;documentTitle&gt;eSurety&lt;/documentTitle&gt;\r\n\r\n   &lt;reportName&gt;\r\n\t\t &lt;![CDATA[\r\n               \r\n               &lt;img src=&quot;https://res.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_170,w_170,f_auto,b_white,q_auto:eco,dpr_1/sssvfnewhku9z4tqmovr&quot;  style=&quot;width:50px;height:40px;&quot; ;&gt;\r\n               &lt;font size=&quot;5&quot; &gt;    TEST  RESULTS    &lt;/font&gt;\r\n              \r\n                ]]&gt;\r\n\t\t&lt;/reportName&gt;\r\n\t\t\t\t\r\n    &lt;!-- timestamp format --&gt;\r\n    &lt;timeStampFormat&gt;MMM dd, yyyy HH:mm:ss&lt;/timeStampFormat&gt;\r\n\r\n\r\n        &lt;!-- custom javascript --&gt;\r\n        &lt;scripts&gt;\r\n            &lt;![CDATA[\r\n                $(document).ready(function() {\r\n                    $(&#39;.logo-container.grey darken-2&#39;).css(&#39;display&#39;,&#39;block&#39;);\r\n                });\r\n            ]]&gt;\r\n        &lt;/scripts&gt;\r\n      \r\n    &lt;!-- custom styles --&gt;\r\n     &lt;scripts&gt; &lt;![CDATA[$(document).ready(function() {$(&#39;.dashboard-view&#39;).click();});$(&#39;.col.s12:nth-child(2) .card-panel.nm-v&#39;).hide();$(&#39;.col.s2:nth-child(2)&#39;).hide();$(&#39;.col.s12:nth-child(1)&#39;).css(&#39;width&#39;, &#39;100%&#39;);$(&#39;.row .col.s2&#39;).css(&#39;width&#39;, &#39;25%&#39;);]]&gt; &lt;/scripts&gt;\r\n        \r\n    &lt;styles&gt;\r\n     \r\n    &lt;/styles&gt;\r\n\r\n  &lt;/configuration&gt;\r\n&lt;/extentreports&gt;\r\n\r\n```\r\n\r\n\r\n[1]: https://i.stack.imgur.com/ufykI.png\r\n[2]: https://i.stack.imgur.com/k0qja.png","title":"how to customize extent report for Java TestNG Cucumber","body":"<p>I want to customize extent report for Cucumber.\nI am using Java testng cucumber framework.\nI want to add pass/failed ticks at the left side of each step/scenario.\nCan you please guide me to set the extent configurations?</p>\n<p>Adding screenshots below\nActual Report screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/k0qja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k0qja.png\" alt=\"Actual Report link\" /></a></p>\n<p>Expected Report screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/ufykI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ufykI.png\" alt=\"Expected report link\" /></a></p>\n<p>I have tried below extent.properties configuration</p>\n<p><strong>my extent.properties file details</strong></p>\n<pre><code>extent.reporter.spark.start=true\nextent.reporter.spark.out=Reports_cucumber/Spark.html\nextent.reporter.spark.config=spark-config.xml\nextent.reporter.pdf.start=true\nextent.reporter.pdf.out=Reports_cucumber/Spark.pdf\nextent.reporter.bdd.start=true\nextent.reporter.bdd.out=test-output/BddReport/\nextent.reporter.spark.base64imagesrc=true\n#FolderName\nbasefolder.name=Reports_cucumber/Report_\nbasefolder.datetimepattern=d_MMM_YY HH_mm_ss\nscreenshot.dir=/screenshots/\nscreenshot.rel.path=../screenshots/\n</code></pre>\n<p>and</p>\n<p><strong>extent-config.xml file details</strong></p>\n<pre><code>&lt;extentreports&gt;\n  &lt;configuration&gt;\n\n    &lt;!-- report theme --&gt;\n    &lt;!-- STANDARD, DARK --&gt;\n    &lt;theme&gt;STANDARD&lt;/theme&gt;\n\n    &lt;!-- document encoding --&gt;\n    &lt;!-- defaults to UTF-8 --&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n\n    &lt;!-- protocol for script and stylesheets --&gt;\n    &lt;!-- defaults to https --&gt;\n    &lt;!-- HTTP, HTTPS --&gt;\n    &lt;protocol&gt;https&lt;/protocol&gt;\n\n    &lt;!-- offline report --&gt;\n    &lt;timelineEnabled&gt;true&lt;/timelineEnabled&gt;\n    \n    &lt;!-- offline report --&gt;\n    &lt;enableOfflineMode&gt;false&lt;/enableOfflineMode&gt;\n    \n    &lt;!-- use thumbnails for base64 images --&gt;\n    &lt;!-- this may slowdown viewing tests --&gt;\n    &lt;thumbnailForBase64&gt;false&lt;/thumbnailForBase64&gt;\n\n    &lt;!-- title of the document --&gt;\n    &lt;documentTitle&gt;eSurety&lt;/documentTitle&gt;\n\n   &lt;reportName&gt;\n         &lt;![CDATA[\n               \n               &lt;img src=&quot;https://res.cloudinary.com/crunchbase-production/image/upload/c_lpad,h_170,w_170,f_auto,b_white,q_auto:eco,dpr_1/sssvfnewhku9z4tqmovr&quot;  style=&quot;width:50px;height:40px;&quot; ;&gt;\n               &lt;font size=&quot;5&quot; &gt;    TEST  RESULTS    &lt;/font&gt;\n              \n                ]]&gt;\n        &lt;/reportName&gt;\n                \n    &lt;!-- timestamp format --&gt;\n    &lt;timeStampFormat&gt;MMM dd, yyyy HH:mm:ss&lt;/timeStampFormat&gt;\n\n\n        &lt;!-- custom javascript --&gt;\n        &lt;scripts&gt;\n            &lt;![CDATA[\n                $(document).ready(function() {\n                    $('.logo-container.grey darken-2').css('display','block');\n                });\n            ]]&gt;\n        &lt;/scripts&gt;\n      \n    &lt;!-- custom styles --&gt;\n     &lt;scripts&gt; &lt;![CDATA[$(document).ready(function() {$('.dashboard-view').click();});$('.col.s12:nth-child(2) .card-panel.nm-v').hide();$('.col.s2:nth-child(2)').hide();$('.col.s12:nth-child(1)').css('width', '100%');$('.row .col.s2').css('width', '25%');]]&gt; &lt;/scripts&gt;\n        \n    &lt;styles&gt;\n     \n    &lt;/styles&gt;\n\n  &lt;/configuration&gt;\n&lt;/extentreports&gt;\n\n</code></pre>\n"},{"tags":["java","json","spring-boot","jsonpath","jsonparser"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1693220617,"post_id":76990844,"comment_id":135726936,"body_markdown":"Data3 appears to be an array - are you adding the date to every element of the array?  What JSON library are you using?","body":"Data3 appears to be an array - are you adding the date to every element of the array?  What JSON library are you using?"},{"owner":{"account_id":29312437,"reputation":21,"user_id":22457878,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693224547,"post_id":76990844,"comment_id":135727705,"body_markdown":"hi , data3 will not contain array , just key value pair data, Its possible using jsonpath?","body":"hi , data3 will not contain array , just key value pair data, Its possible using jsonpath?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1693225211,"post_id":76990844,"comment_id":135727829,"body_markdown":"Your provided JSON indicates that the key &quot;Data3&quot; maps to an array (indicated by the square braces`[]`).  I&#39;m not familiar with JsonPath.  Baeldung has an intro article for it - see https://www.baeldung.com/guide-to-jayway-jsonpath","body":"Your provided JSON indicates that the key &quot;Data3&quot; maps to an array (indicated by the square braces<code>[]</code>).  I&#39;m not familiar with JsonPath.  Baeldung has an intro article for it - see <a href=\"https://www.baeldung.com/guide-to-jayway-jsonpath\" rel=\"nofollow noreferrer\">baeldung.com/guide-to-jayway-jsonpath</a>"},{"owner":{"account_id":29312437,"reputation":21,"user_id":22457878,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1693227099,"post_id":76990844,"comment_id":135728271,"body_markdown":"let me check, sorry my bad , data3 conatin array, yes i will add every element of the array","body":"let me check, sorry my bad , data3 conatin array, yes i will add every element of the array"},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1693258692,"post_id":76990844,"comment_id":135734369,"body_markdown":"JSON Path is a query syntax.  It _retrieves_ nodes; it doesn&#39;t edit data.  If you want to edit data, JSON Path is the wrong tool.","body":"JSON Path is a query syntax.  It <i>retrieves</i> nodes; it doesn&#39;t edit data.  If you want to edit data, JSON Path is the wrong tool."}],"answers":[{"comments":[{"owner":{"account_id":29312437,"reputation":21,"user_id":22457878,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1693224585,"post_id":76992047,"comment_id":135727713,"body_markdown":"is it possible using json path? beacues I have path , which is coming as input","body":"is it possible using json path? beacues I have path , which is coming as input"},{"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"score":0,"creation_date":1693279033,"post_id":76992047,"comment_id":135736296,"body_markdown":"I an afraid i have never seen the same function API in Json Path.","body":"I an afraid i have never seen the same function API in Json Path."},{"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"score":0,"creation_date":1693279055,"post_id":76992047,"comment_id":135736300,"body_markdown":"If you don&#39;t want to add the dependency.   I hava two other method , one is use the String.replace() method to do it, the other one is convert the json String to a nested Map , and add the thing you want to added in the Map structure, and then convert it back to a new Json String","body":"If you don&#39;t want to add the dependency.   I hava two other method , one is use the String.replace() method to do it, the other one is convert the json String to a nested Map , and add the thing you want to added in the Map structure, and then convert it back to a new Json String"}],"tags":[],"owner":{"account_id":19900384,"reputation":81,"user_id":14580500,"display_name":"ash"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693218910,"creation_date":1693218910,"answer_id":76992047,"question_id":76990844,"body_markdown":"I have use the dependency named Fastjson, and found it easy to implementd it.\\\r\nFollow is my code.\r\n\r\n        public static void main(String[] args) {\r\n    //1.generate the json string from a object by fastjson\r\n                String s = JSON.toJSONString(new Person());\r\n                System.out.println(&quot;s = &quot; + s);\r\n    //2.fastjson transfer the jsonStr to a JSONObject\r\n                JSONObject jsonObject = JSONObject.parseObject(s);\r\n    //3. use the JSONObject to add a field named field1 and the value is 111\r\n                JSONObject address = jsonObject.getJSONObject(&quot;address&quot;);\r\n                address.put(&quot;field1&quot;, 111);\r\n    \r\n                System.out.println(&quot;jsonObject = &quot; + jsonObject);\r\n    \r\n            }\r\n\r\nThe output is:\r\n\r\n    s = {&quot;address&quot;:{&quot;city&quot;:&quot;2&quot;,&quot;province&quot;:&quot;1&quot;},&quot;age&quot;:18,&quot;gender&quot;:&quot;man&quot;,&quot;name&quot;:&quot;zhangsan&quot;}\r\n    jsonObject = {&quot;address&quot;:{&quot;field1&quot;:111,&quot;province&quot;:&quot;1&quot;,&quot;city&quot;:&quot;2&quot;},&quot;gender&quot;:&quot;man&quot;,&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:18}\r\n\r\nIf you want to use this ,you can add this in your maven files.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n       &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n       &lt;version&gt;2.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to add data in existing json object in java using Jsonpath","body":"<p>I have use the dependency named Fastjson, and found it easy to implementd it.<br />\nFollow is my code.</p>\n<pre><code>    public static void main(String[] args) {\n//1.generate the json string from a object by fastjson\n            String s = JSON.toJSONString(new Person());\n            System.out.println(&quot;s = &quot; + s);\n//2.fastjson transfer the jsonStr to a JSONObject\n            JSONObject jsonObject = JSONObject.parseObject(s);\n//3. use the JSONObject to add a field named field1 and the value is 111\n            JSONObject address = jsonObject.getJSONObject(&quot;address&quot;);\n            address.put(&quot;field1&quot;, 111);\n\n            System.out.println(&quot;jsonObject = &quot; + jsonObject);\n\n        }\n</code></pre>\n<p>The output is:</p>\n<pre><code>s = {&quot;address&quot;:{&quot;city&quot;:&quot;2&quot;,&quot;province&quot;:&quot;1&quot;},&quot;age&quot;:18,&quot;gender&quot;:&quot;man&quot;,&quot;name&quot;:&quot;zhangsan&quot;}\njsonObject = {&quot;address&quot;:{&quot;field1&quot;:111,&quot;province&quot;:&quot;1&quot;,&quot;city&quot;:&quot;2&quot;},&quot;gender&quot;:&quot;man&quot;,&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:18}\n</code></pre>\n<p>If you want to use this ,you can add this in your maven files.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n   &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n   &lt;version&gt;2.0.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":29312437,"reputation":21,"user_id":22457878,"display_name":"Abhijit Sarkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1693256309,"creation_date":1693208409,"question_id":76990844,"body_markdown":"below is json string :\r\n\r\n     {\r\n      &quot;Data1&quot;: &quot;&quot;,\r\n      &quot;Data2&quot;: {\r\n        &quot;id&quot;: 1234\r\n      },\r\n      &quot;Data3&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;id2&quot;,\r\n          &quot;price&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;id3&quot;\r\n            }\r\n          ],\r\n          &quot;account&quot;: {\r\n            &quot;id&quot;: &quot;%s&quot;\r\n          },\r\n          &quot;product&quot;: {\r\n            &quot;extension&quot;: {\r\n              &quot;sub&quot;: &quot;R&quot;\r\n            }\r\n          },\r\n          &quot;reason&quot;: [\r\n            {\r\n              &quot;extension&quot;: {}\r\n            }\r\n          ],\r\n          &quot;produracteristic&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;gt&quot;,\r\n              &quot;value&quot;: &quot;none&quot;\r\n            }\r\n          ],\r\n          &quot;extension&quot;: {\r\n    \r\n           }\r\n        }\r\n      ],\r\n    \r\n     &quot;Data4&quot;:[\r\n        ....\r\n      }\r\n    }\r\n\r\n\r\n\r\nI want to add data under json payload.Data3.extension\r\n want to add   date:28-08-2023,\r\n  so it will be ,\r\n \r\n\r\n      &quot;extension&quot;: {\r\n     date:28-08-2023\r\n            }\r\n\r\nI have tried using java but that was only working for add element in json array. but in my case I am not adding in array . I am adding it to an object under array.  Please help me on this\r\n\r\n    JsonPath pathToArray = JsonPath.compile(&quot;$.data3.extension&quot;);\r\n    documentContext.add(pathToArray, Collections.singletonMap(&quot;date&quot;, &quot;28-08-2023&quot;));\r\n\r\n\r\n\r\n","title":"How to add data in existing json object in java using Jsonpath","body":"<p>below is json string :</p>\n<pre><code> {\n  &quot;Data1&quot;: &quot;&quot;,\n  &quot;Data2&quot;: {\n    &quot;id&quot;: 1234\n  },\n  &quot;Data3&quot;: [\n    {\n      &quot;id&quot;: &quot;id2&quot;,\n      &quot;price&quot;: [\n        {\n          &quot;id&quot;: &quot;id3&quot;\n        }\n      ],\n      &quot;account&quot;: {\n        &quot;id&quot;: &quot;%s&quot;\n      },\n      &quot;product&quot;: {\n        &quot;extension&quot;: {\n          &quot;sub&quot;: &quot;R&quot;\n        }\n      },\n      &quot;reason&quot;: [\n        {\n          &quot;extension&quot;: {}\n        }\n      ],\n      &quot;produracteristic&quot;: [\n        {\n          &quot;name&quot;: &quot;gt&quot;,\n          &quot;value&quot;: &quot;none&quot;\n        }\n      ],\n      &quot;extension&quot;: {\n\n       }\n    }\n  ],\n\n &quot;Data4&quot;:[\n    ....\n  }\n}\n</code></pre>\n<p>I want to add data under json payload.Data3.extension\nwant to add   date:28-08-2023,\nso it will be ,</p>\n<pre><code>  &quot;extension&quot;: {\n date:28-08-2023\n        }\n</code></pre>\n<p>I have tried using java but that was only working for add element in json array. but in my case I am not adding in array . I am adding it to an object under array.  Please help me on this</p>\n<pre><code>JsonPath pathToArray = JsonPath.compile(&quot;$.data3.extension&quot;);\ndocumentContext.add(pathToArray, Collections.singletonMap(&quot;date&quot;, &quot;28-08-2023&quot;));\n</code></pre>\n"},{"tags":["java","authentication","spring-security"],"answers":[{"comments":[{"owner":{"account_id":27732852,"reputation":1,"user_id":21171025,"display_name":"VISHAL ANAND"},"score":1,"creation_date":1676008743,"post_id":75386487,"comment_id":133054403,"body_markdown":"Can you guide me to a working example of Spring Boot 3 + Saml2 code implementation?","body":"Can you guide me to a working example of Spring Boot 3 + Saml2 code implementation?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1676119232,"post_id":75386487,"comment_id":133075908,"body_markdown":"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/saml2","body":"<a href=\"https://github.com/spring-projects/spring-security-samples/tree/main/servlet/spring-boot/java/saml2\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security-samples/tree/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":13669941,"reputation":154,"user_id":9862830,"display_name":"Sathya Narayan C"},"score":0,"creation_date":1692755691,"post_id":75386487,"comment_id":135666524,"body_markdown":"@VISHALANAND Are you managed to implement SAML in spring 3 ?","body":"@VISHALANAND Are you managed to implement SAML in spring 3 ?"},{"owner":{"account_id":8792043,"reputation":460,"user_id":6571471,"accept_rate":38,"display_name":"manjosh"},"score":0,"creation_date":1694165799,"post_id":75386487,"comment_id":135858602,"body_markdown":"Has anyone implemented it for KeyCloak SAML, any references would be appreciated.","body":"Has anyone implemented it for KeyCloak SAML, any references would be appreciated."}],"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675862919,"creation_date":1675862919,"answer_id":75386487,"question_id":75383326,"body_markdown":"It seems that you are using the old Spring Security SAML Extension project. This project reached its [end of life][1] on October 6th, 2021, therefore it won&#39;t support Spring 6 which was released in November 2022.\r\n\r\nThe SAML support has been moved into Spring Security, you can refer to [this documentation][2] in order to get started.\r\n\r\n\r\n  [1]: https://github.com/spring-attic/spring-security-saml#maintenance-mode\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/saml2/index.html","title":"Spring 3 SAMLProcessingFilter authenticationManager must be specified","body":"<p>It seems that you are using the old Spring Security SAML Extension project. This project reached its <a href=\"https://github.com/spring-attic/spring-security-saml#maintenance-mode\" rel=\"nofollow noreferrer\">end of life</a> on October 6th, 2021, therefore it won't support Spring 6 which was released in November 2022.</p>\n<p>The SAML support has been moved into Spring Security, you can refer to <a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/index.html\" rel=\"nofollow noreferrer\">this documentation</a> in order to get started.</p>\n"}],"owner":{"account_id":27732852,"reputation":1,"user_id":21171025,"display_name":"VISHAL ANAND"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693256219,"creation_date":1675846595,"question_id":75383326,"body_markdown":"I want to create a new application with spring boot version 3 and Java 17 with SAML2 token authentication. While writting SecurityConfig class, since it cannot extends WebSecurityConfigurerAdapter class in Spring 3, I do not know how to supply authenticationManager in SAMLProcessingFilter to supply in FilterChainProxy. My SecurityConfig class is below code line:\r\n\r\nsamlWebSSOProcessingFilter.setAuthenticationManager(???);\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n\r\n\t@Value(&quot;${saml.sp}&quot;)\r\n    private String samlAudience;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;saml&quot;)\r\n    private SavedRequestAwareAuthenticationSuccessHandler samlAuthSuccessHandler;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;saml&quot;)\r\n    private SimpleUrlAuthenticationFailureHandler samlAuthFailureHandler;\r\n\r\n    @Autowired\r\n    private SAMLEntryPoint samlEntryPoint;\r\n\r\n    @Autowired\r\n    private SAMLLogoutFilter samlLogoutFilter;\r\n\r\n    @Autowired\r\n    private SAMLLogoutProcessingFilter samlLogoutProcessingFilter;\r\n\r\n    @Autowired\r\n    private HttpSecurity httpSecurity;\r\n\r\n    @Bean\r\n    public SAMLDiscovery samlDiscovery() {\r\n        SAMLDiscovery idpDiscovery = new SAMLDiscovery();\r\n        return idpDiscovery;\r\n    }\r\n\r\n    @Autowired\r\n    private SAMLAuthenticationProvider samlAuthenticationProvider;\r\n\r\n    @Autowired\r\n    private ExtendedMetadata extendedMetadata;\r\n\r\n    @Autowired\r\n    private KeyManager keyManager;\r\n\r\n    public MetadataGenerator metadataGenerator() {\r\n        MetadataGenerator metadataGenerator = new MetadataGenerator();\r\n        metadataGenerator.setEntityId(samlAudience);\r\n        metadataGenerator.setExtendedMetadata(extendedMetadata);\r\n        metadataGenerator.setIncludeDiscoveryExtension(false);\r\n        metadataGenerator.setKeyManager(keyManager);\r\n        return metadataGenerator;\r\n    }\r\n\r\n    @Bean\r\n    public SAMLProcessingFilter samlWebSSOProcessingFilter(HttpSecurity http) throws Exception {\r\n        SAMLProcessingFilter samlWebSSOProcessingFilter = new SAMLProcessingFilter();\r\n        //AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n        //**What should I give in below line**\r\n        samlWebSSOProcessingFilter.setAuthenticationManager(authenticationManager());\r\n        samlWebSSOProcessingFilter.setAuthenticationSuccessHandler(samlAuthSuccessHandler);\r\n        samlWebSSOProcessingFilter.setAuthenticationFailureHandler(samlAuthFailureHandler);\r\n        return samlWebSSOProcessingFilter;\r\n    }\r\n\r\n    @Bean\r\n    public FilterChainProxy samlFilter(HttpSecurity http) throws Exception {\r\n        List&lt;SecurityFilterChain&gt; chains = new ArrayList&lt;&gt;();\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/SSO/**&quot;),\r\n            samlWebSSOProcessingFilter(http)));\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/discovery/**&quot;),\r\n            samlDiscovery()));\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/login/**&quot;),\r\n            samlEntryPoint));\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/logout/**&quot;),\r\n            samlLogoutFilter));\r\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/SingleLogout/**&quot;),\r\n            samlLogoutProcessingFilter));\r\n        return new FilterChainProxy(chains);\r\n    }\r\n\r\n    @Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n\t\treturn authConfig.getAuthenticationManager();\r\n\t}\r\n\r\n    @Bean\r\n    public MetadataGeneratorFilter metadataGeneratorFilter() {\r\n        return new MetadataGeneratorFilter(metadataGenerator());\r\n    }\r\n\r\n    //@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n        .csrf()\r\n        .disable();\r\n\r\n        http\r\n        .httpBasic()\r\n        .authenticationEntryPoint(samlEntryPoint);\r\n\r\n        http\r\n        .addFilterBefore(metadataGeneratorFilter(), ChannelProcessingFilter.class)\r\n        .addFilterAfter(samlFilter(http), BasicAuthenticationFilter.class)\r\n        .addFilterBefore(samlFilter(http), CsrfFilter.class);\r\n\r\n        http\r\n        .authorizeRequests()\r\n        .requestMatchers(&quot;/&quot;).permitAll()\r\n        .anyRequest().authenticated();\r\n\r\n        http\r\n        .logout()\r\n        .addLogoutHandler((request, response, authentication) -&gt; {\r\n            try {\r\n                response.sendRedirect(&quot;/saml/logout&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Bean\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(samlAuthenticationProvider);\r\n    }\r\n}\r\n```\r\n","title":"Spring 3 SAMLProcessingFilter authenticationManager must be specified","body":"<p>I want to create a new application with spring boot version 3 and Java 17 with SAML2 token authentication. While writting SecurityConfig class, since it cannot extends WebSecurityConfigurerAdapter class in Spring 3, I do not know how to supply authenticationManager in SAMLProcessingFilter to supply in FilterChainProxy. My SecurityConfig class is below code line:</p>\n<p>samlWebSSOProcessingFilter.setAuthenticationManager(???);</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    @Value(&quot;${saml.sp}&quot;)\n    private String samlAudience;\n\n    @Autowired\n    @Qualifier(&quot;saml&quot;)\n    private SavedRequestAwareAuthenticationSuccessHandler samlAuthSuccessHandler;\n\n    @Autowired\n    @Qualifier(&quot;saml&quot;)\n    private SimpleUrlAuthenticationFailureHandler samlAuthFailureHandler;\n\n    @Autowired\n    private SAMLEntryPoint samlEntryPoint;\n\n    @Autowired\n    private SAMLLogoutFilter samlLogoutFilter;\n\n    @Autowired\n    private SAMLLogoutProcessingFilter samlLogoutProcessingFilter;\n\n    @Autowired\n    private HttpSecurity httpSecurity;\n\n    @Bean\n    public SAMLDiscovery samlDiscovery() {\n        SAMLDiscovery idpDiscovery = new SAMLDiscovery();\n        return idpDiscovery;\n    }\n\n    @Autowired\n    private SAMLAuthenticationProvider samlAuthenticationProvider;\n\n    @Autowired\n    private ExtendedMetadata extendedMetadata;\n\n    @Autowired\n    private KeyManager keyManager;\n\n    public MetadataGenerator metadataGenerator() {\n        MetadataGenerator metadataGenerator = new MetadataGenerator();\n        metadataGenerator.setEntityId(samlAudience);\n        metadataGenerator.setExtendedMetadata(extendedMetadata);\n        metadataGenerator.setIncludeDiscoveryExtension(false);\n        metadataGenerator.setKeyManager(keyManager);\n        return metadataGenerator;\n    }\n\n    @Bean\n    public SAMLProcessingFilter samlWebSSOProcessingFilter(HttpSecurity http) throws Exception {\n        SAMLProcessingFilter samlWebSSOProcessingFilter = new SAMLProcessingFilter();\n        //AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n        //**What should I give in below line**\n        samlWebSSOProcessingFilter.setAuthenticationManager(authenticationManager());\n        samlWebSSOProcessingFilter.setAuthenticationSuccessHandler(samlAuthSuccessHandler);\n        samlWebSSOProcessingFilter.setAuthenticationFailureHandler(samlAuthFailureHandler);\n        return samlWebSSOProcessingFilter;\n    }\n\n    @Bean\n    public FilterChainProxy samlFilter(HttpSecurity http) throws Exception {\n        List&lt;SecurityFilterChain&gt; chains = new ArrayList&lt;&gt;();\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/SSO/**&quot;),\n            samlWebSSOProcessingFilter(http)));\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/discovery/**&quot;),\n            samlDiscovery()));\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/login/**&quot;),\n            samlEntryPoint));\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/logout/**&quot;),\n            samlLogoutFilter));\n        chains.add(new DefaultSecurityFilterChain(new AntPathRequestMatcher(&quot;/saml/SingleLogout/**&quot;),\n            samlLogoutProcessingFilter));\n        return new FilterChainProxy(chains);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public MetadataGeneratorFilter metadataGeneratorFilter() {\n        return new MetadataGeneratorFilter(metadataGenerator());\n    }\n\n    //@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n        .csrf()\n        .disable();\n\n        http\n        .httpBasic()\n        .authenticationEntryPoint(samlEntryPoint);\n\n        http\n        .addFilterBefore(metadataGeneratorFilter(), ChannelProcessingFilter.class)\n        .addFilterAfter(samlFilter(http), BasicAuthenticationFilter.class)\n        .addFilterBefore(samlFilter(http), CsrfFilter.class);\n\n        http\n        .authorizeRequests()\n        .requestMatchers(&quot;/&quot;).permitAll()\n        .anyRequest().authenticated();\n\n        http\n        .logout()\n        .addLogoutHandler((request, response, authentication) -&gt; {\n            try {\n                response.sendRedirect(&quot;/saml/logout&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    @Bean\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(samlAuthenticationProvider);\n    }\n}\n</code></pre>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":29261891,"reputation":11,"user_id":22418684,"display_name":"Itzik Stauber"},"score":0,"creation_date":1692598239,"post_id":76939843,"comment_id":135639697,"body_markdown":"Thanks @KJ! The idea of exporting from HTML sounds interesting.\nFrom your experience - would it make sense to try working with itext canvas API - something like: showTextAligned which seem to support exact X location (which we will have to calculate)\nhttps://api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/text/pdf/ColumnText.html#showTextAligned-com.itextpdf.text.pdf.PdfContentByte-int-com.itextpdf.text.Phrase-float-float-float-","body":"Thanks @KJ! The idea of exporting from HTML sounds interesting. From your experience - would it make sense to try working with itext canvas API - something like: showTextAligned which seem to support exact X location (which we will have to calculate) <a href=\"https://api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/text/pdf/ColumnText.html#showTextAligned-com.itextpdf.text.pdf.PdfContentByte-int-com.itextpdf.text.Phrase-float-float-float-\" rel=\"nofollow noreferrer\">api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/text/pdf/&hellip;</a>"},{"owner":{"account_id":29261891,"reputation":11,"user_id":22418684,"display_name":"Itzik Stauber"},"score":1,"creation_date":1692688254,"post_id":76939843,"comment_id":135654170,"body_markdown":"thanks @KJ, your inputs are very appreciated.\nIndeed version 8 seems to solve our problem, at least partially.\n&#39;should&#39; is the keyword here.... As always, the devil is in the details :-)","body":"thanks @KJ, your inputs are very appreciated. Indeed version 8 seems to solve our problem, at least partially. &#39;should&#39; is the keyword here.... As always, the devil is in the details :-)"}],"owner":{"account_id":29261891,"reputation":11,"user_id":22418684,"display_name":"Itzik Stauber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693256092,"creation_date":1692541300,"question_id":76939843,"body_markdown":"I&#39;m trying to generate a PDF containing a grid of letters, where each letter is centered in its cell in the grid (both vertically and horizontally), see attached PDF samples\r\nThis works well when the font size I&#39;m using is relatively small (44 in the attached sample) but fails for larger fonts (94 in the attached sample).\r\n- When specifying a minimum width for the cell, the characters are horizontally shifted wrt the cell center (except for the &#39;I&#39; and &#39;J&#39; which still fit the cell width, note that the shift varies between letters, most notably &#39;A&#39; and &#39;B&#39;). see image below\r\n- When the minimum width is not specified, the characters are centered wrt the cell, but these in turn are wider, causing only part of the row to be displayed. see image below\r\n\r\ncode:\r\n\r\n```java\r\nimport java.io.FileOutputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.itextpdf.kernel.colors.DeviceGray;\r\nimport com.itextpdf.kernel.colors.DeviceRgb;\r\nimport com.itextpdf.kernel.geom.PageSize;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.borders.Border;\r\nimport com.itextpdf.layout.borders.SolidBorder;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.property.HorizontalAlignment;\r\nimport com.itextpdf.layout.property.OverflowPropertyValue;\r\nimport com.itextpdf.layout.property.Property;\r\nimport com.itextpdf.layout.property.TextAlignment;\r\nimport com.itextpdf.layout.property.VerticalAlignment;\r\n\r\npublic class PDFWriterTest {\r\n\tpublic static final int DPI = 72;\r\n\tpublic static final float PAGE_WIDTH = 19.685f;\r\n\tpublic static final float PAGE_HEIGHT = 25.5906f;\r\n\tpublic static final float MARGIN = 1.1811f;\r\n\tpublic static final float MATRIX_WIDTH = 72 * (PAGE_WIDTH - 2 * MARGIN);\r\n\tpublic static final float MATRIX_HEIGHT = 72 * (PAGE_HEIGHT - 2 * MARGIN);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tfinal int numColumns = 24;\r\n\t\t\tfinal int numRows = 24;\r\n\t\t\tfinal List&lt;String&gt; letters = new ArrayList&lt;String&gt;();\r\n\t\t\tfinal int fontSize44 = 44;\r\n\t\t\tfinal int fontSize94 = 94;\r\n\t\t\tfinal boolean showGrid = true;\r\n\t\t\tfor (int i = 0; i &lt; numRows; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; numColumns; j++) {\r\n\t\t\t\t\tletters.add(getStr(i));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Writing output to: &quot; + System.getProperty(&quot;user.dir&quot;));\r\n\t\t\tfinal FileOutputStream fOut44 = new FileOutputStream(&quot;./pdf_size44.pdf&quot;);\r\n\t\t\tgeneratePdfDocument(numColumns, numRows, letters, fontSize44, showGrid, false, fOut44);\r\n\t\t\tfinal FileOutputStream fOut44min = new FileOutputStream(&quot;./pdf_size44_min.pdf&quot;);\r\n\t\t\tgeneratePdfDocument(numColumns, numRows, letters, fontSize44, showGrid, true, fOut44min);\r\n\t\t\tfinal FileOutputStream fOut94 = new FileOutputStream(&quot;./pdf_size94.pdf&quot;);\r\n\t\t\tgeneratePdfDocument(numColumns, numRows, letters, fontSize94, showGrid, false, fOut94);\r\n\t\t\tfinal FileOutputStream fOut94min = new FileOutputStream(&quot;./pdf_size94_min.pdf&quot;);\r\n\t\t\tgeneratePdfDocument(numColumns, numRows, letters, fontSize94, showGrid, true, fOut94min);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;PDF generation failed: &quot; + e.getMessage());\r\n\t\t} finally {\r\n\t\t\tSystem.out.println(&quot;Done&quot;);\r\n\t\t}\r\n\t}\r\n\tpublic static void generatePdfDocument (final int numColumns, final int numRows, final List&lt;String&gt; letters,\r\n\t\t\t\t\t\t\t\t\t\t\tfinal int fontSize, final boolean showGrid, final boolean setMinWidth,\r\n\t\t\t\t\t\t\t\t\t\t\tfinal FileOutputStream fOut) throws Exception {\r\n\t\tfinal float pageWidth = PAGE_WIDTH * DPI;\r\n\t\tfinal float pageHeight = PAGE_HEIGHT * DPI;\r\n\t\ttry {\r\n\t\t\tfinal PdfWriter writer = new PdfWriter(fOut);\r\n\t\t\tfinal PdfDocument pdf = new PdfDocument(writer);\r\n\t\t\tfinal PageSize ps = new PageSize(pageWidth, pageHeight);\r\n\t\t\tfinal  Document doc = new Document(pdf, ps);\r\n\t\t\tdoc.setMargins(0f, 0f, 0f, 0f);\r\n\t\t\t\r\n\t\t\tfinal Table maskTable =\r\n\t\t\t\t\tgenerateTable(pageWidth, pageHeight, numColumns, numRows, letters, fontSize, showGrid, setMinWidth);\r\n\t\t\tdoc.add(maskTable);\r\n\t\t\tdoc.flush();\r\n\t\t\tdoc.close();\r\n\t\t} finally {\r\n\t\t\tfOut.close();\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\tpublic static Table generateTable (final float width, final float height, final int numCols, final int numRows,\r\n\t\t\t\t\t\t\t\t\t   final List&lt;String&gt; letters, final int fontSize, final boolean showGrid,\r\n\t\t\t\t\t\t\t\t\t   final boolean setMinWidth) {\r\n\t\tfinal Table mainTable = new Table(1);\r\n\t\tmainTable.setWidth(width);\r\n\t\tmainTable.setHeight(height);\r\n\t\tmainTable.setMargins(0.0f,0.0f,0.0f,0.0f);\r\n\t\tmainTable.setPadding(0.0f);\r\n\t\tfinal Cell mainCell = new Cell();\r\n\t\tmainCell.setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n\t\tmainCell.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n\t\tmainCell.setBorder(Border.NO_BORDER);\r\n\t\tmainCell.setBackgroundColor(DeviceGray.BLACK);\r\n\t\t\r\n\t\tfinal Table lettersTable = new Table(numCols);\r\n\t\tlettersTable.setWidth(MATRIX_WIDTH);\r\n\t\tlettersTable.setHeight(MATRIX_HEIGHT);\r\n\t\tlettersTable.setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n\t\tlettersTable.setTextAlignment(TextAlignment.CENTER);\r\n\t\tlettersTable.setMargins(0.0f,0.0f,0.0f,0.0f);\r\n\t\tlettersTable.setPaddingLeft(MARGIN * DPI);\r\n\t\tlettersTable.setPaddingTop(MARGIN * DPI);\r\n\t\tfinal float cellWidth = MATRIX_WIDTH /((float)numCols) - (showGrid ? 0.2f: 0);\r\n\t\tfinal float cellHeight = MATRIX_HEIGHT /((float)numRows) - (showGrid ? 0.2f: 0);\r\n\r\n\t\tfor (final String letter : letters) {\r\n\t\t\tlettersTable.addCell(generateCell(letter, cellWidth, cellHeight, fontSize, showGrid, setMinWidth));\r\n\t\t}\r\n\r\n\t\tmainCell.add(lettersTable);\r\n        mainTable.addCell(mainCell);\r\n\t\treturn mainTable;\r\n\t}\r\n\tprivate static Cell generateCell (final String cellText, final float cellWidth, final float cellHeight, final int fontSize, final boolean showGrid, boolean setMinWidth) {\r\n\t\tfinal Cell nextCell = new Cell();\r\n\r\n\t\tfinal Paragraph p = new Paragraph()\r\n\t\t\t\t\t\t\t\t.setFontColor(DeviceGray.WHITE)\r\n\t\t\t\t\t\t\t\t.setFontSize(fontSize)\r\n\t\t\t\t\t\t\t\t.setTextAlignment(TextAlignment.CENTER)\r\n\t\t\t\t\t\t\t\t.setPaddingLeft(0.0f)\r\n\t\t\t\t\t\t\t\t.setMargins(0.0f,0.0f,0.0f,0.0f)\r\n\t\t\t\t\t\t\t\t.setCharacterSpacing(0.0f)\r\n\t\t\t\t\t\t\t\t.setWordSpacing(0.0f)\r\n\t\t\t\t\t\t\t\t.setFirstLineIndent(0.0f)\r\n\t\t\t\t\t\t\t\t.setMultipliedLeading(0.1f);\r\n\t\tp.setProperty(Property.OVERFLOW_Y, OverflowPropertyValue.VISIBLE);\r\n\t\tp.setProperty(Property.OVERFLOW_X, OverflowPropertyValue.VISIBLE);\r\n\t\tp.add(cellText);\r\n\t\tnextCell.add(p);\r\n\t\tnextCell.setMargins(0.0f,0.0f,0.0f,0.0f);\r\n\t\tnextCell.setBorder(showGrid ? new SolidBorder(DeviceRgb.RED, 0.1f) : Border.NO_BORDER);\r\n\t\tnextCell.setWidth(cellWidth);\r\n\t\tif (setMinWidth) {\r\n\t\t\tnextCell.setMinWidth(cellWidth);\r\n\t\t}\r\n\t\tnextCell.setHeight(cellHeight);\r\n\t\tnextCell.setPadding(0.0f);\r\n\t\tnextCell.setVerticalAlignment(VerticalAlignment.MIDDLE);\r\n\t\tnextCell.setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n\t\treturn nextCell;\r\n\t}\r\n\r\n\tprivate static String getStr(int i) {\r\n\t\tfinal StringBuilder strB = new StringBuilder();\r\n\t\tstrB.append((char)(i + 65));\r\n\t\treturn strB.toString();\r\n\t}\r\n}\r\n```\r\n\r\nGenerated PDF samples:\r\n\r\n[![font 44 - good][1]][1]\r\n\r\n[![font 94 with min width - horizontal shift wrt to cell][2]][2]\r\n\r\n[![font 94 w/o min width - cells are too wide][3]][3]\r\n\r\n[1]: https://i.stack.imgur.com/Nu3Wr.jpg\r\n[2]: https://i.stack.imgur.com/D0ooN.jpg\r\n[3]: https://i.stack.imgur.com/ET8kq.jpg","title":"characters are shifted horizontally when using itextpdf java API to generate PDF with large font size","body":"<p>I'm trying to generate a PDF containing a grid of letters, where each letter is centered in its cell in the grid (both vertically and horizontally), see attached PDF samples\nThis works well when the font size I'm using is relatively small (44 in the attached sample) but fails for larger fonts (94 in the attached sample).</p>\n<ul>\n<li>When specifying a minimum width for the cell, the characters are horizontally shifted wrt the cell center (except for the 'I' and 'J' which still fit the cell width, note that the shift varies between letters, most notably 'A' and 'B'). see image below</li>\n<li>When the minimum width is not specified, the characters are centered wrt the cell, but these in turn are wider, causing only part of the row to be displayed. see image below</li>\n</ul>\n<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileOutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.itextpdf.kernel.colors.DeviceGray;\nimport com.itextpdf.kernel.colors.DeviceRgb;\nimport com.itextpdf.kernel.geom.PageSize;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.borders.Border;\nimport com.itextpdf.layout.borders.SolidBorder;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.property.HorizontalAlignment;\nimport com.itextpdf.layout.property.OverflowPropertyValue;\nimport com.itextpdf.layout.property.Property;\nimport com.itextpdf.layout.property.TextAlignment;\nimport com.itextpdf.layout.property.VerticalAlignment;\n\npublic class PDFWriterTest {\n    public static final int DPI = 72;\n    public static final float PAGE_WIDTH = 19.685f;\n    public static final float PAGE_HEIGHT = 25.5906f;\n    public static final float MARGIN = 1.1811f;\n    public static final float MATRIX_WIDTH = 72 * (PAGE_WIDTH - 2 * MARGIN);\n    public static final float MATRIX_HEIGHT = 72 * (PAGE_HEIGHT - 2 * MARGIN);\n\n    public static void main(String[] args) {\n        try {\n            final int numColumns = 24;\n            final int numRows = 24;\n            final List&lt;String&gt; letters = new ArrayList&lt;String&gt;();\n            final int fontSize44 = 44;\n            final int fontSize94 = 94;\n            final boolean showGrid = true;\n            for (int i = 0; i &lt; numRows; i++) {\n                for (int j = 0; j &lt; numColumns; j++) {\n                    letters.add(getStr(i));\n                }\n            }\n            System.out.println(&quot;Writing output to: &quot; + System.getProperty(&quot;user.dir&quot;));\n            final FileOutputStream fOut44 = new FileOutputStream(&quot;./pdf_size44.pdf&quot;);\n            generatePdfDocument(numColumns, numRows, letters, fontSize44, showGrid, false, fOut44);\n            final FileOutputStream fOut44min = new FileOutputStream(&quot;./pdf_size44_min.pdf&quot;);\n            generatePdfDocument(numColumns, numRows, letters, fontSize44, showGrid, true, fOut44min);\n            final FileOutputStream fOut94 = new FileOutputStream(&quot;./pdf_size94.pdf&quot;);\n            generatePdfDocument(numColumns, numRows, letters, fontSize94, showGrid, false, fOut94);\n            final FileOutputStream fOut94min = new FileOutputStream(&quot;./pdf_size94_min.pdf&quot;);\n            generatePdfDocument(numColumns, numRows, letters, fontSize94, showGrid, true, fOut94min);\n        } catch (Exception e) {\n            System.out.println(&quot;PDF generation failed: &quot; + e.getMessage());\n        } finally {\n            System.out.println(&quot;Done&quot;);\n        }\n    }\n    public static void generatePdfDocument (final int numColumns, final int numRows, final List&lt;String&gt; letters,\n                                            final int fontSize, final boolean showGrid, final boolean setMinWidth,\n                                            final FileOutputStream fOut) throws Exception {\n        final float pageWidth = PAGE_WIDTH * DPI;\n        final float pageHeight = PAGE_HEIGHT * DPI;\n        try {\n            final PdfWriter writer = new PdfWriter(fOut);\n            final PdfDocument pdf = new PdfDocument(writer);\n            final PageSize ps = new PageSize(pageWidth, pageHeight);\n            final  Document doc = new Document(pdf, ps);\n            doc.setMargins(0f, 0f, 0f, 0f);\n            \n            final Table maskTable =\n                    generateTable(pageWidth, pageHeight, numColumns, numRows, letters, fontSize, showGrid, setMinWidth);\n            doc.add(maskTable);\n            doc.flush();\n            doc.close();\n        } finally {\n            fOut.close();\n        }\n\n    }\n    \n    public static Table generateTable (final float width, final float height, final int numCols, final int numRows,\n                                       final List&lt;String&gt; letters, final int fontSize, final boolean showGrid,\n                                       final boolean setMinWidth) {\n        final Table mainTable = new Table(1);\n        mainTable.setWidth(width);\n        mainTable.setHeight(height);\n        mainTable.setMargins(0.0f,0.0f,0.0f,0.0f);\n        mainTable.setPadding(0.0f);\n        final Cell mainCell = new Cell();\n        mainCell.setHorizontalAlignment(HorizontalAlignment.CENTER);\n        mainCell.setVerticalAlignment(VerticalAlignment.MIDDLE);\n        mainCell.setBorder(Border.NO_BORDER);\n        mainCell.setBackgroundColor(DeviceGray.BLACK);\n        \n        final Table lettersTable = new Table(numCols);\n        lettersTable.setWidth(MATRIX_WIDTH);\n        lettersTable.setHeight(MATRIX_HEIGHT);\n        lettersTable.setHorizontalAlignment(HorizontalAlignment.CENTER);\n        lettersTable.setTextAlignment(TextAlignment.CENTER);\n        lettersTable.setMargins(0.0f,0.0f,0.0f,0.0f);\n        lettersTable.setPaddingLeft(MARGIN * DPI);\n        lettersTable.setPaddingTop(MARGIN * DPI);\n        final float cellWidth = MATRIX_WIDTH /((float)numCols) - (showGrid ? 0.2f: 0);\n        final float cellHeight = MATRIX_HEIGHT /((float)numRows) - (showGrid ? 0.2f: 0);\n\n        for (final String letter : letters) {\n            lettersTable.addCell(generateCell(letter, cellWidth, cellHeight, fontSize, showGrid, setMinWidth));\n        }\n\n        mainCell.add(lettersTable);\n        mainTable.addCell(mainCell);\n        return mainTable;\n    }\n    private static Cell generateCell (final String cellText, final float cellWidth, final float cellHeight, final int fontSize, final boolean showGrid, boolean setMinWidth) {\n        final Cell nextCell = new Cell();\n\n        final Paragraph p = new Paragraph()\n                                .setFontColor(DeviceGray.WHITE)\n                                .setFontSize(fontSize)\n                                .setTextAlignment(TextAlignment.CENTER)\n                                .setPaddingLeft(0.0f)\n                                .setMargins(0.0f,0.0f,0.0f,0.0f)\n                                .setCharacterSpacing(0.0f)\n                                .setWordSpacing(0.0f)\n                                .setFirstLineIndent(0.0f)\n                                .setMultipliedLeading(0.1f);\n        p.setProperty(Property.OVERFLOW_Y, OverflowPropertyValue.VISIBLE);\n        p.setProperty(Property.OVERFLOW_X, OverflowPropertyValue.VISIBLE);\n        p.add(cellText);\n        nextCell.add(p);\n        nextCell.setMargins(0.0f,0.0f,0.0f,0.0f);\n        nextCell.setBorder(showGrid ? new SolidBorder(DeviceRgb.RED, 0.1f) : Border.NO_BORDER);\n        nextCell.setWidth(cellWidth);\n        if (setMinWidth) {\n            nextCell.setMinWidth(cellWidth);\n        }\n        nextCell.setHeight(cellHeight);\n        nextCell.setPadding(0.0f);\n        nextCell.setVerticalAlignment(VerticalAlignment.MIDDLE);\n        nextCell.setHorizontalAlignment(HorizontalAlignment.CENTER);\n        return nextCell;\n    }\n\n    private static String getStr(int i) {\n        final StringBuilder strB = new StringBuilder();\n        strB.append((char)(i + 65));\n        return strB.toString();\n    }\n}\n</code></pre>\n<p>Generated PDF samples:</p>\n<p><a href=\"https://i.stack.imgur.com/Nu3Wr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nu3Wr.jpg\" alt=\"font 44 - good\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/D0ooN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D0ooN.jpg\" alt=\"font 94 with min width - horizontal shift wrt to cell\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ET8kq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ET8kq.jpg\" alt=\"font 94 w/o min width - cells are too wide\" /></a></p>\n"},{"tags":["java","spring","postgresql","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1693256415,"post_id":76995956,"comment_id":135734091,"body_markdown":"you can not use prepared statements that way you need to use string replacement","body":"you can not use prepared statements that way you need to use string replacement"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1693301036,"post_id":76995956,"comment_id":135739271,"body_markdown":"The change you describe doesn&#39;t make sense to me.  Please post both queries in full","body":"The change you describe doesn&#39;t make sense to me.  Please post both queries in full"}],"owner":{"account_id":29317244,"reputation":1,"user_id":22461703,"display_name":"Kent Carmine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693255908,"creation_date":1693255908,"question_id":76995956,"body_markdown":"I&#39;m attempting to treat some input data as a table and execute a Join on it using Hibernate. The goal is to take in 2 lists of UUIDs (as lists of Strings) that are of equal size, treat them as a table with 2 columns, where the uuid pairs are in the same order as they were in the input lists, and then join those values with another table. The query is:\r\n\r\n\r\n```\r\nvar uuidsListOne = // list of Strings\r\nvar uuidsListTwo = // list of Strings\r\n\r\nString query =\r\n    &quot;&quot;&quot;\r\n    SELECT *\r\n    FROM the_db_table AS some_table\r\n        JOIN ROWS FROM (UNNEST(ARRAY[?1], ARRAY[?2]) AS (a varchar, b varchar)) \r\n        WITH ORDINALITY AS m(first_uuid, second_uuid, idx)\r\n            ON cast(some_table.first_uuid AS uuid) = cast(m.first_uuid AS uuid) AND cast(some_table.second_uuid AS uuid) = cast(m.second_uuid AS uuid);\r\n    &quot;&quot;&quot;;\r\n\r\n    return entityManager.createNativeQuery(query)\r\n            .setParameter(1, uuidsListOne)\r\n            .setParameter(2, uuidsListTwo)\r\n            .getResultList();\r\n```\r\n\r\nThis query (and several other variations on it) runs correctly when executed directly in the PostgreSQL (v12.13) console, but fails when when run via Spring&#39;s EntityManager. I&#39;ve gotten several different errors, depending on which variation of the query I tried, but the error for this query is: \r\n`org.postgresql.util.PSQLException: ERROR: a column definition list is required for functions returning &quot;record&quot;`.\r\n\r\nIf I change the second line of the query to `JOIN ROWS FROM (UNNEST(ARRAY[?1], ARRAY[?2]) AS (a varchar, b varchar))`, then I get the error: `org.postgresql.util.PSQLException: ERROR: function unnest(record[], record[]) does not exist Hint: No function matches the given name and argument types. You might need to add explicit type casts.`\r\n\r\nAny tips on how to get this query to play nice with JPA?","title":"Resolving errors in Spring EntityManager query using Join on UNNESTed data","body":"<p>I'm attempting to treat some input data as a table and execute a Join on it using Hibernate. The goal is to take in 2 lists of UUIDs (as lists of Strings) that are of equal size, treat them as a table with 2 columns, where the uuid pairs are in the same order as they were in the input lists, and then join those values with another table. The query is:</p>\n<pre><code>var uuidsListOne = // list of Strings\nvar uuidsListTwo = // list of Strings\n\nString query =\n    &quot;&quot;&quot;\n    SELECT *\n    FROM the_db_table AS some_table\n        JOIN ROWS FROM (UNNEST(ARRAY[?1], ARRAY[?2]) AS (a varchar, b varchar)) \n        WITH ORDINALITY AS m(first_uuid, second_uuid, idx)\n            ON cast(some_table.first_uuid AS uuid) = cast(m.first_uuid AS uuid) AND cast(some_table.second_uuid AS uuid) = cast(m.second_uuid AS uuid);\n    &quot;&quot;&quot;;\n\n    return entityManager.createNativeQuery(query)\n            .setParameter(1, uuidsListOne)\n            .setParameter(2, uuidsListTwo)\n            .getResultList();\n</code></pre>\n<p>This query (and several other variations on it) runs correctly when executed directly in the PostgreSQL (v12.13) console, but fails when when run via Spring's EntityManager. I've gotten several different errors, depending on which variation of the query I tried, but the error for this query is:\n<code>org.postgresql.util.PSQLException: ERROR: a column definition list is required for functions returning &quot;record&quot;</code>.</p>\n<p>If I change the second line of the query to <code>JOIN ROWS FROM (UNNEST(ARRAY[?1], ARRAY[?2]) AS (a varchar, b varchar))</code>, then I get the error: <code>org.postgresql.util.PSQLException: ERROR: function unnest(record[], record[]) does not exist Hint: No function matches the given name and argument types. You might need to add explicit type casts.</code></p>\n<p>Any tips on how to get this query to play nice with JPA?</p>\n"},{"tags":["java","hibernate","orm","hibernate-mapping"],"owner":{"account_id":28402002,"reputation":11,"user_id":21726693,"display_name":"probox36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693255902,"creation_date":1693252711,"question_id":76995696,"body_markdown":"I&#39;ve got an existing database containing a number of lists, e.g:\r\n\r\n- List of events:\r\n```\r\n+---------------------+-------------------------+-------------+---------------------+\r\n| date                | name                    | description | notification_needed |\r\n+---------------------+-------------------------+-------------+---------------------+\r\n| 2024-08-25 00:00:00 | It`s 25-th of August!   | NULL        |                   1 |\r\n| 2024-08-27 00:00:00 | It`s 27-th of August!   | NULL        |                   1 |\r\n| 2024-09-03 00:00:00 | It`s 3-rd of September! | NULL        |                   1 |\r\n+---------------------+-------------------------+-------------+---------------------+\r\n```\r\n- A queue of users (joined with table Users for the sake of readability):\r\n```\r\n+----------+-----------------------+---------+------------+\r\n| position | username              | status  | first_name |\r\n+----------+-----------------------+---------+------------+\r\n|        2 | tg_touch_purple       | ADMIN   | Eugene     |\r\n|        3 | tg_hands_off_the_corn | REGULAR | Carl       |\r\n|        1 | tg_glassk             | REGULAR | Joe        |\r\n+----------+-----------------------+---------+------------+\r\n```\r\n\r\nI&#39;d like to see their contents in a `HashMap&lt;LocalDate, Event&gt;` and `LinkedList&lt; User&gt;` respectively. However these two collections are not a part of some class and clearly represent self-sufficient entities, thus I can&#39;t map them with conventional collection-related annotations like `@OneToMany`. \r\n\r\nI&#39;ve tried creating a &quot;position&quot; field inside the `User` class (someting like converting one-to-many relations to many-to-one). This move noticably simplifies everything, but seems rather illogical. A &#39;date&#39; field in `Event` class looks much better, but still.\r\n\r\nCreating `Queue` and `EventDate` (?) classes to represent these tables is also an acceptable solution, but it leaves me with a basic list of Queue/EventDate, which I&#39;ll then have to manually convert to desired collections.\r\n\r\nI can always stick with using a native query, but for some reason unparametrized createNativeQuery method is now deprecated, which renders it virtually useless for this purpose. Moreover, it doesn&#39;t look as a Hibernate-like solution at all.\r\n\r\nWhat I&#39;m really looking for is a universal and automated way to load any of these collections from the database.\r\n\r\n\r\n","title":"How do I map an object representing a collection with Hibernate?","body":"<p>I've got an existing database containing a number of lists, e.g:</p>\n<ul>\n<li>List of events:</li>\n</ul>\n<pre><code>+---------------------+-------------------------+-------------+---------------------+\n| date                | name                    | description | notification_needed |\n+---------------------+-------------------------+-------------+---------------------+\n| 2024-08-25 00:00:00 | It`s 25-th of August!   | NULL        |                   1 |\n| 2024-08-27 00:00:00 | It`s 27-th of August!   | NULL        |                   1 |\n| 2024-09-03 00:00:00 | It`s 3-rd of September! | NULL        |                   1 |\n+---------------------+-------------------------+-------------+---------------------+\n</code></pre>\n<ul>\n<li>A queue of users (joined with table Users for the sake of readability):</li>\n</ul>\n<pre><code>+----------+-----------------------+---------+------------+\n| position | username              | status  | first_name |\n+----------+-----------------------+---------+------------+\n|        2 | tg_touch_purple       | ADMIN   | Eugene     |\n|        3 | tg_hands_off_the_corn | REGULAR | Carl       |\n|        1 | tg_glassk             | REGULAR | Joe        |\n+----------+-----------------------+---------+------------+\n</code></pre>\n<p>I'd like to see their contents in a <code>HashMap&lt;LocalDate, Event&gt;</code> and <code>LinkedList&lt; User&gt;</code> respectively. However these two collections are not a part of some class and clearly represent self-sufficient entities, thus I can't map them with conventional collection-related annotations like <code>@OneToMany</code>.</p>\n<p>I've tried creating a &quot;position&quot; field inside the <code>User</code> class (someting like converting one-to-many relations to many-to-one). This move noticably simplifies everything, but seems rather illogical. A 'date' field in <code>Event</code> class looks much better, but still.</p>\n<p>Creating <code>Queue</code> and <code>EventDate</code> (?) classes to represent these tables is also an acceptable solution, but it leaves me with a basic list of Queue/EventDate, which I'll then have to manually convert to desired collections.</p>\n<p>I can always stick with using a native query, but for some reason unparametrized createNativeQuery method is now deprecated, which renders it virtually useless for this purpose. Moreover, it doesn't look as a Hibernate-like solution at all.</p>\n<p>What I'm really looking for is a universal and automated way to load any of these collections from the database.</p>\n"},{"tags":["java","clone"],"comments":[{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":1,"creation_date":1355666688,"post_id":2156120,"comment_id":19156547,"body_markdown":"apparently Java Deep Cloning Library moved here : code.google.com/p/cloning","body":"apparently Java Deep Cloning Library moved here : code.google.com/p/cloning"}],"answers":[{"comments":[{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":0,"creation_date":1264697498,"post_id":2156221,"comment_id":2099522,"body_markdown":"well, the lazy me rants a lot when creating such a dummy code. But it is looking like the wiser path...","body":"well, the lazy me rants a lot when creating such a dummy code. But it is looking like the wiser path..."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1264701259,"post_id":2156221,"comment_id":2100020,"body_markdown":"sorry, but DIY is the way to go _ONLY_ if no other solution is appropriate for you..which is almost never","body":"sorry, but DIY is the way to go <i>ONLY</i> if no other solution is appropriate for you..which is almost never"}],"tags":[],"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1264697265,"creation_date":1264697265,"answer_id":2156221,"question_id":2156120,"body_markdown":"I&#39;d recommend the DIY way which, combined with a good hashCode() and equals() method should be easy to proof in a unit test. ","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>I'd recommend the DIY way which, combined with a good hashCode() and equals() method should be easy to proof in a unit test. </p>\n"},{"comments":[{"owner":{"account_id":88014,"reputation":60053,"user_id":1178669,"accept_rate":93,"display_name":"helpermethod"},"score":2,"creation_date":1264718539,"post_id":2156228,"comment_id":2102310,"body_markdown":"That&#39;s one of the many problems of the (broken) clone method: In a class hierarchy you always have to call super.clone(), which can easily be forgotten, that&#39;s why I would prefer using a copy constructor.","body":"That&#39;s one of the many problems of the (broken) clone method: In a class hierarchy you always have to call super.clone(), which can easily be forgotten, that&#39;s why I would prefer using a copy constructor."}],"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264697312,"creation_date":1264697312,"answer_id":2156228,"question_id":2156120,"body_markdown":"I&#39;d suggest to override Object.clone(), call super.clone() first and than call ref = ref.clone() on all references that you want to have deep copied. It&#39;s more or less *Do it yourself* approach but needs a bit less coding.","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>I'd suggest to override Object.clone(), call super.clone() first and than call ref = ref.clone() on all references that you want to have deep copied. It's more or less <em>Do it yourself</em> approach but needs a bit less coding.</p>\n"},{"comments":[{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":1,"creation_date":1264697602,"post_id":2156262,"comment_id":2099537,"body_markdown":"reflection is not bullet proof: it can lead in some situation where your cloned object has reference to your source... If the source change, the clone will change too !","body":"reflection is not bullet proof: it can lead in some situation where your cloned object has reference to your source... If the source change, the clone will change too !"}],"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1264697509,"creation_date":1264697509,"answer_id":2156262,"question_id":2156120,"body_markdown":"Depends.\r\n\r\nFor speed, use DIY.\r\nFor bulletproof, use reflection.\r\n\r\nBTW, serialization is not the same as refl, as some objects may provide overridden serialization methods (readObject/writeObject) and they can be buggy","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Depends.</p>\n\n<p>For speed, use DIY.\nFor bulletproof, use reflection.</p>\n\n<p>BTW, serialization is not the same as refl, as some objects may provide overridden serialization methods (readObject/writeObject) and they can be buggy</p>\n"},{"comments":[{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":0,"creation_date":1264699446,"post_id":2156367,"comment_id":2099812,"body_markdown":"Thanks Bozho, that&#39;s valuable. And I agree with you about the DIY option !\nHave you ever tried the commons serialzation and/or the deep cloning lib ? What about the perfs ?","body":"Thanks Bozho, that&#39;s valuable. And I agree with you about the DIY option ! Have you ever tried the commons serialzation and/or the deep cloning lib ? What about the perfs ?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1264700933,"post_id":2156367,"comment_id":2099981,"body_markdown":"yes, I have used all of the above options, for the above reasons :) only the cloning library had some issues when CGLIB proxies were involved, and missed some desired functionality, but I think that should be fixed now.","body":"yes, I have used all of the above options, for the above reasons :) only the cloning library had some issues when CGLIB proxies were involved, and missed some desired functionality, but I think that should be fixed now."},{"owner":{"account_id":261099,"reputation":1526,"user_id":545061,"accept_rate":55,"display_name":"Cosmin Cosmin"},"score":0,"creation_date":1315851060,"post_id":2156367,"comment_id":8927467,"body_markdown":"Hey, if my Entity is attached and I have lazy things, does SerializationUtils checks the database for the lazy properties ? Cuz this is what I want, and it doesn&#39;t !","body":"Hey, if my Entity is attached and I have lazy things, does SerializationUtils checks the database for the lazy properties ? Cuz this is what I want, and it doesn&#39;t !"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1315852463,"post_id":2156367,"comment_id":8927846,"body_markdown":"if you have an active session - yes, it does.","body":"if you have an active session - yes, it does."},{"owner":{"account_id":341703,"reputation":2528,"user_id":672455,"accept_rate":67,"display_name":"hop"},"score":0,"creation_date":1329148225,"post_id":2156367,"comment_id":11674696,"body_markdown":"@Bozho So you mean if all the objects within the bean are implementing serializable, org.apache.commons.beanutils.BeanUtils.cloneBean(obj) will do a deep copy ?","body":"@Bozho So you mean if all the objects within the bean are implementing serializable, org.apache.commons.beanutils.BeanUtils.cloneBean(obj) will do a deep copy ?"},{"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"score":0,"creation_date":1355666663,"post_id":2156367,"comment_id":19156539,"body_markdown":"apparently Java Deep Cloning Library moved here : http://code.google.com/p/cloning/","body":"apparently Java Deep Cloning Library moved here : <a href=\"http://code.google.com/p/cloning/\" rel=\"nofollow noreferrer\">code.google.com/p/cloning</a>"},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1358965954,"post_id":2156367,"comment_id":20186671,"body_markdown":"Good tips...I also use the cloning-by-serialization concept to clone objects via JAXB (marshal the object to a byte array, then unmarshal a new instance of the same object);","body":"Good tips...I also use the cloning-by-serialization concept to clone objects via JAXB (marshal the object to a byte array, then unmarshal a new instance of the same object);"},{"owner":{"account_id":1716149,"reputation":1981,"user_id":1573161,"accept_rate":56,"display_name":"Abhishek Chatterjee"},"score":0,"creation_date":1375416518,"post_id":2156367,"comment_id":26335767,"body_markdown":"@Bozho: It seems there are two cons in two frameworks, (1) Spring BeanUtils =&gt; does a shallow copy only but developers can customize to ignore some properties (2) Apache BeanUtils =&gt; may do a deep copy (as you said) but no provisions for customization to skip few fields while coping (like ignoreProperties in Spring BeanUtils)....any suggestion?","body":"@Bozho: It seems there are two cons in two frameworks, (1) Spring BeanUtils =&gt; does a shallow copy only but developers can customize to ignore some properties (2) Apache BeanUtils =&gt; may do a deep copy (as you said) but no provisions for customization to skip few fields while coping (like ignoreProperties in Spring BeanUtils)....any suggestion?"},{"owner":{"account_id":1975417,"reputation":5020,"user_id":1773303,"accept_rate":65,"display_name":"Vallabh Patade"},"score":0,"creation_date":1390521994,"post_id":2156367,"comment_id":32139752,"body_markdown":"Java Deep Cloning Library is not working with me. Giving me `ClassNotFound` exception","body":"Java Deep Cloning Library is not working with me. Giving me <code>ClassNotFound</code> exception"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":9,"down_vote_count":0,"up_vote_count":169,"is_accepted":true,"score":169,"last_activity_date":1461868200,"creation_date":1264698255,"answer_id":2156367,"question_id":2156120,"body_markdown":"For deep cloning (clones the entire object hierarchy):\r\n------------------------------------------------------\r\n\r\n- &lt;a href=&quot;http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SerializationUtils.html&quot;&gt;commons-lang SerializationUtils&lt;/a&gt; - using serialization - if all classes are in your control and you can force implementing `Serializable`.\r\n\r\n- &lt;a href=&quot;https://github.com/kostaskougios/cloning/&quot;&gt;Java Deep Cloning Library&lt;/a&gt; - using reflection - in cases when the classes or the objects you want to clone are out of your control (a 3rd party library) and you can&#39;t make them implement `Serializable`, or in cases you don&#39;t want to implement `Serializable`.\r\n\r\nFor shallow cloning (clones only the first level properties):\r\n-------------------------------------------------------------\r\n\r\n- &lt;a href=&quot;https://commons.apache.org/proper/commons-beanutils/javadocs/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#cloneBean(java.lang.Object)&quot;&gt;commons-beanutils BeanUtils&lt;/a&gt; - in most cases.\r\n\r\n- &lt;a href=&quot;http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/beans/BeanUtils.html&quot;&gt;Spring BeanUtils&lt;/a&gt; - if you are already using spring and hence have this utility on the classpath.\r\n\r\n\r\nI deliberately omitted the &quot;do-it-yourself&quot; option - the API&#39;s above provide a good control over what to and what not to clone (for example using `transient`, or `String[] ignoreProperties`), so reinventing the wheel isn&#39;t preferred.","title":"Java: recommended solution for deep cloning/copying an instance","body":"<h2>For deep cloning (clones the entire object hierarchy):</h2>\n\n<ul>\n<li><p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SerializationUtils.html\" rel=\"noreferrer\">commons-lang SerializationUtils</a> - using serialization - if all classes are in your control and you can force implementing <code>Serializable</code>.</p></li>\n<li><p><a href=\"https://github.com/kostaskougios/cloning/\" rel=\"noreferrer\">Java Deep Cloning Library</a> - using reflection - in cases when the classes or the objects you want to clone are out of your control (a 3rd party library) and you can't make them implement <code>Serializable</code>, or in cases you don't want to implement <code>Serializable</code>.</p></li>\n</ul>\n\n<h2>For shallow cloning (clones only the first level properties):</h2>\n\n<ul>\n<li><p><a href=\"https://commons.apache.org/proper/commons-beanutils/javadocs/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#cloneBean(java.lang.Object)\" rel=\"noreferrer\">commons-beanutils BeanUtils</a> - in most cases.</p></li>\n<li><p><a href=\"http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/beans/BeanUtils.html\" rel=\"noreferrer\">Spring BeanUtils</a> - if you are already using spring and hence have this utility on the classpath.</p></li>\n</ul>\n\n<p>I deliberately omitted the \"do-it-yourself\" option - the API's above provide a good control over what to and what not to clone (for example using <code>transient</code>, or <code>String[] ignoreProperties</code>), so reinventing the wheel isn't preferred.</p>\n"},{"comments":[{"owner":{"account_id":88375,"reputation":12009,"user_id":244473,"display_name":"gpampara"},"score":2,"creation_date":1264745739,"post_id":2158486,"comment_id":2104324,"body_markdown":"Agreed. In my project I defined a `Copyable` interface that contains a `getCopy()` method. Just use the prototype pattern manually.","body":"Agreed. In my project I defined a <code>Copyable</code> interface that contains a <code>getCopy()</code> method. Just use the prototype pattern manually."},{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":0,"creation_date":1264754963,"post_id":2158486,"comment_id":2104879,"body_markdown":"Well I was not asking about the cloneable interface, but how to perform a deep clone/copy operation. With a constructor or a factory you still need to create your new instance from your source.","body":"Well I was not asking about the cloneable interface, but how to perform a deep clone/copy operation. With a constructor or a factory you still need to create your new instance from your source."},{"owner":{"account_id":33754,"reputation":3591,"user_id":94777,"accept_rate":100,"display_name":"LeWoody"},"score":0,"creation_date":1265075069,"post_id":2158486,"comment_id":2128581,"body_markdown":"@Guillaume I think you need to be careful in using the words deep clone/copy.  Clone and copy in java do NOT mean the same thing.  The Java spec has more to say about this.... I think you want a deep copy from what I can tell.","body":"@Guillaume I think you need to be careful in using the words deep clone/copy.  Clone and copy in java do NOT mean the same thing.  The Java spec has more to say about this.... I think you want a deep copy from what I can tell."},{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":0,"creation_date":1265100925,"post_id":2158486,"comment_id":2130171,"body_markdown":"OK Java spec is accurate about what a clone is... But we can also speak of the clone in a more common meaning... For example, one of the lib recommended by bohzo is named &#39;Java Deep Cloning Library&#39;...","body":"OK Java spec is accurate about what a clone is... But we can also speak of the clone in a more common meaning... For example, one of the lib recommended by bohzo is named &#39;Java Deep Cloning Library&#39;..."},{"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"score":2,"creation_date":1380389654,"post_id":2158486,"comment_id":28186916,"body_markdown":"@LWoodyiii this `newInstance()` method and the `Yum` constructor would do deep copy or shallow copy?","body":"@LWoodyiii this <code>newInstance()</code> method and the <code>Yum</code> constructor would do deep copy or shallow copy?"}],"tags":[],"owner":{"account_id":33754,"reputation":3591,"user_id":94777,"accept_rate":100,"display_name":"LeWoody"},"comment_count":5,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1264717768,"creation_date":1264717768,"answer_id":2158486,"question_id":2156120,"body_markdown":"Joshua Bloch&#39;s book has a whole chapter entitled [&quot;Item 10: Override Clone Judiciously&quot;][1] in which he goes into why overriding clone for the most part is a bad idea because the Java spec for it creates many problems.  \r\n\r\nHe provides a few alternatives:\r\n\r\n - Use a factory pattern in place of a constructor:\r\n       \r\n\r\n             public static Yum newInstance(Yum yum);\r\n\r\n - Use a copy constructor:\r\n\r\n             public Yum(Yum yum);\r\n\r\nAll of the collection classes in Java support the copy constructor (e.g. new ArrayList(l);)\r\n\r\n\r\n  [1]: http://books.google.com/books?id=ZZOiqZQIbRMC&amp;printsec=frontcover&amp;dq=joshua+bloch&amp;source=bl&amp;ots=UZQ-9niM1_&amp;sig=p0iqb2fz1_8QQHnLGs8uNE24vH8&amp;hl=en&amp;ei=6A9iS9P2M8vJlQeGs63BBQ&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=3&amp;ved=0CBIQ6AEwAg#v=onepage&amp;q=clone&amp;f=false","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Joshua Bloch's book has a whole chapter entitled <a href=\"http://books.google.com/books?id=ZZOiqZQIbRMC&amp;printsec=frontcover&amp;dq=joshua+bloch&amp;source=bl&amp;ots=UZQ-9niM1_&amp;sig=p0iqb2fz1_8QQHnLGs8uNE24vH8&amp;hl=en&amp;ei=6A9iS9P2M8vJlQeGs63BBQ&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=3&amp;ved=0CBIQ6AEwAg#v=onepage&amp;q=clone&amp;f=false\" rel=\"noreferrer\">\"Item 10: Override Clone Judiciously\"</a> in which he goes into why overriding clone for the most part is a bad idea because the Java spec for it creates many problems.  </p>\n\n<p>He provides a few alternatives:</p>\n\n<ul>\n<li><p>Use a factory pattern in place of a constructor:</p>\n\n<pre><code>     public static Yum newInstance(Yum yum);\n</code></pre></li>\n<li><p>Use a copy constructor:</p>\n\n<pre><code>     public Yum(Yum yum);\n</code></pre></li>\n</ul>\n\n<p>All of the collection classes in Java support the copy constructor (e.g. new ArrayList(l);)</p>\n"},{"comments":[{"owner":{"account_id":12552238,"reputation":3207,"user_id":9133378,"accept_rate":94,"display_name":"choxsword"},"score":0,"creation_date":1595938561,"post_id":20142594,"comment_id":111641229,"body_markdown":"how does kryo do clone without serialization? does it use reflection?","body":"how does kryo do clone without serialization? does it use reflection?"},{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1652271752,"post_id":20142594,"comment_id":127565379,"body_markdown":"Take care: if the classes not have no-arg constructor, `Kryo` will bot able to copy","body":"Take care: if the classes not have no-arg constructor, <code>Kryo</code> will bot able to copy"}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1385116176,"creation_date":1385116176,"answer_id":20142594,"question_id":2156120,"body_markdown":"Since version 2.07 [Kryo supports shallow/deep cloning][1]:\r\n\r\n    Kryo kryo = new Kryo();\r\n    SomeClass someObject = ...\r\n    SomeClass copy1 = kryo.copy(someObject);\r\n    SomeClass copy2 = kryo.copyShallow(someObject);\r\n\r\nKryo is fast, at the and of their page you may find a list of companies which use it in production.\r\n\r\n\r\n  [1]: https://github.com/EsotericSoftware/kryo#copyingcloning","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Since version 2.07 <a href=\"https://github.com/EsotericSoftware/kryo#copyingcloning\" rel=\"noreferrer\">Kryo supports shallow/deep cloning</a>:</p>\n\n<pre><code>Kryo kryo = new Kryo();\nSomeClass someObject = ...\nSomeClass copy1 = kryo.copy(someObject);\nSomeClass copy2 = kryo.copyShallow(someObject);\n</code></pre>\n\n<p>Kryo is fast, at the and of their page you may find a list of companies which use it in production.</p>\n"},{"comments":[{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":0,"creation_date":1663502350,"post_id":31666547,"comment_id":130250421,"body_markdown":"XStream xml is not extremely fast. No xml is extremely fast, and if you want to do deep copying quickly you certainly don&#39;t involve a parser. I seem to remember XStream has a an option to generate a binary representation though, which would be much more sensible.","body":"XStream xml is not extremely fast. No xml is extremely fast, and if you want to do deep copying quickly you certainly don&#39;t involve a parser. I seem to remember XStream has a an option to generate a binary representation though, which would be much more sensible."}],"tags":[],"owner":{"account_id":6694620,"reputation":51,"user_id":5163006,"display_name":"Ranx"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438053495,"creation_date":1438051580,"answer_id":31666547,"question_id":2156120,"body_markdown":"Use XStream toXML/fromXML in memory.  Extremely fast and has been around for a long time and is going strong. Objects don&#39;t need to be Serializable and you don&#39;t have use reflection (although XStream does).  XStream can discern variables that point to the same object and not accidentally make two full copies of the instance. A lot of details like that have been hammered out over the years.  I&#39;ve used it for a number of years and it is a go to. It&#39;s about as easy to use as you can imagine.\r\n\r\n    new XStream().toXML(myObj)\r\n\r\nor\r\n\r\n    new XStream().fromXML(myXML)\r\n\r\nTo clone,\r\n\r\n    new XStream().fromXML(new XStream().toXML(myObj))\r\n\r\nMore succinctly:\r\n\r\n    XStream x = new XStream();\r\n    Object myClone = x.fromXML(x.toXML(myObj));","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Use XStream toXML/fromXML in memory.  Extremely fast and has been around for a long time and is going strong. Objects don't need to be Serializable and you don't have use reflection (although XStream does).  XStream can discern variables that point to the same object and not accidentally make two full copies of the instance. A lot of details like that have been hammered out over the years.  I've used it for a number of years and it is a go to. It's about as easy to use as you can imagine.</p>\n\n<pre><code>new XStream().toXML(myObj)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>new XStream().fromXML(myXML)\n</code></pre>\n\n<p>To clone,</p>\n\n<pre><code>new XStream().fromXML(new XStream().toXML(myObj))\n</code></pre>\n\n<p>More succinctly:</p>\n\n<pre><code>XStream x = new XStream();\nObject myClone = x.fromXML(x.toXML(myObj));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104821,"reputation":8403,"user_id":280041,"accept_rate":84,"display_name":"zeroboo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480406354,"creation_date":1480406354,"answer_id":40860572,"question_id":2156120,"body_markdown":"For complicated objects and when performance is not significant i use [gson][1]\r\n  [1]: https://github.com/google/gson\r\nto serialize the object to json text, then deserialize the text to get new object.\r\n    \r\ngson which based on reflection will works in most cases, except that `transient` fields will not be copied and objects with circular reference with cause `StackOverflowError`.\r\n\r\n    public static &lt;ObjectType&gt; ObjectType Copy(ObjectType AnObject, Class&lt;ObjectType&gt; ClassInfo)\r\n    {\r\n        Gson gson = new GsonBuilder().create();\r\n        String text = gson.toJson(AnObject);\r\n        ObjectType newObject = gson.fromJson(text, ClassInfo);\r\n        return newObject;\r\n    }\r\n\tpublic static void main(String[] args)\r\n    {\r\n        MyObject anObject ...\r\n        MyObject copyObject = Copy(o, MyObject.class);\r\n        \r\n    }","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>For complicated objects and when performance is not significant i use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a>\nto serialize the object to json text, then deserialize the text to get new object.</p>\n\n<p>gson which based on reflection will works in most cases, except that <code>transient</code> fields will not be copied and objects with circular reference with cause <code>StackOverflowError</code>.</p>\n\n<pre><code>public static &lt;ObjectType&gt; ObjectType Copy(ObjectType AnObject, Class&lt;ObjectType&gt; ClassInfo)\n{\n    Gson gson = new GsonBuilder().create();\n    String text = gson.toJson(AnObject);\n    ObjectType newObject = gson.fromJson(text, ClassInfo);\n    return newObject;\n}\npublic static void main(String[] args)\n{\n    MyObject anObject ...\n    MyObject copyObject = Copy(o, MyObject.class);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3193072,"reputation":408,"user_id":2696918,"display_name":"Alexander Maslew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588348702,"creation_date":1588348702,"answer_id":61546041,"question_id":2156120,"body_markdown":"For deep cloning implement Serializable on every class you want to clone like this\r\n\r\n    public static class Obj implements Serializable {\r\n        public int a, b;\r\n        public Obj(int a, int b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n    }\r\n\r\nAnd then use this function:\r\n\r\n    public static Object deepClone(Object object) {\r\n        try {\r\n            ByteArrayOutputStream baOs = new ByteArrayOutputStream();\r\n            ObjectOutputStream oOs = new ObjectOutputStream(baOs);\r\n            oOs.writeObject(object);\r\n            ByteArrayInputStream baIs = new ByteArrayInputStream(baOs.toByteArray());\r\n            ObjectInputStream oIs = new ObjectInputStream(baIs);\r\n            return oIs.readObject();\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\nlike this: `Obj newObject = (Obj)deepClone(oldObject);` ","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>For deep cloning implement Serializable on every class you want to clone like this</p>\n\n<pre><code>public static class Obj implements Serializable {\n    public int a, b;\n    public Obj(int a, int b) {\n        this.a = a;\n        this.b = b;\n    }\n}\n</code></pre>\n\n<p>And then use this function:</p>\n\n<pre><code>public static Object deepClone(Object object) {\n    try {\n        ByteArrayOutputStream baOs = new ByteArrayOutputStream();\n        ObjectOutputStream oOs = new ObjectOutputStream(baOs);\n        oOs.writeObject(object);\n        ByteArrayInputStream baIs = new ByteArrayInputStream(baOs.toByteArray());\n        ObjectInputStream oIs = new ObjectInputStream(baIs);\n        return oIs.readObject();\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n\n<p>like this: <code>Obj newObject = (Obj)deepClone(oldObject);</code> </p>\n"},{"tags":[],"owner":{"account_id":9228005,"reputation":121,"user_id":6855139,"display_name":"Zdenek Jonas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659010629,"creation_date":1659010629,"answer_id":73152774,"question_id":2156120,"body_markdown":"Just use MicroStream Object Copier.\r\n\r\n    ObjectCopier objectCopier = ObjectCopier.New();\r\n    Customer customer = root.getCustomer(id);\r\n    Customer customerCopy = objectCopier.copy(customer);\r\n\r\nThis utility provides the full deep copy of any object graph in Java. Be careful of the cyclic references. You can easily make o copy of your whole memory graph.\r\n\r\nhttps://docs.microstream.one/manual/storage/storing-data/deep-copy.html","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Just use MicroStream Object Copier.</p>\n<pre><code>ObjectCopier objectCopier = ObjectCopier.New();\nCustomer customer = root.getCustomer(id);\nCustomer customerCopy = objectCopier.copy(customer);\n</code></pre>\n<p>This utility provides the full deep copy of any object graph in Java. Be careful of the cyclic references. You can easily make o copy of your whole memory graph.</p>\n<p><a href=\"https://docs.microstream.one/manual/storage/storing-data/deep-copy.html\" rel=\"nofollow noreferrer\">https://docs.microstream.one/manual/storage/storing-data/deep-copy.html</a></p>\n"},{"tags":[],"owner":{"account_id":29315054,"reputation":21,"user_id":22460001,"display_name":"rizkovs1149"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693255554,"creation_date":1693255554,"answer_id":76995925,"question_id":2156120,"body_markdown":"Take a look to [sugar-cubes-cloner](https://github.com/sugar-cubes/sugar-cubes-cloner) library. It is very fast and well documented. It also allows the developer to configure the cloning process very flexible on the level of classes, fields and objects. ","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>Take a look to <a href=\"https://github.com/sugar-cubes/sugar-cubes-cloner\" rel=\"nofollow noreferrer\">sugar-cubes-cloner</a> library. It is very fast and well documented. It also allows the developer to configure the cloning process very flexible on the level of classes, fields and objects.</p>\n"}],"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158917,"favorite_count":0,"down_vote_count":0,"up_vote_count":194,"accepted_answer_id":2156367,"answer_count":11,"score":194,"last_activity_date":1693255554,"creation_date":1264696475,"question_id":2156120,"body_markdown":"I&#39;m wondering if there is a recommended way of doing deep clone/copy of instance in java.\r\n\r\nI have 3 solutions in mind, but I can have miss some,  and I&#39;d like to have your opinion\r\n\r\nedit: include Bohzo propositon and refine question: it&#39;s more about deep cloning than shallow cloning.\r\n\r\nDo it yourself:\r\n---------------\r\ncode the clone by hand properties after properties and check that mutable instances are cloned too.   \r\n**pro:**  \r\n- control of what will be performed  \r\n- quick execution  \r\n**cons:**   \r\n- tedious to write and maintain  \r\n- bug prone (copy/paste failure, missing property, reassigned mutable property) \r\n\r\nUse reflection:\r\n---------------\r\nWith your own reflection tools or with an external helper (like jakarta common-beans) it is easy to write a generic copy method that will do the job in one line.  \r\n**pro:**  \r\n- easy to write  \r\n- no maintenance  \r\n**cons:**  \r\n- less control of what happens  \r\n- bug prone with mutable object if the reflection tool does not clone sub objects too  \r\n- slower execution\r\n\r\nUse clone framework:\r\n-------------------\r\nUse a framework that do it for you, like :  \r\n[commons-lang SerializationUtils][1]  \r\n[Java Deep Cloning Library][2]  \r\n[Dozer][3]  \r\n[Kryo][4]\r\n\r\n**pro:**  \r\n- same as reflection   \r\n- more control over what will be exactly be cloned.  \r\n**cons:**   \r\n- every mutable instance is fully cloned, even at the end of the hierarchy   \r\n- could be very slow to execute\r\n\r\nUse bytecode instrumentation to write clone at runtime\r\n------------------------------------------------------\r\n[javassit][5], [BCEL][6] or [cglib][7] might be use to generate a dedicated cloner as fast as one hand writed. Someone knows a lib using one of these tools for this purpose ?\r\n\r\nWhat I have missed here ?  \r\nWhich one would you recommend ?\r\n\r\nThanks.\r\n \r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.0.1/org/apache/commons/lang3/SerializationUtils.html\r\n  [2]: https://github.com/kostaskougios/cloning\r\n  [3]: http://dozer.sourceforge.net/documentation/about.html\r\n  [4]: https://github.com/EsotericSoftware/kryo\r\n  [5]: http://www.jboss.org/javassist\r\n  [6]: http://jakarta.apache.org/bcel/index.html\r\n  [7]: http://cglib.sourceforge.net/","title":"Java: recommended solution for deep cloning/copying an instance","body":"<p>I'm wondering if there is a recommended way of doing deep clone/copy of instance in java.</p>\n\n<p>I have 3 solutions in mind, but I can have miss some,  and I'd like to have your opinion</p>\n\n<p>edit: include Bohzo propositon and refine question: it's more about deep cloning than shallow cloning.</p>\n\n<h2>Do it yourself:</h2>\n\n<p>code the clone by hand properties after properties and check that mutable instances are cloned too.<br>\n<strong>pro:</strong><br>\n- control of what will be performed<br>\n- quick execution<br>\n<strong>cons:</strong><br>\n- tedious to write and maintain<br>\n- bug prone (copy/paste failure, missing property, reassigned mutable property) </p>\n\n<h2>Use reflection:</h2>\n\n<p>With your own reflection tools or with an external helper (like jakarta common-beans) it is easy to write a generic copy method that will do the job in one line.<br>\n<strong>pro:</strong><br>\n- easy to write<br>\n- no maintenance<br>\n<strong>cons:</strong><br>\n- less control of what happens<br>\n- bug prone with mutable object if the reflection tool does not clone sub objects too<br>\n- slower execution</p>\n\n<h2>Use clone framework:</h2>\n\n<p>Use a framework that do it for you, like :<br>\n<a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.0.1/org/apache/commons/lang3/SerializationUtils.html\" rel=\"noreferrer\">commons-lang SerializationUtils</a><br>\n<a href=\"https://github.com/kostaskougios/cloning\" rel=\"noreferrer\">Java Deep Cloning Library</a><br>\n<a href=\"http://dozer.sourceforge.net/documentation/about.html\" rel=\"noreferrer\">Dozer</a><br>\n<a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"noreferrer\">Kryo</a></p>\n\n<p><strong>pro:</strong><br>\n- same as reflection<br>\n- more control over what will be exactly be cloned.<br>\n<strong>cons:</strong><br>\n- every mutable instance is fully cloned, even at the end of the hierarchy<br>\n- could be very slow to execute</p>\n\n<h2>Use bytecode instrumentation to write clone at runtime</h2>\n\n<p><a href=\"http://www.jboss.org/javassist\" rel=\"noreferrer\">javassit</a>, <a href=\"http://jakarta.apache.org/bcel/index.html\" rel=\"noreferrer\">BCEL</a> or <a href=\"http://cglib.sourceforge.net/\" rel=\"noreferrer\">cglib</a> might be use to generate a dedicated cloner as fast as one hand writed. Someone knows a lib using one of these tools for this purpose ?</p>\n\n<p>What I have missed here ?<br>\nWhich one would you recommend ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2617694,"reputation":1456,"user_id":2266428,"accept_rate":57,"display_name":"J E Carter II"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1506092963,"creation_date":1506092963,"answer_id":46367894,"question_id":46367851,"body_markdown":"According to [this KB article on IBM][1], the problem comes from the MANIFEST, which lists pdq.jar, a third party optimization tool.\r\n\r\n\r\n  [1]: https://developer.ibm.com/answers/questions/308105/exception-in-db2-jcc-driver-under-tomcat8.html\r\n\r\nI had both db2jcc4.jar and db2jcc4.10.1.jar in my lib folder.  \r\n\r\nWhile the article suggests editing the MANIFEST file in db2jcc4.jar, version 10.1 does not include this entry at all.  \r\n\r\nRemoving db2jcc4.jar solved my problem, so a solution in this case could also be to upgrade db2jcc4 from an older version to version 10.1, or if that is not possible, edit the manifest file as instructed.","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p>According to <a href=\"https://developer.ibm.com/answers/questions/308105/exception-in-db2-jcc-driver-under-tomcat8.html\" rel=\"noreferrer\">this KB article on IBM</a>, the problem comes from the MANIFEST, which lists pdq.jar, a third party optimization tool.</p>\n\n<p>I had both db2jcc4.jar and db2jcc4.10.1.jar in my lib folder.  </p>\n\n<p>While the article suggests editing the MANIFEST file in db2jcc4.jar, version 10.1 does not include this entry at all.  </p>\n\n<p>Removing db2jcc4.jar solved my problem, so a solution in this case could also be to upgrade db2jcc4 from an older version to version 10.1, or if that is not possible, edit the manifest file as instructed.</p>\n"},{"comments":[{"owner":{"account_id":2122937,"reputation":129,"user_id":1885817,"accept_rate":40,"display_name":"Akexis"},"score":0,"creation_date":1582137036,"post_id":51683892,"comment_id":106677121,"body_markdown":"Thank you so much for linking this! Seriously saved me so much time.","body":"Thank you so much for linking this! Seriously saved me so much time."}],"tags":[],"owner":{"account_id":163732,"reputation":1707,"user_id":386064,"accept_rate":40,"display_name":"Ahmed Salem"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533371831,"creation_date":1533371831,"answer_id":51683892,"question_id":46367851,"body_markdown":"You Just need to update jar db2jcc4.jar to be db2jcc4-10.1.jar\r\n\r\nYou can find maven dependency / Jar on that [link][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.ibm.db2.jcc/db2jcc4/10.1","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p>You Just need to update jar db2jcc4.jar to be db2jcc4-10.1.jar</p>\n\n<p>You can find maven dependency / Jar on that <a href=\"https://mvnrepository.com/artifact/com.ibm.db2.jcc/db2jcc4/10.1\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":379152,"reputation":3080,"user_id":732328,"accept_rate":40,"display_name":"Kayvan Tehrani"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1550300940,"creation_date":1543307823,"answer_id":53495594,"question_id":46367851,"body_markdown":"This might happen in the newer versions of Db2 jcc driver:\r\n\r\n&gt; Beginning with version 4.16 of the IBM Data Server Driver for JDBC and SQLJ, which is shipped with Db2 10.5 on Linux, UNIX, or Windows operating systems, the MANIFEST.MF file for db2jcc4.jar contains a reference to pdq.jar.\r\n\r\n[IBM Support][1]  offers 2 options:\r\n\r\n&gt; Resolving the problem\r\nTo prevent the java.io.FileNotFoundException, you can take one of the following actions: \r\n\r\n&gt;   - Edit the MANIFEST.MF file, and remove this line: Class-Path: pdq.jar  \r\n\r\n\r\n&gt;   - Edit the **context.xml** file for Apache Tomcat, and add an entry like the following one to set the value of scanClassPath to false.           \r\n\r\n\r\nPersonally, I prefer the second approach, which can be done as following:\r\n\r\n    &lt;Context&gt;\r\n       ...\r\n       &lt;JarScanner  scanClassPath=&quot;false&quot; /&gt;\r\n       ...\r\n    &lt;/Context&gt;\r\n             \r\n\r\n\r\n\r\n  [1]: http://www-01.ibm.com/support/docview.wss?uid=swg22016139","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p>This might happen in the newer versions of Db2 jcc driver:</p>\n\n<blockquote>\n  <p>Beginning with version 4.16 of the IBM Data Server Driver for JDBC and SQLJ, which is shipped with Db2 10.5 on Linux, UNIX, or Windows operating systems, the MANIFEST.MF file for db2jcc4.jar contains a reference to pdq.jar.</p>\n</blockquote>\n\n<p><a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg22016139\" rel=\"noreferrer\">IBM Support</a>  offers 2 options:</p>\n\n<blockquote>\n  <p>Resolving the problem\n  To prevent the java.io.FileNotFoundException, you can take one of the following actions: </p>\n  \n  <ul>\n  <li><p>Edit the MANIFEST.MF file, and remove this line: Class-Path: pdq.jar  </p></li>\n  <li><p>Edit the <strong>context.xml</strong> file for Apache Tomcat, and add an entry like the following one to set the value of scanClassPath to false.           </p></li>\n  </ul>\n</blockquote>\n\n<p>Personally, I prefer the second approach, which can be done as following:</p>\n\n<pre><code>&lt;Context&gt;\n   ...\n   &lt;JarScanner  scanClassPath=\"false\" /&gt;\n   ...\n&lt;/Context&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2044187,"reputation":1724,"user_id":1824669,"display_name":"Claus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554489662,"creation_date":1554489662,"answer_id":55541583,"question_id":46367851,"body_markdown":"[Kayvan Tehrani&#39;s answer][1] explains what&#39;s going on here and that this error can be ignored.\r\n\r\nAnother alternative to clean up the logs is to create a dummy pdq.jar and place it into tomcat&#39;s lib folder.\r\n\r\n    jar -cf pdq.jar &quot;&quot;\r\n\r\n(The &quot;: no such file or directory&quot; message from this command is expected.)\r\n\r\n  [1]: https://stackoverflow.com/a/53495594/1824669","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p><a href=\"https://stackoverflow.com/a/53495594/1824669\">Kayvan Tehrani's answer</a> explains what's going on here and that this error can be ignored.</p>\n\n<p>Another alternative to clean up the logs is to create a dummy pdq.jar and place it into tomcat's lib folder.</p>\n\n<pre><code>jar -cf pdq.jar \"\"\n</code></pre>\n\n<p>(The \": no such file or directory\" message from this command is expected.)</p>\n"}],"owner":{"account_id":2617694,"reputation":1456,"user_id":2266428,"accept_rate":57,"display_name":"J E Carter II"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20321,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":46367894,"answer_count":4,"score":9,"last_activity_date":1693255545,"creation_date":1506092803,"question_id":46367851,"body_markdown":"When adding db2jcc4.jar to the system class path, Tomcat 8.0 raises a FileNotFoundException on a jar file that has no apparent reference to my project, pdq.jar.  \r\n\r\nI couldn&#39;t find it anywhere on my system or where it might come from, except through a search which turned up the answer below.\r\n\r\nIn this case, I have my CATALINA_HOME pointed to C:\\tomcat8.0\\apache-tomcat-8.0.41 and my project has the following maven dependency defined:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.db2.jcc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;db2jcc4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n        \t&lt;systemPath&gt;${env.CATALINA_HOME}/lib/db2jcc4-10.1.jar&lt;/systemPath&gt;\r\n\t&lt;/dependency&gt;","title":"What causes FileNotFoundException: ...pdq.jar with db2jcc4?","body":"<p>When adding db2jcc4.jar to the system class path, Tomcat 8.0 raises a FileNotFoundException on a jar file that has no apparent reference to my project, pdq.jar.  </p>\n\n<p>I couldn't find it anywhere on my system or where it might come from, except through a search which turned up the answer below.</p>\n\n<p>In this case, I have my CATALINA_HOME pointed to C:\\tomcat8.0\\apache-tomcat-8.0.41 and my project has the following maven dependency defined:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.db2.jcc&lt;/groupId&gt;\n        &lt;artifactId&gt;db2jcc4&lt;/artifactId&gt;\n        &lt;version&gt;10.1&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${env.CATALINA_HOME}/lib/db2jcc4-10.1.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","maven","http","post"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1693316899,"post_id":76995851,"comment_id":135742527,"body_markdown":"According to documentation you can only use POST or PUT. https://docs.jboss.org/jberet/latest/javadoc/jberet-support/org/jberet/support/io/RestItemReaderWriterBase.html#httpMethod","body":"According to documentation you can only use POST or PUT. <a href=\"https://docs.jboss.org/jberet/latest/javadoc/jberet-support/org/jberet/support/io/RestItemReaderWriterBase.html#httpMethod\" rel=\"nofollow noreferrer\">docs.jboss.org/jberet/latest/javadoc/jberet-support/org/jber&zwnj;&#8203;et/&hellip;</a>"},{"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"score":0,"creation_date":1693650254,"post_id":76995851,"comment_id":135790758,"body_markdown":"is there any other way to make the patch call by adding any dependencies in my project?","body":"is there any other way to make the patch call by adding any dependencies in my project?"}],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693254681,"creation_date":1693254681,"question_id":76995851,"body_markdown":"I have a requirement to create a batch process that runs through 80,000+ records and stores it in a new DB via a patch request.\r\n\r\nI can create an ItemReader with FlatFileReader and I created a CustomeProcessor by implementing the ItemProcessor but not sure how to do a RestItemWriter with patch request.\r\n\r\nI found a difficulty in that I&#39;m unable to make a patch call with RestTemplate.\r\n\r\nCould someone please help me with the RestItemWriter implementation?\r\n\r\nI tried creating the RestItemWriter but not sure how to make the patch request from it.","title":"How to configure a RestItemWriter to progress a patch request in Spring Boot Starter Batch?","body":"<p>I have a requirement to create a batch process that runs through 80,000+ records and stores it in a new DB via a patch request.</p>\n<p>I can create an ItemReader with FlatFileReader and I created a CustomeProcessor by implementing the ItemProcessor but not sure how to do a RestItemWriter with patch request.</p>\n<p>I found a difficulty in that I'm unable to make a patch call with RestTemplate.</p>\n<p>Could someone please help me with the RestItemWriter implementation?</p>\n<p>I tried creating the RestItemWriter but not sure how to make the patch request from it.</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1693203567,"post_id":76990202,"comment_id":135723939,"body_markdown":"It would be helpful if you provided a code snippet of the part of the code that expects user input. There might be several ways to achieve it depending on your implementation.","body":"It would be helpful if you provided a code snippet of the part of the code that expects user input. There might be several ways to achieve it depending on your implementation."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1693205102,"post_id":76990202,"comment_id":135724180,"body_markdown":"Personally, I&#39;d just put the console based IO behind an abstraction and use a fake version of that abstraction for testing. But yes, show code and it&#39;d be easier to understand your situation.","body":"Personally, I&#39;d just put the console based IO behind an abstraction and use a fake version of that abstraction for testing. But yes, show code and it&#39;d be easier to understand your situation."},{"owner":{"account_id":20262101,"reputation":11,"user_id":14860214,"display_name":"AB-san"},"score":0,"creation_date":1693254150,"post_id":76990202,"comment_id":135733740,"body_markdown":"I have edited my question and added the code\ncan you please suggest me a way how can i configure the system property variables properly  @ODDminus1","body":"I have edited my question and added the code can you please suggest me a way how can i configure the system property variables properly  @ODDminus1"}],"owner":{"account_id":20262101,"reputation":11,"user_id":14860214,"display_name":"AB-san"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693254112,"creation_date":1693200458,"question_id":76990202,"body_markdown":"I am not able to take user input data for dynamic test cases.\r\n\r\npom.xml\r\n```&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;systemPropertyVariables&gt;\r\n                    &lt;propertyName&gt;link&lt;/propertyName&gt;\r\n                    &lt;propertyName&gt;buid&lt;/propertyName&gt;\r\n                    &lt;propertyName&gt;adminId&lt;/propertyName&gt;\r\n                    &lt;propertyName&gt;token&lt;/propertyName&gt;\r\n                &lt;/systemPropertyVariables&gt;\r\n                &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                &lt;suiteXmlFiles&gt;\r\n                    &lt;suiteXmlFile&gt;./testng/MasterSuite.xml&lt;/suiteXmlFile&gt;\r\n                &lt;/suiteXmlFiles&gt;\r\n                &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                &lt;!--&lt;properties&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;reporter&lt;/name&gt;\r\n                        &lt;value&gt;\r\n                            org.junit.jupiter.\r\n                        &lt;/value&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/properties&gt;--&gt;\r\n                &lt;argLine&gt;\r\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.9.5&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n ```\r\nTest.java\r\n```\r\nSystem.setProperty(&quot;link&quot;, &quot;val&quot;);\r\n        System.setProperty(&quot;buid&quot;, &quot;val1&quot;);\r\n        System.setProperty(&quot;adminId&quot;, &quot;val2&quot;);\r\n        System.setProperty(&quot;token&quot;, &quot;val3&quot;);\r\n        log.info(System.getProperty(&quot;link&quot;));\r\n        log.info(System.getProperty(&quot;buid&quot;));\r\n        log.info(System.getProperty(&quot;adminId&quot;));\r\n        log.info(System.getProperty(&quot;token&quot;));\r\n```\r\nSo I have have used junit5 in my project to create dynamic test cases (with the help of @TestFactory) but I came with a problem of taking user input as just an entry point for my dynamic test cases.\r\nPlease suggest a way to achieve that, I also tried using @ParameterizedTests alongwith @TestFactory but sadly the @ParameterizedTest annotation is not supported with a @TestFactory method.\r\nI also have tried to normally take input using Scanner class but that also doesnt work.\r\nI expected to get the userinput data either from command line or simply pass the input data from a xml file as an parameter ","title":"Take user input for dynamic test cases in junit5","body":"<p>I am not able to take user input data for dynamic test cases.</p>\n<p>pom.xml</p>\n<pre><code>    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;propertyName&gt;link&lt;/propertyName&gt;\n                    &lt;propertyName&gt;buid&lt;/propertyName&gt;\n                    &lt;propertyName&gt;adminId&lt;/propertyName&gt;\n                    &lt;propertyName&gt;token&lt;/propertyName&gt;\n                &lt;/systemPropertyVariables&gt;\n                &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                &lt;suiteXmlFiles&gt;\n                    &lt;suiteXmlFile&gt;./testng/MasterSuite.xml&lt;/suiteXmlFile&gt;\n                &lt;/suiteXmlFiles&gt;\n                &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                &lt;!--&lt;properties&gt;\n                    &lt;property&gt;\n                        &lt;name&gt;reporter&lt;/name&gt;\n                        &lt;value&gt;\n                            org.junit.jupiter.\n                        &lt;/value&gt;\n                    &lt;/property&gt;\n                &lt;/properties&gt;--&gt;\n                &lt;argLine&gt;\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                &lt;/argLine&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                    &lt;version&gt;1.9.5&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Test.java</p>\n<pre><code>System.setProperty(&quot;link&quot;, &quot;val&quot;);\n        System.setProperty(&quot;buid&quot;, &quot;val1&quot;);\n        System.setProperty(&quot;adminId&quot;, &quot;val2&quot;);\n        System.setProperty(&quot;token&quot;, &quot;val3&quot;);\n        log.info(System.getProperty(&quot;link&quot;));\n        log.info(System.getProperty(&quot;buid&quot;));\n        log.info(System.getProperty(&quot;adminId&quot;));\n        log.info(System.getProperty(&quot;token&quot;));\n</code></pre>\n<p>So I have have used junit5 in my project to create dynamic test cases (with the help of @TestFactory) but I came with a problem of taking user input as just an entry point for my dynamic test cases.\nPlease suggest a way to achieve that, I also tried using @ParameterizedTests alongwith @TestFactory but sadly the @ParameterizedTest annotation is not supported with a @TestFactory method.\nI also have tried to normally take input using Scanner class but that also doesnt work.\nI expected to get the userinput data either from command line or simply pass the input data from a xml file as an parameter</p>\n"},{"tags":["java","unix"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1476825114,"post_id":40118018,"comment_id":67507871,"body_markdown":"Java threads do not have unique PIDs. They run as one process, so the only PID is for the entire JVM.","body":"Java threads do not have unique PIDs. They run as one process, so the only PID is for the entire JVM."},{"owner":{"account_id":2417567,"reputation":886,"user_id":2111288,"accept_rate":33,"display_name":"SaviNuclear"},"score":0,"creation_date":1567746337,"post_id":40118018,"comment_id":102062820,"body_markdown":"It&#39;s like a difference between process and thread.","body":"It&#39;s like a difference between process and thread."}],"answers":[{"tags":[],"owner":{"account_id":3271217,"reputation":1033,"user_id":2754562,"accept_rate":43,"display_name":"aiqency"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693254024,"creation_date":1476824999,"answer_id":40118110,"question_id":40118018,"body_markdown":"[Here](https://docs.oracle.com/javase/tutorial/essential/concurrency/procthread.html) they say `Most implementations of the Java virtual machine run as a single process. A Java application can create additional processes using a ProcessBuilder object.` The alternative would be spawn a process instead of a thread.","title":"Java Thread &amp; Unix Process","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/procthread.html\" rel=\"nofollow noreferrer\">Here</a> they say <code>Most implementations of the Java virtual machine run as a single process. A Java application can create additional processes using a ProcessBuilder object.</code> The alternative would be spawn a process instead of a thread.</p>\n"},{"comments":[{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1476826841,"post_id":40118205,"comment_id":67508624,"body_markdown":"Thanks @AJNuefeld.","body":"Thanks @AJNuefeld."}],"tags":[],"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1476825384,"creation_date":1476825384,"answer_id":40118205,"question_id":40118018,"body_markdown":"Oracle includes `jvisualvm` in the JDK\\bin directory.  You can use it to view threads running inside running JVM&#39;s.  However, I don&#39;t see any support for terminating a thread.\r\n","title":"Java Thread &amp; Unix Process","body":"<p>Oracle includes <code>jvisualvm</code> in the JDK\\bin directory.  You can use it to view threads running inside running JVM's.  However, I don't see any support for terminating a thread.</p>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40118205,"answer_count":2,"score":4,"last_activity_date":1693254024,"creation_date":1476824545,"question_id":40118018,"body_markdown":"Will a java thread have a unique PID in UNIX environment? If I want to kill a specific thread of execution , is it possible to be done outside the program?","title":"Java Thread &amp; Unix Process","body":"<p>Will a java thread have a unique PID in UNIX environment? If I want to kill a specific thread of execution , is it possible to be done outside the program?</p>\n"},{"tags":["java","swagger","swagger-ui","vert.x"],"answers":[{"tags":[],"owner":{"account_id":11698906,"reputation":1250,"user_id":8564731,"display_name":"Jeremy Fiel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693253867,"creation_date":1693253867,"answer_id":76995783,"question_id":76993211,"body_markdown":"Here&#39;s a valid sample of your exact description. It seems to work fine on swagger-ui. Although, you have an additional property in your payload which is throwing an error for `exampleSetFlag`. This is not a valid keyword in OpenAPI schema. \r\n\r\nYour example seems to load fine, though\r\n\r\n```json\r\n{\r\n  &quot;openapi&quot; : &quot;3.0.3&quot;,\r\n  &quot;info&quot; : {\r\n    &quot;title&quot; : &quot;test&quot;,\r\n    &quot;version&quot; : &quot;1.0.0&quot;\r\n  },\r\n  &quot;servers&quot; : [ ],\r\n  &quot;paths&quot; : {\r\n    &quot;/endpoint&quot; : {\r\n      &quot;post&quot; : {\r\n        &quot;summary&quot; : &quot;stack&quot;,\r\n        &quot;parameters&quot; : [ ],\r\n        &quot;requestBody&quot; : {\r\n          &quot;content&quot; : {\r\n            &quot;application/json&quot; : {\r\n              &quot;schema&quot; : {\r\n                &quot;$ref&quot; : &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;,\r\n                &quot;exampleSetFlag&quot;: false\r\n              },\r\n              &quot;example&quot; : {\r\n                &quot;cards&quot; : [ {\r\n                  &quot;cardId&quot; : &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\r\n                  &quot;templateId&quot; : &quot;partner_welcome_card&quot;,\r\n                  &quot;cardVariantId&quot; : &quot;partner_welcome_card&quot;,\r\n                  &quot;componentId&quot; : &quot;basesheet&quot;\r\n                }, {\r\n                  &quot;cardId&quot; : &quot;HERO_LOYALTY_BANNER_CARD&quot;,\r\n                  &quot;templateId&quot; : &quot;partner_welcome_card&quot;,\r\n                  &quot;cardVariantId&quot; : &quot;partner_welcome_card&quot;,\r\n                  &quot;componentId&quot; : &quot;basesheet&quot;\r\n                } ]\r\n              },\r\n              &quot;exampleSetFlag&quot;: true\r\n            }\r\n          },\r\n          &quot;required&quot; : true\r\n        },\r\n        &quot;responses&quot; : {\r\n          &quot;201&quot; : {\r\n            &quot;description&quot; : &quot;Created&quot;,\r\n            &quot;headers&quot; : {\r\n              &quot;location&quot; : {\r\n                &quot;schema&quot; : {\r\n                  &quot;type&quot; : &quot;string&quot;\r\n                }\r\n              }\r\n            },\r\n            &quot;content&quot; : {\r\n              &quot;application/json&quot; : {\r\n                &quot;schema&quot; : { }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  &quot;components&quot; : {\r\n    &quot;schemas&quot; : {\r\n      &quot;MyPartnerCardInfoRequest&quot; : {\r\n        &quot;type&quot; : &quot;object&quot;,\r\n        &quot;properties&quot; : {\r\n          &quot;cards&quot; : {\r\n            &quot;type&quot; : &quot;array&quot;,\r\n            &quot;items&quot; : { }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n[![your example][1]][1]\r\n\r\nThe preferred keyword going forward with OpenAPI 3.x.x is the `examples` (plural) keyword which accepts a collection of schemas. This allows multiple examples of the same payload. \r\n\r\n```json\r\n{\r\n  &quot;openapi&quot;: &quot;3.0.3&quot;,\r\n  &quot;info&quot;: {\r\n    &quot;title&quot;: &quot;test&quot;,\r\n    &quot;version&quot;: &quot;1.0.0&quot;\r\n  },\r\n  &quot;servers&quot;: [],\r\n  &quot;paths&quot;: {\r\n    &quot;/endpoint&quot;: {\r\n      &quot;post&quot;: {\r\n        &quot;summary&quot;: &quot;stack&quot;,\r\n        &quot;parameters&quot;: [],\r\n        &quot;requestBody&quot;: {\r\n          &quot;content&quot;: {\r\n            &quot;application/json&quot;: {\r\n              &quot;schema&quot;: {\r\n                &quot;$ref&quot;: &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;\r\n              },\r\n              &quot;examples&quot;: {\r\n                &quot;example_1&quot;: {\r\n                  &quot;value&quot;: {\r\n                    &quot;cards&quot;: [\r\n                      {\r\n                        &quot;cardId&quot;: &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\r\n                        &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\r\n                        &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\r\n                        &quot;componentId&quot;: &quot;basesheet&quot;\r\n                      },\r\n                      {\r\n                        &quot;cardId&quot;: &quot;HERO_LOYALTY_BANNER_CARD&quot;,\r\n                        &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\r\n                        &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\r\n                        &quot;componentId&quot;: &quot;basesheet&quot;\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          &quot;required&quot;: true\r\n        },\r\n        &quot;responses&quot;: {\r\n          &quot;201&quot;: {\r\n            &quot;description&quot;: &quot;Created&quot;,\r\n            &quot;headers&quot;: {\r\n              &quot;location&quot;: {\r\n                &quot;schema&quot;: {\r\n                  &quot;type&quot;: &quot;string&quot;\r\n                }\r\n              }\r\n            },\r\n            &quot;content&quot;: {\r\n              &quot;application/json&quot;: {\r\n                &quot;schema&quot;: {}\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  &quot;components&quot;: {\r\n    &quot;schemas&quot;: {\r\n      &quot;MyPartnerCardInfoRequest&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;cards&quot;: {\r\n            &quot;type&quot;: &quot;array&quot;,\r\n            &quot;items&quot;: {}\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXYIx.png","title":"Swagger List Not Mapping in Example Java","body":"<p>Here's a valid sample of your exact description. It seems to work fine on swagger-ui. Although, you have an additional property in your payload which is throwing an error for <code>exampleSetFlag</code>. This is not a valid keyword in OpenAPI schema.</p>\n<p>Your example seems to load fine, though</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;openapi&quot; : &quot;3.0.3&quot;,\n  &quot;info&quot; : {\n    &quot;title&quot; : &quot;test&quot;,\n    &quot;version&quot; : &quot;1.0.0&quot;\n  },\n  &quot;servers&quot; : [ ],\n  &quot;paths&quot; : {\n    &quot;/endpoint&quot; : {\n      &quot;post&quot; : {\n        &quot;summary&quot; : &quot;stack&quot;,\n        &quot;parameters&quot; : [ ],\n        &quot;requestBody&quot; : {\n          &quot;content&quot; : {\n            &quot;application/json&quot; : {\n              &quot;schema&quot; : {\n                &quot;$ref&quot; : &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;,\n                &quot;exampleSetFlag&quot;: false\n              },\n              &quot;example&quot; : {\n                &quot;cards&quot; : [ {\n                  &quot;cardId&quot; : &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\n                  &quot;templateId&quot; : &quot;partner_welcome_card&quot;,\n                  &quot;cardVariantId&quot; : &quot;partner_welcome_card&quot;,\n                  &quot;componentId&quot; : &quot;basesheet&quot;\n                }, {\n                  &quot;cardId&quot; : &quot;HERO_LOYALTY_BANNER_CARD&quot;,\n                  &quot;templateId&quot; : &quot;partner_welcome_card&quot;,\n                  &quot;cardVariantId&quot; : &quot;partner_welcome_card&quot;,\n                  &quot;componentId&quot; : &quot;basesheet&quot;\n                } ]\n              },\n              &quot;exampleSetFlag&quot;: true\n            }\n          },\n          &quot;required&quot; : true\n        },\n        &quot;responses&quot; : {\n          &quot;201&quot; : {\n            &quot;description&quot; : &quot;Created&quot;,\n            &quot;headers&quot; : {\n              &quot;location&quot; : {\n                &quot;schema&quot; : {\n                  &quot;type&quot; : &quot;string&quot;\n                }\n              }\n            },\n            &quot;content&quot; : {\n              &quot;application/json&quot; : {\n                &quot;schema&quot; : { }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  &quot;components&quot; : {\n    &quot;schemas&quot; : {\n      &quot;MyPartnerCardInfoRequest&quot; : {\n        &quot;type&quot; : &quot;object&quot;,\n        &quot;properties&quot; : {\n          &quot;cards&quot; : {\n            &quot;type&quot; : &quot;array&quot;,\n            &quot;items&quot; : { }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PXYIx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXYIx.png\" alt=\"your example\" /></a></p>\n<p>The preferred keyword going forward with OpenAPI 3.x.x is the <code>examples</code> (plural) keyword which accepts a collection of schemas. This allows multiple examples of the same payload.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;openapi&quot;: &quot;3.0.3&quot;,\n  &quot;info&quot;: {\n    &quot;title&quot;: &quot;test&quot;,\n    &quot;version&quot;: &quot;1.0.0&quot;\n  },\n  &quot;servers&quot;: [],\n  &quot;paths&quot;: {\n    &quot;/endpoint&quot;: {\n      &quot;post&quot;: {\n        &quot;summary&quot;: &quot;stack&quot;,\n        &quot;parameters&quot;: [],\n        &quot;requestBody&quot;: {\n          &quot;content&quot;: {\n            &quot;application/json&quot;: {\n              &quot;schema&quot;: {\n                &quot;$ref&quot;: &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;\n              },\n              &quot;examples&quot;: {\n                &quot;example_1&quot;: {\n                  &quot;value&quot;: {\n                    &quot;cards&quot;: [\n                      {\n                        &quot;cardId&quot;: &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\n                        &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\n                        &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\n                        &quot;componentId&quot;: &quot;basesheet&quot;\n                      },\n                      {\n                        &quot;cardId&quot;: &quot;HERO_LOYALTY_BANNER_CARD&quot;,\n                        &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\n                        &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\n                        &quot;componentId&quot;: &quot;basesheet&quot;\n                      }\n                    ]\n                  }\n                }\n              }\n            }\n          },\n          &quot;required&quot;: true\n        },\n        &quot;responses&quot;: {\n          &quot;201&quot;: {\n            &quot;description&quot;: &quot;Created&quot;,\n            &quot;headers&quot;: {\n              &quot;location&quot;: {\n                &quot;schema&quot;: {\n                  &quot;type&quot;: &quot;string&quot;\n                }\n              }\n            },\n            &quot;content&quot;: {\n              &quot;application/json&quot;: {\n                &quot;schema&quot;: {}\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  &quot;components&quot;: {\n    &quot;schemas&quot;: {\n      &quot;MyPartnerCardInfoRequest&quot;: {\n        &quot;type&quot;: &quot;object&quot;,\n        &quot;properties&quot;: {\n          &quot;cards&quot;: {\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;items&quot;: {}\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14262420,"reputation":23,"user_id":10302726,"display_name":"Soumak Poddar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76995783,"answer_count":1,"score":0,"last_activity_date":1693253867,"creation_date":1693229048,"question_id":76993211,"body_markdown":"I am using Swagger 3.0. I am not able to map List of objects in example request in swagger-ui. Attaching the screenshot for reference. Same is happening for other data types as well like Strings and Maps.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Uwa28.png)](https://i.stack.imgur.com/Uwa28.png)\r\n\r\nRequest Structure -\r\n```json\r\n&quot;requestBody&quot;: {\r\n  &quot;description&quot;: &quot;MyPartner Cards Request&quot;,\r\n  &quot;content&quot;: {\r\n    &quot;application/json&quot;: {\r\n      &quot;schema&quot;: {\r\n        &quot;$ref&quot;: &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;,\r\n        &quot;exampleSetFlag&quot;: false\r\n      },\r\n      &quot;example&quot;: {\r\n        &quot;cards&quot;: [\r\n          {\r\n            &quot;cardId&quot;: &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\r\n            &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\r\n            &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\r\n            &quot;componentId&quot;: &quot;basesheet&quot;\r\n          },\r\n          {\r\n            &quot;cardId&quot;: &quot;HERO_LOYALTY_BANNER_CARD&quot;,\r\n            &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\r\n            &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\r\n            &quot;componentId&quot;: &quot;basesheet&quot;\r\n          }\r\n        ]\r\n      },\r\n      &quot;exampleSetFlag&quot;: true\r\n    }\r\n  },\r\n  &quot;required&quot;: true\r\n}\r\n```\r\n\r\nWas expecting to map the data type correctly.","title":"Swagger List Not Mapping in Example Java","body":"<p>I am using Swagger 3.0. I am not able to map List of objects in example request in swagger-ui. Attaching the screenshot for reference. Same is happening for other data types as well like Strings and Maps.</p>\n<p><a href=\"https://i.stack.imgur.com/Uwa28.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uwa28.png\" alt=\"enter image description here\" /></a></p>\n<p>Request Structure -</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;requestBody&quot;: {\n  &quot;description&quot;: &quot;MyPartner Cards Request&quot;,\n  &quot;content&quot;: {\n    &quot;application/json&quot;: {\n      &quot;schema&quot;: {\n        &quot;$ref&quot;: &quot;#/components/schemas/MyPartnerCardInfoRequest&quot;,\n        &quot;exampleSetFlag&quot;: false\n      },\n      &quot;example&quot;: {\n        &quot;cards&quot;: [\n          {\n            &quot;cardId&quot;: &quot;HERO_LOYALTY_WELCOME_CARD&quot;,\n            &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\n            &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\n            &quot;componentId&quot;: &quot;basesheet&quot;\n          },\n          {\n            &quot;cardId&quot;: &quot;HERO_LOYALTY_BANNER_CARD&quot;,\n            &quot;templateId&quot;: &quot;partner_welcome_card&quot;,\n            &quot;cardVariantId&quot;: &quot;partner_welcome_card&quot;,\n            &quot;componentId&quot;: &quot;basesheet&quot;\n          }\n        ]\n      },\n      &quot;exampleSetFlag&quot;: true\n    }\n  },\n  &quot;required&quot;: true\n}\n</code></pre>\n<p>Was expecting to map the data type correctly.</p>\n"},{"tags":["java","jpa","join","persistence","inner-join"],"answers":[{"tags":[],"owner":{"account_id":2350759,"reputation":789,"user_id":2514268,"display_name":"Kartal Tabak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607290723,"creation_date":1607290723,"answer_id":65173362,"question_id":1804704,"body_markdown":"Create a JPA repository, and type a custom `@Query`. \r\n\r\nI assume you already linked the `parent` and ```JobEndPoint``` classes over `a` and `b` fields. (To do that, define a multiple-column id on `JobEndPoint` and specify joinColumns in the parent class.)\r\n\r\n```\r\n@Query(&quot;SELECT u FROM parent \r\n        LEFT JOIN u.from bes\r\n        LEFT JOIN u.to bes2\r\n        WHERE bes.c = &#39;foo&#39; \r\n        AND bes2.c = &#39;bar&#39;&quot;)\r\nSet&lt;Parent&gt; findMatchingParents()\r\n```","title":"Java JPA Inner JOIN with WHERE statement","body":"<p>Create a JPA repository, and type a custom <code>@Query</code>.</p>\n<p>I assume you already linked the <code>parent</code> and <code>JobEndPoint</code> classes over <code>a</code> and <code>b</code> fields. (To do that, define a multiple-column id on <code>JobEndPoint</code> and specify joinColumns in the parent class.)</p>\n<pre><code>@Query(&quot;SELECT u FROM parent \n        LEFT JOIN u.from bes\n        LEFT JOIN u.to bes2\n        WHERE bes.c = 'foo' \n        AND bes2.c = 'bar'&quot;)\nSet&lt;Parent&gt; findMatchingParents()\n</code></pre>\n"}],"owner":{"account_id":574749,"reputation":2015,"user_id":219553,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693253220,"creation_date":1259253653,"question_id":1804704,"body_markdown":"I want to annotate following structure:\r\n\r\nI have this query:\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\nSELECT A.*, BES.*, BES_2.*\r\nINNER JOIN BES ON A.a = BES.a AND A.b = BES.b\r\nINNER JOIN BES AS BES_2 ON A.a = BES_2.a AND A.b = BES_2.b\r\nWHERE (BES.c = N&#39;foo&#39;) AND (BES_2.c = N&#39;bar&#39;)\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nI have the entities Job (representing A) and JobEndPoint (representing BES). The Job object should contain two  JobEndPoint which map like a one-to-one relation. I need two JOIN the table two times checking for the same values only differed by the column &quot;c&quot; which I check in the WHERE statement.\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\n@OneToOne\r\nprivate JobEndPoint from;\r\n\r\n@OneToOne\r\nprivate JobEndPoint to;\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nMy problem is now that the database columns and the object fields differ a lot and I don&#39;t know how to add the  WHERE statement.","title":"Java JPA Inner JOIN with WHERE statement","body":"<p>I want to annotate following structure:</p>\n\n<p>I have this query:</p>\n\n<pre>\n<code>\nSELECT A.*, BES.*, BES_2.*\nINNER JOIN BES ON A.a = BES.a AND A.b = BES.b\nINNER JOIN BES AS BES_2 ON A.a = BES_2.a AND A.b = BES_2.b\nWHERE (BES.c = N'foo') AND (BES_2.c = N'bar')\n</code>\n</pre>\n\n<p>I have the entities Job (representing A) and JobEndPoint (representing BES). The Job object should contain two  JobEndPoint which map like a one-to-one relation. I need two JOIN the table two times checking for the same values only differed by the column \"c\" which I check in the WHERE statement.</p>\n\n<pre>\n<code>\n@OneToOne\nprivate JobEndPoint from;\n\n@OneToOne\nprivate JobEndPoint to;\n</code>\n</pre>\n\n<p>My problem is now that the database columns and the object fields differ a lot and I don't know how to add the  WHERE statement.</p>\n"},{"tags":["java","algorithm","primes","number-theory","sieve"],"comments":[{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1426616687,"post_id":29106478,"comment_id":46443510,"body_markdown":"You are computing the sieve again and again for every number","body":"You are computing the sieve again and again for every number"}],"answers":[{"comments":[{"owner":{"account_id":3241401,"reputation":1103,"user_id":2734348,"display_name":"Anand Singh"},"score":1,"creation_date":1551609475,"post_id":29194165,"comment_id":96695747,"body_markdown":"This should be a comment","body":"This should be a comment"}],"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1427026094,"creation_date":1427026094,"answer_id":29194165,"question_id":29106478,"body_markdown":"How many numbers of the form x^2+y^4 are there below 1000000?  How many prime numbers are there below 1000000?  What do these two numbers tell you about how you should approach the solution?\r\n\r\n@isnot2bad&#39;s comment is also relevant.","title":"Paul Erdos Conjecture [Java]","body":"<p>How many numbers of the form x^2+y^4 are there below 1000000?  How many prime numbers are there below 1000000?  What do these two numbers tell you about how you should approach the solution?</p>\n\n<p>@isnot2bad's comment is also relevant.</p>\n"},{"tags":[],"owner":{"account_id":20426529,"reputation":3,"user_id":20911692,"display_name":"Rahul kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693252627,"creation_date":1693252450,"answer_id":76995676,"question_id":29106478,"body_markdown":"I used bitset to get all the primes upto 10^7.\r\nGenerate all the possible values of x^2 + y^4 upto 10^7, while generating each number I checked if it was prime then added it to a set , set was used to get unique numbers. Then used upper_bound to answer the queries. This is a bit overkill but I managed to get an accepted solution with 0.13s. \r\n\r\n*This is my accepted solution.*  \r\n```\r\n#include&lt;bits/stdc++.h&gt;\r\nusing namespace std;\r\n#define int long long int\r\n#define all(x) begin(x),end(x)\r\n#define v vector\r\n#define fast_io ios_base::sync_with_stdio(false);cin.tie(NULL)\r\nconst long long inf = 1e7;\r\nbitset&lt;inf&gt;primes;\r\nsigned main() {\r\n    fast_io;\r\n    set&lt;int&gt;s;\r\n    s.insert(2);\r\n    primes.set();\r\n    primes[0] = primes[1] = 0;\r\n\r\n// Using sieve for getting all primes upto 10^7 \r\n    for (int i = 2; i &lt;= inf; i++) {\r\n        if (primes[i]) {\r\n            for (int j = i * i; j &lt;= inf; j += i)primes[j] = 0;\r\n        }\r\n    }\r\n\r\n// generating all the values x^2+y^4 upto 10^7\r\n    for (int i = 0; i * i &lt;= inf; i++)\r\n        for (int j = 0; j * j * j * j &lt;= inf; j++) {\r\n            int value = i * i + j * j * j * j ;\r\n            if (value &lt;= inf and value &gt; 1 and value &amp; 1 and primes[value])s.insert(value);\r\n        }\r\n    v&lt;int&gt;a;\r\n    for (auto i : s)a.push_back(i);\r\n    s.clear();\r\n\r\n// answering queries \r\n    int t; cin &gt;&gt; t;\r\n    while (t--) {\r\n        int n, ans = 0;  cin &gt;&gt; n;\r\n        ans = distance(begin(a), upper_bound(all(a), n));\r\n        cout &lt;&lt; ans &lt;&lt; &#39;\\n&#39;;\r\n    }\r\n}\r\n```","title":"Paul Erdos Conjecture [Java]","body":"<p>I used bitset to get all the primes upto 10^7.\nGenerate all the possible values of x^2 + y^4 upto 10^7, while generating each number I checked if it was prime then added it to a set , set was used to get unique numbers. Then used upper_bound to answer the queries. This is a bit overkill but I managed to get an accepted solution with 0.13s.</p>\n<p><em>This is my accepted solution.</em></p>\n<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n#define int long long int\n#define all(x) begin(x),end(x)\n#define v vector\n#define fast_io ios_base::sync_with_stdio(false);cin.tie(NULL)\nconst long long inf = 1e7;\nbitset&lt;inf&gt;primes;\nsigned main() {\n    fast_io;\n    set&lt;int&gt;s;\n    s.insert(2);\n    primes.set();\n    primes[0] = primes[1] = 0;\n\n// Using sieve for getting all primes upto 10^7 \n    for (int i = 2; i &lt;= inf; i++) {\n        if (primes[i]) {\n            for (int j = i * i; j &lt;= inf; j += i)primes[j] = 0;\n        }\n    }\n\n// generating all the values x^2+y^4 upto 10^7\n    for (int i = 0; i * i &lt;= inf; i++)\n        for (int j = 0; j * j * j * j &lt;= inf; j++) {\n            int value = i * i + j * j * j * j ;\n            if (value &lt;= inf and value &gt; 1 and value &amp; 1 and primes[value])s.insert(value);\n        }\n    v&lt;int&gt;a;\n    for (auto i : s)a.push_back(i);\n    s.clear();\n\n// answering queries \n    int t; cin &gt;&gt; t;\n    while (t--) {\n        int n, ans = 0;  cin &gt;&gt; n;\n        ans = distance(begin(a), upper_bound(all(a), n));\n        cout &lt;&lt; ans &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4548630,"reputation":51,"user_id":3694401,"display_name":"AbhyudayaR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693252627,"creation_date":1426615246,"question_id":29106478,"body_markdown":"I&#39;ve been trying to solve this rather easy problem on SPOJ: http://www.spoj.com/problems/HS08PAUL/.\r\n\r\nIt requires the number of prime numbers (less than n) which can be expressed in the form x^2+y^4 (where x and y are integers) to be found out.\r\n\r\nI&#39;ve whipped up a brute force solution which takes up quite a while for (n ~= 1000000), resulting in a TLE (time limit exceeded) error being thrown by the engine. Here&#39;s the source code:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n        \r\n    class HS08PAUL\t{\r\n       public static int[] sieve(int n){\r\n    \t\t\t\r\n    \t\tboolean[] prime = new boolean[n+1];\r\n    \t\tint[] primeNumbers = new int[n];\r\n    \t\tint index = 0;\r\n    \t\tArrays.fill(primeNumbers, 0);\r\n    \t\tArrays.fill(prime,true);\r\n    \t\t\r\n    \t\tprime[0] = false;\r\n    \t\tprime[1] = false;\r\n    \t\tint m = (int)Math.sqrt(n);\r\n    \t\tfor(int i = 2; i &lt;= m; i++){\r\n    \t\t\tif(prime[i])\r\n    \t\t\tfor(int k = i*i; k&lt;=n; k+=i)\r\n    \t\t\t\tprime[k] = false;\r\n    \t\t\t\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int j = 2; j &lt;= n; j++) {\r\n    \t\t\tif(prime[j]) {\r\n    \t\t\t\tprimeNumbers[index] = j;\r\n    \t\t\t\tindex++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn primeNumbers;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\ttry{\r\n    \t\t\tdouble numberOfTestCases = in.nextDouble();\r\n    \t\t\twhile(numberOfTestCases -- &gt; 0) {\r\n    \t\t\t\tint index = 0, y = 0, count = 0;\r\n    \t\t\t\tint num = in.nextInt();\r\n    \t\t\t\tint[] primes = sieve(num);\r\n    \t\t\t\twhile(index &lt; num/3 ) {\r\n    \t\t\t\t\tfor(y = 1; y &lt; 57\t; y ++) {\r\n    \t\t\t\t\t\tif(Math.ceil(Math.sqrt(primes[index] - Math.pow(y,4))) == Math.floor(Math.sqrt(primes[index] - Math.pow(y,4)))) {\r\n    \t\t\t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\t\r\n    \t\t\t\t   \r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tindex++;\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(count);\r\n    \t\t\t}\t\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t}\r\n    \t}\t\r\n    }\t\r\n\r\nIs there a way in which I can make this approach work? \r\n\r\nP.S.:Please ignore the unruly exception handling.    \t\t\r\n","title":"Paul Erdos Conjecture [Java]","body":"<p>I've been trying to solve this rather easy problem on SPOJ: <a href=\"http://www.spoj.com/problems/HS08PAUL/\" rel=\"nofollow\">http://www.spoj.com/problems/HS08PAUL/</a>.</p>\n\n<p>It requires the number of prime numbers (less than n) which can be expressed in the form x^2+y^4 (where x and y are integers) to be found out.</p>\n\n<p>I've whipped up a brute force solution which takes up quite a while for (n ~= 1000000), resulting in a TLE (time limit exceeded) error being thrown by the engine. Here's the source code:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass HS08PAUL  {\n   public static int[] sieve(int n){\n\n        boolean[] prime = new boolean[n+1];\n        int[] primeNumbers = new int[n];\n        int index = 0;\n        Arrays.fill(primeNumbers, 0);\n        Arrays.fill(prime,true);\n\n        prime[0] = false;\n        prime[1] = false;\n        int m = (int)Math.sqrt(n);\n        for(int i = 2; i &lt;= m; i++){\n            if(prime[i])\n            for(int k = i*i; k&lt;=n; k+=i)\n                prime[k] = false;\n\n        }\n\n        for(int j = 2; j &lt;= n; j++) {\n            if(prime[j]) {\n                primeNumbers[index] = j;\n                index++;\n            }\n        }\n        return primeNumbers;\n    }\n\n    public static void main(String[] args) {\n\n        Scanner in = new Scanner(System.in);\n        try{\n            double numberOfTestCases = in.nextDouble();\n            while(numberOfTestCases -- &gt; 0) {\n                int index = 0, y = 0, count = 0;\n                int num = in.nextInt();\n                int[] primes = sieve(num);\n                while(index &lt; num/3 ) {\n                    for(y = 1; y &lt; 57   ; y ++) {\n                        if(Math.ceil(Math.sqrt(primes[index] - Math.pow(y,4))) == Math.floor(Math.sqrt(primes[index] - Math.pow(y,4)))) {\n                                count++;\n                                break;\n                        }   \n\n                    }\n                    index++;\n                }\n                System.out.println(count);\n            }   \n        }\n        catch(Exception e) {\n        }\n    }   \n}   \n</code></pre>\n\n<p>Is there a way in which I can make this approach work? </p>\n\n<p>P.S.:Please ignore the unruly exception handling.           </p>\n"},{"tags":["java","maven","sonarqube"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1608583865,"post_id":65399772,"comment_id":115623835,"body_markdown":"add `&lt;configuration&gt;&lt;skip&gt;${skipTests}&lt;/skip&gt;&lt;/configuration&gt;` to the `&lt;execution&gt;`-section.","body":"add <code>&lt;configuration&gt;&lt;skip&gt;${skipTests}&lt;&#47;skip&gt;&lt;&#47;configuration&gt;</code> to the <code>&lt;execution&gt;</code>-section."},{"owner":{"account_id":872469,"reputation":4415,"user_id":923004,"accept_rate":74,"display_name":"Thomas Vervik"},"score":0,"creation_date":1608587767,"post_id":65399772,"comment_id":115625126,"body_markdown":"Thanks, worked as charm!","body":"Thanks, worked as charm!"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1693252407,"creation_date":1608584654,"answer_id":65399938,"question_id":65399772,"body_markdown":"With every plugin, we can add section \r\n\r\n    &lt;configuration&gt;\r\n        ...\r\n        &lt;skip&gt;...&lt;/skip&gt;\r\n        ...\r\n    &lt;/configuration&gt;\r\nin an `&lt;execution&gt;`-block to control when the execution should be skipped. In the given case, we can bind the skip logic to the property `skipTests`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${sonar.maven.plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;sonar&lt;/id&gt;\r\n                &lt;phase&gt;test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;sonar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;${skipTests}&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Skip sonar plugin execution if maven tests are skipped","body":"<p>With every plugin, we can add section</p>\n<pre><code>&lt;configuration&gt;\n    ...\n    &lt;skip&gt;...&lt;/skip&gt;\n    ...\n&lt;/configuration&gt;\n</code></pre>\n<p>in an <code>&lt;execution&gt;</code>-block to control when the execution should be skipped. In the given case, we can bind the skip logic to the property <code>skipTests</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${sonar.maven.plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;sonar&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;sonar&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;${skipTests}&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":872469,"reputation":4415,"user_id":923004,"accept_rate":74,"display_name":"Thomas Vervik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65399938,"answer_count":1,"score":2,"last_activity_date":1693252407,"creation_date":1608583750,"question_id":65399772,"body_markdown":"I have set up Sonar as maven plugin in my pom, and would like the plugin to run only if tests are run. Use case is I want the sonar plugin to run on my CI server, but not when packaging the jar.\r\nSo `mvn test` should execute the sonar plugin, but `mvn -DskipTests clean package` should not.\r\n\r\nToday the sonar plugin are running also when I skip the tests.\r\n\r\nMy setup today:\r\n\r\n```\r\n&lt;sonar.host.url&gt;https://sonar.myserver.no&lt;/sonar.host.url&gt;\r\n&lt;sonar.login&gt;my token&lt;/sonar.login&gt;\r\n&lt;sonar.projectName&gt;My app&lt;/sonar.projectName&gt;\r\n.....\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${sonar.maven.plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;sonar&lt;/id&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;sonar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\n```","title":"Skip sonar plugin execution if maven tests are skipped","body":"<p>I have set up Sonar as maven plugin in my pom, and would like the plugin to run only if tests are run. Use case is I want the sonar plugin to run on my CI server, but not when packaging the jar.\nSo <code>mvn test</code> should execute the sonar plugin, but <code>mvn -DskipTests clean package</code> should not.</p>\n<p>Today the sonar plugin are running also when I skip the tests.</p>\n<p>My setup today:</p>\n<pre><code>&lt;sonar.host.url&gt;https://sonar.myserver.no&lt;/sonar.host.url&gt;\n&lt;sonar.login&gt;my token&lt;/sonar.login&gt;\n&lt;sonar.projectName&gt;My app&lt;/sonar.projectName&gt;\n.....\n&lt;plugin&gt;\n    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${sonar.maven.plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;sonar&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;sonar&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n"},{"tags":["java","spring","rest","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":2117992,"reputation":171,"user_id":1881850,"accept_rate":62,"display_name":"Zis"},"score":0,"creation_date":1693997496,"post_id":76994416,"comment_id":135832462,"body_markdown":"I found out during debug, that feing is internally using byte[] and ByteOutputstream, so it&#39;s not possible to just stream it. I went back to WebClient.","body":"I found out during debug, that feing is internally using byte[] and ByteOutputstream, so it&#39;s not possible to just stream it. I went back to WebClient."}],"owner":{"account_id":2117992,"reputation":171,"user_id":1881850,"accept_rate":62,"display_name":"Zis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693251982,"creation_date":1693238914,"question_id":76994416,"body_markdown":"I have a **@RestController** with one method that accepts multipart requests.\r\n\r\n```\r\n@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\nvoid create(@Valid @RequestPart(&quot;body&quot;) RequestDto request, HttpServletRequest servletRequest);\r\n```\r\nThen I go through all parts and store only references to files&#39; InputStream as the main goal was not to store any files in memory (in form of any byte[]).\r\n```\r\n...\r\nservletRequest.getParts().forEach(part -&gt; {\r\n    fileDto.setFileContent(part.getInputStream());\r\n});\r\n...\r\n```\r\n\r\nThen I would like to call another API of a system, that actualy stores the files. I&#39;d like to use **@FeignClient** from **spring-cloud-starter-openfeign**.\r\n\r\nI found some examples on the internet, but most of them use java.io.File or feign.form.FormData which creates a temp file (or stores the byte[] array). So I prepared the script below.\r\n\r\n```\r\n@FeignClient(name = &quot;feignClient&quot;, url = &quot;${api.url}&quot;, configuration = FeignConfig.class)\r\npublic interface ExternalSystemConnector {\r\n\r\n    @PostMapping(value = &quot;/v1/file&quot;, headers = &quot;Content-Type=multipart/form-data&quot;, produces = MediaType.MULTIPART_FORM_DATA_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    void createFile(@RequestPart(&quot;body&quot;) AdditionalInfoDto requestDto,\r\n                      @RequestPart(&quot;file&quot;) MultipartFile file);\r\n\r\n}\r\n```\r\nThen I would like to call the external system:\r\n```\r\n...\r\nexternalSystemConnector.createFile(additionalInfoDto, convertToMultiPartFile(fileDto.getInputStream()));\r\n...\r\n```\r\n\r\nbut I have no idea how to convert **InputStream** to the **MultipartFile** in the **convertToMultiPartFile** method. The **MultipartFile** interface also has **getSize** / **getBytes** methods where I do not know the size as I hold only reference to an InputStream. \r\n\r\nDoes anyone know, how I could achieve that? Or is there any better solution to that? The main condition is to use FeignClient and do not store the file&#39;s content in the memory and just stream it to the external system.","title":"Convert InputStream to MultipartFile when sending multipart/form-data request via Feign Client","body":"<p>I have a <strong>@RestController</strong> with one method that accepts multipart requests.</p>\n<pre><code>@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\nvoid create(@Valid @RequestPart(&quot;body&quot;) RequestDto request, HttpServletRequest servletRequest);\n</code></pre>\n<p>Then I go through all parts and store only references to files' InputStream as the main goal was not to store any files in memory (in form of any byte[]).</p>\n<pre><code>...\nservletRequest.getParts().forEach(part -&gt; {\n    fileDto.setFileContent(part.getInputStream());\n});\n...\n</code></pre>\n<p>Then I would like to call another API of a system, that actualy stores the files. I'd like to use <strong>@FeignClient</strong> from <strong>spring-cloud-starter-openfeign</strong>.</p>\n<p>I found some examples on the internet, but most of them use java.io.File or feign.form.FormData which creates a temp file (or stores the byte[] array). So I prepared the script below.</p>\n<pre><code>@FeignClient(name = &quot;feignClient&quot;, url = &quot;${api.url}&quot;, configuration = FeignConfig.class)\npublic interface ExternalSystemConnector {\n\n    @PostMapping(value = &quot;/v1/file&quot;, headers = &quot;Content-Type=multipart/form-data&quot;, produces = MediaType.MULTIPART_FORM_DATA_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    void createFile(@RequestPart(&quot;body&quot;) AdditionalInfoDto requestDto,\n                      @RequestPart(&quot;file&quot;) MultipartFile file);\n\n}\n</code></pre>\n<p>Then I would like to call the external system:</p>\n<pre><code>...\nexternalSystemConnector.createFile(additionalInfoDto, convertToMultiPartFile(fileDto.getInputStream()));\n...\n</code></pre>\n<p>but I have no idea how to convert <strong>InputStream</strong> to the <strong>MultipartFile</strong> in the <strong>convertToMultiPartFile</strong> method. The <strong>MultipartFile</strong> interface also has <strong>getSize</strong> / <strong>getBytes</strong> methods where I do not know the size as I hold only reference to an InputStream.</p>\n<p>Does anyone know, how I could achieve that? Or is there any better solution to that? The main condition is to use FeignClient and do not store the file's content in the memory and just stream it to the external system.</p>\n"},{"tags":["java","kotlin","android-studio","gradle","google-play-console"],"owner":{"account_id":8536772,"reputation":3072,"user_id":6398263,"accept_rate":0,"display_name":"Joel Hager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693251825,"creation_date":1693251825,"question_id":76995632,"body_markdown":"I am getting this error in play console:\r\n\r\n&gt; Your latest production release (4 (1.2.1)) contains SDK issues\r\nAug 26, 2023 23:50\r\ncom.google.android.gms:play-services-ads-lite:17.1.2\r\nThis SDK version has been reported as outdated. Upgrade to a newer version (19.3.0+).\r\n&gt; \r\n&gt; Starting from November 26, 2023 00:00 (UTC) you won&#39;t be able to release new versions which contain this SDK version. com.google.android.gms:play-services-ads:17.1.2\r\nThis SDK version has been reported as outdated. Upgrade to a newer version (19.4.0+).\r\n&gt;\r\n&gt; This SDK version has a note from the SDK developer. Here&#39;s what the SDK developer told us:\r\n&gt;\r\n&gt;This version is officially deprecated, and will soon disable ad loading. Please update to a new version. See https://developers.google.com/admob/android/deprecation for more details.\r\n&gt;\r\n&gt;Starting from November 26, 2023 00:00 (UTC) you won&#39;t be able to release new versions which contain this SDK version.\r\n\r\nThe issue is I&#39;ve looked EVERYWHERE for this dependency and I can&#39;t find it. Where do I upgrade these types of dependencies? The documentation isn&#39;t clear either. \r\n","title":"How to update SDK reference that doesn&#39;t exist in project (ANDROID STUDIO)","body":"<p>I am getting this error in play console:</p>\n<blockquote>\n<p>Your latest production release (4 (1.2.1)) contains SDK issues\nAug 26, 2023 23:50\ncom.google.android.gms:play-services-ads-lite:17.1.2\nThis SDK version has been reported as outdated. Upgrade to a newer version (19.3.0+).</p>\n<p>Starting from November 26, 2023 00:00 (UTC) you won't be able to release new versions which contain this SDK version. com.google.android.gms:play-services-ads:17.1.2\nThis SDK version has been reported as outdated. Upgrade to a newer version (19.4.0+).</p>\n<p>This SDK version has a note from the SDK developer. Here's what the SDK developer told us:</p>\n<p>This version is officially deprecated, and will soon disable ad loading. Please update to a new version. See <a href=\"https://developers.google.com/admob/android/deprecation\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/android/deprecation</a> for more details.</p>\n<p>Starting from November 26, 2023 00:00 (UTC) you won't be able to release new versions which contain this SDK version.</p>\n</blockquote>\n<p>The issue is I've looked EVERYWHERE for this dependency and I can't find it. Where do I upgrade these types of dependencies? The documentation isn't clear either.</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","hashicorp-vault"],"owner":{"account_id":7401610,"reputation":973,"user_id":5631863,"accept_rate":71,"display_name":"Tora Tora Tora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693251608,"creation_date":1693075517,"question_id":76984361,"body_markdown":"I have a Spring Boot application that uses Spring Data JPA connecting to a Postgres Database using Spring Cloud Vault Database. And, the application keeps loosing connection to the database periodically. Only solution is to restart the application.\r\n\r\nHere&#39;s the configuration:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: application-name-api\r\n  cloud.vault:\r\n    kv-version: 2\r\n    host: vaulthost.net\r\n    port: 8200\r\n    scheme: https\r\n    authentication: TOKEN\r\n    token: XXX_VAULT_TOKEN_XXX\r\n    database:\r\n      role: database_write_role\r\n    kv:\r\n      enabled: false\r\n    database:\r\n      enabled: true\r\n      backend: database\r\n      username-property: spring.datasource.username\r\n      password-property: spring.datasource.password\r\n  config:\r\n      import: &quot;vault://&quot;\r\n  datasource:\r\n    url: &quot;jdbc:postgresql://db-postgresql:11111/defaultdb?sslmode=require&quot;\r\n    testOnBorrow: true\r\n    validationQuery: SELECT 1\r\n    hikari:\r\n      maximum-pool-size: 2\r\n      connection-timeout: 3000\r\n      idle-timeout: 10000\r\n      minimum-idle: 1\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n  profiles:\r\n    active: dev\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 5MB\r\n      max-request-size: 5MB\r\n```\r\n\r\nWhen the application is deployed to a Linux Box it works well, and is able to connect to the database. However, after a day the connection errors out with the following exception:\r\n\r\n```\r\n2023-08-26 17:58:42,875 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] SQL Error: 0, SQLState: 28P01\r\n2023-08-26 17:58:42,876 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] HikariPool-1 - Connection is not available, request timed out after 3000ms.\r\n2023-08-26 17:58:42,877 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] FATAL: password authentication failed for user &quot;v-token-xxxxxxx-fffffffxxxxxxxxzzzzzz-1692899441&quot;\r\n2023-08-26 17:58:42,878 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] [http-nio-8600-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection] with root cause\r\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;v-token-xxxxxxx-fffffffxxxxxxxxzzzzzz-1692899441&quot;\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:402)\r\n\tat org.postgresql.Driver.connect(Driver.java:261)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n\tat com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)\r\n\tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)\r\n\tat com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nHere are the entries in my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.toratoratora&lt;/groupId&gt;\r\n    &lt;artifactId&gt;application-api&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;application-api&lt;/name&gt;\r\n    &lt;description&gt;Application API&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n        &lt;validator.version&gt;1.7&lt;/validator.version&gt;\r\n        &lt;hibernate-types-52.version&gt;2.14.0&lt;/hibernate-types-52.version&gt;\r\n        &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\r\n        &lt;commons-collections4.version&gt;4.4&lt;/commons-collections4.version&gt;\r\n        &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\r\n        &lt;spring-boot-admin.version&gt;2.7.4&lt;/spring-boot-admin.version&gt;\r\n        &lt;okhttp.version&gt;4.10.0&lt;/okhttp.version&gt;\r\n        &lt;jackson-datatype-jsr310.version&gt;2.14.2&lt;/jackson-datatype-jsr310.version&gt;\r\n        &lt;cactoos.version&gt;0.55.0&lt;/cactoos.version&gt;\r\n        &lt;commons-text.version&gt;1.10.0&lt;/commons-text.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-vault-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-vault-config-databases&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-collections4.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;${validator.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson-datatype-jsr310.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.cactoos&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cactoos&lt;/artifactId&gt;\r\n            &lt;version&gt;${cactoos.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-text.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230227&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-admin-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot-admin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;26.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.name}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.7&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.spring.javaformat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-javaformat-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.31&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;inherited&gt;true&lt;/inherited&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;validate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;5.6.1.Final&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n                            &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;enhance&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"SqlExceptionHelper - FATAL: password authentication failed for user - Spring Data JPA - Vault - Postgres","body":"<p>I have a Spring Boot application that uses Spring Data JPA connecting to a Postgres Database using Spring Cloud Vault Database. And, the application keeps loosing connection to the database periodically. Only solution is to restart the application.</p>\n<p>Here's the configuration:</p>\n<pre><code>spring:\n  application:\n    name: application-name-api\n  cloud.vault:\n    kv-version: 2\n    host: vaulthost.net\n    port: 8200\n    scheme: https\n    authentication: TOKEN\n    token: XXX_VAULT_TOKEN_XXX\n    database:\n      role: database_write_role\n    kv:\n      enabled: false\n    database:\n      enabled: true\n      backend: database\n      username-property: spring.datasource.username\n      password-property: spring.datasource.password\n  config:\n      import: &quot;vault://&quot;\n  datasource:\n    url: &quot;jdbc:postgresql://db-postgresql:11111/defaultdb?sslmode=require&quot;\n    testOnBorrow: true\n    validationQuery: SELECT 1\n    hikari:\n      maximum-pool-size: 2\n      connection-timeout: 3000\n      idle-timeout: 10000\n      minimum-idle: 1\n  jpa:\n    hibernate:\n      ddl-auto: none\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n  profiles:\n    active: dev\n  servlet:\n    multipart:\n      max-file-size: 5MB\n      max-request-size: 5MB\n</code></pre>\n<p>When the application is deployed to a Linux Box it works well, and is able to connect to the database. However, after a day the connection errors out with the following exception:</p>\n<pre><code>2023-08-26 17:58:42,875 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] SQL Error: 0, SQLState: 28P01\n2023-08-26 17:58:42,876 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] HikariPool-1 - Connection is not available, request timed out after 3000ms.\n2023-08-26 17:58:42,877 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8600-exec-8] FATAL: password authentication failed for user &quot;v-token-xxxxxxx-fffffffxxxxxxxxzzzzzz-1692899441&quot;\n2023-08-26 17:58:42,878 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] [http-nio-8600-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection] with root cause\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;v-token-xxxxxxx-fffffffxxxxxxxxzzzzzz-1692899441&quot;\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:646)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n    at org.postgresql.Driver.makeConnection(Driver.java:402)\n    at org.postgresql.Driver.connect(Driver.java:261)\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n    at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:726)\n    at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Here are the entries in my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.toratoratora&lt;/groupId&gt;\n    &lt;artifactId&gt;application-api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;application-api&lt;/name&gt;\n    &lt;description&gt;Application API&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n        &lt;validator.version&gt;1.7&lt;/validator.version&gt;\n        &lt;hibernate-types-52.version&gt;2.14.0&lt;/hibernate-types-52.version&gt;\n        &lt;commons-lang3.version&gt;3.12.0&lt;/commons-lang3.version&gt;\n        &lt;commons-collections4.version&gt;4.4&lt;/commons-collections4.version&gt;\n        &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\n        &lt;spring-boot-admin.version&gt;2.7.4&lt;/spring-boot-admin.version&gt;\n        &lt;okhttp.version&gt;4.10.0&lt;/okhttp.version&gt;\n        &lt;jackson-datatype-jsr310.version&gt;2.14.2&lt;/jackson-datatype-jsr310.version&gt;\n        &lt;cactoos.version&gt;0.55.0&lt;/cactoos.version&gt;\n        &lt;commons-text.version&gt;1.10.0&lt;/commons-text.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-vault-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-vault-config-databases&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;${commons-collections4.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;${validator.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-datatype-jsr310.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.cactoos&lt;/groupId&gt;\n            &lt;artifactId&gt;cactoos&lt;/artifactId&gt;\n            &lt;version&gt;${cactoos.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;${commons-text.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230227&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-firestore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n            &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n            &lt;version&gt;9.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-admin-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot-admin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;26.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.name}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6.7&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.spring.javaformat&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-javaformat-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.31&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;inherited&gt;true&lt;/inherited&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;validate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;5.6.1.Final&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;configuration&gt;\n                            &lt;failOnError&gt;true&lt;/failOnError&gt;\n                            &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enhance&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","avd-manager"],"answers":[{"tags":[],"owner":{"account_id":21173621,"reputation":43,"user_id":15595082,"display_name":"Jesus Berrio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693251397,"creation_date":1693251397,"answer_id":76995590,"question_id":76995157,"body_markdown":"I just delete the /opt/homebrew/bin/avdmanager and starts working \r\n\r\n    rm -rf /opt/homebrew/bin/avdmanager","title":"Unable to Use Android CLI 4.0 with Java 11: PATH Issue with Android Studio","body":"<p>I just delete the /opt/homebrew/bin/avdmanager and starts working</p>\n<pre><code>rm -rf /opt/homebrew/bin/avdmanager\n</code></pre>\n"}],"owner":{"account_id":21173621,"reputation":43,"user_id":15595082,"display_name":"Jesus Berrio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693251397,"creation_date":1693246437,"question_id":76995157,"body_markdown":"I&#39;m having trouble getting Android CLI 4.0 to work as expected on my system. When I run which avdmanager, it always points to /opt/homebrew/bin/avdmanager, even though I&#39;ve explicitly set my PATH to include the correct cmdline-tools/4.0/bin directory using export PATH=$PATH:$ANDROID_HOME/cmdline-tools/4.0/bin.\r\n\r\nIt appears that Android Studio is introducing this new path in /opt, and because of this, my specified cmdline-tools directory in the PATH is not taking precedence. I need to use CLI 4.0 with Java 11, but it seems that Java 11 is causing an issue with the CLI, resulting in the error:\r\n\r\nvbnet\r\nCopy code\r\nError: Se ha producido un error de enlace al cargar la clase principal com.android.sdklib.tool.AvdManagerCli\r\njava.lang.UnsupportedClassVersionError: com/android/sdklib/tool/AvdManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\nInterestingly, when I run $ANDROID_HOME/cmdline-tools/4.0/bin/avdmanager, everything works perfectly, and I don&#39;t encounter the error.\r\n\r\nI need guidance on how to use CLI version 4.0 with Java 11 without Android Studio interfering with the path, and how to resolve the class version error when using Java 11.\r\n\r\nAny help would be greatly appreciated. Thanks!","title":"Unable to Use Android CLI 4.0 with Java 11: PATH Issue with Android Studio","body":"<p>I'm having trouble getting Android CLI 4.0 to work as expected on my system. When I run which avdmanager, it always points to /opt/homebrew/bin/avdmanager, even though I've explicitly set my PATH to include the correct cmdline-tools/4.0/bin directory using export PATH=$PATH:$ANDROID_HOME/cmdline-tools/4.0/bin.</p>\n<p>It appears that Android Studio is introducing this new path in /opt, and because of this, my specified cmdline-tools directory in the PATH is not taking precedence. I need to use CLI 4.0 with Java 11, but it seems that Java 11 is causing an issue with the CLI, resulting in the error:</p>\n<p>vbnet\nCopy code\nError: Se ha producido un error de enlace al cargar la clase principal com.android.sdklib.tool.AvdManagerCli\njava.lang.UnsupportedClassVersionError: com/android/sdklib/tool/AvdManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\nInterestingly, when I run $ANDROID_HOME/cmdline-tools/4.0/bin/avdmanager, everything works perfectly, and I don't encounter the error.</p>\n<p>I need guidance on how to use CLI version 4.0 with Java 11 without Android Studio interfering with the path, and how to resolve the class version error when using Java 11.</p>\n<p>Any help would be greatly appreciated. Thanks!</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin","java-17"],"answers":[{"comments":[{"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"score":0,"creation_date":1693323503,"post_id":76995561,"comment_id":135744118,"body_markdown":"The above (first) worked for me. It seems that I was doing this in the incorrect pom.xml :-(","body":"The above (first) worked for me. It seems that I was doing this in the incorrect pom.xml :-("}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693251047,"creation_date":1693251047,"answer_id":76995561,"question_id":76995399,"body_markdown":"The first thing I see that you are configuring the includes which is not neccessary because those are the default. So in the end you can omit them.\r\n\r\nSecond to configure appropriate things for maven-surefire-plugin you should do it like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;plugin&gt; \r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;argLine&gt;\r\n            --add-opens java.base/java.lang=ALL-UNNAMED\r\n            --add-opens java.base/java.lang.reflect=ALL-UNNAMED\r\n            --add-opens java.base/java.util.concurrent=ALL-UNNAMED\r\n            --add-opens java.base/java.util=ALL-UNNAMED\r\n          &lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\nAlso I assume that you have to add those open to the maven-compiler-plugin configuration:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n              &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n              &lt;arg&gt;java.base/java.lang=ALL-UNNAMED&lt;/arg&gt;\r\n              &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n              &lt;arg&gt;java.base/java.lang.reflect=ALL-UNNAMED&lt;/arg&gt;\r\n              &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n              &lt;arg&gt;java.base/java.util.concurrent=ALL-UNNAMED&lt;/arg&gt;\r\n              &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n              &lt;arg&gt;java.base/java.util=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;/compilerArgs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\nAlso I would recheck if the error messages like those can&#39;t be solved in an other way. Maybe upgrading dependencies or alike? Have you used `module-info.class`? Module Path? ","title":"Maven Surefire plugin is not copying JVM Options","body":"<p>The first thing I see that you are configuring the includes which is not neccessary because those are the default. So in the end you can omit them.</p>\n<p>Second to configure appropriate things for maven-surefire-plugin you should do it like this:</p>\n\n<pre><code>&lt;plugin&gt; \n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;argLine&gt;\n        --add-opens java.base/java.lang=ALL-UNNAMED\n        --add-opens java.base/java.lang.reflect=ALL-UNNAMED\n        --add-opens java.base/java.util.concurrent=ALL-UNNAMED\n        --add-opens java.base/java.util=ALL-UNNAMED\n      &lt;/argLine&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Also I assume that you have to add those open to the maven-compiler-plugin configuration:</p>\n\n<pre><code>    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;compilerArgs&gt;\n          &lt;arg&gt;--add-opens&lt;/arg&gt;\n          &lt;arg&gt;java.base/java.lang=ALL-UNNAMED&lt;/arg&gt;\n          &lt;arg&gt;--add-opens&lt;/arg&gt;\n          &lt;arg&gt;java.base/java.lang.reflect=ALL-UNNAMED&lt;/arg&gt;\n          &lt;arg&gt;--add-opens&lt;/arg&gt;\n          &lt;arg&gt;java.base/java.util.concurrent=ALL-UNNAMED&lt;/arg&gt;\n          &lt;arg&gt;--add-opens&lt;/arg&gt;\n          &lt;arg&gt;java.base/java.util=ALL-UNNAMED&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>Also I would recheck if the error messages like those can't be solved in an other way. Maybe upgrading dependencies or alike? Have you used <code>module-info.class</code>? Module Path?</p>\n"}],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693251047,"creation_date":1693248943,"question_id":76995399,"body_markdown":"I need to upgrade my app to **JDK17**\r\n\r\nHowever, after this upgrade, the tests fail with an error `java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module`\r\n\r\nI&#39;m able to fix the error in my **Intellij** if I edit the test configuration and add the VM options `--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED`\r\n\r\nBut when I specify the same in my pom.xml file using `&lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;`, mvn does **NOT** pick it up and I run into the error again!\r\n\r\n**Any idea how to fix this problem?\r\nAny help is greatly appreciated**\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;skipTests&gt;${skip.surefire.integration.tests}&lt;/skipTests&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;forkCount&gt;10&lt;/forkCount&gt;\r\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                &lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.salesforce.atf&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;salesforce-test-client-provider&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.1&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.salesforce.atf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testclient-report-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;verify&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;stc-report-only&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Maven Surefire plugin is not copying JVM Options","body":"<p>I need to upgrade my app to <strong>JDK17</strong></p>\n<p>However, after this upgrade, the tests fail with an error <code>java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module</code></p>\n<p>I'm able to fix the error in my <strong>Intellij</strong> if I edit the test configuration and add the VM options <code>--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED</code></p>\n<p>But when I specify the same in my pom.xml file using <code>&lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;</code>, mvn does <strong>NOT</strong> pick it up and I run into the error again!</p>\n<p><strong>Any idea how to fix this problem?\nAny help is greatly appreciated</strong></p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;skipTests&gt;${skip.surefire.integration.tests}&lt;/skipTests&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;forkCount&gt;10&lt;/forkCount&gt;\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n                &lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.salesforce.atf&lt;/groupId&gt;\n                    &lt;artifactId&gt;salesforce-test-client-provider&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.1&lt;/version&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.salesforce.atf&lt;/groupId&gt;\n            &lt;artifactId&gt;testclient-report-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;stc-report-only&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","redirect","httpresponse","http-status-code-302","http-status-code-307"],"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1507489126,"post_id":46634209,"comment_id":80219023,"body_markdown":"See https://stackoverflow.com/questions/2068418/whats-the-difference-between-a-302-and-a-307-redirect","body":"See <a href=\"https://stackoverflow.com/questions/2068418/whats-the-difference-between-a-302-and-a-307-redirect\" title=\"whats the difference between a 302 and a 307 redirect\">stackoverflow.com/questions/2068418/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4555248,"reputation":27,"user_id":3699165,"display_name":"ABHI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693250844,"creation_date":1529673801,"answer_id":50988963,"question_id":46634209,"body_markdown":"Instead of using `sendRedirect`, set the `Location` header in the `response` object like so:\r\n\r\n    response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\r\n    response.setHeader(&quot;Location&quot;,&quot;https://we.google.com&quot;);\r\n    \r\n","title":"response.sendRedirect shows unwanted HttpStatus 302 instead of 307","body":"<p>Instead of using <code>sendRedirect</code>, set the <code>Location</code> header in the <code>response</code> object like so:</p>\n<pre><code>response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\nresponse.setHeader(&quot;Location&quot;,&quot;https://we.google.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":461603,"reputation":1545,"user_id":863403,"accept_rate":88,"display_name":"Joergi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2862,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693250844,"creation_date":1507485127,"question_id":46634209,"body_markdown":"I have a small test, which should return a HttpStatus with Temporary Redirect with HttpStatus Code 307.  \r\nBut it always returns a 302.  \r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/&quot;)\r\n    public class Controller {\r\n    \r\n        @ResponseStatus(HttpStatus.TEMPORARY_REDIRECT ) \r\n        @RequestMapping(value= &quot;test&quot;, method = RequestMethod.GET)\r\n        public void resolveUrl(HttpServletResponse response) throws IOException {\r\n            response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\r\n            response.sendRedirect(&quot;https://www.google.com&quot;);\r\n        }\r\n    }\r\n\r\nWhen I look into the documentation of `response.sendRedirect()` I can read this: \r\n\r\n&gt; Sends a temporary redirect response to the client using the specified\r\n&gt;      * redirect location URL.\r\n\r\nand the [documentation of temporary redirect is a 307][1]:\r\n\r\n&gt; 10.3.8 307 Temporary Redirect\r\n&gt; \r\n&gt; The requested resource resides temporarily under a different URI.\r\n&gt; Since the redirection MAY be altered on occasion, the client SHOULD\r\n&gt; continue to use the Request-URI for future requests. This response is\r\n&gt; only cacheable if indicated by a Cache-Control or Expires header\r\n&gt; field.\r\n\r\n(I know, that I don&#39;t need the `@ResponseStatus(HttpStatus.TEMPORARY_REDIRECT)` or the `response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);` but I want to show that it will not work with this things too!)\r\n\r\nBut my test shows that it was a 302 and not a 307\r\n\r\n&gt; java.lang.AssertionError: Status expected:&lt;307&gt; but was:&lt;302&gt;\r\n\r\nCan somebody explain this?\r\n\r\nMy small test for this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(Controller.class)\r\n    public class ControllerTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mvc;\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            MockHttpServletRequestBuilder requestBuilder = get(&quot;/test&quot;);\r\n            mvc.perform(requestBuilder).andExpect(status().isTemporaryRedirect())\r\n                    .andExpect(redirectedUrl(&quot;https://www.google.com&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n[Complete code can be found at github][2]\r\n\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\r\n  [2]: https://github.com/joergi/temporalymoved","title":"response.sendRedirect shows unwanted HttpStatus 302 instead of 307","body":"<p>I have a small test, which should return a HttpStatus with Temporary Redirect with HttpStatus Code 307.<br>\nBut it always returns a 302.  </p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/\")\npublic class Controller {\n\n    @ResponseStatus(HttpStatus.TEMPORARY_REDIRECT ) \n    @RequestMapping(value= \"test\", method = RequestMethod.GET)\n    public void resolveUrl(HttpServletResponse response) throws IOException {\n        response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\n        response.sendRedirect(\"https://www.google.com\");\n    }\n}\n</code></pre>\n\n<p>When I look into the documentation of <code>response.sendRedirect()</code> I can read this: </p>\n\n<blockquote>\n  <p>Sends a temporary redirect response to the client using the specified\n       * redirect location URL.</p>\n</blockquote>\n\n<p>and the <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" rel=\"nofollow noreferrer\">documentation of temporary redirect is a 307</a>:</p>\n\n<blockquote>\n  <p>10.3.8 307 Temporary Redirect</p>\n  \n  <p>The requested resource resides temporarily under a different URI.\n  Since the redirection MAY be altered on occasion, the client SHOULD\n  continue to use the Request-URI for future requests. This response is\n  only cacheable if indicated by a Cache-Control or Expires header\n  field.</p>\n</blockquote>\n\n<p>(I know, that I don't need the <code>@ResponseStatus(HttpStatus.TEMPORARY_REDIRECT)</code> or the <code>response.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);</code> but I want to show that it will not work with this things too!)</p>\n\n<p>But my test shows that it was a 302 and not a 307</p>\n\n<blockquote>\n  <p>java.lang.AssertionError: Status expected:&lt;307> but was:&lt;302></p>\n</blockquote>\n\n<p>Can somebody explain this?</p>\n\n<p>My small test for this:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(Controller.class)\npublic class ControllerTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Test\n    public void test() throws Exception {\n        MockHttpServletRequestBuilder requestBuilder = get(\"/test\");\n        mvc.perform(requestBuilder).andExpect(status().isTemporaryRedirect())\n                .andExpect(redirectedUrl(\"https://www.google.com\"));\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://github.com/joergi/temporalymoved\" rel=\"nofollow noreferrer\">Complete code can be found at github</a></p>\n"},{"tags":["java","gitlab"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1693247445,"post_id":76995092,"comment_id":135732638,"body_markdown":"Why do you expect GitLab to parse markdown in Java files? Can you share the relevant file?","body":"Why do you expect GitLab to parse markdown in Java files? Can you share the relevant file?"},{"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"score":0,"creation_date":1693250582,"post_id":76995092,"comment_id":135733189,"body_markdown":"@dan1st That&#39;s reasonable. What I am doing currently is copying the markdown comment and pasting it into some online markdown viewer to understand it which is inconvenient. I see some code written like that in my company. Not sure if this is a recommended practice or should be avoided?","body":"@dan1st That&#39;s reasonable. What I am doing currently is copying the markdown comment and pasting it into some online markdown viewer to understand it which is inconvenient. I see some code written like that in my company. Not sure if this is a recommended practice or should be avoided?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1693251793,"post_id":76995092,"comment_id":135733377,"body_markdown":"That&#39;s not Markdown, that&#39;s plain ol&#39; HTML. (But why would GitLab render HTML in a Java file? You want to see the source code, not the rendered or compiler version of it)","body":"That&#39;s not Markdown, that&#39;s plain ol&#39; HTML. (But why would GitLab render HTML in a Java file? You want to see the source code, not the rendered or compiler version of it)"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1693252220,"post_id":76995092,"comment_id":135733436,"body_markdown":"Do you expect a Javadoc viewer? You can use your IDE for that. Why do you think GitLab is supposed to do that?","body":"Do you expect a Javadoc viewer? You can use your IDE for that. Why do you think GitLab is supposed to do that?"}],"owner":{"account_id":20090406,"reputation":415,"user_id":14731030,"display_name":"pensee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693250431,"creation_date":1693245758,"question_id":76995092,"body_markdown":"In a Java file on GitLab, I see the following in the comments:  \r\n`&lt;br&gt;&amp;lt;Configuration&amp;gt;`   \r\n Not sure why GitLab is not parsing the markdown and displaying it properly.  \r\n Is there a way to do it?  \r\n or markdown things should not be in the comments in a Java file  \r\nHere is a minimal version of the file:  \r\n\r\n     package abc.xyz;\r\n        \r\n     import abc.util.SUtil; \r\n        /**\r\n        *\r\n        *&lt;table border=&quot;1&quot;&gt;\r\n        *&lt;tr&gt; \r\n        *.\r\n        *.\r\n        *.\r\n        **/\r\n     public class XP {\r\n        /** &lt;br&gt;&amp;lt;Configuration&amp;gt;\r\n        *.\r\n        *.\r\n        **/\r\n      void method(){\r\n         }\r\n        }\r\n    \r\n\r\nHere the markdown comments above the method explain what the method does.","title":"Gitlab not processing markdown in comments in a java file","body":"<p>In a Java file on GitLab, I see the following in the comments:<br />\n<code>&lt;br&gt;&amp;lt;Configuration&amp;gt;</code><br />\nNot sure why GitLab is not parsing the markdown and displaying it properly.<br />\nIs there a way to do it?<br />\nor markdown things should not be in the comments in a Java file<br />\nHere is a minimal version of the file:</p>\n<pre><code> package abc.xyz;\n    \n import abc.util.SUtil; \n    /**\n    *\n    *&lt;table border=&quot;1&quot;&gt;\n    *&lt;tr&gt; \n    *.\n    *.\n    *.\n    **/\n public class XP {\n    /** &lt;br&gt;&amp;lt;Configuration&amp;gt;\n    *.\n    *.\n    **/\n  void method(){\n     }\n    }\n</code></pre>\n<p>Here the markdown comments above the method explain what the method does.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":91845,"reputation":258335,"user_id":252000,"accept_rate":95,"display_name":"fredoverflow"},"score":18,"creation_date":1310644774,"post_id":6692664,"comment_id":7919429,"body_markdown":"In computer science, indices start at 0, not 1 ;-)","body":"In computer science, indices start at 0, not 1 ;-)"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1310646047,"post_id":6692664,"comment_id":7919794,"body_markdown":"Are you sure you want to? Generally you shouldn&#39;t be touching the ordinal, other than implementing low-level data structures (and then, use alternative mechanisms, such as name, for persistence).","body":"Are you sure you want to? Generally you shouldn&#39;t be touching the ordinal, other than implementing low-level data structures (and then, use alternative mechanisms, such as name, for persistence)."},{"owner":{"account_id":51752,"reputation":1912,"user_id":154640,"accept_rate":100,"display_name":"Chris Aldrich"},"score":0,"creation_date":1310647636,"post_id":6692664,"comment_id":7920282,"body_markdown":"You could also have used the constants in the java.util.Calendar class too. They are numbered 0 - 11 for Jan - Dec. Be careful of 12 as that is UnDecember (something to do with the lunar calendar). But I&#39;m just curious why re-inventing the wheel of month constants that already comes &quot;stock&quot; in the JRE?","body":"You could also have used the constants in the java.util.Calendar class too. They are numbered 0 - 11 for Jan - Dec. Be careful of 12 as that is UnDecember (something to do with the lunar calendar). But I&#39;m just curious why re-inventing the wheel of month constants that already comes &quot;stock&quot; in the JRE?"},{"owner":{"account_id":245471,"reputation":5488,"user_id":518983,"accept_rate":75,"display_name":"jk_"},"score":0,"creation_date":1310652175,"post_id":6692664,"comment_id":7921777,"body_markdown":"2FredOverflow: Aggree, I used wrong indexing.   \n2Tom Hawtin: Yes, I am sure. I persist data with some framework and I get back integer index, not the enum.  \n2Chris Aldrich: This is just dummy example which does not match real case.","body":"2FredOverflow: Aggree, I used wrong indexing.    2Tom Hawtin: Yes, I am sure. I persist data with some framework and I get back integer index, not the enum.   2Chris Aldrich: This is just dummy example which does not match real case."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1554927762,"post_id":6692664,"comment_id":97934479,"body_markdown":"By the way, Java 8 and later comes with a [`Month`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html) enum built-in.","body":"By the way, Java 8 and later comes with a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum built-in."}],"answers":[{"comments":[{"owner":{"account_id":133281,"reputation":2590,"user_id":334526,"accept_rate":20,"display_name":"Christopher Barber"},"score":47,"creation_date":1380845506,"post_id":6692713,"comment_id":28362010,"body_markdown":"Note that will clone a copy of the values array each time, so if you are calling this in the inner loop of performance sensitive code you might want to make a static copy and use that.","body":"Note that will clone a copy of the values array each time, so if you are calling this in the inner loop of performance sensitive code you might want to make a static copy and use that."},{"owner":{"account_id":2376511,"reputation":1920,"user_id":2079692,"accept_rate":50,"display_name":"Anudeep Samaiya"},"score":1,"creation_date":1442849017,"post_id":6692713,"comment_id":53240906,"body_markdown":"I m confused, then why would I not want use an array instead ?","body":"I m confused, then why would I not want use an array instead ?"},{"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"score":0,"creation_date":1442897632,"post_id":6692713,"comment_id":53260354,"body_markdown":"@AnudeepSamaiya may be we want to use proper enum constants(Months.JAN) in code instead of months[1] everywhere.","body":"@AnudeepSamaiya may be we want to use proper enum constants(Months.JAN) in code instead of months[1] everywhere."},{"owner":{"account_id":2875973,"reputation":321,"user_id":2468042,"display_name":"muelleth"},"score":1,"creation_date":1472631113,"post_id":6692713,"comment_id":65824401,"body_markdown":"@Christopher Barber here&#39;s a one-liner for &quot;making a static copy&quot;: `public static final ArrayList&lt;Months&gt; ALL = new ArrayList&lt;Month&gt;()\t{{ for (Months m : Months.values()) add(m); }};`, then you can access the elements with `Months i = ALL.get(index)`","body":"@Christopher Barber here&#39;s a one-liner for &quot;making a static copy&quot;: <code>public static final ArrayList&lt;Months&gt; ALL = new ArrayList&lt;Month&gt;()\t{{ for (Months m : Months.values()) add(m); }};</code>, then you can access the elements with <code>Months i = ALL.get(index)</code>"},{"owner":{"account_id":133281,"reputation":2590,"user_id":334526,"accept_rate":20,"display_name":"Christopher Barber"},"score":0,"creation_date":1472674596,"post_id":6692713,"comment_id":65852564,"body_markdown":"It would be easier to simply use Months.values().clone() or if you are paranoid about mutability to wrap it in an immutable list (see Collections)","body":"It would be easier to simply use Months.values().clone() or if you are paranoid about mutability to wrap it in an immutable list (see Collections)"}],"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"comment_count":5,"down_vote_count":0,"up_vote_count":273,"is_accepted":true,"score":273,"last_activity_date":1310644409,"creation_date":1310644409,"answer_id":6692713,"question_id":6692664,"body_markdown":"Try this\r\n\r\n    Months.values()[index]","title":"How to get Enum Value from index in Java?","body":"<p>Try this</p>\n\n<pre><code>Months.values()[index]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":5,"creation_date":1310646261,"post_id":6692800,"comment_id":7919854,"body_markdown":"`public static` mutable (both array and non-`final`). Euw. And an `IllegalArgumentException` would make much more sense than returning a `null` bomb.","body":"<code>public static</code> mutable (both array and non-<code>final</code>). Euw. And an <code>IllegalArgumentException</code> would make much more sense than returning a <code>null</code> bomb."}],"tags":[],"owner":{"account_id":70703,"reputation":1754,"user_id":204786,"display_name":"Trever Shick"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1310644882,"creation_date":1310644882,"answer_id":6692800,"question_id":6692664,"body_markdown":"Here&#39;s three ways to do it.\r\n\r\n\r\n\r\n    public enum Months {\r\n\t    JAN(1), FEB(2), MAR(3), APR(4), MAY(5), JUN(6), JUL(7), AUG(8), SEP(9), OCT(10), NOV(11), DEC(12);\r\n\t    \r\n\r\n\t    int monthOrdinal = 0;\r\n\t    \r\n\t    Months(int ord) {\r\n\t    \tthis.monthOrdinal = ord;\r\n\t    }\r\n\r\n\t    public static Months byOrdinal2ndWay(int ord) {\r\n\t    \treturn Months.values()[ord-1]; // less safe\r\n\t    }\r\n\t    \r\n\t    public static Months byOrdinal(int ord) {\r\n\t    \tfor (Months m : Months.values()) {\r\n\t    \t\tif (m.monthOrdinal == ord) {\r\n\t    \t\t\treturn m;\r\n\t    \t\t}\r\n\t    \t}\r\n\t    \treturn null;\r\n\t    }\r\n\t    public static Months[] MONTHS_INDEXED = new Months[] { null, JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC };\r\n\t    \r\n    }\r\n\r\n\r\n\r\n\r\n    import static junit.framework.Assert.assertEquals;\r\n\r\n    import org.junit.Test;\r\n\r\n    public class MonthsTest {\r\n\t\r\n\t@Test\r\n\tpublic void test_indexed_access() {\r\n\t\tassertEquals(Months.MONTHS_INDEXED[1], Months.JAN);\r\n\t\tassertEquals(Months.MONTHS_INDEXED[2], Months.FEB);\r\n\t\t\r\n\t\tassertEquals(Months.byOrdinal(1), Months.JAN);\r\n\t\tassertEquals(Months.byOrdinal(2), Months.FEB);\r\n\r\n\t\r\n\t\tassertEquals(Months.byOrdinal2ndWay(1), Months.JAN);\r\n\t\tassertEquals(Months.byOrdinal2ndWay(2), Months.FEB);\r\n    }\r\n\r\n    }\r\n","title":"How to get Enum Value from index in Java?","body":"<p>Here's three ways to do it.</p>\n\n<pre><code>public enum Months {\n    JAN(1), FEB(2), MAR(3), APR(4), MAY(5), JUN(6), JUL(7), AUG(8), SEP(9), OCT(10), NOV(11), DEC(12);\n\n\n    int monthOrdinal = 0;\n\n    Months(int ord) {\n        this.monthOrdinal = ord;\n    }\n\n    public static Months byOrdinal2ndWay(int ord) {\n        return Months.values()[ord-1]; // less safe\n    }\n\n    public static Months byOrdinal(int ord) {\n        for (Months m : Months.values()) {\n            if (m.monthOrdinal == ord) {\n                return m;\n            }\n        }\n        return null;\n    }\n    public static Months[] MONTHS_INDEXED = new Months[] { null, JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC };\n\n}\n\n\n\n\nimport static junit.framework.Assert.assertEquals;\n\nimport org.junit.Test;\n\npublic class MonthsTest {\n\n@Test\npublic void test_indexed_access() {\n    assertEquals(Months.MONTHS_INDEXED[1], Months.JAN);\n    assertEquals(Months.MONTHS_INDEXED[2], Months.FEB);\n\n    assertEquals(Months.byOrdinal(1), Months.JAN);\n    assertEquals(Months.byOrdinal(2), Months.FEB);\n\n\n    assertEquals(Months.byOrdinal2ndWay(1), Months.JAN);\n    assertEquals(Months.byOrdinal2ndWay(2), Months.FEB);\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1651101169,"post_id":48783112,"comment_id":127285391,"body_markdown":"Are you sure this works as is with the static block?  `.values()` normally supplies a clone of the internal (static) array, not the mere reference.  That array is presumably preallocated internally, sure, but it would be populated with nulls at the point of the `static{}` block (before the object had a chance to run any of the constructors).  I might use `.values()`, but only on the first call to `get(index)`, where it stuffs the array away for later indexing, or fill each value incrementally in the constructor.","body":"Are you sure this works as is with the static block?  <code>.values()</code> normally supplies a clone of the internal (static) array, not the mere reference.  That array is presumably preallocated internally, sure, but it would be populated with nulls at the point of the <code>static{}</code> block (before the object had a chance to run any of the constructors).  I might use <code>.values()</code>, but only on the first call to <code>get(index)</code>, where it stuffs the array away for later indexing, or fill each value incrementally in the constructor."}],"tags":[],"owner":{"account_id":12944086,"reputation":113,"user_id":9358945,"display_name":"Blauspecht"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1518601429,"creation_date":1518598637,"answer_id":48783112,"question_id":6692664,"body_markdown":"I just tried the same and came up with following solution:\r\n\r\n    public enum Countries {\r\n\t    TEXAS,\r\n\t    FLORIDA,\r\n\t\tOKLAHOMA,\r\n\t\tKENTUCKY;\r\n\r\n\t\tprivate static Countries[] list = Countries.values();\r\n\t\r\n\t\tpublic static Countries getCountry(int i) {\r\n\t\t\treturn list[i];\r\n\t\t}\r\n\t\r\n\t\tpublic static int listGetLastIndex() {\r\n\t\t\treturn list.length - 1;\r\n\t\t}\r\n\t}\r\n\r\nThe class has it&#39;s own values saved inside an array, and I use the array to get the enum at indexposition. As mentioned above arrays begin to count from 0, if you want your index to start from &#39;1&#39; simply change these two methods to:\r\n\r\n    public static String getCountry(int i) {\r\n\t\treturn list[(i - 1)];\r\n\t}\r\n\t\r\n\tpublic static int listGetLastIndex() {\r\n\t\treturn list.length;\r\n\t}\r\n\r\nInside my Main I get the needed countries-object with \r\n\r\n    public static void main(String[] args) {\r\n       int i = Countries.listGetLastIndex();\r\n\t   Countries currCountry = Countries.getCountry(i);\r\n\t}\r\nwhich sets currCountry to the last country, in this case Countries.KENTUCKY.\r\n\r\nJust remember this code is very affected by ArrayOutOfBoundsExceptions if you&#39;re using hardcoded indicies to get your objects.","title":"How to get Enum Value from index in Java?","body":"<p>I just tried the same and came up with following solution:</p>\n\n<pre><code>public enum Countries {\n    TEXAS,\n    FLORIDA,\n    OKLAHOMA,\n    KENTUCKY;\n\n    private static Countries[] list = Countries.values();\n\n    public static Countries getCountry(int i) {\n        return list[i];\n    }\n\n    public static int listGetLastIndex() {\n        return list.length - 1;\n    }\n}\n</code></pre>\n\n<p>The class has it's own values saved inside an array, and I use the array to get the enum at indexposition. As mentioned above arrays begin to count from 0, if you want your index to start from '1' simply change these two methods to:</p>\n\n<pre><code>public static String getCountry(int i) {\n    return list[(i - 1)];\n}\n\npublic static int listGetLastIndex() {\n    return list.length;\n}\n</code></pre>\n\n<p>Inside my Main I get the needed countries-object with </p>\n\n<pre><code>public static void main(String[] args) {\n   int i = Countries.listGetLastIndex();\n   Countries currCountry = Countries.getCountry(i);\n}\n</code></pre>\n\n<p>which sets currCountry to the last country, in this case Countries.KENTUCKY.</p>\n\n<p>Just remember this code is very affected by ArrayOutOfBoundsExceptions if you're using hardcoded indicies to get your objects.</p>\n"},{"comments":[{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1651100296,"post_id":55163510,"comment_id":127285251,"body_markdown":"I&#39;m missing the need for this complexity.  Why not keep an internal array of everything in the enum?  (In addition to it&#39;s own internal array).  It&#39;s easy, straightforward, and your `getById()` is always an array lookup, instead of an array lookup on a _cloned_ array from `.values()` (which is the way most do it), or the internal hashmap lookup you&#39;re keeping.","body":"I&#39;m missing the need for this complexity.  Why not keep an internal array of everything in the enum?  (In addition to it&#39;s own internal array).  It&#39;s easy, straightforward, and your <code>getById()</code> is always an array lookup, instead of an array lookup on a <i>cloned</i> array from <code>.values()</code> (which is the way most do it), or the internal hashmap lookup you&#39;re keeping."}],"tags":[],"owner":{"account_id":15269665,"reputation":121,"user_id":11017239,"display_name":"Mirko Brandt"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552569741,"creation_date":1552569233,"answer_id":55163510,"question_id":6692664,"body_markdown":"I recently had the same problem and used the solution provided by Harry Joy. \r\nThat solution only works with with zero-based enumaration though. I also wouldn&#39;t consider it save as it doesn&#39;t deal with indexes that are out of range.\r\n\r\nThe solution I ended up using might not be as simple but it&#39;s completely save and won&#39;t hurt the performance of your code even with big enums:\r\n```\r\npublic enum Example {\r\n\r\n\tUNKNOWN(0, &quot;unknown&quot;), ENUM1(1, &quot;enum1&quot;), ENUM2(2, &quot;enum2&quot;), ENUM3(3, &quot;enum3&quot;);\r\n\r\n\tprivate static HashMap&lt;Integer, Example&gt; enumById = new HashMap&lt;&gt;();\r\n\tstatic {\r\n\t\tArrays.stream(values()).forEach(e -&gt; enumById.put(e.getId(), e));\r\n\t}\r\n\r\n\tpublic static Example getById(int id) {\r\n\t\treturn enumById.getOrDefault(id, UNKNOWN);\r\n\t}\r\n\r\n\tprivate int id;\r\n\tprivate String description;\r\n\r\n\tprivate Example(int id, String description) {\r\n\t\tthis.id = id;\r\n\t\tthis.description= description;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n}\r\n```\r\nIf you are sure that you will never be out of range with your index and you don&#39;t want to use `UNKNOWN` like I did above you can of course also do:\r\n\r\n```\r\npublic static Example getById(int id) {\r\n        return enumById.get(id);\r\n}\r\n```","title":"How to get Enum Value from index in Java?","body":"<p>I recently had the same problem and used the solution provided by Harry Joy. \nThat solution only works with with zero-based enumaration though. I also wouldn't consider it save as it doesn't deal with indexes that are out of range.</p>\n\n<p>The solution I ended up using might not be as simple but it's completely save and won't hurt the performance of your code even with big enums:</p>\n\n<pre><code>public enum Example {\n\n    UNKNOWN(0, \"unknown\"), ENUM1(1, \"enum1\"), ENUM2(2, \"enum2\"), ENUM3(3, \"enum3\");\n\n    private static HashMap&lt;Integer, Example&gt; enumById = new HashMap&lt;&gt;();\n    static {\n        Arrays.stream(values()).forEach(e -&gt; enumById.put(e.getId(), e));\n    }\n\n    public static Example getById(int id) {\n        return enumById.getOrDefault(id, UNKNOWN);\n    }\n\n    private int id;\n    private String description;\n\n    private Example(int id, String description) {\n        this.id = id;\n        this.description= description;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public int getId() {\n        return id;\n    }\n}\n</code></pre>\n\n<p>If you are sure that you will never be out of range with your index and you don't want to use <code>UNKNOWN</code> like I did above you can of course also do:</p>\n\n<pre><code>public static Example getById(int id) {\n        return enumById.get(id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693250046,"creation_date":1693249692,"answer_id":76995465,"question_id":6692664,"body_markdown":"The natural ordering of Java enums is **by the order of the values declared** in the enum. Unfortunately, using *values()* method will allocate new array on each invocation. Thus creating performance issues.\r\n\r\n**static initializer** can assign ordinal to each enum member based on natural order. Thus we don&#39;t have to maintain order -&gt; id mapping. Additionally using cached *values()* response solves issue with constant allocation.\r\n\r\n\r\n    enum Months {\r\n        JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC;\r\n\r\n        int ordinal;     // ordinal will start from 1\r\n\r\n        // cached instance used as optimization\r\n        final static Months[] values = Months.values();\r\n\r\n        static {\r\n            // ordinal is initialized based on enum natural order\r\n            int counter = 1;\r\n            for (Months m: values)\r\n                m.ordinal = counter++;  \r\n        }\r\n\r\n        public static Months getMonth(int ordinal) {\r\n            return values[ordinal - 1];\r\n        }\r\n    }\r\n\r\n\r\nI had similar issue rising using JDBC ResultSet. I wanted to use ResultSet&#39;s index methods for field access, but I did not want to stop using column names as column count is high. ResultSet is also numbered starting 1 as first element. Similar enum was a natural solution to the problem.","title":"How to get Enum Value from index in Java?","body":"<p>The natural ordering of Java enums is <strong>by the order of the values declared</strong> in the enum. Unfortunately, using <em>values()</em> method will allocate new array on each invocation. Thus creating performance issues.</p>\n<p><strong>static initializer</strong> can assign ordinal to each enum member based on natural order. Thus we don't have to maintain order -&gt; id mapping. Additionally using cached <em>values()</em> response solves issue with constant allocation.</p>\n<pre><code>enum Months {\n    JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC;\n\n    int ordinal;     // ordinal will start from 1\n\n    // cached instance used as optimization\n    final static Months[] values = Months.values();\n\n    static {\n        // ordinal is initialized based on enum natural order\n        int counter = 1;\n        for (Months m: values)\n            m.ordinal = counter++;  \n    }\n\n    public static Months getMonth(int ordinal) {\n        return values[ordinal - 1];\n    }\n}\n</code></pre>\n<p>I had similar issue rising using JDBC ResultSet. I wanted to use ResultSet's index methods for field access, but I did not want to stop using column names as column count is high. ResultSet is also numbered starting 1 as first element. Similar enum was a natural solution to the problem.</p>\n"}],"owner":{"account_id":245471,"reputation":5488,"user_id":518983,"accept_rate":75,"display_name":"jk_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204628,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":6692713,"answer_count":5,"score":111,"last_activity_date":1693250046,"creation_date":1310644174,"question_id":6692664,"body_markdown":"I have an enum in Java:\r\n\r\n    public enum Months\r\n    {\r\n        JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC\r\n    }\r\n\r\nI want to access enum values by index, e.g.\r\n\r\n    Months(1) = JAN;\r\n    Months(2) = FEB;\r\n    ...\r\n\r\nHow shall I do that?","title":"How to get Enum Value from index in Java?","body":"<p>I have an enum in Java:</p>\n\n<pre><code>public enum Months\n{\n    JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC\n}\n</code></pre>\n\n<p>I want to access enum values by index, e.g.</p>\n\n<pre><code>Months(1) = JAN;\nMonths(2) = FEB;\n...\n</code></pre>\n\n<p>How shall I do that?</p>\n"},{"tags":["java","oracle","hibernate","ora-17004"],"comments":[{"owner":{"account_id":186344,"reputation":10769,"user_id":423673,"display_name":"baklarz2048"},"score":0,"creation_date":1285741854,"post_id":3819135,"comment_id":4052807,"body_markdown":"&quot;I also tried getting the getInnermostDelegate but this also does not work.&quot; I always use getInnermostDelegate(); and it works. Please send error with getInnermostDelegate/* Connection oracleConnection = conn;\n\nif (conn instanceof org.apache.commons.dbcp.DelegatingConnection) {\noracleConnection = ((org.apache.commons.dbcp.DelegatingConnection)conn).getInnermostDelegate();\n} */","body":"&quot;I also tried getting the getInnermostDelegate but this also does not work.&quot; I always use getInnermostDelegate(); and it works. Please send error with getInnermostDelegate/* Connection oracleConnection = conn;  if (conn instanceof org.apache.commons.dbcp.DelegatingConnection) { oracleConnection = ((org.apache.commons.dbcp.DelegatingConnection)conn).getInne&zwnj;&#8203;rmostDelegate(); } */"}],"answers":[{"tags":[],"owner":{"account_id":198402,"reputation":1951,"user_id":443034,"accept_rate":33,"display_name":"Bassel Kh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356855193,"creation_date":1356855193,"answer_id":14089282,"question_id":3819135,"body_markdown":"I faced a lots of problem using XMLType from java, I fixed this problem is a very simple way.\r\n\r\nI changed the input data type from oracle DB side, from XMLtype to CLOB, then I easily pass CLOB and at the first line in the stored procedure; I built an XMLType from CLOB.\r\n\r\nCLOB is very straight forward in java, just use it as String (`statement.setString(1, string);`)","title":"How to Oracle XMLTYPE in Hibernate","body":"<p>I faced a lots of problem using XMLType from java, I fixed this problem is a very simple way.</p>\n\n<p>I changed the input data type from oracle DB side, from XMLtype to CLOB, then I easily pass CLOB and at the first line in the stored procedure; I built an XMLType from CLOB.</p>\n\n<p>CLOB is very straight forward in java, just use it as String (<code>statement.setString(1, string);</code>)</p>\n"},{"tags":[],"owner":{"account_id":1752885,"reputation":751,"user_id":1601579,"display_name":"Matt M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376687321,"creation_date":1376687321,"answer_id":18282152,"question_id":3819135,"body_markdown":"I solved this same problem, but mapped the XMLType column to java.lang.String in my entity, which simplified the solution.\r\n\r\nI left a detailed, [step-by-step solution as an answer to another question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18282094/1601579","title":"How to Oracle XMLTYPE in Hibernate","body":"<p>I solved this same problem, but mapped the XMLType column to java.lang.String in my entity, which simplified the solution.</p>\n\n<p>I left a detailed, <a href=\"https://stackoverflow.com/a/18282094/1601579\">step-by-step solution as an answer to another question</a>.</p>\n"}],"owner":{"account_id":121382,"reputation":169,"user_id":314431,"accept_rate":44,"display_name":"Kiru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9341,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1693249721,"creation_date":1285740263,"question_id":3819135,"body_markdown":"One of the column is of the type XMLTYPE in Oracle database.\r\nIn my application, I want to persist the data and using Hibernate.\r\n\r\nI did the following for mapping XMLTYPE in hibernate\r\n\r\n1. Define the custom user type implementing UserType\r\n\r\n2. The custom user type implementation is based on the blog link - [http://community.jboss.org/wiki/MappingOracleXmlTypetoDocument][1]\r\n\r\n3.  ut we are not using C3p0 connection pool and instead we are using DBCP\r\n\r\nI am facing issue while creating the XMLType in the custom user type\r\n\r\n    XMLType.createXML(st.getConnection(),HibernateXMLType.domToString((Document) value));\r\n\r\nwhere st is the preparedStatement passed to the method.\r\n\r\nThe **connection object returned by st.getConnection() is of the type org.apache.commons.dbcp.PoolableConnection**\r\n\r\n**But the createXML method expects connection object only of the type oracle.jdbc.OracleConnection**\r\n\r\nI also tried getting the getInnermostDelegate but this also does not work.\r\n\r\nThe XMLTYPE creation methods are in the included jar xdb.jar - will there be any changes depending on the versions included?\r\n\r\nThanks\r\n\r\n\r\n  [1]: http://community.jboss.org/wiki/MappingOracleXmlTypetoDocument\r\n\r\n\r\n\r\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n\r\nGot the SQLConnection object using the below code-\r\n\r\n    SimpleNativeJdbcExtractor extractor = new SimpleNativeJdbcExtractor();\r\n    PoolableConnection poolableConnection = (PoolableConnection) extractor\r\n    \t\t\t\t.getNativeConnection(st.getConnection());\r\n    Connection sqlConnection = poolableConnection.getInnermostDelegate();\r\n\r\nNow, the error message is **java.sql.SQLException: Invalid column type**\r\n\r\nBelow is the over ridden method\r\n\r\n    public void nullSafeSet(PreparedStatement st, Object value, int index)\r\n    \t\t\tthrows HibernateException, SQLException {\r\n    \r\n    \t\tSimpleNativeJdbcExtractor extractor = new SimpleNativeJdbcExtractor();\r\n    \t\tPoolableConnection poolableConnection = (PoolableConnection) extractor\r\n    \t\t\t\t.getNativeConnection(st.getConnection());\r\n    \t\tConnection sqlConnection = poolableConnection.getInnermostDelegate();\r\n    \r\n    \t\ttry {\r\n    \t\t\tXMLType xmlType = null;\r\n    \t\t\tif (value != null) {\r\n    \t\t\t\txmlType.createXML(sqlConnection, HibernateXMLType\r\n    \t\t\t\t\t\t.domToString((Document) value));\r\n    \r\n    \t\t\t}\r\n    \t\t\tst.setObject(index, xmlType);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tthrow new SQLException(\r\n    \t\t\t\t\t&quot;Could not convert Document to String for storage&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\n**Left with no clue now...**","title":"How to Oracle XMLTYPE in Hibernate","body":"<p>One of the column is of the type XMLTYPE in Oracle database.\nIn my application, I want to persist the data and using Hibernate.</p>\n\n<p>I did the following for mapping XMLTYPE in hibernate</p>\n\n<ol>\n<li><p>Define the custom user type implementing UserType</p></li>\n<li><p>The custom user type implementation is based on the blog link - <a href=\"http://community.jboss.org/wiki/MappingOracleXmlTypetoDocument\" rel=\"nofollow\">http://community.jboss.org/wiki/MappingOracleXmlTypetoDocument</a></p></li>\n<li><p>ut we are not using C3p0 connection pool and instead we are using DBCP</p></li>\n</ol>\n\n<p>I am facing issue while creating the XMLType in the custom user type</p>\n\n<pre><code>XMLType.createXML(st.getConnection(),HibernateXMLType.domToString((Document) value));\n</code></pre>\n\n<p>where st is the preparedStatement passed to the method.</p>\n\n<p>The <strong>connection object returned by st.getConnection() is of the type org.apache.commons.dbcp.PoolableConnection</strong></p>\n\n<p><strong>But the createXML method expects connection object only of the type oracle.jdbc.OracleConnection</strong></p>\n\n<p>I also tried getting the getInnermostDelegate but this also does not work.</p>\n\n<p>The XMLTYPE creation methods are in the included jar xdb.jar - will there be any changes depending on the versions included?</p>\n\n<p>Thanks</p>\n\n<p>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p>\n\n<p>Got the SQLConnection object using the below code-</p>\n\n<pre><code>SimpleNativeJdbcExtractor extractor = new SimpleNativeJdbcExtractor();\nPoolableConnection poolableConnection = (PoolableConnection) extractor\n                .getNativeConnection(st.getConnection());\nConnection sqlConnection = poolableConnection.getInnermostDelegate();\n</code></pre>\n\n<p>Now, the error message is <strong>java.sql.SQLException: Invalid column type</strong></p>\n\n<p>Below is the over ridden method</p>\n\n<pre><code>public void nullSafeSet(PreparedStatement st, Object value, int index)\n            throws HibernateException, SQLException {\n\n        SimpleNativeJdbcExtractor extractor = new SimpleNativeJdbcExtractor();\n        PoolableConnection poolableConnection = (PoolableConnection) extractor\n                .getNativeConnection(st.getConnection());\n        Connection sqlConnection = poolableConnection.getInnermostDelegate();\n\n        try {\n            XMLType xmlType = null;\n            if (value != null) {\n                xmlType.createXML(sqlConnection, HibernateXMLType\n                        .domToString((Document) value));\n\n            }\n            st.setObject(index, xmlType);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new SQLException(\n                    \"Could not convert Document to String for storage\");\n        }\n    }\n</code></pre>\n\n<p><strong>Left with no clue now...</strong></p>\n"},{"tags":["java","intellij-idea","dependencies","connection","application-settings"],"owner":{"account_id":29316756,"reputation":1,"user_id":22461333,"display_name":"ONKAR SURYAWANSHI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693249526,"creation_date":1693249326,"question_id":76995430,"body_markdown":"[error image](https://i.stack.imgur.com/WfIdu.png)\r\n\r\ngetting an error as in above image while tring to run application in intellij.\r\nI have one another service running on &lt;service-name&gt;.default.8080 this is setup properly.\r\nnot much I onlie found regarding this issue.\r\nthank you \r\ntried 1. restart 2. unblocking specific ports 3. cache clean up nothing working also not much ","title":"client.ApiException: java.net.NoRouteToHostException: No route to host (Host unreachable) getting error while running java code","body":"<p><a href=\"https://i.stack.imgur.com/WfIdu.png\" rel=\"nofollow noreferrer\">error image</a></p>\n<p>getting an error as in above image while tring to run application in intellij.\nI have one another service running on .default.8080 this is setup properly.\nnot much I onlie found regarding this issue.\nthank you\ntried 1. restart 2. unblocking specific ports 3. cache clean up nothing working also not much</p>\n"},{"tags":["java","node.js","web","electron","frontend"],"comments":[{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1693006492,"post_id":45638644,"comment_id":135707588,"body_markdown":"I&#39;ve been wondering if it&#39;s possible to use https://github.com/joeferner/node-java to ship a JAR of my Java services inside Electron&#39;s Node.js backend via JNI (not command line)","body":"I&#39;ve been wondering if it&#39;s possible to use <a href=\"https://github.com/joeferner/node-java\" rel=\"nofollow noreferrer\">github.com/joeferner/node-java</a> to ship a JAR of my Java services inside Electron&#39;s Node.js backend via JNI (not command line)"}],"answers":[{"comments":[{"owner":{"account_id":2890770,"reputation":123,"user_id":2479622,"accept_rate":100,"display_name":"Hugo Hernandez"},"score":0,"creation_date":1654267433,"post_id":45690645,"comment_id":128057384,"body_markdown":"What do you mean with &quot;create&quot; your communication protocol? Wouldn&#39;t it work using WS protocol like this? ws://localhost:8080/ws/wsexample","body":"What do you mean with &quot;create&quot; your communication protocol? Wouldn&#39;t it work using WS protocol like this? ws://localhost:8080/ws/wsexample"},{"owner":{"account_id":8067887,"reputation":696,"user_id":6081475,"display_name":"emish89"},"score":2,"creation_date":1654537003,"post_id":45690645,"comment_id":128109115,"body_markdown":"yes, I mean that you have, in case, to create a proper socket or WS and use it to send messages. So, create a dictionary of messages-actions or something like that, a communication protocol to be used on the socket :)","body":"yes, I mean that you have, in case, to create a proper socket or WS and use it to send messages. So, create a dictionary of messages-actions or something like that, a communication protocol to be used on the socket :)"}],"tags":[],"owner":{"account_id":8067887,"reputation":696,"user_id":6081475,"display_name":"emish89"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1605596661,"creation_date":1502791287,"answer_id":45690645,"question_id":45638644,"body_markdown":"I made something similar, **Java back-end** with **Electron GUI**. \r\n\r\nYou can do it in more ways, it depends on what you need.\r\nYou can create a jar file and then execute it like terminal:\r\n\r\nhttps://nodejs.org/api/child_process.html\r\n\r\nOr you can open a **socket communication** and talk on a Port. (A lot of documentation:\r\n *Java (web)socket - Node.js client.io*) \r\n\r\nIn this second way, you can do everything you want, but you have to *create* your communication protocol.\r\n\r\nYour path is not foolish, I am very satisfied of the communication and usage in my work with Java + Electron .\r\n","title":"Can Electron apps be integrated with java code?","body":"<p>I made something similar, <strong>Java back-end</strong> with <strong>Electron GUI</strong>.</p>\n<p>You can do it in more ways, it depends on what you need.\nYou can create a jar file and then execute it like terminal:</p>\n<p><a href=\"https://nodejs.org/api/child_process.html\" rel=\"noreferrer\">https://nodejs.org/api/child_process.html</a></p>\n<p>Or you can open a <strong>socket communication</strong> and talk on a Port. (A lot of documentation:\n<em>Java (web)socket - Node.js client.io</em>)</p>\n<p>In this second way, you can do everything you want, but you have to <em>create</em> your communication protocol.</p>\n<p>Your path is not foolish, I am very satisfied of the communication and usage in my work with Java + Electron .</p>\n"},{"tags":[],"owner":{"account_id":446833,"reputation":2694,"user_id":840129,"accept_rate":89,"display_name":"jreznot"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1509989175,"creation_date":1509989175,"answer_id":47142493,"question_id":45638644,"body_markdown":"I&#39;ve created a small PoC where Java process is integrated with Electron front-end: https://github.com/jreznot/electron-java-app There you will find a simple TODO List application built with Vaadin/Jetty and Electron.","title":"Can Electron apps be integrated with java code?","body":"<p>I've created a small PoC where Java process is integrated with Electron front-end: <a href=\"https://github.com/jreznot/electron-java-app\" rel=\"noreferrer\">https://github.com/jreznot/electron-java-app</a> There you will find a simple TODO List application built with Vaadin/Jetty and Electron.</p>\n"},{"comments":[{"owner":{"account_id":2890770,"reputation":123,"user_id":2479622,"accept_rate":100,"display_name":"Hugo Hernandez"},"score":0,"creation_date":1654216854,"post_id":68643748,"comment_id":128044391,"body_markdown":"This was my first approach as well and worked well for sometime, but when the functionality began to grow I realized that this process was too slow for production applications and also insecure if don&#39;t manage you files correctly.","body":"This was my first approach as well and worked well for sometime, but when the functionality began to grow I realized that this process was too slow for production applications and also insecure if don&#39;t manage you files correctly."}],"tags":[],"owner":{"account_id":22204432,"reputation":45,"user_id":16444556,"display_name":"NotAidan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628032867,"creation_date":1628032867,"answer_id":68643748,"question_id":45638644,"body_markdown":"Personally i made my back-end java communicate with the front-end by creating a file with te data then sending it to the main.js to be processed.","title":"Can Electron apps be integrated with java code?","body":"<p>Personally i made my back-end java communicate with the front-end by creating a file with te data then sending it to the main.js to be processed.</p>\n"},{"comments":[{"owner":{"account_id":3619346,"reputation":623,"user_id":3501944,"accept_rate":100,"display_name":"user218046"},"score":0,"creation_date":1678175180,"post_id":69042121,"comment_id":133477687,"body_markdown":"Hi there. Have you tested it? I want to make the same Electron + Java application and can&#39;t choose the best approach for the communication problem.\nShould I create a service and call it from Electron, or should I use RPC, or DBus... I can&#39;t decide.","body":"Hi there. Have you tested it? I want to make the same Electron + Java application and can&#39;t choose the best approach for the communication problem. Should I create a service and call it from Electron, or should I use RPC, or DBus... I can&#39;t decide."},{"owner":{"account_id":2463651,"reputation":7815,"user_id":2147218,"display_name":"bazza"},"score":0,"creation_date":1693208269,"post_id":69042121,"comment_id":135724698,"body_markdown":"@user218046 Making Dbus a component of an application that is not intended to be a desktop GUI sounds like taking it too far. Far better to use something like ZeroMQ for comms between Java and Electron, and Google Protocol Buffers for message definition. That gives a ton of options for what the comms actually is (ipc, tcp, probably not inproc in this case)","body":"@user218046 Making Dbus a component of an application that is not intended to be a desktop GUI sounds like taking it too far. Far better to use something like ZeroMQ for comms between Java and Electron, and Google Protocol Buffers for message definition. That gives a ton of options for what the comms actually is (ipc, tcp, probably not inproc in this case)"}],"tags":[],"owner":{"account_id":1247478,"reputation":762,"user_id":1208630,"accept_rate":64,"display_name":"bunny1985"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630659268,"creation_date":1630659268,"answer_id":69042121,"question_id":45638644,"body_markdown":"DBus and winDbus seems to be an option here. \r\nIt creates nice abstraction and separation between &quot;frontend&quot; and backend\r\n\r\nhttps://sourceforge.net/projects/windbus/\r\n\r\nI&#39;m going to test it on my own soon","title":"Can Electron apps be integrated with java code?","body":"<p>DBus and winDbus seems to be an option here.\nIt creates nice abstraction and separation between &quot;frontend&quot; and backend</p>\n<p><a href=\"https://sourceforge.net/projects/windbus/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/windbus/</a></p>\n<p>I'm going to test it on my own soon</p>\n"},{"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1693187975,"post_id":76981023,"comment_id":135722596,"body_markdown":"Is thus a question or an answer?","body":"Is thus a question or an answer?"},{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1693249045,"post_id":76981023,"comment_id":135732938,"body_markdown":"I&#39;ve revised thus to be an answer.","body":"I&#39;ve revised thus to be an answer."}],"tags":[],"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693248904,"creation_date":1693006462,"answer_id":76981023,"question_id":45638644,"body_markdown":"Hypothetically, one could build an Electron app that bundles a custom JAR (made in a Gradle project in a sub-folder of the project) using [`node-java`](https://github.com/joeferner/node-java) to call the custom API from Node.js.\r\n\r\nIn the ideal implementation:\r\n\r\n* Node.js can parse custom types exposed by the Java code.\r\n* Node.js can call functions exposed by the Java code, passing in parameter values of said custom types and receiving deals of custom types.\r\n* Node.js can pass in callback functions as parameter values and receive callbacks from the Java code.\r\n\r\nOne downside of embedding a JAR will be debugging its failures while running from within the Node.js engine. However, exposing a rich yet simple external API from our Java code can be a win-win for both the Node.js developer consuming the library and the Java developer producing the inner business logic and unit testing.","title":"Can Electron apps be integrated with java code?","body":"<p>Hypothetically, one could build an Electron app that bundles a custom JAR (made in a Gradle project in a sub-folder of the project) using <a href=\"https://github.com/joeferner/node-java\" rel=\"nofollow noreferrer\"><code>node-java</code></a> to call the custom API from Node.js.</p>\n<p>In the ideal implementation:</p>\n<ul>\n<li>Node.js can parse custom types exposed by the Java code.</li>\n<li>Node.js can call functions exposed by the Java code, passing in parameter values of said custom types and receiving deals of custom types.</li>\n<li>Node.js can pass in callback functions as parameter values and receive callbacks from the Java code.</li>\n</ul>\n<p>One downside of embedding a JAR will be debugging its failures while running from within the Node.js engine. However, exposing a rich yet simple external API from our Java code can be a win-win for both the Node.js developer consuming the library and the Java developer producing the inner business logic and unit testing.</p>\n"}],"owner":{"account_id":4705637,"reputation":331,"user_id":3807880,"display_name":"user3807880"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28434,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":5,"score":23,"last_activity_date":1693248904,"creation_date":1502464799,"question_id":45638644,"body_markdown":"As node.js still lacks important functionality which exists in Java, I would like to use Java instead of node.js, and create the client using a web language (html, js, css..). \r\nElectron is cross platform and so does java so it seems fit to have a solution getting the best of both worlds.\r\n\r\nDoes someone know of a way to integrate electron with java or have a different solution to the problem?","title":"Can Electron apps be integrated with java code?","body":"<p>As node.js still lacks important functionality which exists in Java, I would like to use Java instead of node.js, and create the client using a web language (html, js, css..). \nElectron is cross platform and so does java so it seems fit to have a solution getting the best of both worlds.</p>\n\n<p>Does someone know of a way to integrate electron with java or have a different solution to the problem?</p>\n"},{"tags":["java","oracle","java-17","ojdbc","ucp"],"answers":[{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693248556,"creation_date":1693248556,"answer_id":76995366,"question_id":76964184,"body_markdown":"Can you please add ons.jar and simplefan.jar in the class path? or you can set the property oracle.jdbc.fanEnabled to FALSE and try it out. Please check the [doc][1] for more details on the property. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/21/jjdbc/JDBC-support-Oracle-FAN.html#GUID-069265AF-BBEE-4682-9906-98D8429BFC1C","title":"Oracle JDBC 10 Driver + UCP for JDK 17 and Oracle 19c Possible for Project?","body":"<p>Can you please add ons.jar and simplefan.jar in the class path? or you can set the property oracle.jdbc.fanEnabled to FALSE and try it out. Please check the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/jjdbc/JDBC-support-Oracle-FAN.html#GUID-069265AF-BBEE-4682-9906-98D8429BFC1C\" rel=\"nofollow noreferrer\">doc</a> for more details on the property.</p>\n"}],"owner":{"account_id":4782683,"reputation":352,"user_id":3863999,"accept_rate":79,"display_name":"StingRay21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693248556,"creation_date":1692816938,"question_id":76964184,"body_markdown":"I just started developing a POC for an app on Java 17. We utilize Oracle and specifically have integrated our other app with Oracle UCP. \r\n\r\nThe compatibility matrix on [Oracle&#39;s website][1] (under the 19c section) shows the UCP package is only certified with jdk8 / jdk11. For ojdbc10 it **is** certified with jdk17; however, it&#39;s my understanding that the ucp + ojdbcXX needs to a companion. My question is: Following the Oracle matrix it doesn&#39;t look like 19c + jdk17 + UCP is a possibilty, can i get confirmation that i&#39;m reading that correctly? Additionally, is there a way to link the 2 together outside of having the ojdbc+ucp match 1:1 with versions.\r\n\r\nI tried utilizing UCP + ojdbc10 and ran into the following exception:\r\n\r\n    Exception in thread &quot;UCP-CriticalTaskExecutorThread-1&quot; java.lang.NoClassDefFoundError: oracle/ons/Subscriber\r\n\t    at oracle.ucp.common.ONSDriver.createSubscriber(ONSDriver.java:121)\r\n\t    at oracle.ucp.common.FailoverDriver$1$1.run(FailoverDriver.java:226)\r\n\t    at oracle.ucp.common.FailoverDriver$1$1.run(FailoverDriver.java:222)\r\n\t    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\t    at oracle.ucp.common.FailoverDriver$1.run(FailoverDriver.java:221)\r\n\t    at oracle.ucp.util.UCPTaskBase.call(UCPTaskBase.java:20)\r\n\t    at oracle.ucp.util.UCPTaskManagerImpl$3.run(UCPTaskManagerImpl.java:202)\r\n    Caused by: java.lang.ClassNotFoundException: oracle.ons.Subscriber\r\n\r\n\r\n  [1]: https://www.oracle.com/in/database/technologies/appdev/jdbc-downloads.html","title":"Oracle JDBC 10 Driver + UCP for JDK 17 and Oracle 19c Possible for Project?","body":"<p>I just started developing a POC for an app on Java 17. We utilize Oracle and specifically have integrated our other app with Oracle UCP.</p>\n<p>The compatibility matrix on <a href=\"https://www.oracle.com/in/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">Oracle's website</a> (under the 19c section) shows the UCP package is only certified with jdk8 / jdk11. For ojdbc10 it <strong>is</strong> certified with jdk17; however, it's my understanding that the ucp + ojdbcXX needs to a companion. My question is: Following the Oracle matrix it doesn't look like 19c + jdk17 + UCP is a possibilty, can i get confirmation that i'm reading that correctly? Additionally, is there a way to link the 2 together outside of having the ojdbc+ucp match 1:1 with versions.</p>\n<p>I tried utilizing UCP + ojdbc10 and ran into the following exception:</p>\n<pre><code>Exception in thread &quot;UCP-CriticalTaskExecutorThread-1&quot; java.lang.NoClassDefFoundError: oracle/ons/Subscriber\n    at oracle.ucp.common.ONSDriver.createSubscriber(ONSDriver.java:121)\n    at oracle.ucp.common.FailoverDriver$1$1.run(FailoverDriver.java:226)\n    at oracle.ucp.common.FailoverDriver$1$1.run(FailoverDriver.java:222)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n    at oracle.ucp.common.FailoverDriver$1.run(FailoverDriver.java:221)\n    at oracle.ucp.util.UCPTaskBase.call(UCPTaskBase.java:20)\n    at oracle.ucp.util.UCPTaskManagerImpl$3.run(UCPTaskManagerImpl.java:202)\nCaused by: java.lang.ClassNotFoundException: oracle.ons.Subscriber\n</code></pre>\n"},{"tags":["java","dns"],"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693248473,"creation_date":1693248473,"question_id":76995350,"body_markdown":"I have a java application which uses org.minidns to do an SRV lookup on a service and domain. The dns resolution is successful when running on the MacOS, but when running on my Windows VM (accessed over VPN on company private subnet), the DNS resolution is unsuccessful. \r\n\r\nWhen issuing a ping from the Windows VM to the target server using the host name, it can resolve the IP address. I&#39;m not very experienced in setting up DNS settings, so I was wondering if someone can help me rule out some obvious root causes. \r\n\r\nCode block under question:\r\n\r\n    public List&lt;InetSocketAddress&gt; resolveSrv(String service, String domain) throws RuntimeException, IOException {\r\n        log.info(&quot;Attempting to DNS resolve {}.{}&quot;, service, domain);\r\n\r\n        return ResolverApi.INSTANCE.resolveSrv(service + &quot;.&quot; + domain)\r\n                .getSortedSrvResolvedAddresses()\r\n                .stream().map(resolvedSrvRecord -&gt; {\r\n                    try {\r\n                        return new InetSocketAddress(InetAddress.getByName(resolvedSrvRecord.srv.target.ace),\r\n                                resolvedSrvRecord.srv.port);\r\n                    } catch (UnknownHostException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                })\r\n                .collect(Collectors.toList());\r\n    }","title":"Discrepancy in DNS resolution between Mac and Windows in Java application using org.minidns.hla","body":"<p>I have a java application which uses org.minidns to do an SRV lookup on a service and domain. The dns resolution is successful when running on the MacOS, but when running on my Windows VM (accessed over VPN on company private subnet), the DNS resolution is unsuccessful.</p>\n<p>When issuing a ping from the Windows VM to the target server using the host name, it can resolve the IP address. I'm not very experienced in setting up DNS settings, so I was wondering if someone can help me rule out some obvious root causes.</p>\n<p>Code block under question:</p>\n<pre><code>public List&lt;InetSocketAddress&gt; resolveSrv(String service, String domain) throws RuntimeException, IOException {\n    log.info(&quot;Attempting to DNS resolve {}.{}&quot;, service, domain);\n\n    return ResolverApi.INSTANCE.resolveSrv(service + &quot;.&quot; + domain)\n            .getSortedSrvResolvedAddresses()\n            .stream().map(resolvedSrvRecord -&gt; {\n                try {\n                    return new InetSocketAddress(InetAddress.getByName(resolvedSrvRecord.srv.target.ace),\n                            resolvedSrvRecord.srv.port);\n                } catch (UnknownHostException e) {\n                    throw new RuntimeException(e);\n                }\n            })\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","passwords","keystore"],"answers":[{"tags":[],"owner":{"account_id":28766283,"reputation":1,"user_id":22031123,"display_name":"Rony Djeunang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686069304,"creation_date":1686069304,"answer_id":76416714,"question_id":75584274,"body_markdown":"Yes it is possible if you have Play Signing enables. First to check if you have Play Signing turned on login to the console, select the app and then select &quot;App Integrity&quot; from the menu, on that page you will see an app signing tab. If it is switched on that you can follow the instructions here: https://support.google.com/googleplay/android-developer/answer/9842756#lost\r\n \r\nHope this helps\r\n\r\nRef. https://support.google.com/googleplay/android-developer/thread/208735127/i-forgot-the-keystore-password-for-my-application-is-it-possible-to-reset-the-keystore-pass-thanks?hl=en","title":"Recover keystore password when saved by Android Studio","body":"<p>Yes it is possible if you have Play Signing enables. First to check if you have Play Signing turned on login to the console, select the app and then select &quot;App Integrity&quot; from the menu, on that page you will see an app signing tab. If it is switched on that you can follow the instructions here: <a href=\"https://support.google.com/googleplay/android-developer/answer/9842756#lost\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/9842756#lost</a></p>\n<p>Hope this helps</p>\n<p>Ref. <a href=\"https://support.google.com/googleplay/android-developer/thread/208735127/i-forgot-the-keystore-password-for-my-application-is-it-possible-to-reset-the-keystore-pass-thanks?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/thread/208735127/i-forgot-the-keystore-password-for-my-application-is-it-possible-to-reset-the-keystore-pass-thanks?hl=en</a></p>\n"},{"tags":[],"owner":{"account_id":9164203,"reputation":1,"user_id":6814491,"display_name":"Spider"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693248413,"creation_date":1693248413,"answer_id":76995344,"question_id":75584274,"body_markdown":"look in the build.gradle file in the app directory of your project.\r\nI forgot mine and looked in a backup of my projects.","title":"Recover keystore password when saved by Android Studio","body":"<p>look in the build.gradle file in the app directory of your project.\nI forgot mine and looked in a backup of my projects.</p>\n"}],"owner":{"account_id":26478997,"reputation":1,"user_id":20118500,"display_name":"EidemE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693248413,"creation_date":1677522760,"question_id":75584274,"body_markdown":"Good morning,\r\n\r\nI (stupidly) forgot the passwords (it&#39;s the same for both cases) of my Android keystore, except that I did &quot;Remember passwords&quot; so I don&#39;t need to remember them .\r\n\r\nExcept that I changed my PC and whoever keeps the key and its passwords could break down at any moment, and I wouldn&#39;t really like to lose the key permanently, otherwise I won&#39;t be able to publish my app on play store.\r\n\r\n[keystore popup in Android Studio][1]\r\n\r\nI tried several different passwords with the length displayed by the &quot;**********&quot; in Android Studio, but it never works unfortunately.\r\nAnd with new versions, no file displays passwords in plain text, either *** or hash.\r\n\r\nDo you have a solution to recover these passwords since Android Studio keeps them?\r\nI&#39;m on the latest version of the IDE, thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yzaRh.png","title":"Recover keystore password when saved by Android Studio","body":"<p>Good morning,</p>\n<p>I (stupidly) forgot the passwords (it's the same for both cases) of my Android keystore, except that I did &quot;Remember passwords&quot; so I don't need to remember them .</p>\n<p>Except that I changed my PC and whoever keeps the key and its passwords could break down at any moment, and I wouldn't really like to lose the key permanently, otherwise I won't be able to publish my app on play store.</p>\n<p><a href=\"https://i.stack.imgur.com/yzaRh.png\" rel=\"nofollow noreferrer\">keystore popup in Android Studio</a></p>\n<p>I tried several different passwords with the length displayed by the &quot;**********&quot; in Android Studio, but it never works unfortunately.\nAnd with new versions, no file displays passwords in plain text, either *** or hash.</p>\n<p>Do you have a solution to recover these passwords since Android Studio keeps them?\nI'm on the latest version of the IDE, thanks!</p>\n"},{"tags":["java","maven","ubuntu","wsl-2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1693238776,"post_id":76994351,"comment_id":135731060,"body_markdown":"Try running this in the console: `jh=&quot;$(readlink -f $(which java))&quot;;printf &quot;JAVA_HOME should be set to %s\\n&quot; ${jh%/bin/java}`","body":"Try running this in the console: <code>jh=&quot;$(readlink -f $(which java))&quot;;printf &quot;JAVA_HOME should be set to %s\\n&quot; ${jh%&#47;bin&#47;java}</code>"},{"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"score":0,"creation_date":1695161951,"post_id":76994351,"comment_id":135986462,"body_markdown":"That worked, thank you so much @g00se! I had indeed made the wrong assumption about what `JAVA_HOME` had to be set to. If you turn your comment into an answer I&#39;ll accept it, otherwise I&#39;ll write my own.","body":"That worked, thank you so much @g00se! I had indeed made the wrong assumption about what <code>JAVA_HOME</code> had to be set to. If you turn your comment into an answer I&#39;ll accept it, otherwise I&#39;ll write my own."}],"answers":[{"tags":[],"owner":{"account_id":2865984,"reputation":11,"user_id":2460301,"display_name":"IAMLOOKER50"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693247873,"creation_date":1693247873,"answer_id":76995305,"question_id":76994351,"body_markdown":"Try to install the distro&#39;s default jre and jdk like this:`sudo apt install default-jre` and `sudo apt install default-jdk` and see if that helps.","title":"mvn says &quot;The JAVA_HOME environment variable is not defined correctly&quot; in WSL","body":"<p>Try to install the distro's default jre and jdk like this:<code>sudo apt install default-jre</code> and <code>sudo apt install default-jdk</code> and see if that helps.</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693247873,"creation_date":1693238381,"question_id":76994351,"body_markdown":"I want to install `mvn` on Ubuntu 22.04 on WLS on Windows. I have tried and given up to use the windows binaries and am now trying to install both java and mvn directly on wsl.\r\n\r\nI have installed corretto 17 as `.deb` with:\r\n````bash\r\nwget https://corretto.aws/downloads/latest/amazon-corretto-17-x64-linux-jdk.deb\r\nsudo dpkg -i amazon-corretto-17-x64-linux-jdk.deb\r\nsudo apt-get install -f\r\n````\r\nand maven with\r\n\r\n````bash\r\nwget https://dlcdn.apache.org/maven/maven-3/3.9.4/binaries/apache-maven-3.9.4-bin.tar.gz\r\ntar -xvf apache-maven-3.9.4-bin.tar.gz\r\nsudo mv apache-maven-3.9.4 /opt/\r\n````\r\n\r\nI&#39;ve added \r\n````bash\r\nJAVA_HOME=&#39;/usr/bin/java&#39;\r\nPATH=&quot;$JAVA_HOME/bin:$PATH&quot;\r\nexport PATH\r\n\r\nM2_HOME=&#39;/opt/apache-maven-3.9.4&#39;\r\nPATH=&quot;$M2_HOME/bin:$PATH&quot;\r\nexport PATH\r\n````\r\nto `.profile` and `source`d it.\r\n\r\nAnd `java` seems to refer to the one I just installed:\r\n````bash\r\n$ java -version\r\nopenjdk version &quot;17.0.8.1&quot; 2023-08-22 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.8.8.1 (build 17.0.8.1+8-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.8.8.1 (build 17.0.8.1+8-LTS, mixed mode, sharing)\r\n$ which java\r\n/usr/bin/java\r\n$ whereis -b java\r\njava: /usr/bin/java /usr/share/java\r\n````\r\n\r\nsimilarly for mvn\r\n````bash\r\n$ which mvn\r\n/opt/apache-maven-3.9.4/bin/mvn\r\n$ whereis -b mvn\r\nmvn: /opt/apache-maven-3.9.4/bin/mvn /mnt/c/ProgramData/chocolatey/lib/maven/apache-maven-3.8.5/bin/mvn\r\n````\r\nwhile a windows binary appears it is not in first place.\r\nIf I execute `mvn -version` however, it says\r\n\r\n````bash\r\n$ mvn -version\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n````\r\n\r\nrelevant parts of env (Path shortened and reformatted for readability:\r\n````bash\r\nJAVA_HOME=/usr/bin/java\r\nWSLENV=\r\nPATH=/opt/apache-maven-3.9.4/bin\r\n    :/usr/bin/java/bin\r\n    :/usr/bin/java/bin\r\n    :/usr/local/sbin\r\n    :/usr/local/bin\r\n    :/usr/sbin\r\n    :/usr/bin\r\n    :/usr/lib/wsl/lib\r\n    :/mnt/c/Program Files/Amazon Corretto/jdk17.0.1_12/bin\r\n    :/mnt/c/Program Files/Amazon Corretto/jdk11.0.8_10/bin\r\n    :/mnt/c/ProgramData/chocolatey/lib/maven/apache-maven-3.8.5/bin\r\n````\r\n\r\nI have exported a modified PATH without the windows binaries, but the response to `mvn -version` stays the same.\r\n\r\n\r\nI would like to understand what is going on here and how I can fix JAVA_HOME, or rather have mvn accept it.","title":"mvn says &quot;The JAVA_HOME environment variable is not defined correctly&quot; in WSL","body":"<p>I want to install <code>mvn</code> on Ubuntu 22.04 on WLS on Windows. I have tried and given up to use the windows binaries and am now trying to install both java and mvn directly on wsl.</p>\n<p>I have installed corretto 17 as <code>.deb</code> with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>wget https://corretto.aws/downloads/latest/amazon-corretto-17-x64-linux-jdk.deb\nsudo dpkg -i amazon-corretto-17-x64-linux-jdk.deb\nsudo apt-get install -f\n</code></pre>\n<p>and maven with</p>\n<pre class=\"lang-bash prettyprint-override\"><code>wget https://dlcdn.apache.org/maven/maven-3/3.9.4/binaries/apache-maven-3.9.4-bin.tar.gz\ntar -xvf apache-maven-3.9.4-bin.tar.gz\nsudo mv apache-maven-3.9.4 /opt/\n</code></pre>\n<p>I've added</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_HOME='/usr/bin/java'\nPATH=&quot;$JAVA_HOME/bin:$PATH&quot;\nexport PATH\n\nM2_HOME='/opt/apache-maven-3.9.4'\nPATH=&quot;$M2_HOME/bin:$PATH&quot;\nexport PATH\n</code></pre>\n<p>to <code>.profile</code> and <code>source</code>d it.</p>\n<p>And <code>java</code> seems to refer to the one I just installed:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -version\nopenjdk version &quot;17.0.8.1&quot; 2023-08-22 LTS\nOpenJDK Runtime Environment Corretto-17.0.8.8.1 (build 17.0.8.1+8-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.8.8.1 (build 17.0.8.1+8-LTS, mixed mode, sharing)\n$ which java\n/usr/bin/java\n$ whereis -b java\njava: /usr/bin/java /usr/share/java\n</code></pre>\n<p>similarly for mvn</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ which mvn\n/opt/apache-maven-3.9.4/bin/mvn\n$ whereis -b mvn\nmvn: /opt/apache-maven-3.9.4/bin/mvn /mnt/c/ProgramData/chocolatey/lib/maven/apache-maven-3.8.5/bin/mvn\n</code></pre>\n<p>while a windows binary appears it is not in first place.\nIf I execute <code>mvn -version</code> however, it says</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mvn -version\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n</code></pre>\n<p>relevant parts of env (Path shortened and reformatted for readability:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_HOME=/usr/bin/java\nWSLENV=\nPATH=/opt/apache-maven-3.9.4/bin\n    :/usr/bin/java/bin\n    :/usr/bin/java/bin\n    :/usr/local/sbin\n    :/usr/local/bin\n    :/usr/sbin\n    :/usr/bin\n    :/usr/lib/wsl/lib\n    :/mnt/c/Program Files/Amazon Corretto/jdk17.0.1_12/bin\n    :/mnt/c/Program Files/Amazon Corretto/jdk11.0.8_10/bin\n    :/mnt/c/ProgramData/chocolatey/lib/maven/apache-maven-3.8.5/bin\n</code></pre>\n<p>I have exported a modified PATH without the windows binaries, but the response to <code>mvn -version</code> stays the same.</p>\n<p>I would like to understand what is going on here and how I can fix JAVA_HOME, or rather have mvn accept it.</p>\n"},{"tags":["java","unit-testing","junit","junit4"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":4,"creation_date":1693248075,"post_id":76995300,"comment_id":135732757,"body_markdown":"As a rule of thumb one should never mock types which one doesn&#39;t own. Use a real map implementation and your tests will be a lot simpler. And probably you can also use a concrete implementation of CacheManager and MetricsManager. I would also suggest you to read the article [Mocks are not Stubs](https://martinfowler.com/articles/mocksArentStubs.html) to learn about other types of test doubles.","body":"As a rule of thumb one should never mock types which one doesn&#39;t own. Use a real map implementation and your tests will be a lot simpler. And probably you can also use a concrete implementation of CacheManager and MetricsManager. I would also suggest you to read the article <a href=\"https://martinfowler.com/articles/mocksArentStubs.html\" rel=\"nofollow noreferrer\">Mocks are not Stubs</a> to learn about other types of test doubles."}],"owner":{"account_id":4651430,"reputation":1022,"user_id":3768218,"accept_rate":67,"display_name":"Jeya Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693247789,"creation_date":1693247789,"question_id":76995300,"body_markdown":"I have a class with constructor as below and i am trying to mock those input params from junit\r\n\r\n    public CacheConfigurationProcessor{\r\n        public CacheConfigurationProcessor(@NonNull Map&lt;String, String&gt; allThemeConfigurations,\r\n                                           @NonNull Map&lt;String, String&gt; allCacheConfigurations,\r\n                                           @NonNull MetricsManager metricsManager,\r\n                                           @NonNull cacheManager productSearchModelCacheManager) {\r\n            this.allThemeConfigurations = allThemeConfigurations;\r\n            this.allCacheConfigurations = allCacheConfigurations;\r\n            this.metricsManager = metricsManager;\r\n            this.cacheManager = CacheManager;\r\n        \r\n            processCacheConfigurationForThemes();\r\n        }\r\n    \r\n    \r\n            @SneakyThrows\r\n            private void processCacheConfigurationForThemes() {\r\n        \r\n                System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //this is empty\r\n         \r\n                for (Map.Entry&lt;String, String&gt; singleThemeConfiguration : allThemeConfigurations.entrySet()) {\r\n        \r\n             system.out.println(singleThemeConfiguration)\r\n        }\r\n            }\r\n    \r\n    public static void TestMyFeature(){\r\n    some random logic\r\n    }\r\n    \r\n    }\r\n\r\nJunit\r\n    \r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n        public class CacheConfigurationProcessorTest{\r\n        \r\n            @Mock\r\n            private Map&lt;String, String&gt; ALL_ORIGINAL_CACHE_CONFIGURATIONS;\r\n            @Mock\r\n            private Map&lt;String, String&gt; allThemeConfigMock;\r\n            @Mock\r\n            private MetricsManager metricsManager;\r\n            @Mock\r\n            private CacheManager CacheManagerMock;\r\n        \r\n            @InjectMocks\r\n            private CacheConfigurationProcessor cacheConfigurationProcessor;\r\n        \r\n            @Before\r\n            public void init() throws Exception {\r\n                // Mock the behavior of entrySet()\r\n                Set&lt;Map.Entry&lt;String, String&gt;&gt; mockEntrySet = getAllThemeConfig().entrySet();\r\n                when(allThemeConfigMock.entrySet()).thenReturn(mockEntrySet);\r\n           }\r\n        \r\n            @Test\r\n            public void someTest(){\r\n        \r\n            CacheConfigurationProcessor.TestMyFeature()\r\n          }\r\n        }\r\n\r\nExpected : Since i mocked `allThemeConfigMock` i expected \r\n\r\n        System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //Expected to print mocked map\r\n\r\nThis would print mocked map , however i am getting empty response here \r\n\r\n\r\n        System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //this is empty as []\r\n\r\n\r\nWhat is the issue and Why the map I mocked is not working as expected.\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"How to mock entrySet in java - junit","body":"<p>I have a class with constructor as below and i am trying to mock those input params from junit</p>\n<pre><code>public CacheConfigurationProcessor{\n    public CacheConfigurationProcessor(@NonNull Map&lt;String, String&gt; allThemeConfigurations,\n                                       @NonNull Map&lt;String, String&gt; allCacheConfigurations,\n                                       @NonNull MetricsManager metricsManager,\n                                       @NonNull cacheManager productSearchModelCacheManager) {\n        this.allThemeConfigurations = allThemeConfigurations;\n        this.allCacheConfigurations = allCacheConfigurations;\n        this.metricsManager = metricsManager;\n        this.cacheManager = CacheManager;\n    \n        processCacheConfigurationForThemes();\n    }\n\n\n        @SneakyThrows\n        private void processCacheConfigurationForThemes() {\n    \n            System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //this is empty\n     \n            for (Map.Entry&lt;String, String&gt; singleThemeConfiguration : allThemeConfigurations.entrySet()) {\n    \n         system.out.println(singleThemeConfiguration)\n    }\n        }\n\npublic static void TestMyFeature(){\nsome random logic\n}\n\n}\n</code></pre>\n<p>Junit</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\n    public class CacheConfigurationProcessorTest{\n    \n        @Mock\n        private Map&lt;String, String&gt; ALL_ORIGINAL_CACHE_CONFIGURATIONS;\n        @Mock\n        private Map&lt;String, String&gt; allThemeConfigMock;\n        @Mock\n        private MetricsManager metricsManager;\n        @Mock\n        private CacheManager CacheManagerMock;\n    \n        @InjectMocks\n        private CacheConfigurationProcessor cacheConfigurationProcessor;\n    \n        @Before\n        public void init() throws Exception {\n            // Mock the behavior of entrySet()\n            Set&lt;Map.Entry&lt;String, String&gt;&gt; mockEntrySet = getAllThemeConfig().entrySet();\n            when(allThemeConfigMock.entrySet()).thenReturn(mockEntrySet);\n       }\n    \n        @Test\n        public void someTest(){\n    \n        CacheConfigurationProcessor.TestMyFeature()\n      }\n    }\n</code></pre>\n<p>Expected : Since i mocked <code>allThemeConfigMock</code> i expected</p>\n<pre><code>    System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //Expected to print mocked map\n</code></pre>\n<p>This would print mocked map , however i am getting empty response here</p>\n<pre><code>    System.out.println(&quot;allThemeConfigurations &quot; + allThemeConfigurations.entrySet()); //this is empty as []\n</code></pre>\n<p>What is the issue and Why the map I mocked is not working as expected.</p>\n<p>Thanks</p>\n"},{"tags":["java","collections","treemap","treeset"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1394200027,"post_id":22251787,"comment_id":33794624,"body_markdown":"Would keeping a count of the number of occurrences of each element be good enough for you? (In other words, in your real code are the duplicates utterly equivalent, or do you need to preserve some differences? An example would be a case-insensitive-but-case-preserving set or map.)","body":"Would keeping a count of the number of occurrences of each element be good enough for you? (In other words, in your real code are the duplicates utterly equivalent, or do you need to preserve some differences? An example would be a case-insensitive-but-case-preserving set or map.)"},{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":6,"creation_date":1394200142,"post_id":22251787,"comment_id":33794705,"body_markdown":"This won&#39;t be a Set. You need a sorted list or something similar. From javadoc: ```A Set is a Collection that cannot contain duplicate elements.``` It&#39;s not a good idea to break the contract.","body":"This won&#39;t be a Set. You need a sorted list or something similar. From javadoc: <code>A Set is a Collection that cannot contain duplicate elements.</code> It&#39;s not a good idea to break the contract."},{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":0,"creation_date":1394200198,"post_id":22251787,"comment_id":33794726,"body_markdown":"http://stackoverflow.com/a/21974362/2736496","body":"<a href=\"http://stackoverflow.com/a/21974362/2736496\">stackoverflow.com/a/21974362/2736496</a>"},{"owner":{"account_id":326733,"reputation":695,"user_id":648665,"accept_rate":82,"display_name":"Arek Woniak"},"score":1,"creation_date":1394200215,"post_id":22251787,"comment_id":33794735,"body_markdown":"If you can use 3rd part libraries, then maybe Guava libraries will be helpful. See http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/TreeMultiset.html (more info about collections: https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained)","body":"If you can use 3rd part libraries, then maybe Guava libraries will be helpful. See <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/TreeMultiset.html\" rel=\"nofollow noreferrer\">docs.guava-libraries.googlecode.com/git/javadoc/com/google/&hellip;</a> (more info about collections: <a href=\"https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries/wiki/&hellip;</a>)"},{"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"score":0,"creation_date":1394200683,"post_id":22251787,"comment_id":33795059,"body_markdown":"@JonSkeet,  Actually I am having a ArrayList of Fund Class and the equality is checked by fundCode. I need the all the Fund Objects with the highest fund value. I have updated my question accordingly","body":"@JonSkeet,  Actually I am having a ArrayList of Fund Class and the equality is checked by fundCode. I need the all the Fund Objects with the highest fund value. I have updated my question accordingly"},{"owner":{"account_id":1421723,"reputation":7768,"user_id":1346207,"accept_rate":77,"display_name":"Markus Malkusch"},"score":0,"creation_date":1394200878,"post_id":22251787,"comment_id":33795188,"body_markdown":"possible duplicate of [Sorted collection in Java](http://stackoverflow.com/questions/416266/sorted-collection-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/416266/sorted-collection-in-java\">Sorted collection in Java</a>"},{"owner":{"account_id":1421723,"reputation":7768,"user_id":1346207,"accept_rate":77,"display_name":"Markus Malkusch"},"score":0,"creation_date":1394212100,"post_id":22251787,"comment_id":33803171,"body_markdown":"@NeplatnyUdaj OK, I deleted my comment. I was to much influenced by OP&#39;s idea of a sorted data structure (i.e. a list which sorts on insert operations). An externally sorted list is of course valid.","body":"@NeplatnyUdaj OK, I deleted my comment. I was to much influenced by OP&#39;s idea of a sorted data structure (i.e. a list which sorts on insert operations). An externally sorted list is of course valid."},{"owner":{"account_id":5881189,"reputation":2046,"user_id":4630491,"accept_rate":69,"display_name":"Max"},"score":0,"creation_date":1541602164,"post_id":22251787,"comment_id":93272388,"body_markdown":"Possible duplicate of [Why is there no SortedList in Java?](https://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/8725387/why-is-there-no-sortedlist-in-java\">Why is there no SortedList in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1413018,"reputation":3396,"user_id":1339257,"accept_rate":40,"display_name":"Max Fichtelmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1394201273,"creation_date":1394201273,"answer_id":22252305,"question_id":22251787,"body_markdown":"you can sort a List using `Collections.sort`.\r\n\r\ngiven your `Fund`:\r\n\r\n    List&lt;Fund&gt; sortMe = new ArrayList(...);\r\n    Collections.sort(sortMe, new Comparator&lt;Fund&gt;() {\r\n      @Override\r\n      public int compare(Fund left, Fund right) {\r\n        return left.fundValue.compareTo(right.fundValue);\r\n      }\r\n    });\r\n    // sortMe is now sorted","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>you can sort a List using <code>Collections.sort</code>.</p>\n\n<p>given your <code>Fund</code>:</p>\n\n<pre><code>List&lt;Fund&gt; sortMe = new ArrayList(...);\nCollections.sort(sortMe, new Comparator&lt;Fund&gt;() {\n  @Override\n  public int compare(Fund left, Fund right) {\n    return left.fundValue.compareTo(right.fundValue);\n  }\n});\n// sortMe is now sorted\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1421723,"reputation":7768,"user_id":1346207,"accept_rate":77,"display_name":"Markus Malkusch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1394202017,"creation_date":1394202017,"answer_id":22252605,"question_id":22251787,"body_markdown":"&gt; I need all the fundCode with highest fundValue\r\n\r\nIf that&#39;s the only reason why you want to sort I would recommend not to sort at all. Sorting comes mostly with a complexity of *O(n log(n))*. Finding the maximum has only a complexity of *O(n)* and is implemented in a simple iteration over your list:\r\n\r\n\r\n    List&lt;Fund&gt; maxFunds = new ArrayList&lt;Fund&gt;();\r\n    int max = 0;\r\n    for (Fund fund : funds) {\r\n        if (fund.getFundValue() &gt; max) {\r\n            maxFunds.clear();\r\n            max = fund.getFundValue();\r\n\r\n        }\r\n        if (fund.getFundValue() == max) {\r\n            maxFunds.add(fund);\r\n\r\n        }\r\n    }\r\n\r\nYou can avoid that code by using a third level library like [Guava](http://code.google.com/p/guava-libraries/). See: https://stackoverflow.com/questions/11758982/how-to-get-max-element-from-list-in-guava","title":"A TreeSet or TreeMap that allow duplicates","body":"<blockquote>\n  <p>I need all the fundCode with highest fundValue</p>\n</blockquote>\n\n<p>If that's the only reason why you want to sort I would recommend not to sort at all. Sorting comes mostly with a complexity of <em>O(n log(n))</em>. Finding the maximum has only a complexity of <em>O(n)</em> and is implemented in a simple iteration over your list:</p>\n\n<pre><code>List&lt;Fund&gt; maxFunds = new ArrayList&lt;Fund&gt;();\nint max = 0;\nfor (Fund fund : funds) {\n    if (fund.getFundValue() &gt; max) {\n        maxFunds.clear();\n        max = fund.getFundValue();\n\n    }\n    if (fund.getFundValue() == max) {\n        maxFunds.add(fund);\n\n    }\n}\n</code></pre>\n\n<p>You can avoid that code by using a third level library like <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Guava</a>. See: <a href=\"https://stackoverflow.com/questions/11758982/how-to-get-max-element-from-list-in-guava\">How to get max() element from List in Guava</a></p>\n"},{"tags":[],"owner":{"account_id":5810210,"reputation":97,"user_id":4581551,"display_name":"Anindya Mukherjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424465411,"creation_date":1424465411,"answer_id":28637922,"question_id":22251787,"body_markdown":"In case of TreeSet either Comparator or Comparable is used to compare and store objects . Equals are not called and that is why it does not recognize the duplicate one","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>In case of TreeSet either Comparator or Comparable is used to compare and store objects . Equals are not called and that is why it does not recognize the duplicate one</p>\n"},{"tags":[],"owner":{"account_id":5962286,"reputation":1,"user_id":4687077,"display_name":"Gaya3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458988963,"creation_date":1427222487,"answer_id":29240439,"question_id":22251787,"body_markdown":"Instead of the TreeSet we can use List and implement the Comparable interface.\r\n\r\n\r\n    public class Fund implements Comparable&lt;Fund&gt; {\r\n    \r\n        String fundCode;\r\n        int fundValue;\r\n    \r\n        public Fund(String fundCode, int fundValue) {\r\n            super();\r\n            this.fundCode = fundCode;\r\n            this.fundValue = fundValue;\r\n        }\r\n    \r\n        public String getFundCode() {\r\n            return fundCode;\r\n        }\r\n    \r\n        public void setFundCode(String fundCode) {\r\n            this.fundCode = fundCode;\r\n        }\r\n    \r\n        public int getFundValue() {\r\n            return fundValue;\r\n        }\r\n    \r\n        public void setFundValue(int fundValue) {\r\n            this.fundValue = fundValue;\r\n        }\r\n    \r\n        public int compareTo(Fund compareFund) {\r\n    \r\n            int compare = ((Fund) compareFund).getFundValue();\r\n            return compare - this.fundValue;\r\n        }\r\n    \r\n        public static void main(String args[]){\r\n    \r\n            List&lt;Fund&gt; funds = new ArrayList&lt;Fund&gt;();\r\n    \r\n            Fund fund1 = new Fund(&quot;a&quot;,100);\r\n            Fund fund2 = new Fund(&quot;b&quot;,20);\r\n            Fund fund3 = new Fund(&quot;c&quot;,70);\r\n            Fund fund4 = new Fund(&quot;a&quot;,100);\r\n            funds.add(fund1);\r\n            funds.add(fund2);\r\n            funds.add(fund3);\r\n            funds.add(fund4);\r\n            \r\n            Collections.sort(funds);\r\n            \r\n            for(Fund fund : funds){\r\n                System.out.println(&quot;Fund code: &quot; + fund.getFundCode() +  &quot;  Fund value : &quot; + fund.getFundValue());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>Instead of the TreeSet we can use List and implement the Comparable interface.</p>\n\n<pre><code>public class Fund implements Comparable&lt;Fund&gt; {\n\n    String fundCode;\n    int fundValue;\n\n    public Fund(String fundCode, int fundValue) {\n        super();\n        this.fundCode = fundCode;\n        this.fundValue = fundValue;\n    }\n\n    public String getFundCode() {\n        return fundCode;\n    }\n\n    public void setFundCode(String fundCode) {\n        this.fundCode = fundCode;\n    }\n\n    public int getFundValue() {\n        return fundValue;\n    }\n\n    public void setFundValue(int fundValue) {\n        this.fundValue = fundValue;\n    }\n\n    public int compareTo(Fund compareFund) {\n\n        int compare = ((Fund) compareFund).getFundValue();\n        return compare - this.fundValue;\n    }\n\n    public static void main(String args[]){\n\n        List&lt;Fund&gt; funds = new ArrayList&lt;Fund&gt;();\n\n        Fund fund1 = new Fund(\"a\",100);\n        Fund fund2 = new Fund(\"b\",20);\n        Fund fund3 = new Fund(\"c\",70);\n        Fund fund4 = new Fund(\"a\",100);\n        funds.add(fund1);\n        funds.add(fund2);\n        funds.add(fund3);\n        funds.add(fund4);\n\n        Collections.sort(funds);\n\n        for(Fund fund : funds){\n            System.out.println(\"Fund code: \" + fund.getFundCode() +  \"  Fund value : \" + fund.getFundValue());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3815600,"reputation":21,"user_id":3165048,"display_name":"Amrut Malaji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573621827,"creation_date":1468430878,"answer_id":38358175,"question_id":22251787,"body_markdown":"Add the elements to the arraylist and then sort the elements using utility Collections.sort,. then implement comparable and write your own compareTo method according to your key.\r\n\r\nwont remove duplicates as well, can be sorted also: \r\n\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    Collections.sort(list,new Comparator&lt;Integer&gt;() \r\n    {\r\n    \r\n      @Override\r\n    \r\n    \r\n      public int compare(Objectleft, Object right) {\r\n    \r\n        \r\n    **your logic**\r\n    \r\n         return &#39;&#39;;\r\n    \r\n      }\r\n    \r\n    }\r\n    \r\n    )\r\n    ;","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>Add the elements to the arraylist and then sort the elements using utility Collections.sort,. then implement comparable and write your own compareTo method according to your key.</p>\n\n<p>wont remove duplicates as well, can be sorted also: </p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\nCollections.sort(list,new Comparator&lt;Integer&gt;() \n{\n\n  @Override\n\n\n  public int compare(Objectleft, Object right) {\n\n\n**your logic**\n\n     return '';\n\n  }\n\n}\n\n)\n;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":305095,"reputation":3531,"user_id":615025,"accept_rate":37,"display_name":"sancho21"},"score":0,"creation_date":1645201534,"post_id":54738425,"comment_id":125816307,"body_markdown":"This hints should be available in the official documentation of TreeSet. After few minutes of googling finally I found this SO page. I know Set doesn&#39;t allow duplicates, but the natural order functionality during insertion brought me to TreeSet","body":"This hints should be available in the official documentation of TreeSet. After few minutes of googling finally I found this SO page. I know Set doesn&#39;t allow duplicates, but the natural order functionality during insertion brought me to TreeSet"}],"tags":[],"owner":{"account_id":11081389,"reputation":438,"user_id":8136480,"accept_rate":71,"display_name":"Sohit Gore"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1600618372,"creation_date":1550443977,"answer_id":54738425,"question_id":22251787,"body_markdown":"You can use a PriorityQueue.\r\n\r\n    PriorityQueue&lt;Integer&gt; pQueue = new PriorityQueue&lt;Integer&gt;(); \r\n\r\n`PriorityQueue()`:&#160;Creates a PriorityQueue with the default initial capacity (11) that orders its elements according to their natural ordering.\r\n\r\nThis is a link to doc: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>You can use a PriorityQueue.</p>\n<pre><code>PriorityQueue&lt;Integer&gt; pQueue = new PriorityQueue&lt;Integer&gt;(); \n</code></pre>\n<p><code>PriorityQueue()</code>:Creates a PriorityQueue with the default initial capacity (11) that orders its elements according to their natural ordering.</p>\n<p>This is a link to doc: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html</a></p>\n"},{"tags":[],"owner":{"account_id":5423691,"reputation":1195,"user_id":4316647,"display_name":"Chad Juliano"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1583435782,"creation_date":1583435314,"answer_id":60552440,"question_id":22251787,"body_markdown":"I found a way to get [TreeSet][1] to store duplicate keys. \r\n\r\nThe problem originated when I wrote some code in python using [SortedContainers][2]. I have a spatial index of objects where I want to find all objects between a start/end longitude. \r\n\r\nThe longitudes could be duplicates but I still need the ability to efficiently add/remove specific objects from the index. Unfortunately I could not find the Java equivalent of the Python [SortedKeyList][3] that separates the sort key from the type being stored.\r\n\r\nTo illustrate this consider that we have a large list of retail purchases and we want to get all purchases where the cost is in a specific range.\r\n\r\n    // We are using TreeSet as a SortedList\r\n    TreeSet _index = new TreeSet&lt;PriceBase&gt;()\r\n\r\n    // populate the index with the purchases. \r\n    // Note that 2 of these have the same cost\r\n    _index.add(new Purchase(&quot;candy&quot;, 1.03));\r\n    Purchase _bananas = new Purchase(&quot;bananas&quot;, 1.45);\r\n    _index.add(new Purchase(_bananas);\r\n    _index.add(new Purchase(&quot;celery&quot;, 1.45));\r\n    _index.add(new Purchase(&quot;chicken&quot;, 4.99));\r\n\r\n    // Range scan. This iterator should return &quot;candy&quot;, &quot;bananas&quot;, &quot;celery&quot;\r\n    NavigableSet&lt;PriceBase&gt; _iterator = _index.subset(\r\n        new PriceKey(0.99), new PriceKey(3.99));\r\n\r\n    // we can also remove specific items from the list and\r\n    // it finds the specific object even through the sort\r\n    // key is the same\r\n    _index.remove(_bananas);\r\n    \r\nThere are 3 classes created for the list\r\n\r\n* PriceBase: Base class that returns the sort key (the price).\r\n* Purchase: subclass that contains transaction data.\r\n* PriceKey: subclass used for the range search.\r\n\r\nWhen I initially implemented this with TreeSet it worked except in the case where the prices are the same. The trick is to define the compareTo() so that it is polymorphic:\r\n\r\n1. If we are comparing Purchase to PriceKey then only compare the price. \r\n2. If we are comparing Purchase to Purchase then compare the price and the name if the prices are the same.\r\n\r\nFor example here are the compareTo() functions for the PriceBase and Purchase classes.\r\n\r\n    // in PriceBase\r\n    @Override\r\n    public int compareTo(PriceBase _other) {\r\n        return Double.compare(this.getPrice(), _other.getPrice());\r\n    }\r\n\r\n    // in Purchase\r\n    @Override\r\n    public int compareTo(PriceBase _other) {\r\n        \r\n        // compare by price\r\n        int _compare = super.compareTo(_other);\r\n        \r\n        if(_compare != 0) {\r\n            // prices are not equal\r\n            return _compare;\r\n        }\r\n        \r\n        if(_other instanceof Purchase == false) {\r\n            throw new RuntimeException(&quot;Right compare must be a Purchase&quot;);\r\n        }\r\n        \r\n        // compare by item name\r\n        Purchase _otherPurchase = (Purchase)_other;\r\n        return this.getName().compareTo(_otherChild.getName());\r\n    }\r\n\r\nThis trick allows the TreeSet to sort the purchases by price but still do a real comparison when one needs to be uniquely identified.\r\n\r\nIn summary I needed an object index to support a range scan where the key is a continuous value like double and add/remove is efficient. \r\n\r\nI understand there are many other ways to solve this problem but I wanted to avoid writing my own tree class. My solution seems like a hack and I am surprised that I can&#39;t find anything else. if you know of a better way then please comment. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/index.html?java/util/TreeSet.html\r\n  [2]: http://www.grantjenks.com/docs/sortedcontainers/introduction.html\r\n  [3]: http://www.grantjenks.com/docs/sortedcontainers/sortedlist.html#sortedkeylist","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>I found a way to get <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> to store duplicate keys. </p>\n\n<p>The problem originated when I wrote some code in python using <a href=\"http://www.grantjenks.com/docs/sortedcontainers/introduction.html\" rel=\"nofollow noreferrer\">SortedContainers</a>. I have a spatial index of objects where I want to find all objects between a start/end longitude. </p>\n\n<p>The longitudes could be duplicates but I still need the ability to efficiently add/remove specific objects from the index. Unfortunately I could not find the Java equivalent of the Python <a href=\"http://www.grantjenks.com/docs/sortedcontainers/sortedlist.html#sortedkeylist\" rel=\"nofollow noreferrer\">SortedKeyList</a> that separates the sort key from the type being stored.</p>\n\n<p>To illustrate this consider that we have a large list of retail purchases and we want to get all purchases where the cost is in a specific range.</p>\n\n<pre><code>// We are using TreeSet as a SortedList\nTreeSet _index = new TreeSet&lt;PriceBase&gt;()\n\n// populate the index with the purchases. \n// Note that 2 of these have the same cost\n_index.add(new Purchase(\"candy\", 1.03));\nPurchase _bananas = new Purchase(\"bananas\", 1.45);\n_index.add(new Purchase(_bananas);\n_index.add(new Purchase(\"celery\", 1.45));\n_index.add(new Purchase(\"chicken\", 4.99));\n\n// Range scan. This iterator should return \"candy\", \"bananas\", \"celery\"\nNavigableSet&lt;PriceBase&gt; _iterator = _index.subset(\n    new PriceKey(0.99), new PriceKey(3.99));\n\n// we can also remove specific items from the list and\n// it finds the specific object even through the sort\n// key is the same\n_index.remove(_bananas);\n</code></pre>\n\n<p>There are 3 classes created for the list</p>\n\n<ul>\n<li>PriceBase: Base class that returns the sort key (the price).</li>\n<li>Purchase: subclass that contains transaction data.</li>\n<li>PriceKey: subclass used for the range search.</li>\n</ul>\n\n<p>When I initially implemented this with TreeSet it worked except in the case where the prices are the same. The trick is to define the compareTo() so that it is polymorphic:</p>\n\n<ol>\n<li>If we are comparing Purchase to PriceKey then only compare the price. </li>\n<li>If we are comparing Purchase to Purchase then compare the price and the name if the prices are the same.</li>\n</ol>\n\n<p>For example here are the compareTo() functions for the PriceBase and Purchase classes.</p>\n\n<pre><code>// in PriceBase\n@Override\npublic int compareTo(PriceBase _other) {\n    return Double.compare(this.getPrice(), _other.getPrice());\n}\n\n// in Purchase\n@Override\npublic int compareTo(PriceBase _other) {\n\n    // compare by price\n    int _compare = super.compareTo(_other);\n\n    if(_compare != 0) {\n        // prices are not equal\n        return _compare;\n    }\n\n    if(_other instanceof Purchase == false) {\n        throw new RuntimeException(\"Right compare must be a Purchase\");\n    }\n\n    // compare by item name\n    Purchase _otherPurchase = (Purchase)_other;\n    return this.getName().compareTo(_otherChild.getName());\n}\n</code></pre>\n\n<p>This trick allows the TreeSet to sort the purchases by price but still do a real comparison when one needs to be uniquely identified.</p>\n\n<p>In summary I needed an object index to support a range scan where the key is a continuous value like double and add/remove is efficient. </p>\n\n<p>I understand there are many other ways to solve this problem but I wanted to avoid writing my own tree class. My solution seems like a hack and I am surprised that I can't find anything else. if you know of a better way then please comment. </p>\n"},{"tags":[],"owner":{"account_id":16378317,"reputation":21,"user_id":11829949,"display_name":"In Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693247147,"creation_date":1693247147,"answer_id":76995242,"question_id":22251787,"body_markdown":"While it&#39;s not possible directly, there are few workarounds.\r\n\r\n------------------------------------------------\r\nWhat you should never do under any circumstances\r\n------------------------------------------------\r\n\r\nIt might not seem as obvious, but messing with `Comparator` argument or with `compareTo(T other)` method is unacceptable, and IDEs will usually show that something is not right. The problem with this approach is that any broken comparison algorithm breaks `TreeSet` in unexpected ways. For example, instantiating it like that\r\n\r\n```\r\nnew TreeSet&lt;Integer&gt;((x, y) -&gt; y - x == 0 ? 1 : y - x);\r\n```\r\n\r\nwould surely allow you to store duplicate `Integer` elements within such `TreeSet`. Nevertheless, it breaks `TreeSet` in half because every element stored is now absolutely unremovable. The `remove` method would do nothing at all because `TreeSet` cannot find any element equal to one passed into `remove` method (remember that `TreeSet` only compares elements by calling `Comparator` or `compareTo` method and never uses the `equals` method). \r\n\r\n-----------------\r\nWorse workaround\r\n-----------------\r\n\r\nInstead of passing elements of type `T` directly, you can create a wrapping class that contains `T` along with some id (`UUID` for example).\r\n\r\n```\r\nrecord TreeSetEntry&lt;T&gt;(T value, UUID uuid) {\r\n    TreeSetEntry(T value) {\r\n        this(value, UUID.randomUUID());\r\n    }\r\n}\r\n```\r\n\r\nPassing this as a type for `TreeSet` (with a proper comparator, of course) would create one that can accept `TreeSetEntry` as elements with equal values.\r\n\r\n```\r\nnew TreeSet&lt;&gt;(Comparator.comparingInt(TreeSetEntry&lt;Integer&gt;::value).thenComparing(TreeSetEntry::uuid));\r\n```\r\n\r\nThis way of overcoming `TreeSet`&#39;s limitations while being correct on its own comes with a cost of massive memory overhead because for each value two additional objects would be created.\r\n\r\n-------------------\r\nWay better approach\r\n-------------------\r\n\r\nReally, in case you need to store duplicates in `TreeSet` as separate elements, the only valuable information you can store is what an element is and how many times it appears in `TreeSet` right now. Replacing `TreeSet&lt;T&gt;` with `TreeMap&lt;T, Long&gt;` is the best approach I&#39;ve found. Of course, managing the presence and absence of value as a key inside `TreeMap` is required, but it&#39;s possible to automate this process either by inheritance or delegation and then introduce methods for adding or removing a value unit.\r\n\r\nThe inheritance example is shown below. This approach retains all the functionality from `TreeMap`.\r\n```\r\nclass TreeCounter&lt;T&gt; extends TreeMap&lt;T, Long&gt; {\r\n    TreeCounter(Comparator&lt;T&gt; comparator) {\r\n        super(comparator);\r\n    }\r\n\r\n    void increase(T item) {\r\n        increase(item, 1);\r\n    }\r\n\r\n    void increase(T item, int difference) {\r\n        var count = this.getOrDefault(item, 0L);\r\n        this.put(item, count + difference);\r\n    }\r\n\r\n    void decrease(T item) {\r\n        decrease(item, 1);\r\n    }\r\n\r\n    void decrease(T item, int difference) {\r\n        var currentCount = this.getOrDefault(item, 0L);\r\n        if (currentCount &lt;= 1) {\r\n            this.remove(item);\r\n            return;\r\n        }\r\n\r\n        this.put(item, currentCount - 1);\r\n    }\r\n}\r\n```\r\n\r\nBeing aware of the fact that the `TreeSet` and `TreeMap` in Java in particular both allocate approximately equal amounts of memory, I can safely say this workaround is insanely memory efficient, especially in cases where a lot of duplicate elements need to get stored.","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>While it's not possible directly, there are few workarounds.</p>\n<hr />\n<h2>What you should never do under any circumstances</h2>\n<p>It might not seem as obvious, but messing with <code>Comparator</code> argument or with <code>compareTo(T other)</code> method is unacceptable, and IDEs will usually show that something is not right. The problem with this approach is that any broken comparison algorithm breaks <code>TreeSet</code> in unexpected ways. For example, instantiating it like that</p>\n<pre><code>new TreeSet&lt;Integer&gt;((x, y) -&gt; y - x == 0 ? 1 : y - x);\n</code></pre>\n<p>would surely allow you to store duplicate <code>Integer</code> elements within such <code>TreeSet</code>. Nevertheless, it breaks <code>TreeSet</code> in half because every element stored is now absolutely unremovable. The <code>remove</code> method would do nothing at all because <code>TreeSet</code> cannot find any element equal to one passed into <code>remove</code> method (remember that <code>TreeSet</code> only compares elements by calling <code>Comparator</code> or <code>compareTo</code> method and never uses the <code>equals</code> method).</p>\n<hr />\n<h2>Worse workaround</h2>\n<p>Instead of passing elements of type <code>T</code> directly, you can create a wrapping class that contains <code>T</code> along with some id (<code>UUID</code> for example).</p>\n<pre><code>record TreeSetEntry&lt;T&gt;(T value, UUID uuid) {\n    TreeSetEntry(T value) {\n        this(value, UUID.randomUUID());\n    }\n}\n</code></pre>\n<p>Passing this as a type for <code>TreeSet</code> (with a proper comparator, of course) would create one that can accept <code>TreeSetEntry</code> as elements with equal values.</p>\n<pre><code>new TreeSet&lt;&gt;(Comparator.comparingInt(TreeSetEntry&lt;Integer&gt;::value).thenComparing(TreeSetEntry::uuid));\n</code></pre>\n<p>This way of overcoming <code>TreeSet</code>'s limitations while being correct on its own comes with a cost of massive memory overhead because for each value two additional objects would be created.</p>\n<hr />\n<h2>Way better approach</h2>\n<p>Really, in case you need to store duplicates in <code>TreeSet</code> as separate elements, the only valuable information you can store is what an element is and how many times it appears in <code>TreeSet</code> right now. Replacing <code>TreeSet&lt;T&gt;</code> with <code>TreeMap&lt;T, Long&gt;</code> is the best approach I've found. Of course, managing the presence and absence of value as a key inside <code>TreeMap</code> is required, but it's possible to automate this process either by inheritance or delegation and then introduce methods for adding or removing a value unit.</p>\n<p>The inheritance example is shown below. This approach retains all the functionality from <code>TreeMap</code>.</p>\n<pre><code>class TreeCounter&lt;T&gt; extends TreeMap&lt;T, Long&gt; {\n    TreeCounter(Comparator&lt;T&gt; comparator) {\n        super(comparator);\n    }\n\n    void increase(T item) {\n        increase(item, 1);\n    }\n\n    void increase(T item, int difference) {\n        var count = this.getOrDefault(item, 0L);\n        this.put(item, count + difference);\n    }\n\n    void decrease(T item) {\n        decrease(item, 1);\n    }\n\n    void decrease(T item, int difference) {\n        var currentCount = this.getOrDefault(item, 0L);\n        if (currentCount &lt;= 1) {\n            this.remove(item);\n            return;\n        }\n\n        this.put(item, currentCount - 1);\n    }\n}\n</code></pre>\n<p>Being aware of the fact that the <code>TreeSet</code> and <code>TreeMap</code> in Java in particular both allocate approximately equal amounts of memory, I can safely say this workaround is insanely memory efficient, especially in cases where a lot of duplicate elements need to get stored.</p>\n"}],"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38820,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":22252605,"answer_count":8,"score":13,"last_activity_date":1693247147,"creation_date":1394199893,"question_id":22251787,"body_markdown":"I need a `Collection` that sorts the element, but does not removes the duplicates.\r\n\r\nI have gone for a `TreeSet`, since `TreeSet` actually adds the values to a backed `TreeMap`: \r\n\r\n    public boolean add(E e) {\r\n\t    return m.put(e, PRESENT)==null;\r\n    }\r\n\r\n\r\nAnd the TreeMap removes the duplicates using the `Comparators` `compare` logic\r\n\r\nI have written a `Comparator` that returns 1 instead of 0 in case of equal elements. Hence in the case of equal elements the `TreeSet` with this `Comparator` will not overwrite the duplicate and will just sort it.\r\n\r\nI have tested it for simple `String` objects, but I need a Set of Custom objects.\r\n\r\n    public static void main(String[] args)\r\n    {\t\t\r\n    \t\tList&lt;String&gt; strList = Arrays.asList( new String[]{&quot;d&quot;,&quot;b&quot;,&quot;c&quot;,&quot;z&quot;,&quot;s&quot;,&quot;b&quot;,&quot;d&quot;,&quot;a&quot;} );\t\t\r\n    \t\tSet&lt;String&gt; strSet = new TreeSet&lt;String&gt;(new StringComparator());\t\t\r\n    \t\tstrSet.addAll(strList);\t\t\r\n    \t\tSystem.out.println(strSet);\t\r\n    }\r\n    \r\n    class StringComparator implements Comparator&lt;String&gt;\r\n    {\r\n    \t@Override\r\n    \tpublic int compare(String s1, String s2)\r\n    \t{\r\n    \t\tif(s1.compareTo(s2) == 0){\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\treturn s1.compareTo(s2);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIs this approach fine or is there a better way to achieve this?\r\n\r\n**EDIT**\r\n\r\nActually I am having a ArrayList of the following class:\r\n\r\n    class Fund \r\n    {\r\n    \tString fundCode;\r\n    \tBigDecimal fundValue;\r\n    \t.....\r\n\r\n        public boolean equals(Object obj) {\r\n    \t// uses fundCode for equality\r\n        }\r\n    }\r\n\r\nI need all the `fundCode` with highest `fundValue`","title":"A TreeSet or TreeMap that allow duplicates","body":"<p>I need a <code>Collection</code> that sorts the element, but does not removes the duplicates.</p>\n\n<p>I have gone for a <code>TreeSet</code>, since <code>TreeSet</code> actually adds the values to a backed <code>TreeMap</code>: </p>\n\n<pre><code>public boolean add(E e) {\n    return m.put(e, PRESENT)==null;\n}\n</code></pre>\n\n<p>And the TreeMap removes the duplicates using the <code>Comparators</code> <code>compare</code> logic</p>\n\n<p>I have written a <code>Comparator</code> that returns 1 instead of 0 in case of equal elements. Hence in the case of equal elements the <code>TreeSet</code> with this <code>Comparator</code> will not overwrite the duplicate and will just sort it.</p>\n\n<p>I have tested it for simple <code>String</code> objects, but I need a Set of Custom objects.</p>\n\n<pre><code>public static void main(String[] args)\n{       \n        List&lt;String&gt; strList = Arrays.asList( new String[]{\"d\",\"b\",\"c\",\"z\",\"s\",\"b\",\"d\",\"a\"} );      \n        Set&lt;String&gt; strSet = new TreeSet&lt;String&gt;(new StringComparator());       \n        strSet.addAll(strList);     \n        System.out.println(strSet); \n}\n\nclass StringComparator implements Comparator&lt;String&gt;\n{\n    @Override\n    public int compare(String s1, String s2)\n    {\n        if(s1.compareTo(s2) == 0){\n            return 1;\n        }\n        else{\n            return s1.compareTo(s2);\n        }\n    }\n}\n</code></pre>\n\n<p>Is this approach fine or is there a better way to achieve this?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Actually I am having a ArrayList of the following class:</p>\n\n<pre><code>class Fund \n{\n    String fundCode;\n    BigDecimal fundValue;\n    .....\n\n    public boolean equals(Object obj) {\n    // uses fundCode for equality\n    }\n}\n</code></pre>\n\n<p>I need all the <code>fundCode</code> with highest <code>fundValue</code></p>\n"},{"tags":["java","digital-signature","pades"],"answers":[{"tags":[],"owner":{"account_id":8497217,"reputation":37844,"user_id":6371459,"accept_rate":25,"display_name":"pedrofb"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1505461958,"creation_date":1505461958,"answer_id":46234469,"question_id":46234206,"body_markdown":"No, it is not possible, PAdES signatures are always sequential. Each signature is made on the current version of the document\r\n\r\nTake a look to the [ETSI TS 102 778-1 PDF Advanced Electronic Signature Profiles][1]\r\n\r\n\r\n&gt; **4.4 PDF serial signatures**\r\n\r\n\r\n&gt;[![pades][2]][2]\r\n\r\n&gt;**Signatures applied in parallel are currently not supported**\r\n  [1]: http://www.etsi.org/deliver/etsi_ts/102700_102799/10277801/01.01.01_60/ts_10277801v010101p.pdf\r\n  [2]: https://i.stack.imgur.com/fH1ZE.png","title":"Signature PADES sequential or parallel","body":"<p>No, it is not possible, PAdES signatures are always sequential. Each signature is made on the current version of the document</p>\n\n<p>Take a look to the <a href=\"http://www.etsi.org/deliver/etsi_ts/102700_102799/10277801/01.01.01_60/ts_10277801v010101p.pdf\" rel=\"noreferrer\">ETSI TS 102 778-1 PDF Advanced Electronic Signature Profiles</a></p>\n\n<blockquote>\n  <p><strong>4.4 PDF serial signatures</strong></p>\n  \n  <p><a href=\"https://i.stack.imgur.com/fH1ZE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fH1ZE.png\" alt=\"pades\"></a></p>\n  \n  <p><strong>Signatures applied in parallel are currently not supported</strong></p>\n</blockquote>\n"}],"owner":{"account_id":9362987,"reputation":125,"user_id":6948770,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":46234469,"answer_count":1,"score":6,"last_activity_date":1693246698,"creation_date":1505461105,"question_id":46234206,"body_markdown":"In signature CAdES it&#39;s possible create multiple signature sequential or parallel.\r\n\r\n**Signature parallel**: in case of contract, when more people have to sign the same document. Each people sign the same document, and each signature is added to document.\r\n\r\n**Signature sequential**: where person sign the entire document (signature including) previously signed from another person.\r\n\r\nMy question is: in signature PAdES it&#39;s possible to create signature parallel?\r\nFor signature PAdES we use itext.","title":"Signature PADES sequential or parallel","body":"<p>In signature CAdES it's possible create multiple signature sequential or parallel.</p>\n<p><strong>Signature parallel</strong>: in case of contract, when more people have to sign the same document. Each people sign the same document, and each signature is added to document.</p>\n<p><strong>Signature sequential</strong>: where person sign the entire document (signature including) previously signed from another person.</p>\n<p>My question is: in signature PAdES it's possible to create signature parallel?\nFor signature PAdES we use itext.</p>\n"},{"tags":["java","lotus-notes","lotus-domino"],"comments":[{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":1,"creation_date":1391567613,"post_id":21564157,"comment_id":32576569,"body_markdown":"In some cases, putting the code in an external jar file seems to do the trick. Have you seen this article? http://lekkimworld.com/2013/06/20/java_in_notes_domino_explained_on_java_security_and_how_it_relates_to_notes_domino.html","body":"In some cases, putting the code in an external jar file seems to do the trick. Have you seen this article? <a href=\"http://lekkimworld.com/2013/06/20/java_in_notes_domino_explained_on_java_security_and_how_it_relates_to_notes_domino.html\" rel=\"nofollow noreferrer\">lekkimworld.com/2013/06/20/&hellip;</a>"},{"owner":{"account_id":1940590,"reputation":641,"user_id":1746868,"accept_rate":100,"display_name":"Gerard Cruz"},"score":1,"creation_date":1391721182,"post_id":21564157,"comment_id":32658170,"body_markdown":"This worked! Thank you for the article. External jar file and elevated permission for the function.","body":"This worked! Thank you for the article. External jar file and elevated permission for the function."},{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":1,"creation_date":1391741791,"post_id":21564157,"comment_id":32666049,"body_markdown":"I&#39;m glad it worked for you. An upvote and/or accept would be appreciated! :-)","body":"I&#39;m glad it worked for you. An upvote and/or accept would be appreciated! :-)"},{"owner":{"account_id":1940590,"reputation":641,"user_id":1746868,"accept_rate":100,"display_name":"Gerard Cruz"},"score":1,"creation_date":1391793245,"post_id":21564157,"comment_id":32692241,"body_markdown":"It was a comment so I only upvoted it... If you could put it in the &#39;answer your question&#39;, I will upvote and accept it as an answer right away.","body":"It was a comment so I only upvoted it... If you could put it in the &#39;answer your question&#39;, I will upvote and accept it as an answer right away."},{"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"score":1,"creation_date":1391805307,"post_id":21564157,"comment_id":32698724,"body_markdown":"You&#39;re right! I had debated whether or not to make it an answer, but had decided not to since these kinds of permission issues can be so mysterious. I&#39;ll do that now.","body":"You&#39;re right! I had debated whether or not to make it an answer, but had decided not to since these kinds of permission issues can be so mysterious. I&#39;ll do that now."}],"answers":[{"tags":[],"owner":{"account_id":309890,"reputation":14473,"user_id":622571,"display_name":"Richard Schwartz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1391805387,"creation_date":1391805387,"answer_id":21637291,"question_id":21564157,"body_markdown":"In some cases, putting the code in an external jar file seems to do the trick. Have you seen this [article][1]? It goes into a lot of detail about solving problems like this.\r\n\r\n\r\n  [1]: http://lekkimworld.com/2013/06/20/java_in_notes_domino_explained_on_java_security_and_how_it_relates_to_notes_domino.html","title":"Unable to run setDefaultHostnameVerifier","body":"<p>In some cases, putting the code in an external jar file seems to do the trick. Have you seen this <a href=\"http://lekkimworld.com/2013/06/20/java_in_notes_domino_explained_on_java_security_and_how_it_relates_to_notes_domino.html\" rel=\"nofollow\">article</a>? It goes into a lot of detail about solving problems like this.</p>\n"},{"tags":[],"owner":{"account_id":223299,"reputation":188,"user_id":1656858,"display_name":"Adrian Bartyczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693246527,"creation_date":1693246527,"answer_id":76995171,"question_id":21564157,"body_markdown":"For me, the issue was proguard obfuscating classes in org.bouncycastle.jcajce.provider. What I did was add the following to my proguard.conf file:\r\n\r\n`-keep class org.bouncycastle.jcajce.provider.** { *; }`","title":"Unable to run setDefaultHostnameVerifier","body":"<p>For me, the issue was proguard obfuscating classes in org.bouncycastle.jcajce.provider. What I did was add the following to my proguard.conf file:</p>\n<p><code>-keep class org.bouncycastle.jcajce.provider.** { *; }</code></p>\n"}],"owner":{"account_id":1940590,"reputation":641,"user_id":1746868,"accept_rate":100,"display_name":"Gerard Cruz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2079,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21637291,"answer_count":2,"score":1,"last_activity_date":1693246527,"creation_date":1391550324,"question_id":21564157,"body_markdown":"Basically I&#39;m trying to execute the following code within an lotus notes java agent in a local database to force ignore the host name mismatch for the SSL certificate.\r\n\r\n    HostnameVerifier hv = new HostnameVerifier() {\r\n                        public boolean verify(String urlHostName, SSLSession session) {\r\n                            System.out.println(&quot;Warning: URL Host: &quot; + urlHostName + &quot; vs. &quot;\r\n                                    + session.getPeerHost());\r\n                            return true;\r\n                        }\r\n                    };\r\n    HttpsURLConnection.setDefaultHostnameVerifier(hv);\r\n\r\nHowever, I&#39;m encountering an error that says that the access to the particular method is denied\r\n\r\n&gt; java.security.AccessControlException: Access denied\r\n&gt; (javax.net.ssl.SSLPermission setHostnameVerifier) \tat\r\n&gt; java.security.AccessController.throwACE(AccessController.java:100) \tat\r\n&gt; java.security.AccessController.checkPermission(AccessController.java:174)\r\n&gt; \tat\r\n&gt; java.lang.SecurityManager.checkPermission(SecurityManager.java:544)\r\n&gt; \tat\r\n&gt; COM.ibm.JEmpower.applet.AppletSecurity.superDotCheckPermission(AppletSecurity.java:1449)\r\n&gt; \tat\r\n&gt; COM.ibm.JEmpower.applet.AppletSecurity.checkPermission(AppletSecurity.java:1617)\r\n&gt; \tat\r\n&gt; COM.ibm.JEmpower.applet.AppletSecurity.checkPermission(AppletSecurity.java:1464)\r\n&gt; \tat\r\n&gt; javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(HttpsURLConnection.java:40)\r\n&gt; \tat JavaAgent.NotesMain(JavaAgent.java:45) \tat\r\n&gt; lotus.domino.AgentBase.runNotes(Unknown Source) \tat\r\n&gt; lotus.domino.NotesThread.run(Unknown Source)\r\n\r\nI have tried the following code inside the java.policy file but the error remains the same\r\n\r\n&gt; permission javax.net.ssl.SSLPermission setHostnameVerifier;\r\n\r\nI tried the same code in eclipse IDE and ran it and worked well. ","title":"Unable to run setDefaultHostnameVerifier","body":"<p>Basically I'm trying to execute the following code within an lotus notes java agent in a local database to force ignore the host name mismatch for the SSL certificate.</p>\n\n<pre><code>HostnameVerifier hv = new HostnameVerifier() {\n                    public boolean verify(String urlHostName, SSLSession session) {\n                        System.out.println(\"Warning: URL Host: \" + urlHostName + \" vs. \"\n                                + session.getPeerHost());\n                        return true;\n                    }\n                };\nHttpsURLConnection.setDefaultHostnameVerifier(hv);\n</code></pre>\n\n<p>However, I'm encountering an error that says that the access to the particular method is denied</p>\n\n<blockquote>\n  <p>java.security.AccessControlException: Access denied\n  (javax.net.ssl.SSLPermission setHostnameVerifier)     at\n  java.security.AccessController.throwACE(AccessController.java:100)    at\n  java.security.AccessController.checkPermission(AccessController.java:174)\n    at\n  java.lang.SecurityManager.checkPermission(SecurityManager.java:544)\n    at\n  COM.ibm.JEmpower.applet.AppletSecurity.superDotCheckPermission(AppletSecurity.java:1449)\n    at\n  COM.ibm.JEmpower.applet.AppletSecurity.checkPermission(AppletSecurity.java:1617)\n    at\n  COM.ibm.JEmpower.applet.AppletSecurity.checkPermission(AppletSecurity.java:1464)\n    at\n  javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(HttpsURLConnection.java:40)\n    at JavaAgent.NotesMain(JavaAgent.java:45)   at\n  lotus.domino.AgentBase.runNotes(Unknown Source)   at\n  lotus.domino.NotesThread.run(Unknown Source)</p>\n</blockquote>\n\n<p>I have tried the following code inside the java.policy file but the error remains the same</p>\n\n<blockquote>\n  <p>permission javax.net.ssl.SSLPermission setHostnameVerifier;</p>\n</blockquote>\n\n<p>I tried the same code in eclipse IDE and ran it and worked well. </p>\n"},{"tags":["java","google-cloud-platform","google-bigquery","apache-beam","apache-beam-io"],"comments":[{"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"score":0,"creation_date":1547096202,"post_id":54110596,"comment_id":95076158,"body_markdown":"Can you specify more about your use case? Dataflow/Beam should perform only-once when coupled with BigQuery, without you needing to specify manually an insertId.","body":"Can you specify more about your use case? Dataflow/Beam should perform only-once when coupled with BigQuery, without you needing to specify manually an insertId."},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547096932,"post_id":54110596,"comment_id":95076333,"body_markdown":"my use case is mentioned above. want to de-duplicate when inserting to BigQuery. so just specify insertId as column in new row?","body":"my use case is mentioned above. want to de-duplicate when inserting to BigQuery. so just specify insertId as column in new row?"},{"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"score":0,"creation_date":1547099611,"post_id":54110596,"comment_id":95077039,"body_markdown":"I understand you want to de-duplicate. But depending on the source of duplication, this might be already a solved problem.","body":"I understand you want to de-duplicate. But depending on the source of duplication, this might be already a solved problem."},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547100021,"post_id":54110596,"comment_id":95077144,"body_markdown":"no duplication on data source side. since Kafka support at least once delivery as default so I think there is possibility of duplication between Kafka producer and consumer. and also I guess dataflow might insert same row more than once when retry on some errors (e.g. temporal network issue). so I just want to know how I can avoid duplication on both. this question is about stream insert from dataflow to bigquery.","body":"no duplication on data source side. since Kafka support at least once delivery as default so I think there is possibility of duplication between Kafka producer and consumer. and also I guess dataflow might insert same row more than once when retry on some errors (e.g. temporal network issue). so I just want to know how I can avoid duplication on both. this question is about stream insert from dataflow to bigquery."},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547101547,"post_id":54110596,"comment_id":95077600,"body_markdown":"In my actual use case, requirement for de-duplication is not so strong. So I think the easiest way is just to insert to Big Query then de-duplication on query. but I just want to know BigQueryIO (Apache Beam) support deduplication feature.","body":"In my actual use case, requirement for de-duplication is not so strong. So I think the easiest way is just to insert to Big Query then de-duplication on query. but I just want to know BigQueryIO (Apache Beam) support deduplication feature."}],"answers":[{"comments":[{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547175487,"post_id":54137754,"comment_id":95111002,"body_markdown":"Thanks! but my original question is how to use BigQuery deduplication feature from Apache Beam.","body":"Thanks! but my original question is how to use BigQuery deduplication feature from Apache Beam."},{"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"score":1,"creation_date":1547178155,"post_id":54137754,"comment_id":95111566,"body_markdown":"You can&#39;t manually, because Dataflow is already using insertId for itself to implement &quot;exactly once&quot; as described.","body":"You can&#39;t manually, because Dataflow is already using insertId for itself to implement &quot;exactly once&quot; as described."},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547190454,"post_id":54137754,"comment_id":95114722,"body_markdown":"OK I see. Thank you for clarification.","body":"OK I see. Thank you for clarification."},{"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"score":0,"creation_date":1547195922,"post_id":54137754,"comment_id":95116917,"body_markdown":"Thanks for asking! I had to ask some experts to get to this answer :). Including Pablo, who improved my answer above","body":"Thanks for asking! I had to ask some experts to get to this answer :). Including Pablo, who improved my answer above"},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547197578,"post_id":54137754,"comment_id":95117698,"body_markdown":"And I can not find about `.apply(Distinct.create())` transform in Apache Beam document. So it would be helpful if you could mention about it in the document.","body":"And I can not find about <code>.apply(Distinct.create())</code> transform in Apache Beam document. So it would be helpful if you could mention about it in the document."},{"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"score":0,"creation_date":1547202104,"post_id":54137754,"comment_id":95120251,"body_markdown":"https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Distinct.html","body":"<a href=\"https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Distinct.html\" rel=\"nofollow noreferrer\">beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547217109,"post_id":54137754,"comment_id":95128014,"body_markdown":"I mean it is not easy to find it in japadoc without any explanation in Apache beam website","body":"I mean it is not easy to find it in japadoc without any explanation in Apache beam website"},{"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"score":0,"creation_date":1547229833,"post_id":54137754,"comment_id":95134718,"body_markdown":"I&#39;m confused now","body":"I&#39;m confused now"},{"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"score":0,"creation_date":1547535026,"post_id":54137754,"comment_id":95214944,"body_markdown":"&quot;Dataflow is already using insertId for itself to implement &quot;exactly once&quot; as described&quot;  Can I see how this is implemented? Would you provide the link to this implementation? Thanks.","body":"&quot;Dataflow is already using insertId for itself to implement &quot;exactly once&quot; as described&quot;  Can I see how this is implemented? Would you provide the link to this implementation? Thanks."},{"owner":{"account_id":12573588,"reputation":335,"user_id":9146833,"display_name":"dliu"},"score":0,"creation_date":1634342960,"post_id":54137754,"comment_id":123006848,"body_markdown":"Re: &quot;That guarantee is stronger when you ask Dataflow to insert to BigQuery using FILE_LOADS instead of STREAMING_INSERTS, for now&quot;. Is it really a &quot;guarantee&quot; that duplicate can&#39;t possibly happen? if so, why one is stronger than the other?","body":"Re: &quot;That guarantee is stronger when you ask Dataflow to insert to BigQuery using FILE_LOADS instead of STREAMING_INSERTS, for now&quot;. Is it really a &quot;guarantee&quot; that duplicate can&#39;t possibly happen? if so, why one is stronger than the other?"}],"tags":[],"owner":{"account_id":45023,"reputation":56015,"user_id":132438,"accept_rate":43,"display_name":"Felipe Hoffa"},"comment_count":10,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1547159656,"creation_date":1547158995,"answer_id":54137754,"question_id":54110596,"body_markdown":"- **Pub/Sub + Beam/Dataflow + BigQuery**: &quot;Exactly once&quot; should be guaranteed, and you don&#39;t need to worry much about this. That guarantee is stronger when you ask Dataflow to insert to BigQuery using [FILE_LOADS][1] instead of [STREAMING_INSERTS][2], for now.\r\n\r\n- **Kafka + Beam/Dataflow + BigQuery**: If a message can be emitted more than once from Kafka (e.g. if the producer retried the insertion), then you need to take care of de-duplication. Either in BigQuery (as currently implemented, according to your comment), or in Dataflow with a `.apply(Distinct.create())` transform.\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.Method.html#FILE_LOADS\r\n  [2]: https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.Method.html#STREAMING_INSERTS","title":"How to specify insertId when streaming insert to BigQuery using Apache Beam","body":"<ul>\n<li><p><strong>Pub/Sub + Beam/Dataflow + BigQuery</strong>: \"Exactly once\" should be guaranteed, and you don't need to worry much about this. That guarantee is stronger when you ask Dataflow to insert to BigQuery using <a href=\"https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.Method.html#FILE_LOADS\" rel=\"nofollow noreferrer\">FILE_LOADS</a> instead of <a href=\"https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.Method.html#STREAMING_INSERTS\" rel=\"nofollow noreferrer\">STREAMING_INSERTS</a>, for now.</p></li>\n<li><p><strong>Kafka + Beam/Dataflow + BigQuery</strong>: If a message can be emitted more than once from Kafka (e.g. if the producer retried the insertion), then you need to take care of de-duplication. Either in BigQuery (as currently implemented, according to your comment), or in Dataflow with a <code>.apply(Distinct.create())</code> transform.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547534281,"creation_date":1547534281,"answer_id":54193825,"question_id":54110596,"body_markdown":"As Felipe mentioned in the comment, it seems that Dataflow is already using insertId for itself to implement &quot;exactly once&quot;. so we can not manually specify insertId. ","title":"How to specify insertId when streaming insert to BigQuery using Apache Beam","body":"<p>As Felipe mentioned in the comment, it seems that Dataflow is already using insertId for itself to implement \"exactly once\". so we can not manually specify insertId. </p>\n"}],"owner":{"account_id":2106398,"reputation":1394,"user_id":1872639,"accept_rate":86,"display_name":"Yohei Onishi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4747,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":54193825,"answer_count":2,"score":5,"last_activity_date":1693246376,"creation_date":1547038341,"question_id":54110596,"body_markdown":"BigQuery supports de-duplication for streaming insert. How can I use this feature using Apache Beam?\r\n\r\nhttps://cloud.google.com/bigquery/streaming-data-into-bigquery#dataconsistency\r\n\r\n&gt; To help ensure data consistency, you can supply insertId for each inserted row. BigQuery remembers this ID for at least one minute. If you try to stream the same set of rows within that time period and the insertId property is set, BigQuery uses the insertId property to de-duplicate your data on a best effort basis. You might have to retry an insert because there&#39;s no way to determine the state of a streaming insert under certain error conditions, such as network errors between your system and BigQuery or internal errors within BigQuery. If you retry an insert, use the same insertId for the same set of rows so that BigQuery can attempt to de-duplicate your data. For more information, see troubleshooting streaming inserts.\r\n\r\nI can not find such feature in Java doc.\r\nhttps://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.html\r\n\r\nIn [this question][1], he suggest to set insertId in TableRow. Is this correct?\r\n\r\nhttps://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/model/TableRow.html?is-external=true\r\n\r\nBigQuery client library has this feature.\r\n\r\nhttps://googleapis.github.io/google-cloud-java/google-cloud-clients/apidocs/index.html?com/google/cloud/bigquery/package-summary.html\r\nhttps://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/google-cloud-bigquery/src/main/java/com/google/cloud/bigquery/InsertAllRequest.java#L134\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46401195/apache-beam-bigquery-insertid-for-deduplication-not-working","title":"How to specify insertId when streaming insert to BigQuery using Apache Beam","body":"<p>BigQuery supports de-duplication for streaming insert. How can I use this feature using Apache Beam?</p>\n\n<p><a href=\"https://cloud.google.com/bigquery/streaming-data-into-bigquery#dataconsistency\" rel=\"noreferrer\">https://cloud.google.com/bigquery/streaming-data-into-bigquery#dataconsistency</a></p>\n\n<blockquote>\n  <p>To help ensure data consistency, you can supply insertId for each inserted row. BigQuery remembers this ID for at least one minute. If you try to stream the same set of rows within that time period and the insertId property is set, BigQuery uses the insertId property to de-duplicate your data on a best effort basis. You might have to retry an insert because there's no way to determine the state of a streaming insert under certain error conditions, such as network errors between your system and BigQuery or internal errors within BigQuery. If you retry an insert, use the same insertId for the same set of rows so that BigQuery can attempt to de-duplicate your data. For more information, see troubleshooting streaming inserts.</p>\n</blockquote>\n\n<p>I can not find such feature in Java doc.\n<a href=\"https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.html\" rel=\"noreferrer\">https://beam.apache.org/releases/javadoc/2.9.0/org/apache/beam/sdk/io/gcp/bigquery/BigQueryIO.Write.html</a></p>\n\n<p>In <a href=\"https://stackoverflow.com/questions/46401195/apache-beam-bigquery-insertid-for-deduplication-not-working\">this question</a>, he suggest to set insertId in TableRow. Is this correct?</p>\n\n<p><a href=\"https://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/model/TableRow.html?is-external=true\" rel=\"noreferrer\">https://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/model/TableRow.html?is-external=true</a></p>\n\n<p>BigQuery client library has this feature.</p>\n\n<p><a href=\"https://googleapis.github.io/google-cloud-java/google-cloud-clients/apidocs/index.html?com/google/cloud/bigquery/package-summary.html\" rel=\"noreferrer\">https://googleapis.github.io/google-cloud-java/google-cloud-clients/apidocs/index.html?com/google/cloud/bigquery/package-summary.html</a>\n<a href=\"https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/google-cloud-bigquery/src/main/java/com/google/cloud/bigquery/InsertAllRequest.java#L134\" rel=\"noreferrer\">https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/google-cloud-bigquery/src/main/java/com/google/cloud/bigquery/InsertAllRequest.java#L134</a></p>\n"},{"tags":["java","hibernate","jpa","orm","persistence"],"answers":[{"comments":[{"owner":{"account_id":29257641,"reputation":1,"user_id":22415462,"display_name":"randomuser333"},"score":0,"creation_date":1693062692,"post_id":76970147,"comment_id":135711756,"body_markdown":"So why this is works with one opened entity manager? (question is updated) In working example there is no need to merge B, only A. I need a separate repository for A and B, in repository A find item by id, change fields, add or delete items from list of B&#39;s in A instance. Same with B repository. On the other hand i need to open and close entity manager for each operation for save, find and so on. Why hibernate doesn&#39;t figure out how to deal with list of related entities in detached entity?","body":"So why this is works with one opened entity manager? (question is updated) In working example there is no need to merge B, only A. I need a separate repository for A and B, in repository A find item by id, change fields, add or delete items from list of B&#39;s in A instance. Same with B repository. On the other hand i need to open and close entity manager for each operation for save, find and so on. Why hibernate doesn&#39;t figure out how to deal with list of related entities in detached entity?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693229733,"post_id":76970147,"comment_id":135728872,"body_markdown":"When you read from one context and merge into another, It will only see the A&#39; you give it, not the B&#39; you&#39;ve removed from B - it doesn&#39;t see that you&#39;ve changed the B that has been dereferenced from A&#39;. When you read in from a context, everything read in is managed within it. So that context (EntityManager) is aware of all changes you make to the A and B instances read in through it; merge(a) is completely unnecessary as the EntityManager will pick up any and all changes made to A and B","body":"When you read from one context and merge into another, It will only see the A&#39; you give it, not the B&#39; you&#39;ve removed from B - it doesn&#39;t see that you&#39;ve changed the B that has been dereferenced from A&#39;. When you read in from a context, everything read in is managed within it. So that context (EntityManager) is aware of all changes you make to the A and B instances read in through it; merge(a) is completely unnecessary as the EntityManager will pick up any and all changes made to A and B"},{"owner":{"account_id":29257641,"reputation":1,"user_id":22415462,"display_name":"randomuser333"},"score":0,"creation_date":1693235487,"post_id":76970147,"comment_id":135730299,"body_markdown":"So how to delete from the non owning side? when i doing the same as in my not working  example but from owning side this works (fetch b with id 1 and delete a with id 2 from it). I need only deletion from b_a  table. How to do it in the correct way?","body":"So how to delete from the non owning side? when i doing the same as in my not working  example but from owning side this works (fetch b with id 1 and delete a with id 2 from it). I need only deletion from b_a  table. How to do it in the correct way?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693245366,"post_id":76970147,"comment_id":135732237,"body_markdown":"Don&#39;t just de-reference b, you have to merge it into the context as well.","body":"Don&#39;t just de-reference b, you have to merge it into the context as well."}],"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693246315,"creation_date":1692886092,"answer_id":76970147,"question_id":76967879,"body_markdown":"Entity &#39;A&#39; doesn&#39;t own the A.b ManyToMany relationship mapping since you&#39;ve marked it as mappedBy the B.a relationship. This means that changes are only picked up from the B side of things - if you need to remove a &#39;B&#39; instance from the relationship, you&#39;ll need to merge B into the context. You should still merge A if possible to keep the cached copy of A in synch with the database in various caching strategies, but isn&#39;t likely to be needed in the simple test you&#39;ve shown.\r\n\r\nThere are a few ways to handle this, such as changing the owner of the relationship (akin to making it a unidirectional relationship from A-&gt;B), but I&#39;d suggest instead just handling changes to the list of Bs yourself:\r\n\r\n    public static void repositoryMerge(A a) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager entityManager = factory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n        final A managedA = entityManager.find(A.class, a.getId());\r\n        List&lt;B&gt; missingBs = managedA.getB().stream().filter(\r\n          b -&gt; !a.getB().stream().anyMatch( \r\n            b1 -&gt; Object.equals(b1.getId(), b.getId())));\r\n        missingBs.stream().forEach(b-&gt; b.getA().remove(managedA));\r\n        entityManager.merge(a);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n        factory.close();\r\n    }","title":"Jpa/hibernate why detached entity merged partially?","body":"<p>Entity 'A' doesn't own the A.b ManyToMany relationship mapping since you've marked it as mappedBy the B.a relationship. This means that changes are only picked up from the B side of things - if you need to remove a 'B' instance from the relationship, you'll need to merge B into the context. You should still merge A if possible to keep the cached copy of A in synch with the database in various caching strategies, but isn't likely to be needed in the simple test you've shown.</p>\n<p>There are a few ways to handle this, such as changing the owner of the relationship (akin to making it a unidirectional relationship from A-&gt;B), but I'd suggest instead just handling changes to the list of Bs yourself:</p>\n<pre><code>public static void repositoryMerge(A a) {\n    EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n    EntityManager entityManager = factory.createEntityManager();\n    entityManager.getTransaction().begin();\n    final A managedA = entityManager.find(A.class, a.getId());\n    List&lt;B&gt; missingBs = managedA.getB().stream().filter(\n      b -&gt; !a.getB().stream().anyMatch( \n        b1 -&gt; Object.equals(b1.getId(), b.getId())));\n    missingBs.stream().forEach(b-&gt; b.getA().remove(managedA));\n    entityManager.merge(a);\n    entityManager.getTransaction().commit();\n    entityManager.close();\n    factory.close();\n}\n</code></pre>\n"}],"owner":{"account_id":29257641,"reputation":1,"user_id":22415462,"display_name":"randomuser333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693246315,"creation_date":1692868631,"question_id":76967879,"body_markdown":"When i fetch entity from entity manager then make it detached and trying to delete related entities there is no changes in database to them. In other words after entity manager is closed (that is required) and opened again only changes to name field is merged but not for list of B. There is no exception or other errors or warnings. Hibernate log only shows select but not deletion from b_a database table.\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        A a = getAByIdFromRepository(2);\r\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\r\n        a.remove(b);\r\n        repositoryMerge(a);\r\n    }\r\n\r\n    public static A getAByIdFromRepository(int id) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager em = factory.createEntityManager();\r\n        A a = em.find(A.class, id);\r\n        em.close();\r\n        factory.close();\r\n        return a;\r\n    }\r\n\r\n    public static void repositoryMerge(A a) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager entityManager = factory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n        entityManager.merge(a);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n        factory.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\npublic class A implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;a_id&quot;)\r\n    protected int id;\r\n    @Column(name = &quot;a_name&quot;)\r\n    protected String name;\r\n    @ManyToMany(mappedBy = &quot;a&quot;, fetch = FetchType.EAGER)\r\n    protected List&lt;B&gt; b;\r\n\r\n   //getters setters etc.\r\n\r\n    public void remove(B b) {\r\n        this.getB().remove(b);\r\n        b.getA().remove(this);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;b&quot;)\r\npublic class B implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;b_id&quot;)\r\n    protected int id;\r\n    @Column(name = &quot;b_name&quot;)\r\n    protected String name;\r\n    @JoinTable(\r\n            name = &quot;b_a&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;b_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;a_id&quot;))\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    protected List&lt;A&gt; a;\r\n\r\n  //getters setters etc.\r\n\r\n\r\n}\r\n```\r\nAnd when fetching, deletion from entity and merging happens with one opened entity manager this is works:\r\n```\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager entityManager = factory.createEntityManager();\r\n        A a = entityManager.find(A.class, 2);\r\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\r\n        a.remove(b);\r\n        entityManager.getTransaction().begin();\r\n        entityManager.merge(a);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n        factory.close();\r\n```\r\n","title":"Jpa/hibernate why detached entity merged partially?","body":"<p>When i fetch entity from entity manager then make it detached and trying to delete related entities there is no changes in database to them. In other words after entity manager is closed (that is required) and opened again only changes to name field is merged but not for list of B. There is no exception or other errors or warnings. Hibernate log only shows select but not deletion from b_a database table.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        A a = getAByIdFromRepository(2);\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\n        a.remove(b);\n        repositoryMerge(a);\n    }\n\n    public static A getAByIdFromRepository(int id) {\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n        EntityManager em = factory.createEntityManager();\n        A a = em.find(A.class, id);\n        em.close();\n        factory.close();\n        return a;\n    }\n\n    public static void repositoryMerge(A a) {\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n        EntityManager entityManager = factory.createEntityManager();\n        entityManager.getTransaction().begin();\n        entityManager.merge(a);\n        entityManager.getTransaction().commit();\n        entityManager.close();\n        factory.close();\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\npublic class A implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;a_id&quot;)\n    protected int id;\n    @Column(name = &quot;a_name&quot;)\n    protected String name;\n    @ManyToMany(mappedBy = &quot;a&quot;, fetch = FetchType.EAGER)\n    protected List&lt;B&gt; b;\n\n   //getters setters etc.\n\n    public void remove(B b) {\n        this.getB().remove(b);\n        b.getA().remove(this);\n    }\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;b&quot;)\npublic class B implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;b_id&quot;)\n    protected int id;\n    @Column(name = &quot;b_name&quot;)\n    protected String name;\n    @JoinTable(\n            name = &quot;b_a&quot;,\n            joinColumns = @JoinColumn(name = &quot;b_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;a_id&quot;))\n    @ManyToMany(fetch = FetchType.EAGER)\n    protected List&lt;A&gt; a;\n\n  //getters setters etc.\n\n\n}\n</code></pre>\n<p>And when fetching, deletion from entity and merging happens with one opened entity manager this is works:</p>\n<pre><code>        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n        EntityManager entityManager = factory.createEntityManager();\n        A a = entityManager.find(A.class, 2);\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\n        a.remove(b);\n        entityManager.getTransaction().begin();\n        entityManager.merge(a);\n        entityManager.getTransaction().commit();\n        entityManager.close();\n        factory.close();\n</code></pre>\n"},{"tags":["java","logitech-led-illumination-sdk"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1631468023,"post_id":69069636,"comment_id":122224249,"body_markdown":"you should put those dll and lib files into same location with that jar, if you create a github repo with reproducer it will be easier to solve this.","body":"you should put those dll and lib files into same location with that jar, if you create a github repo with reproducer it will be easier to solve this."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1631595469,"post_id":69069636,"comment_id":122257227,"body_markdown":"@&#246;zkanpakdil Thank you for the response.  I tried putting the dll and lib files in the same folder as the jar, but still got the same error message.  [Here](https://github.com/Chickencharm/KeyColors) is the project directory I am left with when I follow the exact steps described in my question.","body":"@&#246;zkanpakdil Thank you for the response.  I tried putting the dll and lib files in the same folder as the jar, but still got the same error message.  <a href=\"https://github.com/Chickencharm/KeyColors\" rel=\"nofollow noreferrer\">Here</a> is the project directory I am left with when I follow the exact steps described in my question."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1632156535,"post_id":69069636,"comment_id":122412075,"body_markdown":"can you check https://stackoverflow.com/a/12132922/175554 I do not think you can install 32 bit anymore but worth to check, another approach https://stackoverflow.com/a/67369117/175554 you may have some wrong dll. and last but not least do you have some virus scanner, that may affect jvm, try to disable and test.","body":"can you check <a href=\"https://stackoverflow.com/a/12132922/175554\">stackoverflow.com/a/12132922/175554</a> I do not think you can install 32 bit anymore but worth to check, another approach <a href=\"https://stackoverflow.com/a/67369117/175554\">stackoverflow.com/a/67369117/175554</a> you may have some wrong dll. and last but not least do you have some virus scanner, that may affect jvm, try to disable and test."},{"owner":{"account_id":2073637,"reputation":23437,"user_id":1847592,"accept_rate":80,"display_name":"Egor Skriptunoff"},"score":0,"creation_date":1635443197,"post_id":69069636,"comment_id":123306601,"body_markdown":"The native library (DLL) name and location is different for LGS and GHub.  This might be a problem.","body":"The native library (DLL) name and location is different for LGS and GHub.  This might be a problem."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1635444286,"post_id":69069636,"comment_id":123306973,"body_markdown":"@EgorSkriptunoff I have been using GHub so far.  I will try using LGS and see if that changes anything.","body":"@EgorSkriptunoff I have been using GHub so far.  I will try using LGS and see if that changes anything."}],"answers":[{"comments":[{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1631758866,"post_id":69185377,"comment_id":122310509,"body_markdown":"I followed these exact steps and still ended up with the exact same UnsatisfiedLinkError described in the question.  The Netbeans peoject I was left with is [here](https://github.com/Chickencharm/KeyColorsAnt).","body":"I followed these exact steps and still ended up with the exact same UnsatisfiedLinkError described in the question.  The Netbeans peoject I was left with is <a href=\"https://github.com/Chickencharm/KeyColorsAnt\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1631787693,"post_id":69185377,"comment_id":122319220,"body_markdown":"probably we are not using same versions then, I added jdk netbeans version to my answer.","body":"probably we are not using same versions then, I added jdk netbeans version to my answer."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1631845311,"post_id":69185377,"comment_id":122338347,"body_markdown":"I have been using Netbeans 12.4 with JDK 16 on Windows 10.  I just updated to JDK 17, so we are now using the exact same setup, and I still get the error.","body":"I have been using Netbeans 12.4 with JDK 16 on Windows 10.  I just updated to JDK 17, so we are now using the exact same setup, and I still get the error."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1631900816,"post_id":69185377,"comment_id":122357819,"body_markdown":"I added my netbeans project in a repo, if you are still getting UnsatisfiedLinkError, means you did not have logiled jar in correct path, can you update your question and add full stack trace ?","body":"I added my netbeans project in a repo, if you are still getting UnsatisfiedLinkError, means you did not have logiled jar in correct path, can you update your question and add full stack trace ?"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1632090300,"post_id":69185377,"comment_id":122392840,"body_markdown":"I just downloaded your repo and ran it, I still get the error.  I put the full stack trace in my question.","body":"I just downloaded your repo and ran it, I still get the error.  I put the full stack trace in my question."}],"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631900735,"creation_date":1631660874,"answer_id":69185377,"question_id":69069636,"body_markdown":"I tried to run your project in my netbeans but failed with \r\n\r\n```\r\n project com.cwa380:KeyColors:jar:1.0: logitech:gaming:jar:9.00 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\r\n```\r\nthen I created a new project from ant, as long as you are using this logitech jar which is not really in maven repository, you dont need to have maven project.\r\n\r\n[![netbeans create ant project][1]][1]\r\n\r\nthen I added the logiled.jar as image below\r\n[![project properties-&gt;libraries][2]][2]\r\n\r\ngood news when I run the code I get no exception. output below\r\n\r\n[![execute output at the bottom][3]][3]\r\n\r\nand when I try to use code completion netbeans lists the functions nicely.\r\n\r\n[![logiled functions][4]][4]\r\n\r\nhere are my versions of tools\r\n\r\n```\r\nProduct Version: Apache NetBeans IDE 12.4\r\nJava: 17; OpenJDK 64-Bit Server VM 17+35-2724\r\nRuntime: OpenJDK Runtime Environment 17+35-2724\r\nSystem: Windows 10 version 10.0 running on amd64; Cp1252; en_US (nb)\r\nUser directory: C:\\Users\\ozkan\\AppData\\Roaming\\NetBeans\\12.4\r\nCache directory: C:\\Users\\ozkan\\AppData\\Local\\NetBeans\\Cache\\12.4\r\n```\r\n\r\nin github I found https://github.com/larsgrefer/logi-led you may contact with Lars(@larsgrefer), looks like he knows how to use logitech SDK.\r\n\r\nhere is my project https://github.com/ozkanpakdil/spring-examples/tree/master/JavaApplication1 make sure you have added logiled jar in correct path to libraries\r\n\r\n  [1]: https://i.stack.imgur.com/UMczJ.png\r\n  [2]: https://i.stack.imgur.com/tNcIr.png\r\n  [3]: https://i.stack.imgur.com/O2MuK.png\r\n  [4]: https://i.stack.imgur.com/lq2yc.png","title":"How do I set up Logitech&#39;s LED Illumination SDK with Java?","body":"<p>I tried to run your project in my netbeans but failed with</p>\n<pre><code> project com.cwa380:KeyColors:jar:1.0: logitech:gaming:jar:9.00 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\n</code></pre>\n<p>then I created a new project from ant, as long as you are using this logitech jar which is not really in maven repository, you dont need to have maven project.</p>\n<p><a href=\"https://i.stack.imgur.com/UMczJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UMczJ.png\" alt=\"netbeans create ant project\" /></a></p>\n<p>then I added the logiled.jar as image below\n<a href=\"https://i.stack.imgur.com/tNcIr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNcIr.png\" alt=\"project properties-&gt;libraries\" /></a></p>\n<p>good news when I run the code I get no exception. output below</p>\n<p><a href=\"https://i.stack.imgur.com/O2MuK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O2MuK.png\" alt=\"execute output at the bottom\" /></a></p>\n<p>and when I try to use code completion netbeans lists the functions nicely.</p>\n<p><a href=\"https://i.stack.imgur.com/lq2yc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lq2yc.png\" alt=\"logiled functions\" /></a></p>\n<p>here are my versions of tools</p>\n<pre><code>Product Version: Apache NetBeans IDE 12.4\nJava: 17; OpenJDK 64-Bit Server VM 17+35-2724\nRuntime: OpenJDK Runtime Environment 17+35-2724\nSystem: Windows 10 version 10.0 running on amd64; Cp1252; en_US (nb)\nUser directory: C:\\Users\\ozkan\\AppData\\Roaming\\NetBeans\\12.4\nCache directory: C:\\Users\\ozkan\\AppData\\Local\\NetBeans\\Cache\\12.4\n</code></pre>\n<p>in github I found <a href=\"https://github.com/larsgrefer/logi-led\" rel=\"nofollow noreferrer\">https://github.com/larsgrefer/logi-led</a> you may contact with Lars(@larsgrefer), looks like he knows how to use logitech SDK.</p>\n<p>here is my project <a href=\"https://github.com/ozkanpakdil/spring-examples/tree/master/JavaApplication1\" rel=\"nofollow noreferrer\">https://github.com/ozkanpakdil/spring-examples/tree/master/JavaApplication1</a> make sure you have added logiled jar in correct path to libraries</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693403331,"post_id":76995099,"comment_id":135756310,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76995099/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29316547,"reputation":1,"user_id":22461171,"display_name":"ekqeos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693245834,"creation_date":1693245834,"answer_id":76995099,"question_id":69069636,"body_markdown":"&gt;4. I added the logiled.jar file to my new project as a dependency\r\n\r\nNeed to add x64 version, not x86.\r\n\r\n\\Lib\\JNI\\x64\\logiled.jar\r\n\r\nshould work.","title":"How do I set up Logitech&#39;s LED Illumination SDK with Java?","body":"<blockquote>\n<ol start=\"4\">\n<li>I added the logiled.jar file to my new project as a dependency</li>\n</ol>\n</blockquote>\n<p>Need to add x64 version, not x86.</p>\n<p>\\Lib\\JNI\\x64\\logiled.jar</p>\n<p>should work.</p>\n"}],"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693245834,"creation_date":1630907240,"question_id":69069636,"body_markdown":"When a make a simple test program with Logitech&#39;s LED SDK and run it, I get an UnsatisfiedLinkError with the message:\r\n\r\n```none\r\nC:\\Users\\cwa38\\AppData\\Local\\Temp\\LogitechLedJNI.dll4587977834410494064: Can&#39;t find dependent libraries\r\n```\r\n\r\nWhat I have done so far:\r\n\r\n 1. I downloaded the SDK from https://www.logitechg.com/en-us/innovation/developer-lab.html\r\n 2. I extracted it\r\n 3. I made a new Java project in NetBeans\r\n 4. I added the logiled.jar file to my new project as a dependency\r\n 5. I made a new class and copied the simple test program from the documentation (code is below)\r\n 6. I clicked &quot;run&quot; and got the UnsatisfiedLinkError described above\r\n\r\nI see that the SDK download comes with some .dll files and a .lib file, but I have no idea what to do with these files.  The included documentation makes absolutely no mention of them.\r\n\r\nWhat am I doing wrong?\r\n\r\nHere is my code:\r\n\r\n```java\r\nimport com.logitech.gaming.LogiLED;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        LogiLED.LogiLedInit();\r\n        LogiLED.LogiLedSetLighting(100, 0, 0);\r\n        LogiLED.LogiLedShutdown();\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the full documentation from Logitech (yes, it really is this short):\r\n\r\n &gt; The following steps show how to make the Logitech SDK work with a Java program.  Please adapt the steps to your game for things to work.\r\n &gt; \r\n &gt; Steps\r\n &gt; \r\n &gt; 1. Copy the SDKs Lib\\logiled.jar to your projects directory.\r\n &gt; 2. Configure your projects Java Build Path to include the logiled.jar.\r\n &gt; 3. Call the functions from the JNI wrapper in your Java code as follows:\r\n &gt; ```none\r\n &gt;     import com.logitech.gaming.LogiLED;\r\n &gt; \r\n &gt;     LogiLED.LogiLedInit();\r\n &gt;     LogiLED.LogiLedSetLighting(red,blue,green);\r\n &gt;     LogiLED.LogiLedShutdown();\r\n &gt; ```\r\n &gt; \r\n &gt; 4. Compile and run your program.\r\n\r\nThe full stack trace for the error I get is below:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\cwa38\\AppData\\Local\\Temp\\LogitechLedJNI.dll4587977834410494064: Can&#39;t find dependent libraries\r\n\tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n\tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2389)\r\n\tat java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n\tat java.base/java.lang.System.load(System.java:1953)\r\n\tat com.logitech.gaming.LogiLED.&lt;clinit&gt;(LogiLED.java:205)\r\n\tat javaapplication1.JavaApplication1.main(JavaApplication1.java:20)\r\nC:\\Users\\cwa38\\AppData\\Local\\NetBeans\\Cache\\12.4\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\nC:\\Users\\cwa38\\AppData\\Local\\NetBeans\\Cache\\12.4\\executor-snippets\\run.xml:68: Java returned: 1\r\n```\r\n","title":"How do I set up Logitech&#39;s LED Illumination SDK with Java?","body":"<p>When a make a simple test program with Logitech's LED SDK and run it, I get an UnsatisfiedLinkError with the message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\cwa38\\AppData\\Local\\Temp\\LogitechLedJNI.dll4587977834410494064: Can't find dependent libraries\n</code></pre>\n<p>What I have done so far:</p>\n<ol>\n<li>I downloaded the SDK from <a href=\"https://www.logitechg.com/en-us/innovation/developer-lab.html\" rel=\"nofollow noreferrer\">https://www.logitechg.com/en-us/innovation/developer-lab.html</a></li>\n<li>I extracted it</li>\n<li>I made a new Java project in NetBeans</li>\n<li>I added the logiled.jar file to my new project as a dependency</li>\n<li>I made a new class and copied the simple test program from the documentation (code is below)</li>\n<li>I clicked &quot;run&quot; and got the UnsatisfiedLinkError described above</li>\n</ol>\n<p>I see that the SDK download comes with some .dll files and a .lib file, but I have no idea what to do with these files.  The included documentation makes absolutely no mention of them.</p>\n<p>What am I doing wrong?</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.logitech.gaming.LogiLED;\n\npublic class Main {\n    public static void main(String[] args) {\n        LogiLED.LogiLedInit();\n        LogiLED.LogiLedSetLighting(100, 0, 0);\n        LogiLED.LogiLedShutdown();\n    }\n}\n</code></pre>\n<p>And here is the full documentation from Logitech (yes, it really is this short):</p>\n<blockquote>\n<p>The following steps show how to make the Logitech SDK work with a Java program.  Please adapt the steps to your game for things to work.</p>\n<p>Steps</p>\n<ol>\n<li>Copy the SDKs Lib\\logiled.jar to your projects directory.</li>\n<li>Configure your projects Java Build Path to include the logiled.jar.</li>\n<li>Call the functions from the JNI wrapper in your Java code as follows:</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>    import com.logitech.gaming.LogiLED;\n\n    LogiLED.LogiLedInit();\n    LogiLED.LogiLedSetLighting(red,blue,green);\n    LogiLED.LogiLedShutdown();\n</code></pre>\n<ol start=\"4\">\n<li>Compile and run your program.</li>\n</ol>\n</blockquote>\n<p>The full stack trace for the error I get is below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\cwa38\\AppData\\Local\\Temp\\LogitechLedJNI.dll4587977834410494064: Can't find dependent libraries\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:384)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:228)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:170)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2389)\n    at java.base/java.lang.Runtime.load0(Runtime.java:755)\n    at java.base/java.lang.System.load(System.java:1953)\n    at com.logitech.gaming.LogiLED.&lt;clinit&gt;(LogiLED.java:205)\n    at javaapplication1.JavaApplication1.main(JavaApplication1.java:20)\nC:\\Users\\cwa38\\AppData\\Local\\NetBeans\\Cache\\12.4\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\cwa38\\AppData\\Local\\NetBeans\\Cache\\12.4\\executor-snippets\\run.xml:68: Java returned: 1\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","entities"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1693247686,"post_id":76995091,"comment_id":135732678,"body_markdown":"Think of it the other way - what are you going to put into an Address java class to make what you want &#39;work&#39;? Those other answers likely have Place and Person extend something so that the Address-&gt;RootType mapping can be defined to determine the id/Type columns (in EclipseLink, this is a VariableOneToOne https://eclipse.dev/eclipselink/documentation/2.5/jpa/extensions/a_variableonetoone.htm ). Otherwise, you&#39;d have to define your own filter on the Person-&gt;Address so that it includes something to use the related_type column- but you&#39;d have similar issues when writing that relationship","body":"Think of it the other way - what are you going to put into an Address java class to make what you want &#39;work&#39;? Those other answers likely have Place and Person extend something so that the Address-&gt;RootType mapping can be defined to determine the id/Type columns (in EclipseLink, this is a VariableOneToOne <a href=\"https://eclipse.dev/eclipselink/documentation/2.5/jpa/extensions/a_variableonetoone.htm\" rel=\"nofollow noreferrer\">eclipse.dev/eclipselink/documentation/2.5/jpa/extensions/&hellip;</a> ). Otherwise, you&#39;d have to define your own filter on the Person-&gt;Address so that it includes something to use the related_type column- but you&#39;d have similar issues when writing that relationship"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693247802,"post_id":76995091,"comment_id":135732701,"body_markdown":"Wouldn&#39;t it makes more sense if a Person reference many places and a place had one Address? And this model doesn&#39;t work if you have multiple people at the same address anyway.","body":"Wouldn&#39;t it makes more sense if a Person reference many places and a place had one Address? And this model doesn&#39;t work if you have multiple people at the same address anyway."},{"owner":{"account_id":162976,"reputation":19483,"user_id":384808,"accept_rate":100,"display_name":"Brian Driscoll"},"score":0,"creation_date":1693250267,"post_id":76995091,"comment_id":135733138,"body_markdown":"@Chris I&#39;m using Person/Place/Address as an example of the type of relationship I need to model. In my case the entities representing Person and Place are not related, so there wouldn&#39;t be a way to create the kind of 1-to-m mapping you suggest. Obviously Person m-to-m Address would work with a third join table, which is not ideal but may be necessary in my case to be able to handle the relationship I&#39;m trying to model.","body":"@Chris I&#39;m using Person/Place/Address as an example of the type of relationship I need to model. In my case the entities representing Person and Place are not related, so there wouldn&#39;t be a way to create the kind of 1-to-m mapping you suggest. Obviously Person m-to-m Address would work with a third join table, which is not ideal but may be necessary in my case to be able to handle the relationship I&#39;m trying to model."}],"owner":{"account_id":162976,"reputation":19483,"user_id":384808,"accept_rate":100,"display_name":"Brian Driscoll"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693245730,"creation_date":1693245730,"question_id":76995091,"body_markdown":"I am currently trying to map multiple different tables to a single table, like this:\r\n\r\n```\r\nPerson\r\n\r\n| id | first_name | last_name |\r\n| -- | ---------- | --------- |\r\n| 1  | John       | Doe       |\r\n\r\nPlace\r\n\r\n| id | place_name  |\r\n| -- | ----------  |\r\n| 1  | White House |\r\n\r\nAddress\r\n\r\n| id | ...typical address columns... | related_id | related_type |\r\n| -- | ----------------------------- | ---------- | ------------ |\r\n| 1  | address stuff                 | 1          | Person       |\r\n| 2  | more address stuff            | 1          | Place        |\r\n```\r\nI know how to represent this in the database obviously, so that&#39;s not the issue here. My issue is how do I represent the relationship in my Entity classes, as the typical ```@JoinColumn``` annotation approach doesn&#39;t seem like it will work since we need both the ```related_id``` and ```related_type``` columns\r\n\r\n```\r\n@Entity\r\npublic class Person {\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    ??? what to do here ???\r\n    private List&lt;Address&gt; addresses;\r\n\r\n    // omitted getters and setters\r\n}\r\n\r\n@Entity\r\npublic class Place {\r\n\r\n    private String placeName;\r\n\r\n    @OneToOne\r\n    ??? what to do here ???\r\n    private Address address;\r\n\r\n    // omitted getters and setters\r\n}\r\n```\r\n\r\nIs there any way to do this with JPA / Hibernate? I&#39;ve found similar questions here but they are from ages ago and none of the solutions were really appropriate as they had more to do with inheritance.","title":"How to map multiple table types to a single table without multiple FK references","body":"<p>I am currently trying to map multiple different tables to a single table, like this:</p>\n<pre><code>Person\n\n| id | first_name | last_name |\n| -- | ---------- | --------- |\n| 1  | John       | Doe       |\n\nPlace\n\n| id | place_name  |\n| -- | ----------  |\n| 1  | White House |\n\nAddress\n\n| id | ...typical address columns... | related_id | related_type |\n| -- | ----------------------------- | ---------- | ------------ |\n| 1  | address stuff                 | 1          | Person       |\n| 2  | more address stuff            | 1          | Place        |\n</code></pre>\n<p>I know how to represent this in the database obviously, so that's not the issue here. My issue is how do I represent the relationship in my Entity classes, as the typical <code>@JoinColumn</code> annotation approach doesn't seem like it will work since we need both the <code>related_id</code> and <code>related_type</code> columns</p>\n<pre><code>@Entity\npublic class Person {\n\n    private String firstName;\n    private String lastName;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    ??? what to do here ???\n    private List&lt;Address&gt; addresses;\n\n    // omitted getters and setters\n}\n\n@Entity\npublic class Place {\n\n    private String placeName;\n\n    @OneToOne\n    ??? what to do here ???\n    private Address address;\n\n    // omitted getters and setters\n}\n</code></pre>\n<p>Is there any way to do this with JPA / Hibernate? I've found similar questions here but they are from ages ago and none of the solutions were really appropriate as they had more to do with inheritance.</p>\n"},{"tags":["java","javascript","oop","object"],"comments":[{"owner":{"display_name":"user2164685"},"score":0,"creation_date":1363343703,"post_id":15430004,"comment_id":21822957,"body_markdown":"Can the down voter please gave me the answer","body":"Can the down voter please gave me the answer"},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":3,"creation_date":1363345964,"post_id":15430004,"comment_id":21824326,"body_markdown":"You&#39;re not right in your conclusion: Java, C# and almost any language has built-in objects. In fact, those have a top-most built-in object: `object` class, which is the implicitly base class of all objects. I mean, `Window` object is a built-in object in terms of &quot;any browser implementation has a Window object`, but this fact doesn&#39;t define if it&#39;s object or object-oriented programming.","body":"You&#39;re not right in your conclusion: Java, C# and almost any language has built-in objects. In fact, those have a top-most built-in object: <code>object</code> class, which is the implicitly base class of all objects. I mean, <code>Window</code> object is a built-in object in terms of &quot;any browser implementation has a Window object`, but this fact doesn&#39;t define if it&#39;s object or object-oriented programming."},{"owner":{"display_name":"user2164685"},"score":0,"creation_date":1363347056,"post_id":15430004,"comment_id":21825067,"body_markdown":"@Mat&#237;asFidemraizer Just now you have said I am right","body":"@Mat&#237;asFidemraizer Just now you have said I am right"}],"answers":[{"comments":[{"owner":{"display_name":"user2164685"},"score":1,"creation_date":1363344851,"post_id":15430450,"comment_id":21823651,"body_markdown":"But I dont have to do anything with javascript I just wanna know what is the Core difference between object oriented and object based language","body":"But I dont have to do anything with javascript I just wanna know what is the Core difference between object oriented and object based language"},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":1,"creation_date":1363344928,"post_id":15430450,"comment_id":21823691,"body_markdown":"@user2164685 The answer gives you the difference. Open your mind :) JavaScript is object oriented because it has objects, but it&#39;s not object-oriented programming because it doesn&#39;t have what an object-oriented programming language needs to have to be considered object-oriented programming!","body":"@user2164685 The answer gives you the difference. Open your mind :) JavaScript is object oriented because it has objects, but it&#39;s not object-oriented programming because it doesn&#39;t have what an object-oriented programming language needs to have to be considered object-oriented programming!"},{"owner":{"display_name":"user2164685"},"score":1,"creation_date":1363345068,"post_id":15430450,"comment_id":21823771,"body_markdown":"Means you want to say the language which itself contains objects is called as object based language and the language with follow object oriented concepts is known as object oriented language...","body":"Means you want to say the language which itself contains objects is called as object based language and the language with follow object oriented concepts is known as object oriented language..."},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":0,"creation_date":1363345269,"post_id":15430450,"comment_id":21823892,"body_markdown":"@user2164685 Hopefully :) Great!","body":"@user2164685 Hopefully :) Great!"},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1388047727,"post_id":15430450,"comment_id":31150702,"body_markdown":"JavaScript has inheritance.  If you want to see it in action, just say `Object.prototype.sayHi = function() { console.log(&quot;Hi!&quot;); }`, and now  *nearly every object in the system* can `sayHi()`.  Prototypal inheritance is inheritance -- just without the class-oriented bureaucracy.","body":"JavaScript has inheritance.  If you want to see it in action, just say <code>Object.prototype.sayHi = function() { console.log(&quot;Hi!&quot;); }</code>, and now  <i>nearly every object in the system</i> can <code>sayHi()</code>.  Prototypal inheritance is inheritance -- just without the class-oriented bureaucracy."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1388048302,"post_id":15430450,"comment_id":31150879,"body_markdown":"As for polymorphism:  duck typing is the ultimate in polymorphism.  You can have two objects that *aren&#39;t even related*, but present the same interface, and you can swap out one for the other at will.  You don&#39;t get to disqualify that as &quot;just reusing the identifier&quot; -- because objects interpreting names differently goes to the very core of polymorphism in the first place.","body":"As for polymorphism:  duck typing is the ultimate in polymorphism.  You can have two objects that <i>aren&#39;t even related</i>, but present the same interface, and you can swap out one for the other at will.  You don&#39;t get to disqualify that as &quot;just reusing the identifier&quot; -- because objects interpreting names differently goes to the very core of polymorphism in the first place."},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":0,"creation_date":1388140309,"post_id":15430450,"comment_id":31181373,"body_markdown":"@cHao About inheritance: inheritance in JavaScript is more tied to object cloning. And, obviously, prototype chain. You know that it works like inheritance, but it&#39;s not comparable to actual inheritance...","body":"@cHao About inheritance: inheritance in JavaScript is more tied to object cloning. And, obviously, prototype chain. You know that it works like inheritance, but it&#39;s not comparable to actual inheritance..."},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":0,"creation_date":1388140469,"post_id":15430450,"comment_id":31181464,"body_markdown":"@cHao About polymorphism: maybe duck typing is &quot;polymorphism&quot;, but are you sure it&#39;s &quot;object-oriented polymoprhism&quot;? I guess it&#39;s not. I dislike this trend of defending JavaScript just trying to justify features that aren&#39;t part of the language itself. &quot;that thing smells like X&quot;... Yes, conceptually speaking it seems to be X, but it&#39;s still a simplification....................","body":"@cHao About polymorphism: maybe duck typing is &quot;polymorphism&quot;, but are you sure it&#39;s &quot;object-oriented polymoprhism&quot;? I guess it&#39;s not. I dislike this trend of defending JavaScript just trying to justify features that aren&#39;t part of the language itself. &quot;that thing smells like X&quot;... Yes, conceptually speaking it seems to be X, but it&#39;s still a simplification...................."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1388146783,"post_id":15430450,"comment_id":31184070,"body_markdown":"How are they not comparable to &quot;real&quot; OO principles?  What essential aspect is missing?  And how are they not baked-in features central to the very workings of the language?  The only substantial thing i see different is that most OO languages have a class to attach them to.  You seem to be arguing that that makes JS&#39;s version of them somehow not &quot;real&quot;; JavaScript, on the other hand, would seem to argue that discrete classes are not an essential part of OOP.","body":"How are they not comparable to &quot;real&quot; OO principles?  What essential aspect is missing?  And how are they not baked-in features central to the very workings of the language?  The only substantial thing i see different is that most OO languages have a class to attach them to.  You seem to be arguing that that makes JS&#39;s version of them somehow not &quot;real&quot;; JavaScript, on the other hand, would seem to argue that discrete classes are not an essential part of OOP."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1388148221,"post_id":15430450,"comment_id":31184649,"body_markdown":"I will say, JS&#39;s attempt at emulating class-oriented programming leaves a lot to be desired.  But that layer is only there to (1) make it look a little more like Java, to (2) make JS more palatable to people stuck in a class-oriented mindset.  At JS&#39;s core is a conceptual object model so simple, and so intrinsic, one could argue it&#39;s *more* object-oriented than most languages.","body":"I will say, JS&#39;s attempt at emulating class-oriented programming leaves a lot to be desired.  But that layer is only there to (1) make it look a little more like Java, to (2) make JS more palatable to people stuck in a class-oriented mindset.  At JS&#39;s core is a conceptual object model so simple, and so intrinsic, one could argue it&#39;s <i>more</i> object-oriented than most languages."},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":0,"creation_date":1388236248,"post_id":15430450,"comment_id":31210560,"body_markdown":"@cHao First of all, I believe that this discussion is out of scope of this Q&amp;A and a comment thread would become a war here :( \n\nAbout your thoughts, this would turn into an endless discussion. I really beleive that JavaScript is one of most misunderstood programming languages. Not only because the lack of knowledge of prototyping and duck typing capabilities by an extense number of developers, but also because there&#39;re a lot of devlopers like you that overestimate JavaScript. It&#39;s a language from 90s tied to solve simple problems (continued in the next comment)","body":"@cHao First of all, I believe that this discussion is out of scope of this Q&amp;A and a comment thread would become a war here :(   About your thoughts, this would turn into an endless discussion. I really beleive that JavaScript is one of most misunderstood programming languages. Not only because the lack of knowledge of prototyping and duck typing capabilities by an extense number of developers, but also because there&#39;re a lot of devlopers like you that overestimate JavaScript. It&#39;s a language from 90s tied to solve simple problems (continued in the next comment)"},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":0,"creation_date":1388236449,"post_id":15430450,"comment_id":31210624,"body_markdown":"@cHao (continuation) and now that a lot of developers understood that the Web itself is the true future of software development, they&#39;re trying to convince themself that JavaScript was created as a powerful language. \n\nOk, you&#39;re right when you say extreme duck typing, dynamically-typed language gives a lot of power (or not, it&#39;s just a perception: freedom vs. more specification), but JavaScript isn&#39;t just a duck-typed language: it&#39;s a language from 90s which evolved from a very simple concept (form validation and DTHTML) (continued in the next comment)","body":"@cHao (continuation) and now that a lot of developers understood that the Web itself is the true future of software development, they&#39;re trying to convince themself that JavaScript was created as a powerful language.   Ok, you&#39;re right when you say extreme duck typing, dynamically-typed language gives a lot of power (or not, it&#39;s just a perception: freedom vs. more specification), but JavaScript isn&#39;t just a duck-typed language: it&#39;s a language from 90s which evolved from a very simple concept (form validation and DTHTML) (continued in the next comment)"},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":0,"creation_date":1388236675,"post_id":15430450,"comment_id":31210681,"body_markdown":"@cHao When I see your kind of comments I believe that a lot of people didn&#39;t remember ECMA-Script 6 has classes and formal inheritance, and polymoprhism as well. Do you think they&#39;re adding that to core JS language because &quot;classical class-based OOP fans don&#39;t understand prototypes and the power of current JS&quot;? I don&#39;t think so: now that JS turned into a true application development language, it needs a more formal OOP. And duck-typing will be still there, because full OOP using classes is still possible. It&#39;s not JS vs classes. **It&#39;s turning JS into a powerful language without workarounds!**","body":"@cHao When I see your kind of comments I believe that a lot of people didn&#39;t remember ECMA-Script 6 has classes and formal inheritance, and polymoprhism as well. Do you think they&#39;re adding that to core JS language because &quot;classical class-based OOP fans don&#39;t understand prototypes and the power of current JS&quot;? I don&#39;t think so: now that JS turned into a true application development language, it needs a more formal OOP. And duck-typing will be still there, because full OOP using classes is still possible. It&#39;s not JS vs classes. <b>It&#39;s turning JS into a powerful language without workarounds!</b>"},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1388355758,"post_id":15430450,"comment_id":31240532,"body_markdown":"ES6 is not yet worth considering as a whole.  But yes, i think *exactly* that it&#39;s adding classes because people don&#39;t understand prototypes.  To people that don&#39;t get it, JS&#39;s object model seems very clunky and bolted-on...but that&#39;s largely because at least as far as `new` etc are concerned, *it is*.  The real underlying model is way simpler and *at least* as object-oriented as Java.  Arguably more so.  But it has been constantly pooh-poohed by people who can&#39;t wrap their heads around an OO language without classes.","body":"ES6 is not yet worth considering as a whole.  But yes, i think <i>exactly</i> that it&#39;s adding classes because people don&#39;t understand prototypes.  To people that don&#39;t get it, JS&#39;s object model seems very clunky and bolted-on...but that&#39;s largely because at least as far as <code>new</code> etc are concerned, <i>it is</i>.  The real underlying model is way simpler and <i>at least</i> as object-oriented as Java.  Arguably more so.  But it has been constantly pooh-poohed by people who can&#39;t wrap their heads around an OO language without classes."},{"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"score":0,"creation_date":1388444160,"post_id":15430450,"comment_id":31274332,"body_markdown":"@cHao You&#39;ll not be the first person to say that, but I&#39;ll never admit a sentence like you said **people who can&#39;t wrap their heads around an OO language without classes**. It&#39;s not about wrapping heads: it&#39;s about avoiding workarounds to just arrive to the same point. It&#39;s my opinion and that&#39;s why I told you this Q&amp;A and comment thread isn&#39;t the best place to discuss that. Also it can be useless to discuss that because it&#39;s an open topic...","body":"@cHao You&#39;ll not be the first person to say that, but I&#39;ll never admit a sentence like you said <b>people who can&#39;t wrap their heads around an OO language without classes</b>. It&#39;s not about wrapping heads: it&#39;s about avoiding workarounds to just arrive to the same point. It&#39;s my opinion and that&#39;s why I told you this Q&amp;A and comment thread isn&#39;t the best place to discuss that. Also it can be useless to discuss that because it&#39;s an open topic..."},{"owner":{"account_id":4541793,"reputation":26874,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1693236986,"post_id":15430450,"comment_id":135730670,"body_markdown":"&quot;*BTW, ES2015 and above still lacks true encapsulation:*&quot; see [private fields](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields) from ES2022: `class Foo { #private = &quot;you can&#39;t see this&quot;; public = &quot;you can see this&quot;; }`","body":"&quot;<i>BTW, ES2015 and above still lacks true encapsulation:</i>&quot; see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields\" rel=\"nofollow noreferrer\">private fields</a> from ES2022: <code>class Foo { #private = &quot;you can&#39;t see this&quot;; public = &quot;you can see this&quot;; }</code>"}],"tags":[],"owner":{"account_id":179161,"reputation":64142,"user_id":411632,"accept_rate":87,"display_name":"Mat&#237;as Fidemraizer"},"comment_count":16,"down_vote_count":4,"up_vote_count":30,"is_accepted":true,"score":26,"last_activity_date":1693245451,"creation_date":1363344623,"answer_id":15430450,"question_id":15430004,"body_markdown":"JavaScript is a [prototype-oriented][1] language. \r\n\r\nIt can build actual objects from a constructor function and it has almost any feature that any object could have:\r\n\r\n- Constructor.\r\n- Methods (i.e. functions in JavaScript).\r\n- Properties (since ECMA-Script 5, &quot;getters/setters&quot;).\r\n- Instances.\r\n\r\nIn JavaScript, any object has a _prototype_, including _functions_. The prototype itself is a rudimentary way of adding _object members_ to any newly created instance of the whole object. \r\n\r\n    var constructor = function() { };\r\n    constructor.prototype.text = &quot;hello world&quot;;\r\n    \r\n    alert(new constructor().text); // This alerts hello world\r\n\r\nWhy JavaScript isn&#39;t an object-oriented programming _(scripting) language_? Because it has no feature that fits the requirements of the definition of object-oriented programming:\r\n\r\n- **Polymorphism**: _No_. You can change the behavior of a prototype member, but this is just reusing the identifier. You aren&#39;t able to access the previous implementation of the member in a _pseudo-derived object_.\r\n- **Inheritance**: _Not at all_. Maybe prototype chain might be comparable to inheritance but JavaScript (ECMA-Script 5.x or earlier versions) has no syntax-based inheritance like other OOP-based languages (i.e. Java, C#, Ruby, Python, VisualBasic.NET, ...).\r\n- **Encapsulation**. Yes, of course, but there&#39;s no way to create actual private or internal object members.\r\n\r\nPerhaps I forgot to mention some other detail, but I honestly believe that this is a good summary.\r\n\r\n### Update and summary\r\n*The core difference is an object-oriented programming language has the features that an object-oriented paradigm must have in order to be considered an object-oriented programming language. **Thus, JavaScript, for now, isn&#39;t an actual object-oriented programming language because it lacks actual polymorphism and inheritance***.\r\n\r\n## Update: Does ES2015 and above changed the situation?\r\n\r\nEsthetically speaking yes, ES2015 and above has a major improvement that let consider a not fully but more closer to an object-oriented programming: syntactic sugar to call *to the super class*.\r\n\r\nFor example:\r\n\r\n    class A {\r\n         doStuff() {\r\n             console.log(&quot;hello world&quot;);\r\n         }\r\n    }\r\n    \r\n    class B extends A {\r\n         doStuff() {\r\n             super.doStuff();\r\n             console.log(&quot;...and goodbye!&quot;);\r\n         }\r\n    }\r\n\r\nThis is *polymorphism*. A more specialized class can override its base class to both completely change a function behavior or do what the base was already doing, adding new code to the function.\r\n\r\nBTW, ES2015 and above still lacks true encapsulation: **where are access modifiers like `private` or `public` here?** *Nowhere*.\r\n\r\nAnd, at the end of the day, ES2015 and above implement class-based OOP but it&#39;s still a syntactic sugar layer on top of ECMAScript 5.x... The above code still works with prototypes under the hoods and it works the same way as if you would code it in ECMAScript 5.x:\r\n\r\n    function A() {\r\n    }\r\n    \r\n    A.prototype.doStuff = function() {\r\n        console.log(&quot;hello world&quot;);\r\n    };\r\n    \r\n    function B() {\r\n    }\r\n    \r\n    B.prototype = Object.create(A.prototype);\r\n    B.prototype.doStuff = function() {\r\n        A.prototype.doStuff.call(this);\r\n        console.log(&quot;...and goodbye!&quot;);\r\n    };\r\n\r\nLet&#39;s hope I&#39;ll need to update this answer again because ES2020 has already proposed access modifiers and we&#39;ll be able to consider JavaScript another language which fully-supports object-oriented programming!\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Prototype-based_programming","title":"Core difference between object oriented and object based language","body":"<p>JavaScript is a <a href=\"https://en.m.wikipedia.org/wiki/Prototype-based_programming\" rel=\"nofollow noreferrer\">prototype-oriented</a> language.</p>\n<p>It can build actual objects from a constructor function and it has almost any feature that any object could have:</p>\n<ul>\n<li>Constructor.</li>\n<li>Methods (i.e. functions in JavaScript).</li>\n<li>Properties (since ECMA-Script 5, &quot;getters/setters&quot;).</li>\n<li>Instances.</li>\n</ul>\n<p>In JavaScript, any object has a <em>prototype</em>, including <em>functions</em>. The prototype itself is a rudimentary way of adding <em>object members</em> to any newly created instance of the whole object.</p>\n<pre><code>var constructor = function() { };\nconstructor.prototype.text = &quot;hello world&quot;;\n\nalert(new constructor().text); // This alerts hello world\n</code></pre>\n<p>Why JavaScript isn't an object-oriented programming <em>(scripting) language</em>? Because it has no feature that fits the requirements of the definition of object-oriented programming:</p>\n<ul>\n<li><strong>Polymorphism</strong>: <em>No</em>. You can change the behavior of a prototype member, but this is just reusing the identifier. You aren't able to access the previous implementation of the member in a <em>pseudo-derived object</em>.</li>\n<li><strong>Inheritance</strong>: <em>Not at all</em>. Maybe prototype chain might be comparable to inheritance but JavaScript (ECMA-Script 5.x or earlier versions) has no syntax-based inheritance like other OOP-based languages (i.e. Java, C#, Ruby, Python, VisualBasic.NET, ...).</li>\n<li><strong>Encapsulation</strong>. Yes, of course, but there's no way to create actual private or internal object members.</li>\n</ul>\n<p>Perhaps I forgot to mention some other detail, but I honestly believe that this is a good summary.</p>\n<h3>Update and summary</h3>\n<p><em>The core difference is an object-oriented programming language has the features that an object-oriented paradigm must have in order to be considered an object-oriented programming language. <strong>Thus, JavaScript, for now, isn't an actual object-oriented programming language because it lacks actual polymorphism and inheritance</strong></em>.</p>\n<h2>Update: Does ES2015 and above changed the situation?</h2>\n<p>Esthetically speaking yes, ES2015 and above has a major improvement that let consider a not fully but more closer to an object-oriented programming: syntactic sugar to call <em>to the super class</em>.</p>\n<p>For example:</p>\n<pre><code>class A {\n     doStuff() {\n         console.log(&quot;hello world&quot;);\n     }\n}\n\nclass B extends A {\n     doStuff() {\n         super.doStuff();\n         console.log(&quot;...and goodbye!&quot;);\n     }\n}\n</code></pre>\n<p>This is <em>polymorphism</em>. A more specialized class can override its base class to both completely change a function behavior or do what the base was already doing, adding new code to the function.</p>\n<p>BTW, ES2015 and above still lacks true encapsulation: <strong>where are access modifiers like <code>private</code> or <code>public</code> here?</strong> <em>Nowhere</em>.</p>\n<p>And, at the end of the day, ES2015 and above implement class-based OOP but it's still a syntactic sugar layer on top of ECMAScript 5.x... The above code still works with prototypes under the hoods and it works the same way as if you would code it in ECMAScript 5.x:</p>\n<pre><code>function A() {\n}\n\nA.prototype.doStuff = function() {\n    console.log(&quot;hello world&quot;);\n};\n\nfunction B() {\n}\n\nB.prototype = Object.create(A.prototype);\nB.prototype.doStuff = function() {\n    A.prototype.doStuff.call(this);\n    console.log(&quot;...and goodbye!&quot;);\n};\n</code></pre>\n<p>Let's hope I'll need to update this answer again because ES2020 has already proposed access modifiers and we'll be able to consider JavaScript another language which fully-supports object-oriented programming!</p>\n"},{"tags":[],"owner":{"account_id":3040327,"reputation":51,"user_id":2577541,"display_name":"LarrySTS"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1373653929,"creation_date":1373653929,"answer_id":17621716,"question_id":15430004,"body_markdown":"Just using objects does not mean you are doing OOP, even in a fully OO language if you are not implementing OO techniques it is simply object-based programming.","title":"Core difference between object oriented and object based language","body":"<p>Just using objects does not mean you are doing OOP, even in a fully OO language if you are not implementing OO techniques it is simply object-based programming.</p>\n"},{"tags":[],"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1452777745,"creation_date":1373669041,"answer_id":17625124,"question_id":15430004,"body_markdown":"**Object-based** languages include basically any language that offers the built-in ability to easily create and use objects.  There is one major criterion:\r\n\r\n* **Encapsulation.** Objects have an API attached to them, typically in such a way that you work with the object more by *telling it what to do* than by running some function on it.\r\n\r\n  Most object-based languages define objects in terms of &quot;classes&quot;, which are basically blueprints for an object.  The class lays out the internal structure of the object and defines the API.\r\n\r\n  This is not the only way, though.  In JavaScript, for example, objects don&#39;t really have &quot;classes&quot;.  Any object can have any properties it wants.  And since functions are first-class values in JavaScript, they can be set as properties on the object, and serve as the object&#39;s API.\r\n\r\nAs far as object-based-but-not-object-oriented languages go, a good example would be Visual Basic (not the .net stuff; i&#39;m talking about VB6 and VBA).  Classes exist, but can&#39;t inherit from each other.\r\n\r\n**Object-oriented** languages are object-based languages that take things a step further.  They have built-in support for the two other pillars of OOP:\r\n\r\n* **Inheritance.** Objects must have the ability to be (and be viewed as) specializations of some other object.  This means, for example, being able to define &quot;Dog&quot; as &quot;Animal that can bark and fetch sticks&quot;.\r\n\r\n  In modern languages, it typically takes the form of one object&#39;s *class* inheriting from another object&#39;s *class*.  This is not a requirement, though; contrary to what some people will try to tell you, the definition of OOP does not require classes at all.\r\n\r\n* **Polymorphism.** &#160;Code must be able to use an object without knowing or caring exactly what type it is.\r\n\r\n Most languages (especially statically typed ones) define polymorphism in terms of classes and inheritance. If you have a class B that inherits from A, code that requires a reference to an A can typically take a B instead, but not some class C that isn&#39;t related to A. Java also has the `interface` keyword, which lets you define a set of behaviors a class must implement.&#160;Any object whose class explicitly `implements X`, and thus implements the functions defined on interface X, qualifies as an instance of type X.\r\n\r\n&#160;Other languages, like JavaScript, let you pass any object you like. As long as the object presents the right interface, it doesn&#39;t matter exactly what kind of object it is. This is called &quot;duck typing&quot;, and it is very nearly the purest form of polymorphism there is.","title":"Core difference between object oriented and object based language","body":"<p><strong>Object-based</strong> languages include basically any language that offers the built-in ability to easily create and use objects.  There is one major criterion:</p>\n\n<ul>\n<li><p><strong>Encapsulation.</strong> Objects have an API attached to them, typically in such a way that you work with the object more by <em>telling it what to do</em> than by running some function on it.</p>\n\n<p>Most object-based languages define objects in terms of \"classes\", which are basically blueprints for an object.  The class lays out the internal structure of the object and defines the API.</p>\n\n<p>This is not the only way, though.  In JavaScript, for example, objects don't really have \"classes\".  Any object can have any properties it wants.  And since functions are first-class values in JavaScript, they can be set as properties on the object, and serve as the object's API.</p></li>\n</ul>\n\n<p>As far as object-based-but-not-object-oriented languages go, a good example would be Visual Basic (not the .net stuff; i'm talking about VB6 and VBA).  Classes exist, but can't inherit from each other.</p>\n\n<p><strong>Object-oriented</strong> languages are object-based languages that take things a step further.  They have built-in support for the two other pillars of OOP:</p>\n\n<ul>\n<li><p><strong>Inheritance.</strong> Objects must have the ability to be (and be viewed as) specializations of some other object.  This means, for example, being able to define \"Dog\" as \"Animal that can bark and fetch sticks\".</p>\n\n<p>In modern languages, it typically takes the form of one object's <em>class</em> inheriting from another object's <em>class</em>.  This is not a requirement, though; contrary to what some people will try to tell you, the definition of OOP does not require classes at all.</p></li>\n<li><p><strong>Polymorphism.</strong> Code must be able to use an object without knowing or caring exactly what type it is.</p>\n\n<p>Most languages (especially statically typed ones) define polymorphism in terms of classes and inheritance. If you have a class B that inherits from A, code that requires a reference to an A can typically take a B instead, but not some class C that isn't related to A. Java also has the <code>interface</code> keyword, which lets you define a set of behaviors a class must implement.Any object whose class explicitly <code>implements X</code>, and thus implements the functions defined on interface X, qualifies as an instance of type X.</p>\n\n<p>Other languages, like JavaScript, let you pass any object you like. As long as the object presents the right interface, it doesn't matter exactly what kind of object it is. This is called \"duck typing\", and it is very nearly the purest form of polymorphism there is.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5149805,"reputation":1326,"user_id":4124718,"display_name":"Arnab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412848844,"creation_date":1412848844,"answer_id":26275562,"question_id":15430004,"body_markdown":"There are 4 major elements that a Programming Language must conforms to in order to be a true object-oriented language. These are: Abstraction, Encapsulation, Modularity &amp; Hierarchy.\r\n\r\nHowever, we can call a Language Object based if that supports the first there elements. As soon as a programming language supports the concept of Object, inherently it supports the first three elements as they are inherent feature of an Object. \r\n\r\nJavaScript as a language can not be said a Object Oriented but Object Based Language as it doesn&#39;t support Hierarchy (especially Inheritance).","title":"Core difference between object oriented and object based language","body":"<p>There are 4 major elements that a Programming Language must conforms to in order to be a true object-oriented language. These are: Abstraction, Encapsulation, Modularity &amp; Hierarchy.</p>\n\n<p>However, we can call a Language Object based if that supports the first there elements. As soon as a programming language supports the concept of Object, inherently it supports the first three elements as they are inherent feature of an Object. </p>\n\n<p>JavaScript as a language can not be said a Object Oriented but Object Based Language as it doesn't support Hierarchy (especially Inheritance).</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437709758,"creation_date":1437709758,"answer_id":31601869,"question_id":15430004,"body_markdown":"&gt;OOP and OBP are types of programming languages follows different principles.\r\n\r\n**OOP** : follows Polymorphism, Inheritance and Encapsulation(PIE).  \r\n\r\n - **Examples**: Java, .Net so on. OOP is new comparing with OBP\r\n\r\n**OBP** : follows Polymorphism and Encapsulation. \r\n\r\n - **Examples**: Ada, Visual Basic (VB), and Fortran 90. OBP is old\r\n\r\n","title":"Core difference between object oriented and object based language","body":"<blockquote>\n  <p>OOP and OBP are types of programming languages follows different principles.</p>\n</blockquote>\n\n<p><strong>OOP</strong> : follows Polymorphism, Inheritance and Encapsulation(PIE).  </p>\n\n<ul>\n<li><strong>Examples</strong>: Java, .Net so on. OOP is new comparing with OBP</li>\n</ul>\n\n<p><strong>OBP</strong> : follows Polymorphism and Encapsulation. </p>\n\n<ul>\n<li><strong>Examples</strong>: Ada, Visual Basic (VB), and Fortran 90. OBP is old</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7106668,"reputation":1,"user_id":5436082,"display_name":"prasanthi"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1444667575,"creation_date":1444642691,"answer_id":33077842,"question_id":15430004,"body_markdown":"Object oriented programming languages follow all concepts belonging to OOP.\r\n\r\nObject based programming language has objects ibuilt so there&#39;s no need to create objects and it also follows OOP concepts except inheritence,","title":"Core difference between object oriented and object based language","body":"<p>Object oriented programming languages follow all concepts belonging to OOP.</p>\n\n<p>Object based programming language has objects ibuilt so there's no need to create objects and it also follows OOP concepts except inheritence,</p>\n"},{"tags":[],"owner":{"account_id":3373735,"reputation":163,"user_id":2832359,"display_name":"Prince Gupta"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1501750347,"creation_date":1462443875,"answer_id":37048125,"question_id":15430004,"body_markdown":"Object orientd language\r\n\r\n    Object-orientd language supports all the features of OOPs\r\n\r\n    Object-orientd language does not has in-built object\r\n\r\n    Object-orientd languages are C++, C#, Java etc\r\n\r\nObject based language\r\n\r\n    Object-based language doesn&#39;t support all the features of OOPs like Polymorphism and Inheritance\r\n\r\n    Object-based language has in-built object like JavaScript has window object.\r\n\r\n    Object-based languages are JavaScript, VB etc.\r\nHope, this will clarify your doubt. ","title":"Core difference between object oriented and object based language","body":"<p>Object orientd language</p>\n\n<pre><code>Object-orientd language supports all the features of OOPs\n\nObject-orientd language does not has in-built object\n\nObject-orientd languages are C++, C#, Java etc\n</code></pre>\n\n<p>Object based language</p>\n\n<pre><code>Object-based language doesn't support all the features of OOPs like Polymorphism and Inheritance\n\nObject-based language has in-built object like JavaScript has window object.\n\nObject-based languages are JavaScript, VB etc.\n</code></pre>\n\n<p>Hope, this will clarify your doubt. </p>\n"},{"tags":[],"owner":{"account_id":11392635,"reputation":591,"user_id":8352092,"display_name":"dthal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546371742,"creation_date":1546371742,"answer_id":53998411,"question_id":15430004,"body_markdown":"crudely...\n\n - object-oriented: supports encapsulation, inheritance, polymorphism\n - object-based: supports encapsulation\n\n[Wikipedia - Object-Based Language][1]\n\n  [1]: https://en.wikipedia.org/wiki/Object-based_language","title":"Core difference between object oriented and object based language","body":"<p>crudely...</p>\n<ul>\n<li>object-oriented: supports encapsulation, inheritance, polymorphism</li>\n<li>object-based: supports encapsulation</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Object-based_language\" rel=\"nofollow noreferrer\">Wikipedia - Object-Based Language</a></p>\n"}],"owner":{"display_name":"user2164685"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89659,"favorite_count":0,"down_vote_count":2,"up_vote_count":42,"accepted_answer_id":15430450,"answer_count":8,"score":40,"last_activity_date":1693245451,"creation_date":1363343438,"question_id":15430004,"body_markdown":"I want to know what is the core difference between \r\n\r\n **Object Oriented and Object based languages**\r\n\r\nI have read many post all of them are saying two things\r\n\r\n1. Object-oriented language supports all the features of OOPs and Object-based language doesn&#39;t support all the features of OOPs like Polymorphism and Inheritance.\r\n\r\n2. They are giving example of javascript as object based and java as object oriented\r\n\r\nLike this post of stackoverflow\r\n\r\nhttps://stackoverflow.com/questions/6954293/difference-between-object-oriented-and-object-based-language\r\n\r\nBut I want to know what is the core difference between both the concept regardless of any language.\r\n\r\n\r\nGot the answer\r\n\r\nFinally got the thing\r\n\r\nthanks to `Mat&#237;as Fidemraizer`\r\n\r\nAnswer which is not dependent on any language, not dependent on any feature, the core differnce for which I am loooking that is\r\n\r\n*The language which itself contains objects is called as object based language and the language with follows object oriented concepts is known as object oriented language*\r\n\r\n","title":"Core difference between object oriented and object based language","body":"<p>I want to know what is the core difference between </p>\n\n<p><strong>Object Oriented and Object based languages</strong></p>\n\n<p>I have read many post all of them are saying two things</p>\n\n<ol>\n<li><p>Object-oriented language supports all the features of OOPs and Object-based language doesn't support all the features of OOPs like Polymorphism and Inheritance.</p></li>\n<li><p>They are giving example of javascript as object based and java as object oriented</p></li>\n</ol>\n\n<p>Like this post of stackoverflow</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6954293/difference-between-object-oriented-and-object-based-language\">Difference between object oriented and object based language</a></p>\n\n<p>But I want to know what is the core difference between both the concept regardless of any language.</p>\n\n<p>Got the answer</p>\n\n<p>Finally got the thing</p>\n\n<p>thanks to <code>Matas Fidemraizer</code></p>\n\n<p>Answer which is not dependent on any language, not dependent on any feature, the core differnce for which I am loooking that is</p>\n\n<p><em>The language which itself contains objects is called as object based language and the language with follows object oriented concepts is known as object oriented language</em></p>\n"},{"tags":["java","truststore","jakarta-migration"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1684166144,"post_id":76255670,"comment_id":134473850,"body_markdown":"It does not replace all the `javax.*` packages. Affected packages are `javax.xml.bind`, `javax.servlet` and `javax.xml.ws` (perhaps some others), but AFAIK not `javax.net`.","body":"It does not replace all the <code>javax.*</code> packages. Affected packages are <code>javax.xml.bind</code>, <code>javax.servlet</code> and <code>javax.xml.ws</code> (perhaps some others), but AFAIK not <code>javax.net</code>."},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":4,"creation_date":1684166577,"post_id":76255670,"comment_id":134473964,"body_markdown":"Does `javax.net.ssl.*` come from Jakarta EE? No, therefore you don&#39;t need to (and must not, in fact) change those properties.","body":"Does <code>javax.net.ssl.*</code> come from Jakarta EE? No, therefore you don&#39;t need to (and must not, in fact) change those properties."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693244666,"creation_date":1684172091,"answer_id":76256612,"question_id":76255670,"body_markdown":"As [Commented][1]\r\n\r\nFor any `javax` package, ask yourself if that class is from one of the Jakarta EE libraries? When you look up the latest Javadoc, does that page reside at the [Jakarta EE][2] web site? \r\n\r\nIf so, change the package name to that which is documented. If not, leave the `javax` package as-is. \r\n\r\nJava still has many packages in the `javax` namespace. This `x` naming is a leftover from older development practices during the early Sun Microsystems days of Javas history. \r\n\r\nThe package [`javax.net.ssl`][3] is still a part of the current Java release, Java 20. Not in Jakarta&#160;EE.\r\n\r\n\r\n----------\r\n\r\n\r\nThe first versions of Jakarta EE did use the `javax.*` package naming, as part of a transition when Oracle Corp handed over Java EE to the Eclipse Foundation. My Answer here assumes you have moved on to the later versions of Jakarta EE that now use `jakarta.*` packages. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76255670/quarkus-3-jakarta-ee-10-and-javax-net-ssl-truststore#comment134473964_76255670\r\n  [2]: https://jakarta.ee/\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/javax/net/ssl/package-summary.html","title":"Do javax.net.ssl.* VM arguments need to be migrated to jakarta.net.ssl.*?","body":"<p>As <a href=\"https://stackoverflow.com/questions/76255670/quarkus-3-jakarta-ee-10-and-javax-net-ssl-truststore#comment134473964_76255670\">Commented</a></p>\n<p>For any <code>javax</code> package, ask yourself if that class is from one of the Jakarta EE libraries? When you look up the latest Javadoc, does that page reside at the <a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">Jakarta EE</a> web site?</p>\n<p>If so, change the package name to that which is documented. If not, leave the <code>javax</code> package as-is.</p>\n<p>Java still has many packages in the <code>javax</code> namespace. This <code>x</code> naming is a leftover from older development practices during the early Sun Microsystems days of Javas history.</p>\n<p>The package <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/javax/net/ssl/package-summary.html\" rel=\"nofollow noreferrer\"><code>javax.net.ssl</code></a> is still a part of the current Java release, Java 20. Not in JakartaEE.</p>\n<hr />\n<p>The first versions of Jakarta EE did use the <code>javax.*</code> package naming, as part of a transition when Oracle Corp handed over Java EE to the Eclipse Foundation. My Answer here assumes you have moved on to the later versions of Jakarta EE that now use <code>jakarta.*</code> packages.</p>\n"}],"owner":{"account_id":20450119,"reputation":33,"user_id":15005055,"display_name":"Sh4iDo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3456,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76256612,"answer_count":1,"score":3,"last_activity_date":1693244666,"creation_date":1684164665,"question_id":76255670,"body_markdown":"Quarkus 3 has introduced Jakarta EE 10 that need to replace all the `javax.*` package with `jakarta.` package.\r\n\r\nIn our application we set these system properties at startup:\r\n\r\n```\r\n-Djavax.net.ssl.trustStore=...\r\n-Djavax.net.ssl.trustStorePassword=...\r\n```\r\n\r\nDo we need to change it in `jakarta.net.ssl....` ?\r\n\r\nThanks","title":"Do javax.net.ssl.* VM arguments need to be migrated to jakarta.net.ssl.*?","body":"<p>Quarkus 3 has introduced Jakarta EE 10 that need to replace all the <code>javax.*</code> package with <code>jakarta.</code> package.</p>\n<p>In our application we set these system properties at startup:</p>\n<pre><code>-Djavax.net.ssl.trustStore=...\n-Djavax.net.ssl.trustStorePassword=...\n</code></pre>\n<p>Do we need to change it in <code>jakarta.net.ssl....</code> ?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","c++","android-ndk-r5","std-byte"],"comments":[{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1592483348,"post_id":62449501,"comment_id":110445432,"body_markdown":"What are the errors you receive? Attaching and detaching to the VM for every call probably isn&#39;t the most efficient","body":"What are the errors you receive? Attaching and detaching to the VM for every call probably isn&#39;t the most efficient"},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":1,"creation_date":1592483462,"post_id":62449501,"comment_id":110445489,"body_markdown":"`byteArray` is uninitialised","body":"<code>byteArray</code> is uninitialised"},{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1592486642,"post_id":62449501,"comment_id":110447280,"body_markdown":"The `byteArray` is local and you haven&#39;t set it to anything.  Remove the test for `nullptr` completely.","body":"The <code>byteArray</code> is local and you haven&#39;t set it to anything.  Remove the test for <code>nullptr</code> completely."}],"owner":{"account_id":18526595,"reputation":11,"user_id":13498354,"display_name":"Jyotsna Munjal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693244348,"creation_date":1592481625,"question_id":62449501,"body_markdown":"Tried this:\r\n\r\n\r\n            void sendInfo(std::byte* something, long dataSize) {\r\n    \r\n    \tJavaVM* vm = nsCtx.javaVM;\r\n    \tJNIEnv* env;\r\n    \tint envState = getEnvState(&amp;env, vm);\r\n    \t\r\n    \tif (envState == JNI_OK || envState == JNI_EDETACHED) {\r\n    \t\tLOGD(&quot;Environment received successfully&quot;);\r\n    \t\t\r\n    \t\tjbyteArray byteArray;\r\n    \r\n    \t\tif(!byteArray)\r\n    \t\t\tbyteArray = env-&gt;NewByteArray(dataSize);\r\n    \r\n    \t\tif(env-&gt;GetArrayLength(byteArray) != dataSize)\r\n    \t\t{\r\n    \t\t\tenv-&gt;DeleteLocalRef(byteArray);\r\n    \t\t\tbyteArray = env-&gt;NewByteArray(dataSize);\r\n    \t\t}\r\n    \r\n    \t\tLOGD(&quot;byte array is created&quot;);\r\n    \r\n    \t\tvoid *temp = env-&gt;GetPrimitiveArrayCritical((jarray)byteArray, 0);\r\n    \r\n    \t\tLOGD(&quot;Worked fine&quot;);\r\n    \r\n    \t\tmemcpy(temp, something, dataSize);\r\n    \t\tenv-&gt;ReleasePrimitiveArrayCritical(byteArray, temp, 0);\r\n    \t\t\r\n    \t\tjmethodID SendFunc = env-&gt;GetMethodID(someClass, &quot;something&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t\t   &quot;([B)V&quot;);\r\n    \r\n    \t\t// Call the method on the object\r\n    \t\tenv-&gt;CallVoidMethod(someObject, SendFunc, byteArray);\r\n    \r\n    \t\tif (env-&gt;ExceptionCheck()) {\r\n    \t\t\tenv-&gt;ExceptionDescribe();\r\n    \t\t}\r\n    \t\t//if thread was attached to it, detach it\r\n    \t\tif(envState == JNI_EDETACHED) {\r\n    \t\t\tvm-&gt;DetachCurrentThread();\r\n    \t\t\tLOGD(&quot;Thread detached&quot;);\r\n    \t\t}\r\n    \t} else {\r\n    \t\t//Returns JNI_ERR\r\n    \t\tLOGD(&quot;JNI ERROR occurred&quot;);\r\n    \t}\r\n    }\r\n\r\nJava function signature:\r\n\r\n    public void getbyteArrays(byte[] someArray);\r\n\r\n\r\nbut getting some DALVIk errors. Can someone explain how to pass std::byte* to Java in the form of byte[] array in the java function. I am completely new to this concept and not able to get this working.","title":"Passing std::byte* through JNI to java","body":"<p>Tried this:</p>\n\n<pre><code>        void sendInfo(std::byte* something, long dataSize) {\n\n    JavaVM* vm = nsCtx.javaVM;\n    JNIEnv* env;\n    int envState = getEnvState(&amp;env, vm);\n\n    if (envState == JNI_OK || envState == JNI_EDETACHED) {\n        LOGD(\"Environment received successfully\");\n\n        jbyteArray byteArray;\n\n        if(!byteArray)\n            byteArray = env-&gt;NewByteArray(dataSize);\n\n        if(env-&gt;GetArrayLength(byteArray) != dataSize)\n        {\n            env-&gt;DeleteLocalRef(byteArray);\n            byteArray = env-&gt;NewByteArray(dataSize);\n        }\n\n        LOGD(\"byte array is created\");\n\n        void *temp = env-&gt;GetPrimitiveArrayCritical((jarray)byteArray, 0);\n\n        LOGD(\"Worked fine\");\n\n        memcpy(temp, something, dataSize);\n        env-&gt;ReleasePrimitiveArrayCritical(byteArray, temp, 0);\n\n        jmethodID SendFunc = env-&gt;GetMethodID(someClass, \"something\",\n                                               \"([B)V\");\n\n        // Call the method on the object\n        env-&gt;CallVoidMethod(someObject, SendFunc, byteArray);\n\n        if (env-&gt;ExceptionCheck()) {\n            env-&gt;ExceptionDescribe();\n        }\n        //if thread was attached to it, detach it\n        if(envState == JNI_EDETACHED) {\n            vm-&gt;DetachCurrentThread();\n            LOGD(\"Thread detached\");\n        }\n    } else {\n        //Returns JNI_ERR\n        LOGD(\"JNI ERROR occurred\");\n    }\n}\n</code></pre>\n\n<p>Java function signature:</p>\n\n<pre><code>public void getbyteArrays(byte[] someArray);\n</code></pre>\n\n<p>but getting some DALVIk errors. Can someone explain how to pass std::byte* to Java in the form of byte[] array in the java function. I am completely new to this concept and not able to get this working.</p>\n"},{"tags":["java","git","bitbucket"],"answers":[{"comments":[{"owner":{"account_id":20673637,"reputation":240,"user_id":15178796,"display_name":"Nadav Holtzman"},"score":0,"creation_date":1693377799,"post_id":76994869,"comment_id":135750861,"body_markdown":"Thank&#39;s for the clarification. Do you know if I can achieve my goal using bitbucket cloud?","body":"Thank&#39;s for the clarification. Do you know if I can achieve my goal using bitbucket cloud?"},{"owner":{"account_id":6534704,"reputation":4743,"user_id":5054717,"display_name":"Jim Redmond"},"score":0,"creation_date":1693424377,"post_id":76994869,"comment_id":135760868,"body_markdown":"Bitbucket Cloud only offers webhooks or their CI/CD service (Pipelines). The webhook will send a JSON payload to a specified endpoint after a specified event, or Pipelines will execute a script in a container, but if you want a hook like what the BB Server documentation describes then it isn&#39;t possible.","body":"Bitbucket Cloud only offers webhooks or their CI/CD service (Pipelines). The webhook will send a JSON payload to a specified endpoint after a specified event, or Pipelines will execute a script in a container, but if you want a hook like what the BB Server documentation describes then it isn&#39;t possible."}],"tags":[],"owner":{"account_id":6534704,"reputation":4743,"user_id":5054717,"display_name":"Jim Redmond"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693243654,"creation_date":1693243654,"answer_id":76994869,"question_id":76987870,"body_markdown":"You&#39;re looking at documentation for Bitbucket Server, but you&#39;re using Bitbucket Cloud. They are not the same thing. (They are not even written in the same language.)","title":"How to create a Bitbucket PostRepositoryHooks after merging a PR in my JAVA project?","body":"<p>You're looking at documentation for Bitbucket Server, but you're using Bitbucket Cloud. They are not the same thing. (They are not even written in the same language.)</p>\n"}],"owner":{"account_id":20673637,"reputation":240,"user_id":15178796,"display_name":"Nadav Holtzman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693243654,"creation_date":1693151793,"question_id":76987870,"body_markdown":"I am trying to create a&#160;PostRepositoryHook in my Java project for automatically creating a PR to a different branch after merging a PR, but seems like the documentation is not updated, it refers to the &#39;Hooks&#39; tab in the repository settings:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut all I can see is the &#39;WebHooks&#39; tab which is not helping:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAny help?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NShDe.png\r\n  [2]: https://i.stack.imgur.com/Z2XB5.png","title":"How to create a Bitbucket PostRepositoryHooks after merging a PR in my JAVA project?","body":"<p>I am trying to create aPostRepositoryHook in my Java project for automatically creating a PR to a different branch after merging a PR, but seems like the documentation is not updated, it refers to the 'Hooks' tab in the repository settings:</p>\n<p><a href=\"https://i.stack.imgur.com/NShDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NShDe.png\" alt=\"enter image description here\" /></a></p>\n<p>But all I can see is the 'WebHooks' tab which is not helping:</p>\n<p><a href=\"https://i.stack.imgur.com/Z2XB5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2XB5.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help?</p>\n"},{"tags":["java","itext","digital-signature","itext7","pades"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1646437508,"post_id":71351592,"comment_id":126131012,"body_markdown":"The `AdobeLtvEnabling` is meant as a tool to add the information required for the Adobe &quot;LTV enabled&quot; profile, and this profile requires no time stamps at all. Applied to a B-T, therefore, one can not get a B-LTA which requires an additional time stamp. To make sure to get a B-LT, by the way, one has to extend `AdobeLtvEnabling` a bit: currently it ignores time stamps, but processing time stamps usually is necessary for LT.","body":"The <code>AdobeLtvEnabling</code> is meant as a tool to add the information required for the Adobe &quot;LTV enabled&quot; profile, and this profile requires no time stamps at all. Applied to a B-T, therefore, one can not get a B-LTA which requires an additional time stamp. To make sure to get a B-LT, by the way, one has to extend <code>AdobeLtvEnabling</code> a bit: currently it ignores time stamps, but processing time stamps usually is necessary for LT."},{"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"score":0,"creation_date":1646637498,"post_id":71351592,"comment_id":126163904,"body_markdown":"@mkl After using logic in `AdobeLtvEnabling` I got B-LT in Adobe but what exactly do I need to add to it to work properly?","body":"@mkl After using logic in <code>AdobeLtvEnabling</code> I got B-LT in Adobe but what exactly do I need to add to it to work properly?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1646646723,"post_id":71351592,"comment_id":126166541,"body_markdown":"As mentioned, `AdobeLtvEnabling` ignores time stamps; signature time stamps to be more exact. To process them, too, you need to extend the loop in `enable` to not only walk the certificate path of `pdfPKCS7.getSigningCertificate()` but also of the signing certificate of `pdfPKCS7.getTimeStampToken()` if applicable. Of course it is possible that in your case this is not necessary: if the TSA certificate immediately is on the Trusted Lists (and not merely an ancestor in its certificate path), then no extra validation information is required. This is the case for some but not for all TSAs.","body":"As mentioned, <code>AdobeLtvEnabling</code> ignores time stamps; signature time stamps to be more exact. To process them, too, you need to extend the loop in <code>enable</code> to not only walk the certificate path of <code>pdfPKCS7.getSigningCertificate()</code> but also of the signing certificate of <code>pdfPKCS7.getTimeStampToken()</code> if applicable. Of course it is possible that in your case this is not necessary: if the TSA certificate immediately is on the Trusted Lists (and not merely an ancestor in its certificate path), then no extra validation information is required. This is the case for some but not for all TSAs."}],"answers":[{"comments":[{"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"score":0,"creation_date":1646658408,"post_id":71356887,"comment_id":126170549,"body_markdown":"Thank you for response. I have some more questions. In the article you have linked there is ` ltvVerification.addVerification(&quot;Signature1&quot;,...)` which means that that i extends signature level only for one signature. If i have many B-T signatures I need to apply this to all of them before adding timestamp to make them all LTA, right?","body":"Thank you for response. I have some more questions. In the article you have linked there is ` ltvVerification.addVerification(&quot;Signature1&quot;,...)` which means that that i extends signature level only for one signature. If i have many B-T signatures I need to apply this to all of them before adding timestamp to make them all LTA, right?"},{"owner":{"account_id":3045158,"reputation":335,"user_id":4355619,"display_name":"mval"},"score":0,"creation_date":1646829374,"post_id":71356887,"comment_id":126219737,"body_markdown":"Yep. PAdES doesn&#39;t specify that you need separate document timestamps for all signatures, so covering all validation data with a single document timestamp makes sense in that sort of workflow.","body":"Yep. PAdES doesn&#39;t specify that you need separate document timestamps for all signatures, so covering all validation data with a single document timestamp makes sense in that sort of workflow."}],"tags":[],"owner":{"account_id":3045158,"reputation":335,"user_id":4355619,"display_name":"mval"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646425517,"creation_date":1646425517,"answer_id":71356887,"question_id":71351592,"body_markdown":"Looks about right. The only material difference between PAdES-B-LT and PAdES-B-LTA is that the signature validation data needs to be timestamped as well. As such, to go from PAdES-B-LT to PAdES-B-LTA, it suffices to add a document timestamp.\r\n\r\nWith iText, that more or less works like this:\r\n\r\n```java\r\ntry(InputStream is = ...; // this should contain the PAdES-B-LT output\r\n    PdfReader reader = new PdfReader(is);\r\n    OutputStream os = new FileOutputStream(OUTPUT_DOCUMENT)) {\r\n\r\n    PdfSigner pdfSigner = new PdfSigner(reader, os, new StampingProperties().useAppendMode());\r\n    // .timestamp(...) is for producing document timestamps\r\n    pdfSigner.timestamp(tsaClient, timeStampFieldName);\r\n}\r\n```\r\n\r\nSee also here for some context: https://dzone.com/articles/7-tips-for-creating-pdf-signatures (ignore the buzzfeedy title...).\r\n\r\n\r\nEDIT: If you&#39;re looking for a tool to test your PAdES signatures for conformance with the format requirements in the specification, you might want to request access to the ETSI conformance checker: https://signatures-conformance-checker.etsi.org/pub/index.php.","title":"How to PAdES BASELINE LT &amp; LTA in itext using the Java?","body":"<p>Looks about right. The only material difference between PAdES-B-LT and PAdES-B-LTA is that the signature validation data needs to be timestamped as well. As such, to go from PAdES-B-LT to PAdES-B-LTA, it suffices to add a document timestamp.</p>\n<p>With iText, that more or less works like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(InputStream is = ...; // this should contain the PAdES-B-LT output\n    PdfReader reader = new PdfReader(is);\n    OutputStream os = new FileOutputStream(OUTPUT_DOCUMENT)) {\n\n    PdfSigner pdfSigner = new PdfSigner(reader, os, new StampingProperties().useAppendMode());\n    // .timestamp(...) is for producing document timestamps\n    pdfSigner.timestamp(tsaClient, timeStampFieldName);\n}\n</code></pre>\n<p>See also here for some context: <a href=\"https://dzone.com/articles/7-tips-for-creating-pdf-signatures\" rel=\"noreferrer\">https://dzone.com/articles/7-tips-for-creating-pdf-signatures</a> (ignore the buzzfeedy title...).</p>\n<p>EDIT: If you're looking for a tool to test your PAdES signatures for conformance with the format requirements in the specification, you might want to request access to the ETSI conformance checker: <a href=\"https://signatures-conformance-checker.etsi.org/pub/index.php\" rel=\"noreferrer\">https://signatures-conformance-checker.etsi.org/pub/index.php</a>.</p>\n"}],"owner":{"account_id":3077425,"reputation":175,"user_id":2606435,"display_name":"JK_codes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71356887,"answer_count":1,"score":3,"last_activity_date":1693242993,"creation_date":1646397741,"question_id":71351592,"body_markdown":"I&#39;m working on pdf signatures using itext7 and currently need to support all PAdES signature levels: B-B, B-T, B-LT, B-LTA\r\nhttps://ec.europa.eu/digital-building-blocks/wikis/display/ESIGKB/What+are+the+B-T-LT+and+LTA+levels+of+an+electronic+signature\r\n\r\nMy problem is how i can create B-LT signature with itext?\r\nI have created B-B and B-T with this code:\r\n```java\r\nsigner.signDetached(\r\n                new BouncyCastleDigest(),\r\n                customExternalSignature,\r\n                new Certificate[]{clientX509Certificate},\r\n                null,\r\n                null,\r\n                tsaClient,\r\n                0,\r\n                PdfSigner.CryptoStandard.CADES);\r\n```\r\nThen I wanted add B-LTA level so I have used this code https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java\r\nto check adding BASELINE-LTA level, but after applying this logic to my signature adobe says that it is BASELINE-LT\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FogxE.png\r\n\r\n\r\nThis creates two questions:\r\n1. Is this implementation in AdobeLtvEnabling correct way to add PAdES level B-LT?\r\n2. Is this proper way to add B-LTA level?\r\n```\r\n//This method extend B-T signature to B-LT\r\nprivate byte[] addLt(final byte[] signed) throws IOException, GeneralSecurityException {\r\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        try (InputStream resource = new ByteArrayInputStream(signed);\r\n             PdfReader pdfReader = new PdfReader(resource);\r\n             PdfWriter pdfWriter = new PdfWriter(out);\r\n             PdfDocument pdfDocument = new PdfDocument(pdfReader, pdfWriter, new StampingProperties().preserveEncryption().useAppendMode())) {\r\n            AdobeLtvEnabling adobeLtvEnabling = new AdobeLtvEnabling(pdfDocument);\r\n            IOcspClient ocsp = new OcspClientBouncyCastle(null);\r\n            ICrlClient crl = new CrlClientOnline();\r\n            adobeLtvEnabling.enable(ocsp, crl);\r\n        }\r\n\r\n        return addLtv(out.toByteArray());\r\n    }\r\n\r\n//This method extend B-LT signature to B-LTA\r\nprivate byte[] addLtv(final byte[] pdf) throws IOException, GeneralSecurityException {\r\n        final ByteArrayOutputStream signedFile = new ByteArrayOutputStream();\r\n        final PdfReader sourceDoc = new PdfReader(new ByteArrayInputStream(pdf));\r\n        final PdfSigner signer = new PdfSigner(sourceDoc, signedFile, STAMPING_PROPERTIES);\r\n\r\n        signer.timestamp(tsaClient, null);\r\n\r\n        return signedFile.toByteArray();\r\n    }\r\n```","title":"How to PAdES BASELINE LT &amp; LTA in itext using the Java?","body":"<p>I'm working on pdf signatures using itext7 and currently need to support all PAdES signature levels: B-B, B-T, B-LT, B-LTA\n<a href=\"https://ec.europa.eu/digital-building-blocks/wikis/display/ESIGKB/What+are+the+B-T-LT+and+LTA+levels+of+an+electronic+signature\" rel=\"nofollow noreferrer\">https://ec.europa.eu/digital-building-blocks/wikis/display/ESIGKB/What+are+the+B-T-LT+and+LTA+levels+of+an+electronic+signature</a></p>\n<p>My problem is how i can create B-LT signature with itext?\nI have created B-B and B-T with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>signer.signDetached(\n                new BouncyCastleDigest(),\n                customExternalSignature,\n                new Certificate[]{clientX509Certificate},\n                null,\n                null,\n                tsaClient,\n                0,\n                PdfSigner.CryptoStandard.CADES);\n</code></pre>\n<p>Then I wanted add B-LTA level so I have used this code <a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java\" rel=\"nofollow noreferrer\">https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/signature/AdobeLtvEnabling.java</a>\nto check adding BASELINE-LTA level, but after applying this logic to my signature adobe says that it is BASELINE-LT</p>\n<p><a href=\"https://i.stack.imgur.com/FogxE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FogxE.png\" alt=\"enter image description here\" /></a></p>\n<p>This creates two questions:</p>\n<ol>\n<li>Is this implementation in AdobeLtvEnabling correct way to add PAdES level B-LT?</li>\n<li>Is this proper way to add B-LTA level?</li>\n</ol>\n<pre><code>//This method extend B-T signature to B-LT\nprivate byte[] addLt(final byte[] signed) throws IOException, GeneralSecurityException {\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\n        try (InputStream resource = new ByteArrayInputStream(signed);\n             PdfReader pdfReader = new PdfReader(resource);\n             PdfWriter pdfWriter = new PdfWriter(out);\n             PdfDocument pdfDocument = new PdfDocument(pdfReader, pdfWriter, new StampingProperties().preserveEncryption().useAppendMode())) {\n            AdobeLtvEnabling adobeLtvEnabling = new AdobeLtvEnabling(pdfDocument);\n            IOcspClient ocsp = new OcspClientBouncyCastle(null);\n            ICrlClient crl = new CrlClientOnline();\n            adobeLtvEnabling.enable(ocsp, crl);\n        }\n\n        return addLtv(out.toByteArray());\n    }\n\n//This method extend B-LT signature to B-LTA\nprivate byte[] addLtv(final byte[] pdf) throws IOException, GeneralSecurityException {\n        final ByteArrayOutputStream signedFile = new ByteArrayOutputStream();\n        final PdfReader sourceDoc = new PdfReader(new ByteArrayInputStream(pdf));\n        final PdfSigner signer = new PdfSigner(sourceDoc, signedFile, STAMPING_PROPERTIES);\n\n        signer.timestamp(tsaClient, null);\n\n        return signedFile.toByteArray();\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1570444855,"post_id":58267891,"comment_id":102903037,"body_markdown":"Is the `Date` class imported in your `UserRequestResponse` a `java.util.Date` or a `java.sql.Date`? Looks like Hibernate expects a `java.util.Date`...","body":"Is the <code>Date</code> class imported in your <code>UserRequestResponse</code> a <code>java.util.Date</code> or a <code>java.sql.Date</code>? Looks like Hibernate expects a <code>java.util.Date</code>..."},{"owner":{"account_id":16810564,"reputation":433,"user_id":12153682,"display_name":"HyukHyukBoi"},"score":0,"creation_date":1570445071,"post_id":58267891,"comment_id":102903123,"body_markdown":"Yes, sys_created_on is a variable of type Date defined privately. It also has it&#39;s getters and setters.","body":"Yes, sys_created_on is a variable of type Date defined privately. It also has it&#39;s getters and setters."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1570445168,"post_id":58267891,"comment_id":102903167,"body_markdown":"Of course, it is a `Date`, but which import is in your class? can you show the imports of `UserRequestResponse`? `Date` is an ambiguous name for a class and there are `java.uitl.Date`s as well as `java.sql.Date`s.","body":"Of course, it is a <code>Date</code>, but which import is in your class? can you show the imports of <code>UserRequestResponse</code>? <code>Date</code> is an ambiguous name for a class and there are <code>java.uitl.Date</code>s as well as <code>java.sql.Date</code>s."},{"owner":{"account_id":16810564,"reputation":433,"user_id":12153682,"display_name":"HyukHyukBoi"},"score":0,"creation_date":1570445517,"post_id":58267891,"comment_id":102903334,"body_markdown":"Edited the question. Please check.","body":"Edited the question. Please check."}],"answers":[{"comments":[{"owner":{"account_id":16810564,"reputation":433,"user_id":12153682,"display_name":"HyukHyukBoi"},"score":0,"creation_date":1570445982,"post_id":58268160,"comment_id":102903552,"body_markdown":"I did that and it&#39;s compiling nicely. But, when I try to access the endpoint, it&#39;s showing JSON parse error. Does it have something to do with date?","body":"I did that and it&#39;s compiling nicely. But, when I try to access the endpoint, it&#39;s showing JSON parse error. Does it have something to do with date?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1570446117,"post_id":58268160,"comment_id":102903620,"body_markdown":"Yes, maybe, because `java.sql.Date`s are often treated as timestamps and may be of a different formatting than used for `java.util.Date`s. Have a look at the values in the JSON file and watch out for time in milliseconds (just a `long`) where it should be something like `2019-10-07T12:00:00`.","body":"Yes, maybe, because <code>java.sql.Date</code>s are often treated as timestamps and may be of a different formatting than used for <code>java.util.Date</code>s. Have a look at the values in the JSON file and watch out for time in milliseconds (just a <code>long</code>) where it should be something like <code>2019-10-07T12:00:00</code>."},{"owner":{"account_id":16810564,"reputation":433,"user_id":12153682,"display_name":"HyukHyukBoi"},"score":0,"creation_date":1570449128,"post_id":58268160,"comment_id":102905077,"body_markdown":"So, what do you think I should do to get the correct JSON? I&#39;m not able to view the JSON when I got the endpoint.","body":"So, what do you think I should do to get the correct JSON? I&#39;m not able to view the JSON when I got the endpoint."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1570449839,"post_id":58268160,"comment_id":102905400,"body_markdown":"I don&#39;t really know how to debug that. How do you debug JSON parsing in other situations? Maybe print everything received or sent to the console and have a look at the output. Haven&#39;t you defined the JSON schema yourself? You could or should know where this date or timestamp is located in such a JSON file, I don&#39;t, unfortunately.","body":"I don&#39;t really know how to debug that. How do you debug JSON parsing in other situations? Maybe print everything received or sent to the console and have a look at the output. Haven&#39;t you defined the JSON schema yourself? You could or should know where this date or timestamp is located in such a JSON file, I don&#39;t, unfortunately."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693242779,"creation_date":1570445798,"answer_id":58268160,"question_id":58267891,"body_markdown":"You have imported a different type of `Date` than the one expected by hibernate:\r\n\r\nYour import in the class `UserRequestResponse` states\r\n```Java\r\nimport java.sql.Date;\r\n```\r\nwhile hibernate (somehow) expects a `java.util.Date` in the constructor.\r\n\r\nTry to just change the import and test the code again, so make the import\r\n```Java\r\nimport java.util.Date;\r\n```\r\nSince it is hibernate complaining about non matching types, I think hibernate just doesn&#39;t deal with `java.sql.Date`s.\r\n\r\nThe error message clearly states that the constructor to be used cannot be used due to a different type of a parameter.\r\n\r\n    org.hibernate.hql.internal.ast.DetailedSemanticException:\r\n    Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse].\r\n    Expected arguments are: java.lang.String, long, java.util.Date\r\n\r\nThe first two are of type `String` and `long`, so there is no real possibility of misinterpreting anything.","title":"Can someone tell me the error in my code?","body":"<p>You have imported a different type of <code>Date</code> than the one expected by hibernate:</p>\n<p>Your import in the class <code>UserRequestResponse</code> states</p>\n<pre><code>import java.sql.Date;\n</code></pre>\n<p>while hibernate (somehow) expects a <code>java.util.Date</code> in the constructor.</p>\n<p>Try to just change the import and test the code again, so make the import</p>\n<pre><code>import java.util.Date;\n</code></pre>\n<p>Since it is hibernate complaining about non matching types, I think hibernate just doesn't deal with <code>java.sql.Date</code>s.</p>\n<p>The error message clearly states that the constructor to be used cannot be used due to a different type of a parameter.</p>\n<pre><code>org.hibernate.hql.internal.ast.DetailedSemanticException:\nUnable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse].\nExpected arguments are: java.lang.String, long, java.util.Date\n</code></pre>\n<p>The first two are of type <code>String</code> and <code>long</code>, so there is no real possibility of misinterpreting anything.</p>\n"}],"owner":{"account_id":16810564,"reputation":433,"user_id":12153682,"display_name":"HyukHyukBoi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58268160,"answer_count":1,"score":0,"last_activity_date":1693242779,"creation_date":1570444711,"question_id":58267891,"body_markdown":"DAO Code is as follows:\r\n\r\n    public interface UserRequestResponseRepository extends CrudRepository&lt;UserRequestResponse, Integer&gt; {\r\n    \t//public static final String FIND_QUERY = &quot;select user.u_httpstatus ,user.u_queryparam from UserRequestResponse user&quot;;\r\n    \tpublic static final String FIND_QUERY = \r\n        &quot;select new com.abc.datacollection.entity.UserRequestResponse( user.u_queryparam , COUNT(user.u_queryparam), user.sys_created_on) from UserRequestResponse user  GROUP BY user.sys_created_on&quot;;\r\n    \t@Query(value = FIND_QUERY)\r\n        //public List&lt;UserProjection&gt; getAllRequestResponseRecords();\r\n    \t List&lt;UserProjection&gt; findAllProjectedBy();\r\n    \t\r\n    }\r\n\r\nMAIN CLASS CONSTRUCTOR+IMPORTS is as follows (contains private Date sys_created_on;):\r\n\r\n\t\r\n    import java.sql.Date;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Transient;\r\n\r\n    public UserRequestResponse(String u_queryparam, long count, Date sys_created_on) {\t\t//, long count\r\n    \t    //this.u_httpstatus = u_httpstatus;\r\n    \t    this.u_queryparam = u_queryparam;\r\n    \t    this.count=count;\r\n    \t    this.sys_created_on=sys_created_on;\r\n    \t}\r\n\r\nPROJECTION interface is as follows:\r\n\r\n    public interface UserProjection {\r\n    //\tString getU_httpstatus();\r\n    \tString getU_queryparam();\r\n    \tlong getCount();\r\n    \tDate getSys_created_on();\r\n    }\r\n\r\nSTACK TRACE is as follows:\r\n\r\n    2019-10-07 15:42:02.967  INFO 32036 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.10.Final}\r\n    2019-10-07 15:42:02.968  INFO 32036 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2019-10-07 15:42:03.125  INFO 32036 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n    2019-10-07 15:42:03.336  INFO 32036 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n    2019-10-07 15:42:03.872  INFO 32036 --- [           main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: com.abc.datacollection.entity.UserClickData (class must be instantiated by Interceptor)\r\n    2019-10-07 15:42:03.899  INFO 32036 --- [           main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: com.abc.datacollection.entity.UserRequestResponse (class must be instantiated by Interceptor)\r\n    2019-10-07 15:42:03.994  INFO 32036 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-10-07 15:42:04.310  INFO 32036 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\r\n    2019-10-07 15:42:04.426 ERROR 32036 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.abc.datacollection.entity.UserRequestResponse]\r\n    2019-10-07 15:42:04.430 ERROR 32036 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\r\n    [cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.abc.datacollection.entity.UserRequestResponse]\r\n    \r\n    org.hibernate.hql.internal.ast.DetailedSemanticException: Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\r\n    \tat org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:182) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.tree.ConstructorNode.prepare(ConstructorNode.java:144) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.HqlSqlWalker.processConstructor(HqlSqlWalker.java:1245) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExpr(HqlSqlBaseWalker.java:2366) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExprList(HqlSqlBaseWalker.java:2232) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectClause(HqlSqlBaseWalker.java:1503) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:585) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:313) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:261) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:271) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:191) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:143) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:119) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:611) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:720) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:104) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350) ~[spring-orm-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat com.sun.proxy.$Proxy93.createQuery(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:142) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:209) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:566) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:559) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:561) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:551) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:551) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:211) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat com.abc.datacollection.Application.main(Application.java:9) ~[classes!/:0.1.0]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \r\n    2019-10-07 15:42:04.436  WARN 32036 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRequestResponseController&#39;: Unsatisfied dependency expressed through field &#39;userRequestResponseRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRequestResponseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\r\n    2019-10-07 15:42:04.436  INFO 32036 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-10-07 15:42:04.438  INFO 32036 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2019-10-07 15:42:05.119  INFO 32036 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2019-10-07 15:42:05.121  INFO 32036 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2019-10-07 15:42:05.132  INFO 32036 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2019-10-07 15:42:05.134 ERROR 32036 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userRequestResponseController&#39;: Unsatisfied dependency expressed through field &#39;userRequestResponseRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRequestResponseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n    \tat com.abc.datacollection.Application.main(Application.java:9) ~[classes!/:0.1.0]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[data-collection-web-service-0.1.0.jar:0.1.0]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRequestResponseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n\r\n\r\nThe error started coming after I tried putting sys_created_on in the SQL query. It&#39;s type in the Database is DateTime. \r\nPlease help me out here. TIA.\r\nAlso, had to delete some of the stack trace.\r\n","title":"Can someone tell me the error in my code?","body":"<p>DAO Code is as follows:</p>\n\n<pre><code>public interface UserRequestResponseRepository extends CrudRepository&lt;UserRequestResponse, Integer&gt; {\n    //public static final String FIND_QUERY = \"select user.u_httpstatus ,user.u_queryparam from UserRequestResponse user\";\n    public static final String FIND_QUERY = \n    \"select new com.abc.datacollection.entity.UserRequestResponse( user.u_queryparam , COUNT(user.u_queryparam), user.sys_created_on) from UserRequestResponse user  GROUP BY user.sys_created_on\";\n    @Query(value = FIND_QUERY)\n    //public List&lt;UserProjection&gt; getAllRequestResponseRecords();\n     List&lt;UserProjection&gt; findAllProjectedBy();\n\n}\n</code></pre>\n\n<p>MAIN CLASS CONSTRUCTOR+IMPORTS is as follows (contains private Date sys_created_on;):</p>\n\n<pre><code>import java.sql.Date;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Transient;\n\npublic UserRequestResponse(String u_queryparam, long count, Date sys_created_on) {      //, long count\n        //this.u_httpstatus = u_httpstatus;\n        this.u_queryparam = u_queryparam;\n        this.count=count;\n        this.sys_created_on=sys_created_on;\n    }\n</code></pre>\n\n<p>PROJECTION interface is as follows:</p>\n\n<pre><code>public interface UserProjection {\n//  String getU_httpstatus();\n    String getU_queryparam();\n    long getCount();\n    Date getSys_created_on();\n}\n</code></pre>\n\n<p>STACK TRACE is as follows:</p>\n\n<pre><code>2019-10-07 15:42:02.967  INFO 32036 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.10.Final}\n2019-10-07 15:42:02.968  INFO 32036 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2019-10-07 15:42:03.125  INFO 32036 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n2019-10-07 15:42:03.336  INFO 32036 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2019-10-07 15:42:03.872  INFO 32036 --- [           main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: com.abc.datacollection.entity.UserClickData (class must be instantiated by Interceptor)\n2019-10-07 15:42:03.899  INFO 32036 --- [           main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: com.abc.datacollection.entity.UserRequestResponse (class must be instantiated by Interceptor)\n2019-10-07 15:42:03.994  INFO 32036 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-10-07 15:42:04.310  INFO 32036 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\n2019-10-07 15:42:04.426 ERROR 32036 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.abc.datacollection.entity.UserRequestResponse]\n2019-10-07 15:42:04.430 ERROR 32036 --- [           main] o.h.hql.internal.ast.ErrorTracker        :  Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\n[cause=org.hibernate.PropertyNotFoundException: no appropriate constructor in class: com.abc.datacollection.entity.UserRequestResponse]\n\norg.hibernate.hql.internal.ast.DetailedSemanticException: Unable to locate appropriate constructor on class [com.abc.datacollection.entity.UserRequestResponse]. Expected arguments are: java.lang.String, long, java.util.Date\n    at org.hibernate.hql.internal.ast.tree.ConstructorNode.resolveConstructor(ConstructorNode.java:182) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.tree.ConstructorNode.prepare(ConstructorNode.java:144) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.processConstructor(HqlSqlWalker.java:1245) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExpr(HqlSqlBaseWalker.java:2366) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectExprList(HqlSqlBaseWalker.java:2232) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectClause(HqlSqlBaseWalker.java:1503) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:585) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:313) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:261) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:271) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:191) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:143) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:119) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:80) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:611) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:720) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:104) ~[hibernate-core-5.3.10.Final.jar!/:5.3.10.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:350) ~[spring-orm-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at com.sun.proxy.$Proxy93.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:142) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:209) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:566) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:559) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n    at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:561) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:551) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:551) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:211) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121) ~[spring-data-jpa-2.1.9.RELEASE.jar!/:2.1.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at com.abc.datacollection.Application.main(Application.java:9) ~[classes!/:0.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n\n2019-10-07 15:42:04.436  WARN 32036 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRequestResponseController': Unsatisfied dependency expressed through field 'userRequestResponseRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRequestResponseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\n2019-10-07 15:42:04.436  INFO 32036 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2019-10-07 15:42:04.438  INFO 32036 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2019-10-07 15:42:05.119  INFO 32036 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2019-10-07 15:42:05.121  INFO 32036 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2019-10-07 15:42:05.132  INFO 32036 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-10-07 15:42:05.134 ERROR 32036 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRequestResponseController': Unsatisfied dependency expressed through field 'userRequestResponseRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRequestResponseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n    at com.abc.datacollection.Application.main(Application.java:9) ~[classes!/:0.1.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[data-collection-web-service-0.1.0.jar:0.1.0]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[data-collection-web-service-0.1.0.jar:0.1.0]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRequestResponseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.abc.datacollection.dao.UserRequestResponseRepository.findAllProjectedBy()!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1251) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1171) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n</code></pre>\n\n<p>The error started coming after I tried putting sys_created_on in the SQL query. It's type in the Database is DateTime. \nPlease help me out here. TIA.\nAlso, had to delete some of the stack trace.</p>\n"},{"tags":["java","reactjs","stripe-payments","plaid"],"answers":[{"comments":[{"owner":{"account_id":498262,"reputation":1360,"user_id":1533263,"display_name":"Alex"},"score":0,"creation_date":1693243738,"post_id":76994786,"comment_id":135731957,"body_markdown":"Stripe&#39;s marked the Plaid integration as deprecated, but it&#39;s still active and supported. The fact that the token is through Plaid doesn&#39;t mean it&#39;s old.","body":"Stripe&#39;s marked the Plaid integration as deprecated, but it&#39;s still active and supported. The fact that the token is through Plaid doesn&#39;t mean it&#39;s old."}],"tags":[],"owner":{"account_id":29251325,"reputation":1013,"user_id":22410625,"display_name":"Lucky2501"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693242714,"creation_date":1693242714,"answer_id":76994786,"question_id":76994600,"body_markdown":"You can&#39;t.\r\n\r\nCheckout (which is the system Pricing Tables run on) will only prefill saved cards*.  \r\nEverything else will be collected each time.  \r\n\r\nDoesn&#39;t help that your ACH tokens are quite old if they were tokenized through Plaid, that&#39;s been deprecated for a while.  \r\nYour Pricing Tables will be collecting them as Payment Methods now.\r\n\r\nIf you want to charge your saved tokens without collecting them again, it&#39;s possible, but not through Checkout. You&#39;d want to create your Susbcriptions from the backend directly with `off_session=true`:  \r\nhttps://stripe.com/docs/api/subscriptions/create#create_subscription-off_session\r\n\r\n*Specifically, these cards would need to be Payment Method objects with an `email`, `name` and `country` value.","title":"Stripe subscription with plaid integration for ACH payment","body":"<p>You can't.</p>\n<p>Checkout (which is the system Pricing Tables run on) will only prefill saved cards*.<br />\nEverything else will be collected each time.</p>\n<p>Doesn't help that your ACH tokens are quite old if they were tokenized through Plaid, that's been deprecated for a while.<br />\nYour Pricing Tables will be collecting them as Payment Methods now.</p>\n<p>If you want to charge your saved tokens without collecting them again, it's possible, but not through Checkout. You'd want to create your Susbcriptions from the backend directly with <code>off_session=true</code>:<br />\n<a href=\"https://stripe.com/docs/api/subscriptions/create#create_subscription-off_session\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/subscriptions/create#create_subscription-off_session</a></p>\n<p>*Specifically, these cards would need to be Payment Method objects with an <code>email</code>, <code>name</code> and <code>country</code> value.</p>\n"}],"owner":{"account_id":16217112,"reputation":334,"user_id":11709663,"display_name":"Sabu Shakya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693242714,"creation_date":1693240729,"question_id":76994600,"body_markdown":"I&#39;m trying to add subscription to my application using Stripe. I&#39;m trying to integrate Stripe using its low code [pricing table](https://stripe.com/docs/payments/checkout/pricing-table). I already have few users in my system and their bank accounts have been verified through Plaid. I want the users to subscribe and make payments through their bank accounts. As, the accounts are already verified through Plaid, in the Stripe&#39;s checkout part I want to be able to select the bank accounts through Plaid. \r\nIs there a way to integrate plaid in Stripe&#39;s checkout?\r\nOr, can the payment part be removed from the pricing table?\r\n\r\nI&#39;ve gone through some of the related questions but haven&#39;t got the answers to my questions.\r\nhttps://stackoverflow.com/questions/52689183/stripe-to-collect-recurring-ach-payments-with-plaid-verification\r\n\r\nhttps://stackoverflow.com/questions/71698094/how-to-create-ach-payments-using-stripe-and-plaid","title":"Stripe subscription with plaid integration for ACH payment","body":"<p>I'm trying to add subscription to my application using Stripe. I'm trying to integrate Stripe using its low code <a href=\"https://stripe.com/docs/payments/checkout/pricing-table\" rel=\"nofollow noreferrer\">pricing table</a>. I already have few users in my system and their bank accounts have been verified through Plaid. I want the users to subscribe and make payments through their bank accounts. As, the accounts are already verified through Plaid, in the Stripe's checkout part I want to be able to select the bank accounts through Plaid.\nIs there a way to integrate plaid in Stripe's checkout?\nOr, can the payment part be removed from the pricing table?</p>\n<p>I've gone through some of the related questions but haven't got the answers to my questions.\n<a href=\"https://stackoverflow.com/questions/52689183/stripe-to-collect-recurring-ach-payments-with-plaid-verification\">Stripe to collect recurring ACH payments with Plaid verification</a></p>\n<p><a href=\"https://stackoverflow.com/questions/71698094/how-to-create-ach-payments-using-stripe-and-plaid\">How to create ACH Payments Using Stripe and Plaid?</a></p>\n"},{"tags":["java","pdf","itext"],"answers":[{"comments":[{"owner":{"account_id":17479236,"reputation":33,"user_id":12673453,"display_name":"raj"},"score":0,"creation_date":1693242306,"post_id":76994661,"comment_id":135731722,"body_markdown":"thanks @karsten, i have changed this line - PdfReader reader = new PdfReader(new FileInputStream(originalFile)); by storing stream in another variable and closing this stream at the end. appreciate the insight.","body":"thanks @karsten, i have changed this line - PdfReader reader = new PdfReader(new FileInputStream(originalFile)); by storing stream in another variable and closing this stream at the end. appreciate the insight."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693241414,"creation_date":1693241414,"answer_id":76994661,"question_id":76994640,"body_markdown":"You&#39;re not closing the input stream for your original file.","title":"unable to delete pdf created by using itext in java","body":"<p>You're not closing the input stream for your original file.</p>\n"},{"tags":[],"owner":{"account_id":25728677,"reputation":29,"user_id":19484558,"display_name":"firapinch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693242603,"creation_date":1693242603,"answer_id":76994771,"question_id":76994640,"body_markdown":"The issue might stem from not properly closing the PdfReader. Wrap the PdfReader instantiation and the loop in a try-finally block to ensure closing, even in case of an exception:\r\n\r\n    PdfReader reader = new PdfReader(new FileInputStream(originalFile));\r\n    try {\r\n        for (int i = 0; i &lt; reader.getNumberOfPages(); i++) {\r\n            // Your code for page processing...\r\n        }\r\n    } finally {\r\n        reader.close();\r\n    }\r\n\r\nAdditionally, ensure that you&#39;re correctly closing other resources such as duplicateDocument, writer, and outputStream.","title":"unable to delete pdf created by using itext in java","body":"<p>The issue might stem from not properly closing the PdfReader. Wrap the PdfReader instantiation and the loop in a try-finally block to ensure closing, even in case of an exception:</p>\n<pre><code>PdfReader reader = new PdfReader(new FileInputStream(originalFile));\ntry {\n    for (int i = 0; i &lt; reader.getNumberOfPages(); i++) {\n        // Your code for page processing...\n    }\n} finally {\n    reader.close();\n}\n</code></pre>\n<p>Additionally, ensure that you're correctly closing other resources such as duplicateDocument, writer, and outputStream.</p>\n"}],"owner":{"account_id":17479236,"reputation":33,"user_id":12673453,"display_name":"raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76994661,"answer_count":2,"score":0,"last_activity_date":1693242603,"creation_date":1693241207,"question_id":76994640,"body_markdown":"I&#39;m creating a duplicate pdf by taking an input pdf by adding some pic to header. i&#39;m able to create the result pdf successfully i.e., duplicate pdf, but after creating this pdf, while trying to delete the original one i&#39;m facing exception saying - file is being used by another process. Am i missing something? \r\n\r\n    public File createDuplicatePDF(String originalFile, String uploadFolder) throws DocumentException, IOException {\r\n        File signature = new File(&quot;C:\\\\WORK\\\\Signature.bmp&quot;);\r\n        File duplicateFile = new File(uploadFolder+&quot;asds.pdf&quot;);\r\n        BufferedOutputStream outputStream = new BufferedOutputStream(Files.newOutputStream(duplicateFile.toPath()));\r\n        Document duplicateDocument = new Document(PageSize.A4);\r\n        PdfWriter writer = PdfWriter.getInstance(duplicateDocument, outputStream);\r\n        duplicateDocument.open();\r\n        String duplicatePdfMessage = &quot;asd&quot;;\r\n        PdfPTable duplicateHeaderTable = new PdfPTable(2);\r\n        // Set table width\r\n        duplicateHeaderTable.setWidthPercentage(100);\r\n        // Set relative cell widths\r\n        duplicateHeaderTable.setWidths(new int[]{3, 1});\r\n\r\n        PdfPCell cell;\r\n\r\n        Font font = new Font();\r\n        font.setColor(BaseColor.BLACK);\r\n\r\n        Paragraph paragraph = new Paragraph(duplicatePdfMessage, font);\r\n\r\n        cell = new PdfPCell(paragraph);\r\n        cell.setBorder(0);\r\n        duplicateHeaderTable.addCell(cell);\r\n\r\n        Image signatureImage = Image.getInstance(signature.getPath());\r\n        signatureImage.scaleToFit(100F, 50F);\r\n\r\n        cell = new PdfPCell(signatureImage);\r\n        cell.setBorder(0);\r\n        cell.setPaddingLeft(2);\r\n        cell.setPaddingBottom(2);\r\n        cell.setHorizontalAlignment(Element.ALIGN_CENTER);\r\n        duplicateHeaderTable.addCell(cell);\r\n        PdfReader reader = new PdfReader(new FileInputStream(originalFile));\r\n        for (int i = 0; i &lt; reader.getNumberOfPages(); i++) {\r\n\r\n            duplicateDocument.add(duplicateHeaderTable);\r\n\r\n            PdfImportedPage page = writer.getImportedPage(reader, i + 1);\r\n            Image image = Image.getInstance(page);\r\n            image.scalePercent(85F);\r\n            image.setBorder(Rectangle.BOX);\r\n            image.setBorderWidth(3F);\r\n            image.setBorderColor(new GrayColor(0.5F));\r\n            image.setAlignment(Element.ALIGN_CENTER);\r\n\r\n            duplicateDocument.add(image);\r\n\r\n            if (i &lt; reader.getNumberOfPages()) {\r\n                duplicateDocument.newPage();\r\n            }\r\n        }\r\n        reader.close();\r\n\r\n        outputStream.flush();\r\n        duplicateDocument.close();\r\n        writer.flush();\r\n        writer.close();\r\n        outputStream.close();\r\n        return duplicateFile;\r\n    }","title":"unable to delete pdf created by using itext in java","body":"<p>I'm creating a duplicate pdf by taking an input pdf by adding some pic to header. i'm able to create the result pdf successfully i.e., duplicate pdf, but after creating this pdf, while trying to delete the original one i'm facing exception saying - file is being used by another process. Am i missing something?</p>\n<pre><code>public File createDuplicatePDF(String originalFile, String uploadFolder) throws DocumentException, IOException {\n    File signature = new File(&quot;C:\\\\WORK\\\\Signature.bmp&quot;);\n    File duplicateFile = new File(uploadFolder+&quot;asds.pdf&quot;);\n    BufferedOutputStream outputStream = new BufferedOutputStream(Files.newOutputStream(duplicateFile.toPath()));\n    Document duplicateDocument = new Document(PageSize.A4);\n    PdfWriter writer = PdfWriter.getInstance(duplicateDocument, outputStream);\n    duplicateDocument.open();\n    String duplicatePdfMessage = &quot;asd&quot;;\n    PdfPTable duplicateHeaderTable = new PdfPTable(2);\n    // Set table width\n    duplicateHeaderTable.setWidthPercentage(100);\n    // Set relative cell widths\n    duplicateHeaderTable.setWidths(new int[]{3, 1});\n\n    PdfPCell cell;\n\n    Font font = new Font();\n    font.setColor(BaseColor.BLACK);\n\n    Paragraph paragraph = new Paragraph(duplicatePdfMessage, font);\n\n    cell = new PdfPCell(paragraph);\n    cell.setBorder(0);\n    duplicateHeaderTable.addCell(cell);\n\n    Image signatureImage = Image.getInstance(signature.getPath());\n    signatureImage.scaleToFit(100F, 50F);\n\n    cell = new PdfPCell(signatureImage);\n    cell.setBorder(0);\n    cell.setPaddingLeft(2);\n    cell.setPaddingBottom(2);\n    cell.setHorizontalAlignment(Element.ALIGN_CENTER);\n    duplicateHeaderTable.addCell(cell);\n    PdfReader reader = new PdfReader(new FileInputStream(originalFile));\n    for (int i = 0; i &lt; reader.getNumberOfPages(); i++) {\n\n        duplicateDocument.add(duplicateHeaderTable);\n\n        PdfImportedPage page = writer.getImportedPage(reader, i + 1);\n        Image image = Image.getInstance(page);\n        image.scalePercent(85F);\n        image.setBorder(Rectangle.BOX);\n        image.setBorderWidth(3F);\n        image.setBorderColor(new GrayColor(0.5F));\n        image.setAlignment(Element.ALIGN_CENTER);\n\n        duplicateDocument.add(image);\n\n        if (i &lt; reader.getNumberOfPages()) {\n            duplicateDocument.newPage();\n        }\n    }\n    reader.close();\n\n    outputStream.flush();\n    duplicateDocument.close();\n    writer.flush();\n    writer.close();\n    outputStream.close();\n    return duplicateFile;\n}\n</code></pre>\n"},{"tags":["java","mysql","sql","hibernate"],"comments":[{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1445144289,"post_id":33194384,"comment_id":54194431,"body_markdown":"do you&#39;ve the mapping XML at that location? also just add `&lt;mapping  resource=&quot;com/simpleprogrammer/User.hbm.xml&quot;/&gt;` in cfg file","body":"do you&#39;ve the mapping XML at that location? also just add <code>&lt;mapping  resource=&quot;com&#47;simpleprogrammer&#47;User.hbm.xml&quot;&#47;&gt;</code> in cfg file"},{"owner":{"account_id":1676953,"reputation":642,"user_id":1542248,"accept_rate":51,"display_name":"LinhSaysHi"},"score":0,"creation_date":1445144630,"post_id":33194384,"comment_id":54194498,"body_markdown":"Yes I am sure that the XML is at that location. I have also added a mapping tag just for the resource","body":"Yes I am sure that the XML is at that location. I have also added a mapping tag just for the resource"},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1445145643,"post_id":33194384,"comment_id":54194674,"body_markdown":"I don&#39;t have the setup :( could you try with forwarding slash in the path ex `/com/simpleprogrammer/User.hbm.xml`","body":"I don&#39;t have the setup :( could you try with forwarding slash in the path ex <code>&#47;com&#47;simpleprogrammer&#47;User.hbm.xml</code>"},{"owner":{"account_id":1676953,"reputation":642,"user_id":1542248,"accept_rate":51,"display_name":"LinhSaysHi"},"score":0,"creation_date":1445149516,"post_id":33194384,"comment_id":54195345,"body_markdown":"yes i have tried this too","body":"yes i have tried this too"},{"owner":{"account_id":1676953,"reputation":642,"user_id":1542248,"accept_rate":51,"display_name":"LinhSaysHi"},"score":0,"creation_date":1445150193,"post_id":33194384,"comment_id":54195462,"body_markdown":"Could this be a database issue?","body":"Could this be a database issue?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1445151241,"post_id":33194384,"comment_id":54195696,"body_markdown":"If the tutorial still teaches XML-based mapping instead of annotations, it&#39;s completely obsolete. Find another tutorial.","body":"If the tutorial still teaches XML-based mapping instead of annotations, it&#39;s completely obsolete. Find another tutorial."},{"owner":{"account_id":1676953,"reputation":642,"user_id":1542248,"accept_rate":51,"display_name":"LinhSaysHi"},"score":1,"creation_date":1445180390,"post_id":33194384,"comment_id":54203655,"body_markdown":"My work is using XML-based mapping, so this is not possible","body":"My work is using XML-based mapping, so this is not possible"},{"owner":{"account_id":1676953,"reputation":642,"user_id":1542248,"accept_rate":51,"display_name":"LinhSaysHi"},"score":0,"creation_date":1445183155,"post_id":33194384,"comment_id":54204540,"body_markdown":"However, I would like to test using the annotation based way. How would these files look like Annotated. From what I have seen, there is only few differences","body":"However, I would like to test using the annotation based way. How would these files look like Annotated. From what I have seen, there is only few differences"},{"owner":{"account_id":4183173,"reputation":1162,"user_id":3427540,"accept_rate":45,"display_name":"user3427540"},"score":0,"creation_date":1446135509,"post_id":33194384,"comment_id":54628407,"body_markdown":"@LinhSaysHi : Have you resolved this issue? I am also getting the same error , Please help.","body":"@LinhSaysHi : Have you resolved this issue? I am also getting the same error , Please help."}],"answers":[{"tags":[],"owner":{"account_id":6896489,"reputation":51,"user_id":5298264,"display_name":"johncus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445183930,"creation_date":1445183930,"answer_id":33200016,"question_id":33194384,"body_markdown":"I used your example and was able to get it to work with a few minor tweaks.\r\n\r\nVerified that User.hbm.xml was located in src/main/resources/com/simpleprogrammer. Changed to lowercase `table=&quot;users&quot;` \r\n\r\nThen in hibernate.cfg.xml:\r\n\r\n1. removed the ` name=&quot;&quot; ` attribute from session-factory.\r\n2. added a ` &lt;property name=&quot;hibernate.connection.password&quot;&gt;SomePassword&lt;/property&gt;\r\n`\r\n3. added ` &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;   `\r\n\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>I used your example and was able to get it to work with a few minor tweaks.</p>\n\n<p>Verified that User.hbm.xml was located in src/main/resources/com/simpleprogrammer. Changed to lowercase <code>table=\"users\"</code> </p>\n\n<p>Then in hibernate.cfg.xml:</p>\n\n<ol>\n<li>removed the <code>name=\"\"</code> attribute from session-factory.</li>\n<li>added a <code>&lt;property name=\"hibernate.connection.password\"&gt;SomePassword&lt;/property&gt;\n</code></li>\n<li>added <code>&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7247466,"reputation":21,"user_id":5528931,"display_name":"user5528931"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446722858,"creation_date":1446721722,"answer_id":33543036,"question_id":33194384,"body_markdown":"Please check the schema name that you created in MySQL and the one specied in hibernate.cfg file.It was mismatching for me and i was getting same issue.\r\n\r\nAlso modify connection url like below and remove the default schema field from hibernate.cfg.\r\n&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/protein_tracker&lt;/property&gt;\r\n\r\nthis worked for me.","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>Please check the schema name that you created in MySQL and the one specied in hibernate.cfg file.It was mismatching for me and i was getting same issue.</p>\n\n<p>Also modify connection url like below and remove the default schema field from hibernate.cfg.\njdbc:mysql://localhost:3306/protein_tracker</p>\n\n<p>this worked for me.</p>\n"},{"comments":[{"owner":{"account_id":6645822,"reputation":72,"user_id":5142300,"accept_rate":40,"display_name":"srinivas"},"score":0,"creation_date":1495476270,"post_id":35587813,"comment_id":75257933,"body_markdown":"Thanks Coli your solution worked like a charm.But how can I check the same?I mean how can I downgrade my hibernate version to 4 and check like you.If I know this process I can solve my bugs due to versioning issues in future.Thanks in advance..","body":"Thanks Coli your solution worked like a charm.But how can I check the same?I mean how can I downgrade my hibernate version to 4 and check like you.If I know this process I can solve my bugs due to versioning issues in future.Thanks in advance.."},{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":1,"creation_date":1495480416,"post_id":35587813,"comment_id":75260200,"body_markdown":"Well if you use Maven you can just specify the version you want in the pom.xml.","body":"Well if you use Maven you can just specify the version you want in the pom.xml."}],"tags":[],"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1456260535,"creation_date":1456260344,"answer_id":35587813,"question_id":33194384,"body_markdown":"LinhSaysHi, I&#39;ve executed your code with Hibernate 5 and I have the exact same error.\r\nI&#39;ve executed it with Hibernate 4 and there is no problem.\r\n\r\nThe tutorial on Pluralsight has been created for Hibernate 4.\r\nHere is a session factory builder that works with Hibernate 5:\r\n\r\n    public class HibernateUtilities_5 {\r\n    \r\n        private static final SessionFactory sessionFactory = buildSessionFactory();\r\n        \r\n        private static SessionFactory buildSessionFactory() {\r\n        \ttry {\r\n        \t\tStandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\r\n        \t\t\t\t.configure(&quot;hibernate.cfg.xml&quot;).build();\r\n        \t\tMetadata metadata = new MetadataSources(standardRegistry).getMetadataBuilder().build();\r\n        \t\treturn metadata.getSessionFactoryBuilder().build();\r\n        \r\n        \t} catch (HibernateException he) {\r\n        \t\tSystem.out.println(&quot;Session Factory creation failure&quot;);\r\n        \t\tthrow he;\r\n        \t}\r\n        }\r\n        \r\n        public static SessionFactory getSessionFactory() {\r\n        \treturn sessionFactory;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>LinhSaysHi, I've executed your code with Hibernate 5 and I have the exact same error.\nI've executed it with Hibernate 4 and there is no problem.</p>\n\n<p>The tutorial on Pluralsight has been created for Hibernate 4.\nHere is a session factory builder that works with Hibernate 5:</p>\n\n<pre><code>public class HibernateUtilities_5 {\n\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory() {\n        try {\n            StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\n                    .configure(\"hibernate.cfg.xml\").build();\n            Metadata metadata = new MetadataSources(standardRegistry).getMetadataBuilder().build();\n            return metadata.getSessionFactoryBuilder().build();\n\n        } catch (HibernateException he) {\n            System.out.println(\"Session Factory creation failure\");\n            throw he;\n        }\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7724207,"reputation":71,"user_id":5849400,"display_name":"Deepak"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1471658803,"creation_date":1471658803,"answer_id":39049792,"question_id":33194384,"body_markdown":"I also faced the same error while trying it out with Hibernate 5.1.1. But I resolved it by replacing ServiceRegistry interface with StandardServiceRegistryBuilder and used &quot;metadatasources&quot; to create session factory. Please see my code below\r\n\r\n    static\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//Configuration configuration = new Configuration().configure();\r\n\t\t\tstandardServiceRegistry = new StandardServiceRegistryBuilder().configure(&quot;hibernate.cfg.xml&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.build();\r\n\t\t\tMetadata metadata = new MetadataSources(standardServiceRegistry)\r\n\t\t\t\t\t\t\t\t\t.getMetadataBuilder().build();\r\n\t\t\tsessionFactory = metadata.getSessionFactoryBuilder().build();\r\n\t\t\t\r\n\t\t}catch(HibernateException exception)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;problem creating session factory!&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static SessionFactory getSessionFactory(){\r\n\t\t\r\n\t\treturn sessionFactory;\r\n\t}\r\n\r\nI made these changes and it worked like a charm.\r\nplease make changes in your code to the way you load the configuration file and try it again. Let me know if you still face hurdles.","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>I also faced the same error while trying it out with Hibernate 5.1.1. But I resolved it by replacing ServiceRegistry interface with StandardServiceRegistryBuilder and used \"metadatasources\" to create session factory. Please see my code below</p>\n\n<pre><code>static\n{\n    try\n    {\n        //Configuration configuration = new Configuration().configure();\n        standardServiceRegistry = new StandardServiceRegistryBuilder().configure(\"hibernate.cfg.xml\")\n                                    .build();\n        Metadata metadata = new MetadataSources(standardServiceRegistry)\n                                .getMetadataBuilder().build();\n        sessionFactory = metadata.getSessionFactoryBuilder().build();\n\n    }catch(HibernateException exception)\n    {\n        System.out.println(\"problem creating session factory!\");\n    }\n}\n\npublic static SessionFactory getSessionFactory(){\n\n    return sessionFactory;\n}\n</code></pre>\n\n<p>I made these changes and it worked like a charm.\nplease make changes in your code to the way you load the configuration file and try it again. Let me know if you still face hurdles.</p>\n"},{"tags":[],"owner":{"account_id":4907049,"reputation":31,"user_id":3953495,"display_name":"kanwar prince raghav"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499941706,"creation_date":1499941706,"answer_id":45077991,"question_id":33194384,"body_markdown":"Change the code as per Hibernate 5\r\n\r\n        static\r\n\t    {\r\n\t\t    try {\r\n\t\t\t    //Configuration configuration = new Configuration().configure();\r\n\t            serviceRegistry = new \r\n                StandardServiceRegistryBuilder().configure(&quot;hibernate.cfg.xml&quot;)\r\n\t                                        .build();\r\n\t            Metadata metadata = new MetadataSources(serviceRegistry)\r\n\t                                .getMetadataBuilder().build();\r\n\t            sessionFactory = metadata.getSessionFactoryBuilder().build();\t\r\n\t     \t} catch (Exception e) {\r\n\t\t    \t// TODO: handle exception\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n\t    }\r\n\t    public static SessionFactory getSessionFactory() {\r\n\t\treturn sessionFactory;\r\n\t    }\r\n\r\ngive the\r\ngive full class path in user.hbm.xml\r\n\r\n         &lt;class name=&quot;com.simpleprogrammer.Users&quot; table=&quot;USERS&quot;&gt;\r\n\r\nmap the resource in hibernate.cfg.xml\r\n\r\n          &lt;mapping resource=&quot;com/simpleprogrammer/Users.hbm.xml&quot;/&gt;\r\nand execute the following code\r\n\r\n        Session session = HibernateUtilities.getSessionFactory().openSession();\r\n\t\t\r\n\t\tsession.beginTransaction();\r\n\t\t\r\n\t\tUsers user = new Users();\r\n\t\t\r\n\t\tuser.setuserName(&quot;Prince&quot;);\r\n\t\tuser.setGoal(100);\r\n\t\tuser.setId(101);\r\n\t\tuser.setTotal(10);\r\n\t\t\r\n\t\tsession.save(user);\r\n\t\t\r\n\t\tsession.getTransaction().commit(); \r\n\t\tsession.close();\r\n\t\tHibernateUtilities.getSessionFactory().close();","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>Change the code as per Hibernate 5</p>\n\n<pre><code>    static\n    {\n        try {\n            //Configuration configuration = new Configuration().configure();\n            serviceRegistry = new \n            StandardServiceRegistryBuilder().configure(\"hibernate.cfg.xml\")\n                                        .build();\n            Metadata metadata = new MetadataSources(serviceRegistry)\n                                .getMetadataBuilder().build();\n            sessionFactory = metadata.getSessionFactoryBuilder().build();   \n        } catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n    }\n    public static SessionFactory getSessionFactory() {\n    return sessionFactory;\n    }\n</code></pre>\n\n<p>give the\ngive full class path in user.hbm.xml</p>\n\n<pre><code>     &lt;class name=\"com.simpleprogrammer.Users\" table=\"USERS\"&gt;\n</code></pre>\n\n<p>map the resource in hibernate.cfg.xml</p>\n\n<pre><code>      &lt;mapping resource=\"com/simpleprogrammer/Users.hbm.xml\"/&gt;\n</code></pre>\n\n<p>and execute the following code</p>\n\n<pre><code>    Session session = HibernateUtilities.getSessionFactory().openSession();\n\n    session.beginTransaction();\n\n    Users user = new Users();\n\n    user.setuserName(\"Prince\");\n    user.setGoal(100);\n    user.setId(101);\n    user.setTotal(10);\n\n    session.save(user);\n\n    session.getTransaction().commit(); \n    session.close();\n    HibernateUtilities.getSessionFactory().close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10326101,"reputation":968,"user_id":7617526,"display_name":"ABODE"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560764349,"creation_date":1560764349,"answer_id":56628633,"question_id":33194384,"body_markdown":"The mapping is having a little issue. Make sure the path you specified is correct.\r\nWhen i had same issue, i only re-modified my mapping in the hibernate.cfg.xml to\r\n \r\n\r\n    &lt;mapping class=&quot;com.simpleprogrammer.User&quot;/&gt;\r\n\r\nOther attribute like resource were not added\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>The mapping is having a little issue. Make sure the path you specified is correct.\nWhen i had same issue, i only re-modified my mapping in the hibernate.cfg.xml to</p>\n\n<pre><code>&lt;mapping class=\"com.simpleprogrammer.User\"/&gt;\n</code></pre>\n\n<p>Other attribute like resource were not added</p>\n"},{"tags":[],"owner":{"account_id":15479564,"reputation":1,"user_id":11167277,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561751770,"creation_date":1561751770,"answer_id":56812554,"question_id":33194384,"body_markdown":"there is problem with Hibernate jars...\r\nhere i can see u are using the Hibernate 4....for developing the project... \r\nso add the hibernate 4.3.5 jar it should work.........\r\n\r\nif u are not working with metadata than better to use hibernate 4.3 jar\r\n\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>there is problem with Hibernate jars...\nhere i can see u are using the Hibernate 4....for developing the project... \nso add the hibernate 4.3.5 jar it should work.........</p>\n\n<p>if u are not working with metadata than better to use hibernate 4.3 jar</p>\n"},{"tags":[],"owner":{"account_id":27008839,"reputation":1,"user_id":20568837,"display_name":"Minakshi Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669092468,"creation_date":1669092468,"answer_id":74527620,"question_id":33194384,"body_markdown":"The easy solution is, when you create SessionFactory object, just check your HibernateUtil class which you have created. Write correct hibernateUtility class and import correct package. If you have created multiple src packages in single project then keep packages name for hibernateutility class different.\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>The easy solution is, when you create SessionFactory object, just check your HibernateUtil class which you have created. Write correct hibernateUtility class and import correct package. If you have created multiple src packages in single project then keep packages name for hibernateutility class different.</p>\n"},{"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1677500368,"post_id":75537393,"comment_id":133343503,"body_markdown":"Please don&#39;t post code images or bugs if possible, copy your code or code error into answer with block code format. Please take the tour and read How to Answer: https://stackoverflow.com/help/how-to-answer","body":"Please don&#39;t post code images or bugs if possible, copy your code or code error into answer with block code format. Please take the tour and read How to Answer: <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}],"tags":[],"owner":{"account_id":25402002,"reputation":1,"user_id":19211317,"display_name":"Harshana Jayaweera"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677500398,"creation_date":1677094487,"answer_id":75537393,"question_id":33194384,"body_markdown":"Try this method for this problem:\r\n\r\n 1. In Entity Class use the **annotations** like this\r\n[Annotations][1]\r\n 2. Make Sure That **FactoryConfiguration class** is like this\r\n[FactoryConfiguration Class][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EmsUU.png\r\n  [2]: https://i.stack.imgur.com/UtGsu.png","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>Try this method for this problem:</p>\n<ol>\n<li>In Entity Class use the <strong>annotations</strong> like this\n<a href=\"https://i.stack.imgur.com/EmsUU.png\" rel=\"nofollow noreferrer\">Annotations</a></li>\n<li>Make Sure That <strong>FactoryConfiguration class</strong> is like this\n<a href=\"https://i.stack.imgur.com/UtGsu.png\" rel=\"nofollow noreferrer\">FactoryConfiguration Class</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693388965,"post_id":76990588,"comment_id":135753110,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76990588/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29312371,"reputation":1,"user_id":22457824,"display_name":"Nandhini Nadar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693205648,"creation_date":1693205648,"answer_id":76990588,"question_id":33194384,"body_markdown":"for this issue the simple solution is to make sure that,\r\nyou need to update correctly in cfg.xml file\r\n1.mapping should be done correctly as package.className.\r\n2.Make sure you make th pojo class as **@Entity**\r\n","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>for this issue the simple solution is to make sure that,\nyou need to update correctly in cfg.xml file\n1.mapping should be done correctly as package.className.\n2.Make sure you make th pojo class as <strong>@Entity</strong></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693401992,"post_id":76994740,"comment_id":135755984,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76994740/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29316253,"reputation":1,"user_id":22460946,"display_name":"MOHIT AGARWAL"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693242300,"creation_date":1693242300,"answer_id":76994740,"question_id":33194384,"body_markdown":"I faced the same problem what fixed my problem is I\r\nused method ***.addAnnotatedClass(&quot;ClassName&quot;.class)**\r\nExample`SessionFactory factory = new Configuration().configure().addAnnotatedClass(Students.class).buildSessionFactory();`*\r\nI hope this will work.","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>I faced the same problem what fixed my problem is I\nused method <em><strong>.addAnnotatedClass(&quot;ClassName&quot;.class)</strong>\nExample<code>SessionFactory factory = new Configuration().configure().addAnnotatedClass(Students.class).buildSessionFactory();</code></em>\nI hope this will work.</p>\n"}],"owner":{"account_id":1676953,"reputation":642,"user_id":1542248,"accept_rate":51,"display_name":"LinhSaysHi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":11,"score":1,"last_activity_date":1693242300,"creation_date":1445143537,"question_id":33194384,"body_markdown":"Going through the &quot;Introduction to Hibernate&quot; tutorials on PluralSight. I have this exception error. The full error being:\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity: com.simpleprogrammer.User\r\n    \tat org.hibernate.internal.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:776)\r\n    \tat org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1451)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:100)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\r\n    \tat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\r\n    \tat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\r\n    \tat org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:678)\r\n    \tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:670)\r\n    \tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:665)\r\n    \tat com.simpleprogrammer.Program.main(Program.java:15)\r\n\r\nNot sure what is wrong. I created the User.java pojo. I created a the table that matched the pojo. I created the mapping and then added the mapping to the hibernate.cfg.xml file. However, still getting the error. Can anyone help me through this?\r\n\r\nhibernate.cfg.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n                                             &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n     &lt;session-factory name=&quot;&quot;&gt;\r\n      &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.default_schema&quot;&gt;protein_tracker&lt;/property&gt;\r\n      &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n      &lt;mapping class=&quot;com.simpleprogrammer.User&quot; resource=&quot;com/simpleprogrammer/User.hbm.xml&quot;/&gt;\r\n     &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nProgram.java\r\n\r\n    public class Program {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Hello World!&quot;);\r\n    \t\tSession session = HibernateUtilities.getSessionFactory().openSession();\r\n    \t\tsession.beginTransaction();\r\n    \t\t\r\n    \t\tUser user = new User();\r\n    \t\tuser.setName(&quot;Joe&quot;);\r\n    \t\tuser.setGoal(250);\r\n    \t\tsession.save(user);\r\n    \t\t\r\n    \t\tsession.getTransaction().commit();\r\n    \t\tsession.close();\r\n    \t\tHibernateUtilities.getSessionFactory().close();\r\n    \t}\r\n    }\r\n\r\nUser.hbm.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;!-- Generated Oct 17, 2015 11:44:47 AM by Hibernate Tools 3.5.0.Final --&gt;\r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;com.simpleprogrammer.User&quot; table=&quot;USERS&quot;&gt;\r\n            &lt;id name=&quot;id&quot; type=&quot;int&quot;&gt;\r\n                &lt;column name=&quot;ID&quot; /&gt;\r\n                &lt;generator class=&quot;identity&quot; /&gt;\r\n            &lt;/id&gt;\r\n            &lt;property name=&quot;name&quot; type=&quot;java.lang.String&quot;&gt;\r\n                &lt;column name=&quot;NAME&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;total&quot; type=&quot;int&quot;&gt;\r\n                &lt;column name=&quot;TOTAL&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;goal&quot; type=&quot;int&quot;&gt;\r\n                &lt;column name=&quot;GOAL&quot; /&gt;\r\n            &lt;/property&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nUser.java\r\n\r\n    package com.simpleprogrammer;\r\n    \r\n    public class User {\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate int total;\r\n    \tprivate int goal;\r\n    \t\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic int getTotal() {\r\n    \t\treturn total;\r\n    \t}\r\n    \tpublic void setTotal(int total) {\r\n    \t\tthis.total = total;\r\n    \t}\r\n    \tpublic int getGoal() {\r\n    \t\treturn goal;\r\n    \t}\r\n    \tpublic void setGoal(int goal) {\r\n    \t\tthis.goal = goal;\r\n    \t}\r\n    }\r\n\r\nHibernateUtilities.java\r\n\r\n    package com.simpleprogrammer;\r\n    \r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.service.ServiceRegistry;\r\n    \r\n    public class HibernateUtilities {\r\n    \t\r\n    \tprivate static SessionFactory sessionFactory;\r\n    \tprivate static ServiceRegistry serviceRegistry;\r\n    \t\r\n    \tstatic {\r\n    \t\ttry {\r\n    \t\t\tConfiguration configuration = new Configuration().configure();\r\n    \t\t\t\r\n    \t\t\tserviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\r\n    \t\t\tsessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n    \t\t}\r\n    \t\tcatch(HibernateException exception) {\r\n    \t\t\tSystem.out.println(&quot;Problem creating session factory!&quot;);\r\n    \t\t}\t\r\n    \t}\r\n    \t\r\n    \tpublic static SessionFactory getSessionFactory() {\r\n    \t\treturn sessionFactory;\r\n    \t}\r\n    }","title":"Exception in thread &quot;main&quot; org.hibernate.MappingException: Unknown entity","body":"<p>Going through the \"Introduction to Hibernate\" tutorials on PluralSight. I have this exception error. The full error being:</p>\n\n<pre><code>Exception in thread \"main\" org.hibernate.MappingException: Unknown entity: com.simpleprogrammer.User\n    at org.hibernate.internal.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:776)\n    at org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1451)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:100)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\n    at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\n    at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\n    at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:678)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:670)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:665)\n    at com.simpleprogrammer.Program.main(Program.java:15)\n</code></pre>\n\n<p>Not sure what is wrong. I created the User.java pojo. I created a the table that matched the pojo. I created the mapping and then added the mapping to the hibernate.cfg.xml file. However, still getting the error. Can anyone help me through this?</p>\n\n<p>hibernate.cfg.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n                                         \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n &lt;session-factory name=\"\"&gt;\n  &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306&lt;/property&gt;\n  &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n  &lt;property name=\"hibernate.default_schema\"&gt;protein_tracker&lt;/property&gt;\n  &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n  &lt;mapping class=\"com.simpleprogrammer.User\" resource=\"com/simpleprogrammer/User.hbm.xml\"/&gt;\n &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Program.java</p>\n\n<pre><code>public class Program {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n        Session session = HibernateUtilities.getSessionFactory().openSession();\n        session.beginTransaction();\n\n        User user = new User();\n        user.setName(\"Joe\");\n        user.setGoal(250);\n        session.save(user);\n\n        session.getTransaction().commit();\n        session.close();\n        HibernateUtilities.getSessionFactory().close();\n    }\n}\n</code></pre>\n\n<p>User.hbm.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\"&gt;\n&lt;!-- Generated Oct 17, 2015 11:44:47 AM by Hibernate Tools 3.5.0.Final --&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name=\"com.simpleprogrammer.User\" table=\"USERS\"&gt;\n        &lt;id name=\"id\" type=\"int\"&gt;\n            &lt;column name=\"ID\" /&gt;\n            &lt;generator class=\"identity\" /&gt;\n        &lt;/id&gt;\n        &lt;property name=\"name\" type=\"java.lang.String\"&gt;\n            &lt;column name=\"NAME\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"total\" type=\"int\"&gt;\n            &lt;column name=\"TOTAL\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"goal\" type=\"int\"&gt;\n            &lt;column name=\"GOAL\" /&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>User.java</p>\n\n<pre><code>package com.simpleprogrammer;\n\npublic class User {\n    private int id;\n    private String name;\n    private int total;\n    private int goal;\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getTotal() {\n        return total;\n    }\n    public void setTotal(int total) {\n        this.total = total;\n    }\n    public int getGoal() {\n        return goal;\n    }\n    public void setGoal(int goal) {\n        this.goal = goal;\n    }\n}\n</code></pre>\n\n<p>HibernateUtilities.java</p>\n\n<pre><code>package com.simpleprogrammer;\n\nimport org.hibernate.HibernateException;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\n\npublic class HibernateUtilities {\n\n    private static SessionFactory sessionFactory;\n    private static ServiceRegistry serviceRegistry;\n\n    static {\n        try {\n            Configuration configuration = new Configuration().configure();\n\n            serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\n            sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n        }\n        catch(HibernateException exception) {\n            System.out.println(\"Problem creating session factory!\");\n        }   \n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","spring-mvc"],"comments":[{"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"score":0,"creation_date":1405379072,"post_id":24746825,"comment_id":38393851,"body_markdown":"It happens if the resource is not available. Can you post your Controller file and also let us know the url that you are trying to invoke","body":"It happens if the resource is not available. Can you post your Controller file and also let us know the url that you are trying to invoke"},{"owner":{"account_id":3378892,"reputation":590,"user_id":2836435,"accept_rate":73,"display_name":"SerhatCan"},"score":0,"creation_date":1405404155,"post_id":24746825,"comment_id":38400086,"body_markdown":"I added my controller which is very basic HelloWorldController and my url  which is localhost:8080/SpitterWebMaven","body":"I added my controller which is very basic HelloWorldController and my url  which is localhost:8080/SpitterWebMaven"},{"owner":{"account_id":2415277,"reputation":194,"user_id":2109446,"accept_rate":60,"display_name":"jjr4826"},"score":0,"creation_date":1462142444,"post_id":24746825,"comment_id":61501179,"body_markdown":"Same thing happened to me, just trying to get the http://www.tutorialspoint.com/spring/spring_mvc_hello_world_example.htm tutorial to work. Took an embarrassingly long time staring at 404s to discover what @SerhatCan figured out,  that in the &quot;Setting property &#39;source&#39; to &#39;org.eclipse.jst.j2ee.server:&lt;servlet-name&gt;&#39; &quot; warning, the app is now accessible form localhost:8080/&lt;servlet-name&gt;/hello. Will post back later if I figure anything out but I need to burn off some steam.","body":"Same thing happened to me, just trying to get the <a href=\"http://www.tutorialspoint.com/spring/spring_mvc_hello_world_example.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/spring/spring_mvc_hello_world_example.htm</a> tutorial to work. Took an embarrassingly long time staring at 404s to discover what @SerhatCan figured out,  that in the &quot;Setting property &#39;source&#39; to &#39;org.eclipse.jst.j2ee.server:&lt;servlet-name&gt;&#39; &quot; warning, the app is now accessible form localhost:8080/&lt;servlet-name&gt;/hello. Will post back later if I figure anything out but I need to burn off some steam."}],"answers":[{"tags":[],"owner":{"account_id":2415277,"reputation":194,"user_id":2109446,"accept_rate":60,"display_name":"jjr4826"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462208523,"creation_date":1462208523,"answer_id":36987742,"question_id":24746825,"body_markdown":"Not an answer to why or how this is happening, but there is a connection between (project properties --&gt; Web Project Settings --&gt; Context Root) and the root url of the dispatchServlet.\r\n\r\nTry:\r\n\r\n 1. Changing Context Root to &lt;something&gt; other than root url currently available (SpitterWebMaven), which should also be the Servers --&gt; Tomcat ... --&gt; server.xml Server.Service.Engine.Host.Context.path value  \r\n 2. clean the server and restart\r\n 3. You should now be able to access via the &lt;something&gt; base url also the server.xml Server.Service.Engine.Host.Context.path value should be changed to &lt;something&gt;\r\n","title":"Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server (404 Error)","body":"<p>Not an answer to why or how this is happening, but there is a connection between (project properties --> Web Project Settings --> Context Root) and the root url of the dispatchServlet.</p>\n\n<p>Try:</p>\n\n<ol>\n<li>Changing Context Root to  other than root url currently available (SpitterWebMaven), which should also be the Servers --> Tomcat ... --> server.xml Server.Service.Engine.Host.Context.path value  </li>\n<li>clean the server and restart</li>\n<li>You should now be able to access via the  base url also the server.xml Server.Service.Engine.Host.Context.path value should be changed to </li>\n</ol>\n"}],"owner":{"account_id":3378892,"reputation":590,"user_id":2836435,"accept_rate":73,"display_name":"SerhatCan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693242145,"creation_date":1405375676,"question_id":24746825,"body_markdown":"I have a Simple Spring Web Maven project. I&#39;m getting 404 error. I already looked at the following post: https://stackoverflow.com/questions/3566146/setting-property-source-to-org-eclipse-jst-jee-serverjsftut-did-not-find-a\r\nand https://stackoverflow.com/questions/4278009/warning-setting-property-source-to-org-eclipse-jst-jee-serverappname-did-n\r\n\r\nBoth of them saying that this is not an error and you can ignore it. They also say you need to specify your `localhost:8080/(aplication-context)`. \r\n\r\n**But I can not get rid of the 404 error and can&#39;t get any page**. I have tried also creating a web project without maven. Still can&#39;t figure it out. Please help me get through this.\r\n\r\nHere is my log:\r\n\r\n    Tem 15, 2014 12:58:57 AM org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files (x86)\\Java\\jdk1.7.0_60\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Broadcom\\Broadcom 802.11\\Driver;C:\\Program Files\\WIDCOMM\\Bluetooth Software\\;C:\\Program Files\\WIDCOMM\\Bluetooth Software\\syswow64;C:\\Program Files (x86)\\SSH Communications Security\\SSH Secure Shell;.\r\n    Tem 15, 2014 12:58:57 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Tem 15, 2014 12:58:57 AM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Tem 15, 2014 12:58:57 AM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 429 ms\r\n    Tem 15, 2014 12:58:57 AM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Tem 15, 2014 12:58:57 AM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.54\r\n    Tem 15, 2014 12:58:57 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    INFO: Deploying configuration descriptor C:\\Users\\Serhat Can\\workspace-spring\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\\Catalina\\localhost\\SpitterWebMaven.xml\r\n    Tem 15, 2014 12:58:57 AM org.apache.catalina.startup.SetContextPropertiesRule begin\r\n    WARNING: [SetContextPropertiesRule]{Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:SpitterWebMaven&#39; did not find a matching property.\r\n    Tem 15, 2014 12:58:58 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    INFO: Deployment of configuration descriptor C:\\Users\\Serhat Can\\workspace-spring\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\\Catalina\\localhost\\SpitterWebMaven.xml has finished in 85 ms\r\n    Tem 15, 2014 12:58:58 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Tem 15, 2014 12:58:58 AM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Tem 15, 2014 12:58:58 AM org.apache.catalina.startup.Catalina start\r\n    INFO: Server startup in 486 ms\r\n\r\n\r\nMy web.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n    http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n             id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n    \r\n        &lt;display-name&gt;SpitterWebMaven&lt;/display-name&gt;\r\n        \r\n       &lt;!--\r\n    \t\t- Location of the XML file that defines the root application context.\r\n    \t\t- Applied by ContextLoaderListener.\r\n    \t--&gt;\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;classpath:spring/application-config.xml&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n        \r\n        \r\n        &lt;!--\r\n    \t\t- Servlet that dispatches request to registered handlers (Controller implementations).\r\n    \t--&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                &lt;param-value&gt;/WEB-INF/mvc-config.xml&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n\r\nMy mvc-config.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n        &lt;!-- Uncomment and your base-package here: --&gt;\r\n             &lt;context:component-scan\r\n                base-package=&quot;com.spitter.webs.controller&quot;/&gt; \r\n    \r\n    \r\n        &lt;mvc:annotation-driven /&gt;\r\n    \r\n    \t&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t        &lt;!-- Example: a logical view name of &#39;showMessage&#39; is mapped to &#39;/WEB-INF/jsp/showMessage.jsp&#39; --&gt;\r\n    \t        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot;/&gt;\r\n    \t        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\n\r\n\r\nMy application-config.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n    \t\t http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n    \r\n    \t&lt;!-- Uncomment and add your base-package here: --&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.spitter.web&quot; /&gt;\r\n    \r\n    \r\n    \t &lt;bean id=&quot;emf&quot;\r\n                 class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n                 &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n                 &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;jpaVendorAdapter&quot; /&gt;\r\n                 &lt;property name=&quot;packagesToScan&quot; value=&quot;com.spitter.web.domain&quot;&gt;&lt;/property&gt;\r\n           &lt;/bean&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \t&lt;!-- data source to connect mysql db --&gt;\r\n    \t&lt;bean name=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/spring_jpa&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;bean id=&quot;jpaVendorAdapter&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t&lt;property name=&quot;database&quot; value=&quot;MYSQL&quot; /&gt;\r\n    \t\t&lt;property name=&quot;showSql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;generateDdl&quot; value=&quot;false&quot; /&gt;\r\n    \t\t&lt;property name=&quot;databasePlatform&quot; value=&quot;org.hibernate.dialect.MySQL5Dialect&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t\r\n    \t\r\n    \r\n    \r\n    \r\n    \r\n    \t&lt;!-- why do we need this! --&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt;\r\n    \r\n    \t&lt;!-- why do we need this! --&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot; /&gt;\r\n    \r\n    \t&lt;!-- why do we need this! --&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;emf&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\nFinally my pom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.springframework.samples.service.service&lt;/groupId&gt;\r\n      &lt;artifactId&gt;SpitterWebMaven&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      \r\n        &lt;properties&gt;\r\n    \r\n    \t\t&lt;!-- Generic properties --&gt;\r\n    \t\t&lt;java.version&gt;1.6&lt;/java.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t\r\n    \t\t\r\n                 &lt;!-- Web --&gt;\r\n    \r\n                 &lt;jsp.version&gt;2.2&lt;/jsp.version&gt;\r\n    \r\n                 &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\r\n    \r\n                 &lt;servlet.version&gt;2.5&lt;/servlet.version&gt;\r\n    \r\n     \r\n    \r\n     \r\n    \r\n                 &lt;!-- Spring --&gt;\r\n    \r\n                 &lt;spring-framework.version&gt;3.2.3.RELEASE&lt;/spring-framework.version&gt;\r\n    \r\n     \r\n    \r\n                 &lt;!-- Hibernate / JPA --&gt;\r\n    \r\n                 &lt;hibernate.version&gt;4.2.1.Final&lt;/hibernate.version&gt;\r\n    \r\n     \r\n    \r\n                 &lt;!-- Logging --&gt;\r\n    \r\n                 &lt;logback.version&gt;1.0.13&lt;/logback.version&gt;\r\n    \r\n                 &lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\r\n    \r\n     \r\n    \r\n                 &lt;!-- Test --&gt;\r\n    \r\n                 &lt;junit.version&gt;4.11&lt;/junit.version&gt;\r\n    \r\n     \r\n    \r\n           &lt;/properties&gt;\r\n    \r\n     \r\n    \r\n           &lt;dependencies&gt;\r\n    \r\n     \r\n    \r\n                 &lt;!-- Spring MVC --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;1&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;!-- Other Web dependencies --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${jstl.version}&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${servlet.version}&lt;/version&gt;\r\n    \r\n                        &lt;scope&gt;provided&lt;/scope&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${jsp.version}&lt;/version&gt;\r\n    \r\n                        &lt;scope&gt;provided&lt;/scope&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n     \r\n    \r\n                 &lt;!-- Spring and Transactions --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;!-- AspectJ --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;aspectjlib&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;1.6.2&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;1.8.1&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;!-- Logging with SLF4J &amp; LogBack --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n    \r\n                        &lt;scope&gt;compile&lt;/scope&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${logback.version}&lt;/version&gt;\r\n    \r\n                        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;!-- H2 --&gt;\r\n    \r\n                 &lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.h2database&lt;/groupId&gt; &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;1.4.179&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n    \r\n                 &lt;!-- MySql --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;5.1.31&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;!-- Hibernate --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;!-- Apache Commons --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;3.3.2&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;2.0.1&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n     \r\n    \r\n     \r\n    \r\n                 &lt;!-- Test Artifacts --&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n    \r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;${junit.version}&lt;/version&gt;\r\n    \r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;1.9.5&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n     \r\n    \r\n     \r\n    \r\n                 &lt;dependency&gt;\r\n    \r\n                        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \r\n                        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \r\n                        &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n    \r\n                 &lt;/dependency&gt;\r\n    \r\n           &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\n**--UPDATE--**\r\n\r\nMy hello controller (I try to use very basic controller to see if it works. Also, I have hello.jsp in WEB-INF-&gt;view):\r\n\r\n    @Controller\r\n    public class HelloWorldController {\r\n     \r\n        @RequestMapping(&quot;/hello&quot;)\r\n        public ModelAndView helloWorld() {\r\n     \r\n            String message = &quot;Hello World, Spring 3.0!&quot;;\r\n            return new ModelAndView(&quot;hello&quot;, &quot;message&quot;, message);\r\n        }\r\n    }\r\n\r\n\r\nI have tried lost of url&#39;s but here is the default URL that comes when I run the server. -&gt; `/SpitterWebMaven` in local\r\n\r\nAnother think that I want to add is when I first created the project run on server button was not displaying and I chose Java and Dynamic Web Project to see the run on server button after a research on how to do that.","title":"Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server (404 Error)","body":"<p>I have a Simple Spring Web Maven project. I'm getting 404 error. I already looked at the following post: <a href=\"https://stackoverflow.com/questions/3566146/setting-property-source-to-org-eclipse-jst-jee-serverjsftut-did-not-find-a\">Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:JSFTut&#39; did not find a matching property</a>\nand <a href=\"https://stackoverflow.com/questions/4278009/warning-setting-property-source-to-org-eclipse-jst-jee-serverappname-did-n\">WARNING: Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:appname&#39; did not find a matching property</a></p>\n\n<p>Both of them saying that this is not an error and you can ignore it. They also say you need to specify your <code>localhost:8080/(aplication-context)</code>. </p>\n\n<p><strong>But I can not get rid of the 404 error and can't get any page</strong>. I have tried also creating a web project without maven. Still can't figure it out. Please help me get through this.</p>\n\n<p>Here is my log:</p>\n\n<pre><code>Tem 15, 2014 12:58:57 AM org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files (x86)\\Java\\jdk1.7.0_60\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Broadcom\\Broadcom 802.11\\Driver;C:\\Program Files\\WIDCOMM\\Bluetooth Software\\;C:\\Program Files\\WIDCOMM\\Bluetooth Software\\syswow64;C:\\Program Files (x86)\\SSH Communications Security\\SSH Secure Shell;.\nTem 15, 2014 12:58:57 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8080\"]\nTem 15, 2014 12:58:57 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-bio-8009\"]\nTem 15, 2014 12:58:57 AM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 429 ms\nTem 15, 2014 12:58:57 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nTem 15, 2014 12:58:57 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.54\nTem 15, 2014 12:58:57 AM org.apache.catalina.startup.HostConfig deployDescriptor\nINFO: Deploying configuration descriptor C:\\Users\\Serhat Can\\workspace-spring\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\\Catalina\\localhost\\SpitterWebMaven.xml\nTem 15, 2014 12:58:57 AM org.apache.catalina.startup.SetContextPropertiesRule begin\nWARNING: [SetContextPropertiesRule]{Context} Setting property 'source' to 'org.eclipse.jst.jee.server:SpitterWebMaven' did not find a matching property.\nTem 15, 2014 12:58:58 AM org.apache.catalina.startup.HostConfig deployDescriptor\nINFO: Deployment of configuration descriptor C:\\Users\\Serhat Can\\workspace-spring\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\\Catalina\\localhost\\SpitterWebMaven.xml has finished in 85 ms\nTem 15, 2014 12:58:58 AM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-bio-8080\"]\nTem 15, 2014 12:58:58 AM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"ajp-bio-8009\"]\nTem 15, 2014 12:58:58 AM org.apache.catalina.startup.Catalina start\nINFO: Server startup in 486 ms\n</code></pre>\n\n<p>My web.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xmlns=\"http://java.sun.com/xml/ns/javaee\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\nhttp://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n         id=\"WebApp_ID\" version=\"2.5\"&gt;\n\n    &lt;display-name&gt;SpitterWebMaven&lt;/display-name&gt;\n\n   &lt;!--\n        - Location of the XML file that defines the root application context.\n        - Applied by ContextLoaderListener.\n    --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring/application-config.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n\n    &lt;!--\n        - Servlet that dispatches request to registered handlers (Controller implementations).\n    --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/mvc-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcherServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>My mvc-config.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;!-- Uncomment and your base-package here: --&gt;\n         &lt;context:component-scan\n            base-package=\"com.spitter.webs.controller\"/&gt; \n\n\n    &lt;mvc:annotation-driven /&gt;\n\n    &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n            &lt;!-- Example: a logical view name of 'showMessage' is mapped to '/WEB-INF/jsp/showMessage.jsp' --&gt;\n            &lt;property name=\"prefix\" value=\"/WEB-INF/view/\"/&gt;\n            &lt;property name=\"suffix\" value=\".jsp\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>My application-config.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n         http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\"&gt;\n\n    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n    &lt;!-- Uncomment and add your base-package here: --&gt;\n    &lt;context:component-scan base-package=\"com.spitter.web\" /&gt;\n\n\n     &lt;bean id=\"emf\"\n             class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n             &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n             &lt;property name=\"jpaVendorAdapter\" ref=\"jpaVendorAdapter\" /&gt;\n             &lt;property name=\"packagesToScan\" value=\"com.spitter.web.domain\"&gt;&lt;/property&gt;\n       &lt;/bean&gt;\n\n\n\n\n    &lt;!-- data source to connect mysql db --&gt;\n    &lt;bean name=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/spring_jpa\" /&gt;\n        &lt;property name=\"username\" value=\"root\" /&gt;\n        &lt;property name=\"password\" value=\"root\" /&gt;\n    &lt;/bean&gt;\n\n\n\n    &lt;bean id=\"jpaVendorAdapter\"\n        class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n        &lt;property name=\"database\" value=\"MYSQL\" /&gt;\n        &lt;property name=\"showSql\" value=\"true\" /&gt;\n        &lt;property name=\"generateDdl\" value=\"false\" /&gt;\n        &lt;property name=\"databasePlatform\" value=\"org.hibernate.dialect.MySQL5Dialect\" /&gt;\n    &lt;/bean&gt;\n\n\n\n\n\n\n\n    &lt;!-- why do we need this! --&gt;\n    &lt;bean\n        class=\"org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor\" /&gt;\n\n    &lt;!-- why do we need this! --&gt;\n    &lt;bean\n        class=\"org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor\" /&gt;\n\n    &lt;!-- why do we need this! --&gt;\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"emf\" /&gt;\n    &lt;/bean&gt;\n\n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Finally my pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.springframework.samples.service.service&lt;/groupId&gt;\n  &lt;artifactId&gt;SpitterWebMaven&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n\n        &lt;!-- Generic properties --&gt;\n        &lt;java.version&gt;1.6&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n\n             &lt;!-- Web --&gt;\n\n             &lt;jsp.version&gt;2.2&lt;/jsp.version&gt;\n\n             &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\n\n             &lt;servlet.version&gt;2.5&lt;/servlet.version&gt;\n\n\n\n\n\n             &lt;!-- Spring --&gt;\n\n             &lt;spring-framework.version&gt;3.2.3.RELEASE&lt;/spring-framework.version&gt;\n\n\n\n             &lt;!-- Hibernate / JPA --&gt;\n\n             &lt;hibernate.version&gt;4.2.1.Final&lt;/hibernate.version&gt;\n\n\n\n             &lt;!-- Logging --&gt;\n\n             &lt;logback.version&gt;1.0.13&lt;/logback.version&gt;\n\n             &lt;slf4j.version&gt;1.7.5&lt;/slf4j.version&gt;\n\n\n\n             &lt;!-- Test --&gt;\n\n             &lt;junit.version&gt;4.11&lt;/junit.version&gt;\n\n\n\n       &lt;/properties&gt;\n\n\n\n       &lt;dependencies&gt;\n\n\n\n             &lt;!-- Spring MVC --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n\n                    &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n\n                    &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n\n                    &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n\n                    &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n\n                    &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n\n                    &lt;version&gt;1&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;!-- Other Web dependencies --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n\n                    &lt;version&gt;${jstl.version}&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n\n                    &lt;version&gt;${servlet.version}&lt;/version&gt;\n\n                    &lt;scope&gt;provided&lt;/scope&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n\n                    &lt;version&gt;${jsp.version}&lt;/version&gt;\n\n                    &lt;scope&gt;provided&lt;/scope&gt;\n\n             &lt;/dependency&gt;\n\n\n\n             &lt;!-- Spring and Transactions --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n\n                    &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;!-- AspectJ --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;aspectjlib&lt;/artifactId&gt;\n\n                    &lt;version&gt;1.6.2&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n\n                    &lt;version&gt;1.8.1&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;!-- Logging with SLF4J &amp; LogBack --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n\n                    &lt;version&gt;${slf4j.version}&lt;/version&gt;\n\n                    &lt;scope&gt;compile&lt;/scope&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n\n                    &lt;version&gt;${logback.version}&lt;/version&gt;\n\n                    &lt;scope&gt;runtime&lt;/scope&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;!-- H2 --&gt;\n\n             &lt;!-- &lt;dependency&gt; &lt;groupId&gt;com.h2database&lt;/groupId&gt; &lt;artifactId&gt;h2&lt;/artifactId&gt;\n\n                    &lt;version&gt;1.4.179&lt;/version&gt; &lt;/dependency&gt; --&gt;\n\n             &lt;!-- MySql --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;mysql&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n\n                    &lt;version&gt;5.1.31&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;!-- Hibernate --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n\n                    &lt;version&gt;${hibernate.version}&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;!-- Apache Commons --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n\n                    &lt;version&gt;3.3.2&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n\n                    &lt;version&gt;2.0.1&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n\n\n\n\n             &lt;!-- Test Artifacts --&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n\n                    &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n\n                    &lt;scope&gt;test&lt;/scope&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n\n                    &lt;version&gt;${junit.version}&lt;/version&gt;\n\n                    &lt;scope&gt;test&lt;/scope&gt;\n\n             &lt;/dependency&gt;\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n\n                    &lt;version&gt;1.9.5&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n\n\n\n\n             &lt;dependency&gt;\n\n                    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n\n                    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n\n                    &lt;version&gt;1.1.0.Final&lt;/version&gt;\n\n             &lt;/dependency&gt;\n\n       &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>--UPDATE--</strong></p>\n\n<p>My hello controller (I try to use very basic controller to see if it works. Also, I have hello.jsp in WEB-INF->view):</p>\n\n<pre><code>@Controller\npublic class HelloWorldController {\n\n    @RequestMapping(\"/hello\")\n    public ModelAndView helloWorld() {\n\n        String message = \"Hello World, Spring 3.0!\";\n        return new ModelAndView(\"hello\", \"message\", message);\n    }\n}\n</code></pre>\n\n<p>I have tried lost of url's but here is the default URL that comes when I run the server. -> <code>/SpitterWebMaven</code> in local</p>\n\n<p>Another think that I want to add is when I first created the project run on server button was not displaying and I chose Java and Dynamic Web Project to see the run on server button after a research on how to do that.</p>\n"},{"tags":["java","youtube"],"comments":[{"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1521580462,"post_id":12436584,"comment_id":85790101,"body_markdown":"I have this in c# if that helps https://github.com/maythamfahmi/YouTuber","body":"I have this in c# if that helps <a href=\"https://github.com/maythamfahmi/YouTuber\" rel=\"nofollow noreferrer\">github.com/maythamfahmi/YouTuber</a>"}],"answers":[{"tags":[],"owner":{"account_id":3465956,"reputation":21,"user_id":2901490,"accept_rate":75,"display_name":"MrToast"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477826227,"creation_date":1428099618,"answer_id":29440439,"question_id":12436584,"body_markdown":"   Found this \r\n    \r\n    package main.java.com.thezujev.theyoutubepld.logic;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.HttpVersion;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.params.HttpParams;\r\n    import org.apache.http.params.HttpProtocolParams;\r\n    import org.apache.http.params.SyncBasicHttpParams;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    /**\r\n    * @author azujev\r\n    *\r\n    */\r\n    public class YouTubeMP3 {\r\n    \tpublic static String[] getLink(String url) throws ClientProtocolException, IOException {\r\n    \t\tboolean passCode = false;\r\n    \t\tString h = &quot;&quot;;\r\n    \t\tString title = &quot;&quot;;\r\n    \t\tString result = &quot;&quot;;\r\n    \t\tString[] returnVal = {&quot;&quot;,&quot;&quot;};\r\n    \t\tMap&lt;String, String&gt; jsonTable;\r\n    \t\tDefaultHttpClient httpClient = new DefaultHttpClient();\r\n    \t\tHttpGet httpInitialGet = new HttpGet(&quot;http://www.youtube-mp3.org/api/pushItem/?item=http%3A//www.youtube.com/watch%3Fv%3D&quot; + url + &quot;&amp;xy=_&quot;);\r\n    \t\thttpInitialGet.addHeader(&quot;Accept-Location&quot;, &quot;*&quot;);\r\n    \t\thttpInitialGet.addHeader(&quot;Referrer&quot;, &quot;http://www.youtube-mp3.org&quot;);\r\n    \t\tHttpParams params = new SyncBasicHttpParams();\r\n    \t\tHttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\r\n    \t\tHttpProtocolParams.setUserAgent(params, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/22.0.1207.1 Safari/537.1&quot;);\r\n    \t\thttpInitialGet.setParams(params);\r\n    \t\tHttpResponse firstResponse = httpClient.execute(httpInitialGet);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tif (firstResponse.getStatusLine().toString().contains(&quot;200&quot;)) {\r\n    \t\t\t\tpassCode = true;\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\thttpInitialGet.releaseConnection();\r\n    \t\t}\r\n    \r\n    \t\tif (passCode) {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tHttpGet httpStatusGet = new HttpGet(&quot;http://www.youtube-mp3.org/api/itemInfo/?video_id=&quot; + url + &quot;&amp;adloc=&quot;);\r\n    \t\t\t\thttpStatusGet.addHeader(&quot;Accept-Location&quot;, &quot;*&quot;);\r\n    \t\t\t\thttpStatusGet.addHeader(&quot;Referrer&quot;, &quot;http://www.youtube-mp3.org&quot;);\r\n    \t\t\t\thttpStatusGet.setParams(params);\r\n    \t\t\t\tHttpResponse secondResponse = httpClient.execute(httpStatusGet);\r\n    \t\t\t\tHttpEntity secondEntity = secondResponse.getEntity();\r\n    \t\t\t\tInputStream is = secondEntity.getContent();\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(is, &quot;iso-8859-1&quot;), 8);\r\n    \t\t\t\t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\t\t\tString line = null;\r\n    \t\t\t\t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tis.close();\r\n    \t\t\t\t\t\tresult = sb.toString();\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\thttpStatusGet.releaseConnection();\r\n    \t\t\t\tresult = result.replaceAll(&quot;\\\\}.*&quot;, &quot;}&quot;);\r\n    \t\t\t\tresult = result.replaceAll(&quot;.*?\\\\{&quot;, &quot;{&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tJSONObject jsonData = new JSONObject(result);\r\n    \t\t\t\t\tJSONArray jsonArray = jsonData.names();\r\n    \t\t\t\t\tJSONArray valArray = jsonData.toJSONArray(jsonArray);\r\n    \t\t\t\t\tjsonTable = new HashMap&lt;String, String&gt;(jsonArray.length());\r\n    \t\t\t\t\tfor (int i = 0; i &lt; jsonArray.length(); i++) {\r\n    \t\t\t\t\t\tjsonTable.put(jsonArray.get(i).toString(), valArray.get(i).toString());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (jsonTable.get(&quot;status&quot;).equals(&quot;serving&quot;)) {\r\n    \t\t\t\t\t\th = jsonTable.get(&quot;h&quot;);\r\n    \t\t\t\t\t\ttitle = jsonTable.get(&quot;title&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} catch (JSONException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t\treturnVal[0] = &quot;http://www.youtube-mp3.org/get?video_id=&quot; + url + &quot;&amp;h=&quot; + h;\r\n    \t\t\treturnVal[1] = title;\r\n    \t\t\treturn returnVal;\r\n    \t\t} else {\r\n    \t\t\t//TODO: Error, vid not downloadable\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    }","title":"youtube to mp3 conversion using web site","body":"<p>Found this </p>\n\n<pre><code>package main.java.com.thezujev.theyoutubepld.logic;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.HashMap;\nimport java.util.Map;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.params.HttpParams;\nimport org.apache.http.params.HttpProtocolParams;\nimport org.apache.http.params.SyncBasicHttpParams;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n/**\n* @author azujev\n*\n*/\npublic class YouTubeMP3 {\n    public static String[] getLink(String url) throws ClientProtocolException, IOException {\n        boolean passCode = false;\n        String h = \"\";\n        String title = \"\";\n        String result = \"\";\n        String[] returnVal = {\"\",\"\"};\n        Map&lt;String, String&gt; jsonTable;\n        DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpGet httpInitialGet = new HttpGet(\"http://www.youtube-mp3.org/api/pushItem/?item=http%3A//www.youtube.com/watch%3Fv%3D\" + url + \"&amp;xy=_\");\n        httpInitialGet.addHeader(\"Accept-Location\", \"*\");\n        httpInitialGet.addHeader(\"Referrer\", \"http://www.youtube-mp3.org\");\n        HttpParams params = new SyncBasicHttpParams();\n        HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\n        HttpProtocolParams.setUserAgent(params, \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/22.0.1207.1 Safari/537.1\");\n        httpInitialGet.setParams(params);\n        HttpResponse firstResponse = httpClient.execute(httpInitialGet);\n\n        try {\n            if (firstResponse.getStatusLine().toString().contains(\"200\")) {\n                passCode = true;\n            }\n        } finally {\n            httpInitialGet.releaseConnection();\n        }\n\n        if (passCode) {\n            while (true) {\n                HttpGet httpStatusGet = new HttpGet(\"http://www.youtube-mp3.org/api/itemInfo/?video_id=\" + url + \"&amp;adloc=\");\n                httpStatusGet.addHeader(\"Accept-Location\", \"*\");\n                httpStatusGet.addHeader(\"Referrer\", \"http://www.youtube-mp3.org\");\n                httpStatusGet.setParams(params);\n                HttpResponse secondResponse = httpClient.execute(httpStatusGet);\n                HttpEntity secondEntity = secondResponse.getEntity();\n                InputStream is = secondEntity.getContent();\n                try {\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(is, \"iso-8859-1\"), 8);\n                    StringBuilder sb = new StringBuilder();\n                    String line = null;\n                    while ((line = reader.readLine()) != null) {\n                        sb.append(line + \"\\n\");\n                        }\n                        is.close();\n                        result = sb.toString();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n                httpStatusGet.releaseConnection();\n                result = result.replaceAll(\"\\\\}.*\", \"}\");\n                result = result.replaceAll(\".*?\\\\{\", \"{\");\n                try {\n                    JSONObject jsonData = new JSONObject(result);\n                    JSONArray jsonArray = jsonData.names();\n                    JSONArray valArray = jsonData.toJSONArray(jsonArray);\n                    jsonTable = new HashMap&lt;String, String&gt;(jsonArray.length());\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\n                        jsonTable.put(jsonArray.get(i).toString(), valArray.get(i).toString());\n                    }\n                    if (jsonTable.get(\"status\").equals(\"serving\")) {\n                        h = jsonTable.get(\"h\");\n                        title = jsonTable.get(\"title\");\n                        break;\n                    }\n                } catch (JSONException e) {\n                // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n\n            }\n            returnVal[0] = \"http://www.youtube-mp3.org/get?video_id=\" + url + \"&amp;h=\" + h;\n            returnVal[1] = title;\n            return returnVal;\n        } else {\n            //TODO: Error, vid not downloadable\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618972110,"creation_date":1585157930,"answer_id":60854321,"question_id":12436584,"body_markdown":"----------\r\n\r\n\r\nAn answer on a similar question:\r\n-----------------------------------\r\n\r\n\r\n----------\r\n\r\n\r\nRegarding the Terms of Service of the YouTube API \r\n\r\nhttps://developers.google.com/youtube/terms/developer-policies\r\n\r\n**YOU CAN&#39;T :**\r\n\r\n&gt; separate, isolate, or modify the audio or video components of any\r\n&gt; YouTube audiovisual content made available through the YouTube API;\r\n&gt; \r\n&gt; promote separately the audio or video components of any YouTube\r\n&gt; audiovisual content made available through the YouTube API;\r\n\r\n\r\n(Source: https://stackoverflow.com/a/26552805/5645656)\r\n\r\n\r\n----------\r\n\r\nMy answer:\r\n---------\r\n\r\n\r\n----------\r\n\r\n\r\nIt *is* possible using a different service. You can, for example, install [YouTube-DL][1] and use the [Process API][2] to interface the program.\r\n\r\n\r\n  [1]: https://github.com/ytdl-org/youtube-dl\r\n  [2]: https://www.baeldung.com/java-process-api","title":"youtube to mp3 conversion using web site","body":"<hr />\n<h2>An answer on a similar question:</h2>\n<hr />\n<p>Regarding the Terms of Service of the YouTube API</p>\n<p><a href=\"https://developers.google.com/youtube/terms/developer-policies\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/terms/developer-policies</a></p>\n<p><strong>YOU CAN'T :</strong></p>\n<blockquote>\n<p>separate, isolate, or modify the audio or video components of any\nYouTube audiovisual content made available through the YouTube API;</p>\n<p>promote separately the audio or video components of any YouTube\naudiovisual content made available through the YouTube API;</p>\n</blockquote>\n<p>(Source: <a href=\"https://stackoverflow.com/a/26552805/5645656\">https://stackoverflow.com/a/26552805/5645656</a>)</p>\n<hr />\n<h2>My answer:</h2>\n<hr />\n<p>It <em>is</em> possible using a different service. You can, for example, install <a href=\"https://github.com/ytdl-org/youtube-dl\" rel=\"nofollow noreferrer\">YouTube-DL</a> and use the <a href=\"https://www.baeldung.com/java-process-api\" rel=\"nofollow noreferrer\">Process API</a> to interface the program.</p>\n"}],"owner":{"account_id":1764063,"reputation":637,"user_id":1610362,"accept_rate":56,"display_name":"user1610362"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25628,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1693242145,"creation_date":1347704913,"question_id":12436584,"body_markdown":"I&#39;m trying to make program that can download youtube videos as mp3 files. I used this site [youtube-mp3.org][1] in order to achive that. So, i downloaded content of [www.youtube-mp3.org/?c#v=sTbd2e2EyTk][2] where sTbd2e2EyTk is video id, now i have to get link to mp3 file(in this case [http://www.youtube-mp3.org/get?video_id.....][3]) but there is no link in downloaded content. I noticed that chrome developers tools(ctrl+shift+j, tab Elements) show that link and view source(ctrl+u) option in chrome gives me the same result which i get by downloading page using java. How can i get that link? \r\nI tried to fetch data using JSoap but those data that i need are not loaded on page immediately so i cannot get them.\r\n\r\nNext code is for downloading content of web page...\r\n\r\n     URL tU = new URL(&quot;http://www.youtube-mp3.org/?c#v=sTbd2e2EyTk&quot;);\r\n     HttpURLConnection conn = (HttpURLConnection) tU.openConnection();\r\n     InputStream ins = conn.getInputStream();\r\n     BufferedReader rd = new BufferedReader(new InputStreamReader(ins));\r\n     String line;\r\n     StringBuffer content = new StringBuffer();\r\n     while ((line = rd.readLine()) != null) {\r\n         content.append(line);\r\n     }\r\n     System.out.println(content.toString());\r\n\r\n  I used this method for getting file but i need link..\r\n\r\n       private static void downloadStreamData(String url, String fileName) throws Exception {\r\n        URL tU = new URL(url);\r\n        HttpURLConnection conn = (HttpURLConnection) tU.openConnection();\r\n\r\n        String type = conn.getContentType();\r\n        InputStream ins = conn.getInputStream();\r\n        FileOutputStream fout = new FileOutputStream(new File(fileName));\r\n        byte[] outputByte = new byte[4096];\r\n        int bytesRead;\r\n        int length = conn.getContentLength();\r\n        int read = 0;\r\n        while ((bytesRead = ins.read(outputByte, 0, 4096)) != -1) {\r\n            read += bytesRead;\r\n            System.out.println(read + &quot; out of &quot; + length);\r\n            fout.write(outputByte, 0, bytesRead);\r\n        }\r\n        fout.flush();\r\n        fout.close();\r\n    }\r\n\r\n\r\n  [1]: http://www.youtube-mp3.org/\r\n  [2]: http://www.youtube-mp3.org/?c#v=sTbd2e2EyTk\r\n  [3]: http://www.youtube-mp3.org/get?video_id=sTbd2e2EyTk&amp;h=5913a5ca8cd6f143aa2bab61ef1c4a16&amp;r=1347704631853","title":"youtube to mp3 conversion using web site","body":"<p>I'm trying to make program that can download youtube videos as mp3 files. I used this site <a href=\"http://www.youtube-mp3.org/\" rel=\"noreferrer\">youtube-mp3.org</a> in order to achive that. So, i downloaded content of <a href=\"http://www.youtube-mp3.org/?c#v=sTbd2e2EyTk\" rel=\"noreferrer\">www.youtube-mp3.org/?c#v=sTbd2e2EyTk</a> where sTbd2e2EyTk is video id, now i have to get link to mp3 file(in this case <a href=\"http://www.youtube-mp3.org/get?video_id=sTbd2e2EyTk&amp;h=5913a5ca8cd6f143aa2bab61ef1c4a16&amp;r=1347704631853\" rel=\"noreferrer\">http://www.youtube-mp3.org/get?video_id.....</a>) but there is no link in downloaded content. I noticed that chrome developers tools(ctrl+shift+j, tab Elements) show that link and view source(ctrl+u) option in chrome gives me the same result which i get by downloading page using java. How can i get that link? \nI tried to fetch data using JSoap but those data that i need are not loaded on page immediately so i cannot get them.</p>\n\n<p>Next code is for downloading content of web page...</p>\n\n<pre><code> URL tU = new URL(\"http://www.youtube-mp3.org/?c#v=sTbd2e2EyTk\");\n HttpURLConnection conn = (HttpURLConnection) tU.openConnection();\n InputStream ins = conn.getInputStream();\n BufferedReader rd = new BufferedReader(new InputStreamReader(ins));\n String line;\n StringBuffer content = new StringBuffer();\n while ((line = rd.readLine()) != null) {\n     content.append(line);\n }\n System.out.println(content.toString());\n</code></pre>\n\n<p>I used this method for getting file but i need link..</p>\n\n<pre><code>   private static void downloadStreamData(String url, String fileName) throws Exception {\n    URL tU = new URL(url);\n    HttpURLConnection conn = (HttpURLConnection) tU.openConnection();\n\n    String type = conn.getContentType();\n    InputStream ins = conn.getInputStream();\n    FileOutputStream fout = new FileOutputStream(new File(fileName));\n    byte[] outputByte = new byte[4096];\n    int bytesRead;\n    int length = conn.getContentLength();\n    int read = 0;\n    while ((bytesRead = ins.read(outputByte, 0, 4096)) != -1) {\n        read += bytesRead;\n        System.out.println(read + \" out of \" + length);\n        fout.write(outputByte, 0, bytesRead);\n    }\n    fout.flush();\n    fout.close();\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"score":0,"creation_date":1540447543,"post_id":52961096,"comment_id":92870598,"body_markdown":"It works. Normally I try to go without undocumented hacks but since this is just is a very small one I guess it&#39;s okay. Thank you for your quick help!","body":"It works. Normally I try to go without undocumented hacks but since this is just is a very small one I guess it&#39;s okay. Thank you for your quick help!"},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1685982198,"post_id":52961096,"comment_id":134733858,"body_markdown":"I don&#39;t think this works for immutable configurations / constructor binding.","body":"I don&#39;t think this works for immutable configurations / constructor binding."}],"tags":[],"owner":{"account_id":10751880,"reputation":3351,"user_id":7910980,"display_name":"Amit Phaltankar"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1540356119,"creation_date":1540355076,"answer_id":52961096,"question_id":52960921,"body_markdown":"Well you can&#39;t have different config key and mapping property name. That&#39;s how spring resolves the auto-mapping.\r\n\r\nHowever, if having a different property field is so essential for you have can have a hack.\r\n\r\nPut a dummy setter like this.\r\n\r\nProperty key:\r\n```foo.bar```\r\n\r\nConfig class:\r\n\r\n    @ConfigurationProperties(&quot;foo&quot;)\r\n    class ConfProps {\r\n    \r\n        private List&lt;SomePojo&gt; differentlyNamedList = new ArrayList&lt;&gt;();\r\n      \r\n        // getter, setter\r\n      \r\n        public void setBar(List&lt;SomePojo&gt; bar){\r\n           this.differentlyNamedList = bar;\r\n        }\r\n    }","title":"Spring Boot @ConfigurationProperties - Change property key","body":"<p>Well you can't have different config key and mapping property name. That's how spring resolves the auto-mapping.</p>\n\n<p>However, if having a different property field is so essential for you have can have a hack.</p>\n\n<p>Put a dummy setter like this.</p>\n\n<p>Property key:\n<code>foo.bar</code></p>\n\n<p>Config class:</p>\n\n<pre><code>@ConfigurationProperties(\"foo\")\nclass ConfProps {\n\n    private List&lt;SomePojo&gt; differentlyNamedList = new ArrayList&lt;&gt;();\n\n    // getter, setter\n\n    public void setBar(List&lt;SomePojo&gt; bar){\n       this.differentlyNamedList = bar;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693241645,"creation_date":1693241645,"answer_id":76994683,"question_id":52960921,"body_markdown":"Chaning the mapping is impossible, at least for now. You have to use a custom setter (as @Amit stated), but this seems to be kind of workaround.\r\n\r\nI have filled an [issue][1] about it in spring-boot repository. It is still pending however.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/37105","title":"Spring Boot @ConfigurationProperties - Change property key","body":"<p>Chaning the mapping is impossible, at least for now. You have to use a custom setter (as @Amit stated), but this seems to be kind of workaround.</p>\n<p>I have filled an <a href=\"https://github.com/spring-projects/spring-boot/issues/37105\" rel=\"nofollow noreferrer\">issue</a> about it in spring-boot repository. It is still pending however.</p>\n"}],"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8187,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":52961096,"answer_count":2,"score":13,"last_activity_date":1693241645,"creation_date":1540353785,"question_id":52960921,"body_markdown":"I have an interesting use case where the field name that is used in a class annotated with `@ConfigurationProperties` should be different from the corresponding key used in the (yaml) configuration file:\r\n\r\n    @ConfigurationProperties(&quot;foo&quot;)\r\n    class ConfProps {\r\n\r\n        private List&lt;SomePojo&gt; bar = new ArrayList&lt;&gt;();\r\n\r\n        // getter, setter\r\n\r\n    }\r\n\r\nThis will &quot;look out for&quot; `foo.bar`. Is it possible to map the field `bar` to a different property key?\r\n\r\nI read the [the docs][1] and some related articles, but nothing ...\r\n\r\nTo me it seems that either it&#39;s because it is absolutely trivial or this is some kind of non-goal.\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Spring Boot @ConfigurationProperties - Change property key","body":"<p>I have an interesting use case where the field name that is used in a class annotated with <code>@ConfigurationProperties</code> should be different from the corresponding key used in the (yaml) configuration file:</p>\n\n<pre><code>@ConfigurationProperties(\"foo\")\nclass ConfProps {\n\n    private List&lt;SomePojo&gt; bar = new ArrayList&lt;&gt;();\n\n    // getter, setter\n\n}\n</code></pre>\n\n<p>This will \"look out for\" <code>foo.bar</code>. Is it possible to map the field <code>bar</code> to a different property key?</p>\n\n<p>I read the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">the docs</a> and some related articles, but nothing ...</p>\n\n<p>To me it seems that either it's because it is absolutely trivial or this is some kind of non-goal.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","jms","message-queue"],"comments":[{"owner":{"account_id":2497428,"reputation":373,"user_id":2173500,"display_name":"Anton Goncharov"},"score":0,"creation_date":1583335539,"post_id":24340892,"comment_id":107082521,"body_markdown":"Perfectly explained in [Message Queue vs Message Bus](https://stackoverflow.com/questions/7793927/message-queue-vs-message-bus-what-are-the-differences/33969224) topic","body":"Perfectly explained in <a href=\"https://stackoverflow.com/questions/7793927/message-queue-vs-message-bus-what-are-the-differences/33969224\">Message Queue vs Message Bus</a> topic"}],"answers":[{"comments":[{"owner":{"account_id":2102941,"reputation":7351,"user_id":1870054,"accept_rate":72,"display_name":"wener"},"score":0,"creation_date":1403367074,"post_id":24342000,"comment_id":37634702,"body_markdown":"So, MQ is an IPC tech.Except this they are interchangeable ?Seems akka EventBus is also distributable.","body":"So, MQ is an IPC tech.Except this they are interchangeable ?Seems akka EventBus is also distributable."}],"tags":[],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403356776,"creation_date":1403356776,"answer_id":24342000,"question_id":24340892,"body_markdown":"Guava EventBus is only for events within a single jvm. It even explicitly states that it is not intended for interprocess communication. I have not looked at Akka, but I am guessing it is similar. MQ, on the other hand, is specifically intended for sending messages between processes.","title":"The difference between a Message Queue, EventBus and a Pub/Sub?","body":"<p>Guava EventBus is only for events within a single jvm. It even explicitly states that it is not intended for interprocess communication. I have not looked at Akka, but I am guessing it is similar. MQ, on the other hand, is specifically intended for sending messages between processes.</p>\n"},{"tags":[],"owner":{"account_id":2102941,"reputation":7351,"user_id":1870054,"accept_rate":72,"display_name":"wener"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403367969,"creation_date":1403367969,"answer_id":24343571,"question_id":24340892,"body_markdown":"I found the right term in wiki for event bus is [Event_monitoring](http://en.wikipedia.org/wiki/Event_monitoring), now then, I can understand what is event bus. Like a signal system, most of them work in one process, like Guava EventBus dose. Though, they can work as an IPC, but that is not the main purpose.\r\n\r\nMQ is an message system,most of them got message server, kind of complex,but grant more controls, more options. Some of they got an admin tool too.\r\n\r\nSo, they are kind of same tech to resolve different scale or situation. ","title":"The difference between a Message Queue, EventBus and a Pub/Sub?","body":"<p>I found the right term in wiki for event bus is <a href=\"http://en.wikipedia.org/wiki/Event_monitoring\" rel=\"nofollow\">Event_monitoring</a>, now then, I can understand what is event bus. Like a signal system, most of them work in one process, like Guava EventBus dose. Though, they can work as an IPC, but that is not the main purpose.</p>\n\n<p>MQ is an message system,most of them got message server, kind of complex,but grant more controls, more options. Some of they got an admin tool too.</p>\n\n<p>So, they are kind of same tech to resolve different scale or situation. </p>\n"},{"comments":[{"owner":{"account_id":1545258,"reputation":1177,"user_id":1438934,"accept_rate":18,"display_name":"Anish Mittal"},"score":1,"creation_date":1666101381,"post_id":62693723,"comment_id":130852152,"body_markdown":"How queue is 1-to-1? We can use Fanout exchange and message goes to all consumers.","body":"How queue is 1-to-1? We can use Fanout exchange and message goes to all consumers."},{"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"score":0,"creation_date":1666171314,"post_id":62693723,"comment_id":130870274,"body_markdown":"Queue Fanout is rare in JMS Providers. If I remember correctly RabbitMQ has exchanges. Is that what you refer to ? Conceptually I would call a queue going to a message exchange making copies into multiple queues a &#39;topic&#39;. But also checkout https://stackoverflow.com/questions/5576415/jms-topic-vs-queues","body":"Queue Fanout is rare in JMS Providers. If I remember correctly RabbitMQ has exchanges. Is that what you refer to ? Conceptually I would call a queue going to a message exchange making copies into multiple queues a &#39;topic&#39;. But also checkout <a href=\"https://stackoverflow.com/questions/5576415/jms-topic-vs-queues\">stackoverflow.com/questions/5576415/jms-topic-vs-queues</a>"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":1,"creation_date":1693141730,"post_id":62693723,"comment_id":135718174,"body_markdown":"Possibly a typo, but it sounds like you meant &quot;*event is usually used for **intra**-application [...]&quot;","body":"Possibly a typo, but it sounds like you meant &quot;*event is usually used for <b>intra</b>-application [...]&quot;"},{"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"score":0,"creation_date":1693241190,"post_id":62693723,"comment_id":135731525,"body_markdown":"yes, and thank you for improving my sloppy non-native English !","body":"yes, and thank you for improving my sloppy non-native English !"}],"tags":[],"owner":{"account_id":1411666,"reputation":4134,"user_id":1338132,"display_name":"Axel Podehl"},"comment_count":4,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1693241342,"creation_date":1593683928,"answer_id":62693723,"question_id":24340892,"body_markdown":"A **message** is usually used for inter-process communication and for sending messages between machines. You can encapsulate an event in a message (for example as XML or JSON) and transport this event using a message. TIBCO RV, JMS, IBM or Hornet MQ, ...\r\n\r\nAn **event** is usually used for *intra-application* communication. For example to communicate between threads or to react on user input in a GUI application (think Swing events, Guava, etc).\r\n\r\nA **queue** is a 1-to-1 destination of messages. The message is received by only one of the consuming receivers (please note: consistently using subscribers for &#39;topic client&#39;s and receivers for queue client&#39;s avoids confusion). Messages sent to a queue are stored on disk or memory until someone picks it up or it expires. \r\n\r\nA **bus** is a 1-to-many model of distribution. The destination in this model is usually called topic or subject. The same published message is received by all consuming subscribers. You can also call this the &#39;broadcast&#39; model. You can think of a topic as the equivalent of a Subject in an Observer design pattern for distributed computing. Some message bus providers efficiently choose to implement this as UDP instead of TCP. For topic&#39;s the message delivery is &#39;fire-and-forget&#39; - if no one listens, the message just disappears. If that&#39;s not what you want, you can use &#39;durable subscriptions&#39;.\r\n\r\nIf you take this all together you have these:\r\n\r\n 1. **Message Queue:** queue-based messaging middlewares are IBM MQ, JMS/ActiveMQ Queues, Hornet MQ\r\n        \r\n 2. **Event queue:** queue-based programming framework. You could implement this with any class that implements the Java Queue interface. e.g. BlockingQueue\r\n\r\n 3. **Message Bus:** a publish/subscribe messaging middleware, e.g. JMS/ActiveMQ Topics, TIBCO RV. Messages are sent to another process over TCP or UDP. For further details see https://stackoverflow.com/questions/5576415/jms-topic-vs-queues/43978627#43978627\r\n        \r\n 4. **Event Bus:** a publish/subscribe based programming framework. Guava EventBus, Observer design pattern\r\n\r\n","title":"The difference between a Message Queue, EventBus and a Pub/Sub?","body":"<p>A <strong>message</strong> is usually used for inter-process communication and for sending messages between machines. You can encapsulate an event in a message (for example as XML or JSON) and transport this event using a message. TIBCO RV, JMS, IBM or Hornet MQ, ...</p>\n<p>An <strong>event</strong> is usually used for <em>intra-application</em> communication. For example to communicate between threads or to react on user input in a GUI application (think Swing events, Guava, etc).</p>\n<p>A <strong>queue</strong> is a 1-to-1 destination of messages. The message is received by only one of the consuming receivers (please note: consistently using subscribers for 'topic client's and receivers for queue client's avoids confusion). Messages sent to a queue are stored on disk or memory until someone picks it up or it expires.</p>\n<p>A <strong>bus</strong> is a 1-to-many model of distribution. The destination in this model is usually called topic or subject. The same published message is received by all consuming subscribers. You can also call this the 'broadcast' model. You can think of a topic as the equivalent of a Subject in an Observer design pattern for distributed computing. Some message bus providers efficiently choose to implement this as UDP instead of TCP. For topic's the message delivery is 'fire-and-forget' - if no one listens, the message just disappears. If that's not what you want, you can use 'durable subscriptions'.</p>\n<p>If you take this all together you have these:</p>\n<ol>\n<li><p><strong>Message Queue:</strong> queue-based messaging middlewares are IBM MQ, JMS/ActiveMQ Queues, Hornet MQ</p>\n</li>\n<li><p><strong>Event queue:</strong> queue-based programming framework. You could implement this with any class that implements the Java Queue interface. e.g. BlockingQueue</p>\n</li>\n<li><p><strong>Message Bus:</strong> a publish/subscribe messaging middleware, e.g. JMS/ActiveMQ Topics, TIBCO RV. Messages are sent to another process over TCP or UDP. For further details see <a href=\"https://stackoverflow.com/questions/5576415/jms-topic-vs-queues/43978627#43978627\">JMS Topic vs Queues</a></p>\n</li>\n<li><p><strong>Event Bus:</strong> a publish/subscribe based programming framework. Guava EventBus, Observer design pattern</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2102941,"reputation":7351,"user_id":1870054,"accept_rate":72,"display_name":"wener"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15263,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":62693723,"answer_count":3,"score":24,"last_activity_date":1693241342,"creation_date":1403348335,"question_id":24340892,"body_markdown":"I am confused between the concept of Message Queue (e.g., ActiveMQ, RabbitMQ, ZeroMQ) and EventBus (e.g., [Guava Event Bus](https://code.google.com/p/guava-libraries/wiki/EventBusExplained), [Akka EventBus](http://doc.akka.io/docs/akka/snapshot/java/event-bus.html))\r\n\r\nI think MQ and eventBus both use the pub/sub pattern. MQ seems more powerful and heavy, compared to Guava.\r\n\r\nBut what&#39;s the real difference? Is EventBus the same as MQ?","title":"The difference between a Message Queue, EventBus and a Pub/Sub?","body":"<p>I am confused between the concept of Message Queue (e.g., ActiveMQ, RabbitMQ, ZeroMQ) and EventBus (e.g., <a href=\"https://code.google.com/p/guava-libraries/wiki/EventBusExplained\" rel=\"noreferrer\">Guava Event Bus</a>, <a href=\"http://doc.akka.io/docs/akka/snapshot/java/event-bus.html\" rel=\"noreferrer\">Akka EventBus</a>)</p>\n\n<p>I think MQ and eventBus both use the pub/sub pattern. MQ seems more powerful and heavy, compared to Guava.</p>\n\n<p>But what's the real difference? Is EventBus the same as MQ?</p>\n"},{"tags":["java","xsd"],"answers":[{"comments":[{"owner":{"account_id":21103443,"reputation":15,"user_id":15512911,"display_name":"dtchmnt"},"score":0,"creation_date":1693242262,"post_id":76994645,"comment_id":135731714,"body_markdown":"Currently I am doing something like that. I am unpacking the jar with maven, and then I am copying the target XSDs in my resources folder, so I can use the specified XSD for reference. Even if I could use the XSD from the target resource, somehow, this could be manageable","body":"Currently I am doing something like that. I am unpacking the jar with maven, and then I am copying the target XSDs in my resources folder, so I can use the specified XSD for reference. Even if I could use the XSD from the target resource, somehow, this could be manageable"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1693242779,"post_id":76994645,"comment_id":135731803,"body_markdown":"I think this will be the best way to do your task with a slight improvement: The downloaded schema should be treated as a generated resource (for not being part of your revision control and mvn clean to move it away). For this reason you should put it somewhere under your build directory (target) and add this as source directory in your JAXB plugin.","body":"I think this will be the best way to do your task with a slight improvement: The downloaded schema should be treated as a generated resource (for not being part of your revision control and mvn clean to move it away). For this reason you should put it somewhere under your build directory (target) and add this as source directory in your JAXB plugin."},{"owner":{"account_id":21103443,"reputation":15,"user_id":15512911,"display_name":"dtchmnt"},"score":0,"creation_date":1693317184,"post_id":76994645,"comment_id":135742593,"body_markdown":"I have yet to find a way of referencing XSDs that exist under target package (generated classes)","body":"I have yet to find a way of referencing XSDs that exist under target package (generated classes)"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1693322264,"post_id":76994645,"comment_id":135743831,"body_markdown":"If you have your own schema e.g. within directory src/main/schema and your copied one in target/schema: &lt;xs:import ... schemaLocation=&quot;../../../target/schema/copied-schema.xsd&quot;/&gt;.","body":"If you have your own schema e.g. within directory src/main/schema and your copied one in target/schema: &lt;xs:import ... schemaLocation=&quot;../../../target/schema/copied-schema.xsd&quot;/&gt;."},{"owner":{"account_id":21103443,"reputation":15,"user_id":15512911,"display_name":"dtchmnt"},"score":0,"creation_date":1693326471,"post_id":76994645,"comment_id":135744742,"body_markdown":"apparently spending too much time on a simple problem, forces you to think of more complex solutions that the simple ones. I will try it, and im pretty sure it will work. thanks!","body":"apparently spending too much time on a simple problem, forces you to think of more complex solutions that the simple ones. I will try it, and im pretty sure it will work. thanks!"},{"owner":{"account_id":21103443,"reputation":15,"user_id":15512911,"display_name":"dtchmnt"},"score":0,"creation_date":1694078388,"post_id":76994645,"comment_id":135844938,"body_markdown":"I am accepting your answer @karsten since this is the one I used.","body":"I am accepting your answer @karsten since this is the one I used."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693241244,"creation_date":1693241244,"answer_id":76994645,"question_id":76994446,"body_markdown":"The easiest and most reliable way is to extract the dependent schema out of the JAR file and put aside your own schema.","title":"How to create an XSD that references another XSD that exists in a separate jar - dependency","body":"<p>The easiest and most reliable way is to extract the dependent schema out of the JAR file and put aside your own schema.</p>\n"}],"owner":{"account_id":21103443,"reputation":15,"user_id":15512911,"display_name":"dtchmnt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76994645,"answer_count":1,"score":0,"last_activity_date":1693241244,"creation_date":1693239201,"question_id":76994446,"body_markdown":"I want to create an XSD, lets call that XSD_A, that resides under module: module_A.\r\nI want to reference, by either including or importing another XSD, lets call that XSD_B from another module, module_B.\r\n\r\nXSD_B resides under the resources of module_B and should therefore be packaged into a JAR.\r\nI want the XSD_A to be compiled by xjc to create Java Classes on compile time, which I am properly using as a maven configuration without a problem so far.\r\n\r\nXSD_B is an official XSD that starts with:\r\n\r\n\r\n      &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://my.own.url&quot; xmlns:vc=&quot;http://www.w3.org/2007/XMLSchema-versioning&quot; targetNamespace=&quot;http://my.own.targetNamespace&quot; elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; vc:minVersion=&quot;1.1&quot;&gt;\r\n\r\nMy initial approaches are:\r\n\r\n   \r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n     xmlns=&quot;http://example.com/b&quot;\r\n    xmlns:ec=&quot;http://my.own.targetNamespace&quot;\r\n    targetNamespace=&quot;http://example.com/b&quot;\r\n    elementFormDefault=&quot;qualified&quot;&gt;\r\n    &lt;xs:import namespace=&quot;http://my.own.targetNamespace&quot; schemaLocation=&quot;/PATH_TO_REFENCE_XSD_B&quot;/&gt;\r\n\r\n\r\nI have also tried to use:\r\n\r\n     schemaLocation=&quot;/PATH_TO_REFENCE_XSD_B&quot;/\r\n\r\n\r\nWithout success.\r\nMy questions are:\r\n1. How can I do this?\r\n2. Will the XSD be build properly in non-local compilation? ","title":"How to create an XSD that references another XSD that exists in a separate jar - dependency","body":"<p>I want to create an XSD, lets call that XSD_A, that resides under module: module_A.\nI want to reference, by either including or importing another XSD, lets call that XSD_B from another module, module_B.</p>\n<p>XSD_B resides under the resources of module_B and should therefore be packaged into a JAR.\nI want the XSD_A to be compiled by xjc to create Java Classes on compile time, which I am properly using as a maven configuration without a problem so far.</p>\n<p>XSD_B is an official XSD that starts with:</p>\n<pre><code>  &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;http://my.own.url&quot; xmlns:vc=&quot;http://www.w3.org/2007/XMLSchema-versioning&quot; targetNamespace=&quot;http://my.own.targetNamespace&quot; elementFormDefault=&quot;unqualified&quot; attributeFormDefault=&quot;unqualified&quot; vc:minVersion=&quot;1.1&quot;&gt;\n</code></pre>\n<p>My initial approaches are:</p>\n<pre><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n xmlns=&quot;http://example.com/b&quot;\nxmlns:ec=&quot;http://my.own.targetNamespace&quot;\ntargetNamespace=&quot;http://example.com/b&quot;\nelementFormDefault=&quot;qualified&quot;&gt;\n&lt;xs:import namespace=&quot;http://my.own.targetNamespace&quot; schemaLocation=&quot;/PATH_TO_REFENCE_XSD_B&quot;/&gt;\n</code></pre>\n<p>I have also tried to use:</p>\n<pre><code> schemaLocation=&quot;/PATH_TO_REFENCE_XSD_B&quot;/\n</code></pre>\n<p>Without success.\nMy questions are:</p>\n<ol>\n<li>How can I do this?</li>\n<li>Will the XSD be build properly in non-local compilation?</li>\n</ol>\n"},{"tags":["java","jackson","xmlmapper"],"comments":[{"owner":{"account_id":1529285,"reputation":400,"user_id":1426921,"accept_rate":57,"display_name":"marciel.deg"},"score":0,"creation_date":1693231263,"post_id":76969064,"comment_id":135729261,"body_markdown":"I came up with an improvised solution by creating a serializer for the Person class, but it didn&#39;t turn out elegant. I have other classes in similar situations within the project, and this generates extra work that I would like to avoid.","body":"I came up with an improvised solution by creating a serializer for the Person class, but it didn&#39;t turn out elegant. I have other classes in similar situations within the project, and this generates extra work that I would like to avoid."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1693241238,"post_id":76969064,"comment_id":135731540,"body_markdown":"Does this answer your question? [jackson XML serialization: list of inherited classes](https://stackoverflow.com/questions/48155494/jackson-xml-serialization-list-of-inherited-classes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48155494/jackson-xml-serialization-list-of-inherited-classes\">jackson XML serialization: list of inherited classes</a>"},{"owner":{"account_id":1529285,"reputation":400,"user_id":1426921,"accept_rate":57,"display_name":"marciel.deg"},"score":0,"creation_date":1693250086,"post_id":76969064,"comment_id":135733098,"body_markdown":"The solution you indicated proposes to wrap the class in a list just to force this effect. Are you sure it&#39;s a good solution?","body":"The solution you indicated proposes to wrap the class in a list just to force this effect. Are you sure it&#39;s a good solution?"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1693251926,"post_id":76969064,"comment_id":135733392,"body_markdown":"You missed the point. The list is the detail of that implementation. The real thing for you are the annotations at either property level or class level that will identify your classes to the xml nodes.","body":"You missed the point. The list is the detail of that implementation. The real thing for you are the annotations at either property level or class level that will identify your classes to the xml nodes."},{"owner":{"account_id":1529285,"reputation":400,"user_id":1426921,"accept_rate":57,"display_name":"marciel.deg"},"score":0,"creation_date":1693256581,"post_id":76969064,"comment_id":135734120,"body_markdown":"With @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT) an extra tag is added in the xml: &quot;&lt;person&gt;&lt;name&gt;P1&lt;/name&gt;&lt;pet&gt;&lt;dog&gt;&lt;name&gt;Pluto &lt;/name&gt;&lt;/dog&gt;&lt;/pet&gt;&lt;/person&gt;&quot;. That&#39;s why in the other thread they added a list, to try to use the @JacksonXmlElementWrapper(useWrapping = false) feature to remove the outermost tag. As we say in Portuguese, a tremendous &quot;gambiarra&quot;.","body":"With @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT) an extra tag is added in the xml: &quot;&lt;person&gt;&lt;name&gt;P1&lt;/name&gt;&lt;pet&gt;&lt;dog&gt;&lt;name&gt;Pluto &lt;/name&gt;&lt;/dog&gt;&lt;/pet&gt;&lt;/person&gt;&quot;. That&#39;s why in the other thread they added a list, to try to use the @JacksonXmlElementWrapper(useWrapping = false) feature to remove the outermost tag. As we say in Portuguese, a tremendous &quot;gambiarra&quot;."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1693257003,"post_id":76969064,"comment_id":135734166,"body_markdown":"I wouldn&#39;t say it is a &quot;gambiarra&quot; as it is defined at the Jackson specification it needs a wrapper. They mentioned it on their answer. You might be able to do it with a Custom Deserializer though. Not sure if the custom one you created is doing it properly if so, you already have the most elegant way of solving it :)","body":"I wouldn&#39;t say it is a &quot;gambiarra&quot; as it is defined at the Jackson specification it needs a wrapper. They mentioned it on their answer. You might be able to do it with a Custom Deserializer though. Not sure if the custom one you created is doing it properly if so, you already have the most elegant way of solving it :)"}],"owner":{"account_id":1529285,"reputation":400,"user_id":1426921,"accept_rate":57,"display_name":"marciel.deg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693240823,"creation_date":1692878403,"question_id":76969064,"body_markdown":"How can I change a root tag from a property according to the class type of a property?\r\n\r\nConsider this code:\r\n```\r\npublic class Animal {\r\n  private String name;\r\n}\r\n\r\npublic class Dog extends Animal {\r\n}\r\n\r\npublic class Cat extends Animal {\r\n}\r\n\r\npublic class Person {\r\n  private String name;\r\n  private Animal pet;\r\n}\r\n\r\nPerson p1 = new Person(&quot;P1&quot;);\r\np1.setPet(new Dog(&quot;Pluto&quot;));\r\nSystem.out.println(new XMlMapper().writeValueAsString(p1));\r\n\r\nPerson p2 = new Person(&quot;P2&quot;);\r\np2.setPet(new Cat(&quot;Tom&quot;));\r\nSystem.out.println(new XMlMapper().writeValueAsString(p2));\r\n```\r\nI want this output:\r\n```\r\n&lt;person&gt;\r\n  &lt;name&gt;P1&lt;/name&gt;\r\n  &lt;dog&gt;\r\n    &lt;name&gt;Pluto&lt;/name&gt;\r\n  &lt;/dog&gt;\r\n&lt;/person&gt;\r\n\r\n&lt;person&gt;\r\n  &lt;name&gt;P2&lt;/name&gt;\r\n  &lt;cat&gt;\r\n    &lt;name&gt;Tom&lt;/name&gt;\r\n  &lt;/cat&gt;\r\n&lt;/person&gt;\r\n```\r\nHow can I do it using Jackson?\r\n","title":"Jackson XML - change tag according to the property type","body":"<p>How can I change a root tag from a property according to the class type of a property?</p>\n<p>Consider this code:</p>\n<pre><code>public class Animal {\n  private String name;\n}\n\npublic class Dog extends Animal {\n}\n\npublic class Cat extends Animal {\n}\n\npublic class Person {\n  private String name;\n  private Animal pet;\n}\n\nPerson p1 = new Person(&quot;P1&quot;);\np1.setPet(new Dog(&quot;Pluto&quot;));\nSystem.out.println(new XMlMapper().writeValueAsString(p1));\n\nPerson p2 = new Person(&quot;P2&quot;);\np2.setPet(new Cat(&quot;Tom&quot;));\nSystem.out.println(new XMlMapper().writeValueAsString(p2));\n</code></pre>\n<p>I want this output:</p>\n<pre><code>&lt;person&gt;\n  &lt;name&gt;P1&lt;/name&gt;\n  &lt;dog&gt;\n    &lt;name&gt;Pluto&lt;/name&gt;\n  &lt;/dog&gt;\n&lt;/person&gt;\n\n&lt;person&gt;\n  &lt;name&gt;P2&lt;/name&gt;\n  &lt;cat&gt;\n    &lt;name&gt;Tom&lt;/name&gt;\n  &lt;/cat&gt;\n&lt;/person&gt;\n</code></pre>\n<p>How can I do it using Jackson?</p>\n"},{"tags":["java","guice","javalin"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1693242533,"post_id":76994582,"comment_id":135731758,"body_markdown":"This simply isn&#39;t possible in java.","body":"This simply isn&#39;t possible in java."},{"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"score":0,"creation_date":1693243308,"post_id":76994582,"comment_id":135731886,"body_markdown":"Register a globally custom annotation in the project to be used by any class so I dont have to call the annotation implementation every time, isnt that possible in Java? I find this statement controversial","body":"Register a globally custom annotation in the project to be used by any class so I dont have to call the annotation implementation every time, isnt that possible in Java? I find this statement controversial"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1693244638,"post_id":76994582,"comment_id":135732096,"body_markdown":"No. That&#39;s not possible or how any of this works. Annotations do only two things: [A] things you can read at runtime. There is no &#39;registering&#39; nor any &#39;automated application&#39;. The code you wrote here, that&#39;s all this covers, and [B] something that __compiler plugins__ can see. But they can&#39;t modify existing code short of cloning Project Lombok and doing what they do. What you try to do here is rather fundamentally runtime based, and thus, not possible either. in short: &quot;This simply isn&#39;t possible in java&quot;.","body":"No. That&#39;s not possible or how any of this works. Annotations do only two things: [A] things you can read at runtime. There is no &#39;registering&#39; nor any &#39;automated application&#39;. The code you wrote here, that&#39;s all this covers, and [B] something that <b>compiler plugins</b> can see. But they can&#39;t modify existing code short of cloning Project Lombok and doing what they do. What you try to do here is rather fundamentally runtime based, and thus, not possible either. in short: &quot;This simply isn&#39;t possible in java&quot;."},{"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"score":0,"creation_date":1698271626,"post_id":76994582,"comment_id":136385812,"body_markdown":"This is probably something you _could_ do with an AOP framework, but I won&#39;t elaborate on how because I think it&#39;s not something you _should_ do.\n\nUsing standard approaches for data validation and normalization seem better and easier to both implement and maintain.","body":"This is probably something you <i>could</i> do with an AOP framework, but I won&#39;t elaborate on how because I think it&#39;s not something you <i>should</i> do.  Using standard approaches for data validation and normalization seem better and easier to both implement and maintain."}],"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693240555,"creation_date":1693240555,"question_id":76994582,"body_markdown":"Im working on a project using only the Javalin framework and google Guice inject.\r\n\r\nIm having a hard time recording a custom annotation in the project to be used by any class\r\n\r\nI created a custom annotation to make a regex in a string of a class\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.FIELD)\r\n    public @interface Regex {}\r\n\r\nHere is the implementation for this annotation\r\n\r\n    public class RegexProcessor {\r\n    \r\n        public static void process(Object obj) {\r\n            Field[] fields = obj.getClass().getDeclaredFields();\r\n            for (Field field : fields) {\r\n                if (field.isAnnotationPresent(Regex.class) &amp;&amp; field.getType().equals(String.class)) {\r\n                    try {\r\n                        field.setAccessible(true);\r\n                        String originalValue = (String) field.get(obj);\r\n                        if (originalValue != null) {\r\n                            String result = originalValue .replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\r\n                            field.set(obj, result);\r\n                        }\r\n                    } catch (IllegalAccessException e) {\r\n                        log.error(&quot;error: &quot;, e);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nTo use my note, I have to do this\r\n\r\n    ExampleClass example = new ExampleClass(&quot; Hollo Word &quot;);\r\n    RegexProcessor.process(example); // I want to have to do it every time\r\n    System.out.println(example.getText());\r\n\r\nClass\r\n\r\n    class ExampleClass {\r\n            @Regex\r\n            private String text;\r\n    \r\n            public ExampleClass(String text) {\r\n                this.text = text;\r\n            }\r\n    \r\n            public String getText() {\r\n                return text;\r\n            }\r\n    \r\n            // Other fields and methods...\r\n        }\r\n\r\n\r\n\r\nIf anyone has any example of how I can achieve this","title":"Register custom annotation in Java","body":"<p>Im working on a project using only the Javalin framework and google Guice inject.</p>\n<p>Im having a hard time recording a custom annotation in the project to be used by any class</p>\n<p>I created a custom annotation to make a regex in a string of a class</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Regex {}\n</code></pre>\n<p>Here is the implementation for this annotation</p>\n<pre><code>public class RegexProcessor {\n\n    public static void process(Object obj) {\n        Field[] fields = obj.getClass().getDeclaredFields();\n        for (Field field : fields) {\n            if (field.isAnnotationPresent(Regex.class) &amp;&amp; field.getType().equals(String.class)) {\n                try {\n                    field.setAccessible(true);\n                    String originalValue = (String) field.get(obj);\n                    if (originalValue != null) {\n                        String result = originalValue .replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\n                        field.set(obj, result);\n                    }\n                } catch (IllegalAccessException e) {\n                    log.error(&quot;error: &quot;, e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>To use my note, I have to do this</p>\n<pre><code>ExampleClass example = new ExampleClass(&quot; Hollo Word &quot;);\nRegexProcessor.process(example); // I want to have to do it every time\nSystem.out.println(example.getText());\n</code></pre>\n<p>Class</p>\n<pre><code>class ExampleClass {\n        @Regex\n        private String text;\n\n        public ExampleClass(String text) {\n            this.text = text;\n        }\n\n        public String getText() {\n            return text;\n        }\n\n        // Other fields and methods...\n    }\n</code></pre>\n<p>If anyone has any example of how I can achieve this</p>\n"},{"tags":["java","zip","war","truezip"],"comments":[{"owner":{"account_id":3044,"reputation":12486,"user_id":4308,"accept_rate":84,"display_name":"Benedikt Waldvogel"},"score":2,"creation_date":1275999751,"post_id":2223434,"comment_id":3060863,"body_markdown":"found this post in the truezip mailing list: https://truezip.dev.java.net/servlets/ReadMsg?listName=users&amp;msgNo=612\nconclusion: truezip currently **does not support** fast append operations","body":"found this post in the truezip mailing list: <a href=\"https://truezip.dev.java.net/servlets/ReadMsg?listName=users&amp;msgNo=612\" rel=\"nofollow noreferrer\">truezip.dev.java.net/servlets/&hellip;</a> conclusion: truezip currently <b>does not support</b> fast append operations"}],"answers":[{"comments":[{"owner":{"account_id":43027,"reputation":9756,"user_id":125585,"accept_rate":100,"display_name":"Grouchal"},"score":1,"creation_date":1265702538,"post_id":2223447,"comment_id":2182349,"body_markdown":"I am not sure how your proposed solution differs from what I am doing already - how is this more automated?","body":"I am not sure how your proposed solution differs from what I am doing already - how is this more automated?"},{"owner":{"account_id":43027,"reputation":9756,"user_id":125585,"accept_rate":100,"display_name":"Grouchal"},"score":1,"creation_date":1266245551,"post_id":2223447,"comment_id":2228020,"body_markdown":"I am still keen to understand your solution - you say instead or un-war then re-war I should read the file and then write to a new war - is this not the same thing?\n\nPlease can you explain","body":"I am still keen to understand your solution - you say instead or un-war then re-war I should read the file and then write to a new war - is this not the same thing?  Please can you explain"}],"tags":[],"owner":{"account_id":34883,"reputation":3924,"user_id":98642,"accept_rate":86,"display_name":"Michael Krauklis"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1265649560,"creation_date":1265649560,"answer_id":2223447,"question_id":2223434,"body_markdown":"See this [bug report][1].\r\n\r\n&gt; Using append mode on any kind of\r\n&gt; structured data like zip files or tar\r\n&gt; files is not something you can really\r\n&gt; expect to work. These file formats\r\n&gt; have an intrinsic &quot;end of file&quot;\r\n&gt; indication built into the data format.\r\n\r\nIf you really want to skip the intermediate step of un-waring/re-waring, you could read the war file file, get all the zip entries, then write to a new war file &quot;appending&quot; the new entries you wanted to add.  Not perfect, but at least a more automated solution.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6192937","title":"Appending files to a zip file with Java","body":"<p>See this <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6192937\" rel=\"nofollow noreferrer\">bug report</a>.</p>\n<blockquote>\n<p>Using append mode on any kind of\nstructured data like zip files or tar\nfiles is not something you can really\nexpect to work. These file formats\nhave an intrinsic &quot;end of file&quot;\nindication built into the data format.</p>\n</blockquote>\n<p>If you really want to skip the intermediate step of un-waring/re-waring, you could read the war file file, get all the zip entries, then write to a new war file &quot;appending&quot; the new entries you wanted to add.  Not perfect, but at least a more automated solution.</p>\n"},{"tags":[],"owner":{"account_id":20213,"reputation":190030,"user_id":48082,"accept_rate":96,"display_name":"Cheeso"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265817961,"creation_date":1265817961,"answer_id":2238286,"question_id":2223434,"body_markdown":"I don&#39;t know of a Java library that does what you describe.  But what you described is practical.  You can do it in .NET, using [DotNetZip][1].  \r\n\r\nMichael Krauklis is correct that you cannot simply &quot;append&quot; data to a war file or zip file, but it is not because there is an &quot;end of file&quot; indication, strictly speaking, in a war file.  It is because the war (zip) format includes a directory, which is normally present at the end of the file, that contains metadata for the various entries in the war file.  Naively appending to a war file results in no update to the directory, and so you just have a war file with junk appended to it. \r\n\r\nWhat&#39;s necessary is an intelligent class that understands the format, and can read+update a war file or zip file, including the directory as appropriate. DotNetZip does this, without uncompressing/recompressing the unchanged entries, just as you described or desired. \r\n\r\n\r\n  [1]: http://dotnetzip.codeplex.com","title":"Appending files to a zip file with Java","body":"<p>I don't know of a Java library that does what you describe.  But what you described is practical.  You can do it in .NET, using <a href=\"http://dotnetzip.codeplex.com\" rel=\"nofollow noreferrer\">DotNetZip</a>.  </p>\n\n<p>Michael Krauklis is correct that you cannot simply \"append\" data to a war file or zip file, but it is not because there is an \"end of file\" indication, strictly speaking, in a war file.  It is because the war (zip) format includes a directory, which is normally present at the end of the file, that contains metadata for the various entries in the war file.  Naively appending to a war file results in no update to the directory, and so you just have a war file with junk appended to it. </p>\n\n<p>What's necessary is an intelligent class that understands the format, and can read+update a war file or zip file, including the directory as appropriate. DotNetZip does this, without uncompressing/recompressing the unchanged entries, just as you described or desired. </p>\n"},{"comments":[{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":0,"creation_date":1266232516,"post_id":2251494,"comment_id":2226792,"body_markdown":"@carlos regarding your blog post: which Java version did you use? I just tested getting size of a 148M ZIP archive with standard API (`new ZipFile(file).size()`) and latest 7Zip bindings with Java 1.6.0_17 on a amd64 Linux system (4 cores). The standard API outperformed 7Zip by far (at least for the task you present on your blog: getting number of entries). Java took an avg of 1.5ms while 7Zip needed an avg of 350ms for 100 runs (excluding warmup). So from my perspective, there is no need to throw native libraries at this kind of problem.","body":"@carlos regarding your blog post: which Java version did you use? I just tested getting size of a 148M ZIP archive with standard API (<code>new ZipFile(file).size()</code>) and latest 7Zip bindings with Java 1.6.0_17 on a amd64 Linux system (4 cores). The standard API outperformed 7Zip by far (at least for the task you present on your blog: getting number of entries). Java took an avg of 1.5ms while 7Zip needed an avg of 350ms for 100 runs (excluding warmup). So from my perspective, there is no need to throw native libraries at this kind of problem."},{"owner":{"account_id":43027,"reputation":9756,"user_id":125585,"accept_rate":100,"display_name":"Grouchal"},"score":0,"creation_date":1266245769,"post_id":2251494,"comment_id":2228041,"body_markdown":"Didn&#39;t realise that this was going to use a native library thanks for point that out - will not investigate further.","body":"Didn&#39;t realise that this was going to use a native library thanks for point that out - will not investigate further."},{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1268767690,"post_id":2251494,"comment_id":2445859,"body_markdown":"@Carlos: If you have some free time, can you compare extraction to Apache common compress (http://commons.apache.org/compress/)?","body":"@Carlos: If you have some free time, can you compare extraction to Apache common compress (<a href=\"http://commons.apache.org/compress/\" rel=\"nofollow noreferrer\">commons.apache.org/compress</a>)?"},{"owner":{"account_id":51695,"reputation":4428,"user_id":154494,"accept_rate":50,"display_name":"Carlos Tasada"},"score":0,"creation_date":1268771170,"post_id":2251494,"comment_id":2446415,"body_markdown":"@dma_k: I could do the test but the documentation says &#39;gzip support is provided by the java.util.zip package of the Java class library.&#39; So I don&#39;t expect any difference","body":"@dma_k: I could do the test but the documentation says &#39;gzip support is provided by the java.util.zip package of the Java class library.&#39; So I don&#39;t expect any difference"},{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":0,"creation_date":1268912846,"post_id":2251494,"comment_id":2459489,"body_markdown":"I confirm that (after checking `commons-compress` sources): it utilizes available algorithms where possible. They have created their own `ZipFile` implementation, but it is based on `java.util.zip.Inflater` et al. I don&#39;t expect any tremendous speed boost as well, but comparison of extraction from .zip file might be interesing for you just for completeness.","body":"I confirm that (after checking <code>commons-compress</code> sources): it utilizes available algorithms where possible. They have created their own <code>ZipFile</code> implementation, but it is based on <code>java.util.zip.Inflater</code> et al. I don&#39;t expect any tremendous speed boost as well, but comparison of extraction from .zip file might be interesing for you just for completeness."}],"tags":[],"owner":{"account_id":51695,"reputation":4428,"user_id":154494,"accept_rate":50,"display_name":"Carlos Tasada"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265974870,"creation_date":1265974870,"answer_id":2251494,"question_id":2223434,"body_markdown":"As Cheeso says, there&#39;s no way of doing it. AFAIK the zip front-ends are doing exactly the same as you internally.\r\n\r\nAnyway if you&#39;re worried about the speed of extracting/compressing everything, you may want to try the [SevenZipJBindings][1] library.\r\n\r\nI covered this library in my [blog][2] some months ago (sorry for the auto-promotion). Just as an example, extracting a 104MB zip file using the java.util.zip took me 12 seconds, while using this library took 4 seconds.\r\n\r\nIn both links you can find examples about how to use it.\r\n\r\nHope it helps.\r\n\r\n\r\n  [1]: http://sevenzipjbind.sourceforge.net/\r\n  [2]: http://ctasada.blogspot.com/2009/09/best-way-of-working-with-zip-files-in.html","title":"Appending files to a zip file with Java","body":"<p>As Cheeso says, there's no way of doing it. AFAIK the zip front-ends are doing exactly the same as you internally.</p>\n\n<p>Anyway if you're worried about the speed of extracting/compressing everything, you may want to try the <a href=\"http://sevenzipjbind.sourceforge.net/\" rel=\"nofollow noreferrer\">SevenZipJBindings</a> library.</p>\n\n<p>I covered this library in my <a href=\"http://ctasada.blogspot.com/2009/09/best-way-of-working-with-zip-files-in.html\" rel=\"nofollow noreferrer\">blog</a> some months ago (sorry for the auto-promotion). Just as an example, extracting a 104MB zip file using the java.util.zip took me 12 seconds, while using this library took 4 seconds.</p>\n\n<p>In both links you can find examples about how to use it.</p>\n\n<p>Hope it helps.</p>\n"},{"comments":[{"owner":{"account_id":43027,"reputation":9756,"user_id":125585,"accept_rate":100,"display_name":"Grouchal"},"score":0,"creation_date":1266245699,"post_id":2251676,"comment_id":2228034,"body_markdown":"This looks very good - would like to know if there are any performance issues to know about?","body":"This looks very good - would like to know if there are any performance issues to know about?"},{"owner":{"account_id":13884,"reputation":1034,"user_id":28132,"accept_rate":80,"display_name":"gnlogic"},"score":0,"creation_date":1266324980,"post_id":2251676,"comment_id":2234913,"body_markdown":"So far I&#39;ve been able to use it effectively with moderately sized files (3 MB etc). Haven&#39;t run into any performance problems.","body":"So far I&#39;ve been able to use it effectively with moderately sized files (3 MB etc). Haven&#39;t run into any performance problems."},{"owner":{"account_id":35055,"reputation":2560,"user_id":99210,"display_name":"DJphilomath"},"score":6,"creation_date":1419634933,"post_id":2251676,"comment_id":43741488,"body_markdown":"There&#39;s a new option in Java 7, a [ZipFileSystem](http://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html)","body":"There&#39;s a new option in Java 7, a <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">ZipFileSystem</a>"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1467726093,"post_id":2251676,"comment_id":63833918,"body_markdown":"It must be noted that [TrueVFS](https://truevfs.java.net/), the successor of TrueZIP, uses Java 7 NIO 2 features under the hood when appropriate but offers [much more features](https://truevfs.java.net/features.html) like thread-safe async parallel compression.","body":"It must be noted that <a href=\"https://truevfs.java.net/\" rel=\"nofollow noreferrer\">TrueVFS</a>, the successor of TrueZIP, uses Java 7 NIO 2 features under the hood when appropriate but offers <a href=\"https://truevfs.java.net/features.html\" rel=\"nofollow noreferrer\">much more features</a> like thread-safe async parallel compression."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1473707897,"post_id":2251676,"comment_id":66235693,"body_markdown":"Added TrueVFS code samples in [separate answer](http://stackoverflow.com/a/39457237/603516).","body":"Added TrueVFS code samples in <a href=\"http://stackoverflow.com/a/39457237/603516\">separate answer</a>."}],"tags":[],"owner":{"account_id":13884,"reputation":1034,"user_id":28132,"accept_rate":80,"display_name":"gnlogic"},"comment_count":5,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1497860434,"creation_date":1265976825,"answer_id":2251676,"question_id":2223434,"body_markdown":"I had a similar requirement sometime back - but it was for reading and writing zip archives (.war format should be similar). I tried doing it with the existing Java Zip streams but found the writing part cumbersome - especially when directories where involved. \r\n\r\nI&#39;ll recommend you to try out the [TrueZIP][1] (open source - apache style licensed) library that exposes any archive as a virtual file system into which you can read and write like a normal filesystem. It worked like a charm for me and greatly simplified my development. \r\n\r\n  [1]: http://www.mojohaus.org/truezip/truezip-maven-plugin/","title":"Appending files to a zip file with Java","body":"<p>I had a similar requirement sometime back - but it was for reading and writing zip archives (.war format should be similar). I tried doing it with the existing Java Zip streams but found the writing part cumbersome - especially when directories where involved. </p>\n\n<p>I'll recommend you to try out the <a href=\"http://www.mojohaus.org/truezip/truezip-maven-plugin/\" rel=\"noreferrer\">TrueZIP</a> (open source - apache style licensed) library that exposes any archive as a virtual file system into which you can read and write like a normal filesystem. It worked like a charm for me and greatly simplified my development. </p>\n"},{"comments":[{"owner":{"account_id":43027,"reputation":9756,"user_id":125585,"accept_rate":100,"display_name":"Grouchal"},"score":0,"creation_date":1266245419,"post_id":2265206,"comment_id":2228004,"body_markdown":"My war file is 30Mb compressed - not sure this approach will be the best way as it will require a lot of memory - I am already caching a lot of database queries in memory and this might make the memory footprint too big.","body":"My war file is 30Mb compressed - not sure this approach will be the best way as it will require a lot of memory - I am already caching a lot of database queries in memory and this might make the memory footprint too big."},{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":3,"creation_date":1266247084,"post_id":2265206,"comment_id":2228180,"body_markdown":"@Grouchal Actually you won&#39;t ever need more memory than `BUFFER` (I&#39;ve chosen 4MB, but you&#39;re free to tailor it to your needs - it shouldn&#39;t hurt to reduce it to a few KB only). The file is never stored entirely in memory.","body":"@Grouchal Actually you won&#39;t ever need more memory than <code>BUFFER</code> (I&#39;ve chosen 4MB, but you&#39;re free to tailor it to your needs - it shouldn&#39;t hurt to reduce it to a few KB only). The file is never stored entirely in memory."},{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":0,"creation_date":1266247424,"post_id":2265206,"comment_id":2228224,"body_markdown":"the idea is to decompress contents of the existing war into `BUFFER` and compress it into a new archive - entry after entry. After that, you end up with the same archive that&#39;s ready to take some more entries. I&#39;ve chosen to write &quot;42&quot; into answer.txt. That&#39;s where you should place your code to append more entries.","body":"the idea is to decompress contents of the existing war into <code>BUFFER</code> and compress it into a new archive - entry after entry. After that, you end up with the same archive that&#39;s ready to take some more entries. I&#39;ve chosen to write &quot;42&quot; into answer.txt. That&#39;s where you should place your code to append more entries."},{"owner":{"account_id":43027,"reputation":9756,"user_id":125585,"accept_rate":100,"display_name":"Grouchal"},"score":0,"creation_date":1266318297,"post_id":2265206,"comment_id":2234303,"body_markdown":"How would this approach compare to using TrueZip - mentioned by gnlogic? TrueZip seems to really append to the file","body":"How would this approach compare to using TrueZip - mentioned by gnlogic? TrueZip seems to really append to the file"},{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":0,"creation_date":1266323108,"post_id":2265206,"comment_id":2234743,"body_markdown":"Sorry, I didn&#39;t know this library. After digging through the code, I still don&#39;t know what it&#39;s doing, but it&#39;s doing it pretty fast :) So yes, it seem to really append content to a file.","body":"Sorry, I didn&#39;t know this library. After digging through the code, I still don&#39;t know what it&#39;s doing, but it&#39;s doing it pretty fast :) So yes, it seem to really append content to a file."},{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":0,"creation_date":1266323291,"post_id":2265206,"comment_id":2234764,"body_markdown":"However, as you said you want &quot;to copy the war file and then just append the files&quot; I assume you don&#39;t want to modify the source. Using TrueZip, you&#39;ll have to copy the file which isn&#39;t necessary with the code above. Therefore, both approaches should finally be quite similar in performance.","body":"However, as you said you want &quot;to copy the war file and then just append the files&quot; I assume you don&#39;t want to modify the source. Using TrueZip, you&#39;ll have to copy the file which isn&#39;t necessary with the code above. Therefore, both approaches should finally be quite similar in performance."},{"owner":{"account_id":13884,"reputation":1034,"user_id":28132,"accept_rate":80,"display_name":"gnlogic"},"score":0,"creation_date":1266325077,"post_id":2265206,"comment_id":2234926,"body_markdown":"Truezip uses the concept of treating the zip file like a virtual file system. If you wanna copy and append - I bet that should be pretty easy too.","body":"Truezip uses the concept of treating the zip file like a virtual file system. If you wanna copy and append - I bet that should be pretty easy too."},{"owner":{"account_id":160483,"reputation":10670,"user_id":380587,"accept_rate":89,"display_name":"Adam Schmideg"},"score":5,"creation_date":1282594984,"post_id":2265206,"comment_id":3720348,"body_markdown":"If you get a _ZipException - invalid entry compressed size_ with this approach, see http://www.coderanch.com/t/275390/Streams/java/ZipException-invalid-entry-compressed-size","body":"If you get a <i>ZipException - invalid entry compressed size</i> with this approach, see <a href=\"http://www.coderanch.com/t/275390/Streams/java/ZipException-invalid-entry-compressed-size\" rel=\"nofollow noreferrer\">coderanch.com/t/275390/Streams/java/&hellip;</a>"},{"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"score":0,"creation_date":1389012774,"post_id":2265206,"comment_id":31465828,"body_markdown":"This code will only work for a zip file that was created by the java encoder.  You can&#39;t reuse the ZipEntry because it stores the compressed size, which will depend on the compression settings.","body":"This code will only work for a zip file that was created by the java encoder.  You can&#39;t reuse the ZipEntry because it stores the compressed size, which will depend on the compression settings."}],"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"comment_count":9,"down_vote_count":3,"up_vote_count":55,"is_accepted":false,"score":52,"last_activity_date":1266229403,"creation_date":1266229061,"answer_id":2265206,"question_id":2223434,"body_markdown":"As others mentioned, it&#39;s not possible to append content to an existing zip (or war). However, it&#39;s possible to create a new zip on the fly without temporarily writing extracted content to disk. It&#39;s hard to guess how much faster this will be, but it&#39;s the fastest you can get (at least as far as I know) with standard Java. As mentioned by Carlos Tasada, SevenZipJBindings might squeeze out you some extra seconds, but porting this approach to SevenZipJBindings will still be faster than using temporary files with the same library.\r\n\r\nHere&#39;s some code that writes the contents of an existing zip (war.zip) and appends an extra file (answer.txt) to a new zip (append.zip). All it takes is Java 5 or later, no extra libraries needed.\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.Enumeration;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipFile;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n    public class Main {\r\n\r\n        // 4MB buffer\r\n        private static final byte[] BUFFER = new byte[4096 * 1024];\r\n        \r\n        /**\r\n         * copy input to output stream - available in several StreamUtils or Streams classes \r\n         */    \r\n        public static void copy(InputStream input, OutputStream output) throws IOException {\r\n            int bytesRead;\r\n            while ((bytesRead = input.read(BUFFER))!= -1) {\r\n                output.write(BUFFER, 0, bytesRead);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            // read war.zip and write to append.zip\r\n            ZipFile war = new ZipFile(&quot;war.zip&quot;);\r\n            ZipOutputStream append = new ZipOutputStream(new FileOutputStream(&quot;append.zip&quot;));\r\n    \r\n            // first, copy contents from existing war\r\n            Enumeration&lt;? extends ZipEntry&gt; entries = war.entries();\r\n            while (entries.hasMoreElements()) {\r\n                ZipEntry e = entries.nextElement();\r\n                System.out.println(&quot;copy: &quot; + e.getName());\r\n                append.putNextEntry(e);\r\n                if (!e.isDirectory()) {\r\n                    copy(war.getInputStream(e), append);\r\n                }\r\n                append.closeEntry();\r\n            }\r\n            \r\n            // now append some extra content\r\n            ZipEntry e = new ZipEntry(&quot;answer.txt&quot;);\r\n            System.out.println(&quot;append: &quot; + e.getName());\r\n            append.putNextEntry(e);\r\n            append.write(&quot;42\\n&quot;.getBytes());\r\n            append.closeEntry();\r\n            \r\n            // close\r\n            war.close();\r\n            append.close();\r\n        }\r\n    }","title":"Appending files to a zip file with Java","body":"<p>As others mentioned, it's not possible to append content to an existing zip (or war). However, it's possible to create a new zip on the fly without temporarily writing extracted content to disk. It's hard to guess how much faster this will be, but it's the fastest you can get (at least as far as I know) with standard Java. As mentioned by Carlos Tasada, SevenZipJBindings might squeeze out you some extra seconds, but porting this approach to SevenZipJBindings will still be faster than using temporary files with the same library.</p>\n\n<p>Here's some code that writes the contents of an existing zip (war.zip) and appends an extra file (answer.txt) to a new zip (append.zip). All it takes is Java 5 or later, no extra libraries needed.</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Enumeration;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipFile;\nimport java.util.zip.ZipOutputStream;\n\npublic class Main {\n\n    // 4MB buffer\n    private static final byte[] BUFFER = new byte[4096 * 1024];\n\n    /**\n     * copy input to output stream - available in several StreamUtils or Streams classes \n     */    \n    public static void copy(InputStream input, OutputStream output) throws IOException {\n        int bytesRead;\n        while ((bytesRead = input.read(BUFFER))!= -1) {\n            output.write(BUFFER, 0, bytesRead);\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        // read war.zip and write to append.zip\n        ZipFile war = new ZipFile(\"war.zip\");\n        ZipOutputStream append = new ZipOutputStream(new FileOutputStream(\"append.zip\"));\n\n        // first, copy contents from existing war\n        Enumeration&lt;? extends ZipEntry&gt; entries = war.entries();\n        while (entries.hasMoreElements()) {\n            ZipEntry e = entries.nextElement();\n            System.out.println(\"copy: \" + e.getName());\n            append.putNextEntry(e);\n            if (!e.isDirectory()) {\n                copy(war.getInputStream(e), append);\n            }\n            append.closeEntry();\n        }\n\n        // now append some extra content\n        ZipEntry e = new ZipEntry(\"answer.txt\");\n        System.out.println(\"append: \" + e.getName());\n        append.putNextEntry(e);\n        append.write(\"42\\n\".getBytes());\n        append.closeEntry();\n\n        // close\n        war.close();\n        append.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":724443,"reputation":11,"user_id":665213,"display_name":"Barmak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301340831,"creation_date":1301340831,"answer_id":5464090,"question_id":2223434,"body_markdown":"Yet Another Solution: You may find code below useful in other situations as well. I have used ant this way to compile Java directories, generating jar files, updating zip files,...\r\n\r\n    \tpublic static void antUpdateZip(String zipFilePath, String libsToAddDir) {\r\n\t\tProject p = new Project();\r\n\t\tp.init();\r\n\r\n\t\tTarget target = new Target();\r\n\t\ttarget.setName(&quot;zip&quot;);\r\n\t\tZip task = new Zip();\r\n\t\ttask.init();\r\n\t\ttask.setDestFile(new File(zipFilePath));\r\n\t\tZipFileSet zipFileSet = new ZipFileSet();\r\n\t\tzipFileSet.setPrefix(&quot;WEB-INF/lib&quot;);\r\n\t\tzipFileSet.setDir(new File(libsToAddDir));\r\n\t\ttask.addFileset(zipFileSet);\r\n\t\ttask.setUpdate(true);\r\n\r\n\t\ttask.setProject(p);\r\n\t\ttask.init();\r\n\t\ttarget.addTask(task);\r\n\t\ttarget.setProject(p);\r\n\t\tp.addTarget(target);\r\n\r\n\t\tDefaultLogger consoleLogger = new DefaultLogger();\r\n\t\tconsoleLogger.setErrorPrintStream(System.err);\r\n\t\tconsoleLogger.setOutputPrintStream(System.out);\r\n\t\tconsoleLogger.setMessageOutputLevel(Project.MSG_DEBUG);\r\n\t\tp.addBuildListener(consoleLogger);\r\n\r\n\t\ttry {\r\n\t\t\t// p.fireBuildStarted();\r\n\r\n\t\t\t// ProjectHelper helper = ProjectHelper.getProjectHelper();\r\n\t\t\t// p.addReference(&quot;ant.projectHelper&quot;, helper);\r\n\t\t\t// helper.parse(p, buildFile);\r\n\t\t\tp.executeTarget(target.getName());\r\n\t\t\t// p.fireBuildFinished(null);\r\n\t\t} catch (BuildException e) {\r\n\t\t\tp.fireBuildFinished(e);\r\n\t\t\tthrow new AssertionError(e);\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"Appending files to a zip file with Java","body":"<p>Yet Another Solution: You may find code below useful in other situations as well. I have used ant this way to compile Java directories, generating jar files, updating zip files,...</p>\n\n<pre><code>    public static void antUpdateZip(String zipFilePath, String libsToAddDir) {\n    Project p = new Project();\n    p.init();\n\n    Target target = new Target();\n    target.setName(\"zip\");\n    Zip task = new Zip();\n    task.init();\n    task.setDestFile(new File(zipFilePath));\n    ZipFileSet zipFileSet = new ZipFileSet();\n    zipFileSet.setPrefix(\"WEB-INF/lib\");\n    zipFileSet.setDir(new File(libsToAddDir));\n    task.addFileset(zipFileSet);\n    task.setUpdate(true);\n\n    task.setProject(p);\n    task.init();\n    target.addTask(task);\n    target.setProject(p);\n    p.addTarget(target);\n\n    DefaultLogger consoleLogger = new DefaultLogger();\n    consoleLogger.setErrorPrintStream(System.err);\n    consoleLogger.setOutputPrintStream(System.out);\n    consoleLogger.setMessageOutputLevel(Project.MSG_DEBUG);\n    p.addBuildListener(consoleLogger);\n\n    try {\n        // p.fireBuildStarted();\n\n        // ProjectHelper helper = ProjectHelper.getProjectHelper();\n        // p.addReference(\"ant.projectHelper\", helper);\n        // helper.parse(p, buildFile);\n        p.executeTarget(target.getName());\n        // p.fireBuildFinished(null);\n    } catch (BuildException e) {\n        p.fireBuildFinished(e);\n        throw new AssertionError(e);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1038437,"reputation":858,"user_id":1045017,"accept_rate":79,"display_name":"Liam Haworth"},"score":0,"creation_date":1326337172,"post_id":8829253,"comment_id":11023441,"body_markdown":"And with this code the new files have top priority over the old ones","body":"And with this code the new files have top priority over the old ones"},{"owner":{"account_id":1038437,"reputation":858,"user_id":1045017,"accept_rate":79,"display_name":"Liam Haworth"},"score":0,"creation_date":1326338094,"post_id":8829253,"comment_id":11023592,"body_markdown":"you can also change the buffer size to need, the one that is in the code right now is only for small files","body":"you can also change the buffer size to need, the one that is in the code right now is only for small files"},{"owner":{"account_id":281431,"reputation":3966,"user_id":577732,"accept_rate":92,"display_name":"user577732"},"score":0,"creation_date":1329362595,"post_id":8829253,"comment_id":11736893,"body_markdown":"really liked this code but i needed something else where i needed to add files into folders in the zip and not just the root of the zip i posted my edited method here http://stackoverflow.com/questions/9300115/java-appending-files-into-a-zip/9305091#9305091 hope it helps out others thanks a ton Liam for the great base code didn&#39;t really change much but i think that&#39;s a great method now :)","body":"really liked this code but i needed something else where i needed to add files into folders in the zip and not just the root of the zip i posted my edited method here <a href=\"http://stackoverflow.com/questions/9300115/java-appending-files-into-a-zip/9305091#9305091\" title=\"java appending files into a zip\">stackoverflow.com/questions/9300115/&hellip;</a> hope it helps out others thanks a ton Liam for the great base code didn&#39;t really change much but i think that&#39;s a great method now :)"}],"tags":[],"owner":{"account_id":1038437,"reputation":858,"user_id":1045017,"accept_rate":79,"display_name":"Liam Haworth"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1326333851,"creation_date":1326333851,"answer_id":8829253,"question_id":2223434,"body_markdown":"You could use this bit of code I wrote\r\n\r\n    public static void addFilesToZip(File source, File[] files)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\t\r\n\t\t\tFile tmpZip = File.createTempFile(source.getName(), null);\r\n\t\t\ttmpZip.delete();\r\n\t\t\tif(!source.renameTo(tmpZip))\r\n\t\t\t{\r\n\t\t\t\tthrow new Exception(&quot;Could not make temp file (&quot; + source.getName() + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\tZipInputStream zin = new ZipInputStream(new FileInputStream(tmpZip));\r\n\t\t    ZipOutputStream out = new ZipOutputStream(new FileOutputStream(source));\r\n\t\t    \r\n\t\t    for(int i = 0; i &lt; files.length; i++)\r\n\t\t    {\r\n\t\t    \tInputStream in = new FileInputStream(files[i]);\r\n\t\t    \tout.putNextEntry(new ZipEntry(files[i].getName()));\r\n\t\t    \tfor(int read = in.read(buffer); read &gt; -1; read = in.read(buffer))\r\n\t\t    \t{\r\n\t\t    \t\tout.write(buffer, 0, read);\r\n\t\t    \t}\r\n\t\t    \tout.closeEntry();\r\n\t\t    \tin.close();\r\n\t\t    }\r\n\t\t    \r\n\t\t    for(ZipEntry ze = zin.getNextEntry(); ze != null; ze = zin.getNextEntry())\r\n\t\t    {\r\n\t\t    \tout.putNextEntry(ze);\r\n\t\t    \tfor(int read = zin.read(buffer); read &gt; -1; read = zin.read(buffer))\r\n\t\t    \t{\r\n\t\t    \t\tout.write(buffer, 0, read);\r\n\t\t    \t}\r\n\t\t    \tout.closeEntry();\r\n\t\t    }\r\n\t\t    \r\n\t\t    out.close();\r\n\t\t    tmpZip.delete();\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Appending files to a zip file with Java","body":"<p>You could use this bit of code I wrote</p>\n\n<pre><code>public static void addFilesToZip(File source, File[] files)\n{\n    try\n    {\n\n        File tmpZip = File.createTempFile(source.getName(), null);\n        tmpZip.delete();\n        if(!source.renameTo(tmpZip))\n        {\n            throw new Exception(\"Could not make temp file (\" + source.getName() + \")\");\n        }\n        byte[] buffer = new byte[1024];\n        ZipInputStream zin = new ZipInputStream(new FileInputStream(tmpZip));\n        ZipOutputStream out = new ZipOutputStream(new FileOutputStream(source));\n\n        for(int i = 0; i &lt; files.length; i++)\n        {\n            InputStream in = new FileInputStream(files[i]);\n            out.putNextEntry(new ZipEntry(files[i].getName()));\n            for(int read = in.read(buffer); read &gt; -1; read = in.read(buffer))\n            {\n                out.write(buffer, 0, read);\n            }\n            out.closeEntry();\n            in.close();\n        }\n\n        for(ZipEntry ze = zin.getNextEntry(); ze != null; ze = zin.getNextEntry())\n        {\n            out.putNextEntry(ze);\n            for(int read = zin.read(buffer); read &gt; -1; read = zin.read(buffer))\n            {\n                out.write(buffer, 0, read);\n            }\n            out.closeEntry();\n        }\n\n        out.close();\n        tmpZip.delete();\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2057883,"reputation":582,"user_id":1835148,"accept_rate":33,"display_name":"Nirmal Raghavan"},"score":1,"creation_date":1386671356,"post_id":17504151,"comment_id":30627764,"body_markdown":"How can we use this one using smb?\nI want to add files to a zip file which is in a windows machine from a osx/linux machine.","body":"How can we use this one using smb? I want to add files to a zip file which is in a windows machine from a osx/linux machine."},{"owner":{"account_id":203374,"reputation":47785,"user_id":450989,"display_name":"Grzegorz ur"},"score":0,"creation_date":1386672974,"post_id":17504151,"comment_id":30628766,"body_markdown":"@NirmalRaghavan This is out of scope of this question. For SMB/CIFS, see how to mount Windows network drive in Linux.","body":"@NirmalRaghavan This is out of scope of this question. For SMB/CIFS, see how to mount Windows network drive in Linux."},{"owner":{"account_id":2893075,"reputation":1551,"user_id":2481404,"accept_rate":50,"display_name":"Tobias Kremer"},"score":0,"creation_date":1387186398,"post_id":17504151,"comment_id":30836641,"body_markdown":"Thanks for the example. Turns out I was to stupid to use ZIP-FileSystems till now.","body":"Thanks for the example. Turns out I was to stupid to use ZIP-FileSystems till now."},{"owner":{"account_id":195432,"reputation":319,"user_id":438309,"accept_rate":40,"display_name":"Heiko Haller"},"score":0,"creation_date":1392998151,"post_id":17504151,"comment_id":33234219,"body_markdown":"Wow, that was it. Much easier than the current top answer, which seems somewhat outdated as best answer since Java 7. @Grouchal: can / would you revoke or move your +150 in order to boost this answer? (We just spent some hours trying to get TrueVFS to work in vain...)","body":"Wow, that was it. Much easier than the current top answer, which seems somewhat outdated as best answer since Java 7. @Grouchal: can / would you revoke or move your +150 in order to boost this answer? (We just spent some hours trying to get TrueVFS to work in vain...)"},{"owner":{"account_id":3260473,"reputation":394,"user_id":2746149,"display_name":"subrunner"},"score":2,"creation_date":1436797930,"post_id":17504151,"comment_id":50749052,"body_markdown":"Zip File System can&#39;t really deal with whitespaces in the folder structure. For a workaround, encode all whitespaces with &quot;%2520&quot; (see also http://stackoverflow.com/questions/9873845/java-7-zip-file-system-provider-doesnt-seem-to-accept-spaces-in-uri )","body":"Zip File System can&#39;t really deal with whitespaces in the folder structure. For a workaround, encode all whitespaces with &quot;%2520&quot; (see also <a href=\"http://stackoverflow.com/questions/9873845/java-7-zip-file-system-provider-doesnt-seem-to-accept-spaces-in-uri\" title=\"java 7 zip file system provider doesnt seem to accept spaces in uri\">stackoverflow.com/questions/9873845/&hellip;</a> )"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":4,"creation_date":1467726561,"post_id":17504151,"comment_id":63834283,"body_markdown":"Beware that ZipFileSystem by default is [vulnerable to OutOfMemoryError](http://stackoverflow.com/questions/23858706/zipping-a-huge-folder-by-using-a-zipfilesystem-results-in-outofmemoryerror) on huge inputs.","body":"Beware that ZipFileSystem by default is <a href=\"http://stackoverflow.com/questions/23858706/zipping-a-huge-folder-by-using-a-zipfilesystem-results-in-outofmemoryerror\">vulnerable to OutOfMemoryError</a> on huge inputs."},{"owner":{"account_id":4877281,"reputation":755,"user_id":3931977,"accept_rate":100,"display_name":"Vikas Sharma"},"score":0,"creation_date":1483524955,"post_id":17504151,"comment_id":70127984,"body_markdown":"I am working with java 6 and i have similar kind of requirement.Moreover i have directories in zip file and i have to merge two zip files.Any help?","body":"I am working with java 6 and i have similar kind of requirement.Moreover i have directories in zip file and i have to merge two zip files.Any help?"},{"owner":{"account_id":1601231,"reputation":459,"user_id":1482214,"accept_rate":40,"display_name":"Sebastian G&#246;tz"},"score":0,"creation_date":1489134160,"post_id":17504151,"comment_id":72547685,"body_markdown":"Thank you very much. That led me into the right direction. I was using Java 8 and binary content and with the Files.newByteChannel method I had to provide the OpenOptions CREATE and WRITE otherwise an exception was thrown.","body":"Thank you very much. That led me into the right direction. I was using Java 8 and binary content and with the Files.newByteChannel method I had to provide the OpenOptions CREATE and WRITE otherwise an exception was thrown."},{"owner":{"account_id":4333893,"reputation":3295,"user_id":3538581,"display_name":"Rajesh Goel"},"score":2,"creation_date":1489528344,"post_id":17504151,"comment_id":72709096,"body_markdown":"Use Files.copy instead: try (FileSystem jarFs = FileSystems.newFileSystem(uri, env, null)) {\n            for(final Path newFilePath : newFilePathList) {\n                final Path pathInZipFile = jarFs.getPath(&quot;/&quot; + newFilePath.getFileName());\n                \n                Files.copy(newFilePath, pathInZipFile, StandardCopyOption.REPLACE_EXISTING);\n            }\n        }","body":"Use Files.copy instead: try (FileSystem jarFs = FileSystems.newFileSystem(uri, env, null)) {             for(final Path newFilePath : newFilePathList) {                 final Path pathInZipFile = jarFs.getPath(&quot;/&quot; + newFilePath.getFileName());                                  Files.copy(newFilePath, pathInZipFile, StandardCopyOption.REPLACE_EXISTING);             }         }"},{"owner":{"account_id":63479,"reputation":5810,"user_id":187883,"accept_rate":100,"display_name":"NateS"},"score":3,"creation_date":1588616384,"post_id":17504151,"comment_id":108961966,"body_markdown":"This answer shows how to do it but how does it work under the covers? Is updating a file in a zip efficient or is it equivalent to unzipping and building a new zip?","body":"This answer shows how to do it but how does it work under the covers? Is updating a file in a zip efficient or is it equivalent to unzipping and building a new zip?"},{"owner":{"account_id":203374,"reputation":47785,"user_id":450989,"display_name":"Grzegorz ur"},"score":0,"creation_date":1588619962,"post_id":17504151,"comment_id":108963725,"body_markdown":"@NateS Feel free to check the code or experiment and add comment with results.","body":"@NateS Feel free to check the code or experiment and add comment with results."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1599560546,"post_id":17504151,"comment_id":112804627,"body_markdown":"The [Zip File System][1] mentioned in this answer may be easy to use but, as others have queried, it&#39;s not entirely clear how it actually copies an entry from one zip to another (byte-for-byte or decompress/recompress?).\n\n\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html","body":"The [Zip File System][1] mentioned in this answer may be easy to use but, as others have queried, it&#39;s not entirely clear how it actually copies an entry from one zip to another (byte-for-byte or decompress/recompress?).     [1]: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/&hellip;</a>"}],"tags":[],"owner":{"account_id":203374,"reputation":47785,"user_id":450989,"display_name":"Grzegorz ur"},"comment_count":12,"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1373123104,"creation_date":1373123104,"answer_id":17504151,"question_id":2223434,"body_markdown":"In Java 7 we got [Zip File System][1] that allows adding and changing files in zip (jar, war) without manual repackaging.\r\n\r\nWe can directly write to files inside zip files as in the following example.\r\n\r\n\tMap&lt;String, String&gt; env = new HashMap&lt;&gt;(); \r\n\tenv.put(&quot;create&quot;, &quot;true&quot;);\r\n\tPath path = Paths.get(&quot;test.zip&quot;);\r\n\tURI uri = URI.create(&quot;jar:&quot; + path.toUri());\r\n\ttry (FileSystem fs = FileSystems.newFileSystem(uri, env))\r\n\t{\r\n\t\tPath nf = fs.getPath(&quot;new.txt&quot;);\r\n\t\ttry (Writer writer = Files.newBufferedWriter(nf, StandardCharsets.UTF_8, StandardOpenOption.CREATE)) {\r\n\t\t\twriter.write(&quot;hello&quot;);\r\n\t\t}\r\n\t}\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html","title":"Appending files to a zip file with Java","body":"<p>In Java 7 we got <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\">Zip File System</a> that allows adding and changing files in zip (jar, war) without manual repackaging.</p>\n\n<p>We can directly write to files inside zip files as in the following example.</p>\n\n<pre><code>Map&lt;String, String&gt; env = new HashMap&lt;&gt;(); \nenv.put(\"create\", \"true\");\nPath path = Paths.get(\"test.zip\");\nURI uri = URI.create(\"jar:\" + path.toUri());\ntry (FileSystem fs = FileSystems.newFileSystem(uri, env))\n{\n    Path nf = fs.getPath(\"new.txt\");\n    try (Writer writer = Files.newBufferedWriter(nf, StandardCharsets.UTF_8, StandardOpenOption.CREATE)) {\n        writer.write(\"hello\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":289517,"reputation":17358,"user_id":590531,"accept_rate":91,"display_name":"peceps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390899876,"creation_date":1390835429,"answer_id":21384349,"question_id":2223434,"body_markdown":"Here is Java 1.7 version of Liam answer which uses try with resources and Apache Commons IO.\r\n\r\nThe output is written to a new zip file but it can be easily modified to write to the original file. \r\n\r\n      /**\r\n       * Modifies, adds or deletes file(s) from a existing zip file.\r\n       *\r\n       * @param zipFile the original zip file\r\n       * @param newZipFile the destination zip file\r\n       * @param filesToAddOrOverwrite the names of the files to add or modify from the original file\r\n       * @param filesToAddOrOverwriteInputStreams the input streams containing the content of the files\r\n       * to add or modify from the original file\r\n       * @param filesToDelete the names of the files to delete from the original file\r\n       * @throws IOException if the new file could not be written\r\n       */\r\n      public static void modifyZipFile(File zipFile,\r\n          File newZipFile,\r\n          String[] filesToAddOrOverwrite,\r\n          InputStream[] filesToAddOrOverwriteInputStreams,\r\n          String[] filesToDelete) throws IOException {\r\n    \r\n    \r\n        try (ZipOutputStream out = new ZipOutputStream(new FileOutputStream(newZipFile))) {\r\n    \r\n          // add existing ZIP entry to output stream\r\n          try (ZipInputStream zin = new ZipInputStream(new FileInputStream(zipFile))) {\r\n            ZipEntry entry = null;\r\n            while ((entry = zin.getNextEntry()) != null) {\r\n              String name = entry.getName();\r\n    \r\n              // check if the file should be deleted\r\n              if (filesToDelete != null) {\r\n                boolean ignoreFile = false;\r\n                for (String fileToDelete : filesToDelete) {\r\n                  if (name.equalsIgnoreCase(fileToDelete)) {\r\n                    ignoreFile = true;\r\n                    break;\r\n                  }\r\n                }\r\n                if (ignoreFile) {\r\n                  continue;\r\n                }\r\n              }\r\n    \r\n              // check if the file should be kept as it is\r\n              boolean keepFileUnchanged = true;\r\n              if (filesToAddOrOverwrite != null) {\r\n                for (String fileToAddOrOverwrite : filesToAddOrOverwrite) {\r\n                  if (name.equalsIgnoreCase(fileToAddOrOverwrite)) {\r\n                    keepFileUnchanged = false;\r\n                  }\r\n                }\r\n              }\r\n    \r\n              if (keepFileUnchanged) {\r\n                // copy the file as it is\r\n                out.putNextEntry(new ZipEntry(name));\r\n                IOUtils.copy(zin, out);\r\n              }\r\n            }\r\n          }\r\n    \r\n          // add the modified or added files to the zip file\r\n          if (filesToAddOrOverwrite != null) {\r\n            for (int i = 0; i &lt; filesToAddOrOverwrite.length; i++) {\r\n              String fileToAddOrOverwrite = filesToAddOrOverwrite[i];\r\n              try (InputStream in = filesToAddOrOverwriteInputStreams[i]) {\r\n                out.putNextEntry(new ZipEntry(fileToAddOrOverwrite));\r\n                IOUtils.copy(in, out);\r\n                out.closeEntry();\r\n              }\r\n            }\r\n          }\r\n    \r\n        }\r\n    \r\n      }","title":"Appending files to a zip file with Java","body":"<p>Here is Java 1.7 version of Liam answer which uses try with resources and Apache Commons IO.</p>\n\n<p>The output is written to a new zip file but it can be easily modified to write to the original file. </p>\n\n<pre><code>  /**\n   * Modifies, adds or deletes file(s) from a existing zip file.\n   *\n   * @param zipFile the original zip file\n   * @param newZipFile the destination zip file\n   * @param filesToAddOrOverwrite the names of the files to add or modify from the original file\n   * @param filesToAddOrOverwriteInputStreams the input streams containing the content of the files\n   * to add or modify from the original file\n   * @param filesToDelete the names of the files to delete from the original file\n   * @throws IOException if the new file could not be written\n   */\n  public static void modifyZipFile(File zipFile,\n      File newZipFile,\n      String[] filesToAddOrOverwrite,\n      InputStream[] filesToAddOrOverwriteInputStreams,\n      String[] filesToDelete) throws IOException {\n\n\n    try (ZipOutputStream out = new ZipOutputStream(new FileOutputStream(newZipFile))) {\n\n      // add existing ZIP entry to output stream\n      try (ZipInputStream zin = new ZipInputStream(new FileInputStream(zipFile))) {\n        ZipEntry entry = null;\n        while ((entry = zin.getNextEntry()) != null) {\n          String name = entry.getName();\n\n          // check if the file should be deleted\n          if (filesToDelete != null) {\n            boolean ignoreFile = false;\n            for (String fileToDelete : filesToDelete) {\n              if (name.equalsIgnoreCase(fileToDelete)) {\n                ignoreFile = true;\n                break;\n              }\n            }\n            if (ignoreFile) {\n              continue;\n            }\n          }\n\n          // check if the file should be kept as it is\n          boolean keepFileUnchanged = true;\n          if (filesToAddOrOverwrite != null) {\n            for (String fileToAddOrOverwrite : filesToAddOrOverwrite) {\n              if (name.equalsIgnoreCase(fileToAddOrOverwrite)) {\n                keepFileUnchanged = false;\n              }\n            }\n          }\n\n          if (keepFileUnchanged) {\n            // copy the file as it is\n            out.putNextEntry(new ZipEntry(name));\n            IOUtils.copy(zin, out);\n          }\n        }\n      }\n\n      // add the modified or added files to the zip file\n      if (filesToAddOrOverwrite != null) {\n        for (int i = 0; i &lt; filesToAddOrOverwrite.length; i++) {\n          String fileToAddOrOverwrite = filesToAddOrOverwrite[i];\n          try (InputStream in = filesToAddOrOverwriteInputStreams[i]) {\n            out.putNextEntry(new ZipEntry(fileToAddOrOverwrite));\n            IOUtils.copy(in, out);\n            out.closeEntry();\n          }\n        }\n      }\n\n    }\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4622926,"reputation":37,"user_id":3747475,"display_name":"erdem karayer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410441140,"creation_date":1410441140,"answer_id":25788420,"question_id":2223434,"body_markdown":"  this a simple code to get a response with using servlet and send a response\r\n\r\n  \r\n\r\n    myZipPath = bla bla...\r\n        byte[] buf = new byte[8192];\r\n        String zipName = &quot;myZip.zip&quot;;\r\n        String zipPath = myzippath+ File.separator+&quot;pdf&quot; + File.separator+ zipName;\r\n        File pdfFile = new File(&quot;myPdf.pdf&quot;);\r\n        ZipOutputStream out = new ZipOutputStream(new FileOutputStream(zipPath));\r\n        ZipEntry zipEntry = new ZipEntry(pdfFile.getName());\r\n        out.putNextEntry(zipEntry);\r\n        InputStream in = new FileInputStream(pdfFile);\r\n        int len;\r\n        while ((len = in.read(buf)) &gt; 0) {\r\n             out.write(buf, 0, len);\r\n         }\r\n        out.closeEntry();\r\n        in.close();\r\n         out.close();\r\n                    FileInputStream fis = new FileInputStream(zipPath);\r\n                    response.setContentType(&quot;application/zip&quot;);\r\n                    response.addHeader(&quot;content-disposition&quot;, &quot;attachment;filename=&quot; + zipName);\r\n        OutputStream os = response.getOutputStream();\r\n        \t\tint length = is.read(buffer);\r\n        \t\twhile (length != -1)\r\n        \t\t{\r\n        \t\t\tos.write(buffer, 0, length);\r\n        \t\t\tlength = is.read(buffer);\r\n        \t\t}","title":"Appending files to a zip file with Java","body":"<p>this a simple code to get a response with using servlet and send a response</p>\n\n<pre><code>myZipPath = bla bla...\n    byte[] buf = new byte[8192];\n    String zipName = \"myZip.zip\";\n    String zipPath = myzippath+ File.separator+\"pdf\" + File.separator+ zipName;\n    File pdfFile = new File(\"myPdf.pdf\");\n    ZipOutputStream out = new ZipOutputStream(new FileOutputStream(zipPath));\n    ZipEntry zipEntry = new ZipEntry(pdfFile.getName());\n    out.putNextEntry(zipEntry);\n    InputStream in = new FileInputStream(pdfFile);\n    int len;\n    while ((len = in.read(buf)) &gt; 0) {\n         out.write(buf, 0, len);\n     }\n    out.closeEntry();\n    in.close();\n     out.close();\n                FileInputStream fis = new FileInputStream(zipPath);\n                response.setContentType(\"application/zip\");\n                response.addHeader(\"content-disposition\", \"attachment;filename=\" + zipName);\n    OutputStream os = response.getOutputStream();\n            int length = is.read(buffer);\n            while (length != -1)\n            {\n                os.write(buffer, 0, length);\n                length = is.read(buffer);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4611183,"reputation":2099,"user_id":3739258,"display_name":"diego matos - keke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455652856,"creation_date":1455652856,"answer_id":35441950,"question_id":2223434,"body_markdown":"this works 100% , if you dont want to use extra libs ..\r\n1) first, the class that append files to the zip ..\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n    public class AddZip {\r\n    \r\n        public void AddZip() {\r\n        }\r\n    \r\n        public void addToZipFile(ZipOutputStream zos, String nombreFileAnadir, String nombreDentroZip) {\r\n            FileInputStream fis = null;\r\n            try {\r\n                if (!new File(nombreFileAnadir).exists()) {//NO EXISTE \r\n                    System.out.println(&quot; No existe el archivo :  &quot; + nombreFileAnadir);return;\r\n                }\r\n                File file = new File(nombreFileAnadir);\r\n                System.out.println(&quot; Generando el archivo &#39;&quot; + nombreFileAnadir + &quot;&#39; al ZIP &quot;);\r\n                fis = new FileInputStream(file);\r\n                ZipEntry zipEntry = new ZipEntry(nombreDentroZip);\r\n                zos.putNextEntry(zipEntry);\r\n                byte[] bytes = new byte[1024];\r\n                int length;\r\n                while ((length = fis.read(bytes)) &gt;= 0) {zos.write(bytes, 0, length);}\r\n                zos.closeEntry();\r\n                fis.close();\r\n                \r\n            } catch (FileNotFoundException ex ) {\r\n                Logger.getLogger(AddZip.class.getName()).log(Level.SEVERE, null, ex);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(AddZip.class.getName()).log(Level.SEVERE, null, ex);\r\n            } \r\n        }\r\n    \r\n    }\r\n\r\n\r\n2) you can call it in your controller ..\r\n\r\n    //in the top\r\n    try {\r\n    fos = new FileOutputStream(rutaZip);\r\n    zos =   new ZipOutputStream(fos);\r\n    } catch (FileNotFoundException ex) {\r\n    Logger.getLogger(UtilZip.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n        \r\n    ...\r\n    //inside your method\r\n    addZip.addToZipFile(zos, pathFolderFileSystemHD() + itemFoto.getNombre(), &quot;foto/&quot; + itemFoto.getNombre());\r\n\r\n\r\n\r\n\r\n\r\n","title":"Appending files to a zip file with Java","body":"<p>this works 100% , if you dont want to use extra libs ..\n1) first, the class that append files to the zip ..</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class AddZip {\n\n    public void AddZip() {\n    }\n\n    public void addToZipFile(ZipOutputStream zos, String nombreFileAnadir, String nombreDentroZip) {\n        FileInputStream fis = null;\n        try {\n            if (!new File(nombreFileAnadir).exists()) {//NO EXISTE \n                System.out.println(\" No existe el archivo :  \" + nombreFileAnadir);return;\n            }\n            File file = new File(nombreFileAnadir);\n            System.out.println(\" Generando el archivo '\" + nombreFileAnadir + \"' al ZIP \");\n            fis = new FileInputStream(file);\n            ZipEntry zipEntry = new ZipEntry(nombreDentroZip);\n            zos.putNextEntry(zipEntry);\n            byte[] bytes = new byte[1024];\n            int length;\n            while ((length = fis.read(bytes)) &gt;= 0) {zos.write(bytes, 0, length);}\n            zos.closeEntry();\n            fis.close();\n\n        } catch (FileNotFoundException ex ) {\n            Logger.getLogger(AddZip.class.getName()).log(Level.SEVERE, null, ex);\n        } catch (IOException ex) {\n            Logger.getLogger(AddZip.class.getName()).log(Level.SEVERE, null, ex);\n        } \n    }\n\n}\n</code></pre>\n\n<p>2) you can call it in your controller ..</p>\n\n<pre><code>//in the top\ntry {\nfos = new FileOutputStream(rutaZip);\nzos =   new ZipOutputStream(fos);\n} catch (FileNotFoundException ex) {\nLogger.getLogger(UtilZip.class.getName()).log(Level.SEVERE, null, ex);\n}\n\n...\n//inside your method\naddZip.addToZipFile(zos, pathFolderFileSystemHD() + itemFoto.getNombre(), \"foto/\" + itemFoto.getNombre());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473707814,"creation_date":1473707814,"answer_id":39457237,"question_id":2223434,"body_markdown":"Here are examples how easily files can be appended to existing zip using [TrueVFS][1]:\r\n\r\n    // append a file to archive under different name\r\n    TFile.cp(new File(&quot;existingFile.txt&quot;), new TFile(&quot;archive.zip&quot;, &quot;entry.txt&quot;));\r\n\r\n    // recusively append a dir to the root of archive\r\n    TFile src = new TFile(&quot;dirPath&quot;, &quot;dirName&quot;);\r\n    src.cp_r(new TFile(&quot;archive.zip&quot;, src.getName()));\r\n\r\nTrueVFS, the successor of TrueZIP, uses Java 7 NIO 2 features under the hood when appropriate but offers [much more features][2] like thread-safe async parallel compression.\r\n\r\nBeware also that Java 7 ZipFileSystem by default is [vulnerable to OutOfMemoryError][3] on huge inputs.\r\n\r\n\r\n  [1]: https://truevfs.java.net/\r\n  [2]: https://truevfs.java.net/features.html\r\n  [3]: https://stackoverflow.com/questions/23858706/zipping-a-huge-folder-by-using-a-zipfilesystem-results-in-outofmemoryerror","title":"Appending files to a zip file with Java","body":"<p>Here are examples how easily files can be appended to existing zip using <a href=\"https://truevfs.java.net/\" rel=\"nofollow noreferrer\">TrueVFS</a>:</p>\n\n<pre><code>// append a file to archive under different name\nTFile.cp(new File(\"existingFile.txt\"), new TFile(\"archive.zip\", \"entry.txt\"));\n\n// recusively append a dir to the root of archive\nTFile src = new TFile(\"dirPath\", \"dirName\");\nsrc.cp_r(new TFile(\"archive.zip\", src.getName()));\n</code></pre>\n\n<p>TrueVFS, the successor of TrueZIP, uses Java 7 NIO 2 features under the hood when appropriate but offers <a href=\"https://truevfs.java.net/features.html\" rel=\"nofollow noreferrer\">much more features</a> like thread-safe async parallel compression.</p>\n\n<p>Beware also that Java 7 ZipFileSystem by default is <a href=\"https://stackoverflow.com/questions/23858706/zipping-a-huge-folder-by-using-a-zipfilesystem-results-in-outofmemoryerror\">vulnerable to OutOfMemoryError</a> on huge inputs.</p>\n"},{"tags":[],"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585493790,"creation_date":1585493482,"answer_id":60915963,"question_id":2223434,"body_markdown":"Based on the answer given by @sfussenegger above, following code is used to append to a jar file and download it:\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n\t\tResource resourceFile = resourceLoader.getResource(&quot;WEB-INF/lib/custom.jar&quot;);\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\ttry (ZipOutputStream zos = new ZipOutputStream(baos, StandardCharsets.ISO_8859_1);) {\r\n\t\t\ttry (ZipFile zin = new ZipFile(resourceFile.getFile(), StandardCharsets.ISO_8859_1);) {\r\n\t\t\t\tzin.stream().forEach((entry) -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tzos.putNextEntry(entry);\r\n\t\t\t\t\t\tif (!entry.isDirectory()) {\r\n\t\t\t\t\t\t\tzin.getInputStream(entry).transferTo(zos);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tzos.closeEntry();\r\n\t\t\t\t\t} catch (Exception ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n            /* build file records to be appended */\r\n            ....\r\n\t\t\tfor (FileContents record : records) {\r\n\t\t\t\tzos.putNextEntry(new ZipEntry(record.getFileName()));\r\n\t\t\t\tzos.write(record.getBytes());\r\n\t\t\t\tzos.closeEntry();\r\n\t\t\t}\r\n\t\t\tzos.flush();\r\n\t\t}\r\n\r\n\t\tresponse.setContentType(&quot;application/java-archive&quot;);\r\n\t\tresponse.setContentLength(baos.size());\r\n\t\tresponse.setHeader(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;custom.jar\\&quot;&quot;);\r\n\t\ttry (BufferedOutputStream out = new BufferedOutputStream(response.getOutputStream())) {\r\n\t\t\tbaos.writeTo(out);\r\n\t\t}\r\n\t}","title":"Appending files to a zip file with Java","body":"<p>Based on the answer given by @sfussenegger above, following code is used to append to a jar file and download it:</p>\n\n<pre><code>public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    Resource resourceFile = resourceLoader.getResource(\"WEB-INF/lib/custom.jar\");\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    try (ZipOutputStream zos = new ZipOutputStream(baos, StandardCharsets.ISO_8859_1);) {\n        try (ZipFile zin = new ZipFile(resourceFile.getFile(), StandardCharsets.ISO_8859_1);) {\n            zin.stream().forEach((entry) -&gt; {\n                try {\n                    zos.putNextEntry(entry);\n                    if (!entry.isDirectory()) {\n                        zin.getInputStream(entry).transferTo(zos);\n                    }\n                    zos.closeEntry();\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            });\n        }\n        /* build file records to be appended */\n        ....\n        for (FileContents record : records) {\n            zos.putNextEntry(new ZipEntry(record.getFileName()));\n            zos.write(record.getBytes());\n            zos.closeEntry();\n        }\n        zos.flush();\n    }\n\n    response.setContentType(\"application/java-archive\");\n    response.setContentLength(baos.size());\n    response.setHeader(HttpHeaders.CONTENT_DISPOSITION, \"attachment; filename=\\\"custom.jar\\\"\");\n    try (BufferedOutputStream out = new BufferedOutputStream(response.getOutputStream())) {\n        baos.writeTo(out);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15238238,"reputation":61,"user_id":10995281,"display_name":"Santhosh Kumar HN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693240040,"creation_date":1693240040,"answer_id":76994519,"question_id":2223434,"body_markdown":"zipFolder = reports is folder where all the files will be presented and this will compressed.\r\nLocation of zipFolder = &quot;C:\\\\JavaProgrammingPractice\\\\MavenHelloWorld\\\\bld_root_9\\\\reports.zip&quot;;\r\nreadfilename: This is the file and its contents of will be written in zipFolder. The file locations is same as zipFolder location.\r\nLocation of readfilename = &quot;C:\\\\JavaProgrammingPractice\\\\MavenHelloWorld\\\\bld_root_9\\\\reports\\\\readfilename&quot;;\r\nfs.getPath(readfilename) = will show the absolute path of the file.\r\nnf.getFileName() = Only filename is required as argument of newBufferedWriter.\r\n\r\n    public static void addFileToZipFolder(String zipFolder, String readfilename) throws IOException {\r\n    Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n    env.put(&quot;create&quot;, &quot;true&quot;);\r\n    Path path = Path.of(zipFolder);\r\n    URI uri = URI.create(&quot;jar:&quot; + path.toUri());\r\n    try (FileSystem fs = FileSystems.newFileSystem(uri, env))\r\n    {\r\n      Path nf = fs.getPath(readfilename);\r\n      String text = Files.readString(Path.of(readfilename));\r\n      try (Writer writer = Files.newBufferedWriter(nf.getFileName(), StandardCharsets.UTF_8, StandardOpenOption.CREATE)) {\r\n        writer.write(text);\r\n      }\r\n    }\r\n  }","title":"Appending files to a zip file with Java","body":"<p>zipFolder = reports is folder where all the files will be presented and this will compressed.\nLocation of zipFolder = &quot;C:\\JavaProgrammingPractice\\MavenHelloWorld\\bld_root_9\\reports.zip&quot;;\nreadfilename: This is the file and its contents of will be written in zipFolder. The file locations is same as zipFolder location.\nLocation of readfilename = &quot;C:\\JavaProgrammingPractice\\MavenHelloWorld\\bld_root_9\\reports\\readfilename&quot;;\nfs.getPath(readfilename) = will show the absolute path of the file.\nnf.getFileName() = Only filename is required as argument of newBufferedWriter.</p>\n<pre><code>public static void addFileToZipFolder(String zipFolder, String readfilename) throws IOException {\nMap&lt;String, String&gt; env = new HashMap&lt;&gt;();\nenv.put(&quot;create&quot;, &quot;true&quot;);\nPath path = Path.of(zipFolder);\nURI uri = URI.create(&quot;jar:&quot; + path.toUri());\ntry (FileSystem fs = FileSystems.newFileSystem(uri, env))\n{\n  Path nf = fs.getPath(readfilename);\n  String text = Files.readString(Path.of(readfilename));\n  try (Writer writer = Files.newBufferedWriter(nf.getFileName(), StandardCharsets.UTF_8, StandardOpenOption.CREATE)) {\n    writer.write(text);\n  }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":43027,"reputation":9756,"user_id":125585,"accept_rate":100,"display_name":"Grouchal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104438,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":17504151,"answer_count":14,"score":65,"last_activity_date":1693240040,"creation_date":1265649341,"question_id":2223434,"body_markdown":"I am currently extracting the contents of a war file and then adding some new files to the directory structure and then creating a new war file.\r\n\r\nThis is all done programatically from Java - but I am wondering if it wouldn&#39;t be more efficient to copy the war file and then just append the files - then I wouldn&#39;t have to wait so long as the war expands and then has to be compressed again.\r\n\r\nI can&#39;t seem to find a way to do this in the documentation though or any online examples.\r\n\r\nAnyone can give some tips or pointers?\r\n\r\nUPDATE:\r\n\r\nTrueZip as mentioned in one of the answers seems to be a very good java library to append to a zip file (despite other answers that say it is not possible to do this).\r\n\r\nAnyone have experience or feedback on TrueZip or can recommend other similar libaries?\r\n\r\n","title":"Appending files to a zip file with Java","body":"<p>I am currently extracting the contents of a war file and then adding some new files to the directory structure and then creating a new war file.</p>\n\n<p>This is all done programatically from Java - but I am wondering if it wouldn't be more efficient to copy the war file and then just append the files - then I wouldn't have to wait so long as the war expands and then has to be compressed again.</p>\n\n<p>I can't seem to find a way to do this in the documentation though or any online examples.</p>\n\n<p>Anyone can give some tips or pointers?</p>\n\n<p>UPDATE:</p>\n\n<p>TrueZip as mentioned in one of the answers seems to be a very good java library to append to a zip file (despite other answers that say it is not possible to do this).</p>\n\n<p>Anyone have experience or feedback on TrueZip or can recommend other similar libaries?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693175900,"post_id":76989038,"comment_id":135721704,"body_markdown":"The description is confusing. Project A is an application that references project B as a library?","body":"The description is confusing. Project A is an application that references project B as a library?"},{"owner":{"account_id":29310595,"reputation":1,"user_id":22456477,"display_name":"Ynverxe"},"score":0,"creation_date":1693226597,"post_id":76989038,"comment_id":135728155,"body_markdown":"@aled No, the project B references the project A. Maybe I explained myself wrong, the project B references the project A as a library, but only the sources of the project A results included but no their dependencies. I want to include all of the project A (sources and dependencies) into the project B.","body":"@aled No, the project B references the project A. Maybe I explained myself wrong, the project B references the project A as a library, but only the sources of the project A results included but no their dependencies. I want to include all of the project A (sources and dependencies) into the project B."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1693228405,"post_id":76989038,"comment_id":135728565,"body_markdown":"If project B is a library then it is not expected for it to include other libraries. And A is not even a library. How do you plan to use B exactly?","body":"If project B is a library then it is not expected for it to include other libraries. And A is not even a library. How do you plan to use B exactly?"},{"owner":{"account_id":29310595,"reputation":1,"user_id":22456477,"display_name":"Ynverxe"},"score":0,"creation_date":1693237207,"post_id":76989038,"comment_id":135730718,"body_markdown":"You have not understood me correctly, B IS NOT A LIBRARY, the library is project A.","body":"You have not understood me correctly, B IS NOT A LIBRARY, the library is project A."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693237514,"post_id":76989038,"comment_id":135730788,"body_markdown":"Then why are you using the `java-library` plugin on project B? That plugin is used to build Java libraries.","body":"Then why are you using the <code>java-library</code> plugin on project B? That plugin is used to build Java libraries."},{"owner":{"account_id":29310595,"reputation":1,"user_id":22456477,"display_name":"Ynverxe"},"score":0,"creation_date":1693237530,"post_id":76989038,"comment_id":135730795,"body_markdown":"Project A is a dependency of project B. What I&#39;m looking for is that both the source code of project A and the same libraries of project A are implemented within project B, without having to specify each library that contains project A separately . The result I&#39;m getting is that when I import project A into project B, only the classes from project A are included, but the classes from the libraries that project A uses are not included in project B for some reason.","body":"Project A is a dependency of project B. What I&#39;m looking for is that both the source code of project A and the same libraries of project A are implemented within project B, without having to specify each library that contains project A separately . The result I&#39;m getting is that when I import project A into project B, only the classes from project A are included, but the classes from the libraries that project A uses are not included in project B for some reason."},{"owner":{"account_id":29310595,"reputation":1,"user_id":22456477,"display_name":"Ynverxe"},"score":0,"creation_date":1693237987,"post_id":76989038,"comment_id":135730892,"body_markdown":"@aled The java-library thing was my mistake. I just tried removing the &#39;java-library&#39; plugin and using &quot;implementation&quot; instead of api to define project A as a dependency. the behavior is the same as before.","body":"@aled The java-library thing was my mistake. I just tried removing the &#39;java-library&#39; plugin and using &quot;implementation&quot; instead of api to define project A as a dependency. the behavior is the same as before."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1693238789,"post_id":76989038,"comment_id":135731063,"body_markdown":"Please update the question with the current configuration, to avoid further confusions.","body":"Please update the question with the current configuration, to avoid further confusions."}],"owner":{"account_id":29310595,"reputation":1,"user_id":22456477,"display_name":"Ynverxe"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693239829,"creation_date":1693172010,"question_id":76989038,"body_markdown":"Im new with Gradle and I&#39;m trying to include a java project that I will call project &quot;A&quot; that have some dependencies marked as API (Im using the java-library plugin in the A project) thats includes some modules of the project &quot;A&quot; and dependencies downloaded from maven repositories, and I want include it in the project &quot;B&quot;. To do this I&#39;m using the maven publish plugin to publish the project &quot;A&quot; and include as a dependency in the project &quot;B&quot;. The result is that in the project &quot;B&quot; only the project &quot;A&quot; sources are included. But when I see the Gradle window It recognizes the dependencies of the project &quot;A&quot; but doesn&#39;t includes their classpath.\r\n\r\n![image|392x500](upload://w98sdL1m18KeNHAtVvzH1WSrZWk.png)\r\n\r\nThis is the build.gradle of the project &quot;B&quot;:\r\n\r\n```\r\nplugins {\r\n    id(&quot;java&quot;)\r\n}\r\n\r\ngroup = &quot;com.github.ynverxe&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    mavenLocal {\r\n        metadataSources {\r\n            mavenPom()\r\n            ignoreGradleMetadataRedirection()\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;com.github.ynverxe.xenov:api:0.0.1&quot;)\r\n}\r\n```\r\n\r\nEdit: Here are the source code of the project &quot;A&quot;: https://github.com/Ynverxe/xenov/tree/dev","title":"Include dependency dependencies in the project","body":"<p>Im new with Gradle and I'm trying to include a java project that I will call project &quot;A&quot; that have some dependencies marked as API (Im using the java-library plugin in the A project) thats includes some modules of the project &quot;A&quot; and dependencies downloaded from maven repositories, and I want include it in the project &quot;B&quot;. To do this I'm using the maven publish plugin to publish the project &quot;A&quot; and include as a dependency in the project &quot;B&quot;. The result is that in the project &quot;B&quot; only the project &quot;A&quot; sources are included. But when I see the Gradle window It recognizes the dependencies of the project &quot;A&quot; but doesn't includes their classpath.</p>\n<p></p>\n<p>This is the build.gradle of the project &quot;B&quot;:</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n}\n\ngroup = &quot;com.github.ynverxe&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenLocal {\n        metadataSources {\n            mavenPom()\n            ignoreGradleMetadataRedirection()\n        }\n    }\n}\n\ndependencies {\n    implementation(&quot;com.github.ynverxe.xenov:api:0.0.1&quot;)\n}\n</code></pre>\n<p>Edit: Here are the source code of the project &quot;A&quot;: <a href=\"https://github.com/Ynverxe/xenov/tree/dev\" rel=\"nofollow noreferrer\">https://github.com/Ynverxe/xenov/tree/dev</a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":1,"creation_date":1693236392,"post_id":76994113,"comment_id":135730533,"body_markdown":"Does this answer your question? [Check that a List parameter is null in a Spring data JPA query](https://stackoverflow.com/questions/54026900/check-that-a-list-parameter-is-null-in-a-spring-data-jpa-query)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54026900/check-that-a-list-parameter-is-null-in-a-spring-data-jpa-query\">Check that a List parameter is null in a Spring data JPA query</a>"}],"answers":[{"tags":[],"owner":{"account_id":17893364,"reputation":94,"user_id":12999361,"display_name":"Sowik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693236943,"creation_date":1693236943,"answer_id":76994215,"question_id":76994113,"body_markdown":"What you need to do is add an &quot;AND&quot; statement to your query that checks if there are matches in the list OR if the list is null.\r\nWould look something like that:\r\n\r\n```AND ((i.teacher_id in (:teacher_ids)) OR ((:teacher_ids) is null))```","title":"how to query a combination of list id and interval spring boot","body":"<p>What you need to do is add an &quot;AND&quot; statement to your query that checks if there are matches in the list OR if the list is null.\nWould look something like that:</p>\n<p><code>AND ((i.teacher_id in (:teacher_ids)) OR ((:teacher_ids) is null))</code></p>\n"}],"owner":{"account_id":29315654,"reputation":21,"user_id":22460481,"display_name":"DUONG HOA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1693239261,"creation_date":1693236073,"question_id":76994113,"body_markdown":"is there any way i can combine query with one more list teacher id , if list null i query only with time , if not null i will combine with id in list pls can someone help me ?    \r\n```\r\n@Query(\r\n        value = &quot;select i.start_time, i.end_time, i.duration_time, s.subject_class_name, u.name as teacher_name,&quot; +\r\n        &quot; dc.name as class_room_name, ts.name as subject_name, tsc.total_time as total_time_subject_class,&quot; +\r\n        &quot;  i.teacher_context_type, i.teacher_id, s.subject_class_id&quot; +\r\n        &quot; from tbl_attendance_sheet as s inner join tbl_attendance_instance as i on s.id = i.attendance_sheet_id &quot; +\r\n        &quot; left join phong_hoc dc on i.class_id = dc.id &quot; +\r\n        &quot; left join lms_user  u on u.id = i.teacher_user_id &quot; +\r\n        &quot; left join tbl_subject_class as tsc on tsc.id = s.subject_class_id &quot; +\r\n        &quot; left join tbl_subject as ts on ts.id = tsc.subject_id&quot; +\r\n        &quot; where &quot; +\r\n        &quot; ( &quot; +\r\n        &quot; ((:start_time &gt;= i.start_time and :start_time &lt;= i.end_time) &quot; +\r\n        &quot; or (i.start_time &lt;= :end_time and :end_time &lt;= i.end_time) or &quot; +\r\n        &quot; (:start_time &lt; i.start_time and :end_time &gt; i.end_time)) &quot; +\r\n        &quot; ) &quot;,\r\n        nativeQuery = true\r\n    )\r\n    List&lt;Tuple&gt; getAllDetailTeacherCheckOn(\r\n        @Param(&quot;start_time&quot;) LocalDateTime startTime,\r\n        @Param(&quot;end_time&quot;) LocalDateTime endTime\r\n    );\r\n```\r\nI tried using ( case when :teacher_ids is null then true else i.teacher_id in :teacher_ids end ) &quot; but it doesn&#39;t seem to work.","title":"how to query a combination of list id and interval spring boot","body":"<p>is there any way i can combine query with one more list teacher id , if list null i query only with time , if not null i will combine with id in list pls can someone help me ?</p>\n<pre><code>@Query(\n        value = &quot;select i.start_time, i.end_time, i.duration_time, s.subject_class_name, u.name as teacher_name,&quot; +\n        &quot; dc.name as class_room_name, ts.name as subject_name, tsc.total_time as total_time_subject_class,&quot; +\n        &quot;  i.teacher_context_type, i.teacher_id, s.subject_class_id&quot; +\n        &quot; from tbl_attendance_sheet as s inner join tbl_attendance_instance as i on s.id = i.attendance_sheet_id &quot; +\n        &quot; left join phong_hoc dc on i.class_id = dc.id &quot; +\n        &quot; left join lms_user  u on u.id = i.teacher_user_id &quot; +\n        &quot; left join tbl_subject_class as tsc on tsc.id = s.subject_class_id &quot; +\n        &quot; left join tbl_subject as ts on ts.id = tsc.subject_id&quot; +\n        &quot; where &quot; +\n        &quot; ( &quot; +\n        &quot; ((:start_time &gt;= i.start_time and :start_time &lt;= i.end_time) &quot; +\n        &quot; or (i.start_time &lt;= :end_time and :end_time &lt;= i.end_time) or &quot; +\n        &quot; (:start_time &lt; i.start_time and :end_time &gt; i.end_time)) &quot; +\n        &quot; ) &quot;,\n        nativeQuery = true\n    )\n    List&lt;Tuple&gt; getAllDetailTeacherCheckOn(\n        @Param(&quot;start_time&quot;) LocalDateTime startTime,\n        @Param(&quot;end_time&quot;) LocalDateTime endTime\n    );\n</code></pre>\n<p>I tried using ( case when :teacher_ids is null then true else i.teacher_id in :teacher_ids end ) &quot; but it doesn't seem to work.</p>\n"},{"tags":["java","spring","fetch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1682429611,"post_id":76101632,"comment_id":134211478,"body_markdown":"Please don&#39;t post code as images as those are totally unreadable. Post them as text with code tags for formatting.","body":"Please don&#39;t post code as images as those are totally unreadable. Post them as text with code tags for formatting."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682496728,"post_id":76101632,"comment_id":134223608,"body_markdown":"idea: `Referer=http://localhost:3000` ( *should* (!) raise problems with `http://localhost:8080` !?;)","body":"idea: <code>Referer=http:&#47;&#47;localhost:3000</code> ( <i>should</i> (!) raise problems with <code>http:&#47;&#47;localhost:8080</code> !?;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682496795,"post_id":76101632,"comment_id":134223623,"body_markdown":"... https://spring.io/guides/gs/rest-service-cors/ ... + response headers/status would be nice for &quot;guessing&quot;:) ;p","body":"... <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/rest-service-cors</a> ... + response headers/status would be nice for &quot;guessing&quot;:) ;p"}],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"smail Y."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693238952,"creation_date":1682496189,"answer_id":76108458,"question_id":76101632,"body_markdown":"I think the request is blocked by [CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS). \r\n\r\nIn other words, the remote server only allows requests from a limited set of URLs, localhost is not one of them.\r\n\r\n**Postman works because it doesn&#39;t do this check.**\r\n\r\nSee https://spring.io/guides/gs/rest-service-cors/","title":"Spring 3.5 - requests are working by postman but not by web application","body":"<p>I think the request is blocked by <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">CORS</a>.</p>\n<p>In other words, the remote server only allows requests from a limited set of URLs, localhost is not one of them.</p>\n<p><strong>Postman works because it doesn't do this check.</strong></p>\n<p>See <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service-cors/</a></p>\n"}],"owner":{"account_id":3409018,"reputation":71,"user_id":2859435,"display_name":"Piotr Treska"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693238952,"creation_date":1682428797,"question_id":76101632,"body_markdown":"I am running into some trouble trying to figure out why my request is working on postman but not in the app (using fetchjs). The following is my request in the postman:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand how it looks like in web application:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand here you can find my SecurityConfiguration:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf()\r\n                    .disable()\r\n                    .authorizeHttpRequests()\r\n                            .requestMatchers(&quot;/api/v1/auth/**&quot;)\r\n                            .permitAll()\r\n                            .anyRequest()\r\n                            .authenticated()\r\n                            .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authenticationProvider(authenticationProvider)\r\n                    .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n\r\nAny ideas?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0s0AS.png\r\n  [2]: https://i.stack.imgur.com/5dlLw.png\r\n  [3]: https://i.stack.imgur.com/PUey1.png","title":"Spring 3.5 - requests are working by postman but not by web application","body":"<p>I am running into some trouble trying to figure out why my request is working on postman but not in the app (using fetchjs). The following is my request in the postman:\n<a href=\"https://i.stack.imgur.com/0s0AS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0s0AS.png\" alt=\"enter image description here\" /></a></p>\n<p>and how it looks like in web application:</p>\n<p><a href=\"https://i.stack.imgur.com/5dlLw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5dlLw.png\" alt=\"enter image description here\" /></a></p>\n<p>and here you can find my SecurityConfiguration:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                        .requestMatchers(&quot;/api/v1/auth/**&quot;)\n                        .permitAll()\n                        .anyRequest()\n                        .authenticated()\n                        .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","jdbc","lambda","java-stream","jooq"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1440520321,"post_id":32209248,"comment_id":52302644,"body_markdown":"Beware that not all streams are the same kind of stream.  `java.util.stream.Stream` may not actually be suited for what you have in mind.","body":"Beware that not all streams are the same kind of stream.  <code>java.util.stream.Stream</code> may not actually be suited for what you have in mind."},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":1,"creation_date":1440521019,"post_id":32209248,"comment_id":52303041,"body_markdown":"`ResultSet` is like a stream. You can only process one row of the result at once. Or do you want to process the `ResultSet` with the streaming api?","body":"<code>ResultSet</code> is like a stream. You can only process one row of the result at once. Or do you want to process the <code>ResultSet</code> with the streaming api?"},{"owner":{"account_id":2435350,"reputation":1765,"user_id":2125399,"accept_rate":69,"display_name":"Iurii"},"score":0,"creation_date":1440521794,"post_id":32209248,"comment_id":52303474,"body_markdown":"I would like to wrap `ResultSet` to java 8 `stream` and pass this `stream` object to another class. In another class I would like to iterate over this `stream` and write the results to `File`.","body":"I would like to wrap <code>ResultSet</code> to java 8 <code>stream</code> and pass this <code>stream</code> object to another class. In another class I would like to iterate over this <code>stream</code> and write the results to <code>File</code>."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1440751342,"post_id":32209248,"comment_id":52412599,"body_markdown":"This is quite close to some of my work which I described [here](https://www.airpair.com/java/posts/spring-streams-memory-efficiency), maybe you&#39;ll find it useful.","body":"This is quite close to some of my work which I described <a href=\"https://www.airpair.com/java/posts/spring-streams-memory-efficiency\" rel=\"nofollow noreferrer\">here</a>, maybe you&#39;ll find it useful."},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1634533202,"post_id":32209248,"comment_id":123040506,"body_markdown":"please use JOOQ with caution. I used JOOQ for lazy streaming which worked well until I encountered Clob types which is not supported in JOOQ and it converted to String internally which really degraded performance. There may be other issues or bugs in JOOQ","body":"please use JOOQ with caution. I used JOOQ for lazy streaming which worked well until I encountered Clob types which is not supported in JOOQ and it converted to String internally which really degraded performance. There may be other issues or bugs in JOOQ"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1634753101,"post_id":32209248,"comment_id":123112627,"body_markdown":"@TriCore: Well, you folks seem to write `SELECT *` queries and are now blaming the framework for doing exactly what you told it to... Why not just write smarter queries instead? Also, the OP writes `fetch(resultSet)` which eagerly fetches everything into memory (as documented), rather than writing `fetchLazy(resultSet)`, which keeps an open cursor. It works as designed and documented...","body":"@TriCore: Well, you folks seem to write <code>SELECT *</code> queries and are now blaming the framework for doing exactly what you told it to... Why not just write smarter queries instead? Also, the OP writes <code>fetch(resultSet)</code> which eagerly fetches everything into memory (as documented), rather than writing <code>fetchLazy(resultSet)</code>, which keeps an open cursor. It works as designed and documented..."},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1634758398,"post_id":32209248,"comment_id":123114728,"body_markdown":"@LukasEder not sure why would you assume `SELECT *` or if I am loading clobs inadvertently. I needed to lazily load clob in a lazy stream which would give flexibility  to decide when to load clobs or not load them at all `based on some conditions`. I understand its all documented but I found it very surprising that JOOQ loaded the whole clob eagerly in a lazy stream. Anyways, I found a solution by moving the clob values to a blob store in cloud.","body":"@LukasEder not sure why would you assume <code>SELECT *</code> or if I am loading clobs inadvertently. I needed to lazily load clob in a lazy stream which would give flexibility  to decide when to load clobs or not load them at all <code>based on some conditions</code>. I understand its all documented but I found it very surprising that JOOQ loaded the whole clob eagerly in a lazy stream. Anyways, I found a solution by moving the clob values to a blob store in cloud."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1634764748,"post_id":32209248,"comment_id":123116942,"body_markdown":"@TriCore: It doesn&#39;t matter if you `SELECT *` or `SELECT a, b, clob`. The point is, why include the `clob` column in the `SELECT` clause when you could use &quot;some conditions&quot; to decide whether you actually need to include it in your `SELECT` clause? I&#39;d still be very happy to offer answering a specific new question if this isn&#39;t clear... It doesn&#39;t seem to be...?","body":"@TriCore: It doesn&#39;t matter if you <code>SELECT *</code> or <code>SELECT a, b, clob</code>. The point is, why include the <code>clob</code> column in the <code>SELECT</code> clause when you could use &quot;some conditions&quot; to decide whether you actually need to include it in your <code>SELECT</code> clause? I&#39;d still be very happy to offer answering a specific new question if this isn&#39;t clear... It doesn&#39;t seem to be...?"},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1634768837,"post_id":32209248,"comment_id":123117988,"body_markdown":"@LukasEder actually I am not clear. Are you asking me to execute two queries one with clob and one without clob? Note that I also need data from the records for which the clobs are ignored.","body":"@LukasEder actually I am not clear. Are you asking me to execute two queries one with clob and one without clob? Note that I also need data from the records for which the clobs are ignored."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1634794518,"post_id":32209248,"comment_id":123122368,"body_markdown":"@TriCore please ask a new question. It&#39;ll be much easier to explain","body":"@TriCore please ask a new question. It&#39;ll be much easier to explain"},{"owner":{"account_id":13770490,"reputation":107,"user_id":9938083,"display_name":"Sudhir Gaurav"},"score":0,"creation_date":1680804892,"post_id":32209248,"comment_id":133963652,"body_markdown":"How to handle setFetchSize(xxx) method , if i am not sure about the size of db rows object ???","body":"How to handle setFetchSize(xxx) method , if i am not sure about the size of db rows object ???"}],"answers":[{"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":3,"creation_date":1440554271,"post_id":32209790,"comment_id":52317309,"body_markdown":"Note that for short-circuit stream operation the iterator can be abandoned in any moment leaving the non-closed `ResultSet`. It&#39;s better to create a closeable Stream and require to close it explicitly after the operation. Also why raw-types in Java-8?","body":"Note that for short-circuit stream operation the iterator can be abandoned in any moment leaving the non-closed <code>ResultSet</code>. It&#39;s better to create a closeable Stream and require to close it explicitly after the operation. Also why raw-types in Java-8?"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1440555356,"post_id":32209790,"comment_id":52317536,"body_markdown":"@TagirValeev how would you create a closeable stream and require to close it ?","body":"@TagirValeev how would you create a closeable stream and require to close it ?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":4,"creation_date":1440563488,"post_id":32209790,"comment_id":52319381,"body_markdown":"Every stream can be closed (as `AutoCloseable`), but by default this does nothing. You can add a close handler like `StreamSupport.stream(...).onClose(myIterator::close)` (store the `ResultSetIterator` into `myIterator` variable). You can require to close it writing the proper JavaDoc like it&#39;s done for [`Files.lines`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-java.nio.charset.Charset-) method (If timely disposal of file system resources is required, the try-with-resources construct should be used blah blah).","body":"Every stream can be closed (as <code>AutoCloseable</code>), but by default this does nothing. You can add a close handler like <code>StreamSupport.stream(...).onClose(myIterator::close)</code> (store the <code>ResultSetIterator</code> into <code>myIterator</code> variable). You can require to close it writing the proper JavaDoc like it&#39;s done for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-java.nio.charset.Charset-\" rel=\"nofollow noreferrer\"><code>Files.lines</code></a> method (If timely disposal of file system resources is required, the try-with-resources construct should be used blah blah)."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1440563710,"post_id":32209790,"comment_id":52319452,"body_markdown":"@TagirValeev thanks!!! I was afraid that this day will pass without me learning anything, but now you came... :))) thanks again!","body":"@TagirValeev thanks!!! I was afraid that this day will pass without me learning anything, but now you came... :))) thanks again!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1440602232,"post_id":32209790,"comment_id":52343388,"body_markdown":"First of all, you should not use raw types. Second, the `Iterator` is broken as `hasNext()`  has an unexpected side-effect as it will advance to the next line. [This is not a theoretical issue.](http://stackoverflow.com/q/29037100/2711488). Note that you can fix it *and* half the code size by implementing a `Spliterator`. Finally that unused varargs parameter `parms` is asking for trouble.","body":"First of all, you should not use raw types. Second, the <code>Iterator</code> is broken as <code>hasNext()</code>  has an unexpected side-effect as it will advance to the next line. <a href=\"http://stackoverflow.com/q/29037100/2711488\">This is not a theoretical issue.</a>. Note that you can fix it <i>and</i> half the code size by implementing a <code>Spliterator</code>. Finally that unused varargs parameter <code>parms</code> is asking for trouble."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1440602927,"post_id":32209790,"comment_id":52343887,"body_markdown":"@Holger `params` implies that the query can include parameters (PreparedStatement), this part was not implemented because this is an example that meant for a different purpose but it could easily be expanded. Same goes for the `hasNext()`, this implementation has the contract of calling `hasNext()` before calling `next()` (which is the way it&#39;s usually done) - it could be changed, but again - that&#39;s not the point (and the same applies for raw-types).","body":"@Holger <code>params</code> implies that the query can include parameters (PreparedStatement), this part was not implemented because this is an example that meant for a different purpose but it could easily be expanded. Same goes for the <code>hasNext()</code>, this implementation has the contract of calling <code>hasNext()</code> before calling <code>next()</code> (which is the way it&#39;s usually done) - it could be changed, but again - that&#39;s not the point (and the same applies for raw-types)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1440603444,"post_id":32209790,"comment_id":52344253,"body_markdown":"There is no contract that `hasNext()` and `next()` are paired and I already linked to a question showing the `Stream`s and you are creating a stream out of the iterator **do** call `hasNext` more than once occasionally. You cant make up your own contract and declare that the stream API has to adhere to it. As *proven*, that doesnt work.","body":"There is no contract that <code>hasNext()</code> and <code>next()</code> are paired and I already linked to a question showing the <code>Stream</code>s and you are creating a stream out of the iterator <b>do</b> call <code>hasNext</code> more than once occasionally. You cant make up your own contract and declare that the stream API has to adhere to it. As <i>proven</i>, that doesnt work."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1440603734,"post_id":32209790,"comment_id":52344475,"body_markdown":"@Holger this issue can be fixed, but it will make the code more complex (keeping the rs in a class member + a counter to the number of calls to `next()`) but it will create an extra boilerplate that beats the purpose of the example. Point taken though, thanks.","body":"@Holger this issue can be fixed, but it will make the code more complex (keeping the rs in a class member + a counter to the number of calls to <code>next()</code>) but it will create an extra boilerplate that beats the purpose of the example. Point taken though, thanks."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1440604027,"post_id":32209790,"comment_id":52344694,"body_markdown":"As already said, you can fix it by making the code *simpler* by implementing a `Spliterator` instead of an `Iterator`.","body":"As already said, you can fix it by making the code <i>simpler</i> by implementing a <code>Spliterator</code> instead of an <code>Iterator</code>."},{"owner":{"account_id":1326683,"reputation":2390,"user_id":1271359,"display_name":"Holger Ludvigsen"},"score":0,"creation_date":1634026630,"post_id":32209790,"comment_id":122909492,"body_markdown":"This is the most usable answer. A variation of this code worked great for me. It deserves more votes.","body":"This is the most usable answer. A variation of this code worked great for me. It deserves more votes."}],"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"comment_count":10,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1440521641,"creation_date":1440521641,"answer_id":32209790,"question_id":32209248,"body_markdown":"I&#39;m not aware of any well-known library that will do it for you. \r\n\r\nThat said, [this article][1] shows how to wrap the resultset with an Iterator (ResultSetIterator) and pass it as the first parameter to [`Spliterators.spliteratorUnknownSize()`][2] in order to create a [`Spliterator`][3].\r\n\r\nThe Spliterator can then be used by [`StreamSupport`][4] in order to create a Stream on top of it.\r\n\r\nTheir suggested implementation of `ResultSetIterator` class:\r\n\r\n    public class ResultSetIterator implements Iterator {\r\n    \r\n        private ResultSet rs;\r\n        private PreparedStatement ps;\r\n        private Connection connection;\r\n        private String sql;\r\n    \r\n        public ResultSetIterator(Connection connection, String sql) {\r\n            assert connection != null;\r\n            assert sql != null;\r\n            this.connection = connection;\r\n            this.sql = sql;\r\n        }\r\n    \r\n        public void init() {\r\n            try {\r\n                ps = connection.prepareStatement(sql);\r\n                rs = ps.executeQuery();\r\n    \r\n            } catch (SQLException e) {\r\n                close();\r\n                throw new DataAccessException(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasNext() {\r\n            if (ps == null) {\r\n                init();\r\n            }\r\n            try {\r\n                boolean hasMore = rs.next();\r\n                if (!hasMore) {\r\n                    close();\r\n                }\r\n                return hasMore;\r\n            } catch (SQLException e) {\r\n                close();\r\n                throw new DataAccessException(e);\r\n            }\r\n    \r\n        }\r\n    \r\n        private void close() {\r\n            try {\r\n                rs.close();\r\n                try {\r\n                    ps.close();\r\n                } catch (SQLException e) {\r\n                    //nothing we can do here\r\n                }\r\n            } catch (SQLException e) {\r\n                //nothing we can do here\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Tuple next() {\r\n            try {\r\n                return SQL.rowAsTuple(sql, rs);\r\n            } catch (DataAccessException e) {\r\n                close();\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\nand then:\r\n\r\n    public static Stream stream(final Connection connection, \r\n                                           final String sql, \r\n                                           final Object... parms) {\r\n      return StreamSupport\r\n                    .stream(Spliterators.spliteratorUnknownSize(\r\n                            new ResultSetIterator(connection, sql), 0), false);\r\n    }\r\n\r\n\r\n  [1]: https://dzone.com/articles/adding-java-8-lambda-goodness\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterators.html#spliteratorUnknownSize-java.util.Iterator-int-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html","title":"java.util.stream with ResultSet","body":"<p>I'm not aware of any well-known library that will do it for you. </p>\n\n<p>That said, <a href=\"https://dzone.com/articles/adding-java-8-lambda-goodness\" rel=\"noreferrer\">this article</a> shows how to wrap the resultset with an Iterator (ResultSetIterator) and pass it as the first parameter to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterators.html#spliteratorUnknownSize-java.util.Iterator-int-\" rel=\"noreferrer\"><code>Spliterators.spliteratorUnknownSize()</code></a> in order to create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"noreferrer\"><code>Spliterator</code></a>.</p>\n\n<p>The Spliterator can then be used by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html\" rel=\"noreferrer\"><code>StreamSupport</code></a> in order to create a Stream on top of it.</p>\n\n<p>Their suggested implementation of <code>ResultSetIterator</code> class:</p>\n\n<pre><code>public class ResultSetIterator implements Iterator {\n\n    private ResultSet rs;\n    private PreparedStatement ps;\n    private Connection connection;\n    private String sql;\n\n    public ResultSetIterator(Connection connection, String sql) {\n        assert connection != null;\n        assert sql != null;\n        this.connection = connection;\n        this.sql = sql;\n    }\n\n    public void init() {\n        try {\n            ps = connection.prepareStatement(sql);\n            rs = ps.executeQuery();\n\n        } catch (SQLException e) {\n            close();\n            throw new DataAccessException(e);\n        }\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (ps == null) {\n            init();\n        }\n        try {\n            boolean hasMore = rs.next();\n            if (!hasMore) {\n                close();\n            }\n            return hasMore;\n        } catch (SQLException e) {\n            close();\n            throw new DataAccessException(e);\n        }\n\n    }\n\n    private void close() {\n        try {\n            rs.close();\n            try {\n                ps.close();\n            } catch (SQLException e) {\n                //nothing we can do here\n            }\n        } catch (SQLException e) {\n            //nothing we can do here\n        }\n    }\n\n    @Override\n    public Tuple next() {\n        try {\n            return SQL.rowAsTuple(sql, rs);\n        } catch (DataAccessException e) {\n            close();\n            throw e;\n        }\n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>public static Stream stream(final Connection connection, \n                                       final String sql, \n                                       final Object... parms) {\n  return StreamSupport\n                .stream(Spliterators.spliteratorUnknownSize(\n                        new ResultSetIterator(connection, sql), 0), false);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493189722,"post_id":32232173,"comment_id":74302615,"body_markdown":"up-vote first. I think `stream.onClose(UncheckedCloseable.wrap(resource)::close)` is more expressiveness and `RuntimeException` can be replaced with `UncheckedIOException`. what do you think?","body":"up-vote first. I think <code>stream.onClose(UncheckedCloseable.wrap(resource)::close)</code> is more expressiveness and <code>RuntimeException</code> can be replaced with <code>UncheckedIOException</code>. what do you think?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1493277465,"post_id":32232173,"comment_id":74349712,"body_markdown":"@holi-java: `::close` would be again referring to the method which can throw checked exceptions, hence, what you suggest would be rejected by the compiler. Besides that, I dont think that it is necessary to make it explicit that passing a resource to `onClose` will eventually invoke its `close` method. `UncheckedIOException` is suitable for wrapping an `IOException`, but not for a general solution, especially not in this answer, where we have to deal with `SQLException`.","body":"@holi-java: <code>::close</code> would be again referring to the method which can throw checked exceptions, hence, what you suggest would be rejected by the compiler. Besides that, I dont think that it is necessary to make it explicit that passing a resource to <code>onClose</code> will eventually invoke its <code>close</code> method. <code>UncheckedIOException</code> is suitable for wrapping an <code>IOException</code>, but not for a general solution, especially not in this answer, where we have to deal with <code>SQLException</code>."},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493282096,"post_id":32232173,"comment_id":74352661,"body_markdown":"Hi, I agree on the point of `UncheckedIOException`, the `::close` would be again throw cehcked exceptions can be solved as `run` method  and I can remove the `run` method. am I right?","body":"Hi, I agree on the point of <code>UncheckedIOException</code>, the <code>::close</code> would be again throw cehcked exceptions can be solved as <code>run</code> method  and I can remove the <code>run</code> method. am I right?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1493385066,"post_id":32232173,"comment_id":74408202,"body_markdown":"@holi-java could you may re-phrase that? I did not get your point (and I wanted to respond to your comment)...","body":"@holi-java could you may re-phrase that? I did not get your point (and I wanted to respond to your comment)..."},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493387895,"post_id":32232173,"comment_id":74410112,"body_markdown":"@Eugene Hi, what I have said to @Holger is to declare a `close` method doesn&#39;t throws `Exception`, and then delegate `close` to the original `AutoCloseable.close` like as `run` method. then I can remove the `run` method and make `UncheckedCloseable` not is a `Runnable` and then I can use the expression `stream.onClose(UncheckedCloseable.wrap(resource)::close)` . `close` method in `UncheckedAutoCloseable` are conflict with its name, because the `UncheckedAutoCloseable` still throws `Exception`. am I right?","body":"@Eugene Hi, what I have said to @Holger is to declare a <code>close</code> method doesn&#39;t throws <code>Exception</code>, and then delegate <code>close</code> to the original <code>AutoCloseable.close</code> like as <code>run</code> method. then I can remove the <code>run</code> method and make <code>UncheckedCloseable</code> not is a <code>Runnable</code> and then I can use the expression <code>stream.onClose(UncheckedCloseable.wrap(resource)::close)</code> . <code>close</code> method in <code>UncheckedAutoCloseable</code> are conflict with its name, because the <code>UncheckedAutoCloseable</code> still throws <code>Exception</code>. am I right?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1493389375,"post_id":32232173,"comment_id":74411060,"body_markdown":"@holi-java first, your method would have a different name, other then `close`; because it would override the `AutoCloseable::close`, let&#39;s say `closeMine`. Something like : `default void closeMine() {... // code just like in Runnable`. Second, that would still work, but I find the Runnable approach much cleaner. It&#39;s actually a very nice piece of code, which I already took into my personal `Utils`... there are quite a few of them from Holger at this point","body":"@holi-java first, your method would have a different name, other then <code>close</code>; because it would override the <code>AutoCloseable::close</code>, let&#39;s say <code>closeMine</code>. Something like : <code>default void closeMine() {... &#47;&#47; code just like in Runnable</code>. Second, that would still work, but I find the Runnable approach much cleaner. It&#39;s actually a very nice piece of code, which I already took into my personal <code>Utils</code>... there are quite a few of them from Holger at this point"},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493389755,"post_id":32232173,"comment_id":74411303,"body_markdown":"@Eugene I said the most one sentence I&#39;m sorry about my bad english. and I say it again, I&#39;m very sorry. I needn&#39;t a default method `closeMine` just  decorate the original `AutoCloseable`. maybe it is not a cleaner way, but it elegant and `close` method don&#39;t conflict with it&#39;s name.","body":"@Eugene I said the most one sentence I&#39;m sorry about my bad english. and I say it again, I&#39;m very sorry. I needn&#39;t a default method <code>closeMine</code> just  decorate the original <code>AutoCloseable</code>. maybe it is not a cleaner way, but it elegant and <code>close</code> method don&#39;t conflict with it&#39;s name."},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493389779,"post_id":32232173,"comment_id":74411319,"body_markdown":"@Eugene the implementation like this: `interface UncheckedCloseable extends AutoCloseable { void close(); static AutoCloseable wrap(AutoCloseable it) { return (UncheckedCloseable) () -&gt; { try { it.close(); } catch (Exception e) { throw new RuntimeException(e); } }; } }`","body":"@Eugene the implementation like this: <code>interface UncheckedCloseable extends AutoCloseable { void close(); static AutoCloseable wrap(AutoCloseable it) { return (UncheckedCloseable) () -&gt; { try { it.close(); } catch (Exception e) { throw new RuntimeException(e); } }; } }</code>"},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493390696,"post_id":32232173,"comment_id":74411927,"body_markdown":"@Eugene Hi, there is another reason when using `stream.onClose(UncheckedCloseable.wrap(resource)::close)` in code snippet, I think it is clearer than the @Holger&#39;s, because I can see the code that is close a resource after close the stream, but like as @Holger&#39;s  I need jump into the `UncheckedCloseable`  and seeing what the `run` method does. can you give me some advice?","body":"@Eugene Hi, there is another reason when using <code>stream.onClose(UncheckedCloseable.wrap(resource)::close)</code> in code snippet, I think it is clearer than the @Holger&#39;s, because I can see the code that is close a resource after close the stream, but like as @Holger&#39;s  I need jump into the <code>UncheckedCloseable</code>  and seeing what the <code>run</code> method does. can you give me some advice?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1493393820,"post_id":32232173,"comment_id":74413952,"body_markdown":"@holi-java: the reason, why this class implements `AutoCloseable` is the `nest` method which allows to combine it with another resource that needs closing. If `UncheckedCloseable` had a `close` method that doesnt allow checked exceptions, the implementation of `nest` would be more complicated. On the other hand, if you dont use that method, you dont need it to implement `AutoCloseable` at all. In fact, you wouldnt need that type; a sole `static` wrapping method would be sufficient.","body":"@holi-java: the reason, why this class implements <code>AutoCloseable</code> is the <code>nest</code> method which allows to combine it with another resource that needs closing. If <code>UncheckedCloseable</code> had a <code>close</code> method that doesnt allow checked exceptions, the implementation of <code>nest</code> would be more complicated. On the other hand, if you dont use that method, you dont need it to implement <code>AutoCloseable</code> at all. In fact, you wouldnt need that type; a sole <code>static</code> wrapping method would be sufficient."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1493393981,"post_id":32232173,"comment_id":74414051,"body_markdown":"By the way, all that `UncheckedCloseable.wrap(resource)::close` tells you, is that the function will call `close` on whatever `wrap` returns. It doesnt tell you what happens to `resource`. On the other hand, once you understood that `resource` also has a `close` method and that, of course, that `close` method will eventually be called, well, then you dont need `::close` on the result of `wrap` to hint at that fact. As said, that `close` method is entirely unrelated to the `close` method of `resource`. It wouldnt be different had you written `UncheckedCloseable.wrap(resource)::run`","body":"By the way, all that <code>UncheckedCloseable.wrap(resource)::close</code> tells you, is that the function will call <code>close</code> on whatever <code>wrap</code> returns. It doesnt tell you what happens to <code>resource</code>. On the other hand, once you understood that <code>resource</code> also has a <code>close</code> method and that, of course, that <code>close</code> method will eventually be called, well, then you dont need <code>::close</code> on the result of <code>wrap</code> to hint at that fact. As said, that <code>close</code> method is entirely unrelated to the <code>close</code> method of <code>resource</code>. It wouldnt be different had you written <code>UncheckedCloseable.wrap(resource)::run</code>"},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493395152,"post_id":32232173,"comment_id":74414788,"body_markdown":"@Holger Hi, A few days gone, How are you?  &quot;you dont need it to implement AutoCloseable at all&quot; - I still need an `UncheckedCloseable` due to `AutoCloseable.close`  throws an `Exception` but `Runnable` not does. and the `nest` method I can done like this: `try {wrap(c).close();} finally {close();}`. Am I right, sir?","body":"@Holger Hi, A few days gone, How are you?  &quot;you dont need it to implement AutoCloseable at all&quot; - I still need an <code>UncheckedCloseable</code> due to <code>AutoCloseable.close</code>  throws an <code>Exception</code> but <code>Runnable</code> not does. and the <code>nest</code> method I can done like this: <code>try {wrap(c).close();} finally {close();}</code>. Am I right, sir?"},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493395653,"post_id":32232173,"comment_id":74415101,"body_markdown":"@Holger by the `UncheckedCloseable.wrap(resource)::run` way I still need to see what the `run` methods does, but in the `UncheckedCloseable.wrap(resource)::close` way I can see it call the `close` method due to the `wrap` method has been became a pattern/convention in developers mind. What do you think?","body":"@Holger by the <code>UncheckedCloseable.wrap(resource)::run</code> way I still need to see what the <code>run</code> methods does, but in the <code>UncheckedCloseable.wrap(resource)::close</code> way I can see it call the <code>close</code> method due to the <code>wrap</code> method has been became a pattern/convention in developers mind. What do you think?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1493398191,"post_id":32232173,"comment_id":74416600,"body_markdown":"@holi-java: if you let `UncheckedCloseable` declare a `close` method that doesnt throw checked exceptions and pass a method reference to it to `onClose`, there is no relevance in implementing `AutoCloseable` anymore. No one is expecting an `AutoCloseable` anywhere. Regarding `finally`, just read why try with resource was introduced, simply said, no `finally` is not an option. Oh, and I dont get why you have to look up what `run` does but assume to know what `close` does due to a pattern/convention. All other developers already understand what `UncheckedCloseable.wrap(resource)` does","body":"@holi-java: if you let <code>UncheckedCloseable</code> declare a <code>close</code> method that doesnt throw checked exceptions and pass a method reference to it to <code>onClose</code>, there is no relevance in implementing <code>AutoCloseable</code> anymore. No one is expecting an <code>AutoCloseable</code> anywhere. Regarding <code>finally</code>, just read why try with resource was introduced, simply said, no <code>finally</code> is not an option. Oh, and I dont get why you have to look up what <code>run</code> does but assume to know what <code>close</code> does due to a pattern/convention. All other developers already understand what <code>UncheckedCloseable.wrap(resource)</code> does"},{"owner":{"account_id":10312640,"reputation":29939,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"score":0,"creation_date":1493399654,"post_id":32232173,"comment_id":74417328,"body_markdown":"@Holger yes, you are right. `try-with-resource` block has different behavior between `try-finally` block when fails both on closes a resource &amp; fails in `try` block. when I see your code at the first time of `UncheckedCloseable` I really need to look up the `run` method, but I needn&#39;t to look up it repeatly at the next time. great and you finally convinced me, thank you very much.","body":"@Holger yes, you are right. <code>try-with-resource</code> block has different behavior between <code>try-finally</code> block when fails both on closes a resource &amp; fails in <code>try</code> block. when I see your code at the first time of <code>UncheckedCloseable</code> I really need to look up the <code>run</code> method, but I needn&#39;t to look up it repeatly at the next time. great and you finally convinced me, thank you very much."},{"owner":{"account_id":2432392,"reputation":755,"user_id":2123025,"accept_rate":25,"display_name":"Claude Martin"},"score":1,"creation_date":1532886520,"post_id":32232173,"comment_id":90131281,"body_markdown":"I have made a simple library to do just this. It&#39;s designed to be thread-safe (streams are parallel) and you can even let the resources be cleaned up automatically. Requires Java 10.\nhttps://github.com/claudemartin/streamed-sql","body":"I have made a simple library to do just this. It&#39;s designed to be thread-safe (streams are parallel) and you can even let the resources be cleaned up automatically. Requires Java 10. <a href=\"https://github.com/claudemartin/streamed-sql\" rel=\"nofollow noreferrer\">github.com/claudemartin/streamed-sql</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1532952205,"post_id":32232173,"comment_id":90152654,"body_markdown":"@ClaudeMartin you dont need to insert a `synchronized` in the `tryAdvance` method. The code is already usable with parallel streams as is. Its the contract of the `Spliterator` interface that a single instance is never accessed concurrently, just like with an `Iterator`. The key point for parallel processing is that a new `Spliterator` instance is created via `trySplit`, to be processed by other threads. Since a single `ResultSet` cant be split, youre fine with the inherited `trySplit` implementation which will buffer some element into an array and return an array spliterator for them.","body":"@ClaudeMartin you dont need to insert a <code>synchronized</code> in the <code>tryAdvance</code> method. The code is already usable with parallel streams as is. Its the contract of the <code>Spliterator</code> interface that a single instance is never accessed concurrently, just like with an <code>Iterator</code>. The key point for parallel processing is that a new <code>Spliterator</code> instance is created via <code>trySplit</code>, to be processed by other threads. Since a single <code>ResultSet</code> cant be split, youre fine with the inherited <code>trySplit</code> implementation which will buffer some element into an array and return an array spliterator for them."},{"owner":{"account_id":2432392,"reputation":755,"user_id":2123025,"accept_rate":25,"display_name":"Claude Martin"},"score":0,"creation_date":1533301931,"post_id":32232173,"comment_id":90309513,"body_markdown":"But what about visibility? I don&#39;t think jdbc is thread safe. I want every thread to see whatever the last `rs.next()` did. I could override trySplit so that only one synch-block is needed for a batch.","body":"But what about visibility? I don&#39;t think jdbc is thread safe. I want every thread to see whatever the last <code>rs.next()</code> did. I could override trySplit so that only one synch-block is needed for a batch."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1533303458,"post_id":32232173,"comment_id":90310644,"body_markdown":"@ClaudeMartin the `ResultSet` is never seen by different threads. The other threads will see what the mapping function has returned for a particular row. These objects are already published in a thread safe way by the Stream implementation. This assumes that objects created for different rows do not share mutable state, but thats always required, i.e. `synchronized` wouldnt help if thats violated.","body":"@ClaudeMartin the <code>ResultSet</code> is never seen by different threads. The other threads will see what the mapping function has returned for a particular row. These objects are already published in a thread safe way by the Stream implementation. This assumes that objects created for different rows do not share mutable state, but thats always required, i.e. <code>synchronized</code> wouldnt help if thats violated."},{"owner":{"account_id":2432392,"reputation":755,"user_id":2123025,"accept_rate":25,"display_name":"Claude Martin"},"score":0,"creation_date":1533330955,"post_id":32232173,"comment_id":90323583,"body_markdown":"Yes, you are right. It&#39;s all local. I can just remove it. I&#39;ll add to the documentation of ResultSetMapper that the ResultSet must not be shared with other code.","body":"Yes, you are right. It&#39;s all local. I can just remove it. I&#39;ll add to the documentation of ResultSetMapper that the ResultSet must not be shared with other code."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1545778652,"post_id":32232173,"comment_id":94693795,"body_markdown":"Could this be made simpler by having the resultset being autoclosed by a try-with-resources and using lambdas for the consumer action?","body":"Could this be made simpler by having the resultset being autoclosed by a try-with-resources and using lambdas for the consumer action?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1546848767,"post_id":32232173,"comment_id":94973943,"body_markdown":"@Thorbj&#248;rnRavnAndersen yes, but this would be a different code structure than a `Stream` returning method. Both variants exist, e.g. this answer is like, e.g. `Files.lines()`, works, whereas your suggestion is like JDK&#160;9+ `StackWalker.walk()` works.","body":"@Thorbj&#248;rnRavnAndersen yes, but this would be a different code structure than a <code>Stream</code> returning method. Both variants exist, e.g. this answer is like, e.g. <code>Files.lines()</code>, works, whereas your suggestion is like JDK 9+ <code>StackWalker.walk()</code> works."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1555587238,"post_id":32232173,"comment_id":98167015,"body_markdown":"@john16384 or you replace the initial `UncheckedCloseable close=null;` with `UncheckedCloseable close=() -&gt; {};`; there are plenty of possibilities. This code is more a sketch than the ultimate production-ready code. AFAIK, similar solutions found their way into libraries, so using these libraries is the preferred way then.","body":"@john16384 or you replace the initial <code>UncheckedCloseable close=null;</code> with <code>UncheckedCloseable close=() -&gt; {};</code>; there are plenty of possibilities. This code is more a sketch than the ultimate production-ready code. AFAIK, similar solutions found their way into libraries, so using these libraries is the preferred way then."},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1555587302,"post_id":32232173,"comment_id":98167054,"body_markdown":"@Holger Thanks, still experimenting with this; I don&#39;t like the reassignment of `close` every time","body":"@Holger Thanks, still experimenting with this; I don&#39;t like the reassignment of <code>close</code> every time"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1599138150,"post_id":32232173,"comment_id":112685273,"body_markdown":"For who could have the same problem on the future: using MySQL 5.7 the fetch size was not working for me until set with `Integer.MIN_VALUE`","body":"For who could have the same problem on the future: using MySQL 5.7 the fetch size was not working for me until set with <code>Integer.MIN_VALUE</code>"},{"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"score":0,"creation_date":1693240806,"post_id":32232173,"comment_id":135731452,"body_markdown":"You could put a stub try-with-resources in the onClose block and dispense with `UncheckedCloseable`. For example, `.onClose(() -&gt; { try (Connection c = connection; PreparedStatement ps = pSt; ResultSet rs = resultSet) { /*do nothing*/ } catch (SQLException e) { throw new RuntimeException(e); } });`","body":"You could put a stub try-with-resources in the onClose block and dispense with <code>UncheckedCloseable</code>. For example, <code>.onClose(() -&gt; { try (Connection c = connection; PreparedStatement ps = pSt; ResultSet rs = resultSet) { &#47;*do nothing*&#47; } catch (SQLException e) { throw new RuntimeException(e); } });</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693294149,"post_id":32232173,"comment_id":135737972,"body_markdown":"@ClementCherlin thats possible. Since Java&#160;9 you can even write `.onClose(() -&gt; { try(connection; pSt; resultSet) { /*do nothing*/ } catch (SQLException e) { throw new RuntimeException(e); } });` However, the `UncheckedCloseable` is used for two things. If the Stream construction fails, it is executed immediately. Tracking which resources have been opened for this purpose would also be possible without `UncheckedCloseable`, but would complicate the code structure. The way it is written now, its also easy to add more resources without having to adapt multiple code locations.","body":"@ClementCherlin thats possible. Since Java 9 you can even write <code>.onClose(() -&gt; { try(connection; pSt; resultSet) { &#47;*do nothing*&#47; } catch (SQLException e) { throw new RuntimeException(e); } });</code> However, the <code>UncheckedCloseable</code> is used for two things. If the Stream construction fails, it is executed immediately. Tracking which resources have been opened for this purpose would also be possible without <code>UncheckedCloseable</code>, but would complicate the code structure. The way it is written now, its also easy to add more resources without having to adapt multiple code locations."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":27,"down_vote_count":0,"up_vote_count":119,"is_accepted":false,"score":119,"last_activity_date":1440607311,"creation_date":1440607311,"answer_id":32232173,"question_id":32209248,"body_markdown":"The first thing you have to understand is that code like\r\n\r\n    try (Connection connection = dataSource.getConnection()) {\r\n        \r\n        try (PreparedStatement pSt = connection.prepareStatement(sql)) {\r\n            \r\n            return stream;\r\n        }\r\n    }\r\n\r\ndoes not work as by the time you leave the `try` blocks, the resources are closed while the processing of the `Stream` hasnt even started.\r\n\r\nThe resource management construct try with resources works for resources used within a block scope inside a method but you are creating a factory method returning a resource. Therefore you have to ensure that the closing of the returned stream will close the resources and the caller is responsible for closing the `Stream`.\r\n\r\n---\r\nFurther, you need a function which produces an item out of a single line from the `ResultSet`. Supposing, you have a method like\r\n\r\n    Record createRecord(ResultSet rs) {\r\n        \r\n    }\r\nyou may create a `Stream&lt;Record&gt;` basically like\r\n\r\n    Stream&lt;Record&gt; stream = StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;Record&gt;(\r\n        Long.MAX_VALUE,Spliterator.ORDERED) {\r\n            @Override\r\n            public boolean tryAdvance(Consumer&lt;? super Record&gt; action) {\r\n                if(!resultSet.next()) return false;\r\n                action.accept(createRecord(resultSet));\r\n                return true;\r\n            }\r\n        }, false);\r\n\r\nBut to do it correctly you have to incorporate the exception handling and closing of resources. You can use `Stream.onClose` to register an action that will be performed when the `Stream` gets closed, but it has to be a `Runnable` which can not throw checked exceptions. Similarly the `tryAdvance` method is not allowed to throw checked exceptions. And since we cant simply nest `try()` blocks here, the program logic of suppression exceptions thrown in `close`, when there is already a pending exception, doesnt come for free.\r\n\r\nTo help us here, we introduce a new type which can wrap closing operations which may throw checked exceptions and deliver them wrapped in an unchecked exception. By implementing `AutoCloseable` itself, it can utilize the `try()` construct to chain close operations safely:\r\n\r\n    interface UncheckedCloseable extends Runnable, AutoCloseable {\r\n        default void run() {\r\n            try { close(); } catch(Exception ex) { throw new RuntimeException(ex); }\r\n        }\r\n        static UncheckedCloseable wrap(AutoCloseable c) {\r\n            return c::close;\r\n        }\r\n        default UncheckedCloseable nest(AutoCloseable c) {\r\n            return ()-&gt;{ try(UncheckedCloseable c1=this) { c.close(); } };\r\n        }\r\n    }\r\n\r\nWith this, the entire operation becomes:\r\n\r\n    private Stream&lt;Record&gt; tableAsStream(DataSource dataSource, String table)\r\n        throws SQLException {\r\n\r\n        UncheckedCloseable close=null;\r\n        try {\r\n            Connection connection = dataSource.getConnection();\r\n            close=UncheckedCloseable.wrap(connection);\r\n            String sql = &quot;select * from &quot; + table;\r\n            PreparedStatement pSt = connection.prepareStatement(sql);\r\n            close=close.nest(pSt);\r\n            connection.setAutoCommit(false);\r\n            pSt.setFetchSize(5000);\r\n            ResultSet resultSet = pSt.executeQuery();\r\n            close=close.nest(resultSet);\r\n            return StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;Record&gt;(\r\n                Long.MAX_VALUE,Spliterator.ORDERED) {\r\n                @Override\r\n                public boolean tryAdvance(Consumer&lt;? super Record&gt; action) {\r\n                    try {\r\n                        if(!resultSet.next()) return false;\r\n                        action.accept(createRecord(resultSet));\r\n                        return true;\r\n                    } catch(SQLException ex) {\r\n                        throw new RuntimeException(ex);\r\n                    }\r\n                }\r\n            }, false).onClose(close);\r\n        } catch(SQLException sqlEx) {\r\n            if(close!=null)\r\n                try { close.close(); } catch(Exception ex) { sqlEx.addSuppressed(ex); }\r\n            throw sqlEx;\r\n        }\r\n    }\r\nThis method wraps the necessary close operation for all resources, `Connection`, `Statement` and `ResultSet` within one instance of the utility class described above. If an exception happens during the initialization, the close operation is performed immediately and the exception is delivered to the caller. If the stream construction succeeds, the close operation is registered via `onClose`.\r\n\r\nTherefore the caller has to ensure proper closing like\r\n\r\n    try(Stream&lt;Record&gt; s=tableAsStream(dataSource, table)) {\r\n        // stream operation\r\n    }\r\n\r\nNote that also the delivery of an `SQLException` via `RuntimeException` has been added to the `tryAdvance` method. Therefore you may now add `throws SQLException` to the `createRecord` method without problems.","title":"java.util.stream with ResultSet","body":"<p>The first thing you have to understand is that code like</p>\n\n<pre><code>try (Connection connection = dataSource.getConnection()) {\n    \n    try (PreparedStatement pSt = connection.prepareStatement(sql)) {\n        \n        return stream;\n    }\n}\n</code></pre>\n\n<p>does not work as by the time you leave the <code>try</code> blocks, the resources are closed while the processing of the <code>Stream</code> hasnt even started.</p>\n\n<p>The resource management construct try with resources works for resources used within a block scope inside a method but you are creating a factory method returning a resource. Therefore you have to ensure that the closing of the returned stream will close the resources and the caller is responsible for closing the <code>Stream</code>.</p>\n\n<hr>\n\n<p>Further, you need a function which produces an item out of a single line from the <code>ResultSet</code>. Supposing, you have a method like</p>\n\n<pre><code>Record createRecord(ResultSet rs) {\n    \n}\n</code></pre>\n\n<p>you may create a <code>Stream&lt;Record&gt;</code> basically like</p>\n\n<pre><code>Stream&lt;Record&gt; stream = StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;Record&gt;(\n    Long.MAX_VALUE,Spliterator.ORDERED) {\n        @Override\n        public boolean tryAdvance(Consumer&lt;? super Record&gt; action) {\n            if(!resultSet.next()) return false;\n            action.accept(createRecord(resultSet));\n            return true;\n        }\n    }, false);\n</code></pre>\n\n<p>But to do it correctly you have to incorporate the exception handling and closing of resources. You can use <code>Stream.onClose</code> to register an action that will be performed when the <code>Stream</code> gets closed, but it has to be a <code>Runnable</code> which can not throw checked exceptions. Similarly the <code>tryAdvance</code> method is not allowed to throw checked exceptions. And since we cant simply nest <code>try()</code> blocks here, the program logic of suppression exceptions thrown in <code>close</code>, when there is already a pending exception, doesnt come for free.</p>\n\n<p>To help us here, we introduce a new type which can wrap closing operations which may throw checked exceptions and deliver them wrapped in an unchecked exception. By implementing <code>AutoCloseable</code> itself, it can utilize the <code>try()</code> construct to chain close operations safely:</p>\n\n<pre><code>interface UncheckedCloseable extends Runnable, AutoCloseable {\n    default void run() {\n        try { close(); } catch(Exception ex) { throw new RuntimeException(ex); }\n    }\n    static UncheckedCloseable wrap(AutoCloseable c) {\n        return c::close;\n    }\n    default UncheckedCloseable nest(AutoCloseable c) {\n        return ()-&gt;{ try(UncheckedCloseable c1=this) { c.close(); } };\n    }\n}\n</code></pre>\n\n<p>With this, the entire operation becomes:</p>\n\n<pre><code>private Stream&lt;Record&gt; tableAsStream(DataSource dataSource, String table)\n    throws SQLException {\n\n    UncheckedCloseable close=null;\n    try {\n        Connection connection = dataSource.getConnection();\n        close=UncheckedCloseable.wrap(connection);\n        String sql = \"select * from \" + table;\n        PreparedStatement pSt = connection.prepareStatement(sql);\n        close=close.nest(pSt);\n        connection.setAutoCommit(false);\n        pSt.setFetchSize(5000);\n        ResultSet resultSet = pSt.executeQuery();\n        close=close.nest(resultSet);\n        return StreamSupport.stream(new Spliterators.AbstractSpliterator&lt;Record&gt;(\n            Long.MAX_VALUE,Spliterator.ORDERED) {\n            @Override\n            public boolean tryAdvance(Consumer&lt;? super Record&gt; action) {\n                try {\n                    if(!resultSet.next()) return false;\n                    action.accept(createRecord(resultSet));\n                    return true;\n                } catch(SQLException ex) {\n                    throw new RuntimeException(ex);\n                }\n            }\n        }, false).onClose(close);\n    } catch(SQLException sqlEx) {\n        if(close!=null)\n            try { close.close(); } catch(Exception ex) { sqlEx.addSuppressed(ex); }\n        throw sqlEx;\n    }\n}\n</code></pre>\n\n<p>This method wraps the necessary close operation for all resources, <code>Connection</code>, <code>Statement</code> and <code>ResultSet</code> within one instance of the utility class described above. If an exception happens during the initialization, the close operation is performed immediately and the exception is delivered to the caller. If the stream construction succeeds, the close operation is registered via <code>onClose</code>.</p>\n\n<p>Therefore the caller has to ensure proper closing like</p>\n\n<pre><code>try(Stream&lt;Record&gt; s=tableAsStream(dataSource, table)) {\n    // stream operation\n}\n</code></pre>\n\n<p>Note that also the delivery of an <code>SQLException</code> via <code>RuntimeException</code> has been added to the <code>tryAdvance</code> method. Therefore you may now add <code>throws SQLException</code> to the <code>createRecord</code> method without problems.</p>\n"},{"comments":[{"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"score":0,"creation_date":1580233674,"post_id":38990744,"comment_id":106027892,"body_markdown":"How does `.fetchStream()` differ from `.fetchMaps()`? Besides the return types being `Stream&lt;Record&gt;` and `List&lt;Map&lt;String, Object&gt;&gt;` respectively, is it safe to say that `.fetchStream()` does not persist any information that *was* streamed? I am seeing if I can return records in a JSON payload with a Stream rather than eager fetching, but I am only able to stream results once and the variable I am using to define the stream does not produce anything when referenced by another class.","body":"How does <code>.fetchStream()</code> differ from <code>.fetchMaps()</code>? Besides the return types being <code>Stream&lt;Record&gt;</code> and <code>List&lt;Map&lt;String, Object&gt;&gt;</code> respectively, is it safe to say that <code>.fetchStream()</code> does not persist any information that <i>was</i> streamed? I am seeing if I can return records in a JSON payload with a Stream rather than eager fetching, but I am only able to stream results once and the variable I am using to define the stream does not produce anything when referenced by another class."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":2,"creation_date":1580295104,"post_id":38990744,"comment_id":106047875,"body_markdown":"@JoeH: Very few methods in jOOQ are really &quot;lazy&quot;. `fetchStream()` and `fetchLazy()` are such lazy methods, which keep the underlying JDBC `ResultSet` open until the resulting resource is closed. `fetchMaps()` will eagerly fetch the entire JDBC `ResultSet` into the target data structure and close it immediately, so no resources are generated in your client code which need explicit closing. I&#39;ll also answer your separate question here: https://stackoverflow.com/questions/59956246/stream-fetched-from-postgres-with-jooq-not-returning-results-from-class","body":"@JoeH: Very few methods in jOOQ are really &quot;lazy&quot;. <code>fetchStream()</code> and <code>fetchLazy()</code> are such lazy methods, which keep the underlying JDBC <code>ResultSet</code> open until the resulting resource is closed. <code>fetchMaps()</code> will eagerly fetch the entire JDBC <code>ResultSet</code> into the target data structure and close it immediately, so no resources are generated in your client code which need explicit closing. I&#39;ll also answer your separate question here: <a href=\"https://stackoverflow.com/questions/59956246/stream-fetched-from-postgres-with-jooq-not-returning-results-from-class\" title=\"stream fetched from postgres with jooq not returning results from class\">stackoverflow.com/questions/59956246/&hellip;</a>"},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1634533069,"post_id":38990744,"comment_id":123040485,"body_markdown":"@LukasEder please use JOOQ with caution. I used JOOQ for lazy streaming which worked well until I encountered Clob types which is not supported in JOOQ and it converted to String internally which really degraded performance. There may be other issues or bugs in JOOQs","body":"@LukasEder please use JOOQ with caution. I used JOOQ for lazy streaming which worked well until I encountered Clob types which is not supported in JOOQ and it converted to String internally which really degraded performance. There may be other issues or bugs in JOOQs"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1634535704,"post_id":38990744,"comment_id":123040974,"body_markdown":"@TriCore you&#39;re funny :) well, it&#39;s all documented","body":"@TriCore you&#39;re funny :) well, it&#39;s all documented"},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1634615156,"post_id":38990744,"comment_id":123065746,"body_markdown":"@LukasEder documenting a bug doesn&#39;t make it less of a bug ;)","body":"@LukasEder documenting a bug doesn&#39;t make it less of a bug ;)"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1634625419,"post_id":38990744,"comment_id":123067783,"body_markdown":"@TriCore How is strategically eager fetching everything by default a bug? It&#39;s by design. If Clob semantics is important to you (it hardly ever is, it&#39;s an edge case), you can attach a Clob binding to relevant columns, or avoid projecting them","body":"@TriCore How is strategically eager fetching everything by default a bug? It&#39;s by design. If Clob semantics is important to you (it hardly ever is, it&#39;s an edge case), you can attach a Clob binding to relevant columns, or avoid projecting them"},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":1,"creation_date":1634680309,"post_id":38990744,"comment_id":123089599,"body_markdown":"@LukasEder so sorry didn&#39;t realize that you are the CEO of the company, didn&#39;t mean to be rude. Big fan of JOOQ btw but when I used JOOQ lazy stream with Clob values, the query took about a min which typically takes few seconds with plain JDBC.","body":"@LukasEder so sorry didn&#39;t realize that you are the CEO of the company, didn&#39;t mean to be rude. Big fan of JOOQ btw but when I used JOOQ lazy stream with Clob values, the query took about a min which typically takes few seconds with plain JDBC."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1634738118,"post_id":38990744,"comment_id":123106191,"body_markdown":"@TriCore: No offense taken, just thought you were funny trying to recommend to me to use jOOQ with caution ;-) Well, if you&#39;re going to make a fair comparison, the JDBC version will take just as long when you fully consume the `Clob` value instead of ignoring it. In case you do ignore it, why did you project it in the first place? Did you run a `SELECT *` query? But you should never fetch more data than you actually need. Eager-fetching all `Clob` contents is a great convenience feature in jOOQ (or Hibernate, for that matter), because the cases where you *want* to stream are very rare.","body":"@TriCore: No offense taken, just thought you were funny trying to recommend to me to use jOOQ with caution ;-) Well, if you&#39;re going to make a fair comparison, the JDBC version will take just as long when you fully consume the <code>Clob</code> value instead of ignoring it. In case you do ignore it, why did you project it in the first place? Did you run a <code>SELECT *</code> query? But you should never fetch more data than you actually need. Eager-fetching all <code>Clob</code> contents is a great convenience feature in jOOQ (or Hibernate, for that matter), because the cases where you <i>want</i> to stream are very rare."},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1634751965,"post_id":38990744,"comment_id":123112173,"body_markdown":"@LukasEder it may need to read some Clob values based on some condition, so eagerly fetching Clob doesn&#39;t work for me at least in this situation. In my opinion, eagerly fetching Clob values in a lazy stream is a decision made by JOOQ library which it shouldn&#39;t and I don&#39;t think it&#39;s a good strategy. Please don&#39;t compare with Hibernate :) JOOQ is far better than Hibernate that&#39;s why I chose it over hibernate","body":"@LukasEder it may need to read some Clob values based on some condition, so eagerly fetching Clob doesn&#39;t work for me at least in this situation. In my opinion, eagerly fetching Clob values in a lazy stream is a decision made by JOOQ library which it shouldn&#39;t and I don&#39;t think it&#39;s a good strategy. Please don&#39;t compare with Hibernate :) JOOQ is far better than Hibernate that&#39;s why I chose it over hibernate"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1634752665,"post_id":38990744,"comment_id":123112462,"body_markdown":"@TriCore: Of course it should read those, because you told it to, and that&#39;s what 99% of users would expect. No one enjoys writing 30 lines of `Clob` resource management manually *every time* they read a `Clob`. In Oracle, most `Clob` values are simple strings, not 10GB of data. It&#39;s such a PITA to read `Clob` through JDBC, so jOOQ adds a ton of value to most users. &quot;Based on some condition&quot; well, jOOQ *is* a [dynamic SQL](https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/) library, so do write dynamic SQL, and avoid reading the `Clob` when you&#39;re not interested in the `Clob`","body":"@TriCore: Of course it should read those, because you told it to, and that&#39;s what 99% of users would expect. No one enjoys writing 30 lines of <code>Clob</code> resource management manually <i>every time</i> they read a <code>Clob</code>. In Oracle, most <code>Clob</code> values are simple strings, not 10GB of data. It&#39;s such a PITA to read <code>Clob</code> through JDBC, so jOOQ adds a ton of value to most users. &quot;Based on some condition&quot; well, jOOQ <i>is</i> a <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/\" rel=\"nofollow noreferrer\">dynamic SQL</a> library, so do write dynamic SQL, and avoid reading the <code>Clob</code> when you&#39;re not interested in the <code>Clob</code>"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1634752968,"post_id":38990744,"comment_id":123112578,"body_markdown":"@TriCore: But maybe, instead of commenting here, why not ask a new question with more details of what you&#39;re actually doing. The result of that may be more useful to you and future readers.","body":"@TriCore: But maybe, instead of commenting here, why not ask a new question with more details of what you&#39;re actually doing. The result of that may be more useful to you and future readers."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1634753621,"post_id":38990744,"comment_id":123112851,"body_markdown":"@TriCore: Anyway, I updated my answer. Maybe you can see this as an opportunity where jOOQ exposed a flaw in your queries, as you can see in this blog post: https://blog.jooq.org/many-sql-performance-problems-stem-from-unnecessary-mandatory-work. By not projecting the clob when you don&#39;t need the clob, you can further improve performance *drastically*, even in your JDBC version.","body":"@TriCore: Anyway, I updated my answer. Maybe you can see this as an opportunity where jOOQ exposed a flaw in your queries, as you can see in this blog post: <a href=\"https://blog.jooq.org/many-sql-performance-problems-stem-from-unnecessary-mandatory-work\" rel=\"nofollow noreferrer\">blog.jooq.org/&hellip;</a>. By not projecting the clob when you don&#39;t need the clob, you can further improve performance <i>drastically</i>, even in your JDBC version."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":12,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1634753539,"creation_date":1471419548,"answer_id":38990744,"question_id":32209248,"body_markdown":"# jOOQ\r\n\r\nI&#39;m going to answer the [*jOOQ*][1] part of your question. As of jOOQ 3.8, there have now been quite a few additional features related to combining jOOQ with Stream. [Other usages are also documented on this jOOQ page][2].\r\n\r\n### Your suggested usage:\r\n\r\nYou tried this:\r\n\r\n    Stream&lt;Record&gt; stream = DSL.using(connection).fetch(resultSet).stream();\r\n\r\nIndeed, this doesn&#39;t work well for large result sets because [`fetch(ResultSet)`][3] fetches the entire result set into memory and then calls [`Collection.stream()`][4] on it.\r\n\r\n### Better (lazy) usage:\r\n\r\nInstead, you could write this:\r\n\r\n    try (Stream&lt;Record&gt; stream = DSL.using(connection).fetchStream(resultSet)) {\r\n        ...\r\n    }\r\n\r\n... which is essentially convenience for this:\r\n\r\n    try (Cursor&lt;Record&gt; cursor = DSL.using(connection).fetchLazy(resultSet)) {\r\n        Stream&lt;Record&gt; stream = cursor.stream();\r\n        ...\r\n    }\r\n\r\nSee also [`DSLContext.fetchStream(ResultSet)`][5]\r\n\r\nOf course, you could also let jOOQ execute your SQL string, rather than wrestling with JDBC:\r\n\r\n    try (Stream&lt;Record&gt; stream = \r\n         DSL.using(dataSource)\r\n            .resultQuery(&quot;select * from {0}&quot;, DSL.name(table)) // Prevent SQL injection\r\n            .fetchSize(5000)\r\n            .fetchStream()) {\r\n        ...\r\n    }\r\n\r\n### The dreaded `SELECT *`\r\n\r\nAs was criticised in the comments, their jOOQ usage seemed slow because of how jOOQ eagerly fetches LOB data into memory *despite* using `fetchLazy()`. The word &quot;lazy&quot; corresponds to fetching records lazily (one by one), not fetching column data lazily. A record is completely fetched in one go, assuming you actually *want* to project the entire row.\r\n\r\nIf you don&#39;t need some heavy rows, don&#39;t project them! `SELECT *` is almost always a bad idea in SQL. Drawbacks:\r\n\r\n- It causes a lot more I/O and memory overhead in the database server, the network, and the client.\r\n- It prevents covering index usage\r\n- It prevents join elimination transformations\r\n\r\n[More info in this blog post here][6].\r\n\r\n### On try-with-resources usage\r\n\r\nDo note that a `Stream` produced by jOOQ is &quot;resourceful&quot;, i.e. it contains a reference to an open `ResultSet` (and `PreparedStatement`). So, if you really want to return that stream outside of your method, make sure it is closed properly!\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Object_Oriented_Querying\r\n  [2]: https://www.jooq.org/java-8-and-sql\r\n  [3]: http://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#fetch-java.sql.ResultSet-\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\r\n  [5]: http://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#fetchStream-java.sql.ResultSet-\r\n  [6]: https://blog.jooq.org/many-sql-performance-problems-stem-from-unnecessary-mandatory-work/","title":"java.util.stream with ResultSet","body":"<h1>jOOQ</h1>\n<p>I'm going to answer the <a href=\"https://en.wikipedia.org/wiki/Java_Object_Oriented_Querying\" rel=\"nofollow noreferrer\"><em>jOOQ</em></a> part of your question. As of jOOQ 3.8, there have now been quite a few additional features related to combining jOOQ with Stream. <a href=\"https://www.jooq.org/java-8-and-sql\" rel=\"nofollow noreferrer\">Other usages are also documented on this jOOQ page</a>.</p>\n<h3>Your suggested usage:</h3>\n<p>You tried this:</p>\n<pre><code>Stream&lt;Record&gt; stream = DSL.using(connection).fetch(resultSet).stream();\n</code></pre>\n<p>Indeed, this doesn't work well for large result sets because <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#fetch-java.sql.ResultSet-\" rel=\"nofollow noreferrer\"><code>fetch(ResultSet)</code></a> fetches the entire result set into memory and then calls <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\" rel=\"nofollow noreferrer\"><code>Collection.stream()</code></a> on it.</p>\n<h3>Better (lazy) usage:</h3>\n<p>Instead, you could write this:</p>\n<pre><code>try (Stream&lt;Record&gt; stream = DSL.using(connection).fetchStream(resultSet)) {\n    ...\n}\n</code></pre>\n<p>... which is essentially convenience for this:</p>\n<pre><code>try (Cursor&lt;Record&gt; cursor = DSL.using(connection).fetchLazy(resultSet)) {\n    Stream&lt;Record&gt; stream = cursor.stream();\n    ...\n}\n</code></pre>\n<p>See also <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#fetchStream-java.sql.ResultSet-\" rel=\"nofollow noreferrer\"><code>DSLContext.fetchStream(ResultSet)</code></a></p>\n<p>Of course, you could also let jOOQ execute your SQL string, rather than wrestling with JDBC:</p>\n<pre><code>try (Stream&lt;Record&gt; stream = \n     DSL.using(dataSource)\n        .resultQuery(&quot;select * from {0}&quot;, DSL.name(table)) // Prevent SQL injection\n        .fetchSize(5000)\n        .fetchStream()) {\n    ...\n}\n</code></pre>\n<h3>The dreaded <code>SELECT *</code></h3>\n<p>As was criticised in the comments, their jOOQ usage seemed slow because of how jOOQ eagerly fetches LOB data into memory <em>despite</em> using <code>fetchLazy()</code>. The word &quot;lazy&quot; corresponds to fetching records lazily (one by one), not fetching column data lazily. A record is completely fetched in one go, assuming you actually <em>want</em> to project the entire row.</p>\n<p>If you don't need some heavy rows, don't project them! <code>SELECT *</code> is almost always a bad idea in SQL. Drawbacks:</p>\n<ul>\n<li>It causes a lot more I/O and memory overhead in the database server, the network, and the client.</li>\n<li>It prevents covering index usage</li>\n<li>It prevents join elimination transformations</li>\n</ul>\n<p><a href=\"https://blog.jooq.org/many-sql-performance-problems-stem-from-unnecessary-mandatory-work/\" rel=\"nofollow noreferrer\">More info in this blog post here</a>.</p>\n<h3>On try-with-resources usage</h3>\n<p>Do note that a <code>Stream</code> produced by jOOQ is &quot;resourceful&quot;, i.e. it contains a reference to an open <code>ResultSet</code> (and <code>PreparedStatement</code>). So, if you really want to return that stream outside of your method, make sure it is closed properly!</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1545765699,"post_id":40954319,"comment_id":94691592,"body_markdown":"After a quick peek at AbacusUtil it looks to me that this is a gigantic library which I would be very reluctant to include in a solution.  You may want to split it up in smaller modules where I could pick only what I actually needed?","body":"After a quick peek at AbacusUtil it looks to me that this is a gigantic library which I would be very reluctant to include in a solution.  You may want to split it up in smaller modules where I could pick only what I actually needed?"},{"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"score":1,"creation_date":1573578624,"post_id":40954319,"comment_id":103923817,"body_markdown":"Splitted into four projects: abacus-util, abacus-jdbc, abacus-da, abacus-android since 1.8.2.","body":"Splitted into four projects: abacus-util, abacus-jdbc, abacus-da, abacus-android since 1.8.2."}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1660446353,"creation_date":1480813783,"answer_id":40954319,"question_id":32209248,"body_markdown":"Here is the simplest sample by [abacus-jdbc][1].\r\n    \r\n    final DataSource ds = JdbcUtil.createDataSource(url, user, password);\r\n    final SQLExecutor sqlExecutor = new SQLExecutor(ds);\r\n    sqlExecutor.stream(sql, parameters).filter(...).map(...).collect(...) // lazy execution&amp;loading and auto-close Statement/Connection\r\n\r\nOr:\r\n\r\n    JdbcUtil.prepareQuery(ds, sql)\r\n                .stream(ResultRecord.class) // or RowMapper.MAP/...\r\n                .filter(...).map(...).collect(...)  // lazy execution&amp;loading and auto-close Statement/Connection\r\n\r\nThis is totally lazy loading and auto-closure. The records will loaded from db by `fetch size` (default if not specified) and the Statement and Connection will automatically closed after the result/records are collected.\r\n\r\nDisclosure I&#39;m the developer of AbacusUtil.\r\n\r\n  [1]: https://github.com/landawn/abacus-jdbc","title":"java.util.stream with ResultSet","body":"<p>Here is the simplest sample by <a href=\"https://github.com/landawn/abacus-jdbc\" rel=\"nofollow noreferrer\">abacus-jdbc</a>.</p>\n<pre><code>final DataSource ds = JdbcUtil.createDataSource(url, user, password);\nfinal SQLExecutor sqlExecutor = new SQLExecutor(ds);\nsqlExecutor.stream(sql, parameters).filter(...).map(...).collect(...) // lazy execution&amp;loading and auto-close Statement/Connection\n</code></pre>\n<p>Or:</p>\n<pre><code>JdbcUtil.prepareQuery(ds, sql)\n            .stream(ResultRecord.class) // or RowMapper.MAP/...\n            .filter(...).map(...).collect(...)  // lazy execution&amp;loading and auto-close Statement/Connection\n</code></pre>\n<p>This is totally lazy loading and auto-closure. The records will loaded from db by <code>fetch size</code> (default if not specified) and the Statement and Connection will automatically closed after the result/records are collected.</p>\n<p>Disclosure I'm the developer of AbacusUtil.</p>\n"},{"tags":[],"owner":{"account_id":2630457,"reputation":283,"user_id":2276550,"display_name":"user2276550"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1567040436,"creation_date":1567040126,"answer_id":57701663,"question_id":32209248,"body_markdown":"I just did the summary to provide the real example about how to stream ResultSet and do the simple SQL query without using 3rd\r\n[click here for detail][1]\r\n\r\n&gt; Blockquote:  Java 8 provided the Stream family and easy operation of it. The way of pipeline usage made the code clear and smart.\r\nHowever, ResultSet is still go with very legacy way to process. Per actual ResultSet usage, it is really helpful if converted as Stream.&lt;br /&gt;\r\n \r\n  ....\r\n    StreamUtils.uncheckedConsumer is required to convert the the SQLException to runtimeException to make the Lamda clear.&lt;br /&gt;\r\n  \r\n\r\n  [1]: https://springflex.blogspot.com/2019/08/how-to-convert-resultset-to-stream.html","title":"java.util.stream with ResultSet","body":"<p>I just did the summary to provide the real example about how to stream ResultSet and do the simple SQL query without using 3rd\n<a href=\"https://springflex.blogspot.com/2019/08/how-to-convert-resultset-to-stream.html\" rel=\"nofollow noreferrer\">click here for detail</a></p>\n\n<blockquote>\n  <p>Blockquote:  Java 8 provided the Stream family and easy operation of it. The way of pipeline usage made the code clear and smart.\n  However, ResultSet is still go with very legacy way to process. Per actual ResultSet usage, it is really helpful if converted as Stream.<br /></p>\n</blockquote>\n\n<p>....\n    StreamUtils.uncheckedConsumer is required to convert the the SQLException to runtimeException to make the Lamda clear.<br /></p>\n"},{"tags":[],"owner":{"account_id":17107164,"reputation":79,"user_id":12378936,"display_name":"Anatoly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573832277,"creation_date":1573830778,"answer_id":58879841,"question_id":32209248,"body_markdown":"Using my library it would be done like this:\r\n\r\nattach maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.buckelieg&lt;/groupId&gt;\r\n        &lt;artifactId&gt;db-fn&lt;/artifactId&gt;\r\n        &lt;version&gt;0.3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nuse library in code:\r\n\r\n    Function&lt;Stream&lt;I&gt;, O&gt; processor = stream -&gt; //process input stream\r\n    try (DB db = new DB(&quot;jdbc:postgresql://host:port/database?user=user&amp;password=pass&quot;)) {\r\n        processor.apply(\r\n            db.select(&quot;SELECT * FROM my_table t1 JOIN my_table t2 ON t1.id = t2.id&quot;)\r\n              .fetchSize(5000)\r\n              .execute(rs -&gt; /*ResultSet mapper*/)\r\n        );\r\n    }\r\n\r\nSee more [here][1]\r\n\r\n\r\n  [1]: https://buckelieg.github.io/db-fn/","title":"java.util.stream with ResultSet","body":"<p>Using my library it would be done like this:</p>\n\n<p>attach maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.buckelieg&lt;/groupId&gt;\n    &lt;artifactId&gt;db-fn&lt;/artifactId&gt;\n    &lt;version&gt;0.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>use library in code:</p>\n\n<pre><code>Function&lt;Stream&lt;I&gt;, O&gt; processor = stream -&gt; //process input stream\ntry (DB db = new DB(\"jdbc:postgresql://host:port/database?user=user&amp;password=pass\")) {\n    processor.apply(\n        db.select(\"SELECT * FROM my_table t1 JOIN my_table t2 ON t1.id = t2.id\")\n          .fetchSize(5000)\n          .execute(rs -&gt; /*ResultSet mapper*/)\n    );\n}\n</code></pre>\n\n<p>See more <a href=\"https://buckelieg.github.io/db-fn/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2266682,"reputation":35,"user_id":1995159,"display_name":"pop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574280063,"creation_date":1574280063,"answer_id":58962437,"question_id":32209248,"body_markdown":"Some common module called **Tools** of a **Ujorm** framework offers a simple solution using the `RowIterator` class. \r\nExample of use:\r\n\r\n```java\r\n    PreparedStatement ps = dbConnection.prepareStatement(&quot;SELECT * FROM myTable&quot;);\r\n    new RowIterator(ps).toStream().forEach((RsConsumer)(resultSet) -&gt; {\r\n        int value = resultSet.getInt(1);\r\n    });\r\n```\r\n\r\nMaven dependency on the Tools library (50KB):\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.ujorm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ujo-tools&lt;/artifactId&gt;\r\n        &lt;version&gt;1.93&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nSee [jUnit test][1] for more information.\r\n\r\n\r\n  [1]: https://github.com/pponec/ujorm/commit/8cba572a32afc7513390193f06a1fd86dbcc9bba#diff-a8185807103a2d4ba3eed75df9be05aeR38","title":"java.util.stream with ResultSet","body":"<p>Some common module called <strong>Tools</strong> of a <strong>Ujorm</strong> framework offers a simple solution using the <code>RowIterator</code> class. \nExample of use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    PreparedStatement ps = dbConnection.prepareStatement(\"SELECT * FROM myTable\");\n    new RowIterator(ps).toStream().forEach((RsConsumer)(resultSet) -&gt; {\n        int value = resultSet.getInt(1);\n    });\n</code></pre>\n\n<p>Maven dependency on the Tools library (50KB):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.ujorm&lt;/groupId&gt;\n        &lt;artifactId&gt;ujo-tools&lt;/artifactId&gt;\n        &lt;version&gt;1.93&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>See <a href=\"https://github.com/pponec/ujorm/commit/8cba572a32afc7513390193f06a1fd86dbcc9bba#diff-a8185807103a2d4ba3eed75df9be05aeR38\" rel=\"nofollow noreferrer\">jUnit test</a> for more information.</p>\n"}],"owner":{"account_id":2435350,"reputation":1765,"user_id":2125399,"accept_rate":69,"display_name":"Iurii"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75776,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"answer_count":7,"score":75,"last_activity_date":1693238950,"creation_date":1440520038,"question_id":32209248,"body_markdown":"I have few tables with big amount of data (about 100 million records). So I can&#39;t store this data in memory but I would like to stream this **result set** using `java.util.stream` class and pass this stream to another class. I read about `Stream.of` and `Stream.Builder` operators but they are buffered streams in memory. So is there any way to resolve this question?\r\n\r\n**UPDATE #1**\r\n\r\nOkay I googled and found **jooq** library. I&#39;m not sure but looks like it could be applicable to my test case. To summarize I have few tables with big amount of data. I would like to stream my resultset and transfer this stream to another method. Something like this:\r\n    \r\n    // why return Stream&lt;String&gt;? Because my result set has String type\r\n    private Stream&lt;Record&gt; writeTableToStream(DataSource dataSource, String table) {\r\n\r\n        Stream&lt;Record&gt; record = null;\r\n        try (Connection connection = dataSource.getConnection()) {\r\n            String sql = &quot;select * from &quot; + table;\r\n\r\n            try (PreparedStatement pSt = connection.prepareStatement(sql)) {\r\n                connection.setAutoCommit(false);\r\n                pSt.setFetchSize(5000);\r\n                ResultSet resultSet = pSt.executeQuery();\r\n                //\r\n                record = DSL.using(connection)\r\n                        .fetch(resultSet).stream();\r\n            }\r\n        } catch (SQLException sqlEx) {\r\n            logger.error(sqlEx);\r\n        }\r\n        \r\n        return record;\r\n    }\r\n\r\nCould please someone advise, am I on correct way? Thanks.\r\n\r\n\r\n**UPDATE #2**\r\n\r\nI made some experiment on **jooq** and could say now that above decision is not suitable for me. This code `record = DSL.using(connection).fetch(resultSet).stream();` takes too much time ","title":"java.util.stream with ResultSet","body":"<p>I have few tables with big amount of data (about 100 million records). So I can't store this data in memory but I would like to stream this <strong>result set</strong> using <code>java.util.stream</code> class and pass this stream to another class. I read about <code>Stream.of</code> and <code>Stream.Builder</code> operators but they are buffered streams in memory. So is there any way to resolve this question?</p>\n<p><strong>UPDATE #1</strong></p>\n<p>Okay I googled and found <strong>jooq</strong> library. I'm not sure but looks like it could be applicable to my test case. To summarize I have few tables with big amount of data. I would like to stream my resultset and transfer this stream to another method. Something like this:</p>\n<pre><code>// why return Stream&lt;String&gt;? Because my result set has String type\nprivate Stream&lt;Record&gt; writeTableToStream(DataSource dataSource, String table) {\n\n    Stream&lt;Record&gt; record = null;\n    try (Connection connection = dataSource.getConnection()) {\n        String sql = &quot;select * from &quot; + table;\n\n        try (PreparedStatement pSt = connection.prepareStatement(sql)) {\n            connection.setAutoCommit(false);\n            pSt.setFetchSize(5000);\n            ResultSet resultSet = pSt.executeQuery();\n            //\n            record = DSL.using(connection)\n                    .fetch(resultSet).stream();\n        }\n    } catch (SQLException sqlEx) {\n        logger.error(sqlEx);\n    }\n    \n    return record;\n}\n</code></pre>\n<p>Could please someone advise, am I on correct way? Thanks.</p>\n<p><strong>UPDATE #2</strong></p>\n<p>I made some experiment on <strong>jooq</strong> and could say now that above decision is not suitable for me. This code <code>record = DSL.using(connection).fetch(resultSet).stream();</code> takes too much time</p>\n"},{"tags":["java","android","kotlin","iterator"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693209087,"post_id":76990835,"comment_id":135724839,"body_markdown":"Your expectation is wrong. Calling `next(), next(), previous(), previous()` will result in `1, 2, 2, 1`. The &quot;cursor&quot; is between the elements so to speak.","body":"Your expectation is wrong. Calling <code>next(), next(), previous(), previous()</code> will result in <code>1, 2, 2, 1</code>. The &quot;cursor&quot; is between the elements so to speak."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1693209188,"post_id":76990835,"comment_id":135724853,"body_markdown":"^ this. And no, there&#39;s nothing else in the standard library. Just call `previous` an additional time.","body":"^ this. And no, there&#39;s nothing else in the standard library. Just call <code>previous</code> an additional time."},{"owner":{"account_id":20077797,"reputation":184,"user_id":14721171,"display_name":"sss sss"},"score":0,"creation_date":1693209323,"post_id":76990835,"comment_id":135724876,"body_markdown":"I spelled it wrong, sorry. Not &quot;expected output&quot;, it should have &quot;output I want&quot;. I updated.","body":"I spelled it wrong, sorry. Not &quot;expected output&quot;, it should have &quot;output I want&quot;. I updated."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693229490,"post_id":76990835,"comment_id":135728817,"body_markdown":"This might be an XY problem because it sounds so bizarre. What&#39;s the actual use case? Maybe you could create an iterator that works with the concept of a *current* item instead of a position between items and has functions for `getCurrentAndMaintainPosition()`, `getCurrentAndIncrementPosition()` and `getCurrentAndDecrementPosition()`","body":"This might be an XY problem because it sounds so bizarre. What&#39;s the actual use case? Maybe you could create an iterator that works with the concept of a <i>current</i> item instead of a position between items and has functions for <code>getCurrentAndMaintainPosition()</code>, <code>getCurrentAndIncrementPosition()</code> and <code>getCurrentAndDecrementPosition()</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693234515,"post_id":76990835,"comment_id":135730016,"body_markdown":"In this situation I would just call _previous_ twice.","body":"In this situation I would just call <i>previous</i> twice."}],"answers":[{"comments":[{"owner":{"account_id":20077797,"reputation":184,"user_id":14721171,"display_name":"sss sss"},"score":0,"creation_date":1693210205,"post_id":76990945,"comment_id":135725056,"body_markdown":"Thank you Jorn. I have no problem with the logic of ListIterator. It doesn&#39;t work exactly as I want it to. I&#39;m just looking for a solution similar to it. That&#39;s why I mentioned ListIterator.","body":"Thank you Jorn. I have no problem with the logic of ListIterator. It doesn&#39;t work exactly as I want it to. I&#39;m just looking for a solution similar to it. That&#39;s why I mentioned ListIterator."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1693210259,"post_id":76990945,"comment_id":135725061,"body_markdown":"Any other implementation would be equally broken if it worked this way, even if it&#39;s not called `ListIterator`.","body":"Any other implementation would be equally broken if it worked this way, even if it&#39;s not called <code>ListIterator</code>."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1693210208,"creation_date":1693209514,"answer_id":76990945,"question_id":76990835,"body_markdown":"Consider what a `ListIterator` would do if it worked the way you suggest:\r\n\r\n```\r\nval i = listOf(1,2,3,4,5).listIterator()\r\nwhile (i.hasNext()) {\r\n  println(i.next()) // prints 1-5 in order\r\n}\r\nwhile (i.hasPrevious()) {\r\n  println(i.previous()) // prints 4-1, and then... NoSuchElement?\r\n}\r\n```\r\nThen consider what `next()` would now print.\r\n\r\nThat behaviour is clearly broken. So, change your expectation and use the existing `ListIterator` implementation as it is, in it&#39;s correctly implemented way.","title":"Iterate list with next() and previous() correctly","body":"<p>Consider what a <code>ListIterator</code> would do if it worked the way you suggest:</p>\n<pre><code>val i = listOf(1,2,3,4,5).listIterator()\nwhile (i.hasNext()) {\n  println(i.next()) // prints 1-5 in order\n}\nwhile (i.hasPrevious()) {\n  println(i.previous()) // prints 4-1, and then... NoSuchElement?\n}\n</code></pre>\n<p>Then consider what <code>next()</code> would now print.</p>\n<p>That behaviour is clearly broken. So, change your expectation and use the existing <code>ListIterator</code> implementation as it is, in it's correctly implemented way.</p>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693214577,"creation_date":1693214266,"answer_id":76991492,"question_id":76990835,"body_markdown":"Your requirement is inconsistent, not only with the documentation:\r\n\r\n&gt; An iterator for lists that allows the programmer to traverse the list\r\n&gt; in either direction, modify the list during iteration, and obtain the\r\n&gt; iterator&#39;s current position in the list. A ListIterator has no current\r\n&gt; element; its cursor position always lies between the element that\r\n&gt; would be returned by a call to `previous()` and the element that would\r\n&gt; be returned by a call to `next()`. An iterator for a list of length n\r\n&gt; has n+1 possible cursor positions, as illustrated by the carets (^)\r\n&gt; below:\r\n&gt;\r\n                           Element(0)   Element(1)   Element(2)   ... Element(n-1)\r\n    cursor positions:    ^            ^            ^            ^                  ^\r\n\r\nbut with the common logic of the nature of an iterator.\r\nOne you travelled in a given direction, the exact same length reverse traversal must give you the exact reverse sequence. If not you would be very surprised (the exact reverse sequence of &quot;I visited New-York, then Tokyo&quot;, is &quot;I visited Tokyo, then New-York&quot;).\r\n\r\nSo if you really need to get 1,2,1, you just have to add an extra reverse traversal at the beginning:\r\n\r\n    val list = listOf(1,2,3,4,5);\r\n    val iterator = list.listIterator();\r\n    println(iterator.next());     // 1\r\n    println(iterator.next());     // 2\r\n    iterator.previous();          // ignore first element of the backward traversal\r\n    println(iterator.previous()); // 1","title":"Iterate list with next() and previous() correctly","body":"<p>Your requirement is inconsistent, not only with the documentation:</p>\n<blockquote>\n<p>An iterator for lists that allows the programmer to traverse the list\nin either direction, modify the list during iteration, and obtain the\niterator's current position in the list. A ListIterator has no current\nelement; its cursor position always lies between the element that\nwould be returned by a call to <code>previous()</code> and the element that would\nbe returned by a call to <code>next()</code>. An iterator for a list of length n\nhas n+1 possible cursor positions, as illustrated by the carets (^)\nbelow:</p>\n</blockquote>\n<pre><code>                       Element(0)   Element(1)   Element(2)   ... Element(n-1)\ncursor positions:    ^            ^            ^            ^                  ^\n</code></pre>\n<p>but with the common logic of the nature of an iterator.\nOne you travelled in a given direction, the exact same length reverse traversal must give you the exact reverse sequence. If not you would be very surprised (the exact reverse sequence of &quot;I visited New-York, then Tokyo&quot;, is &quot;I visited Tokyo, then New-York&quot;).</p>\n<p>So if you really need to get 1,2,1, you just have to add an extra reverse traversal at the beginning:</p>\n<pre><code>val list = listOf(1,2,3,4,5);\nval iterator = list.listIterator();\nprintln(iterator.next());     // 1\nprintln(iterator.next());     // 2\niterator.previous();          // ignore first element of the backward traversal\nprintln(iterator.previous()); // 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693238842,"creation_date":1693234948,"answer_id":76993985,"question_id":76990835,"body_markdown":"&gt; _&quot;... Is there any other method Android provides (Kotlin, Java) except ListIterator for this? ...&quot;_\r\n\r\nYou can encapsulate _[ListIterator](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html)_, and intercept the _next_ and _previous_ calls.  \r\nJust add the methods as needed.\r\n\r\nThis is technically a _[wrapper class](https://en.m.wikipedia.org/wiki/Adapter_pattern)_.\r\n\r\n```java\r\nclass ListIterator2&lt;E&gt; {\r\n    final ListIterator&lt;E&gt; iterator;\r\n\r\n    ListIterator2(ListIterator&lt;E&gt; iterator) {\r\n        this.iterator = iterator;\r\n    }\r\n\r\n    E next() {\r\n        return iterator.next();\r\n    }\r\n\r\n    E previous() {\r\n        iterator.previous();\r\n        return iterator.previous();\r\n    }\r\n}\r\nList&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5);\r\nListIterator2&lt;Integer&gt; iterator = new ListIterator2&lt;&gt;(list.listIterator());\r\nSystem.out.println(iterator.next());\r\nSystem.out.println(iterator.next());\r\nSystem.out.println(iterator.previous());\r\n```","title":"Iterate list with next() and previous() correctly","body":"<blockquote>\n<p><em>&quot;... Is there any other method Android provides (Kotlin, Java) except ListIterator for this? ...&quot;</em></p>\n</blockquote>\n<p>You can encapsulate <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\">ListIterator</a></em>, and intercept the <em>next</em> and <em>previous</em> calls.<br />\nJust add the methods as needed.</p>\n<p>This is technically a <em><a href=\"https://en.m.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">wrapper class</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ListIterator2&lt;E&gt; {\n    final ListIterator&lt;E&gt; iterator;\n\n    ListIterator2(ListIterator&lt;E&gt; iterator) {\n        this.iterator = iterator;\n    }\n\n    E next() {\n        return iterator.next();\n    }\n\n    E previous() {\n        iterator.previous();\n        return iterator.previous();\n    }\n}\nList&lt;Integer&gt; list = List.of(1, 2, 3, 4, 5);\nListIterator2&lt;Integer&gt; iterator = new ListIterator2&lt;&gt;(list.listIterator());\nSystem.out.println(iterator.next());\nSystem.out.println(iterator.next());\nSystem.out.println(iterator.previous());\n</code></pre>\n"}],"owner":{"account_id":20077797,"reputation":184,"user_id":14721171,"display_name":"sss sss"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1693238842,"creation_date":1693208336,"question_id":76990835,"body_markdown":"I need an iterator where I can navigate between the items of the list with next() and previous().\r\n\r\nListIterator doesn&#39;t work for me because it works with cursor logic like below.\r\n\r\n```kotlin\r\nval list = listOf(1,2,3,4,5)\r\nval iterator = list.listIterator()\r\nprintln(iterator.next()) // 1\r\nprintln(iterator.next()) // 2\r\nprintln(iterator.previous()) // 2\r\n```\r\n\r\nAccording to the example above, output I want `1,2,1`\r\n\r\nIs there any other method Android provides (Kotlin, Java) except ListIterator for this?\r\n\r\nOr how can I do it with safe and clean Kotlin code?","title":"Iterate list with next() and previous() correctly","body":"<p>I need an iterator where I can navigate between the items of the list with next() and previous().</p>\n<p>ListIterator doesn't work for me because it works with cursor logic like below.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val list = listOf(1,2,3,4,5)\nval iterator = list.listIterator()\nprintln(iterator.next()) // 1\nprintln(iterator.next()) // 2\nprintln(iterator.previous()) // 2\n</code></pre>\n<p>According to the example above, output I want <code>1,2,1</code></p>\n<p>Is there any other method Android provides (Kotlin, Java) except ListIterator for this?</p>\n<p>Or how can I do it with safe and clean Kotlin code?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3641624,"reputation":316,"user_id":3035564,"display_name":"Remy Baratte"},"score":1,"creation_date":1396528962,"post_id":22838047,"comment_id":34835533,"body_markdown":"The clock app probably makes use of an underlying hardware clock that stores the time. These pieces of hardware are also able to store alarms in most cases. Take a look at the [Alarm Clock](http://developer.android.com/reference/android/provider/AlarmClock.html) class.","body":"The clock app probably makes use of an underlying hardware clock that stores the time. These pieces of hardware are also able to store alarms in most cases. Take a look at the <a href=\"http://developer.android.com/reference/android/provider/AlarmClock.html\" rel=\"nofollow noreferrer\">Alarm Clock</a> class."}],"answers":[{"tags":[],"owner":{"account_id":4085587,"reputation":3072,"user_id":3356353,"accept_rate":50,"display_name":"Starscream1984"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693237479,"creation_date":1396529266,"answer_id":22838242,"question_id":22838047,"body_markdown":"Internal to an android device will be a clock which runs from the battery and potentially syncs with network time when it has signal.\r\n\r\nYou can use AlarmManager and PowerManager to get your code to run at specific times, even if the phone is turned off:\r\n\r\n&gt; Sometimes, it may be necessary for your android app to complete a task\r\n&gt; sometime in the future.  In order to do this, you must schedule an\r\n&gt; activity (can also be a service) to be run using Androids\r\n&gt; AlarmManager.  This post will show: How to set up a receiver for the\r\n&gt; scheduled event How to create an activity from this receiver Using the\r\n&gt; AlarmManager and the created classes to successfully receive and\r\n&gt; process a scheduled event\r\n\r\nFrom https://web.archive.org/web/20130724094711/http://justcallmebrian.com/2010/04/27/using-alarmmanager-to-schedule-activities-on-android/\r\n\r\nSee also:\r\nhttps://web.archive.org/web/20211114141053/https://www.techrepublic.com/blog/software-engineer/use-androids-alarmmanager-to-schedule-an-event/","title":"Start countdown timer in my app which will work independently my app is opened or closed","body":"<p>Internal to an android device will be a clock which runs from the battery and potentially syncs with network time when it has signal.</p>\n<p>You can use AlarmManager and PowerManager to get your code to run at specific times, even if the phone is turned off:</p>\n<blockquote>\n<p>Sometimes, it may be necessary for your android app to complete a task\nsometime in the future.  In order to do this, you must schedule an\nactivity (can also be a service) to be run using Androids\nAlarmManager.  This post will show: How to set up a receiver for the\nscheduled event How to create an activity from this receiver Using the\nAlarmManager and the created classes to successfully receive and\nprocess a scheduled event</p>\n</blockquote>\n<p>From <a href=\"https://web.archive.org/web/20130724094711/http://justcallmebrian.com/2010/04/27/using-alarmmanager-to-schedule-activities-on-android/\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20130724094711/http://justcallmebrian.com/2010/04/27/using-alarmmanager-to-schedule-activities-on-android/</a></p>\n<p>See also:\n<a href=\"https://web.archive.org/web/20211114141053/https://www.techrepublic.com/blog/software-engineer/use-androids-alarmmanager-to-schedule-an-event/\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20211114141053/https://www.techrepublic.com/blog/software-engineer/use-androids-alarmmanager-to-schedule-an-event/</a></p>\n"}],"owner":{"account_id":4272102,"reputation":2840,"user_id":3493695,"display_name":"iamarkadyt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22838242,"answer_count":1,"score":0,"last_activity_date":1693237479,"creation_date":1396528755,"question_id":22838047,"body_markdown":"My problem is: I need to start countdown timer in my app which will work independently my app is opened or closed ...or even if my smartphone is off.\r\n\r\nI really wonder how does android standard clock app works. I mean how it counts time even when my phone is off? Could anybody help me with this? I will appreciate any answer!","title":"Start countdown timer in my app which will work independently my app is opened or closed","body":"<p>My problem is: I need to start countdown timer in my app which will work independently my app is opened or closed ...or even if my smartphone is off.</p>\n\n<p>I really wonder how does android standard clock app works. I mean how it counts time even when my phone is off? Could anybody help me with this? I will appreciate any answer!</p>\n"},{"tags":["java","spring","websocket"],"owner":{"account_id":2602712,"reputation":1273,"user_id":4776486,"accept_rate":40,"display_name":"voipp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693237159,"creation_date":1693237159,"question_id":76994249,"body_markdown":"I have an android client and server(and websocket stomp configured), configured like the following: \r\n\r\n        @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;)\r\n                .setHeartbeatValue(new long[] {10000, 10000})\r\n                .setTaskScheduler(taskScheduler);\r\n        config.setApplicationDestinationPrefixes(&quot;/api&quot;);\r\n    }\r\n\r\nso every period of time heartbeat is sent by the server.\r\n\r\nShould the client respond somehow ?\r\n\r\nPS STOMP is used","title":"Heartbeat engine in spring websocket, how to set?","body":"<p>I have an android client and server(and websocket stomp configured), configured like the following:</p>\n<pre><code>    @Override\npublic void configureMessageBroker(MessageBrokerRegistry config) {\n    config.enableSimpleBroker(&quot;/topic&quot;)\n            .setHeartbeatValue(new long[] {10000, 10000})\n            .setTaskScheduler(taskScheduler);\n    config.setApplicationDestinationPrefixes(&quot;/api&quot;);\n}\n</code></pre>\n<p>so every period of time heartbeat is sent by the server.</p>\n<p>Should the client respond somehow ?</p>\n<p>PS STOMP is used</p>\n"},{"tags":["java","spring-boot","apache-camel","activemq-artemis","spring-3"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1693167300,"post_id":76986965,"comment_id":135721017,"body_markdown":"Can you provide your `broker.xml` as well?","body":"Can you provide your <code>broker.xml</code> as well?"},{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1693169851,"post_id":76986965,"comment_id":135721242,"body_markdown":"JMS Pool is just a thin wrapper around a JMS connection factory and knows nothing about implementations so the issue isn&#39;t in the pool.  You need to provide all configuration you are using an ensure you are actually using what you think you are.","body":"JMS Pool is just a thin wrapper around a JMS connection factory and knows nothing about implementations so the issue isn&#39;t in the pool.  You need to provide all configuration you are using an ensure you are actually using what you think you are."}],"owner":{"account_id":29308161,"reputation":11,"user_id":22454675,"display_name":"czakom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693236875,"creation_date":1693136985,"question_id":76986965,"body_markdown":"When I&#39;m using `org.messaginghub.pooled.jms.JmsPoolConnectionFactory with org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory` and `sslEnabled=true` I&#39;m getting an error when receiving message from connected queue about unknown keystore even though I&#39;ve specified keyStorePath and keyStorePassword in my brokerUrl connection string.\r\n\r\n\r\n```\r\n13:27:28.577 [Thread-1 (ActiveMQ-client-netty-threads)] WARN  i.n.c.ChannelInitializer - Failed to initialize a channel. Closing: [id: 0xa7f380fc]\r\njava.lang.Exception: Failed to find a store at /var/lib/artemis-instance/etc/keystore.jks\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.validateStoreURL(SSLSupport.java:399)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeystore(SSLSupport.java:339)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeyManagerFactory(SSLSupport.java:375)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeyManagers(SSLSupport.java:355)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.createContext(SSLSupport.java:222)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.DefaultSSLContextFactory.getSSLContext(DefaultSSLContextFactory.java:50)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.loadJdkSslEngine(NettyConnector.java:786)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector$1.initChannel(NettyConnector.java:690)\r\n\tat io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)\r\n\tat io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:1114)\r\n\tat io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)\r\n\tat io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)\r\n\tat io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)\r\n\tat io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)\r\n\tat io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:514)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\r\n13:27:28.583 [Camel (camel-1) thread #1 - JmsConsumer[T24.MCZAKOQUEUE.UAT]] ERROR o.a.a.a.c.client - AMQ214016: Failed to create netty connection\r\nio.netty.channel.StacklessClosedChannelException: null\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)\r\n13:27:28.591 [Thread-2 (ActiveMQ-client-netty-threads)] WARN  i.n.c.ChannelInitializer - Failed to initialize a channel. Closing: [id: 0x70b07b6d]\r\njava.lang.Exception: Failed to find a store at /var/lib/artemis-instance/etc/keystore.jks\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.validateStoreURL(SSLSupport.java:399)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeystore(SSLSupport.java:339)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeyManagerFactory(SSLSupport.java:375)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeyManagers(SSLSupport.java:355)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.createContext(SSLSupport.java:222)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.ssl.DefaultSSLContextFactory.getSSLContext(DefaultSSLContextFactory.java:50)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.loadJdkSslEngine(NettyConnector.java:786)\r\n\tat org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector$1.initChannel(NettyConnector.java:690)\r\n\tat io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)\r\n\tat io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:1114)\r\n\tat io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)\r\n\tat io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)\r\n\tat io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)\r\n\tat io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)\r\n\tat io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:514)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\r\n13:27:28.591 [Camel (camel-1) thread #1 - JmsConsumer[T24.MCZAKOQUEUE.UAT]] ERROR o.a.a.a.c.client - AMQ214016: Failed to create netty connection\r\nio.netty.channel.StacklessClosedChannelException: null\r\n```\r\n\r\nThe path to the keystore mentioned in the stack trace is actually defined in the brokers acceptor so I believe that the connection factory for some reason first tries to create a connection to queue using the keystore specified inside the broker and after this fails it connects with the keystore I&#39;ve specified in my connection string. After this the message is consumed and processed.\r\n\r\n\r\nSpringBoot version: 3.1.2\r\nApache camel version 4.0.0\r\n\r\nApplicationConfig.java\r\n\r\n```\r\nimport jakarta.jms.JMSException;\r\nimport org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory;\r\nimport org.apache.camel.component.jms.JmsComponent;\r\nimport org.apache.camel.component.jms.JmsConfiguration;\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.messaginghub.pooled.jms.JmsPoolConnectionFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n/**\r\n * XML free configuration of the base component scan.\r\n *\r\n * &lt;p&gt;It registers all application components.\r\n *\r\n * @author here comes a real name\r\n */\r\n@Configuration\r\npublic class ApplicationConfig {\r\n\r\n    @Bean(name = &quot;artemis&quot;)\r\n    public JmsComponent managedArtemis() throws JMSException {\r\n        JmsPoolConnectionFactory jmsPoolConnectionFactory = getJmsPoolConnectionFactory();\r\n\r\n        JmsConfiguration jmsConfiguration = new JmsConfiguration();\r\n        jmsConfiguration.setConnectionFactory(jmsPoolConnectionFactory);\r\n        jmsConfiguration.setArtemisStreamingEnabled(true);\r\n        jmsConfiguration.setAcknowledgementModeName(&quot;CLIENT_ACKNOWLEDGE&quot;);\r\n        jmsConfiguration.setMaxConcurrentConsumers(50);\r\n        jmsConfiguration.setMaxMessagesPerTask(100);\r\n        \r\n        JmsComponent jmsComponent = new JmsComponent();\r\n        jmsComponent.setConfiguration(jmsConfiguration);\r\n\r\n        return jmsComponent;\r\n    }\r\n\r\n    @NotNull\r\n    private static JmsPoolConnectionFactory getJmsPoolConnectionFactory() throws JMSException {\r\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\r\n        connectionFactory.setBrokerURL(&quot;tcp://&lt;broker-host&gt;:61616?ha=true&amp;sslEnabled=true&amp;keyStorePath=&lt;path-to-key-store&gt;&amp;keyStorePassword=password&amp;trustStorePath=&lt;path-to-trust-store&gt;&amp;trustStorePassword=password&quot;);\r\n\r\n        JmsPoolConnectionFactory jmsPoolConnectionFactory = new JmsPoolConnectionFactory();\r\n        jmsPoolConnectionFactory.setConnectionFactory(connectionFactory);\r\n        jmsPoolConnectionFactory.setMaxConnections(100);\r\n        return jmsPoolConnectionFactory;\r\n    }\r\n\r\n}\r\n```\r\n\r\npom.xml dependencies:\r\n\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-jms-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;artemis-jakarta-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.28.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.messaginghub&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pooled-jms&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n","title":"JmsPoolConnectionFactory uses wrong keystore during sslEnabled connection","body":"<p>When I'm using <code>org.messaginghub.pooled.jms.JmsPoolConnectionFactory with org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory</code> and <code>sslEnabled=true</code> I'm getting an error when receiving message from connected queue about unknown keystore even though I've specified keyStorePath and keyStorePassword in my brokerUrl connection string.</p>\n<pre><code>13:27:28.577 [Thread-1 (ActiveMQ-client-netty-threads)] WARN  i.n.c.ChannelInitializer - Failed to initialize a channel. Closing: [id: 0xa7f380fc]\njava.lang.Exception: Failed to find a store at /var/lib/artemis-instance/etc/keystore.jks\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.validateStoreURL(SSLSupport.java:399)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeystore(SSLSupport.java:339)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeyManagerFactory(SSLSupport.java:375)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeyManagers(SSLSupport.java:355)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.createContext(SSLSupport.java:222)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.DefaultSSLContextFactory.getSSLContext(DefaultSSLContextFactory.java:50)\n    at org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.loadJdkSslEngine(NettyConnector.java:786)\n    at org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector$1.initChannel(NettyConnector.java:690)\n    at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)\n    at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)\n    at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:1114)\n    at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)\n    at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)\n    at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)\n    at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)\n    at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:514)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\n13:27:28.583 [Camel (camel-1) thread #1 - JmsConsumer[T24.MCZAKOQUEUE.UAT]] ERROR o.a.a.a.c.client - AMQ214016: Failed to create netty connection\nio.netty.channel.StacklessClosedChannelException: null\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)\n13:27:28.591 [Thread-2 (ActiveMQ-client-netty-threads)] WARN  i.n.c.ChannelInitializer - Failed to initialize a channel. Closing: [id: 0x70b07b6d]\njava.lang.Exception: Failed to find a store at /var/lib/artemis-instance/etc/keystore.jks\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.validateStoreURL(SSLSupport.java:399)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeystore(SSLSupport.java:339)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeyManagerFactory(SSLSupport.java:375)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.loadKeyManagers(SSLSupport.java:355)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.SSLSupport.createContext(SSLSupport.java:222)\n    at org.apache.activemq.artemis.core.remoting.impl.ssl.DefaultSSLContextFactory.getSSLContext(DefaultSSLContextFactory.java:50)\n    at org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector.loadJdkSslEngine(NettyConnector.java:786)\n    at org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector$1.initChannel(NettyConnector.java:690)\n    at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)\n    at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)\n    at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:1114)\n    at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)\n    at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)\n    at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)\n    at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)\n    at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:514)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\n13:27:28.591 [Camel (camel-1) thread #1 - JmsConsumer[T24.MCZAKOQUEUE.UAT]] ERROR o.a.a.a.c.client - AMQ214016: Failed to create netty connection\nio.netty.channel.StacklessClosedChannelException: null\n</code></pre>\n<p>The path to the keystore mentioned in the stack trace is actually defined in the brokers acceptor so I believe that the connection factory for some reason first tries to create a connection to queue using the keystore specified inside the broker and after this fails it connects with the keystore I've specified in my connection string. After this the message is consumed and processed.</p>\n<p>SpringBoot version: 3.1.2\nApache camel version 4.0.0</p>\n<p>ApplicationConfig.java</p>\n<pre><code>import jakarta.jms.JMSException;\nimport org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory;\nimport org.apache.camel.component.jms.JmsComponent;\nimport org.apache.camel.component.jms.JmsConfiguration;\nimport org.jetbrains.annotations.NotNull;\nimport org.messaginghub.pooled.jms.JmsPoolConnectionFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n/**\n * XML free configuration of the base component scan.\n *\n * &lt;p&gt;It registers all application components.\n *\n * @author here comes a real name\n */\n@Configuration\npublic class ApplicationConfig {\n\n    @Bean(name = &quot;artemis&quot;)\n    public JmsComponent managedArtemis() throws JMSException {\n        JmsPoolConnectionFactory jmsPoolConnectionFactory = getJmsPoolConnectionFactory();\n\n        JmsConfiguration jmsConfiguration = new JmsConfiguration();\n        jmsConfiguration.setConnectionFactory(jmsPoolConnectionFactory);\n        jmsConfiguration.setArtemisStreamingEnabled(true);\n        jmsConfiguration.setAcknowledgementModeName(&quot;CLIENT_ACKNOWLEDGE&quot;);\n        jmsConfiguration.setMaxConcurrentConsumers(50);\n        jmsConfiguration.setMaxMessagesPerTask(100);\n        \n        JmsComponent jmsComponent = new JmsComponent();\n        jmsComponent.setConfiguration(jmsConfiguration);\n\n        return jmsComponent;\n    }\n\n    @NotNull\n    private static JmsPoolConnectionFactory getJmsPoolConnectionFactory() throws JMSException {\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\n        connectionFactory.setBrokerURL(&quot;tcp://&lt;broker-host&gt;:61616?ha=true&amp;sslEnabled=true&amp;keyStorePath=&lt;path-to-key-store&gt;&amp;keyStorePassword=password&amp;trustStorePath=&lt;path-to-trust-store&gt;&amp;trustStorePassword=password&quot;);\n\n        JmsPoolConnectionFactory jmsPoolConnectionFactory = new JmsPoolConnectionFactory();\n        jmsPoolConnectionFactory.setConnectionFactory(connectionFactory);\n        jmsPoolConnectionFactory.setMaxConnections(100);\n        return jmsPoolConnectionFactory;\n    }\n\n}\n</code></pre>\n<p>pom.xml dependencies:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n                &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jms-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;artemis-jakarta-client&lt;/artifactId&gt;\n            &lt;version&gt;2.28.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.messaginghub&lt;/groupId&gt;\n            &lt;artifactId&gt;pooled-jms&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693236777,"creation_date":1693236777,"answer_id":76994193,"question_id":76992678,"body_markdown":"See [Working with the calculation chain (Open XML SDK)](https://learn.microsoft.com/en-us/office/open-xml/working-with-the-calculation-chain) and [CalculationCell Class](https://learn.microsoft.com/en-us/dotnet/api/documentformat.openxml.spreadsheet.calculationcell?view=openxml-2.8.1).\r\n\r\nThe attribute **i (Sheet Id)** is defined as a sheet Id of a sheet the cell belongs to. If this is omitted, it is assumed to be the same as the i value of the previous cell. So in `calcChain.xml` `&lt;c r=&quot;C1&quot; i=&quot;1&quot;/&gt;` refers cell `C1` in first sheet while `&lt;c r=&quot;C1&quot; i=&quot;2&quot;/&gt;` refers cell `C1` in second sheet.\r\n\r\nClass `org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCalcCell` has method `int getI()` to get that attribute.\r\n\r\nIt also has methods `boolean getA()`, `boolean getL()`, `java.lang.String getR()`, `boolean getS()`, `boolean getT()` to get the other attributes `a (Array)`, `l (New Dependency Level)`, `r (Cell Reference)`, `s (Child Chain)` and `t (New Thread)`.\r\n\r\n","title":"How to get sheet index or sheet id from CTCalcCell Apache POI","body":"<p>See <a href=\"https://learn.microsoft.com/en-us/office/open-xml/working-with-the-calculation-chain\" rel=\"nofollow noreferrer\">Working with the calculation chain (Open XML SDK)</a> and <a href=\"https://learn.microsoft.com/en-us/dotnet/api/documentformat.openxml.spreadsheet.calculationcell?view=openxml-2.8.1\" rel=\"nofollow noreferrer\">CalculationCell Class</a>.</p>\n<p>The attribute <strong>i (Sheet Id)</strong> is defined as a sheet Id of a sheet the cell belongs to. If this is omitted, it is assumed to be the same as the i value of the previous cell. So in <code>calcChain.xml</code> <code>&lt;c r=&quot;C1&quot; i=&quot;1&quot;/&gt;</code> refers cell <code>C1</code> in first sheet while <code>&lt;c r=&quot;C1&quot; i=&quot;2&quot;/&gt;</code> refers cell <code>C1</code> in second sheet.</p>\n<p>Class <code>org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCalcCell</code> has method <code>int getI()</code> to get that attribute.</p>\n<p>It also has methods <code>boolean getA()</code>, <code>boolean getL()</code>, <code>java.lang.String getR()</code>, <code>boolean getS()</code>, <code>boolean getT()</code> to get the other attributes <code>a (Array)</code>, <code>l (New Dependency Level)</code>, <code>r (Cell Reference)</code>, <code>s (Child Chain)</code> and <code>t (New Thread)</code>.</p>\n"}],"owner":{"account_id":6346949,"reputation":77,"user_id":4927182,"accept_rate":71,"display_name":"wwood_cc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76994193,"answer_count":1,"score":0,"last_activity_date":1693236777,"creation_date":1693224720,"question_id":76992678,"body_markdown":"I&#39;m trying to CalculationChain to get all CTCalcCells but I&#39;m facing an issue where I&#39;m not sure which attribute from the CTCalcCell is referring to the related sheet. Is it possible to get the sheet index or sheet id from CTCalcCell?","title":"How to get sheet index or sheet id from CTCalcCell Apache POI","body":"<p>I'm trying to CalculationChain to get all CTCalcCells but I'm facing an issue where I'm not sure which attribute from the CTCalcCell is referring to the related sheet. Is it possible to get the sheet index or sheet id from CTCalcCell?</p>\n"},{"tags":["java","android","sqlite","syntax"],"answers":[{"tags":[],"owner":{"account_id":29273747,"reputation":1,"user_id":22432815,"display_name":"Jai Goyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693150389,"creation_date":1693150389,"answer_id":76987786,"question_id":76987038,"body_markdown":"In the getNames method of your DrugsDataBase class, you should construct a proper SQL query using the query method. The query should retrieve specific columns from the drugstable table. Here&#39;s how the query should look like:\r\n\r\n    public ArrayList&lt;String&gt; getNames() {\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        \r\n        // Define the columns you want to retrieve\r\n        String[] columns = { column_name }; // Only retrieve the &quot;drug&quot; column\r\n        \r\n        // Query the table to retrieve the names\r\n        Cursor cursor = db.query(table_name, columns, null, null, null, null, null);\r\n        \r\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n            do {\r\n                names.add(cursor.getString(cursor.getColumnIndex(column_name)));\r\n            } while (cursor.moveToNext());\r\n            \r\n            cursor.close();\r\n        }\r\n        \r\n        return names;\r\n    }\r\n\r\nThis query retrieves the values from the &quot;drug&quot; column of the drugstable table using the query method. The resulting Cursor will contain only the &quot;drug&quot; column values, and you iterate through the Cursor to populate the ArrayList with the drug names.\r\n\r\nEnsure you&#39;ve declared the column_name constant correctly and that it matches the actual column name in your database table definition.\r\n\r\n\r\n","title":"AutoComplete TextView from a Local Database File, Android Studio, Java","body":"<p>In the getNames method of your DrugsDataBase class, you should construct a proper SQL query using the query method. The query should retrieve specific columns from the drugstable table. Here's how the query should look like:</p>\n<pre><code>public ArrayList&lt;String&gt; getNames() {\n    SQLiteDatabase db = this.getReadableDatabase();\n    ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n    \n    // Define the columns you want to retrieve\n    String[] columns = { column_name }; // Only retrieve the &quot;drug&quot; column\n    \n    // Query the table to retrieve the names\n    Cursor cursor = db.query(table_name, columns, null, null, null, null, null);\n    \n    if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n        do {\n            names.add(cursor.getString(cursor.getColumnIndex(column_name)));\n        } while (cursor.moveToNext());\n        \n        cursor.close();\n    }\n    \n    return names;\n}\n</code></pre>\n<p>This query retrieves the values from the &quot;drug&quot; column of the drugstable table using the query method. The resulting Cursor will contain only the &quot;drug&quot; column values, and you iterate through the Cursor to populate the ArrayList with the drug names.</p>\n<p>Ensure you've declared the column_name constant correctly and that it matches the actual column name in your database table definition.</p>\n"}],"owner":{"account_id":29259826,"reputation":1,"user_id":22417072,"display_name":"Ahmed Amer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693236515,"creation_date":1693138069,"question_id":76987038,"body_markdown":"Please help me, I&#39;m trying to prepopulate my autocomplete text view with a local database file, I keep getting this error\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.saud.app.autocompletesample/com.saud.app.autocompletesample.MainActivity}: android.database.sqlite.SQLiteException: near &quot;drugstable&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: drugstable\r\n```\r\n\r\nBelow my code\r\n\r\n`DatabaseHelper.java`\r\n\r\n```java\r\npackage com.saud.app.autocompletesample;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.DatabaseErrorHandler;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteException;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.google.android.material.shape.CutCornerTreatment;\r\n\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\n\r\npublic class DrugsDataBase extends SQLiteOpenHelper {\r\n\r\n    private static String DB_PATH = &quot;&quot;;\r\n    private final Context myContext;\r\n\r\n\r\n    private static final String database_name = &quot;aaa.db&quot;;\r\n    private static final int version = 1;\r\n    public static final String table_name = &quot;drugstable&quot;;\r\n    public static final String column_id = &quot;id&quot;;\r\n    public static final String column_name = &quot;drug&quot;;\r\n\r\n    private SQLiteDatabase db;\r\n\r\n\r\n    public DrugsDataBase(Context context) {\r\n\r\n        super(context, database_name, null, version);\r\n        this.myContext = context;\r\n        DB_PATH = myContext.getDatabasePath(database_name)\r\n                .toString();\r\n    }\r\n\r\n    public void createDataBase()\r\n            throws IOException {\r\n\r\n        boolean dbExist = checkDataBase();\r\n\r\n        if (dbExist) {\r\n            // do nothing - database already exist\r\n        } else {\r\n            // By calling this method and\r\n            // the empty database will be\r\n            // created into the default system\r\n            // path of your application\r\n            // so we are gonna be able\r\n            // to overwrite that database\r\n            // with our database.\r\n            this.getWritableDatabase();\r\n            try {\r\n                copyDataBase();\r\n            } catch (IOException e) {\r\n                throw new Error(\r\n                        &quot;Error copying database&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Check if the database already exist\r\n    // to avoid re-copying the file each\r\n    // time you open the application\r\n    // return true if it exists\r\n    // false if it doesn&#39;t.\r\n    private boolean checkDataBase() {\r\n        SQLiteDatabase checkDB = null;\r\n        try {\r\n            String myPath = DB_PATH;\r\n            checkDB\r\n                    = SQLiteDatabase\r\n                    .openDatabase(\r\n                            myPath, null,\r\n                            SQLiteDatabase.OPEN_READONLY);\r\n        } catch (SQLiteException e) {\r\n\r\n            // database doesn&#39;t exist yet.\r\n            Log.e(&quot;message&quot;, &quot;&quot; + e);\r\n        }\r\n        if (checkDB != null) {\r\n            checkDB.close();\r\n        }\r\n        return checkDB != null;\r\n    }\r\n\r\n    /**\r\n     * Copies your database from your\r\n     * local assets-folder to the just\r\n     * created empty database in the\r\n     * system folder, from where it\r\n     * can be accessed and handled.\r\n     * This is done by transferring bytestream.\r\n     */\r\n    private void copyDataBase()\r\n            throws IOException {\r\n        // Open your local db as the input stream\r\n        InputStream myInput\r\n                = myContext.getAssets()\r\n                .open(database_name);\r\n\r\n        // Path to the just created empty db\r\n        String outFileName = DB_PATH;\r\n\r\n        // Open the empty db as the output stream\r\n        OutputStream myOutput\r\n                = new FileOutputStream(outFileName);\r\n\r\n        // transfer bytes from the\r\n        // inputfile to the outputfile\r\n        byte[] buffer = new byte[1024];\r\n        int length;\r\n        while ((length = myInput.read(buffer)) &gt; 0) {\r\n            myOutput.write(buffer, 0, length);\r\n        }\r\n\r\n        // Close the streams\r\n        myOutput.flush();\r\n        myOutput.close();\r\n        myInput.close();\r\n    }\r\n\r\n    public void openDataBase()\r\n            throws SQLException {\r\n        // Open the database\r\n        String myPath = DB_PATH;\r\n        db = SQLiteDatabase\r\n                .openDatabase(\r\n                        myPath, null,\r\n                        SQLiteDatabase.OPEN_READONLY);\r\n    }\r\n\r\n    @Override\r\n    public synchronized void close() {\r\n        // close the database.\r\n        if (db != null)\r\n            db.close();\r\n        super.close();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase,\r\n\r\n        int oldVersion,\r\n        int newVersion) {\r\n            // It is an abstract method which is\r\n            // used to perform different task\r\n            // based on the version of database.\r\n        }\r\n\r\n\r\n\r\n    public ArrayList&lt;String&gt; getNames() {\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        Cursor cursor = db.rawQuery(table_name, null);\r\n        cursor.moveToNext();\r\n\r\n        while (!cursor.isAfterLast()) {\r\n\r\n            names.add(cursor.getString(1));\r\n            cursor.moveToNext();\r\n        }\r\n\r\n        cursor.close();\r\n        return names;\r\n    }\r\n}\r\n\r\n```\r\n\r\n`MainActivity.java`\r\n\r\n```java\r\npackage com.saud.app.autocompletesample;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.AutoCompleteTextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private AutoCompleteTextView autoCompleteTextView;\r\n    private ArrayList&lt;String&gt; names;\r\n    private DrugsDataBase dataBase;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        autoCompleteTextView = findViewById(R.id.autoCompleteTextView);\r\n        dataBase = new DrugsDataBase(this);\r\n        names = dataBase.getNames();\r\n\r\n        ArrayAdapter&lt;String&gt; autoCompleteAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_dropdown_item_1line, names);\r\n        autoCompleteTextView.setAdapter(autoCompleteAdapter);\r\n\r\n    }\r\n}\r\n```\r\n \r\n","title":"AutoComplete TextView from a Local Database File, Android Studio, Java","body":"<p>Please help me, I'm trying to prepopulate my autocomplete text view with a local database file, I keep getting this error</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.saud.app.autocompletesample/com.saud.app.autocompletesample.MainActivity}: android.database.sqlite.SQLiteException: near &quot;drugstable&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: drugstable\n</code></pre>\n<p>Below my code</p>\n<p><code>DatabaseHelper.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.saud.app.autocompletesample;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.DatabaseErrorHandler;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteException;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport com.google.android.material.shape.CutCornerTreatment;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\npublic class DrugsDataBase extends SQLiteOpenHelper {\n\n    private static String DB_PATH = &quot;&quot;;\n    private final Context myContext;\n\n\n    private static final String database_name = &quot;aaa.db&quot;;\n    private static final int version = 1;\n    public static final String table_name = &quot;drugstable&quot;;\n    public static final String column_id = &quot;id&quot;;\n    public static final String column_name = &quot;drug&quot;;\n\n    private SQLiteDatabase db;\n\n\n    public DrugsDataBase(Context context) {\n\n        super(context, database_name, null, version);\n        this.myContext = context;\n        DB_PATH = myContext.getDatabasePath(database_name)\n                .toString();\n    }\n\n    public void createDataBase()\n            throws IOException {\n\n        boolean dbExist = checkDataBase();\n\n        if (dbExist) {\n            // do nothing - database already exist\n        } else {\n            // By calling this method and\n            // the empty database will be\n            // created into the default system\n            // path of your application\n            // so we are gonna be able\n            // to overwrite that database\n            // with our database.\n            this.getWritableDatabase();\n            try {\n                copyDataBase();\n            } catch (IOException e) {\n                throw new Error(\n                        &quot;Error copying database&quot;);\n            }\n        }\n    }\n\n    // Check if the database already exist\n    // to avoid re-copying the file each\n    // time you open the application\n    // return true if it exists\n    // false if it doesn't.\n    private boolean checkDataBase() {\n        SQLiteDatabase checkDB = null;\n        try {\n            String myPath = DB_PATH;\n            checkDB\n                    = SQLiteDatabase\n                    .openDatabase(\n                            myPath, null,\n                            SQLiteDatabase.OPEN_READONLY);\n        } catch (SQLiteException e) {\n\n            // database doesn't exist yet.\n            Log.e(&quot;message&quot;, &quot;&quot; + e);\n        }\n        if (checkDB != null) {\n            checkDB.close();\n        }\n        return checkDB != null;\n    }\n\n    /**\n     * Copies your database from your\n     * local assets-folder to the just\n     * created empty database in the\n     * system folder, from where it\n     * can be accessed and handled.\n     * This is done by transferring bytestream.\n     */\n    private void copyDataBase()\n            throws IOException {\n        // Open your local db as the input stream\n        InputStream myInput\n                = myContext.getAssets()\n                .open(database_name);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH;\n\n        // Open the empty db as the output stream\n        OutputStream myOutput\n                = new FileOutputStream(outFileName);\n\n        // transfer bytes from the\n        // inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer)) &gt; 0) {\n            myOutput.write(buffer, 0, length);\n        }\n\n        // Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n    }\n\n    public void openDataBase()\n            throws SQLException {\n        // Open the database\n        String myPath = DB_PATH;\n        db = SQLiteDatabase\n                .openDatabase(\n                        myPath, null,\n                        SQLiteDatabase.OPEN_READONLY);\n    }\n\n    @Override\n    public synchronized void close() {\n        // close the database.\n        if (db != null)\n            db.close();\n        super.close();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        SQLiteDatabase db = this.getReadableDatabase();\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase,\n\n        int oldVersion,\n        int newVersion) {\n            // It is an abstract method which is\n            // used to perform different task\n            // based on the version of database.\n        }\n\n\n\n    public ArrayList&lt;String&gt; getNames() {\n        SQLiteDatabase db = this.getReadableDatabase();\n        ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n        Cursor cursor = db.rawQuery(table_name, null);\n        cursor.moveToNext();\n\n        while (!cursor.isAfterLast()) {\n\n            names.add(cursor.getString(1));\n            cursor.moveToNext();\n        }\n\n        cursor.close();\n        return names;\n    }\n}\n\n</code></pre>\n<p><code>MainActivity.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.saud.app.autocompletesample;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.AutoCompleteTextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.ArrayList;\n\n\npublic class MainActivity extends AppCompatActivity {\n    private AutoCompleteTextView autoCompleteTextView;\n    private ArrayList&lt;String&gt; names;\n    private DrugsDataBase dataBase;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        autoCompleteTextView = findViewById(R.id.autoCompleteTextView);\n        dataBase = new DrugsDataBase(this);\n        names = dataBase.getNames();\n\n        ArrayAdapter&lt;String&gt; autoCompleteAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_dropdown_item_1line, names);\n        autoCompleteTextView.setAdapter(autoCompleteAdapter);\n\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","oop"],"owner":{"account_id":29315692,"reputation":11,"user_id":22460513,"display_name":"Serious Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1693237135,"answer_count":0,"score":0,"last_activity_date":1693236458,"creation_date":1693236458,"question_id":76994155,"body_markdown":" Please explain this would be great if you can mention examples. I am really confused.\r\n\r\n Also is the statement &quot;Object based languages does not supports built-in objects&quot; True ? can they be distinguished by built in objects ??","title":"What is the Exact difference between Object Based and Object Oriented Languages","body":"<p>Please explain this would be great if you can mention examples. I am really confused.</p>\n<p>Also is the statement &quot;Object based languages does not supports built-in objects&quot; True ? can they be distinguished by built in objects ??</p>\n"},{"tags":["java","import"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1514671296,"post_id":48038250,"comment_id":83046780,"body_markdown":"I doubt that the second attempt works. Maybe you `import java.util.stream.*;`? If you import with a wildcard, only the direct classes in this package will be imported, **not** the classes in sub-packages. Thus with an `import java.util.*`, you import all classes and interfaces listed [here](https://docs.oracle.com/javase/9/docs/api/java/util/package-summary.html). The class `Stream` actually resides in the [`java.util.list.stream` package](https://docs.oracle.com/javase/9/docs/api/java/util/stream/package-summary.html).","body":"I doubt that the second attempt works. Maybe you <code>import java.util.stream.*;</code>? If you import with a wildcard, only the direct classes in this package will be imported, <b>not</b> the classes in sub-packages. Thus with an <code>import java.util.*</code>, you import all classes and interfaces listed <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/package-summary.html\" rel=\"nofollow noreferrer\">here</a>. The class <code>Stream</code> actually resides in the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.list.stream</code> package</a>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1514671413,"post_id":48038250,"comment_id":83046803,"body_markdown":"Indeed - importing `java.util.stream.*` would import everything in the `java.util.stream` package. Importing `java.util.stream` would fail: `error: cannot find symbol`","body":"Indeed - importing <code>java.util.stream.*</code> would import everything in the <code>java.util.stream</code> package. Importing <code>java.util.stream</code> would fail: <code>error: cannot find symbol</code>"},{"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"score":0,"creation_date":1514671478,"post_id":48038250,"comment_id":83046820,"body_markdown":"You probably have some other `Stream` class imported somewhere (or you have a `Stream` class in you package), otherwise the `import java.util.*;` would have worked perfectly","body":"You probably have some other <code>Stream</code> class imported somewhere (or you have a <code>Stream</code> class in you package), otherwise the <code>import java.util.*;</code> would have worked perfectly"},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":1,"creation_date":1514671543,"post_id":48038250,"comment_id":83046832,"body_markdown":"Possible duplicate of [Recursive import Java](https://stackoverflow.com/questions/18245483/recursive-import-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18245483/recursive-import-java\">Recursive import Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1612906694,"creation_date":1514671857,"answer_id":48038317,"question_id":48038250,"body_markdown":"I doubt that the second attempt (`import java.util.stream;`) works. As [JonSkeet ][1] pointed out [in their comment][2], it should result in a compilation error: `error: cannot find symbol`. Maybe you wanted to `import java.util.stream.*;`?\r\n\r\n---\r\nTo the actual question:\r\n\r\nIf we import with a wildcard, that is the asterisk (`*`) character, **only the direct classes in this package will be imported, not the classes in sub-packages**. Thus with an `import java.util.*`, we import classes like [`ArrayList`][5], [`LinkedList`][6] and [`Random`][7].  A full list can be found [here][3]. The class `Stream` actually resides in the sub-package [`java.util.stream`][4] and is not imported when you `import java.util.*;`.\r\n\r\nTo import `Stream`, we can either `import java.util.stream.*;` (all classes within this package) or only `import java.util.stream.Stream;` (the FQDN of the class we need).\r\n\r\n[1]: https://stackoverflow.com/users/22656/jon-skeet\r\n[2]: https://stackoverflow.com/questions/48038250/whats-the-difference-between-import-java-util-and-import-java-util-stream/48038317#comment83046803_48038250\r\n[3]: https://docs.oracle.com/javase/9/docs/api/java/util/package-summary.html\r\n[4]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/package-summary.html\r\n[5]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html\r\n[6]: https://docs.oracle.com/javase/9/docs/api/java/util/LinkedList.html\r\n[7]: https://docs.oracle.com/javase/9/docs/api/java/util/Random.html","title":"What&#39;s the difference between import java.util.*; and import java.util.stream.*;?","body":"<p>I doubt that the second attempt (<code>import java.util.stream;</code>) works. As <a href=\"https://stackoverflow.com/users/22656/jon-skeet\">JonSkeet </a> pointed out <a href=\"https://stackoverflow.com/questions/48038250/whats-the-difference-between-import-java-util-and-import-java-util-stream/48038317#comment83046803_48038250\">in their comment</a>, it should result in a compilation error: <code>error: cannot find symbol</code>. Maybe you wanted to <code>import java.util.stream.*;</code>?</p>\n<hr />\n<p>To the actual question:</p>\n<p>If we import with a wildcard, that is the asterisk (<code>*</code>) character, <strong>only the direct classes in this package will be imported, not the classes in sub-packages</strong>. Thus with an <code>import java.util.*</code>, we import classes like <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\"><code>LinkedList</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>Random</code></a>.  A full list can be found <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/package-summary.html\" rel=\"nofollow noreferrer\">here</a>. The class <code>Stream</code> actually resides in the sub-package <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.stream</code></a> and is not imported when you <code>import java.util.*;</code>.</p>\n<p>To import <code>Stream</code>, we can either <code>import java.util.stream.*;</code> (all classes within this package) or only <code>import java.util.stream.Stream;</code> (the FQDN of the class we need).</p>\n"}],"owner":{"account_id":2373047,"reputation":9040,"user_id":2077201,"accept_rate":77,"display_name":"Adam"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15903,"favorite_count":0,"down_vote_count":4,"up_vote_count":5,"closed_date":1514674713,"accepted_answer_id":48038317,"answer_count":1,"score":1,"last_activity_date":1693236192,"creation_date":1514671227,"question_id":48038250,"body_markdown":"I&#39;m using Java 8&#39;s `Stream` functionality to manipulate the contents of an array in my program:\r\n\r\n    \r\n\r\n    Obstacle[] closestObstacles = Stream.generate(() -&gt; new Obstacle()).limit(8).toArray(Obstacle[]::new); // one for each line of attack\r\n\r\nWhen I try importing `Stream` like this: `import java.util.*;` I get a &quot;the symbol Stream cannot be resolved&quot; error. When I instead import `Stream` like this: `java.util.stream;` things work as expected. Why does this happen? I don&#39;t use `Stream` or anything named &quot;stream&quot; elsewhere in my program, so I don&#39;t think it&#39;s a name conflict? \r\n\r\n ","title":"What&#39;s the difference between import java.util.*; and import java.util.stream.*;?","body":"<p>I'm using Java 8's <code>Stream</code> functionality to manipulate the contents of an array in my program:</p>\n\n<pre><code>Obstacle[] closestObstacles = Stream.generate(() -&gt; new Obstacle()).limit(8).toArray(Obstacle[]::new); // one for each line of attack\n</code></pre>\n\n<p>When I try importing <code>Stream</code> like this: <code>import java.util.*;</code> I get a \"the symbol Stream cannot be resolved\" error. When I instead import <code>Stream</code> like this: <code>java.util.stream;</code> things work as expected. Why does this happen? I don't use <code>Stream</code> or anything named \"stream\" elsewhere in my program, so I don't think it's a name conflict? </p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1693236580,"post_id":76994117,"comment_id":135730580,"body_markdown":"Doesn&#39;t `implementation` mean it&#39;s on the runtime path, but not compile time?","body":"Doesn&#39;t <code>implementation</code> mean it&#39;s on the runtime path, but not compile time?"},{"owner":{"account_id":2707726,"reputation":739,"user_id":2336965,"accept_rate":48,"display_name":"Moojjoo"},"score":0,"creation_date":1693236834,"post_id":76994117,"comment_id":135730641,"body_markdown":"Dave Newton, I am performing some outside research to find the answer to that question.  I do not know.","body":"Dave Newton, I am performing some outside research to find the answer to that question.  I do not know."},{"owner":{"account_id":14461800,"reputation":177,"user_id":10446433,"display_name":"SimpleJack"},"score":3,"creation_date":1693236941,"post_id":76994117,"comment_id":135730660,"body_markdown":"Please show your **build.gradle** file. Without this, everything is a guessing game...","body":"Please show your <b>build.gradle</b> file. Without this, everything is a guessing game..."},{"owner":{"account_id":14461800,"reputation":177,"user_id":10446433,"display_name":"SimpleJack"},"score":1,"creation_date":1693237113,"post_id":76994117,"comment_id":135730694,"body_markdown":"No, if you want to &quot;use&quot; the library in your code, this is correct. See: [Gradle DOCs - Java Plugin](https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph)","body":"No, if you want to &quot;use&quot; the library in your code, this is correct. See: <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph\" rel=\"nofollow noreferrer\">Gradle DOCs - Java Plugin</a>"},{"owner":{"account_id":2707726,"reputation":739,"user_id":2336965,"accept_rate":48,"display_name":"Moojjoo"},"score":0,"creation_date":1693237315,"post_id":76994117,"comment_id":135730742,"body_markdown":"@SimpleJack thank you for replying.  Due to policy I cannot post the build.gradle file :(  (Sorry have to feed the family).  However, your reply with See: Gradle DOCs - Java Plugin I am researching.","body":"@SimpleJack thank you for replying.  Due to policy I cannot post the build.gradle file :(  (Sorry have to feed the family).  However, your reply with See: Gradle DOCs - Java Plugin I am researching."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693242265,"post_id":76994117,"comment_id":135731715,"body_markdown":"@DaveNewton In standard Gradle, `implementation` means it&#39;s on the path at compile-time and run-time. For compile-time only dependencies, there&#39;s `compileOnly`, and for run-time only dependencies, there&#39;s `runtimeOnly`. There&#39;s also test versions of those configurations, and `api` stuff (the link in SimpleJack&#39;s comment goes into more detail).","body":"@DaveNewton In standard Gradle, <code>implementation</code> means it&#39;s on the path at compile-time and run-time. For compile-time only dependencies, there&#39;s <code>compileOnly</code>, and for run-time only dependencies, there&#39;s <code>runtimeOnly</code>. There&#39;s also test versions of those configurations, and <code>api</code> stuff (the link in SimpleJack&#39;s comment goes into more detail)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693242526,"post_id":76994117,"comment_id":135731756,"body_markdown":"@Moojjoo After adding that dependency, assuming it was added correctly, has Eclipse refreshed the project (manually or automatically) so that it knows that dependency is available?","body":"@Moojjoo After adding that dependency, assuming it was added correctly, has Eclipse refreshed the project (manually or automatically) so that it knows that dependency is available?"},{"owner":{"account_id":2707726,"reputation":739,"user_id":2336965,"accept_rate":48,"display_name":"Moojjoo"},"score":0,"creation_date":1693247476,"post_id":76994117,"comment_id":135732642,"body_markdown":"@Slaw I have built and rebuilt and closed all IDE(s); BASH windows even restarted my system and it does not seem like the dependency is being pulled in.  I would expect the same.  I am actually taking an awesome course on Udemy where the instructor is using Maven instead of Gradle and he would simply click the Maven refresh and the project would update with the dependencies.","body":"@Slaw I have built and rebuilt and closed all IDE(s); BASH windows even restarted my system and it does not seem like the dependency is being pulled in.  I would expect the same.  I am actually taking an awesome course on Udemy where the instructor is using Maven instead of Gradle and he would simply click the Maven refresh and the project would update with the dependencies."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1693248077,"post_id":76994117,"comment_id":135732758,"body_markdown":"@Slaw Hm I reversed it in my head; while remembering all this I also came across the Baeldung post on this, which seems completely incorrect, or Im misreading it.","body":"@Slaw Hm I reversed it in my head; while remembering all this I also came across the Baeldung post on this, which seems completely incorrect, or Im misreading it."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1693251706,"post_id":76994117,"comment_id":135733361,"body_markdown":"Surely you can post a *different* build.gradle which doesn&#39;t contain any company secrets but shows the same problem? See [mre]","body":"Surely you can post a <i>different</i> build.gradle which doesn&#39;t contain any company secrets but shows the same problem? See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":2707726,"reputation":739,"user_id":2336965,"accept_rate":48,"display_name":"Moojjoo"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693236110,"creation_date":1693236110,"question_id":76994117,"body_markdown":"I have a question concerning the build process of using build.gradle\r\n\r\nIf you have a dependency\r\n\r\n```implementation &quot;com.company.div:oauth2-client:1.0.0&quot;```\r\n\r\nIf the above is in the build.gradle shouldn&#39;t the command ```./gradlew build``` include that dependency before building the code?\r\n\r\nI am using Eclipse with spring-tool-suite and for my new TokenUtils none of the imports are getting resolved.\r\n\r\n```import com.company.dev.oauth2.oauth2...```  // Not getting resolved.\r\n\r\n","title":"Java and Gradle using build.gradle","body":"<p>I have a question concerning the build process of using build.gradle</p>\n<p>If you have a dependency</p>\n<p><code>implementation &quot;com.company.div:oauth2-client:1.0.0&quot;</code></p>\n<p>If the above is in the build.gradle shouldn't the command <code>./gradlew build</code> include that dependency before building the code?</p>\n<p>I am using Eclipse with spring-tool-suite and for my new TokenUtils none of the imports are getting resolved.</p>\n<p><code>import com.company.dev.oauth2.oauth2...</code>  // Not getting resolved.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5156128,"reputation":126,"user_id":4129322,"display_name":"PRIYANKA YADAV"},"score":0,"creation_date":1693225885,"post_id":76992663,"comment_id":135727978,"body_markdown":"external path :-  /storage/emulated/0/xyz.db\ninternal path should be  : - data/data/PROJECT_PKG_NAME/databases/xyz.db","body":"external path :-  /storage/emulated/0/xyz.db internal path should be  : - data/data/PROJECT_PKG_NAME/databases/xyz.db"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693225889,"post_id":76992663,"comment_id":135727981,"body_markdown":"`if(!fileOut.exists()) {\n               fileOut.createNewFile();\n           }` Better remove that code. The new FileOutputStream() will create the file.","body":"<code>if(!fileOut.exists()) {                fileOut.createNewFile();            }</code> Better remove that code. The new FileOutputStream() will create the file."},{"owner":{"account_id":5156128,"reputation":126,"user_id":4129322,"display_name":"PRIYANKA YADAV"},"score":0,"creation_date":1693225969,"post_id":76992663,"comment_id":135728000,"body_markdown":"FileOutPutStream was throwing some access denied error","body":"FileOutPutStream was throwing some access denied error"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693227316,"post_id":76992663,"comment_id":135728315,"body_markdown":"Who put that file there on external storage? Also use file.exists() and file.canRead() before you try to copy the file.","body":"Who put that file there on external storage? Also use file.exists() and file.canRead() before you try to copy the file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693227410,"post_id":76992663,"comment_id":135728336,"body_markdown":"`&quot;data/data/project_pkg_name/databases/&quot;` That should be: &quot;/data/data/project_pkg_name/databases/&quot;","body":"<code>&quot;data&#47;data&#47;project_pkg_name&#47;databases&#47;&quot;</code> That should be: &quot;/data/data/project_pkg_name/databases/&quot;"}],"owner":{"account_id":5156128,"reputation":126,"user_id":4129322,"display_name":"PRIYANKA YADAV"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693235859,"creation_date":1693224592,"question_id":76992663,"body_markdown":"I would like to move my DB file which is stored in external storage to internal storage before/while doing app upgrade. Can anyone please suggest best approach to do so.\r\n\r\n\r\n    public static final String INTERNAL_DATABASE_FILE_PATH = &quot;data/data/project_pkg_name/databases/&quot;;\r\n        public static final String EXTERN_DATABASE_FILE_PATH = Environment.getExternalStorageDirectory().toString();\r\n    if (PermissionUtil.isExternalPermissionGranted()) {\r\n    try {\r\n               FileInputStream fis = new FileInputStream(getExternalDbPath());\r\n\r\n               String directoryName = &quot;/databases&quot;; // Replace with your directory name\r\n               File directory = new File(context.getFilesDir().getParentFile(), directoryName);\r\n\r\n               if (!directory.exists()) {\r\n                    directory.mkdirs()\r\n               }\r\n               File fileOut = new File(INTERNAL_DATABASE_FILE_PATH, DATABASE_NAME);\r\n               if(!fileOut.exists()) {\r\n                   fileOut.createNewFile();\r\n               }\r\n               FileOutputStream fos = new FileOutputStream(fileOut, false);\r\n               fos.getChannel().transferFrom(fis.getChannel(), 0, fis.getChannel().size());\r\n               // or fis.getChannel().transferTo(0, fis.getChannel().size(), fos.getChannel());\r\n               fis.close();\r\n               fos.close();\r\n           }catch (Exception e){\r\n               Log.d(&quot;Error&quot;,e.getMessage());\r\n           }\r\n        }\r\nI m trying above code but here createFile throws No such file or directory error. I already have following permissions\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_*&quot;/&gt;\r\n\r\n\r\n","title":"Best way to move DB file from external storage to internal","body":"<p>I would like to move my DB file which is stored in external storage to internal storage before/while doing app upgrade. Can anyone please suggest best approach to do so.</p>\n<pre><code>public static final String INTERNAL_DATABASE_FILE_PATH = &quot;data/data/project_pkg_name/databases/&quot;;\n    public static final String EXTERN_DATABASE_FILE_PATH = Environment.getExternalStorageDirectory().toString();\nif (PermissionUtil.isExternalPermissionGranted()) {\ntry {\n           FileInputStream fis = new FileInputStream(getExternalDbPath());\n\n           String directoryName = &quot;/databases&quot;; // Replace with your directory name\n           File directory = new File(context.getFilesDir().getParentFile(), directoryName);\n\n           if (!directory.exists()) {\n                directory.mkdirs()\n           }\n           File fileOut = new File(INTERNAL_DATABASE_FILE_PATH, DATABASE_NAME);\n           if(!fileOut.exists()) {\n               fileOut.createNewFile();\n           }\n           FileOutputStream fos = new FileOutputStream(fileOut, false);\n           fos.getChannel().transferFrom(fis.getChannel(), 0, fis.getChannel().size());\n           // or fis.getChannel().transferTo(0, fis.getChannel().size(), fos.getChannel());\n           fis.close();\n           fos.close();\n       }catch (Exception e){\n           Log.d(&quot;Error&quot;,e.getMessage());\n       }\n    }\n</code></pre>\n<p>I m trying above code but here createFile throws No such file or directory error. I already have following permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_*&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","nullable"],"answers":[{"comments":[{"owner":{"account_id":3705623,"reputation":199,"user_id":3258911,"accept_rate":50,"display_name":"user3258911"},"score":0,"creation_date":1652868142,"post_id":72286694,"comment_id":127708776,"body_markdown":"I take it the\n&quot;// !!!!!!!!!!!!&quot; is there because of how counterinvtuitive it is to have the method Nullable but not the class?","body":"I take it the &quot;// !!!!!!!!!!!!&quot; is there because of how counterinvtuitive it is to have the method Nullable but not the class?"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1652869201,"post_id":72286694,"comment_id":127709227,"body_markdown":"No that&#39;s just my comment to mark a particular line of interest =)","body":"No that&#39;s just my comment to mark a particular line of interest =)"},{"owner":{"account_id":12924182,"reputation":849,"user_id":9345535,"display_name":"Pravind Kumar"},"score":2,"creation_date":1677169925,"post_id":72286694,"comment_id":133289113,"body_markdown":"To fix this I added the package-info.java and added annotations NonNullFields\nNonNullApi and it works for me. thanks.","body":"To fix this I added the package-info.java and added annotations NonNullFields NonNullApi and it works for me. thanks."}],"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1693156359,"creation_date":1652866717,"answer_id":72286694,"question_id":72285740,"body_markdown":"From [Spring Official Docs][1]: \r\n\r\n&gt; A common Spring annotation to declare **that parameters and return values are to be considered as non-nullable** by default for a given package.\r\n\r\nHere&#39;s the `org/springframework/core/convert/converter/package-info.java`:\r\n\r\n```java\r\n/**\r\n * SPI to implement Converters for the type conversion system.\r\n */\r\n@NonNullApi       // !!!!!!!!!!!!\r\n@NonNullFields\r\npackage org.springframework.core.convert.converter;\r\n```\r\n\r\n`@NonNullApi` can be overridden at the method level with the `@Nullable` annotation to prevent the warning for a method that might return null, and that&#39;s what you see in `org.springframework.core.convert.converter.Converter`:\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface Converter&lt;S, T&gt; {\r\n\r\n\t/**\r\n\t * Convert the source object of type {@code S} to target type {@code T}.\r\n\t * @param source the source object to convert, which must be an instance of {@code S} (never {@code null})\r\n\t * @return the converted object, which must be an instance of {@code T} (potentially {@code null})\r\n\t * @throws IllegalArgumentException if the source cannot be converted to the desired target type\r\n\t */\r\n\t@Nullable            // !!!!!!!!!!\r\n\tT convert(S source);\r\n```\r\n\r\nOn your overridden method, you don&#39;t specify the `@Nullable` annotation and thus the warning.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/lang/NonNullApi.html","title":"Not annotated parameter overrides @NonNullApi parameter","body":"<p>From <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/lang/NonNullApi.html\" rel=\"nofollow noreferrer\">Spring Official Docs</a>:</p>\n<blockquote>\n<p>A common Spring annotation to declare <strong>that parameters and return values are to be considered as non-nullable</strong> by default for a given package.</p>\n</blockquote>\n<p>Here's the <code>org/springframework/core/convert/converter/package-info.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * SPI to implement Converters for the type conversion system.\n */\n@NonNullApi       // !!!!!!!!!!!!\n@NonNullFields\npackage org.springframework.core.convert.converter;\n</code></pre>\n<p><code>@NonNullApi</code> can be overridden at the method level with the <code>@Nullable</code> annotation to prevent the warning for a method that might return null, and that's what you see in <code>org.springframework.core.convert.converter.Converter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface Converter&lt;S, T&gt; {\n\n    /**\n     * Convert the source object of type {@code S} to target type {@code T}.\n     * @param source the source object to convert, which must be an instance of {@code S} (never {@code null})\n     * @return the converted object, which must be an instance of {@code T} (potentially {@code null})\n     * @throws IllegalArgumentException if the source cannot be converted to the desired target type\n     */\n    @Nullable            // !!!!!!!!!!\n    T convert(S source);\n</code></pre>\n<p>On your overridden method, you don't specify the <code>@Nullable</code> annotation and thus the warning.</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693235504,"creation_date":1693235504,"answer_id":76994046,"question_id":72285740,"body_markdown":"Fixed this warning by adding a [`package-info.java`][1] in the same package where the class file is present:\r\n\r\n```java\r\n@NonNullApi\r\npackage com.my.demo;\r\n\r\nimport org.springframework.lang.NonNullApi;\r\n\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-package-info","title":"Not annotated parameter overrides @NonNullApi parameter","body":"<p>Fixed this warning by adding a <a href=\"https://www.baeldung.com/java-package-info\" rel=\"nofollow noreferrer\"><code>package-info.java</code></a> in the same package where the class file is present:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NonNullApi\npackage com.my.demo;\n\nimport org.springframework.lang.NonNullApi;\n\n</code></pre>\n"}],"owner":{"account_id":3705623,"reputation":199,"user_id":3258911,"accept_rate":50,"display_name":"user3258911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8014,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72286694,"answer_count":2,"score":7,"last_activity_date":1693235504,"creation_date":1652862781,"question_id":72285740,"body_markdown":"I&#39;ve been looking around other questions and I still don&#39;t understand what&#39;s going on here.\r\nI have this class:\r\n\r\n    package com.test.service.database.converter;\r\n    \r\n    import com.test.service.database.dao.DocumentType;\r\n    import org.springframework.core.convert.converter.Converter;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    @Component\r\n    public class DocumentStringConverter implements Converter&lt;DocumentType, String&gt; {\r\n    \r\n        @Override\r\n        public String convert(DocumentType documentType) {\r\n            return Optional.ofNullable(documentType).map(DocumentType::type).orElse(null);\r\n        }\r\n    }\r\n\r\nWhich implements this Spring interface:\r\n\r\n    package org.springframework.core.convert.converter;\r\n    \r\n    import org.springframework.lang.Nullable;\r\n    import org.springframework.util.Assert;\r\n    \r\n    @FunctionalInterface\r\n    public interface Converter&lt;S, T&gt; {\r\n    \r\n    \t@Nullable\r\n    \tT convert(S source);\r\n    \r\n    \tdefault &lt;U&gt; Converter&lt;S, U&gt; andThen(Converter&lt;? super T, ? extends U&gt; after) {\r\n    \t\tAssert.notNull(after, &quot;After Converter must not be null&quot;);\r\n    \t\treturn (S s) -&gt; {\r\n    \t\t\tT initialResult = convert(s);\r\n    \t\t\treturn (initialResult != null ? after.convert(initialResult) : null);\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nAnd IntelliJ gives a warning on the param in\r\n\r\n    public String convert(DocumentType documentType) {\r\n\r\nthat states\r\n\r\n&gt; Not annotated parameter overrides @NonNullApi parameter\r\n\r\n&gt; documentType  the source object to convert, which must be an instance of S (never null)\r\n\r\nWhy is this? What does it mean, since Converter is annotated with ```@Nullable```? And how do I solve this warning?","title":"Not annotated parameter overrides @NonNullApi parameter","body":"<p>I've been looking around other questions and I still don't understand what's going on here.\nI have this class:</p>\n<pre><code>package com.test.service.database.converter;\n\nimport com.test.service.database.dao.DocumentType;\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Optional;\n\n@Component\npublic class DocumentStringConverter implements Converter&lt;DocumentType, String&gt; {\n\n    @Override\n    public String convert(DocumentType documentType) {\n        return Optional.ofNullable(documentType).map(DocumentType::type).orElse(null);\n    }\n}\n</code></pre>\n<p>Which implements this Spring interface:</p>\n<pre><code>package org.springframework.core.convert.converter;\n\nimport org.springframework.lang.Nullable;\nimport org.springframework.util.Assert;\n\n@FunctionalInterface\npublic interface Converter&lt;S, T&gt; {\n\n    @Nullable\n    T convert(S source);\n\n    default &lt;U&gt; Converter&lt;S, U&gt; andThen(Converter&lt;? super T, ? extends U&gt; after) {\n        Assert.notNull(after, &quot;After Converter must not be null&quot;);\n        return (S s) -&gt; {\n            T initialResult = convert(s);\n            return (initialResult != null ? after.convert(initialResult) : null);\n        };\n    }\n}\n</code></pre>\n<p>And IntelliJ gives a warning on the param in</p>\n<pre><code>public String convert(DocumentType documentType) {\n</code></pre>\n<p>that states</p>\n<blockquote>\n<p>Not annotated parameter overrides @NonNullApi parameter</p>\n</blockquote>\n<blockquote>\n<p>documentType  the source object to convert, which must be an instance of S (never null)</p>\n</blockquote>\n<p>Why is this? What does it mean, since Converter is annotated with <code>@Nullable</code>? And how do I solve this warning?</p>\n"},{"tags":["java","maven","jboss"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1692380810,"post_id":76931372,"comment_id":135620135,"body_markdown":"What logging framework are you using? What has Maven to do with Java properties or logging?","body":"What logging framework are you using? What has Maven to do with Java properties or logging?"},{"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"score":0,"creation_date":1692603075,"post_id":76931372,"comment_id":135640458,"body_markdown":"As per my additional editing to the post: I&#39;m using the default JBoss LogManager.I was guessing that defining a global param via Maven was enough to be caught by the logging framework, similarly to passing a sys param directly via command line","body":"As per my additional editing to the post: I&#39;m using the default JBoss LogManager.I was guessing that defining a global param via Maven was enough to be caught by the logging framework, similarly to passing a sys param directly via command line"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1692623911,"post_id":76931372,"comment_id":135644788,"body_markdown":"Maven properties don&#39;t exist at runtime.","body":"Maven properties don&#39;t exist at runtime."},{"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"score":0,"creation_date":1693208782,"post_id":76931372,"comment_id":135724783,"body_markdown":"Yes, you are right, so I&#39;m now trying to replace the default LogManager with logback so that I can use the Maven property to replace a placeholder in the logback.xml at build time and that would be available f6or the runtime. The issue is now with the logback dependency that my module is not picking up correctly, but I see several such cases on SO.","body":"Yes, you are right, so I&#39;m now trying to replace the default LogManager with logback so that I can use the Maven property to replace a placeholder in the logback.xml at build time and that would be available f6or the runtime. The issue is now with the logback dependency that my module is not picking up correctly, but I see several such cases on SO."}],"answers":[{"comments":[{"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"score":0,"creation_date":1692603194,"post_id":76936177,"comment_id":135640484,"body_markdown":"Unfortunately this format doesn&#39;t seem to be interpreted as it is logged directly as string, please see my additional details to the original post, thanks.","body":"Unfortunately this format doesn&#39;t seem to be interpreted as it is logged directly as string, please see my additional details to the original post, thanks."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1692648911,"post_id":76936177,"comment_id":135649877,"body_markdown":"Using `#{TEST}` should work. That should get the system property named `TEST`. Using `%X{TEST}` does a `MDC.get(&quot;TEST&quot;)` which is not a system property.","body":"Using <code>#{TEST}</code> should work. That should get the system property named <code>TEST</code>. Using <code>%X{TEST}</code> does a <code>MDC.get(&quot;TEST&quot;)</code> which is not a system property."},{"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"score":0,"creation_date":1693208460,"post_id":76936177,"comment_id":135724730,"body_markdown":"I don&#39;t know... with no other changes than passing a property via command line through -D and adding something like myprop=#{TEST} in the standalone.xml under &lt;subsystem xmlns=&quot;urn:jboss:domain:logging:8.0&quot;&gt;&lt;formatter...&gt; the logs are printing directly the string &quot;myprop=#{TEST}&quot;","body":"I don&#39;t know... with no other changes than passing a property via command line through -D and adding something like myprop=#{TEST} in the standalone.xml under &lt;subsystem xmlns=&quot;urn:jboss:domain:logging:8.0&quot;&gt;&lt;formatter...&gt; the logs are printing directly the string &quot;myprop=#{TEST}&quot;"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1693235384,"post_id":76936177,"comment_id":135730280,"body_markdown":"Sorry, I made a typo. I&#39;ll fix the answer. It should be `%#{TEST}`. I&#39;m sorry about that.","body":"Sorry, I made a typo. I&#39;ll fix the answer. It should be <code>%#{TEST}</code>. I&#39;m sorry about that."},{"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"score":0,"creation_date":1693812683,"post_id":76936177,"comment_id":135804763,"body_markdown":"Logging system properties with the syntax you provided works fine, thanks.","body":"Logging system properties with the syntax you provided works fine, thanks."}],"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693235403,"creation_date":1692463758,"answer_id":76936177,"question_id":76931372,"body_markdown":"MDC is not set through system properties. To include a system property in your log pattern you need to use `%#{TEST}`. ","title":"JBoss 7 not logging Maven property","body":"<p>MDC is not set through system properties. To include a system property in your log pattern you need to use <code>%#{TEST}</code>.</p>\n"}],"owner":{"account_id":236079,"reputation":327,"user_id":503333,"display_name":"voccoeisuoi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76936177,"answer_count":1,"score":0,"last_activity_date":1693235403,"creation_date":1692378946,"question_id":76931372,"body_markdown":"I have a Maven based WAR module.\r\nIn the main pom I&#39;ve defined a custom property as follows:\r\n\r\n    &lt;properties&gt;\r\n        &lt;prop&gt;TEST&lt;/prop&gt;\r\n    &lt;/properties&gt;\r\n\r\nI&#39;m running a local instance of JBoss 7.3 with the following command:\r\n\r\n```./bin/standalone.sh -Djboss.server.default.config=standalone_TEST.xml -Dprop=CLI_TEST```\r\n\r\nAnd in the standalone_TEST.xml a logging pattern is thus defined:\r\n\r\n```&lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p (%X{prop}) [%c] (%t) %s%e%n&quot;/&gt;```\r\n\r\nUnfortunately ```prop``` doesn&#39;t seem to be populated as the logs always look similar to this:\r\n\r\n`19:09:57,872 INFO  () [com.test.lib.TestController] (default task-1) Logging some details`\r\n\r\nI tried setting the custom property via code through MDC.put() and it worked fine, so it looks like the logging framework is not picking up neither the Maven property nor the command line property.\r\n\r\nAny idea what could be the issue?\r\n\r\n--- Editing\r\n\r\nThe logging system used is the default JBoss **LogManager**, no other logging subsystems were defined.\r\n\r\nI&#39;m wondering now whether what I&#39;m trying to do is even possible. Even ignoring for the time being the use case with the Maven property, I would have guessed that passing the system property via command line should have worked, but still nothing gets logged.","title":"JBoss 7 not logging Maven property","body":"<p>I have a Maven based WAR module.\nIn the main pom I've defined a custom property as follows:</p>\n<pre><code>&lt;properties&gt;\n    &lt;prop&gt;TEST&lt;/prop&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>I'm running a local instance of JBoss 7.3 with the following command:</p>\n<p><code>./bin/standalone.sh -Djboss.server.default.config=standalone_TEST.xml -Dprop=CLI_TEST</code></p>\n<p>And in the standalone_TEST.xml a logging pattern is thus defined:</p>\n<p><code>&lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p (%X{prop}) [%c] (%t) %s%e%n&quot;/&gt;</code></p>\n<p>Unfortunately <code>prop</code> doesn't seem to be populated as the logs always look similar to this:</p>\n<p><code>19:09:57,872 INFO  () [com.test.lib.TestController] (default task-1) Logging some details</code></p>\n<p>I tried setting the custom property via code through MDC.put() and it worked fine, so it looks like the logging framework is not picking up neither the Maven property nor the command line property.</p>\n<p>Any idea what could be the issue?</p>\n<p>--- Editing</p>\n<p>The logging system used is the default JBoss <strong>LogManager</strong>, no other logging subsystems were defined.</p>\n<p>I'm wondering now whether what I'm trying to do is even possible. Even ignoring for the time being the use case with the Maven property, I would have guessed that passing the system property via command line should have worked, but still nothing gets logged.</p>\n"},{"tags":["java","spring-boot","jackson","deserialization","jackson2"],"answers":[{"tags":[],"owner":{"account_id":2273639,"reputation":1992,"user_id":2000468,"accept_rate":80,"display_name":"Xin Meng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506014497,"creation_date":1499096690,"answer_id":44889618,"question_id":44854799,"body_markdown":"You have two methods to ignore the property when deserialization\r\n\r\n1. use READ_ONLY\r\n\r\njust add an annotation to the property you don&#39;t want deserialize\r\n\r\n    @JsonProperty(access = Access.READ_ONLY)\r\n    private String readOnly;\r\n\r\n2. use @JsonIgnore and @JsonProperty\r\n\r\nthis method should be careful, you should put the @JsonIgnore before the setter, and put the @JsonProperty before the getter. And for the property should clear without any annotation.\r\n\r\n    @JsonProperty\r\n    public String getJsonIgnoreSetter() {\r\n        return jsonIgnoreSetter;\r\n    }\r\n\r\n    @JsonIgnore\r\n    public void setJsonIgnoreSetter(String jsonIgnoreSetter) {\r\n        this.jsonIgnoreSetter = jsonIgnoreSetter;\r\n    }\r\n    \r\n    \r\nAt last, the full annotation example for @JsonIgnore, @JsonProperty, @JsonProperty(access = xxx).\r\n\r\nThe define of bean\r\n\r\n    public class MockBean{\r\n    \r\n        public MockBean() {\r\n            super(MockBean.class);\r\n        }\r\n    \r\n        public MockBean(String attr1, String ignore, String jsonIgnore, String jsonIgnoreGetter,\r\n                String jsonIgnoreSetter, String jsonIgnoreProperties, String jsonIgnorePropertiesSetter,\r\n                String jsonIgnorePropertiesGetter, String readOnly, String writeOnly) {\r\n            super(MockBean.class);\r\n            this.attr1 = attr1;\r\n            this.ignore = ignore;\r\n            this.jsonIgnore = jsonIgnore;\r\n            this.jsonIgnoreGetter = jsonIgnoreGetter;\r\n            this.jsonIgnoreSetter = jsonIgnoreSetter;\r\n            this.jsonIgnoreProperties = jsonIgnoreProperties;\r\n            this.jsonIgnorePropertiesSetter = jsonIgnorePropertiesSetter;\r\n            this.jsonIgnorePropertiesGetter = jsonIgnorePropertiesGetter;\r\n            this.readOnly = readOnly;\r\n            this.writeOnly = writeOnly;\r\n        }\r\n    \r\n        public String getAttr1() {\r\n            return attr1;\r\n        }\r\n    \r\n        public void setAttr1(String name) {\r\n            this.attr1 = name;\r\n        }\r\n    \r\n        public String getIgnore() {\r\n            return ignore;\r\n        }\r\n    \r\n        public void setIgnore(String ignore) {\r\n            this.ignore = ignore;\r\n        }\r\n    \r\n        public String getJsonIgnore() {\r\n            return jsonIgnore;\r\n        }\r\n    \r\n        public void setJsonIgnore(String jsonIgnore) {\r\n            this.jsonIgnore = jsonIgnore;\r\n        }\r\n    \r\n        @JsonIgnore\r\n        public String getJsonIgnoreGetter() {\r\n            return jsonIgnoreGetter;\r\n        }\r\n    \r\n        @JsonProperty\r\n        public void setJsonIgnoreGetter(String jsonIgnoreGetter) {\r\n            this.jsonIgnoreGetter = jsonIgnoreGetter;\r\n        }\r\n    \r\n        @JsonProperty\r\n        public String getJsonIgnoreSetter() {\r\n            return jsonIgnoreSetter;\r\n        }\r\n    \r\n        @JsonIgnore\r\n        public void setJsonIgnoreSetter(String jsonIgnoreSetter) {\r\n            this.jsonIgnoreSetter = jsonIgnoreSetter;\r\n        }\r\n    \r\n        public String getJsonIgnoreProperties() {\r\n            return jsonIgnoreProperties;\r\n        }\r\n    \r\n        public void setJsonIgnoreProperties(String jsonIgnoreProperties) {\r\n            this.jsonIgnoreProperties = jsonIgnoreProperties;\r\n        }\r\n    \r\n        public String getJsonIgnorePropertiesSetter() {\r\n            return jsonIgnorePropertiesSetter;\r\n        }\r\n    \r\n        @JsonIgnoreProperties\r\n        public void setJsonIgnorePropertiesSetter(String jsonIgnorePropertiesSetter) {\r\n            this.jsonIgnorePropertiesSetter = jsonIgnorePropertiesSetter;\r\n        }\r\n    \r\n        @JsonIgnoreProperties\r\n        public String getJsonIgnorePropertiesGetter() {\r\n            return jsonIgnorePropertiesGetter;\r\n        }\r\n    \r\n        public void setJsonIgnorePropertiesGetter(String jsonIgnorePropertiesGetter) {\r\n            this.jsonIgnorePropertiesGetter = jsonIgnorePropertiesGetter;\r\n        }\r\n    \r\n        public String getReadOnly() {\r\n            return readOnly;\r\n        }\r\n    \r\n        public void setReadOnly(String readOnly) {\r\n            this.readOnly = readOnly;\r\n        }\r\n    \r\n        public String getWriteOnly() {\r\n            return writeOnly;\r\n        }\r\n    \r\n        public void setWriteOnly(String writeOnly) {\r\n            this.writeOnly = writeOnly;\r\n        }\r\n    \r\n        private String attr1;\r\n        @Ignore\r\n        private String ignore;\r\n        @JsonIgnore\r\n        private String jsonIgnore;\r\n        @JsonIgnore\r\n        private String jsonIgnoreGetter;\r\n        @JsonIgnore\r\n        private String jsonIgnoreSetter;\r\n        @JsonIgnoreProperties\r\n        private String jsonIgnoreProperties;\r\n        private String jsonIgnorePropertiesSetter;\r\n        private String jsonIgnorePropertiesGetter;\r\n        @JsonProperty(access = Access.READ_ONLY)\r\n        private String readOnly;\r\n        @JsonProperty(access = Access.WRITE_ONLY)\r\n        private String writeOnly;\r\n    }\r\n\r\nTest JSON\r\n\r\n    {\r\n      &quot;name&quot;: &quot;name&quot;,\r\n      &quot;description&quot;: &quot;description&quot;,\r\n      &quot;attr1&quot;:&quot;attr1&quot;,\r\n      &quot;ignore&quot;: &quot;ignore&quot;,\r\n      &quot;jsonIgnore&quot;: &quot;jsonIgnore&quot;,\r\n      &quot;jsonIgnoreGetter&quot;: &quot;jsonIgnoreGetter&quot;,\r\n      &quot;jsonIgnoreSetter&quot;: &quot;jsonIgnoreSetter&quot;,\r\n      &quot;jsonIgnoreProperties&quot;: &quot;jsonIgnoreProperties&quot;,\r\n      &quot;jsonIgnorePropertiesSetter&quot;: &quot;jsonIgnorePropertiesSetter&quot;,\r\n      &quot;jsonIgnorePropertiesGetter&quot;: &quot;jsonIgnorePropertiesGetter&quot;,\r\n      &quot;readOnly&quot;: &quot;readOnly&quot;,\r\n      &quot;writeOnly&quot;: &quot;writeOnly&quot;\r\n    }\r\n\r\n\r\nThe result of deserialization: if the value is null, the value is not be deserialized.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sQVns.png","title":"InvalidDefinitionException while using JsonCreator with JsonProperty.Access.READ_ONLY","body":"<p>You have two methods to ignore the property when deserialization</p>\n\n<ol>\n<li>use READ_ONLY</li>\n</ol>\n\n<p>just add an annotation to the property you don't want deserialize</p>\n\n<pre><code>@JsonProperty(access = Access.READ_ONLY)\nprivate String readOnly;\n</code></pre>\n\n<ol start=\"2\">\n<li>use @JsonIgnore and @JsonProperty</li>\n</ol>\n\n<p>this method should be careful, you should put the @JsonIgnore before the setter, and put the @JsonProperty before the getter. And for the property should clear without any annotation.</p>\n\n<pre><code>@JsonProperty\npublic String getJsonIgnoreSetter() {\n    return jsonIgnoreSetter;\n}\n\n@JsonIgnore\npublic void setJsonIgnoreSetter(String jsonIgnoreSetter) {\n    this.jsonIgnoreSetter = jsonIgnoreSetter;\n}\n</code></pre>\n\n<p>At last, the full annotation example for @JsonIgnore, @JsonProperty, @JsonProperty(access = xxx).</p>\n\n<p>The define of bean</p>\n\n<pre><code>public class MockBean{\n\n    public MockBean() {\n        super(MockBean.class);\n    }\n\n    public MockBean(String attr1, String ignore, String jsonIgnore, String jsonIgnoreGetter,\n            String jsonIgnoreSetter, String jsonIgnoreProperties, String jsonIgnorePropertiesSetter,\n            String jsonIgnorePropertiesGetter, String readOnly, String writeOnly) {\n        super(MockBean.class);\n        this.attr1 = attr1;\n        this.ignore = ignore;\n        this.jsonIgnore = jsonIgnore;\n        this.jsonIgnoreGetter = jsonIgnoreGetter;\n        this.jsonIgnoreSetter = jsonIgnoreSetter;\n        this.jsonIgnoreProperties = jsonIgnoreProperties;\n        this.jsonIgnorePropertiesSetter = jsonIgnorePropertiesSetter;\n        this.jsonIgnorePropertiesGetter = jsonIgnorePropertiesGetter;\n        this.readOnly = readOnly;\n        this.writeOnly = writeOnly;\n    }\n\n    public String getAttr1() {\n        return attr1;\n    }\n\n    public void setAttr1(String name) {\n        this.attr1 = name;\n    }\n\n    public String getIgnore() {\n        return ignore;\n    }\n\n    public void setIgnore(String ignore) {\n        this.ignore = ignore;\n    }\n\n    public String getJsonIgnore() {\n        return jsonIgnore;\n    }\n\n    public void setJsonIgnore(String jsonIgnore) {\n        this.jsonIgnore = jsonIgnore;\n    }\n\n    @JsonIgnore\n    public String getJsonIgnoreGetter() {\n        return jsonIgnoreGetter;\n    }\n\n    @JsonProperty\n    public void setJsonIgnoreGetter(String jsonIgnoreGetter) {\n        this.jsonIgnoreGetter = jsonIgnoreGetter;\n    }\n\n    @JsonProperty\n    public String getJsonIgnoreSetter() {\n        return jsonIgnoreSetter;\n    }\n\n    @JsonIgnore\n    public void setJsonIgnoreSetter(String jsonIgnoreSetter) {\n        this.jsonIgnoreSetter = jsonIgnoreSetter;\n    }\n\n    public String getJsonIgnoreProperties() {\n        return jsonIgnoreProperties;\n    }\n\n    public void setJsonIgnoreProperties(String jsonIgnoreProperties) {\n        this.jsonIgnoreProperties = jsonIgnoreProperties;\n    }\n\n    public String getJsonIgnorePropertiesSetter() {\n        return jsonIgnorePropertiesSetter;\n    }\n\n    @JsonIgnoreProperties\n    public void setJsonIgnorePropertiesSetter(String jsonIgnorePropertiesSetter) {\n        this.jsonIgnorePropertiesSetter = jsonIgnorePropertiesSetter;\n    }\n\n    @JsonIgnoreProperties\n    public String getJsonIgnorePropertiesGetter() {\n        return jsonIgnorePropertiesGetter;\n    }\n\n    public void setJsonIgnorePropertiesGetter(String jsonIgnorePropertiesGetter) {\n        this.jsonIgnorePropertiesGetter = jsonIgnorePropertiesGetter;\n    }\n\n    public String getReadOnly() {\n        return readOnly;\n    }\n\n    public void setReadOnly(String readOnly) {\n        this.readOnly = readOnly;\n    }\n\n    public String getWriteOnly() {\n        return writeOnly;\n    }\n\n    public void setWriteOnly(String writeOnly) {\n        this.writeOnly = writeOnly;\n    }\n\n    private String attr1;\n    @Ignore\n    private String ignore;\n    @JsonIgnore\n    private String jsonIgnore;\n    @JsonIgnore\n    private String jsonIgnoreGetter;\n    @JsonIgnore\n    private String jsonIgnoreSetter;\n    @JsonIgnoreProperties\n    private String jsonIgnoreProperties;\n    private String jsonIgnorePropertiesSetter;\n    private String jsonIgnorePropertiesGetter;\n    @JsonProperty(access = Access.READ_ONLY)\n    private String readOnly;\n    @JsonProperty(access = Access.WRITE_ONLY)\n    private String writeOnly;\n}\n</code></pre>\n\n<p>Test JSON</p>\n\n<pre><code>{\n  \"name\": \"name\",\n  \"description\": \"description\",\n  \"attr1\":\"attr1\",\n  \"ignore\": \"ignore\",\n  \"jsonIgnore\": \"jsonIgnore\",\n  \"jsonIgnoreGetter\": \"jsonIgnoreGetter\",\n  \"jsonIgnoreSetter\": \"jsonIgnoreSetter\",\n  \"jsonIgnoreProperties\": \"jsonIgnoreProperties\",\n  \"jsonIgnorePropertiesSetter\": \"jsonIgnorePropertiesSetter\",\n  \"jsonIgnorePropertiesGetter\": \"jsonIgnorePropertiesGetter\",\n  \"readOnly\": \"readOnly\",\n  \"writeOnly\": \"writeOnly\"\n}\n</code></pre>\n\n<p>The result of deserialization: if the value is null, the value is not be deserialized.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sQVns.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQVns.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":193906,"reputation":4673,"user_id":435912,"accept_rate":78,"display_name":"Sri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693235025,"creation_date":1498856659,"question_id":44854799,"body_markdown":"I&#39;m getting **InvalidDefinitionException** when trying to use `@JsonCreator` along with `@JsonProperty(value = &quot;version&quot;, access = JsonProperty.Access.READ_ONLY) `\r\n\r\nThis is how my class look like:\r\n\r\n    @Entity\r\n    public class Example1 implements Serializable {\r\n      \r\n      private String field1;\r\n      private int field2;\r\n      private Example2 field3;\r\n      \r\n      public Example1(@JsonProperty(value = &quot;field_1&quot;, access = JsonProperty.Access.READ_WRITE) String field1,\r\n      @JsonProperty(value = &quot;field_2&quot;, access = JsonProperty.Access.READ_ONLY) int field2,\r\n      @JsonProperty(value = &quot;field_3_1&quot;, access = JsonProperty.Access.READ_WRITE) String field31,\r\n      @JsonProperty(value = &quot;field_3_2&quot;, access = JsonProperty.Access.READ_WRITE) int field32\r\n      ) {\r\n        this.field1 = field1;\r\n        this.field2 = field2;\r\n        this.field3 = new Example2(field31, field32);\r\n      }\r\n      \r\n      // getters and setters omitted\r\n    }\r\n\r\nIt&#39;s throwing the following exception :\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Argument #1 of constructor [constructor for com.test.example.model.Example1, annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\r\n     at [Source: (File); line: 1, column: 1]\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:249) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:165) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:411) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:349) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:477) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4145) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3995) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2878) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\r\n\r\n \r\nMy Environment details:\r\nI&#39;m using `Spring Boot 2.0.0.M2` version and `Jackson 2.9.0.pr3`.\r\n\r\n\r\nMy intention is to **omit** the **field2** during **deserialization**.\r\n\r\nI tried to use `@JsonIgnore` in the setter method of **field2** as an alternative. Even, it didn&#39;t work with `@JsonCreator`.\r\n\r\n\r\n","title":"InvalidDefinitionException while using JsonCreator with JsonProperty.Access.READ_ONLY","body":"<p>I'm getting <strong>InvalidDefinitionException</strong> when trying to use <code>@JsonCreator</code> along with <code>@JsonProperty(value = \"version\", access = JsonProperty.Access.READ_ONLY)</code></p>\n\n<p>This is how my class look like:</p>\n\n<pre><code>@Entity\npublic class Example1 implements Serializable {\n\n  private String field1;\n  private int field2;\n  private Example2 field3;\n\n  public Example1(@JsonProperty(value = \"field_1\", access = JsonProperty.Access.READ_WRITE) String field1,\n  @JsonProperty(value = \"field_2\", access = JsonProperty.Access.READ_ONLY) int field2,\n  @JsonProperty(value = \"field_3_1\", access = JsonProperty.Access.READ_WRITE) String field31,\n  @JsonProperty(value = \"field_3_2\", access = JsonProperty.Access.READ_WRITE) int field32\n  ) {\n    this.field1 = field1;\n    this.field2 = field2;\n    this.field3 = new Example2(field31, field32);\n  }\n\n  // getters and setters omitted\n}\n</code></pre>\n\n<p>It's throwing the following exception :</p>\n\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Argument #1 of constructor [constructor for com.test.example.model.Example1, annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\n at [Source: (File); line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:249) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:165) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:411) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:349) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:477) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4145) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3995) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2878) ~[jackson-databind-2.9.0.pr3.jar:2.9.0.pr3]\n</code></pre>\n\n<p>My Environment details:\nI'm using <code>Spring Boot 2.0.0.M2</code> version and <code>Jackson 2.9.0.pr3</code>.</p>\n\n<p>My intention is to <strong>omit</strong> the <strong>field2</strong> during <strong>deserialization</strong>.</p>\n\n<p>I tried to use <code>@JsonIgnore</code> in the setter method of <strong>field2</strong> as an alternative. Even, it didn't work with <code>@JsonCreator</code>.</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":1,"creation_date":1566029397,"post_id":57534450,"comment_id":101534078,"body_markdown":"I think this plugin is not available in maven central.","body":"I think this plugin is not available in maven central."},{"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"score":0,"creation_date":1566246492,"post_id":57534450,"comment_id":101588714,"body_markdown":"Are you sure that your JAVA_HOME is on your PATH?","body":"Are you sure that your JAVA_HOME is on your PATH?"},{"owner":{"account_id":2087360,"reputation":1548,"user_id":1857998,"accept_rate":86,"display_name":"kolisko"},"score":0,"creation_date":1607621504,"post_id":57534450,"comment_id":115336650,"body_markdown":"Did you find the solution?","body":"Did you find the solution?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1658143668,"post_id":57534450,"comment_id":128969748,"body_markdown":"This question is for a more advanced version and contains more answers: https://stackoverflow.com/questions/60017092/plugin-id-org-springframework-boot-version-2-2-4-release-was-not-found. Also check plugin documentation: https://plugins.gradle.org/plugin/org.springframework.boot","body":"This question is for a more advanced version and contains more answers: <a href=\"https://stackoverflow.com/questions/60017092/plugin-id-org-springframework-boot-version-2-2-4-release-was-not-found\" title=\"plugin id org springframework boot version 2 2 4 release was not found\">stackoverflow.com/questions/60017092/&hellip;</a>. Also check plugin documentation: <a href=\"https://plugins.gradle.org/plugin/org.springframework.boot\" rel=\"nofollow noreferrer\">plugins.gradle.org/plugin/org.springframework.boot</a>"}],"answers":[{"comments":[{"owner":{"account_id":6710900,"reputation":1617,"user_id":5174385,"display_name":"Ankit Rai"},"score":2,"creation_date":1566030960,"post_id":57534482,"comment_id":101534395,"body_markdown":"I did the suggested changes. Still it&#39;s throwing the same error.","body":"I did the suggested changes. Still it&#39;s throwing the same error."},{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":0,"creation_date":1566033073,"post_id":57534482,"comment_id":101534813,"body_markdown":"Can you update the full `gradle.build` file content after modification to the post?","body":"Can you update the full <code>gradle.build</code> file content after modification to the post?"},{"owner":{"account_id":6710900,"reputation":1617,"user_id":5174385,"display_name":"Ankit Rai"},"score":0,"creation_date":1566048610,"post_id":57534482,"comment_id":101537954,"body_markdown":"Updated the build file.","body":"Updated the build file."},{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":0,"creation_date":1566049827,"post_id":57534482,"comment_id":101538224,"body_markdown":"Are you getting the exact same error message or a different message? You may include both `mavenCentral()` and the plugin one you have added. By the way, with `https://plugins.gradle.org/m2/` and your build file, my build is succeeding. Let me take a look again.","body":"Are you getting the exact same error message or a different message? You may include both <code>mavenCentral()</code> and the plugin one you have added. By the way, with <code>https:&#47;&#47;plugins.gradle.org&#47;m2&#47;</code> and your build file, my build is succeeding. Let me take a look again."},{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":0,"creation_date":1566050314,"post_id":57534482,"comment_id":101538333,"body_markdown":"Especially the message part `Searched in the following locations` is expected to be different when you do a clean build.","body":"Especially the message part <code>Searched in the following locations</code> is expected to be different when you do a clean build."}],"tags":[],"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"comment_count":5,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1566029493,"creation_date":1566029493,"answer_id":57534482,"question_id":57534450,"body_markdown":"Add the following repository. `org.springframework.boot:org.springframework.boot.gradle.plugin` not available in maven central:\r\n```\r\nrepositories {\r\n    maven {\r\n      url &quot;https://plugins.gradle.org/m2/&quot;\r\n    }\r\n  }\r\n```","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.1.7.RELEASE&#39;] was not found in any of the following sources","body":"<p>Add the following repository. <code>org.springframework.boot:org.springframework.boot.gradle.plugin</code> not available in maven central:</p>\n\n<pre><code>repositories {\n    maven {\n      url \"https://plugins.gradle.org/m2/\"\n    }\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24111,"reputation":1133,"user_id":61104,"accept_rate":85,"display_name":"Kevin"},"score":0,"creation_date":1658468213,"post_id":73022722,"comment_id":129062947,"body_markdown":"The link that you included uses version 2.7.2: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#getting-started:\n```plugins {\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.2&#39;\n}```. It doesn&#39;t seem non-existent.","body":"The link that you included uses version 2.7.2: <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#getting-started\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/gradle-plugin/refere&zwnj;&#8203;nce/&hellip;</a>: <code>plugins { \tid &#39;org.springframework.boot&#39; version &#39;2.7.2&#39; }</code>. It doesn&#39;t seem non-existent."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1658479458,"post_id":73022722,"comment_id":129066198,"body_markdown":"@Kevin It exists but one dependent package apparently has not been published (possibly until yesterday). It is being claimed it does now: https://stackoverflow.com/questions/73065110/missing-spring-boot-buildpack-platform/73065289#73065289","body":"@Kevin It exists but one dependent package apparently has not been published (possibly until yesterday). It is being claimed it does now: <a href=\"https://stackoverflow.com/questions/73065110/missing-spring-boot-buildpack-platform/73065289#73065289\" title=\"missing spring boot buildpack platform\">stackoverflow.com/questions/73065110/&hellip;</a>"}],"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658225488,"creation_date":1658149275,"answer_id":73022722,"question_id":57534450,"body_markdown":"It is available on [`gradlePluginPortal()`](https://plugins.gradle.org/plugin/org.springframework.boot) or [`mavenCentral()`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-gradle-plugin); both repositories provide it. The current version is [`2.7.1`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-gradle-plugin/2.7.1) and not [`2.1.7.RELEASE`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-gradle-plugin/2.1.7.RELEASE) or some imaginary non-existent version `2.7.2`.&lt;br/&gt;\r\nAs one can see, `2.1.7.RELEASE` has vulnerabilities from dependencies, so better use `2.7.1`.\r\n\r\nMake sure the `buildscript` block or the `settings.gradle` has plugin `repositories` defined.&lt;br/&gt;\r\nI mean, this one project `repositories` block there (with a plugin repository), is in fact useless.\r\n\r\nTo be precise; One has to define plugin `repositories`, either in the `buildscript` block:\r\n\r\n    buildscript {\r\n        // Gradle plugin repositories\r\n        repositories {\r\n            gradlePluginPortal()\r\n            mavenCentral()\r\n        }\r\n        // Gradle plugin dependencies\r\n        dependencies {}\r\n    }\r\n\r\nOr inside file `settings.gradle`:\r\n\r\n    import org.gradle.api.initialization.resolve.RepositoriesMode\r\n    \r\n    // Gradle plugin repositories\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    // Java project repositories\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\n ---\r\n\r\nOnly then the `plugins` block in a module will know about these `repositories`:\r\n\r\n    // Gradle plugin dependencies\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n\r\n    // Java project repositories\r\n    // not required when using settings.gradle\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    // Java project dependencies\r\n    dependencies {}\r\n\r\nAlso see the [Spring Boot Gradle Plugin Reference Guide](https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#getting-started).","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.1.7.RELEASE&#39;] was not found in any of the following sources","body":"<p>It is available on <a href=\"https://plugins.gradle.org/plugin/org.springframework.boot\" rel=\"nofollow noreferrer\"><code>gradlePluginPortal()</code></a> or <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-gradle-plugin\" rel=\"nofollow noreferrer\"><code>mavenCentral()</code></a>; both repositories provide it. The current version is <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-gradle-plugin/2.7.1\" rel=\"nofollow noreferrer\"><code>2.7.1</code></a> and not <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-gradle-plugin/2.1.7.RELEASE\" rel=\"nofollow noreferrer\"><code>2.1.7.RELEASE</code></a> or some imaginary non-existent version <code>2.7.2</code>.<br/>\nAs one can see, <code>2.1.7.RELEASE</code> has vulnerabilities from dependencies, so better use <code>2.7.1</code>.</p>\n<p>Make sure the <code>buildscript</code> block or the <code>settings.gradle</code> has plugin <code>repositories</code> defined.<br/>\nI mean, this one project <code>repositories</code> block there (with a plugin repository), is in fact useless.</p>\n<p>To be precise; One has to define plugin <code>repositories</code>, either in the <code>buildscript</code> block:</p>\n<pre><code>buildscript {\n    // Gradle plugin repositories\n    repositories {\n        gradlePluginPortal()\n        mavenCentral()\n    }\n    // Gradle plugin dependencies\n    dependencies {}\n}\n</code></pre>\n<p>Or inside file <code>settings.gradle</code>:</p>\n<pre><code>import org.gradle.api.initialization.resolve.RepositoriesMode\n\n// Gradle plugin repositories\npluginManagement {\n    repositories {\n        gradlePluginPortal()\n        mavenCentral()\n    }\n}\n\n// Java project repositories\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)\n    repositories {\n        mavenCentral()\n    }\n}\n</code></pre>\n<hr />\n<p>Only then the <code>plugins</code> block in a module will know about these <code>repositories</code>:</p>\n<pre><code>// Gradle plugin dependencies\nplugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id 'java'\n}\n\n// Java project repositories\n// not required when using settings.gradle\nrepositories {\n    mavenCentral()\n}\n\n// Java project dependencies\ndependencies {}\n</code></pre>\n<p>Also see the <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#getting-started\" rel=\"nofollow noreferrer\">Spring Boot Gradle Plugin Reference Guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":17029076,"reputation":298,"user_id":12319598,"display_name":"Jacek Sawko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658434780,"creation_date":1658434780,"answer_id":73072183,"question_id":57534450,"body_markdown":"Try setting this in `build.gradle`:\r\n\r\n```\r\nplugins {\r\n  id &#39;org.springframework.boot&#39; version &#39;2.7.2&#39;\r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n  id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n  testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n  useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nSpringBoot configuration errors can be easily solved by checking generated files -&gt; [here][1]\r\n\r\n\r\n  [1]: https://start.spring.io/","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.1.7.RELEASE&#39;] was not found in any of the following sources","body":"<p>Try setting this in <code>build.gradle</code>:</p>\n<pre><code>plugins {\n  id 'org.springframework.boot' version '2.7.2'\n  id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n  id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n  mavenCentral()\n}\n\ndependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  implementation 'org.springframework.boot:spring-boot-starter-webflux'\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n  useJUnitPlatform()\n}\n\n</code></pre>\n<p>SpringBoot configuration errors can be easily solved by checking generated files -&gt; <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8787889,"reputation":395,"user_id":6569071,"display_name":"Franklin&#39;j Gil&#39;z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693234654,"creation_date":1693234654,"answer_id":76993948,"question_id":57534450,"body_markdown":"I had this problem.\r\nI solve this problem in intellij disabling the gradle online mode.","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.1.7.RELEASE&#39;] was not found in any of the following sources","body":"<p>I had this problem.\nI solve this problem in intellij disabling the gradle online mode.</p>\n"}],"owner":{"account_id":6710900,"reputation":1617,"user_id":5174385,"display_name":"Ankit Rai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11395,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1693234654,"creation_date":1566029142,"question_id":57534450,"body_markdown":"I have recently started with gradle and trying to run a spring boot application with gradle in my mac machine.\r\n\r\nWhen I am trying to do local build, I am getting below error:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5HARY.png\r\n\r\nMy build.gradle is the default which gets downloaded from spring initializr with few dependencies.\r\n\r\n    plugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.1.7.RELEASE&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.7.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n    }\r\n\r\n    group = &#39;com.ank&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n\r\n    repositories {\r\n\t maven {\r\n\t\turl &quot;https://plugins.gradle.org/m2/&quot;\r\n\t }\r\n    }\r\n\r\n    dependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n    }\r\n\r\nMy JAVA_HOME is at path: `/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home`\r\n\r\nI have tried building the same in Intellij, Eclipse and in terminal by `gradle --stacktrace`. It fails everywhere with the same error.\r\n\r\nMy gradle version is 5.6.\r\n\r\n\r\n\r\n","title":"Plugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.1.7.RELEASE&#39;] was not found in any of the following sources","body":"<p>I have recently started with gradle and trying to run a spring boot application with gradle in my mac machine.</p>\n\n<p>When I am trying to do local build, I am getting below error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5HARY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5HARY.png\" alt=\"enter image description here\"></a></p>\n\n<p>My build.gradle is the default which gets downloaded from spring initializr with few dependencies.</p>\n\n<pre><code>plugins {\nid 'org.springframework.boot' version '2.1.7.RELEASE'\nid 'io.spring.dependency-management' version '1.0.7.RELEASE'\nid 'java'\n}\n\ngroup = 'com.ank'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n maven {\n    url \"https://plugins.gradle.org/m2/\"\n }\n}\n\ndependencies {\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.boot:spring-boot-starter-webflux'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\ntestImplementation 'io.projectreactor:reactor-test'\n}\n</code></pre>\n\n<p>My JAVA_HOME is at path: <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_201.jdk/Contents/Home</code></p>\n\n<p>I have tried building the same in Intellij, Eclipse and in terminal by <code>gradle --stacktrace</code>. It fails everywhere with the same error.</p>\n\n<p>My gradle version is 5.6.</p>\n"},{"tags":["java","windows","processbuilder"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693234916,"post_id":76993942,"comment_id":135730135,"body_markdown":"My first question would be: why are you not using `java.awt.Desktop` to [do this](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Desktop.html#open(java.io.File))?","body":"My first question would be: why are you not using <code>java.awt.Desktop</code> to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Desktop.html#open(java.io.File)\" rel=\"nofollow noreferrer\">do this</a>?"},{"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"score":0,"creation_date":1693248244,"post_id":76993942,"comment_id":135732798,"body_markdown":"Guess I&#39;m not being clear, g00se. I&#39;m not trying to open the actual file (which Desktop does just fine). I&#39;m trying to get Windows to open its &quot;Open With&quot; dialog, which offers users a choice of installed applications that can open the specified file.","body":"Guess I&#39;m not being clear, g00se. I&#39;m not trying to open the actual file (which Desktop does just fine). I&#39;m trying to get Windows to open its &quot;Open With&quot; dialog, which offers users a choice of installed applications that can open the specified file."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693251792,"post_id":76993942,"comment_id":135733376,"body_markdown":"Ah right. First call `builder.inheritIO();` before `start()`","body":"Ah right. First call <code>builder.inheritIO();</code> before <code>start()</code>"},{"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"score":0,"creation_date":1693259583,"post_id":76993942,"comment_id":135734472,"body_markdown":"Alas, g00se, didn&#39;t help. Still not seeing the dialog.","body":"Alas, g00se, didn&#39;t help. Still not seeing the dialog."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693261332,"post_id":76993942,"comment_id":135734714,"body_markdown":"Give this a try. You might need the full path to powershell: `ProcessBuilder builder = new ProcessBuilder(&quot;powershell&quot;, &quot;Start-Process&quot;, &quot;-Verb openas&quot;, &quot;-FilePath&quot;, absolute_file_path).inheritIO();builder.start();`","body":"Give this a try. You might need the full path to powershell: <code>ProcessBuilder builder = new ProcessBuilder(&quot;powershell&quot;, &quot;Start-Process&quot;, &quot;-Verb openas&quot;, &quot;-FilePath&quot;, absolute_file_path).inheritIO();builder.start();</code>"},{"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"score":0,"creation_date":1693398363,"post_id":76993942,"comment_id":135755092,"body_markdown":"Well, g00se, PowerShell was the key. This is what worked:                 ProcessBuilder builder = new ProcessBuilder(&quot;powershell&quot;, &quot;RUNDLL32.EXE SHELL32.DLL,OpenAs_RunDLL &quot; + absolute_file_path);\n                process = builder.start();","body":"Well, g00se, PowerShell was the key. This is what worked:                 ProcessBuilder builder = new ProcessBuilder(&quot;powershell&quot;, &quot;RUNDLL32.EXE SHELL32.DLL,OpenAs_RunDLL &quot; + absolute_file_path);                 process = builder.start();"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693398894,"post_id":76993942,"comment_id":135755243,"body_markdown":"I would say there would be more future in the other invocation if you can make it work.","body":"I would say there would be more future in the other invocation if you can make it work."}],"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693234628,"creation_date":1693234628,"question_id":76993942,"body_markdown":"I need to call the Windows Open With dialog from my Java code. I used to use this line:\r\n\r\n```\r\nRuntime.getRuntime().exec(&quot;RUNDLL32.EXE SHELL32.DLL,OpenAs_RunDLL &quot; + absolute_file_path)\r\n```\r\n\r\nHowever, with Java JDK 20, my compiler now complains that form of exec is deprecated. I see that ProcessBuilder is the recommended replacement, and I&#39;ve been able to use it for other Windows command-line execution. However, I&#39;ve been unable to get this to work for Open With:\r\n\r\n```\r\nProcessBuilder builder = new ProcessBuilder(&quot;RUNDLL32.EXE&quot;,&quot;SHELL32.DLL,OpenAs_RunDLL&quot;, absolute_file_path);\r\nbuilder.start();\r\n```\r\n\r\nWhat do I need to do to get this to work with ProcessBuilder?\r\n","title":"Windows Open With Dialog from Java","body":"<p>I need to call the Windows Open With dialog from my Java code. I used to use this line:</p>\n<pre><code>Runtime.getRuntime().exec(&quot;RUNDLL32.EXE SHELL32.DLL,OpenAs_RunDLL &quot; + absolute_file_path)\n</code></pre>\n<p>However, with Java JDK 20, my compiler now complains that form of exec is deprecated. I see that ProcessBuilder is the recommended replacement, and I've been able to use it for other Windows command-line execution. However, I've been unable to get this to work for Open With:</p>\n<pre><code>ProcessBuilder builder = new ProcessBuilder(&quot;RUNDLL32.EXE&quot;,&quot;SHELL32.DLL,OpenAs_RunDLL&quot;, absolute_file_path);\nbuilder.start();\n</code></pre>\n<p>What do I need to do to get this to work with ProcessBuilder?</p>\n"},{"tags":["java","spring","jsp"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1693226561,"post_id":76992838,"comment_id":135728148,"body_markdown":"And it should because? The routes are totally ignored, that should be a bean not some static function. Your prefix is wrong as well it should be `/WEB-INF/` currently (if it worked) it will try to render the `WEB-INF/hello.jsp.hello.jsp`.","body":"And it should because? The routes are totally ignored, that should be a bean not some static function. Your prefix is wrong as well it should be <code>&#47;WEB-INF&#47;</code> currently (if it worked) it will try to render the <code>WEB-INF&#47;hello.jsp.hello.jsp</code>."},{"owner":{"account_id":121116,"reputation":1196,"user_id":313964,"accept_rate":20,"display_name":"jabrena"},"score":0,"creation_date":1693232750,"post_id":76992838,"comment_id":135729584,"body_markdown":"I updated the method: `viewResolver.setPrefix(&quot;/WEB-INF/&quot;);` if you observe I pass that method to ServletDispatcher: `Context context = tomcat.addContext(&quot;&quot;, System.getProperty(&quot;java.io.tmpdir&quot;));\n\t\tDispatcherServlet dispatcherServlet = new DispatcherServlet(applicationContext(routes()));\n\t\tTomcat.addServlet(context, &quot;dispatcherServlet&quot;, dispatcherServlet).addMapping(&quot;/&quot;);` But it is not working.","body":"I updated the method: <code>viewResolver.setPrefix(&quot;&#47;WEB-INF&#47;&quot;);</code> if you observe I pass that method to ServletDispatcher: <code>Context context = tomcat.addContext(&quot;&quot;, System.getProperty(&quot;java.io.tmpdir&quot;)); \t\tDispatcherServlet dispatcherServlet = new DispatcherServlet(applicationContext(routes())); \t\tTomcat.addServlet(context, &quot;dispatcherServlet&quot;, dispatcherServlet).addMapping(&quot;&#47;&quot;);</code> But it is not working."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693232839,"post_id":76992838,"comment_id":135729606,"body_markdown":"NIce that you are passing it, but that is useless as it isn&#39;t added as a bean to the context. Hence it is useless as I stated before.","body":"NIce that you are passing it, but that is useless as it isn&#39;t added as a bean to the context. Hence it is useless as I stated before."},{"owner":{"account_id":121116,"reputation":1196,"user_id":313964,"accept_rate":20,"display_name":"jabrena"},"score":0,"creation_date":1693233704,"post_id":76992838,"comment_id":135729816,"body_markdown":"I updated it, take a look the original code ^^","body":"I updated it, take a look the original code ^^"},{"owner":{"account_id":121116,"reputation":1196,"user_id":313964,"accept_rate":20,"display_name":"jabrena"},"score":0,"creation_date":1693233840,"post_id":76992838,"comment_id":135729850,"body_markdown":"I have the impression that the RouterFunction is not working with this configuration. But the bean is registered.","body":"I have the impression that the RouterFunction is not working with this configuration. But the bean is registered."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693233896,"post_id":76992838,"comment_id":135729868,"body_markdown":"Registering it as `static` is useless, also now your view resolver will not be registered as it is embedded in an applicationcontext in an application context. Just create a regular `@Configuration` iwth 2 beans 1 for the routerfunction one for the view resolver. Why all the complexity. You will also need `@EnableWebMvc` for all the request mapping hanlders to be registered.","body":"Registering it as <code>static</code> is useless, also now your view resolver will not be registered as it is embedded in an applicationcontext in an application context. Just create a regular <code>@Configuration</code> iwth 2 beans 1 for the routerfunction one for the view resolver. Why all the complexity. You will also need <code>@EnableWebMvc</code> for all the request mapping hanlders to be registered."},{"owner":{"account_id":121116,"reputation":1196,"user_id":313964,"accept_rate":20,"display_name":"jabrena"},"score":0,"creation_date":1693234191,"post_id":76992838,"comment_id":135729937,"body_markdown":"Why all the complexity? I am trying to understand few details about how Spring Boot do the stuff easily. :) Can you provide an example for this part? `You will also need @EnableWebMvc for all the request mapping hanlders to be registered.`?","body":"Why all the complexity? I am trying to understand few details about how Spring Boot do the stuff easily. :) Can you provide an example for this part? <code>You will also need @EnableWebMvc for all the request mapping hanlders to be registered.</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693234320,"post_id":76992838,"comment_id":135729966,"body_markdown":"If you want to understand Spring Boot I would strongly suggest to read the Spring documentation (which is a step I feel you have skipped and you just start throwing things together and when things don&#39;t work ask questions here). You need to enable Spring MVC by adding `@EnableWebMvc` to the `@Configuration` class.","body":"If you want to understand Spring Boot I would strongly suggest to read the Spring documentation (which is a step I feel you have skipped and you just start throwing things together and when things don&#39;t work ask questions here). You need to enable Spring MVC by adding <code>@EnableWebMvc</code> to the <code>@Configuration</code> class."},{"owner":{"account_id":121116,"reputation":1196,"user_id":313964,"accept_rate":20,"display_name":"jabrena"},"score":0,"creation_date":1693234461,"post_id":76992838,"comment_id":135730004,"body_markdown":"I added the annotation, but I received the following message: `An exception occured while executing the Java class. Error creating bean with name &#39;resourceHandlerMapping&#39; defined in org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception with message: No ServletContext set` I belive that it is something new","body":"I added the annotation, but I received the following message: <code>An exception occured while executing the Java class. Error creating bean with name &#39;resourceHandlerMapping&#39; defined in org.springframework.web.servlet.config.annotation.Delegating&zwnj;&#8203;WebMvcConfiguration: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;resourceHandlerMapping&#39; threw exception with message: No ServletContext set</code> I belive that it is something new"},{"owner":{"account_id":121116,"reputation":1196,"user_id":313964,"accept_rate":20,"display_name":"jabrena"},"score":0,"creation_date":1693234489,"post_id":76992838,"comment_id":135730012,"body_markdown":"Yes, i read that documentation several times :p","body":"Yes, i read that documentation several times :p"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1693234968,"post_id":76992838,"comment_id":135730150,"body_markdown":"From what you are showing here, that doesn&#39;t really show (sorry for the bluntness). You are calling refresh on the context you are creating, don&#39;t.","body":"From what you are showing here, that doesn&#39;t really show (sorry for the bluntness). You are calling refresh on the context you are creating, don&#39;t."}],"owner":{"account_id":121116,"reputation":1196,"user_id":313964,"accept_rate":20,"display_name":"jabrena"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693233904,"creation_date":1693226066,"question_id":76992838,"body_markdown":"I am trying to understand how Spring Framework process a JSP manually without Spring Boot and current example is not working.\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tstartTomcat();\r\n    \t}\r\n    \r\n    \tstatic void startTomcat() throws Exception {\r\n    \t\tTomcat tomcat = new Tomcat();\r\n    \t\ttomcat.getConnector().setPort(8080);\r\n    \t\tContext context = tomcat.addContext(&quot;&quot;, System.getProperty(&quot;java.io.tmpdir&quot;));\r\n    \r\n    \t\tAnnotationConfigWebApplicationContext appContext = new AnnotationConfigWebApplicationContext();\r\n    \t\tappContext.register(SpringConfig.class);\r\n    \t\tappContext.refresh();\r\n    \r\n    \t\tDispatcherServlet dispatcherServlet = new DispatcherServlet(appContext);\r\n    \t\tWrapper wrapper = context.createWrapper();\r\n    \t\twrapper.setName(&quot;dispatcherServlet&quot;);\r\n    \t\twrapper.setServlet(dispatcherServlet);\r\n    \t\tcontext.addChild(wrapper);\r\n    \t\twrapper.setLoadOnStartup(1);\r\n    \t\twrapper.addMapping(&quot;/&quot;);\r\n    \r\n    \t\ttry {\r\n    \t\t\ttomcat.start();\r\n    \t\t\ttomcat.getServer().await();\r\n    \t\t} catch (LifecycleException e) {\r\n    \t\t\tSystem.out.println(&quot;Katakroker&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Configuration\r\n        class SpringConfig {\r\n    \r\n    \t\t@Bean\r\n    \t\tstatic StaticWebApplicationContext applicationContext() {\r\n    \t\t\tSystem.out.println(&quot;Adding a StaticWebApplicationContext&quot;);\r\n    \t\t\tStaticWebApplicationContext applicationContext = new StaticWebApplicationContext();\r\n    \t\t\t// Add JSP View Resolver\r\n    \t\t\tapplicationContext.registerBean(ViewResolver.class, () -&gt; {\r\n    \t\t\t\tInternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n    \t\t\t\tviewResolver.setViewClass(JstlView.class);\r\n    \t\t\t\tviewResolver.setPrefix(&quot;/WEB-INF/&quot;); // Path to JSP files\r\n    \t\t\t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\t\t\treturn viewResolver;\r\n    \t\t\t});\r\n    \t\t\treturn applicationContext;\r\n    \t\t}\r\n    \r\n    \t\t@Bean\r\n    \t    RouterFunction&lt;ServerResponse&gt; routes() {\r\n    \t\t\tSystem.out.println(&quot;Adding a route&quot;);\r\n    \t\t\treturn RouterFunctions.route()\r\n    \t\t\t\t\t.GET(&quot;/hello2&quot;, request -&gt; ServerResponse.ok().render(&quot;hello&quot;)) // Handle JSP rendering\r\n    \t\t\t\t\t.build();\r\n    \t\t}\r\n    \r\n    \t\t@PostConstruct\r\n    \t\tprivate void postConstruct() {\r\n    \t\t\tSystem.out.println(&quot;Running Spring Config&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I execute the code, Tomcat is working fine, but current configuration does&#180;t see the jsp file. What is missing in current configuration?\r\n\r\n    curl http://localhost:8080/hello2\r\n\r\n    Running Spring Config\r\n    Adding a StaticWebApplicationContext\r\n    Adding a route\r\n    Aug 28, 2023 4:39:44 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Aug 28, 2023 4:39:44 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service [Tomcat]\r\n    Aug 28, 2023 4:39:44 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet engine: [Apache Tomcat/10.1.11]\r\n    Aug 28, 2023 4:39:44 PM org.apache.catalina.core.ApplicationContext log\r\n    INFO: Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    16:39:44.395 [info.jab.ms.jsp.Main.main()] INFO org.springframework.web.servlet.DispatcherServlet -- Initializing Servlet &#39;dispatcherServlet&#39;\r\n    16:39:44.669 [info.jab.ms.jsp.Main.main()] INFO org.springframework.web.servlet.DispatcherServlet -- Completed initialization in 269 ms\r\n    Aug 28, 2023 4:39:44 PM org.apache.coyote.AbstractProtocol start\r\n    INFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    16:40:11.225 [http-nio-8080-exec-2] WARN org.springframework.web.servlet.PageNotFound -- No mapping for GET /hello\r\n\r\nSource code: https://github.com/jabrena/servlet-archaeology/blob/feature/jsp/2-spring-framework/src/main/java/info/jab/ms/jsp/Main.java\r\n\r\nMany thanks in advance\r\n\r\n","title":"Why Spring Framework doesn&#180;t find my jsp?","body":"<p>I am trying to understand how Spring Framework process a JSP manually without Spring Boot and current example is not working.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n        startTomcat();\n    }\n\n    static void startTomcat() throws Exception {\n        Tomcat tomcat = new Tomcat();\n        tomcat.getConnector().setPort(8080);\n        Context context = tomcat.addContext(&quot;&quot;, System.getProperty(&quot;java.io.tmpdir&quot;));\n\n        AnnotationConfigWebApplicationContext appContext = new AnnotationConfigWebApplicationContext();\n        appContext.register(SpringConfig.class);\n        appContext.refresh();\n\n        DispatcherServlet dispatcherServlet = new DispatcherServlet(appContext);\n        Wrapper wrapper = context.createWrapper();\n        wrapper.setName(&quot;dispatcherServlet&quot;);\n        wrapper.setServlet(dispatcherServlet);\n        context.addChild(wrapper);\n        wrapper.setLoadOnStartup(1);\n        wrapper.addMapping(&quot;/&quot;);\n\n        try {\n            tomcat.start();\n            tomcat.getServer().await();\n        } catch (LifecycleException e) {\n            System.out.println(&quot;Katakroker&quot;);\n        }\n    }\n\n    @Configuration\n    class SpringConfig {\n\n        @Bean\n        static StaticWebApplicationContext applicationContext() {\n            System.out.println(&quot;Adding a StaticWebApplicationContext&quot;);\n            StaticWebApplicationContext applicationContext = new StaticWebApplicationContext();\n            // Add JSP View Resolver\n            applicationContext.registerBean(ViewResolver.class, () -&gt; {\n                InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n                viewResolver.setViewClass(JstlView.class);\n                viewResolver.setPrefix(&quot;/WEB-INF/&quot;); // Path to JSP files\n                viewResolver.setSuffix(&quot;.jsp&quot;);\n                return viewResolver;\n            });\n            return applicationContext;\n        }\n\n        @Bean\n        RouterFunction&lt;ServerResponse&gt; routes() {\n            System.out.println(&quot;Adding a route&quot;);\n            return RouterFunctions.route()\n                    .GET(&quot;/hello2&quot;, request -&gt; ServerResponse.ok().render(&quot;hello&quot;)) // Handle JSP rendering\n                    .build();\n        }\n\n        @PostConstruct\n        private void postConstruct() {\n            System.out.println(&quot;Running Spring Config&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>When I execute the code, Tomcat is working fine, but current configuration doest see the jsp file. What is missing in current configuration?</p>\n<pre><code>curl http://localhost:8080/hello2\n\nRunning Spring Config\nAdding a StaticWebApplicationContext\nAdding a route\nAug 28, 2023 4:39:44 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\nAug 28, 2023 4:39:44 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Tomcat]\nAug 28, 2023 4:39:44 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/10.1.11]\nAug 28, 2023 4:39:44 PM org.apache.catalina.core.ApplicationContext log\nINFO: Initializing Spring DispatcherServlet 'dispatcherServlet'\n16:39:44.395 [info.jab.ms.jsp.Main.main()] INFO org.springframework.web.servlet.DispatcherServlet -- Initializing Servlet 'dispatcherServlet'\n16:39:44.669 [info.jab.ms.jsp.Main.main()] INFO org.springframework.web.servlet.DispatcherServlet -- Completed initialization in 269 ms\nAug 28, 2023 4:39:44 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n16:40:11.225 [http-nio-8080-exec-2] WARN org.springframework.web.servlet.PageNotFound -- No mapping for GET /hello\n</code></pre>\n<p>Source code: <a href=\"https://github.com/jabrena/servlet-archaeology/blob/feature/jsp/2-spring-framework/src/main/java/info/jab/ms/jsp/Main.java\" rel=\"nofollow noreferrer\">https://github.com/jabrena/servlet-archaeology/blob/feature/jsp/2-spring-framework/src/main/java/info/jab/ms/jsp/Main.java</a></p>\n<p>Many thanks in advance</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1362446061,"creation_date":1362446061,"answer_id":15214104,"question_id":15213923,"body_markdown":"From your sample, we cannot see any artifact containing the package `com.mycompany.common.objects ` you are using.\r\n\r\nYou are adding dependency com.mycompany.Common:common as a POM (and you are declaring the packaging of com.mycompany.Common:common as POM too).  If it is actually a JAR artifact that contains the package you need to use, then remove the `packaging` from the POM and dependency (which means, using default which is JAR). \r\n\r\n","title":"Maven, package does not exist","body":"<p>From your sample, we cannot see any artifact containing the package <code>com.mycompany.common.objects</code> you are using.</p>\n\n<p>You are adding dependency com.mycompany.Common:common as a POM (and you are declaring the packaging of com.mycompany.Common:common as POM too).  If it is actually a JAR artifact that contains the package you need to use, then remove the <code>packaging</code> from the POM and dependency (which means, using default which is JAR). </p>\n"},{"comments":[{"owner":{"account_id":312055,"reputation":7238,"user_id":625936,"accept_rate":51,"display_name":"EyeQ Tech"},"score":0,"creation_date":1362447481,"post_id":15214308,"comment_id":21443881,"body_markdown":"tried, didn&#39;t work, maybe it&#39;s another context. Tks for your help anyway.","body":"tried, didn&#39;t work, maybe it&#39;s another context. Tks for your help anyway."}],"tags":[],"owner":{"account_id":430512,"reputation":8935,"user_id":813999,"accept_rate":95,"display_name":"Charlee Chitsuk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362447271,"creation_date":1362447271,"answer_id":15214308,"question_id":15213923,"body_markdown":"Please correct me, If I&#39;m wrong. I understand that the _common_ is a _POM_ that defines several dependencies which intents to be used by other modules. The [Importing Dependencies][1] may meet your requirement. \r\n\r\nFor example\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mycompany.Common&lt;/groupId&gt;\r\n                &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nI hope this may help.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies","title":"Maven, package does not exist","body":"<p>Please correct me, If I'm wrong. I understand that the <em>common</em> is a <em>POM</em> that defines several dependencies which intents to be used by other modules. The <a href=\"http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Importing_Dependencies\" rel=\"nofollow\">Importing Dependencies</a> may meet your requirement. </p>\n\n<p>For example</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mycompany.Common&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>I hope this may help.</p>\n"},{"tags":[],"owner":{"account_id":1150494,"reputation":4777,"user_id":1132333,"accept_rate":61,"display_name":"H.Rabiee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366356857,"creation_date":1366356857,"answer_id":16099592,"question_id":15213923,"body_markdown":"I had the same problem recently. Everything in my project was setup correctly with dependencies etc. I tried removing /target dirs but nothing worked.\r\n\r\nFinally, I solved it by removing the Module Dependency from my dependent project and then readding the dependency. Not sure what is going on in the background, but some sort of refresh of the classpath must have been made. Perhaps the problem was due to the Maven setup.\r\n\r\nHope it helps someone who reaches this question from a search engine.\r\n\r\n","title":"Maven, package does not exist","body":"<p>I had the same problem recently. Everything in my project was setup correctly with dependencies etc. I tried removing /target dirs but nothing worked.</p>\n\n<p>Finally, I solved it by removing the Module Dependency from my dependent project and then readding the dependency. Not sure what is going on in the background, but some sort of refresh of the classpath must have been made. Perhaps the problem was due to the Maven setup.</p>\n\n<p>Hope it helps someone who reaches this question from a search engine.</p>\n"},{"tags":[],"owner":{"account_id":2680559,"reputation":5110,"user_id":2317829,"accept_rate":76,"display_name":"eebbesen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388679314,"creation_date":1388679314,"answer_id":20886983,"question_id":15213923,"body_markdown":"Not sure if there was file corruption or what, but after confirming proper pom configuration I was able to resolve this issue by deleting the jar from my local m2 repository, forcing Maven to download it again when I ran the tests.","title":"Maven, package does not exist","body":"<p>Not sure if there was file corruption or what, but after confirming proper pom configuration I was able to resolve this issue by deleting the jar from my local m2 repository, forcing Maven to download it again when I ran the tests.</p>\n"},{"tags":[],"owner":{"account_id":4201702,"reputation":1,"user_id":3441678,"display_name":"j4nus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488811328,"creation_date":1488811328,"answer_id":42628417,"question_id":15213923,"body_markdown":"For me the problem was with the **sourceDirectory** and **testSourceDirectory** nodes in my pom.xml.\r\nI was using\r\n\r\n    &lt;sourceDirectory&gt;${basedir}/src/test&lt;/sourceDirectory&gt;\r\n    &lt;testSourceDirectory&gt;${basedir}/test&lt;/testSourceDirectory&gt;\r\n\r\nand changed it to \r\n\r\n    &lt;sourceDirectory&gt;../src/test/java&lt;/sourceDirectory&gt;\r\n    &lt;testSourceDirectory&gt;../src/test/java&lt;/testSourceDirectory&gt;","title":"Maven, package does not exist","body":"<p>For me the problem was with the <strong>sourceDirectory</strong> and <strong>testSourceDirectory</strong> nodes in my pom.xml.\nI was using</p>\n\n<pre><code>&lt;sourceDirectory&gt;${basedir}/src/test&lt;/sourceDirectory&gt;\n&lt;testSourceDirectory&gt;${basedir}/test&lt;/testSourceDirectory&gt;\n</code></pre>\n\n<p>and changed it to </p>\n\n<pre><code>&lt;sourceDirectory&gt;../src/test/java&lt;/sourceDirectory&gt;\n&lt;testSourceDirectory&gt;../src/test/java&lt;/testSourceDirectory&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":1,"creation_date":1571857921,"post_id":50417974,"comment_id":103383072,"body_markdown":"Thanks, this helped me - I had 1 project that was dependent on 7 other projects, mvn couldn&#39;t find them.  I converted them all to maven projects, did the mvn install - and now the original project compiles properly!","body":"Thanks, this helped me - I had 1 project that was dependent on 7 other projects, mvn couldn&#39;t find them.  I converted them all to maven projects, did the mvn install - and now the original project compiles properly!"}],"tags":[],"owner":{"account_id":2252260,"reputation":4276,"user_id":1984253,"accept_rate":27,"display_name":"eloone"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1526671250,"creation_date":1526671250,"answer_id":50417974,"question_id":15213923,"body_markdown":"For anyone struggling with this and not familiar with java, make sure that the said package exists in your local repository. Maven has a local repository `~/.m2` where the packages are installed for local access, so even if your dependency package is correctly declared as a dependency in `pom.xml` and is compiled and exists in your project, if it does not exist in the local repository, the `mvn compile` will trigger a `&quot;package does not exist&quot;` error. \r\n\r\nTo fix this:\r\n\r\nIn the missing package folder, do:\r\n\r\n```mvn install //--&gt; this will package and install your missing package in the local repo```\r\n\r\nThen in your project that you wanted to compile:\r\n\r\n```mvn compile // --&gt; now that the missing package is in the local repo it should work```","title":"Maven, package does not exist","body":"<p>For anyone struggling with this and not familiar with java, make sure that the said package exists in your local repository. Maven has a local repository <code>~/.m2</code> where the packages are installed for local access, so even if your dependency package is correctly declared as a dependency in <code>pom.xml</code> and is compiled and exists in your project, if it does not exist in the local repository, the <code>mvn compile</code> will trigger a <code>\"package does not exist\"</code> error. </p>\n\n<p>To fix this:</p>\n\n<p>In the missing package folder, do:</p>\n\n<p><code>mvn install //--&gt; this will package and install your missing package in the local repo</code></p>\n\n<p>Then in your project that you wanted to compile:</p>\n\n<p><code>mvn compile // --&gt; now that the missing package is in the local repo it should work</code></p>\n"},{"comments":[{"owner":{"account_id":13183174,"reputation":373,"user_id":9521984,"display_name":"Yuefeng Li"},"score":0,"creation_date":1694269523,"post_id":61623045,"comment_id":135870810,"body_markdown":"Actually you have to remove the `spring-boot-maven-plugin` section in the pom file of child modules, like what the doc said [here](https://github.com/spring-guides/gs-multi-module#adjusting-the-library-project).\n\ni was prototyping a multi-module Spring project based on code generated by spring initializer and stuck on the pakcage does not exist problem for hours and Google takes me here.\n\nHope it will help people like me.","body":"Actually you have to remove the <code>spring-boot-maven-plugin</code> section in the pom file of child modules, like what the doc said <a href=\"https://github.com/spring-guides/gs-multi-module#adjusting-the-library-project\" rel=\"nofollow noreferrer\">here</a>.  i was prototyping a multi-module Spring project based on code generated by spring initializer and stuck on the pakcage does not exist problem for hours and Google takes me here.  Hope it will help people like me."}],"tags":[],"owner":{"account_id":12587535,"reputation":21,"user_id":9155748,"display_name":"W&#228;l&#252;d N&#228;sr&#252;"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1588712787,"creation_date":1588712787,"answer_id":61623045,"question_id":15213923,"body_markdown":"you need to add the maven-plugin into (each) child module (for compiling main and test source) \r\n\r\n    \t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n         &lt;plugins&gt;\r\n\r\nand then you add the plugin-management into the parent pom, for centralizing the plugin config (version...)\r\n\r\n    \t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n             &lt;/pluginManagement&gt;\r\n\r\nThen you can add your dependency into the dependent module pom \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mycompany.Common&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  http://www.jouvinio.net/wiki/index.php/Projet_Maven_multi-modules","title":"Maven, package does not exist","body":"<p>you need to add the maven-plugin into (each) child module (for compiling main and test source) </p>\n\n<pre><code>    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n     &lt;plugins&gt;\n</code></pre>\n\n<p>and then you add the plugin-management into the parent pom, for centralizing the plugin config (version...)</p>\n\n<pre><code>        &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n         &lt;/pluginManagement&gt;\n</code></pre>\n\n<p>Then you can add your dependency into the dependent module pom </p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.mycompany.Common&lt;/groupId&gt;\n        &lt;artifactId&gt;common&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"http://www.jouvinio.net/wiki/index.php/Projet_Maven_multi-modules\" rel=\"nofollow noreferrer\">http://www.jouvinio.net/wiki/index.php/Projet_Maven_multi-modules</a></p>\n"},{"tags":[],"owner":{"account_id":13449268,"reputation":978,"user_id":10037278,"display_name":"Onat Korucu"},"comment_count":0,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1601223179,"creation_date":1596984787,"answer_id":63327760,"question_id":15213923,"body_markdown":"While working with IntellijIDEA, generated files can cause this issue. Writing \r\n\r\n    mvn idea:idea\r\n\r\n \r\non IntellijIDEA Maven console to reset those files did the trick for me. Also, see:\r\nhttps://stackoverflow.com/questions/20137020/package-doesnt-exist-error-in-intellij","title":"Maven, package does not exist","body":"<p>While working with IntellijIDEA, generated files can cause this issue. Writing</p>\n<pre><code>mvn idea:idea\n</code></pre>\n<p>on IntellijIDEA Maven console to reset those files did the trick for me. Also, see:\n<a href=\"https://stackoverflow.com/questions/20137020/package-doesnt-exist-error-in-intellij\">Package doesn&#39;t exist error in intelliJ</a></p>\n"},{"tags":[],"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675263558,"creation_date":1675263558,"answer_id":75312104,"question_id":15213923,"body_markdown":"Your IDE (Eclipse in my case) may not distinguish between compile and runtime scope. This means that the IDE will let you use runtime scope dependencies in your code, but maven won&#39;t. In such a such change the dependency scope from runtime to compile.","title":"Maven, package does not exist","body":"<p>Your IDE (Eclipse in my case) may not distinguish between compile and runtime scope. This means that the IDE will let you use runtime scope dependencies in your code, but maven won't. In such a such change the dependency scope from runtime to compile.</p>\n"},{"tags":[],"owner":{"account_id":11006342,"reputation":165,"user_id":9109799,"display_name":"Loner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693233800,"creation_date":1693233800,"answer_id":76993828,"question_id":15213923,"body_markdown":"- In my case, I was trying to build a module alone and got this error: `package x does not exist`.\r\n- But `module1` depended on another module that had this package.\r\n- The right way to build `module1` was to use the `-am` option.\r\n- `--also-make \t-am \tBuilds the specified modules, and any of their dependencies in the reactor.` [Source][1]\r\n- WRONG: `mvn package -pl &#39;module1&#39;`\r\n- CORRECT: `mvn package -pl &#39;module1&#39; -am`\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-multiple-modules-4.html","title":"Maven, package does not exist","body":"<ul>\n<li>In my case, I was trying to build a module alone and got this error: <code>package x does not exist</code>.</li>\n<li>But <code>module1</code> depended on another module that had this package.</li>\n<li>The right way to build <code>module1</code> was to use the <code>-am</code> option.</li>\n<li><code>--also-make  -am     Builds the specified modules, and any of their dependencies in the reactor.</code> <a href=\"https://maven.apache.org/guides/mini/guide-multiple-modules-4.html\" rel=\"nofollow noreferrer\">Source</a></li>\n<li>WRONG: <code>mvn package -pl 'module1'</code></li>\n<li>CORRECT: <code>mvn package -pl 'module1' -am</code></li>\n</ul>\n"}],"owner":{"account_id":312055,"reputation":7238,"user_id":625936,"accept_rate":51,"display_name":"EyeQ Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111506,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":15214104,"answer_count":10,"score":26,"last_activity_date":1693233800,"creation_date":1362444814,"question_id":15213923,"body_markdown":"I have a module whose pom file is: \r\n\r\n    &lt;groupId&gt;com.mycompany.Common&lt;/groupId&gt;\r\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;common module&lt;/name&gt;\r\n\r\nIn that artifact (&#39;common&#39;), I have a package named com.mycompany.common.objects. In the consuming package, my pom file is: \r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mycompany.Common&lt;/groupId&gt;\r\n                &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n     &lt;/dependency&gt;\r\n\r\nWhen I run mvn install it always complain: package com.mycompany.common.objects does not exist. \r\n\r\nI tried explicit importing in the class where the error was: \r\n\r\n    import com.mycompany.common.objects\r\n\r\nNo luck. I tried in both the IDE (IntelliJ) and in commandline. Any idea? thanks","title":"Maven, package does not exist","body":"<p>I have a module whose pom file is: </p>\n\n<pre><code>&lt;groupId&gt;com.mycompany.Common&lt;/groupId&gt;\n&lt;artifactId&gt;common&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;common module&lt;/name&gt;\n</code></pre>\n\n<p>In that artifact ('common'), I have a package named com.mycompany.common.objects. In the consuming package, my pom file is: </p>\n\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;com.mycompany.Common&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>When I run mvn install it always complain: package com.mycompany.common.objects does not exist. </p>\n\n<p>I tried explicit importing in the class where the error was: </p>\n\n<pre><code>import com.mycompany.common.objects\n</code></pre>\n\n<p>No luck. I tried in both the IDE (IntelliJ) and in commandline. Any idea? thanks</p>\n"},{"tags":["java","spring","spring-boot","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":19752551,"reputation":16,"user_id":14463586,"display_name":"Jonas Gredig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693228602,"creation_date":1693228602,"answer_id":76993154,"question_id":76992910,"body_markdown":"Fields have a &#39;setReadOnly&#39; method that can be used for that.","title":"Make certain PDF Fields uneditable in Apache PDFBox","body":"<p>Fields have a 'setReadOnly' method that can be used for that.</p>\n"}],"owner":{"account_id":19752551,"reputation":16,"user_id":14463586,"display_name":"Jonas Gredig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693233682,"creation_date":1693226695,"question_id":76992910,"body_markdown":"I am using Apache PDFBox for a Rest Endpoint of a Java Spring Application to fill out a Template PDF that is stored on the Webserver. After PDFBox filled the PDF using Acroform features I would like to make some Textfields/Checkboxes/Dropdowns locked/uneditable. Some other Fields should still be editable after the User downloads it.\r\n\r\nWhat I tried already: Google search. Went through the Apache PDFBox doc&#39;s a bit. Searched StackOverflow for similar existing Questions.","title":"Make certain PDF Fields uneditable in Apache PDFBox","body":"<p>I am using Apache PDFBox for a Rest Endpoint of a Java Spring Application to fill out a Template PDF that is stored on the Webserver. After PDFBox filled the PDF using Acroform features I would like to make some Textfields/Checkboxes/Dropdowns locked/uneditable. Some other Fields should still be editable after the User downloads it.</p>\n<p>What I tried already: Google search. Went through the Apache PDFBox doc's a bit. Searched StackOverflow for similar existing Questions.</p>\n"},{"tags":["java","pdf","itext"],"answers":[{"tags":[],"owner":{"account_id":16272723,"reputation":601,"user_id":11750807,"display_name":"shihabudheenk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612599628,"creation_date":1612599628,"answer_id":66074882,"question_id":65824255,"body_markdown":"You can use pdfSweep to delete text. See the example\r\nhttps://kb.itextpdf.com/home/it7kb/examples/removing-content-with-pdfsweep\r\n\r\nOR Check already given solutions\r\n\r\nhttps://stackoverflow.com/questions/27884283/how-to-remove-headers-and-footers-from-pdf-file-using-itext-in-java\r\n\r\nhttps://stackoverflow.com/questions/32448118/issue-in-removing-header-and-footer-in-pdf-using-itext-pdf\r\n\r\nhttps://stackoverflow.com/questions/13580619/remove-footer-from-pdf-using-itext5-0\r\n\r\nMy suggestion is to avoid creating a footer in the first place so that you can avoid recreating the pdf just for removing the footer","title":"Itext PDF remove footer from existing pdf and create new pdf","body":"<p>You can use pdfSweep to delete text. See the example\n<a href=\"https://kb.itextpdf.com/home/it7kb/examples/removing-content-with-pdfsweep\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/examples/removing-content-with-pdfsweep</a></p>\n<p>OR Check already given solutions</p>\n<p><a href=\"https://stackoverflow.com/questions/27884283/how-to-remove-headers-and-footers-from-pdf-file-using-itext-in-java\">How to remove headers and footers from PDF file using iText in Java</a></p>\n<p><a href=\"https://stackoverflow.com/questions/32448118/issue-in-removing-header-and-footer-in-pdf-using-itext-pdf\">Issue in Removing Header and Footer in PDF using iText PDF</a></p>\n<p><a href=\"https://stackoverflow.com/questions/13580619/remove-footer-from-pdf-using-itext5-0\">Remove Footer from PDF using IText5.0</a></p>\n<p>My suggestion is to avoid creating a footer in the first place so that you can avoid recreating the pdf just for removing the footer</p>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693233578,"creation_date":1693233578,"answer_id":76993791,"question_id":65824255,"body_markdown":"Using itextpdf lib crop the area and add header image\r\nhope this will help\r\n----------------------------\r\n\r\n    package com.ashok;\r\n    \r\n    import com.itextpdf.text.DocumentException;\r\n    \r\n    import com.itextpdf.text.pdf.*;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Locale;\r\n    \r\n    public class ClipPdf {\r\n        public static final String SRC = &quot;/home/ashok/src-file.pdf&quot;;\r\n        public static final String DEST = &quot;/home/ashok/dest_new.pdf&quot;;\r\n        public static final String imageFile = &quot;/home/ashok/logo-1.jpeg&quot;;\r\n    \r\n        public static void main(String[] args) throws IOException, DocumentException {\r\n            File file = new File(DEST);\r\n            file.getParentFile().mkdirs();\r\n            new ClipPdf().manipulatePdf(SRC, DEST);\r\n        }\r\n    \r\n        /*\r\n                Parameters:\r\n            llx - lower left x // box size right\r\n            lly - lower left y // box height up side\r\n            urx - upper right x // box width\r\n            ury - upper right y // box height down side\r\n         */\r\n        public void manipulatePdf(String src, String dest) throws IOException, DocumentException {\r\n            PdfReader.unethicalreading = true;\r\n            PdfReader reader = new PdfReader(src);\r\n            PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\r\n    \r\n            int n = reader.getNumberOfPages();\r\n            PdfDictionary page;\r\n            PdfArray media;\r\n            //ImageData data = ImageDataFactory.create(imageFile);\r\n           // Image img = new Image(data);\r\n            com.itextpdf.text.Image image = com.itextpdf.text.Image.getInstance(imageFile);\r\n    \r\n    /* Page wise */\r\n            for (int p = 1; p &lt;= n; p++) {\r\n                page = reader.getPageN(p);\r\n                media = page.getAsArray(PdfName.CROPBOX);\r\n                if (media == null) {\r\n                    media = page.getAsArray(PdfName.MEDIABOX);\r\n                }\r\n    /* CROP the area all 4 side */\r\n\r\n                float llx = media.getAsNumber(0).floatValue() + 1; // footer\r\n                float lly = media.getAsNumber(1).floatValue() + 100; // left side\r\n                float w = media.getAsNumber(2).floatValue() - media.getAsNumber(0).floatValue() - 5; // right side\r\n                float h = media.getAsNumber(3).floatValue() - media.getAsNumber(1).floatValue() - 210; // header\r\n                String command = String.format(Locale.ROOT,\r\n                        &quot;\\nq %.2f %.2f %.2f %.2f re W n\\nq\\n&quot;,\r\n                        llx, lly, w, h);\r\n                stamper.getUnderContent(p).setLiteral(command);\r\n                stamper.getOverContent(p).setLiteral(&quot;\\nQ\\nQ\\n&quot;);\r\n                PdfContentByte content = stamper.getOverContent(p);\r\n\r\n    /* Add header image for example */   \r\n\r\n \r\n                int indentation = 0;\r\n                float scaler = (( reader.getPageSize(p).getWidth() -  reader.getPageSize(p).getBorderWidthLeft()\r\n                        - reader.getPageSize(p).getBorderWidthRight() - indentation) / image.getWidth()) * 100;\r\n    \r\n                image.scalePercent(scaler);\r\n                image.setAbsolutePosition(-5f, 760f);\r\n                content.addImage(image);\r\n    \r\n            }\r\n            stamper.close();\r\n            reader.close();\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Itext PDF remove footer from existing pdf and create new pdf","body":"<h2>Using itextpdf lib crop the area and add header image\nhope this will help</h2>\n<pre><code>package com.ashok;\n\nimport com.itextpdf.text.DocumentException;\n\nimport com.itextpdf.text.pdf.*;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Locale;\n\npublic class ClipPdf {\n    public static final String SRC = &quot;/home/ashok/src-file.pdf&quot;;\n    public static final String DEST = &quot;/home/ashok/dest_new.pdf&quot;;\n    public static final String imageFile = &quot;/home/ashok/logo-1.jpeg&quot;;\n\n    public static void main(String[] args) throws IOException, DocumentException {\n        File file = new File(DEST);\n        file.getParentFile().mkdirs();\n        new ClipPdf().manipulatePdf(SRC, DEST);\n    }\n\n    /*\n            Parameters:\n        llx - lower left x // box size right\n        lly - lower left y // box height up side\n        urx - upper right x // box width\n        ury - upper right y // box height down side\n     */\n    public void manipulatePdf(String src, String dest) throws IOException, DocumentException {\n        PdfReader.unethicalreading = true;\n        PdfReader reader = new PdfReader(src);\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\n\n        int n = reader.getNumberOfPages();\n        PdfDictionary page;\n        PdfArray media;\n        //ImageData data = ImageDataFactory.create(imageFile);\n       // Image img = new Image(data);\n        com.itextpdf.text.Image image = com.itextpdf.text.Image.getInstance(imageFile);\n\n/* Page wise */\n        for (int p = 1; p &lt;= n; p++) {\n            page = reader.getPageN(p);\n            media = page.getAsArray(PdfName.CROPBOX);\n            if (media == null) {\n                media = page.getAsArray(PdfName.MEDIABOX);\n            }\n/* CROP the area all 4 side */\n\n            float llx = media.getAsNumber(0).floatValue() + 1; // footer\n            float lly = media.getAsNumber(1).floatValue() + 100; // left side\n            float w = media.getAsNumber(2).floatValue() - media.getAsNumber(0).floatValue() - 5; // right side\n            float h = media.getAsNumber(3).floatValue() - media.getAsNumber(1).floatValue() - 210; // header\n            String command = String.format(Locale.ROOT,\n                    &quot;\\nq %.2f %.2f %.2f %.2f re W n\\nq\\n&quot;,\n                    llx, lly, w, h);\n            stamper.getUnderContent(p).setLiteral(command);\n            stamper.getOverContent(p).setLiteral(&quot;\\nQ\\nQ\\n&quot;);\n            PdfContentByte content = stamper.getOverContent(p);\n\n/* Add header image for example */   \n\n\n            int indentation = 0;\n            float scaler = (( reader.getPageSize(p).getWidth() -  reader.getPageSize(p).getBorderWidthLeft()\n                    - reader.getPageSize(p).getBorderWidthRight() - indentation) / image.getWidth()) * 100;\n\n            image.scalePercent(scaler);\n            image.setAbsolutePosition(-5f, 760f);\n            content.addImage(image);\n\n        }\n        stamper.close();\n        reader.close();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4996023,"reputation":1207,"user_id":4016595,"accept_rate":38,"display_name":"Akash Chavda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693233578,"creation_date":1611220407,"question_id":65824255,"body_markdown":"I have an existing PDF and I need to remove the footer from the PDF on every page.\r\n\r\nI fetch all pages from PDF but I am not able to remove the footer from the PDF.\r\n\r\nI am using iText version 5.5.0.\r\n                            \r\n```java\r\nDocument document = null;\r\nPdfCopy writer = null;\r\nPdfReader reader = new PdfReader(&quot;input.pdf&quot;);\r\nint n = reader.getNumberOfPages();\r\noutFile = &quot;output.pdf&quot;;\r\ndocument = new Document();\r\nwriter = new PdfCopy(document, new FileOutputStream(outFile));\r\ndocument.open();\r\n\r\nfor (int j = 0; j &lt; n; j++) {\t\t\t\t\t\t\t\t\r\n\t\r\n    PdfImportedPage page = writer.getImportedPage(reader, j);\r\n    writer.addPage(page);\r\n}\r\n\r\ndocument.close();\r\nwriter.close();\r\n```\r\n\r\nHow can I remove the footer from this input.pdf file and create a new output.pdf file?\r\n","title":"Itext PDF remove footer from existing pdf and create new pdf","body":"<p>I have an existing PDF and I need to remove the footer from the PDF on every page.</p>\n<p>I fetch all pages from PDF but I am not able to remove the footer from the PDF.</p>\n<p>I am using iText version 5.5.0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document document = null;\nPdfCopy writer = null;\nPdfReader reader = new PdfReader(&quot;input.pdf&quot;);\nint n = reader.getNumberOfPages();\noutFile = &quot;output.pdf&quot;;\ndocument = new Document();\nwriter = new PdfCopy(document, new FileOutputStream(outFile));\ndocument.open();\n\nfor (int j = 0; j &lt; n; j++) {                               \n    \n    PdfImportedPage page = writer.getImportedPage(reader, j);\n    writer.addPage(page);\n}\n\ndocument.close();\nwriter.close();\n</code></pre>\n<p>How can I remove the footer from this input.pdf file and create a new output.pdf file?</p>\n"},{"tags":["java","spring-integration","api-gateway","spring-messaging"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693233289,"creation_date":1693233289,"answer_id":76993746,"question_id":76968452,"body_markdown":"There is no retry API around `CompletableFuture`. At least as far as I&#39;m aware. According to your `gateway.setAsync(true)` and `ExecutorChannel` upfront there is no connection between your `CompletableFuture` return from a messaging gateway and that reply from a JMS. The `JmsOutboundGateway` will still produce a real result from its call to the `replyChannel` header after completion of the `Future`, and only after that it is wrapped to another `CompletableFuture` for your messaging gateway expectations. An `ExecutorChannel` is also a bit of an overhead since a `CompletableFuture` return type from a messaging gateway method uses a `TaskExecutor` for async request reply. Therefore you do have a lot of thread switching in between request and reply.\r\n\r\nIt might not be what you would expect, but I can suggest to change your `sendAndReceiveMqMessage()` to return a `Mono`. And already there you can use a `retry()` API. For downstream flow it doesn&#39;t matter and it still going to be an `async`. In the end, the successful result of this `Mono` can be converted to the `CompletableFuture` (see `Mono.toFuture()`) if that is what required in the consumer of your API.","title":"How to implement thread efficient retries on async JmsOutboundGateway","body":"<p>There is no retry API around <code>CompletableFuture</code>. At least as far as I'm aware. According to your <code>gateway.setAsync(true)</code> and <code>ExecutorChannel</code> upfront there is no connection between your <code>CompletableFuture</code> return from a messaging gateway and that reply from a JMS. The <code>JmsOutboundGateway</code> will still produce a real result from its call to the <code>replyChannel</code> header after completion of the <code>Future</code>, and only after that it is wrapped to another <code>CompletableFuture</code> for your messaging gateway expectations. An <code>ExecutorChannel</code> is also a bit of an overhead since a <code>CompletableFuture</code> return type from a messaging gateway method uses a <code>TaskExecutor</code> for async request reply. Therefore you do have a lot of thread switching in between request and reply.</p>\n<p>It might not be what you would expect, but I can suggest to change your <code>sendAndReceiveMqMessage()</code> to return a <code>Mono</code>. And already there you can use a <code>retry()</code> API. For downstream flow it doesn't matter and it still going to be an <code>async</code>. In the end, the successful result of this <code>Mono</code> can be converted to the <code>CompletableFuture</code> (see <code>Mono.toFuture()</code>) if that is what required in the consumer of your API.</p>\n"}],"owner":{"account_id":29289685,"reputation":35,"user_id":22440483,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76993746,"answer_count":1,"score":2,"last_activity_date":1693233289,"creation_date":1692873325,"question_id":76968452,"body_markdown":"In my case i use JmsOutboundGateway for mq connection - inputChannel is ExecutorChannel.\r\n\r\nCurrently ServiceActivator don&#39;t have any output channel.\r\nGateway interface method returns CompletableFuture object.\r\n\r\n```\r\n@MessagingGateway\r\npublic interface SimpleGateway {\r\n\r\n@gateway(requestChannel = &quot;mqRequestChannel&quot;)\r\nCompletableFuture sendAndReceiveMqMessage(String message);\r\n}\r\n\r\nconfiguration class\r\n\r\n@bean\r\npublic MessageChannel mqRequestChannel(AsyncTaskExecutor taskExecutor) {\r\nreturn new ExecutorChannel(taskExecutor);\r\n}\r\n\r\n@ServiceActivator(inputChannel = &quot;mqRequestChannel&quot;)\r\n@Bean\r\npublic JmsOutboundGateway jmsOutboundGateway(... ) {\r\n    JmsOutboundGateway gateway = new JmsOutboundGateway();\r\n    gateway.setConnectionFactory(mqConnectionFactory);\r\n    gateway.setRequestDestinationName(requestDestination);\r\n    gateway.setReplyDestinationName(responseDestination);\r\n    gateway.setAsync(true);\r\n     ....\r\n     ....\r\n    return gateway;\r\n}\r\n@Autowired\r\nprivate SimpleGateway simpleGateway;\r\n\r\n CompletableFuture&lt;String&gt; mqResponse = simpleGateway.sendAndReceiveMqMessage(&quot;sdsadas&quot;);\r\n\r\n```\r\n\r\n\r\nI tried to use recursion but it won&#39;t be best solution.\r\n\r\n```\r\n    private void callGateway(int retry, int requestNum){\r\n\r\n        String dummyOfs = &quot;dsfsdf&quot;;\r\n\r\n            CompletableFuture&lt;String&gt; response = simpleGateway.sendAndReceiveMqMessage(dummyOfs);\r\n\r\n        nCoreResponse.exceptionally(throwable -&gt; { LOG.info(&quot;error occured&quot;);\r\n        LOG.info(&quot;[Error section CURRENT THREAD in gateway class call ]: {} , requestNum = {}, retry = {}&quot;, Thread.currentThread(), requestNum, retry );\r\n        if(MAX_RETRY &gt; retry){\r\n            Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\r\n            callGateway(retry + 1, requestNum);\r\n        }\r\n\r\n        return null;});\r\n\r\n        response.thenAccept((String someString) -&gt;\r\n    {\r\n        LOG.info(&quot;[success ]: {} , returned value: {}&quot;, Thread.currentThread(), someString);\r\n    });\r\n    };\r\n}\r\n```\r\n      \r\nI was also thinking of pushing retries to a different thread pool.\r\n\r\nBut for me is important to set up numer of retries and back off time and also if timeout for request is reached then retries won&#39;t be triggered or stopped.\r\n","title":"How to implement thread efficient retries on async JmsOutboundGateway","body":"<p>In my case i use JmsOutboundGateway for mq connection - inputChannel is ExecutorChannel.</p>\n<p>Currently ServiceActivator don't have any output channel.\nGateway interface method returns CompletableFuture object.</p>\n<pre><code>@MessagingGateway\npublic interface SimpleGateway {\n\n@gateway(requestChannel = &quot;mqRequestChannel&quot;)\nCompletableFuture sendAndReceiveMqMessage(String message);\n}\n\nconfiguration class\n\n@bean\npublic MessageChannel mqRequestChannel(AsyncTaskExecutor taskExecutor) {\nreturn new ExecutorChannel(taskExecutor);\n}\n\n@ServiceActivator(inputChannel = &quot;mqRequestChannel&quot;)\n@Bean\npublic JmsOutboundGateway jmsOutboundGateway(... ) {\n    JmsOutboundGateway gateway = new JmsOutboundGateway();\n    gateway.setConnectionFactory(mqConnectionFactory);\n    gateway.setRequestDestinationName(requestDestination);\n    gateway.setReplyDestinationName(responseDestination);\n    gateway.setAsync(true);\n     ....\n     ....\n    return gateway;\n}\n@Autowired\nprivate SimpleGateway simpleGateway;\n\n CompletableFuture&lt;String&gt; mqResponse = simpleGateway.sendAndReceiveMqMessage(&quot;sdsadas&quot;);\n\n</code></pre>\n<p>I tried to use recursion but it won't be best solution.</p>\n<pre><code>    private void callGateway(int retry, int requestNum){\n\n        String dummyOfs = &quot;dsfsdf&quot;;\n\n            CompletableFuture&lt;String&gt; response = simpleGateway.sendAndReceiveMqMessage(dummyOfs);\n\n        nCoreResponse.exceptionally(throwable -&gt; { LOG.info(&quot;error occured&quot;);\n        LOG.info(&quot;[Error section CURRENT THREAD in gateway class call ]: {} , requestNum = {}, retry = {}&quot;, Thread.currentThread(), requestNum, retry );\n        if(MAX_RETRY &gt; retry){\n            Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\n            callGateway(retry + 1, requestNum);\n        }\n\n        return null;});\n\n        response.thenAccept((String someString) -&gt;\n    {\n        LOG.info(&quot;[success ]: {} , returned value: {}&quot;, Thread.currentThread(), someString);\n    });\n    };\n}\n</code></pre>\n<p>I was also thinking of pushing retries to a different thread pool.</p>\n<p>But for me is important to set up numer of retries and back off time and also if timeout for request is reached then retries won't be triggered or stopped.</p>\n"},{"tags":["java","arrays","file","split","delimiter"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":2,"creation_date":1693178859,"post_id":76989273,"comment_id":135721878,"body_markdown":"When you read the `content.nextLine()` the linebreak character is being stripped off. so your StringBuilder, does not have a linebreak character to use for `String.split`. Append it to your StringBuilder on each line and then you can use the pattern `\\\\R` in your `split` operation like `.split(&quot;\\[=,\\\\R]&quot;)` (See linebreak matcher at https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html)","body":"When you read the <code>content.nextLine()</code> the linebreak character is being stripped off. so your StringBuilder, does not have a linebreak character to use for <code>String.split</code>. Append it to your StringBuilder on each line and then you can use the pattern <code>\\\\R</code> in your <code>split</code> operation like <code>.split(&quot;\\[=,\\\\R]&quot;)</code> (See linebreak matcher at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a>)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693188704,"post_id":76989273,"comment_id":135722642,"body_markdown":"Running your program under the debugger would have allowed you to see that there was no newline character where you expected one to be.","body":"Running your program under the debugger would have allowed you to see that there was no newline character where you expected one to be."}],"answers":[{"comments":[{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":1,"creation_date":1693182191,"post_id":76989298,"comment_id":135722120,"body_markdown":"Would be right thing if the OP accept this or provide feedback.","body":"Would be right thing if the OP accept this or provide feedback."},{"owner":{"account_id":12796462,"reputation":3,"user_id":22456413,"display_name":"4K4K1N"},"score":0,"creation_date":1693184480,"post_id":76989298,"comment_id":135722338,"body_markdown":"Thanks for this, but I need to have it work with my file rather than all of the content as a String. Scanner content = new Scanner(new File(&quot;file.txt&quot;)).useDelimiter(&quot;,&quot;);","body":"Thanks for this, but I need to have it work with my file rather than all of the content as a String. Scanner content = new Scanner(new File(&quot;file.txt&quot;)).useDelimiter(&quot;,&quot;);"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1693188250,"post_id":76989298,"comment_id":135722616,"body_markdown":"@Kyle its only an example. You should _reference_ the answer in order to write your own","body":"@Kyle its only an example. You should <i>reference</i> the answer in order to write your own"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693199981,"post_id":76989298,"comment_id":135723493,"body_markdown":"@4K4K1N [`Files.lines`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)) works just like the `String#lines` shown here in the Answer. Both return a `Stream` of `String` objects.","body":"@4K4K1N <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.lines</code></a> works just like the <code>String#lines</code> shown here in the Answer. Both return a <code>Stream</code> of <code>String</code> objects."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693227967,"post_id":76989298,"comment_id":135728463,"body_markdown":"There is no requirement to do three nested split operations, as the result is not different to a single split operation matching all three delimiters: `String[] array = input.split(&quot;\\\\R|[,=]&quot;);` The same logic can be applied to a `Scanner` as well, `String[] array = new Scanner(input) .useDelimiter(&quot;\\\\R|[,=]&quot;).tokens().toArray(String[]::new);`","body":"There is no requirement to do three nested split operations, as the result is not different to a single split operation matching all three delimiters: <code>String[] array = input.split(&quot;\\\\R|[,=]&quot;);</code> The same logic can be applied to a <code>Scanner</code> as well, <code>String[] array = new Scanner(input) .useDelimiter(&quot;\\\\R|[,=]&quot;).tokens().toArray(String[]::new);</code>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693233225,"creation_date":1693178365,"answer_id":76989298,"question_id":76989273,"body_markdown":"## tl;dr\r\n\r\nI find splitting multiple times rather than regex to be simpler, clearer, and more self-documenting. \r\n\r\n```java\r\ninput\r\n        .lines ( )\r\n        .flatMap ( line -&gt; Arrays.stream ( line.split ( &quot;,&quot; ) ) )\r\n        .flatMap ( pair -&gt; Arrays.stream ( pair.split ( &quot;=&quot; ) ) )\r\n        .toArray ( String[] :: new );\r\n```\r\n\r\n\r\n## Split 3 times, nested\r\n\r\nWhy not triple nest calls to split? \r\n\r\nIn an outer loop, split on lines. Within that split on COMMA. Thirdly split on EQUALS SIGN. \r\n\r\n```java\r\nString input = &quot;&quot;&quot;\r\n        Event=ThermostatNight,time=0\r\n        Event=LightOn,time=2000\r\n        Event=WaterOff,time=10000\r\n        Event=ThermostatDay,time=12000\r\n        Event=Bell,time=9000,rings=5\r\n        Event=WaterOn,time=6000\r\n        Event=LightOff,time=4000\r\n        Event=Terminate,time=20000\r\n        Event=FansOn,time=7000\r\n        Event=FansOff,time=8000\r\n        &quot;&quot;&quot;;\r\nList &lt; String &gt; list = new ArrayList &lt;&gt; ( );\r\nfor ( String line : input.lines ( ).toList ( ) )\r\n{\r\n    for ( String pair : line.split ( &quot;,&quot; ) )\r\n    {\r\n        for ( String keyOrValue : pair.split ( &quot;=&quot; ) )\r\n        {\r\n            list.add ( keyOrValue );\r\n        }\r\n    }\r\n}\r\nString[] array = list.toArray ( String[] :: new );\r\n```\r\n\r\n&gt;array = [Event, ThermostatNight, time, 0, Event, LightOn, time, 2000, Event, WaterOff, time, 10000, Event, ThermostatDay, time, 12000, Event, Bell, time, 9000, rings, 5, Event, WaterOn, time, 6000, Event, LightOff, time, 4000, Event, Terminate, time, 20000, Event, FansOn, time, 7000, Event, FansOff, time, 8000]\r\n\r\n\r\n----------\r\n\r\n\r\nYour [IDE][1] might suggest replacing that inner loop with a call to `addAll`.\r\n\r\n```java\r\nfor ( String line : input.lines ( ).toList ( ) )\r\n{\r\n    for ( String pair : line.split ( &quot;,&quot; ) )\r\n    {\r\n        list.addAll ( Arrays.asList ( pair.split ( &quot;=&quot; ) ) );\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nFor even more compact code, we can use streams and `flatMap` to produce a one-liner.\r\n\r\n```java\r\nString[] array =\r\n        input\r\n                .lines ( )\r\n                .flatMap ( line -&gt; Arrays.stream ( line.split ( &quot;,&quot; ) ) )\r\n                .flatMap ( pair -&gt; Arrays.stream ( pair.split ( &quot;=&quot; ) ) )\r\n                .toArray ( String[] :: new );\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Integrated_development_environment","title":"How do you split at the end of the line in Java?","body":"<h2>tl;dr</h2>\n<p>I find splitting multiple times rather than regex to be simpler, clearer, and more self-documenting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>input\n        .lines ( )\n        .flatMap ( line -&gt; Arrays.stream ( line.split ( &quot;,&quot; ) ) )\n        .flatMap ( pair -&gt; Arrays.stream ( pair.split ( &quot;=&quot; ) ) )\n        .toArray ( String[] :: new );\n</code></pre>\n<h2>Split 3 times, nested</h2>\n<p>Why not triple nest calls to split?</p>\n<p>In an outer loop, split on lines. Within that split on COMMA. Thirdly split on EQUALS SIGN.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;&quot;&quot;\n        Event=ThermostatNight,time=0\n        Event=LightOn,time=2000\n        Event=WaterOff,time=10000\n        Event=ThermostatDay,time=12000\n        Event=Bell,time=9000,rings=5\n        Event=WaterOn,time=6000\n        Event=LightOff,time=4000\n        Event=Terminate,time=20000\n        Event=FansOn,time=7000\n        Event=FansOff,time=8000\n        &quot;&quot;&quot;;\nList &lt; String &gt; list = new ArrayList &lt;&gt; ( );\nfor ( String line : input.lines ( ).toList ( ) )\n{\n    for ( String pair : line.split ( &quot;,&quot; ) )\n    {\n        for ( String keyOrValue : pair.split ( &quot;=&quot; ) )\n        {\n            list.add ( keyOrValue );\n        }\n    }\n}\nString[] array = list.toArray ( String[] :: new );\n</code></pre>\n<blockquote>\n<p>array = [Event, ThermostatNight, time, 0, Event, LightOn, time, 2000, Event, WaterOff, time, 10000, Event, ThermostatDay, time, 12000, Event, Bell, time, 9000, rings, 5, Event, WaterOn, time, 6000, Event, LightOff, time, 4000, Event, Terminate, time, 20000, Event, FansOn, time, 7000, Event, FansOff, time, 8000]</p>\n</blockquote>\n<hr />\n<p>Your <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> might suggest replacing that inner loop with a call to <code>addAll</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( String line : input.lines ( ).toList ( ) )\n{\n    for ( String pair : line.split ( &quot;,&quot; ) )\n    {\n        list.addAll ( Arrays.asList ( pair.split ( &quot;=&quot; ) ) );\n    }\n}\n</code></pre>\n<hr />\n<p>For even more compact code, we can use streams and <code>flatMap</code> to produce a one-liner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] array =\n        input\n                .lines ( )\n                .flatMap ( line -&gt; Arrays.stream ( line.split ( &quot;,&quot; ) ) )\n                .flatMap ( pair -&gt; Arrays.stream ( pair.split ( &quot;=&quot; ) ) )\n                .toArray ( String[] :: new );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693178739,"creation_date":1693178605,"answer_id":76989306,"question_id":76989273,"body_markdown":"You should delimit your data one step at a time, and parse one line at a time rather than doing it all at once.\r\n\r\nSo in your case, each line (content.nextLine) should be split by a comma:\r\n\r\n    String attributes = line.split(&#39;,&#39;);\r\n\r\nThen, take your *attributes* and split them individually to get your key and value:\r\n\r\n    for(String attribute : attributes) {\r\n        String pairs = attribute.split(&#39;=&#39;);\r\n        String key = attribute[0]; // Event, or time\r\n        String value = attribute[1]; // LightsOn, or 2000\r\n\r\n        // Do stuff with key and value, like add in your array\r\n    }\r\n\r\nAs a side note:\r\n\r\nUnless you are required to add it to a primitive array, I would recommend making an object to represent the data you are parsing. That way you can just add a new object of that data (i.e. Event(String name, long time)) into an ArrayList of Events.","title":"How do you split at the end of the line in Java?","body":"<p>You should delimit your data one step at a time, and parse one line at a time rather than doing it all at once.</p>\n<p>So in your case, each line (content.nextLine) should be split by a comma:</p>\n<pre><code>String attributes = line.split(',');\n</code></pre>\n<p>Then, take your <em>attributes</em> and split them individually to get your key and value:</p>\n<pre><code>for(String attribute : attributes) {\n    String pairs = attribute.split('=');\n    String key = attribute[0]; // Event, or time\n    String value = attribute[1]; // LightsOn, or 2000\n\n    // Do stuff with key and value, like add in your array\n}\n</code></pre>\n<p>As a side note:</p>\n<p>Unless you are required to add it to a primitive array, I would recommend making an object to represent the data you are parsing. That way you can just add a new object of that data (i.e. Event(String name, long time)) into an ArrayList of Events.</p>\n"},{"comments":[{"owner":{"account_id":12796462,"reputation":3,"user_id":22456413,"display_name":"4K4K1N"},"score":1,"creation_date":1693187760,"post_id":76989610,"comment_id":135722586,"body_markdown":"This worked, thank you! Getting rid of the StringBuilder helped, and adding the correct values to the delimiter did the trick. I tested the code and it&#39;s outputting properly now.","body":"This worked, thank you! Getting rid of the StringBuilder helped, and adding the correct values to the delimiter did the trick. I tested the code and it&#39;s outputting properly now."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693228227,"post_id":76989610,"comment_id":135728515,"body_markdown":"Note that there is a pattern for handling all kinds of line breaks, `\\R`, eliminating the need to use something like `\\r\\n?|\\n`. Further, `Scanner` supports the Stream API since Java&#160;9, so you can simply use, e.g. `String[] array; try(Scanner s = new Scanner(new File(&quot;file.txt&quot;)) .useDelimiter(&quot;\\\\R|[,=]&quot;)) { array = s.tokens().toArray(String[]::new); }` (a `Scanner` has to be closed the same way a `Reader` has to be closed)","body":"Note that there is a pattern for handling all kinds of line breaks, <code>\\R</code>, eliminating the need to use something like <code>\\r\\n?|\\n</code>. Further, <code>Scanner</code> supports the Stream API since Java 9, so you can simply use, e.g. <code>String[] array; try(Scanner s = new Scanner(new File(&quot;file.txt&quot;)) .useDelimiter(&quot;\\\\R|[,=]&quot;)) { array = s.tokens().toArray(String[]::new); }</code> (a <code>Scanner</code> has to be closed the same way a <code>Reader</code> has to be closed)"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693233310,"post_id":76989610,"comment_id":135729734,"body_markdown":"@Holger, I heard there is some bug with `\\R`, where it counts the `\\r\\n` incorrectly.  A `\\R\\R` will match a `\\r\\n`, which is incorrect; a single `\\R` should match the entire sequence.  I haven&#39;t researched it much from there, so I wouldn&#39;t recommend it.  The _Scanner_ stream is nice, I don&#39;t use _Scanner_ much.  You should add it as an answer.","body":"@Holger, I heard there is some bug with <code>\\R</code>, where it counts the <code>\\r\\n</code> incorrectly.  A <code>\\R\\R</code> will match a <code>\\r\\n</code>, which is incorrect; a single <code>\\R</code> should match the entire sequence.  I haven&#39;t researched it much from there, so I wouldn&#39;t recommend it.  The <i>Scanner</i> stream is nice, I don&#39;t use <i>Scanner</i> much.  You should add it as an answer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693234936,"post_id":76989610,"comment_id":135730144,"body_markdown":"Well, `&quot;\\r\\n&quot;.matches(&quot;\\\\R\\\\R&quot;)` evaluates to `true`, which is to be expected considering how `matches` work. The same happens with your pattern, i.e. `&quot;\\r\\n&quot;.matches(&quot;(\\r\\n?|\\n){2}&quot;)` also evaluates to `true`. But this does not affect the way, `split` works. In other words, both, `&quot;X\\r\\nY&quot;.split(&quot;\\\\R&quot;)` and `&quot;X\\r\\nY&quot;.split(&quot;\\r\\n?|\\n&quot;)` correctly produce an array with two strings, `&quot;X&quot;`, `&quot;Y&quot;`, with no empty strings in-between.","body":"Well, <code>&quot;\\r\\n&quot;.matches(&quot;\\\\R\\\\R&quot;)</code> evaluates to <code>true</code>, which is to be expected considering how <code>matches</code> work. The same happens with your pattern, i.e. <code>&quot;\\r\\n&quot;.matches(&quot;(\\r\\n?|\\n){2}&quot;)</code> also evaluates to <code>true</code>. But this does not affect the way, <code>split</code> works. In other words, both, <code>&quot;X\\r\\nY&quot;.split(&quot;\\\\R&quot;)</code> and <code>&quot;X\\r\\nY&quot;.split(&quot;\\r\\n?|\\n&quot;)</code> correctly produce an array with two strings, <code>&quot;X&quot;</code>, <code>&quot;Y&quot;</code>, with no empty strings in-between."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693199156,"creation_date":1693186847,"answer_id":76989610,"question_id":76989273,"body_markdown":"&gt; _&quot;... I&#39;m trying to store the above into an array ...&quot;_\r\n\r\n&gt; _&quot;... I&#39;m not sure if I should be using a new line as a split point or white space, or I might just be looking at this the wrong way ...&quot;_\r\n\r\nThere are several ways to accomplish this task.\r\n\r\nYou can add more values to the _[Scanner#useDelimiter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#useDelimiter(java.lang.String))_ call, and then use _[next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next())_, instead of _[nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_.\r\n\r\n```none\r\n\\r\\n?|\\n|[,=]\r\n```\r\n\r\nThis will allow you to get rid of the _StringBuilder_.  \r\nAnd for the _wordsArray_, use a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ initially, and convert to an array when needed.\r\n\r\n```java\r\ntry {\r\n\r\nScanner content = new Scanner(new File(&quot;file.txt&quot;)).useDelimiter(&quot;\\r\\n?|\\n|[,=]&quot;);\r\n\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\nwhile(content.hasNext()) {\r\n    list.add(content.next());\r\n        }\r\n\r\nString[] wordsArray = list.toArray(new String[0]);\r\n\r\n//Test what is at each index\r\nSystem.out.println(wordsArray[3]);\r\n}\r\n\r\ncatch (FileNotFoundException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nOr, use the _Scanner_ as is, without a modified delimiter, and use the _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ method.\r\n\r\n```java\r\nwhile(content.hasNextLine())\r\n    wordsArray.addAll(List.of(content.nextLine().split(&quot;[,=]&quot;)));\r\n```\r\n\r\n```java\r\ntry {\r\n\r\nScanner content = new Scanner(new File(&quot;file.txt&quot;));\r\n\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\nwhile(content.hasNext()) {\r\n    list.addAll(List.of(content.nextLine().split(&quot;[,=]&quot;)));\r\n        }\r\n\r\nString[] wordsArray = list.toArray(new String[0]);\r\n\r\n//Test what is at each index\r\nSystem.out.println(wordsArray[3]);\r\n}\r\n\r\ncatch (FileNotFoundException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n0\r\n```\r\n\r\n&gt; _&quot;... Again not sure if I might just be looking at this the wrong way or taking the wrong approach. Any help is greatly appreciated.&quot;_\r\n\r\nInstead of _Scanner_, you can use the _[BufferedReader](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html)_ class, which offers the _[lines](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html#lines())_ method.\r\n\r\n```java\r\ntry (BufferedReader reader = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\r\n    List&lt;String&gt; list = reader.lines()\r\n                              .flatMap(x -&gt; Stream.of(x.split(&quot;[,=]&quot;)))\r\n                                                  .toList();\r\n}\r\n```","title":"How do you split at the end of the line in Java?","body":"<blockquote>\n<p><em>&quot;... I'm trying to store the above into an array ...&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;... I'm not sure if I should be using a new line as a split point or white space, or I might just be looking at this the wrong way ...&quot;</em></p>\n</blockquote>\n<p>There are several ways to accomplish this task.</p>\n<p>You can add more values to the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#useDelimiter(java.lang.String)\" rel=\"nofollow noreferrer\">Scanner#useDelimiter</a></em> call, and then use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">next</a></em>, instead of <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">nextLine</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\r\\n?|\\n|[,=]\n</code></pre>\n<p>This will allow you to get rid of the <em>StringBuilder</em>.<br />\nAnd for the <em>wordsArray</em>, use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> initially, and convert to an array when needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\nScanner content = new Scanner(new File(&quot;file.txt&quot;)).useDelimiter(&quot;\\r\\n?|\\n|[,=]&quot;);\n\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\nwhile(content.hasNext()) {\n    list.add(content.next());\n        }\n\nString[] wordsArray = list.toArray(new String[0]);\n\n//Test what is at each index\nSystem.out.println(wordsArray[3]);\n}\n\ncatch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Or, use the <em>Scanner</em> as is, without a modified delimiter, and use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(content.hasNextLine())\n    wordsArray.addAll(List.of(content.nextLine().split(&quot;[,=]&quot;)));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\nScanner content = new Scanner(new File(&quot;file.txt&quot;));\n\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\nwhile(content.hasNext()) {\n    list.addAll(List.of(content.nextLine().split(&quot;[,=]&quot;)));\n        }\n\nString[] wordsArray = list.toArray(new String[0]);\n\n//Test what is at each index\nSystem.out.println(wordsArray[3]);\n}\n\ncatch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>0\n</code></pre>\n<blockquote>\n<p><em>&quot;... Again not sure if I might just be looking at this the wrong way or taking the wrong approach. Any help is greatly appreciated.&quot;</em></p>\n</blockquote>\n<p>Instead of <em>Scanner</em>, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">BufferedReader</a></em> class, which offers the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/BufferedReader.html#lines()\" rel=\"nofollow noreferrer\">lines</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader reader = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\n    List&lt;String&gt; list = reader.lines()\n                              .flatMap(x -&gt; Stream.of(x.split(&quot;[,=]&quot;)))\n                                                  .toList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693217715,"creation_date":1693217715,"answer_id":76991904,"question_id":76989273,"body_markdown":"A someone mentioned above, you would be better off taking an OO approach to modelling your event. Note the anomalous record with the &quot;rings&quot; attribute. That would be another way of describing *repetitions*. It&#39;s a bell here, but could have been a buzzer or something else.\r\nOnce you&#39;ve done that, you can parse the file into `Event` objects:\r\n```\r\npublic class Event {\r\n    private String name;\r\n    private int duration;\r\n    private int numRepetitions;\r\n\r\n    public Event() {\r\n    }\r\n\r\n    public Event(String name, int duration, int numRepetitions) {\r\n        this.name = name;\r\n        this.duration = duration;\r\n        this.numRepetitions = numRepetitions;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public int getDuration() {\r\n        return this.duration;\r\n    }\r\n\r\n    public int getNumRepetitions() {\r\n        return this.numRepetitions;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setDuration(int duration) {\r\n        this.duration = duration;\r\n    }\r\n\r\n    public void setNumRepetitions(int numRepetitions) {\r\n        this.numRepetitions = numRepetitions;\r\n    }\r\n\r\n    public static Event fromCsv(String[] tokens) {\r\n        if (tokens.length == 4) {\r\n            return new Event(tokens[1], Integer.parseInt(tokens[3]), 0);\r\n        } else {\r\n            return new Event(tokens[1], Integer.parseInt(tokens[3]), Integer.parseInt(tokens[5]));\r\n        }\r\n    }\r\n\r\n    public String toString() {\r\n        return String.format(&quot;%s=%s,%s=%d,%s=%d&quot;, &quot;name&quot;, name, &quot;duration&quot;, duration, &quot;numRepetitions&quot;, numRepetitions);\r\n    }\r\n}\r\n```\r\nParse the file:\r\n```\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Files;\r\nimport java.util.List;\r\nimport java.io.IOException;\r\n\r\npublic class EventParser {\r\n    public static void main(String[] args) throws Exception {\r\n        List&lt;Event&gt; events = EventParser.parseEvents(Path.of(args[0]));\r\n        events.forEach(System.out::println);\r\n    }\r\n\r\n    public static List&lt;Event&gt; parseEvents(Path p) throws IOException {\r\n        return Files.lines(p)\r\n            .map(line -&gt;line.split(&quot;[,=]&quot;))\r\n            .map(Event::fromCsv)\r\n            .toList();\r\n    }\r\n\r\n}\r\n```\r\nGiving the output:\r\n```\r\nname=ThermostatNight,duration=0,numRepetitions=0\r\nname=LightOn,duration=2000,numRepetitions=0\r\nname=WaterOff,duration=10000,numRepetitions=0\r\nname=ThermostatDay,duration=12000,numRepetitions=0\r\nname=Bell,duration=9000,numRepetitions=5\r\nname=WaterOn,duration=6000,numRepetitions=0\r\nname=LightOff,duration=4000,numRepetitions=0\r\nname=Terminate,duration=20000,numRepetitions=0\r\nname=FansOn,duration=7000,numRepetitions=0\r\nname=FansOff,duration=8000,numRepetitions=0\r\n```","title":"How do you split at the end of the line in Java?","body":"<p>A someone mentioned above, you would be better off taking an OO approach to modelling your event. Note the anomalous record with the &quot;rings&quot; attribute. That would be another way of describing <em>repetitions</em>. It's a bell here, but could have been a buzzer or something else.\nOnce you've done that, you can parse the file into <code>Event</code> objects:</p>\n<pre><code>public class Event {\n    private String name;\n    private int duration;\n    private int numRepetitions;\n\n    public Event() {\n    }\n\n    public Event(String name, int duration, int numRepetitions) {\n        this.name = name;\n        this.duration = duration;\n        this.numRepetitions = numRepetitions;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public int getDuration() {\n        return this.duration;\n    }\n\n    public int getNumRepetitions() {\n        return this.numRepetitions;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setDuration(int duration) {\n        this.duration = duration;\n    }\n\n    public void setNumRepetitions(int numRepetitions) {\n        this.numRepetitions = numRepetitions;\n    }\n\n    public static Event fromCsv(String[] tokens) {\n        if (tokens.length == 4) {\n            return new Event(tokens[1], Integer.parseInt(tokens[3]), 0);\n        } else {\n            return new Event(tokens[1], Integer.parseInt(tokens[3]), Integer.parseInt(tokens[5]));\n        }\n    }\n\n    public String toString() {\n        return String.format(&quot;%s=%s,%s=%d,%s=%d&quot;, &quot;name&quot;, name, &quot;duration&quot;, duration, &quot;numRepetitions&quot;, numRepetitions);\n    }\n}\n</code></pre>\n<p>Parse the file:</p>\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Files;\nimport java.util.List;\nimport java.io.IOException;\n\npublic class EventParser {\n    public static void main(String[] args) throws Exception {\n        List&lt;Event&gt; events = EventParser.parseEvents(Path.of(args[0]));\n        events.forEach(System.out::println);\n    }\n\n    public static List&lt;Event&gt; parseEvents(Path p) throws IOException {\n        return Files.lines(p)\n            .map(line -&gt;line.split(&quot;[,=]&quot;))\n            .map(Event::fromCsv)\n            .toList();\n    }\n\n}\n</code></pre>\n<p>Giving the output:</p>\n<pre><code>name=ThermostatNight,duration=0,numRepetitions=0\nname=LightOn,duration=2000,numRepetitions=0\nname=WaterOff,duration=10000,numRepetitions=0\nname=ThermostatDay,duration=12000,numRepetitions=0\nname=Bell,duration=9000,numRepetitions=5\nname=WaterOn,duration=6000,numRepetitions=0\nname=LightOff,duration=4000,numRepetitions=0\nname=Terminate,duration=20000,numRepetitions=0\nname=FansOn,duration=7000,numRepetitions=0\nname=FansOff,duration=8000,numRepetitions=0\n</code></pre>\n"}],"owner":{"account_id":12796462,"reputation":3,"user_id":22456413,"display_name":"4K4K1N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76989610,"answer_count":4,"score":0,"last_activity_date":1693233225,"creation_date":1693177807,"question_id":76989273,"body_markdown":"I have a .txt file that looks like this:\r\n\r\n    Event=ThermostatNight,time=0\r\n    Event=LightOn,time=2000\r\n    Event=WaterOff,time=10000\r\n    Event=ThermostatDay,time=12000\r\n    Event=Bell,time=9000,rings=5\r\n    Event=WaterOn,time=6000\r\n    Event=LightOff,time=4000\r\n    Event=Terminate,time=20000\r\n    Event=FansOn,time=7000\r\n    Event=FansOff,time=8000\r\n\r\nI&#39;m trying to store the above into an array, for example the array should be:\r\n\r\n    [0] = Event\r\n    [1] = ThermostatNight\r\n    [2] = time\r\n    [3] = 0\r\n    [4] = Event\r\n    [5] = LightOn\r\n    [6] = time\r\n    [7] = 2000\r\n    //.... etc\r\n\r\nBasically I&#39;m trying to store the event name as a variable and the time as another variable and using = and , as split points. However, at index [3] shows &quot;0Event&quot; and index [6] shows &quot;2000Event&quot;, etc.\r\n\r\nI&#39;m not sure if I should be using a new line as a split point or white space, or I might just be looking at this the wrong way. Here is my code:\r\n\r\npublic static void main(String[] args) {\r\n\r\n    try {\r\n    \t\r\n    Scanner content = new Scanner(new File(&quot;file.txt&quot;)).useDelimiter(&quot;,&quot;);\r\n    \r\n    StringBuilder sb = new StringBuilder();\r\n    \t\r\n    while(content.hasNext()) {\r\n        sb.append(content.nextLine());\r\n    \t\t}\r\n    \r\n    String[] wordsArray = sb.toString().split(&quot;[=,]&quot;);\r\n    \r\n    //Test what is at each index\r\n    System.out.println(wordsArray[3]);\t\t\t\r\n    }\r\n    \t\r\n    catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\n\r\n\r\nI&#39;ve been playing around with String[] wordsArray = sb.toString().split(&quot;[=,]&quot;); and have tried modifying the code to:\r\n\r\n    .split(&quot;\\[=,\\\\n\\]&quot;)\r\n    .split(&quot;\\[=,\\\\s\\]&quot;)\r\n    .split(&quot;\\[=,\\\\n\\]&quot;)\r\n    ...etc\r\nand many other different arguments inside of .split.\r\n\r\nBut I still keep getting index [3] and [6] as 0Event and 2000Event.\r\n\r\nAgain not sure if I might just be looking at this the wrong way or taking the wrong approach. Any help is greatly appreciated.","title":"How do you split at the end of the line in Java?","body":"<p>I have a .txt file that looks like this:</p>\n<pre><code>Event=ThermostatNight,time=0\nEvent=LightOn,time=2000\nEvent=WaterOff,time=10000\nEvent=ThermostatDay,time=12000\nEvent=Bell,time=9000,rings=5\nEvent=WaterOn,time=6000\nEvent=LightOff,time=4000\nEvent=Terminate,time=20000\nEvent=FansOn,time=7000\nEvent=FansOff,time=8000\n</code></pre>\n<p>I'm trying to store the above into an array, for example the array should be:</p>\n<pre><code>[0] = Event\n[1] = ThermostatNight\n[2] = time\n[3] = 0\n[4] = Event\n[5] = LightOn\n[6] = time\n[7] = 2000\n//.... etc\n</code></pre>\n<p>Basically I'm trying to store the event name as a variable and the time as another variable and using = and , as split points. However, at index [3] shows &quot;0Event&quot; and index [6] shows &quot;2000Event&quot;, etc.</p>\n<p>I'm not sure if I should be using a new line as a split point or white space, or I might just be looking at this the wrong way. Here is my code:</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>try {\n    \nScanner content = new Scanner(new File(&quot;file.txt&quot;)).useDelimiter(&quot;,&quot;);\n\nStringBuilder sb = new StringBuilder();\n    \nwhile(content.hasNext()) {\n    sb.append(content.nextLine());\n        }\n\nString[] wordsArray = sb.toString().split(&quot;[=,]&quot;);\n\n//Test what is at each index\nSystem.out.println(wordsArray[3]);          \n}\n    \ncatch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>}</p>\n<p>I've been playing around with String[] wordsArray = sb.toString().split(&quot;[=,]&quot;); and have tried modifying the code to:</p>\n<pre><code>.split(&quot;\\[=,\\\\n\\]&quot;)\n.split(&quot;\\[=,\\\\s\\]&quot;)\n.split(&quot;\\[=,\\\\n\\]&quot;)\n...etc\n</code></pre>\n<p>and many other different arguments inside of .split.</p>\n<p>But I still keep getting index [3] and [6] as 0Event and 2000Event.</p>\n<p>Again not sure if I might just be looking at this the wrong way or taking the wrong approach. Any help is greatly appreciated.</p>\n"},{"tags":["java","logging","slf4j","lombok","default-method"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1602949639,"post_id":64404180,"comment_id":113883969,"body_markdown":"It would probably be better to `throw UnsupportedOperationException(&quot;default doThisAndThat()&quot;)` instead of logging error. If the method is not implemented in the class, and gets called, an exception prevents code from continuing as-if nothing went wrong, while logging lets the code silently continue and then maybe someone would eventually read the log and realize that something is horribly wrong with the code.","body":"It would probably be better to <code>throw UnsupportedOperationException(&quot;default doThisAndThat()&quot;)</code> instead of logging error. If the method is not implemented in the class, and gets called, an exception prevents code from continuing as-if nothing went wrong, while logging lets the code silently continue and then maybe someone would eventually read the log and realize that something is horribly wrong with the code."},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1602950332,"post_id":64404180,"comment_id":113884169,"body_markdown":"@Andreas Yes, you are correct about that but actually it was just to log anything, not just error. So my bad that I chose to log **error** :)","body":"@Andreas Yes, you are correct about that but actually it was just to log anything, not just error. So my bad that I chose to log <b>error</b> :)"}],"answers":[{"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":1,"creation_date":1602951560,"post_id":64404268,"comment_id":113884534,"body_markdown":"Yes, I see it now, thanks for the delombok. The only way to do is then to declare it without Lombok and as public. Instead of that I was also thinking to change MyIFace to have method `Logger getLogger()` so that the implementing classes must return what comes with @Slf4j. Advantage is that I get the actual class when logging but on the other hand it then exposes logger of each individual implementing class. So you just can&#39;t get a &#39;perfect&#39; solution with this because of public nature of interface.","body":"Yes, I see it now, thanks for the delombok. The only way to do is then to declare it without Lombok and as public. Instead of that I was also thinking to change MyIFace to have method <code>Logger getLogger()</code> so that the implementing classes must return what comes with @Slf4j. Advantage is that I get the actual class when logging but on the other hand it then exposes logger of each individual implementing class. So you just can&#39;t get a &#39;perfect&#39; solution with this because of public nature of interface."},{"owner":{"account_id":2259577,"reputation":1154,"user_id":1989988,"accept_rate":48,"display_name":"iAmLearning"},"score":0,"creation_date":1623078995,"post_id":64404268,"comment_id":119970152,"body_markdown":"This further genearted a sonar issue- squid:S1214(Constants should not be defined in interfaces)","body":"This further genearted a sonar issue- squid:S1214(Constants should not be defined in interfaces)"},{"owner":{"account_id":6225989,"reputation":662,"user_id":4844216,"display_name":"Ilario"},"score":0,"creation_date":1661871989,"post_id":64404268,"comment_id":129872163,"body_markdown":"@pirho in the interface you can do `LoggerFactory.getLogger(getClass());` which will give you a logger for the actual class and not the MyIFace...","body":"@pirho in the interface you can do <code>LoggerFactory.getLogger(getClass());</code> which will give you a logger for the actual class and not the MyIFace..."}],"tags":[],"owner":{"account_id":1032025,"reputation":2197,"user_id":6591962,"display_name":"Andrei Kovrov"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1602949229,"creation_date":1602949229,"answer_id":64404268,"question_id":64404180,"body_markdown":"You can&#39;t use Lombok here because the annotation generates:\r\n\r\n```\r\n\r\nprivate static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(YourClass.class);\r\n\r\n```\r\n\r\nYou can&#39;t use **private** keyword with an interface.\r\n\r\nThe workaround is to write directly\r\n\r\n``` java\r\n\r\ninterface MyIFace {\r\n\r\n   org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(MyIFace.class);\r\n\r\n   default ThickAndThin doThisAndThat() {\r\n     log.error(&quot;default doThisAndThat() called&quot;); \r\n   }\r\n\r\n}\r\n\r\n\r\n```  \r\n\r\n","title":"Lombok @Slf4j and interfaces?","body":"<p>You can't use Lombok here because the annotation generates:</p>\n<pre><code>\nprivate static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(YourClass.class);\n\n</code></pre>\n<p>You can't use <strong>private</strong> keyword with an interface.</p>\n<p>The workaround is to write directly</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ninterface MyIFace {\n\n   org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(MyIFace.class);\n\n   default ThickAndThin doThisAndThat() {\n     log.error(&quot;default doThisAndThat() called&quot;); \n   }\n\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3313719,"reputation":83,"user_id":2786531,"display_name":"user2786531"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693232847,"creation_date":1693232847,"answer_id":76993692,"question_id":64404180,"body_markdown":"With Java 9+ you could use private methods to prevent logger from being public static\r\n\r\n    public interface MyIFace {\r\n        private Logger log() {\r\n            return LoggerFactory.getLogger(MyIFace.class);\r\n        }\r\n    \r\n        default void doThisAndThat() {\r\n            log().error(&quot;default doThisAndThat() called&quot;);\r\n        }\r\n    }","title":"Lombok @Slf4j and interfaces?","body":"<p>With Java 9+ you could use private methods to prevent logger from being public static</p>\n<pre><code>public interface MyIFace {\n    private Logger log() {\n        return LoggerFactory.getLogger(MyIFace.class);\n    }\n\n    default void doThisAndThat() {\n        log().error(&quot;default doThisAndThat() called&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9311,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":64404268,"answer_count":2,"score":13,"last_activity_date":1693232847,"creation_date":1602948652,"question_id":64404180,"body_markdown":"I am trying to add logging to my interface default method. For example:\r\n\r\n    @Slf4j // not allowed\r\n    interface MyIFace {\r\n        default ThickAndThin doThisAndThat() {\r\n            log.error(&quot;default doThisAndThat() called&quot;); \r\n        }\r\n    }\r\n\r\nProblem is that I get:\r\n\r\n&gt; @Slf4j is legal only on classes and enums.\r\n\r\nWhat would be the proper way to deal with this?\r\n\r\n","title":"Lombok @Slf4j and interfaces?","body":"<p>I am trying to add logging to my interface default method. For example:</p>\n<pre><code>@Slf4j // not allowed\ninterface MyIFace {\n    default ThickAndThin doThisAndThat() {\n        log.error(&quot;default doThisAndThat() called&quot;); \n    }\n}\n</code></pre>\n<p>Problem is that I get:</p>\n<blockquote>\n<p>@Slf4j is legal only on classes and enums.</p>\n</blockquote>\n<p>What would be the proper way to deal with this?</p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1693197730,"post_id":76989593,"comment_id":135723289,"body_markdown":"Did you start at https://openjfx.io/openjfx-docs/#introduction","body":"Did you start at <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#introduction</a>"},{"owner":{"account_id":14932028,"reputation":721,"user_id":10781182,"display_name":"Lockna"},"score":2,"creation_date":1693206051,"post_id":76989593,"comment_id":135724336,"body_markdown":"I used https://gluonhq.com/products/javafx/. macOS aarch64 Version","body":"I used <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">gluonhq.com/products/javafx</a>. macOS aarch64 Version"}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693234177,"post_id":76990469,"comment_id":135729932,"body_markdown":"&quot;_Project : =&gt; no module-info.java found_&quot;  That comes from the `org.javamodularity.moduleplugin` plugin, which is implicitly applied by the `org.openjfx.javafxplugin` plugin, by the way. And it&#39;s actually the latter plugin that handles downloading the correct JavaFX artifact for the current platform (detected via [osdetector-gradle-plugin](https://github.com/google/osdetector-gradle-plugin)). Note this implemented using classifiers and works better in Maven, as transitive dependency resolution appears to break in Gradle when using classifiers.","body":"&quot;<i>Project : =&gt; no module-info.java found</i>&quot;  That comes from the <code>org.javamodularity.moduleplugin</code> plugin, which is implicitly applied by the <code>org.openjfx.javafxplugin</code> plugin, by the way. And it&#39;s actually the latter plugin that handles downloading the correct JavaFX artifact for the current platform (detected via <a href=\"https://github.com/google/osdetector-gradle-plugin\" rel=\"nofollow noreferrer\">osdetector-gradle-plugin</a>). Note this implemented using classifiers and works better in Maven, as transitive dependency resolution appears to break in Gradle when using classifiers."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693234365,"post_id":76990469,"comment_id":135729983,"body_markdown":"That&#39;s why I consider the Gradle JavaFX plugin _required_ when developing a JavaFX application with Gradle (unless you&#39;re using a JDK that includes JavaFX). Though I&#39;ve always wondered if Gradle&#39;s so-called &quot;variants&quot; would make it easier to work with JavaFX in Gradle. Not very familiar with that feature, however, and it would require changes to the OpenJFX build file(s), if I understand correctly.","body":"That&#39;s why I consider the Gradle JavaFX plugin <i>required</i> when developing a JavaFX application with Gradle (unless you&#39;re using a JDK that includes JavaFX). Though I&#39;ve always wondered if Gradle&#39;s so-called &quot;variants&quot; would make it easier to work with JavaFX in Gradle. Not very familiar with that feature, however, and it would require changes to the OpenJFX build file(s), if I understand correctly."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693234781,"post_id":76990469,"comment_id":135730092,"body_markdown":"&quot;_For someone starting out dabbling with JavaFX, I suggest the bundled-with-JDK option_&quot;  If viable, I would suggest using the bundled-with-JDK option always, as then `jlink` / `jpackage` will implicitly use the JMOD files of the JavaFX modules. Otherwise, you have to download them from Gluon and point to them manually. [Using the JMOD files is &quot;cleaner&quot; than the native-code-embedded-in-JARs Maven artifacts](https://stackoverflow.com/a/61294909/6395627). The embedded approach requires extracting the native code (done automatically) before it can be used.","body":"&quot;<i>For someone starting out dabbling with JavaFX, I suggest the bundled-with-JDK option</i>&quot;  If viable, I would suggest using the bundled-with-JDK option always, as then <code>jlink</code> / <code>jpackage</code> will implicitly use the JMOD files of the JavaFX modules. Otherwise, you have to download them from Gluon and point to them manually. <a href=\"https://stackoverflow.com/a/61294909/6395627\">Using the JMOD files is &quot;cleaner&quot; than the native-code-embedded-in-JARs Maven artifacts</a>. The embedded approach requires extracting the native code (done automatically) before it can be used."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693235333,"post_id":76990469,"comment_id":135730263,"body_markdown":"&quot;_But for professional development, you will likely want your project to be modularized so you can use jlink to bundle_&quot;  Not always practical, as many libraries have yet to go modular, if they ever will. There are tools that attempt to make non-modular deps into modular deps while packaging an application, but I don&#39;t know how well that works. Though I want to point out this is only a problem when _only_ using `jlink`. The `jpackage` tool can work with non-modular applications (meaning you can have some deps, e.g., JavaFX, in the run-time image, and put everything else on the class-path).","body":"&quot;<i>But for professional development, you will likely want your project to be modularized so you can use jlink to bundle</i>&quot;  Not always practical, as many libraries have yet to go modular, if they ever will. There are tools that attempt to make non-modular deps into modular deps while packaging an application, but I don&#39;t know how well that works. Though I want to point out this is only a problem when <i>only</i> using <code>jlink</code>. The <code>jpackage</code> tool can work with non-modular applications (meaning you can have some deps, e.g., JavaFX, in the run-time image, and put everything else on the class-path)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693244979,"post_id":76990469,"comment_id":135732170,"body_markdown":"@Slaw May I suggest you create a Question and Answer to explain your points raised here? Building a JavaFX app for deployment is a complex and confusing process that desperately needs better documentation.","body":"@Slaw May I suggest you create a Question and Answer to explain your points raised here? Building a JavaFX app for deployment is a complex and confusing process that desperately needs better documentation."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1693245264,"post_id":76990469,"comment_id":135732225,"body_markdown":"For reference, [`https://jdk.java.net`](https://jdk.java.net) hosts recent OpenJDK builds for both x86 and AArch64.","body":"For reference, <a href=\"https://jdk.java.net\" rel=\"nofollow noreferrer\"><code>https:&#47;&#47;jdk.java.net</code></a> hosts recent OpenJDK builds for both x86 and AArch64."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693924255,"post_id":76990469,"comment_id":135821818,"body_markdown":"Well, interestingly it looks like the Gradle plugin has [been updated](https://github.com/openjfx/javafx-gradle-plugin/releases/tag/0.1.0) to use Gradle variants.","body":"Well, interestingly it looks like the Gradle plugin has <a href=\"https://github.com/openjfx/javafx-gradle-plugin/releases/tag/0.1.0\" rel=\"nofollow noreferrer\">been updated</a> to use Gradle variants."},{"owner":{"account_id":793512,"reputation":788,"user_id":900699,"accept_rate":17,"display_name":"Graham Seed"},"score":0,"creation_date":1696342730,"post_id":76990469,"comment_id":136138661,"body_markdown":"@Slaw&#39;s comment is valid. Try using Netty in a JavaFX modular project and you&#39;ll find both jlink and JavaFX&#39;s Maven jlink plugin complain that it doesn&#39;t work with non-module automatic libs. Then try generating the module-info descriptor using ModTect, and good luck :-) and then also add non-module libs argparse4j and usb4java, etc into your project. That&#39;s with J21 and modules were added way back in J9.","body":"@Slaw&#39;s comment is valid. Try using Netty in a JavaFX modular project and you&#39;ll find both jlink and JavaFX&#39;s Maven jlink plugin complain that it doesn&#39;t work with non-module automatic libs. Then try generating the module-info descriptor using ModTect, and good luck :-) and then also add non-module libs argparse4j and usb4java, etc into your project. That&#39;s with J21 and modules were added way back in J9."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696358125,"post_id":76990469,"comment_id":136141754,"body_markdown":"@GrahamSeed Yes, it&#39;s unfortunate many libraries won&#39;t update to add a module-info descriptor. Though just want to make sure it&#39;s clear that you should still be able to use a tool like `jpackage` (you can mix `--module-path` / `--add-modules` for those dependencies you want in the run-time image with `--input` / `--main-jar` for everything that needs to be on the class-path).","body":"@GrahamSeed Yes, it&#39;s unfortunate many libraries won&#39;t update to add a module-info descriptor. Though just want to make sure it&#39;s clear that you should still be able to use a tool like <code>jpackage</code> (you can mix <code>--module-path</code> / <code>--add-modules</code> for those dependencies you want in the run-time image with <code>--input</code> / <code>--main-jar</code> for everything that needs to be on the class-path)."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693232766,"creation_date":1693204209,"answer_id":76990469,"question_id":76989593,"body_markdown":"# tl;dr\r\n\r\nYou seem to have two problems:\r\n\r\n - Missing `module-java.java` file necessary for a modularized app\r\n - Wrong installation of JavaFX, for Intel chips rather than Apple Silicon chips like the M1.\r\n\r\n# Modularize\r\n\r\nApparently some part of your configuration, or some library, expects your project to be modularized per [Java Platform Module System (JPMS)][1]. I say this because of your error:\r\n\r\n&gt;Project : =&gt; no module-info.java found\r\n\r\nThe `module-java.java` file is where you specify your module configuration. Apparently you do not have one.\r\n\r\n# Obtaining JavaFX technology\r\n\r\nThree routes to accessing JavaFX: \r\n\r\n- Manually download JavaFX implementation. See the [Gluon downloads page][2].\r\n- Have Gradle download libraries, to be a part of your development project\r\n- Develop and deploy using a JDK that comes bundled with the JavaFX/OpenJFX libraries\r\n\r\nFor someone starting out dabbling with JavaFX, I suggest the bundled-with-JDK option. \r\n\r\n## Download libraries\r\n\r\nYou *can* tell [Gradle][3] to download the necessary [OpenJFX][4] libraries that implement [JavaFX][5].\r\n\r\nOne easy way to do that is to use the JavaFX new-project template bundled with [IntelliJ][6] [IDE][7]. \r\n\r\n[![screenshot of IntelliJ new-project template dialog for JavaFX][8]][8]\r\n\r\nAfter updating the version numbers to the latest, your `build.gradle` file might look like the following.\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.12&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.26.0&#39;\r\n}\r\n\r\ngroup &#39;work.basil.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.10.0&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;20&#39;\r\ntargetCompatibility = &#39;20&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;work.basil.example.exfx&#39;\r\n    mainClass = &#39;work.basil.example.exfx.HelloApplication&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;20.0.2&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n```\r\n\r\n**CAUTION** One major problem with the Gradle version of IntelliJs new-project template for JavaFX: The project is not modularized for [Java Platform Module System (JPMS)][1]. This may be okay for dabbling with JavaFX. But for professional development, you will likely want your project to be modularized so you can use [*jlink*](https://openjdk.org/jeps/282) to bundle a slimmed-down JVM as part of your final app artifact. This lack of modularization surprised me as the Maven edition of their new-project template does indeed produce a project already configured to be modularized.\r\n\r\n## JDK bundled with JavaFX\r\n\r\nAt least two of the several JDK vendors provide an edition of the JDK products that include the necessary OpenJFX libraries that implement JavaFX.\r\n\r\n - *ZuluFX* by [Azul Systems][9] ([Wikipedia][10])\r\n - *LibericaFX* by [BellSoft][11]\r\n\r\nThose companies may also sell support for JavaFX, as might the co-leaders of JavaFX, Gluon and Oracle.\r\n\r\nTo most easily download and install these JDKs, I suggest installing [SDKMAN!][12] on your Mac. That handy bundle of shell scripts makes the download/install/uninstall chore quite simple and convenient. Just run this:\r\n\r\n```bash\r\n% sdk install java 17.0.8.fx-zulu  \r\n```\r\n\r\n to get this:\r\n\r\n```bash\r\nDownloading: java 17.0.8.fx-zulu\r\n\r\nIn progress...\r\n\r\n########################################################################################################################### 100.0%\r\n\r\nRepackaging Java 17.0.8.fx-zulu...\r\n\r\nDone repackaging...\r\n\r\nInstalling: java 17.0.8.fx-zulu\r\nDone installing!\r\n\r\nDo you want java 17.0.8.fx-zulu to be set as default? (Y/n): Y\r\n```\r\n\r\nTo see a list of all JDK products available via SDKMAN!, run this:\r\n\r\n```bash\r\nsdk list java\r\n```\r\n\r\n\r\n# Native code\r\n\r\nBe aware that JavaFX is *not* pure Java. The needed libraries contain some native code specific to the particular host [OS][13], and specific to the particular host machines chip ([instruction set architecture][14]). \r\n\r\nFor your [M1][15] Mac, you need an edition of JavaFX for [macOS][16] running on Macs with [Apple Silicon][17]. You may see options for [*aarch64*][18] or [*ARM*][19], which are compatible with Apple Silicon. \r\n\r\n - I am guessing Gradle must automatically detect your host environment and download the appropriate version. \r\n - If using the bundled-with-JDK route, for your particular Mac, be sure to obtain an edition for macOS on Apple Silicon/aarch65/ARM rather than for Intel/x64/x86-64 in older Macs.\r\n\r\nYour error message suggests that you have indeed installed for the wrong chip architecture:\r\n\r\n&gt;mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [2]: https://gluonhq.com/products/javafx/\r\n  [3]: https://en.wikipedia.org/wiki/Gradle\r\n  [4]: https://openjfx.io/\r\n  [5]: https://en.wikipedia.org/wiki/JavaFX\r\n  [6]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [7]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [8]: https://i.stack.imgur.com/F7Mi0.jpg\r\n  [9]: https://www.azul.com/\r\n  [10]: http://en.wikipedia.org/wiki/Azul_Systems\r\n  [11]: https://bell-sw.com/\r\n  [12]: https://sdkman.io/\r\n  [13]: https://en.wikipedia.org/wiki/Operating_system\r\n  [14]: https://en.wikipedia.org/wiki/Instruction_set_architecture\r\n  [15]: https://en.wikipedia.org/wiki/Apple_silicon#Apple_M1\r\n  [16]: https://en.wikipedia.org/wiki/MacOS\r\n  [17]: https://en.wikipedia.org/wiki/Apple_silicon\r\n  [18]: https://en.wikipedia.org/wiki/AArch64\r\n  [19]: https://en.wikipedia.org/wiki/ARM_architecture_family","title":"How and where can I download JavaFX on M1 Mac?","body":"<h1>tl;dr</h1>\n<p>You seem to have two problems:</p>\n<ul>\n<li>Missing <code>module-java.java</code> file necessary for a modularized app</li>\n<li>Wrong installation of JavaFX, for Intel chips rather than Apple Silicon chips like the M1.</li>\n</ul>\n<h1>Modularize</h1>\n<p>Apparently some part of your configuration, or some library, expects your project to be modularized per <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System (JPMS)</a>. I say this because of your error:</p>\n<blockquote>\n<p>Project : =&gt; no module-info.java found</p>\n</blockquote>\n<p>The <code>module-java.java</code> file is where you specify your module configuration. Apparently you do not have one.</p>\n<h1>Obtaining JavaFX technology</h1>\n<p>Three routes to accessing JavaFX:</p>\n<ul>\n<li>Manually download JavaFX implementation. See the <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">Gluon downloads page</a>.</li>\n<li>Have Gradle download libraries, to be a part of your development project</li>\n<li>Develop and deploy using a JDK that comes bundled with the JavaFX/OpenJFX libraries</li>\n</ul>\n<p>For someone starting out dabbling with JavaFX, I suggest the bundled-with-JDK option.</p>\n<h2>Download libraries</h2>\n<p>You <em>can</em> tell <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Gradle</a> to download the necessary <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> libraries that implement <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a>.</p>\n<p>One easy way to do that is to use the JavaFX new-project template bundled with <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/F7Mi0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F7Mi0.jpg\" alt=\"screenshot of IntelliJ new-project template dialog for JavaFX\" /></a></p>\n<p>After updating the version numbers to the latest, your <code>build.gradle</code> file might look like the following.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.javamodularity.moduleplugin' version '1.8.12'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.beryx.jlink' version '2.26.0'\n}\n\ngroup 'work.basil.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.10.0'\n}\n\nsourceCompatibility = '20'\ntargetCompatibility = '20'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'work.basil.example.exfx'\n    mainClass = 'work.basil.example.exfx.HelloApplication'\n}\n\njavafx {\n    version = '20.0.2'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n<p><strong>CAUTION</strong> One major problem with the Gradle version of IntelliJs new-project template for JavaFX: The project is not modularized for <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System (JPMS)</a>. This may be okay for dabbling with JavaFX. But for professional development, you will likely want your project to be modularized so you can use <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><em>jlink</em></a> to bundle a slimmed-down JVM as part of your final app artifact. This lack of modularization surprised me as the Maven edition of their new-project template does indeed produce a project already configured to be modularized.</p>\n<h2>JDK bundled with JavaFX</h2>\n<p>At least two of the several JDK vendors provide an edition of the JDK products that include the necessary OpenJFX libraries that implement JavaFX.</p>\n<ul>\n<li><em>ZuluFX</em> by <a href=\"https://www.azul.com/\" rel=\"nofollow noreferrer\">Azul Systems</a> (<a href=\"http://en.wikipedia.org/wiki/Azul_Systems\" rel=\"nofollow noreferrer\">Wikipedia</a>)</li>\n<li><em>LibericaFX</em> by <a href=\"https://bell-sw.com/\" rel=\"nofollow noreferrer\">BellSoft</a></li>\n</ul>\n<p>Those companies may also sell support for JavaFX, as might the co-leaders of JavaFX, Gluon and Oracle.</p>\n<p>To most easily download and install these JDKs, I suggest installing <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a> on your Mac. That handy bundle of shell scripts makes the download/install/uninstall chore quite simple and convenient. Just run this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>% sdk install java 17.0.8.fx-zulu  \n</code></pre>\n<p> to get this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Downloading: java 17.0.8.fx-zulu\n\nIn progress...\n\n########################################################################################################################### 100.0%\n\nRepackaging Java 17.0.8.fx-zulu...\n\nDone repackaging...\n\nInstalling: java 17.0.8.fx-zulu\nDone installing!\n\nDo you want java 17.0.8.fx-zulu to be set as default? (Y/n): Y\n</code></pre>\n<p>To see a list of all JDK products available via SDKMAN!, run this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sdk list java\n</code></pre>\n<h1>Native code</h1>\n<p>Be aware that JavaFX is <em>not</em> pure Java. The needed libraries contain some native code specific to the particular host <a href=\"https://en.wikipedia.org/wiki/Operating_system\" rel=\"nofollow noreferrer\">OS</a>, and specific to the particular host machines chip (<a href=\"https://en.wikipedia.org/wiki/Instruction_set_architecture\" rel=\"nofollow noreferrer\">instruction set architecture</a>).</p>\n<p>For your <a href=\"https://en.wikipedia.org/wiki/Apple_silicon#Apple_M1\" rel=\"nofollow noreferrer\">M1</a> Mac, you need an edition of JavaFX for <a href=\"https://en.wikipedia.org/wiki/MacOS\" rel=\"nofollow noreferrer\">macOS</a> running on Macs with <a href=\"https://en.wikipedia.org/wiki/Apple_silicon\" rel=\"nofollow noreferrer\">Apple Silicon</a>. You may see options for <a href=\"https://en.wikipedia.org/wiki/AArch64\" rel=\"nofollow noreferrer\"><em>aarch64</em></a> or <a href=\"https://en.wikipedia.org/wiki/ARM_architecture_family\" rel=\"nofollow noreferrer\"><em>ARM</em></a>, which are compatible with Apple Silicon.</p>\n<ul>\n<li>I am guessing Gradle must automatically detect your host environment and download the appropriate version.</li>\n<li>If using the bundled-with-JDK route, for your particular Mac, be sure to obtain an edition for macOS on Apple Silicon/aarch65/ARM rather than for Intel/x64/x86-64 in older Macs.</li>\n</ul>\n<p>Your error message suggests that you have indeed installed for the wrong chip architecture:</p>\n<blockquote>\n<p>mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)</p>\n</blockquote>\n"}],"owner":{"account_id":29311036,"reputation":31,"user_id":22456795,"display_name":"Clare Tian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693232766,"creation_date":1693186538,"question_id":76989593,"body_markdown":"I&#39;ve been trying to download JavaFX for a project and my laptop is just not having it when I try to gradle run.\r\n\r\nI can gradle build just fine but when I try gradle run I get this message:\r\n\r\n```\r\n&gt; Configure project :\r\nProject : =&gt; no module-info.java found\r\n\r\n&gt; Task :run FAILED\r\nLoading library prism_es2 from resource failed: java.lang.UnsatisfiedLinkError: /Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib: dlopen(/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib, 0x0001): tried: &#39;/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib&#39; (mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)))\r\njava.lang.UnsatisfiedLinkError: /Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib: dlopen(/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib, 0x0001): tried: &#39;/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib&#39; (mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)))\r\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:331)\r\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:197)\r\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:139)\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2404)\r\n        at java.base/java.lang.Runtime.load0(Runtime.java:817)\r\n        at java.base/java.lang.System.load(System.java:2015)\r\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.installLibraryFromResource(NativeLibLoader.java:217)\r\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibraryFromResource(NativeLibLoader.java:197)\r\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:138)\r\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\r\n        at javafx.graphics@20/com.sun.prism.es2.ES2Pipeline.lambda$static$0(ES2Pipeline.java:63)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)\r\n        at javafx.graphics@20/com.sun.prism.es2.ES2Pipeline.&lt;clinit&gt;(ES2Pipeline.java:52)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:391)\r\n        at java.base/java.lang.Class.forName(Class.java:382)\r\n        at javafx.graphics@20/com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\r\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\r\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\nLoading library prism_sw from resource failed: java.lang.UnsatisfiedLinkError: /Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib: dlopen(/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib, 0x0001): tried: &#39;/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib&#39; (mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)))\r\njava.lang.UnsatisfiedLinkError: /Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib: dlopen(/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib, 0x0001): tried: &#39;/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib&#39; (mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)))\r\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:331)\r\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:197)\r\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:139)\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2404)\r\n        at java.base/java.lang.Runtime.load0(Runtime.java:817)\r\n        at java.base/java.lang.System.load(System.java:2015)\r\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.installLibraryFromResource(NativeLibLoader.java:217)\r\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibraryFromResource(NativeLibLoader.java:197)\r\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:138)\r\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\r\n        at javafx.graphics@20/com.sun.prism.sw.SWPipeline.lambda$static$0(SWPipeline.java:43)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)\r\n        at javafx.graphics@20/com.sun.prism.sw.SWPipeline.&lt;clinit&gt;(SWPipeline.java:42)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:391)\r\n        at java.base/java.lang.Class.forName(Class.java:382)\r\n        at javafx.graphics@20/com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\r\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\r\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\nGraphics Device initialization failed for :  es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n        at javafx.graphics@20/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\r\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\nCaused by: java.lang.RuntimeException: No toolkit found\r\n        at javafx.graphics@20/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\r\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        ... 2 more\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:run&#39;.\r\n&gt; Process &#39;command &#39;/Users/claretian/.sdkman/candidates/java/20.0.2-amzn/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.5.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 2s\r\n3 actionable tasks: 2 executed, 1 up-to-date\r\n```\r\n\r\n I&#39;m pretty sure it&#39;s to do with the architecture being incompatible but I&#39;ve tried to download every version of JavaFX I could find.","title":"How and where can I download JavaFX on M1 Mac?","body":"<p>I've been trying to download JavaFX for a project and my laptop is just not having it when I try to gradle run.</p>\n<p>I can gradle build just fine but when I try gradle run I get this message:</p>\n<pre><code>&gt; Configure project :\nProject : =&gt; no module-info.java found\n\n&gt; Task :run FAILED\nLoading library prism_es2 from resource failed: java.lang.UnsatisfiedLinkError: /Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib: dlopen(/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib, 0x0001): tried: '/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib' (mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)))\njava.lang.UnsatisfiedLinkError: /Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib: dlopen(/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib, 0x0001): tried: '/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_es2.dylib' (mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)))\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:331)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:197)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:139)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2404)\n        at java.base/java.lang.Runtime.load0(Runtime.java:817)\n        at java.base/java.lang.System.load(System.java:2015)\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.installLibraryFromResource(NativeLibLoader.java:217)\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibraryFromResource(NativeLibLoader.java:197)\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:138)\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\n        at javafx.graphics@20/com.sun.prism.es2.ES2Pipeline.lambda$static$0(ES2Pipeline.java:63)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)\n        at javafx.graphics@20/com.sun.prism.es2.ES2Pipeline.&lt;clinit&gt;(ES2Pipeline.java:52)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:391)\n        at java.base/java.lang.Class.forName(Class.java:382)\n        at javafx.graphics@20/com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\nLoading library prism_sw from resource failed: java.lang.UnsatisfiedLinkError: /Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib: dlopen(/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib, 0x0001): tried: '/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib' (mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)))\njava.lang.UnsatisfiedLinkError: /Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib: dlopen(/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib, 0x0001): tried: '/Users/claretian/.openjfx/cache/20+19/aarch64/libprism_sw.dylib' (mach-o file, but is an incompatible architecture (have (x86_64), need (arm64e)))\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:331)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:197)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:139)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2404)\n        at java.base/java.lang.Runtime.load0(Runtime.java:817)\n        at java.base/java.lang.System.load(System.java:2015)\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.installLibraryFromResource(NativeLibLoader.java:217)\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibraryFromResource(NativeLibLoader.java:197)\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibraryInternal(NativeLibLoader.java:138)\n        at javafx.graphics@20/com.sun.glass.utils.NativeLibLoader.loadLibrary(NativeLibLoader.java:54)\n        at javafx.graphics@20/com.sun.prism.sw.SWPipeline.lambda$static$0(SWPipeline.java:43)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)\n        at javafx.graphics@20/com.sun.prism.sw.SWPipeline.&lt;clinit&gt;(SWPipeline.java:42)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:391)\n        at java.base/java.lang.Class.forName(Class.java:382)\n        at javafx.graphics@20/com.sun.prism.GraphicsPipeline.createPipeline(GraphicsPipeline.java:218)\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:92)\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\nGraphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n        at javafx.graphics@20/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n        at javafx.graphics@20/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: No toolkit found\n        at javafx.graphics@20/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n        at javafx.graphics@20/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n        at javafx.graphics@20/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        ... 2 more\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command '/Users/claretian/.sdkman/candidates/java/20.0.2-amzn/bin/java'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.5.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 2s\n3 actionable tasks: 2 executed, 1 up-to-date\n</code></pre>\n<p>I'm pretty sure it's to do with the architecture being incompatible but I've tried to download every version of JavaFX I could find.</p>\n"},{"tags":["java","hibernate","jpa","intellij-idea","mapping"],"comments":[{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":1,"creation_date":1622988242,"post_id":29155350,"comment_id":119943955,"body_markdown":"All these answers are so complicating life. Today the most obvious solution is right-click the column or table, select the data source and it&#39;s fixed * eye roll emoticon *.","body":"All these answers are so complicating life. Today the most obvious solution is right-click the column or table, select the data source and it&#39;s fixed * eye roll emoticon *."}],"answers":[{"comments":[{"owner":{"account_id":2046073,"reputation":923,"user_id":2412796,"accept_rate":62,"display_name":"pichlbaer"},"score":3,"creation_date":1426802234,"post_id":29155537,"comment_id":46532184,"body_markdown":"Thanks for the answer. But why is @Column(name = myConstant) acceptable? myConstant is something like &#39;static final String myConstant = &quot;LEC_ID&quot;)\n\nAren&#39;t hardcoded Strings and constants the same in Java?","body":"Thanks for the answer. But why is @Column(name = myConstant) acceptable? myConstant is something like &#39;static final String myConstant = &quot;LEC_ID&quot;)  Aren&#39;t hardcoded Strings and constants the same in Java?"}],"tags":[],"owner":{"account_id":5820911,"reputation":295,"user_id":4589030,"accept_rate":100,"display_name":"Mehmood Arbaz"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1426801308,"creation_date":1426801308,"answer_id":29155537,"question_id":29155350,"body_markdown":"Actually this is not any error that prevents your code to compile. Probably your spell-checker is on and which gives you the spelling mistake. If you can compile your code then you may ignore these type of scenario. \r\n\r\nLook you have not getting any error for other text like `@Column`, `@GeneratedValue` etc. That means jars using these kind of stuff are in your build path. So I think you can ignore these type of error. ","title":"JPA Cannot resolve column/IntelliJ","body":"<p>Actually this is not any error that prevents your code to compile. Probably your spell-checker is on and which gives you the spelling mistake. If you can compile your code then you may ignore these type of scenario. </p>\n\n<p>Look you have not getting any error for other text like <code>@Column</code>, <code>@GeneratedValue</code> etc. That means jars using these kind of stuff are in your build path. So I think you can ignore these type of error. </p>\n"},{"comments":[{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":6,"creation_date":1441961749,"post_id":30272356,"comment_id":52896597,"body_markdown":"Correct answer, because it explains the behavior and offers a solution, while the other just tells you to ignore it.","body":"Correct answer, because it explains the behavior and offers a solution, while the other just tells you to ignore it."},{"owner":{"account_id":457598,"reputation":24938,"user_id":857025,"accept_rate":55,"display_name":"Don Rhummy"},"score":12,"creation_date":1464098915,"post_id":30272356,"comment_id":62338065,"body_markdown":"@panos This only fixes `@Table` errors, but my columns still show as not able to resolve. Any idea how to fix that?","body":"@panos This only fixes <code>@Table</code> errors, but my columns still show as not able to resolve. Any idea how to fix that?"},{"owner":{"account_id":2326117,"reputation":632,"user_id":2040599,"display_name":"demian"},"score":0,"creation_date":1476843668,"post_id":30272356,"comment_id":67512979,"body_markdown":"Something else you can check, is that the name of the generated/coded entity class, has the same name than the table in database...if it does not, use name propety of Entity annotation to to match the table. For example: @Entity(name=&quot;yourTableName&quot;)","body":"Something else you can check, is that the name of the generated/coded entity class, has the same name than the table in database...if it does not, use name propety of Entity annotation to to match the table. For example: @Entity(name=&quot;yourTableName&quot;)"},{"owner":{"account_id":2282777,"reputation":292,"user_id":2007499,"accept_rate":83,"display_name":"PhoenixPerson"},"score":0,"creation_date":1487334820,"post_id":30272356,"comment_id":71750677,"body_markdown":"@DonRhummy I had same problem. It went away when I used fully qualified names: &lt;table name&gt;.&lt;column name&gt;. IntelliJ even started auto completing the column names.","body":"@DonRhummy I had same problem. It went away when I used fully qualified names: &lt;table name&gt;.&lt;column name&gt;. IntelliJ even started auto completing the column names."},{"owner":{"account_id":5445447,"reputation":1726,"user_id":4332176,"accept_rate":25,"display_name":"Dila Gurung"},"score":0,"creation_date":1489600052,"post_id":30272356,"comment_id":72746142,"body_markdown":"i am not getting any option in &quot;data source&quot;. what can be done to solve this.","body":"i am not getting any option in &quot;data source&quot;. what can be done to solve this."},{"owner":{"account_id":440302,"reputation":5649,"user_id":829796,"accept_rate":69,"display_name":"securecurve"},"score":5,"creation_date":1526218366,"post_id":30272356,"comment_id":87649085,"body_markdown":"I have done that and only Entity name is identifiable, but, the Column name is still unexpected, how to get rid of this?","body":"I have done that and only Entity name is identifiable, but, the Column name is still unexpected, how to get rid of this?"},{"owner":{"account_id":4654013,"reputation":11203,"user_id":4370279,"accept_rate":61,"display_name":"theapache64"},"score":1,"creation_date":1580361931,"post_id":30272356,"comment_id":106073997,"body_markdown":"When it comes to an IntelliJ issue, the answers will mostly  &quot;Invalidate cache and Restart&quot;. :P This is the first answer I&#39;ve ever seen with with a proper fix.","body":"When it comes to an IntelliJ issue, the answers will mostly  &quot;Invalidate cache and Restart&quot;. :P This is the first answer I&#39;ve ever seen with with a proper fix."},{"owner":{"account_id":2769094,"reputation":2205,"user_id":2384066,"display_name":"LeslieM"},"score":0,"creation_date":1607179387,"post_id":30272356,"comment_id":115193316,"body_markdown":"After setting the data source, I had to also change my settings &gt; Languages and Frameworks &gt; SQL Dialects to Oracle to set the Project SQL Dialect.  After I did that my entityManager.createNativeQuery was correctly recognized in the IDE for the table and column names.","body":"After setting the data source, I had to also change my settings &gt; Languages and Frameworks &gt; SQL Dialects to Oracle to set the Project SQL Dialect.  After I did that my entityManager.createNativeQuery was correctly recognized in the IDE for the table and column names."}],"tags":[],"owner":{"account_id":3202158,"reputation":1521,"user_id":2704021,"display_name":"panagiotis"},"comment_count":8,"down_vote_count":0,"up_vote_count":127,"is_accepted":true,"score":127,"last_activity_date":1673300949,"creation_date":1431755924,"answer_id":30272356,"question_id":29155350,"body_markdown":"You have to associate your data source (create a data source in database view first - aka your real JDBC database connection) with a persistence unit or session factory (hibernate.cfg.xml).\r\n\r\nFollow below steps and the warnings will disappear:\r\n\r\n 1. Open the Persistence tool window (View | Tool Windows |\r\n    Persistence). \r\n 2. Right-click the necessary module, persistence unit or\r\n    session factory, and select Assign Data Sources in the context menu.\r\n 3. In the Assign Data Sources dialog that opens, click the Data Source\r\n    field and select the necessary data source. (To remove the\r\n    association with the data source, select `none`.)\r\n\r\nSee here: [Associating data sources with session factories and persistence units][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2016.1/associating-data-sources-with-session-factories-and-persistence-units.html","title":"JPA Cannot resolve column/IntelliJ","body":"<p>You have to associate your data source (create a data source in database view first - aka your real JDBC database connection) with a persistence unit or session factory (hibernate.cfg.xml).</p>\n<p>Follow below steps and the warnings will disappear:</p>\n<ol>\n<li>Open the Persistence tool window (View | Tool Windows |\nPersistence).</li>\n<li>Right-click the necessary module, persistence unit or\nsession factory, and select Assign Data Sources in the context menu.</li>\n<li>In the Assign Data Sources dialog that opens, click the Data Source\nfield and select the necessary data source. (To remove the\nassociation with the data source, select <code>none</code>.)</li>\n</ol>\n<p>See here: <a href=\"https://www.jetbrains.com/help/idea/2016.1/associating-data-sources-with-session-factories-and-persistence-units.html\" rel=\"nofollow noreferrer\">Associating data sources with session factories and persistence units</a></p>\n"},{"comments":[{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1515104268,"post_id":42498233,"comment_id":83184407,"body_markdown":"The righthand column under Assign Data Sources is freakin hard to see! Didn&#39;t even notice it till now! Thank you!","body":"The righthand column under Assign Data Sources is freakin hard to see! Didn&#39;t even notice it till now! Thank you!"},{"owner":{"account_id":2546504,"reputation":2896,"user_id":2211208,"display_name":"vimal krishna"},"score":0,"creation_date":1538123465,"post_id":42498233,"comment_id":92041546,"body_markdown":"It is Steven&#39;s answer that makes sense, not assuming things when it is related to configuration. It must be mentioned.","body":"It is Steven&#39;s answer that makes sense, not assuming things when it is related to configuration. It must be mentioned."}],"tags":[],"owner":{"account_id":2029185,"reputation":828,"user_id":1813403,"display_name":"Steven J Owens"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1509565423,"creation_date":1488241512,"answer_id":42498233,"question_id":29155350,"body_markdown":"I found Panos&#39; answer useful, but I didn&#39;t see anybody mention adding the database as a data source.  Perhaps that&#39;s routine enough to be assumed, but if not, here&#39;s what I had to do:\r\n\r\nSelect **View/Tool Windows/Database**\r\n\r\nThe Database window usually appears on the top right.\r\n\r\nIn the Database window, click the green **+** sign and select **Data Source/MySQL** (or whatever flavor of Data Source you&#39;re using).\r\n\r\nThe **Data Sources and Drivers** window pops up.\r\n\r\nIf your database isn&#39;t listed there, use the empty form to add the following:\r\n\r\n - **Host:** usually localhost, but if your test database is living\r\n   on another machine, put that address in.\r\n - **Username:** for your    database use. \r\n   \r\n - **Password:** for your database user&#39;s password.\r\n\r\nIDEA might need some fiddling to find the JDBC driver.  I was told that in theory it should have found it in the maven build process for the project I was working on, but it did not.  I reopened **View/Tool Windows/Database** and looked at my MySQL entry.  At the bottom it had an error message next to **Driver:**, and also a **MySQL** link.  I clicked the **MySQL** link and IDEA brought up a popup to fetch Connector/J.\r\n\r\nDespite the fact that the checkboxes for **Auto commit** and **Auto sync** defaulted to checked and I left them that way, IDEA seemed to need a nudge.  Or perhaps it was just taking a while and I was impatient.  \r\n\r\nIn any event, first I double-clicked on the line for my database in **Database**.  That seemed to do it, but I didn&#39;t realize I needed **Persistence** yet, and while sorting that out, at a coworker&#39;s suggestion, I also clicked the **Synchronize** button (two arrows in a circle) on **Database**.\r\n\r\nYou can also right-click on your database in **Database** and select **Synchronize**.\r\n\r\nIt may take a few seconds, but you should see IDEA filling in the database schema under the entry in Database.\r\n\r\nFinally I found Panos&#39;s answer and fixed **Persistence**.\r\n\r\nSelect **View/Tool Windows/Persistence**\r\n\r\nThe Persistence window usually appears on the top left.\r\n\r\nIn the Persistence window, right-click on your project and select **Assign Data Sources**.\r\n\r\nIDEA pops up a dialog with two columns, your project in the left column and in my case an empty cell in the right column.  Click on the empty cell and IDEA should give you a dropdown that allows you to select the database you just added.\r\n\r\nAgain, it may take a few seconds for IDEA to finish analyzing the data source and redo all the inspections.\r\n","title":"JPA Cannot resolve column/IntelliJ","body":"<p>I found Panos' answer useful, but I didn't see anybody mention adding the database as a data source.  Perhaps that's routine enough to be assumed, but if not, here's what I had to do:</p>\n\n<p>Select <strong>View/Tool Windows/Database</strong></p>\n\n<p>The Database window usually appears on the top right.</p>\n\n<p>In the Database window, click the green <strong>+</strong> sign and select <strong>Data Source/MySQL</strong> (or whatever flavor of Data Source you're using).</p>\n\n<p>The <strong>Data Sources and Drivers</strong> window pops up.</p>\n\n<p>If your database isn't listed there, use the empty form to add the following:</p>\n\n<ul>\n<li><strong>Host:</strong> usually localhost, but if your test database is living\non another machine, put that address in.</li>\n<li><p><strong>Username:</strong> for your    database use. </p></li>\n<li><p><strong>Password:</strong> for your database user's password.</p></li>\n</ul>\n\n<p>IDEA might need some fiddling to find the JDBC driver.  I was told that in theory it should have found it in the maven build process for the project I was working on, but it did not.  I reopened <strong>View/Tool Windows/Database</strong> and looked at my MySQL entry.  At the bottom it had an error message next to <strong>Driver:</strong>, and also a <strong>MySQL</strong> link.  I clicked the <strong>MySQL</strong> link and IDEA brought up a popup to fetch Connector/J.</p>\n\n<p>Despite the fact that the checkboxes for <strong>Auto commit</strong> and <strong>Auto sync</strong> defaulted to checked and I left them that way, IDEA seemed to need a nudge.  Or perhaps it was just taking a while and I was impatient.  </p>\n\n<p>In any event, first I double-clicked on the line for my database in <strong>Database</strong>.  That seemed to do it, but I didn't realize I needed <strong>Persistence</strong> yet, and while sorting that out, at a coworker's suggestion, I also clicked the <strong>Synchronize</strong> button (two arrows in a circle) on <strong>Database</strong>.</p>\n\n<p>You can also right-click on your database in <strong>Database</strong> and select <strong>Synchronize</strong>.</p>\n\n<p>It may take a few seconds, but you should see IDEA filling in the database schema under the entry in Database.</p>\n\n<p>Finally I found Panos's answer and fixed <strong>Persistence</strong>.</p>\n\n<p>Select <strong>View/Tool Windows/Persistence</strong></p>\n\n<p>The Persistence window usually appears on the top left.</p>\n\n<p>In the Persistence window, right-click on your project and select <strong>Assign Data Sources</strong>.</p>\n\n<p>IDEA pops up a dialog with two columns, your project in the left column and in my case an empty cell in the right column.  Click on the empty cell and IDEA should give you a dropdown that allows you to select the database you just added.</p>\n\n<p>Again, it may take a few seconds for IDEA to finish analyzing the data source and redo all the inspections.</p>\n"},{"comments":[{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1515103338,"post_id":46107733,"comment_id":83184047,"body_markdown":"This is incorrect, HSQLDB is something called HyperSQL and is unrelated to hibernate. But it does seem like there is some configuration issue after upgrading to IDEA 2017, I was getting &quot;cannot resolve column&quot; after importing my config to it.","body":"This is incorrect, HSQLDB is something called HyperSQL and is unrelated to hibernate. But it does seem like there is some configuration issue after upgrading to IDEA 2017, I was getting &quot;cannot resolve column&quot; after importing my config to it."}],"tags":[],"owner":{"account_id":6077039,"reputation":1004,"user_id":4744055,"display_name":"Manabu Tokunaga"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504837777,"creation_date":1504837777,"answer_id":46107733,"question_id":29155350,"body_markdown":"If you are using the JPA, it is also important to set up the SQL Dialect as\r\nHSQLDB instead of MySQL. This is often confusing because it feels like MySQL is the correct dialect, but in fact what you are dealing with hibernate is HSQL.\r\n\r\nIf you have just upgraded to IntelliJ 2017.13 or other derivatives of this version (e.g., Webstorm), or you&#39;ve just re-imported your project, it might mess up the language injection and need to manually correct this.\r\n\r\nThis can be accomplished via the Project \r\n\r\n&gt; Settings -&gt; Languages and Frameworks\r\n\r\n part of the IDE.\r\n\r\n  [1]: https://i.stack.imgur.com/Q4VB3.png","title":"JPA Cannot resolve column/IntelliJ","body":"<p>If you are using the JPA, it is also important to set up the SQL Dialect as\nHSQLDB instead of MySQL. This is often confusing because it feels like MySQL is the correct dialect, but in fact what you are dealing with hibernate is HSQL.</p>\n\n<p>If you have just upgraded to IntelliJ 2017.13 or other derivatives of this version (e.g., Webstorm), or you've just re-imported your project, it might mess up the language injection and need to manually correct this.</p>\n\n<p>This can be accomplished via the Project </p>\n\n<blockquote>\n  <p>Settings -> Languages and Frameworks</p>\n</blockquote>\n\n<p>part of the IDE.</p>\n"},{"comments":[{"owner":{"account_id":8325547,"reputation":1145,"user_id":6255743,"accept_rate":75,"display_name":"Appyx"},"score":1,"creation_date":1578475667,"post_id":59258612,"comment_id":105447026,"body_markdown":"thanks. this check is so annoying when using several datasources","body":"thanks. this check is so annoying when using several datasources"},{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1611920004,"post_id":59258612,"comment_id":116610808,"body_markdown":"Thank you for this. Please send a Karen to go complain to the Project Manager at JetBrains who thought this feature should be enabled by default.","body":"Thank you for this. Please send a Karen to go complain to the Project Manager at JetBrains who thought this feature should be enabled by default."}],"tags":[],"owner":{"account_id":1257898,"reputation":1010,"user_id":1216961,"display_name":"yetsun"},"comment_count":2,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1693232374,"creation_date":1575938355,"answer_id":59258612,"question_id":29155350,"body_markdown":"**For those who just want to disable this check:**\r\n\r\ngo to IntelliJ IDEA -&gt; Preferences -&gt; Search &quot;*Unresolved database references in annotations*&quot; and uncheck it.\r\n\r\n[![IDE Inspection Settings][1]][1]\r\n(macOS Mojave and Intellij Ultimate 2019.3)\r\n\r\nThis will disable the inspection and remove all the &quot;Cannot resolve column&quot; errors on the `@Column` annotations. Intellij will stop checking if the String column names exist in the database tables. \r\n\r\n**Do it at your own risk.**\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jojao.png","title":"JPA Cannot resolve column/IntelliJ","body":"<p><strong>For those who just want to disable this check:</strong></p>\n<p>go to IntelliJ IDEA -&gt; Preferences -&gt; Search &quot;<em>Unresolved database references in annotations</em>&quot; and uncheck it.</p>\n<p><a href=\"https://i.stack.imgur.com/jojao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jojao.png\" alt=\"IDE Inspection Settings\" /></a>\n(macOS Mojave and Intellij Ultimate 2019.3)</p>\n<p>This will disable the inspection and remove all the &quot;Cannot resolve column&quot; errors on the <code>@Column</code> annotations. Intellij will stop checking if the String column names exist in the database tables.</p>\n<p><strong>Do it at your own risk.</strong></p>\n"},{"comments":[{"owner":{"account_id":50470,"reputation":2374,"user_id":150566,"accept_rate":93,"display_name":"Mike"},"score":0,"creation_date":1591278734,"post_id":60574884,"comment_id":110000306,"body_markdown":"Also did the trick for me. But there must be some kind of misconfiguration between the naming strategy and I don&#39;t know what, because it supposed to work without specifying that.","body":"Also did the trick for me. But there must be some kind of misconfiguration between the naming strategy and I don&#39;t know what, because it supposed to work without specifying that."}],"tags":[],"owner":{"account_id":2095654,"reputation":435,"user_id":1864494,"accept_rate":33,"display_name":"DavidMIRV"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583561338,"creation_date":1583561338,"answer_id":60574884,"question_id":29155350,"body_markdown":"Just for anyone else whom this didn&#39;t solve and comes across via google (like myself) .. setting the table name via the @Table Annotation fixed it for me. ","title":"JPA Cannot resolve column/IntelliJ","body":"<p>Just for anyone else whom this didn't solve and comes across via google (like myself) .. setting the table name via the @Table Annotation fixed it for me. </p>\n"},{"tags":[],"owner":{"account_id":16675161,"reputation":788,"user_id":12051755,"display_name":"Utku A."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592841966,"creation_date":1592841966,"answer_id":62518719,"question_id":29155350,"body_markdown":"If there is no real mismatch and this warning happens just because of IDE, you can easily link your project with the data source that you connect. Intellij already suggests the way to do it.","title":"JPA Cannot resolve column/IntelliJ","body":"<p>If there is no real mismatch and this warning happens just because of IDE, you can easily link your project with the data source that you connect. Intellij already suggests the way to do it.</p>\n"},{"tags":[],"owner":{"account_id":19668027,"reputation":1,"user_id":14397903,"display_name":"Sai-"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618369346,"creation_date":1618369346,"answer_id":67084934,"question_id":29155350,"body_markdown":"I&#39;m using Intellij and connecting DB by JPA. I&#39;ve met problem just like you and this is my solution.\r\n1. You need to connect your database following these steps:\r\n- View -&gt; Tool Windows -&gt; Database -&gt; then add database you are using to Intellj\r\n2. After connect your database, you need to assign data source to Intellj by following these\r\n- View -&gt; Tool Windows -&gt; Persistence -&gt; then add data from database you just added from 1 step \r\nOK. That&#39;s all! \r\nP/s: make sure your code work well! ","title":"JPA Cannot resolve column/IntelliJ","body":"<p>I'm using Intellij and connecting DB by JPA. I've met problem just like you and this is my solution.</p>\n<ol>\n<li>You need to connect your database following these steps:</li>\n</ol>\n<ul>\n<li>View -&gt; Tool Windows -&gt; Database -&gt; then add database you are using to Intellj</li>\n</ul>\n<ol start=\"2\">\n<li>After connect your database, you need to assign data source to Intellj by following these</li>\n</ol>\n<ul>\n<li>View -&gt; Tool Windows -&gt; Persistence -&gt; then add data from database you just added from 1 step\nOK. That's all!\nP/s: make sure your code work well!</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22540352,"reputation":7,"user_id":16730985,"display_name":"Tony"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666684502,"creation_date":1666684502,"answer_id":74190749,"question_id":29155350,"body_markdown":"maybe this solution also help someone...\r\n\r\n1. Open Database dialog window from the right side of Intellij\r\n2. Go to DB Data Source Properties (find it in top menu)\r\n3. Go to Schemas\r\n4. Uncheck &quot;Default database&quot;\r\n5. Check your specific DB and inside also check Default schema(public)\r\n\r\nGood luck!\r\n\r\n","title":"JPA Cannot resolve column/IntelliJ","body":"<p>maybe this solution also help someone...</p>\n<ol>\n<li>Open Database dialog window from the right side of Intellij</li>\n<li>Go to DB Data Source Properties (find it in top menu)</li>\n<li>Go to Schemas</li>\n<li>Uncheck &quot;Default database&quot;</li>\n<li>Check your specific DB and inside also check Default schema(public)</li>\n</ol>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":20198820,"reputation":21,"user_id":14815106,"display_name":"Lachezar Kolev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682593908,"creation_date":1682593908,"answer_id":76119704,"question_id":29155350,"body_markdown":"I had the same error even though I had specified the data source in every possible place. \r\n\r\nThe problem was that I had changed the database schema and the Database tab in Intellij was still containing the old schema, so I just had to refresh the Database tab.\r\n\r\nYou can resolve it by going to View -&gt; Tool Windows -&gt; Database and then just click the refresh button or F5.","title":"JPA Cannot resolve column/IntelliJ","body":"<p>I had the same error even though I had specified the data source in every possible place.</p>\n<p>The problem was that I had changed the database schema and the Database tab in Intellij was still containing the old schema, so I just had to refresh the Database tab.</p>\n<p>You can resolve it by going to View -&gt; Tool Windows -&gt; Database and then just click the refresh button or F5.</p>\n"}],"owner":{"account_id":2046073,"reputation":923,"user_id":2412796,"accept_rate":62,"display_name":"pichlbaer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62766,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":30272356,"answer_count":10,"score":69,"last_activity_date":1693232374,"creation_date":1426800551,"question_id":29155350,"body_markdown":"I&#39;m trying to map some Java classes using the Hibernate JPA implementation. My problem is that I can&#39;t use hardcoded Strings als column namens. You can see the error message I get in the picture below.\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\nI&#39;m using OpenJPA as my Default JPA Provider and have already tried to change it.\r\n\r\nIntelliJ Version 14.0.3\r\n\r\n\r\nregards,\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YRUbK.png","title":"JPA Cannot resolve column/IntelliJ","body":"<p>I'm trying to map some Java classes using the Hibernate JPA implementation. My problem is that I can't use hardcoded Strings als column namens. You can see the error message I get in the picture below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/YRUbK.png\" alt=\"enter image description here\"></p>\n\n<p>I'm using OpenJPA as my Default JPA Provider and have already tried to change it.</p>\n\n<p>IntelliJ Version 14.0.3</p>\n\n<p>regards,</p>\n"},{"tags":["java","spring-boot","spring-security","websocket","spring-websocket"],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693231758,"creation_date":1693231758,"question_id":76993567,"body_markdown":"I&#39;m trying to permitAll the request made with websocket in spring security but everytime it goes to check if it has the jwt\r\n\r\nthis is my method in webSecurityconfigurerAdapter:\r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            log.debug( &quot;configuration secutity called!&quot;);\r\n            http.httpBasic().and()\r\n                    .csrf().disable()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .cors()\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/favicon.ico&quot;,&quot;./favicon.ico&quot;,&quot;*/**.html&quot;,\r\n                            ,&quot;/active-users&quot;,\r\n                            &quot;/ws&quot;\r\n                            ,&quot;*/ws&quot;\r\n                            ,&quot;*/ws/**&quot;\r\n                            ,&quot;/ws/**&quot;\r\n                            ,&quot;/v3/api-docs/**&quot;\r\n                            , &quot;/swagger-ui/**&quot;).permitAll()\r\n                    .anyRequest().authenticated();\r\n            http.headers().frameOptions().disable();\r\n            http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n            http.headers().cacheControl();\r\n        }\r\n\r\nand this is my websocketConfiguration Class:\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer {\r\n    \r\n        @Autowired\r\n        private ActiveUsersWebSocketHandler activeUsersWebSocketHandler;\r\n    \r\n        @Bean\r\n        public TaskScheduler defaultSockJsTaskScheduler() {\r\n            return new ThreadPoolTaskScheduler();\r\n        }\r\n    \r\n        @Override\r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n            registry.addHandler(activeUsersWebSocketHandler, &quot;/active-users&quot;)\r\n                    .setAllowedOrigins(&quot;*&quot;)\r\n                    );\r\n\r\nIn debug, everytime i make a request with ws i always see it goes in my filter method: doFilterInternal, but shouldn&#39;t go there, any solution or am I missing any endpoint?\r\n   ","title":"WebSocket with Spring security","body":"<p>I'm trying to permitAll the request made with websocket in spring security but everytime it goes to check if it has the jwt</p>\n<p>this is my method in webSecurityconfigurerAdapter:</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        log.debug( &quot;configuration secutity called!&quot;);\n        http.httpBasic().and()\n                .csrf().disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .cors()\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/favicon.ico&quot;,&quot;./favicon.ico&quot;,&quot;*/**.html&quot;,\n                        ,&quot;/active-users&quot;,\n                        &quot;/ws&quot;\n                        ,&quot;*/ws&quot;\n                        ,&quot;*/ws/**&quot;\n                        ,&quot;/ws/**&quot;\n                        ,&quot;/v3/api-docs/**&quot;\n                        , &quot;/swagger-ui/**&quot;).permitAll()\n                .anyRequest().authenticated();\n        http.headers().frameOptions().disable();\n        http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n        http.headers().cacheControl();\n    }\n</code></pre>\n<p>and this is my websocketConfiguration Class:</p>\n<pre><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    @Autowired\n    private ActiveUsersWebSocketHandler activeUsersWebSocketHandler;\n\n    @Bean\n    public TaskScheduler defaultSockJsTaskScheduler() {\n        return new ThreadPoolTaskScheduler();\n    }\n\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(activeUsersWebSocketHandler, &quot;/active-users&quot;)\n                .setAllowedOrigins(&quot;*&quot;)\n                );\n</code></pre>\n<p>In debug, everytime i make a request with ws i always see it goes in my filter method: doFilterInternal, but shouldn't go there, any solution or am I missing any endpoint?</p>\n"},{"tags":["java","optimization","jsprit"],"owner":{"account_id":92137,"reputation":584,"user_id":252642,"display_name":"Marcanpilami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693231540,"creation_date":1693231540,"question_id":76993532,"body_markdown":"I&#39;m trying to implement a peculiar constraint with jsprit: a conditional time window. Some jobs can only be done by certain types of vehicles at certain times. The use case comes from some cities which allow light vehicles during the whole day but only allow heavy trucks at night, and many variations of this rule. \r\n\r\nSo for mixed fleets, we have to check the type of vehicle to know if the time window must be applied or not.\r\n\r\nSadly this is not a simple hard route constraint, since it has impacts on the insertion algorithm itself - the hard constraint itself prevents forbidden solutions, but it cannot say &quot;and please retry at this time&quot;. Exactly as time windows in base jsprit are a combination of an insertion algorithm and a hard constraint.\r\n\r\nSo if I understand jsprit correctly, we need to modify the `ServiceInsertionCalculator` (and its brother `ShipmentInsertionCalculator`) to force it to consider the optional time slots (and basically add them to the time slots considered by the default time window constraint).\r\n\r\nBut I cannot see how to inject my own insertion calculator. Is it an extension point? is there an easy way to do what I want without this? Worst case, do I have to fork the library?\r\n\r\nThanks!","title":"JSprit: conditional time windows","body":"<p>I'm trying to implement a peculiar constraint with jsprit: a conditional time window. Some jobs can only be done by certain types of vehicles at certain times. The use case comes from some cities which allow light vehicles during the whole day but only allow heavy trucks at night, and many variations of this rule.</p>\n<p>So for mixed fleets, we have to check the type of vehicle to know if the time window must be applied or not.</p>\n<p>Sadly this is not a simple hard route constraint, since it has impacts on the insertion algorithm itself - the hard constraint itself prevents forbidden solutions, but it cannot say &quot;and please retry at this time&quot;. Exactly as time windows in base jsprit are a combination of an insertion algorithm and a hard constraint.</p>\n<p>So if I understand jsprit correctly, we need to modify the <code>ServiceInsertionCalculator</code> (and its brother <code>ShipmentInsertionCalculator</code>) to force it to consider the optional time slots (and basically add them to the time slots considered by the default time window constraint).</p>\n<p>But I cannot see how to inject my own insertion calculator. Is it an extension point? is there an easy way to do what I want without this? Worst case, do I have to fork the library?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3661889,"reputation":5731,"user_id":3098087,"display_name":"Umesh Singh Kushwaha"},"score":1,"creation_date":1482903445,"post_id":41355894,"comment_id":69913649,"body_markdown":"File does not exist at requested location, check it","body":"File does not exist at requested location, check it"},{"owner":{"account_id":9146253,"reputation":304,"user_id":7301881,"display_name":"Mean Coder"},"score":0,"creation_date":1482903946,"post_id":41355894,"comment_id":69913802,"body_markdown":"do your url contains images ???","body":"do your url contains images ???"},{"owner":{"account_id":4832206,"reputation":7871,"user_id":3900120,"accept_rate":65,"display_name":"Apurva"},"score":0,"creation_date":1482905065,"post_id":41355894,"comment_id":69914144,"body_markdown":"@USKMobility yeah but what is the location? I am not accessing any file from any location.","body":"@USKMobility yeah but what is the location? I am not accessing any file from any location."},{"owner":{"account_id":4832206,"reputation":7871,"user_id":3900120,"accept_rate":65,"display_name":"Apurva"},"score":0,"creation_date":1482905144,"post_id":41355894,"comment_id":69914165,"body_markdown":"@MeanCoder not images, it contains only one image of 1 pixel.","body":"@MeanCoder not images, it contains only one image of 1 pixel."}],"answers":[{"comments":[{"owner":{"account_id":4832206,"reputation":7871,"user_id":3900120,"accept_rate":65,"display_name":"Apurva"},"score":0,"creation_date":1482911569,"post_id":41355967,"comment_id":69916885,"body_markdown":"There were *some bad server implementations* causing error. Solved it!","body":"There were <i>some bad server implementations</i> causing error. Solved it!"},{"owner":{"account_id":5004582,"reputation":774,"user_id":4022607,"display_name":"Ahmad Ayyaz"},"score":1,"creation_date":1555562764,"post_id":41355967,"comment_id":98155792,"body_markdown":"In my case this error does not occur everytime. It is just random, most of the times it works fine","body":"In my case this error does not occur everytime. It is just random, most of the times it works fine"},{"owner":{"account_id":17048239,"reputation":944,"user_id":12394554,"display_name":"Peter Schorn"},"score":0,"creation_date":1601981112,"post_id":41355967,"comment_id":113568611,"body_markdown":"How do I prevent this error from being thrown in cases where I still want to get the data from the server?","body":"How do I prevent this error from being thrown in cases where I still want to get the data from the server?"}],"tags":[],"owner":{"account_id":2747609,"reputation":4662,"user_id":2367703,"accept_rate":67,"display_name":"Eric B."},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1482903464,"creation_date":1482903464,"answer_id":41355967,"question_id":41355894,"body_markdown":"&gt; What is the reason for exception?\r\n\r\n`FileNotFoundException` is only thrown when making a network call if a **404** is thrown by the server. Some bad server implementations throw **404** even if you use a method that is not allowed, that is using GET instead of POST.\r\n\r\n&gt; How can I solve it?\r\n\r\nYou can solve it by hitting the URL from your browser and making sure it actually exists. If it exists you should not get this exception.\r\n","title":"HTTP request causes java.io.FileNotFoundException","body":"<blockquote>\n  <p>What is the reason for exception?</p>\n</blockquote>\n\n<p><code>FileNotFoundException</code> is only thrown when making a network call if a <strong>404</strong> is thrown by the server. Some bad server implementations throw <strong>404</strong> even if you use a method that is not allowed, that is using GET instead of POST.</p>\n\n<blockquote>\n  <p>How can I solve it?</p>\n</blockquote>\n\n<p>You can solve it by hitting the URL from your browser and making sure it actually exists. If it exists you should not get this exception.</p>\n"},{"tags":[],"owner":{"account_id":18726171,"reputation":41,"user_id":14889677,"display_name":"AdrianNULL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631648622,"creation_date":1631648622,"answer_id":69183717,"question_id":41355894,"body_markdown":"I&#39;ve had the same problem and i just solved it.\r\nIn my case, i had\r\n`urlConnection.setChunkedStreamingMode(0);`\r\nand, for some reason, this was causing this problem to show up once every 2 requests. I&#39;ve removed this line and now it works every time.\r\n\r\nI&#39;m leaving this here, just in case someone else has the same problem like mine.","title":"HTTP request causes java.io.FileNotFoundException","body":"<p>I've had the same problem and i just solved it.\nIn my case, i had\n<code>urlConnection.setChunkedStreamingMode(0);</code>\nand, for some reason, this was causing this problem to show up once every 2 requests. I've removed this line and now it works every time.</p>\n<p>I'm leaving this here, just in case someone else has the same problem like mine.</p>\n"},{"tags":[],"owner":{"account_id":5879386,"reputation":29,"user_id":4629278,"display_name":"Ben Cassell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693231316,"creation_date":1693231316,"answer_id":76993504,"question_id":41355894,"body_markdown":"Unsure if anyone else is still having issues but I searched everywhere for the answer to my app login not working. For me it was PHP version on my hosting was set to 8.1 I just downgraded it to 7.4 until I write an updated version login for my app. Now makeHttpRequest(); is working","title":"HTTP request causes java.io.FileNotFoundException","body":"<p>Unsure if anyone else is still having issues but I searched everywhere for the answer to my app login not working. For me it was PHP version on my hosting was set to 8.1 I just downgraded it to 7.4 until I write an updated version login for my app. Now makeHttpRequest(); is working</p>\n"}],"owner":{"account_id":4832206,"reputation":7871,"user_id":3900120,"accept_rate":65,"display_name":"Apurva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12082,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":41355967,"answer_count":3,"score":1,"last_activity_date":1693231316,"creation_date":1482903040,"question_id":41355894,"body_markdown":"Below is the code that makes http request from `doInBackground()` method and for some reason it&#39;s throwing `FileNotFoundException`\r\n\r\n    Bitmap icon = null;\r\n    String url = &quot;http://abc.xyz.net/com.tatvic.oatest.gif?uv=2.0&amp;ds=Yes&amp;bt=100.0&amp;tis=11.808&amp;ais=5.478&amp;tes=NA&amp;aes=NA&amp;cs=still&quot;;\r\n\r\n    try {\r\n        InputStream in = new java.net.URL(url).openStream();\r\n        icon = BitmapFactory.decodeStream(in);\r\n\r\n    } catch (MalformedURLException e) {\r\n        e.printStackTrace();\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nAnother approach I followed is using `HttpURLConnection` as shown below, but same exception still occurs.\r\n\r\n    HttpURLConnection urlConnection = (HttpURLConnection) new URL(url).openConnection();\r\n    InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n    icon = BitmapFactory.decodeStream(in);\r\n\r\nStacktrace:\r\n\r\n    12-27 15:19:54.726 31141-31188/com.tatvic.oatest W/System.err: java.io.FileNotFoundException: http://abc.xyz.net/com.tatvic.oatest.gif?uv=2.0&amp;ds=Yes&amp;bt=100.0&amp;tis=11.808&amp;ais=5.478&amp;tes=NA&amp;aes=NA&amp;cs=still\r\n    12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:238)\r\n    12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at java.net.URL.openStream(URL.java:470)\r\n    12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at com.tatvic.lib.uit.e.a(Unknown Source)\r\n    12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at com.tatvic.lib.uit.e.doInBackground(Unknown Source)\r\n    12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:295)\r\n    12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n    12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)\r\n    12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n    12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n    12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at java.lang.Thread.run(Thread.java:818)\r\n\r\nI am not accessing anything from any filePath even though `FileNotFoundException` occurs. I am catching exception but I have to call that url anyways. \r\n\r\nWhat is the **reason for exception**? How can I **solve** it?","title":"HTTP request causes java.io.FileNotFoundException","body":"<p>Below is the code that makes http request from <code>doInBackground()</code> method and for some reason it's throwing <code>FileNotFoundException</code></p>\n\n<pre><code>Bitmap icon = null;\nString url = \"http://abc.xyz.net/com.tatvic.oatest.gif?uv=2.0&amp;ds=Yes&amp;bt=100.0&amp;tis=11.808&amp;ais=5.478&amp;tes=NA&amp;aes=NA&amp;cs=still\";\n\ntry {\n    InputStream in = new java.net.URL(url).openStream();\n    icon = BitmapFactory.decodeStream(in);\n\n} catch (MalformedURLException e) {\n    e.printStackTrace();\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Another approach I followed is using <code>HttpURLConnection</code> as shown below, but same exception still occurs.</p>\n\n<pre><code>HttpURLConnection urlConnection = (HttpURLConnection) new URL(url).openConnection();\nInputStream in = new BufferedInputStream(urlConnection.getInputStream());\nicon = BitmapFactory.decodeStream(in);\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>12-27 15:19:54.726 31141-31188/com.tatvic.oatest W/System.err: java.io.FileNotFoundException: http://abc.xyz.net/com.tatvic.oatest.gif?uv=2.0&amp;ds=Yes&amp;bt=100.0&amp;tis=11.808&amp;ais=5.478&amp;tes=NA&amp;aes=NA&amp;cs=still\n12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:238)\n12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at java.net.URL.openStream(URL.java:470)\n12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at com.tatvic.lib.uit.e.a(Unknown Source)\n12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at com.tatvic.lib.uit.e.doInBackground(Unknown Source)\n12-27 15:19:54.729 31141-31188/com.tatvic.oatest W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:295)\n12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)\n12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n12-27 15:19:54.730 31141-31188/com.tatvic.oatest W/System.err:     at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n\n<p>I am not accessing anything from any filePath even though <code>FileNotFoundException</code> occurs. I am catching exception but I have to call that url anyways. </p>\n\n<p>What is the <strong>reason for exception</strong>? How can I <strong>solve</strong> it?</p>\n"},{"tags":["java","unit-testing","testing","automated-tests"],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1693225917,"post_id":76992791,"comment_id":135727984,"body_markdown":"that&#39;s &quot;if&quot; they use maven","body":"that&#39;s &quot;if&quot; they use maven"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693231124,"creation_date":1693225766,"answer_id":76992791,"question_id":76992773,"body_markdown":"You have to add Guava to your class path.\r\n\r\nif you use maven, you can add the dependency by adding the following lines to your pom.xml:\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;version&gt;32.1.2-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nor you can  download it [here](https://repo1.maven.org/maven2/com/google/guava/guava/32.1.2-jre/guava-32.1.2-jre.jar)  and add it manually to your classpath","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams","body":"<p>You have to add Guava to your class path.</p>\n<p>if you use maven, you can add the dependency by adding the following lines to your pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;32.1.2-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or you can  download it <a href=\"https://repo1.maven.org/maven2/com/google/guava/guava/32.1.2-jre/guava-32.1.2-jre.jar\" rel=\"nofollow noreferrer\">here</a>  and add it manually to your classpath</p>\n"}],"owner":{"account_id":29314529,"reputation":11,"user_id":22459595,"display_name":"hash jashan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1693231137,"answer_count":1,"score":0,"last_activity_date":1693231124,"creation_date":1693225565,"question_id":76992773,"body_markdown":"I am getting this problem. Can anyone help me? \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams\r\n    \tat org.seleniumhq.selenium.remote_driver/org.openqa.selenium.remote.service.DriverService$Builder.getLogOutput(DriverService.java:456)\r\n    \tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService$Builder.createDriverService(ChromeDriverService.java:356)\r\n    \tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService$Builder.createDriverService(ChromeDriverService.java:160)\r\n    \tat org.seleniumhq.selenium.remote_driver/org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:492)\r\n    \tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:156)\r\n    \tat org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:51)\r\n    \tat jashan/jashan.class1.main(class1.java:10)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.common.io.ByteStreams\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams","body":"<p>I am getting this problem. Can anyone help me?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/io/ByteStreams\n    at org.seleniumhq.selenium.remote_driver/org.openqa.selenium.remote.service.DriverService$Builder.getLogOutput(DriverService.java:456)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService$Builder.createDriverService(ChromeDriverService.java:356)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService$Builder.createDriverService(ChromeDriverService.java:160)\n    at org.seleniumhq.selenium.remote_driver/org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:492)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriverService.createDefaultService(ChromeDriverService.java:156)\n    at org.seleniumhq.selenium.chrome_driver/org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:51)\n    at jashan/jashan.class1.main(class1.java:10)\nCaused by: java.lang.ClassNotFoundException: com.google.common.io.ByteStreams\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","testng"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693035613,"post_id":76980964,"comment_id":135709194,"body_markdown":"Please [edit] your question to include the actual method(s) being tested too","body":"Please <a href=\"https://stackoverflow.com/posts/76980964/edit\">edit</a> your question to include the actual method(s) being tested too"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693035658,"post_id":76980964,"comment_id":135709200,"body_markdown":"Your asertion failure states that &quot;9999&quot; was expected, but that value is nowhere to be found in your test","body":"Your asertion failure states that &quot;9999&quot; was expected, but that value is nowhere to be found in your test"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693036052,"post_id":76980964,"comment_id":135709236,"body_markdown":"`.when(mockDynamoHeartsListDao).setHeartListPreferences()` doesn&#39;t look like a helper method (which I&#39;d expect to be statically defined on a class), but like a regular method call on an object instance.","body":"<code>.when(mockDynamoHeartsListDao).setHeartListPreferences()</code> doesn&#39;t look like a helper method (which I&#39;d expect to be statically defined on a class), but like a regular method call on an object instance."},{"owner":{"account_id":29300816,"reputation":1,"user_id":22449123,"display_name":"aisy"},"score":0,"creation_date":1693230530,"post_id":76980964,"comment_id":135729090,"body_markdown":"thanks! I just added the helper method. so how I should statically define the helper method within the unit test class? Why? I did mock the class (mockDynamoHeartsListDao) that contains the helper method. Isn&#39;t that enough?","body":"thanks! I just added the helper method. so how I should statically define the helper method within the unit test class? Why? I did mock the class (mockDynamoHeartsListDao) that contains the helper method. Isn&#39;t that enough?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693231084,"post_id":76980964,"comment_id":135729223,"body_markdown":"That&#39;s a regular method, I&#39;m not sure what would make it a &quot;helper&quot; method? You are not showing how `addUserToAllowList` is using the `DynamoHouseListDao` (Heart? House?). How are `service` and `mockSharedHeartsListDynamo` related? If I have to guess, the problem is similar to [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test). Please [edit] the question to show how you connect the service and the dao, thanks","body":"That&#39;s a regular method, I&#39;m not sure what would make it a &quot;helper&quot; method? You are not showing how <code>addUserToAllowList</code> is using the <code>DynamoHouseListDao</code> (Heart? House?). How are <code>service</code> and <code>mockSharedHeartsListDynamo</code> related? If I have to guess, the problem is similar to <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>. Please <a href=\"https://stackoverflow.com/posts/76980964/edit\">edit</a> the question to show how you connect the service and the dao, thanks"}],"owner":{"account_id":29300816,"reputation":1,"user_id":22449123,"display_name":"aisy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693230368,"creation_date":1693005232,"question_id":76980964,"body_markdown":"My stack uses java, mocikito, junit, and testng. I&#39;m fairly new to unit testing in general so it would appreciated if someone could explain me what&#39;s wrong with this and why in a helpful way.\r\n\r\nI get a `[testng] java.lang.AssertionError: expected [999999999999] but found [0]` in this line `assertEquals(actualListsPreferences.getUserId().longValue(), USER_ID);`\r\n\r\nThe problem is that `.setHomePreferences(` is a helper method outside of the class that is being tested, namely `DynamoOtherDao`. The code runs fine when that helper method is within the class that is being test (`this.service`) and there is no need to mock it `doReturn(mockHome)...`\r\n\r\nI&#39;ve spent too many hours trying to figure this out, any clues would help. Thanks.\r\n\r\n```\r\nArgumentCaptor&lt;Home&gt; argumentPojoHome = ArgumentCaptor.forClass(Home.class);\r\nArgumentCaptor&lt;Apt&gt; argumentPojoApt = ArgumentCaptor.forClass(Apt.class);\r\nArgumentCaptor&lt;DynamoDBTransactionWriteExpression&gt; argumentWriteExp = ArgumentCaptor.forClass(DynamoDBTransactionWriteExpression.class);\r\n\r\ndoReturn(mockHome)\r\n   .when(mockDynamoOtherDao)\r\n    .setHomePreferences(USER_ID, LIGHTS, KITCHEN, LIVING_ROOM);\r\n\r\nthis.service.addUserToAllowList(USER_ID, ROLE, CAN_SHARE, USER_ID, LIGHTS, KITCHEN, LIVING_ROOM);\r\n\r\nverify(this.mockTransactionWriteRequest, times(2)).addPut(argumentPojoHome.capture(), Matchers.isA(DynamoDBTransactionWriteExpression.class));\r\nverify(this.mockTransactionWriteRequest, times(2)).addPut(argumentPojoApt.capture(), Matchers.isA(DynamoDBTransactionWriteExpression.class));\r\n\r\nHome actualHomePreferences = argumentPojoHome.getAllValues().get(0);\r\nApt actualAptPreferences = argumentPojoApt.getAllValues().get(1);\r\n\r\nassertEquals(argumentPojoHome.getUserId().longValue(), USER_ID);\r\nassertEquals(argumentPojoHome.getLights(), LIGHTS);\r\nassertEquals(argumentPojoHome.getKitchen(), Kitchen.PUBLIC);\r\nassertEquals(argumentPojoHome.getLivingRoom(), LIVING_ROOM);\r\n\r\n// Check the captured TransactionWriteRequest and its content\r\nverify(this.mockDynamoDBMapper).transactionWrite(mockTransactionWriteRequest);\r\n```\r\n\r\nI have tried mocking the helper method:\r\n\r\n\r\n```\r\n  doReturn(mockSharedHeartsListDynamo)\r\n            .when(mockDynamoHeartsListDao)\r\n            .setHeartListPreferences(USER_ID, INFLUENCER_ID, PUBLIC_STATUS, PEN_NAME);\r\n```\r\n\r\nbut that doesn&#39;t help and I&#39;m pretty sure its because is when `assertEquals` is taking `argumentPojoHome` which should capture arguments when `this.service.addUserToAllowList(` is called, but it isn&#39;t because of the helper method. \r\n\r\nedit:\r\n\r\nthis is the helper method from another class:\r\n\r\n    public class DynamoHouseListDao {\r\n        public HouseListDynamo setHouseListPreferences(long userAccountId, String lights, String Kitchen, String LivingRoom) {\r\n            ZonedDateTime now = ZonedDateTime.now(DateTypeConverter.zoneOffset);\r\n            HouseListDynamo houseListDynamo = new HouseListDynamo.Builder(userAccountId,null).build();\r\n            heartsListDynamo.setKitchen9(&quot;&quot;);\r\n            heartsListDynamo.set...\r\n            return heartsListDynamo;\r\n        }\r\n        }","title":"How to correctly mock object in Java when using a helper method from another class?","body":"<p>My stack uses java, mocikito, junit, and testng. I'm fairly new to unit testing in general so it would appreciated if someone could explain me what's wrong with this and why in a helpful way.</p>\n<p>I get a <code>[testng] java.lang.AssertionError: expected [999999999999] but found [0]</code> in this line <code>assertEquals(actualListsPreferences.getUserId().longValue(), USER_ID);</code></p>\n<p>The problem is that <code>.setHomePreferences(</code> is a helper method outside of the class that is being tested, namely <code>DynamoOtherDao</code>. The code runs fine when that helper method is within the class that is being test (<code>this.service</code>) and there is no need to mock it <code>doReturn(mockHome)...</code></p>\n<p>I've spent too many hours trying to figure this out, any clues would help. Thanks.</p>\n<pre><code>ArgumentCaptor&lt;Home&gt; argumentPojoHome = ArgumentCaptor.forClass(Home.class);\nArgumentCaptor&lt;Apt&gt; argumentPojoApt = ArgumentCaptor.forClass(Apt.class);\nArgumentCaptor&lt;DynamoDBTransactionWriteExpression&gt; argumentWriteExp = ArgumentCaptor.forClass(DynamoDBTransactionWriteExpression.class);\n\ndoReturn(mockHome)\n   .when(mockDynamoOtherDao)\n    .setHomePreferences(USER_ID, LIGHTS, KITCHEN, LIVING_ROOM);\n\nthis.service.addUserToAllowList(USER_ID, ROLE, CAN_SHARE, USER_ID, LIGHTS, KITCHEN, LIVING_ROOM);\n\nverify(this.mockTransactionWriteRequest, times(2)).addPut(argumentPojoHome.capture(), Matchers.isA(DynamoDBTransactionWriteExpression.class));\nverify(this.mockTransactionWriteRequest, times(2)).addPut(argumentPojoApt.capture(), Matchers.isA(DynamoDBTransactionWriteExpression.class));\n\nHome actualHomePreferences = argumentPojoHome.getAllValues().get(0);\nApt actualAptPreferences = argumentPojoApt.getAllValues().get(1);\n\nassertEquals(argumentPojoHome.getUserId().longValue(), USER_ID);\nassertEquals(argumentPojoHome.getLights(), LIGHTS);\nassertEquals(argumentPojoHome.getKitchen(), Kitchen.PUBLIC);\nassertEquals(argumentPojoHome.getLivingRoom(), LIVING_ROOM);\n\n// Check the captured TransactionWriteRequest and its content\nverify(this.mockDynamoDBMapper).transactionWrite(mockTransactionWriteRequest);\n</code></pre>\n<p>I have tried mocking the helper method:</p>\n<pre><code>  doReturn(mockSharedHeartsListDynamo)\n            .when(mockDynamoHeartsListDao)\n            .setHeartListPreferences(USER_ID, INFLUENCER_ID, PUBLIC_STATUS, PEN_NAME);\n</code></pre>\n<p>but that doesn't help and I'm pretty sure its because is when <code>assertEquals</code> is taking <code>argumentPojoHome</code> which should capture arguments when <code>this.service.addUserToAllowList(</code> is called, but it isn't because of the helper method.</p>\n<p>edit:</p>\n<p>this is the helper method from another class:</p>\n<pre><code>public class DynamoHouseListDao {\n    public HouseListDynamo setHouseListPreferences(long userAccountId, String lights, String Kitchen, String LivingRoom) {\n        ZonedDateTime now = ZonedDateTime.now(DateTypeConverter.zoneOffset);\n        HouseListDynamo houseListDynamo = new HouseListDynamo.Builder(userAccountId,null).build();\n        heartsListDynamo.setKitchen9(&quot;&quot;);\n        heartsListDynamo.set...\n        return heartsListDynamo;\n    }\n    }\n</code></pre>\n"},{"tags":["java","logging","java-8","slf4j"],"answers":[{"comments":[{"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"score":0,"creation_date":1518501187,"post_id":48760214,"comment_id":84521016,"body_markdown":"will this be same as `slf4j` log?","body":"will this be same as <code>slf4j</code> log?"},{"owner":{"account_id":7233641,"reputation":2294,"user_id":5519648,"display_name":"Alex M981"},"score":0,"creation_date":1518501320,"post_id":48760214,"comment_id":84521070,"body_markdown":"lombok slf4j is actually adding the line `Logger log = LoggerFactory.getLogger(SomIface.class);` so you avoid such a routine work. Example from my post is using slf4j","body":"lombok slf4j is actually adding the line <code>Logger log = LoggerFactory.getLogger(SomIface.class);</code> so you avoid such a routine work. Example from my post is using slf4j"},{"owner":{"account_id":64278,"reputation":2734,"user_id":189849,"accept_rate":73,"display_name":"pcjuzer"},"score":0,"creation_date":1518613181,"post_id":48760214,"comment_id":84577240,"body_markdown":"With this attitude it&#39;s possible to declare a public static logger in any other class and use it, maybe through a static method, maybe with static import. There&#39;s no need for an interface and for a default method in an interface.","body":"With this attitude it&#39;s possible to declare a public static logger in any other class and use it, maybe through a static method, maybe with static import. There&#39;s no need for an interface and for a default method in an interface."},{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":3,"creation_date":1546526008,"post_id":48760214,"comment_id":94884864,"body_markdown":"the code checker like &#39;sonar&#39; won&#39;t suggest u do this . warning &#39;Move constants to a class or enum.&#39; still exist","body":"the code checker like &#39;sonar&#39; won&#39;t suggest u do this . warning &#39;Move constants to a class or enum.&#39; still exist"},{"owner":{"account_id":7470674,"reputation":81,"user_id":5678779,"display_name":"JohnnyB"},"score":0,"creation_date":1584278289,"post_id":48760214,"comment_id":107381807,"body_markdown":"Keep in mind this logger will be static, as well as any attribute defined in an interface","body":"Keep in mind this logger will be static, as well as any attribute defined in an interface"},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1678354687,"post_id":48760214,"comment_id":133517345,"body_markdown":"If you don\\`t want to expose Logger object(I think most people would agree), then the other answer is better for not exposing it(because the actual logger object is inside the nested class, as a private field, it is not accessible outside)","body":"If you don`t want to expose Logger object(I think most people would agree), then the other answer is better for not exposing it(because the actual logger object is inside the nested class, as a private field, it is not accessible outside)"}],"tags":[],"owner":{"account_id":7233641,"reputation":2294,"user_id":5519648,"display_name":"Alex M981"},"comment_count":6,"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1518500840,"creation_date":1518500840,"answer_id":48760214,"question_id":48759353,"body_markdown":"you can add logger to your interface manually, but your logger will be public: \r\n\r\n    public interface SomeInterface {\r\n        Logger log = LoggerFactory.getLogger(SomIface.class);\r\n    \r\n        default void action() {\r\n            log.info(&quot;TEST&quot;);\r\n        }\r\n    }\r\n\r\n","title":"logging in interface methods","body":"<p>you can add logger to your interface manually, but your logger will be public: </p>\n\n<pre><code>public interface SomeInterface {\n    Logger log = LoggerFactory.getLogger(SomIface.class);\n\n    default void action() {\n        log.info(\"TEST\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7723307,"reputation":3631,"user_id":5848808,"display_name":"Boris Schegolev"},"score":0,"creation_date":1602778780,"post_id":48766148,"comment_id":113834518,"body_markdown":"I don&#39;t think you understand the concept of &quot;implementation on the interface&quot; in Java. Implementation here can only be static, it&#39;s not inherited by implementing classes.","body":"I don&#39;t think you understand the concept of &quot;implementation on the interface&quot; in Java. Implementation here can only be static, it&#39;s not inherited by implementing classes."},{"owner":{"account_id":64278,"reputation":2734,"user_id":189849,"accept_rate":73,"display_name":"pcjuzer"},"score":0,"creation_date":1602855169,"post_id":48766148,"comment_id":113859775,"body_markdown":"How do you mean &#39;static&#39; and &#39;not inherited&#39;? Constants in interfaces are static, that&#39;s right.\nBut &#39;default&#39; method is not static. It can be called on instances of implementation classes, so it&#39;s inherited.","body":"How do you mean &#39;static&#39; and &#39;not inherited&#39;? Constants in interfaces are static, that&#39;s right. But &#39;default&#39; method is not static. It can be called on instances of implementation classes, so it&#39;s inherited."}],"tags":[],"owner":{"account_id":64278,"reputation":2734,"user_id":189849,"accept_rate":73,"display_name":"pcjuzer"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518522491,"creation_date":1518522491,"answer_id":48766148,"question_id":48759353,"body_markdown":"Logging is an implementation detail, so an interface shouldn&#39;t deal with it. If logging is considered as the responsibility of the interface that will lead to several problems. For example:\r\n\r\n - If there are more than one class implementations, you don&#39;t know which is used because they log with the same name. It&#39;s also not possible to fine-tune their log levels by their names in config.\r\n - Default methods are public which means they can be called from the outside. This is not very desirable for logging methods.\r\n - Logging methods would just pollute the interface. What would one say if &#39;Map&#39; interface would contain such kind of default methods? &#39;logDebug&#39; or so. It&#39;s just confusing and leads to unnecessary questions. An interface should be a clean API for the intended purpose.\r\n\r\nWhat you could use instead:\r\n\r\n- Some kind of delegation which Lombok also has support for. (Composition over inheritance)\r\n- Some kind of Aspect Oriented Programming technique. There are frameworks for that but it&#39;s also possible to achieve the same by &quot;Dynamic Proxies&quot;. This is also in connection with interfaces.","title":"logging in interface methods","body":"<p>Logging is an implementation detail, so an interface shouldn't deal with it. If logging is considered as the responsibility of the interface that will lead to several problems. For example:</p>\n\n<ul>\n<li>If there are more than one class implementations, you don't know which is used because they log with the same name. It's also not possible to fine-tune their log levels by their names in config.</li>\n<li>Default methods are public which means they can be called from the outside. This is not very desirable for logging methods.</li>\n<li>Logging methods would just pollute the interface. What would one say if 'Map' interface would contain such kind of default methods? 'logDebug' or so. It's just confusing and leads to unnecessary questions. An interface should be a clean API for the intended purpose.</li>\n</ul>\n\n<p>What you could use instead:</p>\n\n<ul>\n<li>Some kind of delegation which Lombok also has support for. (Composition over inheritance)</li>\n<li>Some kind of Aspect Oriented Programming technique. There are frameworks for that but it's also possible to achieve the same by \"Dynamic Proxies\". This is also in connection with interfaces.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":2,"creation_date":1608238035,"post_id":57472569,"comment_id":115529866,"body_markdown":"Here&#39;s the closed/rejected Lombok feature request to support the logging annotations on interfaces: https://github.com/rzwitserloot/lombok/issues/2584","body":"Here&#39;s the closed/rejected Lombok feature request to support the logging annotations on interfaces: <a href=\"https://github.com/rzwitserloot/lombok/issues/2584\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/2584</a>"},{"owner":{"account_id":2815987,"reputation":3975,"user_id":3314058,"display_name":"Dheeraj Sachan"},"score":0,"creation_date":1662497531,"post_id":57472569,"comment_id":130018262,"body_markdown":"why not use an abstract class with a method already implemented, if you really need to write some code with logging instead of searching for hacks to add logger","body":"why not use an abstract class with a method already implemented, if you really need to write some code with logging instead of searching for hacks to add logger"}],"tags":[],"owner":{"account_id":10195830,"reputation":407,"user_id":7527667,"display_name":"Vaibhav"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1565679638,"creation_date":1565679375,"answer_id":57472569,"question_id":48759353,"body_markdown":"Currently Lombok `@Slf4j` annotation is not supported on interfaces,\r\nbut it can be circumvented like this \r\n\r\n\r\n    public interface MyInterface\r\n    {\r\n    \t@Slf4j\r\n    \tfinal class LogHolder\r\n    \t{}\r\n        \r\n        default void action() {\r\n            LogHolder.log.error(&quot;Error TEST&quot;);\r\n        }\r\n    }","title":"logging in interface methods","body":"<p>Currently Lombok <code>@Slf4j</code> annotation is not supported on interfaces,\nbut it can be circumvented like this </p>\n\n<pre><code>public interface MyInterface\n{\n    @Slf4j\n    final class LogHolder\n    {}\n\n    default void action() {\n        LogHolder.log.error(\"Error TEST\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5016015,"reputation":1,"user_id":4035966,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630303376,"creation_date":1626797099,"answer_id":68458037,"question_id":48759353,"body_markdown":"We can add an abstract method getLogger in interface. And ask the implementer to pass the logger object.\r\n\r\n    public interface CustomRepo{\r\n     \r\n        Logger getLogger();\r\n    \r\n        default void processData(Data data){\r\n            // Do something \r\n            getLogger().info(&quot;Processing&quot;);\r\n            // Do something\r\n        }\r\n    \r\n    }\r\n    \r\n    @Slf4j\r\n    public RepoImplementer implements CustomRepo {\r\n    \r\n       @Override\r\n       public Logger getLogger(){\r\n          return log;\r\n       }\r\n    }","title":"logging in interface methods","body":"<p>We can add an abstract method getLogger in interface. And ask the implementer to pass the logger object.</p>\n<pre><code>public interface CustomRepo{\n \n    Logger getLogger();\n\n    default void processData(Data data){\n        // Do something \n        getLogger().info(&quot;Processing&quot;);\n        // Do something\n    }\n\n}\n\n@Slf4j\npublic RepoImplementer implements CustomRepo {\n\n   @Override\n   public Logger getLogger(){\n      return log;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3313719,"reputation":83,"user_id":2786531,"display_name":"user2786531"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693230113,"creation_date":1693230113,"answer_id":76993357,"question_id":48759353,"body_markdown":"With Java 9+ you could use private methods to prevent logger from being public static\r\n\r\n    public interface SomeInterface {\r\n        private Logger log() {\r\n            return LoggerFactory.getLogger(SomeInterface.class);\r\n        }\r\n    \r\n        default void action() {\r\n            log().info(&quot;TEST&quot;);\r\n        }\r\n    }","title":"logging in interface methods","body":"<p>With Java 9+ you could use private methods to prevent logger from being public static</p>\n<pre><code>public interface SomeInterface {\n    private Logger log() {\n        return LoggerFactory.getLogger(SomeInterface.class);\n    }\n\n    default void action() {\n        log().info(&quot;TEST&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20839,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":48760214,"answer_count":5,"score":18,"last_activity_date":1693230113,"creation_date":1518495430,"question_id":48759353,"body_markdown":"I have been working on java 7 so far and recently moved to java-8, one thing which was surprising is that you can [add methods][1] in java-8 interfaces.\r\n\r\nSo far so good....loved this new stuff!\r\n\r\nNow, my problem is that `logging` is an essential part of any development but seems [`lombok.extern.slf4j`][2] won&#39;t let you add `log` stuffs in by interface methods as it is only allowed on `classes` and `enums`.\r\n\r\nHow do you `log` your interface methods (*if by `lombok`* or [is this][3] the only way?? ) ? Or is interface methods not supposed to be logged? what am i missing here?\r\n\r\nP.S : At present i am working with `System.out.println`.... yeah...thats *noob* :)\r\n\r\n  [1]: https://stackoverflow.com/questions/27833168/difference-between-static-and-default-methods-in-interface\r\n  [2]: https://mvnrepository.com/artifact/org.projectlombok/lombok/0.10.1\r\n  [3]: https://stackoverflow.com/questions/28720845/logging-from-default-interface-methods","title":"logging in interface methods","body":"<p>I have been working on java 7 so far and recently moved to java-8, one thing which was surprising is that you can <a href=\"https://stackoverflow.com/questions/27833168/difference-between-static-and-default-methods-in-interface\">add methods</a> in java-8 interfaces.</p>\n<p>So far so good....loved this new stuff!</p>\n<p>Now, my problem is that <code>logging</code> is an essential part of any development but seems <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok/0.10.1\" rel=\"noreferrer\"><code>lombok.extern.slf4j</code></a> won't let you add <code>log</code> stuffs in by interface methods as it is only allowed on <code>classes</code> and <code>enums</code>.</p>\n<p>How do you <code>log</code> your interface methods (<em>if by <code>lombok</code></em> or <a href=\"https://stackoverflow.com/questions/28720845/logging-from-default-interface-methods\">is this</a> the only way?? ) ? Or is interface methods not supposed to be logged? what am i missing here?</p>\n<p>P.S : At present i am working with <code>System.out.println</code>.... yeah...thats <em>noob</em> :)</p>\n"},{"tags":["java","azure"],"answers":[{"comments":[{"owner":{"account_id":6397346,"reputation":107,"user_id":4961252,"display_name":"Pete Long"},"score":1,"creation_date":1693425483,"post_id":76993277,"comment_id":135761068,"body_markdown":"Thank you so much for a comprehensive response. You went to so much effort to make the response even easier to understand. Very much appreciated. Sorry for my very late response.","body":"Thank you so much for a comprehensive response. You went to so much effort to make the response even easier to understand. Very much appreciated. Sorry for my very late response."}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693229553,"creation_date":1693229553,"answer_id":76993277,"question_id":76984060,"body_markdown":"&gt;A data folder is created and this folder is where the blob data files will be created and stored. I presume what this is really saying is that the downloaded blobs will be saved to the data folder. The actual storage of the blob is still in the Azure cloud. Is my understanding correct.\r\n\r\n1.  Yes, the files which are available in the `data ` folder will be used for uploading to the blob and the files which are downloaded from Blob will be stored in the `data` folder as mentioned in the code snippet.\r\n```java\r\nString localPath = &quot;./data/&quot;; \r\nString fileName = &quot;quickstart&quot; + java.util.UUID.randomUUID() + &quot;.txt&quot;;\r\n```\r\n![enter image description here](https://i.imgur.com/8sIo93q.png)\r\n\r\n![enter image description here](https://i.imgur.com/dI0FPMq.png)\r\n\r\n&gt;Any content downloaded to the data folder can be viewed as temporary area where content of blob are saved into a unique filename. The file in the data folder can be deleted. Should the blob content be needed again, the blob can be downloaded again to a file in data folder. ?\r\n\r\n2. Yes, even if the files downloaded to the &quot;data&quot; folder is deleted, the files which are uploaded will be available in the container. If the blob content is required again, the blob can be downloaded again to the &quot;data&quot; folder.\r\n\r\n![enter image description here](https://i.imgur.com/wBX5U0T.png)\r\n\r\n![enter image description here](https://i.imgur.com/xbREb5V.png)\r\n\r\n***Downloading the files again from the container to `data` folder:***\r\n\r\n![enter image description here](https://i.imgur.com/DjZZRzE.png)\r\n\r\n3. Each Blob Client instance is associated with one blob at a time. Blob Client class provides a client (Blob Service client) which contains few generic operations for Azure Storage Blobs like uploading and downloading files, copying and retrieving blobs, deleting and un-deleting a blob. \r\n \r\n4. Yes, Blob is the filename which is passed to the `BlobClient` object as shown below:\r\n```java\r\nString  fileName  =  &quot;quickstart&quot;  +  java.util.UUID.randomUUID() +  &quot;.txt&quot;;\r\n\r\n// Get a reference to a blob\r\nBlobClient  blobClient  =  blobContainerClient.getBlobClient(fileName);\r\n\r\nSystem.out.println(&quot;\\nUploading to Blob storage as blob:\\n\\t&quot;  +  blobClient.getBlobUrl());\r\n\r\n// Upload the blob\r\nblobClient.uploadFromFile(localPath  +  fileName);\r\n```\r\nAs mentioned in the MSDOC you have given, `blobClient.uploadFromFile(localPath  +  fileName);`  verifies if the file already exists or not. \r\nIf it exists, it won&#39;t be overwritten.\r\n![enter image description here](https://i.imgur.com/sPcmeUD.png)\r\n\r\n5. In the below given code, it creates a new container along with new blob:\r\n\r\nHere, container name should be unique, and the file name can be anything. Because when we upload a file, it will be stored in separate container every time. \r\n```java\r\n// Create a container with an unique name\r\nString  containerName  =  &quot;quickstartblobs&quot;  +  java.util.UUID.randomUUID();\r\n\r\nBlobContainerClient  blobContainerClient  =  blobServiceClient.createBlobContainer(containerName);\r\n\r\nString  localPath  =  &quot;./data/&quot;;\r\n\r\nString  fileName  =  &quot;quickstart&quot;  +  java.util.UUID.randomUUID() +  &quot;.txt&quot;;\r\n```\r\nIf the container name already exists, it returns error as shown below:\r\n\r\n![enter image description here](https://i.imgur.com/nHjqg25.png)\r\n\r\n**References:**\r\n\r\nRefer to my [SO Answer](https://stackoverflow.com/questions/75712170/cant-generate-a-download-link-for-a-file-that-exists-in-virtual-directory-in-azu/75722329#75722329) to achieve similar scenario using REST API.  ","title":"Azure Blob Storage client library for Java","body":"<blockquote>\n<p>A data folder is created and this folder is where the blob data files will be created and stored. I presume what this is really saying is that the downloaded blobs will be saved to the data folder. The actual storage of the blob is still in the Azure cloud. Is my understanding correct.</p>\n</blockquote>\n<ol>\n<li>Yes, the files which are available in the <code>data </code> folder will be used for uploading to the blob and the files which are downloaded from Blob will be stored in the <code>data</code> folder as mentioned in the code snippet.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String localPath = &quot;./data/&quot;; \nString fileName = &quot;quickstart&quot; + java.util.UUID.randomUUID() + &quot;.txt&quot;;\n</code></pre>\n<p><img src=\"https://i.imgur.com/8sIo93q.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/dI0FPMq.png\" alt=\"enter image description here\" /></p>\n<blockquote>\n<p>Any content downloaded to the data folder can be viewed as temporary area where content of blob are saved into a unique filename. The file in the data folder can be deleted. Should the blob content be needed again, the blob can be downloaded again to a file in data folder. ?</p>\n</blockquote>\n<ol start=\"2\">\n<li>Yes, even if the files downloaded to the &quot;data&quot; folder is deleted, the files which are uploaded will be available in the container. If the blob content is required again, the blob can be downloaded again to the &quot;data&quot; folder.</li>\n</ol>\n<p><img src=\"https://i.imgur.com/wBX5U0T.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/xbREb5V.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Downloading the files again from the container to <code>data</code> folder:</strong></em></p>\n<p><img src=\"https://i.imgur.com/DjZZRzE.png\" alt=\"enter image description here\" /></p>\n<ol start=\"3\">\n<li><p>Each Blob Client instance is associated with one blob at a time. Blob Client class provides a client (Blob Service client) which contains few generic operations for Azure Storage Blobs like uploading and downloading files, copying and retrieving blobs, deleting and un-deleting a blob.</p>\n</li>\n<li><p>Yes, Blob is the filename which is passed to the <code>BlobClient</code> object as shown below:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String  fileName  =  &quot;quickstart&quot;  +  java.util.UUID.randomUUID() +  &quot;.txt&quot;;\n\n// Get a reference to a blob\nBlobClient  blobClient  =  blobContainerClient.getBlobClient(fileName);\n\nSystem.out.println(&quot;\\nUploading to Blob storage as blob:\\n\\t&quot;  +  blobClient.getBlobUrl());\n\n// Upload the blob\nblobClient.uploadFromFile(localPath  +  fileName);\n</code></pre>\n<p>As mentioned in the MSDOC you have given, <code>blobClient.uploadFromFile(localPath  +  fileName);</code>  verifies if the file already exists or not.\nIf it exists, it won't be overwritten.\n<img src=\"https://i.imgur.com/sPcmeUD.png\" alt=\"enter image description here\" /></p>\n<ol start=\"5\">\n<li>In the below given code, it creates a new container along with new blob:</li>\n</ol>\n<p>Here, container name should be unique, and the file name can be anything. Because when we upload a file, it will be stored in separate container every time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a container with an unique name\nString  containerName  =  &quot;quickstartblobs&quot;  +  java.util.UUID.randomUUID();\n\nBlobContainerClient  blobContainerClient  =  blobServiceClient.createBlobContainer(containerName);\n\nString  localPath  =  &quot;./data/&quot;;\n\nString  fileName  =  &quot;quickstart&quot;  +  java.util.UUID.randomUUID() +  &quot;.txt&quot;;\n</code></pre>\n<p>If the container name already exists, it returns error as shown below:</p>\n<p><img src=\"https://i.imgur.com/nHjqg25.png\" alt=\"enter image description here\" /></p>\n<p><strong>References:</strong></p>\n<p>Refer to my <a href=\"https://stackoverflow.com/questions/75712170/cant-generate-a-download-link-for-a-file-that-exists-in-virtual-directory-in-azu/75722329#75722329\">SO Answer</a> to achieve similar scenario using REST API.</p>\n"}],"owner":{"account_id":6397346,"reputation":107,"user_id":4961252,"display_name":"Pete Long"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76993277,"answer_count":1,"score":0,"last_activity_date":1693229553,"creation_date":1693070424,"question_id":76984060,"body_markdown":"Just trying to familiarise and understand the following  tutorial on how to access the blobs using Java :-\r\nhttps://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli\r\n\r\nI am familiar with Java but not Azure Blob Storage. I have some basic questions around the API that I hope someone will be able to clarify :-\r\n\r\n\tA data folder is created and this folder is where the blob data files will be created and stored. \r\nI presume what this is really saying is that the downloaded blobs will be saved to the data folder. \r\nThe actual storage of the blob is still in the Azure cloud. Is my understanding correct ?\r\n\r\n\tAny content downloaded to the data folder can be viewed as temporary area where content of blob are saved into a unique filename.\r\nThe file in the data folder can  be deleted. \r\nShould the blob content be needed again, the blob can be downloaded again to a file in data folder. ? \r\n  \r\n\r\n\tEach BlobClient instance is associated with one blob ?\r\n\r\n\r\n\tThe BlobClient instance can be used to upload content into blob or download the blob content ?\r\n\r\n\tThe blob is identified by the filename passed when the BlobClient is created ?\r\n\r\n\tEach blob stored must be associated with unique filename ?\r\n\t\r\n\tThe blob stored with 1st line will be over written with the content of filename by the 2nd line \r\nline 1 -   blobClient.uploadFromFile(localPath + fileName);\r\nline 2 -   blobClient.uploadFromFile(localPath + fileName);\r\n\r\nThe point I just wanted to confirm was that content stored by a blob can be overwritten\r\n\r\n\tThe sample code is basic. However, how are difficult scenarios like concurrency handled with the  API ?\r\n\r\nI appreciate these questions might seem simple, but it important to understand the basics, before moving forward.\r\n\r\nThank you for any help.\r\n\r\nPete\r\n","title":"Azure Blob Storage client library for Java","body":"<p>Just trying to familiarise and understand the following  tutorial on how to access the blobs using Java :-\n<a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli</a></p>\n<p>I am familiar with Java but not Azure Blob Storage. I have some basic questions around the API that I hope someone will be able to clarify :-</p>\n<p>   A data folder is created and this folder is where the blob data files will be created and stored.\nI presume what this is really saying is that the downloaded blobs will be saved to the data folder.\nThe actual storage of the blob is still in the Azure cloud. Is my understanding correct ?</p>\n<p>   Any content downloaded to the data folder can be viewed as temporary area where content of blob are saved into a unique filename.\nThe file in the data folder can  be deleted.\nShould the blob content be needed again, the blob can be downloaded again to a file in data folder. ?</p>\n<p>   Each BlobClient instance is associated with one blob ?</p>\n<p>   The BlobClient instance can be used to upload content into blob or download the blob content ?</p>\n<p>   The blob is identified by the filename passed when the BlobClient is created ?</p>\n<p>   Each blob stored must be associated with unique filename ?</p>\n<p>   The blob stored with 1st line will be over written with the content of filename by the 2nd line\nline 1 -   blobClient.uploadFromFile(localPath + fileName);\nline 2 -   blobClient.uploadFromFile(localPath + fileName);</p>\n<p>The point I just wanted to confirm was that content stored by a blob can be overwritten</p>\n<p>   The sample code is basic. However, how are difficult scenarios like concurrency handled with the  API ?</p>\n<p>I appreciate these questions might seem simple, but it important to understand the basics, before moving forward.</p>\n<p>Thank you for any help.</p>\n<p>Pete</p>\n"},{"tags":["java","apache-httpclient-5.x","proxy-authentication"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1693239528,"post_id":76993237,"comment_id":135731190,"body_markdown":"One strategy would be to ask ChatGPT in which JAR the class can be found and check if that JAR is in the classpath","body":"One strategy would be to ask ChatGPT in which JAR the class can be found and check if that JAR is in the classpath"}],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693229244,"creation_date":1693229244,"question_id":76993237,"body_markdown":"I am updating the java version of our micro services from Java 11 to Java 17.\r\nIn one of our micro services I have the following piece of code:\r\n\r\n```\r\nbaseHttpClientBuilder.\r\n.setProxyAuthenticationStrategy(INSTANCE)\r\n...\r\n...\r\n.build()\r\n```\r\nwhere the HttpClientBuilder is org.apache.http.impl.client.HttpClientBuilder;\r\nand INSTANCE is\r\n\r\n```\r\norg.apache.http.impl.client.ProxyAuthenticationStrategy.INSTANCE\r\n```\r\n\r\nHow should I replace this code, using the httpclient5 package, which is used in Spring Boot 3.x?\r\nThere the HttpClientBuilder is \r\norg.apache.hc.client5.http.impl.classic.HttpClientBuilder\r\n\r\nThis builder has also\r\n``` \r\n.setProxyAuthenticationStrategy(AuthenticationStrategy strategy)\r\n```\r\nmethod, but in the httpclient packages I do not see any ProxyAuthenticationStategy implementation classes, which I could use.\r\nChatGPT said, that there is a class \r\n\r\norg.apache.hc.client5.http.impl.classic.ProxyAuthenticationStrategy, \r\n\r\nbut I did not find any like this.\r\n\r\n\r\n","title":"How to set ProxyAuthenticationStrategy in HttpClientBuilder?","body":"<p>I am updating the java version of our micro services from Java 11 to Java 17.\nIn one of our micro services I have the following piece of code:</p>\n<pre><code>baseHttpClientBuilder.\n.setProxyAuthenticationStrategy(INSTANCE)\n...\n...\n.build()\n</code></pre>\n<p>where the HttpClientBuilder is org.apache.http.impl.client.HttpClientBuilder;\nand INSTANCE is</p>\n<pre><code>org.apache.http.impl.client.ProxyAuthenticationStrategy.INSTANCE\n</code></pre>\n<p>How should I replace this code, using the httpclient5 package, which is used in Spring Boot 3.x?\nThere the HttpClientBuilder is\norg.apache.hc.client5.http.impl.classic.HttpClientBuilder</p>\n<p>This builder has also</p>\n<pre><code>.setProxyAuthenticationStrategy(AuthenticationStrategy strategy)\n</code></pre>\n<p>method, but in the httpclient packages I do not see any ProxyAuthenticationStategy implementation classes, which I could use.\nChatGPT said, that there is a class</p>\n<p>org.apache.hc.client5.http.impl.classic.ProxyAuthenticationStrategy,</p>\n<p>but I did not find any like this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9916,"page":218,"page_size":100}
