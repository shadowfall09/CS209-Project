{"items":[{"tags":["java","swing","jframe","jpanel","game-development"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1648415861,"post_id":71640258,"comment_id":126612406,"body_markdown":"Not certain (yet) but I would use a different name than `Window` since `java.awt.*` imports the `java.awt.Window` class.","body":"Not certain (yet) but I would use a different name than <code>Window</code> since <code>java.awt.*</code> imports the <code>java.awt.Window</code> class."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648415947,"post_id":71640258,"comment_id":126612420,"body_markdown":"`Kavaliro#run` is a bad idea and would, otherwise, better done via some kind of observer pattern.  Also, `java.util.Observer` is deprecated","body":"<code>Kavaliro#run</code> is a bad idea and would, otherwise, better done via some kind of observer pattern.  Also, <code>java.util.Observer</code> is deprecated"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648416095,"post_id":71640258,"comment_id":126612447,"body_markdown":"Stop hacking your way around the limitations of `KeyListener` and make use the [Key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead","body":"Stop hacking your way around the limitations of <code>KeyListener</code> and make use the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key bindings API</a> instead"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1648418401,"post_id":71640258,"comment_id":126612872,"body_markdown":"If a component is painted, then the paintComponent() method will be invoked. Some reasons why it might not be painted: 1) the component isn&#39;t visible 2) the component has a size of (0, 0) so there is nothing to paint. If you are trying to show different panels then use a [CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html).","body":"If a component is painted, then the paintComponent() method will be invoked. Some reasons why it might not be painted: 1) the component isn&#39;t visible 2) the component has a size of (0, 0) so there is nothing to paint. If you are trying to show different panels then use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651804752,"creation_date":1648419401,"answer_id":71640731,"question_id":71640258,"body_markdown":"This...\r\n\r\n    private void run(){\r\n        while(true){\r\n            if(GameState.changed){\r\n                Screen.getInstance().seeWindow(state);\r\n                GameState.changed = false;\r\n            }else {\r\n                Screen.getInstance().requestFocus(state);\r\n            }\r\n        }\r\n    }\r\n\r\nis a bad idea.  Apart from the fact that a &quot;wild loop&quot; is just generally a bad idea on its own, Swing is also not thread safe and is single threaded.\r\n\r\nThis means that if this is running within the context of the Event Dispatching Thread, it will block it and prevent from ever been able to process any new events.  If it&#39;s not running in the EDT, you&#39;re risking causing any number of graphic glitches or other &quot;dirty thread&quot; issues.\r\n\r\nAdd into the fact that a &quot;wild loop&quot; like this will also consume the CPU cycles, you&#39;re adding a tremendous performance overhead for little to no gain.\r\n\r\nStart by taking a look at [Concurrency in Swing\r\n](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)\r\n\r\n`Screen.getInstance().requestFocus(state);` is also a hack around the, known, limitations of `KeyListener` which are better solved through the use the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)\r\n\r\nTaking all that into account, `Kavaliro` should look something more like...\r\n\r\n    package game;\r\n\r\n    import view.Screen;\r\n\r\n    public class Kavaliro {\r\n        private static Kavaliro instance = null;\r\n\r\n        private GameState state;\r\n\r\n        private Kavaliro() {\r\n            state = GameState.TITLE;\r\n            Screen.getInstance().seeWindow(state);\r\n        }\r\n\r\n        public static Kavaliro getInstance() {\r\n            if (instance == null) {\r\n                instance = new Kavaliro();\r\n            }\r\n            return instance;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Kavaliro game = Kavaliro.getInstance();\r\n        }\r\n\r\n        public void setState(GameState state) {\r\n            Screen.getInstance().seeWindow(state);\r\n        }\r\n    }\r\n\r\nThis is also not a good way to make a singleton in Java.\r\n\r\n    public static Kavaliro getInstance() {\r\n        if (instance == null) {\r\n            instance = new Kavaliro();\r\n        }\r\n        return instance;\r\n    }\r\n\r\nYou could take a look at [Java Singleton Design Pattern Best Practices with Examples](https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples) and https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java OR you could just make use of [Dependency Injection](https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/) (and probably some research into [dependency injection vs singleton](https://www.google.com/search?sxsrf=APq-WBuwIao4z9ercBVmXNxL0EqGmKW4PA:1648418504210&amp;q=dependency+injection+vs+singleton&amp;spell=1&amp;sa=X&amp;ved=2ahUKEwjlyYm7pef2AhViFLcAHTGBDGgQirwEKAB6BAgBEDI))\r\n\r\n----------\r\n\r\nNow, as I said, `KeyListener` is a generally a poor choice of monitoring user keyboard input, this means that `TitleWindow` should change, to something a little more like...\r\n\r\n    package view.wins;\r\n\r\n    import game.GameState;\r\n    import game.Kavaliro;\r\n    import game.Utilities;\r\n    import logic.TitleLogic;\r\n    import utilz.GFXManager;\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.Observable;\r\n    import java.util.Observer;\r\n\r\n    public class TitleWindow extends Window implements Observer {\r\n        private final String BELOW_TITLE_TEXT;\r\n        private final ImageIcon TITLE_ICON;\r\n\r\n        private JLabel lblTitleIcon, lblBelowTitle;\r\n\r\n        public TitleWindow() {\r\n            super(&quot;title_background&quot;);\r\n            BELOW_TITLE_TEXT = &quot;Press enter to start&quot;;\r\n            TITLE_ICON = new ImageIcon(GFXManager.getInstance().getImage(&quot;texts/title.png&quot;));\r\n\r\n            TitleLogic.getInstance().addObserver(this);\r\n\r\n            setLayout(new BorderLayout());\r\n\r\n            Utilities.addKeyBinding(this, Utilities.keyStrokeFor(Utilities.Input.ENTER), new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Kavaliro.getInstance().setState(GameState.MENU);\r\n                }\r\n            });\r\n            Utilities.addKeyBinding(this, Utilities.keyStrokeFor(Utilities.Input.TITLE_TOGGLE), new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    TitleLogic.getInstance().tickColorChange();\r\n                }\r\n            });\r\n\r\n            add(getLblTitleIcon(), BorderLayout.CENTER);\r\n            add(getLblBelowTitle(), BorderLayout.SOUTH);\r\n        }\r\n\r\n        private JLabel getLblTitleIcon() {\r\n            if (lblTitleIcon == null) {\r\n                lblTitleIcon = new JLabel(TITLE_ICON);\r\n            }\r\n            return lblTitleIcon;\r\n        }\r\n\r\n        private JLabel getLblBelowTitle() {\r\n            if (lblBelowTitle == null) {\r\n                lblBelowTitle = new JLabel(BELOW_TITLE_TEXT, SwingConstants.CENTER);\r\n                lblBelowTitle.setFont(new Font(&quot;MS Gothic&quot;, Font.PLAIN, 24));\r\n                lblBelowTitle.setForeground(new Color(30, 230, 120));\r\n            }\r\n            return lblBelowTitle;\r\n        }\r\n\r\n        @Override\r\n        public void update(Observable o, Object arg) {\r\n            if (TitleLogic.getInstance().isTickColorChange()) {\r\n                getLblBelowTitle().setForeground(new Color(120, 30, 230));\r\n            } else {\r\n                getLblBelowTitle().setForeground(new Color(30, 230, 120));\r\n            }\r\n        }\r\n    }\r\n\r\nNow, to make life easier, I wrote a quick &quot;utility&quot; class...\r\n\r\n    package game;\r\n\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.Action;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JComponent;\r\n    import static javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW;\r\n    import javax.swing.KeyStroke;\r\n\r\n    public class Utilities {\r\n\r\n        public static enum KeyState {\r\n            PRESSED, RELEASED\r\n        }\r\n\r\n        public static enum Input {\r\n            ENTER(KeyEvent.VK_ENTER), TITLE_TOGGLE(KeyEvent.VK_C);\r\n\r\n            private int keyEvent;\r\n\r\n            private Input(int keyEvent) {\r\n                this.keyEvent = keyEvent;\r\n            }\r\n\r\n            protected KeyStroke getKeyStroke(int modifiers, KeyState keyState) {\r\n                return KeyStroke.getKeyStroke(keyEvent, 0, keyState == KeyState.RELEASED ? true : false);\r\n            }\r\n        }\r\n\r\n        public static void addKeyBinding(JComponent parent, KeyStroke keyStroke, Action action) {\r\n            addKeyBinding(parent, keyStroke.toString(), keyStroke, action);\r\n        }\r\n\r\n        public static void addKeyBinding(JComponent parent, String name, KeyStroke keyStroke, Action action) {\r\n            InputMap inputMap = parent.getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n            ActionMap actionMap = parent.getActionMap();\r\n\r\n            inputMap.put(keyStroke, name);\r\n            actionMap.put(name, action);\r\n        }\r\n\r\n        public static KeyStroke keyStrokeFor(Input key) {\r\n            return keyStrokeFor(key, 0, KeyState.PRESSED);\r\n        }\r\n\r\n        public static KeyStroke keyStrokeFor(Input key, int modifiers) {\r\n            return keyStrokeFor(key, modifiers, KeyState.PRESSED);\r\n        }\r\n\r\n        public static KeyStroke keyStrokeFor(Input key, int modifiers, KeyState keyState) {\r\n            return key.getKeyStroke(modifiers, keyState);\r\n        }\r\n\r\n        public static KeyStroke keyStrokeFor(int key) {\r\n            return keyStrokeFor(key, 0, KeyState.PRESSED);\r\n        }\r\n\r\n        public static KeyStroke keyStrokeFor(int key, int modifiers) {\r\n            return keyStrokeFor(key, modifiers, KeyState.PRESSED);\r\n        }\r\n\r\n        public static KeyStroke keyStrokeFor(int key, int modifiers, KeyState keyState) {\r\n            return KeyStroke.getKeyStroke(key, 0, keyState == KeyState.RELEASED ? true : false);\r\n        }\r\n\r\n    }\r\n\r\nThis takes care of a lot of the boiler plate/repeating code, but also provides a means to &quot;limit&quot; the possible inputs to the API.  Note the `Input` `enum` allows for `ENTER` and `TITLE_TOGGLE` as viable options for the `keyStrokeFor` methods.\r\n\r\nNote that `TITLE_TOGGLE` &quot;hides&quot; the key stroke which is used, but it is pretty self documenting at the same time.  There are lots of other ways you could build out these concepts, this is just an example.\r\n\r\nAnd...\r\n\r\n    public class Button extends JLabel {\r\n\r\nwould get a very large, no, from me.  There is already a button component within the API and you should use it.  It even supports things like roll over, for [example](https://stackoverflow.com/questions/69868988/can-i-join-several-action-events-of-the-same-type-into-one-in-a-java-jframe/69869050#69869050) and [example](https://stackoverflow.com/questions/31448870/multiple-dispatchevent-calls-on-a-jbutton/31449501#31449501), as well as a verity of other functionalities, which you&#39;re going to be spending a lot of time re-building.\r\n\r\nSee [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html).  And, yes, you can remove the Look And Feel fill background and borders if you really want to.\r\n\r\n----------\r\n\r\nI don&#39;t know about you, and I don&#39;t use Intellij, but ` return ImageIO.read(new File(GFX_PATH + name));` broke for me.\r\n\r\nResources like these should really be embedded within the application&#39;s runtime context (tech babble for &quot;included in the Jar&quot;).  This will prevent issues with trying to locate the resources at runtime when the &quot;working directory&quot; context is not the same as the location of the `res` folder.\r\n\r\nYou should be using...\r\n\r\n    return ImageIO.read(getClass().getResource(GFX_PATH + name));\r\n\r\nbut how you configure Intellji to include the context of the `res` folder into your application context is beyond me.\r\n\r\n----------\r\n\r\n\r\n    public void seeWindow(GameState state){\r\n        // Use a CardLayout\r\n        switch(state){\r\n            case TITLE -&gt; setContentPane(getTitleWindow());\r\n            case MENU -&gt; setContentPane(getMenuWindow());\r\n            case SETTINGS -&gt; setContentPane(getSettingsWindow());\r\n        }\r\n        pack();\r\n    }\r\n\r\nis, well, short sighted.  Instead you should be using a `CardLayout` which will do this for you, and in away which generally will work reliably.\r\n\r\nSee [How to Use CardLayout\r\n](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) for more details","title":"Why does paintComponent get called only on some JPanels?","body":"<p>This...</p>\n<pre><code>private void run(){\n    while(true){\n        if(GameState.changed){\n            Screen.getInstance().seeWindow(state);\n            GameState.changed = false;\n        }else {\n            Screen.getInstance().requestFocus(state);\n        }\n    }\n}\n</code></pre>\n<p>is a bad idea.  Apart from the fact that a &quot;wild loop&quot; is just generally a bad idea on its own, Swing is also not thread safe and is single threaded.</p>\n<p>This means that if this is running within the context of the Event Dispatching Thread, it will block it and prevent from ever been able to process any new events.  If it's not running in the EDT, you're risking causing any number of graphic glitches or other &quot;dirty thread&quot; issues.</p>\n<p>Add into the fact that a &quot;wild loop&quot; like this will also consume the CPU cycles, you're adding a tremendous performance overhead for little to no gain.</p>\n<p>Start by taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing\n</a></p>\n<p><code>Screen.getInstance().requestFocus(state);</code> is also a hack around the, known, limitations of <code>KeyListener</code> which are better solved through the use the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a></p>\n<p>Taking all that into account, <code>Kavaliro</code> should look something more like...</p>\n<pre><code>package game;\n\nimport view.Screen;\n\npublic class Kavaliro {\n    private static Kavaliro instance = null;\n\n    private GameState state;\n\n    private Kavaliro() {\n        state = GameState.TITLE;\n        Screen.getInstance().seeWindow(state);\n    }\n\n    public static Kavaliro getInstance() {\n        if (instance == null) {\n            instance = new Kavaliro();\n        }\n        return instance;\n    }\n\n    public static void main(String[] args) {\n        Kavaliro game = Kavaliro.getInstance();\n    }\n\n    public void setState(GameState state) {\n        Screen.getInstance().seeWindow(state);\n    }\n}\n</code></pre>\n<p>This is also not a good way to make a singleton in Java.</p>\n<pre><code>public static Kavaliro getInstance() {\n    if (instance == null) {\n        instance = new Kavaliro();\n    }\n    return instance;\n}\n</code></pre>\n<p>You could take a look at <a href=\"https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples\" rel=\"nofollow noreferrer\">Java Singleton Design Pattern Best Practices with Examples</a> and <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">What is an efficient way to implement a singleton pattern in Java?</a> OR you could just make use of <a href=\"https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/\" rel=\"nofollow noreferrer\">Dependency Injection</a> (and probably some research into <a href=\"https://www.google.com/search?sxsrf=APq-WBuwIao4z9ercBVmXNxL0EqGmKW4PA:1648418504210&amp;q=dependency+injection+vs+singleton&amp;spell=1&amp;sa=X&amp;ved=2ahUKEwjlyYm7pef2AhViFLcAHTGBDGgQirwEKAB6BAgBEDI\" rel=\"nofollow noreferrer\">dependency injection vs singleton</a>)</p>\n<hr />\n<p>Now, as I said, <code>KeyListener</code> is a generally a poor choice of monitoring user keyboard input, this means that <code>TitleWindow</code> should change, to something a little more like...</p>\n<pre><code>package view.wins;\n\nimport game.GameState;\nimport game.Kavaliro;\nimport game.Utilities;\nimport logic.TitleLogic;\nimport utilz.GFXManager;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.Observable;\nimport java.util.Observer;\n\npublic class TitleWindow extends Window implements Observer {\n    private final String BELOW_TITLE_TEXT;\n    private final ImageIcon TITLE_ICON;\n\n    private JLabel lblTitleIcon, lblBelowTitle;\n\n    public TitleWindow() {\n        super(&quot;title_background&quot;);\n        BELOW_TITLE_TEXT = &quot;Press enter to start&quot;;\n        TITLE_ICON = new ImageIcon(GFXManager.getInstance().getImage(&quot;texts/title.png&quot;));\n\n        TitleLogic.getInstance().addObserver(this);\n\n        setLayout(new BorderLayout());\n\n        Utilities.addKeyBinding(this, Utilities.keyStrokeFor(Utilities.Input.ENTER), new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Kavaliro.getInstance().setState(GameState.MENU);\n            }\n        });\n        Utilities.addKeyBinding(this, Utilities.keyStrokeFor(Utilities.Input.TITLE_TOGGLE), new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                TitleLogic.getInstance().tickColorChange();\n            }\n        });\n\n        add(getLblTitleIcon(), BorderLayout.CENTER);\n        add(getLblBelowTitle(), BorderLayout.SOUTH);\n    }\n\n    private JLabel getLblTitleIcon() {\n        if (lblTitleIcon == null) {\n            lblTitleIcon = new JLabel(TITLE_ICON);\n        }\n        return lblTitleIcon;\n    }\n\n    private JLabel getLblBelowTitle() {\n        if (lblBelowTitle == null) {\n            lblBelowTitle = new JLabel(BELOW_TITLE_TEXT, SwingConstants.CENTER);\n            lblBelowTitle.setFont(new Font(&quot;MS Gothic&quot;, Font.PLAIN, 24));\n            lblBelowTitle.setForeground(new Color(30, 230, 120));\n        }\n        return lblBelowTitle;\n    }\n\n    @Override\n    public void update(Observable o, Object arg) {\n        if (TitleLogic.getInstance().isTickColorChange()) {\n            getLblBelowTitle().setForeground(new Color(120, 30, 230));\n        } else {\n            getLblBelowTitle().setForeground(new Color(30, 230, 120));\n        }\n    }\n}\n</code></pre>\n<p>Now, to make life easier, I wrote a quick &quot;utility&quot; class...</p>\n<pre><code>package game;\n\nimport java.awt.event.KeyEvent;\nimport javax.swing.Action;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JComponent;\nimport static javax.swing.JComponent.WHEN_IN_FOCUSED_WINDOW;\nimport javax.swing.KeyStroke;\n\npublic class Utilities {\n\n    public static enum KeyState {\n        PRESSED, RELEASED\n    }\n\n    public static enum Input {\n        ENTER(KeyEvent.VK_ENTER), TITLE_TOGGLE(KeyEvent.VK_C);\n\n        private int keyEvent;\n\n        private Input(int keyEvent) {\n            this.keyEvent = keyEvent;\n        }\n\n        protected KeyStroke getKeyStroke(int modifiers, KeyState keyState) {\n            return KeyStroke.getKeyStroke(keyEvent, 0, keyState == KeyState.RELEASED ? true : false);\n        }\n    }\n\n    public static void addKeyBinding(JComponent parent, KeyStroke keyStroke, Action action) {\n        addKeyBinding(parent, keyStroke.toString(), keyStroke, action);\n    }\n\n    public static void addKeyBinding(JComponent parent, String name, KeyStroke keyStroke, Action action) {\n        InputMap inputMap = parent.getInputMap(WHEN_IN_FOCUSED_WINDOW);\n        ActionMap actionMap = parent.getActionMap();\n\n        inputMap.put(keyStroke, name);\n        actionMap.put(name, action);\n    }\n\n    public static KeyStroke keyStrokeFor(Input key) {\n        return keyStrokeFor(key, 0, KeyState.PRESSED);\n    }\n\n    public static KeyStroke keyStrokeFor(Input key, int modifiers) {\n        return keyStrokeFor(key, modifiers, KeyState.PRESSED);\n    }\n\n    public static KeyStroke keyStrokeFor(Input key, int modifiers, KeyState keyState) {\n        return key.getKeyStroke(modifiers, keyState);\n    }\n\n    public static KeyStroke keyStrokeFor(int key) {\n        return keyStrokeFor(key, 0, KeyState.PRESSED);\n    }\n\n    public static KeyStroke keyStrokeFor(int key, int modifiers) {\n        return keyStrokeFor(key, modifiers, KeyState.PRESSED);\n    }\n\n    public static KeyStroke keyStrokeFor(int key, int modifiers, KeyState keyState) {\n        return KeyStroke.getKeyStroke(key, 0, keyState == KeyState.RELEASED ? true : false);\n    }\n\n}\n</code></pre>\n<p>This takes care of a lot of the boiler plate/repeating code, but also provides a means to &quot;limit&quot; the possible inputs to the API.  Note the <code>Input</code> <code>enum</code> allows for <code>ENTER</code> and <code>TITLE_TOGGLE</code> as viable options for the <code>keyStrokeFor</code> methods.</p>\n<p>Note that <code>TITLE_TOGGLE</code> &quot;hides&quot; the key stroke which is used, but it is pretty self documenting at the same time.  There are lots of other ways you could build out these concepts, this is just an example.</p>\n<p>And...</p>\n<pre><code>public class Button extends JLabel {\n</code></pre>\n<p>would get a very large, no, from me.  There is already a button component within the API and you should use it.  It even supports things like roll over, for <a href=\"https://stackoverflow.com/questions/69868988/can-i-join-several-action-events-of-the-same-type-into-one-in-a-java-jframe/69869050#69869050\">example</a> and <a href=\"https://stackoverflow.com/questions/31448870/multiple-dispatchevent-calls-on-a-jbutton/31449501#31449501\">example</a>, as well as a verity of other functionalities, which you're going to be spending a lot of time re-building.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a>.  And, yes, you can remove the Look And Feel fill background and borders if you really want to.</p>\n<hr />\n<p>I don't know about you, and I don't use Intellij, but <code> return ImageIO.read(new File(GFX_PATH + name));</code> broke for me.</p>\n<p>Resources like these should really be embedded within the application's runtime context (tech babble for &quot;included in the Jar&quot;).  This will prevent issues with trying to locate the resources at runtime when the &quot;working directory&quot; context is not the same as the location of the <code>res</code> folder.</p>\n<p>You should be using...</p>\n<pre><code>return ImageIO.read(getClass().getResource(GFX_PATH + name));\n</code></pre>\n<p>but how you configure Intellji to include the context of the <code>res</code> folder into your application context is beyond me.</p>\n<hr />\n<pre><code>public void seeWindow(GameState state){\n    // Use a CardLayout\n    switch(state){\n        case TITLE -&gt; setContentPane(getTitleWindow());\n        case MENU -&gt; setContentPane(getMenuWindow());\n        case SETTINGS -&gt; setContentPane(getSettingsWindow());\n    }\n    pack();\n}\n</code></pre>\n<p>is, well, short sighted.  Instead you should be using a <code>CardLayout</code> which will do this for you, and in away which generally will work reliably.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout\n</a> for more details</p>\n"}],"owner":{"account_id":24705689,"reputation":5,"user_id":18596532,"display_name":"gorkius_pD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71640731,"answer_count":1,"score":0,"last_activity_date":1651804752,"creation_date":1648414767,"question_id":71640258,"body_markdown":"I&#39;m trying to add a background to different JPanels (henceforth they will be called Window). These Windows are classes I created and make them inherit JPanel. Then depending on the state of the program one Window is set as the content panel of the program&#39;s JFrame. The problem comes when in some Windows the background gets set and in others not. The background setting is performed ussing the paintComponent(Graphics g) method, but despite I&#39;ve tried to fix the bug, I didnt&#39; success.\r\n\r\nHere is the code I think might be useful for those who wanna help:\r\n\r\nMain Loop:\r\n\r\n```\r\npublic class Game{\r\n\r\n//here comes other stuff (constructor, main, other methods...)\r\n\r\n    private void run(){\r\n        while(true){\r\n            if(GameState.changed){\r\n                Screen.getInstance().seeWindow(state);\r\n                GameState.changed = false;\r\n            }else {\r\n                Screen.getInstance().requestFocus(state);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nScreen class:\r\n\r\n```\r\npackage view;\r\n\r\nimport game.GameState;\r\nimport view.wins.*;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Screen extends JFrame {\r\n    private final int WIDTH;\r\n    private final int HEIGHT;\r\n\r\n    private static Screen instance = null;\r\n    private JComponent titleWindow, menuWindow, settingsWindow;\r\n\r\n    private Screen(){\r\n        WIDTH = 1152;\r\n        HEIGHT = 768;\r\n\r\n        setTitle(&quot;Game&quot;);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();\r\n        this.setLocation(dim.width/2-WIDTH/2, (dim.height - 50)/2-HEIGHT/2);\r\n        Dimension size = new Dimension(WIDTH, HEIGHT);\r\n\r\n        setPreferredSize(size);\r\n        setMinimumSize(size);\r\n        setMaximumSize(size);\r\n        setSize(size);\r\n\r\n        setResizable(false);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static Screen getInstance() {\r\n        if(instance == null){\r\n            instance = new Screen();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public void seeWindow(GameState state){\r\n        switch(state){\r\n            case TITLE -&gt; setContentPane(getTitleWindow());\r\n            case MENU -&gt; setContentPane(getMenuWindow());\r\n            case SETTINGS -&gt; setContentPane(getSettingsWindow());\r\n        }\r\n        pack();\r\n    }\r\n\r\n    public void requestFocus(GameState state){\r\n        switch (state){\r\n            case TITLE -&gt; getTitleWindow().requestFocus();\r\n            case MENU -&gt; getMenuWindow().requestFocus();\r\n            case SETTINGS -&gt; getSettingsWindow().requestFocus();\r\n        }\r\n    }\r\n\r\n    private JComponent getTitleWindow(){\r\n        if(titleWindow == null){\r\n            titleWindow = new TitleWindow();\r\n        }\r\n        return titleWindow;\r\n    }\r\n\r\n    private JComponent getMenuWindow(){\r\n        if(menuWindow == null){\r\n            menuWindow = new MenuWindow();\r\n        }\r\n        return menuWindow;\r\n    }\r\n\r\n    private JComponent getSettingsWindow(){\r\n        if(settingsWindow == null){\r\n            settingsWindow = new SettingsWindow();\r\n        }\r\n        return settingsWindow;\r\n    }\r\n}\r\n```\r\n\r\nWindow abstract class:\r\n\r\n```\r\npackage view.wins;\r\n\r\nimport utilz.GFXManager;\r\nimport view.Screen;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.Observer;\r\n\r\npublic abstract class Window extends JComponent implements Observer {\r\n    private Image background;\r\n\r\n    public Window(String background){\r\n        setLayout(new BorderLayout());\r\n        setPreferredSize(Screen.getInstance().getPreferredSize());\r\n\r\n        setBackground(background);\r\n        setFocusable(true);\r\n    }\r\n\r\n    protected void setBackground(String backgroundName){\r\n        this.background = GFXManager.getInstance().getImage(&quot;backgrounds/&quot; + backgroundName + &quot;.png&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.drawImage(background, 0, 0, null);\r\n    }\r\n\r\n}\r\n```\r\n\r\nA Window where the background is correctly set:\r\n\r\n```\r\npackage view.wins;\r\n\r\nimport game.GameState;\r\nimport game.Game;\r\nimport jdk.swing.interop.SwingInterOpUtils;\r\nimport logic.TitleLogic;\r\nimport utilz.GFXManager;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.util.Observable;\r\nimport java.util.Observer;\r\n\r\npublic class TitleWindow extends Window implements Observer {\r\n    private final String BELOW_TITLE_TEXT;\r\n    private final ImageIcon TITLE_ICON;\r\n\r\n    private JLabel lblTitleIcon, lblBelowTitle;\r\n    private KeyController keyController;\r\n\r\n    public TitleWindow(){\r\n        super(&quot;title_background&quot;);\r\n        BELOW_TITLE_TEXT = &quot;Press enter to start&quot;;\r\n        TITLE_ICON = new ImageIcon(GFXManager.getInstance().getImage(&quot;texts/title.png&quot;));\r\n\r\n        TitleLogic.getInstance().addObserver(this);\r\n\r\n        setLayout(new BorderLayout());\r\n        addKeyListener(new KeyController());\r\n\r\n        add(getLblTitleIcon(), BorderLayout.CENTER);\r\n        add(getLblBelowTitle(), BorderLayout.SOUTH);\r\n    }\r\n\r\n    private JLabel getLblTitleIcon(){\r\n        if(lblTitleIcon == null){\r\n            lblTitleIcon = new JLabel(TITLE_ICON);\r\n        }\r\n        return lblTitleIcon;\r\n    }\r\n\r\n    private JLabel getLblBelowTitle(){\r\n        if(lblBelowTitle == null){\r\n            lblBelowTitle = new JLabel(BELOW_TITLE_TEXT, SwingConstants.CENTER);\r\n            lblBelowTitle.setFont(new Font(&quot;MS Gothic&quot;, Font.PLAIN, 24));\r\n            lblBelowTitle.setForeground(new Color(30,230,120));\r\n        }\r\n        return lblBelowTitle;\r\n    }\r\n\r\n    private KeyController getKeyController(){\r\n        if(keyController == null){\r\n            keyController = new KeyController();\r\n        }\r\n        return keyController;\r\n    }\r\n\r\n    @Override\r\n    public void update(Observable o, Object arg) {\r\n        if(TitleLogic.getInstance().isTickColorChange()){\r\n            getLblBelowTitle().setForeground(new Color(120, 30, 230));\r\n        }else{\r\n            getLblBelowTitle().setForeground(new Color(30,230,120));\r\n        }\r\n    }\r\n\r\n    private class KeyController extends KeyAdapter {\r\n        @Override\r\n        public void keyTyped(KeyEvent e) {\r\n            if(e.getKeyChar() == &#39;\\n&#39;){\r\n                Game.getInstance().setState(GameState.MENU);\r\n            }else if(e.getKeyChar() == &#39;c&#39;){\r\n                TitleLogic.getInstance().tickColorChange();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nA Window where the background isn&#39;t set:\r\n\r\n```\r\npackage view.wins;\r\n\r\nimport game.GameState;\r\nimport game.Game;\r\nimport logic.MenuLogic;\r\nimport view.objs.Button;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.util.Observable;\r\nimport java.util.Observer;\r\n\r\npublic class MenuWindow extends Window implements Observer {\r\n    private JPanel btnPanel;\r\n    private Button btnStartNewGame, btnLoadGame, btnSettings, btnExit;\r\n    private Controller controller;\r\n\r\n    public MenuWindow(){\r\n        super(&quot;title_background&quot;);\r\n        MenuLogic.getInstance().addObserver(this);\r\n\r\n        setLayout(new BorderLayout());\r\n\r\n        add(getBtnPanel(), BorderLayout.CENTER);\r\n    }\r\n\r\n    private JPanel getBtnPanel(){\r\n        if(btnPanel == null){\r\n            btnPanel = new JPanel(new GridLayout(4,1));\r\n\r\n            btnPanel.add(getBtnStartNewGame());\r\n            btnPanel.add(getBtnLoadGame());\r\n            btnPanel.add(getBtnSettings());\r\n            btnPanel.add(getBtnExit());\r\n        }\r\n        return btnPanel;\r\n    }\r\n\r\n    private Button getBtnStartNewGame(){\r\n        if(btnStartNewGame == null){\r\n            btnStartNewGame = new Button(&quot;mediumLong&quot;, &quot;Start new game&quot;, getController());\r\n        }\r\n        return btnStartNewGame;\r\n    }\r\n\r\n    private Button getBtnLoadGame(){\r\n        if(btnLoadGame == null){\r\n            btnLoadGame = new Button(&quot;mediumLong&quot;, &quot;Load game&quot;, getController());\r\n        }\r\n        return btnLoadGame;\r\n    }\r\n\r\n    private Button getBtnSettings(){\r\n        if(btnSettings == null){\r\n            btnSettings = new Button(&quot;mediumLong&quot;, &quot;Settings&quot;, getController());\r\n        }\r\n        return btnSettings;\r\n    }\r\n\r\n    private Button getBtnExit(){\r\n        if(btnExit == null){\r\n            btnExit = new Button(&quot;mediumLong&quot;, &quot;Exit&quot;, getController());\r\n        }\r\n        return btnExit;\r\n    }\r\n\r\n    private Controller getController(){\r\n        if(controller == null){\r\n            controller = new Controller();\r\n        }\r\n        return controller;\r\n    }\r\n\r\n    @Override\r\n    public void update(Observable o, Object arg) {\r\n\r\n    }\r\n\r\n    private class Controller extends MouseAdapter {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            if(e.getSource().equals(getBtnStartNewGame())){\r\n\r\n            }else if(e.getSource().equals(getBtnLoadGame())){\r\n\r\n            }else if(e.getSource().equals(getBtnSettings())){\r\n                Game.getInstance().setState(GameState.SETTINGS);\r\n            }else if(e.getSource().equals(getBtnExit())){\r\n                System.exit(0);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n            ((Button)e.getSource()).changeHighlight();\r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n            ((Button)e.getSource()).changeHighlight();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nButton is a class of my own.\r\n\r\nIf anyone wants to test it for his own or see more code [here](https://github.com/gorkiuspD/Kavaliro) is the github repository.\r\n\r\nI tried everything and more. I&#39;ve noticed that the Graphics of MenuWindow aren&#39;t initialized, so the problem could come because that window isn&#39;t rendered. I don&#39;t know.","title":"Why does paintComponent get called only on some JPanels?","body":"<p>I'm trying to add a background to different JPanels (henceforth they will be called Window). These Windows are classes I created and make them inherit JPanel. Then depending on the state of the program one Window is set as the content panel of the program's JFrame. The problem comes when in some Windows the background gets set and in others not. The background setting is performed ussing the paintComponent(Graphics g) method, but despite I've tried to fix the bug, I didnt' success.</p>\n<p>Here is the code I think might be useful for those who wanna help:</p>\n<p>Main Loop:</p>\n<pre><code>public class Game{\n\n//here comes other stuff (constructor, main, other methods...)\n\n    private void run(){\n        while(true){\n            if(GameState.changed){\n                Screen.getInstance().seeWindow(state);\n                GameState.changed = false;\n            }else {\n                Screen.getInstance().requestFocus(state);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Screen class:</p>\n<pre><code>package view;\n\nimport game.GameState;\nimport view.wins.*;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class Screen extends JFrame {\n    private final int WIDTH;\n    private final int HEIGHT;\n\n    private static Screen instance = null;\n    private JComponent titleWindow, menuWindow, settingsWindow;\n\n    private Screen(){\n        WIDTH = 1152;\n        HEIGHT = 768;\n\n        setTitle(&quot;Game&quot;);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();\n        this.setLocation(dim.width/2-WIDTH/2, (dim.height - 50)/2-HEIGHT/2);\n        Dimension size = new Dimension(WIDTH, HEIGHT);\n\n        setPreferredSize(size);\n        setMinimumSize(size);\n        setMaximumSize(size);\n        setSize(size);\n\n        setResizable(false);\n        setVisible(true);\n    }\n\n    public static Screen getInstance() {\n        if(instance == null){\n            instance = new Screen();\n        }\n        return instance;\n    }\n\n    public void seeWindow(GameState state){\n        switch(state){\n            case TITLE -&gt; setContentPane(getTitleWindow());\n            case MENU -&gt; setContentPane(getMenuWindow());\n            case SETTINGS -&gt; setContentPane(getSettingsWindow());\n        }\n        pack();\n    }\n\n    public void requestFocus(GameState state){\n        switch (state){\n            case TITLE -&gt; getTitleWindow().requestFocus();\n            case MENU -&gt; getMenuWindow().requestFocus();\n            case SETTINGS -&gt; getSettingsWindow().requestFocus();\n        }\n    }\n\n    private JComponent getTitleWindow(){\n        if(titleWindow == null){\n            titleWindow = new TitleWindow();\n        }\n        return titleWindow;\n    }\n\n    private JComponent getMenuWindow(){\n        if(menuWindow == null){\n            menuWindow = new MenuWindow();\n        }\n        return menuWindow;\n    }\n\n    private JComponent getSettingsWindow(){\n        if(settingsWindow == null){\n            settingsWindow = new SettingsWindow();\n        }\n        return settingsWindow;\n    }\n}\n</code></pre>\n<p>Window abstract class:</p>\n<pre><code>package view.wins;\n\nimport utilz.GFXManager;\nimport view.Screen;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.Observer;\n\npublic abstract class Window extends JComponent implements Observer {\n    private Image background;\n\n    public Window(String background){\n        setLayout(new BorderLayout());\n        setPreferredSize(Screen.getInstance().getPreferredSize());\n\n        setBackground(background);\n        setFocusable(true);\n    }\n\n    protected void setBackground(String backgroundName){\n        this.background = GFXManager.getInstance().getImage(&quot;backgrounds/&quot; + backgroundName + &quot;.png&quot;);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawImage(background, 0, 0, null);\n    }\n\n}\n</code></pre>\n<p>A Window where the background is correctly set:</p>\n<pre><code>package view.wins;\n\nimport game.GameState;\nimport game.Game;\nimport jdk.swing.interop.SwingInterOpUtils;\nimport logic.TitleLogic;\nimport utilz.GFXManager;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.Observable;\nimport java.util.Observer;\n\npublic class TitleWindow extends Window implements Observer {\n    private final String BELOW_TITLE_TEXT;\n    private final ImageIcon TITLE_ICON;\n\n    private JLabel lblTitleIcon, lblBelowTitle;\n    private KeyController keyController;\n\n    public TitleWindow(){\n        super(&quot;title_background&quot;);\n        BELOW_TITLE_TEXT = &quot;Press enter to start&quot;;\n        TITLE_ICON = new ImageIcon(GFXManager.getInstance().getImage(&quot;texts/title.png&quot;));\n\n        TitleLogic.getInstance().addObserver(this);\n\n        setLayout(new BorderLayout());\n        addKeyListener(new KeyController());\n\n        add(getLblTitleIcon(), BorderLayout.CENTER);\n        add(getLblBelowTitle(), BorderLayout.SOUTH);\n    }\n\n    private JLabel getLblTitleIcon(){\n        if(lblTitleIcon == null){\n            lblTitleIcon = new JLabel(TITLE_ICON);\n        }\n        return lblTitleIcon;\n    }\n\n    private JLabel getLblBelowTitle(){\n        if(lblBelowTitle == null){\n            lblBelowTitle = new JLabel(BELOW_TITLE_TEXT, SwingConstants.CENTER);\n            lblBelowTitle.setFont(new Font(&quot;MS Gothic&quot;, Font.PLAIN, 24));\n            lblBelowTitle.setForeground(new Color(30,230,120));\n        }\n        return lblBelowTitle;\n    }\n\n    private KeyController getKeyController(){\n        if(keyController == null){\n            keyController = new KeyController();\n        }\n        return keyController;\n    }\n\n    @Override\n    public void update(Observable o, Object arg) {\n        if(TitleLogic.getInstance().isTickColorChange()){\n            getLblBelowTitle().setForeground(new Color(120, 30, 230));\n        }else{\n            getLblBelowTitle().setForeground(new Color(30,230,120));\n        }\n    }\n\n    private class KeyController extends KeyAdapter {\n        @Override\n        public void keyTyped(KeyEvent e) {\n            if(e.getKeyChar() == '\\n'){\n                Game.getInstance().setState(GameState.MENU);\n            }else if(e.getKeyChar() == 'c'){\n                TitleLogic.getInstance().tickColorChange();\n            }\n        }\n    }\n}\n</code></pre>\n<p>A Window where the background isn't set:</p>\n<pre><code>package view.wins;\n\nimport game.GameState;\nimport game.Game;\nimport logic.MenuLogic;\nimport view.objs.Button;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.Observable;\nimport java.util.Observer;\n\npublic class MenuWindow extends Window implements Observer {\n    private JPanel btnPanel;\n    private Button btnStartNewGame, btnLoadGame, btnSettings, btnExit;\n    private Controller controller;\n\n    public MenuWindow(){\n        super(&quot;title_background&quot;);\n        MenuLogic.getInstance().addObserver(this);\n\n        setLayout(new BorderLayout());\n\n        add(getBtnPanel(), BorderLayout.CENTER);\n    }\n\n    private JPanel getBtnPanel(){\n        if(btnPanel == null){\n            btnPanel = new JPanel(new GridLayout(4,1));\n\n            btnPanel.add(getBtnStartNewGame());\n            btnPanel.add(getBtnLoadGame());\n            btnPanel.add(getBtnSettings());\n            btnPanel.add(getBtnExit());\n        }\n        return btnPanel;\n    }\n\n    private Button getBtnStartNewGame(){\n        if(btnStartNewGame == null){\n            btnStartNewGame = new Button(&quot;mediumLong&quot;, &quot;Start new game&quot;, getController());\n        }\n        return btnStartNewGame;\n    }\n\n    private Button getBtnLoadGame(){\n        if(btnLoadGame == null){\n            btnLoadGame = new Button(&quot;mediumLong&quot;, &quot;Load game&quot;, getController());\n        }\n        return btnLoadGame;\n    }\n\n    private Button getBtnSettings(){\n        if(btnSettings == null){\n            btnSettings = new Button(&quot;mediumLong&quot;, &quot;Settings&quot;, getController());\n        }\n        return btnSettings;\n    }\n\n    private Button getBtnExit(){\n        if(btnExit == null){\n            btnExit = new Button(&quot;mediumLong&quot;, &quot;Exit&quot;, getController());\n        }\n        return btnExit;\n    }\n\n    private Controller getController(){\n        if(controller == null){\n            controller = new Controller();\n        }\n        return controller;\n    }\n\n    @Override\n    public void update(Observable o, Object arg) {\n\n    }\n\n    private class Controller extends MouseAdapter {\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            if(e.getSource().equals(getBtnStartNewGame())){\n\n            }else if(e.getSource().equals(getBtnLoadGame())){\n\n            }else if(e.getSource().equals(getBtnSettings())){\n                Game.getInstance().setState(GameState.SETTINGS);\n            }else if(e.getSource().equals(getBtnExit())){\n                System.exit(0);\n            }\n        }\n\n        @Override\n        public void mouseEntered(MouseEvent e) {\n            ((Button)e.getSource()).changeHighlight();\n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n            ((Button)e.getSource()).changeHighlight();\n        }\n    }\n}\n</code></pre>\n<p>Button is a class of my own.</p>\n<p>If anyone wants to test it for his own or see more code <a href=\"https://github.com/gorkiuspD/Kavaliro\" rel=\"nofollow noreferrer\">here</a> is the github repository.</p>\n<p>I tried everything and more. I've noticed that the Graphics of MenuWindow aren't initialized, so the problem could come because that window isn't rendered. I don't know.</p>\n"},{"tags":["java","selenium","selenium-webdriver","angular-ng-if"],"comments":[{"owner":{"account_id":63708,"reputation":2087,"user_id":188453,"accept_rate":83,"display_name":"Mark Chorley"},"score":0,"creation_date":1461077032,"post_id":36721459,"comment_id":61028160,"body_markdown":"You might want to consider using protractor. It is built on top of selenium and supports angular events. http://angular.github.io/protractor/#/","body":"You might want to consider using protractor. It is built on top of selenium and supports angular events. <a href=\"http://angular.github.io/protractor/#/\" rel=\"nofollow noreferrer\">angular.github.io/protractor/#</a>"},{"owner":{"account_id":2697401,"reputation":5059,"user_id":2329061,"accept_rate":75,"display_name":"Buaban"},"score":1,"creation_date":1461079278,"post_id":36721459,"comment_id":61029898,"body_markdown":"Do you have enough wait before getting the innerHTML?","body":"Do you have enough wait before getting the innerHTML?"}],"answers":[{"tags":[],"owner":{"account_id":1506485,"reputation":350,"user_id":1409749,"display_name":"marbug"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461080237,"creation_date":1461079634,"answer_id":36722856,"question_id":36721459,"body_markdown":"Please recheck if the following code is really present:\r\n\r\n    ng-if=&quot;new_user &amp;amp;&amp;amp; old_email&quot;\r\n\r\nBecause initially it was:\r\n\r\n    ng-if=&quot;new_user &amp;&amp; old_email&quot;\r\n\r\nI.e. it looks like Selenium replaces **&amp;&amp;** symbols by \r\n\r\n    &amp;amp;&amp;amp;\r\n\r\nin **ng-if** and it&#39;s the root of the issue: Angular can&#39;t parse &quot;non JS&quot; code (or interprets it incorrectly)\r\n\r\nP.S. The same is with the following code:\r\n\r\n    ng-if=&quot;existing_user &amp;amp;&amp;amp; old_email&quot;\r\n\r\ni.e.\r\n\r\n    &amp;amp;&amp;amp;\r\n\r\nis present instead of **&amp;&amp;** in **ng-if** too.","title":"Selenium DOM is not changed after execution of Angular ng-if condition","body":"<p>Please recheck if the following code is really present:</p>\n\n<pre><code>ng-if=\"new_user &amp;amp;&amp;amp; old_email\"\n</code></pre>\n\n<p>Because initially it was:</p>\n\n<pre><code>ng-if=\"new_user &amp;&amp; old_email\"\n</code></pre>\n\n<p>I.e. it looks like Selenium replaces <strong>&amp;&amp;</strong> symbols by </p>\n\n<pre><code>&amp;amp;&amp;amp;\n</code></pre>\n\n<p>in <strong>ng-if</strong> and it's the root of the issue: Angular can't parse \"non JS\" code (or interprets it incorrectly)</p>\n\n<p>P.S. The same is with the following code:</p>\n\n<pre><code>ng-if=\"existing_user &amp;amp;&amp;amp; old_email\"\n</code></pre>\n\n<p>i.e.</p>\n\n<pre><code>&amp;amp;&amp;amp;\n</code></pre>\n\n<p>is present instead of <strong>&amp;&amp;</strong> in <strong>ng-if</strong> too.</p>\n"}],"owner":{"account_id":4692199,"reputation":183,"user_id":3798060,"display_name":"Sumit2500"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":36722856,"answer_count":1,"score":11,"last_activity_date":1651804620,"creation_date":1461076335,"question_id":36721459,"body_markdown":"we have following code on page which has angular ng-if condition.\r\n\r\n    &lt;p ng-if=&quot;!old_email&quot; style=&quot;line-height: 20px; font-weight: normal;&quot;&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\r\n        We have created a new account with &amp;rsquo;{{ new_email }}&amp;lsquo;, for you on&lt;br&gt; Plobal Apps to preview and test your app and mailed you the details. Please check your inbox.\r\n    &lt;/p&gt;\r\n\r\n    &lt;p ng-if=&quot;new_user &amp;&amp; old_email&quot; style=&quot;line-height: 20px; font-weight: normal;&quot;&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\r\n      We have created a new account with &amp;rsquo;{{ new_email }}&amp;lsquo;, for you on&lt;br&gt; Plobal Apps to preview and test your shopify app and mailed you the details. Please check your inbox.\r\n      &lt;br /&gt;\r\n      You have been logged out of the previous account with &amp;rsquo;{{ old_email }}&amp;lsquo;.\r\n    &lt;/p&gt;\r\n\r\n    &lt;p ng-if=&quot;existing_user &amp;&amp; old_email&quot; style=&quot;line-height: 20px; font-weight: normal;&quot;&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\r\n      We have logged you in with &amp;rsquo;{{ new_email }}&amp;lsquo;, on Plobal Apps to preview and test your shopify app.\r\n      &lt;br /&gt;\r\n      You have been logged out of the previous account with &amp;rsquo;{{ old_email }}&amp;lsquo;.\r\n    &lt;/p&gt;\r\nng-if condition will execute dynamically and pickup tags as per requirements. I have observed on html page that everything is working. I observed following html code after inspecting page.\r\n\r\n    &lt;!-- ngIf: !old_email --&gt;\r\n\r\n    &lt;!-- ngIf: new_user &amp;&amp; old_email --&gt;\r\n\r\n    &lt;!-- ngIf: existing_user &amp;&amp; old_email --&gt;&lt;p class=&quot;ng-binding ng-scope&quot; ng-if=&quot;existing_user &amp;amp;&amp;amp; old_email&quot; style=&quot;line-height: 20px; font-weight: normal;&quot;&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\r\n      We have logged you in with ’suwarnawandhekar46@gmail.com‘, on Plobal Apps to preview and test your shopify app.\r\n      &lt;br&gt;\r\n      You have been logged out of the previous account with ’test@plobalapps.com‘.\r\n    &lt;/p&gt;&lt;!-- end ngIf: existing_user &amp;&amp; old_email --&gt;\r\n\r\nIf I print innerHTML of parent element by selenium then  I found\r\n\r\n    &lt;p ng-if=&quot;!old_email&quot; style=&quot;line-height: 20px; font-weight: normal;&quot;&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\r\n      We have created a new account with ’{{ new_email }}‘, for you on&lt;br&gt; Plobal Apps to preview and test your app and mailed you the details. Please check your inbox.\r\n    &lt;/p&gt;\r\n\r\n    &lt;p ng-if=&quot;new_user &amp;amp;&amp;amp; old_email&quot; style=&quot;line-height: 20px; font-weight: normal;&quot;&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\r\n      We have created a new account with ’{{ new_email }}‘, for you on&lt;br&gt; Plobal Apps to preview and test your shopify app and mailed you the details. Please check your inbox.\r\n      &lt;br&gt;\r\n      You have been logged out of the previous account with ’{{ old_email }}‘.\r\n    &lt;/p&gt;\r\n\r\n    &lt;p ng-if=&quot;existing_user &amp;amp;&amp;amp; old_email&quot; style=&quot;line-height: 20px; font-weight: normal;&quot;&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\r\n      We have logged you in with ’{{ new_email }}‘, on Plobal Apps to preview and test your shopify app.\r\n      &lt;br&gt;\r\n      You have been logged out of the previous account with ’{{ old_email }}‘.\r\n    &lt;/p&gt;\r\n\r\nAs per my understanding, Selenium DOM is not changed after execution of Angular ng-if condition.\r\nPlease help me if anyone knows how to tell selenium to execute angular ng-if condition and then look for element.","title":"Selenium DOM is not changed after execution of Angular ng-if condition","body":"<p>we have following code on page which has angular ng-if condition.</p>\n\n<pre><code>&lt;p ng-if=\"!old_email\" style=\"line-height: 20px; font-weight: normal;\"&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\n    We have created a new account with &amp;rsquo;{{ new_email }}&amp;lsquo;, for you on&lt;br&gt; Plobal Apps to preview and test your app and mailed you the details. Please check your inbox.\n&lt;/p&gt;\n\n&lt;p ng-if=\"new_user &amp;&amp; old_email\" style=\"line-height: 20px; font-weight: normal;\"&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\n  We have created a new account with &amp;rsquo;{{ new_email }}&amp;lsquo;, for you on&lt;br&gt; Plobal Apps to preview and test your shopify app and mailed you the details. Please check your inbox.\n  &lt;br /&gt;\n  You have been logged out of the previous account with &amp;rsquo;{{ old_email }}&amp;lsquo;.\n&lt;/p&gt;\n\n&lt;p ng-if=\"existing_user &amp;&amp; old_email\" style=\"line-height: 20px; font-weight: normal;\"&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\n  We have logged you in with &amp;rsquo;{{ new_email }}&amp;lsquo;, on Plobal Apps to preview and test your shopify app.\n  &lt;br /&gt;\n  You have been logged out of the previous account with &amp;rsquo;{{ old_email }}&amp;lsquo;.\n&lt;/p&gt;\n</code></pre>\n\n<p>ng-if condition will execute dynamically and pickup tags as per requirements. I have observed on html page that everything is working. I observed following html code after inspecting page.</p>\n\n<pre><code>&lt;!-- ngIf: !old_email --&gt;\n\n&lt;!-- ngIf: new_user &amp;&amp; old_email --&gt;\n\n&lt;!-- ngIf: existing_user &amp;&amp; old_email --&gt;&lt;p class=\"ng-binding ng-scope\" ng-if=\"existing_user &amp;amp;&amp;amp; old_email\" style=\"line-height: 20px; font-weight: normal;\"&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\n  We have logged you in with ’suwarnawandhekar46@gmail.com‘, on Plobal Apps to preview and test your shopify app.\n  &lt;br&gt;\n  You have been logged out of the previous account with ’test@plobalapps.com‘.\n&lt;/p&gt;&lt;!-- end ngIf: existing_user &amp;&amp; old_email --&gt;\n</code></pre>\n\n<p>If I print innerHTML of parent element by selenium then  I found</p>\n\n<pre><code>&lt;p ng-if=\"!old_email\" style=\"line-height: 20px; font-weight: normal;\"&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\n  We have created a new account with ’{{ new_email }}‘, for you on&lt;br&gt; Plobal Apps to preview and test your app and mailed you the details. Please check your inbox.\n&lt;/p&gt;\n\n&lt;p ng-if=\"new_user &amp;amp;&amp;amp; old_email\" style=\"line-height: 20px; font-weight: normal;\"&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\n  We have created a new account with ’{{ new_email }}‘, for you on&lt;br&gt; Plobal Apps to preview and test your shopify app and mailed you the details. Please check your inbox.\n  &lt;br&gt;\n  You have been logged out of the previous account with ’{{ old_email }}‘.\n&lt;/p&gt;\n\n&lt;p ng-if=\"existing_user &amp;amp;&amp;amp; old_email\" style=\"line-height: 20px; font-weight: normal;\"&gt;&lt;b&gt;Hi,&lt;/b&gt;&lt;br&gt;&lt;br&gt;\n  We have logged you in with ’{{ new_email }}‘, on Plobal Apps to preview and test your shopify app.\n  &lt;br&gt;\n  You have been logged out of the previous account with ’{{ old_email }}‘.\n&lt;/p&gt;\n</code></pre>\n\n<p>As per my understanding, Selenium DOM is not changed after execution of Angular ng-if condition.\nPlease help me if anyone knows how to tell selenium to execute angular ng-if condition and then look for element.</p>\n"},{"tags":["java","maven","wsdl"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1652946011,"post_id":72119427,"comment_id":127731879,"body_markdown":"Is the codegen-plugin configuration the same for all modules (and thus the generated sources), or are there small but important differences that result in different generated sources?","body":"Is the codegen-plugin configuration the same for all modules (and thus the generated sources), or are there small but important differences that result in different generated sources?"},{"owner":{"account_id":15765982,"reputation":153,"user_id":11376336,"display_name":"user2101"},"score":0,"creation_date":1653383463,"post_id":72119427,"comment_id":127832962,"body_markdown":"@slindenau It&#39;s same","body":"@slindenau It&#39;s same"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1653384077,"post_id":72119427,"comment_id":127833196,"body_markdown":"In that case you can also consider to move the WSDL + codegen plugin into a separate maven module. Then you only have to generate the sources once. Your other modules can then depend on that module and use its generated sources. This would remove some plugin duplication. If you wanted to you could even give that module it&#39;s own release cycle by checking the generated sources into scm (as an alternative to a multi-module project).","body":"In that case you can also consider to move the WSDL + codegen plugin into a separate maven module. Then you only have to generate the sources once. Your other modules can then depend on that module and use its generated sources. This would remove some plugin duplication. If you wanted to you could even give that module it&#39;s own release cycle by checking the generated sources into scm (as an alternative to a multi-module project)."},{"owner":{"account_id":15765982,"reputation":153,"user_id":11376336,"display_name":"user2101"},"score":0,"creation_date":1653412291,"post_id":72119427,"comment_id":127844753,"body_markdown":"Will try that approach and check. Thanks @slindenau","body":"Will try that approach and check. Thanks @slindenau"}],"answers":[{"tags":[],"owner":{"account_id":15765982,"reputation":153,"user_id":11376336,"display_name":"user2101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651804327,"creation_date":1651803669,"answer_id":72135489,"question_id":72119427,"body_markdown":"I could do it in 2 ways. And both of these work fine. For both the approaches, I first created another sub module and moved all the wsdl files there.\r\n1) Use maven-resources-plugin to first copy the wsdl files to each of the services and ui module. And no other change was required in my pom.xml files\r\n\r\n   \r\n\r\n&gt;      &lt;plugin&gt;\r\n&gt;         \t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n&gt;         \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;         \t&lt;version&gt;3.2.0&lt;/version&gt;\r\n&gt;         \t&lt;executions&gt;\r\n&gt;         \t\t&lt;execution&gt;\r\n&gt;         \t\t&lt;id&gt;copy-wsdl&lt;/id&gt;\r\n&gt;         \t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n&gt;         \t\t&lt;goals&gt;\r\n&gt;         \t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n&gt;         \t\t&lt;/goals&gt;\r\n&gt;         \t\t&lt;configuration&gt;\r\n&gt;         \t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/resources/wsdl&lt;/outputDirectory&gt;\r\n&gt;         \t\t\t&lt;overwrite&gt;true&lt;/overwrite&gt;\r\n&gt;         \t\t\t&lt;resources&gt;\r\n&gt;         \t\t\t&lt;resource&gt;\r\n&gt;         \t\t\t&lt;directory&gt;../common/src/main/resources/wsdl&lt;/directory&gt;\r\n&gt;         \t\t\t&lt;includes&gt;\r\n&gt;         \t\t\t&lt;include&gt;*.wsdl&lt;/include&gt;\r\n&gt;         \t\t\t&lt;/includes&gt;\r\n&gt;         \t\t\t&lt;/resource&gt;\r\n&gt;         \t\t\t&lt;/resources&gt;\r\n&gt;         \t\t&lt;/configuration&gt;\r\n&gt;         \t\t&lt;/execution&gt;\r\n&gt;         \t&lt;/executions&gt;\r\n&gt;         &lt;/plugin&gt;\r\n\r\n2) Another way is to just refer the wsdl file from the common location while generating the java code\r\n\r\n&gt;     &lt;plugin&gt;\r\n&gt;     &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n&gt;     &lt;version&gt;3.4.4&lt;/version&gt;\r\n&gt;     \t&lt;executions&gt;\r\n&gt;     \t\t&lt;execution&gt;\r\n&gt;     \t\t&lt;id&gt;wsdl1&lt;/id&gt;\r\n&gt;     \t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n&gt;     \t\t&lt;configuration&gt;\r\n&gt;     \t\t&lt;sourceRoot&gt;${project.build.directory}/generated-sources&lt;/sourceRoot&gt;\r\n&gt;     \t\t\t&lt;wsdlOptions&gt;\r\n&gt;     \t\t\t\t&lt;wsdlOption&gt;\r\n&gt;     \t\t\t\t&lt;wsdl&gt;../common/src/main/resources/wsdl/ABC.wsdl&lt;/wsdl&gt;\r\n&gt;     \t\t\t\t&lt;extraargs&gt;\r\n&gt;     \t\t\t\t\t&lt;extraarg&gt;-p&lt;/extraarg&gt;\r\n&gt;     \t\t\t\t\t&lt;extraarg&gt;com.xxxx.yyy.zzzzz.abc&lt;/extraarg&gt;\r\n&gt;     \t\t\t\t\t&lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n&gt;     \t\t\t\t&lt;/extraargs&gt;\r\n&gt;     \t\t\t\t&lt;/wsdlOption&gt;                   \r\n&gt;     \t\t\t&lt;/wsdlOptions&gt;\r\n&gt;     \t\t&lt;/configuration&gt;\r\n&gt;     \t\t&lt;goals&gt;\r\n&gt;     \t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n&gt;     \t\t&lt;/goals&gt;\r\n&gt;     \t\t&lt;/execution&gt;\r\n&gt;     \t&lt;/executions&gt;\r\n&gt;     &lt;/plugin&gt;","title":"use wsdl file from another maven submodule to generate java files","body":"<p>I could do it in 2 ways. And both of these work fine. For both the approaches, I first created another sub module and moved all the wsdl files there.</p>\n<ol>\n<li>Use maven-resources-plugin to first copy the wsdl files to each of the services and ui module. And no other change was required in my pom.xml files</li>\n</ol>\n<blockquote>\n<pre><code> &lt;plugin&gt;\n      &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;version&gt;3.2.0&lt;/version&gt;\n      &lt;executions&gt;\n          &lt;execution&gt;\n          &lt;id&gt;copy-wsdl&lt;/id&gt;\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.basedir}/src/main/resources/wsdl&lt;/outputDirectory&gt;\n              &lt;overwrite&gt;true&lt;/overwrite&gt;\n              &lt;resources&gt;\n              &lt;resource&gt;\n              &lt;directory&gt;../common/src/main/resources/wsdl&lt;/directory&gt;\n              &lt;includes&gt;\n              &lt;include&gt;*.wsdl&lt;/include&gt;\n              &lt;/includes&gt;\n              &lt;/resource&gt;\n              &lt;/resources&gt;\n          &lt;/configuration&gt;\n          &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Another way is to just refer the wsdl file from the common location while generating the java code</li>\n</ol>\n<blockquote>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.4.4&lt;/version&gt;\n  &lt;executions&gt;\n      &lt;execution&gt;\n      &lt;id&gt;wsdl1&lt;/id&gt;\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\n      &lt;configuration&gt;\n      &lt;sourceRoot&gt;${project.build.directory}/generated-sources&lt;/sourceRoot&gt;\n          &lt;wsdlOptions&gt;\n              &lt;wsdlOption&gt;\n              &lt;wsdl&gt;../common/src/main/resources/wsdl/ABC.wsdl&lt;/wsdl&gt;\n              &lt;extraargs&gt;\n                  &lt;extraarg&gt;-p&lt;/extraarg&gt;\n                  &lt;extraarg&gt;com.xxxx.yyy.zzzzz.abc&lt;/extraarg&gt;\n                  &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n              &lt;/extraargs&gt;\n              &lt;/wsdlOption&gt;                   \n          &lt;/wsdlOptions&gt;\n      &lt;/configuration&gt;\n      &lt;goals&gt;\n      &lt;goal&gt;wsdl2java&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":15765982,"reputation":153,"user_id":11376336,"display_name":"user2101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72135489,"answer_count":1,"score":0,"last_activity_date":1651804327,"creation_date":1651698050,"question_id":72119427,"body_markdown":"I am working on a project with separate sub modules for backend and frontend and some other sub modules too. Currently, both these modules have their own copies of wsdl files and generate java files using maven plugin.\r\n\r\nI want a single copy of the wsdl files so want to create a maven submodule with these wsdl files. I want the frontend and bakcend modules to use the wsdl files from that submodules to generate java files.\r\nCurrently, I have the following in my pom file to generate java source files when using wsdl from the same module.\r\n\t\r\n\r\n    &lt;plugin&gt; \r\n    \t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;3.4.4&lt;/version&gt;\r\n    \t\t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t &lt;id&gt;wsdl1&lt;/id&gt;\r\n    \t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;sourceRoot&gt;${project.build.directory}/generated-sources&lt;/sourceRoot&gt;\r\n    \t\t\t\t&lt;wsdlOptions&gt;\r\n    \t\t\t\t\t&lt;wsdlOption&gt;\r\n    \t\t\t\t\t&lt;wsdl&gt;${project.basedir}/src/main/resources/wsdl/ABC.wsdl&lt;/wsdl&gt;\r\n    \t\t\t\t\t\t &lt;extraargs&gt;\r\n    \t\t\t             &lt;extraarg&gt;-p&lt;/extraarg&gt;\r\n    \t\t\t             &lt;extraarg&gt;com.xxxx.yyy.zzzzz.abc&lt;/extraarg&gt;\r\n    \t\t\t             &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n    \t\t\t             &lt;/extraargs&gt;\r\n    \t\t\t\t\t&lt;/wsdlOption&gt;\t\t\t\t\t\r\n    \t\t\t\t&lt;/wsdlOptions&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t\t&lt;/executions&gt;\r\n    \t&lt;/plugin\r\n\r\nHow can I do this?","title":"use wsdl file from another maven submodule to generate java files","body":"<p>I am working on a project with separate sub modules for backend and frontend and some other sub modules too. Currently, both these modules have their own copies of wsdl files and generate java files using maven plugin.</p>\n<p>I want a single copy of the wsdl files so want to create a maven submodule with these wsdl files. I want the frontend and bakcend modules to use the wsdl files from that submodules to generate java files.\nCurrently, I have the following in my pom file to generate java source files when using wsdl from the same module.</p>\n<pre><code>&lt;plugin&gt; \n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.4&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n             &lt;id&gt;wsdl1&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                &lt;sourceRoot&gt;${project.build.directory}/generated-sources&lt;/sourceRoot&gt;\n                &lt;wsdlOptions&gt;\n                    &lt;wsdlOption&gt;\n                    &lt;wsdl&gt;${project.basedir}/src/main/resources/wsdl/ABC.wsdl&lt;/wsdl&gt;\n                         &lt;extraargs&gt;\n                         &lt;extraarg&gt;-p&lt;/extraarg&gt;\n                         &lt;extraarg&gt;com.xxxx.yyy.zzzzz.abc&lt;/extraarg&gt;\n                         &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                         &lt;/extraargs&gt;\n                    &lt;/wsdlOption&gt;                   \n                &lt;/wsdlOptions&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin\n</code></pre>\n<p>How can I do this?</p>\n"},{"tags":["java","performance","garbage-collection","jvm"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1355753880,"post_id":13915357,"comment_id":19180515,"body_markdown":"I count the time to run end to end in tests, including GC times, and I only break it down when I want to performance tune it eg. with a memory profiler.","body":"I count the time to run end to end in tests, including GC times, and I only break it down when I want to performance tune it eg. with a memory profiler."}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1355752204,"creation_date":1355752204,"answer_id":13915430,"question_id":13915357,"body_markdown":"The simplest way is to use the `-Xloggc` and `-XX:-PrintGCTimeStamps` options when starting up your JVM.  I think it prints out how long garbage collection takes.\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html","title":"Measuring time spent on GC","body":"<p>The simplest way is to use the <code>-Xloggc</code> and <code>-XX:-PrintGCTimeStamps</code> options when starting up your JVM.  I think it prints out how long garbage collection takes.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></p>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1355752231,"creation_date":1355752231,"answer_id":13915440,"question_id":13915357,"body_markdown":"&gt; I guess that when GC (Garbage Collector) is working the application stops and resumes when GC finishes\r\n\r\nI don&#39;t think that is a safe assumption. Are you sure the garbage collector is not working in parallel with your application code?\r\n\r\nTo measure the time spent in collecting garbage you can query the [Garbage Collector MXBean][1].\r\n\r\nTry this:\r\n\r\n    public static void main(String[] args)  {\r\n        System.out.println(&quot;collectionTime = &quot; + getGarbageCollectionTime());\r\n    }\r\n\r\n    private static long getGarbageCollectionTime() {\r\n        long collectionTime = 0;\r\n        for (GarbageCollectorMXBean garbageCollectorMXBean : ManagementFactory.getGarbageCollectorMXBeans()) {\r\n            collectionTime += garbageCollectorMXBean.getCollectionTime();\r\n        }\r\n        return collectionTime;\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/management/GarbageCollectorMXBean.html","title":"Measuring time spent on GC","body":"<blockquote>\n  <p>I guess that when GC (Garbage Collector) is working the application stops and resumes when GC finishes</p>\n</blockquote>\n\n<p>I don't think that is a safe assumption. Are you sure the garbage collector is not working in parallel with your application code?</p>\n\n<p>To measure the time spent in collecting garbage you can query the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/management/GarbageCollectorMXBean.html\">Garbage Collector MXBean</a>.</p>\n\n<p>Try this:</p>\n\n<pre><code>public static void main(String[] args)  {\n    System.out.println(\"collectionTime = \" + getGarbageCollectionTime());\n}\n\nprivate static long getGarbageCollectionTime() {\n    long collectionTime = 0;\n    for (GarbageCollectorMXBean garbageCollectorMXBean : ManagementFactory.getGarbageCollectorMXBeans()) {\n        collectionTime += garbageCollectorMXBean.getCollectionTime();\n    }\n    return collectionTime;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355752258,"creation_date":1355752258,"answer_id":13915445,"question_id":13915357,"body_markdown":"Enable garbage collection logs. As [documented](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html), you can use `-verbose:gc`, `-XX:+PrintGCDetails` and `-XX:+PrintGCTimeStamps` flags. `-Xloggc` flag can be used to direct those to a file.\r\n\r\nResulting logs are human-readable, but for most benefit you probably want them to be run through an analyzer. Such tools are listed in [this thread](https://stackoverflow.com/questions/541832/know-of-any-java-garbage-collection-log-analysis-tools).","title":"Measuring time spent on GC","body":"<p>Enable garbage collection logs. As <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow noreferrer\">documented</a>, you can use <code>-verbose:gc</code>, <code>-XX:+PrintGCDetails</code> and <code>-XX:+PrintGCTimeStamps</code> flags. <code>-Xloggc</code> flag can be used to direct those to a file.</p>\n\n<p>Resulting logs are human-readable, but for most benefit you probably want them to be run through an analyzer. Such tools are listed in <a href=\"https://stackoverflow.com/questions/541832/know-of-any-java-garbage-collection-log-analysis-tools\">this thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355752279,"creation_date":1355752279,"answer_id":13915449,"question_id":13915357,"body_markdown":"This performance metric is recorded by the JVM, and made accessible through JMX. For interactive monitoring, connect to the running JVM with JConsole, and in the &quot;VM Summary&quot; Tab it will say something like:\r\n\r\n&gt; Garbage collector:&#160;Name = &#39;Copy&#39;, Collections = 26, Total time spent = 0.183 seconds\r\n&gt; Garbage collector:&#160;Name = &#39;MarkSweepCompact&#39;, Collections = 2, Total time spent = 0.168 seconds\r\n\r\nYou can also query JMX programatically.\r\n","title":"Measuring time spent on GC","body":"<p>This performance metric is recorded by the JVM, and made accessible through JMX. For interactive monitoring, connect to the running JVM with JConsole, and in the \"VM Summary\" Tab it will say something like:</p>\n\n<blockquote>\n  <p>Garbage collector: Name = 'Copy', Collections = 26, Total time spent = 0.183 seconds\n  Garbage collector: Name = 'MarkSweepCompact', Collections = 2, Total time spent = 0.168 seconds</p>\n</blockquote>\n\n<p>You can also query JMX programatically.</p>\n"},{"tags":[],"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355752281,"creation_date":1355752281,"answer_id":13915450,"question_id":13915357,"body_markdown":"There are different GC algorithms that behave differently. I recently read a [good article](http://www.javaworld.com/javaworld/jw-10-2012/121010-jvm-performance-optimization-garbage-collection.html) on the subject that I can recommend if you&#39;d like to know more.\r\n\r\nYou can launch your application with the following command line options `-verbose:gc -XX:+PrintGCDateStamps -XX:+PrintGCDetails` and get information about GC.\r\n\r\nHere&#39;s an example of the log message:\r\n\r\n&gt; 2012-12-17T03:02:15.590-0500: [GC [PSYoungGen: 40934K-&gt;2670K(29440K)]\r\n&gt; 48211K-&gt;14511K(73152K), 0.5745260 secs] [Times: user=0.08 sys=0.01,\r\n&gt; real=0.58 secs]","title":"Measuring time spent on GC","body":"<p>There are different GC algorithms that behave differently. I recently read a <a href=\"http://www.javaworld.com/javaworld/jw-10-2012/121010-jvm-performance-optimization-garbage-collection.html\" rel=\"nofollow\">good article</a> on the subject that I can recommend if you'd like to know more.</p>\n\n<p>You can launch your application with the following command line options <code>-verbose:gc -XX:+PrintGCDateStamps -XX:+PrintGCDetails</code> and get information about GC.</p>\n\n<p>Here's an example of the log message:</p>\n\n<blockquote>\n  <p>2012-12-17T03:02:15.590-0500: [GC [PSYoungGen: 40934K->2670K(29440K)]\n  48211K->14511K(73152K), 0.5745260 secs] [Times: user=0.08 sys=0.01,\n  real=0.58 secs]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":186532,"reputation":13508,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355955322,"creation_date":1355955322,"answer_id":13962180,"question_id":13915357,"body_markdown":"Another convenient solution is to run `jstat -gc` ([documentation][1]) against your process when your tests are done. That will give you nice aggregated output on exactly how much time has been spent in GC during the lifetime of your JVM.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html","title":"Measuring time spent on GC","body":"<p>Another convenient solution is to run <code>jstat -gc</code> (<a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html\" rel=\"nofollow\">documentation</a>) against your process when your tests are done. That will give you nice aggregated output on exactly how much time has been spent in GC during the lifetime of your JVM.</p>\n"},{"tags":[],"owner":{"account_id":3514618,"reputation":12090,"user_id":2938364,"accept_rate":88,"display_name":"Markus Weninger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506422460,"creation_date":1506411451,"answer_id":46420401,"question_id":13915357,"body_markdown":"Similar to @Steve McLeod&#39;s answer that uses [ManagementFactory](https://docs.oracle.com/javase/9/docs/api/java/lang/management/ManagementFactory.html), since Java 8 this can also be written in a single line using [Java streams](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html):\r\n\r\n    long collectionTime = ManagementFactory.getGarbageCollectorMXBeans().stream().mapToLong(mxBean -&gt; mxBean.getCollectionTime()).sum();","title":"Measuring time spent on GC","body":"<p>Similar to @Steve McLeod's answer that uses <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/management/ManagementFactory.html\" rel=\"nofollow noreferrer\">ManagementFactory</a>, since Java 8 this can also be written in a single line using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Java streams</a>:</p>\n\n<pre><code>long collectionTime = ManagementFactory.getGarbageCollectorMXBeans().stream().mapToLong(mxBean -&gt; mxBean.getCollectionTime()).sum();\n</code></pre>\n"}],"owner":{"account_id":246765,"reputation":41329,"user_id":521070,"accept_rate":72,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19762,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13915430,"answer_count":7,"score":16,"last_activity_date":1651804144,"creation_date":1355751916,"question_id":13915357,"body_markdown":"Suppose I am testing a Java server application. I know how much time it takes to finish the test. Now I&#39;d like to know how much was spent on GC during that test. How can I do it?","title":"Measuring time spent on GC","body":"<p>Suppose I am testing a Java server application. I know how much time it takes to finish the test. Now I'd like to know how much was spent on GC during that test. How can I do it?</p>\n"},{"tags":["java","jar","executable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1651796161,"post_id":72134828,"comment_id":127454753,"body_markdown":"[How do I bundle a JRE into an EXE for a Java Application? Launch4j says &quot;runtime is missing or corrupted.&quot;](https://stackoverflow.com/questions/13996547/how-do-i-bundle-a-jre-into-an-exe-for-a-java-application-launch4j-says-runtime) (read all the answers); maybe [libgdx/packr](https://github.com/libgdx/packr); [How To Bundle A Java App As An Windows Executable EXE (.jar to .exe)](https://robbamforth.wordpress.com/2016/01/29/java-how-to-bundle-a-java-app-as-an-windows-executable-exe-jar-to-exe-6/)","body":"<a href=\"https://stackoverflow.com/questions/13996547/how-do-i-bundle-a-jre-into-an-exe-for-a-java-application-launch4j-says-runtime\">How do I bundle a JRE into an EXE for a Java Application? Launch4j says &quot;runtime is missing or corrupted.&quot;</a> (read all the answers); maybe <a href=\"https://github.com/libgdx/packr\" rel=\"nofollow noreferrer\">libgdx/packr</a>; <a href=\"https://robbamforth.wordpress.com/2016/01/29/java-how-to-bundle-a-java-app-as-an-windows-executable-exe-jar-to-exe-6/\" rel=\"nofollow noreferrer\">How To Bundle A Java App As An Windows Executable EXE (.jar to .exe)</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1651796287,"post_id":72134828,"comment_id":127454769,"body_markdown":"Remember, a Mac App bundle is nothing more then a &quot;special&quot; directory, so the JVM and executable are &quot;bundled&quot; into that directory, so for launch4j, you could have your JVM and executed stored in the same directory as each other and then use some kind of installer to &quot;bundle&quot; them into a single package (which is then installed on the system). Even if you end up with a &quot;fully bundled&quot; exe, the JVM will still need to be extracted at runtime, which might slow (at least the first) execution","body":"Remember, a Mac App bundle is nothing more then a &quot;special&quot; directory, so the JVM and executable are &quot;bundled&quot; into that directory, so for launch4j, you could have your JVM and executed stored in the same directory as each other and then use some kind of installer to &quot;bundle&quot; them into a single package (which is then installed on the system). Even if you end up with a &quot;fully bundled&quot; exe, the JVM will still need to be extracted at runtime, which might slow (at least the first) execution"},{"owner":{"account_id":25210079,"reputation":21,"user_id":19047855,"display_name":"Andrew Hamilton"},"score":0,"creation_date":1651797987,"post_id":72134828,"comment_id":127454990,"body_markdown":"The only workable solution I have found from that link above is the Bat To Exe solution. This works, but can only work if I have it extract to the current directory every run. Not ideal. Still nothing quite as elegant as a Mac Bundle that I can find.","body":"The only workable solution I have found from that link above is the Bat To Exe solution. This works, but can only work if I have it extract to the current directory every run. Not ideal. Still nothing quite as elegant as a Mac Bundle that I can find."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1651799343,"post_id":72134828,"comment_id":127455176,"body_markdown":"What about Java 14+ `jpackage`?  See https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html","body":"What about Java 14+ <code>jpackage</code>?  See <a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651799670,"post_id":72134828,"comment_id":127455225,"body_markdown":"I used exe4j way back years ago (I think) and we bundled a JRE with the it (via an installer), this work well when I was using it","body":"I used exe4j way back years ago (I think) and we bundled a JRE with the it (via an installer), this work well when I was using it"},{"owner":{"account_id":25210079,"reputation":21,"user_id":19047855,"display_name":"Andrew Hamilton"},"score":0,"creation_date":1651800998,"post_id":72134828,"comment_id":127455406,"body_markdown":"exe4j only lets me package jar files, and not the JRE. I don&#39;t want to install software on to the end-users computer, I want it to remain portable.\n\nAs for jpackage, not sure if I can use it, I do not use modules in my project. Basically, I need the whole JRE.","body":"exe4j only lets me package jar files, and not the JRE. I don&#39;t want to install software on to the end-users computer, I want it to remain portable.  As for jpackage, not sure if I can use it, I do not use modules in my project. Basically, I need the whole JRE."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1651801152,"post_id":72134828,"comment_id":127455423,"body_markdown":"You can supply the JRE in a separate folder alongside the exe (for example inside a folder named &quot;Application Name.app&quot; which will double as the executable for Mac PC&#39;s and contain all the application data, resources, JRE and the Mac files required for launch.","body":"You can supply the JRE in a separate folder alongside the exe (for example inside a folder named &quot;Application Name.app&quot; which will double as the executable for Mac PC&#39;s and contain all the application data, resources, JRE and the Mac files required for launch."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1651801241,"post_id":72134828,"comment_id":127455436,"body_markdown":"If you insist on having a single file, then as mentioned above, one option is some native code or a launcher app that will self extract the JRE to a temporary location before running your main application","body":"If you insist on having a single file, then as mentioned above, one option is some native code or a launcher app that will self extract the JRE to a temporary location before running your main application"},{"owner":{"account_id":25210079,"reputation":21,"user_id":19047855,"display_name":"Andrew Hamilton"},"score":0,"creation_date":1651801277,"post_id":72134828,"comment_id":127455444,"body_markdown":"Hi @sorifiend. This question is for Windows computers, not mac! I already have a mac solution that works great. As for your launcher app idea, I am currently using a program &quot;BatToExe&quot; which packs my JAR and JRE in to an executable backed with a batch file. It is similar to what I have done on mac, but the downside here is the long startup-time, as it extracts the JRE.","body":"Hi @sorifiend. This question is for Windows computers, not mac! I already have a mac solution that works great. As for your launcher app idea, I am currently using a program &quot;BatToExe&quot; which packs my JAR and JRE in to an executable backed with a batch file. It is similar to what I have done on mac, but the downside here is the long startup-time, as it extracts the JRE."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1651801394,"post_id":72134828,"comment_id":127455458,"body_markdown":"Yes, it was just an example, stating that you should have a data folder alongside the exe, and that you could supply the same two things &quot;yourApp.exe&quot; and &quot;yourApp.app&quot; to all windows/mac users and it would work on both (Mac users click the .app folder because mac recognises it, and windows users click the exe because windows recognises it).","body":"Yes, it was just an example, stating that you should have a data folder alongside the exe, and that you could supply the same two things &quot;yourApp.exe&quot; and &quot;yourApp.app&quot; to all windows/mac users and it would work on both (Mac users click the .app folder because mac recognises it, and windows users click the exe because windows recognises it)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651854828,"post_id":72134828,"comment_id":127471482,"body_markdown":"If you’re okay with a directory tree like a Mac bundle, you may want to create and distribute a jlink’d image.  See https://stackoverflow.com/questions/53453212/how-to-deploy-a-javafx-11-desktop-application-with-a-jre.","body":"If you’re okay with a directory tree like a Mac bundle, you may want to create and distribute a jlink’d image.  See <a href=\"https://stackoverflow.com/questions/53453212/how-to-deploy-a-javafx-11-desktop-application-with-a-jre\" title=\"how to deploy a javafx 11 desktop application with a jre\">stackoverflow.com/questions/53453212/&hellip;</a>."}],"owner":{"account_id":25210079,"reputation":21,"user_id":19047855,"display_name":"Andrew Hamilton"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651801207,"creation_date":1651795794,"question_id":72134828,"body_markdown":"I wish to package both my current system&#39;s JRE with a Java (JAR) application that I have created. On Mac I can simply create an app bundle and write a simple script to wire the two together. On Windows I am having trouble finding such a simple solution.\r\n\r\nI tried launch4j, but to the best of my knowledge this does not let me package the JRE inside the executable; it must remain as a relative file.\r\n\r\nI tried exe4j, but this also does not let me package the JRE within the exe.\r\n\r\nMy project does not use modules, so unclear how I can incorporate jpackage.\r\n\r\nI want to distribute the file (as a portable non-installed app) to people working within my company. They are mostly somewhat computer illiterate, and will be scared off by seeing TWO files (one exe, one JRE).\r\n\r\nI also do not want to deal with the headache of asking them to install a java runtime themselves, and end up with everyone having some different runtime. Simply, it is much easier for me to package the JRE with the Jar together as a single file and deliver to the end-user. We are doing this with our mac distributions, and everyone is happy.","title":"Package JRE and Jar in to a Windows Executable (exe)","body":"<p>I wish to package both my current system's JRE with a Java (JAR) application that I have created. On Mac I can simply create an app bundle and write a simple script to wire the two together. On Windows I am having trouble finding such a simple solution.</p>\n<p>I tried launch4j, but to the best of my knowledge this does not let me package the JRE inside the executable; it must remain as a relative file.</p>\n<p>I tried exe4j, but this also does not let me package the JRE within the exe.</p>\n<p>My project does not use modules, so unclear how I can incorporate jpackage.</p>\n<p>I want to distribute the file (as a portable non-installed app) to people working within my company. They are mostly somewhat computer illiterate, and will be scared off by seeing TWO files (one exe, one JRE).</p>\n<p>I also do not want to deal with the headache of asking them to install a java runtime themselves, and end up with everyone having some different runtime. Simply, it is much easier for me to package the JRE with the Jar together as a single file and deliver to the end-user. We are doing this with our mac distributions, and everyone is happy.</p>\n"},{"tags":["java","spring","spring-jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608028345,"post_id":65304037,"comment_id":115450410,"body_markdown":"It already uses a prepared statement. Have you measured the performance, is it a problem? If not leave it as is.","body":"It already uses a prepared statement. Have you measured the performance, is it a problem? If not leave it as is."},{"owner":{"account_id":9198135,"reputation":23,"user_id":6836170,"display_name":"HighSha"},"score":0,"creation_date":1617879194,"post_id":65304037,"comment_id":118434428,"body_markdown":"I could improve the performance by disabling procedureColumnMetaDataAccess. However, it isn&#39;t as fast as prepared statement","body":"I could improve the performance by disabling procedureColumnMetaDataAccess. However, it isn&#39;t as fast as prepared statement"}],"owner":{"account_id":9198135,"reputation":23,"user_id":6836170,"display_name":"HighSha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651800279,"creation_date":1608028068,"question_id":65304037,"body_markdown":"To get data from database I&#39;m using `SimpleJdbcCall` as it is convenient for stored procedures. Along with it I&#39;m using `BeanPropertyRowMapper` as the no of fields I have to map from resultset is almost 100.\r\n\r\nFrom Spring docs I could see that `BeanPropertyRowMapper` is for convenience and not for performance, as it uses *reflection*. My stored procedure returns one record and this is to be sent as JSON for front end.\r\n \r\nI would want to know:\r\n\r\n1. Is it correct to use the above mentioned for my use-case or should I switch to a prepared statement and manually mapping from `ResultSet` to POJO?\r\n2. When the fields to be mapped are less and records are more should I switch from `SimpleJdbcCall` to prepared statement and `ResultSet`?\r\n","title":"Spring SimpleJdbcCall and BeanPropertyRowMapper","body":"<p>To get data from database I'm using <code>SimpleJdbcCall</code> as it is convenient for stored procedures. Along with it I'm using <code>BeanPropertyRowMapper</code> as the no of fields I have to map from resultset is almost 100.</p>\n<p>From Spring docs I could see that <code>BeanPropertyRowMapper</code> is for convenience and not for performance, as it uses <em>reflection</em>. My stored procedure returns one record and this is to be sent as JSON for front end.</p>\n<p>I would want to know:</p>\n<ol>\n<li>Is it correct to use the above mentioned for my use-case or should I switch to a prepared statement and manually mapping from <code>ResultSet</code> to POJO?</li>\n<li>When the fields to be mapped are less and records are more should I switch from <code>SimpleJdbcCall</code> to prepared statement and <code>ResultSet</code>?</li>\n</ol>\n"},{"tags":["java","swing","path-finding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651786612,"post_id":72133855,"comment_id":127453010,"body_markdown":"Perhaps for sake of completeness post `Node` source","body":"Perhaps for sake of completeness post <code>Node</code> source"},{"owner":{"account_id":20676477,"reputation":59,"user_id":15180957,"display_name":"dau&#240;i"},"score":0,"creation_date":1651787713,"post_id":72133855,"comment_id":127453282,"body_markdown":"@g00se just added the class","body":"@g00se just added the class"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651800180,"creation_date":1651787915,"answer_id":72134069,"question_id":72133855,"body_markdown":"Let&#39;s start with...\r\n\r\n    Grid grid = new Grid(10,10, new Dimension(1000, 1000));\r\n\r\n    public Grid(int rows, int cols, Dimension size) {\r\n            this.rows = rows;\r\n            this.cols = cols;\r\n            this.grid = new Node[cols][rows];\r\n            this.size = size;\r\n            this.nodeSize = getWidth() / cols;\r\n            initializeGrid();\r\n    }\r\n\r\nPassing the `Dimension` into the constructor like this is a bad idea, apart from the fact that you are completely ignoring the height, you could end up with a integer truncation (`getWidth() / cols` will simple cut of the decimal values and won&#39;t apply any kind of rounding, which may give you erroneous results)\r\n\r\nNext you do...\r\n\r\n    this.nodeSize = getWidth() / cols;\r\n\r\nIn the normal state of things, `getWidth` at this point would return `0`, except you do...\r\n\r\n    @Override\r\n    public Dimension getSize() {\r\n        return size;\r\n    }\r\n\r\n    public int getHeight() {\r\n        return (int) size.getHeight();\r\n    }\r\n\r\n    public int getWidth() {\r\n        return (int) size.getWidth();\r\n    }\r\n\r\nwhich is very questionable (and not at all recommended).  Remember when I talked about &quot;integer truncation&quot;?  This could mean that the size of the component is bigger/small then the actual area of the over all grid.  Overriding `getSize` is also not recommended as you are messing with the layout management system which could produce no end of long term issues.\r\n\r\nAnd finally, which is the nail in your problem, you do...\r\n\r\n    frame.setPreferredSize(grid.getSize());\r\n\r\nWhat you don&#39;t seem to recognise is, the viewable content size is the `frame size` - `window decorations`, this makes the viewable area of your program &lt; `1000x1000`\r\n\r\nSo, what&#39;s the answer?  Pass the size of the individual cell instead...\r\n\r\n    private int cellSize;\r\n\r\n    public Grid(int rows, int cols, int cellSize) {\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n        this.grid = new String[cols][rows];\r\n        this.cellSize = cellSize;\r\n        initializeGrid();\r\n    }\r\n\r\nand override `getPreferredSize` (instead of `getSize`)...\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(cellSize * cols, cellSize * rows);\r\n    }\r\n\r\nand obviously `paintComponent`\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.setColor(Color.BLACK);\r\n        for (int col = 0; col &lt; cols; col++) {\r\n            for (int row = 0; row &lt; rows; row++) {\r\n                g.drawRect(col * cellSize, row * cellSize, cellSize, cellSize);\r\n            }\r\n        }\r\n    }\r\n\r\nand get rid of\r\n\r\n     frame.setPreferredSize(grid.getSize());\r\n\r\n# Runnable example...\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new Grid(10, 10, 100));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Grid extends JPanel {\r\n            private final int rows, cols;\r\n            private final String[][] grid;\r\n            private int cellSize;\r\n\r\n            public Grid(int rows, int cols, int cellSize) {\r\n                this.rows = rows;\r\n                this.cols = cols;\r\n                this.grid = new String[cols][rows];\r\n                this.cellSize = cellSize;\r\n                initializeGrid();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(cellSize * cols, cellSize * rows);\r\n            }\r\n\r\n            public void initializeGrid() {\r\n                // populate grid as a 2D array of Nodes\r\n                for (int col = 0; col &lt; cols; col++) {\r\n                    for (int row = 0; row &lt; rows; row++) {\r\n                        grid[col][row] = col + &quot;x&quot; + row;\r\n                    }\r\n                }\r\n\r\n                // create neighbors for all the Nodes\r\n                for (int col = 0; col &lt; cols; col++) {\r\n                    for (int row = 0; row &lt; rows; row++) {\r\n                        setNeighbors(col, row);\r\n                    }\r\n                }\r\n\r\n                // create start and end points for pathfinding\r\n                //start = grid[0][0];\r\n                //end = grid[cols - 1][rows - 1];\r\n            }\r\n\r\n            private void setNeighbors(int col, int row) {\r\n                //int[][] directions = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};\r\n                //\r\n                //for (int[] direction : directions) {\r\n                //    int neighborCol = direction[0] + col;\r\n                //    int neighborRow = direction[1] + row;\r\n                //\r\n                //    if (neighborCol &gt;= 0 &amp;&amp; neighborCol &lt; cols\r\n                //            &amp;&amp; neighborRow &gt;= 0 &amp;&amp; neighborRow &lt; rows) {\r\n                //        if (Arrays.equals(direction, new int[]{1, 0})) {\r\n                //            grid[col][row].setDown(grid[neighborCol][neighborRow]);\r\n                //        }\r\n                //        if (Arrays.equals(direction, new int[]{-1, 0})) {\r\n                //            grid[col][row].setUp(grid[neighborCol][neighborRow]);\r\n                //        }\r\n                //        if (Arrays.equals(direction, new int[]{0, 1})) {\r\n                //            grid[col][row].setRight(grid[neighborCol][neighborRow]);\r\n                //        }\r\n                //        if (Arrays.equals(direction, new int[]{0, -1})) {\r\n                //            grid[col][row].setLeft(grid[neighborCol][neighborRow]);\r\n                //        }\r\n                //    }\r\n                //}\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                g.setColor(Color.BLACK);\r\n                for (int col = 0; col &lt; cols; col++) {\r\n                    for (int row = 0; row &lt; rows; row++) {\r\n                        g.drawRect(col * cellSize, row * cellSize, cellSize, cellSize);\r\n                    }\r\n                }\r\n            }\r\n\r\n            public int getRows() {\r\n                return rows;\r\n            }\r\n\r\n            public int getCols() {\r\n                return cols;\r\n            }\r\n\r\n            //public Node[][] getGrid() {\r\n            //    return grid;\r\n            //}\r\n        }\r\n    }\r\n","title":"2D grid is not fitting in JFrame for pathing visualizer","body":"<p>Let's start with...</p>\n<pre><code>Grid grid = new Grid(10,10, new Dimension(1000, 1000));\n\npublic Grid(int rows, int cols, Dimension size) {\n        this.rows = rows;\n        this.cols = cols;\n        this.grid = new Node[cols][rows];\n        this.size = size;\n        this.nodeSize = getWidth() / cols;\n        initializeGrid();\n}\n</code></pre>\n<p>Passing the <code>Dimension</code> into the constructor like this is a bad idea, apart from the fact that you are completely ignoring the height, you could end up with a integer truncation (<code>getWidth() / cols</code> will simple cut of the decimal values and won't apply any kind of rounding, which may give you erroneous results)</p>\n<p>Next you do...</p>\n<pre><code>this.nodeSize = getWidth() / cols;\n</code></pre>\n<p>In the normal state of things, <code>getWidth</code> at this point would return <code>0</code>, except you do...</p>\n<pre><code>@Override\npublic Dimension getSize() {\n    return size;\n}\n\npublic int getHeight() {\n    return (int) size.getHeight();\n}\n\npublic int getWidth() {\n    return (int) size.getWidth();\n}\n</code></pre>\n<p>which is very questionable (and not at all recommended).  Remember when I talked about &quot;integer truncation&quot;?  This could mean that the size of the component is bigger/small then the actual area of the over all grid.  Overriding <code>getSize</code> is also not recommended as you are messing with the layout management system which could produce no end of long term issues.</p>\n<p>And finally, which is the nail in your problem, you do...</p>\n<pre><code>frame.setPreferredSize(grid.getSize());\n</code></pre>\n<p>What you don't seem to recognise is, the viewable content size is the <code>frame size</code> - <code>window decorations</code>, this makes the viewable area of your program &lt; <code>1000x1000</code></p>\n<p>So, what's the answer?  Pass the size of the individual cell instead...</p>\n<pre><code>private int cellSize;\n\npublic Grid(int rows, int cols, int cellSize) {\n    this.rows = rows;\n    this.cols = cols;\n    this.grid = new String[cols][rows];\n    this.cellSize = cellSize;\n    initializeGrid();\n}\n</code></pre>\n<p>and override <code>getPreferredSize</code> (instead of <code>getSize</code>)...</p>\n<pre><code>@Override\npublic Dimension getPreferredSize() {\n    return new Dimension(cellSize * cols, cellSize * rows);\n}\n</code></pre>\n<p>and obviously <code>paintComponent</code></p>\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    g.setColor(Color.BLACK);\n    for (int col = 0; col &lt; cols; col++) {\n        for (int row = 0; row &lt; rows; row++) {\n            g.drawRect(col * cellSize, row * cellSize, cellSize, cellSize);\n        }\n    }\n}\n</code></pre>\n<p>and get rid of</p>\n<pre><code> frame.setPreferredSize(grid.getSize());\n</code></pre>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new Grid(10, 10, 100));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Grid extends JPanel {\n        private final int rows, cols;\n        private final String[][] grid;\n        private int cellSize;\n\n        public Grid(int rows, int cols, int cellSize) {\n            this.rows = rows;\n            this.cols = cols;\n            this.grid = new String[cols][rows];\n            this.cellSize = cellSize;\n            initializeGrid();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(cellSize * cols, cellSize * rows);\n        }\n\n        public void initializeGrid() {\n            // populate grid as a 2D array of Nodes\n            for (int col = 0; col &lt; cols; col++) {\n                for (int row = 0; row &lt; rows; row++) {\n                    grid[col][row] = col + &quot;x&quot; + row;\n                }\n            }\n\n            // create neighbors for all the Nodes\n            for (int col = 0; col &lt; cols; col++) {\n                for (int row = 0; row &lt; rows; row++) {\n                    setNeighbors(col, row);\n                }\n            }\n\n            // create start and end points for pathfinding\n            //start = grid[0][0];\n            //end = grid[cols - 1][rows - 1];\n        }\n\n        private void setNeighbors(int col, int row) {\n            //int[][] directions = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};\n            //\n            //for (int[] direction : directions) {\n            //    int neighborCol = direction[0] + col;\n            //    int neighborRow = direction[1] + row;\n            //\n            //    if (neighborCol &gt;= 0 &amp;&amp; neighborCol &lt; cols\n            //            &amp;&amp; neighborRow &gt;= 0 &amp;&amp; neighborRow &lt; rows) {\n            //        if (Arrays.equals(direction, new int[]{1, 0})) {\n            //            grid[col][row].setDown(grid[neighborCol][neighborRow]);\n            //        }\n            //        if (Arrays.equals(direction, new int[]{-1, 0})) {\n            //            grid[col][row].setUp(grid[neighborCol][neighborRow]);\n            //        }\n            //        if (Arrays.equals(direction, new int[]{0, 1})) {\n            //            grid[col][row].setRight(grid[neighborCol][neighborRow]);\n            //        }\n            //        if (Arrays.equals(direction, new int[]{0, -1})) {\n            //            grid[col][row].setLeft(grid[neighborCol][neighborRow]);\n            //        }\n            //    }\n            //}\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.setColor(Color.BLACK);\n            for (int col = 0; col &lt; cols; col++) {\n                for (int row = 0; row &lt; rows; row++) {\n                    g.drawRect(col * cellSize, row * cellSize, cellSize, cellSize);\n                }\n            }\n        }\n\n        public int getRows() {\n            return rows;\n        }\n\n        public int getCols() {\n            return cols;\n        }\n\n        //public Node[][] getGrid() {\n        //    return grid;\n        //}\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20676477,"reputation":59,"user_id":15180957,"display_name":"dau&#240;i"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72134069,"answer_count":1,"score":0,"last_activity_date":1651800180,"creation_date":1651786179,"question_id":72133855,"body_markdown":"I am trying to create a 2D grid with node sizes depending on the size of the height/width of the frame but whenever I run the program, the bottom row and right columns are somewhat cut off. Here is my execution code:\r\n```Java\r\npublic class PathfindingVisualizer {\r\n    public static void main(String[] args) {\r\n        Grid grid = new Grid(10,10, new Dimension(1000, 1000));\r\n\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                new GridFrame(grid);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nHere is the Grid class:\r\n```Java\r\npackage gui;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.Arrays;\r\n\r\npublic class Grid extends JPanel {\r\n    private final int rows, cols;\r\n    private final Node[][] grid;\r\n    private Node start, end;\r\n    private final Dimension size;\r\n    private int nodeSize;\r\n\r\n    public Grid(int rows, int cols, Dimension size) {\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n        this.grid = new Node[cols][rows];\r\n        this.size = size;\r\n        this.nodeSize = getWidth() / cols;\r\n        initializeGrid();\r\n    }\r\n\r\n    public void initializeGrid() {\r\n        // populate grid as a 2D array of Nodes\r\n        for (int col=0; col&lt;cols; col++) {\r\n            for (int row=0; row&lt;rows; row++) {\r\n                grid[col][row] = new Node(col, row);\r\n            }\r\n        }\r\n\r\n        // create neighbors for all the Nodes\r\n        for (int col=0; col&lt;cols; col++) {\r\n            for (int row=0; row&lt;rows; row++) {\r\n                setNeighbors(col, row);\r\n            }\r\n        }\r\n\r\n        // create start and end points for pathfinding\r\n        start = grid[0][0];\r\n        end = grid[cols-1][rows-1];\r\n    }\r\n\r\n    private void setNeighbors(int col, int row) {\r\n        int[][] directions = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};\r\n\r\n        for (int[] direction : directions) {\r\n            int neighborCol = direction[0] + col;\r\n            int neighborRow = direction[1] + row;\r\n\r\n            if (neighborCol &gt;= 0 &amp;&amp; neighborCol &lt; cols &amp;&amp;\r\n                neighborRow &gt;= 0 &amp;&amp; neighborRow &lt; rows) {\r\n                if (Arrays.equals(direction, new int[]{1, 0})) {\r\n                    grid[col][row].setDown(grid[neighborCol][neighborRow]);\r\n                }\r\n                if (Arrays.equals(direction, new int[]{-1, 0})) {\r\n                    grid[col][row].setUp(grid[neighborCol][neighborRow]);\r\n                }\r\n                if (Arrays.equals(direction, new int[]{0, 1})) {\r\n                    grid[col][row].setRight(grid[neighborCol][neighborRow]);\r\n                }\r\n                if (Arrays.equals(direction, new int[]{0, -1})) {\r\n                    grid[col][row].setLeft(grid[neighborCol][neighborRow]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.setColor(Color.BLACK);\r\n        for (int col=0; col&lt;cols; col++) {\r\n            for (int row=0; row&lt;rows; row++) {\r\n                g.drawRect(col*nodeSize, row*nodeSize, nodeSize, nodeSize);\r\n            }\r\n        }\r\n    }\r\n\r\n    public int getRows() {\r\n        return rows;\r\n    }\r\n\r\n    public int getCols() {\r\n        return cols;\r\n    }\r\n\r\n    public Node[][] getGrid() {\r\n        return grid;\r\n    }\r\n\r\n    @Override\r\n    public Dimension getSize() {\r\n        return size;\r\n    }\r\n\r\n    public int getHeight(){\r\n        return (int) size.getHeight();\r\n    }\r\n\r\n    public int getWidth(){\r\n        return (int) size.getWidth();\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the GridFrame class:\r\n```Java\r\npackage gui;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class GridFrame {\r\n    public GridFrame(Grid grid) {\r\n        JFrame frame = new JFrame(&quot;Pathfinding Visualizer&quot;);\r\n        frame.setPreferredSize(grid.getSize());\r\n        frame.setContentPane(grid);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nI have also been messing around with implementations that have a draw function w/in the Node class but haven&#39;t had any luck with that as of yet.\r\n\r\nThe goal here is to make a pathing visualizer. This is my first Java project, so any help is helpful!\r\n\r\nEDIT:\r\nHere is the Node class as well:\r\n```Java\r\npackage gui;\r\n\r\npublic class Node {\r\n    private final int row, col;\r\n    private Node up, down, left, right;\r\n    private boolean start, end, wall, visited;\r\n\r\n    public Node(int col, int row) {\r\n        this.col = col;\r\n        this.row = row;\r\n    }\r\n\r\n    public int getRow() {\r\n        return row;\r\n    }\r\n\r\n    public int getCol() {\r\n        return col;\r\n    }\r\n\r\n    public Node getUp() {\r\n        return up;\r\n    }\r\n\r\n    public void setUp(Node up) {\r\n        this.up = up;\r\n    }\r\n\r\n    public Node getDown() {\r\n        return down;\r\n    }\r\n\r\n    public void setDown(Node down) {\r\n        this.down = down;\r\n    }\r\n\r\n    public Node getLeft() {\r\n        return left;\r\n    }\r\n\r\n    public void setLeft(Node left) {\r\n        this.left = left;\r\n    }\r\n\r\n    public Node getRight() {\r\n        return right;\r\n    }\r\n\r\n    public void setRight(Node right) {\r\n        this.right = right;\r\n    }\r\n\r\n    public boolean isStart() {\r\n        return start;\r\n    }\r\n\r\n    public void setStart(boolean start) {\r\n        this.start = start;\r\n    }\r\n\r\n    public boolean isEnd() {\r\n        return end;\r\n    }\r\n\r\n    public void setEnd(boolean end) {\r\n        this.end = end;\r\n    }\r\n\r\n    public boolean isWall() {\r\n        return wall;\r\n    }\r\n\r\n    public void setWall(boolean wall) {\r\n        this.wall = wall;\r\n    }\r\n\r\n    public boolean isVisited() {\r\n        return visited;\r\n    }\r\n\r\n    public void setVisited(boolean visited) {\r\n        this.visited = visited;\r\n    }\r\n}\r\n```","title":"2D grid is not fitting in JFrame for pathing visualizer","body":"<p>I am trying to create a 2D grid with node sizes depending on the size of the height/width of the frame but whenever I run the program, the bottom row and right columns are somewhat cut off. Here is my execution code:</p>\n<pre><code>public class PathfindingVisualizer {\n    public static void main(String[] args) {\n        Grid grid = new Grid(10,10, new Dimension(1000, 1000));\n\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new GridFrame(grid);\n            }\n        });\n    }\n}\n</code></pre>\n<p>Here is the Grid class:</p>\n<pre><code>package gui;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.util.Arrays;\n\npublic class Grid extends JPanel {\n    private final int rows, cols;\n    private final Node[][] grid;\n    private Node start, end;\n    private final Dimension size;\n    private int nodeSize;\n\n    public Grid(int rows, int cols, Dimension size) {\n        this.rows = rows;\n        this.cols = cols;\n        this.grid = new Node[cols][rows];\n        this.size = size;\n        this.nodeSize = getWidth() / cols;\n        initializeGrid();\n    }\n\n    public void initializeGrid() {\n        // populate grid as a 2D array of Nodes\n        for (int col=0; col&lt;cols; col++) {\n            for (int row=0; row&lt;rows; row++) {\n                grid[col][row] = new Node(col, row);\n            }\n        }\n\n        // create neighbors for all the Nodes\n        for (int col=0; col&lt;cols; col++) {\n            for (int row=0; row&lt;rows; row++) {\n                setNeighbors(col, row);\n            }\n        }\n\n        // create start and end points for pathfinding\n        start = grid[0][0];\n        end = grid[cols-1][rows-1];\n    }\n\n    private void setNeighbors(int col, int row) {\n        int[][] directions = {{1, 0}, {-1, 0}, {0, 1}, {0, -1}};\n\n        for (int[] direction : directions) {\n            int neighborCol = direction[0] + col;\n            int neighborRow = direction[1] + row;\n\n            if (neighborCol &gt;= 0 &amp;&amp; neighborCol &lt; cols &amp;&amp;\n                neighborRow &gt;= 0 &amp;&amp; neighborRow &lt; rows) {\n                if (Arrays.equals(direction, new int[]{1, 0})) {\n                    grid[col][row].setDown(grid[neighborCol][neighborRow]);\n                }\n                if (Arrays.equals(direction, new int[]{-1, 0})) {\n                    grid[col][row].setUp(grid[neighborCol][neighborRow]);\n                }\n                if (Arrays.equals(direction, new int[]{0, 1})) {\n                    grid[col][row].setRight(grid[neighborCol][neighborRow]);\n                }\n                if (Arrays.equals(direction, new int[]{0, -1})) {\n                    grid[col][row].setLeft(grid[neighborCol][neighborRow]);\n                }\n            }\n        }\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setColor(Color.BLACK);\n        for (int col=0; col&lt;cols; col++) {\n            for (int row=0; row&lt;rows; row++) {\n                g.drawRect(col*nodeSize, row*nodeSize, nodeSize, nodeSize);\n            }\n        }\n    }\n\n    public int getRows() {\n        return rows;\n    }\n\n    public int getCols() {\n        return cols;\n    }\n\n    public Node[][] getGrid() {\n        return grid;\n    }\n\n    @Override\n    public Dimension getSize() {\n        return size;\n    }\n\n    public int getHeight(){\n        return (int) size.getHeight();\n    }\n\n    public int getWidth(){\n        return (int) size.getWidth();\n    }\n}\n</code></pre>\n<p>And here is the GridFrame class:</p>\n<pre><code>package gui;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class GridFrame {\n    public GridFrame(Grid grid) {\n        JFrame frame = new JFrame(&quot;Pathfinding Visualizer&quot;);\n        frame.setPreferredSize(grid.getSize());\n        frame.setContentPane(grid);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>I have also been messing around with implementations that have a draw function w/in the Node class but haven't had any luck with that as of yet.</p>\n<p>The goal here is to make a pathing visualizer. This is my first Java project, so any help is helpful!</p>\n<p>EDIT:\nHere is the Node class as well:</p>\n<pre><code>package gui;\n\npublic class Node {\n    private final int row, col;\n    private Node up, down, left, right;\n    private boolean start, end, wall, visited;\n\n    public Node(int col, int row) {\n        this.col = col;\n        this.row = row;\n    }\n\n    public int getRow() {\n        return row;\n    }\n\n    public int getCol() {\n        return col;\n    }\n\n    public Node getUp() {\n        return up;\n    }\n\n    public void setUp(Node up) {\n        this.up = up;\n    }\n\n    public Node getDown() {\n        return down;\n    }\n\n    public void setDown(Node down) {\n        this.down = down;\n    }\n\n    public Node getLeft() {\n        return left;\n    }\n\n    public void setLeft(Node left) {\n        this.left = left;\n    }\n\n    public Node getRight() {\n        return right;\n    }\n\n    public void setRight(Node right) {\n        this.right = right;\n    }\n\n    public boolean isStart() {\n        return start;\n    }\n\n    public void setStart(boolean start) {\n        this.start = start;\n    }\n\n    public boolean isEnd() {\n        return end;\n    }\n\n    public void setEnd(boolean end) {\n        this.end = end;\n    }\n\n    public boolean isWall() {\n        return wall;\n    }\n\n    public void setWall(boolean wall) {\n        this.wall = wall;\n    }\n\n    public boolean isVisited() {\n        return visited;\n    }\n\n    public void setVisited(boolean visited) {\n        this.visited = visited;\n    }\n}\n</code></pre>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1395126172,"creation_date":1395126172,"answer_id":22472425,"question_id":22472395,"body_markdown":"Because an ellipsis is syntactic sugar for an array.\r\n\r\nYou should:\r\n\r\n    s.getDeclaredConstructor(int.class, char.class, String[].class);\r\n\r\n(and as @JonSkeet mentions in his answer, you should also make your third argument an array in the `.newInstance()` invocation)\r\n","title":"Why it is giving me no such method exception?","body":"<p>Because an ellipsis is syntactic sugar for an array.</p>\n\n<p>You should:</p>\n\n<pre><code>s.getDeclaredConstructor(int.class, char.class, String[].class);\n</code></pre>\n\n<p>(and as @JonSkeet mentions in his answer, you should also make your third argument an array in the <code>.newInstance()</code> invocation)</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1395126537,"creation_date":1395126182,"answer_id":22472428,"question_id":22472395,"body_markdown":"&gt; why this code is giving me nosuchmethod exception?\r\n\r\nBecause you don&#39;t have a constructor with the parameters you&#39;ve requested:\r\n\r\n    (int, char, String, String)\r\n\r\nYou only have a constructor with these parameters:\r\n\r\n    (int, char, String[])\r\n\r\nwhere the `String[]` is a varargs parameter.\r\n\r\nThe fact that there&#39;s a varargs parameter is basically a *compile-time* artifact. You can detect this at execution time using [`Constructor.isVarArgs()`][1] but that doesn&#39;t change the signature of the constructor.\r\n\r\n&gt; any solution for it?\r\n\r\nUse the existing constructor instead :)\r\n\r\n    Constructor c = s.getDeclaredConstructor(int.class, char.class, String[].class);\r\n    Object o = c.newInstance(Integer.parseInt(args[1]),\r\n                             args[2].charAt(0),\r\n                             new String[] { args[3], args[4] });\r\n\r\nThat creation of a `String[]` to pass to the constructor is basically what the compiler would do for you if you called\r\n\r\n    new A(Integer.parseInt(args[1]), args[2].charAt(0), args[3], args[4])\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Constructor.html#isVarArgs%28%29","title":"Why it is giving me no such method exception?","body":"<blockquote>\n  <p>why this code is giving me nosuchmethod exception?</p>\n</blockquote>\n\n<p>Because you don't have a constructor with the parameters you've requested:</p>\n\n<pre><code>(int, char, String, String)\n</code></pre>\n\n<p>You only have a constructor with these parameters:</p>\n\n<pre><code>(int, char, String[])\n</code></pre>\n\n<p>where the <code>String[]</code> is a varargs parameter.</p>\n\n<p>The fact that there's a varargs parameter is basically a <em>compile-time</em> artifact. You can detect this at execution time using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Constructor.html#isVarArgs%28%29\" rel=\"noreferrer\"><code>Constructor.isVarArgs()</code></a> but that doesn't change the signature of the constructor.</p>\n\n<blockquote>\n  <p>any solution for it?</p>\n</blockquote>\n\n<p>Use the existing constructor instead :)</p>\n\n<pre><code>Constructor c = s.getDeclaredConstructor(int.class, char.class, String[].class);\nObject o = c.newInstance(Integer.parseInt(args[1]),\n                         args[2].charAt(0),\n                         new String[] { args[3], args[4] });\n</code></pre>\n\n<p>That creation of a <code>String[]</code> to pass to the constructor is basically what the compiler would do for you if you called</p>\n\n<pre><code>new A(Integer.parseInt(args[1]), args[2].charAt(0), args[3], args[4])\n</code></pre>\n"}],"owner":{"account_id":3915819,"reputation":775,"user_id":3239652,"accept_rate":43,"display_name":"user3239652"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5872,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":22472428,"answer_count":2,"score":4,"last_activity_date":1651799642,"creation_date":1395126069,"question_id":22472395,"body_markdown":"    import java.lang.reflect.Constructor;\r\n    \r\n    class tr1 {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tif (args.length &lt; 1)\r\n    \t\t\t\tthrow(new Exception(&quot;baby its wrong&quot;));\r\n    \t\t\tClass s = Class.forName(args[0]);\r\n    \t\t\tConstructor c = s.getDeclaredConstructor(int.class, char.class, String.class, String.class);\r\n    \t\t\tObject o = c.newInstance(Integer.parseInt(args[1]), args[2].charAt(0), args[3], args[4]);\r\n    \t\t\tSystem.out.println(&quot;description of object &quot; + o);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e);\t\r\n    \t\t}\r\n    \t}\t\r\n    }\r\n\r\n    class A {\r\n\r\n    \tpublic A(int a, char c, String... strings){\r\n    \t\tSystem.out.println(a);\r\n    \t\tSystem.out.println(c);\r\n    \t\tfor (String q:strings) {\r\n    \t\t\tSystem.out.println(q);\r\n    \t\t}\r\n    \t}\t\r\n    \r\n    }\r\n\r\nWhy this code is giving me `NoSuchMethod` exception? Any solution for it?","title":"Why it is giving me no such method exception?","body":"<pre><code>import java.lang.reflect.Constructor;\n\nclass tr1 {\n\n    public static void main(String[] args) {\n        try {\n            if (args.length &lt; 1)\n                throw(new Exception(&quot;baby its wrong&quot;));\n            Class s = Class.forName(args[0]);\n            Constructor c = s.getDeclaredConstructor(int.class, char.class, String.class, String.class);\n            Object o = c.newInstance(Integer.parseInt(args[1]), args[2].charAt(0), args[3], args[4]);\n            System.out.println(&quot;description of object &quot; + o);\n\n        } catch (Exception e) {\n            System.out.println(e);  \n        }\n    }   \n}\n\nclass A {\n\n    public A(int a, char c, String... strings){\n        System.out.println(a);\n        System.out.println(c);\n        for (String q:strings) {\n            System.out.println(q);\n        }\n    }   \n\n}\n</code></pre>\n<p>Why this code is giving me <code>NoSuchMethod</code> exception? Any solution for it?</p>\n"},{"tags":["java","arrays","multidimensional-array","singleton","method-call"],"answers":[{"tags":[],"owner":{"account_id":14297220,"reputation":72,"user_id":10327552,"display_name":"maplemilk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651799364,"creation_date":1651799364,"answer_id":72135128,"question_id":72134442,"body_markdown":"Pretty much everything is wrong with the provided code, as far as what I think you are trying to achieve  `boolean[][] maze` should be a instance variable for your `maze` objects, `getBooleanArray()` is completely redundant, and the work you want done when initializing a new object should be under the constructor. Additionally the final declaration for `Maze` class does&#39;t really make sense in this context, but I can&#39;t comment on that as I don&#39;t know about the rest of your program.\r\n\r\nA possible fix with explanations is provided below:\r\n\r\n```Java\r\npublic class Maze{\r\n\r\n    /** Declare a new mazeArray instance variable (variables that are\r\n     *  attributes of specific instances of the class). It is common to\r\n     *  declare the instance variables private and manage access via\r\n     *  public accessor methods. See below for the accessor method.\r\n     */\r\n    private boolean[][] mazeArray;\r\n    \r\n    /** Move the contents of the generateMaze to the constructor,\r\n     *  constructors are called when a new object is being instantiated.\r\n     *  (basically when you call new &lt;ClassName&gt;()), you do not have to\r\n     *  return the mazeArray anymore as it will be accessed via an\r\n     *  accessor method.\r\n     */\r\n    public Maze(int width, int height) {\r\n\r\n        mazeArray = new boolean[width][height];\r\n\r\n        for( int x = 0; x &lt; width; x++ ) {\r\n            mazeArray[x][0] = true;\r\n        }\r\n        for( int y = 0; y &lt; height; y++ ) {\r\n            mazeArray[0][y] = true;\r\n        }    \r\n    }\r\n\r\n    /** This is the accessor method that will be \r\n     *  used by the outside world to access\r\n     *  the mazeArray field\r\n     */\r\n    public getMazeArray() {\r\n        return mazeArray;\r\n    }\r\n}\r\n```\r\nalso the `Walker` class is faulty in the way that in terms of object oriented programming.\r\n\r\n```Java\r\npublic class Walker {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        /* Calling new Maze() create a Maze object with the private\r\n         * boolean[][] mazeArray that you can access with the same\r\n         * object&#39;s getMazeArray() method.\r\n         */\r\n        Maze maze = new Maze();\r\n\r\n        walk(maze);\r\n\r\n    }\r\n    /** I don&#39;t know if you will have multiple Walker objects in your\r\n     *  program, depending on that decision you might want to make this\r\n     *  method non-static but for now this will suffice\r\n     */\r\n    public static walk(Maze maze) {\r\n\r\n      boolean[][] mazeArray = maze.getMazeArray();\r\n\r\n      System.out.println(mazeArray[0][0]);\r\n\r\n    }\r\n}\r\n```\r\nAlso you don&#39;t seem to be using Java properly, and as someone who was at the same place a couple of years ago I would recommend [Head First Java][1] as a good place to start reading. Also you might want to linearize your 2D array to prevent later performance issues depending on where your project is headed.\r\n\r\n  [1]: https://www.google.com/search?q=head%20first%20java%20pdf&amp;ie=UTF-8&amp;oe=UTF-8","title":"I don&#180;t understand why this call does not work (Java)","body":"<p>Pretty much everything is wrong with the provided code, as far as what I think you are trying to achieve  <code>boolean[][] maze</code> should be a instance variable for your <code>maze</code> objects, <code>getBooleanArray()</code> is completely redundant, and the work you want done when initializing a new object should be under the constructor. Additionally the final declaration for <code>Maze</code> class does't really make sense in this context, but I can't comment on that as I don't know about the rest of your program.</p>\n<p>A possible fix with explanations is provided below:</p>\n<pre><code>public class Maze{\n\n    /** Declare a new mazeArray instance variable (variables that are\n     *  attributes of specific instances of the class). It is common to\n     *  declare the instance variables private and manage access via\n     *  public accessor methods. See below for the accessor method.\n     */\n    private boolean[][] mazeArray;\n    \n    /** Move the contents of the generateMaze to the constructor,\n     *  constructors are called when a new object is being instantiated.\n     *  (basically when you call new &lt;ClassName&gt;()), you do not have to\n     *  return the mazeArray anymore as it will be accessed via an\n     *  accessor method.\n     */\n    public Maze(int width, int height) {\n\n        mazeArray = new boolean[width][height];\n\n        for( int x = 0; x &lt; width; x++ ) {\n            mazeArray[x][0] = true;\n        }\n        for( int y = 0; y &lt; height; y++ ) {\n            mazeArray[0][y] = true;\n        }    \n    }\n\n    /** This is the accessor method that will be \n     *  used by the outside world to access\n     *  the mazeArray field\n     */\n    public getMazeArray() {\n        return mazeArray;\n    }\n}\n</code></pre>\n<p>also the <code>Walker</code> class is faulty in the way that in terms of object oriented programming.</p>\n<pre><code>public class Walker {\n\n    public static void main(String[] args) {\n\n        /* Calling new Maze() create a Maze object with the private\n         * boolean[][] mazeArray that you can access with the same\n         * object's getMazeArray() method.\n         */\n        Maze maze = new Maze();\n\n        walk(maze);\n\n    }\n    /** I don't know if you will have multiple Walker objects in your\n     *  program, depending on that decision you might want to make this\n     *  method non-static but for now this will suffice\n     */\n    public static walk(Maze maze) {\n\n      boolean[][] mazeArray = maze.getMazeArray();\n\n      System.out.println(mazeArray[0][0]);\n\n    }\n}\n</code></pre>\n<p>Also you don't seem to be using Java properly, and as someone who was at the same place a couple of years ago I would recommend <a href=\"https://www.google.com/search?q=head%20first%20java%20pdf&amp;ie=UTF-8&amp;oe=UTF-8\" rel=\"nofollow noreferrer\">Head First Java</a> as a good place to start reading. Also you might want to linearize your 2D array to prevent later performance issues depending on where your project is headed.</p>\n"}],"owner":{"account_id":24976247,"reputation":79,"user_id":18838855,"display_name":"marcel fiedler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651799364,"creation_date":1651791730,"question_id":72134442,"body_markdown":"The class `Maze` instanciates an 2D boolean-Array with the method: `generateMaze(int width, int height)` which has to be used in `Walker`.\r\nThe method-call to create the boolean[][] happens at the `main` of the Walker class\r\n\r\nMy aim is to call the boolean[ ][ ]-Array with `walk(Maze maze),`**the input for the method has to be the Maze-Object, not the actual boolean[ ][ ]**.\r\nI do not understand how to call it, there has to be a way to call it with an object instance of an Maze-Object.\r\n\r\n```Java\r\npublic final class Maze{\r\n\r\n    public static boolean[][] generateMaze(int width, int height) {\r\n\r\n        boolean[][] mazeArray = new boolean[width][height];\r\n\r\n        for( int x = 0; x &lt; width; x++ ) {\r\n            mazeArray[x][0] = true;\r\n        }\r\n        for( int y = 0; y &lt; height; y++ ) {\r\n            mazeArray[0][y] = true;\r\n        }\r\n        return mazeArray;\r\n    }\r\n\r\n    public boolean[][] getBooleanArray() {\r\n        return generateMaze(2,2);\r\n    } \r\n}\r\n```\r\n```Java\r\npublic class Walker {\r\n\r\n    public static void main(String[] args) {\r\n        boolean[][] maze = Maze.generateMaze(2,2);\r\n\r\n        Walker walker = new Walker();\r\n        Maze mazeObj  = new Maze();\r\n\r\n        walker.walk( mazeObj );\r\n    }\r\n\r\n    public void walk(Maze maze) {\r\n        // This call doesnt work. Why?\r\n        System.out.println( mazeObj.maze[0][0] );\r\n    }\r\n}\r\n```\r\n\r\n","title":"I don&#180;t understand why this call does not work (Java)","body":"<p>The class <code>Maze</code> instanciates an 2D boolean-Array with the method: <code>generateMaze(int width, int height)</code> which has to be used in <code>Walker</code>.\nThe method-call to create the boolean[][] happens at the <code>main</code> of the Walker class</p>\n<p>My aim is to call the boolean[ ][ ]-Array with <code>walk(Maze maze),</code><strong>the input for the method has to be the Maze-Object, not the actual boolean[ ][ ]</strong>.\nI do not understand how to call it, there has to be a way to call it with an object instance of an Maze-Object.</p>\n<pre><code>public final class Maze{\n\n    public static boolean[][] generateMaze(int width, int height) {\n\n        boolean[][] mazeArray = new boolean[width][height];\n\n        for( int x = 0; x &lt; width; x++ ) {\n            mazeArray[x][0] = true;\n        }\n        for( int y = 0; y &lt; height; y++ ) {\n            mazeArray[0][y] = true;\n        }\n        return mazeArray;\n    }\n\n    public boolean[][] getBooleanArray() {\n        return generateMaze(2,2);\n    } \n}\n</code></pre>\n<pre><code>public class Walker {\n\n    public static void main(String[] args) {\n        boolean[][] maze = Maze.generateMaze(2,2);\n\n        Walker walker = new Walker();\n        Maze mazeObj  = new Maze();\n\n        walker.walk( mazeObj );\n    }\n\n    public void walk(Maze maze) {\n        // This call doesnt work. Why?\n        System.out.println( mazeObj.maze[0][0] );\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","graph-theory","depth-first-search","adjacency-matrix"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1651821468,"post_id":72134948,"comment_id":127459115,"body_markdown":"Write some tests and check the results.","body":"Write some tests and check the results."}],"answers":[{"tags":[],"owner":{"account_id":14534239,"reputation":341,"user_id":10498134,"display_name":"jloh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651799143,"creation_date":1651799143,"answer_id":72135113,"question_id":72134948,"body_markdown":"# Method 1: Query Adjacency Matrix\r\nSince you have already stored the edges in an adjacency matrix, you can simply query it. Set your `i` to v (since you are not even using `i` in the first place), and then check all vertices that are connected.\r\n\r\n```java\r\npublic static ArrayList&lt;Integer&gt; incidentEdges(int v) {\r\n   ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n   for(int i = 0; i &lt; a[v].length; i++) {\r\n     if(a[v][i] == 1) {\r\n        result.add(a[v].get(i));\r\n     }\r\n   }\r\n   return result;\r\n}\r\n```\r\n\r\n# Method 2: Generating an Adjacency List\r\n\r\nIf you get control of the input (i.e. before making the adjacency matrix), what you want is an [adjacency list](https://en.wikipedia.org/wiki/Adjacency_list): Where each `list[start]` points to an `ArrayList&lt;Integer&gt;` (representing the connected vertices). I would avoid the use of `ArrayList` since the number of vertices is already known. So I would instead use `ArrayList&lt;Integer&gt;[] list` instead. This definitely makes it easier to code.\r\n\r\nHere is an example of generating the adjacency list from an adjacency matrix\r\n\r\n```java\r\nstatic ArrayList&lt;Integer&gt;[] list;\r\n\r\npublic static ArrayList&lt;Integer&gt;[] generateAl(int v) {\r\n   list = new ArrayList[a.length];\r\n   for(int i = 0; i &lt; a.length; i++) {\r\n      list[i] = new ArrayList&lt;&gt;();\r\n      for(int j = 0; j &lt; a[i].length; j++) {\r\n         if(a[i][j] == 1) {\r\n            list[i].add(j);\r\n         }\r\n      }\r\n   }\r\n   return list;\r\n}\r\n\r\npublic static ArrayList&lt;Integer&gt; incidentEdges(int v) {\r\n   return list[v];\r\n}\r\n```","title":"How to find the list of edges incident to a particular vertex","body":"<h1>Method 1: Query Adjacency Matrix</h1>\n<p>Since you have already stored the edges in an adjacency matrix, you can simply query it. Set your <code>i</code> to v (since you are not even using <code>i</code> in the first place), and then check all vertices that are connected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;Integer&gt; incidentEdges(int v) {\n   ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n   for(int i = 0; i &lt; a[v].length; i++) {\n     if(a[v][i] == 1) {\n        result.add(a[v].get(i));\n     }\n   }\n   return result;\n}\n</code></pre>\n<h1>Method 2: Generating an Adjacency List</h1>\n<p>If you get control of the input (i.e. before making the adjacency matrix), what you want is an <a href=\"https://en.wikipedia.org/wiki/Adjacency_list\" rel=\"nofollow noreferrer\">adjacency list</a>: Where each <code>list[start]</code> points to an <code>ArrayList&lt;Integer&gt;</code> (representing the connected vertices). I would avoid the use of <code>ArrayList</code> since the number of vertices is already known. So I would instead use <code>ArrayList&lt;Integer&gt;[] list</code> instead. This definitely makes it easier to code.</p>\n<p>Here is an example of generating the adjacency list from an adjacency matrix</p>\n<pre class=\"lang-java prettyprint-override\"><code>static ArrayList&lt;Integer&gt;[] list;\n\npublic static ArrayList&lt;Integer&gt;[] generateAl(int v) {\n   list = new ArrayList[a.length];\n   for(int i = 0; i &lt; a.length; i++) {\n      list[i] = new ArrayList&lt;&gt;();\n      for(int j = 0; j &lt; a[i].length; j++) {\n         if(a[i][j] == 1) {\n            list[i].add(j);\n         }\n      }\n   }\n   return list;\n}\n\npublic static ArrayList&lt;Integer&gt; incidentEdges(int v) {\n   return list[v];\n}\n</code></pre>\n"}],"owner":{"account_id":2567896,"reputation":3,"user_id":2227457,"display_name":"user2227457"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72135113,"answer_count":1,"score":-1,"last_activity_date":1651799143,"creation_date":1651797307,"question_id":72134948,"body_markdown":"I tried the following but I&#39;m not sure that it is correct.\r\n\r\n```\r\nArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\npublic static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; incidentEdges(int v) {\r\n   for(int i = 0; i &lt; a.length; i++) {\r\n      for(int j = 0; j &lt; a[i].length; j++) {\r\n         if(a[v][j] == 1) {\r\n            list.get(v).get(new Edge(start, destination));\r\n            list.get(j).get(new Edge(start, destination);\r\n         }\r\n      }\r\n   }\r\n   return list;\r\n}\r\n```\r\nThe array **a** is an adjacency matrix and the parameter **v** is the vertex of an undirected graph. If there is an edge between vertex **v** and **j** then we add the edge incident to vertex **v**.","title":"How to find the list of edges incident to a particular vertex","body":"<p>I tried the following but I'm not sure that it is correct.</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\npublic static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; incidentEdges(int v) {\n   for(int i = 0; i &lt; a.length; i++) {\n      for(int j = 0; j &lt; a[i].length; j++) {\n         if(a[v][j] == 1) {\n            list.get(v).get(new Edge(start, destination));\n            list.get(j).get(new Edge(start, destination);\n         }\n      }\n   }\n   return list;\n}\n</code></pre>\n<p>The array <strong>a</strong> is an adjacency matrix and the parameter <strong>v</strong> is the vertex of an undirected graph. If there is an edge between vertex <strong>v</strong> and <strong>j</strong> then we add the edge incident to vertex <strong>v</strong>.</p>\n"},{"tags":["java","tomcat","web-applications","cors"],"comments":[{"owner":{"account_id":2675298,"reputation":1699,"user_id":2311841,"display_name":"cy3er"},"score":0,"creation_date":1403613565,"post_id":24386712,"comment_id":37717334,"body_markdown":"How did you test the `CorsFilter`? With AJAX request or with just a simple GET?","body":"How did you test the <code>CorsFilter</code>? With AJAX request or with just a simple GET?"},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1403613665,"post_id":24386712,"comment_id":37717404,"body_markdown":"Both, but firebug doesn&#39;t show the Access-Control header","body":"Both, but firebug doesn&#39;t show the Access-Control header"},{"owner":{"account_id":478615,"reputation":2695,"user_id":890809,"accept_rate":71,"display_name":"Nathan Reese"},"score":0,"creation_date":1487353153,"post_id":24386712,"comment_id":71763154,"body_markdown":"Can you provide a complete example of how to set up SimpleCORSFilter? What are the imports? Where does the class live? I would like to add the class to tomcat and am not sure how.","body":"Can you provide a complete example of how to set up SimpleCORSFilter? What are the imports? Where does the class live? I would like to add the class to tomcat and am not sure how."}],"answers":[{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":1,"up_vote_count":50,"is_accepted":true,"score":49,"last_activity_date":1534817303,"creation_date":1403623782,"answer_id":24390640,"question_id":24386712,"body_markdown":"The filter [**`org.apache.catalina.filters.CorsFilter`**][1] seek first a header in the request: `Origin`.  If this header does not exist, the filter does not add any header in the response. Perhaps for that reason does not work.\r\n\r\nAdditionally, in a `POST` request, look for the header `Content-Type`. Something similar happens to other methods. May you want to see the [code][2] of this filter. In another way, there is a [flowchart][3]:\r\n\r\n![CORS Flow Chart][4]\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter\r\n  [2]: https://github.com/quickhack/tomcat/blob/master/src/main/java/org/apache/catalina/filters/CorsFilter.java\r\n  [3]: http://tomcat.apache.org/tomcat-7.0-doc/images/cors-flowchart.png\r\n  [4]: http://i.stack.imgur.com/uzud1.png","title":"Tomcat CORS filter","body":"<p>The filter <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter\" rel=\"noreferrer\"><strong><code>org.apache.catalina.filters.CorsFilter</code></strong></a> seek first a header in the request: <code>Origin</code>.  If this header does not exist, the filter does not add any header in the response. Perhaps for that reason does not work.</p>\n\n<p>Additionally, in a <code>POST</code> request, look for the header <code>Content-Type</code>. Something similar happens to other methods. May you want to see the <a href=\"https://github.com/quickhack/tomcat/blob/master/src/main/java/org/apache/catalina/filters/CorsFilter.java\" rel=\"noreferrer\">code</a> of this filter. In another way, there is a <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/images/cors-flowchart.png\" rel=\"noreferrer\">flowchart</a>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/uzud1.png\" alt=\"CORS Flow Chart\"></p>\n"},{"tags":[],"owner":{"account_id":6456141,"reputation":299,"user_id":5001465,"display_name":"Krizka"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1500353650,"creation_date":1438878841,"answer_id":31861187,"question_id":24386712,"body_markdown":"I get a similar problem and I found something that worked for me on tomcat doc [tomcat-doc-CORSFilter][1]\r\nI use filter and **init-param** as below:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n      &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n      &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n        &lt;param-value&gt;*&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\r\n        &lt;param-value&gt;GET,POST,HEAD,OPTIONS,PUT&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\r\n        &lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\r\n        &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\r\n        &lt;param-value&gt;true&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.preflight.maxage&lt;/param-name&gt;\r\n        &lt;param-value&gt;10&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n      &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nHope it helps!\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter","title":"Tomcat CORS filter","body":"<p>I get a similar problem and I found something that worked for me on tomcat doc <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter\" rel=\"noreferrer\">tomcat-doc-CORSFilter</a>\nI use filter and <strong>init-param</strong> as below:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n  &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n  &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n    &lt;param-value&gt;*&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n    &lt;param-value&gt;GET,POST,HEAD,OPTIONS,PUT&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\n    &lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\n    &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\n    &lt;param-value&gt;true&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.preflight.maxage&lt;/param-name&gt;\n    &lt;param-value&gt;10&lt;/param-value&gt;\n  &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":10043758,"reputation":1,"user_id":7425847,"display_name":"胡凯旋"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516172960,"creation_date":1516171862,"answer_id":48295172,"question_id":24386712,"body_markdown":"In my case with Ueditor，the `X-Requested-With` should be `X_Requested_With`.","title":"Tomcat CORS filter","body":"<p>In my case with Ueditor，the <code>X-Requested-With</code> should be <code>X_Requested_With</code>.</p>\n"},{"tags":[],"owner":{"account_id":9565805,"reputation":101,"user_id":7105142,"display_name":"Calum Mackervoy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610797885,"creation_date":1610797885,"answer_id":65749329,"question_id":24386712,"body_markdown":"I don&#39;t have enough reputation to leave a comment but thanks for your answer @Krikza :)\r\n\r\nUsing Tomcat 9 I had the following issue: `javax.servlet.ServletException: It is not allowed to configure supportsCredentials=[true] when allowedOrigins=[*]`\r\n\r\nSimply removing the parameter fixes it\r\n```\r\n&lt;init-param&gt;\r\n  &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\r\n  &lt;param-value&gt;true&lt;/param-value&gt;\r\n&lt;/init-param&gt;\r\n```","title":"Tomcat CORS filter","body":"<p>I don't have enough reputation to leave a comment but thanks for your answer @Krikza :)</p>\n<p>Using Tomcat 9 I had the following issue: <code>javax.servlet.ServletException: It is not allowed to configure supportsCredentials=[true] when allowedOrigins=[*]</code></p>\n<p>Simply removing the parameter fixes it</p>\n<pre><code>&lt;init-param&gt;\n  &lt;param-name&gt;cors.support.credentials&lt;/param-name&gt;\n  &lt;param-value&gt;true&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21864411,"reputation":63,"user_id":16154800,"display_name":"Ronivon de Matos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651799052,"creation_date":1651799052,"answer_id":72135100,"question_id":24386712,"body_markdown":"When I had the same problem, the [tomcat reference][1] didn&#39;t work. Here&#39;s how it worked:\r\n\r\n    &lt;filter&gt;\r\n      &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n      &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n        &lt;param-value&gt;*&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\r\n        &lt;param-value&gt;GET,POST,PUT,DELETE,HEAD,OPTIONS&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\r\n        &lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\r\n        &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n      &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n      &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html","title":"Tomcat CORS filter","body":"<p>When I had the same problem, the <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html\" rel=\"nofollow noreferrer\">tomcat reference</a> didn't work. Here's how it worked:</p>\n<pre><code>&lt;filter&gt;\n  &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n  &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n    &lt;param-value&gt;*&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n    &lt;param-value&gt;GET,POST,PUT,DELETE,HEAD,OPTIONS&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\n    &lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers&lt;/param-value&gt;\n  &lt;/init-param&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\n    &lt;param-value&gt;Access-Control-Allow-Origin,Access-Control-Allow-Credentials&lt;/param-value&gt;\n  &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69203,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":24390640,"answer_count":5,"score":35,"last_activity_date":1651799052,"creation_date":1403613086,"question_id":24386712,"body_markdown":"I want to enable tomcat CORS filter, i added this to web.xml:\r\n\r\n    &lt;filter&gt;\r\n    \t&lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n    \t&lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n    \t&lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n    \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nBut it doesn&#39;t work.\r\nI tried with a custom filter:\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;SimpleCORSFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;com.common.SimpleCORSFilter&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;SimpleCORSFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\nWith this Class:\r\n\r\n    public class SimpleCORSFilter implements Filter {\r\n    \r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n    \t\tHttpServletResponse response = (HttpServletResponse) res;\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n    \t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;x-requested-with&quot;);\r\n    \t\tchain.doFilter(req, res);\r\n    \t}\r\n    }\r\n\r\nAnd this well works, can you tell me why?\r\nI don&#39;t know if it is important but I&#39;m usign Spring Framework.","title":"Tomcat CORS filter","body":"<p>I want to enable tomcat CORS filter, i added this to web.xml:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>But it doesn't work.\nI tried with a custom filter:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;SimpleCORSFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.common.SimpleCORSFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SimpleCORSFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>With this Class:</p>\n\n<pre><code>public class SimpleCORSFilter implements Filter {\n\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) res;\n        response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"x-requested-with\");\n        chain.doFilter(req, res);\n    }\n}\n</code></pre>\n\n<p>And this well works, can you tell me why?\nI don't know if it is important but I'm usign Spring Framework.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":2078837,"reputation":140,"user_id":2972198,"display_name":"Maike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484692044,"creation_date":1484692044,"answer_id":41708141,"question_id":41693291,"body_markdown":"running Webdriver tests is basically the same as running the former selenium tests.So you can follow these instructions:\r\nhttp://www.xqual.com/documentation/launchers/selenium_html.html\r\n","title":"Selenium Webdriver and XStudio","body":"<p>running Webdriver tests is basically the same as running the former selenium tests.So you can follow these instructions:\n<a href=\"http://www.xqual.com/documentation/launchers/selenium_html.html\" rel=\"nofollow noreferrer\">http://www.xqual.com/documentation/launchers/selenium_html.html</a></p>\n"},{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1484917081,"creation_date":1484917081,"answer_id":41764282,"question_id":41693291,"body_markdown":"I think this [doc][1] is not useful for your purposes. It is based on Selenium 1 (i.e Selnium RC), which was deprecated long time ago. You need to use Selenium WebDriver, i.e. Selenium 2, or even better, [Selenium 3][2].\r\n\r\nI am not an expert of XStudio, but maybe you might try to use the [JUnit launcher][3], and inside the test logic, use Selenium WebDriver to carry out your web testing.\r\n\r\nStandalone examples of Selenium Webdriver can be found [here][4].\r\n\r\n\r\n  [1]: http://www.xqual.com/documentation/launchers/selenium_java.html\r\n  [2]: https://seleniumhq.wordpress.com/2016/10/13/selenium-3-0-out-now/\r\n  [3]: http://www.xqual.com/documentation/launchers/junit.html\r\n  [4]: https://github.com/bonigarcia/webdrivermanager-examples","title":"Selenium Webdriver and XStudio","body":"<p>I think this <a href=\"http://www.xqual.com/documentation/launchers/selenium_java.html\" rel=\"nofollow noreferrer\">doc</a> is not useful for your purposes. It is based on Selenium 1 (i.e Selnium RC), which was deprecated long time ago. You need to use Selenium WebDriver, i.e. Selenium 2, or even better, <a href=\"https://seleniumhq.wordpress.com/2016/10/13/selenium-3-0-out-now/\" rel=\"nofollow noreferrer\">Selenium 3</a>.</p>\n\n<p>I am not an expert of XStudio, but maybe you might try to use the <a href=\"http://www.xqual.com/documentation/launchers/junit.html\" rel=\"nofollow noreferrer\">JUnit launcher</a>, and inside the test logic, use Selenium WebDriver to carry out your web testing.</p>\n\n<p>Standalone examples of Selenium Webdriver can be found <a href=\"https://github.com/bonigarcia/webdrivermanager-examples\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2078837,"reputation":140,"user_id":2972198,"display_name":"Maike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484958116,"creation_date":1484958116,"answer_id":41774436,"question_id":41693291,"body_markdown":"From my experience with many of these launchers, the best is to first activate the traces so that you see exactly what the launcher is doing.\r\nTo do that, follow the instructions here: http://www.xqual.com/support/faq.html#question15\r\n\r\nThen share your traces. I should be able to help as I am using many different launchers...","title":"Selenium Webdriver and XStudio","body":"<p>From my experience with many of these launchers, the best is to first activate the traces so that you see exactly what the launcher is doing.\nTo do that, follow the instructions here: <a href=\"http://www.xqual.com/support/faq.html#question15\" rel=\"nofollow noreferrer\">http://www.xqual.com/support/faq.html#question15</a></p>\n\n<p>Then share your traces. I should be able to help as I am using many different launchers...</p>\n"}],"owner":{"account_id":9673336,"reputation":336,"user_id":7177611,"display_name":"Andreas Rau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41764282,"answer_count":3,"score":1,"last_activity_date":1651797718,"creation_date":1484645021,"question_id":41693291,"body_markdown":"Does anybody know how to setup XStudio to run Selenium Webdriver Tests?\r\n\r\nI cannot find any documentation or information about that. There is only one mention on the XQual website that selenium 2.0-webdriver is supported.\r\nCan anyone help me?\r\n\r\nI need an explanation how to setup the software, which launcher I need to choose and how to configure the tests. Perhaps someone also knows a good tutorial for webdriver with xstudio or some documentation on that topic.\r\n","title":"Selenium Webdriver and XStudio","body":"<p>Does anybody know how to setup XStudio to run Selenium Webdriver Tests?</p>\n<p>I cannot find any documentation or information about that. There is only one mention on the XQual website that selenium 2.0-webdriver is supported.\nCan anyone help me?</p>\n<p>I need an explanation how to setup the software, which launcher I need to choose and how to configure the tests. Perhaps someone also knows a good tutorial for webdriver with xstudio or some documentation on that topic.</p>\n"},{"tags":["java","automation","testng"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1360784538,"post_id":14861649,"comment_id":20832780,"body_markdown":"That will work if you run only a or only b, not if you include both. If that&#39;s not what you want the easy way would probably be to split your tests in two classes.","body":"That will work if you run only a or only b, not if you include both. If that&#39;s not what you want the easy way would probably be to split your tests in two classes."}],"answers":[{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1360823506,"creation_date":1360823506,"answer_id":14869027,"question_id":14861649,"body_markdown":"What you need to use is @BeforeGroups rather than @BeforeMethod.\r\nBeforeMethod ensures that setup1 and setup2 both run before each method.\r\nBeforeGroups would ensure that it would run only before specific group starts executing.","title":"Can I have multiple @BeforeMethod&#39;s that will run only for the groups they belong to?","body":"<p>What you need to use is @BeforeGroups rather than @BeforeMethod.\nBeforeMethod ensures that setup1 and setup2 both run before each method.\nBeforeGroups would ensure that it would run only before specific group starts executing.</p>\n"}],"owner":{"account_id":2363468,"reputation":55,"user_id":2069677,"display_name":"chrisk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3528,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":14869027,"answer_count":1,"score":5,"last_activity_date":1651797572,"creation_date":1360784418,"question_id":14861649,"body_markdown":"    @BeforeMethod (groups={&quot;a&quot;})\r\n    public void setup1() {\r\n        //do something\r\n    }\r\n\r\n    @BeforeMethod (groups={&quot;b&quot;})\r\n    public void setup2() {\r\n        //do something else\r\n    }\r\n\r\n    @Test (groups={&quot;a&quot;})\r\n    public void Test1() {\r\n        //do something\r\n    }\r\n\r\n    @Test (groups={&quot;b&quot;})\r\n    public void Test2() {\r\n        //do something\r\n    }\r\n\r\n    @Test (groups={&quot;a&quot;})\r\n    public void Test3() {\r\n        //do something\r\n    }\r\n\r\n    @Test (groups={&quot;b&quot;})\r\n    public void Test4() {\r\n        //do something\r\n    }\r\n\r\nwhile the xml file would be something like:\r\n\r\n    &lt;run&gt;\r\n        &lt;include name=&quot;a&quot;/&gt;\r\n        &lt;include name=&quot;b&quot;/&gt;\r\n    &lt;/run&gt;\r\n\r\nIs it possible to have only setup1 run before Test1, Test3 while only setup2 runs before Test2, Test4?","title":"Can I have multiple @BeforeMethod&#39;s that will run only for the groups they belong to?","body":"<pre><code>@BeforeMethod (groups={\"a\"})\npublic void setup1() {\n    //do something\n}\n\n@BeforeMethod (groups={\"b\"})\npublic void setup2() {\n    //do something else\n}\n\n@Test (groups={\"a\"})\npublic void Test1() {\n    //do something\n}\n\n@Test (groups={\"b\"})\npublic void Test2() {\n    //do something\n}\n\n@Test (groups={\"a\"})\npublic void Test3() {\n    //do something\n}\n\n@Test (groups={\"b\"})\npublic void Test4() {\n    //do something\n}\n</code></pre>\n\n<p>while the xml file would be something like:</p>\n\n<pre><code>&lt;run&gt;\n    &lt;include name=\"a\"/&gt;\n    &lt;include name=\"b\"/&gt;\n&lt;/run&gt;\n</code></pre>\n\n<p>Is it possible to have only setup1 run before Test1, Test3 while only setup2 runs before Test2, Test4?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1651797452,"post_id":72134910,"comment_id":127454915,"body_markdown":"JInternalFrame doesn&#39;t display on its own but rather displays within a JDesktopPane as per [this tutorial](https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html). You probably don&#39;t want to create a JInternalFrame but rather will want to create and display a JDIalog. .","body":"JInternalFrame doesn&#39;t display on its own but rather displays within a JDesktopPane as per <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow noreferrer\">this tutorial</a>. You probably don&#39;t want to create a JInternalFrame but rather will want to create and display a JDIalog. ."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1651797579,"post_id":72134910,"comment_id":127454931,"body_markdown":"Note that the question has nothing to do with NetBeans and all to do with understanding the basics of the Swing GUI library. I urge you to go to the [Swing Tutorials](https://docs.oracle.com/javase/tutorial/uiswing/components/index.html) to learn more.","body":"Note that the question has nothing to do with NetBeans and all to do with understanding the basics of the Swing GUI library. I urge you to go to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/index.html\" rel=\"nofollow noreferrer\">Swing Tutorials</a> to learn more."}],"owner":{"account_id":20537485,"reputation":121,"user_id":15073189,"display_name":"pzr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651797505,"answer_count":0,"score":0,"last_activity_date":1651797527,"creation_date":1651796864,"question_id":72134910,"body_markdown":"I want to simple project with java GUI in Netbeans , I have two class and I want to when i click button in NewJInternalFrame class , it will show me CustomerChoose class but when I click it doesn&#39;t show anything, \r\n\r\n\r\n    package javaapplication1;\r\n    \r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author lll\r\n     */\r\n    public final class NewJInternalFrame extends javax.swing.JFrame {\r\n    \r\n     \r\n        /**\r\n         * Creates new form NewJInternalFrame\r\n         */\r\n        public NewJInternalFrame() {\r\n          \r\n            initComponents();\r\n        }\r\n        \r\n       \r\n      \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            jLabel1 = new javax.swing.JLabel();\r\n            panel1 = new java.awt.Panel();\r\n            jToggleButton3 = new javax.swing.JToggleButton();\r\n            jPanel1 = new javax.swing.JPanel();\r\n            jLabel2 = new javax.swing.JLabel();\r\n    \r\n            jLabel1.setText(&quot;jLabel1&quot;);\r\n    \r\n            setBackground(new java.awt.Color(102, 102, 102));\r\n    \r\n            panel1.setBackground(new java.awt.Color(153, 153, 153));\r\n    \r\n            jToggleButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/javaapplication1/images/icons8-customer-32.png&quot;))); // NOI18N\r\n            jToggleButton1.setText(&quot;customer&quot;);\r\n            jToggleButton1.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    jToggleButton1ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n          \r\n    \r\n            jPanel1.setBackground(new java.awt.Color(153, 153, 153));\r\n    \r\n            jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/javaapplication1/images/bank (1).png&quot;))); // NOI18N\r\n            jLabel2.setText(&quot;bank system&quot;);\r\n    \r\n            javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n            jPanel1.setLayout(jPanel1Layout);\r\n            jPanel1Layout.setHorizontalGroup(\r\n                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(jPanel1Layout.createSequentialGroup()\r\n                    .addGap(23, 23, 23)\r\n                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 195, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(22, Short.MAX_VALUE))\r\n            );\r\n            jPanel1Layout.setVerticalGroup(\r\n                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(jPanel1Layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)\r\n                    .addContainerGap())\r\n            );\r\n    \r\n            javax.swing.GroupLayout panel1Layout = new javax.swing.GroupLayout(panel1);\r\n            panel1.setLayout(panel1Layout);\r\n            panel1Layout.setHorizontalGroup(\r\n                panel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(panel1Layout.createSequentialGroup()\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addComponent(jToggleButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(12, 12, 12)\r\n                    .addComponent(jToggleButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                    .addComponent(jToggleButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addContainerGap(235, Short.MAX_VALUE))\r\n            );\r\n            panel1Layout.setVerticalGroup(\r\n                panel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addGroup(panel1Layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addGroup(panel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\r\n                        .addComponent(jToggleButton2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .addComponent(jToggleButton1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                        .addComponent(jToggleButton3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n                    .addGap(0, 0, Short.MAX_VALUE))\r\n            );\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addComponent(panel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addComponent(panel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(0, 555, Short.MAX_VALUE))\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void jToggleButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                               \r\n            //setVisible(false);\r\n            new CustomerChoose().setVisible(true);     \r\n        }                                              \r\n      \r\n        public static void main(String[] args) {\r\n             java.awt.EventQueue.invokeLater(() -&gt; {\r\n                 new NewJInternalFrame().setVisible(true);\r\n             });\r\n        }\r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JLabel jLabel1;\r\n        private javax.swing.JLabel jLabel2;\r\n        private javax.swing.JPanel jPanel1;\r\n        private javax.swing.JToggleButton jToggleButton1;\r\n        private java.awt.Panel panel1;\r\n        // End of variables declaration                   \r\n    }\r\n\r\nwhen i click jToggleButton1 i want to see new window like this:\r\n\r\n```\r\npublic class CustomerChoose extends javax.swing.JInternalFrame {\r\n\r\n \r\n    public CustomerChoose() {\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n       \r\n        panel8 = new java.awt.Panel();\r\n        \r\n\r\n        jLabel8.setFont(new java.awt.Font(&quot;Arial Narrow&quot;, 0, 16)); // NOI18N\r\n        jLabel8.setText(&quot;xxx&quot;);\r\n\r\n        javax.swing.GroupLayout panel8Layout = new javax.swing.GroupLayout(panel8);\r\n        panel8.setLayout(panel8Layout);\r\n \r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void panel8MouseClicked(java.awt.event.MouseEvent evt) {                                    \r\n        // TODO add your handling code here:\r\n    }                                   \r\n    \r\n    /**\r\n     *\r\n     * @param args\r\n     */\r\n    public static void main(String args[]) {\r\n         java.awt.EventQueue.invokeLater(() -&gt; {\r\n             new CustomerChoose().setVisible(true);\r\n         });\r\n    }\r\n\r\n\r\n \r\n    private java.awt.Panel panel8;\r\n \r\n    // End of variables declaration                   \r\n}\r\n```\r\nBut when i click it doesn&#39;t show anything. What is the wrong?\r\n\r\n","title":"Netbeans isn&#39;t show my gui project with java","body":"<p>I want to simple project with java GUI in Netbeans , I have two class and I want to when i click button in NewJInternalFrame class , it will show me CustomerChoose class but when I click it doesn't show anything,</p>\n<pre><code>package javaapplication1;\n\n\n\n/**\n *\n * @author lll\n */\npublic final class NewJInternalFrame extends javax.swing.JFrame {\n\n \n    /**\n     * Creates new form NewJInternalFrame\n     */\n    public NewJInternalFrame() {\n      \n        initComponents();\n    }\n    \n   \n  \n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jLabel1 = new javax.swing.JLabel();\n        panel1 = new java.awt.Panel();\n        jToggleButton3 = new javax.swing.JToggleButton();\n        jPanel1 = new javax.swing.JPanel();\n        jLabel2 = new javax.swing.JLabel();\n\n        jLabel1.setText(&quot;jLabel1&quot;);\n\n        setBackground(new java.awt.Color(102, 102, 102));\n\n        panel1.setBackground(new java.awt.Color(153, 153, 153));\n\n        jToggleButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/javaapplication1/images/icons8-customer-32.png&quot;))); // NOI18N\n        jToggleButton1.setText(&quot;customer&quot;);\n        jToggleButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jToggleButton1ActionPerformed(evt);\n            }\n        });\n\n      \n\n        jPanel1.setBackground(new java.awt.Color(153, 153, 153));\n\n        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/javaapplication1/images/bank (1).png&quot;))); // NOI18N\n        jLabel2.setText(&quot;bank system&quot;);\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(23, 23, 23)\n                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 195, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(22, Short.MAX_VALUE))\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)\n                .addContainerGap())\n        );\n\n        javax.swing.GroupLayout panel1Layout = new javax.swing.GroupLayout(panel1);\n        panel1.setLayout(panel1Layout);\n        panel1Layout.setHorizontalGroup(\n            panel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(panel1Layout.createSequentialGroup()\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jToggleButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(12, 12, 12)\n                .addComponent(jToggleButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addComponent(jToggleButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(235, Short.MAX_VALUE))\n        );\n        panel1Layout.setVerticalGroup(\n            panel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n            .addGroup(panel1Layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(panel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)\n                    .addComponent(jToggleButton2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addComponent(jToggleButton1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addComponent(jToggleButton3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                .addGap(0, 0, Short.MAX_VALUE))\n        );\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(panel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addComponent(panel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(0, 555, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jToggleButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                               \n        //setVisible(false);\n        new CustomerChoose().setVisible(true);     \n    }                                              \n  \n    public static void main(String[] args) {\n         java.awt.EventQueue.invokeLater(() -&gt; {\n             new NewJInternalFrame().setVisible(true);\n         });\n    }\n    // Variables declaration - do not modify                     \n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JToggleButton jToggleButton1;\n    private java.awt.Panel panel1;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>when i click jToggleButton1 i want to see new window like this:</p>\n<pre><code>public class CustomerChoose extends javax.swing.JInternalFrame {\n\n \n    public CustomerChoose() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n       \n        panel8 = new java.awt.Panel();\n        \n\n        jLabel8.setFont(new java.awt.Font(&quot;Arial Narrow&quot;, 0, 16)); // NOI18N\n        jLabel8.setText(&quot;xxx&quot;);\n\n        javax.swing.GroupLayout panel8Layout = new javax.swing.GroupLayout(panel8);\n        panel8.setLayout(panel8Layout);\n \n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void panel8MouseClicked(java.awt.event.MouseEvent evt) {                                    \n        // TODO add your handling code here:\n    }                                   \n    \n    /**\n     *\n     * @param args\n     */\n    public static void main(String args[]) {\n         java.awt.EventQueue.invokeLater(() -&gt; {\n             new CustomerChoose().setVisible(true);\n         });\n    }\n\n\n \n    private java.awt.Panel panel8;\n \n    // End of variables declaration                   \n}\n</code></pre>\n<p>But when i click it doesn't show anything. What is the wrong?</p>\n"},{"tags":["java","arrays","queue","compare","contains"],"answers":[{"tags":[],"owner":{"account_id":21111999,"reputation":1,"user_id":15519753,"display_name":"TripleJ500"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651796412,"creation_date":1651796412,"answer_id":72134873,"question_id":72107255,"body_markdown":"Found a solution for anyone wondering:\r\n```\r\n    for (Object ch : obj) {\r\n            if (Character.isDigit((Character) ch)) {return true;}\r\n        }return false;\r\n```","title":"Comparing Head of Queue to Elements in an Array","body":"<p>Found a solution for anyone wondering:</p>\n<pre><code>    for (Object ch : obj) {\n            if (Character.isDigit((Character) ch)) {return true;}\n        }return false;\n</code></pre>\n"}],"owner":{"account_id":21111999,"reputation":1,"user_id":15519753,"display_name":"TripleJ500"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651796412,"creation_date":1651630048,"question_id":72107255,"body_markdown":"I am trying to create a password verification program that takes the user&#39;s password, inserts the characters of the password into a queue, and then compares the head of the queue to every element of an array (three arrays, one which contains every letter in the alphabet, one that contains every digit, and on that contains particular special characters). I am trying to find a way to compare the elements, as every time I try to compare, it never seems to recognize when the element in the queue is the same as the element in the array. This is the code I have so far.\r\n\r\nThe code for the array:\r\n```\r\nCharacter[] digitArray = new Character[]{0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\r\n```\r\nThe code for the queue:\r\n```\r\ndefault Queue&lt;Character&gt; enqueueTarget(String target) {\r\n        target.toLowerCase();\r\n        for (char ch : target.toCharArray()) {queue.add(ch);}\r\n        return queue;\r\n    }\r\n```\r\nAnd the code to match the elements:\r\n```\r\npublic boolean iterateDigits(Queue obj) {\r\n        int counterDigits = 0;\r\n\r\n        List&lt;Character&gt; intList = new ArrayList&lt;&gt;(Arrays.asList(digitArray));\r\n\r\n        while (!obj.isEmpty()){\r\n            if (intList.contains(obj.peek())) {counterDigits++;}\r\n            obj.poll();\r\n        } if (counterDigits &gt; 0){return true;}\r\n          else {return false;}\r\n    }\r\n```\r\n\r\nAny tips on how I can properly compare and match the elements? Or is there a better way of going about this? ","title":"Comparing Head of Queue to Elements in an Array","body":"<p>I am trying to create a password verification program that takes the user's password, inserts the characters of the password into a queue, and then compares the head of the queue to every element of an array (three arrays, one which contains every letter in the alphabet, one that contains every digit, and on that contains particular special characters). I am trying to find a way to compare the elements, as every time I try to compare, it never seems to recognize when the element in the queue is the same as the element in the array. This is the code I have so far.</p>\n<p>The code for the array:</p>\n<pre><code>Character[] digitArray = new Character[]{0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n</code></pre>\n<p>The code for the queue:</p>\n<pre><code>default Queue&lt;Character&gt; enqueueTarget(String target) {\n        target.toLowerCase();\n        for (char ch : target.toCharArray()) {queue.add(ch);}\n        return queue;\n    }\n</code></pre>\n<p>And the code to match the elements:</p>\n<pre><code>public boolean iterateDigits(Queue obj) {\n        int counterDigits = 0;\n\n        List&lt;Character&gt; intList = new ArrayList&lt;&gt;(Arrays.asList(digitArray));\n\n        while (!obj.isEmpty()){\n            if (intList.contains(obj.peek())) {counterDigits++;}\n            obj.poll();\n        } if (counterDigits &gt; 0){return true;}\n          else {return false;}\n    }\n</code></pre>\n<p>Any tips on how I can properly compare and match the elements? Or is there a better way of going about this?</p>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":10901645,"reputation":181,"user_id":8013745,"display_name":"Adam Howard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651794380,"creation_date":1651794380,"answer_id":72134711,"question_id":72134596,"body_markdown":"    @GetMapping(&quot;/messages&quot;)\r\n\tpublic List&lt;WebSocketChatMessage&gt; findChatMessages (@RequestParam String sender,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@RequestParam String recipient) {\r\n\t\tQuery query = new Query();\r\n\t\tCriteria criteria = new Criteria();\r\n\t\tcriteria.orOperator(Criteria.where(&quot;sender&quot;).is(sender).and(&quot;recipient&quot;).is(recipient), Criteria.where(&quot;recipient&quot;).is(sender).and(&quot;sender&quot;).is(recipient));\r\n\t\tquery.addCriteria(criteria);\r\n\r\n\t\tList&lt;WebSocketChatMessage&gt; msgs = mongoTemplate.find(query, WebSocketChatMessage.class);\r\n\r\n\r\n\t\treturn msgs;\r\n\t}\r\n\r\n\r\n\r\nThis seems to work.","title":"Combining two &#39;and&#39;s in Criteria Mongo Spring","body":"<pre><code>@GetMapping(&quot;/messages&quot;)\npublic List&lt;WebSocketChatMessage&gt; findChatMessages (@RequestParam String sender,\n                                                    @RequestParam String recipient) {\n    Query query = new Query();\n    Criteria criteria = new Criteria();\n    criteria.orOperator(Criteria.where(&quot;sender&quot;).is(sender).and(&quot;recipient&quot;).is(recipient), Criteria.where(&quot;recipient&quot;).is(sender).and(&quot;sender&quot;).is(recipient));\n    query.addCriteria(criteria);\n\n    List&lt;WebSocketChatMessage&gt; msgs = mongoTemplate.find(query, WebSocketChatMessage.class);\n\n\n    return msgs;\n}\n</code></pre>\n<p>This seems to work.</p>\n"}],"owner":{"account_id":10901645,"reputation":181,"user_id":8013745,"display_name":"Adam Howard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651794716,"creation_date":1651793220,"question_id":72134596,"body_markdown":"I want to create a function that checks for sender and recipient but I need to also get the recipient and sender. Sender and Recipient OR Recipient and Sender.\r\n\r\nThis is what I want to do but can&#39;t. I can&#39;t just load the messages sent by sender also need to load them sent by recipient.\r\n\r\n    public List&lt;WebSocketChatMessage&gt; findChatMessages (@RequestParam String sender,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@RequestParam String recipient) {\r\n\t\tQuery query = new Query();\r\n\t\tCriteria criteria = new Criteria();\r\n\t\tcriteria.andOperator(Criteria.where(&quot;sender&quot;).is(sender),Criteria.where(&quot;recipient&quot;).is(recipient));\r\n\t\tCriteria criteria1 = new Criteria();\r\n\t\tcriteria1.andOperator(Criteria.where(&quot;sender&quot;).is(recipient),Criteria.where(&quot;recipient&quot;).is(sender));\r\n\t\tquery.addCriteria(criteria);\r\n        query.addCriteria(criteria1);\r\n\r\n\t\tList&lt;WebSocketChatMessage&gt; msgs = mongoTemplate.find(query, WebSocketChatMessage.class);\r\n\r\n\r\n\t\treturn msgs;\r\n\t}\r\n\r\n\r\n    Document(collection = &quot;chatMsg&quot;)\r\n    public class WebSocketChatMessage{\r\n\tprivate String type;\r\n\tprivate String content;\r\n\tprivate String sender;\r\n\tprivate String chatId;\r\n\tprivate String recipient;\r\n\r\n\tpublic String getRecipient() {\r\n\t\treturn recipient;\r\n\t}\r\n\r\n\tpublic void setRecipient(String recipient) {\r\n\t\tthis.recipient = recipient;\r\n\t}\r\n\r\n\tpublic String getChatId() {\r\n\t\treturn chatId;\r\n\t}\r\n\r\n\tpublic void setChatId(String chatId) {\r\n\t\tthis.chatId = chatId;\r\n\t}\r\n\r\n\tpublic String getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic void setType(String type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\tpublic String getContent() {\r\n\t\treturn content;\r\n\t}\r\n\r\n\tpublic void setContent(String content) {\r\n\t\tthis.content = content;\r\n\t}\r\n\r\n\tpublic String getSender() {\r\n\t\treturn sender;\r\n\t}\r\n\r\n\tpublic void setSender(String sender) {\r\n\t\tthis.sender = sender;\r\n\t}\r\n}\r\n","title":"Combining two &#39;and&#39;s in Criteria Mongo Spring","body":"<p>I want to create a function that checks for sender and recipient but I need to also get the recipient and sender. Sender and Recipient OR Recipient and Sender.</p>\n<p>This is what I want to do but can't. I can't just load the messages sent by sender also need to load them sent by recipient.</p>\n<pre><code>public List&lt;WebSocketChatMessage&gt; findChatMessages (@RequestParam String sender,\n                                                    @RequestParam String recipient) {\n    Query query = new Query();\n    Criteria criteria = new Criteria();\n    criteria.andOperator(Criteria.where(&quot;sender&quot;).is(sender),Criteria.where(&quot;recipient&quot;).is(recipient));\n    Criteria criteria1 = new Criteria();\n    criteria1.andOperator(Criteria.where(&quot;sender&quot;).is(recipient),Criteria.where(&quot;recipient&quot;).is(sender));\n    query.addCriteria(criteria);\n    query.addCriteria(criteria1);\n\n    List&lt;WebSocketChatMessage&gt; msgs = mongoTemplate.find(query, WebSocketChatMessage.class);\n\n\n    return msgs;\n}\n\n\nDocument(collection = &quot;chatMsg&quot;)\npublic class WebSocketChatMessage{\nprivate String type;\nprivate String content;\nprivate String sender;\nprivate String chatId;\nprivate String recipient;\n\npublic String getRecipient() {\n    return recipient;\n}\n\npublic void setRecipient(String recipient) {\n    this.recipient = recipient;\n}\n\npublic String getChatId() {\n    return chatId;\n}\n\npublic void setChatId(String chatId) {\n    this.chatId = chatId;\n}\n\npublic String getType() {\n    return type;\n}\n\npublic void setType(String type) {\n    this.type = type;\n}\n\npublic String getContent() {\n    return content;\n}\n\npublic void setContent(String content) {\n    this.content = content;\n}\n\npublic String getSender() {\n    return sender;\n}\n\npublic void setSender(String sender) {\n    this.sender = sender;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","html","selenium","automation"],"answers":[{"tags":[],"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1408130140,"creation_date":1408129620,"answer_id":25332641,"question_id":25332591,"body_markdown":"You can use CSS for this:\r\n\r\n    driver.findElement(By.cssSelector(&quot;[data-field=&#39;carUnder20k&#39;]&quot;)).click();\r\n\r\nEdit:\r\nFor what you are describing in your comment, it may be that an xpath approach would work better:\r\n\r\n    driver.findElement(By.xpath(&quot;//div[@data-field=&#39;carUnder20k&#39; and text()=&#39;N&#39;]&quot;)).click();\r\n","title":"How to use selenium methods to choose web elements","body":"<p>You can use CSS for this:</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"[data-field='carUnder20k']\")).click();\n</code></pre>\n\n<p>Edit:\nFor what you are describing in your comment, it may be that an xpath approach would work better:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[@data-field='carUnder20k' and text()='N']\")).click();\n</code></pre>\n"}],"owner":{"account_id":3292943,"reputation":1293,"user_id":2770822,"accept_rate":74,"display_name":"mosawi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25332641,"answer_count":1,"score":0,"last_activity_date":1651794458,"creation_date":1408129427,"question_id":25332591,"body_markdown":"I am very new to selenium and I just want to know how I can select a radio button with the following html: \r\n\r\n**HTML Code:**\r\n\r\n    &lt;div ng-class={&#39;selected&#39;:profile.info.carUnder20k==false||profile.info.carUnder20k==&#39;false&#39;}&quot; ng-click=&quot;onChoice($event, &#39;carUnder20k&#39;, &#39;false&#39;);&quot; data-field=&quot;carUnder20k&quot; class=&quot;choice         selected&quot; style=&quot;&quot;&gt;N&lt;/div&gt;\r\n\r\nSorry Multiline doesn&#39;t work...\r\n\r\nI want to select this element but I don&#39;t want to use it&#39;s XPATH. Is there a way in selenium where I could choose an element by data-(anything) attribute? In this case it is data-field=&quot;carUnder20K&quot;. Or something that would be unique to this element? \r\n\r\n \r\n**Java Code:** (This is what I&#39;m doing now but using a custom framework, which works but is very unreadable.)\r\n\r\n    WebDriver driver = new FireFoxDriver();\r\n    driver.findElement(By.xpath(&quot;/html/body/div[2]/div/div/div[1]/form/div/section[1]/div[6]/div[2]/select/option[@value=&#39;0&#39;]&quot;)).click();\r\n\r\n\r\nI&#39;ve also tried: \r\n\r\n    driver.ElementByDivText(&quot;N&quot;).click();\r\n\r\n\r\nBut there is another element almost identical to this one, only the data-field here is different. So WebDriver just reclicks this other element I&#39;ve already clicked, not the new one I&#39;d like to select.\r\n\r\nAny selenium wizards out there?\r\n\r\n\r\n\r\n**EDIT:**\r\n\r\nSorry I forgot the fact that each button has it&#39;s own HTML\r\n\r\nYes Button/Radio:\r\n\r\n    &lt;div ng-class=&quot;{&#39;selected&#39;:profile.info.carUnder20k==true||profile.info.carUnder20k==&#39;true&#39;}&quot; ng-click=&quot;onChoice($event, &#39;carUnder20k&#39;, &#39;true&#39;);&quot; data-field=&quot;carUnder20k&quot; class=&quot;choice&quot; style=&quot;&quot;&gt;Y&lt;/div&gt;\r\n\r\n\r\nNo Button/Radio:\r\n\r\n    &lt;div ng-class=&quot;{&#39;selected&#39;:profile.info.carUnder20k==false||profile.info.carUnder20k==&#39;false&#39;}&quot; ng-click=&quot;onChoice($event, &#39;carUnder20k&#39;, &#39;false&#39;);&quot; data-field=&quot;carUnder20k&quot; class=&quot;choice selected&quot; style=&quot;&quot;&gt;N&lt;/div&gt;\r\n\r\n","title":"How to use selenium methods to choose web elements","body":"<p>I am very new to selenium and I just want to know how I can select a radio button with the following html: </p>\n\n<p><strong>HTML Code:</strong></p>\n\n<pre><code>&lt;div ng-class={'selected':profile.info.carUnder20k==false||profile.info.carUnder20k=='false'}\" ng-click=\"onChoice($event, 'carUnder20k', 'false');\" data-field=\"carUnder20k\" class=\"choice         selected\" style=\"\"&gt;N&lt;/div&gt;\n</code></pre>\n\n<p>Sorry Multiline doesn't work...</p>\n\n<p>I want to select this element but I don't want to use it's XPATH. Is there a way in selenium where I could choose an element by data-(anything) attribute? In this case it is data-field=\"carUnder20K\". Or something that would be unique to this element? </p>\n\n<p><strong>Java Code:</strong> (This is what I'm doing now but using a custom framework, which works but is very unreadable.)</p>\n\n<pre><code>WebDriver driver = new FireFoxDriver();\ndriver.findElement(By.xpath(\"/html/body/div[2]/div/div/div[1]/form/div/section[1]/div[6]/div[2]/select/option[@value='0']\")).click();\n</code></pre>\n\n<p>I've also tried: </p>\n\n<pre><code>driver.ElementByDivText(\"N\").click();\n</code></pre>\n\n<p>But there is another element almost identical to this one, only the data-field here is different. So WebDriver just reclicks this other element I've already clicked, not the new one I'd like to select.</p>\n\n<p>Any selenium wizards out there?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Sorry I forgot the fact that each button has it's own HTML</p>\n\n<p>Yes Button/Radio:</p>\n\n<pre><code>&lt;div ng-class=\"{'selected':profile.info.carUnder20k==true||profile.info.carUnder20k=='true'}\" ng-click=\"onChoice($event, 'carUnder20k', 'true');\" data-field=\"carUnder20k\" class=\"choice\" style=\"\"&gt;Y&lt;/div&gt;\n</code></pre>\n\n<p>No Button/Radio:</p>\n\n<pre><code>&lt;div ng-class=\"{'selected':profile.info.carUnder20k==false||profile.info.carUnder20k=='false'}\" ng-click=\"onChoice($event, 'carUnder20k', 'false');\" data-field=\"carUnder20k\" class=\"choice selected\" style=\"\"&gt;N&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","html","selenium"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532527786,"creation_date":1532527786,"answer_id":51521039,"question_id":51520824,"body_markdown":"For this line of code :  \r\n\r\n    String buttonText = driver.findElement(By.className(&quot;cp-ur-link-wrapper &quot;)).findElement(By.tagName(&quot;a&quot;)).getText();  \r\n\r\nYou can simply replace it to **linkText** :  \r\n\r\n \r\n\r\n    String buttonText = driver.findElement(By.linkText(&quot;Invited&quot;)).getText();  \r\n\r\nIn code :  \r\n\r\n    if (buttonText.equals(&quot;Invited&quot;)) {\r\n                System.out.println(&quot;Inside if else ladder&quot;)\r\n                acceptConnectionRequestByHSUser();\r\n                searchForUser(user);\r\n                communityFrame();\r\n                clickDisconnectBtn();\r\n            } else {\r\n                clickDisconnectBtn();\r\n            }","title":"Java: Unable to locate status button","body":"<p>For this line of code :  </p>\n\n<pre><code>String buttonText = driver.findElement(By.className(\"cp-ur-link-wrapper \")).findElement(By.tagName(\"a\")).getText();  \n</code></pre>\n\n<p>You can simply replace it to <strong>linkText</strong> :  </p>\n\n<pre><code>String buttonText = driver.findElement(By.linkText(\"Invited\")).getText();  \n</code></pre>\n\n<p>In code :  </p>\n\n<pre><code>if (buttonText.equals(\"Invited\")) {\n            System.out.println(\"Inside if else ladder\")\n            acceptConnectionRequestByHSUser();\n            searchForUser(user);\n            communityFrame();\n            clickDisconnectBtn();\n        } else {\n            clickDisconnectBtn();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8359997,"reputation":129,"user_id":6278738,"accept_rate":50,"display_name":"Mahesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532527978,"creation_date":1532527978,"answer_id":51521108,"question_id":51520824,"body_markdown":"Your classname should be `ur-pending ur-request-link ur-disabled-link` not `cp-ur-link-wrapper` and no need to find by tagname again.\r\n\r\nor you could also try xpath\r\n\r\n    //a[@title=&#39;Invited&#39;][@class=&#39;ur-pending ur-request-link ur-disabled-link&#39;]\r\n\r\nso your line of code would become:\r\n\r\n    String buttonText = driver.findElement(By.xpath(&quot;//a[@title=&#39;Invited&#39;][@class=&#39;ur-pending ur-request-link ur-disabled-link&#39;]&quot;)).getText();","title":"Java: Unable to locate status button","body":"<p>Your classname should be <code>ur-pending ur-request-link ur-disabled-link</code> not <code>cp-ur-link-wrapper</code> and no need to find by tagname again.</p>\n\n<p>or you could also try xpath</p>\n\n<pre><code>//a[@title='Invited'][@class='ur-pending ur-request-link ur-disabled-link']\n</code></pre>\n\n<p>so your line of code would become:</p>\n\n<pre><code>String buttonText = driver.findElement(By.xpath(\"//a[@title='Invited'][@class='ur-pending ur-request-link ur-disabled-link']\")).getText();\n</code></pre>\n"}],"owner":{"account_id":13724414,"reputation":11,"user_id":9903564,"display_name":"urlflo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1651794215,"creation_date":1532527155,"question_id":51520824,"body_markdown":"I am working on a feature file in Selenium and I am having issues trying to read the status button. If the status symbol is set to &quot;Invited,&quot; it is supposed to switch to a different admin account application and approve the invite. However, it is not doing that in this scenario. Any advice?\r\n\r\n     public void disconnectFromUser(String user) {\r\n        logger.info(&quot;Making sure that I am not connected to PurpleHS user&quot;);\r\n        iframeExit();\r\n        searchForUser(user);\r\n        communityFrame();\r\n        try {\r\n            String buttonText = driver.findElement(By.className(&quot;cp-ur-link-wrapper &quot;)).findElement(By.tagName(&quot;a&quot;)).getText();\r\n            if (buttonText.equals(&quot;Invited&quot;)) {\r\n                acceptConnectionRequestByHSUser();\r\n                searchForUser(user);\r\n                communityFrame();\r\n                clickDisconnectBtn();\r\n            } else {\r\n                clickDisconnectBtn();\r\n            }\r\n        } catch (NoSuchElementException ex) {\r\n            logger.info(&quot;The user is not a connection.&quot;);\r\n            driver.findElement(By.className(&quot;close&quot;)).click();\r\n            waitUntilPageFinishLoading();\r\n        }\r\n    }\r\n\r\nHere&#39;s some HTML:\r\n\r\n    &lt;div id=&quot;cp-ur-17417&quot; class=&quot;cp-ur-link-wrapper &quot;&gt;&lt;a href=&quot;#&quot; title=&quot;Invited&quot; class=&quot;ur-pending ur-request-link ur-disabled-link&quot;&gt;Invited&lt;/a&gt;&lt;/div&gt;","title":"Java: Unable to locate status button","body":"<p>I am working on a feature file in Selenium and I am having issues trying to read the status button. If the status symbol is set to \"Invited,\" it is supposed to switch to a different admin account application and approve the invite. However, it is not doing that in this scenario. Any advice?</p>\n\n<pre><code> public void disconnectFromUser(String user) {\n    logger.info(\"Making sure that I am not connected to PurpleHS user\");\n    iframeExit();\n    searchForUser(user);\n    communityFrame();\n    try {\n        String buttonText = driver.findElement(By.className(\"cp-ur-link-wrapper \")).findElement(By.tagName(\"a\")).getText();\n        if (buttonText.equals(\"Invited\")) {\n            acceptConnectionRequestByHSUser();\n            searchForUser(user);\n            communityFrame();\n            clickDisconnectBtn();\n        } else {\n            clickDisconnectBtn();\n        }\n    } catch (NoSuchElementException ex) {\n        logger.info(\"The user is not a connection.\");\n        driver.findElement(By.className(\"close\")).click();\n        waitUntilPageFinishLoading();\n    }\n}\n</code></pre>\n\n<p>Here's some HTML:</p>\n\n<pre><code>&lt;div id=\"cp-ur-17417\" class=\"cp-ur-link-wrapper \"&gt;&lt;a href=\"#\" title=\"Invited\" class=\"ur-pending ur-request-link ur-disabled-link\"&gt;Invited&lt;/a&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":19868059,"reputation":72,"user_id":14554871,"display_name":"sai manoj"},"score":0,"creation_date":1651042451,"post_id":72023118,"comment_id":127264754,"body_markdown":"I think hardware can be scaled. To query the data fast from the sql server. Can you just check where the 3min time is consumed. Like for fetching data how much time its taking and for creating csv what&#39;s the time it&#39;s taking.","body":"I think hardware can be scaled. To query the data fast from the sql server. Can you just check where the 3min time is consumed. Like for fetching data how much time its taking and for creating csv what&#39;s the time it&#39;s taking."},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1651210733,"post_id":72023118,"comment_id":127314357,"body_markdown":"I&#39;d suggest you to use `Spring Batch`.","body":"I&#39;d suggest you to use <code>Spring Batch</code>."},{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":0,"creation_date":1651221746,"post_id":72023118,"comment_id":127317381,"body_markdown":"You should move outputStreamWriter.close(); and csvPrinter.close(); their own finally block or declare them outside the try block.","body":"You should move outputStreamWriter.close(); and csvPrinter.close(); their own finally block or declare them outside the try block."},{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":0,"creation_date":1651221853,"post_id":72023118,"comment_id":127317413,"body_markdown":"Why writeProductExportToCsv(...) method is getting called for each and every record? The .flush() operation is expensive and might corrupt your file accidentally if you call it for every record.","body":"Why writeProductExportToCsv(...) method is getting called for each and every record? The .flush() operation is expensive and might corrupt your file accidentally if you call it for every record."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1651690799,"post_id":72023118,"comment_id":127425767,"body_markdown":"What DB engine are you using? Most of them _have_ an SQL export feature. Multi-core probably hurts more than it helps unless you prepare the database structure first.","body":"What DB engine are you using? Most of them <i>have</i> an SQL export feature. Multi-core probably hurts more than it helps unless you prepare the database structure first."},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1651695827,"post_id":72023118,"comment_id":127427367,"body_markdown":"hi @rzwitserloot we are using Snowflake https://docs.snowflake.com/en/user-guide/jdbc.html","body":"hi @rzwitserloot we are using Snowflake <a href=\"https://docs.snowflake.com/en/user-guide/jdbc.html\" rel=\"nofollow noreferrer\">docs.snowflake.com/en/user-guide/jdbc.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1532393,"reputation":99,"user_id":1429285,"display_name":"Jozef Dropčo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651213858,"creation_date":1651213858,"answer_id":72053670,"question_id":72023118,"body_markdown":"There is product which we bought some time ago for our company, we got even the source code back then. [https://northconcepts.com/][1] We were also evaluating Apache Camel which had similar support but it didnt suite our goal. If you really need speed you should go to lowest level possible - pure JDBC and as simple as possible csv writer.\r\n\r\nNortconcepts library itself provides capability to read from jdbc and write to CSV on lower level. We found few tweaks which have sped up the transmission and processing. With single thread we are able to stream 100 000 records (with 400 columns) within 1-2 minutes. \r\n\r\n\r\n  [1]: https://northconcepts.com/","title":"Java Stream a Large SQL Query into API CSV File","body":"<p>There is product which we bought some time ago for our company, we got even the source code back then. <a href=\"https://northconcepts.com/\" rel=\"nofollow noreferrer\">https://northconcepts.com/</a> We were also evaluating Apache Camel which had similar support but it didnt suite our goal. If you really need speed you should go to lowest level possible - pure JDBC and as simple as possible csv writer.</p>\n<p>Nortconcepts library itself provides capability to read from jdbc and write to CSV on lower level. We found few tweaks which have sped up the transmission and processing. With single thread we are able to stream 100 000 records (with 400 columns) within 1-2 minutes.</p>\n"},{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651787330,"creation_date":1651786280,"answer_id":72133867,"question_id":72023118,"body_markdown":"Given that you didn&#39;t specify which database you use I can give you only generic answers.\r\n\r\nIn general code like this is network limited, as JDBC resultset is usually transferred in &quot;only n rows&quot; packages, and when you exhaust one, only then database triggers fetching of next packet. This property is often called fetch-size, and you should greatly increase it. By default settings, most of databases transfer 10-100 rows in one fetch. In spring you can use setFetchSize property. Some benchmarks [here][1].\r\n\r\nThere are other similar low level stuff which you could do. For example, Oracle jdbc driver has &quot;InsensitiveResultSetBufferSize&quot; - how big in bytes is a buffer which holds result set. But dose things tend to be database specific.\r\n\r\nThus being said, the best way to really increase speed of your transfer is to actually launch multiple queries. Divide your data on some column value, and than launch multiple parallel queries. Essentially, if you can design data to support parallel queries working on easily distinguished subsets, bottleneck can be transferred to a network or CPU throughput.\r\n\r\nFor example one of your columns might be &#39;timestamp&#39;. Instead having one query to fetch all rows, fetch multiple subset of rows with query like this:\r\n\r\n    SELECT * FROM  dbo.Product \r\n     WHERE CUSTOMERID = :customerId\r\n       AND PRACTICEID = :practiceId\r\n       AND :lowerLimit &lt;= timestamp AND timestamp &lt; :upperLimit\r\n\r\nLaunch this query in parallel with different timestamp ranges. Aggregate result of those subqueries in shared ConcurrentLinkedQueue and build CSV there.\r\n\r\nWith similar approach I regularly read 100000 rows/sec on 80 column table from Oracle DB. That is 40-60 MB/sec sustained transfer rate from a table which is not even locked.\r\n\r\n\r\n  [1]: http://makejavafaster.blogspot.com/2015/06/jdbc-fetch-size-performance.html","title":"Java Stream a Large SQL Query into API CSV File","body":"<p>Given that you didn't specify which database you use I can give you only generic answers.</p>\n<p>In general code like this is network limited, as JDBC resultset is usually transferred in &quot;only n rows&quot; packages, and when you exhaust one, only then database triggers fetching of next packet. This property is often called fetch-size, and you should greatly increase it. By default settings, most of databases transfer 10-100 rows in one fetch. In spring you can use setFetchSize property. Some benchmarks <a href=\"http://makejavafaster.blogspot.com/2015/06/jdbc-fetch-size-performance.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>There are other similar low level stuff which you could do. For example, Oracle jdbc driver has &quot;InsensitiveResultSetBufferSize&quot; - how big in bytes is a buffer which holds result set. But dose things tend to be database specific.</p>\n<p>Thus being said, the best way to really increase speed of your transfer is to actually launch multiple queries. Divide your data on some column value, and than launch multiple parallel queries. Essentially, if you can design data to support parallel queries working on easily distinguished subsets, bottleneck can be transferred to a network or CPU throughput.</p>\n<p>For example one of your columns might be 'timestamp'. Instead having one query to fetch all rows, fetch multiple subset of rows with query like this:</p>\n<pre><code>SELECT * FROM  dbo.Product \n WHERE CUSTOMERID = :customerId\n   AND PRACTICEID = :practiceId\n   AND :lowerLimit &lt;= timestamp AND timestamp &lt; :upperLimit\n</code></pre>\n<p>Launch this query in parallel with different timestamp ranges. Aggregate result of those subqueries in shared ConcurrentLinkedQueue and build CSV there.</p>\n<p>With similar approach I regularly read 100000 rows/sec on 80 column table from Oracle DB. That is 40-60 MB/sec sustained transfer rate from a table which is not even locked.</p>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651793470,"creation_date":1651793470,"answer_id":72134619,"question_id":72023118,"body_markdown":"***Streaming*** allows you to transfer the data, little by little, without having to load it all into the server’s memory. You can do your operations by using the `extractData()` method in `ResultSetExtractor`. You can find javadoc about `ResultSetExtractor` [here](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/ResultSetExtractor.html). \r\n\r\nYou can view an example using `ResultSetExtractor` [here](https://www.tutorialspoint.com/springjdbc/springjdbc_resultsetextractor.htm).\r\n\r\nYou can also easily create your `JPA` queries as `ResultSet` using `JdbcTemplate`. You can take a look at an example [here](https://www.netjstech.com/2018/03/jdbctemplate-with-resultsetextractor-example-spring.html). to use `ResultSetExtractor`.","title":"Java Stream a Large SQL Query into API CSV File","body":"<p><em><strong>Streaming</strong></em> allows you to transfer the data, little by little, without having to load it all into the server’s memory. You can do your operations by using the <code>extractData()</code> method in <code>ResultSetExtractor</code>. You can find javadoc about <code>ResultSetExtractor</code> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/ResultSetExtractor.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can view an example using <code>ResultSetExtractor</code> <a href=\"https://www.tutorialspoint.com/springjdbc/springjdbc_resultsetextractor.htm\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can also easily create your <code>JPA</code> queries as <code>ResultSet</code> using <code>JdbcTemplate</code>. You can take a look at an example <a href=\"https://www.netjstech.com/2018/03/jdbctemplate-with-resultsetextractor-example-spring.html\" rel=\"nofollow noreferrer\">here</a>. to use <code>ResultSetExtractor</code>.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1857,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72134619,"answer_count":3,"score":-1,"last_activity_date":1651793470,"creation_date":1651032132,"question_id":72023118,"body_markdown":"I am writing a Service that obtains data from large sql query in database (over 100,000 records) and streams into an API CSV File. Is there any java library function that does it, or any way to make the code below more efficient? Currently using Java 8 in Spring boot environment. \r\n\r\nCode is below with sql repository method, and service for csv. Preferably trying to write to csv file, while data is being fetched from sql concurrently as query make take 2-3 min for user .\r\n\r\nWe are using Snowflake DB.\r\n\r\n    public class ProductService {\r\n    \r\n        private final ProductRepository productRepository;\r\n        private final ExecutorService executorService;\r\n    \r\n        public ProductService(ProductRepository productRepository) {\r\n            this.productRepository = productRepository;\r\n            this.executorService = Executors.newFixedThreadPool(20);\r\n        }\r\n    \r\n        public InputStream getproductExportFile(productExportFilters filters) throws IOException {\r\n            PipedInputStream is = new PipedInputStream();\r\n            PipedOutputStream os = new PipedOutputStream(is);\r\n            executorService.execute(() -&gt; {\r\n                try {\r\n                    Stream&lt;productExport&gt; productStream = productRepository.getproductExportStream(filters);\r\n    \r\n                    Field[] fields = Stream.of(productExport.class.getDeclaredFields())\r\n                            .peek(f -&gt; f.setAccessible(true))\r\n                            .toArray(Field[]::new);\r\n                    String[] headers = Stream.of(fields)\r\n                            .map(Field::getName).toArray(String[]::new);\r\n                    CSVFormat csvFormat = CSVFormat.DEFAULT.builder()\r\n                            .setHeader(headers)\r\n                            .build();\r\n    \r\n                    OutputStreamWriter outputStreamWriter = new OutputStreamWriter(os);\r\n                    CSVPrinter csvPrinter = new CSVPrinter(outputStreamWriter, csvFormat);\r\n                    productStream.forEach(productExport -&gt; writeproductExportToCsv(productExport, csvPrinter, fields));\r\n    \r\n                    outputStreamWriter.close();\r\n                    csvPrinter.close();\r\n                } catch (Exception e) {\r\n                    logger.warn(&quot;Unable to complete writing to csv stream.&quot;, e);\r\n                } finally {\r\n                    try {\r\n                        os.close();\r\n                    } catch (IOException ignored) { }\r\n                }\r\n            });\r\n            return is;\r\n        }\r\n    \r\n        private void writeProductExportToCsv(productExport productExport, CSVPrinter csvPrinter, Field[] fields) {\r\n            Object[] values = Stream.of(fields).\r\n                    map(f -&gt; {\r\n                        try {\r\n                            return f.get(productExport);\r\n                        } catch (IllegalAccessException e) {\r\n                            return null;\r\n                        }\r\n                    })\r\n                    .toArray();\r\n            try {\r\n                csvPrinter.printRecord(values);\r\n                csvPrinter.flush();\r\n            } catch (IOException e) {\r\n                logger.warn(&quot;Unable to write record to file.&quot;, e);\r\n            }\r\n        }\r\n\r\n    public Stream&lt;PatientExport&gt; getProductExportStream(ProductExportFilters filters) {\r\n        MapSqlParameterSource parameterSource = new MapSqlParameterSource();\r\n        parameterSource.addValue(&quot;customerId&quot;, filters.getCustomerId().toString());\r\n        parameterSource.addValue(&quot;practiceId&quot;, filters.getPracticeId().toString());\r\n\r\n        StringBuilder sqlQuery = new StringBuilder(&quot;SELECT * FROM  dbo.Product &quot;);\r\n        sqlQuery.append(&quot;\\nWHERE CUSTOMERID = :customerId\\n&quot; +\r\n                        &quot;AND PRACTICEID = :practiceId\\n&quot;\r\n        );","title":"Java Stream a Large SQL Query into API CSV File","body":"<p>I am writing a Service that obtains data from large sql query in database (over 100,000 records) and streams into an API CSV File. Is there any java library function that does it, or any way to make the code below more efficient? Currently using Java 8 in Spring boot environment.</p>\n<p>Code is below with sql repository method, and service for csv. Preferably trying to write to csv file, while data is being fetched from sql concurrently as query make take 2-3 min for user .</p>\n<p>We are using Snowflake DB.</p>\n<pre><code>public class ProductService {\n\n    private final ProductRepository productRepository;\n    private final ExecutorService executorService;\n\n    public ProductService(ProductRepository productRepository) {\n        this.productRepository = productRepository;\n        this.executorService = Executors.newFixedThreadPool(20);\n    }\n\n    public InputStream getproductExportFile(productExportFilters filters) throws IOException {\n        PipedInputStream is = new PipedInputStream();\n        PipedOutputStream os = new PipedOutputStream(is);\n        executorService.execute(() -&gt; {\n            try {\n                Stream&lt;productExport&gt; productStream = productRepository.getproductExportStream(filters);\n\n                Field[] fields = Stream.of(productExport.class.getDeclaredFields())\n                        .peek(f -&gt; f.setAccessible(true))\n                        .toArray(Field[]::new);\n                String[] headers = Stream.of(fields)\n                        .map(Field::getName).toArray(String[]::new);\n                CSVFormat csvFormat = CSVFormat.DEFAULT.builder()\n                        .setHeader(headers)\n                        .build();\n\n                OutputStreamWriter outputStreamWriter = new OutputStreamWriter(os);\n                CSVPrinter csvPrinter = new CSVPrinter(outputStreamWriter, csvFormat);\n                productStream.forEach(productExport -&gt; writeproductExportToCsv(productExport, csvPrinter, fields));\n\n                outputStreamWriter.close();\n                csvPrinter.close();\n            } catch (Exception e) {\n                logger.warn(&quot;Unable to complete writing to csv stream.&quot;, e);\n            } finally {\n                try {\n                    os.close();\n                } catch (IOException ignored) { }\n            }\n        });\n        return is;\n    }\n\n    private void writeProductExportToCsv(productExport productExport, CSVPrinter csvPrinter, Field[] fields) {\n        Object[] values = Stream.of(fields).\n                map(f -&gt; {\n                    try {\n                        return f.get(productExport);\n                    } catch (IllegalAccessException e) {\n                        return null;\n                    }\n                })\n                .toArray();\n        try {\n            csvPrinter.printRecord(values);\n            csvPrinter.flush();\n        } catch (IOException e) {\n            logger.warn(&quot;Unable to write record to file.&quot;, e);\n        }\n    }\n\npublic Stream&lt;PatientExport&gt; getProductExportStream(ProductExportFilters filters) {\n    MapSqlParameterSource parameterSource = new MapSqlParameterSource();\n    parameterSource.addValue(&quot;customerId&quot;, filters.getCustomerId().toString());\n    parameterSource.addValue(&quot;practiceId&quot;, filters.getPracticeId().toString());\n\n    StringBuilder sqlQuery = new StringBuilder(&quot;SELECT * FROM  dbo.Product &quot;);\n    sqlQuery.append(&quot;\\nWHERE CUSTOMERID = :customerId\\n&quot; +\n                    &quot;AND PRACTICEID = :practiceId\\n&quot;\n    );\n</code></pre>\n"},{"tags":["java","ontology","protege","swrl"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1649171110,"post_id":71752904,"comment_id":126805411,"body_markdown":"assign more memory to Protege I&#39;d say","body":"assign more memory to Protege I&#39;d say"},{"owner":{"account_id":24649132,"reputation":1,"user_id":18546438,"display_name":"Mahir Israyılov"},"score":0,"creation_date":1649243641,"post_id":71752904,"comment_id":126825171,"body_markdown":"@UninformedUser How can I do it?","body":"@UninformedUser How can I do it?"}],"answers":[{"tags":[],"owner":{"account_id":15186800,"reputation":1,"user_id":10958544,"display_name":"Vikram Pandey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651791386,"creation_date":1651789480,"answer_id":72134229,"question_id":71752904,"body_markdown":"Assigning more memory could be a solution. If you are using a windows machine:\r\n\r\nSteps:\r\n1. Open the run.sh file in choice of text editor.\r\n2. Try increasing the value associated with -Xmx (Describes the initial memory that will be allocated).\r\n\r\nFor more details check the &quot;Start Protege from the command line&quot; section on this link: https://protegewiki.stanford.edu/wiki/Setting_Heap_Size\r\n\r\nHope this helps!","title":"SWRL Rules in Protege 5.5.0","body":"<p>Assigning more memory could be a solution. If you are using a windows machine:</p>\n<p>Steps:</p>\n<ol>\n<li>Open the run.sh file in choice of text editor.</li>\n<li>Try increasing the value associated with -Xmx (Describes the initial memory that will be allocated).</li>\n</ol>\n<p>For more details check the &quot;Start Protege from the command line&quot; section on this link: <a href=\"https://protegewiki.stanford.edu/wiki/Setting_Heap_Size\" rel=\"nofollow noreferrer\">https://protegewiki.stanford.edu/wiki/Setting_Heap_Size</a></p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":24649132,"reputation":1,"user_id":18546438,"display_name":"Mahir Israyılov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651791386,"creation_date":1649166334,"question_id":71752904,"body_markdown":"I have 2 Classes(Agent and Penalty). Also, I have hasPoint(Penalty) and hasWeight(Agent) data properties. When I write this SWRL Rule, I got an error:\r\n\r\n**Agent(?a) ^ hasWeight(?a,?x) ^ Penalty(?p) ^ hasPoint(?p,?y) ^ swrlb:add(?z,?x,?y) -&gt; hasWeight(?a,?z)**\r\n\r\nAfter this rule, my Reasoner doesn&#39;t work. But if I write like this, it works: \r\n\r\n**Agent(?a) ^ hasWeight(?a,100) ^ Penalty(?p) ^ hasPoint(?p,200) ^ swrlb:add(?z,100,200) -&gt; hasWeight(?a,?z)**\r\n\r\nBut I have created some instances. I don&#39;t need to put values manually. I want to add automatically. How can I solve it?\r\n\r\n\r\nERROR  15:36:25  An error occurred during reasoning: GC overhead limit exceeded.\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n  \r\nWARN  15:36:43  Protege terminated reasoner.  \r\n\r\nERROR  15:36:43  Internal reasoner error: {}\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\r\nERROR  15:37:28  Uncaught Exception in thread &#39;AWT-EventQueue-0&#39;\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\r\nERROR  15:37:32  Uncaught Exception in thread &#39;AWT-EventQueue-0&#39;\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\r\n","title":"SWRL Rules in Protege 5.5.0","body":"<p>I have 2 Classes(Agent and Penalty). Also, I have hasPoint(Penalty) and hasWeight(Agent) data properties. When I write this SWRL Rule, I got an error:</p>\n<p><strong>Agent(?a) ^ hasWeight(?a,?x) ^ Penalty(?p) ^ hasPoint(?p,?y) ^ swrlb:add(?z,?x,?y) -&gt; hasWeight(?a,?z)</strong></p>\n<p>After this rule, my Reasoner doesn't work. But if I write like this, it works:</p>\n<p><strong>Agent(?a) ^ hasWeight(?a,100) ^ Penalty(?p) ^ hasPoint(?p,200) ^ swrlb:add(?z,100,200) -&gt; hasWeight(?a,?z)</strong></p>\n<p>But I have created some instances. I don't need to put values manually. I want to add automatically. How can I solve it?</p>\n<p>ERROR  15:36:25  An error occurred during reasoning: GC overhead limit exceeded.\njava.lang.OutOfMemoryError: GC overhead limit exceeded</p>\n<p>WARN  15:36:43  Protege terminated reasoner.</p>\n<p>ERROR  15:36:43  Internal reasoner error: {}\njava.lang.OutOfMemoryError: GC overhead limit exceeded</p>\n<p>ERROR  15:37:28  Uncaught Exception in thread 'AWT-EventQueue-0'\njava.lang.OutOfMemoryError: GC overhead limit exceeded</p>\n<p>ERROR  15:37:32  Uncaught Exception in thread 'AWT-EventQueue-0'\njava.lang.OutOfMemoryError: GC overhead limit exceeded</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1651791086,"post_id":72134370,"comment_id":127453984,"body_markdown":"No. There is no way to achieve what you want using Java generics. This is a consequence of the way generics were implemented in Java. Specifically, type erasure.","body":"No. There is no way to achieve what you want using Java generics. This is a consequence of the way generics were implemented in Java. Specifically, type erasure."}],"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1651797028,"answer_count":0,"score":1,"last_activity_date":1651790891,"creation_date":1651790891,"question_id":72134370,"body_markdown":"At least in Java, I don&#39;t know if there is a way to be able to do this but, I am trying to find a no-args solution for being able to pass around a class type of an unknown generic value.\r\n\r\n```\r\nclass MyClass&lt;T&gt; {\r\n   // Trying to find something like this...\r\n   Class&lt;T&gt; classValue = T.class;\r\n   Class&lt;T&gt; classValue = new Class&lt;T&gt;();\r\n\r\n   // Trying to avoid this, I desire a no-args constructor solution\r\n   MyClass(Class&lt;T&gt; classValue) { this.classValue = classValue }\r\n}\r\n```","title":"Java - Is there a way to declare a generic class type?","body":"<p>At least in Java, I don't know if there is a way to be able to do this but, I am trying to find a no-args solution for being able to pass around a class type of an unknown generic value.</p>\n<pre><code>class MyClass&lt;T&gt; {\n   // Trying to find something like this...\n   Class&lt;T&gt; classValue = T.class;\n   Class&lt;T&gt; classValue = new Class&lt;T&gt;();\n\n   // Trying to avoid this, I desire a no-args constructor solution\n   MyClass(Class&lt;T&gt; classValue) { this.classValue = classValue }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","dataflow"],"answers":[{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651790822,"creation_date":1651790822,"answer_id":72134366,"question_id":72123935,"body_markdown":"The template simply captures the pipeline definition to run it at a later date; it does not actually re-execute the code (including anything that follows waitUntilFinish). To move the file you would have to either incorporate it as part of the pipeline itself (e.g. using a [Wait Transform][1] followed by a ParDo that does the action) or embed this into a larger orchestration system like airflow.\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/transforms/Wait.html","title":"How to do post-processing task in dataflow ? Post-processing means after execution of pipeline","body":"<p>The template simply captures the pipeline definition to run it at a later date; it does not actually re-execute the code (including anything that follows waitUntilFinish). To move the file you would have to either incorporate it as part of the pipeline itself (e.g. using a <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/transforms/Wait.html\" rel=\"nofollow noreferrer\">Wait Transform</a> followed by a ParDo that does the action) or embed this into a larger orchestration system like airflow.</p>\n"}],"owner":{"account_id":15286502,"reputation":9,"user_id":11029385,"display_name":"Naman Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72134366,"answer_count":1,"score":0,"last_activity_date":1651790822,"creation_date":1651738131,"question_id":72123935,"body_markdown":"I&#39;m working on a dataflow with apache beam and I&#39;m reading input files from the GCS bucket. I want to do some tasks after the pipeline execution like moving the input file into some other GCS location.\r\n\r\nI have written the below code which is working fine from my local system but when I create a template and deploy it then It&#39;s not working.\r\n\r\n     PipelineResult result = p.run();\r\n\r\n        try {\r\n            result.getState();\r\n            result.waitUntilFinish(); \r\n            if (result.getState().equals(PipelineResult.State.DONE)) {\r\n                // do some post processing task like I want to move input file.\r\n                // From one location to other location.\r\n            }\r\n\r\n        } catch (UnsupportedOperationException e) {\r\n            // do nothing\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }","title":"How to do post-processing task in dataflow ? Post-processing means after execution of pipeline","body":"<p>I'm working on a dataflow with apache beam and I'm reading input files from the GCS bucket. I want to do some tasks after the pipeline execution like moving the input file into some other GCS location.</p>\n<p>I have written the below code which is working fine from my local system but when I create a template and deploy it then It's not working.</p>\n<pre><code> PipelineResult result = p.run();\n\n    try {\n        result.getState();\n        result.waitUntilFinish(); \n        if (result.getState().equals(PipelineResult.State.DONE)) {\n            // do some post processing task like I want to move input file.\n            // From one location to other location.\n        }\n\n    } catch (UnsupportedOperationException e) {\n        // do nothing\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651822454,"post_id":72134267,"comment_id":127459420,"body_markdown":"Are you sure that the document still exists?","body":"Are you sure that the document still exists?"},{"owner":{"account_id":25209529,"reputation":1,"user_id":19047383,"display_name":"chernet"},"score":0,"creation_date":1652036649,"post_id":72134267,"comment_id":127503191,"body_markdown":"Yes it exists but it seems there is a problem while loading it","body":"Yes it exists but it seems there is a problem while loading it"}],"owner":{"account_id":25209529,"reputation":1,"user_id":19047383,"display_name":"chernet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651790782,"creation_date":1651789927,"question_id":72134267,"body_markdown":"Firestore error\r\n\r\n![1]\r\n\r\nHere is part of the code that i have used\r\n```\r\nprivate void registerUser(String textFullName, String textEmail, String textDoB, String textGender, String textMoblie, String textPwd) {\r\n       \r\nFirebaseAuth auth = FirebaseAuth.getInstance();\r\n       \r\nFirebaseFirestore fstore = FirebaseFirestore.getInstance();       \r\n \r\nauth.createUserWithEmailAndPassword(textEmail, textPwd).addOnCompleteListener(RegisterActivity.this, new OnCompleteListener&lt;AuthResult&gt;()  {\r\n   @Override\r\n   public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n     if (task.isSuccessful()){\r\n\r\n         FirebaseUser firebaseUser = auth.getCurrentUser();\r\n         DocumentReference df = fstore.collection(&quot;Users&quot;).document(firebaseUser.getUid());\r\n         Map&lt;String,Object&gt; userInfo = new HashMap&lt;&gt;();\r\n         userInfo.put(&quot;FullName&quot;,editTextRegisterFullName.getText().toString());\r\n         userInfo.put(&quot;UserEmail&quot;,editTextRegisterEmail.getText().toString());\r\n         userInfo.put(&quot;PhoneNumber&quot;,editTextRegisterMoblie.getText().toString());\r\n         // Specify if the user is admin\r\n         userInfo.put(&quot;isUser, &quot;1&quot;);\r\n         df.set(userInfo);\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/KWAAh.png","title":"I was trying to add some data to firebase firestore but it kept on replying with error loading document","body":"<p>Firestore error</p>\n<p><img src=\"https://i.stack.imgur.com/KWAAh.png\" alt=\"1\" /></p>\n<p>Here is part of the code that i have used</p>\n<pre><code>private void registerUser(String textFullName, String textEmail, String textDoB, String textGender, String textMoblie, String textPwd) {\n       \nFirebaseAuth auth = FirebaseAuth.getInstance();\n       \nFirebaseFirestore fstore = FirebaseFirestore.getInstance();       \n \nauth.createUserWithEmailAndPassword(textEmail, textPwd).addOnCompleteListener(RegisterActivity.this, new OnCompleteListener&lt;AuthResult&gt;()  {\n   @Override\n   public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n     if (task.isSuccessful()){\n\n         FirebaseUser firebaseUser = auth.getCurrentUser();\n         DocumentReference df = fstore.collection(&quot;Users&quot;).document(firebaseUser.getUid());\n         Map&lt;String,Object&gt; userInfo = new HashMap&lt;&gt;();\n         userInfo.put(&quot;FullName&quot;,editTextRegisterFullName.getText().toString());\n         userInfo.put(&quot;UserEmail&quot;,editTextRegisterEmail.getText().toString());\n         userInfo.put(&quot;PhoneNumber&quot;,editTextRegisterMoblie.getText().toString());\n         // Specify if the user is admin\n         userInfo.put(&quot;isUser, &quot;1&quot;);\n         df.set(userInfo);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1651734535,"post_id":72122550,"comment_id":127434468,"body_markdown":"The most likely explanation is that your benchmark is flawed.  See [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103).  But either way, we can only explain what is going on if we can see (and run) the benchmark.  So a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) is required.","body":"The most likely explanation is that your benchmark is flawed.  See <a href=\"https://stackoverflow.com/questions/504103\">How do I write a correct micro-benchmark in Java?</a>.  But either way, we can only explain what is going on if we can see (and run) the benchmark.  So a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is required."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1651734711,"post_id":72122550,"comment_id":127434534,"body_markdown":"It may also be that one or more of the alternatives is incorrect code.  A benchmark that measures incorrect code is ... not helpful.  Write some unit tests or something to ensure that the implementation is correct before trying to benchmark it.  (Optimizing broken code is a waste of time ...)","body":"It may also be that one or more of the alternatives is incorrect code.  A benchmark that measures incorrect code is ... not helpful.  Write some unit tests or something to ensure that the implementation is correct before trying to benchmark it.  (Optimizing broken code is a waste of time ...)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1651735059,"post_id":72122550,"comment_id":127434642,"body_markdown":"Exactly. There is no point whatsoever in comparing execution times of incorrect code. You can get the wrong answer in zero time.","body":"Exactly. There is no point whatsoever in comparing execution times of incorrect code. You can get the wrong answer in zero time."},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1651735422,"post_id":72122550,"comment_id":127434758,"body_markdown":"@StephenC Full code added","body":"@StephenC Full code added"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651790388,"post_id":72122550,"comment_id":127453845,"body_markdown":"This is not full code.  Classes are missing.  (I was going to run the code for myself to validate your results ...)","body":"This is not full code.  Classes are missing.  (I was going to run the code for myself to validate your results ...)"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651734702,"creation_date":1651734103,"answer_id":72123127,"question_id":72122550,"body_markdown":"I am going to assume you have a linked list, and this is the append method.\r\n\r\nA linked list has a `tail` it is the last element in the list. The following two lines create a new node and put it on the end of the tail.\r\n\r\n    Node newNode = new Node(csq);\r\n    tail.next = newNode;// 1!\r\n\r\nOnce you&#39;ve done that, `tail` is no longer the end of the list, your new node is. So you need to re-assign tail.\r\n\r\n    tail = newNode;// 2!\r\n   \r\nSo hopefully that helps understand how the list works. Each element points to the &quot;next&quot; element until you get to the tail.\r\n\r\nNow look at what happens when you change the code.\r\n\r\nWhen you comment out both 1 &amp; 2, then appending doesn&#39;t add anything to your list. There are no changes to `tail` or to `next` so you just create a node and forget about it. The `charCount` increases, so your list is effectively broken.\r\n\r\nIf you comment only line 1 then your list doesn&#39;t grow you just keep re-assigning the tail to the new character sequence. Your list is broken after this because the previous tail is not linked to the current node. \r\n\r\nIf you comment line 2 then your list doesn&#39;t grow, you just keep re-assigning the `tail.next` value to the new character sequence. This just replaces the last element of the list, but the `charCount` will be wrong.\r\n\r\nIf you swap the order of 1 and 2 then your list doesn&#39;t grow because you&#39;re replacing the tail with a new node and making `tail.next` the same node. I am surprised it doesn&#39;t cause an infinite loop. \r\n\r\n","title":"Why the performance for these java codes has so big difference?","body":"<p>I am going to assume you have a linked list, and this is the append method.</p>\n<p>A linked list has a <code>tail</code> it is the last element in the list. The following two lines create a new node and put it on the end of the tail.</p>\n<pre><code>Node newNode = new Node(csq);\ntail.next = newNode;// 1!\n</code></pre>\n<p>Once you've done that, <code>tail</code> is no longer the end of the list, your new node is. So you need to re-assign tail.</p>\n<pre><code>tail = newNode;// 2!\n</code></pre>\n<p>So hopefully that helps understand how the list works. Each element points to the &quot;next&quot; element until you get to the tail.</p>\n<p>Now look at what happens when you change the code.</p>\n<p>When you comment out both 1 &amp; 2, then appending doesn't add anything to your list. There are no changes to <code>tail</code> or to <code>next</code> so you just create a node and forget about it. The <code>charCount</code> increases, so your list is effectively broken.</p>\n<p>If you comment only line 1 then your list doesn't grow you just keep re-assigning the tail to the new character sequence. Your list is broken after this because the previous tail is not linked to the current node.</p>\n<p>If you comment line 2 then your list doesn't grow, you just keep re-assigning the <code>tail.next</code> value to the new character sequence. This just replaces the last element of the list, but the <code>charCount</code> will be wrong.</p>\n<p>If you swap the order of 1 and 2 then your list doesn't grow because you're replacing the tail with a new node and making <code>tail.next</code> the same node. I am surprised it doesn't cause an infinite loop.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651790025,"creation_date":1651735963,"answer_id":72123485,"question_id":72122550,"body_markdown":"OK.  You have both of the problems mentioned in the comments.  \r\n\r\n1) The code you are benchmarking is incorrect (in 3 out of 4 cases).  \r\n\r\n2) Your benchmarking technique is flawed.  Please read https://stackoverflow.com/questions/504103.\r\n\r\nI suspect that the actual difference in performance can be attributed to garbage collection.  In one case you are building a well-formed linked list with 10,000,000 entries.  In the other cases the list is broken and is effectively only one element long.\r\n\r\nWhen the GC runs, it will attempt to find all reachable `Node` objects by traversing the list, and then copy them all to another &quot;space&quot;.  In the broken case, the traversal and copying takes minimal time.  In the non-broken case, it has to traverse and copy (up to) 10,000,000 `Node` objects, possibly more than once (depending on what the heap size is).\r\n\r\nIn fact, it is plausible that the 8ms case the JIT compiler has optimized away the creation of the `Node` objects!","title":"Why the performance for these java codes has so big difference?","body":"<p>OK.  You have both of the problems mentioned in the comments.</p>\n<ol>\n<li><p>The code you are benchmarking is incorrect (in 3 out of 4 cases).</p>\n</li>\n<li><p>Your benchmarking technique is flawed.  Please read <a href=\"https://stackoverflow.com/questions/504103\">How do I write a correct micro-benchmark in Java?</a>.</p>\n</li>\n</ol>\n<p>I suspect that the actual difference in performance can be attributed to garbage collection.  In one case you are building a well-formed linked list with 10,000,000 entries.  In the other cases the list is broken and is effectively only one element long.</p>\n<p>When the GC runs, it will attempt to find all reachable <code>Node</code> objects by traversing the list, and then copy them all to another &quot;space&quot;.  In the broken case, the traversal and copying takes minimal time.  In the non-broken case, it has to traverse and copy (up to) 10,000,000 <code>Node</code> objects, possibly more than once (depending on what the heap size is).</p>\n<p>In fact, it is plausible that the 8ms case the JIT compiler has optimized away the creation of the <code>Node</code> objects!</p>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1651765531,"answer_count":2,"score":1,"last_activity_date":1651790025,"creation_date":1651730296,"question_id":72122550,"body_markdown":"See this code:\r\n\r\n    private final Node head = new Node(&quot;&quot;);\r\n    private Node tail = head;\r\n\r\n    private Appendable append0(CharSequence csq) {\r\n        charCount += csq.length();\r\n        Node newNode = new Node(csq);\r\n        tail.next = newNode;// 1!\r\n        tail = newNode;// 2!\r\n        return this;\r\n    }\r\n\r\nIn performance test, this code cost: `3055` ms\r\n\r\nIf I comment `1` and `2`:\r\n\r\n        Node newNode = new Node(csq);\r\n        //tail.next = newNode;// 1!\r\n        //tail = newNode;// 2!\r\n\r\nIt cost: `8` ms\r\n\r\nIf I comment `1`:\r\n\r\n        Node newNode = new Node(csq);\r\n        //tail.next = newNode;// 1!\r\n        tail = newNode;// 2!\r\n\r\nIt cost: `138` ms\r\n\r\nIf I comment `2`:\r\n\r\n        Node newNode = new Node(csq);\r\n        tail.next = newNode;// 1!\r\n        //tail = newNode;// 2!\r\n\r\nIt cost: `143` ms\r\n\r\nIf I swap `1` and `2`:\r\n\r\n        Node newNode = new Node(csq);\r\n        tail = newNode;// 2!\r\n        tail.next = newNode;// 1!\r\n\r\nIt cost: `136` ms\r\n\r\n**3055 vs 140 ?????**\r\n\r\n**Why the performances so big different????**\r\n\r\nHere is the full code:\r\n\r\n    public class CharsAppender implements Appendable {\r\n\r\n    private int charCount = 0;\r\n    private final Node head = new Node(&quot;&quot;);\r\n    private Node tail = head;\r\n\r\n    @Override\r\n    public Appendable append(CharSequence csq) {\r\n        return append0(csq);\r\n    }\r\n\r\n    @Override\r\n    public Appendable append(CharSequence csq, int start, int end) {\r\n        CharSequence chars = csq == null ? BDefault.nullString() : csq;\r\n        return append0(BString.subRef(chars, start, end));\r\n    }\r\n\r\n    @Override\r\n    public Appendable append(char c) {\r\n        return append0(Character.toString(c));\r\n    }\r\n\r\n    private Appendable append0(CharSequence csq) {\r\n        charCount += csq.length();\r\n        Node newNode = new Node(csq);\r\n        tail.next = newNode;\r\n        tail = newNode;\r\n        return this;\r\n    }\r\n\r\n    private static class Node {\r\n\r\n        private final CharSequence value;\r\n        private Node next;\r\n\r\n        private Node(CharSequence value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public CharSequence getValue() {\r\n            return value;\r\n        }\r\n\r\n        public Node getNext() {\r\n            return next;\r\n        }\r\n\r\n        public void setNext(Node next) {\r\n            this.next = next;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int times = 10000000;\r\n        String message = &quot;fasasgadfgdfgfd923fr&quot;;\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        long s1 = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; times; i++) {\r\n            sb.append(message);\r\n        }\r\n        System.out.println(&quot;StringBuilder cost: &quot; + (System.currentTimeMillis() - s1));\r\n\r\n        CharsAppender ca = new CharsAppender();\r\n        long s2 = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; times; i++) {\r\n            ca.append(message);\r\n        }\r\n        System.out.println(&quot;CharsAppender cost: &quot; + (System.currentTimeMillis() - s2));\r\n    }\r\n    }","title":"Why the performance for these java codes has so big difference?","body":"<p>See this code:</p>\n<pre><code>private final Node head = new Node(&quot;&quot;);\nprivate Node tail = head;\n\nprivate Appendable append0(CharSequence csq) {\n    charCount += csq.length();\n    Node newNode = new Node(csq);\n    tail.next = newNode;// 1!\n    tail = newNode;// 2!\n    return this;\n}\n</code></pre>\n<p>In performance test, this code cost: <code>3055</code> ms</p>\n<p>If I comment <code>1</code> and <code>2</code>:</p>\n<pre><code>    Node newNode = new Node(csq);\n    //tail.next = newNode;// 1!\n    //tail = newNode;// 2!\n</code></pre>\n<p>It cost: <code>8</code> ms</p>\n<p>If I comment <code>1</code>:</p>\n<pre><code>    Node newNode = new Node(csq);\n    //tail.next = newNode;// 1!\n    tail = newNode;// 2!\n</code></pre>\n<p>It cost: <code>138</code> ms</p>\n<p>If I comment <code>2</code>:</p>\n<pre><code>    Node newNode = new Node(csq);\n    tail.next = newNode;// 1!\n    //tail = newNode;// 2!\n</code></pre>\n<p>It cost: <code>143</code> ms</p>\n<p>If I swap <code>1</code> and <code>2</code>:</p>\n<pre><code>    Node newNode = new Node(csq);\n    tail = newNode;// 2!\n    tail.next = newNode;// 1!\n</code></pre>\n<p>It cost: <code>136</code> ms</p>\n<p><strong>3055 vs 140 ?????</strong></p>\n<p><strong>Why the performances so big different????</strong></p>\n<p>Here is the full code:</p>\n<pre><code>public class CharsAppender implements Appendable {\n\nprivate int charCount = 0;\nprivate final Node head = new Node(&quot;&quot;);\nprivate Node tail = head;\n\n@Override\npublic Appendable append(CharSequence csq) {\n    return append0(csq);\n}\n\n@Override\npublic Appendable append(CharSequence csq, int start, int end) {\n    CharSequence chars = csq == null ? BDefault.nullString() : csq;\n    return append0(BString.subRef(chars, start, end));\n}\n\n@Override\npublic Appendable append(char c) {\n    return append0(Character.toString(c));\n}\n\nprivate Appendable append0(CharSequence csq) {\n    charCount += csq.length();\n    Node newNode = new Node(csq);\n    tail.next = newNode;\n    tail = newNode;\n    return this;\n}\n\nprivate static class Node {\n\n    private final CharSequence value;\n    private Node next;\n\n    private Node(CharSequence value) {\n        this.value = value;\n    }\n\n    public CharSequence getValue() {\n        return value;\n    }\n\n    public Node getNext() {\n        return next;\n    }\n\n    public void setNext(Node next) {\n        this.next = next;\n    }\n}\n\npublic static void main(String[] args) {\n    int times = 10000000;\n    String message = &quot;fasasgadfgdfgfd923fr&quot;;\n\n    StringBuilder sb = new StringBuilder();\n    long s1 = System.currentTimeMillis();\n    for (int i = 0; i &lt; times; i++) {\n        sb.append(message);\n    }\n    System.out.println(&quot;StringBuilder cost: &quot; + (System.currentTimeMillis() - s1));\n\n    CharsAppender ca = new CharsAppender();\n    long s2 = System.currentTimeMillis();\n    for (int i = 0; i &lt; times; i++) {\n        ca.append(message);\n    }\n    System.out.println(&quot;CharsAppender cost: &quot; + (System.currentTimeMillis() - s2));\n}\n}\n</code></pre>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651789872,"post_id":72134251,"comment_id":127453750,"body_markdown":"Using Oracle Java 16.0.2, it reports MacOS 12.3.1 as 11.3, so either it&#39;s an issue with MacOS or a baseline issue with Java implementation overall","body":"Using Oracle Java 16.0.2, it reports MacOS 12.3.1 as 11.3, so either it&#39;s an issue with MacOS or a baseline issue with Java implementation overall"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1651790055,"post_id":72134251,"comment_id":127453786,"body_markdown":"My openjdk 18.0.1 reports Mac OS 12.3.1 as 12.3.1","body":"My openjdk 18.0.1 reports Mac OS 12.3.1 as 12.3.1"}],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651789698,"creation_date":1651789698,"question_id":72134251,"body_markdown":"We are using AdoptOpenJDK 11.0.11, and have found that on Mac OS 12, System.getProperty(&quot;os.version&quot;) returns 11.2.\r\n\r\nI&#39;ve been unable to find any mention of this anywhere, which makes me suspect that SOMEHOW our application is doing something weird, but I don&#39;t know of any way we could cause this.","title":"Java reports Mac OS 12 as 11.2","body":"<p>We are using AdoptOpenJDK 11.0.11, and have found that on Mac OS 12, System.getProperty(&quot;os.version&quot;) returns 11.2.</p>\n<p>I've been unable to find any mention of this anywhere, which makes me suspect that SOMEHOW our application is doing something weird, but I don't know of any way we could cause this.</p>\n"},{"tags":["java","multithreading","apache-kafka","kafka-consumer-api","google-cloud-pubsub"],"comments":[{"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"score":0,"creation_date":1651095884,"post_id":72035110,"comment_id":127284326,"body_markdown":"What do you mean by &quot;becomes [a] single threaded?&quot; Do you mean you aren&#39;t seeing concurrent calls of your `processMessage` function? Do you mean you don&#39;t see concurrent requests to Pub/Sub?","body":"What do you mean by &quot;becomes [a] single threaded?&quot; Do you mean you aren&#39;t seeing concurrent calls of your <code>processMessage</code> function? Do you mean you don&#39;t see concurrent requests to Pub/Sub?"},{"owner":{"account_id":14245970,"reputation":1,"user_id":11620081,"display_name":"jana reddy"},"score":0,"creation_date":1651101271,"post_id":72035110,"comment_id":127285402,"body_markdown":"@KamalAboul-Hosn, Yes. It is just using only one GCP connection to send the data and remaining connections sit idle. We could see that using `netstat`. And I see performance is super bad and it is just handling 80 records per sec.\n\nAnd processMessage is Kafka consumer message, and it takes concurrent requests but Publisher.publish(which is sends message to Google Cloud taking only one thread active)","body":"@KamalAboul-Hosn, Yes. It is just using only one GCP connection to send the data and remaining connections sit idle. We could see that using <code>netstat</code>. And I see performance is super bad and it is just handling 80 records per sec.  And processMessage is Kafka consumer message, and it takes concurrent requests but Publisher.publish(which is sends message to Google Cloud taking only one thread active)"},{"owner":{"account_id":14245970,"reputation":1,"user_id":11620081,"display_name":"jana reddy"},"score":0,"creation_date":1651114552,"post_id":72035110,"comment_id":127287405,"body_markdown":"@KamalAboul-Hosn, I have attached a sample class GCPPublishExample, which is demos the Publisher behavior when we use it in single thread model and multi thread environment like java executor service.","body":"@KamalAboul-Hosn, I have attached a sample class GCPPublishExample, which is demos the Publisher behavior when we use it in single thread model and multi thread environment like java executor service."},{"owner":{"account_id":14245970,"reputation":1,"user_id":11620081,"display_name":"jana reddy"},"score":0,"creation_date":1651788809,"post_id":72035110,"comment_id":127453532,"body_markdown":"@KamalAboul-Hosn, Sorry for the confusion. The issue is solved. I should have added a callback instead of waiting to get the response messageId.","body":"@KamalAboul-Hosn, Sorry for the confusion. The issue is solved. I should have added a callback instead of waiting to get the response messageId."}],"answers":[{"tags":[],"owner":{"account_id":14245970,"reputation":1,"user_id":11620081,"display_name":"jana reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651788606,"creation_date":1651788606,"answer_id":72134143,"question_id":72035110,"body_markdown":"I had debug statement to log the messageId from GCP that made performance issues as it was waiting for the GCP to response back. After I comment that it worked fine.\r\n\r\nLOGGER.debug(&quot;Message sent successfully, messageId: {}&quot;, messageIdFuture.get());\r\n\r\n\r\n","title":"GCP PubSub java client&#39;s Publisher - concurrency not working Multi threaded environement","body":"<p>I had debug statement to log the messageId from GCP that made performance issues as it was waiting for the GCP to response back. After I comment that it worked fine.</p>\n<p>LOGGER.debug(&quot;Message sent successfully, messageId: {}&quot;, messageIdFuture.get());</p>\n"}],"owner":{"account_id":14245970,"reputation":1,"user_id":11620081,"display_name":"jana reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651788606,"creation_date":1651092457,"question_id":72035110,"body_markdown":"I am trying to consume messages from Kafka and publish them to Google PubSub. We have 4 Kafka concurrent consumer threads and I injected the Google pubsub client&#39;s Publisher. But the Publisher is not working concurrently and becomes a single threaded. \r\n\r\nBut with the same publisher settings if I run a program outside kafka consumer, I am able publish more than 3000 message per sec. \r\n\r\nHere is my Publisher Bean Injected to Kafka consumer. I am using default batchSettings and setting number of threads as 10. I played with different number, but for Kafka thread seems to be forcing Publisher to use just one thread. \r\n\r\nPublisher bean code:\r\n\r\n```\r\n\r\n    ExecutorProvider executorProvider = InstantiatingExecutorProvider.newBuilder()\r\n                .setExecutorThreadCount(10)\r\n                .build();\r\n    \r\n    Publisher publisher = Publisher.newBuilder(TopicName.of(projectId, topicId))\r\n                .setExecutorProvider(executorProvider)\r\n                .build();\r\n\r\n```\r\n\r\n\r\nMy Kafka Consumer:\r\n```\r\n \r\n\r\n  public class MyKafkaListenerForPubSub {\r\n      \r\n    private final Publisher publisher;\r\n    \r\n      public MyKafkaListenerForPubSub(Publisher publisher) {\r\n        this.publisher = publisher;\r\n      }\r\n    \r\n      @KafkaListener(topics = &quot;topicName&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n      public void processMessage(String content) throws ExecutionException, InterruptedException {\r\n          ByteString messageData = ByteString.copyFromUtf8(content);\r\n          PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(messageData).build();\r\n          ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\r\n      }\r\n    }\r\n\r\n```\r\n\r\nI tried with my own executor service but It did the same. \r\n\r\nI am using the below google pubsub library in a non spring boot app but it uses spring core.\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n   &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\r\n   &lt;version&gt;1.116.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nHere is a simple program to replicate the issue. If we use the Publisher in the executor service it is not able to push the messages.\r\n\r\n```\r\n\r\nimport com.google.api.core.ApiFuture;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.cloud.pubsub.v1.Publisher;\r\nimport com.google.protobuf.ByteString;\r\nimport com.google.pubsub.v1.PubsubMessage;\r\nimport com.google.pubsub.v1.TopicName;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Base64;\r\nimport java.util.Date;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class GCPPublishExample {\r\n  private static String b64Val = &quot;GCP CREDS BASE 64 value&quot;;\r\n  private static String bigMessage = &quot;Some Big Message of size 30 KB&quot;;\r\n  private static String projectId = &quot;gcp project Id&quot;;\r\n  private static String topicId = &quot;some-topic&quot;;\r\n\r\n  private static void addShutdownHook(){\r\n    Runtime.getRuntime().addShutdownHook(new Thread()\r\n    {\r\n      public void run()\r\n      {\r\n        System.out.println(&quot;Program Completed at: &quot; + new Date());\r\n      }\r\n    });\r\n  }\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    addShutdownHook();\r\n    System.out.println(&quot;Program Started at: &quot; + new Date());\r\n\r\n    final boolean parallel = true;  //false to test without threads\r\n    final int totalRecordsToSend = 100_000; //We should change this number to big if we need\r\n    final int executorSize = 4; //As we have 4 kafka concurrent consumers\r\n\r\n    System.out.println(&quot;parallel: &quot; + parallel + &quot; totalRecordsToSend: &quot; + totalRecordsToSend + &quot; executorSize: &quot; + executorSize);\r\n\r\n    GoogleCredentials creds = GoogleCredentials.fromStream(new ByteArrayInputStream(Base64.getDecoder().decode(b64Val)));\r\n\r\n    //Using Default batchingSettings and Default executorProvider\r\n    final Publisher publisher = Publisher.newBuilder(TopicName.of(projectId, topicId))\r\n            .setCredentialsProvider(FixedCredentialsProvider.create(creds))\r\n            .build();\r\n\r\n    if(parallel) {\r\n      System.out.println(&quot;= PUBLISH IN PARALLEL =&quot;);\r\n      ExecutorService executorService =  Executors.newFixedThreadPool(executorSize);\r\n      \r\n      IntStream.range(0, totalRecordsToSend).\r\n              forEach(i -&gt; {executorService.execute(new MyGCPPublishRunnable(publisher, bigMessage));});\r\n\r\n      executorService.shutdown();\r\n    }\r\n    else {\r\n      System.out.println(&quot;= RUNNING IN SEQUENCE =&quot;);\r\n      IntStream.range(0, totalRecordsToSend).\r\n              forEach(i -&gt; {publishMessage(publisher, bigMessage);});\r\n    }\r\n  }\r\n\r\n  private static void publishMessage(Publisher publisher, String message) {\r\n    try {\r\n      ByteString messageData = ByteString.copyFromUtf8(message);\r\n      PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(messageData).build();\r\n      ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\r\n      //System.out.println(&quot;Message sent successfully, messageId: {}&quot; + messageIdFuture.get() + &quot; Thread: &quot; + Thread.currentThread().getId());\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n\r\nclass MyGCPPublishTask implements Runnable {\r\n  private final Publisher publisher;\r\n  private final String message;\r\n\r\n  public MyGCPPublishTask(Publisher publisher, String message) {\r\n    this.publisher = publisher;\r\n    this.message = message;\r\n  }\r\n\r\n  @Override\r\n  public void run() {\r\n    try {\r\n      ByteString messageData = ByteString.copyFromUtf8(this.message);\r\n      PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(messageData).build();\r\n      ApiFuture&lt;String&gt; messageIdFuture = this.publisher.publish(pubsubMessage);\r\n      //System.out.println(&quot;Message sent successfully, messageId: &quot; + messageIdFuture.get());\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"GCP PubSub java client&#39;s Publisher - concurrency not working Multi threaded environement","body":"<p>I am trying to consume messages from Kafka and publish them to Google PubSub. We have 4 Kafka concurrent consumer threads and I injected the Google pubsub client's Publisher. But the Publisher is not working concurrently and becomes a single threaded.</p>\n<p>But with the same publisher settings if I run a program outside kafka consumer, I am able publish more than 3000 message per sec.</p>\n<p>Here is my Publisher Bean Injected to Kafka consumer. I am using default batchSettings and setting number of threads as 10. I played with different number, but for Kafka thread seems to be forcing Publisher to use just one thread.</p>\n<p>Publisher bean code:</p>\n<pre><code>\n    ExecutorProvider executorProvider = InstantiatingExecutorProvider.newBuilder()\n                .setExecutorThreadCount(10)\n                .build();\n    \n    Publisher publisher = Publisher.newBuilder(TopicName.of(projectId, topicId))\n                .setExecutorProvider(executorProvider)\n                .build();\n\n</code></pre>\n<p>My Kafka Consumer:</p>\n<pre><code> \n\n  public class MyKafkaListenerForPubSub {\n      \n    private final Publisher publisher;\n    \n      public MyKafkaListenerForPubSub(Publisher publisher) {\n        this.publisher = publisher;\n      }\n    \n      @KafkaListener(topics = &quot;topicName&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n      public void processMessage(String content) throws ExecutionException, InterruptedException {\n          ByteString messageData = ByteString.copyFromUtf8(content);\n          PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(messageData).build();\n          ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\n      }\n    }\n\n</code></pre>\n<p>I tried with my own executor service but It did the same.</p>\n<p>I am using the below google pubsub library in a non spring boot app but it uses spring core.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n   &lt;artifactId&gt;google-cloud-pubsub&lt;/artifactId&gt;\n   &lt;version&gt;1.116.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is a simple program to replicate the issue. If we use the Publisher in the executor service it is not able to push the messages.</p>\n<pre><code>\nimport com.google.api.core.ApiFuture;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.pubsub.v1.Publisher;\nimport com.google.protobuf.ByteString;\nimport com.google.pubsub.v1.PubsubMessage;\nimport com.google.pubsub.v1.TopicName;\n\nimport java.io.ByteArrayInputStream;\nimport java.util.Base64;\nimport java.util.Date;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.stream.IntStream;\n\npublic class GCPPublishExample {\n  private static String b64Val = &quot;GCP CREDS BASE 64 value&quot;;\n  private static String bigMessage = &quot;Some Big Message of size 30 KB&quot;;\n  private static String projectId = &quot;gcp project Id&quot;;\n  private static String topicId = &quot;some-topic&quot;;\n\n  private static void addShutdownHook(){\n    Runtime.getRuntime().addShutdownHook(new Thread()\n    {\n      public void run()\n      {\n        System.out.println(&quot;Program Completed at: &quot; + new Date());\n      }\n    });\n  }\n\n  public static void main(String[] args) throws Exception {\n    addShutdownHook();\n    System.out.println(&quot;Program Started at: &quot; + new Date());\n\n    final boolean parallel = true;  //false to test without threads\n    final int totalRecordsToSend = 100_000; //We should change this number to big if we need\n    final int executorSize = 4; //As we have 4 kafka concurrent consumers\n\n    System.out.println(&quot;parallel: &quot; + parallel + &quot; totalRecordsToSend: &quot; + totalRecordsToSend + &quot; executorSize: &quot; + executorSize);\n\n    GoogleCredentials creds = GoogleCredentials.fromStream(new ByteArrayInputStream(Base64.getDecoder().decode(b64Val)));\n\n    //Using Default batchingSettings and Default executorProvider\n    final Publisher publisher = Publisher.newBuilder(TopicName.of(projectId, topicId))\n            .setCredentialsProvider(FixedCredentialsProvider.create(creds))\n            .build();\n\n    if(parallel) {\n      System.out.println(&quot;= PUBLISH IN PARALLEL =&quot;);\n      ExecutorService executorService =  Executors.newFixedThreadPool(executorSize);\n      \n      IntStream.range(0, totalRecordsToSend).\n              forEach(i -&gt; {executorService.execute(new MyGCPPublishRunnable(publisher, bigMessage));});\n\n      executorService.shutdown();\n    }\n    else {\n      System.out.println(&quot;= RUNNING IN SEQUENCE =&quot;);\n      IntStream.range(0, totalRecordsToSend).\n              forEach(i -&gt; {publishMessage(publisher, bigMessage);});\n    }\n  }\n\n  private static void publishMessage(Publisher publisher, String message) {\n    try {\n      ByteString messageData = ByteString.copyFromUtf8(message);\n      PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(messageData).build();\n      ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\n      //System.out.println(&quot;Message sent successfully, messageId: {}&quot; + messageIdFuture.get() + &quot; Thread: &quot; + Thread.currentThread().getId());\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n\nclass MyGCPPublishTask implements Runnable {\n  private final Publisher publisher;\n  private final String message;\n\n  public MyGCPPublishTask(Publisher publisher, String message) {\n    this.publisher = publisher;\n    this.message = message;\n  }\n\n  @Override\n  public void run() {\n    try {\n      ByteString messageData = ByteString.copyFromUtf8(this.message);\n      PubsubMessage pubsubMessage = PubsubMessage.newBuilder().setData(messageData).build();\n      ApiFuture&lt;String&gt; messageIdFuture = this.publisher.publish(pubsubMessage);\n      //System.out.println(&quot;Message sent successfully, messageId: &quot; + messageIdFuture.get());\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","java-annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1651788716,"post_id":72133950,"comment_id":127453520,"body_markdown":"Is there a specific reason why you aren&#39;t using `java.util.UUID` as the parameter type? (To your main question, it is not customary for constraints to throw exceptions; their validators report errors using an error API, and any exception happens at a higher level.)","body":"Is there a specific reason why you aren&#39;t using <code>java.util.UUID</code> as the parameter type? (To your main question, it is not customary for constraints to throw exceptions; their validators report errors using an error API, and any exception happens at a higher level.)"},{"owner":{"account_id":1424447,"reputation":107,"user_id":1348348,"accept_rate":60,"display_name":"Riggster"},"score":0,"creation_date":1651789222,"post_id":72133950,"comment_id":127453616,"body_markdown":"You make a good point. I was defining the parameter as String because the user could put any text into the url. Before I started trying to implement a custom validator, I had logic in the controller that used regex to check if the provided id was valid, then converted the string to a UUID. Now that I am using the validator, I could change the type to UUID.","body":"You make a good point. I was defining the parameter as String because the user could put any text into the url. Before I started trying to implement a custom validator, I had logic in the controller that used regex to check if the provided id was valid, then converted the string to a UUID. Now that I am using the validator, I could change the type to UUID."},{"owner":{"account_id":2259577,"reputation":1154,"user_id":1989988,"accept_rate":48,"display_name":"iAmLearning"},"score":0,"creation_date":1657198859,"post_id":72133950,"comment_id":128757379,"body_markdown":"Any solution to the original question, how to throw exception from the custom annotation ?","body":"Any solution to the original question, how to throw exception from the custom annotation ?"}],"owner":{"account_id":1424447,"reputation":107,"user_id":1348348,"accept_rate":60,"display_name":"Riggster"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651786947,"creation_date":1651786947,"question_id":72133950,"body_markdown":"I am working on an api that allows the user to fetch data by id, where the id&#39;s data type is a UUID. I would like to use an annotation in the controller method to check whether the user passed a valid UUID, but @Valid doesn&#39;t work on UUID&#39;s, so I want to write my own. Here is how I want to use my custom annotation in the controller:\r\n\r\n    @GetMapping(&quot;{id}&quot;)\r\n        public ResponseEntity&lt;MyObject&gt; getById(@PathVariable @ValidUUID String id) {\r\n            MyObject payload = service.getById(id);\r\n    \r\n            return ResponseEntity.status(HttpStatus.OK)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .body(payload);\r\n        }\r\n\r\nI have written a global exception handler:\r\n\r\n    import com.testapp.exceptions.InvalidUUIDException;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.RestControllerAdvice;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    @RestControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n    \r\n        @ExceptionHandler(InvalidUUIDException.class)\r\n        public ResponseEntity&lt;Object&gt; handleInvalidUUIDException(InvalidUUIDException ex) {\r\n            Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\r\n            body.put(&quot;timestamp&quot;, LocalDateTime.now());\r\n            body.put(&quot;message&quot;, ex.getMessage());\r\n    \r\n            return new ResponseEntity&lt;&gt;(body, HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\nand a custom exception:\r\n\r\n    public class InvalidUUIDException extends RuntimeException {\r\n        public InvalidUUIDException(String id) {\r\n            super(String.format(&quot;The UUID provided (%s) is not valid&quot;, id));\r\n        }\r\n    }\r\n\r\nMy problem is when I try to write the custom annotation, I can&#39;t figure out how to make it throw a custom exception. I found several discussions online, including [this stack overflow question](https://stackoverflow.com/questions/37320870/is-there-a-uuid-validator-annotation) that talks about creating a custom annotation (the code below is from that question). All of the examples I have found just return a string, and don&#39;t allow throwing a custom exception (in my case InvalidUUIDException). Any thoughts on how to do this would be greatly appreciated.\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Constraint(validatedBy={})\r\n    @Retention(RUNTIME)\r\n    @Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$&quot;)\r\n    @ReportAsSingleViolation\r\n    public @interface UUID {\r\n        String message() default &quot;{invalid.uuid}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }","title":"How to make custom annotation throw an error instead of default message","body":"<p>I am working on an api that allows the user to fetch data by id, where the id's data type is a UUID. I would like to use an annotation in the controller method to check whether the user passed a valid UUID, but @Valid doesn't work on UUID's, so I want to write my own. Here is how I want to use my custom annotation in the controller:</p>\n<pre><code>@GetMapping(&quot;{id}&quot;)\n    public ResponseEntity&lt;MyObject&gt; getById(@PathVariable @ValidUUID String id) {\n        MyObject payload = service.getById(id);\n\n        return ResponseEntity.status(HttpStatus.OK)\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(payload);\n    }\n</code></pre>\n<p>I have written a global exception handler:</p>\n<pre><code>import com.testapp.exceptions.InvalidUUIDException;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\nimport java.time.LocalDateTime;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\n@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(InvalidUUIDException.class)\n    public ResponseEntity&lt;Object&gt; handleInvalidUUIDException(InvalidUUIDException ex) {\n        Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\n        body.put(&quot;timestamp&quot;, LocalDateTime.now());\n        body.put(&quot;message&quot;, ex.getMessage());\n\n        return new ResponseEntity&lt;&gt;(body, HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n<p>and a custom exception:</p>\n<pre><code>public class InvalidUUIDException extends RuntimeException {\n    public InvalidUUIDException(String id) {\n        super(String.format(&quot;The UUID provided (%s) is not valid&quot;, id));\n    }\n}\n</code></pre>\n<p>My problem is when I try to write the custom annotation, I can't figure out how to make it throw a custom exception. I found several discussions online, including <a href=\"https://stackoverflow.com/questions/37320870/is-there-a-uuid-validator-annotation\">this stack overflow question</a> that talks about creating a custom annotation (the code below is from that question). All of the examples I have found just return a string, and don't allow throwing a custom exception (in my case InvalidUUIDException). Any thoughts on how to do this would be greatly appreciated.</p>\n<pre><code>@Target(ElementType.FIELD)\n@Constraint(validatedBy={})\n@Retention(RUNTIME)\n@Pattern(regexp=&quot;^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$&quot;)\n@ReportAsSingleViolation\npublic @interface UUID {\n    String message() default &quot;{invalid.uuid}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n"},{"tags":["java","eclipse","freeze"],"comments":[{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":0,"creation_date":1288947802,"post_id":4104511,"comment_id":4418103,"body_markdown":"Does it work with a new workspace?","body":"Does it work with a new workspace?"},{"owner":{"account_id":200910,"reputation":3887,"user_id":447040,"accept_rate":66,"display_name":"Gobliins"},"score":0,"creation_date":1295151147,"post_id":4104511,"comment_id":5191481,"body_markdown":"Does it happen when you use code templates too?","body":"Does it happen when you use code templates too?"}],"answers":[{"tags":[],"owner":{"account_id":1116,"reputation":11132,"user_id":1483,"accept_rate":67,"display_name":"Grzegorz Gierlik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1288947808,"creation_date":1288947808,"answer_id":4104538,"question_id":4104511,"body_markdown":"Seems that you encounter known and already fixed [bug](https://bugs.eclipse.org/bugs/show_bug.cgi?id=317979).","title":"Eclipse 3.6 freeze on autocomplete/quick fix","body":"<p>Seems that you encounter known and already fixed <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=317979\" rel=\"nofollow\">bug</a>.</p>\n"},{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288989153,"creation_date":1288989153,"answer_id":4109819,"question_id":4104511,"body_markdown":"As for Eclipse you can not know what is happening. The whole platform is a set of plugins, and the requirements (for example responsiveness) are not strict for them. So a third party or even a bundled plugin can cause such a failure. So most of times you cannot have a clue about what is wrong. Some stuff you can do:\r\n\r\n1. while hanging unplug your network connection. If you are behind a proxy for example, a plugin can wait for a long time on network io\r\n2. you can check with for example resource monitor, which file eclipse opened. Some of the opened file handlers can have relation with the problem\r\n3. edit .classpath file in project where code completion freezes, and it will &quot;reset&quot; your project stuff in eclipse\r\n4. you can browse .metadata folder in eclipse workspace and you can guess which folder to remove temporaly. After removing, try if error is still present\r\n5. create a new workspace and import projects into it\r\n6. if new workspace do not work, then the eror is in configuration folder in eclipse root, and you can play the same thing like in step 4\r\n7. use a brand new eclipse\r\n\r\n+1. Maybe some new plugin is responsible. In eclipse Help/about/installation details/Installation history tab you can revert to some older set of plugins.\r\n\r\nHope it will help.","title":"Eclipse 3.6 freeze on autocomplete/quick fix","body":"<p>As for Eclipse you can not know what is happening. The whole platform is a set of plugins, and the requirements (for example responsiveness) are not strict for them. So a third party or even a bundled plugin can cause such a failure. So most of times you cannot have a clue about what is wrong. Some stuff you can do:</p>\n\n<ol>\n<li>while hanging unplug your network connection. If you are behind a proxy for example, a plugin can wait for a long time on network io</li>\n<li>you can check with for example resource monitor, which file eclipse opened. Some of the opened file handlers can have relation with the problem</li>\n<li>edit .classpath file in project where code completion freezes, and it will \"reset\" your project stuff in eclipse</li>\n<li>you can browse .metadata folder in eclipse workspace and you can guess which folder to remove temporaly. After removing, try if error is still present</li>\n<li>create a new workspace and import projects into it</li>\n<li>if new workspace do not work, then the eror is in configuration folder in eclipse root, and you can play the same thing like in step 4</li>\n<li>use a brand new eclipse</li>\n</ol>\n\n<p>+1. Maybe some new plugin is responsible. In eclipse Help/about/installation details/Installation history tab you can revert to some older set of plugins.</p>\n\n<p>Hope it will help.</p>\n"},{"tags":[],"owner":{"account_id":12595678,"reputation":412,"user_id":9160410,"display_name":"Godwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651786593,"creation_date":1651786593,"answer_id":72133910,"question_id":4104511,"body_markdown":"Issue fixed after deleting all the files in the below directory\r\n\r\n    configuration\\org.eclipse.osgi\\.manager\r\n\r\n\r\n    .fileTableLock\r\n    .fileTable.1\r\n    .fileTable.2\r\n\r\nThere will be fileTable lock files, delete all those files","title":"Eclipse 3.6 freeze on autocomplete/quick fix","body":"<p>Issue fixed after deleting all the files in the below directory</p>\n<pre><code>configuration\\org.eclipse.osgi\\.manager\n\n\n.fileTableLock\n.fileTable.1\n.fileTable.2\n</code></pre>\n<p>There will be fileTable lock files, delete all those files</p>\n"}],"owner":{"account_id":669536,"reputation":71,"user_id":498135,"display_name":"Jonathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9729,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1651786593,"creation_date":1288947525,"question_id":4104511,"body_markdown":"I have a problem that seems to come up both with autocomplete and quick fix. Sometimes when I use cmd+1 for quick fix dialog, Eclipse freezes and however long I wait (30 min at least), nothing happens. When inspected in activity monitor, it seems to exhibit little to no processor activity.\r\n\r\nI have a Mac with OSX 10.6, and Helios with no weird plugins. I program in java, so I use very standard features. \r\n\r\nIs this a known bug? I have tried to google _a_  _lot_ to find useful info. I am not very good at reading bug reports though, and the concept of feature freeze kind of taints my search results.\r\n\r\nThanks for any help.","title":"Eclipse 3.6 freeze on autocomplete/quick fix","body":"<p>I have a problem that seems to come up both with autocomplete and quick fix. Sometimes when I use cmd+1 for quick fix dialog, Eclipse freezes and however long I wait (30 min at least), nothing happens. When inspected in activity monitor, it seems to exhibit little to no processor activity.</p>\n\n<p>I have a Mac with OSX 10.6, and Helios with no weird plugins. I program in java, so I use very standard features. </p>\n\n<p>Is this a known bug? I have tried to google <em>a</em>  <em>lot</em> to find useful info. I am not very good at reading bug reports though, and the concept of feature freeze kind of taints my search results.</p>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651332742,"creation_date":1651332742,"answer_id":72069814,"question_id":72069542,"body_markdown":"The problem with your code is not with the comparator itself. You would want to use [`input.nextLine()`](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--) for being able to read an entire line. Using [`next`](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--) will read only until the next delimiter (which is space in your case).\r\n\r\nFor the comparator part, Java already provides a comparator for comparing strings and other objects. This is [`Comparator.naturalOrder()`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#naturalOrder--) and can be used as such:\r\n\r\n```\r\npublic static void main(String args[]) {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter 6 strings: &quot;);\r\n    // Step 1: proccess strings from input\r\n    String data = input.nextLine();\r\n    String[] list = data.split(&quot; &quot;);\r\n\r\n    System.out.println(Arrays.toString(list));\r\n\r\n    selectionSort(list, Comparator.naturalOrder());\r\n\r\n    for (String s : list) {\r\n        System.out.print(s + &quot; &quot;);\r\n    }\r\n}\r\n\r\n\r\npublic static &lt;E&gt; void selectionSort(E[] list, Comparator&lt;? super E&gt; comparator) {\r\n    Arrays.sort(list, comparator);\r\n}\r\n```","title":"How to implement selection sort with a comparator in Java","body":"<p>The problem with your code is not with the comparator itself. You would want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextLine--\" rel=\"nofollow noreferrer\"><code>input.nextLine()</code></a> for being able to read an entire line. Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\" rel=\"nofollow noreferrer\"><code>next</code></a> will read only until the next delimiter (which is space in your case).</p>\n<p>For the comparator part, Java already provides a comparator for comparing strings and other objects. This is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#naturalOrder--\" rel=\"nofollow noreferrer\"><code>Comparator.naturalOrder()</code></a> and can be used as such:</p>\n<pre><code>public static void main(String args[]) {\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Enter 6 strings: &quot;);\n    // Step 1: proccess strings from input\n    String data = input.nextLine();\n    String[] list = data.split(&quot; &quot;);\n\n    System.out.println(Arrays.toString(list));\n\n    selectionSort(list, Comparator.naturalOrder());\n\n    for (String s : list) {\n        System.out.print(s + &quot; &quot;);\n    }\n}\n\n\npublic static &lt;E&gt; void selectionSort(E[] list, Comparator&lt;? super E&gt; comparator) {\n    Arrays.sort(list, comparator);\n}\n</code></pre>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72069814,"answer_count":1,"score":0,"last_activity_date":1651786149,"creation_date":1651330472,"question_id":72069542,"body_markdown":"I am developing a program to perform selection sort on a list of strings. The input for the program is 6 strings. The output for the program should be the list of strings sorted by their last character. \r\n\r\nHere is what I have tried\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\nimport java.util.List;\r\nimport java.util.Comparator;\r\n\r\npublic class Exercise_20_21 {\r\n    public static void main(String args[]) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Enter 6 strings: &quot;);\r\n        // Step 1: proccess strings from input\r\n        String data = input.next();\r\n        String[] list = data.split(&quot; &quot;);\r\n        for(int i=0; i &lt; list.length; i++){\r\n            System.out.print(list[i]+&quot; &quot;);\r\n        }\r\n        selectionSort(list, new Comparator&lt;String&gt;(){\r\n            @Override\r\n            public int compare(String w1, String w2){\r\n                if(w1.charAt(0) &gt; w2.charAt(0)){\r\n                    return -1;\r\n                }\r\n                else if( w1.charAt(0) &lt; w2.charAt(0)){\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            }\r\n        });\r\n        for(int i=0; i &lt; list.length; i++){\r\n            System.out.print(list[i]+&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    public static &lt;E&gt; void selectionSort(E[] list, Comparator&lt;? super E&gt; comparator) {\r\n        Arrays.sort(list,comparator);\r\n    }\r\n}\r\n```\r\n\r\nExpected:\r\n```\r\nEnter 5 strings: red blue green yellow orange pink\r\nred blue orange pink green yellow\r\n```\r\nActual:\r\n```\r\nEnter 6 strings: red blue green yellow orange pink\r\nred red\r\n```\r\n\r\nHow can I start on debugging this code?\r\n","title":"How to implement selection sort with a comparator in Java","body":"<p>I am developing a program to perform selection sort on a list of strings. The input for the program is 6 strings. The output for the program should be the list of strings sorted by their last character.</p>\n<p>Here is what I have tried</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\nimport java.util.List;\nimport java.util.Comparator;\n\npublic class Exercise_20_21 {\n    public static void main(String args[]) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter 6 strings: &quot;);\n        // Step 1: proccess strings from input\n        String data = input.next();\n        String[] list = data.split(&quot; &quot;);\n        for(int i=0; i &lt; list.length; i++){\n            System.out.print(list[i]+&quot; &quot;);\n        }\n        selectionSort(list, new Comparator&lt;String&gt;(){\n            @Override\n            public int compare(String w1, String w2){\n                if(w1.charAt(0) &gt; w2.charAt(0)){\n                    return -1;\n                }\n                else if( w1.charAt(0) &lt; w2.charAt(0)){\n                    return 1;\n                }\n                else {\n                    return 0;\n                }\n            }\n        });\n        for(int i=0; i &lt; list.length; i++){\n            System.out.print(list[i]+&quot; &quot;);\n        }\n    }\n\n    \n\n    public static &lt;E&gt; void selectionSort(E[] list, Comparator&lt;? super E&gt; comparator) {\n        Arrays.sort(list,comparator);\n    }\n}\n</code></pre>\n<p>Expected:</p>\n<pre><code>Enter 5 strings: red blue green yellow orange pink\nred blue orange pink green yellow\n</code></pre>\n<p>Actual:</p>\n<pre><code>Enter 6 strings: red blue green yellow orange pink\nred red\n</code></pre>\n<p>How can I start on debugging this code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1651663419,"post_id":72112072,"comment_id":127415340,"body_markdown":"The indentation of the first `if` in the `bucketSort` method is wrong and it only has a one-line body. Are you sure that code is what you meant?","body":"The indentation of the first <code>if</code> in the <code>bucketSort</code> method is wrong and it only has a one-line body. Are you sure that code is what you meant?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1651664748,"post_id":72112072,"comment_id":127415725,"body_markdown":"`bucket[(int) key] == null` is throwing error as your bucket size is length of `list`+1 &amp; not maximum value present of list. Moreover even if we fix that, your code is creating new list for each new element &amp; hence it won&#39;t be able to give you sort result as you are expecting.","body":"<code>bucket[(int) key] == null</code> is throwing error as your bucket size is length of <code>list</code>+1 &amp; not maximum value present of list. Moreover even if we fix that, your code is creating new list for each new element &amp; hence it won&#39;t be able to give you sort result as you are expecting."},{"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"score":0,"creation_date":1651664844,"post_id":72112072,"comment_id":127415760,"body_markdown":"I think the problem is that you cannot assume the `getKey()` method and have to implement such a method according to the order you want to achieve. This function has to map each element to the correct bucket (0 to T). The most basic case would be sorting by the last digit, where your `getKey()` method would simply do `key = item % 10`. Then each list item with a zero in the end would be placed into bucket zero. Items inside buckets are stil not sorted after this. If you want to sort the whole list you have to then sort the individual buckets again before concatenating them to the final list.","body":"I think the problem is that you cannot assume the <code>getKey()</code> method and have to implement such a method according to the order you want to achieve. This function has to map each element to the correct bucket (0 to T). The most basic case would be sorting by the last digit, where your <code>getKey()</code> method would simply do <code>key = item % 10</code>. Then each list item with a zero in the end would be placed into bucket zero. Items inside buckets are stil not sorted after this. If you want to sort the whole list you have to then sort the individual buckets again before concatenating them to the final list."}],"answers":[{"tags":[],"owner":{"account_id":6440480,"reputation":19239,"user_id":4990642,"accept_rate":53,"display_name":"Soner from The Ottoman Empire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651663550,"creation_date":1651663550,"answer_id":72112156,"question_id":72112072,"body_markdown":"I don&#39;t know what bucket sort is but as far as I look at your method, see `bucket[(int) key]` which may result in out of the index exception as happened in your output. Because in the first loop iteration of the for loop you get index `0` corresponding to `list[0]`, that is, `bucket[336]`. However, your being passed array&#39;s size is `11`.\r\n\r\nIf the array&#39;s max-valued element is not too high, you can find max element in the array and pass it as a value to the method to define the `bucket` arrays&#39; size instead of `t+1`.","title":"How to implement bucketsort in Java","body":"<p>I don't know what bucket sort is but as far as I look at your method, see <code>bucket[(int) key]</code> which may result in out of the index exception as happened in your output. Because in the first loop iteration of the for loop you get index <code>0</code> corresponding to <code>list[0]</code>, that is, <code>bucket[336]</code>. However, your being passed array's size is <code>11</code>.</p>\n<p>If the array's max-valued element is not too high, you can find max element in the array and pass it as a value to the method to define the <code>bucket</code> arrays' size instead of <code>t+1</code>.</p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651786068,"creation_date":1651663150,"question_id":72112072,"body_markdown":"I am working on a test program to develop an implementation of bucket sort for personal development. The examples that I have seen online do not match the sort of implementation that I am trying to accomplish. \r\n\r\nMy attempt\r\n```\r\nimport java.util.*;\r\n\r\npublic class BucketSort {\r\n    private static int t = 10;\r\n    public static void main(String args[]) {\r\n        int[] list = {331, 454, 230, 34, 343, 45, 59, 453, 345, 231, 9};\r\n        for(int i = 0; i &lt; list.length; i++){\r\n            System.out.print(list[i]+&quot; &quot;);\r\n        }\r\n        bucketSort(list);\r\n        for(int i = 0; i &lt; list.length; i++){\r\n            System.out.print(list[i]+&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static &lt;E&gt; void bucketSort(int[] list) {\r\n        java.util.ArrayList&lt;Integer&gt;[] bucket = new java.util.ArrayList[t+1];// Distribute the elements from list to buckets\r\n        for (int i = 0; i &lt; list.length; i++) {\r\n            // Assume element has the getKey() method\r\n            int key = list[i]; // list[i].getKey()\r\n        if (bucket[(int) key] == null)\r\n            bucket[(int) key] = new java.util.ArrayList&lt;Integer&gt;();\r\n            bucket[(int) key].add(list[i]);\r\n        }\r\n        // Now move the elements from the buckets back to list\r\n        int k = 0; // k is an index for list\r\n        for (int i = 0; i &lt; bucket.length; i++) {\r\n            if (bucket[i] != null) {\r\n                for (int j = 0; j &lt; bucket[i].size(); j++)\r\n                    list[k++] = (int)(bucket[i].get(j));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nExpected:\r\na sorted list of integers\r\n\r\nActual:\r\n```\r\njava BucketSort \r\n331 454 230 34 343 45 59 453 345 231 9 Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 331 out of bounds for length 11\r\n        at BucketSort.bucketSort(BucketSort.java:21)\r\n        at BucketSort.main(BucketSort.java:10)\r\n```\r\n\r\nWhat can I try to resolve this?\r\n","title":"How to implement bucketsort in Java","body":"<p>I am working on a test program to develop an implementation of bucket sort for personal development. The examples that I have seen online do not match the sort of implementation that I am trying to accomplish.</p>\n<p>My attempt</p>\n<pre><code>import java.util.*;\n\npublic class BucketSort {\n    private static int t = 10;\n    public static void main(String args[]) {\n        int[] list = {331, 454, 230, 34, 343, 45, 59, 453, 345, 231, 9};\n        for(int i = 0; i &lt; list.length; i++){\n            System.out.print(list[i]+&quot; &quot;);\n        }\n        bucketSort(list);\n        for(int i = 0; i &lt; list.length; i++){\n            System.out.print(list[i]+&quot; &quot;);\n        }\n    }\n\n    public static &lt;E&gt; void bucketSort(int[] list) {\n        java.util.ArrayList&lt;Integer&gt;[] bucket = new java.util.ArrayList[t+1];// Distribute the elements from list to buckets\n        for (int i = 0; i &lt; list.length; i++) {\n            // Assume element has the getKey() method\n            int key = list[i]; // list[i].getKey()\n        if (bucket[(int) key] == null)\n            bucket[(int) key] = new java.util.ArrayList&lt;Integer&gt;();\n            bucket[(int) key].add(list[i]);\n        }\n        // Now move the elements from the buckets back to list\n        int k = 0; // k is an index for list\n        for (int i = 0; i &lt; bucket.length; i++) {\n            if (bucket[i] != null) {\n                for (int j = 0; j &lt; bucket[i].size(); j++)\n                    list[k++] = (int)(bucket[i].get(j));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Expected:\na sorted list of integers</p>\n<p>Actual:</p>\n<pre><code>java BucketSort \n331 454 230 34 343 45 59 453 345 231 9 Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 331 out of bounds for length 11\n        at BucketSort.bucketSort(BucketSort.java:21)\n        at BucketSort.main(BucketSort.java:10)\n</code></pre>\n<p>What can I try to resolve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1651787813,"post_id":72071173,"comment_id":127453306,"body_markdown":"Get a Java parsing library so that you can filter comments and strings; everything else is guesswork.","body":"Get a Java parsing library so that you can filter comments and strings; everything else is guesswork."}],"answers":[{"tags":[],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651343872,"creation_date":1651343872,"answer_id":72071193,"question_id":72071173,"body_markdown":"I believe this will do the trick\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport java.io.File;\r\nimport java.util.Arrays;\r\npublic class Exercise21_03 {\r\n    public static void main(String args[]){\r\n        String filename = args[0];\r\n\r\n        // Step 1: read the file.\r\n        File file = new File(filename);\r\n        if(file.exists()){\r\n            try {\r\n                System.out.println(&quot;The number of keywords in &quot;+ filename + &quot; is &quot;+ countKeywords(file));\r\n            } catch (Exception e) {\r\n                System.out.print(e.getMessage());\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;File &quot;+ filename + &quot; does not exist&quot;);\r\n        }\r\n    }\r\n\r\n    public static int countKeywords(File file) throws Exception {\r\n        // Array of all Java keywords + true, ffalse and null\r\n        String[] keywordString = {&quot;abstract&quot;, &quot;assert&quot;, &quot;boolean&quot;,&quot;break&quot;,&quot;byte&quot;,&quot;case&quot;,&quot;catch&quot;,&quot;char&quot;,&quot;class&quot;,&quot;const&quot;,&quot;continue&quot;,&quot;default&quot;,&quot;do&quot;,&quot;double&quot;,&quot;else&quot;,&quot;enum&quot;,&quot;extends&quot;,&quot;for&quot;,&quot;final&quot;,&quot;finally&quot;,&quot;float&quot;,&quot;goto&quot;,&quot;if&quot;,&quot;implements&quot;,&quot;import&quot;,&quot;instanceof&quot;,&quot;int&quot;,&quot;interface&quot;,&quot;long&quot;,&quot;native&quot;,&quot;new&quot;,&quot;package&quot;,&quot;private&quot;,&quot;protected&quot;,&quot;public&quot;,&quot;return&quot;,&quot;short&quot;,&quot;static&quot;,&quot;strictfp&quot;,&quot;super&quot;,&quot;switch&quot;,&quot;synhronized&quot;,&quot;this&quot;,&quot;throw&quot;,&quot;throws&quot;,&quot;transient&quot;,&quot;try&quot;,&quot;void&quot;,&quot;volatile&quot;,&quot;while&quot;,&quot;true&quot;,&quot;false&quot;,&quot;null&quot;};\r\n\r\n        Set&lt;String&gt; keywordSet = new HashSet&lt;&gt;(Arrays.asList(keywordString));\r\n        int count = 0;\r\n        BufferedReader br = new BufferedReader(new FileReader(file));\r\n        String st;\r\n        while((st = br.readLine()) != null){\r\n            String[] words = st.split(&quot; &quot;);\r\n            if(Arrays.asList(words).contains(&quot;//&quot;))\r\n                continue;\r\n            for(String word : words)\r\n                if(keywordSet.contains(word))\r\n                    count++;\r\n        }\r\n        return count;\r\n    }\r\n    \r\n}\r\n\r\n````","title":"How to implement a Java program to count the number of keywords in a Java file","body":"<p>I believe this will do the trick</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.io.File;\nimport java.util.Arrays;\npublic class Exercise21_03 {\n    public static void main(String args[]){\n        String filename = args[0];\n\n        // Step 1: read the file.\n        File file = new File(filename);\n        if(file.exists()){\n            try {\n                System.out.println(&quot;The number of keywords in &quot;+ filename + &quot; is &quot;+ countKeywords(file));\n            } catch (Exception e) {\n                System.out.print(e.getMessage());\n            }\n        }\n        else {\n            System.out.println(&quot;File &quot;+ filename + &quot; does not exist&quot;);\n        }\n    }\n\n    public static int countKeywords(File file) throws Exception {\n        // Array of all Java keywords + true, ffalse and null\n        String[] keywordString = {&quot;abstract&quot;, &quot;assert&quot;, &quot;boolean&quot;,&quot;break&quot;,&quot;byte&quot;,&quot;case&quot;,&quot;catch&quot;,&quot;char&quot;,&quot;class&quot;,&quot;const&quot;,&quot;continue&quot;,&quot;default&quot;,&quot;do&quot;,&quot;double&quot;,&quot;else&quot;,&quot;enum&quot;,&quot;extends&quot;,&quot;for&quot;,&quot;final&quot;,&quot;finally&quot;,&quot;float&quot;,&quot;goto&quot;,&quot;if&quot;,&quot;implements&quot;,&quot;import&quot;,&quot;instanceof&quot;,&quot;int&quot;,&quot;interface&quot;,&quot;long&quot;,&quot;native&quot;,&quot;new&quot;,&quot;package&quot;,&quot;private&quot;,&quot;protected&quot;,&quot;public&quot;,&quot;return&quot;,&quot;short&quot;,&quot;static&quot;,&quot;strictfp&quot;,&quot;super&quot;,&quot;switch&quot;,&quot;synhronized&quot;,&quot;this&quot;,&quot;throw&quot;,&quot;throws&quot;,&quot;transient&quot;,&quot;try&quot;,&quot;void&quot;,&quot;volatile&quot;,&quot;while&quot;,&quot;true&quot;,&quot;false&quot;,&quot;null&quot;};\n\n        Set&lt;String&gt; keywordSet = new HashSet&lt;&gt;(Arrays.asList(keywordString));\n        int count = 0;\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        String st;\n        while((st = br.readLine()) != null){\n            String[] words = st.split(&quot; &quot;);\n            if(Arrays.asList(words).contains(&quot;//&quot;))\n                continue;\n            for(String word : words)\n                if(keywordSet.contains(word))\n                    count++;\n        }\n        return count;\n    }\n    \n}\n\n</code></pre>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651785804,"creation_date":1651343689,"question_id":72071173,"body_markdown":"I am developing a program to read the keywords from a Java file. My goal is to display the total number of keywords excluding the keywords from the strings and comments. \r\n\r\nMy attempt\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport java.io.File;\r\nimport java.util.Arrays;\r\npublic class Exercise21_03 {\r\n    public static void main(String args[]){\r\n        String filename = args[0];\r\n\r\n        // Step 1: read the file.\r\n        File file = new File(filename);\r\n        if(file.exists()){\r\n            try {\r\n                System.out.println(&quot;The number of keywords in &quot;+ filename + &quot; is &quot;+ countKeywords(file));\r\n            } catch (Exception e) {\r\n                System.out.print(e.getMessage());\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;File &quot;+ filename + &quot; does not exist&quot;);\r\n        }\r\n    }\r\n\r\n    public static int countKeywords(File file) throws Exception {\r\n        // Array of all Java keywords + true, ffalse and null\r\n        String[] keywordString = {&quot;abstract&quot;, &quot;assert&quot;, &quot;boolean&quot;,&quot;break&quot;,&quot;byte&quot;,&quot;case&quot;,&quot;catch&quot;,&quot;char&quot;,&quot;class&quot;,&quot;const&quot;,&quot;continue&quot;,&quot;default&quot;,&quot;do&quot;,&quot;double&quot;,&quot;else&quot;,&quot;enum&quot;,&quot;extends&quot;,&quot;for&quot;,&quot;final&quot;,&quot;finally&quot;,&quot;float&quot;,&quot;goto&quot;,&quot;if&quot;,&quot;implements&quot;,&quot;import&quot;,&quot;instanceof&quot;,&quot;int&quot;,&quot;interface&quot;,&quot;long&quot;,&quot;native&quot;,&quot;new&quot;,&quot;package&quot;,&quot;private&quot;,&quot;protected&quot;,&quot;public&quot;,&quot;return&quot;,&quot;short&quot;,&quot;static&quot;,&quot;strictfp&quot;,&quot;super&quot;,&quot;switch&quot;,&quot;synhronized&quot;,&quot;this&quot;,&quot;throw&quot;,&quot;throws&quot;,&quot;transient&quot;,&quot;try&quot;,&quot;void&quot;,&quot;volatile&quot;,&quot;while&quot;,&quot;true&quot;,&quot;false&quot;,&quot;null&quot;};\r\n\r\n        Set&lt;String&gt; keywordSet = new HashSet&lt;&gt;(Arrays.asList(keywordString));\r\n        int count = 0;\r\n        BufferedReader br = new BufferedReader(new FileReader(file));\r\n        String st;\r\n        while((st = br.readLine()) != null){\r\n            String[] words = st.split(&quot; &quot;);\r\n            for(String word : words)\r\n                if(keywordSet.contains(word))\r\n                    count++;\r\n        }\r\n        return count;\r\n    }\r\n    \r\n}\r\n```\r\nWelcome.java\r\n```\r\npublic class Welcome { \r\n  public static void main(String[] args) { \r\n    // Display message Welcome to Java! on the console\r\n    // abstract\r\n    System.out.println(&quot;Welcome to Java!&quot;);\r\n  }\r\n}\r\n```\r\n\r\nExpected:\r\n```\r\njava Exercise21_03 Welcome.java\r\nThe number of keywords in Welcome.java is 5\r\n```\r\n\r\nActual\r\n```\r\njava Exercise21_03 Welcome.java\r\nThe number of keywords in Welcome.java is 6\r\n```\r\n\r\nHow can I process this?\r\n","title":"How to implement a Java program to count the number of keywords in a Java file","body":"<p>I am developing a program to read the keywords from a Java file. My goal is to display the total number of keywords excluding the keywords from the strings and comments.</p>\n<p>My attempt</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.io.File;\nimport java.util.Arrays;\npublic class Exercise21_03 {\n    public static void main(String args[]){\n        String filename = args[0];\n\n        // Step 1: read the file.\n        File file = new File(filename);\n        if(file.exists()){\n            try {\n                System.out.println(&quot;The number of keywords in &quot;+ filename + &quot; is &quot;+ countKeywords(file));\n            } catch (Exception e) {\n                System.out.print(e.getMessage());\n            }\n        }\n        else {\n            System.out.println(&quot;File &quot;+ filename + &quot; does not exist&quot;);\n        }\n    }\n\n    public static int countKeywords(File file) throws Exception {\n        // Array of all Java keywords + true, ffalse and null\n        String[] keywordString = {&quot;abstract&quot;, &quot;assert&quot;, &quot;boolean&quot;,&quot;break&quot;,&quot;byte&quot;,&quot;case&quot;,&quot;catch&quot;,&quot;char&quot;,&quot;class&quot;,&quot;const&quot;,&quot;continue&quot;,&quot;default&quot;,&quot;do&quot;,&quot;double&quot;,&quot;else&quot;,&quot;enum&quot;,&quot;extends&quot;,&quot;for&quot;,&quot;final&quot;,&quot;finally&quot;,&quot;float&quot;,&quot;goto&quot;,&quot;if&quot;,&quot;implements&quot;,&quot;import&quot;,&quot;instanceof&quot;,&quot;int&quot;,&quot;interface&quot;,&quot;long&quot;,&quot;native&quot;,&quot;new&quot;,&quot;package&quot;,&quot;private&quot;,&quot;protected&quot;,&quot;public&quot;,&quot;return&quot;,&quot;short&quot;,&quot;static&quot;,&quot;strictfp&quot;,&quot;super&quot;,&quot;switch&quot;,&quot;synhronized&quot;,&quot;this&quot;,&quot;throw&quot;,&quot;throws&quot;,&quot;transient&quot;,&quot;try&quot;,&quot;void&quot;,&quot;volatile&quot;,&quot;while&quot;,&quot;true&quot;,&quot;false&quot;,&quot;null&quot;};\n\n        Set&lt;String&gt; keywordSet = new HashSet&lt;&gt;(Arrays.asList(keywordString));\n        int count = 0;\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        String st;\n        while((st = br.readLine()) != null){\n            String[] words = st.split(&quot; &quot;);\n            for(String word : words)\n                if(keywordSet.contains(word))\n                    count++;\n        }\n        return count;\n    }\n    \n}\n</code></pre>\n<p>Welcome.java</p>\n<pre><code>public class Welcome { \n  public static void main(String[] args) { \n    // Display message Welcome to Java! on the console\n    // abstract\n    System.out.println(&quot;Welcome to Java!&quot;);\n  }\n}\n</code></pre>\n<p>Expected:</p>\n<pre><code>java Exercise21_03 Welcome.java\nThe number of keywords in Welcome.java is 5\n</code></pre>\n<p>Actual</p>\n<pre><code>java Exercise21_03 Welcome.java\nThe number of keywords in Welcome.java is 6\n</code></pre>\n<p>How can I process this?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1651749390,"post_id":72126075,"comment_id":127439330,"body_markdown":"Can you access your configured repository (e.g. by trying the UI)?","body":"Can you access your configured repository (e.g. by trying the UI)?"},{"owner":{"account_id":6263253,"reputation":1048,"user_id":4869759,"accept_rate":31,"display_name":"Karan"},"score":0,"creation_date":1651749485,"post_id":72126075,"comment_id":127439361,"body_markdown":"@ dunni : Yes , i am able to access","body":"@ dunni : Yes , i am able to access"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1651749909,"post_id":72126075,"comment_id":127439529,"body_markdown":"can you remove contents of spring boot jars from .m2 &amp; try again?","body":"can you remove contents of spring boot jars from .m2 &amp; try again?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1651762622,"post_id":72126075,"comment_id":127444885,"body_markdown":"Is the URL correct? Are you able to access the URL in a browser?","body":"Is the URL correct? Are you able to access the URL in a browser?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1651763821,"post_id":72126075,"comment_id":127445431,"body_markdown":"Looks like a network issue or your configuration to access your repository manager is not ok..","body":"Looks like a network issue or your configuration to access your repository manager is not ok.."}],"answers":[{"tags":[],"owner":{"account_id":23319582,"reputation":62,"user_id":17397713,"display_name":"tarcali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651785012,"creation_date":1651785012,"answer_id":72133702,"question_id":72126075,"body_markdown":"The error says the failure was cached in the local repository. Maybe a clean install maven command could helps:\r\n\r\n    mvn clean install\r\n\r\nYou can set up in IntelliJ, if you use it:\r\n\r\nhttps://www.jetbrains.com/help/idea/work-with-maven-goals.html","title":"Unable to download dependencies","body":"<p>The error says the failure was cached in the local repository. Maybe a clean install maven command could helps:</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>You can set up in IntelliJ, if you use it:</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/work-with-maven-goals.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/work-with-maven-goals.html</a></p>\n"}],"owner":{"account_id":6263253,"reputation":1048,"user_id":4869759,"accept_rate":31,"display_name":"Karan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651785012,"creation_date":1651748334,"question_id":72126075,"body_markdown":"I am start learning java and spring and following the tutorial from web. I have download the structure using https://start.spring.io/. I have problem while building the project in sts.\r\n\r\nBelow is the file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.7&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.restapi&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;restapi&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;restapi&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI am able to access UI as well.\r\n\r\n\r\nError : \r\nProject build error: Non-resolvable parent POM for com.restapi:restapi:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:2.6.7 failed to transfer from url.This failure was cached in the local repository and resolution is not reattempted until the update interval of virtual has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.7 from/to virtual (https://artifactory.xxx.dev/artifactory/docce-maven-dev): Connect timed out and &#39;parent.relativePath&#39; points at no local POM\tpom.xml\t/restapi\tline 5\tMaven pom Loading Problem\r\n ","title":"Unable to download dependencies","body":"<p>I am start learning java and spring and following the tutorial from web. I have download the structure using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>. I have problem while building the project in sts.</p>\n<p>Below is the file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.restapi&lt;/groupId&gt;\n    &lt;artifactId&gt;restapi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;restapi&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I am able to access UI as well.</p>\n<p>Error :\nProject build error: Non-resolvable parent POM for com.restapi:restapi:0.0.1-SNAPSHOT: org.springframework.boot:spring-boot-starter-parent:pom:2.6.7 failed to transfer from url.This failure was cached in the local repository and resolution is not reattempted until the update interval of virtual has elapsed or updates are forced. Original error: Could not transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.6.7 from/to virtual (<a href=\"https://artifactory.xxx.dev/artifactory/docce-maven-dev\" rel=\"nofollow noreferrer\">https://artifactory.xxx.dev/artifactory/docce-maven-dev</a>): Connect timed out and 'parent.relativePath' points at no local POM  pom.xml /restapi    line 5  Maven pom Loading Problem</p>\n"},{"tags":["java","spring","rest","environment","stack-trace"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1651250352,"post_id":72060477,"comment_id":127327447,"body_markdown":"Hi and welcome to stack overflow.  Wow, sounds like there is a lot going on here.  While I do not have a solution for you, I do have some friendly advice on things to consider.  Firstly, managing jar files by hand is terribly difficult.  I would strongly urge you to consider using [Maven](https://maven.apache.org/what-is-maven.html) to manage your jars, dependencies, and to build a .war file for your deployment.  Then could you post the full error stacks between the two environments and what web server are you using?  Tomcat?  Is the same version being used on your localhost as dev?","body":"Hi and welcome to stack overflow.  Wow, sounds like there is a lot going on here.  While I do not have a solution for you, I do have some friendly advice on things to consider.  Firstly, managing jar files by hand is terribly difficult.  I would strongly urge you to consider using <a href=\"https://maven.apache.org/what-is-maven.html\" rel=\"nofollow noreferrer\">Maven</a> to manage your jars, dependencies, and to build a .war file for your deployment.  Then could you post the full error stacks between the two environments and what web server are you using?  Tomcat?  Is the same version being used on your localhost as dev?"},{"owner":{"account_id":25144692,"reputation":1,"user_id":18990633,"display_name":"duhgluss"},"score":0,"creation_date":1651252741,"post_id":72060477,"comment_id":127328306,"body_markdown":"@hooknc, I&#39;ll answer the questions I can and work on the others. I&#39;ll update my post with as much of the stack traces as I&#39;m permitted soon, but I&#39;ll have to redact the proprietary classes. Maven is used to manage all app dependencies. A .war is deployed to the test server. Tomcat is being used, however, the versions are different. In fact, the three JARs with different versions were all Tomcat JARs (catalina.jar, tomcat-util.jar and tomcat-coyote.jar). The challenge is the test environment server is used for multiple applications, not just the one I&#39;m developing. Thank you for your response.","body":"@hooknc, I&#39;ll answer the questions I can and work on the others. I&#39;ll update my post with as much of the stack traces as I&#39;m permitted soon, but I&#39;ll have to redact the proprietary classes. Maven is used to manage all app dependencies. A .war is deployed to the test server. Tomcat is being used, however, the versions are different. In fact, the three JARs with different versions were all Tomcat JARs (catalina.jar, tomcat-util.jar and tomcat-coyote.jar). The challenge is the test environment server is used for multiple applications, not just the one I&#39;m developing. Thank you for your response."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1651253529,"post_id":72060477,"comment_id":127328547,"body_markdown":"Please format your post as the stack trace is quite unreadable","body":"Please format your post as the stack trace is quite unreadable"},{"owner":{"account_id":25144692,"reputation":1,"user_id":18990633,"display_name":"duhgluss"},"score":0,"creation_date":1651596632,"post_id":72060477,"comment_id":127399045,"body_markdown":"A piece of the puzzle. Since the stack trace elements that are different between the two environments are related to ErrorPageFilter, I reviewed the documentation. I learned ErrorPageFilter only comes into play for non-embedded applications, i.e., deployed WAR files. The application running locally is embedded: that&#39;s why ErrorPageFilter isn&#39;t used in that environment. I&#39;m working on setting up a non-embedded application locally. Assuming I&#39;m successful in reproducing the problem locally, I still don&#39;t have a clue as to what the solution is.","body":"A piece of the puzzle. Since the stack trace elements that are different between the two environments are related to ErrorPageFilter, I reviewed the documentation. I learned ErrorPageFilter only comes into play for non-embedded applications, i.e., deployed WAR files. The application running locally is embedded: that&#39;s why ErrorPageFilter isn&#39;t used in that environment. I&#39;m working on setting up a non-embedded application locally. Assuming I&#39;m successful in reproducing the problem locally, I still don&#39;t have a clue as to what the solution is."}],"answers":[{"tags":[],"owner":{"account_id":25144692,"reputation":1,"user_id":18990633,"display_name":"duhgluss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651784581,"creation_date":1651784581,"answer_id":72133620,"question_id":72060477,"body_markdown":"Solved\r\n======\r\n\r\nI was on the right track with ErrorPageFilter. I determined two classes were required:\r\n\r\n 1. An error page needed to be registered for the exception being thrown and the path\r\n 2. An error controller mapping the path to an error handler which throws an exception (the exception is caught by the global handler where the desired response is produced)\r\n\r\nErrorResponseCustomizer.java\r\n----------------------------\r\n\r\n    import org.springframework.boot.web.server.ErrorPage;\r\n    import org.springframework.boot.web.server.ErrorPageRegistrar;\r\n    import org.springframework.boot.web.server.ErrorPageRegistry;\r\n    import org.springframework.security.authentication.BadCredentialsException;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ErrorResponseCustomizer implements ErrorPageRegistrar {\r\n    \t\r\n    \tpublic static final String ERROR_PATH = &quot;/api/error&quot;;\r\n    \r\n    \t@Override\r\n    \tpublic void registerErrorPages(ErrorPageRegistry registry) {\r\n    \t\tregistry.addErrorPages(new ErrorPage(BadCredentialsException.class, ERROR_PATH + &quot;/401&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\nErrorHandlingController.java\r\n----------------------------\r\n\r\n    import org.springframework.boot.web.servlet.error.ErrorController;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import REDACTED.ApiException;\r\n    import REDACTED.ErrorResponseCustomizer;\r\n    \r\n    @RestController\r\n    @RequestMapping(ErrorResponseCustomizer.ERROR_PATH)\r\n    public class ErrorHandlingController implements ErrorController {\r\n    \r\n        @RequestMapping(value = &quot;/401&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;?&gt; authenticationFailure() {\r\n            throw new ApiException(&quot;REDACTED&quot;, HttpStatus.UNAUTHORIZED);\r\n        }\r\n     \r\n    }\r\n\r\n\r\n","title":"Spring REST service behaving differently across environments","body":"<h1>Solved</h1>\n<p>I was on the right track with ErrorPageFilter. I determined two classes were required:</p>\n<ol>\n<li>An error page needed to be registered for the exception being thrown and the path</li>\n<li>An error controller mapping the path to an error handler which throws an exception (the exception is caught by the global handler where the desired response is produced)</li>\n</ol>\n<h2>ErrorResponseCustomizer.java</h2>\n<pre><code>import org.springframework.boot.web.server.ErrorPage;\nimport org.springframework.boot.web.server.ErrorPageRegistrar;\nimport org.springframework.boot.web.server.ErrorPageRegistry;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ErrorResponseCustomizer implements ErrorPageRegistrar {\n    \n    public static final String ERROR_PATH = &quot;/api/error&quot;;\n\n    @Override\n    public void registerErrorPages(ErrorPageRegistry registry) {\n        registry.addErrorPages(new ErrorPage(BadCredentialsException.class, ERROR_PATH + &quot;/401&quot;));\n    }\n\n}\n</code></pre>\n<h2>ErrorHandlingController.java</h2>\n<pre><code>import org.springframework.boot.web.servlet.error.ErrorController;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport REDACTED.ApiException;\nimport REDACTED.ErrorResponseCustomizer;\n\n@RestController\n@RequestMapping(ErrorResponseCustomizer.ERROR_PATH)\npublic class ErrorHandlingController implements ErrorController {\n\n    @RequestMapping(value = &quot;/401&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; authenticationFailure() {\n        throw new ApiException(&quot;REDACTED&quot;, HttpStatus.UNAUTHORIZED);\n    }\n \n}\n</code></pre>\n"}],"owner":{"account_id":25144692,"reputation":1,"user_id":18990633,"display_name":"duhgluss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651784581,"creation_date":1651247043,"question_id":72060477,"body_markdown":"I&#39;m developing a Spring REST service. In my local environment authentication failure returns a 401 response--the desired response. When the application is deployed to the test environment, however, authentication failure returns a 500 response.\r\n\r\nComparing stack traces from the two environments, I determined different JAR versions were used in the test environment. I copied the affected JARs from the test environment to my local environment, configured the local application to use them and tested. (There were three JARs affected; I tested all six JAR order permutations, all produced the same result.)\r\n\r\nWith both environments running JARs with the same version:\r\n\r\n - The local application continues to behave correctly\r\n - The stack traces are still different\r\n\r\nWhile the stack traces are still different, they are now identical except for a section for the test environment related to ErrorPageFilter. The following snippet is from the test environment, the first and last lines are common to both environments:  \r\n```\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]   \r\nat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) [spring-boot-2.6.3.jar:2.6.3]  \r\nat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) [spring-boot-2.6.3.jar:2.6.3]  \r\nat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) [spring-boot-2.6.3.jar:2.6.3]  \r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\nat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) [spring-boot-2.6.3.jar:2.6.3]  \r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \r\n```\r\n\r\nGrasping at straws, I disabled registration of ErrorPageFilter in both environments. My local environment continued to return the desired 401 response; the test environment continued to return the undesired 500 response albeit with an equally undesired HTML response body, not JSON.\r\n\r\nI&#39;m out of ideas. Any insight is appreciated.\r\n\r\nThank you\r\n\r\n**Local environment stack trace:**\r\n```\r\norg.springframework.security.authentication.BadCredentialsException: Authentication failure.  \r\n\tat REDACTED  \r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]  \r\n\tat REDACTED  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]   \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[catalina.jar:9.0.50]   \r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]   \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[catalina.jar:9.0.50]  \r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[catalina.jar:9.0.50]  \r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [catalina.jar:9.0.50]   \r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-coyote.jar:9.0.50]  \r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-coyote.jar:9.0.50]  \r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-coyote.jar:9.0.50]  \r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) [tomcat-coyote.jar:9.0.50]  \r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:9.0.50]  \r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_302]   \r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_302]  \r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:9.0.50]  \r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_302]\r\n```\r\n\r\n**Test environment stack trace:**  \r\n```\r\norg.springframework.security.authentication.BadCredentialsException: Authentication failure.  \r\n\tat REDACTED  \r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.1.jar:5.6.1]  \r\n\tat REDACTED  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]  \r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) [spring-boot-2.6.3.jar:2.6.3]  \r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) [spring-boot-2.6.3.jar:2.6.3]  \r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) [spring-boot-2.6.3.jar:2.6.3]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) [spring-boot-2.6.3.jar:2.6.3]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) [catalina.jar:9.0.50]  \r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [catalina.jar:9.0.50]  \r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-coyote.jar:9.0.50]  \r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-coyote.jar:9.0.50]  \r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-coyote.jar:9.0.50]  \r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) [tomcat-coyote.jar:9.0.50]  \r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:9.0.50]  \r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_322]  \r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_322]  \r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:9.0.50]  \r\n\tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_322]\r\n```","title":"Spring REST service behaving differently across environments","body":"<p>I'm developing a Spring REST service. In my local environment authentication failure returns a 401 response--the desired response. When the application is deployed to the test environment, however, authentication failure returns a 500 response.</p>\n<p>Comparing stack traces from the two environments, I determined different JAR versions were used in the test environment. I copied the affected JARs from the test environment to my local environment, configured the local application to use them and tested. (There were three JARs affected; I tested all six JAR order permutations, all produced the same result.)</p>\n<p>With both environments running JARs with the same version:</p>\n<ul>\n<li>The local application continues to behave correctly</li>\n<li>The stack traces are still different</li>\n</ul>\n<p>While the stack traces are still different, they are now identical except for a section for the test environment related to ErrorPageFilter. The following snippet is from the test environment, the first and last lines are common to both environments:</p>\n<pre><code>at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]   \nat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) [spring-boot-2.6.3.jar:2.6.3]  \nat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) [spring-boot-2.6.3.jar:2.6.3]  \nat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) [spring-boot-2.6.3.jar:2.6.3]  \nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \nat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) [spring-boot-2.6.3.jar:2.6.3]  \nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \n</code></pre>\n<p>Grasping at straws, I disabled registration of ErrorPageFilter in both environments. My local environment continued to return the desired 401 response; the test environment continued to return the undesired 500 response albeit with an equally undesired HTML response body, not JSON.</p>\n<p>I'm out of ideas. Any insight is appreciated.</p>\n<p>Thank you</p>\n<p><strong>Local environment stack trace:</strong></p>\n<pre><code>org.springframework.security.authentication.BadCredentialsException: Authentication failure.  \n    at REDACTED  \n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.1.jar:5.6.1]  \n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.1.jar:5.6.1]  \n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:518) ~[spring-security-config-5.6.1.jar:5.6.1]  \n    at REDACTED  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]   \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[catalina.jar:9.0.50]   \n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]   \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[catalina.jar:9.0.50]  \n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[catalina.jar:9.0.50]  \n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[catalina.jar:9.0.50]  \n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[catalina.jar:9.0.50]  \n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [catalina.jar:9.0.50]  \n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [catalina.jar:9.0.50]  \n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [catalina.jar:9.0.50]  \n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [catalina.jar:9.0.50]   \n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-coyote.jar:9.0.50]  \n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-coyote.jar:9.0.50]  \n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-coyote.jar:9.0.50]  \n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) [tomcat-coyote.jar:9.0.50]  \n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:9.0.50]  \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_302]   \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_302]  \n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:9.0.50]  \n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_302]\n</code></pre>\n<p><strong>Test environment stack trace:</strong></p>\n<pre><code>org.springframework.security.authentication.BadCredentialsException: Authentication failure.  \n    at REDACTED  \n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.6.1.jar:5.6.1]  \n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.6.1.jar:5.6.1]  \n    at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:510) ~[spring-security-config-5.6.1.jar:5.6.1]  \n    at REDACTED  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]  \n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126) [spring-boot-2.6.3.jar:2.6.3]  \n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64) [spring-boot-2.6.3.jar:2.6.3]  \n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101) [spring-boot-2.6.3.jar:2.6.3]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119) [spring-boot-2.6.3.jar:2.6.3]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.15.jar:5.3.15]  \n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) [spring-web-5.3.15.jar:5.3.15]  \n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [catalina.jar:9.0.50]  \n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [catalina.jar:9.0.50]  \n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [catalina.jar:9.0.50]  \n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [catalina.jar:9.0.50]  \n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) [catalina.jar:9.0.50]  \n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687) [catalina.jar:9.0.50]  \n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [catalina.jar:9.0.50]  \n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-coyote.jar:9.0.50]  \n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-coyote.jar:9.0.50]  \n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-coyote.jar:9.0.50]  \n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) [tomcat-coyote.jar:9.0.50]  \n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-coyote.jar:9.0.50]  \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_322]  \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_322]  \n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:9.0.50]  \n    at java.lang.Thread.run(Thread.java:750) [na:1.8.0_322]\n</code></pre>\n"},{"tags":["java","mongodb","junit","mockito"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1651784682,"post_id":72133540,"comment_id":127452528,"body_markdown":"Show us how are you creating your collection instance","body":"Show us how are you creating your collection instance"},{"owner":{"account_id":25208872,"reputation":1,"user_id":19046808,"display_name":"Angelo"},"score":0,"creation_date":1651849201,"post_id":72133540,"comment_id":127469354,"body_markdown":"@Mock MongoCollection&lt;Object&gt; collection is what i am using.","body":"@Mock MongoCollection&lt;Object&gt; collection is what i am using."}],"owner":{"account_id":25208872,"reputation":1,"user_id":19046808,"display_name":"Angelo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651784226,"creation_date":1651784075,"question_id":72133540,"body_markdown":"I have method that is calling mongodb collection to get a list. I want to mock the outcome of the list but i am getting NPE on it.\r\n    \r\n\r\n    public String convertId(String Id, int counter) {\r\n        String id2 = &quot;test&quot;;\r\n        List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\r\n        collection.find(eq(id,id2)).into(objectList);\r\n        Object obj = objectList.get(0);\r\n        return obj.getId();\r\n    }\r\n\r\nI am getting null pointer on collection.find method. The test case is wrote is :\r\n\r\n    @Test\r\n    public void convertIdTest() {\r\n        List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\r\n        Document doc1 = new Document();\r\n        Mockito.when(collection.find(Mockito.any(BasicDBObject.class))).thenReturn(iterable);\r\n        Mockito.when(iterable.iterator()).thenReturn(cursor);\r\n        Mockito.when(cursor.hasNext()).thenReturn(true).thenReturn(false);\r\n        Mockito.when(cursor.next).thenReturn(doc1);\r\n        assertNotNull(request.converId(&quot;1233&quot;,1);\r\n    }\r\n\r\n≈========≈========================\r\n   \r\niterable is of type: \r\n\r\n    FindIterable&lt;Object&gt; iterable = mock(FindIterable.class)\r\n    MongoCursor cursor = mock(MongoCursor.class)\r\n\r\n\r\n   \r\n   \r\n","title":"Mocking a collection.find method","body":"<p>I have method that is calling mongodb collection to get a list. I want to mock the outcome of the list but i am getting NPE on it.</p>\n<pre><code>public String convertId(String Id, int counter) {\n    String id2 = &quot;test&quot;;\n    List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\n    collection.find(eq(id,id2)).into(objectList);\n    Object obj = objectList.get(0);\n    return obj.getId();\n}\n</code></pre>\n<p>I am getting null pointer on collection.find method. The test case is wrote is :</p>\n<pre><code>@Test\npublic void convertIdTest() {\n    List&lt;Object&gt; objectList = new ArrayList&lt;&gt;();\n    Document doc1 = new Document();\n    Mockito.when(collection.find(Mockito.any(BasicDBObject.class))).thenReturn(iterable);\n    Mockito.when(iterable.iterator()).thenReturn(cursor);\n    Mockito.when(cursor.hasNext()).thenReturn(true).thenReturn(false);\n    Mockito.when(cursor.next).thenReturn(doc1);\n    assertNotNull(request.converId(&quot;1233&quot;,1);\n}\n</code></pre>\n<p>≈========≈========================</p>\n<p>iterable is of type:</p>\n<pre><code>FindIterable&lt;Object&gt; iterable = mock(FindIterable.class)\nMongoCursor cursor = mock(MongoCursor.class)\n</code></pre>\n"},{"tags":["java","python-3.x","docker","jaydebeapi"],"comments":[{"owner":{"account_id":9090132,"reputation":43,"user_id":6766368,"display_name":"Krishna Agarwal"},"score":0,"creation_date":1651757978,"post_id":72128006,"comment_id":127442799,"body_markdown":"I have seen some solutions for this [here](https://stackoverflow.com/questions/28462302/libjvm-so-cannot-open-shared-object-file-no-such-file-or-directory) But I am still not sure if this is the right way to go ahead.","body":"I have seen some solutions for this <a href=\"https://stackoverflow.com/questions/28462302/libjvm-so-cannot-open-shared-object-file-no-such-file-or-directory\">here</a> But I am still not sure if this is the right way to go ahead."}],"answers":[{"tags":[],"owner":{"account_id":10815560,"reputation":152,"user_id":7954624,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651762998,"creation_date":1651762998,"answer_id":72129421,"question_id":72128006,"body_markdown":"Are you running this on an apple silicon  mac?\r\n \r\nWhen I build your image, (i&#39;m using an apple silicon mac), I am able to verify that `/usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/libjava.so` does not exist.  It&#39;s instead in `/usr/lib/jvm/java-1.8-openjdk/jre/lib/aarch64`.\r\n\r\nHowever, if I build the image and set the platform to amd like\r\n```\r\nFROM --platform=linux/x86_64  alpine:3.7\r\nRUN apk update \\\r\n&amp;&amp; apk upgrade \\\r\n...\r\n```\r\nthe file is there.  I suspect this is your issue as well\r\n```\r\nalex@laptop ~/r/_/docker_test&gt; docker run --entrypoint /bin/sh -it &lt;image&gt;\r\nWARNING: The requested image&#39;s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested\r\n/ # ls /usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64\r\njli                  libj2gss.so          libjawt.so           libnpt.so\r\njvm.cfg              libj2krb5.so         libjdwp.so           libsplashscreen.so\r\nlibattach.so         libj2pcsc.so         libjsdt.so           libsunec.so\r\nlibawt.so            libj2pkcs11.so       libjsig.so           libunpack.so\r\nlibawt_headless.so   libj2sctp.so         libjsound.so         libverify.so\r\nlibawt_xawt.so       libjaas_unix.so      libjsoundalsa.so     libzip.so\r\nlibdt_socket.so      libjava.so           libmanagement.so     server\r\nlibfontmanager.so    libjava_crw_demo.so  libmlib_image.so\r\nlibhprof.so          libjavajpeg.so       libnet.so\r\nlibinstrument.so     libjavalcms.so       libnio.so\r\n```\r\n","title":"Connect to MSSQL using python jaydebeapi from inside a Docker Image","body":"<p>Are you running this on an apple silicon  mac?</p>\n<p>When I build your image, (i'm using an apple silicon mac), I am able to verify that <code>/usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/libjava.so</code> does not exist.  It's instead in <code>/usr/lib/jvm/java-1.8-openjdk/jre/lib/aarch64</code>.</p>\n<p>However, if I build the image and set the platform to amd like</p>\n<pre><code>FROM --platform=linux/x86_64  alpine:3.7\nRUN apk update \\\n&amp;&amp; apk upgrade \\\n...\n</code></pre>\n<p>the file is there.  I suspect this is your issue as well</p>\n<pre><code>alex@laptop ~/r/_/docker_test&gt; docker run --entrypoint /bin/sh -it &lt;image&gt;\nWARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested\n/ # ls /usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64\njli                  libj2gss.so          libjawt.so           libnpt.so\njvm.cfg              libj2krb5.so         libjdwp.so           libsplashscreen.so\nlibattach.so         libj2pcsc.so         libjsdt.so           libsunec.so\nlibawt.so            libj2pkcs11.so       libjsig.so           libunpack.so\nlibawt_headless.so   libj2sctp.so         libjsound.so         libverify.so\nlibawt_xawt.so       libjaas_unix.so      libjsoundalsa.so     libzip.so\nlibdt_socket.so      libjava.so           libmanagement.so     server\nlibfontmanager.so    libjava_crw_demo.so  libmlib_image.so\nlibhprof.so          libjavajpeg.so       libnet.so\nlibinstrument.so     libjavalcms.so       libnio.so\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9090132,"reputation":43,"user_id":6766368,"display_name":"Krishna Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651783942,"creation_date":1651783942,"answer_id":72133513,"question_id":72128006,"body_markdown":"Found the solution, all I needed to do was to add the following line to my dockerfile.\r\n\r\n    ENV LD_LIBRARY_PATH=&quot;/usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/server&quot;\r\n\r\nThe rest is the same and it worked like a charm! I tried working with `pymssql`, `pyodbc` (FreeTDS one) and nothing seemed to work for me. ","title":"Connect to MSSQL using python jaydebeapi from inside a Docker Image","body":"<p>Found the solution, all I needed to do was to add the following line to my dockerfile.</p>\n<pre><code>ENV LD_LIBRARY_PATH=&quot;/usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/server&quot;\n</code></pre>\n<p>The rest is the same and it worked like a charm! I tried working with <code>pymssql</code>, <code>pyodbc</code> (FreeTDS one) and nothing seemed to work for me.</p>\n"}],"owner":{"account_id":9090132,"reputation":43,"user_id":6766368,"display_name":"Krishna Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72133513,"answer_count":2,"score":0,"last_activity_date":1651783942,"creation_date":1651757295,"question_id":72128006,"body_markdown":"I have a Python code that&#39;s running properly on my system (Mac OS Catalina) but is failing when I am using it in my docker image. I am open to having a completely new dockerfile as well if that can work.\r\n\r\n    import pandas as pd\r\n    import jaydebeapi\r\n    import argparse\r\n    import json\r\n    from datetime import datetime\r\n    import os\r\n    \r\n    \r\n    def read_data():\r\n        MSSQL_DRIVER = &quot;net.sourceforge.jtds.jdbc.Driver&quot;\r\n        host = &#39;server_name&#39;\r\n        port = &#39;1433&#39;\r\n        user = &#39;user&#39;\r\n        password = &#39;password&#39;\r\n        db_url = f&quot;jdbc:jtds:sqlserver://{host}:{port};&quot;\r\n        connection_properties = {\r\n        &quot;user&quot;: user,\r\n        &quot;password&quot;: password\r\n        }\r\n        jar_path = &#39;./jtds-1.3.1.jar&#39;\r\n        connection = jaydebeapi.connect(MSSQL_DRIVER, db_url, connection_properties, jar_path)\r\n        query = &#39;SELECT TOP 10 * FROM table_name;&#39;\r\n        data = pd.read_sql_query(query,connection)\r\n        print(data)\r\n        connection.close()\r\n    \r\n    if __name__ == &quot;__main__&quot;:\r\n        read_data()\r\n\r\nI have the jar file next to my code so it can be picked up properly.\r\n\r\nHere is my dockerfile:\r\n\r\n\r\n    FROM alpine:3.7\r\n    RUN apk update \\\r\n    &amp;&amp; apk upgrade \\\r\n    &amp;&amp; apk add --no-cache bash \\\r\n    &amp;&amp; apk add --no-cache --virtual=build-dependencies unzip \\\r\n    &amp;&amp; apk add --no-cache curl \\\r\n    &amp;&amp; apk add --no-cache openjdk8-jre\r\n    RUN apk add --no-cache python3 \\\r\n    &amp;&amp; python3 -m ensurepip \\\r\n    &amp;&amp; pip3 install --upgrade pip setuptools \\\r\n    &amp;&amp; rm -r /usr/lib/python*/ensurepip &amp;&amp; \\\r\n    if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi &amp;&amp; \\\r\n    if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi &amp;&amp; \\\r\n    rm -r /root/.cache\r\n    RUN apk add make automake gcc g++ subversion python3-dev\r\n    RUN pip install --trusted-host pypi.python.org flask\r\n    ENV JAVA_HOME=&quot;/usr/lib/jvm/java-1.8-openjdk&quot;\r\n    EXPOSE 8000 \r\n    WORKDIR /usr/src/app\r\n    COPY requirements.txt .\r\n    RUN pip install -r requirements.txt\r\n    COPY jtds-1.3.1.jar .\r\n    COPY server.py .\r\n    CMD [&quot;python&quot;, &quot;server.py&quot;]\r\n\r\n\r\nThe error that I am getting is:\r\n\r\n    Error occurred during initialization of VM\r\n    Unable to load native library: Error loading shared library libjvm.so: No such file or directory (needed by /usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/libjava.so)\r\n\r\n\r\nPlease suggest me better dockerfile that I can use. Thanks for the help :)\r\n\r\n","title":"Connect to MSSQL using python jaydebeapi from inside a Docker Image","body":"<p>I have a Python code that's running properly on my system (Mac OS Catalina) but is failing when I am using it in my docker image. I am open to having a completely new dockerfile as well if that can work.</p>\n<pre><code>import pandas as pd\nimport jaydebeapi\nimport argparse\nimport json\nfrom datetime import datetime\nimport os\n\n\ndef read_data():\n    MSSQL_DRIVER = &quot;net.sourceforge.jtds.jdbc.Driver&quot;\n    host = 'server_name'\n    port = '1433'\n    user = 'user'\n    password = 'password'\n    db_url = f&quot;jdbc:jtds:sqlserver://{host}:{port};&quot;\n    connection_properties = {\n    &quot;user&quot;: user,\n    &quot;password&quot;: password\n    }\n    jar_path = './jtds-1.3.1.jar'\n    connection = jaydebeapi.connect(MSSQL_DRIVER, db_url, connection_properties, jar_path)\n    query = 'SELECT TOP 10 * FROM table_name;'\n    data = pd.read_sql_query(query,connection)\n    print(data)\n    connection.close()\n\nif __name__ == &quot;__main__&quot;:\n    read_data()\n</code></pre>\n<p>I have the jar file next to my code so it can be picked up properly.</p>\n<p>Here is my dockerfile:</p>\n<pre><code>FROM alpine:3.7\nRUN apk update \\\n&amp;&amp; apk upgrade \\\n&amp;&amp; apk add --no-cache bash \\\n&amp;&amp; apk add --no-cache --virtual=build-dependencies unzip \\\n&amp;&amp; apk add --no-cache curl \\\n&amp;&amp; apk add --no-cache openjdk8-jre\nRUN apk add --no-cache python3 \\\n&amp;&amp; python3 -m ensurepip \\\n&amp;&amp; pip3 install --upgrade pip setuptools \\\n&amp;&amp; rm -r /usr/lib/python*/ensurepip &amp;&amp; \\\nif [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi &amp;&amp; \\\nif [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi &amp;&amp; \\\nrm -r /root/.cache\nRUN apk add make automake gcc g++ subversion python3-dev\nRUN pip install --trusted-host pypi.python.org flask\nENV JAVA_HOME=&quot;/usr/lib/jvm/java-1.8-openjdk&quot;\nEXPOSE 8000 \nWORKDIR /usr/src/app\nCOPY requirements.txt .\nRUN pip install -r requirements.txt\nCOPY jtds-1.3.1.jar .\nCOPY server.py .\nCMD [&quot;python&quot;, &quot;server.py&quot;]\n</code></pre>\n<p>The error that I am getting is:</p>\n<pre><code>Error occurred during initialization of VM\nUnable to load native library: Error loading shared library libjvm.so: No such file or directory (needed by /usr/lib/jvm/java-1.8-openjdk/jre/lib/amd64/libjava.so)\n</code></pre>\n<p>Please suggest me better dockerfile that I can use. Thanks for the help :)</p>\n"},{"tags":["java","android","listview","firebase-realtime-database"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1651807948,"post_id":72133291,"comment_id":127456361,"body_markdown":"Are you sure that the link is valid or not?","body":"Are you sure that the link is valid or not?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651822392,"post_id":72133291,"comment_id":127459393,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":23287983,"reputation":11,"user_id":17370507,"display_name":"Zhytel"},"score":0,"creation_date":1651829414,"post_id":72133291,"comment_id":127461901,"body_markdown":"How to check if a link is working?","body":"How to check if a link is working?"},{"owner":{"account_id":23287983,"reputation":11,"user_id":17370507,"display_name":"Zhytel"},"score":0,"creation_date":1651829467,"post_id":72133291,"comment_id":127461919,"body_markdown":"Alex Mamo Photos not showing up in custom adapter","body":"Alex Mamo Photos not showing up in custom adapter"}],"owner":{"account_id":23287983,"reputation":11,"user_id":17370507,"display_name":"Zhytel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651783483,"creation_date":1651782588,"question_id":72133291,"body_markdown":"When using a custom adapter in Firebase, I ran into a problem that everything works, but the pictures in the sheet are not displayed. Something incomprehensible is highlighted, but not her. It is necessary that they be in a normal sheet and they can be seen. I think it&#39;s because of the context in Picasso. The guide I followed had a wish(mContext) method that I can&#39;t use now. Please help, I don&#39;t understand what is the problem. I am attaching the image_item.xml code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_margin=&quot;8dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_view_name&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:text=&quot;Name&quot;\r\n            android:textColor=&quot;@android:color/black&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image_view_upload&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;200dp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\nactivity_images\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ImagesActivity&quot;&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progress_circle&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerInParent=&quot;true&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n```\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.List;\r\n\r\n\r\npublic class ImageAdapter extends RecyclerView.Adapter&lt;ImageAdapter.ImageViewHolder&gt; {\r\n    private Context mContext;\r\n    private List&lt;Upload&gt; mUploads;\r\n\r\n    public ImageAdapter(Context context, List&lt;Upload&gt; uploads) {\r\n        mContext = context;\r\n        mUploads = uploads;\r\n    }\r\n\r\n    @Override\r\n    public ImageViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(mContext).inflate(R.layout.image_item, parent, false);\r\n        return new ImageViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(ImageViewHolder holder, int position) {\r\n        Upload uploadCurrent = mUploads.get(position);\r\n        holder.textViewName.setText(uploadCurrent.getName());\r\n        Picasso.get()\r\n                .load(uploadCurrent.getImageUrl())\r\n                .placeholder(R.mipmap.ic_launcher)\r\n                .fit()\r\n                .centerCrop()\r\n                .into(holder.imageView);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mUploads.size();\r\n    }\r\n\r\n    public class ImageViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView textViewName;\r\n        public ImageView imageView;\r\n\r\n        public ImageViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            textViewName = itemView.findViewById(R.id.text_view_name);\r\n            imageView = itemView.findViewById(R.id.image_view_upload);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\nimport android.os.Bundle;\r\n\r\nimport android.view.View;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ImagesActivity extends AppCompatActivity {\r\n    private RecyclerView mRecyclerView;\r\n    private ImageAdapter mAdapter;\r\n\r\n    private ProgressBar mProgressCircle;\r\n\r\n    private DatabaseReference mDatabaseRef;\r\n    private List&lt;Upload&gt; mUploads;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_images);\r\n\r\n        mRecyclerView = findViewById(R.id.recycler_view);\r\n        mRecyclerView.setHasFixedSize(true);\r\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        mProgressCircle = findViewById(R.id.progress_circle);\r\n\r\n        mUploads = new ArrayList&lt;&gt;();\r\n\r\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference(&quot;uploads&quot;);\r\n\r\n        mDatabaseRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\r\n                    Upload upload = postSnapshot.getValue(Upload.class);\r\n                    mUploads.add(upload);\r\n                }\r\n\r\n                mAdapter = new ImageAdapter(ImagesActivity.this, mUploads);\r\n                mAdapter.notifyDataSetChanged();\r\n                mRecyclerView.setAdapter(mAdapter);\r\n                mProgressCircle.setVisibility(View.INVISIBLE);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Toast.makeText(ImagesActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n                mProgressCircle.setVisibility(View.INVISIBLE);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YMDD4.png\r\n  [2]: https://i.stack.imgur.com/XgGar.png","title":"Images not showing in List Firebase","body":"<p>When using a custom adapter in Firebase, I ran into a problem that everything works, but the pictures in the sheet are not displayed. Something incomprehensible is highlighted, but not her. It is necessary that they be in a normal sheet and they can be seen. I think it's because of the context in Picasso. The guide I followed had a wish(mContext) method that I can't use now. Please help, I don't understand what is the problem. I am attaching the image_item.xml code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;8dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/text_view_name&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_marginBottom=&quot;8dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:text=&quot;Name&quot;\n            android:textColor=&quot;@android:color/black&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/image_view_upload&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;200dp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>activity_images</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ImagesActivity&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progress_circle&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<pre><code>import android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.squareup.picasso.Picasso;\n\nimport java.util.List;\n\n\npublic class ImageAdapter extends RecyclerView.Adapter&lt;ImageAdapter.ImageViewHolder&gt; {\n    private Context mContext;\n    private List&lt;Upload&gt; mUploads;\n\n    public ImageAdapter(Context context, List&lt;Upload&gt; uploads) {\n        mContext = context;\n        mUploads = uploads;\n    }\n\n    @Override\n    public ImageViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(mContext).inflate(R.layout.image_item, parent, false);\n        return new ImageViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(ImageViewHolder holder, int position) {\n        Upload uploadCurrent = mUploads.get(position);\n        holder.textViewName.setText(uploadCurrent.getName());\n        Picasso.get()\n                .load(uploadCurrent.getImageUrl())\n                .placeholder(R.mipmap.ic_launcher)\n                .fit()\n                .centerCrop()\n                .into(holder.imageView);\n    }\n\n    @Override\n    public int getItemCount() {\n        return mUploads.size();\n    }\n\n    public class ImageViewHolder extends RecyclerView.ViewHolder {\n        public TextView textViewName;\n        public ImageView imageView;\n\n        public ImageViewHolder(View itemView) {\n            super(itemView);\n\n            textViewName = itemView.findViewById(R.id.text_view_name);\n            imageView = itemView.findViewById(R.id.image_view_upload);\n        }\n    }\n}\n</code></pre>\n<pre><code>import android.os.Bundle;\n\nimport android.view.View;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ImagesActivity extends AppCompatActivity {\n    private RecyclerView mRecyclerView;\n    private ImageAdapter mAdapter;\n\n    private ProgressBar mProgressCircle;\n\n    private DatabaseReference mDatabaseRef;\n    private List&lt;Upload&gt; mUploads;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_images);\n\n        mRecyclerView = findViewById(R.id.recycler_view);\n        mRecyclerView.setHasFixedSize(true);\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        mProgressCircle = findViewById(R.id.progress_circle);\n\n        mUploads = new ArrayList&lt;&gt;();\n\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference(&quot;uploads&quot;);\n\n        mDatabaseRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\n                    Upload upload = postSnapshot.getValue(Upload.class);\n                    mUploads.add(upload);\n                }\n\n                mAdapter = new ImageAdapter(ImagesActivity.this, mUploads);\n                mAdapter.notifyDataSetChanged();\n                mRecyclerView.setAdapter(mAdapter);\n                mProgressCircle.setVisibility(View.INVISIBLE);\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Toast.makeText(ImagesActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n                mProgressCircle.setVisibility(View.INVISIBLE);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","try-catch","try-with-resources"],"comments":[{"owner":{"account_id":3049953,"reputation":1893,"user_id":2584754,"accept_rate":50,"display_name":"Jazzwave06"},"score":4,"creation_date":1414007940,"post_id":26516020,"comment_id":41661863,"body_markdown":"the difference is you don&#39;t need to call stream.close() in the try-wth-resource. It is called automatically af if you had a finally clause that closes it. Only objects implmenting Closeable or AutoCloseable can be used in try-with-resouce clause.","body":"the difference is you don&#39;t need to call stream.close() in the try-wth-resource. It is called automatically af if you had a finally clause that closes it. Only objects implmenting Closeable or AutoCloseable can be used in try-with-resouce clause."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":4,"creation_date":1414008015,"post_id":26516020,"comment_id":41661897,"body_markdown":"You don&#39;t need to (or most probably shouldn&#39;t) call `stream.close();` in `try{..}` section. It should be done in `finally` section which try-with-resources will handle for you (BTW try-with-resources can handle multiple resources).","body":"You don&#39;t need to (or most probably shouldn&#39;t) call <code>stream.close();</code> in <code>try{..}</code> section. It should be done in <code>finally</code> section which try-with-resources will handle for you (BTW try-with-resources can handle multiple resources)."}],"answers":[{"tags":[],"owner":{"account_id":1559832,"reputation":8600,"user_id":1449982,"accept_rate":67,"display_name":"Dima"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1414008065,"creation_date":1414008065,"answer_id":26516061,"question_id":26516020,"body_markdown":"The only difference is that try-resource is adding automatically `resource.close();`\r\nas you would do in `finally` block","title":"Try With Resources vs Try-Catch","body":"<p>The only difference is that try-resource is adding automatically <code>resource.close();</code>\nas you would do in <code>finally</code> block</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1414008108,"creation_date":1414008108,"answer_id":26516076,"question_id":26516020,"body_markdown":"You missed something, the `finally` block. The [`try-with-resouces`](http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) will make it something like,\r\n\r\n    FileOutputStream outStream = null;\r\n    try {\r\n      outStream = new FileOutputStream(&quot;people.bin&quot;);\r\n      ObjectOutputStream stream = new ObjectOutputStream(outStream);\r\n\r\n      stream.writeObject(jar);\r\n      stream.writeObject(can);\r\n\r\n      stream.close();\r\n    } catch(FileNotFoundException e) {\r\n        System.out.println(&quot;sorry it didn&#39;t work out&quot;);\r\n    } catch(IOException f) {\r\n        System.out.println(&quot;sorry it didn&#39;t work out&quot;);\r\n    } finally {\r\n      if (outStream != null) { \r\n        try { \r\n          outStream.close(); \r\n        } catch (Exception e) {\r\n        } \r\n      }\r\n    }\r\n\r\nWhich means you really wanted something like (**never** swallow exceptions),\r\n\r\n    try (FileOutputStream outStream = new FileOutputStream(&quot;people.bin&quot;);\r\n         ObjectOutputStream stream = new ObjectOutputStream(outStream);) {\r\n      stream.writeObject(jar);\r\n      stream.writeObject(can);\r\n      // stream.close(); // &lt;-- closed by try-with-resources.\r\n    } catch(FileNotFoundException e) {\r\n        System.out.println(&quot;sorry it didn&#39;t work out&quot;);\r\n        e.printStackTrace();\r\n    } catch(IOException f) {\r\n        System.out.println(&quot;sorry it didn&#39;t work out&quot;);\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Try With Resources vs Try-Catch","body":"<p>You missed something, the <code>finally</code> block. The <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\"><code>try-with-resouces</code></a> will make it something like,</p>\n\n<pre><code>FileOutputStream outStream = null;\ntry {\n  outStream = new FileOutputStream(\"people.bin\");\n  ObjectOutputStream stream = new ObjectOutputStream(outStream);\n\n  stream.writeObject(jar);\n  stream.writeObject(can);\n\n  stream.close();\n} catch(FileNotFoundException e) {\n    System.out.println(\"sorry it didn't work out\");\n} catch(IOException f) {\n    System.out.println(\"sorry it didn't work out\");\n} finally {\n  if (outStream != null) { \n    try { \n      outStream.close(); \n    } catch (Exception e) {\n    } \n  }\n}\n</code></pre>\n\n<p>Which means you really wanted something like (<strong>never</strong> swallow exceptions),</p>\n\n<pre><code>try (FileOutputStream outStream = new FileOutputStream(\"people.bin\");\n     ObjectOutputStream stream = new ObjectOutputStream(outStream);) {\n  stream.writeObject(jar);\n  stream.writeObject(can);\n  // stream.close(); // &lt;-- closed by try-with-resources.\n} catch(FileNotFoundException e) {\n    System.out.println(\"sorry it didn't work out\");\n    e.printStackTrace();\n} catch(IOException f) {\n    System.out.println(\"sorry it didn't work out\");\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1651782996,"creation_date":1414008921,"answer_id":26516323,"question_id":26516020,"body_markdown":"The main point of try-with-resources is to make sure resources are closed reliably without possibly losing information.  \r\n\r\nWhen you don&#39;t use try-with-resources there&#39;s a potential pitfall called exception-masking. When code in a try block throws an exception, and the close method in the finally also throws an exception, the exception thrown by the try block gets lost and the exception thrown in the finally gets propagated. This is usually unfortunate, since the exception thrown on close is something unhelpful while the informative one is the one thrown from within the try block.  (So instead of seeing the SQLException that tells you which referential integrity constraint was violated, you&#39;re shown something like BrokenPipeException where closing the resource failed.)\r\n\r\nThis exception-masking is an annoying problem that try-with-resources prevents from happening.\r\n\r\nAs part of making sure exception-masking wouldn&#39;t lose important exception information, when try-with-resources was developed they had to decide what to do with the exceptions thrown from the close method.\r\n\r\nWith try-with-resources, if the try block throws an exception and the close method also throws an exception, then [the exception from the close block gets tacked on to the original exception][1]:\r\n\r\n&gt; ... there are situations where two independent exceptions can be thrown in sibling code blocks, in particular in the try block of a try-with-resources statement and the compiler-generated finally block which closes the resource. In these situations, only one of the thrown exceptions can be propagated. In the try-with-resources statement, when there are two such exceptions, the exception originating from the try block is propagated and the exception from the finally block is added to the list of exceptions suppressed by the exception from the try block. As an exception unwinds the stack, it can accumulate multiple suppressed exceptions. \r\n\r\nOn the other hand if your code completes normally but the resource you&#39;re using throws an exception on close, that exception (which would get suppressed if the code in the try block threw anything) gets thrown. That means that if you have some JDBC code where a ResultSet or PreparedStatement is closed by try-with-resources, an exception resulting from some infrastructure glitch when a JDBC object gets closed can be thrown and can rollback an operation that otherwise would have completed successfully.\r\n\r\nWithout try-with-resources whether the close method exception gets thrown is up to the application code. If it gets thrown in a finally block when the try block throws an exception, the exception from the finally block will mask the other exception. But the developer has the option of catching the exception thrown on close and not propagating it. \r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getSuppressed%28%29","title":"Try With Resources vs Try-Catch","body":"<p>The main point of try-with-resources is to make sure resources are closed reliably without possibly losing information.</p>\n<p>When you don't use try-with-resources there's a potential pitfall called exception-masking. When code in a try block throws an exception, and the close method in the finally also throws an exception, the exception thrown by the try block gets lost and the exception thrown in the finally gets propagated. This is usually unfortunate, since the exception thrown on close is something unhelpful while the informative one is the one thrown from within the try block.  (So instead of seeing the SQLException that tells you which referential integrity constraint was violated, you're shown something like BrokenPipeException where closing the resource failed.)</p>\n<p>This exception-masking is an annoying problem that try-with-resources prevents from happening.</p>\n<p>As part of making sure exception-masking wouldn't lose important exception information, when try-with-resources was developed they had to decide what to do with the exceptions thrown from the close method.</p>\n<p>With try-with-resources, if the try block throws an exception and the close method also throws an exception, then <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getSuppressed%28%29\" rel=\"noreferrer\">the exception from the close block gets tacked on to the original exception</a>:</p>\n<blockquote>\n<p>... there are situations where two independent exceptions can be thrown in sibling code blocks, in particular in the try block of a try-with-resources statement and the compiler-generated finally block which closes the resource. In these situations, only one of the thrown exceptions can be propagated. In the try-with-resources statement, when there are two such exceptions, the exception originating from the try block is propagated and the exception from the finally block is added to the list of exceptions suppressed by the exception from the try block. As an exception unwinds the stack, it can accumulate multiple suppressed exceptions.</p>\n</blockquote>\n<p>On the other hand if your code completes normally but the resource you're using throws an exception on close, that exception (which would get suppressed if the code in the try block threw anything) gets thrown. That means that if you have some JDBC code where a ResultSet or PreparedStatement is closed by try-with-resources, an exception resulting from some infrastructure glitch when a JDBC object gets closed can be thrown and can rollback an operation that otherwise would have completed successfully.</p>\n<p>Without try-with-resources whether the close method exception gets thrown is up to the application code. If it gets thrown in a finally block when the try block throws an exception, the exception from the finally block will mask the other exception. But the developer has the option of catching the exception thrown on close and not propagating it.</p>\n"},{"tags":[],"owner":{"account_id":2537686,"reputation":107,"user_id":2204335,"display_name":"apurbojha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516706534,"creation_date":1516706534,"answer_id":48400492,"question_id":26516020,"body_markdown":"Any object (either the class or their superclass) that implements java.lang.AutoCloseable or java.io.Closeable\r\ncan only be used in try-with-resource clause.\r\nAutoClosable interface is the parent interface and Closable interface extends the AutoClosable interface.AutoClosable interface has method close which throws Exception while Closable interface has method that throws IOException.\r\nWe can also have catch and finally block followed by try-with-resource like ordinary try, catch and finally, but catch and finally block only get executed once the resource declared inside the try-with-resource clause is closed.","title":"Try With Resources vs Try-Catch","body":"<p>Any object (either the class or their superclass) that implements java.lang.AutoCloseable or java.io.Closeable\ncan only be used in try-with-resource clause.\nAutoClosable interface is the parent interface and Closable interface extends the AutoClosable interface.AutoClosable interface has method close which throws Exception while Closable interface has method that throws IOException.\nWe can also have catch and finally block followed by try-with-resource like ordinary try, catch and finally, but catch and finally block only get executed once the resource declared inside the try-with-resource clause is closed.</p>\n"},{"tags":[],"owner":{"account_id":5645202,"reputation":134,"user_id":4467548,"display_name":"visionset"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582803541,"creation_date":1582803541,"answer_id":60432427,"question_id":26516020,"body_markdown":"Succinctly it is syntactic sugar to support the AutoClosable interface and call the close() method for you for any outcome.","title":"Try With Resources vs Try-Catch","body":"<p>Succinctly it is syntactic sugar to support the AutoClosable interface and call the close() method for you for any outcome.</p>\n"}],"owner":{"account_id":4708452,"reputation":687,"user_id":3809791,"accept_rate":100,"display_name":"computerquest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38756,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"closed_date":1585932695,"accepted_answer_id":26516323,"answer_count":5,"score":50,"last_activity_date":1651782996,"creation_date":1414007885,"question_id":26516020,"body_markdown":"I have been looking at code and I have seen try with resources. I have used the standard try-catch statement before and it looks like they do the same thing. So my question is **Try With Resources vs Try-Catch**  what are the differences between those, and which is better.\r\n\r\n Here is a try with resources :\r\n\r\n    objects jar = new objects(&quot;brand&quot;);\r\n    objects can= new objects(&quot;brand&quot;);\r\n\r\n    try (FileOutputStream outStream = new FileOutputStream(&quot;people.bin&quot;)){\r\n    \tObjectOutputStream stream = new ObjectOutputStream(outStream);\r\n    \t\r\n    \tstream.writeObject(jar);\r\n    \tstream.writeObject(can);\r\n    \r\n    \tstream.close();\r\n    } catch(FileNotFoundException e) {\r\n    \tSystem.out.println(&quot;sorry it didn&#39;t work out&quot;);\r\n    } catch(IOException f) {\r\n    \tSystem.out.println(&quot;sorry it didn&#39;t work out&quot;);\r\n    }","title":"Try With Resources vs Try-Catch","body":"<p>I have been looking at code and I have seen try with resources. I have used the standard try-catch statement before and it looks like they do the same thing. So my question is <strong>Try With Resources vs Try-Catch</strong>  what are the differences between those, and which is better.</p>\n\n<p>Here is a try with resources :</p>\n\n<pre><code>objects jar = new objects(\"brand\");\nobjects can= new objects(\"brand\");\n\ntry (FileOutputStream outStream = new FileOutputStream(\"people.bin\")){\n    ObjectOutputStream stream = new ObjectOutputStream(outStream);\n\n    stream.writeObject(jar);\n    stream.writeObject(can);\n\n    stream.close();\n} catch(FileNotFoundException e) {\n    System.out.println(\"sorry it didn't work out\");\n} catch(IOException f) {\n    System.out.println(\"sorry it didn't work out\");\n}\n</code></pre>\n"},{"tags":["java","multithreading","jersey","jax-rs","jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651782746,"creation_date":1651782746,"answer_id":72133321,"question_id":72133204,"body_markdown":"The servlet `AsyncContext.start(Runnable)` is the preferred way if you want to interact with the Servlet API and contexts from within your `Runnable` (this will run within the Servlet Container&#39;s Thread Pool and allow the container to manage the various contexts around your thread, like classloaders, security, cdi, sessions, etc).\r\n\r\nThe ONLY downside with the `AsyncContext` approach is that you are consuming Servlet Container threads to do your processing.  If you also use Servlet Async I/O, then you&#39;ve offset this negative in a grand way, and you&#39;ll actually have a noticeable improvement in your ability to scale.\r\n\r\nIf you have no requirement to interact with the Servlet API from your `Runnable`, then go with simple threads executed from a Thread Pool you have obtained from the Java `Executors`.\r\n","title":"What is best practise when creating new threads when inside a servlet container?","body":"<p>The servlet <code>AsyncContext.start(Runnable)</code> is the preferred way if you want to interact with the Servlet API and contexts from within your <code>Runnable</code> (this will run within the Servlet Container's Thread Pool and allow the container to manage the various contexts around your thread, like classloaders, security, cdi, sessions, etc).</p>\n<p>The ONLY downside with the <code>AsyncContext</code> approach is that you are consuming Servlet Container threads to do your processing.  If you also use Servlet Async I/O, then you've offset this negative in a grand way, and you'll actually have a noticeable improvement in your ability to scale.</p>\n<p>If you have no requirement to interact with the Servlet API from your <code>Runnable</code>, then go with simple threads executed from a Thread Pool you have obtained from the Java <code>Executors</code>.</p>\n"}],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72133321,"answer_count":1,"score":0,"last_activity_date":1651782775,"creation_date":1651782150,"question_id":72133204,"body_markdown":"Today I was looking at some web app code that used `Executors.newSingleThreadScheduledExecutor()` on a per request basis to poll a REST API for a final status (think `COMPLETE`, `FAILED`, etc.). Knowing that a servlet container is already a highly concurrent environment, it worried me each request thread was creating another thread.\r\n\r\nI have looked at creating a fixed sized thread pool but I&#39;m not certain if it has to be managed in a servlet container specific way. I&#39;m unsure how to decide on an optimal size. I&#39;m also not completely confident that this is the right course of action.\r\n\r\nI&#39;d like to confirm that this indeed is dangerous with of an explanation of why and understand what a superior solution might look like.","title":"What is best practise when creating new threads when inside a servlet container?","body":"<p>Today I was looking at some web app code that used <code>Executors.newSingleThreadScheduledExecutor()</code> on a per request basis to poll a REST API for a final status (think <code>COMPLETE</code>, <code>FAILED</code>, etc.). Knowing that a servlet container is already a highly concurrent environment, it worried me each request thread was creating another thread.</p>\n<p>I have looked at creating a fixed sized thread pool but I'm not certain if it has to be managed in a servlet container specific way. I'm unsure how to decide on an optimal size. I'm also not completely confident that this is the right course of action.</p>\n<p>I'd like to confirm that this indeed is dangerous with of an explanation of why and understand what a superior solution might look like.</p>\n"},{"tags":["java","database","postgresql","schemacrawler"],"answers":[{"tags":[],"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651782701,"creation_date":1651782701,"answer_id":72133312,"question_id":72114795,"body_markdown":"Simply change the output format from `TextOutputFormat.html` to `DiagramOutputFormat.scdot`.\r\n\r\nSualeh Fatehi, [SchemaCrawler][1]\r\n\r\n\r\n  [1]: https://www.schemacrawler.com/","title":"How to generate .dot file using Schemacrawler","body":"<p>Simply change the output format from <code>TextOutputFormat.html</code> to <code>DiagramOutputFormat.scdot</code>.</p>\n<p>Sualeh Fatehi, <a href=\"https://www.schemacrawler.com/\" rel=\"nofollow noreferrer\">SchemaCrawler</a></p>\n"}],"owner":{"account_id":15345283,"reputation":105,"user_id":11160974,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72133312,"answer_count":1,"score":0,"last_activity_date":1651782701,"creation_date":1651674839,"question_id":72114795,"body_markdown":"Using schemcrawler I&#39;ve generated `html` file\r\n\r\n    public final class ExecutableExample {\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n\r\n        // Set log level\r\n        new LoggingConfig(Level.OFF);\r\n        final LimitOptionsBuilder limitOptionsBuilder = LimitOptionsBuilder.builder()\r\n                .includeSchemas(new IncludeAll())\r\n                .includeTables(new IncludeAll());\r\n        final LoadOptionsBuilder loadOptionsBuilder =\r\n                LoadOptionsBuilder.builder()\r\n                        // Set what details are required in the schema - this affects the\r\n                        // time taken to crawl the schema\r\n                        .withSchemaInfoLevel(SchemaInfoLevelBuilder.standard());\r\n        final SchemaCrawlerOptions options =\r\n                SchemaCrawlerOptionsBuilder.newSchemaCrawlerOptions()\r\n                        .withLimitOptions(limitOptionsBuilder.toOptions())\r\n                        .withLoadOptions(loadOptionsBuilder.toOptions());\r\n\r\n        final Path outputFile = getOutputFile(args);\r\n        final OutputOptions outputOptions =\r\n                OutputOptionsBuilder.newOutputOptions(TextOutputFormat.html, outputFile);\r\n        final String command = &quot;schema&quot;;\r\n\r\n        try (Connection connection = getConnection()) {\r\n            final SchemaCrawlerExecutable executable = new SchemaCrawlerExecutable(command);\r\n            executable.setSchemaCrawlerOptions(options);\r\n            executable.setOutputOptions(outputOptions);\r\n            executable.setConnection(connection);\r\n            executable.execute();\r\n        }\r\n\r\n        System.out.println(&quot;Created output file, &quot; + outputFile);\r\n    }\r\n\r\n    private static Connection getConnection() {\r\n        final String connectionUrl = &quot;jdbc:postgresql://localhost:5433/table_accounts&quot;;\r\n        final DatabaseConnectionSource dataSource = new DatabaseConnectionSource(connectionUrl);\r\n        dataSource.setUserCredentials(new SingleUseUserCredentials(&quot;postgres&quot;, &quot;new_password&quot;));\r\n        return dataSource.get();\r\n    }\r\n\r\n    private static Path getOutputFile(final String[] args) {\r\n        final String outputfile;\r\n        if (args != null &amp;&amp; args.length &gt; 0 &amp;&amp; !isBlank(args[0])) {\r\n            outputfile = args[0];\r\n        } else {\r\n            outputfile = &quot;./schemacrawler_output.html&quot;;\r\n        }\r\n        final Path outputFile = Paths.get(outputfile).toAbsolutePath().normalize();\r\n        return outputFile;\r\n    }\r\n\r\nBut I want to have an output in .dot file that contains diagram, node, graph, edge etc.. So how can I do it using my code or maybe some another way to do it with Java?","title":"How to generate .dot file using Schemacrawler","body":"<p>Using schemcrawler I've generated <code>html</code> file</p>\n<pre><code>public final class ExecutableExample {\n\npublic static void main(final String[] args) throws Exception {\n\n    // Set log level\n    new LoggingConfig(Level.OFF);\n    final LimitOptionsBuilder limitOptionsBuilder = LimitOptionsBuilder.builder()\n            .includeSchemas(new IncludeAll())\n            .includeTables(new IncludeAll());\n    final LoadOptionsBuilder loadOptionsBuilder =\n            LoadOptionsBuilder.builder()\n                    // Set what details are required in the schema - this affects the\n                    // time taken to crawl the schema\n                    .withSchemaInfoLevel(SchemaInfoLevelBuilder.standard());\n    final SchemaCrawlerOptions options =\n            SchemaCrawlerOptionsBuilder.newSchemaCrawlerOptions()\n                    .withLimitOptions(limitOptionsBuilder.toOptions())\n                    .withLoadOptions(loadOptionsBuilder.toOptions());\n\n    final Path outputFile = getOutputFile(args);\n    final OutputOptions outputOptions =\n            OutputOptionsBuilder.newOutputOptions(TextOutputFormat.html, outputFile);\n    final String command = &quot;schema&quot;;\n\n    try (Connection connection = getConnection()) {\n        final SchemaCrawlerExecutable executable = new SchemaCrawlerExecutable(command);\n        executable.setSchemaCrawlerOptions(options);\n        executable.setOutputOptions(outputOptions);\n        executable.setConnection(connection);\n        executable.execute();\n    }\n\n    System.out.println(&quot;Created output file, &quot; + outputFile);\n}\n\nprivate static Connection getConnection() {\n    final String connectionUrl = &quot;jdbc:postgresql://localhost:5433/table_accounts&quot;;\n    final DatabaseConnectionSource dataSource = new DatabaseConnectionSource(connectionUrl);\n    dataSource.setUserCredentials(new SingleUseUserCredentials(&quot;postgres&quot;, &quot;new_password&quot;));\n    return dataSource.get();\n}\n\nprivate static Path getOutputFile(final String[] args) {\n    final String outputfile;\n    if (args != null &amp;&amp; args.length &gt; 0 &amp;&amp; !isBlank(args[0])) {\n        outputfile = args[0];\n    } else {\n        outputfile = &quot;./schemacrawler_output.html&quot;;\n    }\n    final Path outputFile = Paths.get(outputfile).toAbsolutePath().normalize();\n    return outputFile;\n}\n</code></pre>\n<p>But I want to have an output in .dot file that contains diagram, node, graph, edge etc.. So how can I do it using my code or maybe some another way to do it with Java?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1573565778,"post_id":58819789,"comment_id":103916976,"body_markdown":"may be try this https://stackoverflow.com/questions/54690518/spring-kafka-jsondesirialization-messageconversionexception-failed-to-resolve-cl/54691909#54691909","body":"may be try this <a href=\"https://stackoverflow.com/questions/54690518/spring-kafka-jsondesirialization-messageconversionexception-failed-to-resolve-cl/54691909#54691909\" title=\"spring kafka jsondesirialization messageconversionexception failed to resolve cl\">stackoverflow.com/questions/54690518/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1573569773,"creation_date":1573569773,"answer_id":58820939,"question_id":58819789,"body_markdown":"The `JsonDeserializer.TRUSTED_PACKAGES` is fully not related to headers.\r\nThis one can deal with `key` or `value` of the `ConsumerRecord. The header mapper happens slightly in a different place.\r\n\r\nNot sure if you use Spring Boot, but there is a `MessagingMessageListenerAdapter` which comes with a default `MessagingMessageConverter` and, therefore, default `DefaultKafkaHeaderMapper`. To customize for your own `HeaderMapper`, you need crate that `MessagingMessageConverter`, take a reference to a `HeaderMapper` and inject that converter into an `AbstractKafkaListenerContainerFactory` bean.\r\n\r\nIf you deal with Spring Boot, there is just enough to declare that `MessagingMessageConverter` and it is going to be auto-configured into an `AbstractKafkaListenerContainerFactory` created by the framework.\r\n\r\nThis way you can get access to your trusted packages. However I think 3it is not going to work yet because `enum` is not so JSON-friendly by default: https://www.baeldung.com/jackson-serialize-enums","title":"Allowed packages in custom header of Kafka-Message","body":"<p>The <code>JsonDeserializer.TRUSTED_PACKAGES</code> is fully not related to headers.\nThis one can deal with <code>key</code> or <code>value</code> of the `ConsumerRecord. The header mapper happens slightly in a different place.</p>\n\n<p>Not sure if you use Spring Boot, but there is a <code>MessagingMessageListenerAdapter</code> which comes with a default <code>MessagingMessageConverter</code> and, therefore, default <code>DefaultKafkaHeaderMapper</code>. To customize for your own <code>HeaderMapper</code>, you need crate that <code>MessagingMessageConverter</code>, take a reference to a <code>HeaderMapper</code> and inject that converter into an <code>AbstractKafkaListenerContainerFactory</code> bean.</p>\n\n<p>If you deal with Spring Boot, there is just enough to declare that <code>MessagingMessageConverter</code> and it is going to be auto-configured into an <code>AbstractKafkaListenerContainerFactory</code> created by the framework.</p>\n\n<p>This way you can get access to your trusted packages. However I think 3it is not going to work yet because <code>enum</code> is not so JSON-friendly by default: <a href=\"https://www.baeldung.com/jackson-serialize-enums\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-serialize-enums</a></p>\n"}],"owner":{"account_id":1485612,"reputation":67,"user_id":1393967,"display_name":"Reims"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58820939,"answer_count":1,"score":1,"last_activity_date":1651782547,"creation_date":1573565364,"question_id":58819789,"body_markdown":"In spring-kafka, how do I add classes from a package to be trusted as a custom header field?\r\n\r\nThe message is being sent like this:\r\n\r\n    @Autowired\r\n    private KafkaTemplate kafkaTemplate;\r\n\r\n    Message&lt;BouquetMQDTO&gt; m = MessageBuilder\r\n                .withPayload(payload)\r\n                .setHeader(KafkaHeaders.TOPIC, &quot;topic&quot;)\r\n                .setHeader(&quot;EVENT_TYPE&quot;, MessageType.UPSERT)\r\n                .build();\r\n    kafkaTemplate.send(m);\r\n\r\n\r\nThe receiving end looks like this:\r\n\r\n    @Component\r\n    @KafkaListener(topics = &quot;topic&quot;)\r\n    public class KafkaController {\r\n\r\n        @KafkaHandler\r\n        public void listen(\r\n            @Payload Object objectDTO,\r\n            @Header(value = &quot;EVENT_TYPE&quot;) MessageType messageType\r\n        ) { \r\n            System.out.println(messageType);\r\n        }\r\n    }\r\n\r\nThe exception I keep getting is this:\r\n\r\n&gt; Caused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.kafka.support.DefaultKafkaHeaderMapper$NonTrustedHeaderType] to type [@org.springframework.messaging.handler.annotation.Header my.package.MessageType]\r\n\r\nMessageType is an enum and I can get it working by sending the String representation and using valueOf() on the receiving side but this solution does not quite feel right. There also loads of tutorials that use something from java.utils, which is trusted by default.\r\n\r\nI found that you should be able to declare a bean to allow the enum to be deserialized:\r\n\r\n    @Bean\r\n    public KafkaHeaderMapper defaultKafkaHeaderMapper() {\r\n        DefaultKafkaHeaderMapper mapper = new DefaultKafkaHeaderMapper();\r\n        mapper.addTrustedPackages(&quot;my.package&quot;);\r\n        return mapper;\r\n    }\r\n\r\nSadly, this doesn&#39;t work. The exceptions remains the same. I assume I have to declare some more beans and use the KafkaHeaderMapper bean in there, but I can&#39;t seem to find out which those are.\r\nI also already have an ConsumerFactory bean where I allow packages to be used as payloads, but allowing the package the enum is from there doesn&#39;t do anything either.\r\n\r\n    props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;my.other.package,my.package&quot;);\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);","title":"Allowed packages in custom header of Kafka-Message","body":"<p>In spring-kafka, how do I add classes from a package to be trusted as a custom header field?</p>\n\n<p>The message is being sent like this:</p>\n\n<pre><code>@Autowired\nprivate KafkaTemplate kafkaTemplate;\n\nMessage&lt;BouquetMQDTO&gt; m = MessageBuilder\n            .withPayload(payload)\n            .setHeader(KafkaHeaders.TOPIC, \"topic\")\n            .setHeader(\"EVENT_TYPE\", MessageType.UPSERT)\n            .build();\nkafkaTemplate.send(m);\n</code></pre>\n\n<p>The receiving end looks like this:</p>\n\n<pre><code>@Component\n@KafkaListener(topics = \"topic\")\npublic class KafkaController {\n\n    @KafkaHandler\n    public void listen(\n        @Payload Object objectDTO,\n        @Header(value = \"EVENT_TYPE\") MessageType messageType\n    ) { \n        System.out.println(messageType);\n    }\n}\n</code></pre>\n\n<p>The exception I keep getting is this:</p>\n\n<blockquote>\n  <p>Caused by: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.kafka.support.DefaultKafkaHeaderMapper$NonTrustedHeaderType] to type [@org.springframework.messaging.handler.annotation.Header my.package.MessageType]</p>\n</blockquote>\n\n<p>MessageType is an enum and I can get it working by sending the String representation and using valueOf() on the receiving side but this solution does not quite feel right. There also loads of tutorials that use something from java.utils, which is trusted by default.</p>\n\n<p>I found that you should be able to declare a bean to allow the enum to be deserialized:</p>\n\n<pre><code>@Bean\npublic KafkaHeaderMapper defaultKafkaHeaderMapper() {\n    DefaultKafkaHeaderMapper mapper = new DefaultKafkaHeaderMapper();\n    mapper.addTrustedPackages(\"my.package\");\n    return mapper;\n}\n</code></pre>\n\n<p>Sadly, this doesn't work. The exceptions remains the same. I assume I have to declare some more beans and use the KafkaHeaderMapper bean in there, but I can't seem to find out which those are.\nI also already have an ConsumerFactory bean where I allow packages to be used as payloads, but allowing the package the enum is from there doesn't do anything either.</p>\n\n<pre><code>props.put(JsonDeserializer.TRUSTED_PACKAGES, \"my.other.package,my.package\");\nreturn new DefaultKafkaConsumerFactory&lt;&gt;(props);\n</code></pre>\n"},{"tags":["java","angular","http","post","quarkus"],"comments":[{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1651800541,"post_id":72133258,"comment_id":127455360,"body_markdown":"Can you show your Quarkus endpoint?","body":"Can you show your Quarkus endpoint?"},{"owner":{"account_id":17397714,"reputation":41,"user_id":12607192,"display_name":"Adam Michael"},"score":0,"creation_date":1651828411,"post_id":72133258,"comment_id":127461465,"body_markdown":"Its the default form login set with \n\nquarkus.http.auth.form.enabled=true\nquarkus.http.auth.form.post-location=/api/login\nin the application.properties","body":"Its the default form login set with   quarkus.http.auth.form.enabled=true quarkus.http.auth.form.post-location=/api/login in the application.properties"},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1651835610,"post_id":72133258,"comment_id":127464004,"body_markdown":"I didn&#39;t know this feature, I saw it now on https://quarkus.io/guides/security-built-in-authentication . Interesting.","body":"I didn&#39;t know this feature, I saw it now on <a href=\"https://quarkus.io/guides/security-built-in-authentication\" rel=\"nofollow noreferrer\">quarkus.io/guides/security-built-in-authentication</a> . Interesting."},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1651836124,"post_id":72133258,"comment_id":127464206,"body_markdown":"When you wrote &quot;My Postman config: Post: Body(Type:formdata) with username and password to http://localhost:4200/api/login&quot;, is it correct or it should be &quot;http://localhost:8080/api/login&quot;? If it is working with Postman, I&#39;ll try to see the RAW HTTP request send by Postman and compare it with the RAW HTTP request send by Angular.","body":"When you wrote &quot;My Postman config: Post: Body(Type:formdata) with username and password to <a href=\"http://localhost:4200/api/login\" rel=\"nofollow noreferrer\">localhost:4200/api/login</a>&quot;, is it correct or it should be &quot;<a href=\"http://localhost:8080/api/login\" rel=\"nofollow noreferrer\">localhost:8080/api/login</a>&quot;? If it is working with Postman, I&#39;ll try to see the RAW HTTP request send by Postman and compare it with the RAW HTTP request send by Angular."},{"owner":{"account_id":17397714,"reputation":41,"user_id":12607192,"display_name":"Adam Michael"},"score":1,"creation_date":1651839963,"post_id":72133258,"comment_id":127465543,"body_markdown":"Well I setup a proxy for angular so both are working fine, both give me a correct cookie back.","body":"Well I setup a proxy for angular so both are working fine, both give me a correct cookie back."}],"owner":{"account_id":17397714,"reputation":41,"user_id":12607192,"display_name":"Adam Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651782442,"creation_date":1651782442,"question_id":72133258,"body_markdown":"I am currently trying to log in my angular frontend to my quarkus backend.\r\nI implemented the login and setup an angular proxy and already managed to log into my quarkus backend with postman.\r\n\r\nMy Postman config:\r\nPost: Body(Type:formdata) with username and password to http://localhost:4200/api/login\r\n\r\nMy Angular login request:\r\n\r\n    this.http.post(&quot;/api/login&quot;, this.loginForm.value, {\r\n        headers: new HttpHeaders({\r\n        &#39;Content-Type&#39;: &#39;multipart/form-data&#39;\r\n      })\r\n    }).subscribe(\r\n      (data: any) =&gt; {\r\n        console.log(data);\r\n      });\r\n\r\nHowever calling this post in the frontend returns the following error (bundled or dev-server are the same):\r\n\r\n    core.mjs:6461 ERROR \r\n    HttpErrorResponse {headers: HttpHeaders, status: 405, statusText: &#39;Method Not Allowed&#39;, url: &#39;http://localhost:8080/api/login&#39;, ok: false, …}\r\n    error: &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Error&lt;/title&gt;&lt;/head&gt;&lt;body&gt;HTTP method POST is not supported by this URL&lt;/body&gt;&lt;/html&gt;&quot;\r\n    headers: HttpHeaders {normalizedNames: Map(0), lazyUpdate: null, lazyInit: ƒ}\r\n    message: &quot;Http failure response for http://localhost:8080/api/login: 405 Method Not Allowed&quot;\r\n    name: &quot;HttpErrorResponse&quot;\r\n    ok: false\r\n    status: 405\r\n    statusText: &quot;Method Not Allowed&quot;\r\n    url: &quot;http://localhost:8080/api/login&quot;\r\n    [[Prototype]]: HttpResponseBase","title":"Getting an unexpected 405 in an bundled angular form request with quarkus","body":"<p>I am currently trying to log in my angular frontend to my quarkus backend.\nI implemented the login and setup an angular proxy and already managed to log into my quarkus backend with postman.</p>\n<p>My Postman config:\nPost: Body(Type:formdata) with username and password to http://localhost:4200/api/login</p>\n<p>My Angular login request:</p>\n<pre><code>this.http.post(&quot;/api/login&quot;, this.loginForm.value, {\n    headers: new HttpHeaders({\n    'Content-Type': 'multipart/form-data'\n  })\n}).subscribe(\n  (data: any) =&gt; {\n    console.log(data);\n  });\n</code></pre>\n<p>However calling this post in the frontend returns the following error (bundled or dev-server are the same):</p>\n<pre><code>core.mjs:6461 ERROR \nHttpErrorResponse {headers: HttpHeaders, status: 405, statusText: 'Method Not Allowed', url: 'http://localhost:8080/api/login', ok: false, …}\nerror: &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Error&lt;/title&gt;&lt;/head&gt;&lt;body&gt;HTTP method POST is not supported by this URL&lt;/body&gt;&lt;/html&gt;&quot;\nheaders: HttpHeaders {normalizedNames: Map(0), lazyUpdate: null, lazyInit: ƒ}\nmessage: &quot;Http failure response for http://localhost:8080/api/login: 405 Method Not Allowed&quot;\nname: &quot;HttpErrorResponse&quot;\nok: false\nstatus: 405\nstatusText: &quot;Method Not Allowed&quot;\nurl: &quot;http://localhost:8080/api/login&quot;\n[[Prototype]]: HttpResponseBase\n</code></pre>\n"},{"tags":["java","node.js","jwt","express-jwt"],"comments":[{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1612788700,"post_id":66095210,"comment_id":116867698,"body_markdown":"based on the given information I also can&#39;t spot an error. Please show a token and the secret used to create the token.","body":"based on the given information I also can&#39;t spot an error. Please show a token and the secret used to create the token."},{"owner":{"account_id":6392236,"reputation":645,"user_id":4957929,"display_name":"Pronoy999"},"score":0,"creation_date":1615973659,"post_id":66095210,"comment_id":117855104,"body_markdown":"Are you sure that the algorithm used in NodeJS and Java is same? I can&#39;t see where you are setting the encryption algorithm in NodeJS.","body":"Are you sure that the algorithm used in NodeJS and Java is same? I can&#39;t see where you are setting the encryption algorithm in NodeJS."}],"answers":[{"tags":[],"owner":{"account_id":11441413,"reputation":322,"user_id":8386848,"display_name":"ahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646125118,"creation_date":1646125118,"answer_id":71305946,"question_id":66095210,"body_markdown":"I think the issue is the string secret. By calling `getBytes(&quot;UTF-8&quot;)` on your secret and providing `signWith()` with the `byte[]`, everything will work out.\r\n```java\r\nString username = Jwts.parser()\r\n                    .setSigningKey(secret.getBytes(&quot;UTF-8&quot;))\r\n                    .parseClaimsJws(accessToken)\r\n                    .getBody()\r\n                    .getSubject();\r\n```\r\n(Also need to catch the UnsupportedEncodingException!)","title":"JWT Signing in NodeJS and but unable to verify in Java","body":"<p>I think the issue is the string secret. By calling <code>getBytes(&quot;UTF-8&quot;)</code> on your secret and providing <code>signWith()</code> with the <code>byte[]</code>, everything will work out.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String username = Jwts.parser()\n                    .setSigningKey(secret.getBytes(&quot;UTF-8&quot;))\n                    .parseClaimsJws(accessToken)\n                    .getBody()\n                    .getSubject();\n</code></pre>\n<p>(Also need to catch the UnsupportedEncodingException!)</p>\n"},{"tags":[],"owner":{"account_id":2970596,"reputation":373,"user_id":2522715,"display_name":"Yurifull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651782261,"creation_date":1651782261,"answer_id":72133221,"question_id":66095210,"body_markdown":"In my case, solved like this:\r\n\r\nGENERATE JWT IN EXPRESS:\r\n\r\n    jwt.sign({ issuer: new Date(), roles, exp: Math.floor(Date.now() / 1000) + (43200) }, SECRET, {\r\n          algorithm: &#39;HS256&#39;,\r\n          subject: username,\r\n          jwtid: jwtId,\r\n        }, (err, token) =&gt; {\r\n          if (err) {\r\n            logger.error(util.inspect(err));\r\n          }\r\n          resolve({ token, jwtId });\r\n        });\r\n\r\nIN JAVA I READ USING **&quot;SECRET&quot;.getBytes(&quot;UTF-8&quot;)**:\r\n\r\n    Claims claims = Jwts.parser().setSigningKey(&quot;SECRET&quot;.getBytes(&quot;UTF-8&quot;)).parseClaimsJws(token).getBody();\r\n    \t\t\trequest.setAttribute(&quot;claims&quot;, claims);\r\n\r\n","title":"JWT Signing in NodeJS and but unable to verify in Java","body":"<p>In my case, solved like this:</p>\n<p>GENERATE JWT IN EXPRESS:</p>\n<pre><code>jwt.sign({ issuer: new Date(), roles, exp: Math.floor(Date.now() / 1000) + (43200) }, SECRET, {\n      algorithm: 'HS256',\n      subject: username,\n      jwtid: jwtId,\n    }, (err, token) =&gt; {\n      if (err) {\n        logger.error(util.inspect(err));\n      }\n      resolve({ token, jwtId });\n    });\n</code></pre>\n<p>IN JAVA I READ USING <strong>&quot;SECRET&quot;.getBytes(&quot;UTF-8&quot;)</strong>:</p>\n<pre><code>Claims claims = Jwts.parser().setSigningKey(&quot;SECRET&quot;.getBytes(&quot;UTF-8&quot;)).parseClaimsJws(token).getBody();\n            request.setAttribute(&quot;claims&quot;, claims);\n</code></pre>\n"}],"owner":{"account_id":410516,"reputation":1647,"user_id":782400,"accept_rate":41,"display_name":"user782400"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72133221,"answer_count":2,"score":0,"last_activity_date":1651782261,"creation_date":1612751426,"question_id":66095210,"body_markdown":"I want to pass a JWT token from a NodeJS service to another service in Java. However, based on the what I&#39;ve tried, the token is always invalid whenever I try to verify it on the Java side. I do understand the JWT is platform-independent but I&#39;m not able to figure out why is the token not able to get verified on the Java side.\r\n\r\n**Error: io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted**\r\n\r\nNodeJS signing the token (using express-jwt library)\r\n```\r\n    const jwtPayload = { id: &quot;admin&quot; };\r\n    const secret = &quot; ... some secret ...&quot;;\r\n    const jwtData = { expiresIn: 2h };\r\n\tconst access_token = jwt.sign(jwtPayload, secret, jwtData);\r\n```\r\n\r\nJava verifying the token (using io.jsonwebtoken)\r\n```\r\nString secret = &quot;...same as on the nodejs side&quot;\r\nString accessToken = &quot; .. access_token from nodejs .. &quot;\r\nString username = Jwts.parserBuilder().setSigningKey(secret).build().parseClaimsJws(accessToken).getBody().getSubject();\r\n```\r\n\r\nI have not set any additional options either on the NodeJS side or the Java side. Am I missing some configuration on either of the platforms? Or should I be using a different library?","title":"JWT Signing in NodeJS and but unable to verify in Java","body":"<p>I want to pass a JWT token from a NodeJS service to another service in Java. However, based on the what I've tried, the token is always invalid whenever I try to verify it on the Java side. I do understand the JWT is platform-independent but I'm not able to figure out why is the token not able to get verified on the Java side.</p>\n<p><strong>Error: io.jsonwebtoken.security.SignatureException: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted</strong></p>\n<p>NodeJS signing the token (using express-jwt library)</p>\n<pre><code>    const jwtPayload = { id: &quot;admin&quot; };\n    const secret = &quot; ... some secret ...&quot;;\n    const jwtData = { expiresIn: 2h };\n    const access_token = jwt.sign(jwtPayload, secret, jwtData);\n</code></pre>\n<p>Java verifying the token (using io.jsonwebtoken)</p>\n<pre><code>String secret = &quot;...same as on the nodejs side&quot;\nString accessToken = &quot; .. access_token from nodejs .. &quot;\nString username = Jwts.parserBuilder().setSigningKey(secret).build().parseClaimsJws(accessToken).getBody().getSubject();\n</code></pre>\n<p>I have not set any additional options either on the NodeJS side or the Java side. Am I missing some configuration on either of the platforms? Or should I be using a different library?</p>\n"},{"tags":["java","arrays","swing"],"comments":[{"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"score":0,"creation_date":1651782108,"post_id":72133141,"comment_id":127451797,"body_markdown":"This seems like it could be an XY problem, so I&#39;ll ask for some clarification. Are you specifically wanting your images to be loaded into an array, or are you wanting to get an image from an already-loaded array of images and then display one of them? http://xyproblem.info","body":"This seems like it could be an XY problem, so I&#39;ll ask for some clarification. Are you specifically wanting your images to be loaded into an array, or are you wanting to get an image from an already-loaded array of images and then display one of them? <a href=\"http://xyproblem.info\" rel=\"nofollow noreferrer\">xyproblem.info</a>"},{"owner":{"display_name":"user19046617"},"score":0,"creation_date":1651782648,"post_id":72133141,"comment_id":127451953,"body_markdown":"I suppose I need to add them to an array first. I just have all of my images loaded up into a folder right now. After they are loaded into an array, I will need to display them. To clarify, I need an image to appear for both of the JLables being displayed in my GUI.","body":"I suppose I need to add them to an array first. I just have all of my images loaded up into a folder right now. After they are loaded into an array, I will need to display them. To clarify, I need an image to appear for both of the JLables being displayed in my GUI."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1651786504,"post_id":72133141,"comment_id":127452990,"body_markdown":"Create a `CharacterName` class to hold a `String` name and a `BufferedImage` image.  Create an array of `CharacterName` objects.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"Create a <code>CharacterName</code> class to hold a <code>String</code> name and a <code>BufferedImage</code> image.  Create an array of <code>CharacterName</code> objects.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651787336,"post_id":72133141,"comment_id":127453192,"body_markdown":"You&#39;re going to probably run into problems having a [null layout](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)","body":"You&#39;re going to probably run into problems having a <a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">null layout</a>"}],"owner":{"display_name":"user19046617"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651781744,"creation_date":1651781744,"question_id":72133141,"body_markdown":"I am trying to make a character generator in java swing. You click the generate button, and it randomly pulls two character names from an array and displays them as JLabels (newGenerate, newGenerate2) in the GUI (one name on top, and the other on the bottom). I would like for an image of the randomly chosen character to appear when their name is pulled. I have no clue how to do it. Forgive me if this doesn&#39;t make any sense, I am new to this. \r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.Random;\r\nimport java.awt.event.*;\r\n\r\nclass Main implements ActionListener{\r\n  JFrame f = new JFrame(&quot;ℂ&#120153;&#120146;&#120163;&#120146;&#120148;&#120165;&#120150;&#120163; &#120126;&#120150;&#120159;&#120150;&#120163;&#120146;&#120165;&#120160;&#120163;&quot;);\r\n  Random r = new Random();\r\n  JButton generate = new JButton(&quot;Generate&quot;);\r\n  JButton clear = new JButton(&quot;Clear&quot;);\r\n  JLabel newGenerate = new JLabel(&quot;Character&quot;, JLabel.CENTER);\r\n  JLabel newGenerate2 = new JLabel(&quot;Character&quot;, JLabel.CENTER);\r\n  Color custBlue = new Color(10, 63, 250);\r\n  Color custOrange = new Color(251,167,88);\r\n  Color saturatedCustOrange = new Color(254, 127, 46);\r\n  ImageIcon back_image = new ImageIcon(&quot;images/back_ground.jpg&quot;);\r\n  JLabel img2 = new JLabel(back_image);\r\n  ImageIcon wheel = new ImageIcon(&quot;images/loading_wheel.gif&quot;);\r\n  JLabel img = new JLabel(wheel);\r\n\r\n  String[] names1 = {&quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character1&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character2&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character3&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character4&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character6&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character6&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character7&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character8&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align=&#39;center&#39;&gt;Character9&lt;/p&gt;&lt;/html&gt;&quot;,};\r\n  \r\n  public static void main(String[] args) {\r\n    Main o = new Main();\r\n    o.gui();\r\n  }\r\n  public void gui(){\r\n    f.setSize(500, 400);\r\n    \r\n    this.newGenerate.setBounds(250,190, 100, 40);\r\n    this.newGenerate.setForeground(saturatedCustOrange);\r\n    f.add(this.newGenerate);\r\n\r\n    this.newGenerate2.setBounds(250,10, 100, 40);\r\n    this.newGenerate2.setForeground(saturatedCustOrange);\r\n    f.add(this.newGenerate2);\r\n\r\n    this.generate.setBounds(28, 140, 120, 40);\r\n    generate.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\r\n    this.generate.setForeground(custOrange);\r\n    this.generate.setBackground(custBlue);\r\n    this.generate.addActionListener(this);\r\n    f.add(this.generate);\r\n\r\n    this.clear.setBounds(28, 190, 120, 40);\r\n    clear.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\r\n    this.clear.setForeground(custOrange);\r\n    this.clear.setBackground(custBlue);\r\n    this.clear.addActionListener(this);\r\n    f.add(this.clear);\r\n\r\n    \r\n    img.setBounds(0, -10,500,400);\r\n    f.add(img);\r\n\r\n    img2.setBounds(0, -10,500,400);\r\n    f.add(img2);\r\n       \r\n    f.setLayout(null);\r\n    f.setVisible(true);\r\n  }\r\n  public void actionPerformed(ActionEvent e){\r\n  if(e.getSource() == this.clear){\r\n    img.setVisible(true);\r\n    this.newGenerate.setText(&quot;Character&quot;);\r\n    this.newGenerate2.setText(&quot;Character&quot;);\r\n  }\r\n  else{\r\n    this.newGenerate.setText(this.returnChar());\r\n    this.newGenerate2.setText(this.returnChar());\r\n    img.setVisible(false); \r\n  }\r\n}\r\n\r\n  public String returnChar() {\r\n    int ranNum = r.nextInt(this.names1.length);\r\n    \r\n    return this.names1[ranNum];\r\n }\r\n}\r\n```","title":"How can I make a set of images correspond to an array in a GUI?","body":"<p>I am trying to make a character generator in java swing. You click the generate button, and it randomly pulls two character names from an array and displays them as JLabels (newGenerate, newGenerate2) in the GUI (one name on top, and the other on the bottom). I would like for an image of the randomly chosen character to appear when their name is pulled. I have no clue how to do it. Forgive me if this doesn't make any sense, I am new to this.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.util.Random;\nimport java.awt.event.*;\n\nclass Main implements ActionListener{\n  JFrame f = new JFrame(&quot;ℂ𝕙𝕒𝕣𝕒𝕔𝕥𝕖𝕣 𝔾𝕖𝕟𝕖𝕣𝕒𝕥𝕠𝕣&quot;);\n  Random r = new Random();\n  JButton generate = new JButton(&quot;Generate&quot;);\n  JButton clear = new JButton(&quot;Clear&quot;);\n  JLabel newGenerate = new JLabel(&quot;Character&quot;, JLabel.CENTER);\n  JLabel newGenerate2 = new JLabel(&quot;Character&quot;, JLabel.CENTER);\n  Color custBlue = new Color(10, 63, 250);\n  Color custOrange = new Color(251,167,88);\n  Color saturatedCustOrange = new Color(254, 127, 46);\n  ImageIcon back_image = new ImageIcon(&quot;images/back_ground.jpg&quot;);\n  JLabel img2 = new JLabel(back_image);\n  ImageIcon wheel = new ImageIcon(&quot;images/loading_wheel.gif&quot;);\n  JLabel img = new JLabel(wheel);\n\n  String[] names1 = {&quot;&lt;html&gt;&lt;p align='center'&gt;Character1&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Character2&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Character3&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Character4&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Character6&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Character6&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Character7&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Character8&lt;/p&gt;&lt;/html&gt;&quot;, &quot;&lt;html&gt;&lt;p align='center'&gt;Character9&lt;/p&gt;&lt;/html&gt;&quot;,};\n  \n  public static void main(String[] args) {\n    Main o = new Main();\n    o.gui();\n  }\n  public void gui(){\n    f.setSize(500, 400);\n    \n    this.newGenerate.setBounds(250,190, 100, 40);\n    this.newGenerate.setForeground(saturatedCustOrange);\n    f.add(this.newGenerate);\n\n    this.newGenerate2.setBounds(250,10, 100, 40);\n    this.newGenerate2.setForeground(saturatedCustOrange);\n    f.add(this.newGenerate2);\n\n    this.generate.setBounds(28, 140, 120, 40);\n    generate.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\n    this.generate.setForeground(custOrange);\n    this.generate.setBackground(custBlue);\n    this.generate.addActionListener(this);\n    f.add(this.generate);\n\n    this.clear.setBounds(28, 190, 120, 40);\n    clear.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\n    this.clear.setForeground(custOrange);\n    this.clear.setBackground(custBlue);\n    this.clear.addActionListener(this);\n    f.add(this.clear);\n\n    \n    img.setBounds(0, -10,500,400);\n    f.add(img);\n\n    img2.setBounds(0, -10,500,400);\n    f.add(img2);\n       \n    f.setLayout(null);\n    f.setVisible(true);\n  }\n  public void actionPerformed(ActionEvent e){\n  if(e.getSource() == this.clear){\n    img.setVisible(true);\n    this.newGenerate.setText(&quot;Character&quot;);\n    this.newGenerate2.setText(&quot;Character&quot;);\n  }\n  else{\n    this.newGenerate.setText(this.returnChar());\n    this.newGenerate2.setText(this.returnChar());\n    img.setVisible(false); \n  }\n}\n\n  public String returnChar() {\n    int ranNum = r.nextInt(this.names1.length);\n    \n    return this.names1[ranNum];\n }\n}\n</code></pre>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1651781175,"post_id":72133016,"comment_id":127451533,"body_markdown":"How are you initializing `authorSpringDataRepository` ? What configurations are you using for this test class ?","body":"How are you initializing <code>authorSpringDataRepository</code> ? What configurations are you using for this test class ?"},{"owner":{"account_id":15068941,"reputation":39,"user_id":10875127,"display_name":"Sritaj Patel"},"score":0,"creation_date":1651782042,"post_id":72133016,"comment_id":127451779,"body_markdown":"@JorgeCampos\n\nI have updated the description for your questions, as mentioned the configuration is working with Annotation - BeforeTest which I verified but not with Annotation - BeforeTest. Not sure if there is some limitation or property from TestNG of which I am not aware of.\n\nThank You","body":"@JorgeCampos  I have updated the description for your questions, as mentioned the configuration is working with Annotation - BeforeTest which I verified but not with Annotation - BeforeTest. Not sure if there is some limitation or property from TestNG of which I am not aware of.  Thank You"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1651782605,"post_id":72133016,"comment_id":127451933,"body_markdown":"So you mean that replacing the `@BeforeMethod` with `@Test` will cause the NPE?","body":"So you mean that replacing the <code>@BeforeMethod</code> with <code>@Test</code> will cause the NPE?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1651789108,"post_id":72133016,"comment_id":127453594,"body_markdown":"I would recommend enabling the logs in debug mode to see what `@SpringBootTest` is actually initializing the test when you run it. If you repository class is null that means whatever is running this test is not reading configurations correctly OR you have a configuration on your abstract Class that is causing SpringBootTest to not properly initialize the context of your application. \nIt could be for instance that you are setting a specific package for Spring components to be initialized and that doesn&#39;t include this class.","body":"I would recommend enabling the logs in debug mode to see what <code>@SpringBootTest</code> is actually initializing the test when you run it. If you repository class is null that means whatever is running this test is not reading configurations correctly OR you have a configuration on your abstract Class that is causing SpringBootTest to not properly initialize the context of your application.  It could be for instance that you are setting a specific package for Spring components to be initialized and that doesn&#39;t include this class."},{"owner":{"account_id":15068941,"reputation":39,"user_id":10875127,"display_name":"Sritaj Patel"},"score":0,"creation_date":1651810344,"post_id":72133016,"comment_id":127456701,"body_markdown":"@Bahij.Mik the issue is with BeforeTest, it causes the NPE, BeforeMethod the same code works fine.","body":"@Bahij.Mik the issue is with BeforeTest, it causes the NPE, BeforeMethod the same code works fine."}],"owner":{"account_id":15068941,"reputation":39,"user_id":10875127,"display_name":"Sritaj Patel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651781737,"creation_date":1651780984,"question_id":72133016,"body_markdown":"The TestNG BeforeTest has the following code:\r\n\r\n```\r\npublic void loadAuthorData() {\r\n    int i = 0;\r\n    while (i &lt;= 5) {\r\n        Author author = new Author(fs.name().firstName(), fs.name().lastName(), fs.number().numberBetween(1, 10));\r\n        authorSpringDataRepository.save(author);\r\n        i++;\r\n    }\r\n}\r\n```\r\n\r\nThis gives me the following error:\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;in.sritaj.jpaandhibernate.repository.AuthorSpringDataRepository.save(Object)&quot; because &quot;this.authorSpringDataRepository&quot; is null\r\n\r\n**Why is this initialization failing?**\r\n\r\nAlso, the same block of code works absolutely fine when used inside TestNG @BeforeMethod block\r\n\r\n     @BeforeMethod\r\n        public void loadAuthorData(){\r\n            int i = 0;\r\n            while(i&lt;=5){\r\n                Author author = new Author(fs.name().firstName(), fs.name().lastName(), fs.number().numberBetween(1, 10));\r\n                authorSpringDataRepository.save(author);\r\n                i++;\r\n            }\r\n        }\r\n\r\n\r\nFurther Details\r\n**Test Class:**\r\n\r\n    @SpringBootTest\r\n    public class AuthorSpringDataRepositoryTest extends AbstractTestNGSpringContextTests {\r\n    \r\n        @Autowired\r\n        private AuthorSpringDataRepository authorSpringDataRepository;\r\n    \r\n        private Faker fs = new Faker();\r\n    \r\n        @BeforeMethod\r\n        public void loadAuthorData(){\r\n            int i = 0;\r\n            while(i&lt;=5){\r\n                Author author = new Author(fs.name().firstName(), fs.name().lastName(), fs.number().numberBetween(1, 10));\r\n                authorSpringDataRepository.save(author);\r\n                i++;\r\n            }\r\n        }\r\n        \r\n     @Test\r\n        public void findAllStudentsUsingJPQLQuery(){\r\n            \r\n            List&lt;Author&gt; authors = authorSpringDataRepository.findAllAuthors();\r\n        }\r\n    }\r\n\r\n**RepositoryClass:**\r\n\r\n    public interface AuthorSpringDataRepository extends CrudRepository&lt;Author, Integer&gt; {\r\n    \r\n        @Query(&quot;from Author&quot;)\r\n        List&lt;Author&gt; findAllAuthors();\r\n    \r\n    }\r\n\r\n**Entity Class:**\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Author {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int ID;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;books_published&quot;)\r\n        private int booksPublished;\r\n    \r\n        public Author(String firstName, String lastName, int booksPublished){\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.booksPublished = booksPublished;\r\n        }\r\n    }","title":"Initialising an Object and Saving to DB using SpringJPAData is resulting in Null when used inside TestNG @BeforeTest Block","body":"<p>The TestNG BeforeTest has the following code:</p>\n<pre><code>public void loadAuthorData() {\n    int i = 0;\n    while (i &lt;= 5) {\n        Author author = new Author(fs.name().firstName(), fs.name().lastName(), fs.number().numberBetween(1, 10));\n        authorSpringDataRepository.save(author);\n        i++;\n    }\n}\n</code></pre>\n<p>This gives me the following error:</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;in.sritaj.jpaandhibernate.repository.AuthorSpringDataRepository.save(Object)&quot; because &quot;this.authorSpringDataRepository&quot; is null</p>\n<p><strong>Why is this initialization failing?</strong></p>\n<p>Also, the same block of code works absolutely fine when used inside TestNG @BeforeMethod block</p>\n<pre><code> @BeforeMethod\n    public void loadAuthorData(){\n        int i = 0;\n        while(i&lt;=5){\n            Author author = new Author(fs.name().firstName(), fs.name().lastName(), fs.number().numberBetween(1, 10));\n            authorSpringDataRepository.save(author);\n            i++;\n        }\n    }\n</code></pre>\n<p>Further Details\n<strong>Test Class:</strong></p>\n<pre><code>@SpringBootTest\npublic class AuthorSpringDataRepositoryTest extends AbstractTestNGSpringContextTests {\n\n    @Autowired\n    private AuthorSpringDataRepository authorSpringDataRepository;\n\n    private Faker fs = new Faker();\n\n    @BeforeMethod\n    public void loadAuthorData(){\n        int i = 0;\n        while(i&lt;=5){\n            Author author = new Author(fs.name().firstName(), fs.name().lastName(), fs.number().numberBetween(1, 10));\n            authorSpringDataRepository.save(author);\n            i++;\n        }\n    }\n    \n @Test\n    public void findAllStudentsUsingJPQLQuery(){\n        \n        List&lt;Author&gt; authors = authorSpringDataRepository.findAllAuthors();\n    }\n}\n</code></pre>\n<p><strong>RepositoryClass:</strong></p>\n<pre><code>public interface AuthorSpringDataRepository extends CrudRepository&lt;Author, Integer&gt; {\n\n    @Query(&quot;from Author&quot;)\n    List&lt;Author&gt; findAllAuthors();\n\n}\n</code></pre>\n<p><strong>Entity Class:</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\npublic class Author {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int ID;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;books_published&quot;)\n    private int booksPublished;\n\n    public Author(String firstName, String lastName, int booksPublished){\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.booksPublished = booksPublished;\n    }\n}\n</code></pre>\n"},{"tags":["java","prometheus","prometheus-java"],"answers":[{"tags":[],"owner":{"account_id":57022,"reputation":992,"user_id":170825,"accept_rate":60,"display_name":"fstab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651781289,"creation_date":1651781289,"answer_id":72133070,"question_id":72120461,"body_markdown":"I guess the problem is that `my-java-library` will use the `this.myHistogram` instance. So unregistering `this.myHistogram` does not help because the library will just continue using the unregistered `this.myHistogram` instance, but you would never see these metrics as the histogram is no longer registered.\r\n\r\nWhat you could try is to replace `this.myHistogram` with your own instance. If the library has a setter `myJavaLibrary.setMyHistogram(Histogram)` that should work, if it doesn&#39;t you will likely need to use reflection to replace the `this.myHistogram` instance in the library.\r\n\r\nThis is not directly related to unregistering the original `myHistogram` instance. You can just register your own instance with a different name and keep the original instance registered. You can use `CollectorRegistry.defaultRegistry.unregister(myHistogram)` for unregistering the original instance, but this is just for cleaning up and should not affect functionality, because after setting `this.myHistogram` the library will not be able to access the original instance and the original instance will never be used.\r\n\r\nDoes that help?","title":"Best practice for unregistering/redefining/customizing already-registered Prometheus metrics in Java","body":"<p>I guess the problem is that <code>my-java-library</code> will use the <code>this.myHistogram</code> instance. So unregistering <code>this.myHistogram</code> does not help because the library will just continue using the unregistered <code>this.myHistogram</code> instance, but you would never see these metrics as the histogram is no longer registered.</p>\n<p>What you could try is to replace <code>this.myHistogram</code> with your own instance. If the library has a setter <code>myJavaLibrary.setMyHistogram(Histogram)</code> that should work, if it doesn't you will likely need to use reflection to replace the <code>this.myHistogram</code> instance in the library.</p>\n<p>This is not directly related to unregistering the original <code>myHistogram</code> instance. You can just register your own instance with a different name and keep the original instance registered. You can use <code>CollectorRegistry.defaultRegistry.unregister(myHistogram)</code> for unregistering the original instance, but this is just for cleaning up and should not affect functionality, because after setting <code>this.myHistogram</code> the library will not be able to access the original instance and the original instance will never be used.</p>\n<p>Does that help?</p>\n"}],"owner":{"account_id":4839582,"reputation":3074,"user_id":3905007,"accept_rate":77,"display_name":"youngrrrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651781289,"creation_date":1651706663,"question_id":72120461,"body_markdown":"Say I&#39;m using a library (Java) which defines / registers metrics in Prometheus. I&#39;m wondering how I might be able to unregister/redefine/customize these metrics which have already been defined/registered by said library? Specifically, if I had a Histogram with certain buckets that were already registered, how could I update the same Histogram with different buckets?\r\n\r\nFor example, if `my-java-library` defines a `Histogram` with name `my_histogram`, I was thinking I might be able to use the `unregister` method on [CollectorRegistry](https://prometheus.github.io/client_java/io/prometheus/client/CollectorRegistry.html#unregister(io.prometheus.client.Collector)) like so:\r\n\r\nin `my-java-library`:\r\n```\r\n{\r\n...\r\n\r\nthis.myHistogram = Histogram.build()\r\n    .name(&quot;my_histogram&quot;)\r\n    .register();\r\n\r\n...\r\n}\r\n\r\npublic Histogram getMyHistogram() {\r\n    return this.myHistogram;\r\n}\r\n```\r\n\r\nin `my-repo` that uses `my-java-library`:\r\n```\r\nimport my-java-library; // ignore the poor naming convention :^)\r\n\r\n...\r\n\r\n{\r\n...\r\n\r\n    Histogram myHistogram = myJavaLibrary.getMyHistogram();\r\n    CollectorRegistry.defaultRegistry.unregister(myHistogram);\r\n\r\n...\r\n}\r\n\r\n```\r\n\r\nThe above example seems to be problematic for a few reasons:\r\n1. The `unregister` method is apparently only supposed to be used in rare cases for unit tests and not (apparently) for the above purpose ([[1](https://github.com/prometheus/client_python/issues/248#issuecomment-366535493)], [[2](https://stackoverflow.com/a/48869734/3905007)], [[3](https://github.com/prometheus/client_java/pull/555#issuecomment-630698597)])\r\n2. It seems the client_java repo for Prometheus is registering background, inaccessible  metrics behind the scenes which, since these `Collector` instances aren&#39;t accessible (at least not to my knowledge), cannot be `unregister`ed using the aforementioned model. This means even if I tried and succeeded at unregistering `my_histogram`, I will still run into a runtime exception ([IllegalArgumentException](https://github.com/prometheus/client_java/blob/master/simpleclient/src/main/java/io/prometheus/client/CollectorRegistry.java#L67-L75)) since these behind-the-scene metrics are being caught by the `assertNoDuplicateNames` method.\r\n\r\nI&#39;m at a bit of a loss. I will probably create an issue in the client_java repo as well but wanted to see if anyone on SO has run into and solved this problem for themselves.","title":"Best practice for unregistering/redefining/customizing already-registered Prometheus metrics in Java","body":"<p>Say I'm using a library (Java) which defines / registers metrics in Prometheus. I'm wondering how I might be able to unregister/redefine/customize these metrics which have already been defined/registered by said library? Specifically, if I had a Histogram with certain buckets that were already registered, how could I update the same Histogram with different buckets?</p>\n<p>For example, if <code>my-java-library</code> defines a <code>Histogram</code> with name <code>my_histogram</code>, I was thinking I might be able to use the <code>unregister</code> method on <a href=\"https://prometheus.github.io/client_java/io/prometheus/client/CollectorRegistry.html#unregister(io.prometheus.client.Collector)\" rel=\"nofollow noreferrer\">CollectorRegistry</a> like so:</p>\n<p>in <code>my-java-library</code>:</p>\n<pre><code>{\n...\n\nthis.myHistogram = Histogram.build()\n    .name(&quot;my_histogram&quot;)\n    .register();\n\n...\n}\n\npublic Histogram getMyHistogram() {\n    return this.myHistogram;\n}\n</code></pre>\n<p>in <code>my-repo</code> that uses <code>my-java-library</code>:</p>\n<pre><code>import my-java-library; // ignore the poor naming convention :^)\n\n...\n\n{\n...\n\n    Histogram myHistogram = myJavaLibrary.getMyHistogram();\n    CollectorRegistry.defaultRegistry.unregister(myHistogram);\n\n...\n}\n\n</code></pre>\n<p>The above example seems to be problematic for a few reasons:</p>\n<ol>\n<li>The <code>unregister</code> method is apparently only supposed to be used in rare cases for unit tests and not (apparently) for the above purpose ([<a href=\"https://github.com/prometheus/client_python/issues/248#issuecomment-366535493\" rel=\"nofollow noreferrer\">1</a>], [<a href=\"https://stackoverflow.com/a/48869734/3905007\">2</a>], [<a href=\"https://github.com/prometheus/client_java/pull/555#issuecomment-630698597\" rel=\"nofollow noreferrer\">3</a>])</li>\n<li>It seems the client_java repo for Prometheus is registering background, inaccessible  metrics behind the scenes which, since these <code>Collector</code> instances aren't accessible (at least not to my knowledge), cannot be <code>unregister</code>ed using the aforementioned model. This means even if I tried and succeeded at unregistering <code>my_histogram</code>, I will still run into a runtime exception (<a href=\"https://github.com/prometheus/client_java/blob/master/simpleclient/src/main/java/io/prometheus/client/CollectorRegistry.java#L67-L75\" rel=\"nofollow noreferrer\">IllegalArgumentException</a>) since these behind-the-scene metrics are being caught by the <code>assertNoDuplicateNames</code> method.</li>\n</ol>\n<p>I'm at a bit of a loss. I will probably create an issue in the client_java repo as well but wanted to see if anyone on SO has run into and solved this problem for themselves.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651780334,"creation_date":1651780334,"answer_id":72132906,"question_id":72130995,"body_markdown":"There is no magic here. You&#39;ll have to read all users, loop over them, and then delete their points one-by-one, or through a multi-path update.\r\n\r\nSomething like:\r\n\r\n```\r\nDatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;UsersExample&quot;);\r\nusersRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        Map&lt;String, Object&gt; updates = new HashMap&lt;&gt;();\r\n        for (DataSnapshot userSnapshot: dataSnapshot.getChildren()) {\r\n            updates.put(userSnapshot.getKey()+&quot;/point&quot;, null); // Setting to null will delete that node\r\n        }\r\n        userRef.updateChildren(updates);\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        throw databaseError.toException();\r\n    }\r\n}\r\n```","title":"How can I delete specific data from each user in firebase","body":"<p>There is no magic here. You'll have to read all users, loop over them, and then delete their points one-by-one, or through a multi-path update.</p>\n<p>Something like:</p>\n<pre><code>DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;UsersExample&quot;);\nusersRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        Map&lt;String, Object&gt; updates = new HashMap&lt;&gt;();\n        for (DataSnapshot userSnapshot: dataSnapshot.getChildren()) {\n            updates.put(userSnapshot.getKey()+&quot;/point&quot;, null); // Setting to null will delete that node\n        }\n        userRef.updateChildren(updates);\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17032910,"reputation":41,"user_id":12322670,"display_name":"Muratcan Yıldız"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72132906,"answer_count":1,"score":0,"last_activity_date":1651780334,"creation_date":1651769895,"question_id":72130995,"body_markdown":"I was keeping the scores of users in the users table. But it is no longer needed. So I want to delete the point of each user. How can I do that ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9QTnf.jpg","title":"How can I delete specific data from each user in firebase","body":"<p>I was keeping the scores of users in the users table. But it is no longer needed. So I want to delete the point of each user. How can I do that ?</p>\n<p><a href=\"https://i.stack.imgur.com/9QTnf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9QTnf.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-mvc","jackson","spring-restcontroller"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1651780426,"post_id":72132714,"comment_id":127451292,"body_markdown":"Note that Java behavior is generally defined around _properties_, which are defined by the (public) getters and/or setters; whether those properties have backing fields is usually formally irrelevant.","body":"Note that Java behavior is generally defined around <i>properties</i>, which are defined by the (public) getters and/or setters; whether those properties have backing fields is usually formally irrelevant."},{"owner":{"account_id":12261633,"reputation":13,"user_id":8949859,"display_name":"Edvestemhem"},"score":0,"creation_date":1651781304,"post_id":72132714,"comment_id":127451559,"body_markdown":"Thanks a lot! This behavior makes much more sense now.","body":"Thanks a lot! This behavior makes much more sense now."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1651781308,"post_id":72132714,"comment_id":127451561,"body_markdown":"Just to clarify where the text `&quot;totalBalance&quot;` is coming from, in the JSON: I assume (but I don&#39;t have an official reference/citation) that Jackson is following the [JavaBeans naming standards](https://www.oreilly.com/library/view/javaserver-pages-3rd/0596005636/ch20s01s01.html) (replace the `get`, and then make the `T` lowercase) to convert the method name into a JSON key. (The reverse of what getter code generators typically do.) Someone correct me if wrong?","body":"Just to clarify where the text <code>&quot;totalBalance&quot;</code> is coming from, in the JSON: I assume (but I don&#39;t have an official reference/citation) that Jackson is following the <a href=\"https://www.oreilly.com/library/view/javaserver-pages-3rd/0596005636/ch20s01s01.html\" rel=\"nofollow noreferrer\">JavaBeans naming standards</a> (replace the <code>get</code>, and then make the <code>T</code> lowercase) to convert the method name into a JSON key. (The reverse of what getter code generators typically do.) Someone correct me if wrong?"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":1,"creation_date":1651781994,"post_id":72132714,"comment_id":127451771,"body_markdown":"@andrewJames that&#39;s pretty much it, but also it will convert consecutive initial uppercase letters to lowercase (example `getID` becomes &quot;id&quot;)","body":"@andrewJames that&#39;s pretty much it, but also it will convert consecutive initial uppercase letters to lowercase (example <code>getID</code> becomes &quot;id&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651779891,"creation_date":1651779891,"answer_id":72132821,"question_id":72132714,"body_markdown":"Jackson doesn&#39;t (by default) care about fields. It will simply serialize everything provided by getters and deserialize everything with a matching setter. What those getters/setters do is of no consequence.\r\n\r\nMind you though, that every little thing about Jackson can be deeply customized and configured, so I&#39;m only talking about the default setup.","title":"Does Jackson serialize getter property for an undefined field?","body":"<p>Jackson doesn't (by default) care about fields. It will simply serialize everything provided by getters and deserialize everything with a matching setter. What those getters/setters do is of no consequence.</p>\n<p>Mind you though, that every little thing about Jackson can be deeply customized and configured, so I'm only talking about the default setup.</p>\n"},{"tags":[],"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651780134,"creation_date":1651780134,"answer_id":72132869,"question_id":72132714,"body_markdown":"Jackson by default uses the getters for serializing and setters for deserializing.\r\n\r\nYou can use `@JsonIgnore` over your getter method to ignore it, OR you can configure your object mapper to use the fields only for serialization/des:\r\n\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\n\r\nobjectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\nobjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n```","title":"Does Jackson serialize getter property for an undefined field?","body":"<p>Jackson by default uses the getters for serializing and setters for deserializing.</p>\n<p>You can use <code>@JsonIgnore</code> over your getter method to ignore it, OR you can configure your object mapper to use the fields only for serialization/des:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\nobjectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\nobjectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n</code></pre>\n"}],"owner":{"account_id":12261633,"reputation":13,"user_id":8949859,"display_name":"Edvestemhem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2878,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72132869,"answer_count":2,"score":1,"last_activity_date":1651780134,"creation_date":1651779226,"question_id":72132714,"body_markdown":"I have a class with the following fields and their respective getters, plus an additional method `getTotalBalance` for which I don&#39;t have any field but a custom implementation.\r\n\r\n```\r\n    public class demo{\r\n    private String balance;\r\n    private String blockedBalace;\r\n    private String futureBalance;\r\n    private String availableBalance;\r\n    //getters for previous fields\r\n    public String getTotalBalance(){\r\n    //something..\r\n    }\r\n```\r\n\r\nWhen I serialize an object of this class I get the following JSON output.\r\n\r\n```\r\n     {\r\n      &quot;balance&quot;: &quot;12.30&quot;,\r\n      &quot;blockedBalance&quot;:&quot;23.45&quot;,\r\n      &quot;futureBalance&quot; :&quot;56.22&quot;,\r\n      &quot;availableBalance&quot; :&quot;12.30&quot;,\r\n      &quot;totalBalance&quot; : &quot;34.11&quot;\r\n     }\r\n```\r\n\r\nEven if I didn&#39;t declare a field for `totalBalance`, I&#39;ve got this serialized in the end. How is it possible?","title":"Does Jackson serialize getter property for an undefined field?","body":"<p>I have a class with the following fields and their respective getters, plus an additional method <code>getTotalBalance</code> for which I don't have any field but a custom implementation.</p>\n<pre><code>    public class demo{\n    private String balance;\n    private String blockedBalace;\n    private String futureBalance;\n    private String availableBalance;\n    //getters for previous fields\n    public String getTotalBalance(){\n    //something..\n    }\n</code></pre>\n<p>When I serialize an object of this class I get the following JSON output.</p>\n<pre><code>     {\n      &quot;balance&quot;: &quot;12.30&quot;,\n      &quot;blockedBalance&quot;:&quot;23.45&quot;,\n      &quot;futureBalance&quot; :&quot;56.22&quot;,\n      &quot;availableBalance&quot; :&quot;12.30&quot;,\n      &quot;totalBalance&quot; : &quot;34.11&quot;\n     }\n</code></pre>\n<p>Even if I didn't declare a field for <code>totalBalance</code>, I've got this serialized in the end. How is it possible?</p>\n"},{"tags":["java","spring-boot","http-status-code-404"],"answers":[{"tags":[],"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651779949,"creation_date":1651689163,"answer_id":72117857,"question_id":72115667,"body_markdown":"Someone in my team has figured it out that it was the CORS configuration.\r\n\r\nIn my CORS configuration I&#39;ve added the option `allowedHeaders(*)`. So, in my Spring Boot Application Class I&#39;ve now the bean as below:\r\n\r\n```\r\n@Bean\r\n\tpublic WebMvcConfigurer webConfigurer() {\r\n\t\treturn new WebMvcConfigurer() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\t\tregistry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;).allowedHeaders(&quot;*&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n```\r\n\r\nBesides that, I&#39;ve notice that in my headers the `host` parameter was always with `localhost:8080` and never with the remote URL. Removing the `host` parameter it worked perfect too.\r\n\r\n```\t\t\r\n    public static HttpHeaders setHost(HttpHeaders headers) {\r\n\t\theaders.remove(HttpHeaders.HOST);\r\n\t\treturn headers;\r\n\t}\r\n```\r\n\r\nBoth changes made the remote configuration works as expected.","title":"Spring Boot Service A calls a Spring Boot B and getting 404 Not Found","body":"<p>Someone in my team has figured it out that it was the CORS configuration.</p>\n<p>In my CORS configuration I've added the option <code>allowedHeaders(*)</code>. So, in my Spring Boot Application Class I've now the bean as below:</p>\n<pre><code>@Bean\n    public WebMvcConfigurer webConfigurer() {\n        return new WebMvcConfigurer() {\n\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;).allowedHeaders(&quot;*&quot;);\n            }\n        };\n    }\n</code></pre>\n<p>Besides that, I've notice that in my headers the <code>host</code> parameter was always with <code>localhost:8080</code> and never with the remote URL. Removing the <code>host</code> parameter it worked perfect too.</p>\n<pre><code>    public static HttpHeaders setHost(HttpHeaders headers) {\n        headers.remove(HttpHeaders.HOST);\n        return headers;\n    }\n</code></pre>\n<p>Both changes made the remote configuration works as expected.</p>\n"}],"owner":{"account_id":4245467,"reputation":317,"user_id":3474271,"accept_rate":43,"display_name":"cmsantos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651779949,"creation_date":1651678413,"question_id":72115667,"body_markdown":"I have a Spring Boot Service **A** calling a Spring Boot **B**. When both services are running locally, it works without problems. If I deploy the Spring Boot **B** into a container on cloud, I&#39;m always getting 404 Not Found error.\r\n\r\nWeird thing: if I call the same URL of Spring Boot **B** in terminal (with cURL) or in Postman it works. Just through Spring Boot Service **A** doesn&#39;t work.\r\n\r\nI&#39;m calling the service in the class below and during the execution the error is on webClient.post() method.\r\n\r\n```\r\n@Component\r\npublic class DetalleCtaContratoPorCuentaContratoFacade {\r\n\r\n\t@Value(&quot;${url.base}&quot;)\r\n\tprivate String baseUrl;\r\n\r\n\t@Value(&quot;${uri.consultarDetalleCtaCtoPorCuentaContratoQuery}&quot;)\r\n\tprivate String consultarDetalleCtaCtoPorCuentaContratoQueryUri;\r\n\r\n\tpublic ConsultarDetalleCtaCtoResponseRoot getDetalleCtaCto(\r\n\t\t\tDetalleCtaContratoRequestParam detalleCtaContratoRequestParam, HttpHeaders headers) {\r\n\t\tWebClient webClient = WebClient.create(baseUrl);\r\n\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\tString response = webClient.post()\r\n\t\t\t\t.uri(uriBuilder -&gt; uriBuilder.path(consultarDetalleCtaCtoPorCuentaContratoQueryUri)\r\n\t\t\t\t\t\t.build(detalleCtaContratoRequestParam.getUrl()))\r\n\t\t\t\t.headers(OpenAPI2SpringBoot.consumer(headers))\r\n\t\t\t\t.bodyValue(detalleCtaContratoRequestParam).retrieve().bodyToMono(String.class).block();\r\n\r\n\t\ttry {\r\n\t\t\treturn mapper.readValue(response, ConsultarDetalleCtaCtoResponseRoot.class);\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\tthrow new DefaultErrorException(MensajeInterrupcionUtil.getMessaje(&quot;DEFAULT_ERROR_MESSAGE&quot;));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n \r\nThe error is:\r\n```2022-05-04 11:31:08 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2d02d7f5] HTTP POST https://gateway-portalescge-uat.lfr.cloud/RESTAdapter/OFVCGE_Q/DistribucionDatosMaestros/CuentaContrato/ConsultarDetalleCtaCtoPorCuentaContratoQueryResponse_Out\r\n2022-05-04 11:31:09 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2d02d7f5] Response 404 NOT_FOUND\r\n2022-05-04 11:31:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found from POST https://gateway-portalescge-uat.lfr.cloud/RESTAdapter/OFVCGE_Q/DistribucionDatosMaestros/CuentaContrato/ConsultarDetalleCtaCtoPorCuentaContratoQueryResponse_Out] with root cause\r\norg.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found from POST https://gateway-portalescge-uat.lfr.cloud/RESTAdapter/OFVCGE_Q/DistribucionDatosMaestros/CuentaContrato/ConsultarDetalleCtaCtoPorCuentaContratoQueryResponse_Out\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:185) ~[spring-webflux-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t|_ checkpoint ⇢ 404 from POST https://gateway-portalescge-uat.lfr.cloud/RESTAdapter/OFVCGE_Q/DistribucionDatosMaestros/CuentaContrato/ConsultarDetalleCtaCtoPorCuentaContratoQueryResponse_Out [DefaultWebClient]\r\nStack trace:\r\n\t\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:185) ~[spring-webflux-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:206) ~[spring-webflux-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:121) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onNext(FluxContextStart.java:96) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:287) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:330) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:152) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:252) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:378) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:373) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\r\n\t\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:429) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\r\n\t\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:645) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1526) ~[netty-handler-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275) ~[netty-handler-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322) ~[netty-handler-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.51.Final.jar:4.1.51.Final]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1680) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\r\n\t\tat cl.cge.api.facade.DetalleCtaContratoPorCuentaContratoFacade.getDetalleCtaCto(DetalleCtaContratoPorCuentaContratoFacade.java:41) ~[classes/:na]\r\n\t\tat cl.cge.api.ConsultarDetalleCuentaContratoController.detalleCuentaContrato(ConsultarDetalleCuentaContratoController.java:41) ~[classes/:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat cl.cge.util.JWTAuthorizationFilter.doFilterInternal(JWTAuthorizationFilter.java:49) ~[classes/:na]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\t\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.3.3.RELEASE.jar:2.3.3.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n```\r\n\r\nHowever, if I call the same URL in Postman I will get an 200 OK:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w5OU3.png\r\n\r\nWhat am I missing here? \r\n\r\nThanks,","title":"Spring Boot Service A calls a Spring Boot B and getting 404 Not Found","body":"<p>I have a Spring Boot Service <strong>A</strong> calling a Spring Boot <strong>B</strong>. When both services are running locally, it works without problems. If I deploy the Spring Boot <strong>B</strong> into a container on cloud, I'm always getting 404 Not Found error.</p>\n<p>Weird thing: if I call the same URL of Spring Boot <strong>B</strong> in terminal (with cURL) or in Postman it works. Just through Spring Boot Service <strong>A</strong> doesn't work.</p>\n<p>I'm calling the service in the class below and during the execution the error is on webClient.post() method.</p>\n<pre><code>@Component\npublic class DetalleCtaContratoPorCuentaContratoFacade {\n\n    @Value(&quot;${url.base}&quot;)\n    private String baseUrl;\n\n    @Value(&quot;${uri.consultarDetalleCtaCtoPorCuentaContratoQuery}&quot;)\n    private String consultarDetalleCtaCtoPorCuentaContratoQueryUri;\n\n    public ConsultarDetalleCtaCtoResponseRoot getDetalleCtaCto(\n            DetalleCtaContratoRequestParam detalleCtaContratoRequestParam, HttpHeaders headers) {\n        WebClient webClient = WebClient.create(baseUrl);\n\n        ObjectMapper mapper = new ObjectMapper();\n\n        String response = webClient.post()\n                .uri(uriBuilder -&gt; uriBuilder.path(consultarDetalleCtaCtoPorCuentaContratoQueryUri)\n                        .build(detalleCtaContratoRequestParam.getUrl()))\n                .headers(OpenAPI2SpringBoot.consumer(headers))\n                .bodyValue(detalleCtaContratoRequestParam).retrieve().bodyToMono(String.class).block();\n\n        try {\n            return mapper.readValue(response, ConsultarDetalleCtaCtoResponseRoot.class);\n        } catch (JsonProcessingException e) {\n            throw new DefaultErrorException(MensajeInterrupcionUtil.getMessaje(&quot;DEFAULT_ERROR_MESSAGE&quot;));\n        }\n    }\n}\n</code></pre>\n<p>The error is:</p>\n<pre><code>2022-05-04 11:31:09 DEBUG o.s.w.r.f.client.ExchangeFunctions - [2d02d7f5] Response 404 NOT_FOUND\n2022-05-04 11:31:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found from POST https://gateway-portalescge-uat.lfr.cloud/RESTAdapter/OFVCGE_Q/DistribucionDatosMaestros/CuentaContrato/ConsultarDetalleCtaCtoPorCuentaContratoQueryResponse_Out] with root cause\norg.springframework.web.reactive.function.client.WebClientResponseException$NotFound: 404 Not Found from POST https://gateway-portalescge-uat.lfr.cloud/RESTAdapter/OFVCGE_Q/DistribucionDatosMaestros/CuentaContrato/ConsultarDetalleCtaCtoPorCuentaContratoQueryResponse_Out\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:185) ~[spring-webflux-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    |_ checkpoint ⇢ 404 from POST https://gateway-portalescge-uat.lfr.cloud/RESTAdapter/OFVCGE_Q/DistribucionDatosMaestros/CuentaContrato/ConsultarDetalleCtaCtoPorCuentaContratoQueryResponse_Out [DefaultWebClient]\nStack trace:\n        at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:185) ~[spring-webflux-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.reactive.function.client.DefaultClientResponse.lambda$createException$1(DefaultClientResponse.java:206) ~[spring-webflux-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:100) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:92) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:121) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.FluxContextStart$ContextStartSubscriber.onNext(FluxContextStart.java:96) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:287) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:330) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1782) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:152) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:252) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:136) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:378) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\n        at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:373) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\n        at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:429) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:645) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96) ~[reactor-netty-0.9.11.RELEASE.jar:0.9.11.RELEASE]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1526) ~[netty-handler-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275) ~[netty-handler-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322) ~[netty-handler-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.51.Final.jar:4.1.51.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.51.Final.jar:4.1.51.Final]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at reactor.core.publisher.Mono.block(Mono.java:1680) ~[reactor-core-3.3.9.RELEASE.jar:3.3.9.RELEASE]\n        at cl.cge.api.facade.DetalleCtaContratoPorCuentaContratoFacade.getDetalleCtaCto(DetalleCtaContratoPorCuentaContratoFacade.java:41) ~[classes/:na]\n        at cl.cge.api.ConsultarDetalleCuentaContratoController.detalleCuentaContrato(ConsultarDetalleCuentaContratoController.java:41) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at cl.cge.util.JWTAuthorizationFilter.doFilterInternal(JWTAuthorizationFilter.java:49) ~[classes/:na]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.3.3.RELEASE.jar:2.3.3.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>However, if I call the same URL in Postman I will get an 200 OK:</p>\n<p><a href=\"https://i.stack.imgur.com/w5OU3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w5OU3.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I missing here?</p>\n<p>Thanks,</p>\n"},{"tags":["java","hibernate","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":14426233,"reputation":11,"user_id":10420900,"display_name":"Razvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651779788,"creation_date":1651779788,"answer_id":72132804,"question_id":72130587,"body_markdown":"Maybe take a look on this question, seems it has something to do with downcasting to base class: https://stackoverflow.com/questions/37559076/jpa-2-criteria-query-on-single-table-inheritance-hibernate","title":"In SINGLE TABLE INHERITANCE, subclass&#39; dao is not returning values","body":"<p>Maybe take a look on this question, seems it has something to do with downcasting to base class: <a href=\"https://stackoverflow.com/questions/37559076/jpa-2-criteria-query-on-single-table-inheritance-hibernate\">JPA 2 Criteria Query on Single Table Inheritance (Hibernate)</a></p>\n"}],"owner":{"account_id":11785116,"reputation":606,"user_id":8623155,"display_name":"Praveen Dass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651779788,"creation_date":1651767980,"question_id":72130587,"body_markdown":"I have two classes ServiceFee and DeliveryFee.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;service_fees&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorFormula(\r\n        &quot;CASE WHEN is_delivery_fee = 1 THEN &#39;DELIVERY_FEE&#39; ELSE &#39;SERVICE_FEE&#39; end&quot;\r\n)\r\npublic class ServiceFee  {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;is_delivery_fee&quot;)\r\n    private Boolean isDeliveryFee;\r\n\r\n   ...\r\n\r\n}\r\n```\r\nand \r\n```\r\n@Entity\r\n@DiscriminatorValue(&quot;DELIVERY_FEE&quot;)\r\npublic class DeliveryFee extends ServiceFee {\r\n\r\n    public Enums.DeliveryOption getOrderType() {\r\n        return Enums.DeliveryOption.DELIVERY;\r\n    }\r\n\r\n    public Boolean getIsDeliveryFee() {\r\n        return Boolean.TRUE;\r\n    }\r\n}\r\n```\r\n\r\nMy serviceFeeDAO has a method to return all ServiceFees (including the deliveryFees), which works as expected. I added method in the serviceFeeDAO which returns all the deliveryFee, please find code of the same below:\r\n```\r\npublic List&lt;DeliveryFee&gt; getDeliveryFees() {\r\n        CriteriaBuilder builder = currentSession().getCriteriaBuilder();\r\n        CriteriaQuery&lt;DeliveryFee&gt; query = builder.createQuery(DeliveryFee.class);\r\n        Root&lt;DeliveryFee&gt; root = query.from(DeliveryFee.class);\r\n        return currentSession().createQuery(query)\r\n                .list();\r\n    }\r\n``` \r\n\r\ninvoking this method gave me an ```IllegalArgumentException``` that the ```DeliveryFee``` is not an entity.\r\n\r\nThen I went ahead and created a DeliveryDAO class and added this method there. ad now the method returns an empty list.\r\n\r\nI am looking to learn why I got the ```IllegalArgumentException``` in the first case, and why the method in the DeliveryFeeDAO won&#39;t identity the pick up the delivery fee entities.","title":"In SINGLE TABLE INHERITANCE, subclass&#39; dao is not returning values","body":"<p>I have two classes ServiceFee and DeliveryFee.</p>\n<pre><code>@Entity\n@Table(name = &quot;service_fees&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorFormula(\n        &quot;CASE WHEN is_delivery_fee = 1 THEN 'DELIVERY_FEE' ELSE 'SERVICE_FEE' end&quot;\n)\npublic class ServiceFee  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;is_delivery_fee&quot;)\n    private Boolean isDeliveryFee;\n\n   ...\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;DELIVERY_FEE&quot;)\npublic class DeliveryFee extends ServiceFee {\n\n    public Enums.DeliveryOption getOrderType() {\n        return Enums.DeliveryOption.DELIVERY;\n    }\n\n    public Boolean getIsDeliveryFee() {\n        return Boolean.TRUE;\n    }\n}\n</code></pre>\n<p>My serviceFeeDAO has a method to return all ServiceFees (including the deliveryFees), which works as expected. I added method in the serviceFeeDAO which returns all the deliveryFee, please find code of the same below:</p>\n<pre><code>public List&lt;DeliveryFee&gt; getDeliveryFees() {\n        CriteriaBuilder builder = currentSession().getCriteriaBuilder();\n        CriteriaQuery&lt;DeliveryFee&gt; query = builder.createQuery(DeliveryFee.class);\n        Root&lt;DeliveryFee&gt; root = query.from(DeliveryFee.class);\n        return currentSession().createQuery(query)\n                .list();\n    }\n</code></pre>\n<p>invoking this method gave me an <code>IllegalArgumentException</code> that the <code>DeliveryFee</code> is not an entity.</p>\n<p>Then I went ahead and created a DeliveryDAO class and added this method there. ad now the method returns an empty list.</p>\n<p>I am looking to learn why I got the <code>IllegalArgumentException</code> in the first case, and why the method in the DeliveryFeeDAO won't identity the pick up the delivery fee entities.</p>\n"},{"tags":["java","class","jar"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651770328,"post_id":72130965,"comment_id":127447939,"body_markdown":"You are using [the `java` command](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html) - but you need to use [the `jar` command](https://docs.oracle.com/en/java/javase/17/docs/specs/man/jar.html) instead. There are various related questions which may help - for example, [this one](https://stackoverflow.com/questions/60097535/javas-jar-how-do-i-create-a-jar-file-from-a-specific-list-of-files-and-also-u).","body":"You are using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">the <code>java</code> command</a> - but you need to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jar.html\" rel=\"nofollow noreferrer\">the <code>jar</code> command</a> instead. There are various related questions which may help - for example, <a href=\"https://stackoverflow.com/questions/60097535/javas-jar-how-do-i-create-a-jar-file-from-a-specific-list-of-files-and-also-u\">this one</a>."},{"owner":{"account_id":25207093,"reputation":1,"user_id":19045272,"display_name":"zazertyoup"},"score":0,"creation_date":1651774474,"post_id":72130965,"comment_id":127449333,"body_markdown":"i&#39;m using the java command cause de jar one doesn&#39;t work (it says me &#39;&#39;jar&#39; n’est pas reconnu en tant que commande interne&#39; which in french mean that jar isn&#39;t an internal command) when i learned how to create class files i had the same problem with javac but i just had to set JAVA_HOME but now it&#39;s set and i don&#39;t know why i can&#39;t use jar, i need another variable ?","body":"i&#39;m using the java command cause de jar one doesn&#39;t work (it says me &#39;&#39;jar&#39; n’est pas reconnu en tant que commande interne&#39; which in french mean that jar isn&#39;t an internal command) when i learned how to create class files i had the same problem with javac but i just had to set JAVA_HOME but now it&#39;s set and i don&#39;t know why i can&#39;t use jar, i need another variable ?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651775162,"post_id":72130965,"comment_id":127449601,"body_markdown":"When you installed Java, you may have also installed all these commands: `java`, `javac`, `jar` and a long list of others. You can run the `jar` command by using the full path to its location (depending on where Java was installed). For example, on Windows: `C:\\path\\to\\java-install-location\\bin\\jar.exe...`. If you have an older version of Java (I think v8 or earlier) _and_ if you only installed the JRE (not the JDK) then it is possible that you do not have that command. I can&#39;t remember if `jar` was part of the old JRE distribution.","body":"When you installed Java, you may have also installed all these commands: <code>java</code>, <code>javac</code>, <code>jar</code> and a long list of others. You can run the <code>jar</code> command by using the full path to its location (depending on where Java was installed). For example, on Windows: <code>C:\\path\\to\\java-install-location\\bin\\jar.exe...</code>. If you have an older version of Java (I think v8 or earlier) <i>and</i> if you only installed the JRE (not the JDK) then it is possible that you do not have that command. I can&#39;t remember if <code>jar</code> was part of the old JRE distribution."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651775197,"post_id":72130965,"comment_id":127449617,"body_markdown":"But whatever your situation, the `java` command does not _create_ JAR files. It only _uses_ them. Therefore, you can update your question to tell us what version of Java you installed (or how you are running Java), where you installed it - and whether it contains the `jar` command in its `bin` directory. Based on that, you may solve your problem for yourself (by finding the `jar` command) or we may be able to help further. Given what you say about `JAVA_HOME`, it should work - and so we do need more information to give you better help.","body":"But whatever your situation, the <code>java</code> command does not <i>create</i> JAR files. It only <i>uses</i> them. Therefore, you can update your question to tell us what version of Java you installed (or how you are running Java), where you installed it - and whether it contains the <code>jar</code> command in its <code>bin</code> directory. Based on that, you may solve your problem for yourself (by finding the <code>jar</code> command) or we may be able to help further. Given what you say about <code>JAVA_HOME</code>, it should work - and so we do need more information to give you better help."},{"owner":{"account_id":25207093,"reputation":1,"user_id":19045272,"display_name":"zazertyoup"},"score":0,"creation_date":1651779674,"post_id":72130965,"comment_id":127451051,"body_markdown":"i just edit my first question","body":"i just edit my first question"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651780737,"post_id":72130965,"comment_id":127451398,"body_markdown":"Thank you for the updates. Can you show us (a) the exact `jar` command you are using, and (b) what directory you are in when you run it? And (c) what is the value of `JAVA_HOME`? Also, (d) have you added the Java `bin` directory to your `PATH` environment variable?","body":"Thank you for the updates. Can you show us (a) the exact <code>jar</code> command you are using, and (b) what directory you are in when you run it? And (c) what is the value of <code>JAVA_HOME</code>? Also, (d) have you added the Java <code>bin</code> directory to your <code>PATH</code> environment variable?"},{"owner":{"account_id":25207093,"reputation":1,"user_id":19045272,"display_name":"zazertyoup"},"score":0,"creation_date":1651818617,"post_id":72130965,"comment_id":127458315,"body_markdown":"Hello back it was night in france i went sleep, so the ‘jar’ command was just jar to see the informations about this command, for the JAVA_HOME it’s on java&gt;bin, and about the path i don’t realy understand what it is i tried a random command with it ‘path C:\\Users……java\\bin\\jar.exe’ but it did nothing except stoping javac which was not an internal command (i just had to restart my cmd and javac worked) and for the directory when i’m running it , it’s on the file where are my .class files","body":"Hello back it was night in france i went sleep, so the ‘jar’ command was just jar to see the informations about this command, for the JAVA_HOME it’s on java&gt;bin, and about the path i don’t realy understand what it is i tried a random command with it ‘path C:\\Users……java\\bin\\jar.exe’ but it did nothing except stoping javac which was not an internal command (i just had to restart my cmd and javac worked) and for the directory when i’m running it , it’s on the file where are my .class files"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651839293,"post_id":72130965,"comment_id":127465296,"body_markdown":"OK - thank you again. You can (and should) update your question, and add the new information there, instead of using a comment. The `PATH` variable should include an entry which points to the _directory_ containing your `jar.exe` file - but don&#39;t delete any of the existing `PATH` entries - just add this new entry (if it is not already there). Apart from that, I am sorry, but I cannot see the reason why your `jar` command does not appear to run correctly, even though you can run `java` and `javac` OK. That is strange! Maybe someone else can spot the problem.","body":"OK - thank you again. You can (and should) update your question, and add the new information there, instead of using a comment. The <code>PATH</code> variable should include an entry which points to the <i>directory</i> containing your <code>jar.exe</code> file - but don&#39;t delete any of the existing <code>PATH</code> entries - just add this new entry (if it is not already there). Apart from that, I am sorry, but I cannot see the reason why your <code>jar</code> command does not appear to run correctly, even though you can run <code>java</code> and <code>javac</code> OK. That is strange! Maybe someone else can spot the problem."}],"owner":{"account_id":25207093,"reputation":1,"user_id":19045272,"display_name":"zazertyoup"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651779614,"creation_date":1651769793,"question_id":72130965,"body_markdown":"When i try to create a jar file from 3 .class files \r\n(with this command `java -jar cvf morpion.jar main.class Players.class Morpion.class`) this error appears `Error: Unable to access jarfile cvf`. i already searched some help here but everything about this error was about launching the jar file but i don&#39;t have any problem with it, it&#39;s just creating the file that is a problem.\r\ni&#39;ve tried to change cvf to cf but it just change the error message and i tried to remove the jar from `morpion.jar` in the command but nothing works.\r\ni&#39;m using java 18.0.1 and i have the jdk and my JAVA_HOME is set, i can find the path for the jar.exe file witheout any problem but i can&#39;t use it because &quot;it&#39;s not an internal command or an executabable&quot;\r\n","title":"unable to acces jarfile cvf error while creating a the file","body":"<p>When i try to create a jar file from 3 .class files\n(with this command <code>java -jar cvf morpion.jar main.class Players.class Morpion.class</code>) this error appears <code>Error: Unable to access jarfile cvf</code>. i already searched some help here but everything about this error was about launching the jar file but i don't have any problem with it, it's just creating the file that is a problem.\ni've tried to change cvf to cf but it just change the error message and i tried to remove the jar from <code>morpion.jar</code> in the command but nothing works.\ni'm using java 18.0.1 and i have the jdk and my JAVA_HOME is set, i can find the path for the jar.exe file witheout any problem but i can't use it because &quot;it's not an internal command or an executabable&quot;</p>\n"},{"tags":["java","intellij-idea","module"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651779125,"creation_date":1651765393,"answer_id":72129988,"question_id":72129822,"body_markdown":"It&#39;s a [known bug](https://youtrack.jetbrains.com/issue/IDEA-292362).\r\n\r\nThe fix is available in [2022.1.1+ builds](https://confluence.jetbrains.com/display/IDEADEV/IDEA+2022.1+latest+builds).","title":"How to fill the right location when new a children module in project in IDEA?","body":"<p>It's a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-292362\" rel=\"nofollow noreferrer\">known bug</a>.</p>\n<p>The fix is available in <a href=\"https://confluence.jetbrains.com/display/IDEADEV/IDEA+2022.1+latest+builds\" rel=\"nofollow noreferrer\">2022.1.1+ builds</a>.</p>\n"}],"owner":{"account_id":23574863,"reputation":21,"user_id":17614642,"display_name":"silhouette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651779125,"creation_date":1651764718,"question_id":72129822,"body_markdown":"![enter image description here][1]\r\nwhen I fill it this way,it says directory has already taken by the parent project.\r\n\r\n![enter image description here][2]\r\nBut I fill add this,it shows there is a redundant folder.\r\n\r\n![enter image description here][3]\r\nJust like the 3rd picture.\r\n\r\n  [1]: https://i.stack.imgur.com/zAQkU.png\r\n  [2]: https://i.stack.imgur.com/vexwK.png\r\n  [3]: https://i.stack.imgur.com/j11ui.png\r\n\r\nSo how to build a module with brief directory using IDEA ?","title":"How to fill the right location when new a children module in project in IDEA?","body":"<p><img src=\"https://i.stack.imgur.com/zAQkU.png\" alt=\"enter image description here\" />\nwhen I fill it this way,it says directory has already taken by the parent project.</p>\n<p><img src=\"https://i.stack.imgur.com/vexwK.png\" alt=\"enter image description here\" />\nBut I fill add this,it shows there is a redundant folder.</p>\n<p><img src=\"https://i.stack.imgur.com/j11ui.png\" alt=\"enter image description here\" />\nJust like the 3rd picture.</p>\n<p>So how to build a module with brief directory using IDEA ?</p>\n"},{"tags":["java","javafx","drag-and-drop"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1651697756,"post_id":72119243,"comment_id":127427890,"body_markdown":"Create a local small text file with a name that exhibits the behavior you outline in your question.  Put the file content and the full file name in the question.  Also add a [mcve].  That way somebody could try to replicate your issue.  Without replication, you are unlikely to get any useful assistance.","body":"Create a local small text file with a name that exhibits the behavior you outline in your question.  Put the file content and the full file name in the question.  Also add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  That way somebody could try to replicate your issue.  Without replication, you are unlikely to get any useful assistance."},{"owner":{"account_id":3359292,"reputation":940,"user_id":2821477,"accept_rate":71,"display_name":"anishthecoder"},"score":1,"creation_date":1651705672,"post_id":72119243,"comment_id":127429688,"body_markdown":"@jewelsea I have added a minimal example in which this behavior can be reproduced, if someone can try this using files with long path names located on a shared network drive.","body":"@jewelsea I have added a minimal example in which this behavior can be reproduced, if someone can try this using files with long path names located on a shared network drive."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1651722820,"post_id":72119243,"comment_id":127432039,"body_markdown":"What is an example name that fails?","body":"What is an example name that fails?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1651734175,"post_id":72119243,"comment_id":127434343,"body_markdown":"How long does the path name have to be before the problem occurs?","body":"How long does the path name have to be before the problem occurs?"},{"owner":{"account_id":3359292,"reputation":940,"user_id":2821477,"accept_rate":71,"display_name":"anishthecoder"},"score":0,"creation_date":1651778898,"post_id":72119243,"comment_id":127450794,"body_markdown":"@jewelsea I have added some examples of filenames that were problematic","body":"@jewelsea I have added some examples of filenames that were problematic"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1651784871,"post_id":72119243,"comment_id":127452587,"body_markdown":"I tried your sample app on a macOS machine with a local filesystem using similar path setups to what you provided in your question.  Your issue did not replicate in that environment (which I guess is to be expected given your explanatory text).  I don&#39;t have a setup (Windows with a network share) to replicate your exact test environment, so unfortunately, I am unable to replicate your issue or assist.","body":"I tried your sample app on a macOS machine with a local filesystem using similar path setups to what you provided in your question.  Your issue did not replicate in that environment (which I guess is to be expected given your explanatory text).  I don&#39;t have a setup (Windows with a network share) to replicate your exact test environment, so unfortunately, I am unable to replicate your issue or assist."},{"owner":{"account_id":3359292,"reputation":940,"user_id":2821477,"accept_rate":71,"display_name":"anishthecoder"},"score":0,"creation_date":1651806156,"post_id":72119243,"comment_id":127456130,"body_markdown":"@jewelsea Thanks for trying! Yes, I suspect this is something specific to Windows environments given the long history of pathname length limitations there.","body":"@jewelsea Thanks for trying! Yes, I suspect this is something specific to Windows environments given the long history of pathname length limitations there."}],"owner":{"account_id":3359292,"reputation":940,"user_id":2821477,"accept_rate":71,"display_name":"anishthecoder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651778813,"creation_date":1651696830,"question_id":72119243,"body_markdown":"I see an odd behavior in JavaFX that I can&#39;t seem to explain or know how to resolve. My application involves importing files for processing. Users can either drag-and-drop files into the application, or use a standard *browse* dialog to select the files they want to import.\r\n\r\nOur clients have the files they are going to import located on shared network drives with really long pathnames. The application itself runs locally on their machine.\r\n\r\nThe odd behavior is as follows:\r\n\r\n- When a file with the long path name located on a shared network drive is selected using the standard *browse* dialog, it is detected and processed fine.\r\n- When the same file is dragged from explorer into application, no file is detected and nothing happens.\r\n\r\n\r\n```java\r\npublic class DnDTest {\r\n\r\n\t@Start\r\n\tpublic void start(final Stage stage) {\r\n\t\tfinal VBox container = new VBox();\r\n\t\tfinal VBox dndZone = new VBox();\r\n\t\tfinal TextArea txtArea = new TextArea();\r\n\t\tfinal var bttn = new Button(&quot;Browse&quot;);\r\n\t\tdndZone.getChildren().add(new Label(&quot;Drop files here...&quot;));\r\n\r\n\t\tdndZone.setPrefSize(200, 100);\r\n\t\tcontainer.getChildren().addAll(dndZone, txtArea, bttn);\r\n\t\tcontainer.setSpacing(10);\r\n\r\n\t\tdndZone.setOnDragDropped(evt -&gt; {\r\n\t\t\tfinal var files = evt.getDragboard().getFiles();\r\n            // Does NOT work. files is EMPTY\r\n\t\t\tif (files != null)\r\n\t\t\t\ttxtArea.setText(getText(files));\r\n\t\t});\r\n\r\n\t\tdndZone.setOnDragOver(evt -&gt; evt.acceptTransferModes(TransferMode.ANY));\r\n\t\tdndZone.setOnDragEntered(evt -&gt; evt.consume());\r\n\t\tdndZone.setOnDragExited(evt -&gt; evt.consume());\r\n\r\n\t\tbttn.setOnAction(evt -&gt; {\r\n\t\t\tfinal var fileChooser = new FileChooser();\r\n\t\t\tfinal var files = fileChooser.showOpenMultipleDialog(stage);\r\n            // WORKS for the same file.\r\n\t\t\tif (files != null)\r\n\t\t\t\ttxtArea.setText(getText(files));\r\n\t\t});\r\n\r\n\t\tfinal Scene scene = new Scene(container);\r\n\t\tstage.setScene(scene);\r\n\t\tstage.show();\r\n\t\tstage.sizeToScene();\r\n\t}\r\n\r\n\tprivate String getText(final List&lt;File&gt; files) {\r\n\t\treturn files\r\n\t\t\t.stream()\r\n\t\t\t.map(f -&gt; f.getName())\r\n\t\t\t.collect(Collectors.joining(&quot;\\r\\n&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nThere are no problems with local files or with network files that have shorter path names. This problem appears when running on Windows 10 machines, but I don&#39;t know if it&#39;s limited to that OS.\r\n\r\nExamples of some paths that cause issues are:\r\n```\r\n\\\\lab12jkd987.files.askon.ac.uk\\Lab12Jkd987\\Data\\Microscopy\\FixedCell\\Joseph Diere\\2022\\2022_04_28_HMEC_FcRnGFPTransfected_FcRnAntagonists-AF555\\2022_04_28_HMEC_FcRn-GFPTransfected_HAMsMediaOnly_1\r\n\r\n\\\\lab12jkd987.files.askon.ac.uk\\Lab12Jkd987\\Data\\Microscopy\\FixedCell\\Joseph Diere\\2022\\2022_04_13_BMDM_Dextran-AF555_JA01-AF647_Tf-AF488\\2022_04_13_BMDM_Dextran-AF555p60c120_JA01-AF647p10c0_Tf-AF488p10c0-8\r\n\r\n\\\\lab12jkd987.files.askon.ac.uk\\Lab12Jkd987\\Data\\Microscopy\\FixedCell\\Joseph Diere\\2022\\2022_03_22 BMDM ReImaging_818C5+Mutants\\2022_03_22 BMDM-M0_818C5-A647p10c0_JA03-A555p10c0_Tf488p10c0-9\r\n```\r\n\r\nCan anyone explain what is going on and how to get the behavior for the same file consistent between the two selection methods?","title":"Inconsistent behavior with drag-and-drop of network files in JavaFX","body":"<p>I see an odd behavior in JavaFX that I can't seem to explain or know how to resolve. My application involves importing files for processing. Users can either drag-and-drop files into the application, or use a standard <em>browse</em> dialog to select the files they want to import.</p>\n<p>Our clients have the files they are going to import located on shared network drives with really long pathnames. The application itself runs locally on their machine.</p>\n<p>The odd behavior is as follows:</p>\n<ul>\n<li>When a file with the long path name located on a shared network drive is selected using the standard <em>browse</em> dialog, it is detected and processed fine.</li>\n<li>When the same file is dragged from explorer into application, no file is detected and nothing happens.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class DnDTest {\n\n    @Start\n    public void start(final Stage stage) {\n        final VBox container = new VBox();\n        final VBox dndZone = new VBox();\n        final TextArea txtArea = new TextArea();\n        final var bttn = new Button(&quot;Browse&quot;);\n        dndZone.getChildren().add(new Label(&quot;Drop files here...&quot;));\n\n        dndZone.setPrefSize(200, 100);\n        container.getChildren().addAll(dndZone, txtArea, bttn);\n        container.setSpacing(10);\n\n        dndZone.setOnDragDropped(evt -&gt; {\n            final var files = evt.getDragboard().getFiles();\n            // Does NOT work. files is EMPTY\n            if (files != null)\n                txtArea.setText(getText(files));\n        });\n\n        dndZone.setOnDragOver(evt -&gt; evt.acceptTransferModes(TransferMode.ANY));\n        dndZone.setOnDragEntered(evt -&gt; evt.consume());\n        dndZone.setOnDragExited(evt -&gt; evt.consume());\n\n        bttn.setOnAction(evt -&gt; {\n            final var fileChooser = new FileChooser();\n            final var files = fileChooser.showOpenMultipleDialog(stage);\n            // WORKS for the same file.\n            if (files != null)\n                txtArea.setText(getText(files));\n        });\n\n        final Scene scene = new Scene(container);\n        stage.setScene(scene);\n        stage.show();\n        stage.sizeToScene();\n    }\n\n    private String getText(final List&lt;File&gt; files) {\n        return files\n            .stream()\n            .map(f -&gt; f.getName())\n            .collect(Collectors.joining(&quot;\\r\\n&quot;));\n    }\n}\n</code></pre>\n<p>There are no problems with local files or with network files that have shorter path names. This problem appears when running on Windows 10 machines, but I don't know if it's limited to that OS.</p>\n<p>Examples of some paths that cause issues are:</p>\n<pre><code>\\\\lab12jkd987.files.askon.ac.uk\\Lab12Jkd987\\Data\\Microscopy\\FixedCell\\Joseph Diere\\2022\\2022_04_28_HMEC_FcRnGFPTransfected_FcRnAntagonists-AF555\\2022_04_28_HMEC_FcRn-GFPTransfected_HAMsMediaOnly_1\n\n\\\\lab12jkd987.files.askon.ac.uk\\Lab12Jkd987\\Data\\Microscopy\\FixedCell\\Joseph Diere\\2022\\2022_04_13_BMDM_Dextran-AF555_JA01-AF647_Tf-AF488\\2022_04_13_BMDM_Dextran-AF555p60c120_JA01-AF647p10c0_Tf-AF488p10c0-8\n\n\\\\lab12jkd987.files.askon.ac.uk\\Lab12Jkd987\\Data\\Microscopy\\FixedCell\\Joseph Diere\\2022\\2022_03_22 BMDM ReImaging_818C5+Mutants\\2022_03_22 BMDM-M0_818C5-A647p10c0_JA03-A555p10c0_Tf488p10c0-9\n</code></pre>\n<p>Can anyone explain what is going on and how to get the behavior for the same file consistent between the two selection methods?</p>\n"},{"tags":["java","file","io","bufferedwriter","writer"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1562430622,"post_id":56915859,"comment_id":100374486,"body_markdown":"Start by reading the javadoc for FileWriter. You can use that class to append to existing files, or to overwrite existing content....","body":"Start by reading the javadoc for FileWriter. You can use that class to append to existing files, or to overwrite existing content...."},{"owner":{"account_id":16251261,"reputation":37,"user_id":11735167,"display_name":"Mehdi Zayene"},"score":0,"creation_date":1562430688,"post_id":56915859,"comment_id":100374500,"body_markdown":"Oh yes ! thank you so much !!","body":"Oh yes ! thank you so much !!"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1562430895,"post_id":56915859,"comment_id":100374553,"body_markdown":"@markspace yes, he does: he&#39;s using a try-with-resources statement.","body":"@markspace yes, he does: he&#39;s using a try-with-resources statement."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1562433191,"post_id":56915859,"comment_id":100375038,"body_markdown":"Also note : the real question is : why don&#39;t you just first compile all required content, and then write all of that into the file in one shot?!","body":"Also note : the real question is : why don&#39;t you just first compile all required content, and then write all of that into the file in one shot?!"},{"owner":{"account_id":16251261,"reputation":37,"user_id":11735167,"display_name":"Mehdi Zayene"},"score":0,"creation_date":1562433816,"post_id":56915859,"comment_id":100375184,"body_markdown":"I thought it would be cleaner to write every part at once.. ? @GhostCat","body":"I thought it would be cleaner to write every part at once.. ? @GhostCat"},{"owner":{"account_id":16251261,"reputation":37,"user_id":11735167,"display_name":"Mehdi Zayene"},"score":0,"creation_date":1562433984,"post_id":56915859,"comment_id":100375226,"body_markdown":"Other than that i found a simple solution by searching a bit in the javadoc FileWriter, I had to instanciate The file Writer with another constructor where i specify if i want it to append the existing document or not via a second (boolean) parameter! \nThank you all !","body":"Other than that i found a simple solution by searching a bit in the javadoc FileWriter, I had to instanciate The file Writer with another constructor where i specify if i want it to append the existing document or not via a second (boolean) parameter!  Thank you all !"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1562435629,"post_id":56915859,"comment_id":100375568,"body_markdown":"@JBNizet Ah right, sorry missed that.","body":"@JBNizet Ah right, sorry missed that."}],"answers":[{"tags":[],"owner":{"account_id":24085224,"reputation":83,"user_id":18059330,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651778617,"creation_date":1651778617,"answer_id":72132607,"question_id":56915859,"body_markdown":"to write in a file you have to use FileWriter like this:\r\n\r\n    public void declareVariables() {\r\n        try {\r\n    \r\n            FileWriter writer = new FileWriter(new FileWriter(&quot;file.txt&quot;), true);\r\n            writer.append(&quot;X&quot;);\r\n            //try with resources block calls the close method upon exit and which implicitly calls the flush method. \r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    \r\n    public void affectVariables()  {\r\n        try {\r\n                FileWriter writer = new FileWriter(new FileWriter(&quot;file.txt&quot;), true);\r\n                writer.append(&quot;X&quot;);\r\n                //try with resources block calls the close method upon exit and which implicitly calls the flush method. \r\n            \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nYou do not need to put close() and flush() because try with resources block calls the close method upon exit and which implicitly calls the flush method. \r\ndoc: [https://docs.oracle.com/javase/7/docs/api/java/io/OutputStreamWriter.html#close()][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/OutputStreamWriter.html#close()","title":"Can we use two buffered writers to write on the same file with java, in the same class?","body":"<p>to write in a file you have to use FileWriter like this:</p>\n<pre><code>public void declareVariables() {\n    try {\n\n        FileWriter writer = new FileWriter(new FileWriter(&quot;file.txt&quot;), true);\n        writer.append(&quot;X&quot;);\n        //try with resources block calls the close method upon exit and which implicitly calls the flush method. \n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\n\npublic void affectVariables()  {\n    try {\n            FileWriter writer = new FileWriter(new FileWriter(&quot;file.txt&quot;), true);\n            writer.append(&quot;X&quot;);\n            //try with resources block calls the close method upon exit and which implicitly calls the flush method. \n        \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>You do not need to put close() and flush() because try with resources block calls the close method upon exit and which implicitly calls the flush method.\ndoc: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/OutputStreamWriter.html#close()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/OutputStreamWriter.html#close()</a></p>\n"}],"owner":{"account_id":16251261,"reputation":37,"user_id":11735167,"display_name":"Mehdi Zayene"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651778617,"creation_date":1562430372,"question_id":56915859,"body_markdown":"I have been wondering if I cam use two bufferedWriters to write an external file with java.\r\nThis is what I did: \r\n\r\n\r\n\t\r\nBut there is only written X in my created file, any ideas ? \r\nIt seems like the file gets formatted once the second writer starts working.\r\n\r\n\r\n    public void declareVariables() throws IOException {\r\n    \ttry (BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(file))) {\r\n    \t\r\n    \t\t\tbufferedWriter.write(&quot;Y&quot;);\r\n    \t\t\tbufferedWriter.newLine();\r\n                            bufferedWriter.flush();\r\n    \t\t\r\n    \r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n                    }\r\n    }\r\n    \t\r\n    \r\n    public void affectVariables() throws IOException {\r\n    \ttry (BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(file))) {\r\n    \t\t\t\r\n    \t\t\tbufferedWriter.write(&quot;X&quot;);\r\n    \t\t\tbufferedWriter.newLine();\r\n    \t\t\tbufferedWriter.flush();\r\n    \t\t\t\r\n    \r\n    \r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    }","title":"Can we use two buffered writers to write on the same file with java, in the same class?","body":"<p>I have been wondering if I cam use two bufferedWriters to write an external file with java.\nThis is what I did: </p>\n\n<p>But there is only written X in my created file, any ideas ? \nIt seems like the file gets formatted once the second writer starts working.</p>\n\n<pre><code>public void declareVariables() throws IOException {\n    try (BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(file))) {\n\n            bufferedWriter.write(\"Y\");\n            bufferedWriter.newLine();\n                        bufferedWriter.flush();\n\n\n        } catch (IOException e) {\n            e.printStackTrace();\n                }\n}\n\n\npublic void affectVariables() throws IOException {\n    try (BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(file))) {\n\n            bufferedWriter.write(\"X\");\n            bufferedWriter.newLine();\n            bufferedWriter.flush();\n\n\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n"},{"tags":["java","rest","model-view-controller"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1651787179,"post_id":72132429,"comment_id":127453161,"body_markdown":"The question as it stands is a bit confusing. What exectly do you want to update? Some object in your client controller with the, more or less, most recent state the server has to offer or do you want to update objects at your server based on some server logic? It does sound like the primer option is the one you are talking about. In that particular case `GET` is sufficient as you want to retrieve those &quot;updates&quot; from the server. In the case where you want to trigger some server process or script that updates its resources according to some predefined server-logic `POST` is most appropriate","body":"The question as it stands is a bit confusing. What exectly do you want to update? Some object in your client controller with the, more or less, most recent state the server has to offer or do you want to update objects at your server based on some server logic? It does sound like the primer option is the one you are talking about. In that particular case <code>GET</code> is sufficient as you want to retrieve those &quot;updates&quot; from the server. In the case where you want to trigger some server process or script that updates its resources according to some predefined server-logic <code>POST</code> is most appropriate"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651777768,"creation_date":1651777768,"answer_id":72132469,"question_id":72132429,"body_markdown":"GET methods should be be idempotent and (usually) have no side effects. That makes an empty POST a better option.","title":"POST or GET for triggering an update","body":"<p>GET methods should be be idempotent and (usually) have no side effects. That makes an empty POST a better option.</p>\n"},{"tags":[],"owner":{"display_name":"user17944361"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651778067,"creation_date":1651778067,"answer_id":72132516,"question_id":72132429,"body_markdown":"Update is PUT, Post is send data, Get is get Data, delete is delete data, in update you must specified na unique like sample id to update the data","title":"POST or GET for triggering an update","body":"<p>Update is PUT, Post is send data, Get is get Data, delete is delete data, in update you must specified na unique like sample id to update the data</p>\n"}],"owner":{"account_id":25208154,"reputation":45,"user_id":19046189,"display_name":"KollegeBo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72132469,"answer_count":2,"score":0,"last_activity_date":1651778067,"creation_date":1651777571,"question_id":72132429,"body_markdown":"I have a Spring-Boot application and want to trigger an update method via an endpoint in my Controller class. I can&#180;t decide wheather to use a PUT or POST. On the one hand updating my application via this endpoint sounds for me like a POST but in the other hand it will be a simple call without sending any data, which sounds for me like a GET. ","title":"POST or GET for triggering an update","body":"<p>I have a Spring-Boot application and want to trigger an update method via an endpoint in my Controller class. I can´t decide wheather to use a PUT or POST. On the one hand updating my application via this endpoint sounds for me like a POST but in the other hand it will be a simple call without sending any data, which sounds for me like a GET.</p>\n"},{"tags":["java","spring-boot","mockserver"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1651775030,"post_id":72131944,"comment_id":127449549,"body_markdown":"If the server is &quot;down&quot; then your client would get a timeout error trying to connect, no?","body":"If the server is &quot;down&quot; then your client would get a timeout error trying to connect, no?"}],"answers":[{"tags":[],"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651777111,"creation_date":1651777111,"answer_id":72132336,"question_id":72131944,"body_markdown":"You could set the timeout of your client socket to a very short value to simulate timing out trying to connect to the server.  \r\n\r\nHere&#39;s a [question showing how to set a socket timeout][1]. Most HTTP clients let you provide config properties for the underlying TCP socket.\r\n\r\n\r\nThere are also test utilities to help with this, such as [WebMock, explained in this question][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4969760/setting-a-timeout-for-socket-operations\r\n  [2]: https://stackoverflow.com/questions/25552239/webmock-simulate-failing-api-no-internet-timeout","title":"Simulate empty response if server is down","body":"<p>You could set the timeout of your client socket to a very short value to simulate timing out trying to connect to the server.</p>\n<p>Here's a <a href=\"https://stackoverflow.com/questions/4969760/setting-a-timeout-for-socket-operations\">question showing how to set a socket timeout</a>. Most HTTP clients let you provide config properties for the underlying TCP socket.</p>\n<p>There are also test utilities to help with this, such as <a href=\"https://stackoverflow.com/questions/25552239/webmock-simulate-failing-api-no-internet-timeout\">WebMock, explained in this question</a>.</p>\n"}],"owner":{"account_id":25207826,"reputation":13,"user_id":19045902,"display_name":"Sanjo11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72132336,"answer_count":1,"score":1,"last_activity_date":1651777111,"creation_date":1651774787,"question_id":72131944,"body_markdown":"I have 2 mockservices returning success and failure responses based on request body.\r\nNow I need to simulate an empty response if the server is down or unavailable. \r\n\r\nHow can this be done in Java ? ","title":"Simulate empty response if server is down","body":"<p>I have 2 mockservices returning success and failure responses based on request body.\nNow I need to simulate an empty response if the server is down or unavailable.</p>\n<p>How can this be done in Java ?</p>\n"},{"tags":["java","junit","mockito","mono","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651776710,"creation_date":1651776710,"answer_id":72132275,"question_id":72123483,"body_markdown":"Sources like `Mono.just(&quot;1&quot;)` are eager. In your case, this means that `.then(toBeMocked.toBeMocked())` is immediately invoked emitting `&quot;1&quot;` and then `.flatMap(unused -&gt; toBeMocked.toBeMocked())` emits `&quot;2&quot;`. \r\n\r\nTo solve this, you can use the `defer` operator in order to make this source lazy:\r\n\r\n    .then(Mono.defer(()-&gt; toBeMocked.toBeMocked()))\r\nIn this way, the content of the lambda is evaluated each time there is a subscriber.","title":"Reactor Java unit test what is the order of return values from a mocked dependency","body":"<p>Sources like <code>Mono.just(&quot;1&quot;)</code> are eager. In your case, this means that <code>.then(toBeMocked.toBeMocked())</code> is immediately invoked emitting <code>&quot;1&quot;</code> and then <code>.flatMap(unused -&gt; toBeMocked.toBeMocked())</code> emits <code>&quot;2&quot;</code>.</p>\n<p>To solve this, you can use the <code>defer</code> operator in order to make this source lazy:</p>\n<pre><code>.then(Mono.defer(()-&gt; toBeMocked.toBeMocked()))\n</code></pre>\n<p>In this way, the content of the lambda is evaluated each time there is a subscriber.</p>\n"}],"owner":{"account_id":8225350,"reputation":21,"user_id":6187830,"display_name":"Gul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651776710,"creation_date":1651735939,"question_id":72123483,"body_markdown":"I am a beginner at Reactive Java.  I am trying to understand why a simple unit test fails when a mock dependency is setup to return two different values.  This dependency is called twice in the main class that is being tested.  \r\n\r\nThere is a reason I am using `flatmap` and `then` as I want the first Mono to complete before the second one.  An example of this could be writing data into database and then reading it from the database in the same chain.\r\n\r\nHere is the main class that is being tested:\r\n\r\n```\r\npackage my.service;\r\n\r\nimport reactor.core.publisher.Mono;\r\n\r\npublic class ToBeTested {\r\n\r\n    private final ToBeMocked toBeMocked;\r\n\r\n    public ToBeTested(ToBeMocked toBeMocked) {\r\n        this.toBeMocked = toBeMocked;\r\n    }\r\n\r\n\r\n    public Mono&lt;String&gt; toBeTested() {\r\n        return Mono.just(&quot;any&quot;)\r\n                .flatMap(unused -&gt; toBeMocked.toBeMocked())\r\n                .then(toBeMocked.toBeMocked());\r\n    }\r\n}\r\n```\r\n\r\nHere is the dependency class:\r\n\r\n```\r\npackage my.service;\r\n\r\nimport reactor.core.publisher.Mono;\r\n\r\npublic class ToBeMocked {\r\n\r\n    public Mono&lt;String&gt; toBeMocked() {\r\n        return Mono.just(&quot;unused string&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the JUnit test:\r\n\r\n```\r\npackage my.service;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.Mock;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.test.StepVerifier;\r\n\r\nimport static org.mockito.Mockito.when;\r\nimport static org.mockito.MockitoAnnotations.openMocks;\r\n\r\nclass ToBeTestedTest {\r\n\r\n    @Mock\r\n    private ToBeMocked toBeMocked;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    void testTheOrderOfMockReturnValues() {\r\n        when(toBeMocked.toBeMocked())\r\n                .thenReturn(Mono.just(&quot;1&quot;))\r\n                .thenReturn(Mono.just(&quot;2&quot;));\r\n\r\n        ToBeTested toBeTested = new ToBeTested(toBeMocked);\r\n\r\n        StepVerifier.create(toBeTested.toBeTested())\r\n                .expectNext(&quot;2&quot;)\r\n                .verifyComplete();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis test fails and the error is:\r\n\r\n```\r\njava.lang.AssertionError: expectation &quot;expectNext(2)&quot; failed (expected value: 2; actual value: 1)\r\n```\r\n\r\nWhen logging reactive execution:\r\n\r\n```\r\nTest worker] reactor.Mono.IgnoreThen.2                : onSubscribe(MonoIgnoreThen.ThenIgnoreMain)\r\nTest worker] reactor.Mono.IgnoreThen.2                : request(unbounded)\r\nTest worker] reactor.Mono.FlatMap.1                   : | onSubscribe([Synchronous Fuseable] Operators.ScalarSubscription)\r\nTest worker] reactor.Mono.FlatMap.1                   : | request(unbounded)\r\nTest worker] reactor.Mono.FlatMap.1                   : | onNext(2)\r\nTest worker] reactor.Mono.FlatMap.1                   : | onComplete()\r\nTest worker] reactor.Mono.IgnoreThen.2                : onNext(1)\r\nTest worker] reactor.Mono.IgnoreThen.2                : cancel()\r\nTest worker] reactor.Mono.IgnoreThen.2                : onComplete()\r\n```\r\n\r\nIf I setup mock return values in the reverse order, the test passes.  Why?\r\n\r\n```\r\nwhen(toBeMocked.toBeMocked())\r\n                .thenReturn(Mono.just(&quot;2&quot;))\r\n                .thenReturn(Mono.just(&quot;1&quot;));\r\n```","title":"Reactor Java unit test what is the order of return values from a mocked dependency","body":"<p>I am a beginner at Reactive Java.  I am trying to understand why a simple unit test fails when a mock dependency is setup to return two different values.  This dependency is called twice in the main class that is being tested.</p>\n<p>There is a reason I am using <code>flatmap</code> and <code>then</code> as I want the first Mono to complete before the second one.  An example of this could be writing data into database and then reading it from the database in the same chain.</p>\n<p>Here is the main class that is being tested:</p>\n<pre><code>package my.service;\n\nimport reactor.core.publisher.Mono;\n\npublic class ToBeTested {\n\n    private final ToBeMocked toBeMocked;\n\n    public ToBeTested(ToBeMocked toBeMocked) {\n        this.toBeMocked = toBeMocked;\n    }\n\n\n    public Mono&lt;String&gt; toBeTested() {\n        return Mono.just(&quot;any&quot;)\n                .flatMap(unused -&gt; toBeMocked.toBeMocked())\n                .then(toBeMocked.toBeMocked());\n    }\n}\n</code></pre>\n<p>Here is the dependency class:</p>\n<pre><code>package my.service;\n\nimport reactor.core.publisher.Mono;\n\npublic class ToBeMocked {\n\n    public Mono&lt;String&gt; toBeMocked() {\n        return Mono.just(&quot;unused string&quot;);\n    }\n}\n</code></pre>\n<p>And here is the JUnit test:</p>\n<pre><code>package my.service;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport reactor.core.publisher.Mono;\nimport reactor.test.StepVerifier;\n\nimport static org.mockito.Mockito.when;\nimport static org.mockito.MockitoAnnotations.openMocks;\n\nclass ToBeTestedTest {\n\n    @Mock\n    private ToBeMocked toBeMocked;\n\n    @BeforeEach\n    void setup() {\n        openMocks(this);\n    }\n\n    @Test\n    void testTheOrderOfMockReturnValues() {\n        when(toBeMocked.toBeMocked())\n                .thenReturn(Mono.just(&quot;1&quot;))\n                .thenReturn(Mono.just(&quot;2&quot;));\n\n        ToBeTested toBeTested = new ToBeTested(toBeMocked);\n\n        StepVerifier.create(toBeTested.toBeTested())\n                .expectNext(&quot;2&quot;)\n                .verifyComplete();\n    }\n\n}\n</code></pre>\n<p>This test fails and the error is:</p>\n<pre><code>java.lang.AssertionError: expectation &quot;expectNext(2)&quot; failed (expected value: 2; actual value: 1)\n</code></pre>\n<p>When logging reactive execution:</p>\n<pre><code>Test worker] reactor.Mono.IgnoreThen.2                : onSubscribe(MonoIgnoreThen.ThenIgnoreMain)\nTest worker] reactor.Mono.IgnoreThen.2                : request(unbounded)\nTest worker] reactor.Mono.FlatMap.1                   : | onSubscribe([Synchronous Fuseable] Operators.ScalarSubscription)\nTest worker] reactor.Mono.FlatMap.1                   : | request(unbounded)\nTest worker] reactor.Mono.FlatMap.1                   : | onNext(2)\nTest worker] reactor.Mono.FlatMap.1                   : | onComplete()\nTest worker] reactor.Mono.IgnoreThen.2                : onNext(1)\nTest worker] reactor.Mono.IgnoreThen.2                : cancel()\nTest worker] reactor.Mono.IgnoreThen.2                : onComplete()\n</code></pre>\n<p>If I setup mock return values in the reverse order, the test passes.  Why?</p>\n<pre><code>when(toBeMocked.toBeMocked())\n                .thenReturn(Mono.just(&quot;2&quot;))\n                .thenReturn(Mono.just(&quot;1&quot;));\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-step-functions"],"comments":[{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1651753405,"post_id":72126703,"comment_id":127440848,"body_markdown":"Since you&#39;re using `application.properties`, I&#39;m assuming that you&#39;re using Spring in some form. Does it provide a way to create clients that use properties? If yes, then use that. If no, and you need to create clients explicitly, you&#39;ll need to provide credentials/region in one of the [AWS-supported ways](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/region-selection.html#automatically-determine-the-aws-region-from-the-environment).","body":"Since you&#39;re using <code>application.properties</code>, I&#39;m assuming that you&#39;re using Spring in some form. Does it provide a way to create clients that use properties? If yes, then use that. If no, and you need to create clients explicitly, you&#39;ll need to provide credentials/region in one of the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/region-selection.html#automatically-determine-the-aws-region-from-the-environment\" rel=\"nofollow noreferrer\">AWS-supported ways</a>."},{"owner":{"account_id":8677372,"reputation":532,"user_id":6494406,"accept_rate":83,"display_name":"Bruno Justino Praciano"},"score":0,"creation_date":1651759592,"post_id":72126703,"comment_id":127443504,"body_markdown":"you are right! Now it is necessary to build the client directly using this piece of code.\nAWSStepFunctionsClientBuilder.standard().withRegion((Regions.EU_CENTRAL_1)).build()","body":"you are right! Now it is necessary to build the client directly using this piece of code. AWSStepFunctionsClientBuilder.standard().withRegion((Regions&zwnj;&#8203;.EU_CENTRAL_1)).buil&zwnj;&#8203;d()"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1651837758,"post_id":72126703,"comment_id":127464768,"body_markdown":"I think it would make more sense to retrieve that region from the properties, or better, create a bean factory for your client. Otherwise, that will become a hard-to-find bug if you ever deploy outside the hardcoded region.","body":"I think it would make more sense to retrieve that region from the properties, or better, create a bean factory for your client. Otherwise, that will become a hard-to-find bug if you ever deploy outside the hardcoded region."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651775217,"creation_date":1651775217,"answer_id":72132016,"question_id":72126703,"body_markdown":"The code you are using is an old API and no longer considered best practice. Amazon Strongly recommends using V2 over V1.  \r\n\r\nThe way you are creating a service client is outdated too. To programmatically work with AWS Step Functions, consider using the recommended API - which is **AWS SDK for Java v2**. \r\n\r\nTo create an [AWS Step Functions Service Client][1] and specify the Region, use Java code like this: \r\n\r\n     Region region = Region.US_EAST_1;\r\n     SfnClient sfnClient = SfnClient.builder()\r\n               .region(region)\r\n                .build();\r\n\r\nSee the [AWS Step Functions Readme][2] here for more set up instructions for AWS SDK Java V2. \r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sfn/SfnClient.html\r\n  [2]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/stepfunctions","title":"Unable to find a region using the region provider chain. Must provide an explicit region in the builder or setup environment to supply a region","body":"<p>The code you are using is an old API and no longer considered best practice. Amazon Strongly recommends using V2 over V1.</p>\n<p>The way you are creating a service client is outdated too. To programmatically work with AWS Step Functions, consider using the recommended API - which is <strong>AWS SDK for Java v2</strong>.</p>\n<p>To create an <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sfn/SfnClient.html\" rel=\"nofollow noreferrer\">AWS Step Functions Service Client</a> and specify the Region, use Java code like this:</p>\n<pre><code> Region region = Region.US_EAST_1;\n SfnClient sfnClient = SfnClient.builder()\n           .region(region)\n            .build();\n</code></pre>\n<p>See the <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/stepfunctions\" rel=\"nofollow noreferrer\">AWS Step Functions Readme</a> here for more set up instructions for AWS SDK Java V2.</p>\n"}],"owner":{"account_id":8677372,"reputation":532,"user_id":6494406,"accept_rate":83,"display_name":"Bruno Justino Praciano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72132016,"answer_count":1,"score":0,"last_activity_date":1651776653,"creation_date":1651751523,"question_id":72126703,"body_markdown":"I am using the AWS Java SDK v1 to access a Step Function. \r\n\r\nUnfortunately I am getting this error about the region. \r\n\r\nIn my script file I defined like this. \r\n\r\n    private AWSStepFunctions client;\r\n    this.client = AWSStepFunctionsClientBuilder.defaultClient();\r\n\r\nIn application.properties I defined like this.\r\n\r\n    cloud.aws.region.static=eu-central-1\r\n    aws.region=eu-central-1\r\n\r\n","title":"Unable to find a region using the region provider chain. Must provide an explicit region in the builder or setup environment to supply a region","body":"<p>I am using the AWS Java SDK v1 to access a Step Function.</p>\n<p>Unfortunately I am getting this error about the region.</p>\n<p>In my script file I defined like this.</p>\n<pre><code>private AWSStepFunctions client;\nthis.client = AWSStepFunctionsClientBuilder.defaultClient();\n</code></pre>\n<p>In application.properties I defined like this.</p>\n<pre><code>cloud.aws.region.static=eu-central-1\naws.region=eu-central-1\n</code></pre>\n"},{"tags":["java","android","accessibilityservice"],"comments":[{"owner":{"account_id":9246093,"reputation":188,"user_id":6867902,"accept_rate":100,"display_name":"Lynch Chen"},"score":1,"creation_date":1642884285,"post_id":70757761,"comment_id":125193327,"body_markdown":"Does this answer your question? [How to check if accessibility service crashed (Android Pie now displays this info in settings)?](https://stackoverflow.com/questions/55061568/how-to-check-if-accessibility-service-crashed-android-pie-now-displays-this-inf)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55061568/how-to-check-if-accessibility-service-crashed-android-pie-now-displays-this-inf\">How to check if accessibility service crashed (Android Pie now displays this info in settings)?</a>"},{"owner":{"account_id":15567828,"reputation":107,"user_id":11231078,"display_name":"Stasky"},"score":0,"creation_date":1643128203,"post_id":70757761,"comment_id":125255105,"body_markdown":"@LynchChen this gives me ideas to detect if the service stops working (I&#39;m doing something similar already), but I don&#39;t see how I can detect why it stops working or what causes these bugs.","body":"@LynchChen this gives me ideas to detect if the service stops working (I&#39;m doing something similar already), but I don&#39;t see how I can detect why it stops working or what causes these bugs."},{"owner":{"account_id":9246093,"reputation":188,"user_id":6867902,"accept_rate":100,"display_name":"Lynch Chen"},"score":1,"creation_date":1643197472,"post_id":70757761,"comment_id":125274277,"body_markdown":"the reason is very simple. The only reason is the battery saving or optimization feature implemented by the phone manufacturer. This forces the app to be terminated and cause this bug. You shouldn&#39;t experience this bug on a pure AOSP system.","body":"the reason is very simple. The only reason is the battery saving or optimization feature implemented by the phone manufacturer. This forces the app to be terminated and cause this bug. You shouldn&#39;t experience this bug on a pure AOSP system."},{"owner":{"account_id":15567828,"reputation":107,"user_id":11231078,"display_name":"Stasky"},"score":1,"creation_date":1643210963,"post_id":70757761,"comment_id":125279793,"body_markdown":"@LynchChen But I&#39;ve had this happen right after I turn it on, which makes me think it&#39;s something from my app that crashes it, but I see nothing in the logs. I have to keep turning on and off until it works, sometimes the first time, sometimes the third, but nothing ever shows in the logs","body":"@LynchChen But I&#39;ve had this happen right after I turn it on, which makes me think it&#39;s something from my app that crashes it, but I see nothing in the logs. I have to keep turning on and off until it works, sometimes the first time, sometimes the third, but nothing ever shows in the logs"},{"owner":{"account_id":9246093,"reputation":188,"user_id":6867902,"accept_rate":100,"display_name":"Lynch Chen"},"score":1,"creation_date":1643250043,"post_id":70757761,"comment_id":125292176,"body_markdown":"It is not from your app. After your app is terminated by the system. The next time you try to enable accessibility service, it always fails to start accessibility service. It is a bug of android. Android fails to start the accessibility service after the service is terminated. There&#39;s nothing you can do with this. Someone has already filed a bug report to Google in 2016, but it hasn&#39;t been fixed. Check this out: https://issuetracker.google.com/issues/37123359","body":"It is not from your app. After your app is terminated by the system. The next time you try to enable accessibility service, it always fails to start accessibility service. It is a bug of android. Android fails to start the accessibility service after the service is terminated. There&#39;s nothing you can do with this. Someone has already filed a bug report to Google in 2016, but it hasn&#39;t been fixed. Check this out: <a href=\"https://issuetracker.google.com/issues/37123359\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/37123359</a>"}],"owner":{"account_id":15567828,"reputation":107,"user_id":11231078,"display_name":"Stasky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3874,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1651776446,"creation_date":1642518032,"question_id":70757761,"body_markdown":"I&#39;ve been using an Accessibility service for a while now on my app. It used to work fine, but there&#39;s this message on the phone at the screen where you enable the service in Settings that says `This service is malfunctioning`.\r\n\r\nNow all of a sudden my service isn&#39;t working too well. I turn it on but doesn&#39;t work, and when I check it&#39;s just not on. It doesn&#39;t give any error on Android studio and on the phone it just shows the service as &quot;ON&quot; even if it&#39;s not working.\r\n\r\nIs there a way for me to find out what is it that&#39;s making it malfunction? I have no way of knowing where to look.","title":"Accessibility Service is malfunctioning","body":"<p>I've been using an Accessibility service for a while now on my app. It used to work fine, but there's this message on the phone at the screen where you enable the service in Settings that says <code>This service is malfunctioning</code>.</p>\n<p>Now all of a sudden my service isn't working too well. I turn it on but doesn't work, and when I check it's just not on. It doesn't give any error on Android studio and on the phone it just shows the service as &quot;ON&quot; even if it's not working.</p>\n<p>Is there a way for me to find out what is it that's making it malfunction? I have no way of knowing where to look.</p>\n"},{"tags":["java","swing","jframe","jpanel","jlabel"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1651777175,"post_id":72132233,"comment_id":127450239,"body_markdown":"Does the image label have to be a label or do you just need the image to display?  You might be better creating a JPanel with the image drawn on the `Graphics` and placing the images on that panel.","body":"Does the image label have to be a label or do you just need the image to display?  You might be better creating a JPanel with the image drawn on the <code>Graphics</code> and placing the images on that panel."},{"owner":{"account_id":21988519,"reputation":45,"user_id":18806349,"display_name":"freddyfearful"},"score":0,"creation_date":1651777427,"post_id":72132233,"comment_id":127450310,"body_markdown":"I don&#39;t know how to do that, so yes it does","body":"I don&#39;t know how to do that, so yes it does"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651779004,"post_id":72132233,"comment_id":127450841,"body_markdown":"Why not add to a component that sets the image as that container&#39;s background?","body":"Why not add to a component that sets the image as that container&#39;s background?"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1651781900,"post_id":72132233,"comment_id":127451742,"body_markdown":"This should show you how, it&#39;s not difficult https://stackoverflow.com/questions/44703405/paint-image-in-jpanel-using-drawimage","body":"This should show you how, it&#39;s not difficult <a href=\"https://stackoverflow.com/questions/44703405/paint-image-in-jpanel-using-drawimage\" title=\"paint image in jpanel using drawimage\">stackoverflow.com/questions/44703405/&hellip;</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1651789413,"post_id":72132233,"comment_id":127453658,"body_markdown":"Swing has a parent/child relationship. If you want the labels displayed on the image then you add the labels to the image. There are two basic ways to do this: 1) paint the image on a panel and then add the labels to the panel using this approach the image can be scaled or 2) use an ImageIcon on a JLable, then set the layout manager of the label and then add the other 6 labels to the label with the Icon. Using this approach the image will always be painted at its original size.","body":"Swing has a parent/child relationship. If you want the labels displayed on the image then you add the labels to the image. There are two basic ways to do this: 1) paint the image on a panel and then add the labels to the panel using this approach the image can be scaled or 2) use an ImageIcon on a JLable, then set the layout manager of the label and then add the other 6 labels to the label with the Icon. Using this approach the image will always be painted at its original size."}],"owner":{"account_id":21988519,"reputation":45,"user_id":18806349,"display_name":"freddyfearful"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651776396,"creation_date":1651776396,"question_id":72132233,"body_markdown":"I made a JPanel, which has 6 string JLabels, and one image JLabel. What I need is to be able to position the Jlabel strings somewhere inside of my image JLabel&#39;s bounds. I&#39;m pretty sure my problem would be solved if I knew how to resize JLabels.\r\n\r\nSome Code:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setTitle(&quot;rainbow seizure&quot;);\r\n        frame.setResizable(false);\r\n        frame.setSize(500, 500);\r\n        frame.setVisible(true);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setLayout(new GridLayout());\r\n        frame.add(panel, BorderLayout.SOUTH);\r\n\r\n        JButton newCardButton = new JButton(&quot;New Card&quot;);\r\n        newCardButton.addActionListener(actionEvent -&gt; {\r\n            JPanel panel2 = new JPanel();\r\n            panel2.setLayout(new OverlayLayout(panel2));\r\n\r\n            JLabel jImage = new JLabel(new ImageIcon(&quot;C:\\\\Users\\\\unkno\\\\java\\\\Card1.PNG&quot;));\r\n            Dimension dimension = jImage.getPreferredSize(); // dimensions for me are 72x122\r\n\r\n            System.out.println(dimension.width);\r\n            System.out.println(dimension.height);\r\n\r\n            JLabel label1 = new JLabel(&quot;name&quot;);\r\n            label1.setBounds(new Rectangle(dimension.width, dimension.height)); // doesn&#39;t do anything :(\r\n            label1.setAlignmentX(Component.LEFT_ALIGNMENT);\r\n            label1.setAlignmentY(Component.TOP_ALIGNMENT);\r\n\r\n            JLabel label2 = new JLabel(&quot;cost&quot;);\r\n            JLabel label3 = new JLabel (&quot;atk&quot;);\r\n            JLabel label4 = new JLabel(&quot;type&quot;);\r\n            JLabel label5 = new JLabel  (&quot;hp&quot;);\r\n            JLabel label6 = new JLabel(&quot;disc&quot;);\r\n\r\n            panel2.add(label1);\r\n            panel2.add(label2);\r\n            panel2.add(label3);\r\n            panel2.add(label4);\r\n            panel2.add(label5);\r\n            panel2.add(label6);\r\n            panel2.add(jImage);\r\n\r\n            panel.add(panel2);\r\n            frame.revalidate();\r\n        });\r\n        frame.add(newCardButton, BorderLayout.NORTH);\r\n    }\r\n}\r\n\r\n```","title":"How do I specifically position JLabels within a JPanel","body":"<p>I made a JPanel, which has 6 string JLabels, and one image JLabel. What I need is to be able to position the Jlabel strings somewhere inside of my image JLabel's bounds. I'm pretty sure my problem would be solved if I knew how to resize JLabels.</p>\n<p>Some Code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;rainbow seizure&quot;);\n        frame.setResizable(false);\n        frame.setSize(500, 500);\n        frame.setVisible(true);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridLayout());\n        frame.add(panel, BorderLayout.SOUTH);\n\n        JButton newCardButton = new JButton(&quot;New Card&quot;);\n        newCardButton.addActionListener(actionEvent -&gt; {\n            JPanel panel2 = new JPanel();\n            panel2.setLayout(new OverlayLayout(panel2));\n\n            JLabel jImage = new JLabel(new ImageIcon(&quot;C:\\\\Users\\\\unkno\\\\java\\\\Card1.PNG&quot;));\n            Dimension dimension = jImage.getPreferredSize(); // dimensions for me are 72x122\n\n            System.out.println(dimension.width);\n            System.out.println(dimension.height);\n\n            JLabel label1 = new JLabel(&quot;name&quot;);\n            label1.setBounds(new Rectangle(dimension.width, dimension.height)); // doesn't do anything :(\n            label1.setAlignmentX(Component.LEFT_ALIGNMENT);\n            label1.setAlignmentY(Component.TOP_ALIGNMENT);\n\n            JLabel label2 = new JLabel(&quot;cost&quot;);\n            JLabel label3 = new JLabel (&quot;atk&quot;);\n            JLabel label4 = new JLabel(&quot;type&quot;);\n            JLabel label5 = new JLabel  (&quot;hp&quot;);\n            JLabel label6 = new JLabel(&quot;disc&quot;);\n\n            panel2.add(label1);\n            panel2.add(label2);\n            panel2.add(label3);\n            panel2.add(label4);\n            panel2.add(label5);\n            panel2.add(label6);\n            panel2.add(jImage);\n\n            panel.add(panel2);\n            frame.revalidate();\n        });\n        frame.add(newCardButton, BorderLayout.NORTH);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":18912314,"reputation":63,"user_id":13798134,"display_name":"just developer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651776358,"creation_date":1651700419,"answer_id":72119761,"question_id":72119051,"body_markdown":"first of all you need to check the internet connection using code bellow :\r\n\r\n      public boolean isInternetOn() {\r\n         ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n         NetworkInfo netInfo = cm.getActiveNetworkInfo();\r\n         return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\r\n      }  \r\n\r\nthen add some view in activity bellow the `webview` simulate to this :\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/no_internet_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n           ////add your no internet button and text here\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\nand finally add this in your `OnCreate()` to check the internet and control the visibility of view\r\n  \r\n        if (isInternetOn()){\r\n            mWebview.setVisibility(View.VISIBLE);\r\n            noInternetView.setVisibility(View.GONE);\r\n        }else{\r\n            mWebview.setVisibility(View.GONE);\r\n            noInternetView.setVisibility(View.VISIBLE);\r\n        }\r\n\r\n**Update:**\r\n\r\nthe full code is :\r\n\r\n        import androidx.appcompat.app.AppCompatActivity;\r\n\r\n        import android.net.ConnectivityManager;\r\n        import android.net.NetworkInfo;\r\n        import android.os.Bundle;\r\n        import android.view.View;\r\n        import android.webkit.WebSettings;\r\n        import android.webkit.WebView;\r\n        import android.webkit.WebViewClient;\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n\r\n            WebView webView;\r\n\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n\r\n                webView = (WebView)findViewById(R.id.webView);\r\n                LinearLayout no_internet_view = (LinearLayout)findViewById(R.id.no_internet_view);//////this line for define no_internet_view\r\n                WebSettings webSettings = webView.getSettings();\r\n                webSettings.setJavaScriptEnabled(true);\r\n                webSettings.setAllowFileAccessFromFileURLs(true);\r\n                webView.loadUrl(&quot;websitename.com&quot;);\r\n                webView.setWebViewClient(new WebViewClient());\r\n                if (isInternetOn()){\r\n                    webView.setVisibility(View.VISIBLE);\r\n                    no_internet_view.setVisibility(View.GONE);\r\n                } else {\r\n                    webView.setVisibility(View.GONE);\r\n                    no_internet_view.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onBackPressed() {\r\n                if (webView.canGoBack()) {\r\n                    webView.goBack();\r\n                } else {\r\n                    super.onBackPressed(); //maybe shove option first later\r\n                }\r\n            }\r\n\r\n            public boolean isInternetOn() {\r\n                ConnectivityManager cm = (ConnectivityManager) this.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n                NetworkInfo netInfo = cm.getActiveNetworkInfo();\r\n                return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\r\n            }\r\n        }\r\n\r\n","title":"Change activity when network is disconnected","body":"<p>first of all you need to check the internet connection using code bellow :</p>\n<pre><code>  public boolean isInternetOn() {\n     ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n     NetworkInfo netInfo = cm.getActiveNetworkInfo();\n     return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\n  }  \n</code></pre>\n<p>then add some view in activity bellow the <code>webview</code> simulate to this :</p>\n<pre><code>    &lt;LinearLayout\n        android:id=&quot;@+id/no_internet_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n       ////add your no internet button and text here\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>and finally add this in your <code>OnCreate()</code> to check the internet and control the visibility of view</p>\n<pre><code>    if (isInternetOn()){\n        mWebview.setVisibility(View.VISIBLE);\n        noInternetView.setVisibility(View.GONE);\n    }else{\n        mWebview.setVisibility(View.GONE);\n        noInternetView.setVisibility(View.VISIBLE);\n    }\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>the full code is :</p>\n<pre><code>    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.net.ConnectivityManager;\n    import android.net.NetworkInfo;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.webkit.WebSettings;\n    import android.webkit.WebView;\n    import android.webkit.WebViewClient;\n\n    public class MainActivity extends AppCompatActivity {\n\n        WebView webView;\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n\n            webView = (WebView)findViewById(R.id.webView);\n            LinearLayout no_internet_view = (LinearLayout)findViewById(R.id.no_internet_view);//////this line for define no_internet_view\n            WebSettings webSettings = webView.getSettings();\n            webSettings.setJavaScriptEnabled(true);\n            webSettings.setAllowFileAccessFromFileURLs(true);\n            webView.loadUrl(&quot;websitename.com&quot;);\n            webView.setWebViewClient(new WebViewClient());\n            if (isInternetOn()){\n                webView.setVisibility(View.VISIBLE);\n                no_internet_view.setVisibility(View.GONE);\n            } else {\n                webView.setVisibility(View.GONE);\n                no_internet_view.setVisibility(View.VISIBLE);\n            }\n        }\n\n        @Override\n        public void onBackPressed() {\n            if (webView.canGoBack()) {\n                webView.goBack();\n            } else {\n                super.onBackPressed(); //maybe shove option first later\n            }\n        }\n\n        public boolean isInternetOn() {\n            ConnectivityManager cm = (ConnectivityManager) this.getSystemService(Context.CONNECTIVITY_SERVICE);\n            NetworkInfo netInfo = cm.getActiveNetworkInfo();\n            return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\n        }\n    }\n</code></pre>\n"}],"owner":{"display_name":"user19036822"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651776358,"creation_date":1651695680,"question_id":72119051,"body_markdown":"I am building an app in Android Studio with Java that uses WebView to display a site inside the app. I want to switch the app&#39;s activity to my no_internet.xml activity whenever the user&#39;s internet connection is disconnected, so rather than seeing the default Android disconnection screen, they will see my custom one with a retry button. Here is my code for my activity_main.xml file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/webView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:layout_editor_absoluteX=&quot;1dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;1dp&quot; &gt;\r\n        &lt;/WebView&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\nThis is the entire MainActivity.java file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.example.packagename;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkInfo;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        WebView webView;\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            webView = (WebView)findViewById(R.id.webView);\r\n            WebSettings webSettings = webView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webSettings.setAllowFileAccessFromFileURLs(true);\r\n            webView.loadUrl(&quot;websitename.com&quot;);\r\n            webView.setWebViewClient(new WebViewClient());\r\n            if (isInternetOn()){\r\n                webView.setVisibility(View.VISIBLE);\r\n                no_internet_view.setVisibility(View.GONE);\r\n            } else {\r\n                webView.setVisibility(View.GONE);\r\n                no_internet_view.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n            } else {\r\n                super.onBackPressed(); //maybe shove option first later\r\n            }\r\n        }\r\n\r\n        public boolean isInternetOn() {\r\n            ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo netInfo = cm.getActiveNetworkInfo();\r\n            return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHow can I switch to this activity (rather than the default no-internet screen) when they don&#39;t have an internet connection? Thanks!","title":"Change activity when network is disconnected","body":"<p>I am building an app in Android Studio with Java that uses WebView to display a site inside the app. I want to switch the app's activity to my no_internet.xml activity whenever the user's internet connection is disconnected, so rather than seeing the default Android disconnection screen, they will see my custom one with a retry button. Here is my code for my activity_main.xml file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;WebView\n        android:id=\"@+id/webView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:layout_editor_absoluteX=\"1dp\"\n        tools:layout_editor_absoluteY=\"1dp\" &gt;\n    &lt;/WebView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nThis is the entire MainActivity.java file:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.example.packagename;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = (WebView)findViewById(R.id.webView);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setAllowFileAccessFromFileURLs(true);\n        webView.loadUrl(\"websitename.com\");\n        webView.setWebViewClient(new WebViewClient());\n        if (isInternetOn()){\n            webView.setVisibility(View.VISIBLE);\n            no_internet_view.setVisibility(View.GONE);\n        } else {\n            webView.setVisibility(View.GONE);\n            no_internet_view.setVisibility(View.VISIBLE);\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed(); //maybe shove option first later\n        }\n    }\n\n    public boolean isInternetOn() {\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo netInfo = cm.getActiveNetworkInfo();\n        return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>How can I switch to this activity (rather than the default no-internet screen) when they don't have an internet connection? Thanks!</p>\n"},{"tags":["java","java-8","stream","java-stream"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1651707924,"post_id":72120528,"comment_id":127430094,"body_markdown":"In the future, post complete code. This include methods in the class. If you want people to help you, the LEAST you can do is minimize the work THEY have to do to figure out what is wrong with YOUR code.","body":"In the future, post complete code. This include methods in the class. If you want people to help you, the LEAST you can do is minimize the work THEY have to do to figure out what is wrong with YOUR code."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1651708146,"post_id":72120528,"comment_id":127430132,"body_markdown":"`items.get(i).ticketTypes = temp;` - First advice: don&#39;t access fields on the object directly, like in this statement (you might be accustomed to that if you&#39;re mainly doing JavaScript, but it&#39;s not a good practice in Java). Use getters and setters instead. In regard to your question, since you need to **mutate** your objects (*line at the beginning of the comment*) this task isn&#39;t suitable to be implemented with streams.","body":"<code>items.get(i).ticketTypes = temp;</code> - First advice: don&#39;t access fields on the object directly, like in this statement (you might be accustomed to that if you&#39;re mainly doing JavaScript, but it&#39;s not a good practice in Java). Use getters and setters instead. In regard to your question, since you need to <b>mutate</b> your objects (<i>line at the beginning of the comment</i>) this task isn&#39;t suitable to be implemented with streams."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1651708663,"post_id":72120528,"comment_id":127430204,"body_markdown":"To echo what Alexander Ivanchenko stated, mutating your collection is something you should not do using streams. *HOWEVER*, if you were to make a defensive copy of your list (clone it), you could flatten it, filter it... In your case, you could map a new list that does not contain `PriceDetails` that meet a certain criteria. You could sum up the prices, and many other operations.","body":"To echo what Alexander Ivanchenko stated, mutating your collection is something you should not do using streams. <i>HOWEVER</i>, if you were to make a defensive copy of your list (clone it), you could flatten it, filter it... In your case, you could map a new list that does not contain <code>PriceDetails</code> that meet a certain criteria. You could sum up the prices, and many other operations."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1651709123,"post_id":72120528,"comment_id":127430268,"body_markdown":"My last comment was a little confusing. I was trying to convey two ideas. 1) If you need to mutate your collection, perhaps you should create a copy of the original collection first AND THEN mutate the copy. There are many benefits to this approach, one of which is concurrency and thread safety. 2) The other idea I was trying convey was to Ivan&#39;s point: Streams should be used to filter, flatten, etc. You can also collect results, such as summing the prices in the list. You should read about the functions the Stream API provides to have a better idea what it is suitable to do with it.","body":"My last comment was a little confusing. I was trying to convey two ideas. 1) If you need to mutate your collection, perhaps you should create a copy of the original collection first AND THEN mutate the copy. There are many benefits to this approach, one of which is concurrency and thread safety. 2) The other idea I was trying convey was to Ivan&#39;s point: Streams should be used to filter, flatten, etc. You can also collect results, such as summing the prices in the list. You should read about the functions the Stream API provides to have a better idea what it is suitable to do with it."},{"owner":{"account_id":375024,"reputation":1538,"user_id":725596,"display_name":"Scott"},"score":0,"creation_date":1651719345,"post_id":72120528,"comment_id":127431544,"body_markdown":"Your filterByEmptyTicketPrice() method implementation isn&#39;t consistent with the model you specified and doesn&#39;t compile.","body":"Your filterByEmptyTicketPrice() method implementation isn&#39;t consistent with the model you specified and doesn&#39;t compile."},{"owner":{"account_id":375024,"reputation":1538,"user_id":725596,"display_name":"Scott"},"score":0,"creation_date":1651720010,"post_id":72120528,"comment_id":127431622,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":11867384,"reputation":47,"user_id":8684542,"display_name":"deepan"},"score":0,"creation_date":1651720176,"post_id":72120528,"comment_id":127431655,"body_markdown":"@Scott Its working with the model. Can you elaborate your question please ?","body":"@Scott Its working with the model. Can you elaborate your question please ?"},{"owner":{"account_id":375024,"reputation":1538,"user_id":725596,"display_name":"Scott"},"score":0,"creation_date":1651722236,"post_id":72120528,"comment_id":127431946,"body_markdown":"@deepan see my an answer below. It really doesn&#39;t even compile with the model you gave us.","body":"@deepan see my an answer below. It really doesn&#39;t even compile with the model you gave us."},{"owner":{"account_id":11867384,"reputation":47,"user_id":8684542,"display_name":"deepan"},"score":0,"creation_date":1651776448,"post_id":72120528,"comment_id":127450029,"body_markdown":"@Scott This line &quot;item -&gt; new Item(filterPrices(item.priceDetails)&quot; creates a new item with all other fields as null values. I want all other fields to be same, just want to filter these pricedetails with null price, rest all the fields in the items class should be the same.","body":"@Scott This line &quot;item -&gt; new Item(filterPrices(item.priceDetails)&quot; creates a new item with all other fields as null values. I want all other fields to be same, just want to filter these pricedetails with null price, rest all the fields in the items class should be the same."}],"answers":[{"tags":[],"owner":{"account_id":375024,"reputation":1538,"user_id":725596,"display_name":"Scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651720278,"creation_date":1651719971,"answer_id":72121468,"question_id":72120528,"body_markdown":"Your `filterByEmptyTicketPrice()` method doesn&#39;t compile with the `Item` and `PriceDetails` model you gave.\r\n\r\nThe correct loop based implementation would be:\r\n\r\n```java\r\n    public static List&lt;Item&gt; filterByEmptyTicketPrice(List&lt;Item&gt; items) {\r\n        List&lt;Item&gt; result = new ArrayList&lt;&gt;();\r\n        for (Item item : items) {\r\n            List&lt;PriceDetails&gt; temp = new ArrayList&lt;&gt;();\r\n            for (PriceDetails priceDetails : item.priceDetails) {\r\n                if (nonNull(priceDetails.price)) {\r\n                    temp.add(priceDetails);\r\n                }\r\n            }\r\n            // bug: you mutate your method input here\r\n            item.priceDetails = temp;\r\n            result.add(item);\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nAlso, as noted above, you&#39;re mutating the input `items`. The correct way to do this with streams and without mutating the input would be:\r\n\r\n```java\r\n    public static List&lt;Item&gt; filterByEmptyTicketPrice(List&lt;Item&gt; items) {\r\n        return items.stream()\r\n                .map(item -&gt; new Item(filterPrices(item.priceDetails)))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    static List&lt;PriceDetails&gt; filterPrices(List&lt;PriceDetails&gt; priceDetailsList) {\r\n        return priceDetailsList\r\n                .stream()\r\n                .filter(priceDetails -&gt; priceDetails.price != null)\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nThis example assumes you&#39;ve added a new `Item` constructor such as:\r\n\r\n```java\r\npublic Item(List&lt;PriceDetails&gt; priceDetails) {\r\n    this.priceDetails = priceDetails;\r\n}\r\n```\r\n\r\nAs others mentioned, you should update the model to use getters to access `priceDetails` and `price` making them private in your `Item` and `PriceDetails` classes.","title":"Java Nested filter and Nested Streams","body":"<p>Your <code>filterByEmptyTicketPrice()</code> method doesn't compile with the <code>Item</code> and <code>PriceDetails</code> model you gave.</p>\n<p>The correct loop based implementation would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static List&lt;Item&gt; filterByEmptyTicketPrice(List&lt;Item&gt; items) {\n        List&lt;Item&gt; result = new ArrayList&lt;&gt;();\n        for (Item item : items) {\n            List&lt;PriceDetails&gt; temp = new ArrayList&lt;&gt;();\n            for (PriceDetails priceDetails : item.priceDetails) {\n                if (nonNull(priceDetails.price)) {\n                    temp.add(priceDetails);\n                }\n            }\n            // bug: you mutate your method input here\n            item.priceDetails = temp;\n            result.add(item);\n        }\n        return result;\n    }\n</code></pre>\n<p>Also, as noted above, you're mutating the input <code>items</code>. The correct way to do this with streams and without mutating the input would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static List&lt;Item&gt; filterByEmptyTicketPrice(List&lt;Item&gt; items) {\n        return items.stream()\n                .map(item -&gt; new Item(filterPrices(item.priceDetails)))\n                .collect(Collectors.toList());\n    }\n\n    static List&lt;PriceDetails&gt; filterPrices(List&lt;PriceDetails&gt; priceDetailsList) {\n        return priceDetailsList\n                .stream()\n                .filter(priceDetails -&gt; priceDetails.price != null)\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>This example assumes you've added a new <code>Item</code> constructor such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Item(List&lt;PriceDetails&gt; priceDetails) {\n    this.priceDetails = priceDetails;\n}\n</code></pre>\n<p>As others mentioned, you should update the model to use getters to access <code>priceDetails</code> and <code>price</code> making them private in your <code>Item</code> and <code>PriceDetails</code> classes.</p>\n"}],"owner":{"account_id":11867384,"reputation":47,"user_id":8684542,"display_name":"deepan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651776254,"creation_date":1651707407,"question_id":72120528,"body_markdown":"```\r\nclass Item {\r\n  int id;\r\n  List&lt;PriceDetails&gt; priceDetails;\r\n  String itemName;\r\n}\r\n```\r\n----------\r\n```\r\nclass PriceDetails {\r\n  int price;\r\n}\r\n```\r\nI am getting multiple items in a JSON file. I am trying to filter `priceDetails` with empty price (not the items, just removing all the `priceDetails` in the list with empty price)\r\n\r\nI am able to write Java code and its working as expected, but I don&#39;t know how to write using Java Streams. Can someone help me? \r\n\r\nThanks in advance.\r\n\r\n\r\nJava Code :\r\n```\r\npublic static List&lt;Item&gt;  filterByEmptyPrice(List&lt;Item&gt; items) {\r\n    List&lt;Item&gt; result= new ArrayList&lt;&gt;();\r\n    for(int i=0;i&lt;items.size();i++) {\r\n        List&lt;PriceDetails&gt; temp= new ArrayList&lt;&gt;();\r\n        for(int j=0;j&lt;items.get(i).PriceDetails.size();j++) {\r\n            if(nonNull(items.get(i).PriceDetails) &amp;&amp; nonNull(items.get(i).priceDetails.get(j).priceDetails.price)) {\r\n                temp.add(items.get(i).priceDetails.get(j));\r\n            }\r\n        }\r\n        items.get(i).priceDetails= temp;\r\n        result.add(items.get(i));\r\n    }\r\n    return result;\r\n}\r\n```","title":"Java Nested filter and Nested Streams","body":"<pre><code>class Item {\n  int id;\n  List&lt;PriceDetails&gt; priceDetails;\n  String itemName;\n}\n</code></pre>\n<hr />\n<pre><code>class PriceDetails {\n  int price;\n}\n</code></pre>\n<p>I am getting multiple items in a JSON file. I am trying to filter <code>priceDetails</code> with empty price (not the items, just removing all the <code>priceDetails</code> in the list with empty price)</p>\n<p>I am able to write Java code and its working as expected, but I don't know how to write using Java Streams. Can someone help me?</p>\n<p>Thanks in advance.</p>\n<p>Java Code :</p>\n<pre><code>public static List&lt;Item&gt;  filterByEmptyPrice(List&lt;Item&gt; items) {\n    List&lt;Item&gt; result= new ArrayList&lt;&gt;();\n    for(int i=0;i&lt;items.size();i++) {\n        List&lt;PriceDetails&gt; temp= new ArrayList&lt;&gt;();\n        for(int j=0;j&lt;items.get(i).PriceDetails.size();j++) {\n            if(nonNull(items.get(i).PriceDetails) &amp;&amp; nonNull(items.get(i).priceDetails.get(j).priceDetails.price)) {\n                temp.add(items.get(i).priceDetails.get(j));\n            }\n        }\n        items.get(i).priceDetails= temp;\n        result.add(items.get(i));\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring","maven","jpa"],"comments":[{"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"score":0,"creation_date":1505896075,"post_id":46316652,"comment_id":79595252,"body_markdown":"post your application.properties file","body":"post your application.properties file"},{"owner":{"account_id":7118406,"reputation":21,"user_id":5443824,"display_name":"korisnik1"},"score":1,"creation_date":1505896488,"post_id":46316652,"comment_id":79595516,"body_markdown":"For the purpose of testing the problem, I create an new spring starter  project with jpa dependency, so my application.properties file is empty. But I worked with oracle database otherwise, and when I add oracle dependency it give me the same error.  &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;12.1.0.1.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"For the purpose of testing the problem, I create an new spring starter  project with jpa dependency, so my application.properties file is empty. But I worked with oracle database otherwise, and when I add oracle dependency it give me the same error.  &lt;dependency&gt; \t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;ojdbc7&lt;/artifactId&gt; \t\t\t&lt;version&gt;12.1.0.1.0&lt;/version&gt; \t\t&lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505896002,"creation_date":1505896002,"answer_id":46316984,"question_id":46316652,"body_markdown":"You need to include a database in your dependencies.\r\nIf a database was found, spring boot auto-configures your datasource for you.\r\n\r\nSee this example, which includes a h2database.\r\n\r\nhttps://spring.io/guides/gs/accessing-data-jpa/","title":"spring-boot-starter-data-jpa dependency error","body":"<p>You need to include a database in your dependencies.\nIf a database was found, spring boot auto-configures your datasource for you.</p>\n\n<p>See this example, which includes a h2database.</p>\n\n<p><a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-jpa/</a></p>\n"},{"tags":[],"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505896762,"creation_date":1505896762,"answer_id":46317218,"question_id":46316652,"body_markdown":"You need to put your database related info in the application.properties file\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_example\r\n    spring.datasource.username=springuser\r\n    spring.datasource.password=ThePassword\r\n    \r\nAnd you need to put the database dependency in your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthis is how it&#39;s listed in the official site for mysql, you can try with your database of choice.\r\n","title":"spring-boot-starter-data-jpa dependency error","body":"<p>You need to put your database related info in the application.properties file</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create\nspring.datasource.url=jdbc:mysql://localhost:3306/db_example\nspring.datasource.username=springuser\nspring.datasource.password=ThePassword\n</code></pre>\n\n<p>And you need to put the database dependency in your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>this is how it's listed in the official site for mysql, you can try with your database of choice.</p>\n"},{"tags":[],"owner":{"account_id":20515025,"reputation":70,"user_id":15055898,"display_name":"Clauber Martins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651775107,"creation_date":1633030644,"answer_id":69397980,"question_id":46316652,"body_markdown":"You need to place the database in dependencies in the file pom.xml according to the database used in the application.yml file:\r\n\r\n 1. application.yml file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    datasource:\r\n      url: jdbc:postgresql://localhost:5432/your-database\r\n      username: user\r\n      password: password\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 2. pom.xml file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"spring-boot-starter-data-jpa dependency error","body":"<p>You need to place the database in dependencies in the file pom.xml according to the database used in the application.yml file:</p>\n<ol>\n<li>application.yml file:</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>datasource:\n  url: jdbc:postgresql://localhost:5432/your-database\n  username: user\n  password: password</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"2\">\n<li>pom.xml file:</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":7118406,"reputation":21,"user_id":5443824,"display_name":"korisnik1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1651775107,"creation_date":1505895022,"question_id":46316652,"body_markdown":"I am using new version of Spring boot - 1.5.7.\r\nBut , when I create new spring starter project with jpa dependency,\r\nI got strange error:\r\n\r\n&gt; Caused by:\r\n&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No\r\n&gt; qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected at\r\n&gt; least 1 bean which qualifies as autowire candidate. Dependency\r\n&gt; annotations: {}\r\n\r\nCould anybody help me:\r\nHere is my `pom.xml` \r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo-11&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    \t&lt;name&gt;demo-11&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.7.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n\r\n    \t&lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n\r\n    \t\r\n    &lt;/project&gt;\r\n\r\n","title":"spring-boot-starter-data-jpa dependency error","body":"<p>I am using new version of Spring boot - 1.5.7.\nBut , when I create new spring starter project with jpa dependency,\nI got strange error:</p>\n\n<blockquote>\n  <p>Caused by:\n  org.springframework.beans.factory.NoSuchBeanDefinitionException: No\n  qualifying bean of type 'javax.sql.DataSource' available: expected at\n  least 1 bean which qualifies as autowire candidate. Dependency\n  annotations: {}</p>\n</blockquote>\n\n<p>Could anybody help me:\nHere is my <code>pom.xml</code> </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-11&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo-11&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","sql","hibernate","jpa","criteriaquery"],"answers":[{"tags":[],"owner":{"account_id":2754556,"reputation":82,"user_id":2373046,"display_name":"teczarina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651494000,"creation_date":1651494000,"answer_id":72086615,"question_id":72060911,"body_markdown":"There are multiple strategies that you can use to implement this:\r\n 1. MappedSuperclass (Parent class will be mapped with this annotation and not entity)\r\n 2. Single Table (Single table for each hierarchy, you can use @DiscriminatorColumn JPA annotation for identifying each hierarchy)\r\n 3. Joined Table (Each class for the parent and child)\r\nIn this scenario, you would have to join both the tables on the common column to fetch the results.\r\n\r\n\r\nThese are some good answers on joining tables\r\n   \r\n\r\n&gt; https://stackoverflow.com/questions/19977130/joining-two-table-entities-in-spring-data-jpa\r\n\r\n\r\nLink for some good answers on usage of discrimintaorColumn\r\n\r\n&gt; https://stackoverflow.com/questions/43570875/how-to-access-discriminator-column-in-jpa","title":"Transforming an sql query into CriteriaQuery","body":"<p>There are multiple strategies that you can use to implement this:</p>\n<ol>\n<li>MappedSuperclass (Parent class will be mapped with this annotation and not entity)</li>\n<li>Single Table (Single table for each hierarchy, you can use @DiscriminatorColumn JPA annotation for identifying each hierarchy)</li>\n<li>Joined Table (Each class for the parent and child)\nIn this scenario, you would have to join both the tables on the common column to fetch the results.</li>\n</ol>\n<p>These are some good answers on joining tables</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/19977130/joining-two-table-entities-in-spring-data-jpa\">Joining two table entities in Spring Data JPA</a></p>\n</blockquote>\n<p>Link for some good answers on usage of discrimintaorColumn</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/43570875/how-to-access-discriminator-column-in-jpa\">How to access discriminator column in JPA</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25142999,"reputation":21,"user_id":18989148,"display_name":"developer_deb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651775062,"creation_date":1651775062,"answer_id":72131995,"question_id":72060911,"body_markdown":"Finally, I managed to solve the problem. My entity classes and criteria query looks something like the below.\r\n\r\n**Parent Entity**\r\n\r\n    @Entity\r\n    @Table(name=&quot;parent&quot;)\r\n    public class Parent{\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       @Column(name=&quot;notification_id&quot;)\r\n\t   private Long notificationId;\r\n\r\n       @Column(name=&quot;city&quot;)\r\n\t   private String city;\r\n       @Column(name=&quot;name&quot;)\r\n\t   private String name;\r\n       @Column(name=&quot;accountNo&quot;)\r\n\t   private String accountNo;\r\n  \r\n       @JoinColumn(name=&quot;notification_id_child&quot;)\r\n       @OneToMany\r\n\t   private List&lt;Child&gt; child;\r\n\r\n\t   //Getters Setters\r\n    }\r\n\r\n**Child Entity**\r\n\r\n    @Entity\r\n    @Table(name=&quot;child&quot;)\r\n    public class Child{\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       @Column(name=&quot;id&quot;)\r\n       private Long id;\r\n       @Column(name=&quot;accountNo&quot;)   \r\n       private String accountNo;\r\n       @Column(name=&quot;notification_id_child&quot;)\r\n       private String notificationIdChild;\r\n       //Getters Setters\r\n    }\r\n**Custom Entity**\r\n\r\n    public class CustomEntity{\r\n        private Long notificationId;\r\n        private String city;\r\n        private String accountNo;\r\n        private String checked;\r\n    }\r\n\r\n**Criteria Query**\r\n\r\n     @PersistenceContext\r\n     EntitiManager em;    \r\n     CriteraBuilder cb = em.getCriteriaBuilder();\r\n     CriteriaQuery&lt;CustomEntity&gt; cq = cb.createQuery(CustomEntity.class);\r\n     Root&lt;Parent&gt; parentEntity = cq.from(Parent.class);\r\n     Join&lt;Parent,Child&gt; join = parentEntity.join(&quot;child&quot;, JoinType.LEFT);\r\n     join.on(cb.equal(join.get(&quot;accountNo&quot;),&quot;test&quot;));\r\n     \r\n     Path&lt;String&gt; notificationIdPath = parentEntity.get(&quot;notificationId&quot;);\r\n     Path&lt;String&gt; cityPath = parentEntity.get(&quot;city&quot;);\r\n     Path&lt;String&gt; accountNoPath = parentEntity.get(&quot;accountNo&quot;);\r\n     cq.multiselect(notificationIdPath, cityPath, accountNoPath,\r\n     cb.selectCase().when(join.get(&quot;accountNo&quot;).isNotNull(),&quot;Yes&quot;).otherwise(&quot;No&quot;));\r\n     \r\n     Path&lt;String&gt; accountNoPath = parentEntity(&quot;accountNo&quot;);\r\n     Predicate accountNoPredicate = cb.equal(accountNoPath, &quot;test&quot;); \r\n     Predicate cityPredicateAll = cb.equal(cityPath,&quot;all&quot;);\r\n     Predicate cityPredicateSpecified = cb.equal(cityPath,&quot;delhi&quot;);\r\n     \r\n     cq.where(cb.or(cityPredicateAll, cityPredicateSpecified, accountNoPredicate));\r\n\r\n     TypedQuery&lt;CustomEntity&gt; query = em.createQuery(cq);\r\n     List&lt;CustomEntity&gt; CustomEntityList = query.getResult();","title":"Transforming an sql query into CriteriaQuery","body":"<p>Finally, I managed to solve the problem. My entity classes and criteria query looks something like the below.</p>\n<p><strong>Parent Entity</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;parent&quot;)\npublic class Parent{\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name=&quot;notification_id&quot;)\n   private Long notificationId;\n\n   @Column(name=&quot;city&quot;)\n   private String city;\n   @Column(name=&quot;name&quot;)\n   private String name;\n   @Column(name=&quot;accountNo&quot;)\n   private String accountNo;\n\n   @JoinColumn(name=&quot;notification_id_child&quot;)\n   @OneToMany\n   private List&lt;Child&gt; child;\n\n   //Getters Setters\n}\n</code></pre>\n<p><strong>Child Entity</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;child&quot;)\npublic class Child{\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name=&quot;id&quot;)\n   private Long id;\n   @Column(name=&quot;accountNo&quot;)   \n   private String accountNo;\n   @Column(name=&quot;notification_id_child&quot;)\n   private String notificationIdChild;\n   //Getters Setters\n}\n</code></pre>\n<p><strong>Custom Entity</strong></p>\n<pre><code>public class CustomEntity{\n    private Long notificationId;\n    private String city;\n    private String accountNo;\n    private String checked;\n}\n</code></pre>\n<p><strong>Criteria Query</strong></p>\n<pre><code> @PersistenceContext\n EntitiManager em;    \n CriteraBuilder cb = em.getCriteriaBuilder();\n CriteriaQuery&lt;CustomEntity&gt; cq = cb.createQuery(CustomEntity.class);\n Root&lt;Parent&gt; parentEntity = cq.from(Parent.class);\n Join&lt;Parent,Child&gt; join = parentEntity.join(&quot;child&quot;, JoinType.LEFT);\n join.on(cb.equal(join.get(&quot;accountNo&quot;),&quot;test&quot;));\n \n Path&lt;String&gt; notificationIdPath = parentEntity.get(&quot;notificationId&quot;);\n Path&lt;String&gt; cityPath = parentEntity.get(&quot;city&quot;);\n Path&lt;String&gt; accountNoPath = parentEntity.get(&quot;accountNo&quot;);\n cq.multiselect(notificationIdPath, cityPath, accountNoPath,\n cb.selectCase().when(join.get(&quot;accountNo&quot;).isNotNull(),&quot;Yes&quot;).otherwise(&quot;No&quot;));\n \n Path&lt;String&gt; accountNoPath = parentEntity(&quot;accountNo&quot;);\n Predicate accountNoPredicate = cb.equal(accountNoPath, &quot;test&quot;); \n Predicate cityPredicateAll = cb.equal(cityPath,&quot;all&quot;);\n Predicate cityPredicateSpecified = cb.equal(cityPath,&quot;delhi&quot;);\n \n cq.where(cb.or(cityPredicateAll, cityPredicateSpecified, accountNoPredicate));\n\n TypedQuery&lt;CustomEntity&gt; query = em.createQuery(cq);\n List&lt;CustomEntity&gt; CustomEntityList = query.getResult();\n</code></pre>\n"}],"owner":{"account_id":25142999,"reputation":21,"user_id":18989148,"display_name":"developer_deb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651775062,"creation_date":1651249166,"question_id":72060911,"body_markdown":"I have two tables and they maintain the parent-child relationship between them by a foreign key. \r\nThe query looks something like below. I want to use the criteriaquery along with jpa. So can anyone help me with the criteriaquery &amp; how the two entity classes would look like\r\nps:if there is any custom enity class required apart from these two entities classes help me with that as well.\r\n\r\n    Select parent.notification_id,parent.city,parent.name,parent.accountNo,\r\n    case when child.accountNo is not null then &#39;Yes&#39; else &#39;No&#39; end as checked\r\n    FROM parent\r\n    JOIN child ON parent.notification_id=child.notification_id_child\r\n    AND child.accountNo=&#39;test&#39; WHERE parent.city=&#39;delhi&#39; or parent.city=&#39;all&#39; or parent.accountNo=&quot;test&quot;;\r\n\r\nThe column &#39;notification_id_child&#39; of table &#39;child&#39; is the foreign key and refers to the primarykey of table &#39;parent&#39;. \r\n","title":"Transforming an sql query into CriteriaQuery","body":"<p>I have two tables and they maintain the parent-child relationship between them by a foreign key.\nThe query looks something like below. I want to use the criteriaquery along with jpa. So can anyone help me with the criteriaquery &amp; how the two entity classes would look like\nps:if there is any custom enity class required apart from these two entities classes help me with that as well.</p>\n<pre><code>Select parent.notification_id,parent.city,parent.name,parent.accountNo,\ncase when child.accountNo is not null then 'Yes' else 'No' end as checked\nFROM parent\nJOIN child ON parent.notification_id=child.notification_id_child\nAND child.accountNo='test' WHERE parent.city='delhi' or parent.city='all' or parent.accountNo=&quot;test&quot;;\n</code></pre>\n<p>The column 'notification_id_child' of table 'child' is the foreign key and refers to the primarykey of table 'parent'.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1651678971,"post_id":72115799,"comment_id":127421603,"body_markdown":"have you debugged it?","body":"have you debugged it?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1651679125,"post_id":72115799,"comment_id":127421658,"body_markdown":"`index` will always be -1 or 0.  If you want a different index, you have to pass it into the function: `subnumber( int num, int digit, int index )`","body":"<code>index</code> will always be -1 or 0.  If you want a different index, you have to pass it into the function: <code>subnumber( int num, int digit, int index )</code>"},{"owner":{"account_id":25118598,"reputation":13,"user_id":18967243,"display_name":"Baraa"},"score":0,"creation_date":1651679135,"post_id":72115799,"comment_id":127421663,"body_markdown":"yes, i discoved that the problem is in the index in the debugger.","body":"yes, i discoved that the problem is in the index in the debugger."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651733449,"creation_date":1651683252,"answer_id":72116720,"question_id":72115799,"body_markdown":"As @markspace has suggested in the comments, you should also pass an index to your method to keep track of the position of every divisible digit in order to properly compute their weight within the final number.\r\n\r\nAlso, when designing a recursive method you should firstly identify your base cases. In this scenario, your base cases are: \r\n\r\n- The number passed is smaller than the digit to divide with.\r\n\r\n- The number passed is equal to the digit to divide with.\r\n\r\n- Additionally, the user could pass an inconsistent index (anything but zero). Usually in these cases, when the user is supposed to pass parameters that are only meant to help you with your recursive computation, you should hide the actual recursive method and only offer a client version of it. Basically, this client version only makes a call to the proper recursive method with the right parameters in order to avoid misuses.\r\n\r\n&lt;h4&gt;One Method Solution&lt;/h4&gt;\r\n\r\n```\r\npublic static int subNumber(int num, int digit, int index) {\r\n    //Base case where num is smaller than than the digit to divide with\r\n    if (num &lt; digit) {\r\n        return 0;\r\n    }\r\n\r\n    //Base case where num corresponds to digit and therefore is divisible\r\n    if (num == digit) {\r\n        return num * ((int) Math.pow(10, index));\r\n    }\r\n\r\n    //Retrieving the less significant digit\r\n    int modDigit = (num % 10);\r\n\r\n    //If the current mod digit is divisible by digit then its i-th position is defined and the later call results are added to it\r\n    if (modDigit % digit == 0) {\r\n        return modDigit * ((int) Math.pow(10, index)) + subNumber(num / 10, digit, index + 1);\r\n    }\r\n\r\n    //Proceeding with the recursion without adding a value to sum (conceptually should be return 0 + subNumber(...))\r\n    return subNumber(num / 10, digit, index);\r\n}\r\n```\r\n\r\n&lt;h4&gt;Client Method Solution&lt;/h4&gt;\r\n\r\n```\r\npublic static int subNumberClient(int num, int digit){\r\n    return subNumber(num, digit, 0);\r\n}\r\n\r\nprivate static int subNumber(int num, int digit, int index) {\r\n    //same implementation but with private access modifier\r\n}\r\n```","title":"how to save data in an integer during recursion in java","body":"<p>As @markspace has suggested in the comments, you should also pass an index to your method to keep track of the position of every divisible digit in order to properly compute their weight within the final number.</p>\n<p>Also, when designing a recursive method you should firstly identify your base cases. In this scenario, your base cases are:</p>\n<ul>\n<li><p>The number passed is smaller than the digit to divide with.</p>\n</li>\n<li><p>The number passed is equal to the digit to divide with.</p>\n</li>\n<li><p>Additionally, the user could pass an inconsistent index (anything but zero). Usually in these cases, when the user is supposed to pass parameters that are only meant to help you with your recursive computation, you should hide the actual recursive method and only offer a client version of it. Basically, this client version only makes a call to the proper recursive method with the right parameters in order to avoid misuses.</p>\n</li>\n</ul>\n<h4>One Method Solution</h4>\n<pre><code>public static int subNumber(int num, int digit, int index) {\n    //Base case where num is smaller than than the digit to divide with\n    if (num &lt; digit) {\n        return 0;\n    }\n\n    //Base case where num corresponds to digit and therefore is divisible\n    if (num == digit) {\n        return num * ((int) Math.pow(10, index));\n    }\n\n    //Retrieving the less significant digit\n    int modDigit = (num % 10);\n\n    //If the current mod digit is divisible by digit then its i-th position is defined and the later call results are added to it\n    if (modDigit % digit == 0) {\n        return modDigit * ((int) Math.pow(10, index)) + subNumber(num / 10, digit, index + 1);\n    }\n\n    //Proceeding with the recursion without adding a value to sum (conceptually should be return 0 + subNumber(...))\n    return subNumber(num / 10, digit, index);\n}\n</code></pre>\n<h4>Client Method Solution</h4>\n<pre><code>public static int subNumberClient(int num, int digit){\n    return subNumber(num, digit, 0);\n}\n\nprivate static int subNumber(int num, int digit, int index) {\n    //same implementation but with private access modifier\n}\n</code></pre>\n"}],"owner":{"account_id":25118598,"reputation":13,"user_id":18967243,"display_name":"Baraa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72116720,"answer_count":1,"score":0,"last_activity_date":1651774959,"creation_date":1651678919,"question_id":72115799,"body_markdown":"I want to write a recursive method that receives a number and a digit. The method should return a second number consisting of only the digits of the first parameter which are divisible by the second parameter. \r\n\r\nFor example, if the method is called with number = 5369405 and digit = 5, then it should return 505. \r\n\r\nSo far, I&#39;ve written the following method but it doesn&#39;t work as the index remains at -1 and I&#39;d like to save its value during each recursion. My idea was to save the values to construct the returned number. \r\n\r\nCan anyone tell me how I can save the index during every recursion to prevent it from returning -1? \r\n\r\nThis is the code I&#39;ve written:\r\n\r\n    public static int subNumber(int num, int digit)\r\n    {\r\n        int index=-1;\r\n        if(num &lt;10)\r\n        {  \r\n            if(num%digit==0){\r\n                index++;\r\n                return num*(int)Math.pow(10,index);\r\n                \r\n            }\r\n            else{\r\n                return 0;\r\n            }\r\n        }\r\n        int mod=(num%10);\r\n        if(mod % digit ==0)\r\n        {\r\n            index++;\r\n            return mod*(int)Math.pow(10,index)+subNumber(num/10,digit);\r\n            \r\n        }\r\n        else{\r\n            return 0+subNumber(num/10,digit);\r\n        }\r\n    }","title":"how to save data in an integer during recursion in java","body":"<p>I want to write a recursive method that receives a number and a digit. The method should return a second number consisting of only the digits of the first parameter which are divisible by the second parameter.</p>\n<p>For example, if the method is called with number = 5369405 and digit = 5, then it should return 505.</p>\n<p>So far, I've written the following method but it doesn't work as the index remains at -1 and I'd like to save its value during each recursion. My idea was to save the values to construct the returned number.</p>\n<p>Can anyone tell me how I can save the index during every recursion to prevent it from returning -1?</p>\n<p>This is the code I've written:</p>\n<pre><code>public static int subNumber(int num, int digit)\n{\n    int index=-1;\n    if(num &lt;10)\n    {  \n        if(num%digit==0){\n            index++;\n            return num*(int)Math.pow(10,index);\n            \n        }\n        else{\n            return 0;\n        }\n    }\n    int mod=(num%10);\n    if(mod % digit ==0)\n    {\n        index++;\n        return mod*(int)Math.pow(10,index)+subNumber(num/10,digit);\n        \n    }\n    else{\n        return 0+subNumber(num/10,digit);\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","aws-documentdb"],"answers":[{"tags":[],"owner":{"account_id":23359267,"reputation":23,"user_id":17431780,"display_name":"Teofilo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651774650,"creation_date":1651766133,"answer_id":72130194,"question_id":72118838,"body_markdown":"I found it!!!\r\n\r\nWhen you create the `MongoClienteSettings` with `ConnectionString`, the value of `ClusterMode` is automaticly setted to `MULTIPLE`. That doesn&#39;t occur with `Builder`...\r\n\r\nSo, to get the same behavour with `MongoClientSetting.Builder()`, you need to set it. Like this:\r\n\r\n```java\r\npublic MongoClient mongoClient() {\r\n    return MongoClients.create(MongoClientSettings.builder()\r\n            .applyToClusterSettings(settings -&gt;\r\n                    settings\r\n                         .hosts(singletonList(new ServerAddress(\r\n                                    getHost(), Integer.parseInt(getPort()))))\r\n                         .requiredReplicaSetName(&quot;rs0&quot;)\r\n                         .requiredClusterType(ClusterType.REPLICA_SET)\r\n                         .mode(ClusterConnectionMode.MULTIPLE))\r\n            )\r\n            .applyToSslSettings(setting -&gt;\r\n                    setting.enabled(true)\r\n            )\r\n            .readPreference(ReadPreference.secondaryPreferred())\r\n            .credential(getCredential())\r\n            .build());\r\n}\r\n```\r\n\r\nNow it&#39;s working well :)\r\n\r\n[AWS CloudWatch Metrics][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lsKLP.png","title":"MongoClient doesn&#39;t read from secondary server","body":"<p>I found it!!!</p>\n<p>When you create the <code>MongoClienteSettings</code> with <code>ConnectionString</code>, the value of <code>ClusterMode</code> is automaticly setted to <code>MULTIPLE</code>. That doesn't occur with <code>Builder</code>...</p>\n<p>So, to get the same behavour with <code>MongoClientSetting.Builder()</code>, you need to set it. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MongoClient mongoClient() {\n    return MongoClients.create(MongoClientSettings.builder()\n            .applyToClusterSettings(settings -&gt;\n                    settings\n                         .hosts(singletonList(new ServerAddress(\n                                    getHost(), Integer.parseInt(getPort()))))\n                         .requiredReplicaSetName(&quot;rs0&quot;)\n                         .requiredClusterType(ClusterType.REPLICA_SET)\n                         .mode(ClusterConnectionMode.MULTIPLE))\n            )\n            .applyToSslSettings(setting -&gt;\n                    setting.enabled(true)\n            )\n            .readPreference(ReadPreference.secondaryPreferred())\n            .credential(getCredential())\n            .build());\n}\n</code></pre>\n<p>Now it's working well :)</p>\n<p><a href=\"https://i.stack.imgur.com/lsKLP.png\" rel=\"nofollow noreferrer\">AWS CloudWatch Metrics</a></p>\n"}],"owner":{"account_id":23359267,"reputation":23,"user_id":17431780,"display_name":"Teofilo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72130194,"answer_count":1,"score":1,"last_activity_date":1651774650,"creation_date":1651694570,"question_id":72118838,"body_markdown":"I&#39;m trying to use a cluster of documentDB on AWS.\r\nOn this cluster, I have 2 instances, one primary for writeOps and one secondary for readOps...\r\n\r\nIf I create the connection with connectionString like this:\r\n```java\r\nString host = getHost();\r\nInteger port = Integer.parseInt(getPort());\r\nString[] arrCredentials = getCredentials();\r\nString credentials = String.format(&quot;%s:%s&quot;, arrCredentials[0], arrCredentials[1]);\r\nString database = getDatabase();\r\nString options = &quot;ssl=true&amp;replicaSet=rs0&amp;readPreference=secondaryPreferred&quot;;\r\n    \r\nString connection = String.format(&quot;mongodb://%s@%s:%d/%s?%s&quot;, \r\n                        credentials, host, port, database, options);\r\nreturn MongoClients.create(new ConnectionString(connection));\r\n```\r\nIt works well, and the readOps are served by the secondary instance...\r\n\r\nBut, when I try to use `MongoClients.create()` this way:\r\n```java\r\npublic MongoClient mongoClient() {\r\n    return MongoClients.create(MongoClientSettings.builder()\r\n            .applyToClusterSettings(settings -&gt;\r\n                    settings\r\n                         .hosts(singletonList(new ServerAddress(\r\n                                    getHost(), Integer.parseInt(getPort()))))\r\n                         .requiredReplicaSetName(&quot;rs0&quot;)\r\n                         .requiredClusterType(ClusterType.REPLICA_SET)\r\n            )\r\n            .applyToSslSettings(setting -&gt;\r\n                    setting.enabled(true)\r\n            )\r\n            .readPreference(ReadPreference.secondaryPreferred())\r\n            .credential(getCredential())\r\n            .build());\r\n}\r\n```\r\nAll calls, readOps and writeOps, are served by the primary instance.\r\n\r\n\r\n","title":"MongoClient doesn&#39;t read from secondary server","body":"<p>I'm trying to use a cluster of documentDB on AWS.\nOn this cluster, I have 2 instances, one primary for writeOps and one secondary for readOps...</p>\n<p>If I create the connection with connectionString like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String host = getHost();\nInteger port = Integer.parseInt(getPort());\nString[] arrCredentials = getCredentials();\nString credentials = String.format(&quot;%s:%s&quot;, arrCredentials[0], arrCredentials[1]);\nString database = getDatabase();\nString options = &quot;ssl=true&amp;replicaSet=rs0&amp;readPreference=secondaryPreferred&quot;;\n    \nString connection = String.format(&quot;mongodb://%s@%s:%d/%s?%s&quot;, \n                        credentials, host, port, database, options);\nreturn MongoClients.create(new ConnectionString(connection));\n</code></pre>\n<p>It works well, and the readOps are served by the secondary instance...</p>\n<p>But, when I try to use <code>MongoClients.create()</code> this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MongoClient mongoClient() {\n    return MongoClients.create(MongoClientSettings.builder()\n            .applyToClusterSettings(settings -&gt;\n                    settings\n                         .hosts(singletonList(new ServerAddress(\n                                    getHost(), Integer.parseInt(getPort()))))\n                         .requiredReplicaSetName(&quot;rs0&quot;)\n                         .requiredClusterType(ClusterType.REPLICA_SET)\n            )\n            .applyToSslSettings(setting -&gt;\n                    setting.enabled(true)\n            )\n            .readPreference(ReadPreference.secondaryPreferred())\n            .credential(getCredential())\n            .build());\n}\n</code></pre>\n<p>All calls, readOps and writeOps, are served by the primary instance.</p>\n"},{"tags":["java","loops","random"],"answers":[{"tags":[],"owner":{"account_id":13355205,"reputation":16,"user_id":16225884,"display_name":"ZeroDayTea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651774625,"creation_date":1651774625,"answer_id":72131917,"question_id":72131664,"body_markdown":"You are printing your results at the end 5 times. Instead of once for each element in the list. The ArrayList has a built-in toString() method that can let you print it. To fix your problem, however, you need to run your same code 5 times over instead of just printing the list 5 times as each time you print it it&#39;s still the same as the last time and has not been regenerated with 5 new values. You can simplify this task by wrapping your code in a function then simply calling that function 5 times through a for loop. Check out the code I pasted below and see if that&#39;s what you were looking for.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    public class lottery {\r\n        public static void main(String[] args) {\r\n            Random randi = new Random();\r\n            for(int i = 0; i &lt; 5; i++)\r\n            {\r\n                int redBall = randi.nextInt(26)+1;  //special 1-26\r\n                System.out.println(&quot;Whiteball: &quot; + generateWhiteBalls());\r\n                System.out.println(&quot;Redball: &quot; + redBall);\r\n            }\r\n        }\r\n        \r\n        public static List&lt;Integer&gt; generateWhiteBalls()\r\n        {\r\n            List&lt;Integer&gt; whiteBalls = new ArrayList&lt;&gt;();\r\n            Random rand = new Random();\r\n            //non duplicate numbers 1-69\r\n            for(int i=0; i&lt;5; i++){\r\n                while(true){\r\n                    int whiteBall = rand.nextInt(69)+1;\r\n                    if(!whiteBalls.contains(whiteBall)){\r\n                        whiteBalls.add(whiteBall);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return whiteBalls;\r\n        }\r\n    }","title":"how to iterate arraylist five times but not the same numbers?","body":"<p>You are printing your results at the end 5 times. Instead of once for each element in the list. The ArrayList has a built-in toString() method that can let you print it. To fix your problem, however, you need to run your same code 5 times over instead of just printing the list 5 times as each time you print it it's still the same as the last time and has not been regenerated with 5 new values. You can simplify this task by wrapping your code in a function then simply calling that function 5 times through a for loop. Check out the code I pasted below and see if that's what you were looking for.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class lottery {\n    public static void main(String[] args) {\n        Random randi = new Random();\n        for(int i = 0; i &lt; 5; i++)\n        {\n            int redBall = randi.nextInt(26)+1;  //special 1-26\n            System.out.println(&quot;Whiteball: &quot; + generateWhiteBalls());\n            System.out.println(&quot;Redball: &quot; + redBall);\n        }\n    }\n    \n    public static List&lt;Integer&gt; generateWhiteBalls()\n    {\n        List&lt;Integer&gt; whiteBalls = new ArrayList&lt;&gt;();\n        Random rand = new Random();\n        //non duplicate numbers 1-69\n        for(int i=0; i&lt;5; i++){\n            while(true){\n                int whiteBall = rand.nextInt(69)+1;\n                if(!whiteBalls.contains(whiteBall)){\n                    whiteBalls.add(whiteBall);\n                    break;\n                }\n            }\n        }\n        \n        return whiteBalls;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24768436,"reputation":9,"user_id":18652191,"display_name":"Don"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651774625,"creation_date":1651773364,"question_id":72131664,"body_markdown":"I try to simulate a powerball numbers pick up program.\r\nI can get random numbers in range but how to make it random 5 times?\r\nlooks the for loop only print result 5 times but won&#39;t go random loop once again.\r\nhere is the code\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class lottery {\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; whiteBalls = new ArrayList&lt;&gt;();\r\n\t\tRandom rand = new Random();\r\n\t\tRandom randi = new Random();\r\n        //non duplicate numbers 1-69\r\n\t\tfor(int i=0; i&lt;5; i++){\r\n\t\t\twhile(true){\r\n\t\t\t\tint whiteBall = rand.nextInt(69)+1;\r\n\t\t\t\tif(!whiteBalls.contains(whiteBall)){\r\n\t\t\t\t\twhiteBalls.add(whiteBall);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tint redBall = randi.nextInt(26)+1;\t//special 1-26\r\n\t\tfor(int i=0; i&lt;5; i++){\r\n\t\tSystem.out.println(whiteBalls + &quot; &quot; + redBall);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"how to iterate arraylist five times but not the same numbers?","body":"<p>I try to simulate a powerball numbers pick up program.\nI can get random numbers in range but how to make it random 5 times?\nlooks the for loop only print result 5 times but won't go random loop once again.\nhere is the code</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class lottery {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; whiteBalls = new ArrayList&lt;&gt;();\n        Random rand = new Random();\n        Random randi = new Random();\n        //non duplicate numbers 1-69\n        for(int i=0; i&lt;5; i++){\n            while(true){\n                int whiteBall = rand.nextInt(69)+1;\n                if(!whiteBalls.contains(whiteBall)){\n                    whiteBalls.add(whiteBall);\n                    break;\n                }\n            }\n        }\n        int redBall = randi.nextInt(26)+1;  //special 1-26\n        for(int i=0; i&lt;5; i++){\n        System.out.println(whiteBalls + &quot; &quot; + redBall);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1651746218,"post_id":72125306,"comment_id":127438276,"body_markdown":"Please edit your question and add the content of your `supplierClass` class.","body":"Please edit your question and add the content of your <code>supplierClass</code> class."},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":0,"creation_date":1651747649,"post_id":72125306,"comment_id":127438745,"body_markdown":"the problem was the class supplierClass. Thank you","body":"the problem was the class supplierClass. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651774537,"creation_date":1651747682,"answer_id":72125932,"question_id":72125306,"body_markdown":"attributes names should be same as on firebase DB\r\n\r\n\r\n    String sName, equipmentName, materialName; \r\n            public String getsName() {\r\n                return sName;\r\n            }\r\n        \r\n            public String getEquipmentName() {\r\n                return equipmentName;\r\n            }\r\n        \r\n            public String getMaterialName() {\r\n                return materialName;\r\n            }\r\n\r\n","title":"return null value when reading from firebase","body":"<p>attributes names should be same as on firebase DB</p>\n<pre><code>String sName, equipmentName, materialName; \n        public String getsName() {\n            return sName;\n        }\n    \n        public String getEquipmentName() {\n            return equipmentName;\n        }\n    \n        public String getMaterialName() {\n            return materialName;\n        }\n</code></pre>\n"}],"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651774537,"creation_date":1651744842,"question_id":72125306,"body_markdown":"attributes of the class supplierClass returns null. Datasnapshot assigns correctly to the attributes. However the list does not provide the right values. only material name works\r\n\r\n1. screenshot 1- snapshot value  ![enter image description here][1] \r\n2. screenshot 2- output screen  [enter image description here][2]\r\n\r\n  [1]: https://i.stack.imgur.com/KAPSw.png\r\n  [2]: https://i.stack.imgur.com/DsXh1.png\r\n\r\n\r\nCode\r\n\r\n \r\n\r\n    @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View view= inflater.inflate(R.layout.fragment_suppliers,container,false);\r\n            recyclerView=view.findViewById(R.id.suppliersList);\r\n            databaseReference= FirebaseDatabase.getInstance().getReference(&quot;suppliers&quot;);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n            list= new ArrayList&lt;&gt;();\r\n            myAdapter=new recyclerAdapter(getActivity(),list);\r\n            recyclerView.setAdapter(myAdapter);\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for(DataSnapshot dataSnapshot:snapshot.getChildren())\r\n                    {\r\n                        supplierClass sc=dataSnapshot.getValue(supplierClass.class);\r\n                        list.add(sc);\r\n                    }\r\n                    myAdapter.notifyDataSetChanged();\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n            return view;\r\n\r\n","title":"return null value when reading from firebase","body":"<p>attributes of the class supplierClass returns null. Datasnapshot assigns correctly to the attributes. However the list does not provide the right values. only material name works</p>\n<ol>\n<li>screenshot 1- snapshot value  <img src=\"https://i.stack.imgur.com/KAPSw.png\" alt=\"enter image description here\" /></li>\n<li>screenshot 2- output screen  <a href=\"https://i.stack.imgur.com/DsXh1.png\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n</ol>\n<p>Code</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view= inflater.inflate(R.layout.fragment_suppliers,container,false);\n        recyclerView=view.findViewById(R.id.suppliersList);\n        databaseReference= FirebaseDatabase.getInstance().getReference(&quot;suppliers&quot;);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n        list= new ArrayList&lt;&gt;();\n        myAdapter=new recyclerAdapter(getActivity(),list);\n        recyclerView.setAdapter(myAdapter);\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot dataSnapshot:snapshot.getChildren())\n                {\n                    supplierClass sc=dataSnapshot.getValue(supplierClass.class);\n                    list.add(sc);\n                }\n                myAdapter.notifyDataSetChanged();\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n\n        return view;\n</code></pre>\n"},{"tags":["java","maven-3","lombok"],"comments":[{"owner":{"account_id":9688663,"reputation":158,"user_id":7187427,"display_name":"beginner_coder"},"score":1,"creation_date":1575634237,"post_id":59212710,"comment_id":104642068,"body_markdown":"Check here its a similar issue:  https://github.com/awhitford/lombok.maven/issues/23","body":"Check here its a similar issue:  <a href=\"https://github.com/awhitford/lombok.maven/issues/23\" rel=\"nofollow noreferrer\">github.com/awhitford/lombok.maven/issues/23</a>"}],"answers":[{"tags":[],"owner":{"account_id":10926311,"reputation":329,"user_id":8030942,"display_name":"Jade"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1575863620,"creation_date":1575863620,"answer_id":59242314,"question_id":59212710,"body_markdown":"Sorry, I think I fixed this issue finally. The mistake I made was that I pointed to JAVA_HOME to the JRE directory. After re-direct JAVA_HOME to the JDK directory, this issue is fixed.","title":"Error while building project using maven [com/sun/tools/javac/tree/JCTree$JCCompilationUnit]","body":"<p>Sorry, I think I fixed this issue finally. The mistake I made was that I pointed to JAVA_HOME to the JRE directory. After re-direct JAVA_HOME to the JDK directory, this issue is fixed.</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1870,"user_id":6722075,"display_name":"Tohid Makari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651774534,"creation_date":1651774534,"answer_id":72131898,"question_id":59212710,"body_markdown":"In intelij, `Setting&gt;Build&gt;Java compiler&gt;` &amp; `Project setting&gt;`  fix `JDK` version","title":"Error while building project using maven [com/sun/tools/javac/tree/JCTree$JCCompilationUnit]","body":"<p>In intelij, <code>Setting&gt;Build&gt;Java compiler&gt;</code> &amp; <code>Project setting&gt;</code>  fix <code>JDK</code> version</p>\n"}],"owner":{"account_id":10926311,"reputation":329,"user_id":8030942,"display_name":"Jade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12532,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59242314,"answer_count":2,"score":6,"last_activity_date":1651774534,"creation_date":1575633451,"question_id":59212710,"body_markdown":"I am trying to use maven to build my java project, but I always get the error message,\r\n\r\n    &gt; Execution default of goal org.projectlombok:lombok-maven-plugin:1.18.10.0:delombok failed: A required class was missing while executing org.projectlombok:lombok-maven-plugin:1.18.10.0:delombok: com/sun/tools/javac/tree/JCTree$JCCompilationUnit\r\n\r\nI used Java8, maven3. Does anyone know how to fix such issue?","title":"Error while building project using maven [com/sun/tools/javac/tree/JCTree$JCCompilationUnit]","body":"<p>I am trying to use maven to build my java project, but I always get the error message,</p>\n\n<pre><code>&gt; Execution default of goal org.projectlombok:lombok-maven-plugin:1.18.10.0:delombok failed: A required class was missing while executing org.projectlombok:lombok-maven-plugin:1.18.10.0:delombok: com/sun/tools/javac/tree/JCTree$JCCompilationUnit\n</code></pre>\n\n<p>I used Java8, maven3. Does anyone know how to fix such issue?</p>\n"},{"tags":["java","arraylist","colors","average"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":2,"creation_date":1651775177,"post_id":72131897,"comment_id":127449610,"body_markdown":"You would need some form of distance function which will calculate a distance between two colors then calculate a weighted average with the weight being `1 / distance`. This way very distant colors will only have a small weight and therefore have less impact on the average being computed. One distance function might be to calulate an absolute/ squared difference for each of the three rgb channels and divide that by 3. `(255, 255, 0)` and `(250, 250, 5)` would therefore be (absolute difference) `(5 + 5 + 5) / 3 = 5`.","body":"You would need some form of distance function which will calculate a distance between two colors then calculate a weighted average with the weight being <code>1 &#47; distance</code>. This way very distant colors will only have a small weight and therefore have less impact on the average being computed. One distance function might be to calulate an absolute/ squared difference for each of the three rgb channels and divide that by 3. <code>(255, 255, 0)</code> and <code>(250, 250, 5)</code> would therefore be (absolute difference) <code>(5 + 5 + 5) &#47; 3 = 5</code>."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1651776542,"post_id":72131897,"comment_id":127450060,"body_markdown":"Also [(weighted) moving average](https://en.wikipedia.org/wiki/Moving_average) might be helpful.","body":"Also <a href=\"https://en.wikipedia.org/wiki/Moving_average\" rel=\"nofollow noreferrer\">(weighted) moving average</a> might be helpful."}],"owner":{"account_id":22467762,"reputation":117,"user_id":16668650,"display_name":"Giancarlo Metitieri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651774529,"creation_date":1651774529,"question_id":72131897,"body_markdown":"I&#39;m trying to create a denoiser in Java and now I&#39;m at the state of actually creating the denoiser. The denoiser already knows what is noise and what isn&#39;t.\r\n\r\nNow I&#39;m trying to come up with a function that gives me the average color of an ArrayList with the size between 0 and 8. I know how to do this in general but I don&#39;t know how to ignore &quot;extreme values (For example, if I have 3 similar Colors in the ArrayList (for example 3 similar red) and a color that is completely different (for example dark blue), the &quot;extreme value&quot; should be ignored because for example, the average of those 3 reds is 0xFD010B and if you include the dark blue, the average turns into 0xFD01FA, which is a &quot;completely different color&quot;.\r\n\r\nHow can I write a function that can give me the average color of an undefined amount of similar colors and ignore the &quot;less similar ones?\r\n\r\n**Note that I am not allowed to import 3rd party libraries and I am using &quot;pure java&quot; so I can&#39;t import gradle or maven dependencies**","title":"Get Average of most Similar Colors in color ArrayList with unknown size","body":"<p>I'm trying to create a denoiser in Java and now I'm at the state of actually creating the denoiser. The denoiser already knows what is noise and what isn't.</p>\n<p>Now I'm trying to come up with a function that gives me the average color of an ArrayList with the size between 0 and 8. I know how to do this in general but I don't know how to ignore &quot;extreme values (For example, if I have 3 similar Colors in the ArrayList (for example 3 similar red) and a color that is completely different (for example dark blue), the &quot;extreme value&quot; should be ignored because for example, the average of those 3 reds is 0xFD010B and if you include the dark blue, the average turns into 0xFD01FA, which is a &quot;completely different color&quot;.</p>\n<p>How can I write a function that can give me the average color of an undefined amount of similar colors and ignore the &quot;less similar ones?</p>\n<p><strong>Note that I am not allowed to import 3rd party libraries and I am using &quot;pure java&quot; so I can't import gradle or maven dependencies</strong></p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":899861,"reputation":2035,"user_id":936269,"accept_rate":77,"display_name":"Lars Nielsen"},"score":0,"creation_date":1651753399,"post_id":72126997,"comment_id":127440847,"body_markdown":"What have you tried and provide a [mcve]","body":"What have you tried and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651756728,"creation_date":1651756728,"answer_id":72127860,"question_id":72126997,"body_markdown":"The string class offers an easy way to do this:\r\n\r\n    String valueToShow = rawString.replaceFirst(&quot;#\\\\d+#&quot;, &quot;&quot;)","title":"how to remove a sequence from string in ftl","body":"<p>The string class offers an easy way to do this:</p>\n<pre><code>String valueToShow = rawString.replaceFirst(&quot;#\\\\d+#&quot;, &quot;&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651774293,"creation_date":1651774293,"answer_id":72131850,"question_id":72126997,"body_markdown":"`valueToShow?replace(&quot;#[0-9]+#&quot;, &quot;&quot;, &quot;r&quot;)`, where 3rd `&quot;r&quot;` parameter means that what you replace is a regular expression.","title":"how to remove a sequence from string in ftl","body":"<p><code>valueToShow?replace(&quot;#[0-9]+#&quot;, &quot;&quot;, &quot;r&quot;)</code>, where 3rd <code>&quot;r&quot;</code> parameter means that what you replace is a regular expression.</p>\n"}],"owner":{"account_id":23306776,"reputation":67,"user_id":17386645,"display_name":"Mike1988B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72131850,"answer_count":2,"score":0,"last_activity_date":1651774293,"creation_date":1651752853,"question_id":72126997,"body_markdown":"I am working on a project where I need to put away some part of string, not to be visible on front page. \r\nI am working with ftl.\r\n\r\nExample:\r\n\r\nthere is a string like:\r\n\r\n    &lt;#assign valueToShow= &quot;#99#testing,#777#test&quot;&gt;\r\n\r\nI need to show the values without part **#digits#**.\r\nThe final result need to be like this:\r\n\r\n    &quot;testing,test&quot;\r\n\r\nHow can I do that in FTL?\r\n\r\nThanks...","title":"how to remove a sequence from string in ftl","body":"<p>I am working on a project where I need to put away some part of string, not to be visible on front page.\nI am working with ftl.</p>\n<p>Example:</p>\n<p>there is a string like:</p>\n<pre><code>&lt;#assign valueToShow= &quot;#99#testing,#777#test&quot;&gt;\n</code></pre>\n<p>I need to show the values without part <strong>#digits#</strong>.\nThe final result need to be like this:</p>\n<pre><code>&quot;testing,test&quot;\n</code></pre>\n<p>How can I do that in FTL?</p>\n<p>Thanks...</p>\n"},{"tags":["java","selenium-webdriver","headless"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1651816166,"post_id":72131790,"comment_id":127457715,"body_markdown":"I&#39;ve experienced same issue. The element your are waiting for is already visible. The expected condition has to be false to avoid the exception. You can go around with `if (driver.findElements(By.xpath(&quot;//a[contains(text(),&#39;Return to:&#39;)]&quot;)).size() = 0) { your wait here}`","body":"I&#39;ve experienced same issue. The element your are waiting for is already visible. The expected condition has to be false to avoid the exception. You can go around with <code>if (driver.findElements(By.xpath(&quot;&#47;&#47;a[contains(text(),&#39;Return to:&#39;)]&quot;)).size() = 0) { your wait here}</code>"}],"owner":{"account_id":24898493,"reputation":11,"user_id":18769454,"display_name":"John Kiousis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651773981,"creation_date":1651773981,"question_id":72131790,"body_markdown":"At Selenium with Java I have this line:\r\n\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//a[contains(text(),&#39;Return to:&#39;)]&quot;)));\r\n\r\nwhich works fine at non-headless mode, but not working at headless mode.\r\nI get the error &quot;Expected condition failed: waiting for visibility of element located by... : Return to:&quot;.\r\n\r\nI use Selenium 3.141.5 with chromedriver 101.0.4951.41.\r\n\r\nWhat could be the reason? I have also tried to find element by linkText.","title":"Selenium Java - wait.until(ExpectedConditions is working at non-headless mode but not at headless mode","body":"<p>At Selenium with Java I have this line:</p>\n<p>wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//a[contains(text(),'Return to:')]&quot;)));</p>\n<p>which works fine at non-headless mode, but not working at headless mode.\nI get the error &quot;Expected condition failed: waiting for visibility of element located by... : Return to:&quot;.</p>\n<p>I use Selenium 3.141.5 with chromedriver 101.0.4951.41.</p>\n<p>What could be the reason? I have also tried to find element by linkText.</p>\n"},{"tags":["java","spring-boot","gradle","spring-kafka","spring-kafka-test"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1617986311,"creation_date":1617986311,"answer_id":67025011,"question_id":67024869,"body_markdown":"You somehow have a mismatched `kafka` Vs. `kafka-clients` jars on the classpath; they all must be the same version.\r\n\r\nYou generally should not specify a version on boot&#39;s dependencies and use its dependency management instead.\r\n\r\nYou are pulling in spring-kafka 2.3.5 whereas spring-boot 2.3.5 requires spring-kafka 2.5.7.\r\n\r\nSpring-kafka 2.5.x uses the kafka-clients 2.5.1.\r\n\r\nSee [here](https://docs.spring.io/spring-kafka/docs/2.5.12.RELEASE/reference/html/#update-deps) for how to override versions of kafka jars when using a different version to the version that Boot prescribes.","title":"Missing dependency on EmbeddedKafka on integration test with groovy and spock","body":"<p>You somehow have a mismatched <code>kafka</code> Vs. <code>kafka-clients</code> jars on the classpath; they all must be the same version.</p>\n<p>You generally should not specify a version on boot's dependencies and use its dependency management instead.</p>\n<p>You are pulling in spring-kafka 2.3.5 whereas spring-boot 2.3.5 requires spring-kafka 2.5.7.</p>\n<p>Spring-kafka 2.5.x uses the kafka-clients 2.5.1.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/2.5.12.RELEASE/reference/html/#update-deps\" rel=\"nofollow noreferrer\">here</a> for how to override versions of kafka jars when using a different version to the version that Boot prescribes.</p>\n"},{"tags":[],"owner":{"account_id":1345799,"reputation":863,"user_id":1286583,"display_name":"Andrew Norman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651773635,"creation_date":1651773149,"answer_id":72131623,"question_id":67024869,"body_markdown":"the Kafka Client libraries for a time were inlining a particular version of the Scala library. This caused problems for those of us wanting to use the kafka client library with a slightly different version of Scala than that inline version.\r\n\r\nIn this cases the version of Scala they were using inline is Scala 2.12.10\r\n\r\nThey removed this dependency in later versions and this was backported as fixes (the earliest being 2.8.0) https://archive.apache.org/dist/kafka/2.8.0/RELEASE_NOTES.html)\r\n\r\n","title":"Missing dependency on EmbeddedKafka on integration test with groovy and spock","body":"<p>the Kafka Client libraries for a time were inlining a particular version of the Scala library. This caused problems for those of us wanting to use the kafka client library with a slightly different version of Scala than that inline version.</p>\n<p>In this cases the version of Scala they were using inline is Scala 2.12.10</p>\n<p>They removed this dependency in later versions and this was backported as fixes (the earliest being 2.8.0) <a href=\"https://archive.apache.org/dist/kafka/2.8.0/RELEASE_NOTES.html\" rel=\"nofollow noreferrer\">https://archive.apache.org/dist/kafka/2.8.0/RELEASE_NOTES.html</a>)</p>\n"}],"owner":{"account_id":5153635,"reputation":619,"user_id":4127481,"accept_rate":52,"display_name":"Pedro Henrique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67025011,"answer_count":2,"score":0,"last_activity_date":1651773635,"creation_date":1617985754,"question_id":67024869,"body_markdown":"I&#39;ve been trying to create an integration test using the embeddedKafka, but I&#39;m getting problem of missing dependency when trying to run it, this is the error:\r\n\r\n&gt; Unable to load class org.springframework.kafka.test.EmbeddedKafkaBroker due to missing dependency org/I0Itec/zkclient/serialize/ZkSerializer\r\n\r\nI saw some stuff saying that this is related to my dependencies, so here is my dependencies:\r\n\r\n  \tspringBootVersion = &#39;2.3.5.RELEASE&#39;\r\n  \r\n\tcompile(&quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;)\r\n\tcompile(&quot;org.springframework.kafka:spring-kafka:${springBootVersion}&quot;)\r\n    testCompile(&quot;org.springframework.boot:spring-boot-starter-test:${springBootVersion}&quot;,\r\n    \t\t\t&#39;org.spockframework:spock-core:1.2-groovy-2.4&#39;,\r\n    \t\t\t&#39;org.spockframework:spock-spring:1.2-groovy-2.4&#39;,\r\n    \t\t\t&#39;com.microsoft.azure:spring-data-cosmosdb:2.3.0&#39;,\r\n    \t\t\t&#39;com.nimbusds:oauth2-oidc-sdk:5.64.4&#39;,\r\n    \t)\r\n    testCompile(&quot;org.springframework.kafka:spring-kafka-test:${springBootVersion}&quot;)\r\n\r\n\r\nSo, my question is, am I missing something?\r\n\r\n**EDIT**\r\n\r\nAfter changed the versions as indicated, I got a different error:\r\n\r\n&gt; Error creating bean with name &#39;embeddedKafka&#39;: Invocation of init\r\n&gt; method failed; nested exception is java.lang.NoClassDefFoundError:\r\n&gt; scala/math/Ordering$$anon$7\r\n\r\nI&#39;ve added the scala dependencies, but still having the same issue:\r\n\r\n\ttestImplementation(&quot;org.scala-lang:scala-library:2.12.11&quot;)\r\n\ttestImplementation(&quot;org.scala-lang:scala-reflect:2.12.11&quot;)","title":"Missing dependency on EmbeddedKafka on integration test with groovy and spock","body":"<p>I've been trying to create an integration test using the embeddedKafka, but I'm getting problem of missing dependency when trying to run it, this is the error:</p>\n<blockquote>\n<p>Unable to load class org.springframework.kafka.test.EmbeddedKafkaBroker due to missing dependency org/I0Itec/zkclient/serialize/ZkSerializer</p>\n</blockquote>\n<p>I saw some stuff saying that this is related to my dependencies, so here is my dependencies:</p>\n<pre><code>springBootVersion = '2.3.5.RELEASE'\n\ncompile(&quot;org.springframework.boot:spring-boot-starter-web:${springBootVersion}&quot;)\ncompile(&quot;org.springframework.kafka:spring-kafka:${springBootVersion}&quot;)\ntestCompile(&quot;org.springframework.boot:spring-boot-starter-test:${springBootVersion}&quot;,\n            'org.spockframework:spock-core:1.2-groovy-2.4',\n            'org.spockframework:spock-spring:1.2-groovy-2.4',\n            'com.microsoft.azure:spring-data-cosmosdb:2.3.0',\n            'com.nimbusds:oauth2-oidc-sdk:5.64.4',\n    )\ntestCompile(&quot;org.springframework.kafka:spring-kafka-test:${springBootVersion}&quot;)\n</code></pre>\n<p>So, my question is, am I missing something?</p>\n<p><strong>EDIT</strong></p>\n<p>After changed the versions as indicated, I got a different error:</p>\n<blockquote>\n<p>Error creating bean with name 'embeddedKafka': Invocation of init\nmethod failed; nested exception is java.lang.NoClassDefFoundError:\nscala/math/Ordering$$anon$7</p>\n</blockquote>\n<p>I've added the scala dependencies, but still having the same issue:</p>\n<pre><code>testImplementation(&quot;org.scala-lang:scala-library:2.12.11&quot;)\ntestImplementation(&quot;org.scala-lang:scala-reflect:2.12.11&quot;)\n</code></pre>\n"},{"tags":["java","spring-boot","authorization"],"comments":[{"owner":{"account_id":7311414,"reputation":536,"user_id":5570447,"display_name":"resatz"},"score":0,"creation_date":1651767455,"post_id":72129897,"comment_id":127446882,"body_markdown":"The error message seems to be not used in any way. You can use the error message in the request param in the Defaut Failure URL and move down this -&gt; super.onAuthenticationFailure(request, response, exception);\nto the end of the function. Debug that method will help understand the flow","body":"The error message seems to be not used in any way. You can use the error message in the request param in the Defaut Failure URL and move down this -&gt; super.onAuthenticationFailure(request, response, exception); to the end of the function. Debug that method will help understand the flow"},{"owner":{"account_id":20113267,"reputation":93,"user_id":14749253,"display_name":"AlwaysLearning2147"},"score":0,"creation_date":1651773485,"post_id":72129897,"comment_id":127448983,"body_markdown":"Sorry, I am not sure what you mean exactly","body":"Sorry, I am not sure what you mean exactly"}],"owner":{"account_id":20113267,"reputation":93,"user_id":14749253,"display_name":"AlwaysLearning2147"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651773475,"creation_date":1651765004,"question_id":72129897,"body_markdown":"I believe the problem is when I login with the wrong password, i get redirected to /login?error=true (so I think the onAuthenticationFailure part is working), however there is no message, meaning message.badCredentials is not displayed.\r\n\r\nIn the eclipse IDE I see this error:\r\n\r\n&gt; Error resolving template [login_null], template might not exist or\r\n&gt; might not be accessible by any of the configured Template Resolvers\r\n\r\nI think this is because the request mapping for /login is always being executed even on the error page since the url still contains /login. I am not sure of what I can do to fix this. Any suggestions would be apreciated!\r\n ```\r\n \t@Override\r\n    public void onAuthenticationFailure(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException exception) throws IOException, ServletException {\r\n        setDefaultFailureUrl(&quot;/login?error=true&quot;);\r\n\r\n        super.onAuthenticationFailure(request, response, exception);\r\n\r\n        final Locale locale = localeResolver.resolveLocale(request);\r\n\r\n        String errorMessage = messages.getMessage(&quot;message.badCredentials&quot;, null, locale);\r\n\r\n        if (exception.getMessage()\r\n            .equalsIgnoreCase(&quot;User is disabled&quot;)) {\r\n            errorMessage = messages.getMessage(&quot;auth.message.disabled&quot;, null, locale);\r\n        } else if (exception.getMessage()\r\n            .equalsIgnoreCase(&quot;User account has expired&quot;)) {\r\n            errorMessage = messages.getMessage(&quot;auth.message.expired&quot;, null, locale);\r\n        } else if (exception.getMessage()\r\n            .equalsIgnoreCase(&quot;blocked&quot;)) {\r\n            errorMessage = messages.getMessage(&quot;auth.message.blocked&quot;, null, locale);\r\n        } else if (exception.getMessage()\r\n            .equalsIgnoreCase(&quot;unusual location&quot;)) {\r\n            errorMessage = messages.getMessage(&quot;auth.message.unusual.location&quot;, null, locale);\r\n        }\r\n```\r\n```\r\n\t@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        \thttp.authorizeRequests().antMatchers(&quot;/&quot;).permitAll().antMatchers(&quot;/checkExists&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/error&quot;).permitAll().antMatchers(&quot;/enableAdmin&quot;).permitAll().antMatchers(&quot;/login&quot;).permitAll().antMatchers(&quot;/login?lang=en&quot;)\r\n\t\t\t\t.permitAll().antMatchers(&quot;/signup&quot;).permitAll().antMatchers(&quot;/success&quot;).permitAll().antMatchers(&quot;/u/**&quot;)\r\n\t\t\t\t.hasAnyAuthority(&quot;ADMIN&quot;).antMatchers(&quot;/python/**&quot;).hasAnyAuthority(&quot;USER,ADMIN&quot;)\r\n\t\t\t\t.antMatchers(&quot;/reports/**&quot;).hasAnyAuthority(&quot;USER,ADMIN&quot;).antMatchers(&quot;/dashboard/**&quot;)\r\n\t\t\t\t.hasAnyAuthority(&quot;USER,ADMIN&quot;).anyRequest().authenticated().and().csrf().disable().formLogin().loginPage(&quot;/login?lang=en&quot;).loginProcessingUrl(&quot;/login&quot;)\r\n\t\t\t\t.successHandler(customizeAuthenticationSuccessHandler)\r\n\t\t\t\t.failureUrl(&quot;/login?error=true&quot;).failureHandler(authenticationFailureHandler).usernameParameter(&quot;email&quot;).passwordParameter(&quot;password&quot;).and().logout()\r\n\t\t\t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/&quot;).and()\r\n\t\t\t\t.exceptionHandling();\r\n    }\r\n```\r\n``` \t@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.GET)\r\n    \tpublic ModelAndView login(HttpServletRequest request) throws Exception {\r\n       \t\tModelAndView modelAndView = new ModelAndView();\r\n        \tString lang = request.getParameter(&quot;lang&quot;);\r\n        \t//System.out.println(lang);\r\n        \tmodelAndView.setViewName(&quot;login_&quot; + lang);\r\n        \treturn modelAndView;\r\n    }\r\n```","title":"Spring boot onAuthenticationFailure is not working","body":"<p>I believe the problem is when I login with the wrong password, i get redirected to /login?error=true (so I think the onAuthenticationFailure part is working), however there is no message, meaning message.badCredentials is not displayed.</p>\n<p>In the eclipse IDE I see this error:</p>\n<blockquote>\n<p>Error resolving template [login_null], template might not exist or\nmight not be accessible by any of the configured Template Resolvers</p>\n</blockquote>\n<p>I think this is because the request mapping for /login is always being executed even on the error page since the url still contains /login. I am not sure of what I can do to fix this. Any suggestions would be apreciated!</p>\n<pre><code>   @Override\n   public void onAuthenticationFailure(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException exception) throws IOException, ServletException {\n       setDefaultFailureUrl(&quot;/login?error=true&quot;);\n\n       super.onAuthenticationFailure(request, response, exception);\n\n       final Locale locale = localeResolver.resolveLocale(request);\n\n       String errorMessage = messages.getMessage(&quot;message.badCredentials&quot;, null, locale);\n\n       if (exception.getMessage()\n           .equalsIgnoreCase(&quot;User is disabled&quot;)) {\n           errorMessage = messages.getMessage(&quot;auth.message.disabled&quot;, null, locale);\n       } else if (exception.getMessage()\n           .equalsIgnoreCase(&quot;User account has expired&quot;)) {\n           errorMessage = messages.getMessage(&quot;auth.message.expired&quot;, null, locale);\n       } else if (exception.getMessage()\n           .equalsIgnoreCase(&quot;blocked&quot;)) {\n           errorMessage = messages.getMessage(&quot;auth.message.blocked&quot;, null, locale);\n       } else if (exception.getMessage()\n           .equalsIgnoreCase(&quot;unusual location&quot;)) {\n           errorMessage = messages.getMessage(&quot;auth.message.unusual.location&quot;, null, locale);\n       }\n</code></pre>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n            http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll().antMatchers(&quot;/checkExists&quot;).permitAll()\n                .antMatchers(&quot;/error&quot;).permitAll().antMatchers(&quot;/enableAdmin&quot;).permitAll().antMatchers(&quot;/login&quot;).permitAll().antMatchers(&quot;/login?lang=en&quot;)\n                .permitAll().antMatchers(&quot;/signup&quot;).permitAll().antMatchers(&quot;/success&quot;).permitAll().antMatchers(&quot;/u/**&quot;)\n                .hasAnyAuthority(&quot;ADMIN&quot;).antMatchers(&quot;/python/**&quot;).hasAnyAuthority(&quot;USER,ADMIN&quot;)\n                .antMatchers(&quot;/reports/**&quot;).hasAnyAuthority(&quot;USER,ADMIN&quot;).antMatchers(&quot;/dashboard/**&quot;)\n                .hasAnyAuthority(&quot;USER,ADMIN&quot;).anyRequest().authenticated().and().csrf().disable().formLogin().loginPage(&quot;/login?lang=en&quot;).loginProcessingUrl(&quot;/login&quot;)\n                .successHandler(customizeAuthenticationSuccessHandler)\n                .failureUrl(&quot;/login?error=true&quot;).failureHandler(authenticationFailureHandler).usernameParameter(&quot;email&quot;).passwordParameter(&quot;password&quot;).and().logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/&quot;).and()\n                .exceptionHandling();\n    }\n</code></pre>\n<pre><code>        public ModelAndView login(HttpServletRequest request) throws Exception {\n            ModelAndView modelAndView = new ModelAndView();\n            String lang = request.getParameter(&quot;lang&quot;);\n            //System.out.println(lang);\n            modelAndView.setViewName(&quot;login_&quot; + lang);\n            return modelAndView;\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651773080,"creation_date":1651773080,"answer_id":72131613,"question_id":72120388,"body_markdown":"You need to get that statestore to iterate it\r\n\r\n```\r\nReadOnlyKeyValueStore&lt;String, String&gt; keyValueStore = streams.store(&quot;user-store&quot;, QueryableStoreTypes.keyValueStore()));\r\n\r\nString value = store.get(&quot;key&quot;);\r\n\r\nKeyValueIterator&lt;String, String&gt; range = keyValueStore.all(); \r\n```\r\n\r\nhttps://docs.confluent.io/platform/current/streams/developer-guide/interactive-queries.html\r\n\r\nOr, maybe you should rather be doing a [stream-table join between users and events](https://developer.confluent.io/learn-kafka/kafka-streams/joins/) \r\n\r\n","title":"How to Iterate through a GlobalKTable or KTable in Kafka Streaming App","body":"<p>You need to get that statestore to iterate it</p>\n<pre><code>ReadOnlyKeyValueStore&lt;String, String&gt; keyValueStore = streams.store(&quot;user-store&quot;, QueryableStoreTypes.keyValueStore()));\n\nString value = store.get(&quot;key&quot;);\n\nKeyValueIterator&lt;String, String&gt; range = keyValueStore.all(); \n</code></pre>\n<p><a href=\"https://docs.confluent.io/platform/current/streams/developer-guide/interactive-queries.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/streams/developer-guide/interactive-queries.html</a></p>\n<p>Or, maybe you should rather be doing a <a href=\"https://developer.confluent.io/learn-kafka/kafka-streams/joins/\" rel=\"nofollow noreferrer\">stream-table join between users and events</a></p>\n"}],"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651773080,"creation_date":1651706035,"question_id":72120388,"body_markdown":"I have a Kafka Streaming App that with 2 data sources: Events and Users.\r\n\r\nI have a 4 topics: Events, Users, Users2, User-Events\r\n\r\nUsers2 is the same as Users and is used to demonstrate the GlobalKTable.\r\n\r\nThe Events topic uses timestamp mode, so when the timestamp-field date is reached, the KStream will receive the Event record.\r\n\r\nAt this point, I want to create a User-Event record for every User-ID in the Users KTable along with the new Event-ID; but I don&#39;t know how to iterate through the GlobalKTable nor the KTable to achieve this.\r\n\r\n    public Topology createTopology() {\r\n    \r\n        final Serde&lt;String&gt; serde = Serdes.String();\r\n        final StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n        final GlobalKTable&lt;String, String&gt; gktUsers =\r\n                builder.globalTable(&quot;Users&quot;,\r\n                        Materialized.&lt;String, String, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(&quot;user-store&quot;)\r\n                                .withKeySerde(Serdes.String()).withValueSerde(serde));\r\n    \r\n        final KTable&lt;String, String&gt; ktUsers = builder.table(&quot;Users2&quot;);\r\n    \r\n        builder.stream(&quot;Events&quot;, Consumed.with(Serdes.String(), serde))\r\n                .peek((k, v) -&gt; {\r\n                    // This is called when a new Event record becomes current.\r\n                    // How do I iterate through gktUsers at this point\r\n                    // and output a User-ID and an Event-ID to the User-Events topic?\r\n    \r\n                    //  This type of iteration doesn&#39;t work either.\r\n                    ktUsers.toStream().foreach(new ForeachAction&lt;String, String&gt;() {\r\n                        @Override\r\n                        public void apply(String s, String s2) {\r\n                            log.info(&quot;{} {}&quot;, s, s2);\r\n                        }\r\n                    });\r\n                })\r\n                \r\n        builder.build();\r\n    }\r\n\r\n","title":"How to Iterate through a GlobalKTable or KTable in Kafka Streaming App","body":"<p>I have a Kafka Streaming App that with 2 data sources: Events and Users.</p>\n<p>I have a 4 topics: Events, Users, Users2, User-Events</p>\n<p>Users2 is the same as Users and is used to demonstrate the GlobalKTable.</p>\n<p>The Events topic uses timestamp mode, so when the timestamp-field date is reached, the KStream will receive the Event record.</p>\n<p>At this point, I want to create a User-Event record for every User-ID in the Users KTable along with the new Event-ID; but I don't know how to iterate through the GlobalKTable nor the KTable to achieve this.</p>\n<pre><code>public Topology createTopology() {\n\n    final Serde&lt;String&gt; serde = Serdes.String();\n    final StreamsBuilder builder = new StreamsBuilder();\n\n    final GlobalKTable&lt;String, String&gt; gktUsers =\n            builder.globalTable(&quot;Users&quot;,\n                    Materialized.&lt;String, String, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(&quot;user-store&quot;)\n                            .withKeySerde(Serdes.String()).withValueSerde(serde));\n\n    final KTable&lt;String, String&gt; ktUsers = builder.table(&quot;Users2&quot;);\n\n    builder.stream(&quot;Events&quot;, Consumed.with(Serdes.String(), serde))\n            .peek((k, v) -&gt; {\n                // This is called when a new Event record becomes current.\n                // How do I iterate through gktUsers at this point\n                // and output a User-ID and an Event-ID to the User-Events topic?\n\n                //  This type of iteration doesn't work either.\n                ktUsers.toStream().foreach(new ForeachAction&lt;String, String&gt;() {\n                    @Override\n                    public void apply(String s, String s2) {\n                        log.info(&quot;{} {}&quot;, s, s2);\n                    }\n                });\n            })\n            \n    builder.build();\n}\n</code></pre>\n"},{"tags":["java","multithreading","thread-safety","logic","thread-synchronization"],"comments":[{"owner":{"account_id":147773,"reputation":9594,"user_id":359120,"accept_rate":82,"display_name":"Salil"},"score":1,"creation_date":1651773063,"post_id":72131473,"comment_id":127448849,"body_markdown":"`synchronized` means synchronized on that object. So, if you create an object of A, callers will be synchronized on that object. You are creating multiple objects of different classes. Their methods are not synchronized on one object. For that, you need to synchronize on one object say `lock`: private final Object lock = new Object(); And then use `synchronized (lock)` in these methods.","body":"<code>synchronized</code> means synchronized on that object. So, if you create an object of A, callers will be synchronized on that object. You are creating multiple objects of different classes. Their methods are not synchronized on one object. For that, you need to synchronize on one object say <code>lock</code>: private final Object lock = new Object(); And then use <code>synchronized (lock)</code> in these methods."}],"answers":[{"tags":[],"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651773051,"creation_date":1651773051,"answer_id":72131603,"question_id":72131473,"body_markdown":"A synchronized method will prevent other threads to enter into a synchronized block on the *same* object the method is synchronized on. Each thread has two methods in your example, so for instance while `first` is running, `second` cannot run, but there is nothing to prevent `third` from running.\r\n\r\nYou need to synchronize all methods on the same object:\r\n\r\n```\r\nObject s=new Object();\r\nA a1=new A(s);\r\nB b1=new B(s);\r\nC c1=new C(s);\r\n```\r\n```\r\nclass A implements Runnable{\r\n  Object s;\r\n  public A(s Object) {\r\n     this.s=s;\r\n  }\r\n  public void first(){\r\n      synchronized(s) {\r\n         for(int i=0;i&lt;=10;i++){\r\n             System.out.println(&quot;Table of 13 is &quot;+13*i);\r\n         }\r\n      }\r\n  }\r\n```\r\n","title":"In this synchronization is not working. Why? I have synchronized all methods. Can anyone please tell and provide solution for the same?","body":"<p>A synchronized method will prevent other threads to enter into a synchronized block on the <em>same</em> object the method is synchronized on. Each thread has two methods in your example, so for instance while <code>first</code> is running, <code>second</code> cannot run, but there is nothing to prevent <code>third</code> from running.</p>\n<p>You need to synchronize all methods on the same object:</p>\n<pre><code>Object s=new Object();\nA a1=new A(s);\nB b1=new B(s);\nC c1=new C(s);\n</code></pre>\n<pre><code>class A implements Runnable{\n  Object s;\n  public A(s Object) {\n     this.s=s;\n  }\n  public void first(){\n      synchronized(s) {\n         for(int i=0;i&lt;=10;i++){\n             System.out.println(&quot;Table of 13 is &quot;+13*i);\n         }\n      }\n  }\n</code></pre>\n"}],"owner":{"account_id":22032931,"reputation":39,"user_id":16299914,"display_name":"Navya Thakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72131603,"answer_count":1,"score":0,"last_activity_date":1651773051,"creation_date":1651772392,"question_id":72131473,"body_markdown":"Write a program to print tables with the help of multiple threads create three threads named as T1, T2 and T3. T1 thread prints the table of 11 and 12, T2 prints table of 13 and 14 and T3 prints table of 15 and 16. Any thread can start first but once any one starts to print table of any number it is not allowed to print different table by another thread. For example, suppose thread t3 starts first and start printing 15 table now until table of 15 gets completed no one prints another table. once the printing of 15 table has ended any one allowed to print another table.\r\n```\r\nclass A implements Runnable{\r\n    public void run(){\r\n        first();\r\n        second();\r\n\r\n\r\n    }\r\n    synchronized public void first(){\r\n        for(int i=0;i&lt;=10;i++){\r\n            System.out.println(&quot;Table of 11 is &quot;+11*i);\r\n        }\r\n    }\r\n    synchronized public void second(){\r\n        for(int i=0;i&lt;=10;i++){\r\n            System.out.println(&quot;Table of 12 is &quot;+12*i);\r\n        }\r\n    }\r\n   \r\n}\r\nclass B implements Runnable{\r\n    public void run(){\r\n        third();\r\n        fourth();\r\n\r\n\r\n    }\r\n    synchronized public void third(){\r\n        for(int i=0;i&lt;=10;i++){\r\n            System.out.println(&quot;Table of 13 is &quot;+13*i);\r\n        }\r\n    }\r\n    synchronized public void fourth(){\r\n        for(int i=0;i&lt;=10;i++){\r\n            System.out.println(&quot;Table of 14 is &quot;+14*i);\r\n        }\r\n    }\r\n}\r\nclass C implements Runnable{\r\n    public void run(){\r\n        fifth();\r\n        sixth();\r\n\r\n\r\n    }\r\n    synchronized public void fifth(){\r\n        for(int i=0;i&lt;=10;i++){\r\n            System.out.println(&quot;Table of 15 is &quot;+15*i);\r\n        }\r\n    }\r\n    synchronized public void sixth(){\r\n        for(int i=0;i&lt;=10;i++){\r\n            System.out.println(&quot;Table of 16 is &quot;+16*i);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\npublic class threading3 {\r\n    public static void main(String args[]){\r\n        A a1=new A();\r\n        B b1=new B();\r\n        C c1=new C();\r\n        Thread t1=new Thread(a1);\r\n        Thread t2=new Thread(b1);\r\n        Thread t3=new Thread(c1);\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n\r\n    }\r\n    \r\n}\r\n```\r\nIts printing table in random way.Even though i used synchronized in all methods.","title":"In this synchronization is not working. Why? I have synchronized all methods. Can anyone please tell and provide solution for the same?","body":"<p>Write a program to print tables with the help of multiple threads create three threads named as T1, T2 and T3. T1 thread prints the table of 11 and 12, T2 prints table of 13 and 14 and T3 prints table of 15 and 16. Any thread can start first but once any one starts to print table of any number it is not allowed to print different table by another thread. For example, suppose thread t3 starts first and start printing 15 table now until table of 15 gets completed no one prints another table. once the printing of 15 table has ended any one allowed to print another table.</p>\n<pre><code>class A implements Runnable{\n    public void run(){\n        first();\n        second();\n\n\n    }\n    synchronized public void first(){\n        for(int i=0;i&lt;=10;i++){\n            System.out.println(&quot;Table of 11 is &quot;+11*i);\n        }\n    }\n    synchronized public void second(){\n        for(int i=0;i&lt;=10;i++){\n            System.out.println(&quot;Table of 12 is &quot;+12*i);\n        }\n    }\n   \n}\nclass B implements Runnable{\n    public void run(){\n        third();\n        fourth();\n\n\n    }\n    synchronized public void third(){\n        for(int i=0;i&lt;=10;i++){\n            System.out.println(&quot;Table of 13 is &quot;+13*i);\n        }\n    }\n    synchronized public void fourth(){\n        for(int i=0;i&lt;=10;i++){\n            System.out.println(&quot;Table of 14 is &quot;+14*i);\n        }\n    }\n}\nclass C implements Runnable{\n    public void run(){\n        fifth();\n        sixth();\n\n\n    }\n    synchronized public void fifth(){\n        for(int i=0;i&lt;=10;i++){\n            System.out.println(&quot;Table of 15 is &quot;+15*i);\n        }\n    }\n    synchronized public void sixth(){\n        for(int i=0;i&lt;=10;i++){\n            System.out.println(&quot;Table of 16 is &quot;+16*i);\n        }\n    }\n}\n\n\n\n\npublic class threading3 {\n    public static void main(String args[]){\n        A a1=new A();\n        B b1=new B();\n        C c1=new C();\n        Thread t1=new Thread(a1);\n        Thread t2=new Thread(b1);\n        Thread t3=new Thread(c1);\n        t1.start();\n        t2.start();\n        t3.start();\n\n    }\n    \n}\n</code></pre>\n<p>Its printing table in random way.Even though i used synchronized in all methods.</p>\n"},{"tags":["java","r2dbc"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1649872103,"post_id":71861735,"comment_id":126988084,"body_markdown":"R2DBC is a specification for Java reactive database connections - yes. Strictly JVM rather than just Java. It’s analogous to JDBC. Other languages have other solutions to this problem.","body":"R2DBC is a specification for Java reactive database connections - yes. Strictly JVM rather than just Java. It’s analogous to JDBC. Other languages have other solutions to this problem."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651759264,"creation_date":1651759264,"answer_id":72128487,"question_id":71861735,"body_markdown":"&gt; Is R2DBC-specification only for Java applications?\r\n\r\n[R2DBC][1] is implemented in Java, which means it can be used in Java as well as other JVM languages, such as kotlin, scala, etc.\r\n\r\n&gt; and what about thread-per-request problem? Doesn&#39;t this exist in other programming languages?\r\n\r\nAssuming you are talking about the benefits of going non-blocking also with database interactions, the problem is independent of the language / platform you&#39;re working on, so yes, this also exists elsewhere.\r\n\r\nBut just like JDBC is a Java-only API for blocking database interaction, R2DBC is a Java-only API for non-blocking (reactive, specifically) database interaction.\r\n\r\nBoth can be used in Java, kotlin, scala, etc., i.e. on the JVM only.\r\n\r\n  [1]: https://r2dbc.io/","title":"Is R2DBC only for Java applications?","body":"<blockquote>\n<p>Is R2DBC-specification only for Java applications?</p>\n</blockquote>\n<p><a href=\"https://r2dbc.io/\" rel=\"nofollow noreferrer\">R2DBC</a> is implemented in Java, which means it can be used in Java as well as other JVM languages, such as kotlin, scala, etc.</p>\n<blockquote>\n<p>and what about thread-per-request problem? Doesn't this exist in other programming languages?</p>\n</blockquote>\n<p>Assuming you are talking about the benefits of going non-blocking also with database interactions, the problem is independent of the language / platform you're working on, so yes, this also exists elsewhere.</p>\n<p>But just like JDBC is a Java-only API for blocking database interaction, R2DBC is a Java-only API for non-blocking (reactive, specifically) database interaction.</p>\n<p>Both can be used in Java, kotlin, scala, etc., i.e. on the JVM only.</p>\n"}],"owner":{"account_id":17925721,"reputation":23,"user_id":13024425,"display_name":"jeme95"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72128487,"answer_count":1,"score":0,"last_activity_date":1651773019,"creation_date":1649871630,"question_id":71861735,"body_markdown":"Is the R2DBC specification only for Java applications? Because I only find Java examples on the Internet. \r\n\r\nAnd what about the thread-per-request problem? Doesn&#39;t this exist in other programming languages?\r\n\r\n","title":"Is R2DBC only for Java applications?","body":"<p>Is the R2DBC specification only for Java applications? Because I only find Java examples on the Internet.</p>\n<p>And what about the thread-per-request problem? Doesn't this exist in other programming languages?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1651770779,"post_id":72131135,"comment_id":127448097,"body_markdown":"Use `Encode.forJavaScript()` for `user` as well?","body":"Use <code>Encode.forJavaScript()</code> for <code>user</code> as well?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1651770843,"post_id":72131135,"comment_id":127448122,"body_markdown":"You&#39;re not escaping `user`, but why create view-layer stuff in raw Java at all?","body":"You&#39;re not escaping <code>user</code>, but why create view-layer stuff in raw Java at all?"},{"owner":{"account_id":8939841,"reputation":1206,"user_id":6669348,"accept_rate":67,"display_name":"Depzor"},"score":0,"creation_date":1651772364,"post_id":72131135,"comment_id":127448635,"body_markdown":"Try this:\nimport org.apache.commons.lang3.StringEscapeUtils;\n....\nurl = String.format(&quot;&lt;a onClick=\\&quot;downloadFile(&#39;%s&#39;, &#39;%s&#39;)\\&quot; href=\\&quot;#\\&quot; &gt;Download&lt;/a&gt;&quot;, StringEscapeUtils.escapeJava(user), fileName);","body":"Try this: import org.apache.commons.lang3.StringEscapeUtils; .... url = String.format(&quot;&lt;a onClick=\\&quot;downloadFile(&#39;%s&#39;, &#39;%s&#39;)\\&quot; href=\\&quot;#\\&quot; &gt;Download&lt;/a&gt;&quot;, StringEscapeUtils.escapeJava(user), fileName);"},{"owner":{"account_id":22322326,"reputation":210,"user_id":16544811,"display_name":"AJ31"},"score":0,"creation_date":1652080834,"post_id":72131135,"comment_id":127510094,"body_markdown":"@Ivar Using `Encode.forJavaScript()` for email seems to be working alright. Thanks!","body":"@Ivar Using <code>Encode.forJavaScript()</code> for email seems to be working alright. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":24356269,"reputation":96,"user_id":18291382,"display_name":"Fambo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651772088,"creation_date":1651772088,"answer_id":72131416,"question_id":72131135,"body_markdown":"If I understand correctly, you just need to escape the &#39; with a \\\\, right?\r\nIf so, your method for escaping the &#39; sign should look like this instead.\r\n\r\n    user = user.replace(&quot;&#39;&quot;,&quot;\\\\&#39;&quot;);\r\nJava uses \\ for escaping characters, so in your method you were saying &#39; should be replaced with an escaped &#39; which basically translates back to the &#39;. Please correct me if I understood the question incorrectly.","title":"How to handle Apostrophe in Strings in Java?","body":"<p>If I understand correctly, you just need to escape the ' with a \\, right?\nIf so, your method for escaping the ' sign should look like this instead.</p>\n<pre><code>user = user.replace(&quot;'&quot;,&quot;\\\\'&quot;);\n</code></pre>\n<p>Java uses \\ for escaping characters, so in your method you were saying ' should be replaced with an escaped ' which basically translates back to the '. Please correct me if I understood the question incorrectly.</p>\n"},{"tags":[],"owner":{"account_id":8939841,"reputation":1206,"user_id":6669348,"accept_rate":67,"display_name":"Depzor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651773013,"creation_date":1651772609,"answer_id":72131511,"question_id":72131135,"body_markdown":"For escaping characters you could use:\r\n\r\n    StringEscapeUtils.escapeJava(&quot;john.d&#39;cruz@java.com&quot;);\r\n\r\nwhich results in `john.d\\&#39;cruz@java.com`.\r\n\r\nAdd below dependency to your project:\r\nhttps://mvnrepository.com/artifact/org.apache.commons/commons-text\r\n\r\n\r\nand this import statement:\r\n\r\n    import org.apache.commons.text.StringEscapeUtils;\r\n\r\nSomething like this should work in your case:\r\n\r\n    public String createDownloadLink(String user) {\r\n        if (userExists()) {\r\n           return String.format(&quot;&lt;a onClick=\\&quot;downloadFile(&#39;%s&#39;, &#39;download.zip&#39;)\\&quot; href=\\&quot;#\\&quot; &gt;Download&lt;/a&gt;&quot;, StringEscapeUtils.escapeJava(user));\r\n        } \r\n    \r\n        return &quot;No file exists&quot;;\r\n    }\r\n    \r\n\r\n","title":"How to handle Apostrophe in Strings in Java?","body":"<p>For escaping characters you could use:</p>\n<pre><code>StringEscapeUtils.escapeJava(&quot;john.d'cruz@java.com&quot;);\n</code></pre>\n<p>which results in <code>john.d\\'cruz@java.com</code>.</p>\n<p>Add below dependency to your project:\n<a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-text\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.commons/commons-text</a></p>\n<p>and this import statement:</p>\n<pre><code>import org.apache.commons.text.StringEscapeUtils;\n</code></pre>\n<p>Something like this should work in your case:</p>\n<pre><code>public String createDownloadLink(String user) {\n    if (userExists()) {\n       return String.format(&quot;&lt;a onClick=\\&quot;downloadFile('%s', 'download.zip')\\&quot; href=\\&quot;#\\&quot; &gt;Download&lt;/a&gt;&quot;, StringEscapeUtils.escapeJava(user));\n    } \n\n    return &quot;No file exists&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":22322326,"reputation":210,"user_id":16544811,"display_name":"AJ31"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651773013,"creation_date":1651770647,"question_id":72131135,"body_markdown":"I have the following piece of code :\r\n```\r\npublic String createDownloadLink(String user) {\r\n    String url = &quot;No file exists&quot;;\r\n\tString fileName = &quot;download.zip&quot;;\r\n\r\n\tif (userExists())\r\n\t\turl = &quot;&lt;a onClick= &#39;downloadfile(\\&quot;&quot; + user + &quot;\\&quot;, \\&quot;&quot; + Encode.forJavaScript(fileName) + &quot;\\&quot;)&#39; href=&#39;#&#39; &gt;Download&lt;/a&gt;&quot;;\r\n\r\n\treturn url;\r\n}\r\n```\r\n\r\nIn the above piece of code, the user value is their respective email address.\r\nThis code works fine for all email addresses except for email addresses having an apostrophe in it.\r\n\r\nExample : For user = &quot;john.d&#39;cruz@java.com&quot; , the url I get in response is \r\n```\r\n&lt;a onclick=&quot;downloadfile(&quot;john.d&quot; cruz@java.com&quot;, &quot;download.zip&quot;)&#39; href=&quot;#&quot;&gt;Download&lt;/a&gt;\r\n```\r\n\r\nAnd this is a broken url so the download fails.\r\n\r\nI tried using \r\n```\r\nuser = user.replace(&quot;&#39;&quot;,&quot;\\&#39;&quot;);\r\n```\r\n\r\nBut it still gives me the same error.\r\n\r\nHow do I fix this?","title":"How to handle Apostrophe in Strings in Java?","body":"<p>I have the following piece of code :</p>\n<pre><code>public String createDownloadLink(String user) {\n    String url = &quot;No file exists&quot;;\n    String fileName = &quot;download.zip&quot;;\n\n    if (userExists())\n        url = &quot;&lt;a onClick= 'downloadfile(\\&quot;&quot; + user + &quot;\\&quot;, \\&quot;&quot; + Encode.forJavaScript(fileName) + &quot;\\&quot;)' href='#' &gt;Download&lt;/a&gt;&quot;;\n\n    return url;\n}\n</code></pre>\n<p>In the above piece of code, the user value is their respective email address.\nThis code works fine for all email addresses except for email addresses having an apostrophe in it.</p>\n<p>Example : For user = &quot;john.d'cruz@java.com&quot; , the url I get in response is</p>\n<pre><code>&lt;a onclick=&quot;downloadfile(&quot;john.d&quot; cruz@java.com&quot;, &quot;download.zip&quot;)' href=&quot;#&quot;&gt;Download&lt;/a&gt;\n</code></pre>\n<p>And this is a broken url so the download fails.</p>\n<p>I tried using</p>\n<pre><code>user = user.replace(&quot;'&quot;,&quot;\\'&quot;);\n</code></pre>\n<p>But it still gives me the same error.</p>\n<p>How do I fix this?</p>\n"},{"tags":["java","maven","plugins","jar","packaging"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1651779165,"post_id":72131522,"comment_id":127450903,"body_markdown":"This is the problem: `Paths.get(&quot;src/main/resources/icon.png&quot;)` because you assume the path is in the source directory. But during the build the resources are copied to the `target/classes` directory. Or in other words you have to use `getClass().getResourcesAsStream(&quot;/icon.png&quot;)` instead... that load it from the classpath...","body":"This is the problem: <code>Paths.get(&quot;src&#47;main&#47;resources&#47;icon.png&quot;)</code> because you assume the path is in the source directory. But during the build the resources are copied to the <code>target&#47;classes</code> directory. Or in other words you have to use <code>getClass().getResourcesAsStream(&quot;&#47;icon.png&quot;)</code> instead... that load it from the classpath..."},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1651855396,"post_id":72131522,"comment_id":127471703,"body_markdown":"Thank you! Following your tip I came up with this line and it works perfectly :D ```Image img = new ImageIcon(Objects.requireNonNull(getClass().getResource(&quot;/icon.png&quot;))).getImage();```","body":"Thank you! Following your tip I came up with this line and it works perfectly :D <code>Image img = new ImageIcon(Objects.requireNonNull(getClass().getResource(&quot;&#47;ic&zwnj;&#8203;on.png&quot;))).getImage(&zwnj;&#8203;);</code>"},{"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"score":0,"creation_date":1651855512,"post_id":72131522,"comment_id":127471746,"body_markdown":"I also noticed that if you remove the / from the path it doesn&#39;t work, why is that?","body":"I also noticed that if you remove the / from the path it doesn&#39;t work, why is that?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1651865456,"post_id":72131522,"comment_id":127474838,"body_markdown":"The part `/` defines the start where to search. This means in the root of the classpath which is by default within a JAR at the root level of the JAR... If don&#39;t use `/` the path is relative...","body":"The part <code>&#47;</code> defines the start where to search. This means in the root of the classpath which is by default within a JAR at the root level of the JAR... If don&#39;t use <code>&#47;</code> the path is relative..."}],"owner":{"account_id":20503413,"reputation":63,"user_id":15046825,"display_name":"Davide _-"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651772650,"creation_date":1651772650,"question_id":72131522,"body_markdown":"I&#39;m trying to create a jar with maven but I don&#39;t know how to package resources where I have an icon.\r\n```\r\npublic Image icon() {\r\n        if (Files.exists(Paths.get(&quot;src/main/resources/icon.png&quot;))) {\r\n            log.info(&quot;Icon provided&quot;);\r\n            return new ImageIcon(&quot;src/main/resources/icon.png&quot;).getImage();\r\n        }\r\n        log.info(&quot;No Icon provided&quot;);\r\n        return null;\r\n    }\r\n```\r\nThis is the method where I specify the path of my icon. When I run the jar it doesn&#39;t work and returns null.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.xdavide9&lt;/groupId&gt;\r\n    &lt;artifactId&gt;BetterNotePad&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.formdev&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flatlaf&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;com.xdavide9.BetterNotePad&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;module-info.class&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;com.formdev:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.MF&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;org.projectlombok:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.MF&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;org.slf4j:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.MF&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;ch.qos.logback:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;META-INF/*.MF&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThis is my pom.xml.\r\n```\r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ BetterNotePad ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory C:\\Users\\david\\Desktop\\IdeaProjects\\BetterNotePad\\src\\test\\resources\r\n```\r\nThese are logs about resources when I run mvn package.\r\n\r\nCould somebody please instruct me on how to configure my pom to include resources and what should I put in the method as a path? I tried different solutions but I keep getting stuck and return back to this situation.","title":"Maven Packaging Resources","body":"<p>I'm trying to create a jar with maven but I don't know how to package resources where I have an icon.</p>\n<pre><code>public Image icon() {\n        if (Files.exists(Paths.get(&quot;src/main/resources/icon.png&quot;))) {\n            log.info(&quot;Icon provided&quot;);\n            return new ImageIcon(&quot;src/main/resources/icon.png&quot;).getImage();\n        }\n        log.info(&quot;No Icon provided&quot;);\n        return null;\n    }\n</code></pre>\n<p>This is the method where I specify the path of my icon. When I run the jar it doesn't work and returns null.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.xdavide9&lt;/groupId&gt;\n    &lt;artifactId&gt;BetterNotePad&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.formdev&lt;/groupId&gt;\n            &lt;artifactId&gt;flatlaf&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;com.xdavide9.BetterNotePad&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;module-info.class&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;com.formdev:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.MF&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;org.projectlombok:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.MF&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;org.slf4j:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.MF&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;ch.qos.logback:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.MF&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is my pom.xml.</p>\n<pre><code>[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ BetterNotePad ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\Users\\david\\Desktop\\IdeaProjects\\BetterNotePad\\src\\test\\resources\n</code></pre>\n<p>These are logs about resources when I run mvn package.</p>\n<p>Could somebody please instruct me on how to configure my pom to include resources and what should I put in the method as a path? I tried different solutions but I keep getting stuck and return back to this situation.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651772625,"creation_date":1651764054,"answer_id":72129684,"question_id":72129617,"body_markdown":"You could exclude only `-` or the same digit only to the right till the end of the string:\r\n\r\n    ^(\\d)(?!(?:\\1|-)*$)\\d{3}-\\d$\r\n\r\n- `^` Start of string\r\n- `(\\d)` Capture group 1, match a digit\r\n- `(?!` Negative lookahead, assert what is to the right is not\r\n  - `(?:\\1|-)*$` Optionally repeat either the backrefernce to what is already captured or `-` till the end of the string\r\n- `)` Close the non capture group\r\n- `\\d{3}-\\d` Match 3 digits `-` and a digit\r\n- `$` End of string\r\n\r\n[Regex demo](https://regex101.com/r/xL1D0z/1)\r\n\r\nIf you don&#39;t want to match double `--` or an `-` at the end of the string and match optional repetitions:\r\n\r\n    ^(\\d)(?!(?:\\1|-)*$)\\d*(?:-\\d+)*$\r\n\r\n**Explanation**\r\n\r\n- `^` Start of string\r\n- `(\\d)` Capture a single digits in group 1\r\n- `(?!(?:\\1|-)*$)` Negative lookahead, assert not only `-` and the same digit till the end of the string\r\n- `\\d*` Match optional digits\r\n- `(?:-\\d+)*` Optionally repeat matching `-` and 1+ digits\r\n- `$` End of string\r\n\r\n[Regex demo](https://regex101.com/r/qLoRcw/1)","title":"how to create a regular expression to validate the numbers are not same even separated by hyphen (-)","body":"<p>You could exclude only <code>-</code> or the same digit only to the right till the end of the string:</p>\n<pre><code>^(\\d)(?!(?:\\1|-)*$)\\d{3}-\\d$\n</code></pre>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(\\d)</code> Capture group 1, match a digit</li>\n<li><code>(?!</code> Negative lookahead, assert what is to the right is not\n<ul>\n<li><code>(?:\\1|-)*$</code> Optionally repeat either the backrefernce to what is already captured or <code>-</code> till the end of the string</li>\n</ul>\n</li>\n<li><code>)</code> Close the non capture group</li>\n<li><code>\\d{3}-\\d</code> Match 3 digits <code>-</code> and a digit</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/xL1D0z/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>If you don't want to match double <code>--</code> or an <code>-</code> at the end of the string and match optional repetitions:</p>\n<pre><code>^(\\d)(?!(?:\\1|-)*$)\\d*(?:-\\d+)*$\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(\\d)</code> Capture a single digits in group 1</li>\n<li><code>(?!(?:\\1|-)*$)</code> Negative lookahead, assert not only <code>-</code> and the same digit till the end of the string</li>\n<li><code>\\d*</code> Match optional digits</li>\n<li><code>(?:-\\d+)*</code> Optionally repeat matching <code>-</code> and 1+ digits</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/qLoRcw/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651764060,"creation_date":1651764060,"answer_id":72129685,"question_id":72129617,"body_markdown":"You&#39;ll need a [back reference](https://www.regular-expressions.info/backref.html), for example:\r\n\r\n```\r\n^(\\d){4}-\\1$\r\n```","title":"how to create a regular expression to validate the numbers are not same even separated by hyphen (-)","body":"<p>You'll need a <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">back reference</a>, for example:</p>\n<pre><code>^(\\d){4}-\\1$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651767156,"creation_date":1651766711,"answer_id":72130333,"question_id":72129617,"body_markdown":"[TheFourthBird&#39;s answer][1] surely works that uses a negative lookahead. Here is another variant of this regex that might be slightly faster:\r\n\r\n\r\n```sh\r\n^(\\d)(?!\\1{3}-\\1$)\\d{3}-\\d$\r\n```\r\n\r\n[RegEx Demo][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72129684/548225\r\n  [2]: https://regex101.com/r/W4qpvf/4\r\n\r\n**Explanation:**\r\n\r\n- `^(\\d)` matches and captures first digit after start in group #1\r\n- `(?!\\1{3}-\\1$)` is a negative lookahead that will fail the match if we have 3 repetitions and a hyphen and another repeat of 1st digit.","title":"how to create a regular expression to validate the numbers are not same even separated by hyphen (-)","body":"<p><a href=\"https://stackoverflow.com/a/72129684/548225\">TheFourthBird's answer</a> surely works that uses a negative lookahead. Here is another variant of this regex that might be slightly faster:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>^(\\d)(?!\\1{3}-\\1$)\\d{3}-\\d$\n</code></pre>\n<p><a href=\"https://regex101.com/r/W4qpvf/4\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>Explanation:</strong></p>\n<ul>\n<li><code>^(\\d)</code> matches and captures first digit after start in group #1</li>\n<li><code>(?!\\1{3}-\\1$)</code> is a negative lookahead that will fail the match if we have 3 repetitions and a hyphen and another repeat of 1st digit.</li>\n</ul>\n"}],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1651772625,"creation_date":1651763788,"question_id":72129617,"body_markdown":"Using the following regex \r\n\r\n```\r\n^(\\d)(?!\\1+$)\\d{3}-\\d{1}$\r\n```\r\n\r\nIt works for the pattern but I need to validate that all numbers are not the same even after /separated by the hyphen (-).\r\n\r\nExample: \r\n```\r\n0000-0 not allowed (because of all are same digits)\r\n0000-1 allowed\r\n1111-1 not allowed (because of all are same digits)\r\n1234-2 allowed\r\n```","title":"how to create a regular expression to validate the numbers are not same even separated by hyphen (-)","body":"<p>Using the following regex</p>\n<pre><code>^(\\d)(?!\\1+$)\\d{3}-\\d{1}$\n</code></pre>\n<p>It works for the pattern but I need to validate that all numbers are not the same even after /separated by the hyphen (-).</p>\n<p>Example:</p>\n<pre><code>0000-0 not allowed (because of all are same digits)\n0000-1 allowed\n1111-1 not allowed (because of all are same digits)\n1234-2 allowed\n</code></pre>\n"},{"tags":["java","eclipse","enums","strictfp"],"comments":[{"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":2,"creation_date":1422988436,"post_id":28306145,"comment_id":44963386,"body_markdown":"That&#39;s eclipse at its finest :D `strictfp` has nothing to do with strings, but with floating point arithmetic: http://stackoverflow.com/questions/517915/when-should-i-use-the-strictfp-keyword-in-java .","body":"That&#39;s eclipse at its finest :D <code>strictfp</code> has nothing to do with strings, but with floating point arithmetic: <a href=\"http://stackoverflow.com/questions/517915/when-should-i-use-the-strictfp-keyword-in-java\" title=\"when should i use the strictfp keyword in java\">stackoverflow.com/questions/517915/&hellip;</a> ."},{"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"score":0,"creation_date":1535444592,"post_id":28306145,"comment_id":91056643,"body_markdown":"Eclipse will also give the same error, if you accidentally put a whitespace instead of an underscore in your constant declaration name. Like &#39;MONDAY_INT VALUE&#39;","body":"Eclipse will also give the same error, if you accidentally put a whitespace instead of an underscore in your constant declaration name. Like &#39;MONDAY_INT VALUE&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1422988216,"creation_date":1422988216,"answer_id":28306183,"question_id":28306145,"body_markdown":"The enum constants must be [first in the enum definition][1], above the `private` variable.\r\n\r\n&gt; Java requires that the constants be defined first, prior to any fields or methods.\r\n\r\nTry:\r\n\r\n    public enum Day {\r\n        MONDAY, TUESDAY, WEDNESDAY;\r\n        private String mood;\r\n        Day(String mood) {\r\n    \r\n        }\r\n        Day() {\r\n    \r\n        }\r\n      }\r\n\r\n[1]: http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"Why is Eclipse asking to declare strictfp inside enum","body":"<p>The enum constants must be <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\">first in the enum definition</a>, above the <code>private</code> variable.</p>\n\n<blockquote>\n  <p>Java requires that the constants be defined first, prior to any fields or methods.</p>\n</blockquote>\n\n<p>Try:</p>\n\n<pre><code>public enum Day {\n    MONDAY, TUESDAY, WEDNESDAY;\n    private String mood;\n    Day(String mood) {\n\n    }\n    Day() {\n\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1924907,"reputation":1979,"user_id":1735603,"accept_rate":67,"display_name":"Firzen"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1433159771,"creation_date":1433159771,"answer_id":30572869,"question_id":28306145,"body_markdown":"You have maybe forgotten to add semicolon after last enum constant.\r\n\r\n    public enum Element {\r\n        FIRE,\r\n        WATER,\r\n        AIR,\r\n        EARTH,  // &lt;-- here is the problem\r\n\r\n        private String message = &quot;Wake up, Neo&quot;;\r\n    }","title":"Why is Eclipse asking to declare strictfp inside enum","body":"<p>You have maybe forgotten to add semicolon after last enum constant.</p>\n\n<pre><code>public enum Element {\n    FIRE,\n    WATER,\n    AIR,\n    EARTH,  // &lt;-- here is the problem\n\n    private String message = \"Wake up, Neo\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19503564,"reputation":311,"user_id":14269062,"display_name":"Ritunjay kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651772579,"creation_date":1651484401,"answer_id":72084886,"question_id":28306145,"body_markdown":"You can&#39;t define instance variable before enum elements/attributes.\r\n\r\n    public enum Day {\r\n       \r\n        MONDAY(&quot;sad&quot;), TUESDAY(&quot;good&quot;), WEDNESDAY(&quot;fresh&quot;);\r\n        private String mood;\r\n        Day(String mood) {\r\n        this.mood = mood;\r\n     }","title":"Why is Eclipse asking to declare strictfp inside enum","body":"<p>You can't define instance variable before enum elements/attributes.</p>\n<pre><code>public enum Day {\n   \n    MONDAY(&quot;sad&quot;), TUESDAY(&quot;good&quot;), WEDNESDAY(&quot;fresh&quot;);\n    private String mood;\n    Day(String mood) {\n    this.mood = mood;\n }\n</code></pre>\n"}],"owner":{"account_id":1171113,"reputation":633,"user_id":1148287,"accept_rate":26,"display_name":"Anoop Dixith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21589,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":3,"score":23,"last_activity_date":1651772579,"creation_date":1422988095,"question_id":28306145,"body_markdown":"I was trying out enum type in Java. When I write the below class,\r\n\r\n    public class EnumExample {\r\n      public enum Day {\r\n        private String mood;\r\n        MONDAY, TUESDAY, WEDNESDAY;\r\n        Day(String mood) {\r\n          \r\n        }\r\n        Day() {\r\n          \r\n        }\r\n      }\r\n     }\r\n\r\nCompiler says: `Syntax error on token String, strictfp expected.`  \r\nI do know what&#39;s `strictfp` but would it come here?","title":"Why is Eclipse asking to declare strictfp inside enum","body":"<p>I was trying out enum type in Java. When I write the below class,</p>\n\n<pre><code>public class EnumExample {\n  public enum Day {\n    private String mood;\n    MONDAY, TUESDAY, WEDNESDAY;\n    Day(String mood) {\n\n    }\n    Day() {\n\n    }\n  }\n }\n</code></pre>\n\n<p>Compiler says: <code>Syntax error on token String, strictfp expected.</code><br>\nI do know what's <code>strictfp</code> but would it come here?</p>\n"},{"tags":["java","mysql","mssql-jdbc"],"comments":[{"owner":{"account_id":7773500,"reputation":5844,"user_id":5882307,"display_name":"OMi Shah"},"score":0,"creation_date":1651761910,"post_id":72129125,"comment_id":127444551,"body_markdown":"Post the complete code","body":"Post the complete code"},{"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"score":0,"creation_date":1651762822,"post_id":72129125,"comment_id":127444978,"body_markdown":"@OMiShah now i post that function code.  does it enough to figure out the problem?  if not tell me.","body":"@OMiShah now i post that function code.  does it enough to figure out the problem?  if not tell me."},{"owner":{"account_id":3812797,"reputation":83,"user_id":3163079,"display_name":"yahitesh"},"score":0,"creation_date":1651763337,"post_id":72129125,"comment_id":127445213,"body_markdown":"what you want like List&lt;String&gt; of LectureStatus or List&lt;String&gt; of LectureDay?","body":"what you want like List&lt;String&gt; of LectureStatus or List&lt;String&gt; of LectureDay?"},{"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"score":0,"creation_date":1651763416,"post_id":72129125,"comment_id":127445254,"body_markdown":"@yahitesh i want to add all of them in one list&lt;string&gt;. Or it&#39;s ok to store in separate list&lt;string&gt;","body":"@yahitesh i want to add all of them in one list&lt;string&gt;. Or it&#39;s ok to store in separate list&lt;string&gt;"},{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1651763423,"post_id":72129125,"comment_id":127445259,"body_markdown":"do you want it as one String list?","body":"do you want it as one String list?"},{"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"score":0,"creation_date":1651763510,"post_id":72129125,"comment_id":127445307,"body_markdown":"@Mafei yes! And  i tried ResultList.add( LectureDay), it&#39;s not working .","body":"@Mafei yes! And  i tried ResultList.add( LectureDay), it&#39;s not working ."},{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1651763774,"post_id":72129125,"comment_id":127445421,"body_markdown":"I think you have not initialized the static list.  You should initialize the static list before adding the data. have you done it ?","body":"I think you have not initialized the static list.  You should initialize the static list before adding the data. have you done it ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651763791,"post_id":72129125,"comment_id":127445427,"body_markdown":"How would it help you to have both those strings in the same list? Your naming is off: https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions","body":"How would it help you to have both those strings in the same list? Your naming is off: <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a>"},{"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"score":0,"creation_date":1651763882,"post_id":72129125,"comment_id":127445458,"body_markdown":"@Mafei i set list as static in class. But as u said initialized. Feel like i didn&#39;t.","body":"@Mafei i set list as static in class. But as u said initialized. Feel like i didn&#39;t."},{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1651764001,"post_id":72129125,"comment_id":127445514,"body_markdown":"if you are getting an error, please put it. then I will be able to fix the problem.","body":"if you are getting an error, please put it. then I will be able to fix the problem."},{"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"score":0,"creation_date":1651764154,"post_id":72129125,"comment_id":127445581,"body_markdown":"@Mafei sure i will tried and if i got error. I will post it","body":"@Mafei sure i will tried and if i got error. I will post it"},{"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"score":0,"creation_date":1651764263,"post_id":72129125,"comment_id":127445636,"body_markdown":"Other thing is that if you are using Java 8 or above, please use ```try-with-resources``` read this https://www.tutorialspoint.com/how-to-use-try-with-resources-with-jdbc it is easy to use and avoid the Resource leak.","body":"Other thing is that if you are using Java 8 or above, please use <code>try-with-resources</code> read this <a href=\"https://www.tutorialspoint.com/how-to-use-try-with-resources-with-jdbc\" rel=\"nofollow noreferrer\">tutorialspoint.com/how-to-use-try-with-resources-with-jdbc</a> it is easy to use and avoid the Resource leak."},{"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"score":0,"creation_date":1651764450,"post_id":72129125,"comment_id":127445710,"body_markdown":"@Mafei ok. And actually. I want to store them and post it in gui. Whatever thank u for suggest me that way!","body":"@Mafei ok. And actually. I want to store them and post it in gui. Whatever thank u for suggest me that way!"}],"answers":[{"tags":[],"owner":{"account_id":3812797,"reputation":83,"user_id":3163079,"display_name":"yahitesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651763648,"creation_date":1651763648,"answer_id":72129590,"question_id":72129125,"body_markdown":"    \tpublic void GetData(){\r\n\t\tString url = &quot;jdbc:mysql://localhost/DB?serverTimezone=UTC&quot;;\r\n\t\tString sql = &quot;select LectureDay, LectureStatus from lecturelist where LectureName like &quot;Java%&quot;;\r\n\t\tpstmt = conn.prepareStatement(sql);\r\n\t\tres = pstmt.executeQuery();\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\ttry\r\n\t\t{\r\n\t\t\tClass.forName(driver_name);\r\n\t\t\tconn = DriverManager.getConnection(url, user, password);\r\n\t\t\tpstmt = conn.prepareStatement(sql);\r\n\t\t\twhile(res.next())\r\n\t\t\t{\r\n\t\t\t\tString LectureStatus = res.getString(&quot;LectureStatus&quot;);\r\n\t\t\t\tString LectureDay = res.getString(&quot;LectureDay&quot;);\r\n\t\t\t\tlist.add(LectureStatus);\r\n\t\t\t\tlist.add(LectureDay);\r\n\t\t\t}\r\n\t\t\tres.close();\r\n        catch (Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}       \r\n        finally {\r\n\t\t\ttry {\r\n\t\t\t\tpstmt.close();\r\n\t\t\t\tconn.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t}","title":"How to get the MySQL query results into a List&lt;String&gt; in java","body":"<pre><code>    public void GetData(){\n    String url = &quot;jdbc:mysql://localhost/DB?serverTimezone=UTC&quot;;\n    String sql = &quot;select LectureDay, LectureStatus from lecturelist where LectureName like &quot;Java%&quot;;\n    pstmt = conn.prepareStatement(sql);\n    res = pstmt.executeQuery();\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    try\n    {\n        Class.forName(driver_name);\n        conn = DriverManager.getConnection(url, user, password);\n        pstmt = conn.prepareStatement(sql);\n        while(res.next())\n        {\n            String LectureStatus = res.getString(&quot;LectureStatus&quot;);\n            String LectureDay = res.getString(&quot;LectureDay&quot;);\n            list.add(LectureStatus);\n            list.add(LectureDay);\n        }\n        res.close();\n    catch (Exception e)\n        {\n            System.out.println(e.getMessage());\n        }       \n    finally {\n        try {\n            pstmt.close();\n            conn.close();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72129590,"answer_count":1,"score":2,"last_activity_date":1651772313,"creation_date":1651761824,"question_id":72129125,"body_markdown":"I have SQL query which results in multiple rows and columns. &lt;br&gt;\r\nI want to execute this query and get the results into ```List&lt;String&gt;``` instead of the ResultSet.&lt;br&gt;\r\n```\r\n&quot;select LectureDay, LectureStatus from lecturelist where LectureName like &quot;Java%&quot;; \r\nres = pstmt.executeQuery();\r\n```\r\nI want the results of the query in ```List&lt;String&gt;``` &lt;br&gt;\r\n```java\r\npublic static List&lt;String&gt; ResultList;\r\n```\r\nwhile statements look like this&lt;br&gt;\r\n```java\r\n\twhile(res.next())\r\n\t\t\t{\r\n\t\t\t\tString LectureStatus = res.getString(&quot;LectureStatus&quot;);\r\n\t\t\t\tString LectureDay = res.getString(&quot;LectureDay&quot;);\r\n\t\t\t}\r\n\t\t\tres.close();\r\n```\r\n\r\ncode:&lt;br&gt;\r\n```java\r\npublic void GetData(){\r\nString url = &quot;jdbc:mysql://localhost/DB?serverTimezone=UTC&quot;;\r\nString sql = &quot;select LectureDay, LectureStatus from lecturelist where LectureName like &#39;Java%&#39;&quot;;\r\npstmt = conn.prepareStatement(sql);\r\nres = pstmt.executeQuery();\r\ntry \r\n\t\t{\t\t\t\r\n\t\t\tClass.forName(driver_name);\r\n            conn = DriverManager.getConnection(url, user, password);\r\n            pstmt = conn.prepareStatement(sql);\r\n            while(res.next())\r\n\t\t\t{\r\n\t\t\t\tString LectureStatus = res.getString(&quot;LectureStatus&quot;);\r\n\t\t\t\tString LectureDay = res.getString(&quot;LectureDay&quot;);\r\n\t\t\t}\r\n\t\t\tres.close();\r\n        catch (Exception e) \r\n\t\t{\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\t\t\r\n\t\tfinally {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tpstmt.close();\r\n\t\t\t\t\tconn.close();\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nthank u for read this ","title":"How to get the MySQL query results into a List&lt;String&gt; in java","body":"<p>I have SQL query which results in multiple rows and columns. <br>\nI want to execute this query and get the results into <code>List&lt;String&gt;</code> instead of the ResultSet.<br></p>\n<pre><code>&quot;select LectureDay, LectureStatus from lecturelist where LectureName like &quot;Java%&quot;; \nres = pstmt.executeQuery();\n</code></pre>\n<p>I want the results of the query in <code>List&lt;String&gt;</code> <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; ResultList;\n</code></pre>\n<p>while statements look like this<br></p>\n<pre class=\"lang-java prettyprint-override\"><code>    while(res.next())\n            {\n                String LectureStatus = res.getString(&quot;LectureStatus&quot;);\n                String LectureDay = res.getString(&quot;LectureDay&quot;);\n            }\n            res.close();\n</code></pre>\n<p>code:<br></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void GetData(){\nString url = &quot;jdbc:mysql://localhost/DB?serverTimezone=UTC&quot;;\nString sql = &quot;select LectureDay, LectureStatus from lecturelist where LectureName like 'Java%'&quot;;\npstmt = conn.prepareStatement(sql);\nres = pstmt.executeQuery();\ntry \n        {           \n            Class.forName(driver_name);\n            conn = DriverManager.getConnection(url, user, password);\n            pstmt = conn.prepareStatement(sql);\n            while(res.next())\n            {\n                String LectureStatus = res.getString(&quot;LectureStatus&quot;);\n                String LectureDay = res.getString(&quot;LectureDay&quot;);\n            }\n            res.close();\n        catch (Exception e) \n        {\n            System.out.println(e.getMessage());\n        }       \n        finally {\n                try {\n                    pstmt.close();\n                    conn.close();\n                } catch (Exception e) {\n                    System.out.println(e.getMessage());\n                }\n        }\n    }\n}\n</code></pre>\n<p>thank u for read this</p>\n"},{"tags":["java","arrays","while-loop"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1651767889,"post_id":72130533,"comment_id":127447045,"body_markdown":"`getDice()` always returns `dice`, and `endGame()` always creates a new array and returns it.  Those are never going to be the same array.  My guess is that you want to compare the contents of the arrays, and terminate if they have the same sequence of numbers?  If that","body":"<code>getDice()</code> always returns <code>dice</code>, and <code>endGame()</code> always creates a new array and returns it.  Those are never going to be the same array.  My guess is that you want to compare the contents of the arrays, and terminate if they have the same sequence of numbers?  If that"},{"owner":{"account_id":25206779,"reputation":1,"user_id":19045006,"display_name":"Zachary Strickler"},"score":0,"creation_date":1651791118,"post_id":72130533,"comment_id":127453987,"body_markdown":"@azurefrog, I ended up fixing it, thank you. I actually just wrote an override method for .equals and ended up being able to compare the objects that way.  It worked perfectly, thank you for clearing up what I needed to do and what was actually happening.","body":"@azurefrog, I ended up fixing it, thank you. I actually just wrote an override method for .equals and ended up being able to compare the objects that way.  It worked perfectly, thank you for clearing up what I needed to do and what was actually happening."},{"owner":{"account_id":3520251,"reputation":114,"user_id":2942745,"display_name":"cogitoboy"},"score":0,"creation_date":1652388835,"post_id":72130533,"comment_id":127601130,"body_markdown":"Just for FYI,  the problem with this approach is that whenever you override equals()  you also need to override hashcode().   Better to just use Arrays.equals(arr1, arr2));","body":"Just for FYI,  the problem with this approach is that whenever you override equals()  you also need to override hashcode().   Better to just use Arrays.equals(arr1, arr2));"}],"answers":[{"tags":[],"owner":{"account_id":3520251,"reputation":114,"user_id":2942745,"display_name":"cogitoboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651768710,"creation_date":1651768710,"answer_id":72130739,"question_id":72130533,"body_markdown":"You while loop test includes\r\n\r\n    playerTwo.getDice() != playerTwo.endGame()\r\n\r\nBy using the = operator, you are saying &#39;are these two arrays the same array object?&#39;.  Looking at the endGame method you can see that can never be true, you are creating a new array object every time you call that method, so could never be the same one as \r\n\r\n\r\n    playerTwo.getDice(). \r\n\r\nInstead of checking to see if they are the same object, you really want to know if they have the same values.  There are some other ways of doing that. I&#39;ll give you a hint, look at java.util.Arrays package.\r\n\r\n\r\n     https://www.geeksforgeeks.org/java-util-arrays-equals-java-examples/\r\n     https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html\r\n     https://www.geeksforgeeks.org/compare-two-arrays-java/\r\n\r\n","title":"While loop not terminating when an array equals the terminate condition array. Java. First java class please be patient. Thank you","body":"<p>You while loop test includes</p>\n<pre><code>playerTwo.getDice() != playerTwo.endGame()\n</code></pre>\n<p>By using the = operator, you are saying 'are these two arrays the same array object?'.  Looking at the endGame method you can see that can never be true, you are creating a new array object every time you call that method, so could never be the same one as</p>\n<pre><code>playerTwo.getDice(). \n</code></pre>\n<p>Instead of checking to see if they are the same object, you really want to know if they have the same values.  There are some other ways of doing that. I'll give you a hint, look at java.util.Arrays package.</p>\n<pre><code> https://www.geeksforgeeks.org/java-util-arrays-equals-java-examples/\n https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html\n https://www.geeksforgeeks.org/compare-two-arrays-java/\n</code></pre>\n"}],"owner":{"account_id":25206779,"reputation":1,"user_id":19045006,"display_name":"Zachary Strickler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651772284,"creation_date":1651767725,"question_id":72130533,"body_markdown":"Was wondering if there was a reason that the while loop was not terminating if the arrays equal eachother, the one condition was an array set to all 2s and then when the Die array reaches all 2s I wanted the while loop to terminate. Thank you for any help.\r\n\r\nStuck in the mud dice game, 2 players will roll 5 dice each, and the person with the highest total wins, if one player rolls a 2\r\nthey are stuck in the mud and unable to continue rolling for the rest of the game\r\n\r\n```java\r\nimport java.util.*;\r\npublic class StuckInTheMud {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;What is player ones name?&quot;);\r\n\t\tString firstPlayer = keyboard.nextLine();\r\n\t\tSystem.out.println(&quot;What is player twos name?&quot;);\r\n\t\tString secondPlayer = keyboard.nextLine();\r\n\t\tPlayer playerOne = new Player(firstPlayer);\r\n\t\tPlayer playerTwo = new Player(secondPlayer);\r\n\t\twhile (playerOne.getDice() != playerOne.endGame() || playerTwo.getDice() != playerTwo.endGame()) // this is the while loop that wont terminate\r\n\t\t{\r\n\t\t\tpressEnterKeyToContinue(firstPlayer); // these are the turns looping\r\n\t\t\tplayerOne.playerTurn(firstPlayer);\r\n\t\t\tpressEnterKeyToContinue(secondPlayer);\r\n\t\t\tplayerTwo.playerTurn(secondPlayer);\r\n\t\t}\r\n\t}\r\n\tpublic static void pressEnterKeyToContinue(String playerName) // using a continue method so the game doesn&#39;t contine on its own\r\n\t{\r\n\t\tSystem.out.println(&quot;\\n&quot; + playerName + &quot;, press Enter key when you are ready to roll!&quot;);\r\n\t\tScanner nextTurn = new Scanner(System.in);\r\n\t\tnextTurn.nextLine();\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Player { // this is the player class \r\n   private int score;\r\n   private Die[] dice = new Die[6];\r\n   private String playerName;\r\n   private int roundScore;\r\n   private int totalScore;\r\n\r\n   public Player(String playerAlias) {\r\n   \tplayerAlias = playerName;\r\n   \tscore = 0;\r\n   \tfor (int i = 0; i != dice.length; i++) {\r\n   \t\tdice[i] = new Die(6);\r\n   \t\tdice[i].setValue(1);\r\n   \t}\r\n   }\r\n\r\n   public void playerTurn(String playerName) {\r\n   \troundScore = 0;\r\n   \tint twoRoll = 0;\r\n   \tSystem.out.print(playerName + &quot; it is your turn, here come the dice.\\n&quot;);\r\n   \tfor (int i = 0; i != dice.length; i++) // This for loop will add random dice roll integers into the players array\r\n   \t{\r\n   \t\tif (dice[i].getValue() != 2) {\r\n   \t\t\tdice[i].roll();\r\n   \t\t\tif (dice[i].getValue() != 2) {\r\n   \t\t\t\tSystem.out.println(&quot;For roll number &quot; + (i + 1) + &quot; you got a &quot; + dice[i].getValue() + &quot;!&quot;);\r\n   \t\t\t\troundScore(dice[i].getValue());\r\n   \t\t\t} else {\r\n   \t\t\t\tSystem.out.println(&quot;For roll number &quot; + (i + 1) + &quot;, you got a 2! Die &quot; + (i + 1) + &quot; is now stuck in the mud!&quot;);\r\n   \t\t\t\ttwoRoll = 1;\r\n   \t\t\t}\r\n   \t\t} else {\r\n   \t\t\tSystem.out.println(&quot;Die &quot; + (i + 1) + &quot; is stuck in the mud since you rolled a 2, it cannot be used for the rest of the game!&quot;);\r\n   \t\t}\r\n   \t}\r\n   \tif (twoRoll == 0) {\r\n   \t\tSystem.out.println(&quot;\\nYour total score this round was &quot; + getRoundScore() + &quot;.&quot;);\r\n   \t\ttotalScore(roundScore);\r\n   \t\tSystem.out.println(playerName + &quot;, your total score for the game is &quot; + getTotalScore() + &quot;!&quot;);\r\n   \t} else {\r\n   \t\tSystem.out.println(&quot;\\nSince you rolled a 2, the score for this round is 0&quot;);\r\n   \t\troundScore = 0;\r\n   \t\ttotalScore(roundScore);\r\n   \t\tSystem.out.println(playerName + &quot;, your total score for the game is &quot; + getTotalScore() + &quot;!&quot;);\r\n   \t}\r\n   }\r\n\r\n   public void roundScore(int singleRoll) {\r\n   \troundScore += singleRoll;\r\n   }\r\n\r\n   public int getRoundScore() {\r\n   \treturn roundScore;\r\n   }\r\n\r\n   public void totalScore(int roundScore) {\r\n   \ttotalScore += roundScore;\r\n   }\r\n   public int getTotalScore() {\r\n   \treturn totalScore;\r\n   }\r\n\r\n   public Die[] getDice() {\r\n   \treturn dice;\r\n   }\r\n\r\n   public Die[] endGame() {\r\n   \tDie[] endGame = new Die[6];\r\n   \tfor (int i = 0; i != endGame.length; i++) {\r\n   \t\tendGame[i] = new Die(6);\r\n   \t\tendGame[i].roll();\r\n   \t\tendGame[i].setValue(2);\r\n   \t}\r\n   \treturn endGame;\r\n   }\r\n}\r\n```\r\n     \r\n```java\r\n// Die Class\r\n// 4/21/22\r\n// Zachary Strickler\r\n\r\nimport java.util.Random;\r\n\r\n/**\r\n   The Die class simulates a six-sided die.\r\n*/\r\n\r\npublic class Die // this is the die class\r\n{\r\n\tprivate int sides; // Number of sides\r\n\tprivate int value; // The die&#39;s value\r\n\r\n\t/**\r\n\t   The constructor performs an initial\r\n\t   roll of the die.\r\n\t   @param numSides The number of sides for this die.\r\n\t*/\r\n\r\n\tpublic Die(int numSides) {\r\n\t\tsides = numSides;\r\n\t\troll();\r\n\t}\r\n\r\n\t/**\r\n\t   The roll method simlates the rolling of\r\n\t   the die.\r\n\t*/\r\n\r\n\tpublic void roll() {\r\n\t\t// Create a Random object.\r\n\t\tRandom rand = new Random();\r\n\r\n\t\t// Get a random value for the die.\r\n\t\tvalue = rand.nextInt(sides) + 1;\r\n\t}\r\n\r\n\t/**\r\n\t   getSides method\r\n\t   @return The number of sides for this die.\r\n\t*/\r\n\r\n\tpublic int getSides() {\r\n\t\treturn sides;\r\n\t}\r\n\r\n\t/**\r\n\t   getValue method\r\n\t   @return The value of the die.\r\n\t*/\r\n\r\n\tpublic int getValue() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic int setValue(int setValue) {\r\n\t\tvalue = setValue;\r\n\t\treturn value;\r\n\t}\r\n}\r\n```","title":"While loop not terminating when an array equals the terminate condition array. Java. First java class please be patient. Thank you","body":"<p>Was wondering if there was a reason that the while loop was not terminating if the arrays equal eachother, the one condition was an array set to all 2s and then when the Die array reaches all 2s I wanted the while loop to terminate. Thank you for any help.</p>\n<p>Stuck in the mud dice game, 2 players will roll 5 dice each, and the person with the highest total wins, if one player rolls a 2\nthey are stuck in the mud and unable to continue rolling for the rest of the game</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class StuckInTheMud {\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        System.out.println(&quot;What is player ones name?&quot;);\n        String firstPlayer = keyboard.nextLine();\n        System.out.println(&quot;What is player twos name?&quot;);\n        String secondPlayer = keyboard.nextLine();\n        Player playerOne = new Player(firstPlayer);\n        Player playerTwo = new Player(secondPlayer);\n        while (playerOne.getDice() != playerOne.endGame() || playerTwo.getDice() != playerTwo.endGame()) // this is the while loop that wont terminate\n        {\n            pressEnterKeyToContinue(firstPlayer); // these are the turns looping\n            playerOne.playerTurn(firstPlayer);\n            pressEnterKeyToContinue(secondPlayer);\n            playerTwo.playerTurn(secondPlayer);\n        }\n    }\n    public static void pressEnterKeyToContinue(String playerName) // using a continue method so the game doesn't contine on its own\n    {\n        System.out.println(&quot;\\n&quot; + playerName + &quot;, press Enter key when you are ready to roll!&quot;);\n        Scanner nextTurn = new Scanner(System.in);\n        nextTurn.nextLine();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Player { // this is the player class \n   private int score;\n   private Die[] dice = new Die[6];\n   private String playerName;\n   private int roundScore;\n   private int totalScore;\n\n   public Player(String playerAlias) {\n    playerAlias = playerName;\n    score = 0;\n    for (int i = 0; i != dice.length; i++) {\n        dice[i] = new Die(6);\n        dice[i].setValue(1);\n    }\n   }\n\n   public void playerTurn(String playerName) {\n    roundScore = 0;\n    int twoRoll = 0;\n    System.out.print(playerName + &quot; it is your turn, here come the dice.\\n&quot;);\n    for (int i = 0; i != dice.length; i++) // This for loop will add random dice roll integers into the players array\n    {\n        if (dice[i].getValue() != 2) {\n            dice[i].roll();\n            if (dice[i].getValue() != 2) {\n                System.out.println(&quot;For roll number &quot; + (i + 1) + &quot; you got a &quot; + dice[i].getValue() + &quot;!&quot;);\n                roundScore(dice[i].getValue());\n            } else {\n                System.out.println(&quot;For roll number &quot; + (i + 1) + &quot;, you got a 2! Die &quot; + (i + 1) + &quot; is now stuck in the mud!&quot;);\n                twoRoll = 1;\n            }\n        } else {\n            System.out.println(&quot;Die &quot; + (i + 1) + &quot; is stuck in the mud since you rolled a 2, it cannot be used for the rest of the game!&quot;);\n        }\n    }\n    if (twoRoll == 0) {\n        System.out.println(&quot;\\nYour total score this round was &quot; + getRoundScore() + &quot;.&quot;);\n        totalScore(roundScore);\n        System.out.println(playerName + &quot;, your total score for the game is &quot; + getTotalScore() + &quot;!&quot;);\n    } else {\n        System.out.println(&quot;\\nSince you rolled a 2, the score for this round is 0&quot;);\n        roundScore = 0;\n        totalScore(roundScore);\n        System.out.println(playerName + &quot;, your total score for the game is &quot; + getTotalScore() + &quot;!&quot;);\n    }\n   }\n\n   public void roundScore(int singleRoll) {\n    roundScore += singleRoll;\n   }\n\n   public int getRoundScore() {\n    return roundScore;\n   }\n\n   public void totalScore(int roundScore) {\n    totalScore += roundScore;\n   }\n   public int getTotalScore() {\n    return totalScore;\n   }\n\n   public Die[] getDice() {\n    return dice;\n   }\n\n   public Die[] endGame() {\n    Die[] endGame = new Die[6];\n    for (int i = 0; i != endGame.length; i++) {\n        endGame[i] = new Die(6);\n        endGame[i].roll();\n        endGame[i].setValue(2);\n    }\n    return endGame;\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Die Class\n// 4/21/22\n// Zachary Strickler\n\nimport java.util.Random;\n\n/**\n   The Die class simulates a six-sided die.\n*/\n\npublic class Die // this is the die class\n{\n    private int sides; // Number of sides\n    private int value; // The die's value\n\n    /**\n       The constructor performs an initial\n       roll of the die.\n       @param numSides The number of sides for this die.\n    */\n\n    public Die(int numSides) {\n        sides = numSides;\n        roll();\n    }\n\n    /**\n       The roll method simlates the rolling of\n       the die.\n    */\n\n    public void roll() {\n        // Create a Random object.\n        Random rand = new Random();\n\n        // Get a random value for the die.\n        value = rand.nextInt(sides) + 1;\n    }\n\n    /**\n       getSides method\n       @return The number of sides for this die.\n    */\n\n    public int getSides() {\n        return sides;\n    }\n\n    /**\n       getValue method\n       @return The value of the die.\n    */\n\n    public int getValue() {\n        return value;\n    }\n\n    public int setValue(int setValue) {\n        value = setValue;\n        return value;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit","junit5","spring-test"],"answers":[{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651075822,"creation_date":1651075822,"answer_id":72032078,"question_id":72014948,"body_markdown":"What is the reason to have the inheritance for tests?\r\nIn case you need to share some common logic within the tests you may try JUnit features (custom rules/extensions), for example\r\n\r\n 1. For `junit &lt; 5.x.x` @Rule functionality https://junit.org/junit4/javadoc/4.12/org/junit/rules/TemporaryFolder.html https://stackoverflow.com/a/34608174/6916890\r\n 2. For `junit &gt;= 5.x.x` (jupiter) there is an extension API\r\nhttps://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory\r\n","title":"Creating a configurable JUnit library to test same features across several microservices","body":"<p>What is the reason to have the inheritance for tests?\nIn case you need to share some common logic within the tests you may try JUnit features (custom rules/extensions), for example</p>\n<ol>\n<li>For <code>junit &lt; 5.x.x</code> @Rule functionality <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/rules/TemporaryFolder.html\" rel=\"nofollow noreferrer\">https://junit.org/junit4/javadoc/4.12/org/junit/rules/TemporaryFolder.html</a> <a href=\"https://stackoverflow.com/a/34608174/6916890\">https://stackoverflow.com/a/34608174/6916890</a></li>\n<li>For <code>junit &gt;= 5.x.x</code> (jupiter) there is an extension API\n<a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-built-in-extensions-TempDirectory</a></li>\n</ol>\n"}],"owner":{"account_id":12948006,"reputation":141,"user_id":9361748,"display_name":"dpozinen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651772250,"creation_date":1650980178,"question_id":72014948,"body_markdown":"A set of tests should be run on every microservice. Current solution is to have an `abstract class` and extend in every service, providing the necessary properties in abstract getters.\r\n```java\r\npublic abstract class AbstractTest {\r\n\r\n    @LocalServerPort\r\n    protected int serverPort;\r\n\r\n    protected abstract String getPath();\r\n \r\n    @Test\r\n    void someTest() {}\r\n\r\n    @Test\r\n    void conditionalTest() {}\r\n}\r\n\r\n@SpringBootTest(\r\n    webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT,\r\n    classes = {...})\r\n@ActiveProfiles(...) // etc\r\npublic class MyTest extends AbstractTest {\r\n// ... implement getPath()\r\n// tests from parent will be executed\r\n}\r\n```\r\n\r\n**The goal:** \r\nDitch inheritance and have the `AbstractTest`&#39;s logic get executed automatically with conditional `@Test` execution based on beans/properties etc. \r\n\r\n**The possible solution:**\r\nA concrete class with all the tests or some sort of `Configuration/TestFactory` to create the necessary tests. It should take into account available properties and beans to determine which tests to run.\r\n\r\n\r\n**The problem:**\r\nHow can those tests (created in runtime) be discovered and registered for execution?\r\nHow to inject all the properties that are part of the current context of the `@SpringBootTest`?\r\n\r\n**Failed attempts:**\r\n* `TestInstanceFactory` extension doesn&#39;t seem to be the solution as it requires an instance of the class which it annotates. \r\n* Using the Launcher API seems overkill, and also doesn&#39;t seem to work, since the library class won&#39;t be created with the Spring context configs.\r\n* using cglib and a base class `Spring Contract`-style is not a desirable solution\r\n\r\nIdeally I don&#39;t want the client of this lib to implement/create anything, so `abstract String getPath();` would be a `test.lib.path` property, and if it&#39;s present, a test from the library which uses it will run.\r\n\r\nAny thoughts on this would be great, because right now this just seems impossible to me.","title":"Creating a configurable JUnit library to test same features across several microservices","body":"<p>A set of tests should be run on every microservice. Current solution is to have an <code>abstract class</code> and extend in every service, providing the necessary properties in abstract getters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractTest {\n\n    @LocalServerPort\n    protected int serverPort;\n\n    protected abstract String getPath();\n \n    @Test\n    void someTest() {}\n\n    @Test\n    void conditionalTest() {}\n}\n\n@SpringBootTest(\n    webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT,\n    classes = {...})\n@ActiveProfiles(...) // etc\npublic class MyTest extends AbstractTest {\n// ... implement getPath()\n// tests from parent will be executed\n}\n</code></pre>\n<p><strong>The goal:</strong>\nDitch inheritance and have the <code>AbstractTest</code>'s logic get executed automatically with conditional <code>@Test</code> execution based on beans/properties etc.</p>\n<p><strong>The possible solution:</strong>\nA concrete class with all the tests or some sort of <code>Configuration/TestFactory</code> to create the necessary tests. It should take into account available properties and beans to determine which tests to run.</p>\n<p><strong>The problem:</strong>\nHow can those tests (created in runtime) be discovered and registered for execution?\nHow to inject all the properties that are part of the current context of the <code>@SpringBootTest</code>?</p>\n<p><strong>Failed attempts:</strong></p>\n<ul>\n<li><code>TestInstanceFactory</code> extension doesn't seem to be the solution as it requires an instance of the class which it annotates.</li>\n<li>Using the Launcher API seems overkill, and also doesn't seem to work, since the library class won't be created with the Spring context configs.</li>\n<li>using cglib and a base class <code>Spring Contract</code>-style is not a desirable solution</li>\n</ul>\n<p>Ideally I don't want the client of this lib to implement/create anything, so <code>abstract String getPath();</code> would be a <code>test.lib.path</code> property, and if it's present, a test from the library which uses it will run.</p>\n<p>Any thoughts on this would be great, because right now this just seems impossible to me.</p>\n"},{"tags":["java","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1449796808,"post_id":34214388,"comment_id":56173902,"body_markdown":"The row headers are controlled differently from the `JTable`, you&#39;ll need to us, at the very least, a `MouseMoitionListener` and possible change the preferred size of the component/header","body":"The row headers are controlled differently from the <code>JTable</code>, you&#39;ll need to us, at the very least, a <code>MouseMoitionListener</code> and possible change the preferred size of the component/header"},{"owner":{"account_id":3827010,"reputation":61,"user_id":3173622,"accept_rate":100,"display_name":"pedroabreu"},"score":0,"creation_date":1449806064,"post_id":34214388,"comment_id":56176212,"body_markdown":"Yeah, I thought that could be the case. I know little about implementing listeners though. \nReference in that direction is already welcome.","body":"Yeah, I thought that could be the case. I know little about implementing listeners though.  Reference in that direction is already welcome."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1449807764,"creation_date":1449807764,"answer_id":34216088,"question_id":34214388,"body_markdown":"As @MadProgrammer has already suggested, a MouseMotionListener is probably the only way to go here if not the easiest way. Here is your code modified:\r\n\r\n    package main;\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Cursor;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import javax.swing.AbstractListModel;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.ListCellRenderer;\r\n    import javax.swing.ListModel;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.JTableHeader;\r\n    \r\n    class RowHeaderRenderer extends JLabel implements ListCellRenderer {\r\n    \r\n      RowHeaderRenderer(JTable table) {\r\n        JTableHeader header = table.getTableHeader();\r\n        setOpaque(true);\r\n        setBorder(UIManager.getBorder(&quot;TableHeader.cellBorder&quot;));\r\n        setHorizontalAlignment(CENTER);\r\n        setForeground(header.getForeground());\r\n        setBackground(header.getBackground());\r\n        setFont(header.getFont());\r\n      }\r\n    \r\n      @Override\r\n      public Component getListCellRendererComponent(JList list, Object value,\r\n          int index, boolean isSelected, boolean cellHasFocus) {\r\n        setText((value == null) ? &quot;&quot; : value.toString());\r\n        return this;\r\n      }\r\n    }\r\n    \r\n    public class RowHeaderTable extends JFrame {\r\n    \r\n      public RowHeaderTable() {\r\n        super(&quot;Row Header Example&quot;);\r\n        setSize(300, 150);\r\n    \r\n        ListModel lm = new AbstractListModel() {\r\n          String headers[] = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot; };\r\n    \r\n          @Override\r\n          public int getSize() {\r\n            return headers.length;\r\n          }\r\n    \r\n          @Override\r\n          public Object getElementAt(int index) {\r\n            return headers[index];\r\n          }\r\n        };    \r\n    \r\n        DefaultTableModel dm = new DefaultTableModel(lm.getSize(), 15);\r\n        JTable table = new JTable(dm);\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n    \r\n        JList rowHeader = new JList(lm);\r\n        rowHeader.setFixedCellWidth(50);\r\n    \r\n        // ***************  CODE ADDED  *******************\r\n        // Add a Mouse Motion Listener for the rowHeader JList.\r\n        rowHeader.addMouseMotionListener(new MouseMotionListener() {\r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                // Set the list cell width as mouse is dragged.\r\n                rowHeader.setFixedCellWidth(e.getX());\r\n          }\r\n    \r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n                // If the mouse pointer is near the end region of the \r\n                // list cell then change the mouse cursor to a resize cursor.\r\n                if ((e.getX()&gt;= (rowHeader.getWidth() - 5)) &amp;&amp; (e.getX()&lt;= rowHeader.getWidth())) {\r\n                    rowHeader.setCursor(new Cursor(Cursor.E_RESIZE_CURSOR));\r\n                } \r\n                // If the mouse pointer is not near the end region of a cell \r\n                // then change the pointer back to its default.\r\n                else {\r\n                    rowHeader.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n                }\r\n            }\r\n        });\r\n        // ***********************************************  \r\n        \r\n        rowHeader.setFixedCellHeight(table.getRowHeight()\r\n            + table.getRowMargin());\r\n        //  + table.getIntercellSpacing().height);\r\n        rowHeader.setCellRenderer(new RowHeaderRenderer(table));\r\n    \r\n        JScrollPane scroll = new JScrollPane(table);\r\n        scroll.setRowHeaderView(rowHeader);\r\n        getContentPane().add(scroll, BorderLayout.CENTER);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n          RowHeaderTable frame = new RowHeaderTable();\r\n        frame.addWindowListener(new WindowAdapter() {\r\n          @Override\r\n          public void windowClosing(WindowEvent e) {\r\n            System.exit(0);\r\n          }\r\n        });\r\n        frame.setVisible(true);\r\n      }\r\n    }","title":"How to resize JScrollPane rowHeader","body":"<p>As @MadProgrammer has already suggested, a MouseMotionListener is probably the only way to go here if not the easiest way. Here is your code modified:</p>\n\n<pre><code>package main;\n\nimport java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Cursor;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport javax.swing.AbstractListModel;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.ListCellRenderer;\nimport javax.swing.ListModel;\nimport javax.swing.UIManager;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.JTableHeader;\n\nclass RowHeaderRenderer extends JLabel implements ListCellRenderer {\n\n  RowHeaderRenderer(JTable table) {\n    JTableHeader header = table.getTableHeader();\n    setOpaque(true);\n    setBorder(UIManager.getBorder(\"TableHeader.cellBorder\"));\n    setHorizontalAlignment(CENTER);\n    setForeground(header.getForeground());\n    setBackground(header.getBackground());\n    setFont(header.getFont());\n  }\n\n  @Override\n  public Component getListCellRendererComponent(JList list, Object value,\n      int index, boolean isSelected, boolean cellHasFocus) {\n    setText((value == null) ? \"\" : value.toString());\n    return this;\n  }\n}\n\npublic class RowHeaderTable extends JFrame {\n\n  public RowHeaderTable() {\n    super(\"Row Header Example\");\n    setSize(300, 150);\n\n    ListModel lm = new AbstractListModel() {\n      String headers[] = { \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\" };\n\n      @Override\n      public int getSize() {\n        return headers.length;\n      }\n\n      @Override\n      public Object getElementAt(int index) {\n        return headers[index];\n      }\n    };    \n\n    DefaultTableModel dm = new DefaultTableModel(lm.getSize(), 15);\n    JTable table = new JTable(dm);\n    table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n\n    JList rowHeader = new JList(lm);\n    rowHeader.setFixedCellWidth(50);\n\n    // ***************  CODE ADDED  *******************\n    // Add a Mouse Motion Listener for the rowHeader JList.\n    rowHeader.addMouseMotionListener(new MouseMotionListener() {\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            // Set the list cell width as mouse is dragged.\n            rowHeader.setFixedCellWidth(e.getX());\n      }\n\n        @Override\n        public void mouseMoved(MouseEvent e) {\n            // If the mouse pointer is near the end region of the \n            // list cell then change the mouse cursor to a resize cursor.\n            if ((e.getX()&gt;= (rowHeader.getWidth() - 5)) &amp;&amp; (e.getX()&lt;= rowHeader.getWidth())) {\n                rowHeader.setCursor(new Cursor(Cursor.E_RESIZE_CURSOR));\n            } \n            // If the mouse pointer is not near the end region of a cell \n            // then change the pointer back to its default.\n            else {\n                rowHeader.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n            }\n        }\n    });\n    // ***********************************************  \n\n    rowHeader.setFixedCellHeight(table.getRowHeight()\n        + table.getRowMargin());\n    //  + table.getIntercellSpacing().height);\n    rowHeader.setCellRenderer(new RowHeaderRenderer(table));\n\n    JScrollPane scroll = new JScrollPane(table);\n    scroll.setRowHeaderView(rowHeader);\n    getContentPane().add(scroll, BorderLayout.CENTER);\n  }\n\n  public static void main(String[] args) {\n      RowHeaderTable frame = new RowHeaderTable();\n    frame.addWindowListener(new WindowAdapter() {\n      @Override\n      public void windowClosing(WindowEvent e) {\n        System.exit(0);\n      }\n    });\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19324230,"reputation":33,"user_id":14127279,"display_name":"DareAngeL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651772247,"creation_date":1651772247,"answer_id":72131447,"question_id":34214388,"body_markdown":"For someone who just got here, you can try my solution from the other thread. It is a custom rowHeader that extends JComponent. I wrote the class because of the tremendous lags I experienced when I&#39;m dragging or resizing a row outside of row header&#39;s boundary and I can&#39;t find any solution that can fix the lags.\r\n\r\nHere&#39;s the link\r\nhttps://stackoverflow.com/a/72131124/14127279","title":"How to resize JScrollPane rowHeader","body":"<p>For someone who just got here, you can try my solution from the other thread. It is a custom rowHeader that extends JComponent. I wrote the class because of the tremendous lags I experienced when I'm dragging or resizing a row outside of row header's boundary and I can't find any solution that can fix the lags.</p>\n<p>Here's the link\n<a href=\"https://stackoverflow.com/a/72131124/14127279\">https://stackoverflow.com/a/72131124/14127279</a></p>\n"}],"owner":{"account_id":3827010,"reputation":61,"user_id":3173622,"accept_rate":100,"display_name":"pedroabreu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34216088,"answer_count":2,"score":0,"last_activity_date":1651772247,"creation_date":1449794534,"question_id":34214388,"body_markdown":"The code bellow will generate this table:\r\n[![enter image description here][1]][1]\r\n\r\nAs the image indicates, in this table you can resize the column A, B, ...\r\nBut you cannot resize the column with the lowercase letters a,b,c,e... i.e., the rowHeader of the JScrollPane.\r\n\r\nAny Ideas how can I do that?\r\n\r\n\r\n\tpackage main;\r\n\t// Example from http://www.crionics.com/products/opensource/faq/swing_ex/SwingExamples.html\r\n\t/* (swing1.1beta3) */\r\n\timport java.awt.BorderLayout;\r\n\timport java.awt.Component;\r\n\timport java.awt.event.WindowAdapter;\r\n\timport java.awt.event.WindowEvent;\r\n\t\r\n\timport javax.swing.AbstractListModel;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JList;\r\n\timport javax.swing.JScrollPane;\r\n\timport javax.swing.JTable;\r\n\timport javax.swing.ListCellRenderer;\r\n\timport javax.swing.ListModel;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.table.DefaultTableModel;\r\n\timport javax.swing.table.JTableHeader;\r\n\t\r\n\t/**\r\n\t * @version 1.0 11/09/98\r\n\t */\r\n\t\r\n\tclass RowHeaderRenderer extends JLabel implements ListCellRenderer {\r\n\t\r\n\t  RowHeaderRenderer(JTable table) {\r\n\t    JTableHeader header = table.getTableHeader();\r\n\t    setOpaque(true);\r\n\t    setBorder(UIManager.getBorder(&quot;TableHeader.cellBorder&quot;));\r\n\t    setHorizontalAlignment(CENTER);\r\n\t    setForeground(header.getForeground());\r\n\t    setBackground(header.getBackground());\r\n\t    setFont(header.getFont());\r\n\t  }\r\n\t\r\n\t  public Component getListCellRendererComponent(JList list, Object value,\r\n\t      int index, boolean isSelected, boolean cellHasFocus) {\r\n\t    setText((value == null) ? &quot;&quot; : value.toString());\r\n\t    return this;\r\n\t  }\r\n\t}\r\n\t\r\n\tpublic class RowHeaderTable extends JFrame {\r\n\t\r\n\t  public RowHeaderTable() {\r\n\t    super(&quot;Row Header Example&quot;);\r\n\t    setSize(300, 150);\r\n\t\r\n\t    ListModel lm = new AbstractListModel() {\r\n\t      String headers[] = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot; };\r\n\t\r\n\t      public int getSize() {\r\n\t        return headers.length;\r\n\t      }\r\n\t\r\n\t      public Object getElementAt(int index) {\r\n\t        return headers[index];\r\n\t      }\r\n\t    };\r\n\t\r\n\t    DefaultTableModel dm = new DefaultTableModel(lm.getSize(), 10);\r\n\t    JTable table = new JTable(dm);\r\n\t    table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n\t\r\n\t    JList rowHeader = new JList(lm);\r\n\t    rowHeader.setFixedCellWidth(50);\r\n\t\r\n\t    rowHeader.setFixedCellHeight(table.getRowHeight()\r\n\t        + table.getRowMargin());\r\n\t    //                           + table.getIntercellSpacing().height);\r\n\t    rowHeader.setCellRenderer(new RowHeaderRenderer(table));\r\n\t\r\n\t    JScrollPane scroll = new JScrollPane(table);\r\n\t    scroll.setRowHeaderView(rowHeader);\r\n\t    getContentPane().add(scroll, BorderLayout.CENTER);\r\n\t  }\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t\t  RowHeaderTable frame = new RowHeaderTable();\r\n\t    frame.addWindowListener(new WindowAdapter() {\r\n\t      public void windowClosing(WindowEvent e) {\r\n\t        System.exit(0);\r\n\t      }\r\n\t    });\r\n\t    frame.setVisible(true);\r\n\t  }\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t           \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7bwKa.png","title":"How to resize JScrollPane rowHeader","body":"<p>The code bellow will generate this table:\n<a href=\"https://i.stack.imgur.com/7bwKa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7bwKa.png\" alt=\"enter image description here\"></a></p>\n\n<p>As the image indicates, in this table you can resize the column A, B, ...\nBut you cannot resize the column with the lowercase letters a,b,c,e... i.e., the rowHeader of the JScrollPane.</p>\n\n<p>Any Ideas how can I do that?</p>\n\n<pre><code>package main;\n// Example from http://www.crionics.com/products/opensource/faq/swing_ex/SwingExamples.html\n/* (swing1.1beta3) */\nimport java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.AbstractListModel;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.ListCellRenderer;\nimport javax.swing.ListModel;\nimport javax.swing.UIManager;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.JTableHeader;\n\n/**\n * @version 1.0 11/09/98\n */\n\nclass RowHeaderRenderer extends JLabel implements ListCellRenderer {\n\n  RowHeaderRenderer(JTable table) {\n    JTableHeader header = table.getTableHeader();\n    setOpaque(true);\n    setBorder(UIManager.getBorder(\"TableHeader.cellBorder\"));\n    setHorizontalAlignment(CENTER);\n    setForeground(header.getForeground());\n    setBackground(header.getBackground());\n    setFont(header.getFont());\n  }\n\n  public Component getListCellRendererComponent(JList list, Object value,\n      int index, boolean isSelected, boolean cellHasFocus) {\n    setText((value == null) ? \"\" : value.toString());\n    return this;\n  }\n}\n\npublic class RowHeaderTable extends JFrame {\n\n  public RowHeaderTable() {\n    super(\"Row Header Example\");\n    setSize(300, 150);\n\n    ListModel lm = new AbstractListModel() {\n      String headers[] = { \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\" };\n\n      public int getSize() {\n        return headers.length;\n      }\n\n      public Object getElementAt(int index) {\n        return headers[index];\n      }\n    };\n\n    DefaultTableModel dm = new DefaultTableModel(lm.getSize(), 10);\n    JTable table = new JTable(dm);\n    table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n\n    JList rowHeader = new JList(lm);\n    rowHeader.setFixedCellWidth(50);\n\n    rowHeader.setFixedCellHeight(table.getRowHeight()\n        + table.getRowMargin());\n    //                           + table.getIntercellSpacing().height);\n    rowHeader.setCellRenderer(new RowHeaderRenderer(table));\n\n    JScrollPane scroll = new JScrollPane(table);\n    scroll.setRowHeaderView(rowHeader);\n    getContentPane().add(scroll, BorderLayout.CENTER);\n  }\n\n  public static void main(String[] args) {\n      RowHeaderTable frame = new RowHeaderTable();\n    frame.addWindowListener(new WindowAdapter() {\n      public void windowClosing(WindowEvent e) {\n        System.exit(0);\n      }\n    });\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n"},{"tags":["java","import"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1246138934,"creation_date":1246138169,"answer_id":1053663,"question_id":1053658,"body_markdown":"All it&#39;s doing is saving you typing.  Instead of having to type &quot;org.apache.nutch.plugin.Extension&quot; every time you want to use it, the import allows you to refer to it by its short name, &quot;Extension&quot;.\r\n\r\nDon&#39;t be confused by the word &quot;import&quot; - it&#39;s not loading the .class file or anything like that.  The class loader will search for it on the CLASSPATH and load it into perm space the first time your code requires it.\r\n\r\nUPDATE: As a developer you have to know that packages are associated with directories.  If you create a package &quot;com.foo.bar.baz&quot; in your .java file, it&#39;ll have to be stored in a directory com/foo/bar/baz.\r\n\r\nBut when you download a JAR file, like that Apache Nutch library, there are no directories involved from your point of view.  The person who created the JAR had to zip up the proper directory structure, which you can see as the path to the .class file if you open the JAR using WinZip.  You just have to put that JAR in the CLASSPATH for your app when you compile and run.\r\n\r\n","title":"How is import done in Java?","body":"<p>All it's doing is saving you typing.  Instead of having to type \"org.apache.nutch.plugin.Extension\" every time you want to use it, the import allows you to refer to it by its short name, \"Extension\".</p>\n\n<p>Don't be confused by the word \"import\" - it's not loading the .class file or anything like that.  The class loader will search for it on the CLASSPATH and load it into perm space the first time your code requires it.</p>\n\n<p>UPDATE: As a developer you have to know that packages are associated with directories.  If you create a package \"com.foo.bar.baz\" in your .java file, it'll have to be stored in a directory com/foo/bar/baz.</p>\n\n<p>But when you download a JAR file, like that Apache Nutch library, there are no directories involved from your point of view.  The person who created the JAR had to zip up the proper directory structure, which you can see as the path to the .class file if you open the JAR using WinZip.  You just have to put that JAR in the CLASSPATH for your app when you compile and run.</p>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246138184,"creation_date":1246138184,"answer_id":1053664,"question_id":1053658,"body_markdown":"Imports are just hints to the compiler telling him how to figure out the full name of classes.\r\n\r\nSo if you have &quot;import java.util.*;&quot; and in your code you are doing something like &quot;new ArrayList()&quot;, when the compiler processes this expression it first needs to find the fully qualified name of the type ArrayList. It does so by going thru the list of imports and appending ArrayList to each import. Specifically, when it appends ArrayList to java.util it get the FQN java.util.ArrayList. It then looks up this FQN in its class-path. If it finds a class with such a name then it knows that java.util.ArrayList is the correct name.\r\n\r\n","title":"How is import done in Java?","body":"<p>Imports are just hints to the compiler telling him how to figure out the full name of classes.</p>\n\n<p>So if you have \"import java.util.*;\" and in your code you are doing something like \"new ArrayList()\", when the compiler processes this expression it first needs to find the fully qualified name of the type ArrayList. It does so by going thru the list of imports and appending ArrayList to each import. Specifically, when it appends ArrayList to java.util it get the FQN java.util.ArrayList. It then looks up this FQN in its class-path. If it finds a class with such a name then it knows that java.util.ArrayList is the correct name.</p>\n"},{"tags":[],"owner":{"account_id":42507,"reputation":4899,"user_id":123844,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246138502,"creation_date":1246138502,"answer_id":1053675,"question_id":1053658,"body_markdown":"Basically when you make a class you can declare it to be part of a package.  I personally don&#39;t have much experience with doing packages.  However, afaik, that basically means that you are importing the Extension class from the org.apache.nutch.plugin package.","title":"How is import done in Java?","body":"<p>Basically when you make a class you can declare it to be part of a package.  I personally don't have much experience with doing packages.  However, afaik, that basically means that you are importing the Extension class from the org.apache.nutch.plugin package.</p>\n"},{"tags":[],"owner":{"account_id":43817,"reputation":441,"user_id":128271,"display_name":"Norm MacLennan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246138685,"creation_date":1246138685,"answer_id":1053683,"question_id":1053658,"body_markdown":"Buliding off of [Thomas&#39;][1] answer, org.apache.nutch.plugin is a path to the class file(s) you want to import. I&#39;m not sure about this particular package, but generally you&#39;ll have a .jar file that you add to your classpath, and your import statement points to the directory &quot;./[classpath]/[jarfile]/org/apache/nutch/plugin&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1053658/how-import-is-done-in-java/1053675#1053675","title":"How is import done in Java?","body":"<p>Buliding off of <a href=\"https://stackoverflow.com/questions/1053658/how-import-is-done-in-java/1053675#1053675\">Thomas'</a> answer, org.apache.nutch.plugin is a path to the class file(s) you want to import. I'm not sure about this particular package, but generally you'll have a .jar file that you add to your classpath, and your import statement points to the directory \"./[classpath]/[jarfile]/org/apache/nutch/plugin\"</p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246138797,"creation_date":1246138797,"answer_id":1053689,"question_id":1053658,"body_markdown":"&gt; is &quot;org.apache.nutch.plugin&quot; essentially 4 directories?\r\n\r\nIf you have a class whose name is `org.apache.nutch.plugin.Extension`, then it is stored somewhere in the classpath as a file `org/apache/nutch/plugin/Extension.class`. So the root directory contains four nested subdirectories (&quot;org&quot;, &quot;apache&quot;, &quot;nutch&quot;, &quot;plugin&quot;) which in turn contain the class file.","title":"How is import done in Java?","body":"<blockquote>\n  <p>is \"org.apache.nutch.plugin\" essentially 4 directories?</p>\n</blockquote>\n\n<p>If you have a class whose name is <code>org.apache.nutch.plugin.Extension</code>, then it is stored somewhere in the classpath as a file <code>org/apache/nutch/plugin/Extension.class</code>. So the root directory contains four nested subdirectories (\"org\", \"apache\", \"nutch\", \"plugin\") which in turn contain the class file.</p>\n"},{"tags":[],"owner":{"account_id":26926,"reputation":461,"user_id":70510,"display_name":"Francois Gravel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1246140222,"creation_date":1246140222,"answer_id":1053734,"question_id":1053658,"body_markdown":"`import org.apache.nutch.plugin.Extension` is a compilation time shortcut that allows you to refer to the Extension class without using the class&#39; fully qualified name.  It has no meaning at runtime, it&#39;s only a compilation time trick to save typing.\r\n\r\nBy convention the .class file for this class will be located in folder org/apache/nutch/plugin either in the file system or in a jar file, either of which need to be in your classpath, both at compile time and runtime.  If the .class file is in a jar file then that jar file needs to be in your classpath.  If the .class file is in a folder, then the folder that is the parent of folder &quot;org&quot; needs to be in your classpath.  For example, if the class was located in folder c:\\myproject\\bin\\org\\apache\\nutch\\plugin then folder c:\\myproject\\bin would need to be part of the classpath.\r\n\r\nIf you&#39;re interested in finding out where the class was loaded from when you run your program, use the `-verbose:class` java command line option.  It should tell you which folder or jar file the JVM found the class.\r\n\r\n","title":"How is import done in Java?","body":"<p><code>import org.apache.nutch.plugin.Extension</code> is a compilation time shortcut that allows you to refer to the Extension class without using the class' fully qualified name.  It has no meaning at runtime, it's only a compilation time trick to save typing.</p>\n\n<p>By convention the .class file for this class will be located in folder org/apache/nutch/plugin either in the file system or in a jar file, either of which need to be in your classpath, both at compile time and runtime.  If the .class file is in a jar file then that jar file needs to be in your classpath.  If the .class file is in a folder, then the folder that is the parent of folder \"org\" needs to be in your classpath.  For example, if the class was located in folder c:\\myproject\\bin\\org\\apache\\nutch\\plugin then folder c:\\myproject\\bin would need to be part of the classpath.</p>\n\n<p>If you're interested in finding out where the class was loaded from when you run your program, use the <code>-verbose:class</code> java command line option.  It should tell you which folder or jar file the JVM found the class.</p>\n"},{"tags":[],"owner":{"account_id":17226,"reputation":16138,"user_id":38333,"accept_rate":71,"display_name":"cd1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246142083,"creation_date":1246141782,"answer_id":1053779,"question_id":1053658,"body_markdown":"you can&#39;t have a directory named `org.apache` as a package. the compiler won&#39;t understand that name and will look for the directory structure `org/apache` when you import any class from that package.\r\n\r\nalso, do not mistake the Java `import` statement with the C `#include` preprocessor instruction. the `import` statement is, like they&#39;ve said, a shorthand for you to type fewer characters when referring to a class name.","title":"How is import done in Java?","body":"<p>you can't have a directory named <code>org.apache</code> as a package. the compiler won't understand that name and will look for the directory structure <code>org/apache</code> when you import any class from that package.</p>\n\n<p>also, do not mistake the Java <code>import</code> statement with the C <code>#include</code> preprocessor instruction. the <code>import</code> statement is, like they've said, a shorthand for you to type fewer characters when referring to a class name.</p>\n"},{"tags":[],"owner":{"account_id":1762,"reputation":31842,"user_id":2405,"accept_rate":100,"display_name":"William Brendel"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1651772127,"creation_date":1246141866,"answer_id":1053781,"question_id":1053658,"body_markdown":"I think the question you might be trying to ask is, **&quot;What are packages in Java, and how does the `import` keyword relate to them?&quot;**. Your confusion about directory structures might stem from the fact that some other languages have `include` directives that use file names to literally include the contents of the specified file in your source code at compile time. C/C++ are examples of languages that use this type of `include` directive. Java&#39;s `import` keyword does not work this way. As others have said, the `import` keyword is simply a shorthand way to reference one or more classes in a package. The real work is done by the Java Virtual Machine&#39;s class loader (details below).\r\n\r\nLet&#39;s start with the definition of a &quot;Java package&quot;, as described in the [Wikipedia article](http://en.wikipedia.org/wiki/Java_package):\r\n\r\n&gt; A Java package is a mechanism for\r\n&gt; organizing Java classes into\r\n&gt; namespaces similar to the modules of\r\n&gt; Modula. Java packages can be stored in\r\n&gt; compressed files called JAR files,\r\n&gt; allowing classes to download faster as\r\n&gt; a group rather than one at a time.\r\n&gt; Programmers also typically use\r\n&gt; packages to organize classes belonging\r\n&gt; to the same category or providing\r\n&gt; similar functionality.\r\n\r\nIn Java, source code files for classes *are* in fact organized by directories, but the method by which the Java Virtual Machine (JVM) locates the classes is different from languages like C/C++.\r\n\r\nSuppose in your source code you have a package named &quot;com.foo.bar&quot;, and within that package you have a class named &quot;MyClass&quot;. At compile time, the location of that class&#39;s source code in the file system must be `{source}/com/foo/bar/MyClass.java`, where `{source}` is the root of the source tree you are compiling.\r\n\r\n**One difference between Java and languages like C/C++ is the concept of a class loader.** In fact, the concept of a class loader is a key part of the Java Virtual Machine&#39;s architecture. The job of the class loader is to locate and load any `class` files your program needs. The &quot;primordial&quot; or &quot;default&quot; Java class loader is usually provided by the JVM. It is a regular class of type [`ClassLoader`](http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html), and contains a method called [`loadClass()`](http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html#loadClass\\(java.lang.String\\)) with the following definition:\r\n\r\n    // Loads the class with the specified name.\r\n    // Example: loadClass(&quot;org.apache.nutch.plugin.Extension&quot;)\r\n    Class loadClass(String name)\r\n\r\nThis `loadClass()` method will attempt to locate the `class` file for the class with given name, and it produces a [`Class`](http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html) object which has a [`newInstance()`](http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html#newInstance\\(\\)) method capable of instantiating the class.\r\n\r\n**Where does the class loader search for the `class` file?** In the JVM&#39;s class path. The class path is simply a list of locations where `class` files can be found. These locations can be directories containing `class` files. It can even contain `jar` files, which can themselves contain even more `class` files. The default class loader is capable of looking inside these `jar` files to search for `class` files. As a side note, you could implement your own class loader to, for example, allow network locations (or any other location) to be searched for `class` files.\r\n\r\nSo, now we know that whether or not &quot;com.foo.bar.MyClass&quot; is in a `class` file in your own source tree or a `class` file inside a `jar` file somewhere in your class path, the class loader will find it for you, if it exists. If it does not exist, you will get a [`ClassNotFoundException`](http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassNotFoundException.html).\r\n\r\n**And now to address the `import` keyword:** I will reference the following example:\r\n\r\n    import com.foo.bar.MyClass;\r\n    \r\n    ...\r\n    \r\n    public void someFunction() {\r\n        MyClass obj1 = new MyClass();\r\n        org.blah.MyClass obj2 = new org.blah.MyClass(&quot;some string argument&quot;);\r\n    }\r\n\r\nThe first line is simply a way to tell the compiler &quot;Whenever you see a variable declared simply as type `MyClass`, assume I mean `com.foo.bar.MyClass`. That is what&#39;s happening in the case of `obj1`. In the case of `obj2`, you are explicitly telling the compiler &quot;I don&#39;t want the class `com.foo.bar.MyClass`, I actually want `org.blah.MyClass`&quot;. So the `import` keyword is just a simple way of cutting down on the amount of typing programmers have to do in order to use other classes. All of the interesting stuff is done in the JVM&#39;s class loader.\r\n\r\nFor more information about exactly what the class loader does, I recommend reading an article called [The Basics of Java Class Loaders](https://www.infoworld.com/article/2077260/learn-java-the-basics-of-java-class-loaders.html)","title":"How is import done in Java?","body":"<p>I think the question you might be trying to ask is, <strong>&quot;What are packages in Java, and how does the <code>import</code> keyword relate to them?&quot;</strong>. Your confusion about directory structures might stem from the fact that some other languages have <code>include</code> directives that use file names to literally include the contents of the specified file in your source code at compile time. C/C++ are examples of languages that use this type of <code>include</code> directive. Java's <code>import</code> keyword does not work this way. As others have said, the <code>import</code> keyword is simply a shorthand way to reference one or more classes in a package. The real work is done by the Java Virtual Machine's class loader (details below).</p>\n<p>Let's start with the definition of a &quot;Java package&quot;, as described in the <a href=\"http://en.wikipedia.org/wiki/Java_package\" rel=\"nofollow noreferrer\">Wikipedia article</a>:</p>\n<blockquote>\n<p>A Java package is a mechanism for\norganizing Java classes into\nnamespaces similar to the modules of\nModula. Java packages can be stored in\ncompressed files called JAR files,\nallowing classes to download faster as\na group rather than one at a time.\nProgrammers also typically use\npackages to organize classes belonging\nto the same category or providing\nsimilar functionality.</p>\n</blockquote>\n<p>In Java, source code files for classes <em>are</em> in fact organized by directories, but the method by which the Java Virtual Machine (JVM) locates the classes is different from languages like C/C++.</p>\n<p>Suppose in your source code you have a package named &quot;com.foo.bar&quot;, and within that package you have a class named &quot;MyClass&quot;. At compile time, the location of that class's source code in the file system must be <code>{source}/com/foo/bar/MyClass.java</code>, where <code>{source}</code> is the root of the source tree you are compiling.</p>\n<p><strong>One difference between Java and languages like C/C++ is the concept of a class loader.</strong> In fact, the concept of a class loader is a key part of the Java Virtual Machine's architecture. The job of the class loader is to locate and load any <code>class</code> files your program needs. The &quot;primordial&quot; or &quot;default&quot; Java class loader is usually provided by the JVM. It is a regular class of type <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\"><code>ClassLoader</code></a>, and contains a method called <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html#loadClass(java.lang.String)\" rel=\"nofollow noreferrer\"><code>loadClass()</code></a> with the following definition:</p>\n<pre><code>// Loads the class with the specified name.\n// Example: loadClass(&quot;org.apache.nutch.plugin.Extension&quot;)\nClass loadClass(String name)\n</code></pre>\n<p>This <code>loadClass()</code> method will attempt to locate the <code>class</code> file for the class with given name, and it produces a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class</code></a> object which has a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html#newInstance()\" rel=\"nofollow noreferrer\"><code>newInstance()</code></a> method capable of instantiating the class.</p>\n<p><strong>Where does the class loader search for the <code>class</code> file?</strong> In the JVM's class path. The class path is simply a list of locations where <code>class</code> files can be found. These locations can be directories containing <code>class</code> files. It can even contain <code>jar</code> files, which can themselves contain even more <code>class</code> files. The default class loader is capable of looking inside these <code>jar</code> files to search for <code>class</code> files. As a side note, you could implement your own class loader to, for example, allow network locations (or any other location) to be searched for <code>class</code> files.</p>\n<p>So, now we know that whether or not &quot;com.foo.bar.MyClass&quot; is in a <code>class</code> file in your own source tree or a <code>class</code> file inside a <code>jar</code> file somewhere in your class path, the class loader will find it for you, if it exists. If it does not exist, you will get a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassNotFoundException.html\" rel=\"nofollow noreferrer\"><code>ClassNotFoundException</code></a>.</p>\n<p><strong>And now to address the <code>import</code> keyword:</strong> I will reference the following example:</p>\n<pre><code>import com.foo.bar.MyClass;\n\n...\n\npublic void someFunction() {\n    MyClass obj1 = new MyClass();\n    org.blah.MyClass obj2 = new org.blah.MyClass(&quot;some string argument&quot;);\n}\n</code></pre>\n<p>The first line is simply a way to tell the compiler &quot;Whenever you see a variable declared simply as type <code>MyClass</code>, assume I mean <code>com.foo.bar.MyClass</code>. That is what's happening in the case of <code>obj1</code>. In the case of <code>obj2</code>, you are explicitly telling the compiler &quot;I don't want the class <code>com.foo.bar.MyClass</code>, I actually want <code>org.blah.MyClass</code>&quot;. So the <code>import</code> keyword is just a simple way of cutting down on the amount of typing programmers have to do in order to use other classes. All of the interesting stuff is done in the JVM's class loader.</p>\n<p>For more information about exactly what the class loader does, I recommend reading an article called <a href=\"https://www.infoworld.com/article/2077260/learn-java-the-basics-of-java-class-loaders.html\" rel=\"nofollow noreferrer\">The Basics of Java Class Loaders</a></p>\n"}],"owner":{"account_id":36460,"reputation":137432,"user_id":104015,"accept_rate":44,"display_name":"omg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25885,"favorite_count":0,"down_vote_count":2,"up_vote_count":27,"answer_count":8,"score":25,"last_activity_date":1651772127,"creation_date":1246138039,"question_id":1053658,"body_markdown":"For instance\r\n\r\n    import org.apache.nutch.plugin.Extension,\r\n\r\nthough used many times,\r\n\r\nI&#39;ve no much idea what is done essentially.\r\n\r\n**EDIT**: Is `org.apache.nutch.plugin` essentially 4 directories or fewer than 4 like a directory named `org.apache`?","title":"How is import done in Java?","body":"<p>For instance</p>\n\n<pre><code>import org.apache.nutch.plugin.Extension,\n</code></pre>\n\n<p>though used many times,</p>\n\n<p>I've no much idea what is done essentially.</p>\n\n<p><strong>EDIT</strong>: Is <code>org.apache.nutch.plugin</code> essentially 4 directories or fewer than 4 like a directory named <code>org.apache</code>?</p>\n"},{"tags":["java","oracle","jms","oracle-aq"],"answers":[{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651771951,"creation_date":1651771951,"answer_id":72131395,"question_id":71718456,"body_markdown":"As far as I know message mutability is not supported by any message provided, and certainly it is not supported by JMS api. \r\n\r\nWhat you can do is to remove that specific message by consuming it with specific JMS selector and sending a new message with a same content and different parameters. \r\n\r\nHowever, this will be horribly slow and it brings to question why are you using messaging at all. The general idea of asynchronous messaging is to fire and forget. If you do need updates don&#39;t use messaging. Given that this is Oracle AQ, maybe you could do it over JDBC? I never used that part of Oracle.\r\n","title":"JMS with Oracle AQ. How to change delay of JMS Message when it&#39;s already in the queue?","body":"<p>As far as I know message mutability is not supported by any message provided, and certainly it is not supported by JMS api.</p>\n<p>What you can do is to remove that specific message by consuming it with specific JMS selector and sending a new message with a same content and different parameters.</p>\n<p>However, this will be horribly slow and it brings to question why are you using messaging at all. The general idea of asynchronous messaging is to fire and forget. If you do need updates don't use messaging. Given that this is Oracle AQ, maybe you could do it over JDBC? I never used that part of Oracle.</p>\n"}],"owner":{"account_id":20671563,"reputation":59,"user_id":15485019,"display_name":"oliaaa_s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651771951,"creation_date":1648910267,"question_id":71718456,"body_markdown":"If is it possible change delay of JMS Message when it&#39;s already in the queue?\r\n\r\nWhen I send message via JMS, I set ```jmsMessage.setIntProperty(&quot;JMS_OracleDelay&quot;, 120)```. Then this jmsMessage appears in sql table operation_queue_table.[![enter image description here][1]][1]\r\n\r\nCan I update delay during these 120 seconds while the message is still in the queue? \r\n\r\nI do this through an sql query\r\n```update operation_queue_table t set t.delay = ? where t.corrid = ?```\r\nBut the message is still in the queue until 120 seconds have elapsed and only then disappears\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L0Wpp.png","title":"JMS with Oracle AQ. How to change delay of JMS Message when it&#39;s already in the queue?","body":"<p>If is it possible change delay of JMS Message when it's already in the queue?</p>\n<p>When I send message via JMS, I set <code>jmsMessage.setIntProperty(&quot;JMS_OracleDelay&quot;, 120)</code>. Then this jmsMessage appears in sql table operation_queue_table.<a href=\"https://i.stack.imgur.com/L0Wpp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L0Wpp.png\" alt=\"enter image description here\" /></a></p>\n<p>Can I update delay during these 120 seconds while the message is still in the queue?</p>\n<p>I do this through an sql query\n<code>update operation_queue_table t set t.delay = ? where t.corrid = ?</code>\nBut the message is still in the queue until 120 seconds have elapsed and only then disappears</p>\n"},{"tags":["java","jvm","javac","jvm-bytecode"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1651706184,"post_id":72120380,"comment_id":127429786,"body_markdown":"Careful. That&#39;s from FORTH. You&#39;re getting into the weeds. `: sumn DUP 1+ * 2/ ;`","body":"Careful. That&#39;s from FORTH. You&#39;re getting into the weeds. <code>: sumn DUP 1+ * 2&#47; ;</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1651714670,"post_id":72120380,"comment_id":127430979,"body_markdown":"You can find out how the instruction is *actually* used within the JVM etc by searching the OpenJDK codebase.  Of course, other programming languages target the JVM platform, and their compilers, etc may emit this bytecode.","body":"You can find out how the instruction is <i>actually</i> used within the JVM etc by searching the OpenJDK codebase.  Of course, other programming languages target the JVM platform, and their compilers, etc may emit this bytecode."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1651771946,"creation_date":1651771129,"answer_id":72131218,"question_id":72120380,"body_markdown":"For example, the following code\r\n\r\n```java\r\npublic static Long example1(Long[] array, int i, long l) {\r\n    return array[i]=l;\r\n}\r\npublic static long example2(long[] array, int i, long l) {\r\n    return array[i]=l;\r\n}\r\n```\r\n\r\ncompiles to\r\n\r\n```none\r\n  public static java.lang.Long example1(java.lang.Long[], int, long);\r\n    Code:\r\n       0: aload_0\r\n       1: iload_1\r\n       2: lload_2\r\n       3: invokestatic  #1        // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;\r\n       6: dup_x2\r\n       7: aastore\r\n       8: areturn\r\n\r\n  public static long example2(long[], int, long);\r\n    Code:\r\n       0: aload_0\r\n       1: iload_1\r\n       2: lload_2\r\n       3: dup2_x2\r\n       4: lastore\r\n       5: lreturn\r\n```\r\n\r\nSee, [demo on Ideone](https://ideone.com/Djif5W)\r\n","title":"What is the use of the &quot;dup2_x2&quot; instruction in JVM bytecode?","body":"<p>For example, the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Long example1(Long[] array, int i, long l) {\n    return array[i]=l;\n}\npublic static long example2(long[] array, int i, long l) {\n    return array[i]=l;\n}\n</code></pre>\n<p>compiles to</p>\n<pre class=\"lang-none prettyprint-override\"><code>  public static java.lang.Long example1(java.lang.Long[], int, long);\n    Code:\n       0: aload_0\n       1: iload_1\n       2: lload_2\n       3: invokestatic  #1        // Method java/lang/Long.valueOf:(J)Ljava/lang/Long;\n       6: dup_x2\n       7: aastore\n       8: areturn\n\n  public static long example2(long[], int, long);\n    Code:\n       0: aload_0\n       1: iload_1\n       2: lload_2\n       3: dup2_x2\n       4: lastore\n       5: lreturn\n</code></pre>\n<p>See, <a href=\"https://ideone.com/Djif5W\" rel=\"nofollow noreferrer\">demo on Ideone</a></p>\n"}],"owner":{"account_id":10699736,"reputation":133,"user_id":7875532,"display_name":"fxshlein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72131218,"answer_count":1,"score":3,"last_activity_date":1651771946,"creation_date":1651705991,"question_id":72120380,"body_markdown":"Java has a `dup2_x2` instruction which, according to the [documentation][1], has the following behavior:\r\n\r\n&gt; Duplicate the top one or two values on the operand stack and insert the duplicated values, in the original order, into the operand stack.\r\n\r\nDoes `javac` produce bytecode with this instruction? What are its potential use cases?\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-6.html#jvms-6.5.dup2_x2","title":"What is the use of the &quot;dup2_x2&quot; instruction in JVM bytecode?","body":"<p>Java has a <code>dup2_x2</code> instruction which, according to the <a href=\"https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-6.html#jvms-6.5.dup2_x2\" rel=\"nofollow noreferrer\">documentation</a>, has the following behavior:</p>\n<blockquote>\n<p>Duplicate the top one or two values on the operand stack and insert the duplicated values, in the original order, into the operand stack.</p>\n</blockquote>\n<p>Does <code>javac</code> produce bytecode with this instruction? What are its potential use cases?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1651772072,"post_id":72131374,"comment_id":127448534,"body_markdown":"Which line in the code shown produces that error?  Is it `Book.getPages()`?  Where do you define the variable `Book`?  If it&#39;s a class name and not a variable instance, that&#39;s the problem.  Semantically, one would get the number of pages from a specific &quot;book&quot;, not from the concept of a &quot;book&quot;.","body":"Which line in the code shown produces that error?  Is it <code>Book.getPages()</code>?  Where do you define the variable <code>Book</code>?  If it&#39;s a class name and not a variable instance, that&#39;s the problem.  Semantically, one would get the number of pages from a specific &quot;book&quot;, not from the concept of a &quot;book&quot;."},{"owner":{"account_id":5561757,"reputation":3096,"user_id":4410674,"display_name":"Nick Bailey"},"score":0,"creation_date":1651772138,"post_id":72131374,"comment_id":127448561,"body_markdown":"Does this answer your question: https://stackoverflow.com/questions/11993077/difference-between-static-methods-and-instance-methods","body":"Does this answer your question: <a href=\"https://stackoverflow.com/questions/11993077/difference-between-static-methods-and-instance-methods\" title=\"difference between static methods and instance methods\">stackoverflow.com/questions/11993077/&hellip;</a>"}],"owner":{"account_id":24721449,"reputation":1,"user_id":18610468,"display_name":"lakes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651772551,"answer_count":0,"score":0,"last_activity_date":1651771854,"creation_date":1651771854,"question_id":72131374,"body_markdown":"Whenever I try to call a non static method, I always get the error &quot;Non-static method cannot be referenced from a static context&quot;. \r\nAnyways this can be solved?\r\n\r\n```public int getPages(){\r\n\t\t\r\n\t\tint pages; \r\n\t\t\r\n\t\tpages = content.length()/ 700; \r\n\t\t\r\n\t\tif (content.length()%700!= 0) { \r\n\t\t\tpages = pages+1;\r\n\t\t}\r\n\t\treturn pages;\r\n\t\t\r\n\t} ```\r\n```public double getPrice(int index){\r\n\t\t\r\n\t\tdouble price = 0;\r\n\t\tint pages = Book.getPages();\r\n\t\t\r\n\t\tif (index == 0){\r\n\t\t\tthrow new IndexOutOfBoundsException();\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t price = (locationFactor * ()); \r\n\t\t\t \r\n\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\treturn price;\r\n\t}```\r\n","title":"Can I use a non-static method in another non static method?","body":"<p>Whenever I try to call a non static method, I always get the error &quot;Non-static method cannot be referenced from a static context&quot;.\nAnyways this can be solved?</p>\n<pre><code>        \n        int pages; \n        \n        pages = content.length()/ 700; \n        \n        if (content.length()%700!= 0) { \n            pages = pages+1;\n        }\n        return pages;\n        \n    } ```\n```public double getPrice(int index){\n        \n        double price = 0;\n        int pages = Book.getPages();\n        \n        if (index == 0){\n            throw new IndexOutOfBoundsException();\n            \n        }\n        else {\n             price = (locationFactor * ()); \n             \n        }\n            \n            \n            \n        \n        return price;\n    }```\n</code></pre>\n"},{"tags":["javascript","java","mysql","angular","phpmyadmin"],"answers":[{"tags":[],"owner":{"account_id":1637117,"reputation":467,"user_id":1510309,"display_name":"Kip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651771657,"creation_date":1651771657,"answer_id":72131333,"question_id":72116453,"body_markdown":"Open your PHPMyAdmin, don&#39;t select any database and look for Binary Log tab . You can select different logs from a drop down list and press GO Button to view them.\r\n\r\nDuplicated question: https://stackoverflow.com/questions/3039799/where-can-i-find-mysql-logs-in-phpmyadmin","title":"How to check the Phpmyadmin logs?","body":"<p>Open your PHPMyAdmin, don't select any database and look for Binary Log tab . You can select different logs from a drop down list and press GO Button to view them.</p>\n<p>Duplicated question: <a href=\"https://stackoverflow.com/questions/3039799/where-can-i-find-mysql-logs-in-phpmyadmin\">Where can I find MySQL logs in phpMyAdmin?</a></p>\n"}],"owner":{"account_id":25195689,"reputation":1,"user_id":19035266,"display_name":"Jayanthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2038,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1670352078,"answer_count":1,"score":-1,"last_activity_date":1651771657,"creation_date":1651681928,"question_id":72116453,"body_markdown":"In Phpmyadmin \r\n1. is there any possible to check the logs (error logs, process log) ?? Except the console - history option\r\n2. What changes done recently in the table or database and who has done the change??\r\n","title":"How to check the Phpmyadmin logs?","body":"<p>In Phpmyadmin</p>\n<ol>\n<li>is there any possible to check the logs (error logs, process log) ?? Except the console - history option</li>\n<li>What changes done recently in the table or database and who has done the change??</li>\n</ol>\n"},{"tags":["java","eclipse","compiler-errors","package"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1651771166,"post_id":72130058,"comment_id":127448229,"body_markdown":"The red exclamation mark indicates that there are problems with your project configuration. Your screenshot shows that you are using a pretty outdated Eclipse. Using the current Eclipse with an embedded Java would probably be the solution, or at least part of the solution.","body":"The red exclamation mark indicates that there are problems with your project configuration. Your screenshot shows that you are using a pretty outdated Eclipse. Using the current Eclipse with an embedded Java would probably be the solution, or at least part of the solution."},{"owner":{"account_id":5030334,"reputation":1521,"user_id":4040743,"accept_rate":77,"display_name":"Pete"},"score":0,"creation_date":1651771351,"post_id":72130058,"comment_id":127448290,"body_markdown":"@howlger Innnnnnnnnnteresting!  I am using Eclipse Version: 2018-12 (4.10.0), which I assumed was pretty recent.  I&#39;ll edit the original post to include that information, thanks!","body":"@howlger Innnnnnnnnnteresting!  I am using Eclipse Version: 2018-12 (4.10.0), which I assumed was pretty recent.  I&#39;ll edit the original post to include that information, thanks!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1651771594,"post_id":72130058,"comment_id":127448367,"body_markdown":"2018-12 (4.10.0) is more than three years and 13 releases behind. It&#39;s too old to be able to understand more recent Java versions.","body":"2018-12 (4.10.0) is more than three years and 13 releases behind. It&#39;s too old to be able to understand more recent Java versions."},{"owner":{"account_id":5030334,"reputation":1521,"user_id":4040743,"accept_rate":77,"display_name":"Pete"},"score":0,"creation_date":1651774470,"post_id":72130058,"comment_id":127449332,"body_markdown":"@howlger Good point, thank you!  So I wrote the original code in 2017, on what was the latest version of Eclipse at the time.  Do you think its na&#239;ve to suppose that Eclipse 2018 should automatically be able to support 2017 code?  No wrong answers, I&#39;m interested in your general impression.  Thanks!","body":"@howlger Good point, thank you!  So I wrote the original code in 2017, on what was the latest version of Eclipse at the time.  Do you think its na&#239;ve to suppose that Eclipse 2018 should automatically be able to support 2017 code?  No wrong answers, I&#39;m interested in your general impression.  Thanks!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1651816033,"post_id":72130058,"comment_id":127457685,"body_markdown":"Since Java 9 there is no 100% backwards compatibility due things were removed from the system library, also JavaFX. So you either have to install a Java 8 JDK (from e.g. https://adoptium.net/) and configure it in the preferences _Java &gt; Installed JREs_ or add JavaFX as a dependency (see https://openjfx.io/).","body":"Since Java 9 there is no 100% backwards compatibility due things were removed from the system library, also JavaFX. So you either have to install a Java 8 JDK (from e.g. <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">adoptium.net</a>) and configure it in the preferences <i>Java &gt; Installed JREs</i> or add JavaFX as a dependency (see <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">openjfx.io</a>)."}],"owner":{"account_id":5030334,"reputation":1521,"user_id":4040743,"accept_rate":77,"display_name":"Pete"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651771408,"creation_date":1651765674,"question_id":72130058,"body_markdown":"I have what is probably a stupid question... but here goes anyway.  Some years back, I wrote a &quot;Star Trek&quot; game in Java 8, using JavaFX and Eclipse IDE.  The project grew to be fairly large, but it worked.  When I finished, I made sure to export the project using Eclipse&#39;s `File --&gt; Export` menu.\r\n\r\nI recently grew nostalgic and decided to import the &quot;Trek&quot; project into Eclipse on my current laptop.  (The original laptop died.)  FYI, my current version of Eclipse is Version: 2018-12 (4.10.0), which I thought was pretty recent.\r\n\r\nThe project imported just fine, but Eclipse seems mystified by everything in it.  For example, when I try to compile and run the project, this error comes up immediately:\r\n\r\n    Error: Could not find or load main class gameEngine.MainEventTrek\r\n    Caused by: java.lang.ClassNotFoundException: gameEngine.MainEventTrek\r\n\r\n`gameEngine.MainEventTrek` contains the project&#39;s `main()` method.  Eclipse can&#39;t find it???  But the java file is right there, right in the project&#39;s `src` directory:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThat&#39;s not all.  When I open the Java files, Eclipse seems ignorant of how to import common packages:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nLook at that; Even line 1 has an error!  (`&quot;The type java.lang.String cannot be resolved. It is indirectly referenced from required .class files&quot;`)  I can understand that Eclipse might not know about JavaFX - I can&#39;t remember if I installed it - but Eclipse doesn&#39;t seem to know about common packages like `java.math` and `java.util`.  Heck, later in my code, Eclipse doesn&#39;t know what the `System` package is, so all my `System.out.println()` commands are now throwing errors.\r\n\r\nI&#39;m a fairly good Java coder, but I&#39;m pretty stupid when it comes to resolving basic compiler issues like this.  Does anyone have any idea what the issue might be and how I go about fixing this?  Thanks... and Live Long and Prosper.\r\n\r\n  [1]: https://i.stack.imgur.com/lmfSE.png\r\n  [2]: https://i.stack.imgur.com/Aof54.png","title":"Java &amp; Eclipse :: Eclipse Doesn&#39;t Recognize Common Packages in an Imported Project","body":"<p>I have what is probably a stupid question... but here goes anyway.  Some years back, I wrote a &quot;Star Trek&quot; game in Java 8, using JavaFX and Eclipse IDE.  The project grew to be fairly large, but it worked.  When I finished, I made sure to export the project using Eclipse's <code>File --&gt; Export</code> menu.</p>\n<p>I recently grew nostalgic and decided to import the &quot;Trek&quot; project into Eclipse on my current laptop.  (The original laptop died.)  FYI, my current version of Eclipse is Version: 2018-12 (4.10.0), which I thought was pretty recent.</p>\n<p>The project imported just fine, but Eclipse seems mystified by everything in it.  For example, when I try to compile and run the project, this error comes up immediately:</p>\n<pre><code>Error: Could not find or load main class gameEngine.MainEventTrek\nCaused by: java.lang.ClassNotFoundException: gameEngine.MainEventTrek\n</code></pre>\n<p><code>gameEngine.MainEventTrek</code> contains the project's <code>main()</code> method.  Eclipse can't find it???  But the java file is right there, right in the project's <code>src</code> directory:</p>\n<p><a href=\"https://i.stack.imgur.com/lmfSE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lmfSE.png\" alt=\"enter image description here\" /></a></p>\n<p>That's not all.  When I open the Java files, Eclipse seems ignorant of how to import common packages:</p>\n<p><a href=\"https://i.stack.imgur.com/Aof54.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aof54.png\" alt=\"enter image description here\" /></a></p>\n<p>Look at that; Even line 1 has an error!  (<code>&quot;The type java.lang.String cannot be resolved. It is indirectly referenced from required .class files&quot;</code>)  I can understand that Eclipse might not know about JavaFX - I can't remember if I installed it - but Eclipse doesn't seem to know about common packages like <code>java.math</code> and <code>java.util</code>.  Heck, later in my code, Eclipse doesn't know what the <code>System</code> package is, so all my <code>System.out.println()</code> commands are now throwing errors.</p>\n<p>I'm a fairly good Java coder, but I'm pretty stupid when it comes to resolving basic compiler issues like this.  Does anyone have any idea what the issue might be and how I go about fixing this?  Thanks... and Live Long and Prosper.</p>\n"},{"tags":["java","maven","nexus"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1651771042,"post_id":72130944,"comment_id":127448187,"body_markdown":"Please edit your question to add some of the console output preceding the **Downloading** message, so we see what plugin was executing.","body":"Please edit your question to add some of the console output preceding the <b>Downloading</b> message, so we see what plugin was executing."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1651771176,"post_id":72130944,"comment_id":127448234,"body_markdown":"The problem with that is that there is no plugin executing. I&#39;ll update it with more text, but this happens before it starts executing any plugins.","body":"The problem with that is that there is no plugin executing. I&#39;ll update it with more text, but this happens before it starts executing any plugins."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1651772066,"post_id":72130944,"comment_id":127448531,"body_markdown":"Can you post the result of `mvn dependency:tree` for that project, so we can be sure you actually excluded it like you expect? Effective POM wouldn&#39;t show it, and I don&#39;t trust Eclipse.","body":"Can you post the result of <code>mvn dependency:tree</code> for that project, so we can be sure you actually excluded it like you expect? Effective POM wouldn&#39;t show it, and I don&#39;t trust Eclipse."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1651772216,"post_id":72130944,"comment_id":127448584,"body_markdown":"That&#39;s sort of difficult, as it fails with the same error as compiling, so it never produces that. Looking at other options.","body":"That&#39;s sort of difficult, as it fails with the same error as compiling, so it never produces that. Looking at other options."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1651772300,"post_id":72130944,"comment_id":127448615,"body_markdown":"@DavidM.Karr You could dump log4j (or any old jar, for that matter) into your .m2, so Maven won&#39;t bother to go to Nexus for it. As a temporary hack to get dependency:tree to work, I mean.","body":"@DavidM.Karr You could dump log4j (or any old jar, for that matter) into your .m2, so Maven won&#39;t bother to go to Nexus for it. As a temporary hack to get dependency:tree to work, I mean."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1651772667,"post_id":72130944,"comment_id":127448734,"body_markdown":"Tangent: I&#39;m not even sure your current strategy of excluding from every single dependency is sustainable or desirable anyway. Can&#39;t you just override log4j in dependencyManagement of your corporate POM to use the most recent version? You only need to do that once.","body":"Tangent: I&#39;m not even sure your current strategy of excluding from every single dependency is sustainable or desirable anyway. Can&#39;t you just override log4j in dependencyManagement of your corporate POM to use the most recent version? You only need to do that once."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1651772992,"post_id":72130944,"comment_id":127448826,"body_markdown":"Well, I&#39;m not trying to specify a particular version of it, I&#39;m trying to exclude it entirely.","body":"Well, I&#39;m not trying to specify a particular version of it, I&#39;m trying to exclude it entirely."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651771372,"creation_date":1651769681,"question_id":72130944,"body_markdown":"We have a large set of Java Maven services.  We use Nexus for our intranet repository, and that is managed by another team in our large enterprise.\r\n\r\nOur internal Nexus recently started quarantining GAVs that are covered by high-severity CVEs.  That has uncovered some issues we weren&#39;t aware of, but it also showed issues that we were already aware of, and which we had dealt with in different ways.  It&#39;s one of these issues that I&#39;m having a particular problem with.\r\n\r\nFor instance, we now know that log4j:log4j:1.2.17 is quarantined.  We had already configured all of the components that have this as a transitive dependency to not use that at runtime.  Now we have to exclude that artifact to be certain.  I&#39;m ok with doing that, but I&#39;m seeing particular problems doing that.\r\n\r\nAll of our services reference a parent pom that my team maintains.  That parent pom specifies many of the dependencies used by all services, and in that parent pom, for the two artifacts we specify that have log4j as a transitive dependency, I added &quot;exclusion&quot; blocks for that artifact.  I tested this from some command-line builds, and this gets through the &quot;compile&quot; goal successfully without a quarantine error.  I also verified from the &quot;Dependency Management&quot; tab in Eclipse m2e that log4j is not listed in the &quot;Dependency Hierarchy&quot; pane, so it doesn&#39;t consider it a dependency. I also looked at the &quot;Effective POM&quot; view and searched for the log4j artifact, and it is ONLY present in exclusion blocks. I was able to run &quot;mvn help:effective-pom&quot; to get the same results.\r\n\r\nHowever, my results with builds have been different.  In one project, if I just do &quot;mvn compile&quot;, I still see this:\r\n\r\n\t[WARNING] \r\n\t[WARNING] Some problems were encountered while building the effective settings\r\n\t[WARNING] Unrecognised tag: &#39;updatepolicy&#39; (position: START_TAG seen ...&lt;/enabled&gt;\\n\\t\\t\\t&lt;updatepolicy&gt;... @171:18)  @ C:\\...\\.m2\\settings.xml, line 171, column 18\r\n\t[WARNING] \r\n\t[INFO] Scanning for projects...\r\n\t[INFO] \r\n\t[INFO] -----------------&lt; ... &gt;-----------------\r\n\t[INFO] Building ... 0.0.2\r\n\t[INFO] --------------------------------[ jar ]---------------------------------\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-shutdown-jersey/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-shutdown-jersey/maven-metadata.xml (591 B at 232 B/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-shutdown-core/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-shutdown-core/maven-metadata.xml (589 B at 926 B/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-shutdown-actuator/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-shutdown-actuator/maven-metadata.xml (593 B at 628 B/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../rest-api-client/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../rest-api-client/maven-metadata.xml (970 B at 1.0 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-context-core/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-context-core/maven-metadata.xml (541 B at 1.1 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-logging-core/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-logging-core/maven-metadata.xml (563 B at 927 B/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../junit/junit-dep/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../junit/junit-dep/maven-metadata.xml (877 B at 1.5 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../junit/junit-dep/4.9.1-SNAPSHOT/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../junit/junit-dep/4.9.1-SNAPSHOT/maven-metadata.xml (764 B at 1.1 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-voltage-decrypt/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-voltage-decrypt/maven-metadata.xml (634 B at 1.1 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-voltage-encrypt/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-voltage-encrypt/maven-metadata.xml (665 B at 1.1 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../soap-api-client/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../soap-api-client/maven-metadata.xml (531 B at 794 B/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-common-utility/1.0.0-SNAPSHOT/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-common-utility/1.0.0-SNAPSHOT/maven-metadata.xml (782 B at 1.2 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-seed-sdk-core/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-seed-sdk-core/maven-metadata.xml (560 B at 655 B/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../feature-toggle-web/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../feature-toggle-web/maven-metadata.xml (776 B at 1.0 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-i18n/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-i18n/maven-metadata.xml (684 B at 1.2 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../api-inbound-logging-interceptor/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../api-inbound-logging-interceptor/maven-metadata.xml (790 B at 1.2 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-health/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-health/maven-metadata.xml (728 B at 321 B/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-aaf/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-aaf/maven-metadata.xml (869 B at 1.1 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-config/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-config/maven-metadata.xml (697 B at 1.3 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../.../idp-config/2.6.1-SNAPSHOT/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../.../idp-config/2.6.1-SNAPSHOT/maven-metadata.xml (771 B at 942 B/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../com/google/guava/guava/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../com/google/guava/guava/maven-metadata.xml (5.3 kB at 2.5 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../com/google/guava/guava/24.0-SNAPSHOT/maven-metadata.xml\r\n\tDownloading from nexus: .../nexus/content/groups/.../com/google/guava/guava-parent/24.0-SNAPSHOT/maven-metadata.xml\r\n\tDownloaded from nexus: .../nexus/content/groups/.../com/google/guava/guava-parent/24.0-SNAPSHOT/maven-metadata.xml (605 B at 1.1 kB/s)\r\n\tDownloading from nexus: .../nexus/content/groups/.../log4j/log4j/1.2.17/log4j-1.2.17.jar\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] BUILD FAILURE\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[INFO] Total time:  31.816 s\r\n\t[INFO] Finished at: 2022-05-05T09:46:51-07:00\r\n\t[INFO] ------------------------------------------------------------------------\r\n\t[ERROR] Failed to execute goal on project ...: Could not resolve dependencies for project ...:jar:0.0.2: Could not transfer artifact log4j:log4j:jar:1.2.17 from/to nexus (.../nexus/content/groups/...): authorization failed for .../nexus/content/groups/.../log4j/log4j/1.2.17/log4j-1.2.17.jar, status: 403 --------------------&gt;&gt;&gt; REQUESTED ITEM IS QUARANTINED --------------------&gt;&gt;&gt; FOR DETAILS SEE ------&gt;&gt;&gt; .../ui/links/repository/0569741ae2364aa5a5946f11aecf5477/result &lt;&lt;&lt;------ -&gt; [Help 1]\r\n\t[ERROR] \r\n\t[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\t[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\t[ERROR] \r\n\t[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n\t[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n\r\nSo it appears that even though I am fully excluding the artifact, Maven still attempts to download at least the metadata about the artifact, which fails, and fails the build.\r\n\r\nWhat can I do to mitigate this problem?","title":"How to deal with &quot;quarantine&quot; errors for maven artifacts that are fully excluded","body":"<p>We have a large set of Java Maven services.  We use Nexus for our intranet repository, and that is managed by another team in our large enterprise.</p>\n<p>Our internal Nexus recently started quarantining GAVs that are covered by high-severity CVEs.  That has uncovered some issues we weren't aware of, but it also showed issues that we were already aware of, and which we had dealt with in different ways.  It's one of these issues that I'm having a particular problem with.</p>\n<p>For instance, we now know that log4j:log4j:1.2.17 is quarantined.  We had already configured all of the components that have this as a transitive dependency to not use that at runtime.  Now we have to exclude that artifact to be certain.  I'm ok with doing that, but I'm seeing particular problems doing that.</p>\n<p>All of our services reference a parent pom that my team maintains.  That parent pom specifies many of the dependencies used by all services, and in that parent pom, for the two artifacts we specify that have log4j as a transitive dependency, I added &quot;exclusion&quot; blocks for that artifact.  I tested this from some command-line builds, and this gets through the &quot;compile&quot; goal successfully without a quarantine error.  I also verified from the &quot;Dependency Management&quot; tab in Eclipse m2e that log4j is not listed in the &quot;Dependency Hierarchy&quot; pane, so it doesn't consider it a dependency. I also looked at the &quot;Effective POM&quot; view and searched for the log4j artifact, and it is ONLY present in exclusion blocks. I was able to run &quot;mvn help:effective-pom&quot; to get the same results.</p>\n<p>However, my results with builds have been different.  In one project, if I just do &quot;mvn compile&quot;, I still see this:</p>\n<pre><code>[WARNING] \n[WARNING] Some problems were encountered while building the effective settings\n[WARNING] Unrecognised tag: 'updatepolicy' (position: START_TAG seen ...&lt;/enabled&gt;\\n\\t\\t\\t&lt;updatepolicy&gt;... @171:18)  @ C:\\...\\.m2\\settings.xml, line 171, column 18\n[WARNING] \n[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------&lt; ... &gt;-----------------\n[INFO] Building ... 0.0.2\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from nexus: .../nexus/content/groups/.../.../idp-shutdown-jersey/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-shutdown-jersey/maven-metadata.xml (591 B at 232 B/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-shutdown-core/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-shutdown-core/maven-metadata.xml (589 B at 926 B/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-shutdown-actuator/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-shutdown-actuator/maven-metadata.xml (593 B at 628 B/s)\nDownloading from nexus: .../nexus/content/groups/.../.../rest-api-client/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../rest-api-client/maven-metadata.xml (970 B at 1.0 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-context-core/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-context-core/maven-metadata.xml (541 B at 1.1 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-logging-core/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-logging-core/maven-metadata.xml (563 B at 927 B/s)\nDownloading from nexus: .../nexus/content/groups/.../junit/junit-dep/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../junit/junit-dep/maven-metadata.xml (877 B at 1.5 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../junit/junit-dep/4.9.1-SNAPSHOT/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../junit/junit-dep/4.9.1-SNAPSHOT/maven-metadata.xml (764 B at 1.1 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-voltage-decrypt/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-voltage-decrypt/maven-metadata.xml (634 B at 1.1 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-voltage-encrypt/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-voltage-encrypt/maven-metadata.xml (665 B at 1.1 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../soap-api-client/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../soap-api-client/maven-metadata.xml (531 B at 794 B/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-common-utility/1.0.0-SNAPSHOT/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-common-utility/1.0.0-SNAPSHOT/maven-metadata.xml (782 B at 1.2 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-seed-sdk-core/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-seed-sdk-core/maven-metadata.xml (560 B at 655 B/s)\nDownloading from nexus: .../nexus/content/groups/.../.../feature-toggle-web/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../feature-toggle-web/maven-metadata.xml (776 B at 1.0 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-i18n/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-i18n/maven-metadata.xml (684 B at 1.2 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../api-inbound-logging-interceptor/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../api-inbound-logging-interceptor/maven-metadata.xml (790 B at 1.2 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-health/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-health/maven-metadata.xml (728 B at 321 B/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-aaf/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-aaf/maven-metadata.xml (869 B at 1.1 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-config/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-config/maven-metadata.xml (697 B at 1.3 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../.../idp-config/2.6.1-SNAPSHOT/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../.../idp-config/2.6.1-SNAPSHOT/maven-metadata.xml (771 B at 942 B/s)\nDownloading from nexus: .../nexus/content/groups/.../com/google/guava/guava/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../com/google/guava/guava/maven-metadata.xml (5.3 kB at 2.5 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../com/google/guava/guava/24.0-SNAPSHOT/maven-metadata.xml\nDownloading from nexus: .../nexus/content/groups/.../com/google/guava/guava-parent/24.0-SNAPSHOT/maven-metadata.xml\nDownloaded from nexus: .../nexus/content/groups/.../com/google/guava/guava-parent/24.0-SNAPSHOT/maven-metadata.xml (605 B at 1.1 kB/s)\nDownloading from nexus: .../nexus/content/groups/.../log4j/log4j/1.2.17/log4j-1.2.17.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  31.816 s\n[INFO] Finished at: 2022-05-05T09:46:51-07:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project ...: Could not resolve dependencies for project ...:jar:0.0.2: Could not transfer artifact log4j:log4j:jar:1.2.17 from/to nexus (.../nexus/content/groups/...): authorization failed for .../nexus/content/groups/.../log4j/log4j/1.2.17/log4j-1.2.17.jar, status: 403 --------------------&gt;&gt;&gt; REQUESTED ITEM IS QUARANTINED --------------------&gt;&gt;&gt; FOR DETAILS SEE ------&gt;&gt;&gt; .../ui/links/repository/0569741ae2364aa5a5946f11aecf5477/result &lt;&lt;&lt;------ -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n<p>So it appears that even though I am fully excluding the artifact, Maven still attempts to download at least the metadata about the artifact, which fails, and fails the build.</p>\n<p>What can I do to mitigate this problem?</p>\n"},{"tags":["java","spring","unit-testing","dbunit"],"answers":[{"tags":[],"owner":{"account_id":17265810,"reputation":579,"user_id":12502554,"display_name":"royka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651771256,"creation_date":1651771256,"answer_id":72131249,"question_id":72048676,"body_markdown":"I overcame this by specifying a DataSourceInitializer Bean which runs a sql file for setting up tables:\r\n\r\n```java\r\n@Configuration\r\npublic class RepoNativeQueryDataSourceInitializer {\r\n\r\n    @Bean\r\n    public DataSourceInitializer dataSourceInitializer(final DataSource dataSource) {\r\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/schemas/schema.sql&quot;));\r\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\r\n        dataSourceInitializer.setDataSource(dataSource);\r\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\r\n        return dataSourceInitializer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn the referenced SQL File (`src/test/resources/schemas/schema.sql`) I also attempt to delete the tables first in-case they were already created by JPA/Hibernate. This also let me get rid of any constraints which I didn&#39;t want to deal with: \r\n\r\n```SQL\r\ndrop table if exists EXAMPLE_TABLE;\r\ncreate table EXAMPLE_TABLE\r\n(\r\n    EXAMPLE_TABLE_ID                 NUMBER(20),\r\n)\r\n\r\n...\r\n```\r\n\r\n\r\nMy final test class configuration ended up looking like this:\r\n\r\n```java\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\n@SpringBootTest\r\n@ContextConfiguration(classes = {Application.class, RepoTestApplication.class, RepoNativeQueryDataSourceInitializer.class})\r\n@TestExecutionListeners({DbUnitTestExecutionListener.class, DependencyInjectionTestExecutionListener.class})\r\n@TestPropertySource(properties = {&quot;spring.jpa.properties.hibernate.show_sql=true&quot;, &quot;server.port=8445&quot;})\r\n@DatabaseSetup(&quot;classpath:datasets/AllMyDataForTheTests.xml&quot;)\r\npublic class StuffRepositoryTest {\r\n\r\n    @Autowired\r\n    StuffRepository stuffRepository;\r\n\r\n    ...\r\n}\r\n```","title":"Use DBUnit in Spring without defined entities via &quot;nativequery&quot;","body":"<p>I overcame this by specifying a DataSourceInitializer Bean which runs a sql file for setting up tables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RepoNativeQueryDataSourceInitializer {\n\n    @Bean\n    public DataSourceInitializer dataSourceInitializer(final DataSource dataSource) {\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/schemas/schema.sql&quot;));\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\n        dataSourceInitializer.setDataSource(dataSource);\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\n        return dataSourceInitializer;\n    }\n\n}\n</code></pre>\n<p>In the referenced SQL File (<code>src/test/resources/schemas/schema.sql</code>) I also attempt to delete the tables first in-case they were already created by JPA/Hibernate. This also let me get rid of any constraints which I didn't want to deal with:</p>\n<pre><code>drop table if exists EXAMPLE_TABLE;\ncreate table EXAMPLE_TABLE\n(\n    EXAMPLE_TABLE_ID                 NUMBER(20),\n)\n\n...\n</code></pre>\n<p>My final test class configuration ended up looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest\n@ContextConfiguration(classes = {Application.class, RepoTestApplication.class, RepoNativeQueryDataSourceInitializer.class})\n@TestExecutionListeners({DbUnitTestExecutionListener.class, DependencyInjectionTestExecutionListener.class})\n@TestPropertySource(properties = {&quot;spring.jpa.properties.hibernate.show_sql=true&quot;, &quot;server.port=8445&quot;})\n@DatabaseSetup(&quot;classpath:datasets/AllMyDataForTheTests.xml&quot;)\npublic class StuffRepositoryTest {\n\n    @Autowired\n    StuffRepository stuffRepository;\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":17265810,"reputation":579,"user_id":12502554,"display_name":"royka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651771256,"creation_date":1651170719,"question_id":72048676,"body_markdown":"I am trying to use DBunit while testing a Spring controller. The tests fail to initialize because my dataset contains tables/columns which are not defined by an entity.\r\n\r\nThe queries are defined with the `nativeQuery = true` flag so I wouldn&#39;t expect things to go awry:\r\n```java\r\n@Query(value = &quot;select * from TEST_TABLE where TEST_COLUMN = &#39;2&#39;&quot;;, nativeQuery = true)\r\nTestClass getTestClass();\r\n```\r\n\r\nThe Dataset.xml file:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;dataset&gt;\r\n    &lt;TEST_TABLE TEST_COLUMN=&quot;2&quot;/&gt;\r\n&lt;/dataset&gt;\r\n```\r\n\r\nThe Test Class:\r\n```java\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ContextConfiguration(classes = {Application.class, RepoTestApplication.class})\r\n@SpringBootTest(classes = MockServletContext.class)\r\n@TestPropertySource(properties = {&quot;server.port=8444&quot;,&quot;hibernate.hbm2ddl.auto=create-drop&quot;})\r\n@WebAppConfiguration\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS)\r\n@TestExecutionListeners({DbUnitTestExecutionListener.class, DependencyInjectionTestExecutionListener.class,\r\n        DirtiesContextBeforeModesTestExecutionListener.class})\r\n@DatabaseSetup(&quot;classpath:datasets/Dataset.xml&quot;)\r\npublic class TestClassTest { ... }\r\n```\r\n\r\nThe referenced &quot;RepoTestApplication.class&quot;:\r\n```java\r\n@Configuration\r\n@EnableJpaRepositories\r\npublic class RepoTestApplication {\r\n    \r\n    @Bean\r\n    public DataSource dataSource() {\r\n        SimpleDriverDataSource dataSource = new SimpleDriverDataSource();\r\n        dataSource.setDriverClass(org.h2.Driver.class);\r\n        dataSource.setUrl(&quot;jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&quot;);\r\n        dataSource.setUsername(&quot;sa&quot;);\r\n        return dataSource;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe Error:\r\n```\r\norg.dbunit.dataset.NoSuchTableException: APP_VER\r\n\tat org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:305)\r\n    ...\r\n\r\n```\r\n\r\nIt seems like the table doesn&#39;t create itself, even though I added the property &quot;hibernate.hbm2ddl.auto=create-drop&quot;. Interestingly, I don&#39;t get this issue if the dataset references a table which is defined by an entity like:\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class UserRecord { ... }\r\n```","title":"Use DBUnit in Spring without defined entities via &quot;nativequery&quot;","body":"<p>I am trying to use DBunit while testing a Spring controller. The tests fail to initialize because my dataset contains tables/columns which are not defined by an entity.</p>\n<p>The queries are defined with the <code>nativeQuery = true</code> flag so I wouldn't expect things to go awry:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;select * from TEST_TABLE where TEST_COLUMN = '2'&quot;;, nativeQuery = true)\nTestClass getTestClass();\n</code></pre>\n<p>The Dataset.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;dataset&gt;\n    &lt;TEST_TABLE TEST_COLUMN=&quot;2&quot;/&gt;\n&lt;/dataset&gt;\n</code></pre>\n<p>The Test Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ActiveProfiles(&quot;test&quot;)\n@ContextConfiguration(classes = {Application.class, RepoTestApplication.class})\n@SpringBootTest(classes = MockServletContext.class)\n@TestPropertySource(properties = {&quot;server.port=8444&quot;,&quot;hibernate.hbm2ddl.auto=create-drop&quot;})\n@WebAppConfiguration\n@DirtiesContext(classMode = DirtiesContext.ClassMode.BEFORE_CLASS)\n@TestExecutionListeners({DbUnitTestExecutionListener.class, DependencyInjectionTestExecutionListener.class,\n        DirtiesContextBeforeModesTestExecutionListener.class})\n@DatabaseSetup(&quot;classpath:datasets/Dataset.xml&quot;)\npublic class TestClassTest { ... }\n</code></pre>\n<p>The referenced &quot;RepoTestApplication.class&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJpaRepositories\npublic class RepoTestApplication {\n    \n    @Bean\n    public DataSource dataSource() {\n        SimpleDriverDataSource dataSource = new SimpleDriverDataSource();\n        dataSource.setDriverClass(org.h2.Driver.class);\n        dataSource.setUrl(&quot;jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE&quot;);\n        dataSource.setUsername(&quot;sa&quot;);\n        return dataSource;\n    }\n\n}\n\n</code></pre>\n<p>The Error:</p>\n<pre><code>org.dbunit.dataset.NoSuchTableException: APP_VER\n    at org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:305)\n    ...\n\n</code></pre>\n<p>It seems like the table doesn't create itself, even though I added the property &quot;hibernate.hbm2ddl.auto=create-drop&quot;. Interestingly, I don't get this issue if the dataset references a table which is defined by an entity like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class UserRecord { ... }\n</code></pre>\n"},{"tags":["java","html","spring","spring-boot","datetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1651766367,"post_id":72129833,"comment_id":127446513,"body_markdown":"Lower case `hh` is for hour within AM or PM, so Jackson doesn’t know whether you intended 12:00 AM or 12:00 PM. Upper case `HH` is for hour of day, so 12:00 is 12 noon unambiguously, therefore it works. Related: [DateTimeParseException: Text &#39;2019-06-07 12:18:16&#39; could not be parsed](https://stackoverflow.com/questions/56500476/datetimeparseexception-text-2019-06-07-121816-could-not-be-parsed).","body":"Lower case <code>hh</code> is for hour within AM or PM, so Jackson doesn’t know whether you intended 12:00 AM or 12:00 PM. Upper case <code>HH</code> is for hour of day, so 12:00 is 12 noon unambiguously, therefore it works. Related: <a href=\"https://stackoverflow.com/questions/56500476/datetimeparseexception-text-2019-06-07-121816-could-not-be-parsed\">DateTimeParseException: Text &#39;2019-06-07 12:18:16&#39; could not be parsed</a>."},{"owner":{"account_id":3292856,"reputation":178,"user_id":2770760,"accept_rate":75,"display_name":"Peter Shepherd"},"score":0,"creation_date":1651767542,"post_id":72129833,"comment_id":127446914,"body_markdown":"@OleV.V. Thanks for the help. So I understand that but when I try the format of `hh:mm a` I still get the same error. In the HTML form where I enter the time, there is an option to choose between AM/PM so I&#39;m really not sure what else I can try.","body":"@OleV.V. Thanks for the help. So I understand that but when I try the format of <code>hh:mm a</code> I still get the same error. In the HTML form where I enter the time, there is an option to choose between AM/PM so I&#39;m really not sure what else I can try."}],"answers":[{"tags":[],"owner":{"display_name":"user17944361"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651769109,"creation_date":1651769109,"answer_id":72130819,"question_id":72129833,"body_markdown":"have you try to remove am/pm? maybe this String am/pm also trying to be part of time when sending data. which you database dont allow String in Date. ","title":"DateTimeFormat annotation does not work with &quot;hh:mm&quot; when submitting from a form","body":"<p>have you try to remove am/pm? maybe this String am/pm also trying to be part of time when sending data. which you database dont allow String in Date.</p>\n"}],"owner":{"account_id":3292856,"reputation":178,"user_id":2770760,"accept_rate":75,"display_name":"Peter Shepherd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651770667,"creation_date":1651764747,"question_id":72129833,"body_markdown":"So to start off, this code is working when I use `@DateTimeFormat(pattern = &quot;HH:mm&quot;)`. But as soon as I change it to `@DateTimeFormat(pattern = &quot;hh:mm&quot;)` it stops working. I&#39;m pretty new to spring so I&#39;m not sure where the problem could be coming from. All I want to do is save a time to my DB. \r\n\r\nThe Error:\r\n```\r\nFailed to convert from type [java.lang.String] to type [@org.springframework.format.annotation.DateTimeFormat java.time.LocalTime] for value &#39;12:00&#39;;\r\n```\r\nThis is the object that I am mapping to the form:\r\n```\r\n@Entity\r\n@Table(name = &quot;Schedule&quot;)\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Schedule {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @DateTimeFormat(pattern = &quot;hh:mm&quot;)\r\n    private LocalTime startTime;\r\n    @DateTimeFormat(pattern = &quot;hh:mm&quot;)\r\n    private LocalTime endTime;\r\n    @Column(name = &quot;days&quot;)\r\n    private String days;\r\n\r\n    public Schedule(LocalTime startTime, LocalTime endTime, String days) {\r\n        this.startTime = startTime;\r\n        this.endTime = endTime;\r\n        this.days = days;\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my controller:\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/schedules&quot;)\r\n@AllArgsConstructor\r\npublic class WebScheduleController {\r\n    \r\n    ScheduleService scheduleService;\r\n\r\n    @GetMapping\r\n    public String getSchedules(Model model) {\r\n        List&lt;Schedule&gt; schedules = scheduleService.getSchedules();\r\n        model.addAttribute(&quot;scheduleList&quot;, schedules);\r\n        model.addAttribute(&quot;schedule&quot;, new Schedule());\r\n        return &quot;schedules&quot;;\r\n    }\r\n\r\n    @PostMapping\r\n    public String createSchedule(@ModelAttribute(&quot;schedule&quot;) Schedule schedule,Model model ){\r\n\r\n        scheduleService.createSchedule(schedule);\r\n\r\n        return &quot;redirect:/schedules/&quot;;\r\n    }\r\n    \r\n\r\n}\r\n```\r\n\r\nAnd this is the HTML form: \r\n```\r\n&lt;form method=&quot;post&quot; th:action=&quot;@{/schedules}&quot; th:object=&quot;${schedule}&quot; class=&quot;col card p-3 mb-5&quot;&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;label for=&quot;startTime&quot;&gt;Start time&lt;/label&gt;\r\n        &lt;input id=&quot;startTime&quot; placeholder=&quot;Enter start time&quot; required type=&quot;time&quot; th:field=&quot;*{startTime}&quot;/&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;label for=&quot;endTime&quot;&gt;End time&lt;/label&gt;\r\n        &lt;input id=&quot;endTime&quot; placeholder=&quot;Enter end time&quot; required type=&quot;time&quot; th:field=&quot;*{endTime}&quot; /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;label for=&quot;days&quot;&gt;Days&lt;/label&gt;\r\n        &lt;input id=&quot;days&quot; placeholder=&quot;Enter days&quot; required type=&quot;text&quot; th:field=&quot;*{days}&quot; /&gt;\r\n    &lt;/div&gt;\r\n    &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot; value=&quot;Create Schedule&quot;&gt;\r\n&lt;/form&gt;\r\n```","title":"DateTimeFormat annotation does not work with &quot;hh:mm&quot; when submitting from a form","body":"<p>So to start off, this code is working when I use <code>@DateTimeFormat(pattern = &quot;HH:mm&quot;)</code>. But as soon as I change it to <code>@DateTimeFormat(pattern = &quot;hh:mm&quot;)</code> it stops working. I'm pretty new to spring so I'm not sure where the problem could be coming from. All I want to do is save a time to my DB.</p>\n<p>The Error:</p>\n<pre><code>Failed to convert from type [java.lang.String] to type [@org.springframework.format.annotation.DateTimeFormat java.time.LocalTime] for value '12:00';\n</code></pre>\n<p>This is the object that I am mapping to the form:</p>\n<pre><code>@Entity\n@Table(name = &quot;Schedule&quot;)\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Schedule {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @DateTimeFormat(pattern = &quot;hh:mm&quot;)\n    private LocalTime startTime;\n    @DateTimeFormat(pattern = &quot;hh:mm&quot;)\n    private LocalTime endTime;\n    @Column(name = &quot;days&quot;)\n    private String days;\n\n    public Schedule(LocalTime startTime, LocalTime endTime, String days) {\n        this.startTime = startTime;\n        this.endTime = endTime;\n        this.days = days;\n    }\n}\n</code></pre>\n<p>And this is my controller:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/schedules&quot;)\n@AllArgsConstructor\npublic class WebScheduleController {\n    \n    ScheduleService scheduleService;\n\n    @GetMapping\n    public String getSchedules(Model model) {\n        List&lt;Schedule&gt; schedules = scheduleService.getSchedules();\n        model.addAttribute(&quot;scheduleList&quot;, schedules);\n        model.addAttribute(&quot;schedule&quot;, new Schedule());\n        return &quot;schedules&quot;;\n    }\n\n    @PostMapping\n    public String createSchedule(@ModelAttribute(&quot;schedule&quot;) Schedule schedule,Model model ){\n\n        scheduleService.createSchedule(schedule);\n\n        return &quot;redirect:/schedules/&quot;;\n    }\n    \n\n}\n</code></pre>\n<p>And this is the HTML form:</p>\n<pre><code>&lt;form method=&quot;post&quot; th:action=&quot;@{/schedules}&quot; th:object=&quot;${schedule}&quot; class=&quot;col card p-3 mb-5&quot;&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label for=&quot;startTime&quot;&gt;Start time&lt;/label&gt;\n        &lt;input id=&quot;startTime&quot; placeholder=&quot;Enter start time&quot; required type=&quot;time&quot; th:field=&quot;*{startTime}&quot;/&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label for=&quot;endTime&quot;&gt;End time&lt;/label&gt;\n        &lt;input id=&quot;endTime&quot; placeholder=&quot;Enter end time&quot; required type=&quot;time&quot; th:field=&quot;*{endTime}&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label for=&quot;days&quot;&gt;Days&lt;/label&gt;\n        &lt;input id=&quot;days&quot; placeholder=&quot;Enter days&quot; required type=&quot;text&quot; th:field=&quot;*{days}&quot; /&gt;\n    &lt;/div&gt;\n    &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot; value=&quot;Create Schedule&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","prometheus","metrics"],"answers":[{"tags":[],"owner":{"account_id":24064473,"reputation":61,"user_id":18041255,"display_name":"JustAnotherDev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651770477,"creation_date":1651770477,"answer_id":72131094,"question_id":70895802,"body_markdown":"After a bit of research I found we can do this by extending a class called **DefaultWebMvcTagsProvider** (for Spring MVC) and adding custom tag.\r\n\r\n    @Component\r\n    public class CustomTagsAdder extends DefaultWebMvcTagsProvider {\r\n    \r\n    @Override\r\n    public Iterable&lt;Tag&gt; getTags(HttpServletRequest request, HttpServletResponse response, Object handler, Throwable exception) {\r\n\r\n        List&lt;Tag&gt; tags = new ArrayList&lt;&gt;();\r\n        tags.add(Tag.of(&quot;CUSTOM_TAG_KEY&quot;, &quot;CUSTOM_TAG_VALUE&quot;)); // Repeat this line for each of the tags you want\r\n\r\n\r\n        for(Tag tag : super.getTags(request, response, handler, exception))\r\n            tags.add(tag);\r\n\r\n        return tags;\r\n    }\r\n    }\r\n\r\nSimilarly for webflux projects you can extend **DefaultWebFluxTagsProvider** and add your custom tags.","title":"Add custom labels to default spring boot actuator metrics","body":"<p>After a bit of research I found we can do this by extending a class called <strong>DefaultWebMvcTagsProvider</strong> (for Spring MVC) and adding custom tag.</p>\n<pre><code>@Component\npublic class CustomTagsAdder extends DefaultWebMvcTagsProvider {\n\n@Override\npublic Iterable&lt;Tag&gt; getTags(HttpServletRequest request, HttpServletResponse response, Object handler, Throwable exception) {\n\n    List&lt;Tag&gt; tags = new ArrayList&lt;&gt;();\n    tags.add(Tag.of(&quot;CUSTOM_TAG_KEY&quot;, &quot;CUSTOM_TAG_VALUE&quot;)); // Repeat this line for each of the tags you want\n\n\n    for(Tag tag : super.getTags(request, response, handler, exception))\n        tags.add(tag);\n\n    return tags;\n}\n}\n</code></pre>\n<p>Similarly for webflux projects you can extend <strong>DefaultWebFluxTagsProvider</strong> and add your custom tags.</p>\n"}],"owner":{"account_id":24064473,"reputation":61,"user_id":18041255,"display_name":"JustAnotherDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72131094,"answer_count":1,"score":2,"last_activity_date":1651770477,"creation_date":1643382018,"question_id":70895802,"body_markdown":"I&#39;m currently working on a Spring boot (webflux) project where we have exposed metrics of our application on **/actuator/prometheus** endpoint using spring boot actuator dependency which by default gave us for example: **http_server_requests_seconds_bucket** metric. By default it has **{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test&quot;,le=&quot;0.268435456&quot;,}** labels. I want to add another label say &quot;challenge&quot; which depends on the request payload. For example, my request payload looks like this,\r\n\r\n    {\r\n     &quot;type&quot; : &quot;basic&quot;,\r\n     &quot;method&quot; : &quot;someMethod&quot;\r\n    }\r\n\r\nI want to add a label within that metric as, `http_server_requests_seconds_bucket{exception=&quot;None&quot;,...,challenge=&quot;basic&quot;}` which is based on the request payload &quot;type&quot; parameter. Can someone tell me how can I add custom label to the existing default metric provided by spring-boot-actuator\r\n\r\n**Note:** We only have limited number of values for &quot;type&quot; so that it doesn&#39;t explode\r\n","title":"Add custom labels to default spring boot actuator metrics","body":"<p>I'm currently working on a Spring boot (webflux) project where we have exposed metrics of our application on <strong>/actuator/prometheus</strong> endpoint using spring boot actuator dependency which by default gave us for example: <strong>http_server_requests_seconds_bucket</strong> metric. By default it has <strong>{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/test&quot;,le=&quot;0.268435456&quot;,}</strong> labels. I want to add another label say &quot;challenge&quot; which depends on the request payload. For example, my request payload looks like this,</p>\n<pre><code>{\n &quot;type&quot; : &quot;basic&quot;,\n &quot;method&quot; : &quot;someMethod&quot;\n}\n</code></pre>\n<p>I want to add a label within that metric as, <code>http_server_requests_seconds_bucket{exception=&quot;None&quot;,...,challenge=&quot;basic&quot;}</code> which is based on the request payload &quot;type&quot; parameter. Can someone tell me how can I add custom label to the existing default metric provided by spring-boot-actuator</p>\n<p><strong>Note:</strong> We only have limited number of values for &quot;type&quot; so that it doesn't explode</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651770397,"post_id":72131078,"comment_id":127447964,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":21743051,"reputation":1,"user_id":16050120,"display_name":"Agiru Pradeep"},"score":0,"creation_date":1651830593,"post_id":72131078,"comment_id":127462360,"body_markdown":"are there any new versions of these jars available?","body":"are there any new versions of these jars available?"}],"owner":{"account_id":21743051,"reputation":1,"user_id":16050120,"display_name":"Agiru Pradeep"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651770374,"creation_date":1651770374,"question_id":72131078,"body_markdown":"We are using below two sales force jars and those old versions. \r\n 1. wsc-23.jar\r\n 2. salesforce.wsc-1.1.jar\r\n\r\nNot able find new version of above jars .  Please let me know if any one having idea about new jars or any replacement jars.\r\n","title":"Provide latest jars for salesforce.wsc &amp; wsc","body":"<p>We are using below two sales force jars and those old versions.</p>\n<ol>\n<li>wsc-23.jar</li>\n<li>salesforce.wsc-1.1.jar</li>\n</ol>\n<p>Not able find new version of above jars .  Please let me know if any one having idea about new jars or any replacement jars.</p>\n"},{"tags":["java","deployment","portable-executable"],"comments":[{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1651755394,"post_id":72127505,"comment_id":127441664,"body_markdown":"java has no native implementation for compiling as executable on any system. you should try .NET which support bytecode compilation","body":"java has no native implementation for compiling as executable on any system. you should try .NET which support bytecode compilation"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1651755403,"post_id":72127505,"comment_id":127441667,"body_markdown":"Yes, since Java 9, you can build installers with no 3rd party tools: https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9. Just to clarify, this does *not* compile to a native executable, but simply ports an installer with dedicated vm packaged as part of the installed app. It&#39;s no longer possible to make native binaries from Java. It *was* briefly, as part of the Gnu Classpath project, but that&#39;s gone now","body":"Yes, since Java 9, you can build installers with no 3rd party tools: <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a>. Just to clarify, this does <i>not</i> compile to a native executable, but simply ports an installer with dedicated vm packaged as part of the installed app. It&#39;s no longer possible to make native binaries from Java. It <i>was</i> briefly, as part of the Gnu Classpath project, but that&#39;s gone now"}],"answers":[{"tags":[],"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651756397,"creation_date":1651756397,"answer_id":72127778,"question_id":72127505,"body_markdown":"There are some options you could choose from:\r\n\r\n 1. Bundle your JRE in your package\r\n\r\n&gt; Eclipse does this for example. The put a JRE in the downloaded ZIP-File\r\n\r\n 2. The rise of the native images\r\n&gt; Some projects start to do native java-executables. One is [Quarkus][1]. But the don&#39;t support JavaFx. Base technology for that is [GraalVM][2]\r\n\r\n\r\nSpring is also starting native images: [Spring-Native][3]\r\n\r\nHere is an example of a java-fx native image: [Java-FX Native Demo][4]\r\n\r\n\r\n  [1]: https://quarkus.io/\r\n  [2]: https://www.graalvm.org/\r\n  [3]: https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/\r\n  [4]: https://github.com/Wooyme/jfx-native-image-demo","title":"Compiling/packaging java programs into standalone executables?","body":"<p>There are some options you could choose from:</p>\n<ol>\n<li>Bundle your JRE in your package</li>\n</ol>\n<blockquote>\n<p>Eclipse does this for example. The put a JRE in the downloaded ZIP-File</p>\n</blockquote>\n<ol start=\"2\">\n<li>The rise of the native images</li>\n</ol>\n<blockquote>\n<p>Some projects start to do native java-executables. One is <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a>. But the don't support JavaFx. Base technology for that is <a href=\"https://www.graalvm.org/\" rel=\"nofollow noreferrer\">GraalVM</a></p>\n</blockquote>\n<p>Spring is also starting native images: <a href=\"https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Spring-Native</a></p>\n<p>Here is an example of a java-fx native image: <a href=\"https://github.com/Wooyme/jfx-native-image-demo\" rel=\"nofollow noreferrer\">Java-FX Native Demo</a></p>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651770276,"creation_date":1651770276,"answer_id":72131062,"question_id":72127505,"body_markdown":"The tools to compile a JavaFX program into a native exectable can be found here: https://github.com/gluonhq/gluonfx-maven-plugin\r\n\r\nDepending on your needs it might be also interesting though to just package your program for each platform via jpackage. Maybe following this tutorial https://github.com/dlemmermann/JPackageScriptFX","title":"Compiling/packaging java programs into standalone executables?","body":"<p>The tools to compile a JavaFX program into a native exectable can be found here: <a href=\"https://github.com/gluonhq/gluonfx-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/gluonhq/gluonfx-maven-plugin</a></p>\n<p>Depending on your needs it might be also interesting though to just package your program for each platform via jpackage. Maybe following this tutorial <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">https://github.com/dlemmermann/JPackageScriptFX</a></p>\n"}],"owner":{"account_id":24332463,"reputation":1,"user_id":18271103,"display_name":"Khalil Ouali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651770276,"creation_date":1651755227,"question_id":72127505,"body_markdown":"I would like to deploy a java (or javafx program) which is usable even on a system that **doesn&#39;t have JRE**.\r\n\r\nThis question has been asked and answered:\r\n\r\n - https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\r\n - https://stackoverflow.com/questions/2011664/compiling-a-java-program-into-an-executable\r\n\r\nBut those 2 questions are over 10 years old, and I&#39;m wondering if there are any new/better options as of 2022.","title":"Compiling/packaging java programs into standalone executables?","body":"<p>I would like to deploy a java (or javafx program) which is usable even on a system that <strong>doesn't have JRE</strong>.</p>\n<p>This question has been asked and answered:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\">How can I convert my Java program to an .exe file?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2011664/compiling-a-java-program-into-an-executable\">Compiling a java program into an executable</a></li>\n</ul>\n<p>But those 2 questions are over 10 years old, and I'm wondering if there are any new/better options as of 2022.</p>\n"},{"tags":["java","character-encoding","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":2,"creation_date":1386601757,"post_id":20473848,"comment_id":30595611,"body_markdown":"Define &quot;seeing&quot; - if you&#39;re using `System.out.prinln` are you sure your console uses the same encoding as the data you received?","body":"Define &quot;seeing&quot; - if you&#39;re using <code>System.out.prinln</code> are you sure your console uses the same encoding as the data you received?"},{"owner":{"account_id":57984,"reputation":5167,"user_id":173670,"display_name":"NickDK"},"score":5,"creation_date":1386601769,"post_id":20473848,"comment_id":30595618,"body_markdown":"Are your source code files also in UTF-8?","body":"Are your source code files also in UTF-8?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1386601809,"post_id":20473848,"comment_id":30595649,"body_markdown":"The `StringEntity` uses `ISO_8859_1` for the content charset. You have to use another constructor which allows you to pass in the encoding. `new StringEntity(&quot;test&#174;&quot;, &quot;UTF-8&quot;)` should do the trick.","body":"The <code>StringEntity</code> uses <code>ISO_8859_1</code> for the content charset. You have to use another constructor which allows you to pass in the encoding. <code>new StringEntity(&quot;test&#174;&quot;, &quot;UTF-8&quot;)</code> should do the trick."},{"owner":{"account_id":1426955,"reputation":9234,"user_id":1350209,"accept_rate":100,"display_name":"Cole Tobin"},"score":0,"creation_date":1386602150,"post_id":20473848,"comment_id":30595872,"body_markdown":"Another day, another person confused by character encodings.","body":"Another day, another person confused by character encodings."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1386602204,"post_id":20473848,"comment_id":30595910,"body_markdown":"@cole I wouldn&#39;t hold this against them in this case. It isn&#39;t immediately clear at which point the content is serialized.","body":"@cole I wouldn&#39;t hold this against them in this case. It isn&#39;t immediately clear at which point the content is serialized."},{"owner":{"account_id":3700284,"reputation":263,"user_id":3080271,"display_name":"java techie"},"score":0,"creation_date":1386603805,"post_id":20473848,"comment_id":30596978,"body_markdown":"Thanks. This is working. new StringEntity(&quot;test&#174;&quot;, &quot;UTF-8&quot;) did the trick","body":"Thanks. This is working. new StringEntity(&quot;test&#174;&quot;, &quot;UTF-8&quot;) did the trick"}],"answers":[{"tags":[],"owner":{"account_id":195966,"reputation":15172,"user_id":439171,"accept_rate":75,"display_name":"Italo Borssatto"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1386602099,"creation_date":1386602099,"answer_id":20474009,"question_id":20473848,"body_markdown":"Change to:\r\n\r\n\t\tHttpEntity entity = new StringEntity(&quot;test&#174;&quot;, &quot;UTF-8&quot;); ","title":"HttpPost with StringEntity having special characters like &#174;, seeing &#191;&#189;` instead of &#174;","body":"<p>Change to:</p>\n\n<pre><code>    HttpEntity entity = new StringEntity(\"test®\", \"UTF-8\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9306157,"reputation":586,"user_id":6909832,"display_name":"Matheus Santz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651770195,"creation_date":1598684968,"answer_id":63644390,"question_id":20473848,"body_markdown":"Instead of **StringEntity**, I&#39;m using **ByteArrayEntity**:\r\n\r\n    String string = &quot;&#227;@&#237;&quot;;\r\n    HttpEntity httpEntity = new ByteArrayEntity(string.getBytes(&quot;UTF-8&quot;));\r\n    request.addHeader(&quot;Content-type&quot;, &quot;application/xml;charset=UTF-8&quot;);\r\n    request.setEntity(httpEntity);","title":"HttpPost with StringEntity having special characters like &#174;, seeing &#191;&#189;` instead of &#174;","body":"<p>Instead of <strong>StringEntity</strong>, I'm using <strong>ByteArrayEntity</strong>:</p>\n<pre><code>String string = &quot;ã@í&quot;;\nHttpEntity httpEntity = new ByteArrayEntity(string.getBytes(&quot;UTF-8&quot;));\nrequest.addHeader(&quot;Content-type&quot;, &quot;application/xml;charset=UTF-8&quot;);\nrequest.setEntity(httpEntity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4533333,"reputation":1269,"user_id":3683195,"accept_rate":60,"display_name":"Borja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634286671,"creation_date":1634286671,"answer_id":69581909,"question_id":20473848,"body_markdown":"In my case, I was already using the answer code, but adding this did the trick (I saw it in the question text)\r\n\r\n    httpPost.setHeader(&quot;Accept-Encoding&quot;, &quot;UTF-8&quot;);","title":"HttpPost with StringEntity having special characters like &#174;, seeing &#191;&#189;` instead of &#174;","body":"<p>In my case, I was already using the answer code, but adding this did the trick (I saw it in the question text)</p>\n<pre><code>httpPost.setHeader(&quot;Accept-Encoding&quot;, &quot;UTF-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":3700284,"reputation":263,"user_id":3080271,"display_name":"java techie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22868,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":20474009,"answer_count":3,"score":26,"last_activity_date":1651770195,"creation_date":1386601639,"question_id":20473848,"body_markdown":"I need to use special characters for `stringentity` as below.\r\n\r\n    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n    HttpPost httpPost = new HttpPost(url);\r\n    HttpEntity entity = new StringEntity(&quot;test&#174;&quot;);\r\n    httpPost.setEntity(entity);\r\n    httpPost.setHeader(&quot;Accept-Encoding&quot;, &quot;UTF-8&quot;);\r\n\r\n    HttpResponse response = httpClient.execute(httpPost);\r\n    BufferedReader reader =  new BufferedReader(new InputStreamReader((response.getEntity().getContent())));\r\n    while ((reader.readLine()) != null) {\r\n        System.out.println (reader.readLine());\r\n    }\r\n    reader.close();\r\n\r\nThe output contains `test&#239;&#191;&#189;` instead of `test&#174;` in the response.","title":"HttpPost with StringEntity having special characters like &#174;, seeing &#191;&#189;` instead of &#174;","body":"<p>I need to use special characters for <code>stringentity</code> as below.</p>\n\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\nHttpPost httpPost = new HttpPost(url);\nHttpEntity entity = new StringEntity(\"test®\");\nhttpPost.setEntity(entity);\nhttpPost.setHeader(\"Accept-Encoding\", \"UTF-8\");\n\nHttpResponse response = httpClient.execute(httpPost);\nBufferedReader reader =  new BufferedReader(new InputStreamReader((response.getEntity().getContent())));\nwhile ((reader.readLine()) != null) {\n    System.out.println (reader.readLine());\n}\nreader.close();\n</code></pre>\n\n<p>The output contains <code>testï¿½</code> instead of <code>test®</code> in the response.</p>\n"},{"tags":["java","ms-word","apache-poi","xwpf"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1607872367,"post_id":65275097,"comment_id":115403005,"body_markdown":"Given that you can&#39;t control when Word will decide to split things into different runs, even if they share the same formatting, why not update your logic to cope with text spanning runs?","body":"Given that you can&#39;t control when Word will decide to split things into different runs, even if they share the same formatting, why not update your logic to cope with text spanning runs?"},{"owner":{"account_id":12300328,"reputation":814,"user_id":8974764,"display_name":"weno"},"score":0,"creation_date":1607886266,"post_id":65275097,"comment_id":115407156,"body_markdown":"What do you mean by text spanning runs?","body":"What do you mean by text spanning runs?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1607898154,"post_id":65275097,"comment_id":115410474,"body_markdown":"The text you want will be in 1+ runs, possibly not the only thing in any of those runs. Word will somewhat-randomly (and somewhat history-based) decide to slice the text into as many runs as it feels like, and you can&#39;t control that. You just have to cope with it!","body":"The text you want will be in 1+ runs, possibly not the only thing in any of those runs. Word will somewhat-randomly (and somewhat history-based) decide to slice the text into as many runs as it feels like, and you can&#39;t control that. You just have to cope with it!"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1613219274,"creation_date":1607950040,"answer_id":65289246,"question_id":65275097,"body_markdown":"Current `apache poi 4.1.2` provides [TextSegment](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/TextSegment.html) to deal with those `Word` text-run issues. [XWPFParagraph.searchText](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#searchText-java.lang.String-org.apache.poi.xwpf.usermodel.PositionInParagraph-) searches for a string in a paragraph and returns a `TextSegment`. This provides access to the begin run and the end run of that text in that paragraph (`BeginRun` and `EndRun`). It also provides access to the start character position in begin run and end character position in end run (`BeginChar` and `EndChar`).\r\nIt additionally provides access to the index of the text element in the text run (`BeginText` and `EndText`). This always should be `0`, because default text runs only have one text element.\r\n\r\nHaving this, we can do the following:\r\n\r\nReplace the found partial string in begin run by the replacement. To do so, get the text part which was before the searched string and concatenate the replacement to it. After that the begin run fully contains the replacement.\r\n\r\nDelete all text runs between begin run and end run as they contain parts of the searched string which is not more needed.\r\n\r\nLet remain only the text part after the searched string in end run.\r\n\r\nDoing so we are able replacing text which is in multiple text runs.\r\n\r\nFollowing example shows this.\r\n\r\n    import java.io.*;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    \r\n    public class WordReplaceTextSegment {\r\n    \r\n     static public void replaceTextSegment(XWPFParagraph paragraph, String textToFind, String replacement) {\r\n      TextSegment foundTextSegment = null;\r\n      PositionInParagraph startPos = new PositionInParagraph(0, 0, 0);\r\n      while((foundTextSegment = paragraph.searchText(textToFind, startPos)) != null) { // search all text segments having text to find\r\n    \r\n    System.out.println(foundTextSegment.getBeginRun()+&quot;:&quot;+foundTextSegment.getBeginText()+&quot;:&quot;+foundTextSegment.getBeginChar());\r\n    System.out.println(foundTextSegment.getEndRun()+&quot;:&quot;+foundTextSegment.getEndText()+&quot;:&quot;+foundTextSegment.getEndChar());\r\n    \r\n       // maybe there is text before textToFind in begin run\r\n       XWPFRun beginRun = paragraph.getRuns().get(foundTextSegment.getBeginRun());\r\n       String textInBeginRun = beginRun.getText(foundTextSegment.getBeginText());\r\n       String textBefore = textInBeginRun.substring(0, foundTextSegment.getBeginChar()); // we only need the text before\r\n    \r\n       // maybe there is text after textToFind in end run\r\n       XWPFRun endRun = paragraph.getRuns().get(foundTextSegment.getEndRun());\r\n       String textInEndRun = endRun.getText(foundTextSegment.getEndText());\r\n       String textAfter = textInEndRun.substring(foundTextSegment.getEndChar() + 1); // we only need the text after\r\n    \r\n       if (foundTextSegment.getEndRun() == foundTextSegment.getBeginRun()) { \r\n        textInBeginRun = textBefore + replacement + textAfter; // if we have only one run, we need the text before, then the replacement, then the text after in that run\r\n       } else {\r\n        textInBeginRun = textBefore + replacement; // else we need the text before followed by the replacement in begin run\r\n        endRun.setText(textAfter, foundTextSegment.getEndText()); // and the text after in end run\r\n       }\r\n    \r\n       beginRun.setText(textInBeginRun, foundTextSegment.getBeginText());\r\n    \r\n       // runs between begin run and end run needs to be removed\r\n       for (int runBetween = foundTextSegment.getEndRun() - 1; runBetween &gt; foundTextSegment.getBeginRun(); runBetween--) {\r\n        paragraph.removeRun(runBetween); // remove not needed runs\r\n       }\r\n    \r\n      }\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument doc = new XWPFDocument(new FileInputStream(&quot;source.docx&quot;));\r\n    \r\n      String textToFind = &quot;${This is the text to find}&quot;; // might be in different runs\r\n      String replacement = &quot;Replacement text&quot;;\r\n    \r\n      for (XWPFParagraph paragraph : doc.getParagraphs()) { //go through all paragraphs\r\n       if (paragraph.getText().contains(textToFind)) { // paragraph contains text to find\r\n        replaceTextSegment(paragraph, textToFind, replacement);\r\n       }\r\n      }\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;result.docx&quot;);\r\n      doc.write(out);\r\n      out.close();\r\n      doc.close();\r\n    \r\n     }\r\n    }\r\n\r\nAbove code works not in all cases because `XWPFParagraph.searchText` has bugs. So I will provide a better `searchText` method:\r\n\r\n    /**\r\n     * this methods parse the paragraph and search for the string searched.\r\n     * If it finds the string, it will return true and the position of the String\r\n     * will be saved in the parameter startPos.\r\n     *\r\n     * @param searched\r\n     * @param startPos\r\n     */\r\n    static TextSegment searchText(XWPFParagraph paragraph, String searched, PositionInParagraph startPos) {\r\n        int startRun = startPos.getRun(),\r\n            startText = startPos.getText(),\r\n            startChar = startPos.getChar();\r\n        int beginRunPos = 0, candCharPos = 0;\r\n        boolean newList = false;\r\n\r\n        //CTR[] rArray = paragraph.getRArray(); //This does not contain all runs. It lacks hyperlink runs for ex.\r\n\t\tjava.util.List&lt;XWPFRun&gt;\truns = paragraph.getRuns(); \r\n\t\t\r\n\t\tint beginTextPos = 0, beginCharPos = 0; //must be outside the for loop\r\n\t\t\r\n        //for (int runPos = startRun; runPos &lt; rArray.length; runPos++) {\r\n\t\tfor (int runPos = startRun; runPos &lt; runs.size(); runPos++) {\r\n\t\t\t//int beginTextPos = 0, beginCharPos = 0, textPos = 0, charPos; //int beginTextPos = 0, beginCharPos = 0 must be outside the for loop\r\n            int textPos = 0, charPos;\r\n            //CTR ctRun = rArray[runPos];\r\n\t\t\tCTR ctRun = runs.get(runPos).getCTR();\r\n            XmlCursor c = ctRun.newCursor();\r\n            c.selectPath(&quot;./*&quot;);\r\n            try {\r\n                while (c.toNextSelection()) {\r\n                    XmlObject o = c.getObject();\r\n                    if (o instanceof CTText) {\r\n                        if (textPos &gt;= startText) {\r\n                            String candidate = ((CTText) o).getStringValue();\r\n                            if (runPos == startRun) {\r\n                                charPos = startChar;\r\n                            } else {\r\n                                charPos = 0;\r\n                            }\r\n\r\n                            for (; charPos &lt; candidate.length(); charPos++) {\r\n                                if ((candidate.charAt(charPos) == searched.charAt(0)) &amp;&amp; (candCharPos == 0)) {\r\n                                    beginTextPos = textPos;\r\n                                    beginCharPos = charPos;\r\n                                    beginRunPos = runPos;\r\n                                    newList = true;\r\n                                }\r\n                                if (candidate.charAt(charPos) == searched.charAt(candCharPos)) {\r\n                                    if (candCharPos + 1 &lt; searched.length()) {\r\n                                        candCharPos++;\r\n                                    } else if (newList) {\r\n                                        TextSegment segment = new TextSegment();\r\n                                        segment.setBeginRun(beginRunPos);\r\n                                        segment.setBeginText(beginTextPos);\r\n                                        segment.setBeginChar(beginCharPos);\r\n                                        segment.setEndRun(runPos);\r\n                                        segment.setEndText(textPos);\r\n                                        segment.setEndChar(charPos);\r\n                                        return segment;\r\n                                    }\r\n                                } else {\r\n                                    candCharPos = 0;\r\n                                }\r\n                            }\r\n                        }\r\n                        textPos++;\r\n                    } else if (o instanceof CTProofErr) {\r\n                        c.removeXml();\r\n                    } else if (o instanceof CTRPr) {\r\n                        //do nothing\r\n                    } else {\r\n                        candCharPos = 0;\r\n                    }\r\n                }\r\n            } finally {\r\n                c.dispose();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\nThis will be called like:\r\n\r\n    ...\r\n    while((foundTextSegment = searchText(paragraph, textToFind, startPos)) != null) {\r\n    ...","title":"Apache POI: ${my_placeholder} is treated as three different runs","body":"<p>Current <code>apache poi 4.1.2</code> provides <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/TextSegment.html\" rel=\"nofollow noreferrer\">TextSegment</a> to deal with those <code>Word</code> text-run issues. <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#searchText-java.lang.String-org.apache.poi.xwpf.usermodel.PositionInParagraph-\" rel=\"nofollow noreferrer\">XWPFParagraph.searchText</a> searches for a string in a paragraph and returns a <code>TextSegment</code>. This provides access to the begin run and the end run of that text in that paragraph (<code>BeginRun</code> and <code>EndRun</code>). It also provides access to the start character position in begin run and end character position in end run (<code>BeginChar</code> and <code>EndChar</code>).\nIt additionally provides access to the index of the text element in the text run (<code>BeginText</code> and <code>EndText</code>). This always should be <code>0</code>, because default text runs only have one text element.</p>\n<p>Having this, we can do the following:</p>\n<p>Replace the found partial string in begin run by the replacement. To do so, get the text part which was before the searched string and concatenate the replacement to it. After that the begin run fully contains the replacement.</p>\n<p>Delete all text runs between begin run and end run as they contain parts of the searched string which is not more needed.</p>\n<p>Let remain only the text part after the searched string in end run.</p>\n<p>Doing so we are able replacing text which is in multiple text runs.</p>\n<p>Following example shows this.</p>\n<pre><code>import java.io.*;\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\n\npublic class WordReplaceTextSegment {\n\n static public void replaceTextSegment(XWPFParagraph paragraph, String textToFind, String replacement) {\n  TextSegment foundTextSegment = null;\n  PositionInParagraph startPos = new PositionInParagraph(0, 0, 0);\n  while((foundTextSegment = paragraph.searchText(textToFind, startPos)) != null) { // search all text segments having text to find\n\nSystem.out.println(foundTextSegment.getBeginRun()+&quot;:&quot;+foundTextSegment.getBeginText()+&quot;:&quot;+foundTextSegment.getBeginChar());\nSystem.out.println(foundTextSegment.getEndRun()+&quot;:&quot;+foundTextSegment.getEndText()+&quot;:&quot;+foundTextSegment.getEndChar());\n\n   // maybe there is text before textToFind in begin run\n   XWPFRun beginRun = paragraph.getRuns().get(foundTextSegment.getBeginRun());\n   String textInBeginRun = beginRun.getText(foundTextSegment.getBeginText());\n   String textBefore = textInBeginRun.substring(0, foundTextSegment.getBeginChar()); // we only need the text before\n\n   // maybe there is text after textToFind in end run\n   XWPFRun endRun = paragraph.getRuns().get(foundTextSegment.getEndRun());\n   String textInEndRun = endRun.getText(foundTextSegment.getEndText());\n   String textAfter = textInEndRun.substring(foundTextSegment.getEndChar() + 1); // we only need the text after\n\n   if (foundTextSegment.getEndRun() == foundTextSegment.getBeginRun()) { \n    textInBeginRun = textBefore + replacement + textAfter; // if we have only one run, we need the text before, then the replacement, then the text after in that run\n   } else {\n    textInBeginRun = textBefore + replacement; // else we need the text before followed by the replacement in begin run\n    endRun.setText(textAfter, foundTextSegment.getEndText()); // and the text after in end run\n   }\n\n   beginRun.setText(textInBeginRun, foundTextSegment.getBeginText());\n\n   // runs between begin run and end run needs to be removed\n   for (int runBetween = foundTextSegment.getEndRun() - 1; runBetween &gt; foundTextSegment.getBeginRun(); runBetween--) {\n    paragraph.removeRun(runBetween); // remove not needed runs\n   }\n\n  }\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument doc = new XWPFDocument(new FileInputStream(&quot;source.docx&quot;));\n\n  String textToFind = &quot;${This is the text to find}&quot;; // might be in different runs\n  String replacement = &quot;Replacement text&quot;;\n\n  for (XWPFParagraph paragraph : doc.getParagraphs()) { //go through all paragraphs\n   if (paragraph.getText().contains(textToFind)) { // paragraph contains text to find\n    replaceTextSegment(paragraph, textToFind, replacement);\n   }\n  }\n\n  FileOutputStream out = new FileOutputStream(&quot;result.docx&quot;);\n  doc.write(out);\n  out.close();\n  doc.close();\n\n }\n}\n</code></pre>\n<p>Above code works not in all cases because <code>XWPFParagraph.searchText</code> has bugs. So I will provide a better <code>searchText</code> method:</p>\n<pre><code>/**\n * this methods parse the paragraph and search for the string searched.\n * If it finds the string, it will return true and the position of the String\n * will be saved in the parameter startPos.\n *\n * @param searched\n * @param startPos\n */\nstatic TextSegment searchText(XWPFParagraph paragraph, String searched, PositionInParagraph startPos) {\n    int startRun = startPos.getRun(),\n        startText = startPos.getText(),\n        startChar = startPos.getChar();\n    int beginRunPos = 0, candCharPos = 0;\n    boolean newList = false;\n\n    //CTR[] rArray = paragraph.getRArray(); //This does not contain all runs. It lacks hyperlink runs for ex.\n    java.util.List&lt;XWPFRun&gt; runs = paragraph.getRuns(); \n    \n    int beginTextPos = 0, beginCharPos = 0; //must be outside the for loop\n    \n    //for (int runPos = startRun; runPos &lt; rArray.length; runPos++) {\n    for (int runPos = startRun; runPos &lt; runs.size(); runPos++) {\n        //int beginTextPos = 0, beginCharPos = 0, textPos = 0, charPos; //int beginTextPos = 0, beginCharPos = 0 must be outside the for loop\n        int textPos = 0, charPos;\n        //CTR ctRun = rArray[runPos];\n        CTR ctRun = runs.get(runPos).getCTR();\n        XmlCursor c = ctRun.newCursor();\n        c.selectPath(&quot;./*&quot;);\n        try {\n            while (c.toNextSelection()) {\n                XmlObject o = c.getObject();\n                if (o instanceof CTText) {\n                    if (textPos &gt;= startText) {\n                        String candidate = ((CTText) o).getStringValue();\n                        if (runPos == startRun) {\n                            charPos = startChar;\n                        } else {\n                            charPos = 0;\n                        }\n\n                        for (; charPos &lt; candidate.length(); charPos++) {\n                            if ((candidate.charAt(charPos) == searched.charAt(0)) &amp;&amp; (candCharPos == 0)) {\n                                beginTextPos = textPos;\n                                beginCharPos = charPos;\n                                beginRunPos = runPos;\n                                newList = true;\n                            }\n                            if (candidate.charAt(charPos) == searched.charAt(candCharPos)) {\n                                if (candCharPos + 1 &lt; searched.length()) {\n                                    candCharPos++;\n                                } else if (newList) {\n                                    TextSegment segment = new TextSegment();\n                                    segment.setBeginRun(beginRunPos);\n                                    segment.setBeginText(beginTextPos);\n                                    segment.setBeginChar(beginCharPos);\n                                    segment.setEndRun(runPos);\n                                    segment.setEndText(textPos);\n                                    segment.setEndChar(charPos);\n                                    return segment;\n                                }\n                            } else {\n                                candCharPos = 0;\n                            }\n                        }\n                    }\n                    textPos++;\n                } else if (o instanceof CTProofErr) {\n                    c.removeXml();\n                } else if (o instanceof CTRPr) {\n                    //do nothing\n                } else {\n                    candCharPos = 0;\n                }\n            }\n        } finally {\n            c.dispose();\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>This will be called like:</p>\n<pre><code>...\nwhile((foundTextSegment = searchText(paragraph, textToFind, startPos)) != null) {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19030441,"reputation":1,"user_id":16993842,"display_name":"Luiz Felipe Rodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651770064,"creation_date":1651770064,"answer_id":72131026,"question_id":65275097,"body_markdown":"Just like someone has commented your question, you can&#39;t have control where or when Word will split the paragraph in some runs. If the other answer still didn&#39;t help you, then I have the way I got around it:\r\n\r\nFirst of all, this &quot;solution&quot; have a big problem, but still, I will put it here for the reason that someone can solve it.\r\n```Java\r\n    public void mainMethod(XWPFParagraph paragraph) {\r\n        if (paragraph.getRuns().size() &gt; 1) {\r\n            String myRun = unifyRuns(paragraph.getRuns());\r\n            // make the verification of placeholders ${...}\r\n            paragraph.getRuns().get(0).setText(myRun);\r\n            \r\n            while(paragraph.getRuns().size() &gt; 1) {\r\n                paragraph.removeRun(1);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private String unifyRuns(List&lt;XWPFRun&gt; runElements) {\r\n        StringBuilder unifiedRun = new StringBuilder();\r\n        for (XWPFRun run : runElements) {\r\n            unifiedRun.append(run);\r\n        }\r\n        return unifiedRun.toString();\r\n    }\r\n```\r\nThe code may contain some error since I&#39;m doing it as I remember.\r\n\r\nThe problem here is that when Word separates paragraphs into runs, it doesn&#39;t do it for nothing, because when there are texts with different fonts (like font-family or font-size), it separates the texts in different runs.\r\n\r\nIn the text &quot;Here&#39;s my **bold** text&quot;, Word will split the text to separate the bold and normal text. Then, the code above is a bad solution if you are using POI to create large documents with different types of fonts. In that case you would need to verify first if the run is actualy in bold, then you will treat the placeholders.\r\n\r\nAgain, this a &quot;solution&quot; that i found, and it&#39;s not complete yet. Sorry for english errors, i&#39;m using Google Translate to write this answer.","title":"Apache POI: ${my_placeholder} is treated as three different runs","body":"<p>Just like someone has commented your question, you can't have control where or when Word will split the paragraph in some runs. If the other answer still didn't help you, then I have the way I got around it:</p>\n<p>First of all, this &quot;solution&quot; have a big problem, but still, I will put it here for the reason that someone can solve it.</p>\n<pre><code>    public void mainMethod(XWPFParagraph paragraph) {\n        if (paragraph.getRuns().size() &gt; 1) {\n            String myRun = unifyRuns(paragraph.getRuns());\n            // make the verification of placeholders ${...}\n            paragraph.getRuns().get(0).setText(myRun);\n            \n            while(paragraph.getRuns().size() &gt; 1) {\n                paragraph.removeRun(1);\n            }\n        }\n    }\n    \n    private String unifyRuns(List&lt;XWPFRun&gt; runElements) {\n        StringBuilder unifiedRun = new StringBuilder();\n        for (XWPFRun run : runElements) {\n            unifiedRun.append(run);\n        }\n        return unifiedRun.toString();\n    }\n</code></pre>\n<p>The code may contain some error since I'm doing it as I remember.</p>\n<p>The problem here is that when Word separates paragraphs into runs, it doesn't do it for nothing, because when there are texts with different fonts (like font-family or font-size), it separates the texts in different runs.</p>\n<p>In the text &quot;Here's my <strong>bold</strong> text&quot;, Word will split the text to separate the bold and normal text. Then, the code above is a bad solution if you are using POI to create large documents with different types of fonts. In that case you would need to verify first if the run is actualy in bold, then you will treat the placeholders.</p>\n<p>Again, this a &quot;solution&quot; that i found, and it's not complete yet. Sorry for english errors, i'm using Google Translate to write this answer.</p>\n"}],"owner":{"account_id":12300328,"reputation":814,"user_id":8974764,"display_name":"weno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2075,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65289246,"answer_count":2,"score":2,"last_activity_date":1651770064,"creation_date":1607859206,"question_id":65275097,"body_markdown":"I have a .docx template with placeholders to be filled, such as `${programming_language}`, `${education}`, etc. \r\n\r\nThe placeholder keywords *must be* easily distinguished from the other plain words, hence they are enclosed with `${ }`.\r\n\r\n    for (XWPFTable table : doc.getTables()) {\r\n      for (XWPFTableRow row : table.getRows()) {\r\n        for (XWPFTableCell cell : row.getTableCells()) {\r\n          for (XWPFParagraph paragraph : cell.getParagraphs()) {\r\n            for (XWPFRun run : paragraph.getRuns()) {\r\n              System.out.println(&quot;run text: &quot; + run.text());\r\n              /** replace text here, etc. */\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nI want to extract the placeholders together with the enclosing `${ }` characters. The problem is, that is seems like the enclosing characters are treated as different runs...\r\n\r\n    run text: ${\r\n    run text: programming_language\r\n    run text: }\r\n    run text: Some plain text here \r\n    run text: ${\r\n    run text: education\r\n    run text: }\r\n\r\nInstead, I would like to achieve the following effect:\r\n\r\n    run text: ${programming_language}\r\n    run text: Some plain text here\r\n    run text: ${education}\r\n\r\nI have tried using other enclosing characters, such as: `{ }`, `&lt; &gt;`, `# #`, etc.\r\n\r\nI do not want to do some weird concatenations of `runs`, etc. I want to have it in a single XWPFRun.\r\n\r\nIf I cannot find the proper solution, I will just make it like so: `VAR_PROGRAMMING_LANGUGE`, `VAR_EDUCATION`, I think.","title":"Apache POI: ${my_placeholder} is treated as three different runs","body":"<p>I have a .docx template with placeholders to be filled, such as <code>${programming_language}</code>, <code>${education}</code>, etc.</p>\n<p>The placeholder keywords <em>must be</em> easily distinguished from the other plain words, hence they are enclosed with <code>${ }</code>.</p>\n<pre><code>for (XWPFTable table : doc.getTables()) {\n  for (XWPFTableRow row : table.getRows()) {\n    for (XWPFTableCell cell : row.getTableCells()) {\n      for (XWPFParagraph paragraph : cell.getParagraphs()) {\n        for (XWPFRun run : paragraph.getRuns()) {\n          System.out.println(&quot;run text: &quot; + run.text());\n          /** replace text here, etc. */\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I want to extract the placeholders together with the enclosing <code>${ }</code> characters. The problem is, that is seems like the enclosing characters are treated as different runs...</p>\n<pre><code>run text: ${\nrun text: programming_language\nrun text: }\nrun text: Some plain text here \nrun text: ${\nrun text: education\nrun text: }\n</code></pre>\n<p>Instead, I would like to achieve the following effect:</p>\n<pre><code>run text: ${programming_language}\nrun text: Some plain text here\nrun text: ${education}\n</code></pre>\n<p>I have tried using other enclosing characters, such as: <code>{ }</code>, <code>&lt; &gt;</code>, <code># #</code>, etc.</p>\n<p>I do not want to do some weird concatenations of <code>runs</code>, etc. I want to have it in a single XWPFRun.</p>\n<p>If I cannot find the proper solution, I will just make it like so: <code>VAR_PROGRAMMING_LANGUGE</code>, <code>VAR_EDUCATION</code>, I think.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9055663,"reputation":2527,"user_id":6744133,"display_name":"Oli"},"score":0,"creation_date":1651768001,"post_id":72129587,"comment_id":127447082,"body_markdown":"Can you clarify: is the 4th thread different from the first 3? As in, do you care which thread should be the 4th to run, or is it just that you want any one of the 4 to wait until one of the first 3 has finished?","body":"Can you clarify: is the 4th thread different from the first 3? As in, do you care which thread should be the 4th to run, or is it just that you want any one of the 4 to wait until one of the first 3 has finished?"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651764686,"creation_date":1651764686,"answer_id":72129816,"question_id":72129587,"body_markdown":"You can use a `Semaphore`. The first 3 threads will take all the permits and when the first one releases a permit, the 4th will pick it up and run.\r\n\r\n    public static void main(String [] args) throws IOException {\r\n\t\tSemaphore semaphore = new Semaphore(3, true);\r\n\t\t\r\n\t\t\r\n\t\tRunnable a = new Runnable() {\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsemaphore.acquire();\r\n\t\t\t\t\tfor (int i = 0; i &lt; 50; i++) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;A&quot;);\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsemaphore.release();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tRunnable b = new Runnable() {\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsemaphore.acquire();\r\n\t\t\t\t\tfor (int i = 0; i &lt; 50; i++) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;B&quot;);\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsemaphore.release();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tRunnable c = new Runnable() {\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsemaphore.acquire();\r\n\t\t\t\t\tfor (int i = 0; i &lt; 50; i++) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;C&quot;);\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsemaphore.release();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tRunnable d = new Runnable() {\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsemaphore.acquire();\r\n\t\t\t\t\tSystem.out.println(&quot;D&quot;);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsemaphore.release();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tExecutorService exec = Executors.newFixedThreadPool(5);\r\n\t\texec.execute(a);\r\n\t\texec.execute(b);\r\n\t\texec.execute(c);\r\n\t\texec.execute(d);\r\n\t}","title":"How to start thread when at least one is finished","body":"<p>You can use a <code>Semaphore</code>. The first 3 threads will take all the permits and when the first one releases a permit, the 4th will pick it up and run.</p>\n<pre><code>public static void main(String [] args) throws IOException {\n    Semaphore semaphore = new Semaphore(3, true);\n    \n    \n    Runnable a = new Runnable() {   \n        @Override\n        public void run() {\n            try {\n                semaphore.acquire();\n                for (int i = 0; i &lt; 50; i++) {\n                    System.out.println(&quot;A&quot;);\n                }                   \n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                semaphore.release();\n            }\n        }\n    };\n    Runnable b = new Runnable() {   \n        @Override\n        public void run() {\n            try {\n                semaphore.acquire();\n                for (int i = 0; i &lt; 50; i++) {\n                    System.out.println(&quot;B&quot;);\n                }                   \n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                semaphore.release();\n            }\n        }\n    };\n    Runnable c = new Runnable() {   \n        @Override\n        public void run() {\n            try {\n                semaphore.acquire();\n                for (int i = 0; i &lt; 50; i++) {\n                    System.out.println(&quot;C&quot;);\n                }                   \n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                semaphore.release();\n            }\n        }\n    };\n    \n    Runnable d = new Runnable() {   \n        @Override\n        public void run() {\n            try {\n                semaphore.acquire();\n                System.out.println(&quot;D&quot;);\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                semaphore.release();\n            }\n        }\n    };\n    \n    ExecutorService exec = Executors.newFixedThreadPool(5);\n    exec.execute(a);\n    exec.execute(b);\n    exec.execute(c);\n    exec.execute(d);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651768579,"creation_date":1651767365,"answer_id":72130470,"question_id":72129587,"body_markdown":"&gt; What if the 4th thread&#39;s semaphore.acquire() happens before the other 3 threads&#39; acquires...\r\n\r\nYou could use a [`CountDownLatch`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/CountDownLatch.html) for that. Building on @Ryan &#39;s answer:\r\n\r\n``` lang-java\r\n    public static void main(String [] args) throws IOException {\r\n\t\tSemaphore semaphore = new Semaphore(3, true);\r\n\t\tCountDownLatch okToStartTaskD = new CountDownLatch(3);\r\n\t\t\r\n\t\tRunnable a = new Runnable() {\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsemaphore.acquire();\r\n                    okToStartTaskD.countDown();\r\n\t\t\t\t\t...\r\n\t\t\t\t}\r\n                ...\r\n\t\t\t}\r\n\t\t};\r\n\t\tRunnable b = new Runnable() {\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsemaphore.acquire();\r\n                    okToStartTaskD.countDown();\r\n\t\t\t\t\t...\t\t\t\t\t\r\n\t\t\t\t}\r\n            ...\r\n\t\t\t}\r\n\t\t};\r\n\t\t...\r\n\t\t\r\n\t\tExecutorService exec = Executors.newFixedThreadPool(5);\r\n\t\texec.execute(a);\r\n\t\texec.execute(b);\r\n\t\texec.execute(c);\r\n        try {\r\n            okToStartTaskD.await();\r\n        }\r\n        catch (InterruptedException ex) {\r\n            ex.printStackTrace();\r\n            ...should never get here, but what if?...\r\n        }\r\n\t\texec.execute(d);\r\n\t}\r\n```\r\n","title":"How to start thread when at least one is finished","body":"<blockquote>\n<p>What if the 4th thread's semaphore.acquire() happens before the other 3 threads' acquires...</p>\n</blockquote>\n<p>You could use a <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\"><code>CountDownLatch</code></a> for that. Building on @Ryan 's answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String [] args) throws IOException {\n        Semaphore semaphore = new Semaphore(3, true);\n        CountDownLatch okToStartTaskD = new CountDownLatch(3);\n        \n        Runnable a = new Runnable() {   \n            @Override\n            public void run() {\n                try {\n                    semaphore.acquire();\n                    okToStartTaskD.countDown();\n                    ...\n                }\n                ...\n            }\n        };\n        Runnable b = new Runnable() {   \n            @Override\n            public void run() {\n                try {\n                    semaphore.acquire();\n                    okToStartTaskD.countDown();\n                    ...                 \n                }\n            ...\n            }\n        };\n        ...\n        \n        ExecutorService exec = Executors.newFixedThreadPool(5);\n        exec.execute(a);\n        exec.execute(b);\n        exec.execute(c);\n        try {\n            okToStartTaskD.await();\n        }\n        catch (InterruptedException ex) {\n            ex.printStackTrace();\n            ...should never get here, but what if?...\n        }\n        exec.execute(d);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651769409,"creation_date":1651769409,"answer_id":72130876,"question_id":72129587,"body_markdown":"[CompletableFutures][1] are the modern way to accomplish this in an expressive way. \r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService executor = Executors.newFixedThreadPool(3);\r\n        \r\n        CompletableFuture&lt;Void&gt; a = CompletableFuture.runAsync(() -&gt; print(&quot;A&quot;), executor);\r\n        CompletableFuture&lt;Void&gt; b = CompletableFuture.runAsync(() -&gt; print(&quot;B&quot;), executor);\r\n        CompletableFuture&lt;Void&gt; c = CompletableFuture.runAsync(() -&gt; print(&quot;C&quot;), executor);\r\n        CompletableFuture.anyOf(a, b, c).thenRunAsync(() -&gt; print(&quot;D&quot;), executor);\r\n    }\r\n    \r\n    private static void print(String taskName) {\r\n        for (int i = 0; i &lt; 10_000; ++i) {\r\n            System.out.println(&quot;Task &quot; + taskName + &quot;: &quot; + i);\r\n        }\r\n    }\r\n\r\nRun A, B and C, then when any one of them is done, run D.\r\n\r\nYou can simplify it even further by removing the executor and just using the fork/join pool, but it doesn&#39;t work so well in a self-contained example because they&#39;re daemon threads; the program will just end very quickly before it does much of anything.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/concurrent/CompletableFuture.html","title":"How to start thread when at least one is finished","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFutures</a> are the modern way to accomplish this in an expressive way.</p>\n<pre><code>public static void main(String[] args) {\n    ExecutorService executor = Executors.newFixedThreadPool(3);\n    \n    CompletableFuture&lt;Void&gt; a = CompletableFuture.runAsync(() -&gt; print(&quot;A&quot;), executor);\n    CompletableFuture&lt;Void&gt; b = CompletableFuture.runAsync(() -&gt; print(&quot;B&quot;), executor);\n    CompletableFuture&lt;Void&gt; c = CompletableFuture.runAsync(() -&gt; print(&quot;C&quot;), executor);\n    CompletableFuture.anyOf(a, b, c).thenRunAsync(() -&gt; print(&quot;D&quot;), executor);\n}\n\nprivate static void print(String taskName) {\n    for (int i = 0; i &lt; 10_000; ++i) {\n        System.out.println(&quot;Task &quot; + taskName + &quot;: &quot; + i);\n    }\n}\n</code></pre>\n<p>Run A, B and C, then when any one of them is done, run D.</p>\n<p>You can simplify it even further by removing the executor and just using the fork/join pool, but it doesn't work so well in a self-contained example because they're daemon threads; the program will just end very quickly before it does much of anything.</p>\n"},{"tags":[],"owner":{"account_id":1435416,"reputation":568,"user_id":1356924,"accept_rate":89,"display_name":"Vojtěch Kaiser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651769427,"creation_date":1651769427,"answer_id":72130880,"question_id":72129587,"body_markdown":"Depends what is your assignment? Do you care about the work? The threads?\r\n\r\nYou can always &quot;hack it&quot; by making thread pool with three threads and give it four tasks:\r\n\r\n```java\r\nExecutorService es = Executors.newFixedThreadPool(3);\r\n\tes.execute(() -&gt; {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tSystem.out.println(&quot;A&quot;);\r\n\t\t\ttry {Thread.sleep(100);} catch (InterruptedException e) {}\r\n\t\t}\r\n\t});\r\n\tes.execute(() -&gt; {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tSystem.out.println(&quot;B&quot;);\r\n\t\t\ttry {Thread.sleep(100);} catch (InterruptedException e) {}\r\n\t\t}\r\n\t});\r\n\tes.execute(() -&gt; {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tSystem.out.println(&quot;C&quot;);\r\n\t\t\ttry {Thread.sleep(100);} catch (InterruptedException e) {}\r\n\t\t}\r\n\t});\r\n\tes.execute(() -&gt; {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tSystem.out.println(&quot;D&quot;);\r\n\t\t\ttry {Thread.sleep(100);} catch (InterruptedException e) {}\r\n\t\t}\r\n\t});\r\n```\r\n\r\nOr alternatively make the threads yourself (D thread first), and at the end of the work of each (ABC) ask if D is running, if not, start it.\r\n\r\nThere is so many solutions to this with wildly different complexity, and whether they are alright depends solely on your context.","title":"How to start thread when at least one is finished","body":"<p>Depends what is your assignment? Do you care about the work? The threads?</p>\n<p>You can always &quot;hack it&quot; by making thread pool with three threads and give it four tasks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService es = Executors.newFixedThreadPool(3);\n    es.execute(() -&gt; {\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(&quot;A&quot;);\n            try {Thread.sleep(100);} catch (InterruptedException e) {}\n        }\n    });\n    es.execute(() -&gt; {\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(&quot;B&quot;);\n            try {Thread.sleep(100);} catch (InterruptedException e) {}\n        }\n    });\n    es.execute(() -&gt; {\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(&quot;C&quot;);\n            try {Thread.sleep(100);} catch (InterruptedException e) {}\n        }\n    });\n    es.execute(() -&gt; {\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(&quot;D&quot;);\n            try {Thread.sleep(100);} catch (InterruptedException e) {}\n        }\n    });\n</code></pre>\n<p>Or alternatively make the threads yourself (D thread first), and at the end of the work of each (ABC) ask if D is running, if not, start it.</p>\n<p>There is so many solutions to this with wildly different complexity, and whether they are alright depends solely on your context.</p>\n"},{"tags":[],"owner":{"account_id":9055663,"reputation":2527,"user_id":6744133,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651769822,"creation_date":1651769822,"answer_id":72130974,"question_id":72129587,"body_markdown":"To use semaphores to wait until one of 3 threads finishes, before starting a 4th different thread, you can initialise the semaphore to `0`. Before running  the 4th thread, you acquire the semaphore, but cannot, since it is `0`. When one of the 3 threads finishes, it releases the semaphore, allowing the 4th thread to run.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.Semaphore;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Semaphore sem = new Semaphore(0);\r\n        char[] letters = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n        List&lt;Thread&gt; threadList = new ArrayList&lt;&gt;();\r\n\r\n        for (int threadNum = 0; threadNum &lt; 3; threadNum++) {\r\n            int finalThreadNum = threadNum;\r\n            Thread t = new Thread(() -&gt; {\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    System.out.print(letters[finalThreadNum]);\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                sem.release();\r\n            });\r\n\r\n            threadList.add(t);\r\n            t.start();\r\n\r\n        }\r\n\r\n\r\n        Thread lastThread = new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                System.out.print(&#39;d&#39;);\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n        sem.acquire();\r\n        lastThread.start();\r\n\r\n        for (Thread t : threadList) {\r\n            t.join();\r\n        }\r\n        lastThread.join();\r\n    }\r\n}\r\n```","title":"How to start thread when at least one is finished","body":"<p>To use semaphores to wait until one of 3 threads finishes, before starting a 4th different thread, you can initialise the semaphore to <code>0</code>. Before running  the 4th thread, you acquire the semaphore, but cannot, since it is <code>0</code>. When one of the 3 threads finishes, it releases the semaphore, allowing the 4th thread to run.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.Semaphore;\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        Semaphore sem = new Semaphore(0);\n        char[] letters = {'a', 'b', 'c'};\n        List&lt;Thread&gt; threadList = new ArrayList&lt;&gt;();\n\n        for (int threadNum = 0; threadNum &lt; 3; threadNum++) {\n            int finalThreadNum = threadNum;\n            Thread t = new Thread(() -&gt; {\n                for (int i = 0; i &lt; 10; i++) {\n                    System.out.print(letters[finalThreadNum]);\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                sem.release();\n            });\n\n            threadList.add(t);\n            t.start();\n\n        }\n\n\n        Thread lastThread = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 10; i++) {\n                System.out.print('d');\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        sem.acquire();\n        lastThread.start();\n\n        for (Thread t : threadList) {\n            t.join();\n        }\n        lastThread.join();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22741121,"reputation":21,"user_id":16902587,"display_name":"Tonsor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1651769822,"creation_date":1651763638,"question_id":72129587,"body_markdown":"I have 4 threads. Each prints the given letter x times every x second. \r\nThe task is to start 3 threads at once and the 4th one when at least one of the previous threads is finished.\r\nI don&#39;t know how to notify this last thread to run in due time.","title":"How to start thread when at least one is finished","body":"<p>I have 4 threads. Each prints the given letter x times every x second.\nThe task is to start 3 threads at once and the 4th one when at least one of the previous threads is finished.\nI don't know how to notify this last thread to run in due time.</p>\n"},{"tags":["java","json","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651769516,"creation_date":1580224814,"answer_id":59951883,"question_id":59951249,"body_markdown":"The issue seems to be deserializing the JSON.\r\n\r\n`com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of org.domain.Days`\r\n\r\nJackson is unable to deserialize the enum. You can write a custom deserializer method and annotate it with `@JsonCreator`.\r\n\r\nTweak the below logic as per your requirement/constraints.\r\n\r\n    public enum Days {\r\n        MONDAY, TUESDAY, WEDNESDAY;\r\n        static Map&lt;String, Days&gt; daysLookup = new HashMap&lt;&gt;();\r\n    \r\n        static {\r\n            daysLookup.put(&quot;MONDAY&quot;, MONDAY);\r\n            daysLookup.put(&quot;TUESDAY&quot;, TUESDAY);\r\n            daysLookup.put(&quot;WEDNESDAY&quot;, WEDNESDAY);\r\n        }\r\n    \r\n    \r\n        @JsonCreator\r\n        public static Days[] create(@JsonProperty(&quot;days_visit&quot;) String[] days) {\r\n            Days[] daysVisit = new Days[days.length];\r\n            for (int i = 0; i &lt; days.length; i++) {\r\n                daysVisit[i] = daysLookup.get(days[i]);\r\n            }\r\n            return daysVisit;\r\n        }\r\n    }\r\n\r\n","title":"JAVA - JSON Serialize a list of enum to a class","body":"<p>The issue seems to be deserializing the JSON.</p>\n<p><code>com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of org.domain.Days</code></p>\n<p>Jackson is unable to deserialize the enum. You can write a custom deserializer method and annotate it with <code>@JsonCreator</code>.</p>\n<p>Tweak the below logic as per your requirement/constraints.</p>\n<pre><code>public enum Days {\n    MONDAY, TUESDAY, WEDNESDAY;\n    static Map&lt;String, Days&gt; daysLookup = new HashMap&lt;&gt;();\n\n    static {\n        daysLookup.put(&quot;MONDAY&quot;, MONDAY);\n        daysLookup.put(&quot;TUESDAY&quot;, TUESDAY);\n        daysLookup.put(&quot;WEDNESDAY&quot;, WEDNESDAY);\n    }\n\n\n    @JsonCreator\n    public static Days[] create(@JsonProperty(&quot;days_visit&quot;) String[] days) {\n        Days[] daysVisit = new Days[days.length];\n        for (int i = 0; i &lt; days.length; i++) {\n            daysVisit[i] = daysLookup.get(days[i]);\n        }\n        return daysVisit;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1379566,"reputation":2282,"user_id":1312879,"accept_rate":62,"display_name":"Naty Bizz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651769516,"creation_date":1580222637,"question_id":59951249,"body_markdown":"I have this enum:\r\n\r\n\tpublic enum Days implements Serializable {\r\n\t\tMONDAY,\r\n\t\tTUESDAY,\r\n\t\tWEDNESDAY,\r\n\t\t...\r\n\t}\r\n\r\nI want to use it in a Store class:\r\n\r\n     public class Store{\r\n          private integer id_store;\r\n          private String name;\r\n          private Days days_visit;\r\n    }\r\n\r\nThe thing is, the `days_visit` needs to be an array because it can be more than one day; in the database side, the Days type is a days type:\r\n\r\n\tCREATE TYPE schema.days AS ENUM\r\n\t   (MONDAY,\r\n\t\tTUESDAY,\r\n\t\tWEDNESDAY,\r\n\t\t...);\r\n\r\nAnd the table Stores has an array of &#180;days&#180;\r\n\r\n    days_visit schema.days[],\r\n\r\nHow can I serialize this in JSON? the JSON I tried is:\r\n\r\n    {&quot;id_store&quot;:&quot;1&quot;, &quot;name&quot;:&quot;The Store&quot;, &quot;days_visit&quot;:[&quot;MONDAY&quot;, &quot;FRIDAY&quot;]}\r\n\r\nBut I get this error:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of org.domain.Days\r\n\tout of START_ARRAY token\r\n\tat [Source: io.undertow.servlet.spec.ServletInputStreamImpl@5c2a7de1; line: 1, column: 168] (through reference chain:\r\n\torg.Stores[&amp;quot;days_visit&amp;quot;])\r\n```\r\n\r\nIf I declare the days_visit like this in my class:\r\n\r\n    \r\n     public class Store{\r\n          private integer id_store;\r\n          private String name;\r\n          private Days[] days_visit;\r\n    }\r\n\r\nI get this error when deploying in Wildfly:\r\n\r\n```\r\n[2020-01-28 11:42:09,970] Artifact app:war: Error during artifact deployment. See server log for details.\r\n\t[2020-01-28 11:42:09,970] Artifact app:war: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.persistenceunit.\\&quot;app.war#org\\&quot;&quot; =&gt; &quot;javax.persistence.PersistenceException: [PersistenceUnit: org_app] Unable to build Hibernate SessionFactory\r\n\t\tCaused by: javax.persistence.PersistenceException: [PersistenceUnit: org.app] Unable to build Hibernate SessionFactory\r\n\t\tCaused by: org.hibernate.MappingException: Unable to instantiate custom type: org.hibernate.type.EnumType\r\n\t\tCaused by: java.lang.ClassCastException: class [Lpy.org.app.domain.Days;&quot;}}\r\n```\r\n\r\nIs there something I&#39;m missing?","title":"JAVA - JSON Serialize a list of enum to a class","body":"<p>I have this enum:</p>\n\n<pre><code>public enum Days implements Serializable {\n    MONDAY,\n    TUESDAY,\n    WEDNESDAY,\n    ...\n}\n</code></pre>\n\n<p>I want to use it in a Store class:</p>\n\n<pre><code> public class Store{\n      private integer id_store;\n      private String name;\n      private Days days_visit;\n}\n</code></pre>\n\n<p>The thing is, the <code>days_visit</code> needs to be an array because it can be more than one day; in the database side, the Days type is a days type:</p>\n\n<pre><code>CREATE TYPE schema.days AS ENUM\n   (MONDAY,\n    TUESDAY,\n    WEDNESDAY,\n    ...);\n</code></pre>\n\n<p>And the table Stores has an array of ´days´</p>\n\n<pre><code>days_visit schema.days[],\n</code></pre>\n\n<p>How can I serialize this in JSON? the JSON I tried is:</p>\n\n<pre><code>{\"id_store\":\"1\", \"name\":\"The Store\", \"days_visit\":[\"MONDAY\", \"FRIDAY\"]}\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of org.domain.Days\n    out of START_ARRAY token\n    at [Source: io.undertow.servlet.spec.ServletInputStreamImpl@5c2a7de1; line: 1, column: 168] (through reference chain:\n    org.Stores[&amp;quot;days_visit&amp;quot;])\n</code></pre>\n\n<p>If I declare the days_visit like this in my class:</p>\n\n<pre><code> public class Store{\n      private integer id_store;\n      private String name;\n      private Days[] days_visit;\n}\n</code></pre>\n\n<p>I get this error when deploying in Wildfly:</p>\n\n<pre><code>[2020-01-28 11:42:09,970] Artifact app:war: Error during artifact deployment. See server log for details.\n    [2020-01-28 11:42:09,970] Artifact app:war: java.lang.Exception: {\"WFLYCTL0080: Failed services\" =&gt; {\"jboss.persistenceunit.\\\"app.war#org\\\"\" =&gt; \"javax.persistence.PersistenceException: [PersistenceUnit: org_app] Unable to build Hibernate SessionFactory\n        Caused by: javax.persistence.PersistenceException: [PersistenceUnit: org.app] Unable to build Hibernate SessionFactory\n        Caused by: org.hibernate.MappingException: Unable to instantiate custom type: org.hibernate.type.EnumType\n        Caused by: java.lang.ClassCastException: class [Lpy.org.app.domain.Days;\"}}\n</code></pre>\n\n<p>Is there something I'm missing?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8620,"page":1372,"page_size":100}
