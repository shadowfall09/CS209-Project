{"items":[{"tags":["java","javabeans","beancreationexception","jmix"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673335361,"post_id":75066641,"comment_id":132469599,"body_markdown":"I only see *Error creating bean with name &#39;dataSource&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?* Not the error you mentioned in the title","body":"I only see <i>Error creating bean with name &#39;dataSource&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?</i> Not the error you mentioned in the title"},{"owner":{"account_id":13052561,"reputation":11,"user_id":9432387,"display_name":"kiranouseph"},"score":0,"creation_date":1673336609,"post_id":75066641,"comment_id":132469936,"body_markdown":"for the above error stack do you know any solution","body":"for the above error stack do you know any solution"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673337853,"post_id":75066641,"comment_id":132470271,"body_markdown":"Not without related code","body":"Not without related code"}],"answers":[{"tags":[],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673336969,"creation_date":1673336969,"answer_id":75066919,"question_id":75066641,"body_markdown":"First of all please fix the title as it says something different that enclosed stacktrace. Please read \r\n\r\n&gt; Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\r\nIt means that you have a bean &quot;A&quot; which depends on another bean &quot;B&quot; but &quot;B&quot; depends on &quot;A&quot; and this is the reason of a circular reference. Of course this cycle can be longer, for example: `A -&gt; B -&gt; C -&gt; A`. You have to follow good design principles and remove this cycle somehow or you can use `@Lazy` annotation on a field to initiate a bean later (by default it&#39;s eager dependency). ","title":"Requested bean is currently in creation: Is there an unresolvable circular reference During adding one spring boot applciation to another?","body":"<p>First of all please fix the title as it says something different that enclosed stacktrace. Please read</p>\n<blockquote>\n<p>Requested bean is currently in creation: Is there an unresolvable circular reference?</p>\n</blockquote>\n<p>It means that you have a bean &quot;A&quot; which depends on another bean &quot;B&quot; but &quot;B&quot; depends on &quot;A&quot; and this is the reason of a circular reference. Of course this cycle can be longer, for example: <code>A -&gt; B -&gt; C -&gt; A</code>. You have to follow good design principles and remove this cycle somehow or you can use <code>@Lazy</code> annotation on a field to initiate a bean later (by default it's eager dependency).</p>\n"}],"owner":{"account_id":13052561,"reputation":11,"user_id":9432387,"display_name":"kiranouseph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2478,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1673339720,"creation_date":1673335107,"question_id":75066641,"body_markdown":"Scenario :\r\nI have a springboot applcation which perform a batch like functionality (Reading data from s3 processing and writing to sql tables).\r\n \r\nI also have a seperate Jmix application.\r\nSo in need to add the batch to this jmix application so that i can run the batch from jmix application\r\n\r\nI was able to add it in buid.gradle and i done like below in main class of jmix application\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.publicismedia.uniquebatchjava&quot;})\r\n    @EnableJmixDataRepositories(basePackages = {})\r\n    @EnableJpaRepositories(basePackages = {&quot;com.publicismedia.uniquebatchjava.repository&quot;})\r\n\r\nSo that we can use the beans in the Jmix app(`scanBasePackages = {&quot;com.publicismedia.uniquebatchjava&quot;}`)\r\nJmix tries to create bean for all repository class whether it is on main application or dependency application\r\nSo i am adding this `@EnableJmixDataRepositories(basePackages = {})` to avoid jmix to scan nothing and `@EnableJpaRepositories(basePackages = {&quot;com.publicismedia.uniquebatchjava.repository&quot;})` to allow jpa to scan dependent application \r\n\r\nAnd the error now is \r\n\r\n&gt; Caused by:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name\r\n&gt; &#39;OAuth2AuthorizationServerConfiguration&#39;: Unsatisfied dependency\r\n&gt; expressed through field &#39;tokenStore&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;sec_TokenStore&#39; defined in class path\r\n&gt; resource\r\n&gt; [io/jmix/autoconfigure/securityoauth2/SecurityOAuth2AutoConfiguration$JdbcTokenStoreConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method &#39;tokenStore&#39; parameter\r\n&gt; 0; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;stellantisroiApplication&#39;: Unsatisfied\r\n&gt; dependency expressed through field &#39;batchExecuter&#39;; nested exception\r\n&gt; is org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;batchExecuter&#39;: Unsatisfied dependency\r\n&gt; expressed through field &#39;batchConfigRepository&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;batchConfigRepository&#39; defined in\r\n&gt; com.publicismedia.uniquebatchjava.repository.BatchConfigRepository\r\n&gt; defined in @EnableJpaRepositories declared on\r\n&gt; StellantisroiApplication: Cannot create inner bean &#39;(inner\r\n&gt; bean)#51e0629a&#39; of type\r\n&gt; [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting\r\n&gt; bean property &#39;entityManager&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;(inner bean)#51e0629a&#39;: Cannot resolve\r\n&gt; reference to bean &#39;entityManagerFactory&#39; while setting constructor\r\n&gt; argument; nested exception is\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;jmix_Liquibase&#39; defined in class path\r\n&gt; resource\r\n&gt; [io/jmix/autoconfigure/data/JmixLiquibaseAutoConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method &#39;liquibase&#39; parameter\r\n&gt; 0; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCurrentlyInCreationException:\r\n&gt; Error creating bean with name &#39;dataSource&#39;: Requested bean is\r\n&gt; currently in creation: Is there an unresolvable circular reference?\r\n\r\nDo any one has any solution or simply how to add a spring boot maven app in to other spring boot maven app considering `com.package1.*` is main app and `com.package2.*` as dependent application\r\n\r\n\r\n\r\n","title":"Requested bean is currently in creation: Is there an unresolvable circular reference During adding one spring boot applciation to another?","body":"<p>Scenario :\nI have a springboot applcation which perform a batch like functionality (Reading data from s3 processing and writing to sql tables).</p>\n<p>I also have a seperate Jmix application.\nSo in need to add the batch to this jmix application so that i can run the batch from jmix application</p>\n<p>I was able to add it in buid.gradle and i done like below in main class of jmix application</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.publicismedia.uniquebatchjava&quot;})\n@EnableJmixDataRepositories(basePackages = {})\n@EnableJpaRepositories(basePackages = {&quot;com.publicismedia.uniquebatchjava.repository&quot;})\n</code></pre>\n<p>So that we can use the beans in the Jmix app(<code>scanBasePackages = {&quot;com.publicismedia.uniquebatchjava&quot;}</code>)\nJmix tries to create bean for all repository class whether it is on main application or dependency application\nSo i am adding this <code>@EnableJmixDataRepositories(basePackages = {})</code> to avoid jmix to scan nothing and <code>@EnableJpaRepositories(basePackages = {&quot;com.publicismedia.uniquebatchjava.repository&quot;})</code> to allow jpa to scan dependent application</p>\n<p>And the error now is</p>\n<blockquote>\n<p>Caused by:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name\n'OAuth2AuthorizationServerConfiguration': Unsatisfied dependency\nexpressed through field 'tokenStore'; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'sec_TokenStore' defined in class path\nresource\n[io/jmix/autoconfigure/securityoauth2/SecurityOAuth2AutoConfiguration$JdbcTokenStoreConfiguration.class]:\nUnsatisfied dependency expressed through method 'tokenStore' parameter\n0; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'stellantisroiApplication': Unsatisfied\ndependency expressed through field 'batchExecuter'; nested exception\nis org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'batchExecuter': Unsatisfied dependency\nexpressed through field 'batchConfigRepository'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'batchConfigRepository' defined in\ncom.publicismedia.uniquebatchjava.repository.BatchConfigRepository\ndefined in @EnableJpaRepositories declared on\nStellantisroiApplication: Cannot create inner bean '(inner\nbean)#51e0629a' of type\n[org.springframework.orm.jpa.SharedEntityManagerCreator] while setting\nbean property 'entityManager'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name '(inner bean)#51e0629a': Cannot resolve\nreference to bean 'entityManagerFactory' while setting constructor\nargument; nested exception is\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'jmix_Liquibase' defined in class path\nresource\n[io/jmix/autoconfigure/data/JmixLiquibaseAutoConfiguration.class]:\nUnsatisfied dependency expressed through method 'liquibase' parameter\n0; nested exception is\norg.springframework.beans.factory.BeanCurrentlyInCreationException:\nError creating bean with name 'dataSource': Requested bean is\ncurrently in creation: Is there an unresolvable circular reference?</p>\n</blockquote>\n<p>Do any one has any solution or simply how to add a spring boot maven app in to other spring boot maven app considering <code>com.package1.*</code> is main app and <code>com.package2.*</code> as dependent application</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673336398,"creation_date":1673336342,"answer_id":75066822,"question_id":75066784,"body_markdown":"You have get data first and then set adapter(copy this and try)\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Context context;\r\n        TextView textView;\r\n        RecyclerView recyclerView;\r\n        LinearLayoutManager layoutManager;\r\n        DetailsAdapter detailsAdapter;\r\n        List&lt;Details&gt; detailsList = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            context = getApplicationContext();\r\n            getDetails();\r\n            textView = findViewById(R.id.textView);\r\n            recyclerView = findViewById(R.id.recyclerview);\r\n            layoutManager = new LinearLayoutManager(this);\r\n            recyclerView.setLayoutManager(layoutManager);\r\n            detailsAdapter = new DetailsAdapter(detailsList, context);\r\n            recyclerView.setAdapter(detailsAdapter);\r\n    \r\n            \r\n    \r\n            \r\n        }\r\n    \r\n        private void getDetails() {\r\n    \r\n            RetrofitClient.getRetrofitClient().getDetails().enqueue(new Callback&lt;List&lt;Details&gt;&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;List&lt;Details&gt;&gt; call, Response&lt;List&lt;Details&gt;&gt; response) {\r\n                    if(response.isSuccessful() &amp;&amp; response.body() != null){\r\n    \r\n                        detailsList.addAll(response.body());\r\n                        detailsAdapter.notifyDataSetChanged();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;List&lt;Details&gt;&gt; call, Throwable t) {\r\n                    textView.setText((t.getMessage()));\r\n                }\r\n            });\r\n        }","title":"Crasing app with &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference","body":"<p>You have get data first and then set adapter(copy this and try)</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Context context;\n    TextView textView;\n    RecyclerView recyclerView;\n    LinearLayoutManager layoutManager;\n    DetailsAdapter detailsAdapter;\n    List&lt;Details&gt; detailsList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        context = getApplicationContext();\n        getDetails();\n        textView = findViewById(R.id.textView);\n        recyclerView = findViewById(R.id.recyclerview);\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        detailsAdapter = new DetailsAdapter(detailsList, context);\n        recyclerView.setAdapter(detailsAdapter);\n\n        \n\n        \n    }\n\n    private void getDetails() {\n\n        RetrofitClient.getRetrofitClient().getDetails().enqueue(new Callback&lt;List&lt;Details&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;Details&gt;&gt; call, Response&lt;List&lt;Details&gt;&gt; response) {\n                if(response.isSuccessful() &amp;&amp; response.body() != null){\n\n                    detailsList.addAll(response.body());\n                    detailsAdapter.notifyDataSetChanged();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;Details&gt;&gt; call, Throwable t) {\n                textView.setText((t.getMessage()));\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":25755853,"reputation":5,"user_id":19507538,"display_name":"Subhashana.S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673336381,"accepted_answer_id":75066822,"answer_count":1,"score":0,"last_activity_date":1673339552,"creation_date":1673336077,"question_id":75066784,"body_markdown":"I&#39;ve created a recycler view to display data. I want to display a toast message when clicking interview.  so, I set this,\r\n\r\n```\r\nholder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(context, &quot;item clicked!!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n```\r\n\r\nin onbindViewHolder method in the adapter class. After run the app app crashed and displayed this error.\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.ss.newapp, PID: 27382\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference\r\n        at android.widget.Toast.&lt;init&gt;(Toast.java:178)\r\n        at android.widget.Toast.makeText(Toast.java:595)\r\n        at android.widget.Toast.makeText(Toast.java:583)\r\n        at com.ss.newapp.DetailsAdapter$1.onClick(DetailsAdapter.java:50)\r\n        at android.view.View.performClick(View.java:7509)\r\n        at android.view.View.performClickInternal(View.java:7486)\r\n        at android.view.View.access$3600(View.java:841)\r\n        at android.view.View$PerformClick.run(View.java:28709)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:236)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8061)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\nD/OOMEventManagerFK: checkEventAndDumpForJE: 0\r\nI/Process: Sending signal. PID: 27382 SIG: 9\r\nDisconnected from the target VM, address: &#39;localhost:53359&#39;, transport: &#39;socket&#39;\r\n```\r\n\r\nI checked other solutions reguarding to this error in SO, but it didn&#39;t work for my code.\r\n\r\nHere is my Adapter.java class\r\n\r\n```\r\npublic class DetailsAdapter extends\r\n        RecyclerView.Adapter&lt;DetailsAdapter.ViewHolder&gt; {\r\n\r\n    private List&lt;Details&gt; detailsList;\r\n    Context context;\r\n   \r\n    public DetailsAdapter(List&lt;Details&gt; detailsList, Context context){\r\n\r\n        this.detailsList = detailsList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DetailsAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent,\r\n                                                        int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.list_item,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull DetailsAdapter.ViewHolder holder,\r\n                                 int position) {\r\n        holder.txtCusCode.setText(detailsList.get(position).getCode());\r\n        holder.txtCusName.setText(detailsList.get(position).getName());\r\n       \r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(context, &quot;item clicked!!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return detailsList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView txtCusName, txtCusCode;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            txtCusCode = itemView.findViewById(R.id.cusCodeTxt);\r\n            txtCusName = itemView.findViewById(R.id.cusNameTxt);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMainActivity.java\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Context context;\r\n    TextView textView;\r\n    RecyclerView recyclerView;\r\n    LinearLayoutManager layoutManager;\r\n    DetailsAdapter detailsAdapter;\r\n    List&lt;Details&gt; detailsList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.textView);\r\n        recyclerView = findViewById(R.id.recyclerview);\r\n        layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        detailsAdapter = new DetailsAdapter(detailsList, context);\r\n        recyclerView.setAdapter(detailsAdapter);\r\n\r\n        context = getApplicationContext();\r\n\r\n        getDetails();\r\n    }\r\n\r\n    private void getDetails() {\r\n    }\r\n```","title":"Crasing app with &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference","body":"<p>I've created a recycler view to display data. I want to display a toast message when clicking interview.  so, I set this,</p>\n<pre><code>holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, &quot;item clicked!!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n<p>in onbindViewHolder method in the adapter class. After run the app app crashed and displayed this error.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.ss.newapp, PID: 27382\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference\n        at android.widget.Toast.&lt;init&gt;(Toast.java:178)\n        at android.widget.Toast.makeText(Toast.java:595)\n        at android.widget.Toast.makeText(Toast.java:583)\n        at com.ss.newapp.DetailsAdapter$1.onClick(DetailsAdapter.java:50)\n        at android.view.View.performClick(View.java:7509)\n        at android.view.View.performClickInternal(View.java:7486)\n        at android.view.View.access$3600(View.java:841)\n        at android.view.View$PerformClick.run(View.java:28709)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:236)\n        at android.app.ActivityThread.main(ActivityThread.java:8061)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\nD/OOMEventManagerFK: checkEventAndDumpForJE: 0\nI/Process: Sending signal. PID: 27382 SIG: 9\nDisconnected from the target VM, address: 'localhost:53359', transport: 'socket'\n</code></pre>\n<p>I checked other solutions reguarding to this error in SO, but it didn't work for my code.</p>\n<p>Here is my Adapter.java class</p>\n<pre><code>public class DetailsAdapter extends\n        RecyclerView.Adapter&lt;DetailsAdapter.ViewHolder&gt; {\n\n    private List&lt;Details&gt; detailsList;\n    Context context;\n   \n    public DetailsAdapter(List&lt;Details&gt; detailsList, Context context){\n\n        this.detailsList = detailsList;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public DetailsAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent,\n                                                        int viewType) {\n        View view = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.list_item,parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull DetailsAdapter.ViewHolder holder,\n                                 int position) {\n        holder.txtCusCode.setText(detailsList.get(position).getCode());\n        holder.txtCusName.setText(detailsList.get(position).getName());\n       \n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, &quot;item clicked!!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return detailsList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        TextView txtCusName, txtCusCode;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            txtCusCode = itemView.findViewById(R.id.cusCodeTxt);\n            txtCusName = itemView.findViewById(R.id.cusNameTxt);\n        }\n    }\n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Context context;\n    TextView textView;\n    RecyclerView recyclerView;\n    LinearLayoutManager layoutManager;\n    DetailsAdapter detailsAdapter;\n    List&lt;Details&gt; detailsList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.textView);\n        recyclerView = findViewById(R.id.recyclerview);\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        detailsAdapter = new DetailsAdapter(detailsList, context);\n        recyclerView.setAdapter(detailsAdapter);\n\n        context = getApplicationContext();\n\n        getDetails();\n    }\n\n    private void getDetails() {\n    }\n</code></pre>\n"},{"tags":["java","arrays","json","jsonpath"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1673337956,"post_id":75066997,"comment_id":132470292,"body_markdown":"which library you are using for JSON support?","body":"which library you are using for JSON support?"},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1673338144,"post_id":75066997,"comment_id":132470343,"body_markdown":"@Pavel using Json.simple, json-path","body":"@Pavel using Json.simple, json-path"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673338185,"post_id":75066997,"comment_id":132470351,"body_markdown":"What version of JsonPath are you using? Did you check you&#39;ve imported the correct class?","body":"What version of JsonPath are you using? Did you check you&#39;ve imported the correct class?"},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1673338233,"post_id":75066997,"comment_id":132470364,"body_markdown":"@Thomas i am using 5.2.0","body":"@Thomas i am using 5.2.0"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673338474,"post_id":75066997,"comment_id":132470440,"body_markdown":"Are you _sure_ you&#39;re using `com.jayway.jsonpath.JsonPath`? That class has `read(String, String, Predicate...)` but the version is only 2.7.0. The other library I found that has a version 5.2.0 is Rest Assured which has [`io.restassured.path.json.JsonPath`](https://www.javadoc.io/doc/io.rest-assured/json-path/5.2.0/io/restassured/path/json/JsonPath.html) but not the method you want to use.","body":"Are you <i>sure</i> you&#39;re using <code>com.jayway.jsonpath.JsonPath</code>? That class has <code>read(String, String, Predicate...)</code> but the version is only 2.7.0. The other library I found that has a version 5.2.0 is Rest Assured which has <a href=\"https://www.javadoc.io/doc/io.rest-assured/json-path/5.2.0/io/restassured/path/json/JsonPath.html\" rel=\"nofollow noreferrer\"><code>io.restassured.path.json.JsonPath</code></a> but not the method you want to use."},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1673338830,"post_id":75066997,"comment_id":132470519,"body_markdown":"@Thomas After changing the version i am able to access the method thx","body":"@Thomas After changing the version i am able to access the method thx"}],"answers":[{"tags":[],"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673339007,"creation_date":1673339007,"answer_id":75067241,"question_id":75066997,"body_markdown":"After changing the json path verion to 2.7.0 able to access the Jsonpath.read method","title":"The method read(String, String) is undefined for the type JsonPath","body":"<p>After changing the json path verion to 2.7.0 able to access the Jsonpath.read method</p>\n"}],"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673339007,"creation_date":1673337463,"question_id":75066997,"body_markdown":"am using the below code get the value from json file using jsonexpression, iam unable to use Jsonpath.read method getting pop saying that **The method read(String, String) is undefined for the type JsonPath**\r\n \r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader bufferreader = new BufferedReader(\r\n\t\t\t\t\tnew FileReader(&quot;C:\\\\Users\\\\****\\\\eclipse-workspace\\\\json_files\\\\jsonfile\\\\db-AAPL.json&quot;));\r\n\t\t\tString line = null;\r\n\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\twhile ((line = bufferreader.readLine()) != null) {\r\n\t\t\t\tbuilder.append(line);\r\n\t\t\t}\r\n\t\t\tString jsoncontent = builder.toString();\r\n\t\t\tJSONArray  array=JsonPath.read(jsoncontent,&quot;$.response.data.arrayRowData[1].header.headerId&quot;);\r\n\t\t\tSystem.out.println(array.get(0));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\n\r\n\r\n ","title":"The method read(String, String) is undefined for the type JsonPath","body":"<p>am using the below code get the value from json file using jsonexpression, iam unable to use Jsonpath.read method getting pop saying that <strong>The method read(String, String) is undefined for the type JsonPath</strong></p>\n<pre><code>    try {\n        BufferedReader bufferreader = new BufferedReader(\n                new FileReader(&quot;C:\\\\Users\\\\****\\\\eclipse-workspace\\\\json_files\\\\jsonfile\\\\db-AAPL.json&quot;));\n        String line = null;\n        StringBuilder builder = new StringBuilder();\n        while ((line = bufferreader.readLine()) != null) {\n            builder.append(line);\n        }\n        String jsoncontent = builder.toString();\n        JSONArray  array=JsonPath.read(jsoncontent,&quot;$.response.data.arrayRowData[1].header.headerId&quot;);\n        System.out.println(array.get(0));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","android","json","xml","http"],"answers":[{"tags":[],"owner":{"account_id":7325625,"reputation":1784,"user_id":5580095,"accept_rate":61,"display_name":"Bui Quang Huy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458288876,"creation_date":1458288876,"answer_id":36079292,"question_id":36079186,"body_markdown":"You should you HttpUrlConnection instead :\r\n\r\n    public class MessageSender {\r\n        private int responseCode;\r\n    \r\n    \r\n        public boolean sendPost(YourParameter param) {\r\n    \r\n            HttpURLConnection connection;\r\n            try {\r\n                URL gcmAPI = new URL(&quot;your api url&quot;);\r\n                connection = (HttpURLConnection) gcmAPI.openConnection();\r\n    \r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                              connection.setDoOutput(true);\r\n    \r\n                ObjectMapper mapper = new ObjectMapper();\r\n                mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n                DataOutputStream dataOutputStream = new DataOutputStream(connection.getOutputStream());\r\n    \r\n                mapper.writeValue(dataOutputStream, param);\r\n    \r\n                dataOutputStream.flush();\r\n                dataOutputStream.close();\r\n    \r\n                responseCode = connection.getResponseCode();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (responseCode == 200) {\r\n                Log.i(&quot;Request Status&quot;, &quot;This is success response status from server: &quot; + responseCode);\r\n                return true;\r\n            } else {\r\n                Log.i(&quot;Request Status&quot;, &quot;This is failure response status from server: &quot; + responseCode);\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nIn your activity:\r\n\r\n    MessageSender mgsSender = new MessageSender();\r\n                        new AsyncTask&lt;Void, Void, Void&gt;() {\r\n                            @Override\r\n                            protected Void doInBackground(Void... params) {\r\n                                                   \r\n                                mgsSender.sendPost(mgsContent);\r\n     \r\n                                }\r\n                                return null;\r\n                            }\r\n                        }.execute();","title":"Sending Parameter using POST method in Android","body":"<p>You should you HttpUrlConnection instead :</p>\n\n<pre><code>public class MessageSender {\n    private int responseCode;\n\n\n    public boolean sendPost(YourParameter param) {\n\n        HttpURLConnection connection;\n        try {\n            URL gcmAPI = new URL(\"your api url\");\n            connection = (HttpURLConnection) gcmAPI.openConnection();\n\n            connection.setRequestMethod(\"POST\");\n            connection.setRequestProperty(\"Content-Type\", \"application/json\");\n                          connection.setDoOutput(true);\n\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n            DataOutputStream dataOutputStream = new DataOutputStream(connection.getOutputStream());\n\n            mapper.writeValue(dataOutputStream, param);\n\n            dataOutputStream.flush();\n            dataOutputStream.close();\n\n            responseCode = connection.getResponseCode();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        if (responseCode == 200) {\n            Log.i(\"Request Status\", \"This is success response status from server: \" + responseCode);\n            return true;\n        } else {\n            Log.i(\"Request Status\", \"This is failure response status from server: \" + responseCode);\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>In your activity:</p>\n\n<pre><code>MessageSender mgsSender = new MessageSender();\n                    new AsyncTask&lt;Void, Void, Void&gt;() {\n                        @Override\n                        protected Void doInBackground(Void... params) {\n\n                            mgsSender.sendPost(mgsContent);\n\n                            }\n                            return null;\n                        }\n                    }.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6495359,"reputation":563,"user_id":5028137,"display_name":"Prakash Gajera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1458289215,"creation_date":1458289215,"answer_id":36079368,"question_id":36079186,"body_markdown":"try and use this code:\r\n\r\n        \r\n    ServiceHandler sh = new ServiceHandler();\r\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        // TODO Auto-generated method stub\r\n        super.onPreExecute();\r\n\t\t\t\r\n        \r\n        params.add(new BasicNameValuePair(&quot;pkey&quot;, &quot;pvalue&quot;));\r\n\r\n\t}\r\n\r\n    @Override\r\n    protected String doInBackground(String... param) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString json;\r\n\t\t\ttry {\r\n\t\t\t\tjson = sh.makeServiceCall(url, ServiceHandler.POST, params);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tLog.d(&quot;Response: &quot;, &quot;&gt; &quot; + json);\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n    @Override\r\n    protected void onPostExecute(String result) {\r\n    \t// TODO Auto-generated method stub\r\n    \tsuper.onPostExecute(result);\r\n\r\n\t\t\r\n\t\t}","title":"Sending Parameter using POST method in Android","body":"<p>try and use this code:</p>\n\n<pre><code>ServiceHandler sh = new ServiceHandler();\nList&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n\n@Override\nprotected void onPreExecute() {\n    // TODO Auto-generated method stub\n    super.onPreExecute();\n\n\n    params.add(new BasicNameValuePair(\"pkey\", \"pvalue\"));\n\n}\n\n@Override\nprotected String doInBackground(String... param) {\n        // TODO Auto-generated method stub\n        String json;\n        try {\n            json = sh.makeServiceCall(url, ServiceHandler.POST, params);\n\n            Log.d(\"Response: \", \"&gt; \" + json);\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n@Override\nprotected void onPostExecute(String result) {\n    // TODO Auto-generated method stub\n    super.onPostExecute(result);\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4873504,"reputation":567,"user_id":3929274,"accept_rate":50,"display_name":"Amit Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673338570,"creation_date":1458289537,"answer_id":36079446,"question_id":36079186,"body_markdown":"Change this line on your service handler class\r\n    \r\n    public JSONObject makeHttpRequest(String url, String method,\r\n    List&lt;NameValuePair&gt; params) {\r\n        if(method == &quot;POST&quot;){\r\n            // Stuff\r\n        }\r\n        else if(method == &quot;GET&quot;){\r\n            // Stuff\r\n        }\r\n    }\r\n    \r\nIn your activity class in doinbackground\r\n\r\n    sh.makeServiceCall(url,&quot;POST&quot;, params);","title":"Sending Parameter using POST method in Android","body":"<p>Change this line on your service handler class</p>\n<pre><code>public JSONObject makeHttpRequest(String url, String method,\nList&lt;NameValuePair&gt; params) {\n    if(method == &quot;POST&quot;){\n        // Stuff\n    }\n    else if(method == &quot;GET&quot;){\n        // Stuff\n    }\n}\n</code></pre>\n<p>In your activity class in doinbackground</p>\n<pre><code>sh.makeServiceCall(url,&quot;POST&quot;, params);\n</code></pre>\n"}],"owner":{"account_id":7885931,"reputation":275,"user_id":5958001,"accept_rate":44,"display_name":"Uday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4724,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36079368,"answer_count":3,"score":1,"last_activity_date":1673338570,"creation_date":1458288518,"question_id":36079186,"body_markdown":"I want to send a parameter using POST method to server. \r\n\r\nI&#39;m using a ServiceHandler.java file to process the request \r\n\r\n    public class ServiceHandler {\r\n    \r\n        static String response = null;\r\n        public final static int GET = 1;\r\n        public final static int POST = 2;\r\n    \r\n        public ServiceHandler() {\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Making service call\r\n         * @url - url to make request\r\n         * @method - http request method\r\n         * */\r\n        public String makeServiceCall(String url, int method) {\r\n            return this.makeServiceCall(url, method, null);\r\n        }\r\n    \r\n        /**\r\n         * Making service call\r\n         * @url - url to make request\r\n         * @method - http request method\r\n         * @params - http request params\r\n         * */\r\n        public String makeServiceCall(String url, int method,\r\n                                      List&lt;NameValuePair&gt; params) {\r\n            try {\r\n                // http client\r\n                DefaultHttpClient httpClient = new DefaultHttpClient();\r\n                HttpEntity httpEntity = null;\r\n                HttpResponse httpResponse = null;\r\n    \r\n                // Checking http request method type\r\n                if (method == POST) {\r\n                    HttpPost httpPost = new HttpPost(url);\r\n    \r\n                    // adding post params\r\n                    if (params != null) {\r\n                        httpPost.setEntity(new UrlEncodedFormEntity(params));\r\n                    }\r\n    \r\n                    httpResponse = httpClient.execute(httpPost);\r\n    \r\n                } else if (method == GET) {\r\n                    // appending params to url\r\n                    if (params != null) {\r\n                        String paramString = URLEncodedUtils\r\n                                .format(params, &quot;utf-8&quot;);\r\n                        url += &quot;?&quot; + paramString;\r\n                    }\r\n                    HttpGet httpGet = new HttpGet(url);\r\n    \r\n                    httpResponse = httpClient.execute(httpGet);\r\n    \r\n                }\r\n                httpEntity = httpResponse.getEntity();\r\n                response = EntityUtils.toString(httpEntity);\r\n    \r\n            } catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            } catch (ClientProtocolException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return response;\r\n    \r\n        }\r\n    }\r\n\r\n \r\nAnd I&#39;m passing the parameters from my Activity file \r\n\r\n    // BACKGROUND EXECUTION STARTS\r\n            @Override\r\n            protected Void doInBackground(Void... arg0) {\r\n    \r\n    \r\n                // Creating service handler class instance\r\n                ServiceHandler sh = new ServiceHandler();\r\n    \r\n               List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n                params.add(new BasicNameValuePair(&quot;pkey&quot;, &quot;pvalue&quot;));\r\n                sh.makeServiceCall(url, ServiceHandler.POST, params);\r\n    \r\n    \r\n                // Making a request to url and getting response\r\n                String jsonStr = sh.makeServiceCall(url, ServiceHandler.POST);\r\n    \r\n                Log.d(&quot;Response: &quot;, &quot;&gt; &quot; + jsonStr);\r\n\r\nI&#39;m able to connect to my server but it is not receiving any parameters from my application.\r\n\r\nCan someone modify it and send the working code \r\nThank You","title":"Sending Parameter using POST method in Android","body":"<p>I want to send a parameter using POST method to server. </p>\n\n<p>I'm using a ServiceHandler.java file to process the request </p>\n\n<pre><code>public class ServiceHandler {\n\n    static String response = null;\n    public final static int GET = 1;\n    public final static int POST = 2;\n\n    public ServiceHandler() {\n\n    }\n\n    /**\n     * Making service call\n     * @url - url to make request\n     * @method - http request method\n     * */\n    public String makeServiceCall(String url, int method) {\n        return this.makeServiceCall(url, method, null);\n    }\n\n    /**\n     * Making service call\n     * @url - url to make request\n     * @method - http request method\n     * @params - http request params\n     * */\n    public String makeServiceCall(String url, int method,\n                                  List&lt;NameValuePair&gt; params) {\n        try {\n            // http client\n            DefaultHttpClient httpClient = new DefaultHttpClient();\n            HttpEntity httpEntity = null;\n            HttpResponse httpResponse = null;\n\n            // Checking http request method type\n            if (method == POST) {\n                HttpPost httpPost = new HttpPost(url);\n\n                // adding post params\n                if (params != null) {\n                    httpPost.setEntity(new UrlEncodedFormEntity(params));\n                }\n\n                httpResponse = httpClient.execute(httpPost);\n\n            } else if (method == GET) {\n                // appending params to url\n                if (params != null) {\n                    String paramString = URLEncodedUtils\n                            .format(params, \"utf-8\");\n                    url += \"?\" + paramString;\n                }\n                HttpGet httpGet = new HttpGet(url);\n\n                httpResponse = httpClient.execute(httpGet);\n\n            }\n            httpEntity = httpResponse.getEntity();\n            response = EntityUtils.toString(httpEntity);\n\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        } catch (ClientProtocolException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return response;\n\n    }\n}\n</code></pre>\n\n<p>And I'm passing the parameters from my Activity file </p>\n\n<pre><code>// BACKGROUND EXECUTION STARTS\n        @Override\n        protected Void doInBackground(Void... arg0) {\n\n\n            // Creating service handler class instance\n            ServiceHandler sh = new ServiceHandler();\n\n           List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n            params.add(new BasicNameValuePair(\"pkey\", \"pvalue\"));\n            sh.makeServiceCall(url, ServiceHandler.POST, params);\n\n\n            // Making a request to url and getting response\n            String jsonStr = sh.makeServiceCall(url, ServiceHandler.POST);\n\n            Log.d(\"Response: \", \"&gt; \" + jsonStr);\n</code></pre>\n\n<p>I'm able to connect to my server but it is not receiving any parameters from my application.</p>\n\n<p>Can someone modify it and send the working code \nThank You</p>\n"},{"tags":["java","spring","spring-boot","security","reactive"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1673023863,"post_id":75028627,"comment_id":132411521,"body_markdown":"What is in your application.properties? You request your app to be both a resource-server and a client (you declared dependencies on both starters). Is it intentional?","body":"What is in your application.properties? You request your app to be both a resource-server and a client (you declared dependencies on both starters). Is it intentional?"},{"owner":{"account_id":6724723,"reputation":43,"user_id":5183214,"display_name":"Adek"},"score":0,"creation_date":1673338053,"post_id":75028627,"comment_id":132470322,"body_markdown":"Hi @ch4mp Thanks for the comment, yeah it acts as a resource server as well as a client for the AWS Cognito. that&#39;s the feature I&#39;m trying to implement here. Btw I was able to resolve the above mentioned issue that was related to the few of SecurityWebFilterChain that I have used and when I altered/changed the order of it the app started running but still it doesn&#39;t call the custom authentication manager that I implemented. For that I have to dig deeper I guess.","body":"Hi @ch4mp Thanks for the comment, yeah it acts as a resource server as well as a client for the AWS Cognito. that&#39;s the feature I&#39;m trying to implement here. Btw I was able to resolve the above mentioned issue that was related to the few of SecurityWebFilterChain that I have used and when I altered/changed the order of it the app started running but still it doesn&#39;t call the custom authentication manager that I implemented. For that I have to dig deeper I guess."}],"answers":[{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1673352961,"post_id":75067162,"comment_id":132474918,"body_markdown":"Never disable CSRF protection if you do not also disable sessions (session creation policy = stateless)","body":"Never disable CSRF protection if you do not also disable sessions (session creation policy = stateless)"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1673353429,"post_id":75067162,"comment_id":132475069,"body_markdown":"The SecurityFilterChain defined here works for a resource-server only. If your app also is a client, you need a second SecurityFilterChain. Details in this other thread: [Use Keycloak Spring Adapter with Spring Boot 3](https://stackoverflow.com/a/74572732/619830) (Keycloak VS Cognito just changes OIDC configuration URI and authorities claims name)","body":"The SecurityFilterChain defined here works for a resource-server only. If your app also is a client, you need a second SecurityFilterChain. Details in this other thread: <a href=\"https://stackoverflow.com/a/74572732/619830\">Use Keycloak Spring Adapter with Spring Boot 3</a> (Keycloak VS Cognito just changes OIDC configuration URI and authorities claims name)"}],"tags":[],"owner":{"account_id":6724723,"reputation":43,"user_id":5183214,"display_name":"Adek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673338487,"creation_date":1673338487,"answer_id":75067162,"question_id":75028627,"body_markdown":"I was able to start the application without above mentioned error by changing/altering the SecurityWebFilterChains\r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class WebSecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(\r\n            ServerHttpSecurity http) {\r\n        http.csrf().disable().cors()\r\n                .and().authorizeExchange().anyExchange().authenticated()\r\n.and().oauth2ResourceServer().authenticationManagerResolver(customAuthenticationManager());\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```","title":"Unsatisfied dependency expressed through method &#39;setSecurityWebFilterChains&#39; parameter 0 : authenticationManager cannot be null","body":"<p>I was able to start the application without above mentioned error by changing/altering the SecurityWebFilterChains</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class WebSecurityConfiguration {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(\n            ServerHttpSecurity http) {\n        http.csrf().disable().cors()\n                .and().authorizeExchange().anyExchange().authenticated()\n.and().oauth2ResourceServer().authenticationManagerResolver(customAuthenticationManager());\n\n        return http.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6724723,"reputation":43,"user_id":5183214,"display_name":"Adek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75067162,"answer_count":1,"score":0,"last_activity_date":1673338487,"creation_date":1672994132,"question_id":75028627,"body_markdown":"I&#39;m getting the below error after I try to implement the SecurityWebFilterChain for the reactive application. I think this could be related to the dependency versioning issue because without WebSecurityConfiguration class changes the application started fine.\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.reactive.WebFluxSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setSecurityWebFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [com/test123/test123/security/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: authenticationManager cannot be null\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:720) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat com.test123.test123.Test123Application.main(Test123Application.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [com/test123/test123/security/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: authenticationManager cannot be null\r\n\t\r\n\r\n```\r\n\r\nWeb security configuration file:\r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class WebSecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(\r\n            ServerHttpSecurity http) {\r\n        http.csrf().disable()\r\n                .authorizeExchange()\r\n                .pathMatchers(&quot;/test&quot;).permitAll()\r\n//                .and().formLogin().authenticationFailureHandler((exchage, exception) -&gt; Mono.error(exception))\r\n                        .and().httpBasic();\r\n//                .and().oauth2ResourceServer().authenticationManagerResolver(customAuthenticationManager());\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test123&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test123&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test123&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring.cloud-version&gt;2021.0.5&lt;/spring.cloud-version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.21&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.cloud-version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nOne other thing I noticed when I removed the oauth2 resource server dependency the application is starting fine. but since i want to implement custom authentication manager i need that dependency as well\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Unsatisfied dependency expressed through method &#39;setSecurityWebFilterChains&#39; parameter 0 : authenticationManager cannot be null","body":"<p>I'm getting the below error after I try to implement the SecurityWebFilterChain for the reactive application. I think this could be related to the dependency versioning issue because without WebSecurityConfiguration class changes the application started fine.</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.reactive.WebFluxSecurityConfiguration': Unsatisfied dependency expressed through method 'setSecurityWebFilterChains' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [com/test123/test123/security/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: authenticationManager cannot be null\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:720) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\n    at com.test123.test123.Test123Application.main(Test123Application.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [com/test123/test123/security/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: authenticationManager cannot be null\n    \n\n</code></pre>\n<p>Web security configuration file:</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class WebSecurityConfiguration {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(\n            ServerHttpSecurity http) {\n        http.csrf().disable()\n                .authorizeExchange()\n                .pathMatchers(&quot;/test&quot;).permitAll()\n//                .and().formLogin().authenticationFailureHandler((exchage, exception) -&gt; Mono.error(exception))\n                        .and().httpBasic();\n//                .and().oauth2ResourceServer().authenticationManagerResolver(customAuthenticationManager());\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test123&lt;/groupId&gt;\n    &lt;artifactId&gt;test123&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test123&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring.cloud-version&gt;2021.0.5&lt;/spring.cloud-version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n            &lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\n            &lt;version&gt;6.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n            &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n            &lt;version&gt;8.21&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.cloud-version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>One other thing I noticed when I removed the oauth2 resource server dependency the application is starting fine. but since i want to implement custom authentication manager i need that dependency as well</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","public-key","private-key"],"comments":[{"owner":{"account_id":1305028,"reputation":7232,"user_id":1254166,"display_name":"Eli Rosencruft"},"score":0,"creation_date":1349853120,"post_id":8434428,"comment_id":17330568,"body_markdown":"See http://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey and below answer based on answer to that question.","body":"See <a href=\"http://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey\" title=\"how to get a rsa publickey by giving a privatekey\">stackoverflow.com/questions/11345346/&hellip;</a> and below answer based on answer to that question."}],"answers":[{"comments":[{"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"score":6,"creation_date":1323362628,"post_id":8434440,"comment_id":10422754,"body_markdown":"Assuming the key is an RSA key, and it&#39;s stored in a standard way, the &quot;private key&quot; as meant by the library (openssl) *includes* the public key. It&#39;s not about &quot;generating&quot; but more about &quot;extracting&quot;/&quot;accessing&quot;.","body":"Assuming the key is an RSA key, and it&#39;s stored in a standard way, the &quot;private key&quot; as meant by the library (openssl) <i>includes</i> the public key. It&#39;s not about &quot;generating&quot; but more about &quot;extracting&quot;/&quot;accessing&quot;."},{"owner":{"account_id":952951,"reputation":27864,"user_id":978756,"accept_rate":76,"display_name":"Polynomial"},"score":1,"creation_date":1323362671,"post_id":8434440,"comment_id":10422770,"body_markdown":"@Romain - Which is what I said in my answer :)","body":"@Romain - Which is what I said in my answer :)"},{"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"score":2,"creation_date":1323362793,"post_id":8434440,"comment_id":10422814,"body_markdown":"Indeed. Though in that case you&#39;re not answering the question - the OP asks &quot;how&quot; you do &quot;extract either one with relative ease&quot; :)","body":"Indeed. Though in that case you&#39;re not answering the question - the OP asks &quot;how&quot; you do &quot;extract either one with relative ease&quot; :)"},{"owner":{"account_id":1002078,"reputation":6393,"user_id":1016721,"accept_rate":91,"display_name":"BRabbit27"},"score":0,"creation_date":1323362805,"post_id":8434440,"comment_id":10422818,"body_markdown":"@Romain ah sorry. Yes indeed it is RSA and it was created with OpenSSL. I know I cannot &quot;create&quot; one key from the other, what I meant is how to extract it or if it&#39;s possible to extract it. Thanks for your responses!","body":"@Romain ah sorry. Yes indeed it is RSA and it was created with OpenSSL. I know I cannot &quot;create&quot; one key from the other, what I meant is how to extract it or if it&#39;s possible to extract it. Thanks for your responses!"},{"owner":{"account_id":952951,"reputation":27864,"user_id":978756,"accept_rate":76,"display_name":"Polynomial"},"score":0,"creation_date":1323362863,"post_id":8434440,"comment_id":10422842,"body_markdown":"Depends on what he&#39;s got. If it&#39;s a CSR or PEM, I&#39;m pretty sure they&#39;re plaintext. If it&#39;s a plain key, then it depends on what *type* of key it is.","body":"Depends on what he&#39;s got. If it&#39;s a CSR or PEM, I&#39;m pretty sure they&#39;re plaintext. If it&#39;s a plain key, then it depends on what <i>type</i> of key it is."},{"owner":{"account_id":952951,"reputation":27864,"user_id":978756,"accept_rate":76,"display_name":"Polynomial"},"score":0,"creation_date":1323362919,"post_id":8434440,"comment_id":10422858,"body_markdown":"@BRabbit27 - Try opening up the key file in Notepad (or equivilent). Some key files are plaintext and contain the two keys as distinct Base64 blobs.","body":"@BRabbit27 - Try opening up the key file in Notepad (or equivilent). Some key files are plaintext and contain the two keys as distinct Base64 blobs."},{"owner":{"account_id":386444,"reputation":1894,"user_id":744207,"accept_rate":82,"display_name":"tObi"},"score":2,"creation_date":1487616561,"post_id":8434440,"comment_id":71855116,"body_markdown":"This answer is just wrong. Its possible to generate an RSA public key from the private key.","body":"This answer is just wrong. Its possible to generate an RSA public key from the private key."},{"owner":{"account_id":952951,"reputation":27864,"user_id":978756,"accept_rate":76,"display_name":"Polynomial"},"score":2,"creation_date":1487624255,"post_id":8434440,"comment_id":71858864,"body_markdown":"Indeed. It appears that six years ago my understanding of RSA was rather flawed. I have edited it to include the correct answer.","body":"Indeed. It appears that six years ago my understanding of RSA was rather flawed. I have edited it to include the correct answer."},{"owner":{"account_id":26848,"reputation":4825,"user_id":70213,"display_name":"divegeek"},"score":1,"creation_date":1546881809,"post_id":8434440,"comment_id":94991334,"body_markdown":"@Polynomial not just RSA. It&#39;s also possible to compute an EC public key from the private key.  It&#39;s not impossible that some asymmetric scheme might be invented where public and private keys are both derived from some third value which is discarded, but I&#39;m not aware of any.  In all common schemes the public key is computed from the private key plus any public scheme parameters (e.g. choice of elliptic curve).","body":"@Polynomial not just RSA. It&#39;s also possible to compute an EC public key from the private key.  It&#39;s not impossible that some asymmetric scheme might be invented where public and private keys are both derived from some third value which is discarded, but I&#39;m not aware of any.  In all common schemes the public key is computed from the private key plus any public scheme parameters (e.g. choice of elliptic curve)."},{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":0,"creation_date":1680958469,"post_id":8434440,"comment_id":133984014,"body_markdown":"It seems odd that this still present after all these years since even the author has said it is wrong.  Can the **selected answer** be changed to a valid answer?","body":"It seems odd that this still present after all these years since even the author has said it is wrong.  Can the <b>selected answer</b> be changed to a valid answer?"}],"tags":[],"owner":{"account_id":952951,"reputation":27864,"user_id":978756,"accept_rate":76,"display_name":"Polynomial"},"comment_count":10,"down_vote_count":22,"up_vote_count":13,"is_accepted":true,"score":-9,"last_activity_date":1519036287,"creation_date":1323362539,"answer_id":8434440,"question_id":8434428,"body_markdown":"You cannot generate either key directly from the other. It is mathematically impossible. If you had a key blob that contained *both* the public and private keys, you could extract either one of them with relative ease.\r\n\r\n**EDIT, 2017:** Many years and a much better understanding of crypto later, and it&#39;s now clear to me that this answer isn&#39;t really correct.\r\n\r\nTo quote Wikipedia:\r\n\r\n&gt; The public key consists of the modulus n and the public (or encryption) exponent e. The private key consists of the modulus n and the private (or decryption) exponent d, which must be kept secret. p, q, and λ(n) must also be kept secret because they can be used to calculate d.\r\n\r\nThe public modulus n can be computed as p &amp;times; q. The only thing missing from a raw private key is e, but this value is usually selected as 65537, and if not you can still compute e from d and λ(n).\r\n\r\nHowever, many private key storage formats actually contain the public modulus n alongside the other components, so you can just do a direct extraction of the values.\r\n\r\n**EDIT, 2018:** Still getting downvotes for this, and rightly so! I&#39;m leaving this answer up so people can see why I was originally wrong, and to remind myself not to be wrong in future.","title":"Get public key from private in Java","body":"<p>You cannot generate either key directly from the other. It is mathematically impossible. If you had a key blob that contained <em>both</em> the public and private keys, you could extract either one of them with relative ease.</p>\n\n<p><strong>EDIT, 2017:</strong> Many years and a much better understanding of crypto later, and it's now clear to me that this answer isn't really correct.</p>\n\n<p>To quote Wikipedia:</p>\n\n<blockquote>\n  <p>The public key consists of the modulus n and the public (or encryption) exponent e. The private key consists of the modulus n and the private (or decryption) exponent d, which must be kept secret. p, q, and λ(n) must also be kept secret because they can be used to calculate d.</p>\n</blockquote>\n\n<p>The public modulus n can be computed as p &times; q. The only thing missing from a raw private key is e, but this value is usually selected as 65537, and if not you can still compute e from d and λ(n).</p>\n\n<p>However, many private key storage formats actually contain the public modulus n alongside the other components, so you can just do a direct extraction of the values.</p>\n\n<p><strong>EDIT, 2018:</strong> Still getting downvotes for this, and rightly so! I'm leaving this answer up so people can see why I was originally wrong, and to remind myself not to be wrong in future.</p>\n"},{"comments":[{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1404326335,"post_id":12813708,"comment_id":37999446,"body_markdown":"is the order of the parameters for public key spec correct?  Shouldn&#39;t it be modulus first?","body":"is the order of the parameters for public key spec correct?  Shouldn&#39;t it be modulus first?"}],"tags":[],"owner":{"account_id":1305028,"reputation":7232,"user_id":1254166,"display_name":"Eli Rosencruft"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1427489715,"creation_date":1349852472,"answer_id":12813708,"question_id":8434428,"body_markdown":"The assumption is that we are talking about RSA private and Public keys. Then, if you are working from a PEM format file, then first you need to read the private key from the file into a PrivateKey object:\r\n\r\n        public PrivateKey readPemRsaPrivateKey(String pemFilename) throws\r\n                java.io.IOException,\r\n                java.security.NoSuchAlgorithmException,\r\n                java.security.spec.InvalidKeySpecException\r\n        {\r\n                String pemString = File2String(pemFilename);\r\n\r\n                pemString = pemString.replace(&quot;-----BEGIN RSA PRIVATE KEY-----\\n&quot;, &quot;&quot;);\r\n                pemString = pemString.replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n\r\n                byte[] decoded = Base64.decodeBase64(pemString);\r\n\r\n                PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(decoded);\r\n                KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\r\n                return kf.generatePrivate(keySpec);\r\n        }\r\n\r\nwhere File2String is something like:\r\n\r\n        private static String File2String(String fileName) throws\r\n                java.io.FileNotFoundException, java.io.IOException\r\n        {\r\n                File file = new File(fileName);\r\n\r\n                char[] buffer = null;\r\n\r\n                BufferedReader bufferedReader = new BufferedReader(new FileReader(file));\r\n\r\n                buffer = new char[(int)file.length()];\r\n\r\n                int i = 0;\r\n                int c = bufferedReader.read();\r\n\r\n                while (c != -1) {\r\n                        buffer[i++] = (char)c;\r\n                        c = bufferedReader.read();\r\n                }\r\n                return new String(buffer);\r\n        }\r\n\r\nNow you can generate the corresponding PublicKey with code like this:\r\n\r\n        import java.security.interfaces.RSAPrivateCrtKey;\r\n        import java.security.spec.RSAPublicKeySpec;\r\n\r\n...\r\n\r\n        PrivateKey myPrivateKey = readPemRsaPrivateKey(myPrivateKeyPemFileName);\r\n        RSAPrivateCrtKey privk = (RSAPrivateCrtKey)myPrivateKey;\r\n\r\n        RSAPublicKeySpec publicKeySpec = new java.security.spec.RSAPublicKeySpec(privk.getModulus(), privk.getPublicExponent());\r\n\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PublicKey myPublicKey = keyFactory.generatePublic(publicKeySpec);\r\n\r\n\r\nCredits: https://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey","title":"Get public key from private in Java","body":"<p>The assumption is that we are talking about RSA private and Public keys. Then, if you are working from a PEM format file, then first you need to read the private key from the file into a PrivateKey object:</p>\n\n<pre><code>    public PrivateKey readPemRsaPrivateKey(String pemFilename) throws\n            java.io.IOException,\n            java.security.NoSuchAlgorithmException,\n            java.security.spec.InvalidKeySpecException\n    {\n            String pemString = File2String(pemFilename);\n\n            pemString = pemString.replace(\"-----BEGIN RSA PRIVATE KEY-----\\n\", \"\");\n            pemString = pemString.replace(\"-----END RSA PRIVATE KEY-----\", \"\");\n\n            byte[] decoded = Base64.decodeBase64(pemString);\n\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(decoded);\n            KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n\n            return kf.generatePrivate(keySpec);\n    }\n</code></pre>\n\n<p>where File2String is something like:</p>\n\n<pre><code>    private static String File2String(String fileName) throws\n            java.io.FileNotFoundException, java.io.IOException\n    {\n            File file = new File(fileName);\n\n            char[] buffer = null;\n\n            BufferedReader bufferedReader = new BufferedReader(new FileReader(file));\n\n            buffer = new char[(int)file.length()];\n\n            int i = 0;\n            int c = bufferedReader.read();\n\n            while (c != -1) {\n                    buffer[i++] = (char)c;\n                    c = bufferedReader.read();\n            }\n            return new String(buffer);\n    }\n</code></pre>\n\n<p>Now you can generate the corresponding PublicKey with code like this:</p>\n\n<pre><code>    import java.security.interfaces.RSAPrivateCrtKey;\n    import java.security.spec.RSAPublicKeySpec;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    PrivateKey myPrivateKey = readPemRsaPrivateKey(myPrivateKeyPemFileName);\n    RSAPrivateCrtKey privk = (RSAPrivateCrtKey)myPrivateKey;\n\n    RSAPublicKeySpec publicKeySpec = new java.security.spec.RSAPublicKeySpec(privk.getModulus(), privk.getPublicExponent());\n\n    KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n    PublicKey myPublicKey = keyFactory.generatePublic(publicKeySpec);\n</code></pre>\n\n<p>Credits: <a href=\"https://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey\">How to get a RSA PublicKey by giving a PrivateKey?</a></p>\n"},{"tags":[],"owner":{"account_id":4435613,"reputation":101,"user_id":3611538,"display_name":"caschulz88"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1406103494,"creation_date":1406103494,"answer_id":24905237,"question_id":8434428,"body_markdown":"Please make sure that Eli Rosencruft answer is basically correct, but the order of the modulus and the public exponent are incorrect! This is the correct statement:\r\n\r\n    RSAPublicKeySpec publicKeySpec = new java.security.spec.RSAPublicKeySpec(privk.getModulus(), privk.getPublicExponent());","title":"Get public key from private in Java","body":"<p>Please make sure that Eli Rosencruft answer is basically correct, but the order of the modulus and the public exponent are incorrect! This is the correct statement:</p>\n\n<pre><code>RSAPublicKeySpec publicKeySpec = new java.security.spec.RSAPublicKeySpec(privk.getModulus(), privk.getPublicExponent());\n</code></pre>\n"}],"owner":{"account_id":1002078,"reputation":6393,"user_id":1016721,"accept_rate":91,"display_name":"BRabbit27"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31645,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":8434440,"answer_count":3,"score":21,"last_activity_date":1673338441,"creation_date":1323362482,"question_id":8434428,"body_markdown":"I remember do this long time ago with OpenSSL, but I want to know if it&#39;s possible and how, I&#39;ve never used Cryptography on java.\r\n","title":"Get public key from private in Java","body":"<p>I remember do this long time ago with OpenSSL, but I want to know if it's possible and how, I've never used Cryptography on java.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673333579,"post_id":75066324,"comment_id":132469184,"body_markdown":"The problem is your project setup. You&#39;ve included the `spring-boot-maven-plugin` in your root pom, as all the others use this as the parent the `spring-boot-maven-plugin` applies to that as well and thus not building a regular jar but a spring boot jar, which is different. You should create another module and only that module should have the `spring-boot-maven-plugin` the others should just build a a regular jar.","body":"The problem is your project setup. You&#39;ve included the <code>spring-boot-maven-plugin</code> in your root pom, as all the others use this as the parent the <code>spring-boot-maven-plugin</code> applies to that as well and thus not building a regular jar but a spring boot jar, which is different. You should create another module and only that module should have the <code>spring-boot-maven-plugin</code> the others should just build a a regular jar."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":1,"creation_date":1673333745,"post_id":75066324,"comment_id":132469223,"body_markdown":"Hi @M.Deinum I included that plugin following a solution from someone on stackoverflow, However I get the same error with or without that plugin.","body":"Hi @M.Deinum I included that plugin following a solution from someone on stackoverflow, However I get the same error with or without that plugin."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673335096,"post_id":75066324,"comment_id":132469535,"body_markdown":"I am concerned about all the spaces surrounding the `=` signs","body":"I am concerned about all the spaces surrounding the <code>=</code> signs"},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":0,"creation_date":1673335356,"post_id":75066324,"comment_id":132469597,"body_markdown":"@XtremeBaumer Deleted the extra spaces around = signs, still getting the same error","body":"@XtremeBaumer Deleted the extra spaces around = signs, still getting the same error"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673335927,"post_id":75066324,"comment_id":132469748,"body_markdown":"`Failed to instantiate [com.zaxxer.hikari.HikariDataSource]` -&gt; your configuration is not set up for hikari datasources. The pattern is different: `@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)`","body":"<code>Failed to instantiate [com.zaxxer.hikari.HikariDataSource]</code> -&gt; your configuration is not set up for hikari datasources. The pattern is different: <code>@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673336626,"post_id":75066324,"comment_id":132469942,"body_markdown":"Still the problem is related to the fact that all your modules have the wrong structure. You should have 1 module that builds with the `spring-boot-maven-plugin` and contains the `application.properties`. That file should only exists once, also you should ditch the `maven-resource-plugin` as that is already applied. The proble is your structure and building. The root pom should be of type `pom` and not the default `jar` as well.","body":"Still the problem is related to the fact that all your modules have the wrong structure. You should have 1 module that builds with the <code>spring-boot-maven-plugin</code> and contains the <code>application.properties</code>. That file should only exists once, also you should ditch the <code>maven-resource-plugin</code> as that is already applied. The proble is your structure and building. The root pom should be of type <code>pom</code> and not the default <code>jar</code> as well."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":0,"creation_date":1673337242,"post_id":75066324,"comment_id":132470108,"body_markdown":"@XtremeBaumer I added &#39;@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)&#39; on my sprig boot application class but it doesn&#39;t change anything, still getting the same error.","body":"@XtremeBaumer I added &#39;@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)&#39; on my sprig boot application class but it doesn&#39;t change anything, still getting the same error."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":1,"creation_date":1673337414,"post_id":75066324,"comment_id":132470161,"body_markdown":"@M.Deinum thanks, The root pom type is pom, but I think I understand what you mean by having an additional module that builds with the spring-boot-maven plugin, can you guide me a little about how I should go about structuring the project for that?","body":"@M.Deinum thanks, The root pom type is pom, but I think I understand what you mean by having an additional module that builds with the spring-boot-maven plugin, can you guide me a little about how I should go about structuring the project for that?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673337417,"post_id":75066324,"comment_id":132470163,"body_markdown":"No, you need `spring.datasource.hikari.url` in your properties file","body":"No, you need <code>spring.datasource.hikari.url</code> in your properties file"},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":0,"creation_date":1673338451,"post_id":75066324,"comment_id":132470430,"body_markdown":"@XtremeBaumer made the changes for `spring.datasource.hikari.url`, new application.properties is in the edited question however it causes the same error as before.","body":"@XtremeBaumer made the changes for <code>spring.datasource.hikari.url</code>, new application.properties is in the edited question however it causes the same error as before."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673339017,"post_id":75066324,"comment_id":132470577,"body_markdown":"The regular `spring.datasource.url` will work. You can just add another module next to `controller`, `data` etc. named `app` which has all the other modules as a dependency, includes the configuration and builds the executable jar (and ofcourse contains the `application.properties`.","body":"The regular <code>spring.datasource.url</code> will work. You can just add another module next to <code>controller</code>, <code>data</code> etc. named <code>app</code> which has all the other modules as a dependency, includes the configuration and builds the executable jar (and ofcourse contains the <code>application.properties</code>."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":1,"creation_date":1673342029,"post_id":75066324,"comment_id":132471496,"body_markdown":"@M.Deinum should this app module be a maven module or spring boot project? All other modules are maven modules right now. And should I just run from main function in  root project?","body":"@M.Deinum should this app module be a maven module or spring boot project? All other modules are maven modules right now. And should I just run from main function in  root project?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673344499,"post_id":75066324,"comment_id":132472305,"body_markdown":"Why wouldn&#39;t a spring boot project be a module? It is just a maven module with the Spring Boot plugin and a class with a main bootstrapping the application.","body":"Why wouldn&#39;t a spring boot project be a module? It is just a maven module with the Spring Boot plugin and a class with a main bootstrapping the application."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673336556,"post_id":75066832,"comment_id":132469918,"body_markdown":"He uses JPA and thus needs a datasource excluding it will not solve the problem.","body":"He uses JPA and thus needs a datasource excluding it will not solve the problem."},{"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"score":0,"creation_date":1673337160,"post_id":75066832,"comment_id":132470086,"body_markdown":"Hi, thanks. I already tried this but I get a new error with this approach `A component required a bean named &#39;entityManagerFactory&#39; that could not be found.`","body":"Hi, thanks. I already tried this but I get a new error with this approach <code>A component required a bean named &#39;entityManagerFactory&#39; that could not be found.</code>"},{"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"score":0,"creation_date":1673354143,"post_id":75066832,"comment_id":132475322,"body_markdown":"Try setting manual configuration for your JPA","body":"Try setting manual configuration for your JPA"},{"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"score":0,"creation_date":1673354202,"post_id":75066832,"comment_id":132475342,"body_markdown":"@Bean(name=&quot;entityManagerFactory&quot;)\npublic LocalSessionFactoryBean sessionFactory() {\n    LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n\n    return sessionFactory;\n}","body":"@Bean(name=&quot;entityManagerFactory&quot;) public LocalSessionFactoryBean sessionFactory() {     LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();      return sessionFactory; }"},{"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"score":0,"creation_date":1673372942,"post_id":75066832,"comment_id":132482416,"body_markdown":"If my answers suffice to your issue, kindly send me a verified like ! I&#39;d really appreciate your return.","body":"If my answers suffice to your issue, kindly send me a verified like ! I&#39;d really appreciate your return."}],"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673336388,"creation_date":1673336388,"answer_id":75066832,"question_id":75066324,"body_markdown":"The JPA (Java persistence API) is a java specification for ORM (Object-Relational Mapping) tools. The &quot;spring-boot-starter-data-jpa&quot; dependency enables ORM in the context of the spring boot framework.\r\n\r\nThe JPA auto configuration feature of the spring boot application attempts to establish database connection using JPA Datasource. The JPA DataSource bean requires database driver to connect to a database.\r\n\r\nThe database driver should be available as a dependency in the pom.xml file. For the external databases such as Oracle, SQL Server, MySql, DB2, Postgres, MongoDB etc requires the database JDBC connection properties to establish the connection.\r\n\r\nYou need to configure the database driver and the JDBC connection properties to fix this exception -&gt; Failed to configure a DataSource: ‘url’ attribute is not specified and no embedded datasource could be configured. Reason: Failed to determine a suitable driver class.\r\n\r\napplication.properties\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration \r\n\r\napplication.yaml\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\nBy Programming :**Try this one, I built your demo project and ran it successfully using this one.**\r\n\r\n    @SpringBootApplication(exclude =  {DataSourceAutoConfiguration.class })","title":"Spring Boot Modular Project: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>The JPA (Java persistence API) is a java specification for ORM (Object-Relational Mapping) tools. The &quot;spring-boot-starter-data-jpa&quot; dependency enables ORM in the context of the spring boot framework.</p>\n<p>The JPA auto configuration feature of the spring boot application attempts to establish database connection using JPA Datasource. The JPA DataSource bean requires database driver to connect to a database.</p>\n<p>The database driver should be available as a dependency in the pom.xml file. For the external databases such as Oracle, SQL Server, MySql, DB2, Postgres, MongoDB etc requires the database JDBC connection properties to establish the connection.</p>\n<p>You need to configure the database driver and the JDBC connection properties to fix this exception -&gt; Failed to configure a DataSource: ‘url’ attribute is not specified and no embedded datasource could be configured. Reason: Failed to determine a suitable driver class.</p>\n<p>application.properties</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration \n</code></pre>\n<p>application.yaml</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n<p>By Programming :<strong>Try this one, I built your demo project and ran it successfully using this one.</strong></p>\n<pre><code>@SpringBootApplication(exclude =  {DataSourceAutoConfiguration.class })\n</code></pre>\n"}],"owner":{"account_id":17325610,"reputation":93,"user_id":12549915,"display_name":"Shahzaib"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673338383,"creation_date":1673332815,"question_id":75066324,"body_markdown":"I&#39;m working on a Modular Spring Boot application following guidelines from : [https://www.section.io/engineering-education/multi-module-architecture-with-spring-boot-and-maven/][1]\r\n\r\nHowever this article does not speak about application.properties files for different modules. I&#39;ve included this in my **root application.properties** file:\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/spring\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.username = root\r\n    spring.datasource.password =\r\n    \r\n    spring.jpa.show-sql = true\r\n    \r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    spring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n\r\n**Project Structure**\r\n\r\n[![Project Structure][2]][2]\r\n\r\n\r\nHere the root is a spring boot application and the data, service &amp; controller are maven modules.\r\n\r\n**Root pom.xml file**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.dbiz&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;esuite&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;esuite&lt;/name&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;description&gt;eSuite project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;data&lt;/module&gt;\r\n    \t\t&lt;module&gt;service&lt;/module&gt;\r\n    \t\t&lt;module&gt;controller&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    &lt;/project&gt;\r\n\r\n**Modules pom.xml file**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;artifactId&gt;controller&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;parent&gt;\r\n        &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esuite&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;com.dbiz&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;service&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;com.dbiz&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;data&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThe other modules pom.xml files are similar.\r\n\r\n**Stack Trace**\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.1)\r\n    \r\n    2023-01-10T11:14:27.773+05:00  INFO 13664 --- [           main] com.dbiz.esuite.EsuiteApplication        : Starting EsuiteApplication using Java 19.0.1 with PID 13664 (D:\\eclipse-workspace\\esuite\\target\\classes started by Dell in D:\\eclipse-workspace\\esuite)\r\n    2023-01-10T11:14:27.782+05:00  INFO 13664 --- [           main] com.dbiz.esuite.EsuiteApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-01-10T11:14:31.986+05:00  INFO 13664 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-01-10T11:14:32.210+05:00  INFO 13664 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 JPA repository interfaces.\r\n    2023-01-10T11:14:38.609+05:00  INFO 13664 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-01-10T11:14:38.647+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-01-10T11:14:38.647+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n    2023-01-10T11:14:39.413+05:00  INFO 13664 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-01-10T11:14:39.416+05:00  INFO 13664 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11128 ms\r\n    2023-01-10T11:14:39.553+05:00  WARN 13664 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    2023-01-10T11:14:39.558+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2023-01-10T11:14:45.176+05:00  INFO 13664 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-01-10T11:14:45.236+05:00 ERROR 13664 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n\r\n\r\nI&#39;ve tried all the solution I can find on Stackoverflow and other forums however none of them is working for me. Any hints or suggestions will be highly appreciated.\r\n\r\nThanks!\r\n\r\n**Edit**\r\n\r\nMade changes to the application.properties file by using `spring.datasource.hikari.url`\r\n\r\n**New Application.properties file**\r\n\r\n    spring.datasource.hikari.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.datasource.hikari.minimum-idle=5\r\n    spring.datasource.hikari.idle-timeout=180000\r\n    spring.datasource.hikari.maximum-pool-size=20\r\n    spring.datasource.hikari.auto-commit=true\r\n    spring.datasource.hikari.pool-name=Mysql-spring.datasource.hikariCP\r\n    spring.datasource.hikari.max-lifetime=1800000\r\n    spring.datasource.hikari.connection-timeout=30000\r\n    spring.datasource.hikari.connection-test-query=SELECT 1\r\n    spring.datasource.hikari.validation-timeout=5000\r\n    spring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/spring\r\n    spring.datasource.hikari.username=root\r\n    spring.datasource.hikari.password=\r\n    \r\n    spring.jpa.show-sql=true\r\n    \r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n**Result**\r\nStill getting the same error.\r\n\r\n\r\n  [1]: https://www.section.io/engineering-education/multi-module-architecture-with-spring-boot-and-maven/\r\n  [2]: https://i.stack.imgur.com/6GT26.png\r\n\r\n","title":"Spring Boot Modular Project: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>I'm working on a Modular Spring Boot application following guidelines from : <a href=\"https://www.section.io/engineering-education/multi-module-architecture-with-spring-boot-and-maven/\" rel=\"nofollow noreferrer\">https://www.section.io/engineering-education/multi-module-architecture-with-spring-boot-and-maven/</a></p>\n<p>However this article does not speak about application.properties files for different modules. I've included this in my <strong>root application.properties</strong> file:</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/spring\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.username = root\nspring.datasource.password =\n\nspring.jpa.show-sql = true\n\nspring.jpa.hibernate.ddl-auto = update\n\nspring.jpa.hibernate.naming.physical-strategy = org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/6GT26.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6GT26.png\" alt=\"Project Structure\" /></a></p>\n<p>Here the root is a spring boot application and the data, service &amp; controller are maven modules.</p>\n<p><strong>Root pom.xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\n    &lt;artifactId&gt;esuite&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;esuite&lt;/name&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;description&gt;eSuite project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;   \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;data&lt;/module&gt;\n        &lt;module&gt;service&lt;/module&gt;\n        &lt;module&gt;controller&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Modules pom.xml file</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;controller&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;parent&gt;\n    &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\n    &lt;artifactId&gt;esuite&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\n        &lt;artifactId&gt;service&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dbiz&lt;/groupId&gt;\n        &lt;artifactId&gt;data&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The other modules pom.xml files are similar.</p>\n<p><strong>Stack Trace</strong></p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.1)\n\n2023-01-10T11:14:27.773+05:00  INFO 13664 --- [           main] com.dbiz.esuite.EsuiteApplication        : Starting EsuiteApplication using Java 19.0.1 with PID 13664 (D:\\eclipse-workspace\\esuite\\target\\classes started by Dell in D:\\eclipse-workspace\\esuite)\n2023-01-10T11:14:27.782+05:00  INFO 13664 --- [           main] com.dbiz.esuite.EsuiteApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-10T11:14:31.986+05:00  INFO 13664 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-01-10T11:14:32.210+05:00  INFO 13664 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 JPA repository interfaces.\n2023-01-10T11:14:38.609+05:00  INFO 13664 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-01-10T11:14:38.647+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-10T11:14:38.647+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\n2023-01-10T11:14:39.413+05:00  INFO 13664 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-01-10T11:14:39.416+05:00  INFO 13664 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11128 ms\n2023-01-10T11:14:39.553+05:00  WARN 13664 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n2023-01-10T11:14:39.558+05:00  INFO 13664 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-01-10T11:14:45.176+05:00  INFO 13664 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-10T11:14:45.236+05:00 ERROR 13664 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>I've tried all the solution I can find on Stackoverflow and other forums however none of them is working for me. Any hints or suggestions will be highly appreciated.</p>\n<p>Thanks!</p>\n<p><strong>Edit</strong></p>\n<p>Made changes to the application.properties file by using <code>spring.datasource.hikari.url</code></p>\n<p><strong>New Application.properties file</strong></p>\n<pre><code>spring.datasource.hikari.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.hikari.minimum-idle=5\nspring.datasource.hikari.idle-timeout=180000\nspring.datasource.hikari.maximum-pool-size=20\nspring.datasource.hikari.auto-commit=true\nspring.datasource.hikari.pool-name=Mysql-spring.datasource.hikariCP\nspring.datasource.hikari.max-lifetime=1800000\nspring.datasource.hikari.connection-timeout=30000\nspring.datasource.hikari.connection-test-query=SELECT 1\nspring.datasource.hikari.validation-timeout=5000\nspring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/spring\nspring.datasource.hikari.username=root\nspring.datasource.hikari.password=\n\nspring.jpa.show-sql=true\n\nspring.jpa.hibernate.ddl-auto=update\n\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p><strong>Result</strong>\nStill getting the same error.</p>\n"},{"tags":["java","android","playback"],"comments":[{"owner":{"account_id":13938108,"reputation":106,"user_id":10064680,"display_name":"Pradeep Kumar"},"score":0,"creation_date":1673327218,"post_id":75065319,"comment_id":132468059,"body_markdown":"It could also be that there is a problem with the way that you are attempting to change the language within your app. Could you provide more information about how you are implementing the language change feature in your app?","body":"It could also be that there is a problem with the way that you are attempting to change the language within your app. Could you provide more information about how you are implementing the language change feature in your app?"}],"answers":[{"comments":[{"owner":{"account_id":2607825,"reputation":5379,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1673343747,"post_id":75066149,"comment_id":132472059,"body_markdown":"Exactly. I want to add that you can test if this is the problem by adding additional secondary languages to your Android settings. The Play Store should then download the additional languages.","body":"Exactly. I want to add that you can test if this is the problem by adding additional secondary languages to your Android settings. The Play Store should then download the additional languages."},{"owner":{"account_id":6649673,"reputation":91,"user_id":5132319,"display_name":"Hoa Nguyen"},"score":0,"creation_date":1700815802,"post_id":75066149,"comment_id":136701849,"body_markdown":"This should be the accepted answer.","body":"This should be the accepted answer."}],"tags":[],"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673331360,"creation_date":1673331360,"answer_id":75066149,"question_id":75065319,"body_markdown":"When you upload bundle file (.aab) to publish app on Play Store then it will removes localization files based on the user&#39;s phone settings during installation.\r\n\r\nTo avoid this, you need to add below line in **build.gradle** file\r\n\r\n    android {\r\n    \r\n      bundle {\r\n    \r\n         language {\r\n           enableSplit = false\r\n         }\r\n       }\r\n    }","title":"App Language Changing don&#39;t work after publishing in play console?","body":"<p>When you upload bundle file (.aab) to publish app on Play Store then it will removes localization files based on the user's phone settings during installation.</p>\n<p>To avoid this, you need to add below line in <strong>build.gradle</strong> file</p>\n<pre><code>android {\n\n  bundle {\n\n     language {\n       enableSplit = false\n     }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":27484140,"reputation":11,"user_id":20970679,"display_name":"Mahdin Abid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673338104,"creation_date":1673322977,"question_id":75065319,"body_markdown":"This app has 4 languages. If I install it via android studio or create APK and then install it on any phone, then changing the language works perfectly. But, After publishing on Play Console and downloading from the store, the app changing language doesn&#39;t work. Only stays English default \r\n\r\nI just added some extra translatable lines in strings of other languages ( string.kurdish, string.german). I do want not it works as changing the language after publishing in-store!","title":"App Language Changing don&#39;t work after publishing in play console?","body":"<p>This app has 4 languages. If I install it via android studio or create APK and then install it on any phone, then changing the language works perfectly. But, After publishing on Play Console and downloading from the store, the app changing language doesn't work. Only stays English default</p>\n<p>I just added some extra translatable lines in strings of other languages ( string.kurdish, string.german). I do want not it works as changing the language after publishing in-store!</p>\n"},{"tags":["java","oracle"],"answers":[{"tags":[],"owner":{"account_id":2273757,"reputation":5020,"user_id":2000555,"display_name":"kakoni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673337690,"creation_date":1673337690,"answer_id":75067030,"question_id":74051989,"body_markdown":"Bit late to answer but could you try this;\r\n\r\n     in:\r\n       type: oracle\r\n       ...\r\n       column_options:\r\n         CTOIAWASE_NO: { value_type: long }\r\n         CTOIAWASE_YY: { value_type: long }\r\n         NSYDN_ORDER: { value_type: long }\r\n(Assuming that those columns are numeric)","title":"Embulk: ignores last record value using incremental data with multiple primary key","body":"<p>Bit late to answer but could you try this;</p>\n<pre><code> in:\n   type: oracle\n   ...\n   column_options:\n     CTOIAWASE_NO: { value_type: long }\n     CTOIAWASE_YY: { value_type: long }\n     NSYDN_ORDER: { value_type: long }\n</code></pre>\n<p>(Assuming that those columns are numeric)</p>\n"}],"owner":{"account_id":26184242,"reputation":11,"user_id":19867048,"display_name":"Saito Mieko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673337690,"creation_date":1665646229,"question_id":74051989,"body_markdown":"Why embulk skips a last record value?\r\n\r\nIs there a workaround?\r\n\r\nCase: a wrong table\r\n```test.yml.liquid\r\nexec:&lt;omit&gt;\r\nin:\r\n  type: oracle\r\n{% include &#39;inc/oracle_axlink&#39; %}  # connection info\r\n  query: |\r\n    SELECT CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER\r\n    FROM TEST.TABLE1\r\n    WHERE CTOIAWASE_NO &gt;= :CTOIAWASE_NO\r\n    AND   CTOIAWASE_YY &gt;= :CTOIAWASE_YY\r\n    AND   NSYDN_ORDER &gt;= :NSYDN_ORDER\r\n  use_raw_query_with_incremental: true\r\n  incremental_columns: [ CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER ]\r\n  incremental: true\r\n  last_record: [ &quot;00100002&quot;, &quot;2020&quot;, 1 ]\r\n  options: {characterEncoding: MS932, characterSetResults: MS932,serverTimezone: JST}\r\n  fetch_rows: 10000\r\n  default_column_options:\r\n     NUMERIC: { value_type: long }\r\n     DECIMAL: { value_type: long }\r\nout:&lt;omit&gt;\r\n\r\n```\r\n\r\nError\r\n```\r\n\\$ embulk run test.yml.liquid -c test_diff.yml.liquid\r\n2022-10-13 15:51:59.959 +0900: Embulk v0.9.23\r\n2022-10-13 15:52:01.231 +0900 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.\r\n2022-10-13 15:52:04.168 +0900 [INFO] (main): Gem&#39;s home and path are set by default: &quot;/home/dbdevelop/.embulk/lib/gems&quot;\r\n2022-10-13 15:52:07.121 +0900 [INFO] (main): Started Embulk v0.9.23\r\n2022-10-13 15:52:07.323 +0900 [INFO] (0001:transaction): Loaded plugin embulk-input-oracle (0.9.3)\r\n2022-10-13 15:52:07.428 +0900 [INFO] (0001:transaction): Loaded plugin embulk-output-s3_parquet (0.5.2)\r\n2022-10-13 15:52:07.527 +0900 [INFO] (0001:transaction): Connecting to jdbc:oracle:thin:@XXX.XXXX.XXX.XXX:1521/TEST options {oracle.jdbc.ReadTimeout=1800000, user=XXXXXX, serverTimezone=JST, password=***, characterEncoding=MS932, oracle.net.CONNECT_TIMEOUT=300000, characterSetResults=MS932}\r\n2022-10-13 15:52:08.025 +0900 [INFO] (0001:transaction): Using JDBC Driver 12.1.0.2.0\r\n2022-10-13 15:52:08.109 +0900 [INFO] (0001:transaction): Using local thread executor with max_threads=1 / tasks=1\r\n2022-10-13 15:52:08.565 +0900 [INFO] (0001:transaction): === Output Parquet Schema ===\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): message embulk {\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional binary CTOIAWASE_NO (STRING);\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional binary CTOIAWASE_YY (STRING);\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional int64 NSYDN_ORDER;\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): }\r\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): =============================\r\n2022-10-13 15:52:08.584 +0900 [INFO] (0001:transaction): {done:  0 / 1, running: 0}\r\n2022-10-13 15:52:08.884 +0900 [WARN] (0017:task-0000): Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nlog4j:WARN No appenders could be found for logger (org.apache.htrace.core.Tracer).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n2022-10-13 15:52:09.016 +0900 [INFO] (0017:task-0000): Got brand-new compressor [.snappy]\r\n2022-10-13 15:52:09.347 +0900 [INFO] (0017:task-0000): Local Buffer File: /tmp/embulk-output-s3_parquet-12345678912345/embulk-output-s3_parquet-task-0-0.parquet, Destination: s3://testtesttest-1234567890/append/test/table1.snappy.parquet\r\n2022-10-13 15:52:09.403 +0900 [INFO] (0017:task-0000): Connecting to jdbc:oracle:thin:@XXX.XXX.XXX.XXX:1521/TEST options {oracle.jdbc.ReadTimeout=1800000, user=XXXXXXX, serverTimezone=JST, password=***, characterEncoding=MS932, oracle.net.CONNECT_TIMEOUT=300000, characterSetResults=MS932}\r\n2022-10-13 15:52:09.455 +0900 [INFO] (0017:task-0000): SQL: SELECT CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER\r\nFROM TEST.TABLE1\r\nWHERE CTOIAWASE_NO &gt;= ?\r\nAND   CTOIAWASE_YY &gt;= :CTOIAWASE_YY\r\nAND   NSYDN_ORDER &gt;= ?\r\n\r\n2022-10-13 15:52:09.455 +0900 [INFO] (0017:task-0000): Parameters: [&quot;2020&quot;, 1]\r\n2022-10-13 15:52:09.703 +0900 [INFO] (0001:transaction): {done:  1 / 1, running: 0}\r\norg.embulk.exec.PartialExecutionException: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありま せん - 索引:: 3\r\n        at org.embulk.exec.BulkLoader$LoaderState.buildPartialExecuteException(BulkLoader.java:340)\r\n        at org.embulk.exec.BulkLoader.doRun(BulkLoader.java:566)\r\n        at org.embulk.exec.BulkLoader.access$000(BulkLoader.java:35)\r\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:353)\r\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:350)\r\n        at org.embulk.spi.Exec.doWith(Exec.java:22)\r\n        at org.embulk.exec.BulkLoader.run(BulkLoader.java:350)\r\n        at org.embulk.EmbulkEmbed.run(EmbulkEmbed.java:242)\r\n        at org.embulk.EmbulkRunner.runInternal(EmbulkRunner.java:291)\r\n        at org.embulk.EmbulkRunner.run(EmbulkRunner.java:155)\r\n        at org.embulk.cli.EmbulkRun.runSubcommand(EmbulkRun.java:431)\r\n        at org.embulk.cli.EmbulkRun.run(EmbulkRun.java:90)\r\n        at org.embulk.cli.Main.main(Main.java:64)\r\nCaused by: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\r\n        at com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.run(AbstractJdbcInputPlugin.java:509)\r\n        at org.embulk.spi.util.Executors.process(Executors.java:62)\r\n        at org.embulk.spi.util.Executors.process(Executors.java:38)\r\n        at org.embulk.exec.LocalExecutorPlugin$DirectExecutor$1.call(LocalExecutorPlugin.java:170)\r\n        at org.embulk.exec.LocalExecutorPlugin$DirectExecutor$1.call(LocalExecutorPlugin.java:167)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\r\n        at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2076)\r\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4790)\r\n        at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:4845)\r\n        at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1501)\r\n        at org.embulk.input.jdbc.JdbcInputConnection$SingleSelect.fetch(JdbcInputConnection.java:194)\r\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.fetch(AbstractJdbcInputPlugin.java:571)\r\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.run(AbstractJdbcInputPlugin.java:480)\r\n        ... 8 more\r\n\r\nError: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\r\n```\r\n\r\n&lt;pre&gt;\r\nError: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\r\nis \r\nError: org.embulk.spi.DataException: Converting last_record value 1 to column index 2 is not supported\r\n&lt;/pre&gt;","title":"Embulk: ignores last record value using incremental data with multiple primary key","body":"<p>Why embulk skips a last record value?</p>\n<p>Is there a workaround?</p>\n<p>Case: a wrong table</p>\n<pre><code>exec:&lt;omit&gt;\nin:\n  type: oracle\n{% include 'inc/oracle_axlink' %}  # connection info\n  query: |\n    SELECT CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER\n    FROM TEST.TABLE1\n    WHERE CTOIAWASE_NO &gt;= :CTOIAWASE_NO\n    AND   CTOIAWASE_YY &gt;= :CTOIAWASE_YY\n    AND   NSYDN_ORDER &gt;= :NSYDN_ORDER\n  use_raw_query_with_incremental: true\n  incremental_columns: [ CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER ]\n  incremental: true\n  last_record: [ &quot;00100002&quot;, &quot;2020&quot;, 1 ]\n  options: {characterEncoding: MS932, characterSetResults: MS932,serverTimezone: JST}\n  fetch_rows: 10000\n  default_column_options:\n     NUMERIC: { value_type: long }\n     DECIMAL: { value_type: long }\nout:&lt;omit&gt;\n\n</code></pre>\n<p>Error</p>\n<pre><code>\\$ embulk run test.yml.liquid -c test_diff.yml.liquid\n2022-10-13 15:51:59.959 +0900: Embulk v0.9.23\n2022-10-13 15:52:01.231 +0900 [WARN] (main): DEPRECATION: JRuby org.jruby.embed.ScriptingContainer is directly injected.\n2022-10-13 15:52:04.168 +0900 [INFO] (main): Gem's home and path are set by default: &quot;/home/dbdevelop/.embulk/lib/gems&quot;\n2022-10-13 15:52:07.121 +0900 [INFO] (main): Started Embulk v0.9.23\n2022-10-13 15:52:07.323 +0900 [INFO] (0001:transaction): Loaded plugin embulk-input-oracle (0.9.3)\n2022-10-13 15:52:07.428 +0900 [INFO] (0001:transaction): Loaded plugin embulk-output-s3_parquet (0.5.2)\n2022-10-13 15:52:07.527 +0900 [INFO] (0001:transaction): Connecting to jdbc:oracle:thin:@XXX.XXXX.XXX.XXX:1521/TEST options {oracle.jdbc.ReadTimeout=1800000, user=XXXXXX, serverTimezone=JST, password=***, characterEncoding=MS932, oracle.net.CONNECT_TIMEOUT=300000, characterSetResults=MS932}\n2022-10-13 15:52:08.025 +0900 [INFO] (0001:transaction): Using JDBC Driver 12.1.0.2.0\n2022-10-13 15:52:08.109 +0900 [INFO] (0001:transaction): Using local thread executor with max_threads=1 / tasks=1\n2022-10-13 15:52:08.565 +0900 [INFO] (0001:transaction): === Output Parquet Schema ===\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): message embulk {\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional binary CTOIAWASE_NO (STRING);\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional binary CTOIAWASE_YY (STRING);\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction):   optional int64 NSYDN_ORDER;\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): }\n2022-10-13 15:52:08.566 +0900 [INFO] (0001:transaction): =============================\n2022-10-13 15:52:08.584 +0900 [INFO] (0001:transaction): {done:  0 / 1, running: 0}\n2022-10-13 15:52:08.884 +0900 [WARN] (0017:task-0000): Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nlog4j:WARN No appenders could be found for logger (org.apache.htrace.core.Tracer).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n2022-10-13 15:52:09.016 +0900 [INFO] (0017:task-0000): Got brand-new compressor [.snappy]\n2022-10-13 15:52:09.347 +0900 [INFO] (0017:task-0000): Local Buffer File: /tmp/embulk-output-s3_parquet-12345678912345/embulk-output-s3_parquet-task-0-0.parquet, Destination: s3://testtesttest-1234567890/append/test/table1.snappy.parquet\n2022-10-13 15:52:09.403 +0900 [INFO] (0017:task-0000): Connecting to jdbc:oracle:thin:@XXX.XXX.XXX.XXX:1521/TEST options {oracle.jdbc.ReadTimeout=1800000, user=XXXXXXX, serverTimezone=JST, password=***, characterEncoding=MS932, oracle.net.CONNECT_TIMEOUT=300000, characterSetResults=MS932}\n2022-10-13 15:52:09.455 +0900 [INFO] (0017:task-0000): SQL: SELECT CTOIAWASE_NO, CTOIAWASE_YY, NSYDN_ORDER\nFROM TEST.TABLE1\nWHERE CTOIAWASE_NO &gt;= ?\nAND   CTOIAWASE_YY &gt;= :CTOIAWASE_YY\nAND   NSYDN_ORDER &gt;= ?\n\n2022-10-13 15:52:09.455 +0900 [INFO] (0017:task-0000): Parameters: [&quot;2020&quot;, 1]\n2022-10-13 15:52:09.703 +0900 [INFO] (0001:transaction): {done:  1 / 1, running: 0}\norg.embulk.exec.PartialExecutionException: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありま せん - 索引:: 3\n        at org.embulk.exec.BulkLoader$LoaderState.buildPartialExecuteException(BulkLoader.java:340)\n        at org.embulk.exec.BulkLoader.doRun(BulkLoader.java:566)\n        at org.embulk.exec.BulkLoader.access$000(BulkLoader.java:35)\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:353)\n        at org.embulk.exec.BulkLoader$1.run(BulkLoader.java:350)\n        at org.embulk.spi.Exec.doWith(Exec.java:22)\n        at org.embulk.exec.BulkLoader.run(BulkLoader.java:350)\n        at org.embulk.EmbulkEmbed.run(EmbulkEmbed.java:242)\n        at org.embulk.EmbulkRunner.runInternal(EmbulkRunner.java:291)\n        at org.embulk.EmbulkRunner.run(EmbulkRunner.java:155)\n        at org.embulk.cli.EmbulkRun.runSubcommand(EmbulkRun.java:431)\n        at org.embulk.cli.EmbulkRun.run(EmbulkRun.java:90)\n        at org.embulk.cli.Main.main(Main.java:64)\nCaused by: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\n        at com.google.common.base.Throwables.propagate(Throwables.java:160)\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.run(AbstractJdbcInputPlugin.java:509)\n        at org.embulk.spi.util.Executors.process(Executors.java:62)\n        at org.embulk.spi.util.Executors.process(Executors.java:38)\n        at org.embulk.exec.LocalExecutorPlugin$DirectExecutor$1.call(LocalExecutorPlugin.java:170)\n        at org.embulk.exec.LocalExecutorPlugin$DirectExecutor$1.call(LocalExecutorPlugin.java:167)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\n        at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2076)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4790)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:4845)\n        at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1501)\n        at org.embulk.input.jdbc.JdbcInputConnection$SingleSelect.fetch(JdbcInputConnection.java:194)\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.fetch(AbstractJdbcInputPlugin.java:571)\n        at org.embulk.input.jdbc.AbstractJdbcInputPlugin.run(AbstractJdbcInputPlugin.java:480)\n        ... 8 more\n\nError: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\n</code></pre>\n<pre>\nError: java.lang.RuntimeException: java.sql.SQLException: INまたはOUTパラメータがありません - 索引:: 3\nis \nError: org.embulk.spi.DataException: Converting last_record value 1 to column index 2 is not supported\n</pre>\n"},{"tags":["java","assertion","effective-java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1673328330,"post_id":75065805,"comment_id":132468218,"body_markdown":"You can, and it&#39;s not a terrible idea.  But the idea is that the input is coming from code you trust, so it&#39;s only a matter of testing, not validation.","body":"You can, and it&#39;s not a terrible idea.  But the idea is that the input is coming from code you trust, so it&#39;s only a matter of testing, not validation."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1673334714,"post_id":75065805,"comment_id":132469438,"body_markdown":"Assertions are usually turned off, but it&#39;s good practice to turn them on during testing. That way, tests will fail if the assertions don&#39;t hold, which means there&#39;s an error in the code.","body":"Assertions are usually turned off, but it&#39;s good practice to turn them on during testing. That way, tests will fail if the assertions don&#39;t hold, which means there&#39;s an error in the code."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673337645,"creation_date":1673336704,"answer_id":75066878,"question_id":75065805,"body_markdown":"We need to unpick what you mean by &quot;validation&quot;.\r\n\r\nCase #1: If you are talking about internal consistency checks within your module, library or application, *that you want to happen at test time*, then `assert` statements are an appropriate way to do that.  \r\n\r\nThe kind of internal consistency checks that you might implement with `assert` statements could be expensive.  For instance you might &quot;assert&quot; that some invariant is true after each operation.  This extra checking could well alter the computational complexity of operations when asserting checking is on.  You don&#39;t want this kind of validation to happen in production.\r\n\r\nCase #2: If you are talking about validation of external inputs to your application, using `assert` is not the right way to do it.  The main reason is that Java assertion checking can be turned off.  Indeed, they routinely *are* turned off in production; see above for the reason.  But you don&#39;t want validation of external (e.g. user) input to be turned off because that is liable to cause other problems such as bad data in your database, vulnerabilities, etc.\r\n\r\nThis kind of validation should not be done using `assert`.\r\n\r\nCase #3: Between those two cases above, we have the case where you are performing defensive validation on (say) parameters passed to some internal API within your code base.\r\n\r\n  - Typically you don&#39;t want these checks to be turned off at runtime.  Turning them off is liable to allow the effects of a problem (e.g. a previously undetected bug) to spread further.\r\n  - But typically you don&#39;t also want the *other* internal `assert` checks (i.e. the &quot;test time&quot; checks from case 1) to be turned on because they are liable to be expensive.\r\n\r\nSo that means that you probably should not be using `assert` for these tests either.\r\n\r\n----------------------------\r\n\r\nAccording to the above reasoning, it doesn&#39;t really make any difference if the methods in which you are doing the validation are `public`, `private` or something else.  Using `assert` or not is an orthogonal issue.\r\n\r\nFinally, it is worth saying that many Java programmers avoid using the `assert` statement entirely.  A lot of the validation you would do using `assert` at test time can also be done using mocking.  By not using `assert` at all, you avoid the scenario where someone creates performance problems for your application by turning on assertion checks in production!\r\n","title":"What is the benefits to use assertion in Java&#39;s private methods","body":"<p>We need to unpick what you mean by &quot;validation&quot;.</p>\n<p>Case #1: If you are talking about internal consistency checks within your module, library or application, <em>that you want to happen at test time</em>, then <code>assert</code> statements are an appropriate way to do that.</p>\n<p>The kind of internal consistency checks that you might implement with <code>assert</code> statements could be expensive.  For instance you might &quot;assert&quot; that some invariant is true after each operation.  This extra checking could well alter the computational complexity of operations when asserting checking is on.  You don't want this kind of validation to happen in production.</p>\n<p>Case #2: If you are talking about validation of external inputs to your application, using <code>assert</code> is not the right way to do it.  The main reason is that Java assertion checking can be turned off.  Indeed, they routinely <em>are</em> turned off in production; see above for the reason.  But you don't want validation of external (e.g. user) input to be turned off because that is liable to cause other problems such as bad data in your database, vulnerabilities, etc.</p>\n<p>This kind of validation should not be done using <code>assert</code>.</p>\n<p>Case #3: Between those two cases above, we have the case where you are performing defensive validation on (say) parameters passed to some internal API within your code base.</p>\n<ul>\n<li>Typically you don't want these checks to be turned off at runtime.  Turning them off is liable to allow the effects of a problem (e.g. a previously undetected bug) to spread further.</li>\n<li>But typically you don't also want the <em>other</em> internal <code>assert</code> checks (i.e. the &quot;test time&quot; checks from case 1) to be turned on because they are liable to be expensive.</li>\n</ul>\n<p>So that means that you probably should not be using <code>assert</code> for these tests either.</p>\n<hr />\n<p>According to the above reasoning, it doesn't really make any difference if the methods in which you are doing the validation are <code>public</code>, <code>private</code> or something else.  Using <code>assert</code> or not is an orthogonal issue.</p>\n<p>Finally, it is worth saying that many Java programmers avoid using the <code>assert</code> statement entirely.  A lot of the validation you would do using <code>assert</code> at test time can also be done using mocking.  By not using <code>assert</code> at all, you avoid the scenario where someone creates performance problems for your application by turning on assertion checks in production!</p>\n"}],"owner":{"account_id":8105935,"reputation":19,"user_id":6107466,"display_name":"hounan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75066878,"answer_count":1,"score":0,"last_activity_date":1673337645,"creation_date":1673328281,"question_id":75065805,"body_markdown":"I&#39;m reading Effective Java Item 49.\r\nI am a bit confused about the example using assertion to validate params in private methods.\r\n\r\nSome posts explained why we can use assertions in private because public methods are responsible for ensuring that the correct arguments are passed. So no risk to use assertion for the private methods.\r\n\r\nBut why don&#39;t we use `Objects.requireNonNull` in private methods. \r\nAnd since assertion can be turned off, why do we still use it in private, it won;t do validation if we don&#39;t enable it? \r\n\r\n","title":"What is the benefits to use assertion in Java&#39;s private methods","body":"<p>I'm reading Effective Java Item 49.\nI am a bit confused about the example using assertion to validate params in private methods.</p>\n<p>Some posts explained why we can use assertions in private because public methods are responsible for ensuring that the correct arguments are passed. So no risk to use assertion for the private methods.</p>\n<p>But why don't we use <code>Objects.requireNonNull</code> in private methods.\nAnd since assertion can be turned off, why do we still use it in private, it won;t do validation if we don't enable it?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-webflux"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647757990,"post_id":71537058,"comment_id":126448420,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1647715153,"creation_date":1647715153,"answer_id":71541008,"question_id":71537058,"body_markdown":"In reactive application authentication information is stored in the Reactive flow and accessible from `Mono`/`Flux`. You could use [`ReactiveSecurityContextHolder`](https://docs.spring.io/spring-security/reference/reactive/authorization/method.html) to obtain the currently authenticated principal, or an authentication request token.\r\n\r\n```\r\n@PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\npublic Mono&lt;String&gt; details() {\r\n        return ReactiveSecurityContextHolder.getContext()\r\n                .map(ctx -&gt; ((Principal) ctx.getAuthentication().getPrincipal()).getName());\r\n    }\r\n```","title":"How to get spring security context in reactive webflux","body":"<p>In reactive application authentication information is stored in the Reactive flow and accessible from <code>Mono</code>/<code>Flux</code>. You could use <a href=\"https://docs.spring.io/spring-security/reference/reactive/authorization/method.html\" rel=\"noreferrer\"><code>ReactiveSecurityContextHolder</code></a> to obtain the currently authenticated principal, or an authentication request token.</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\npublic Mono&lt;String&gt; details() {\n        return ReactiveSecurityContextHolder.getContext()\n                .map(ctx -&gt; ((Principal) ctx.getAuthentication().getPrincipal()).getName());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673337544,"creation_date":1673337544,"answer_id":75067010,"question_id":71537058,"body_markdown":"I found this answer looking for a way to add the access token to my webclient requests. If we are using OAuth2 or OpenID Connect and want to access the token instead of the principal&#39;s name, then this is not possible via the principal in the security context. \r\n\r\nInstead we need to create a `ServerOAuth2AuthorizedClientExchangeFilterFunction` and register it as a filter function to the WebClient:\r\n\r\n```\r\nServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\r\n    new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n        clientRegistrations,\r\n        authorizedClients);\r\n\r\n        oauth.setDefaultOAuth2AuthorizedClient(true);\r\n```\r\n\r\nwhere `clientRegistrations` is an injectabile bean of type `ReactiveClientRegistrationRepository` and `authorizedClients` is an injectable bean of type `ServerOAuth2AuthorizedClientRepository`.\r\n\r\nWe can then use the `filters` method for the builder to add our filter function to the `exchangeFilterFunctions`:\r\n\r\n```\r\nWebClient.builder()\r\n         .filters(exchangeFilterFunctions -&gt; {\r\n                    exchangeFilterFunctions.add(oauth);\r\n                  })\r\n         .build();\r\n```\r\n\r\nBaeldung has a nice background article about this, which explains it in more detail: https://www.baeldung.com/spring-webclient-oauth2","title":"How to get spring security context in reactive webflux","body":"<p>I found this answer looking for a way to add the access token to my webclient requests. If we are using OAuth2 or OpenID Connect and want to access the token instead of the principal's name, then this is not possible via the principal in the security context.</p>\n<p>Instead we need to create a <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> and register it as a filter function to the WebClient:</p>\n<pre><code>ServerOAuth2AuthorizedClientExchangeFilterFunction oauth =\n    new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n        clientRegistrations,\n        authorizedClients);\n\n        oauth.setDefaultOAuth2AuthorizedClient(true);\n</code></pre>\n<p>where <code>clientRegistrations</code> is an injectabile bean of type <code>ReactiveClientRegistrationRepository</code> and <code>authorizedClients</code> is an injectable bean of type <code>ServerOAuth2AuthorizedClientRepository</code>.</p>\n<p>We can then use the <code>filters</code> method for the builder to add our filter function to the <code>exchangeFilterFunctions</code>:</p>\n<pre><code>WebClient.builder()\n         .filters(exchangeFilterFunctions -&gt; {\n                    exchangeFilterFunctions.add(oauth);\n                  })\n         .build();\n</code></pre>\n<p>Baeldung has a nice background article about this, which explains it in more detail: <a href=\"https://www.baeldung.com/spring-webclient-oauth2\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webclient-oauth2</a></p>\n"}],"owner":{"account_id":10188651,"reputation":31,"user_id":7522780,"display_name":"Ultracoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5139,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1673337544,"creation_date":1647682958,"question_id":71537058,"body_markdown":"I have a problem with my spring boot application (version 2.6.3). \r\nI have configured reactive spring security like there: \r\n\r\n**MyApplication.java:** \r\n```\r\n@SpringBootApplication\r\n@EnableWebFlux\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class MyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class);\r\n    }\r\n\r\n    @Bean\r\n\tpublic SecurityWebFilterChain springSecurityFilterChain(final ServerHttpSecurity http, final ReactiveOpaqueTokenIntrospector reactiveOpaqueTokenIntrospector) {\r\n\t\treturn http.authorizeExchange()\r\n\t\t\t\t.anyExchange().authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t\t.httpBasic().disable()\r\n\t\t\t\t.cors().and()\r\n\t\t\t\t.logout().disable()\r\n\t\t\t\t.formLogin().disable()\r\n\t\t\t\t.oauth2ResourceServer()\r\n\t\t\t\t.opaqueToken()\r\n\t\t\t\t.introspector(reactiveOpaqueTokenIntrospector)\r\n\t\t\t\t.and().and()\r\n\t\t\t\t.csrf()\r\n\t\t\t\t.disable()\r\n\t\t\t\t.build();\r\n\t}\r\n    \r\n}\r\n```\r\n\r\n\r\nAnd this is my web resource (controller):\r\n\r\n**MyWebResource.java:** \r\n```\r\n@RestController\r\npublic class MyWebResource implements MyWebResourceApi {\r\n\r\n    \r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)\r\n    @Override\r\n    public Mono&lt;String&gt; details(String userId, ServerWebExchange exchange) {\r\n        return exchange.getPrincipal().map(Principal::getName);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s work fine, when my access token is expired or incorrect the request should be denied. However when PreAuthorized allow request, my user principal will be never resolved in my exchange...\r\n","title":"How to get spring security context in reactive webflux","body":"<p>I have a problem with my spring boot application (version 2.6.3).\nI have configured reactive spring security like there:</p>\n<p><strong>MyApplication.java:</strong></p>\n<pre><code>@SpringBootApplication\n@EnableWebFlux\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class);\n    }\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(final ServerHttpSecurity http, final ReactiveOpaqueTokenIntrospector reactiveOpaqueTokenIntrospector) {\n        return http.authorizeExchange()\n                .anyExchange().authenticated()\n                .and()\n                .httpBasic().disable()\n                .cors().and()\n                .logout().disable()\n                .formLogin().disable()\n                .oauth2ResourceServer()\n                .opaqueToken()\n                .introspector(reactiveOpaqueTokenIntrospector)\n                .and().and()\n                .csrf()\n                .disable()\n                .build();\n    }\n    \n}\n</code></pre>\n<p>And this is my web resource (controller):</p>\n<p><strong>MyWebResource.java:</strong></p>\n<pre><code>@RestController\npublic class MyWebResource implements MyWebResourceApi {\n\n    \n    @PreAuthorize(&quot;hasRole('ROLE_USER')&quot;)\n    @Override\n    public Mono&lt;String&gt; details(String userId, ServerWebExchange exchange) {\n        return exchange.getPrincipal().map(Principal::getName);\n    }\n}\n</code></pre>\n<p>It's work fine, when my access token is expired or incorrect the request should be denied. However when PreAuthorized allow request, my user principal will be never resolved in my exchange...</p>\n"},{"tags":["java","oracle","weblogic"],"comments":[{"owner":{"account_id":1543453,"reputation":992,"user_id":1437558,"accept_rate":86,"display_name":"Emre T&#252;rkiş"},"score":0,"creation_date":1483028332,"post_id":41276579,"comment_id":69968834,"body_markdown":"have you tried creating the registry key yourself to see if you really have admin privileges? what&#39;s your OS?","body":"have you tried creating the registry key yourself to see if you really have admin privileges? what&#39;s your OS?"},{"owner":{"account_id":9897954,"reputation":11,"user_id":7328818,"display_name":"Anand"},"score":0,"creation_date":1483436663,"post_id":41276579,"comment_id":70086994,"body_markdown":"Yes, Turkis. I do have Admin privileges..OS is Windows 7,64 Bit","body":"Yes, Turkis. I do have Admin privileges..OS is Windows 7,64 Bit"}],"answers":[{"comments":[{"owner":{"account_id":3528508,"reputation":621,"user_id":2948862,"display_name":"eliteproxy"},"score":0,"creation_date":1536359138,"post_id":43345405,"comment_id":91410187,"body_markdown":"I had to run the java command from within a JDK version which is newer or the same as the supported JDK version of the WebLogic server. For instance, I had to run Oracle Fusion Middleware 12.0 using JDK 8.","body":"I had to run the java command from within a JDK version which is newer or the same as the supported JDK version of the WebLogic server. For instance, I had to run Oracle Fusion Middleware 12.0 using JDK 8."}],"tags":[],"owner":{"account_id":6754711,"reputation":61,"user_id":5203598,"display_name":"Bharath Raj"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491912847,"creation_date":1491912310,"answer_id":43345405,"question_id":41276579,"body_markdown":"1. Open the command prompt in administrator mode, then try this\r\n2. java -d64 -jar fmw_12.2.1.2.0_wls.jar\r\n\r\nRefer this link for further details:\r\n[https://docs.oracle.com/cd/E24329_01/doc.1211/e24492/guimode.htm#WLSIG198][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E24329_01/doc.1211/e24492/guimode.htm#WLSIG198","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<ol>\n<li>Open the command prompt in administrator mode, then try this</li>\n<li>java -d64 -jar fmw_12.2.1.2.0_wls.jar</li>\n</ol>\n\n<p>Refer this link for further details:\n<a href=\"https://docs.oracle.com/cd/E24329_01/doc.1211/e24492/guimode.htm#WLSIG198\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E24329_01/doc.1211/e24492/guimode.htm#WLSIG198</a></p>\n"},{"tags":[],"owner":{"account_id":16803080,"reputation":13,"user_id":12147910,"display_name":"Helder Costa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569925976,"creation_date":1569925976,"answer_id":58182965,"question_id":41276579,"body_markdown":"I know this is an old post but, if someone new drops by, this may be usefull.\r\nThis problem is caused by a lack of permissions with the current OS Windows user.\r\nYou need to right click on top of the CMD icon and choose Run as Administrator.\r\nInside the DOS command line window go to your JDK source folder.\r\nThen type the following command line:\r\njava.exe -jar &quot;path to the weblogic jar file&quot;.\r\nSeveral checks will be madde and the weblogic installation window will appear.","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<p>I know this is an old post but, if someone new drops by, this may be usefull.\nThis problem is caused by a lack of permissions with the current OS Windows user.\nYou need to right click on top of the CMD icon and choose Run as Administrator.\nInside the DOS command line window go to your JDK source folder.\nThen type the following command line:\njava.exe -jar \"path to the weblogic jar file\".\nSeveral checks will be madde and the weblogic installation window will appear.</p>\n"},{"tags":[],"owner":{"account_id":13389934,"reputation":97,"user_id":9662569,"display_name":"kupendra pola"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592139276,"creation_date":1592138144,"answer_id":62372604,"question_id":41276579,"body_markdown":"Even I have got the same problem and its resolved, \r\nMake sure you have done the below steps,\r\n\r\n    1.install java, a  compatible version from the internet, and set JAVA_HOME and path variables.\r\n    JAVA_HOME: JDK home directory path\r\n    path: jdk&gt;bin directory path\r\n    \r\n    2.execute the below line in command prompt which is opened with a privilege [Run As An Administrator].\r\n      java -jar D:\\softwares\\servers\\fmw_12.1.3.0.0_wls.jar\r\n    \r\n    3.it will take a moment to extract all the files and installation begins.\r\n\r\n","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<p>Even I have got the same problem and its resolved, \nMake sure you have done the below steps,</p>\n\n<pre><code>1.install java, a  compatible version from the internet, and set JAVA_HOME and path variables.\nJAVA_HOME: JDK home directory path\npath: jdk&gt;bin directory path\n\n2.execute the below line in command prompt which is opened with a privilege [Run As An Administrator].\n  java -jar D:\\softwares\\servers\\fmw_12.1.3.0.0_wls.jar\n\n3.it will take a moment to extract all the files and installation begins.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19162581,"reputation":1,"user_id":13998051,"display_name":"Deeksha D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673337388,"creation_date":1673337388,"answer_id":75066986,"question_id":41276579,"body_markdown":"&quot;C:\\Program Files\\Java\\jdk1.8.0_351\\bin\\java&quot; -jar weblogic.jar\r\nthe above command works fine. you need to have the latest version of jdk installed in your machine.\r\nweblogic.jar is the jar filename which has been downloaded.","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<p>&quot;C:\\Program Files\\Java\\jdk1.8.0_351\\bin\\java&quot; -jar weblogic.jar\nthe above command works fine. you need to have the latest version of jdk installed in your machine.\nweblogic.jar is the jar filename which has been downloaded.</p>\n"}],"owner":{"account_id":9897954,"reputation":11,"user_id":7328818,"display_name":"Anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16607,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1673337388,"creation_date":1482386027,"question_id":41276579,"body_markdown":"**unable to install Weblogic server 12C, the jar file is not even opening. Tried instaling from command prompt as Admin , ended up with error unable to access jar file. I have java 7 installed. Please help**\r\n    \r\n    \r\n**info copied from log file..**\r\n    \r\n    2016-12-22 10:30:19,591 INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Extracting the installer . . .\r\n    2016-12-22 10:30:23,626 INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Finished self extraction to C:\\Users\\Anand\\AppData\\Local\\Temp\\orcl3227252922117189327.tmp.\r\n    2016-12-22 10:30:23,839 WARNING [1] com.oracle.cie.common.jni.WinRegistryHelper - Create Key Failed: HKEY_LOCAL_MACHINE\\Software\\Oracle\r\n    2016-12-22 10:30:23,839 SEVERE [1] com.oracle.cie.nextgen.launcher.PlatformHelper - createRegistry to add a value failed\r\n    2016-12-22 10:30:23,839 SEVERE [1] com.oracle.cie.nextgen.launcher.Launcher - Unable to access or modify the system registry.  Select Run as Administrator when opening the Command Prompt and try again.\r\n    2016-12-22 10:30:23,872 SEVERE [1] com.oracle.cie.nextgen.launcher.Launcher - Unable to access or modify the system registry.  Select Run as Administrator when opening the Command Prompt and try again.","title":"unable to install Weblogic server 12C, the jar file is not even opening","body":"<p><strong>unable to install Weblogic server 12C, the jar file is not even opening. Tried instaling from command prompt as Admin , ended up with error unable to access jar file. I have java 7 installed. Please help</strong></p>\n\n<p><strong>info copied from log file..</strong></p>\n\n<pre><code>2016-12-22 10:30:19,591 INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Extracting the installer . . .\n2016-12-22 10:30:23,626 INFO  [1] com.oracle.cie.nextgen.launcher.LogUtils - Finished self extraction to C:\\Users\\Anand\\AppData\\Local\\Temp\\orcl3227252922117189327.tmp.\n2016-12-22 10:30:23,839 WARNING [1] com.oracle.cie.common.jni.WinRegistryHelper - Create Key Failed: HKEY_LOCAL_MACHINE\\Software\\Oracle\n2016-12-22 10:30:23,839 SEVERE [1] com.oracle.cie.nextgen.launcher.PlatformHelper - createRegistry to add a value failed\n2016-12-22 10:30:23,839 SEVERE [1] com.oracle.cie.nextgen.launcher.Launcher - Unable to access or modify the system registry.  Select Run as Administrator when opening the Command Prompt and try again.\n2016-12-22 10:30:23,872 SEVERE [1] com.oracle.cie.nextgen.launcher.Launcher - Unable to access or modify the system registry.  Select Run as Administrator when opening the Command Prompt and try again.\n</code></pre>\n"},{"tags":["java","spring-security","vaadin"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1673260408,"post_id":75055697,"comment_id":132450392,"body_markdown":"Which version of Vaadin are you using?","body":"Which version of Vaadin are you using?"},{"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"score":0,"creation_date":1673265471,"post_id":75055697,"comment_id":132452042,"body_markdown":"Vaadin 23.3.0 , I also updated the question with it.","body":"Vaadin 23.3.0 , I also updated the question with it."},{"owner":{"account_id":26005,"reputation":8101,"user_id":67373,"accept_rate":100,"display_name":"Sujoy"},"score":0,"creation_date":1673268002,"post_id":75055697,"comment_id":132452945,"body_markdown":"In chrome - Settings &gt; Autofill &gt; Password Manager \nCheck if Offer to save passwords option is switched on","body":"In chrome - Settings &gt; Autofill &gt; Password Manager  Check if Offer to save passwords option is switched on"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1673269286,"post_id":75055697,"comment_id":132453422,"body_markdown":"I have no issues with that. Firefox and also 1Password work fine. But I use LoginOverlay. https://vaadin.com/docs/latest/components/login","body":"I have no issues with that. Firefox and also 1Password work fine. But I use LoginOverlay. <a href=\"https://vaadin.com/docs/latest/components/login\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/components/login</a>"}],"owner":{"account_id":2464083,"reputation":856,"user_id":2147581,"accept_rate":68,"display_name":"S&#252;ni&#218;r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673337111,"creation_date":1673258745,"question_id":75055697,"body_markdown":"Update:\r\nIf I disable https redirection its works, can you help me what I am doing wrong with redirection?\r\napplication.prioerties:\r\n\r\n    server.http.port=8080\r\n    ## SSL\r\n    server.port=443\r\n\r\nRedirect:\r\n\r\n\r\n    import org.apache.catalina.Context;\r\n    import org.apache.catalina.connector.Connector;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityCollection;\r\n    import org.apache.tomcat.util.descriptor.web.SecurityConstraint;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.env.Environment;\r\n    \r\n    @Configuration\r\n    public class HttpsConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment environment;\r\n    \r\n    \t@Bean\r\n    \tpublic ServletWebServerFactory servletContainer() {\r\n    \t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void postProcessContext(Context context) {\r\n    \t\t\t\tSecurityConstraint securityConstraint = new SecurityConstraint();\r\n    \t\t\t\tsecurityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n    \t\t\t\tSecurityCollection collection = new SecurityCollection();\r\n    \t\t\t\tcollection.addPattern(&quot;/*&quot;);\r\n    \t\t\t\tsecurityConstraint.addCollection(collection);\r\n    \t\t\t\tcontext.addConstraint(securityConstraint);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\ttomcat.addAdditionalTomcatConnectors(redirectConnector());\r\n    \t\treturn tomcat;\r\n    \t}\r\n    \r\n    //\t@Value(&quot;${server.port2}&quot;) // Defined in application.properties file\r\n    //\tint httpPort = ;\r\n    \r\n    //\t@Value(&quot;${server.port}&quot;) // Defined in application.properties file\r\n    //\tint httpsPort =;\r\n    \r\n    \tprivate Connector redirectConnector() {\r\n    \t\tConnector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\r\n    \t\tconnector.setScheme(&quot;http&quot;);\r\n    \t\tconnector.setPort(Integer.parseInt(environment.getProperty(&quot;server.http.port&quot;)));\r\n    \t\tconnector.setSecure(false);\r\n    \t\tconnector.setRedirectPort( Integer.parseInt(environment.getProperty(&quot;server.port&quot;)));\r\n    \t\treturn connector;\r\n    \t}\r\n    }\r\n\r\nSecurityConfig:\r\n\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class SecurityConfiguration extends VaadinWebSecurityConfigurerAdapter {\r\n    \r\n    \t@Autowired\r\n    \tprivate RequestUtil requestUtil;\r\n    \r\n    \t@Autowired\r\n    \tprivate VaadinDefaultRequestCache vaadinDefaultRequestCache;\r\n    \r\n    \t@Autowired\r\n    \tprivate ViewAccessChecker viewAccessChecker;\r\n    \r\n    \t@Lazy\r\n    \t@Autowired\r\n    \tCustomAuthenticationProvider customAuthenticationProvider;\r\n    \r\n    \t@Autowired\r\n    \tReportService reportService;\r\n    \r\n    \tpublic static final String LOGOUT_URL = &quot;/&quot;;\r\n    \r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \r\n    //\t\tsuper.configure(http);\r\n    \r\n    //\t\t\r\n    \r\n    \t\thttp.csrf().ignoringRequestMatchers(requestUtil::isFrameworkInternalRequest);\r\n    \t\t// nor with endpoints\r\n    \t\thttp.csrf().ignoringRequestMatchers(requestUtil::isEndpointRequest);\r\n    \r\n    \t\t// Ensure automated requests to e.g. closing push channels, service\r\n    \t\t// workers,\r\n    \t\t// endpoints are not counted as valid targets to redirect user to on\r\n    \t\t// login\r\n    \t\thttp.requestCache().requestCache(vaadinDefaultRequestCache);\r\n    \r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/api/**&quot;).permitAll();\r\n    \t\t// TODO LOCAL HOST ENABLE AND ADMIN\r\n    \t\t// .hasIpAddress(LOGOUT_URL , hasROle\r\n    \r\n    \t\tExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry urlRegistry = http\r\n    \t\t\t\t.authorizeRequests();\r\n    \r\n    \t\t// Vaadin internal requests must always be allowed to allow public Flow\r\n    \t\t// pages\r\n    \t\t// and/or login page implemented using Flow.\r\n    \t\turlRegistry.requestMatchers(requestUtil::isFrameworkInternalRequest).permitAll();\r\n    \t\t// Public endpoints are OK to access\r\n    \t\turlRegistry.requestMatchers(requestUtil::isAnonymousEndpoint).permitAll();\r\n    \t\t// Public routes are OK to access\r\n    \t\turlRegistry.requestMatchers(requestUtil::isAnonymousRoute).permitAll();\r\n    \t\turlRegistry.requestMatchers(getDefaultHttpSecurityPermitMatcher()).permitAll();\r\n    \r\n    \t\t// all other requests require authentication\r\n    \t\turlRegistry.anyRequest().authenticated();\r\n    \r\n    \t\t// Enable view access control\r\n    \t\tviewAccessChecker.enable();\r\n    \r\n    \t\tsetLoginView(http, LoginView.class, LOGOUT_URL);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    \r\n    \t\t/*\r\n    \t\t * auth.ldapAuthentication().userDnPatterns(&quot;uid={0},ou=people&quot;).groupSearchBase\r\n    \t\t * (&quot;ou=Budapest,ou=Hungary,ou=Users,ou=Company_OU,dc=groupad1,dc=com&quot;).\r\n    \t\t * contextSource()\r\n    \t\t * .url(&quot;ldap:///dc=springframework,dc=org&quot;).and().\r\n    \t\t * passwordCompare() .passwordEncoder(new\r\n    \t\t * BCryptPasswordEncoder()).passwordAttribute(&quot;userPassword&quot;);\r\n    \t\t */\r\n    \t\t// Custom authentication provider - Order 1\r\n    \t\tauth.authenticationProvider(customAuthenticationProvider);\r\n    \r\n    //\t\t Built-in authentication provider - Order 2\r\n    //\t\tauth.inMemoryAuthentication().withUser(&quot;admin&quot;).password(&quot;{noop}admin@password&quot;)\r\n    //\t\t\t\t// {noop} makes sure that the password encoder doesn&#39;t do anything\r\n    //\t\t\t\t.roles(&quot;ADMIN&quot;) // Role of the user\r\n    //\t\t\t\t.and().withUser(&quot;user&quot;).password(&quot;{noop}user@password&quot;).credentialsExpired(true).accountExpired(true)\r\n    //\t\t\t\t.accountLocked(true).roles(&quot;USER&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) throws Exception {\r\n    \t\tsuper.configure(web);\r\n    \t\tweb.ignoring().antMatchers(&quot;/images/*.png&quot;);\r\n    //\t\tweb.ignoring().antMatchers(&quot;/api/*&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nI have a basic fresh Vaadin tutorial based login view (https://vaadin.com/docs/latest/security/enabling-security)\r\n\r\nEDIT: I think the main problem that the browsers think the login form is a simple form... and not a login form . eg: it pops up my email address for username and I click manage it brings me to chrome address form options and not the password... \r\n\r\nMy main problem is that Chrome or any other browser not ask to save the password after login.. and neither fill out the form even if its stored at the same host (eg: localhost:8080)\r\n*The problem is in the login view, because the chrome work properly and store passwords others sites for me and for other test users .*\r\n\r\nThe other problem is that the following configure part is deprecated and I couldnt find the updated one, since all tutorial use this.\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        ...\r\n            setLoginView(http, LoginView.class, LOGOUT_URL);\r\n\r\nthis function is deprecated and I do\r\n\r\n    @Route(&quot;login&quot;)\r\n    @PageTitle(&quot;Login | My App&quot;)\r\n    public class LoginView extends VerticalLayout implements BeforeEnterObserver {\r\n    \r\n    \tprivate final LoginForm login = new LoginForm();\r\n    \r\n    \tpublic LoginView() {\r\n    \t\taddClassName(&quot;login-view&quot;);\r\n    \t\tsetSizeFull();\r\n    \t\tsetAlignItems(Alignment.CENTER);\r\n    \t\tsetJustifyContentMode(JustifyContentMode.CENTER);\r\n    \r\n    \t\tlogin.setAction(&quot;login&quot;);\r\n    \t\tlogin.setForgotPasswordButtonVisible(false);\r\n  \r\n    \t\tadd(new H1(&quot;My App&quot;), login);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\r\n    \t\t// inform the user about an authentication error\r\n    \t\tif (beforeEnterEvent.getLocation().getQueryParameters().getParameters().containsKey(&quot;error&quot;)) {\r\n    \t\t\tlogin.setError(true);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nMaven pom with versions:\r\n \r\n\r\n       &lt;properties&gt;\r\n        \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n        \t\t&lt;vaadin.version&gt;23.3.0&lt;/vaadin.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;!-- &lt;version&gt;2.5.4&lt;/version&gt; --&gt;\r\n        \t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n        \t&lt;/parent&gt;","title":"Vaadin Login view Chrome not save password","body":"<p>Update:\nIf I disable https redirection its works, can you help me what I am doing wrong with redirection?\napplication.prioerties:</p>\n<pre><code>server.http.port=8080\n## SSL\nserver.port=443\n</code></pre>\n<p>Redirect:</p>\n<pre><code>import org.apache.catalina.Context;\nimport org.apache.catalina.connector.Connector;\nimport org.apache.tomcat.util.descriptor.web.SecurityCollection;\nimport org.apache.tomcat.util.descriptor.web.SecurityConstraint;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\n\n@Configuration\npublic class HttpsConfiguration {\n\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n        tomcat.addAdditionalTomcatConnectors(redirectConnector());\n        return tomcat;\n    }\n\n//  @Value(&quot;${server.port2}&quot;) // Defined in application.properties file\n//  int httpPort = ;\n\n//  @Value(&quot;${server.port}&quot;) // Defined in application.properties file\n//  int httpsPort =;\n\n    private Connector redirectConnector() {\n        Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\n        connector.setScheme(&quot;http&quot;);\n        connector.setPort(Integer.parseInt(environment.getProperty(&quot;server.http.port&quot;)));\n        connector.setSecure(false);\n        connector.setRedirectPort( Integer.parseInt(environment.getProperty(&quot;server.port&quot;)));\n        return connector;\n    }\n}\n</code></pre>\n<p>SecurityConfig:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration extends VaadinWebSecurityConfigurerAdapter {\n\n    @Autowired\n    private RequestUtil requestUtil;\n\n    @Autowired\n    private VaadinDefaultRequestCache vaadinDefaultRequestCache;\n\n    @Autowired\n    private ViewAccessChecker viewAccessChecker;\n\n    @Lazy\n    @Autowired\n    CustomAuthenticationProvider customAuthenticationProvider;\n\n    @Autowired\n    ReportService reportService;\n\n    public static final String LOGOUT_URL = &quot;/&quot;;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n//      super.configure(http);\n\n//      \n\n        http.csrf().ignoringRequestMatchers(requestUtil::isFrameworkInternalRequest);\n        // nor with endpoints\n        http.csrf().ignoringRequestMatchers(requestUtil::isEndpointRequest);\n\n        // Ensure automated requests to e.g. closing push channels, service\n        // workers,\n        // endpoints are not counted as valid targets to redirect user to on\n        // login\n        http.requestCache().requestCache(vaadinDefaultRequestCache);\n\n        http.authorizeRequests().antMatchers(&quot;/api/**&quot;).permitAll();\n        // TODO LOCAL HOST ENABLE AND ADMIN\n        // .hasIpAddress(LOGOUT_URL , hasROle\n\n        ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.ExpressionInterceptUrlRegistry urlRegistry = http\n                .authorizeRequests();\n\n        // Vaadin internal requests must always be allowed to allow public Flow\n        // pages\n        // and/or login page implemented using Flow.\n        urlRegistry.requestMatchers(requestUtil::isFrameworkInternalRequest).permitAll();\n        // Public endpoints are OK to access\n        urlRegistry.requestMatchers(requestUtil::isAnonymousEndpoint).permitAll();\n        // Public routes are OK to access\n        urlRegistry.requestMatchers(requestUtil::isAnonymousRoute).permitAll();\n        urlRegistry.requestMatchers(getDefaultHttpSecurityPermitMatcher()).permitAll();\n\n        // all other requests require authentication\n        urlRegistry.anyRequest().authenticated();\n\n        // Enable view access control\n        viewAccessChecker.enable();\n\n        setLoginView(http, LoginView.class, LOGOUT_URL);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        /*\n         * auth.ldapAuthentication().userDnPatterns(&quot;uid={0},ou=people&quot;).groupSearchBase\n         * (&quot;ou=Budapest,ou=Hungary,ou=Users,ou=Company_OU,dc=groupad1,dc=com&quot;).\n         * contextSource()\n         * .url(&quot;ldap:///dc=springframework,dc=org&quot;).and().\n         * passwordCompare() .passwordEncoder(new\n         * BCryptPasswordEncoder()).passwordAttribute(&quot;userPassword&quot;);\n         */\n        // Custom authentication provider - Order 1\n        auth.authenticationProvider(customAuthenticationProvider);\n\n//       Built-in authentication provider - Order 2\n//      auth.inMemoryAuthentication().withUser(&quot;admin&quot;).password(&quot;{noop}admin@password&quot;)\n//              // {noop} makes sure that the password encoder doesn't do anything\n//              .roles(&quot;ADMIN&quot;) // Role of the user\n//              .and().withUser(&quot;user&quot;).password(&quot;{noop}user@password&quot;).credentialsExpired(true).accountExpired(true)\n//              .accountLocked(true).roles(&quot;USER&quot;);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        super.configure(web);\n        web.ignoring().antMatchers(&quot;/images/*.png&quot;);\n//      web.ignoring().antMatchers(&quot;/api/*&quot;);\n    }\n}\n</code></pre>\n<p>I have a basic fresh Vaadin tutorial based login view (<a href=\"https://vaadin.com/docs/latest/security/enabling-security\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/security/enabling-security</a>)</p>\n<p>EDIT: I think the main problem that the browsers think the login form is a simple form... and not a login form . eg: it pops up my email address for username and I click manage it brings me to chrome address form options and not the password...</p>\n<p>My main problem is that Chrome or any other browser not ask to save the password after login.. and neither fill out the form even if its stored at the same host (eg: localhost:8080)\n<em>The problem is in the login view, because the chrome work properly and store passwords others sites for me and for other test users .</em></p>\n<p>The other problem is that the following configure part is deprecated and I couldnt find the updated one, since all tutorial use this.</p>\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n    ...\n        setLoginView(http, LoginView.class, LOGOUT_URL);\n</code></pre>\n<p>this function is deprecated and I do</p>\n<pre><code>@Route(&quot;login&quot;)\n@PageTitle(&quot;Login | My App&quot;)\npublic class LoginView extends VerticalLayout implements BeforeEnterObserver {\n\n    private final LoginForm login = new LoginForm();\n\n    public LoginView() {\n        addClassName(&quot;login-view&quot;);\n        setSizeFull();\n        setAlignItems(Alignment.CENTER);\n        setJustifyContentMode(JustifyContentMode.CENTER);\n\n        login.setAction(&quot;login&quot;);\n        login.setForgotPasswordButtonVisible(false);\n\n        add(new H1(&quot;My App&quot;), login);\n    }\n\n    @Override\n    public void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\n        // inform the user about an authentication error\n        if (beforeEnterEvent.getLocation().getQueryParameters().getParameters().containsKey(&quot;error&quot;)) {\n            login.setError(true);\n        }\n    }\n}\n</code></pre>\n<p>Maven pom with versions:</p>\n<pre><code>   &lt;properties&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n            &lt;vaadin.version&gt;23.3.0&lt;/vaadin.version&gt;\n        &lt;/properties&gt;\n    \n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;!-- &lt;version&gt;2.5.4&lt;/version&gt; --&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/parent&gt;\n</code></pre>\n"},{"tags":["java","spring","apache-camel","distributed-transactions","narayana"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673278484,"post_id":75005808,"comment_id":132457164,"body_markdown":"`DriverManagerDataSource` isn&#39;t XA capable, next you are using MySQL make sure you are using InnoDB tables and not MyISAM tables (the latter don&#39;t support transactions).","body":"<code>DriverManagerDataSource</code> isn&#39;t XA capable, next you are using MySQL make sure you are using InnoDB tables and not MyISAM tables (the latter don&#39;t support transactions)."}],"answers":[{"comments":[{"owner":{"account_id":25720765,"reputation":1,"user_id":19477804,"display_name":"chandrahas g"},"score":0,"creation_date":1673345860,"post_id":75059530,"comment_id":132472727,"body_markdown":"Hello Sir I tried your solution but it is not working.  I am getting the following error \n                                                      \n                                                      \norg.springframework.beans.NotWritablePropertyException: Invalid property &#39;XADATASOURCE&#39; of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource]: Bean property &#39;XADATASOURCE&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?","body":"Hello Sir I tried your solution but it is not working.  I am getting the following error                                                                                                                org.springframework.beans.NotWritablePropertyException: Invalid property &#39;XADATASOURCE&#39; of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource&zwnj;&#8203;]: Bean property &#39;XADATASOURCE&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?"}],"tags":[],"owner":{"account_id":7446889,"reputation":46,"user_id":5662757,"display_name":"Zheng Feng"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673278315,"creation_date":1673278315,"answer_id":75059530,"question_id":75005808,"body_markdown":"It looks like you need to use `jdbc:arjuna:` as a prefix for the jdbc url propery. So try to use\r\n```\r\n&lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; \r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; \r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jdbctest&quot; /&gt; \r\n    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt; \r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;xaDataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt;\r\n    &lt;property name=&quot;XADATASOURCE&quot; ref=&quot;dataSource1&quot;/&gt;\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:arjuna:&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt;    \r\n&lt;/bean&gt;\r\n\r\n```\r\n\r\nand use `#xaDataSource1` in the camel route define.","title":"Narayana Transaction Manager configuration - Not rolling back","body":"<p>It looks like you need to use <code>jdbc:arjuna:</code> as a prefix for the jdbc url propery. So try to use</p>\n<pre><code>&lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; \n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; \n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jdbctest&quot; /&gt; \n    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt; \n&lt;/bean&gt;\n&lt;bean id=&quot;xaDataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt;\n    &lt;property name=&quot;XADATASOURCE&quot; ref=&quot;dataSource1&quot;/&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:arjuna:&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt;    \n&lt;/bean&gt;\n\n</code></pre>\n<p>and use <code>#xaDataSource1</code> in the camel route define.</p>\n"}],"owner":{"account_id":25720765,"reputation":1,"user_id":19477804,"display_name":"chandrahas g"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673336181,"creation_date":1672837139,"question_id":75005808,"body_markdown":"I am trying to configure the narayana transaction manager with camel and spring. I have created two data source objects and inserting two records in to two different databases. I am throwing error after the first insert and excepting to roll back. In the logs it showing that transaction manager has started but not rolling back.\r\n\r\nBelow is the camel-context.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- Configures the Camel Context--&gt;\r\n\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd&quot;&gt;\r\n       \r\n\t&lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; \r\n \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt; \r\n     \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jdbctest&quot; /&gt; \r\n     \t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n     \t&lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt; \r\n \t&lt;/bean&gt; \r\n\t\r\n\t&lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt;\r\n    \t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/springtransaction1&quot; /&gt;\r\n    \t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t&lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;jtaTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionManagerImple&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;userTransaction&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.arjuna.ats.internal.jta.transaction.arjunacore.UserTransactionImple&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;PROPAGATION_REQUIRED&quot; class=&quot;org.apache.camel.spring.spi.SpringTransactionPolicy&quot;&gt;\r\n\t\t&lt;property name=&quot;transactionManager&quot; ref=&quot;jtaTransactionManager&quot; /&gt;\r\n\t\t&lt;property name=&quot;propagationBehaviorName&quot; value=&quot;PROPAGATION_REQUIRED&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;myError&quot;\tclass=&quot;com.rwx.camelspringnarayana.MyError&quot; /&gt;\r\n\t\r\n  &lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\r\n    &lt;!-- here is a sample which processes the input files\r\n         (leaving them in place - see the &#39;noop&#39; flag)\r\n         then performs content based routing on the message using XPath --&gt;\r\n\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer1?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;transacted ref=&quot;PROPAGATION_REQUIRED&quot;/&gt;\r\n\t\t\t&lt;log message=&quot;timer1 started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:insert into cars values(1896, &#39;Jaldut&#39;)?dataSource=#dataSource1&quot; /&gt;\r\n\t\t\t&lt;bean ref=&quot;myError&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:insert into cars values(1922, &#39;Rwx Car&#39;)?dataSource=#dataSource1&quot; /&gt; \r\n\t\t\t&lt;log message=&quot;${body}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer2?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;delay&gt;\r\n\t\t\t\t&lt;constant&gt;5000&lt;/constant&gt;\r\n\t\t\t&lt;/delay&gt;\r\n\t\t\t&lt;log message=&quot;timer2 started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:select * from cars where car_no in (1896,1922)?dataSource=#dataSource1&quot; /&gt;\r\n\t\t\t&lt;log message=&quot;${body}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\t\t\r\n\t \t\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer4?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;delay&gt;\r\n\t\t\t\t&lt;constant&gt;5000&lt;/constant&gt;\r\n\t\t\t&lt;/delay&gt;\r\n\t\t\t&lt;log message=&quot;timer 4 started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:select * from user_tb where id =2 ?dataSource=#dataSource2&quot; /&gt;\r\n\t\t\t&lt;log message=&quot;${body}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\t\t\t\t \r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer3?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;delay&gt;&lt;constant&gt;10000&lt;/constant&gt;&lt;/delay&gt;\r\n\t\t\t&lt;log message=&quot;timer3 started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:delete from cars where car_no in (1896,1922)?dataSource=#dataSource1&quot; /&gt;\r\n\t\t\t&lt;log message=&quot;No of rows deleted are = ${headers.camelSqlUpdateCount}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\t \t\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;timer:myTimer5?repeatCount=1&quot; /&gt;\r\n\t\t\t&lt;delay&gt;&lt;constant&gt;10000&lt;/constant&gt;&lt;/delay&gt;\r\n\t\t\t&lt;log message=&quot;timer 5started&quot; /&gt;\r\n\t\t\t&lt;to uri=&quot;sql:delete from user_tb where id =2?dataSource=#dataSource2&quot; /&gt;\r\n\t\t\t&lt;log message=&quot;No of rows deleted are = ${headers.camelSqlUpdateCount}&quot; /&gt;\r\n\t\t&lt;/route&gt;\r\n\t\t\r\n  &lt;/camelContext&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\n\r\n**It is not rolling back. even though exception is thrown. I want it to rollback.\r\nwe see one record is added. and it is deleted which means that it is now rolling back\r\n**\r\n` []\r\n[el (camel-1) thread #8 - Delay] route2                         INFO  [{car_no=1896, carName=Jaldut}]\r\n[l (camel-1) thread #10 - Delay] route5                         INFO  timer 5started\r\n[el (camel-1) thread #9 - Delay] route4                         INFO  timer3 started\r\n[l (camel-1) thread #10 - Delay] route5                         INFO  No of rows deleted are = 0\r\n[el (camel-1) thread #9 - Delay] route4                         INFO  No of rows deleted are = 1`\r\n","title":"Narayana Transaction Manager configuration - Not rolling back","body":"<p>I am trying to configure the narayana transaction manager with camel and spring. I have created two data source objects and inserting two records in to two different databases. I am throwing error after the first insert and excepting to roll back. In the logs it showing that transaction manager has started but not rolling back.</p>\n<p>Below is the camel-context.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Configures the Camel Context--&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd&quot;&gt;\n       \n    &lt;bean id=&quot;dataSource1&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; \n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt; \n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/jdbctest&quot; /&gt; \n        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt; \n    &lt;/bean&gt; \n    \n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.arjuna.ats.jdbc.TransactionalDriver&quot; /&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/springtransaction1&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;Govinda@1&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;jtaTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\n        &lt;property name=&quot;transactionManager&quot;&gt;\n            &lt;bean class=&quot;com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionManagerImple&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;userTransaction&quot;&gt;\n            &lt;bean class=&quot;com.arjuna.ats.internal.jta.transaction.arjunacore.UserTransactionImple&quot; /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;PROPAGATION_REQUIRED&quot; class=&quot;org.apache.camel.spring.spi.SpringTransactionPolicy&quot;&gt;\n        &lt;property name=&quot;transactionManager&quot; ref=&quot;jtaTransactionManager&quot; /&gt;\n        &lt;property name=&quot;propagationBehaviorName&quot; value=&quot;PROPAGATION_REQUIRED&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;myError&quot;  class=&quot;com.rwx.camelspringnarayana.MyError&quot; /&gt;\n    \n  &lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\n    &lt;!-- here is a sample which processes the input files\n         (leaving them in place - see the 'noop' flag)\n         then performs content based routing on the message using XPath --&gt;\n\n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer1?repeatCount=1&quot; /&gt;\n            &lt;transacted ref=&quot;PROPAGATION_REQUIRED&quot;/&gt;\n            &lt;log message=&quot;timer1 started&quot; /&gt;\n            &lt;to uri=&quot;sql:insert into cars values(1896, 'Jaldut')?dataSource=#dataSource1&quot; /&gt;\n            &lt;bean ref=&quot;myError&quot; /&gt;\n            &lt;to uri=&quot;sql:insert into cars values(1922, 'Rwx Car')?dataSource=#dataSource1&quot; /&gt; \n            &lt;log message=&quot;${body}&quot; /&gt;\n        &lt;/route&gt;\n\n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer2?repeatCount=1&quot; /&gt;\n            &lt;delay&gt;\n                &lt;constant&gt;5000&lt;/constant&gt;\n            &lt;/delay&gt;\n            &lt;log message=&quot;timer2 started&quot; /&gt;\n            &lt;to uri=&quot;sql:select * from cars where car_no in (1896,1922)?dataSource=#dataSource1&quot; /&gt;\n            &lt;log message=&quot;${body}&quot; /&gt;\n        &lt;/route&gt;\n        \n        \n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer4?repeatCount=1&quot; /&gt;\n            &lt;delay&gt;\n                &lt;constant&gt;5000&lt;/constant&gt;\n            &lt;/delay&gt;\n            &lt;log message=&quot;timer 4 started&quot; /&gt;\n            &lt;to uri=&quot;sql:select * from user_tb where id =2 ?dataSource=#dataSource2&quot; /&gt;\n            &lt;log message=&quot;${body}&quot; /&gt;\n        &lt;/route&gt;\n                 \n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer3?repeatCount=1&quot; /&gt;\n            &lt;delay&gt;&lt;constant&gt;10000&lt;/constant&gt;&lt;/delay&gt;\n            &lt;log message=&quot;timer3 started&quot; /&gt;\n            &lt;to uri=&quot;sql:delete from cars where car_no in (1896,1922)?dataSource=#dataSource1&quot; /&gt;\n            &lt;log message=&quot;No of rows deleted are = ${headers.camelSqlUpdateCount}&quot; /&gt;\n        &lt;/route&gt;\n        \n        &lt;route&gt;\n            &lt;from uri=&quot;timer:myTimer5?repeatCount=1&quot; /&gt;\n            &lt;delay&gt;&lt;constant&gt;10000&lt;/constant&gt;&lt;/delay&gt;\n            &lt;log message=&quot;timer 5started&quot; /&gt;\n            &lt;to uri=&quot;sql:delete from user_tb where id =2?dataSource=#dataSource2&quot; /&gt;\n            &lt;log message=&quot;No of rows deleted are = ${headers.camelSqlUpdateCount}&quot; /&gt;\n        &lt;/route&gt;\n        \n  &lt;/camelContext&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>**It is not rolling back. even though exception is thrown. I want it to rollback.\nwe see one record is added. and it is deleted which means that it is now rolling back\n**\n<code> [] [el (camel-1) thread #8 - Delay] route2                         INFO  [{car_no=1896, carName=Jaldut}] [l (camel-1) thread #10 - Delay] route5                         INFO  timer 5started [el (camel-1) thread #9 - Delay] route4                         INFO  timer3 started [l (camel-1) thread #10 - Delay] route5                         INFO  No of rows deleted are = 0 [el (camel-1) thread #9 - Delay] route4                         INFO  No of rows deleted are = 1</code></p>\n"},{"tags":["java","collections","iterator"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1673321212,"post_id":75065129,"comment_id":132467336,"body_markdown":"yep. According to this [link](https://stackoverflow.com/a/27728424/16034206), everytime you call set.iterator() you get a new iterator that starts at the beginning, and you call .next on it so you get the first item, then you reset the iterator again","body":"yep. According to this <a href=\"https://stackoverflow.com/a/27728424/16034206\">link</a>, everytime you call set.iterator() you get a new iterator that starts at the beginning, and you call .next on it so you get the first item, then you reset the iterator again"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673339397,"post_id":75065129,"comment_id":132470686,"body_markdown":"The sentence “I use the Iterator to create an iterator object” makes no sense.","body":"The sentence “I use the Iterator to create an iterator object” makes no sense."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673335799,"creation_date":1673335253,"answer_id":75066667,"question_id":75065129,"body_markdown":"Iterators are _stateful_ and maintain their own state. Simplified: they remember their current position in the collection.\r\n\r\nCalling `.iterator()` on a collection (actually a `java.lang.Iterable&lt;T&gt;`) gives you a _NEW_ iterator instance every time. So `while (set.iterator.hasNext())` will always create a new iterator which starts at the beginning. The only way this loop can exit is by having an empty set (in that case, the loop will never be entered).\r\n\r\nBy calling `.iterator()` only once and storing the instance in a variable, you can advance this iterator (and update its internal state/position).","title":"Why do I get different results when calling the iterator with different methods?","body":"<p>Iterators are <em>stateful</em> and maintain their own state. Simplified: they remember their current position in the collection.</p>\n<p>Calling <code>.iterator()</code> on a collection (actually a <code>java.lang.Iterable&lt;T&gt;</code>) gives you a <em>NEW</em> iterator instance every time. So <code>while (set.iterator.hasNext())</code> will always create a new iterator which starts at the beginning. The only way this loop can exit is by having an empty set (in that case, the loop will never be entered).</p>\n<p>By calling <code>.iterator()</code> only once and storing the instance in a variable, you can advance this iterator (and update its internal state/position).</p>\n"}],"owner":{"account_id":24817952,"reputation":1,"user_id":18698583,"display_name":"Mazai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673335799,"creation_date":1673320848,"question_id":75065129,"body_markdown":"\r\n\r\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        set.add(i);\r\n    }\r\n\r\n    Iterator iterator = set.iterator();\r\n    while (iterator.hasNext()){\r\n        System.out.println(iterator.next());\r\n    }\r\n\r\n    System.out.println(&quot;================================&quot;);\r\n\r\n    while (set.iterator().hasNext()){\r\n        System.out.println(set.iterator().next());\r\n    }\r\n\r\n[you&#39;re supposed to actually enter image description here](https://i.stack.imgur.com/BJwAq.png)\r\n\r\n\r\nI want to traverse the set collection, so I use the Iterator to create an iterator object and use the collection to call iterator directly, but the former gives the correct result, while the latter is an infinite loop.\r\nI don&#39;t understand it and could you tell me the difference between these two? thank you!\r\n","title":"Why do I get different results when calling the iterator with different methods?","body":"<pre><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nfor (int i = 0; i &lt; 10; i++) {\n    set.add(i);\n}\n\nIterator iterator = set.iterator();\nwhile (iterator.hasNext()){\n    System.out.println(iterator.next());\n}\n\nSystem.out.println(&quot;================================&quot;);\n\nwhile (set.iterator().hasNext()){\n    System.out.println(set.iterator().next());\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BJwAq.png\" rel=\"nofollow noreferrer\">you're supposed to actually enter image description here</a></p>\n<p>I want to traverse the set collection, so I use the Iterator to create an iterator object and use the collection to call iterator directly, but the former gives the correct result, while the latter is an infinite loop.\nI don't understand it and could you tell me the difference between these two? thank you!</p>\n"},{"tags":["java","eclipse","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":1414924,"reputation":959,"user_id":1340768,"display_name":"Jimmy Zhang"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1446047545,"creation_date":1338485414,"answer_id":10838402,"question_id":10838109,"body_markdown":"Make two folders: `final/src/` to store the source java code, and\r\n`final/WebRoot/`.\r\n\r\nYou cannot put the source and the webroot together. I think you may misunderstand your teacher.","title":"Eclipse Build Path Nesting Errors","body":"<p>Make two folders: <code>final/src/</code> to store the source java code, and\n<code>final/WebRoot/</code>.</p>\n\n<p>You cannot put the source and the webroot together. I think you may misunderstand your teacher.</p>\n"},{"tags":[],"owner":{"account_id":263393,"reputation":6812,"user_id":548915,"accept_rate":56,"display_name":"Kristof Jozsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338486168,"creation_date":1338486168,"answer_id":10838561,"question_id":10838109,"body_markdown":"You have to separate your sources and your target directory where the build output goes. It&#39;s also important to note that no class files ever can end up in the source directory. This is not against your professor&#39;s advice - actually he&#39;s promoting the maven standard source structure going for ./src/main/java and ./src/main/webapp. The second one should hold eg. the mandatory WEB-INF/web.xml file but you will never put actual classes there.\r\n\r\nWhat you need to change is your target directory. I suggest going with the same standards and choosing the name &quot;./target&quot; for this. All the built files will go in here and packaging that up will result a correct deployable artifact. Should you migrate to using maven later, it&#39;ll also help doing this in a scripted, repeatable way.\r\n\r\nHope that clears up your issue.","title":"Eclipse Build Path Nesting Errors","body":"<p>You have to separate your sources and your target directory where the build output goes. It's also important to note that no class files ever can end up in the source directory. This is not against your professor's advice - actually he's promoting the maven standard source structure going for ./src/main/java and ./src/main/webapp. The second one should hold eg. the mandatory WEB-INF/web.xml file but you will never put actual classes there.</p>\n\n<p>What you need to change is your target directory. I suggest going with the same standards and choosing the name \"./target\" for this. All the built files will go in here and packaging that up will result a correct deployable artifact. Should you migrate to using maven later, it'll also help doing this in a scripted, repeatable way.</p>\n\n<p>Hope that clears up your issue.</p>\n"},{"tags":[],"owner":{"account_id":44380,"reputation":3720,"user_id":130228,"accept_rate":88,"display_name":"Sasha O"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338515290,"creation_date":1338515290,"answer_id":10843446,"question_id":10838109,"body_markdown":"For Eclipse compiler to work properly you need to remove final/src from the source path and add final/src/main/java instead. This may also solve your problem as now the build directory won&#39;t be inside the Java source folder.","title":"Eclipse Build Path Nesting Errors","body":"<p>For Eclipse compiler to work properly you need to remove final/src from the source path and add final/src/main/java instead. This may also solve your problem as now the build directory won't be inside the Java source folder.</p>\n"},{"comments":[{"owner":{"account_id":97325,"reputation":62295,"user_id":264052,"accept_rate":66,"display_name":"smwikipedia"},"score":2,"creation_date":1447731772,"post_id":15411137,"comment_id":55265594,"body_markdown":"This is just one of the many random tricks. Not explaining why. Thus less helpful.","body":"This is just one of the many random tricks. Not explaining why. Thus less helpful."},{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":4,"creation_date":1466757348,"post_id":15411137,"comment_id":63461083,"body_markdown":"I just renamed the pom entry to scr/main/java and all was good. Thanks for the post acheron55","body":"I just renamed the pom entry to scr/main/java and all was good. Thanks for the post acheron55"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1548628751,"post_id":15411137,"comment_id":95598778,"body_markdown":"did you put it there? or where does it come from?","body":"did you put it there? or where does it come from?"},{"owner":{"account_id":12584206,"reputation":542,"user_id":9153802,"display_name":"Balu"},"score":0,"creation_date":1617024481,"post_id":15411137,"comment_id":118177531,"body_markdown":"This  `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` appeared in my pom.xml after I changed the JDK version of the `maven-compiler-plugin`.","body":"This  <code>&lt;sourceDirectory&gt;src&lt;&#47;sourceDirectory&gt;</code> appeared in my pom.xml after I changed the JDK version of the <code>maven-compiler-plugin</code>."}],"tags":[],"owner":{"account_id":1896086,"reputation":5499,"user_id":1713031,"accept_rate":71,"display_name":"acheron55"},"comment_count":4,"down_vote_count":2,"up_vote_count":350,"is_accepted":true,"score":348,"last_activity_date":1363268959,"creation_date":1363268959,"answer_id":15411137,"question_id":10838109,"body_markdown":"I had the same problem even when I created a fresh project. \r\nI was creating the Java project within Eclipse, then mavenize it, then going into java build path properties removing `src/` and adding `src/main/java` and `src/test/java`. When I run Maven update it used to give nested path error. &lt;br&gt;\r\nThen I finally realized -because I had not seen that entry before- there is a `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` line in pom file written when I mavenize it. It was resolved after removing it.","title":"Eclipse Build Path Nesting Errors","body":"<p>I had the same problem even when I created a fresh project. \nI was creating the Java project within Eclipse, then mavenize it, then going into java build path properties removing <code>src/</code> and adding <code>src/main/java</code> and <code>src/test/java</code>. When I run Maven update it used to give nested path error. <br>\nThen I finally realized -because I had not seen that entry before- there is a <code>&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;</code> line in pom file written when I mavenize it. It was resolved after removing it.</p>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1454361325,"creation_date":1400879086,"answer_id":23838314,"question_id":10838109,"body_markdown":"Try this:\r\n\r\nFrom the libraries tab:\r\n\r\n    Eclipse -&gt; right click on project name in sidebar -&gt; configure build path -&gt; Libraries\r\n\r\nRemove your web app libraries:\r\n\r\n    click on &quot;Web App Libraries&quot; -&gt; click &quot;remove&quot;\r\n\r\nAdd them back in:\r\n\r\n    click &quot;Add Library&quot; -&gt; click to highlight &quot;Web App Libraries&quot; -&gt; click &quot;next&quot; -&gt; confirm your desired project is the selected option -&gt; click &quot;Finish&quot;\r\n\r\nHighlighting &quot;Web App Libraries&quot;:\r\n\r\n![Highlighting &quot;Web App Libraries&quot;][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/urVnc.png","title":"Eclipse Build Path Nesting Errors","body":"<p>Try this:</p>\n\n<p>From the libraries tab:</p>\n\n<pre><code>Eclipse -&gt; right click on project name in sidebar -&gt; configure build path -&gt; Libraries\n</code></pre>\n\n<p>Remove your web app libraries:</p>\n\n<pre><code>click on \"Web App Libraries\" -&gt; click \"remove\"\n</code></pre>\n\n<p>Add them back in:</p>\n\n<pre><code>click \"Add Library\" -&gt; click to highlight \"Web App Libraries\" -&gt; click \"next\" -&gt; confirm your desired project is the selected option -&gt; click \"Finish\"\n</code></pre>\n\n<p>Highlighting \"Web App Libraries\":</p>\n\n<p><img src=\"https://i.stack.imgur.com/urVnc.png\" alt=\"Highlighting &quot;Web App Libraries&quot;\"></p>\n"},{"comments":[{"owner":{"account_id":1864434,"reputation":5495,"user_id":1697798,"accept_rate":84,"display_name":"The Dark Knight"},"score":0,"creation_date":1636472022,"post_id":35556852,"comment_id":123563083,"body_markdown":"Great answer . Exactly the problem that I was facing . Upvoted .","body":"Great answer . Exactly the problem that I was facing . Upvoted ."}],"tags":[],"owner":{"account_id":4713249,"reputation":2149,"user_id":3813155,"accept_rate":79,"display_name":"heez"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1523658802,"creation_date":1456153207,"answer_id":35556852,"question_id":10838109,"body_markdown":"I wanted to throw in a non-mavenish answer to this thread.\r\n\r\nDue to version control and strict directory structure reasons, I was unable to follow Acheron&#39;s answer (the best answer) of doing something similar to removing `src/` and adding `src/main/java` and `src/test/java` to the build path.\r\n\r\nI had actually been off-and-on battling this nested build path issue for a couple weeks.  The answer to the problem is hinted in the error message:\r\n\r\n`To enable the nesting exclude &#39;main/&#39; from &#39;final/src&#39;`\r\n\r\n**Fix**\r\n\r\nIn your build path, you need to edit your `Inclusion and Exclusion Patterns` by clicking on `Excluded: (None)` and then `Edit...`:\r\n\r\n 1. Go to the navigator and press right click on the project\r\n 2. Build Path\r\n 3. Configure Build Path\r\n 4. Source (tab)\r\n\r\n[![Exclusion Patterns][1]][1]\r\n\r\nThere you can add `main/webapp/WEB-INF/classes` as an `Exclusion Pattern`.  Then it should allow you to add `main/webapp/WEB-INF/classes` to the build path as a separate source folder.\r\n\r\n  [1]: http://i.stack.imgur.com/UekJ7.png","title":"Eclipse Build Path Nesting Errors","body":"<p>I wanted to throw in a non-mavenish answer to this thread.</p>\n\n<p>Due to version control and strict directory structure reasons, I was unable to follow Acheron's answer (the best answer) of doing something similar to removing <code>src/</code> and adding <code>src/main/java</code> and <code>src/test/java</code> to the build path.</p>\n\n<p>I had actually been off-and-on battling this nested build path issue for a couple weeks.  The answer to the problem is hinted in the error message:</p>\n\n<p><code>To enable the nesting exclude 'main/' from 'final/src'</code></p>\n\n<p><strong>Fix</strong></p>\n\n<p>In your build path, you need to edit your <code>Inclusion and Exclusion Patterns</code> by clicking on <code>Excluded: (None)</code> and then <code>Edit...</code>:</p>\n\n<ol>\n<li>Go to the navigator and press right click on the project</li>\n<li>Build Path</li>\n<li>Configure Build Path</li>\n<li>Source (tab)</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/UekJ7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UekJ7.png\" alt=\"Exclusion Patterns\"></a></p>\n\n<p>There you can add <code>main/webapp/WEB-INF/classes</code> as an <code>Exclusion Pattern</code>.  Then it should allow you to add <code>main/webapp/WEB-INF/classes</code> to the build path as a separate source folder.</p>\n"},{"comments":[{"owner":{"account_id":9306157,"reputation":586,"user_id":6909832,"display_name":"Matheus Santz"},"score":0,"creation_date":1616687395,"post_id":43211013,"comment_id":118086860,"body_markdown":"You deserve the World my dear! Thank you so much. That was all about incorrect Maven structure.","body":"You deserve the World my dear! Thank you so much. That was all about incorrect Maven structure."}],"tags":[],"owner":{"account_id":3481109,"reputation":2349,"user_id":2917707,"accept_rate":46,"display_name":"Hatem Jaber"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491318405,"creation_date":1491318405,"answer_id":43211013,"question_id":10838109,"body_markdown":"I had the same issue and correct answer above did not work for me. What I did to resolve it was to go to `Build Path-&gt;Configure Build Path` and under the source tab I removed all the sources (which only had one source) and reconfigured them from there. I ended up removing the project from eclipse and import the maven project again in order to clear up the error.","title":"Eclipse Build Path Nesting Errors","body":"<p>I had the same issue and correct answer above did not work for me. What I did to resolve it was to go to <code>Build Path-&gt;Configure Build Path</code> and under the source tab I removed all the sources (which only had one source) and reconfigured them from there. I ended up removing the project from eclipse and import the maven project again in order to clear up the error.</p>\n"},{"tags":[],"owner":{"account_id":989887,"reputation":748,"user_id":1007494,"accept_rate":100,"display_name":"Chad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507188243,"creation_date":1507188243,"answer_id":46580081,"question_id":10838109,"body_markdown":"The accepted solution didn&#39;t work for me but I did some digging on the project settings. \r\n\r\nThe following solution fixed it for me at least IF you are using a Dynamic Web Project:\r\n\r\n 1. Right click on the project then properties. (or alt-enter on the project)\r\n 2. Under Deployment Assembly remove &quot;src&quot;.\r\n\r\nYou should be able to add the src/main/java. It also automatically adds it to Deployment Assembly.\r\n\r\nCaveat: If you added a src/test/java note that it also adds it to Deployment Assembly. Generally, you don&#39;t need this. You may remove it.\r\n\r\n","title":"Eclipse Build Path Nesting Errors","body":"<p>The accepted solution didn't work for me but I did some digging on the project settings. </p>\n\n<p>The following solution fixed it for me at least IF you are using a Dynamic Web Project:</p>\n\n<ol>\n<li>Right click on the project then properties. (or alt-enter on the project)</li>\n<li>Under Deployment Assembly remove \"src\".</li>\n</ol>\n\n<p>You should be able to add the src/main/java. It also automatically adds it to Deployment Assembly.</p>\n\n<p>Caveat: If you added a src/test/java note that it also adds it to Deployment Assembly. Generally, you don't need this. You may remove it.</p>\n"},{"tags":[],"owner":{"account_id":1260099,"reputation":18217,"user_id":1218618,"accept_rate":100,"display_name":"albciff"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520524339,"creation_date":1520524339,"answer_id":49177226,"question_id":10838109,"body_markdown":"In my case I have a gradle nature project in _eclipse_, the problem was in a `build.gradle`, where this `sourceSets` is specified:\r\n\r\n\tsourceSets {\r\n\t\tmain {\r\n\t\t\tjava {\r\n\t\t\t\tsrcDir &#39;src&#39;\r\n\t\t\t}\r\n\t\t}\r\n     }\r\n\r\nThis seems to works well with _intelliJ_,however seems than _eclipse_ doesn&#39;t like nest `src`, `src/java`, `src/resources`. In _eclipse_ I must change it to:\r\n\r\n\tsourceSets {\r\n\t\tmain {\r\n\t\t\tjava {\r\n\t\t\t\tsrcDir &#39;src/main/java&#39;\r\n\t\t\t}\r\n\t\t}\r\n    }","title":"Eclipse Build Path Nesting Errors","body":"<p>In my case I have a gradle nature project in <em>eclipse</em>, the problem was in a <code>build.gradle</code>, where this <code>sourceSets</code> is specified:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir 'src'\n        }\n    }\n }\n</code></pre>\n\n<p>This seems to works well with <em>intelliJ</em>,however seems than <em>eclipse</em> doesn't like nest <code>src</code>, <code>src/java</code>, <code>src/resources</code>. In <em>eclipse</em> I must change it to:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir 'src/main/java'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5375671,"reputation":1157,"user_id":4282688,"accept_rate":87,"display_name":"Carson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532530234,"creation_date":1532530234,"answer_id":51521883,"question_id":10838109,"body_markdown":"This started taking me down a huge rabbit hole of fixing glitches with Eclipse, however I just deleted the project from Eclipse and reimported it to fix it.","title":"Eclipse Build Path Nesting Errors","body":"<p>This started taking me down a huge rabbit hole of fixing glitches with Eclipse, however I just deleted the project from Eclipse and reimported it to fix it.</p>\n"},{"comments":[{"owner":{"account_id":2021218,"reputation":1070,"user_id":1807337,"accept_rate":100,"display_name":"user1807337"},"score":3,"creation_date":1603744501,"post_id":55632049,"comment_id":114128408,"body_markdown":"Thank you for saving my day!","body":"Thank you for saving my day!"},{"owner":{"account_id":16452057,"reputation":65,"user_id":11885233,"display_name":"Michael Skarn"},"score":2,"creation_date":1654879145,"post_id":55632049,"comment_id":128205783,"body_markdown":"This worked perfectly for me without having to alter any configurations.","body":"This worked perfectly for me without having to alter any configurations."},{"owner":{"account_id":9689717,"reputation":251,"user_id":7188152,"display_name":"Ayman Hussain"},"score":0,"creation_date":1701072594,"post_id":55632049,"comment_id":136724961,"body_markdown":"Works like a charm!","body":"Works like a charm!"}],"tags":[],"owner":{"account_id":2337694,"reputation":506,"user_id":2049642,"display_name":"abhijeet104"},"comment_count":3,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1554987847,"creation_date":1554984153,"answer_id":55632049,"question_id":10838109,"body_markdown":"Here is a simple solution:\r\n\r\n 1. Right click the project &gt;&gt; properties &gt;&gt; build path;\r\n 2. In Source tab, Select all the source folders;\r\n 3. Remove them;\r\n 4. Right click on project, Maven &gt;&gt; Update the project.","title":"Eclipse Build Path Nesting Errors","body":"<p>Here is a simple solution:</p>\n\n<ol>\n<li>Right click the project >> properties >> build path;</li>\n<li>In Source tab, Select all the source folders;</li>\n<li>Remove them;</li>\n<li>Right click on project, Maven >> Update the project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14351860,"reputation":57,"user_id":10367066,"display_name":"yrz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569350560,"creation_date":1569345758,"answer_id":58085370,"question_id":10838109,"body_markdown":"[![STS IDE ][1]][1]\n\nIt depends on which folder one is telling &quot;Use as Source Folder&quot; to. In the structure on the picture if one says it to the folder &quot;target&quot; or &quot;generated&quot;, he gets the &quot;nested&quot; error. But on &quot;cxf&quot; folder, which is the last, mentioned in the pom.xml&#39;s &#39;plugin&#39; section and where from the package structure begins (as shown on .wsdl file), i.e. - the right folder to do it &#39;source&#39; one, then there is no error\n\n  [1]: https://i.stack.imgur.com/r6H7O.png","title":"Eclipse Build Path Nesting Errors","body":"<p><a href=\"https://i.stack.imgur.com/r6H7O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6H7O.png\" alt=\"STS IDE \" /></a></p>\n<p>It depends on which folder one is telling &quot;Use as Source Folder&quot; to. In the structure on the picture if one says it to the folder &quot;target&quot; or &quot;generated&quot;, he gets the &quot;nested&quot; error. But on &quot;cxf&quot; folder, which is the last, mentioned in the pom.xml's 'plugin' section and where from the package structure begins (as shown on .wsdl file), i.e. - the right folder to do it 'source' one, then there is no error</p>\n"},{"tags":[],"owner":{"account_id":19038431,"reputation":11,"user_id":13899072,"display_name":"Way"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594346067,"creation_date":1594346067,"answer_id":62826225,"question_id":10838109,"body_markdown":"Got similar issue. Did following steps, issue resolved:\n1. Remove project in eclipse.\n2. Delete .Project file and . Settings folder.\n3. Import project as existing maven project again to eclipse.","title":"Eclipse Build Path Nesting Errors","body":"<p>Got similar issue. Did following steps, issue resolved:</p>\n<ol>\n<li>Remove project in eclipse.</li>\n<li>Delete .Project file and . Settings folder.</li>\n<li>Import project as existing maven project again to eclipse.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673335773,"creation_date":1673335773,"answer_id":75066744,"question_id":10838109,"body_markdown":"If other solutions did not work and you are using any plugin adding sources in your pom.xml check it. I used build-helper-maven-plugin to add classes generated from openapi specification with incorrect configuration:\r\n\r\n    &lt;source&gt;${project.build.directory}/generated-sources/openapi/src&lt;/source&gt;\r\n\r\ninstead of correct: \r\n\r\n    &lt;source&gt;${project.build.directory}/generated-sources/openapi/src/main/java/&lt;/source&gt;\r\n\r\nSo after correcting:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;add-source&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;sources&gt;\r\n    \t\t\t\t\t&lt;source&gt;${project.build.directory}/generated-sources/openapi/src&lt;/source&gt;\r\n    \t\t\t\t&lt;/sources&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Eclipse Build Path Nesting Errors","body":"<p>If other solutions did not work and you are using any plugin adding sources in your pom.xml check it. I used build-helper-maven-plugin to add classes generated from openapi specification with incorrect configuration:</p>\n<pre><code>&lt;source&gt;${project.build.directory}/generated-sources/openapi/src&lt;/source&gt;\n</code></pre>\n<p>instead of correct:</p>\n<pre><code>&lt;source&gt;${project.build.directory}/generated-sources/openapi/src/main/java/&lt;/source&gt;\n</code></pre>\n<p>So after correcting:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;add-source&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;add-source&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sources&gt;\n                    &lt;source&gt;${project.build.directory}/generated-sources/openapi/src&lt;/source&gt;\n                &lt;/sources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":121184,"reputation":1739,"user_id":314085,"accept_rate":100,"display_name":"0xBrandon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147942,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"accepted_answer_id":15411137,"answer_count":14,"score":144,"last_activity_date":1673335773,"creation_date":1338484104,"question_id":10838109,"body_markdown":"I&#39;m working on a simple JSP/Servlet/Tomcat webapp for my class. The professor asked us to use a folder structure that is slightly different than the default dynamic web project structure. Rather than using the webcontent folder he wants all of our source code under src/main/java and src/main/webapp.\r\n\r\nWhen I run the app my welcome file displays fine, but when I try to access my servlets I get:\r\n\r\n     Http 500 SEVERE: Allocate exception for servlet InitDb\r\njava.lang.ClassNotFoundException. I&#39;m pretty sure it&#39;s a build path error. I have final/src on the build path but I am receiving the warning  \r\n\r\n    &quot;Cannot nest &#39;final/src/main/webapp/WEB-INF/classes&#39; inside &#39;final/src&#39;. To enable the    nesting exclude &#39;main/&#39; from &#39;final/src&#39;\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/WbiGC.jpg\r\n\r\nI have this in my deployment assembly: \r\n\r\n    &lt;wb-resource deploy-path=&quot;/&quot; source-path=&quot;/src/main/webapp&quot; tag=&quot;defaultRootSource&quot;/&gt; \r\n\r\nWhen I exclude main/ the warning goes away, but it doesn&#39;t fix the problem. I would appreciate any advice. Thanks. ","title":"Eclipse Build Path Nesting Errors","body":"<p>I'm working on a simple JSP/Servlet/Tomcat webapp for my class. The professor asked us to use a folder structure that is slightly different than the default dynamic web project structure. Rather than using the webcontent folder he wants all of our source code under src/main/java and src/main/webapp.</p>\n\n<p>When I run the app my welcome file displays fine, but when I try to access my servlets I get:</p>\n\n<pre><code> Http 500 SEVERE: Allocate exception for servlet InitDb\n</code></pre>\n\n<p>java.lang.ClassNotFoundException. I'm pretty sure it's a build path error. I have final/src on the build path but I am receiving the warning  </p>\n\n<pre><code>\"Cannot nest 'final/src/main/webapp/WEB-INF/classes' inside 'final/src'. To enable the    nesting exclude 'main/' from 'final/src'\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/WbiGC.jpg\" alt=\"enter image description here\"></p>\n\n<p>I have this in my deployment assembly: </p>\n\n<pre><code>&lt;wb-resource deploy-path=\"/\" source-path=\"/src/main/webapp\" tag=\"defaultRootSource\"/&gt; \n</code></pre>\n\n<p>When I exclude main/ the warning goes away, but it doesn't fix the problem. I would appreciate any advice. Thanks. </p>\n"},{"tags":["java","android"],"owner":{"account_id":22517343,"reputation":45,"user_id":16711389,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673335517,"creation_date":1673268544,"question_id":75057503,"body_markdown":"I am trying to compare 2 values from a single list in recyclerview adapter.\r\nI need to get the status of current item &amp; the next item &amp; compare both. So far I&#39;m here but it doesn&#39;t work. Any suggestions appreciated!\r\n\r\nExample\r\n\r\n        int curr = position;\r\n        int next = position + 1;\r\n\r\n            String s1 = null, s2 = null;\r\n\r\n            if (position == curr) {\r\n                s1 = item.getStatus();\r\n            }\r\n\r\n            if (position == next) {\r\n                s2 = item.getStatus();\r\n            }\r\n\r\n            if(s1.equals(s2))\r\n            {\r\n            //print ok\r\n            } else {\r\n            //not ok\r\n            }","title":"Compare two item values from a single list in recyclerview adapter","body":"<p>I am trying to compare 2 values from a single list in recyclerview adapter.\nI need to get the status of current item &amp; the next item &amp; compare both. So far I'm here but it doesn't work. Any suggestions appreciated!</p>\n<p>Example</p>\n<pre><code>    int curr = position;\n    int next = position + 1;\n\n        String s1 = null, s2 = null;\n\n        if (position == curr) {\n            s1 = item.getStatus();\n        }\n\n        if (position == next) {\n            s2 = item.getStatus();\n        }\n\n        if(s1.equals(s2))\n        {\n        //print ok\n        } else {\n        //not ok\n        }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":17573137,"reputation":464,"user_id":12748481,"display_name":"Surajkaran Meghwanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673334808,"creation_date":1673334808,"question_id":75066589,"body_markdown":"I am trying to run my project , then showing `java.lang.ClassNotFoundException: javax.xml.bind.JAXBException` error\r\n\r\n        java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n    \tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3342)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:556)\r\n    \tat org.jetbrains.kotlin.cli.jvm.plugins.ServiceLoaderLite.loadImplementations(ServiceLoaderLite.kt:50)\r\n    \tat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension$loadProcessors$efficientProcessorLoader$1.doLoadProcessors(Kapt3Extension.kt:83)\r\n    \tat org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors(ProcessorLoader.kt:42)\r\n    \tat org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors$default(ProcessorLoader.kt:25)\r\n    \tat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.loadProcessors(Kapt3Extension.kt:88)\r\n    \tat org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\r\n    \tat org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:98)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:384)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:70)\r\n    \tat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:375)\r\n    \tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:123)\r\n    \tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:159)\r\n    \tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\r\n    \tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\r\n    \tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\r\n    \tat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:442)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:102)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1013)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\r\n    \tat org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1055)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1012)\r\n    \tat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:441)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 49 more\r\n\r\nI tried many stackoverflow answer but not resolve issue and getting same error.\r\n\r\nTried :-\r\n\r\nadding these into gradle file as a classpath\r\n\r\n    \r\n        classpath &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n        classpath &#39;com.sun.xml.bind:jaxb-impl:2.3.0&#39;\r\n\r\n        classpath &#39;com.sun.xml.bind:jaxb-core:2.3.0&#39;\r\n        classpath &#39;org.glassfish.jaxb:jaxb-runtime:2.3.0&#39;\r\n        classpath &#39;javax.activation:activation:1.1.1&#39;\r\n\r\n\r\nIs there any solution to resolve this issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GI3Bg.png","title":"java.lang.ClassNotFoundException: javax.xml.bind.JAXBException android","body":"<p>I am trying to run my project , then showing <code>java.lang.ClassNotFoundException: javax.xml.bind.JAXBException</code> error</p>\n<pre><code>    java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3342)\n    at java.base/java.lang.Class.newInstance(Class.java:556)\n    at org.jetbrains.kotlin.cli.jvm.plugins.ServiceLoaderLite.loadImplementations(ServiceLoaderLite.kt:50)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension$loadProcessors$efficientProcessorLoader$1.doLoadProcessors(Kapt3Extension.kt:83)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors(ProcessorLoader.kt:42)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorLoader.loadProcessors$default(ProcessorLoader.kt:25)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.loadProcessors(Kapt3Extension.kt:88)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:171)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:98)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:384)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:70)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:375)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:123)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:159)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:442)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1013)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1055)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1012)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:441)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 49 more\n</code></pre>\n<p>I tried many stackoverflow answer but not resolve issue and getting same error.</p>\n<p>Tried :-</p>\n<p>adding these into gradle file as a classpath</p>\n<pre><code>    classpath 'javax.xml.bind:jaxb-api:2.3.1'\n    classpath 'com.sun.xml.bind:jaxb-impl:2.3.0'\n\n    classpath 'com.sun.xml.bind:jaxb-core:2.3.0'\n    classpath 'org.glassfish.jaxb:jaxb-runtime:2.3.0'\n    classpath 'javax.activation:activation:1.1.1'\n</code></pre>\n<p>Is there any solution to resolve this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673332685,"post_id":75066269,"comment_id":132468996,"body_markdown":"Sounds like you using an old version of the code","body":"Sounds like you using an old version of the code"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1673333909,"post_id":75066269,"comment_id":132469256,"body_markdown":"Your code works for me in VSCode 1.74.2 and JDK 19.","body":"Your code works for me in VSCode 1.74.2 and JDK 19."},{"owner":{"account_id":27417057,"reputation":1,"user_id":20916062,"display_name":"Cookies"},"score":0,"creation_date":1673334329,"post_id":75066269,"comment_id":132469355,"body_markdown":"I&#39;m also using VSCode 1.74.2 and just upgraded to JDK 19. Still doesn&#39;t work for me. Geany does though.","body":"I&#39;m also using VSCode 1.74.2 and just upgraded to JDK 19. Still doesn&#39;t work for me. Geany does though."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1673337022,"post_id":75066269,"comment_id":132470052,"body_markdown":"Then I would say that the problem is not with your code but rather with how you have configured your VSCode.","body":"Then I would say that the problem is not with your code but rather with how you have configured your VSCode."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673337797,"post_id":75066269,"comment_id":132470259,"body_markdown":"I can also run your code with no problems: VS Code 1.74.2, Java 18.0.2 and 19.0.1. It compiles and runs just fine manually using `javac` and `java`, as well. You must not be running what you think you&#39;re running and/or there&#39;s something wrong with your configuration.","body":"I can also run your code with no problems: VS Code 1.74.2, Java 18.0.2 and 19.0.1. It compiles and runs just fine manually using <code>javac</code> and <code>java</code>, as well. You must not be running what you think you&#39;re running and/or there&#39;s something wrong with your configuration."},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1673340960,"post_id":75066269,"comment_id":132471181,"body_markdown":"Check your imports! This problem can be caused by importing another `Vehicle` class which does not contain a `fuelNeeded ` method.","body":"Check your imports! This problem can be caused by importing another <code>Vehicle</code> class which does not contain a <code>fuelNeeded </code> method."}],"answers":[{"comments":[{"owner":{"account_id":27417057,"reputation":1,"user_id":20916062,"display_name":"Cookies"},"score":0,"creation_date":1673333161,"post_id":75066360,"comment_id":132469092,"body_markdown":"I have jdk 17 installed. Is that the recommended one?","body":"I have jdk 17 installed. Is that the recommended one?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673337588,"post_id":75066360,"comment_id":132470204,"body_markdown":"@Cookies Java 17.X.X is good as it&#39;s an LTS version, though the latest release is 19.0.1. Regardless, I&#39;m not sure how old of a Java version you&#39;d have to be using for your code not to compile and run. Your code looks compatible with Java 8. It&#39;s probably compatible with Java 7, 6, and 5, if not even older (though I&#39;ve only ever used Java 8 or above, so I there could be some issue that I&#39;m missing). The point being, however, that I doubt your problem is with the version of Java you&#39;re using.","body":"@Cookies Java 17.X.X is good as it&#39;s an LTS version, though the latest release is 19.0.1. Regardless, I&#39;m not sure how old of a Java version you&#39;d have to be using for your code not to compile and run. Your code looks compatible with Java 8. It&#39;s probably compatible with Java 7, 6, and 5, if not even older (though I&#39;ve only ever used Java 8 or above, so I there could be some issue that I&#39;m missing). The point being, however, that I doubt your problem is with the version of Java you&#39;re using."}],"tags":[],"owner":{"account_id":24889803,"reputation":11,"user_id":18761929,"display_name":"CarpeWang"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673333053,"creation_date":1673333053,"answer_id":75066360,"question_id":75066269,"body_markdown":"checking your java version that I think it&#39;s old. ","title":"VSCode unable to find method on fully functional code","body":"<p>checking your java version that I think it's old.</p>\n"}],"owner":{"account_id":27417057,"reputation":1,"user_id":20916062,"display_name":"Cookies"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673334694,"creation_date":1673332379,"question_id":75066269,"body_markdown":"On Geany and my friend&#39;s computer this code works. But on my VSCode app it gives the error\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n        The method fuelNeeded(int) is undefined for the type Vehicle\r\n        The method fuelNeeded(int) is undefined for the type Vehicle\r\n        at AddParamVehicle.main(AddParamVehicle.java:18)\r\n\r\nI would like to understand why this happens and how to fix it. Thanks. \r\nEdited after I updated to JDK 19, still giving same error.\r\n\r\n```\r\npublic class AddParamVehicle {\r\n    public static void main (String[] args){\r\n        Vehicle minivan = new Vehicle();\r\n        Vehicle sportscar = new Vehicle();\r\n        double gallons;\r\n        int dist = 252;\r\n\r\n        // assign values to fields in  minivan\r\n        minivan.passengers = 7;\r\n        minivan.fuelcap =16;\r\n        minivan.mpg = 21;\r\n\r\n        //assign vlaues to fields in sportscar\r\n        sportscar.passengers = 2;\r\n        sportscar.fuelcap = 14;\r\n        sportscar.mpg = 12;\r\n\r\n        gallons = minivan.fuelNeeded (dist);\r\n\r\n        System.out.println(&quot;To go &quot; + dist + &quot; miles minivan needs &quot; + gallons + &quot; gallons of fuel.&quot;);\r\n        \r\n        gallons = sportscar.fuelNeeded (dist);\r\n\r\n        System.out.println(&quot;To go &quot; + dist + &quot; miles sportscar needs &quot; + gallons + &quot; gallons of fuel.&quot;);\r\n        \r\n    }\r\n    \r\n}\r\n\r\n class Vehicle{\r\n    int passengers;\r\n    int fuelcap;\r\n    int mpg;\r\n\r\n    // return the range\r\n   public int range() {\r\n        return fuelcap * mpg;\r\n    }\r\n\r\n    // compute fuel needed for a given distance\r\n    public double fuelNeeded (int miles) {\r\n        return (double) miles / mpg;\r\n    }\r\n}\r\n\r\n```","title":"VSCode unable to find method on fully functional code","body":"<p>On Geany and my friend's computer this code works. But on my VSCode app it gives the error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\nThe method fuelNeeded(int) is undefined for the type Vehicle\nThe method fuelNeeded(int) is undefined for the type Vehicle\nat AddParamVehicle.main(AddParamVehicle.java:18)</p>\n</blockquote>\n<p>I would like to understand why this happens and how to fix it. Thanks.\nEdited after I updated to JDK 19, still giving same error.</p>\n<pre><code>public class AddParamVehicle {\n    public static void main (String[] args){\n        Vehicle minivan = new Vehicle();\n        Vehicle sportscar = new Vehicle();\n        double gallons;\n        int dist = 252;\n\n        // assign values to fields in  minivan\n        minivan.passengers = 7;\n        minivan.fuelcap =16;\n        minivan.mpg = 21;\n\n        //assign vlaues to fields in sportscar\n        sportscar.passengers = 2;\n        sportscar.fuelcap = 14;\n        sportscar.mpg = 12;\n\n        gallons = minivan.fuelNeeded (dist);\n\n        System.out.println(&quot;To go &quot; + dist + &quot; miles minivan needs &quot; + gallons + &quot; gallons of fuel.&quot;);\n        \n        gallons = sportscar.fuelNeeded (dist);\n\n        System.out.println(&quot;To go &quot; + dist + &quot; miles sportscar needs &quot; + gallons + &quot; gallons of fuel.&quot;);\n        \n    }\n    \n}\n\n class Vehicle{\n    int passengers;\n    int fuelcap;\n    int mpg;\n\n    // return the range\n   public int range() {\n        return fuelcap * mpg;\n    }\n\n    // compute fuel needed for a given distance\n    public double fuelNeeded (int miles) {\n        return (double) miles / mpg;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","elasticsearch-java-api"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1673267613,"post_id":75054183,"comment_id":132452820,"body_markdown":"did you tried `hit.innerHits().get(&quot;comment&quot;).hits().hits().toString()`","body":"did you tried <code>hit.innerHits().get(&quot;comment&quot;).hits().hits().toString()</code>"},{"owner":{"account_id":17296142,"reputation":23,"user_id":12526771,"display_name":"Ali Abbasi"},"score":0,"creation_date":1673327883,"post_id":75054183,"comment_id":132468154,"body_markdown":"@SagarPatel Same Response `[co.elastic.clients.elasticsearch.core.search.Hit@50cb9a2]`","body":"@SagarPatel Same Response <code>[co.elastic.clients.elasticsearch.core.search.Hit@50cb9a2]</code>"}],"answers":[{"comments":[{"owner":{"account_id":17296142,"reputation":23,"user_id":12526771,"display_name":"Ali Abbasi"},"score":0,"creation_date":1673328038,"post_id":75057925,"comment_id":132468180,"body_markdown":"Same response `[com.v2.search.p.Comment@10a0878, com.v2.search.p.Comment@7670fea2]`","body":"Same response <code>[com.v2.search.p.Comment@10a0878, com.v2.search.p.Comment@7670fea2]</code>"},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":1,"creation_date":1673356027,"post_id":75057925,"comment_id":132476012,"body_markdown":"You have the list comments return the list to your front. The system out would be to facility visualization.","body":"You have the list comments return the list to your front. The system out would be to facility visualization."}],"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673270668,"creation_date":1673270668,"answer_id":75057925,"question_id":75054183,"body_markdown":"I created a class Comment with property &quot;c_text&quot; and did a cast before adding inside a lists comments.\r\n\r\n     var comments = new ArrayList&lt;Comment&gt;();\r\n        for (var hit : response.hits().hits()) {\r\n          comments.addAll(hit.innerHits().get(&quot;comment&quot;).hits().hits().stream().map(\r\n              h -&gt; h.source().to(Comment.class)\r\n          ).collect(Collectors.toList()));\r\n        }\r\n        System.out.println(comments);","title":"Elasticsearch inner hits reponse","body":"<p>I created a class Comment with property &quot;c_text&quot; and did a cast before adding inside a lists comments.</p>\n<pre><code> var comments = new ArrayList&lt;Comment&gt;();\n    for (var hit : response.hits().hits()) {\n      comments.addAll(hit.innerHits().get(&quot;comment&quot;).hits().hits().stream().map(\n          h -&gt; h.source().to(Comment.class)\n      ).collect(Collectors.toList()));\n    }\n    System.out.println(comments);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17296142,"reputation":23,"user_id":12526771,"display_name":"Ali Abbasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673334085,"creation_date":1673334085,"answer_id":75066491,"question_id":75054183,"body_markdown":"This properly works for me in console :\r\n```\r\n for (var hit : response.hits().hits()) {\r\n        var innerHits = hit.innerHits().get(&quot;comment&quot;).hits().hits();\r\n        for (var innerHit : innerHits) {\r\n            JsonData source = innerHit.source();\r\n            String jsonDataString = source.toString();\r\n            System.out.println(&quot;Matched comments&quot;+jsonDataString);\r\n        }\r\n    }\r\n```","title":"Elasticsearch inner hits reponse","body":"<p>This properly works for me in console :</p>\n<pre><code> for (var hit : response.hits().hits()) {\n        var innerHits = hit.innerHits().get(&quot;comment&quot;).hits().hits();\n        for (var innerHit : innerHits) {\n            JsonData source = innerHit.source();\n            String jsonDataString = source.toString();\n            System.out.println(&quot;Matched comments&quot;+jsonDataString);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17296142,"reputation":23,"user_id":12526771,"display_name":"Ali Abbasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75066491,"answer_count":2,"score":0,"last_activity_date":1673334085,"creation_date":1673248947,"question_id":75054183,"body_markdown":"This is my query function :\r\n```\r\npublic  List&lt;feed&gt; search(String id) throws IOException {    \r\n    Query nestedQuery = NestedQuery.of(nq -&gt;nq.path(&quot;comment&quot;).innerHits(InnerHits.of(ih -&gt; ih)).query(MatchQuery\r\n    \t\t            .of(mq -&gt; mq.field(&quot;comment.c_text&quot;).query(id))._toQuery()))._toQuery();\r\n    Query termQueryTitle = TermQuery.of(tq -&gt; tq.field(&quot;title&quot;).value(id))._toQuery();\r\n    Query termQueryBody = TermQuery.of(tq -&gt; tq.field(&quot;body&quot;).value(id))._toQuery();\r\n    Query boolQuery = BoolQuery.of(bq -&gt; bq.should(nestedQuery, termQueryBody, termQueryTitle))._toQuery();\r\n    SearchRequest searchRequest = SearchRequest.of(s -&gt; s.index(indexName).query(boolQuery));\r\n    var response = elasticsearchClient.search(searchRequest, feed.class);\r\n    for (var hit : response.hits().hits()){\r\n    \tSystem.out.println(&quot;this is inner hit response: &quot; + (hit.innerHits().get(&quot;comment&quot;).hits().hits()));  }\r\n           List&lt;Hit&lt;feed&gt;&gt; hits = response.hits().hits();\r\n           List&lt;feed&gt; feeds = new ArrayList&lt;&gt;();\r\n           feed f=null;\r\n           for(Hit object : hits){\r\n        \t   f = (feed) object.source();\r\n        \t feeds.add(f); }   \r\n           return feeds;\r\n           }\r\n\r\n```\r\n\r\ni have add this code \r\n```\r\n for (var hit : response.hits().hits()){\r\n    \tSystem.out.println(&quot;this is inner hit response: &quot; + (hit.innerHits().get(&quot;comment&quot;).hits().hits()));  }\r\n```\r\nif it founds 2 records it gives me the refrence of 2  records but dont show me the actual records like its outpout is as follow if it founds 2 records in inner hit :\r\n```\r\nthis is inner hit response [co.elastic.clients.elasticsearch.core.search.Hit@75679b1a]\r\nthis is inner hit response [co.elastic.clients.elasticsearch.core.search.Hit@1916d9c6]\r\n```\r\ncan anyone help me to poput the actual records ","title":"Elasticsearch inner hits reponse","body":"<p>This is my query function :</p>\n<pre><code>public  List&lt;feed&gt; search(String id) throws IOException {    \n    Query nestedQuery = NestedQuery.of(nq -&gt;nq.path(&quot;comment&quot;).innerHits(InnerHits.of(ih -&gt; ih)).query(MatchQuery\n                        .of(mq -&gt; mq.field(&quot;comment.c_text&quot;).query(id))._toQuery()))._toQuery();\n    Query termQueryTitle = TermQuery.of(tq -&gt; tq.field(&quot;title&quot;).value(id))._toQuery();\n    Query termQueryBody = TermQuery.of(tq -&gt; tq.field(&quot;body&quot;).value(id))._toQuery();\n    Query boolQuery = BoolQuery.of(bq -&gt; bq.should(nestedQuery, termQueryBody, termQueryTitle))._toQuery();\n    SearchRequest searchRequest = SearchRequest.of(s -&gt; s.index(indexName).query(boolQuery));\n    var response = elasticsearchClient.search(searchRequest, feed.class);\n    for (var hit : response.hits().hits()){\n        System.out.println(&quot;this is inner hit response: &quot; + (hit.innerHits().get(&quot;comment&quot;).hits().hits()));  }\n           List&lt;Hit&lt;feed&gt;&gt; hits = response.hits().hits();\n           List&lt;feed&gt; feeds = new ArrayList&lt;&gt;();\n           feed f=null;\n           for(Hit object : hits){\n               f = (feed) object.source();\n             feeds.add(f); }   \n           return feeds;\n           }\n\n</code></pre>\n<p>i have add this code</p>\n<pre><code> for (var hit : response.hits().hits()){\n        System.out.println(&quot;this is inner hit response: &quot; + (hit.innerHits().get(&quot;comment&quot;).hits().hits()));  }\n</code></pre>\n<p>if it founds 2 records it gives me the refrence of 2  records but dont show me the actual records like its outpout is as follow if it founds 2 records in inner hit :</p>\n<pre><code>this is inner hit response [co.elastic.clients.elasticsearch.core.search.Hit@75679b1a]\nthis is inner hit response [co.elastic.clients.elasticsearch.core.search.Hit@1916d9c6]\n</code></pre>\n<p>can anyone help me to poput the actual records</p>\n"},{"tags":["java","naming-conventions"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1328718557,"post_id":9197316,"comment_id":11574855,"body_markdown":"Note that those &quot;fields&quot; in methods as in your example do not compile, the `private` modifier is illegal there. That should already have turned on a light bulb :)","body":"Note that those &quot;fields&quot; in methods as in your example do not compile, the <code>private</code> modifier is illegal there. That should already have turned on a light bulb :)"},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328718774,"post_id":9197316,"comment_id":11574953,"body_markdown":"@BalusC Sorry, this was just an example. I did copy&amp;paste without taking too much care.","body":"@BalusC Sorry, this was just an example. I did copy&amp;paste without taking too much care."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1328718893,"post_id":9197316,"comment_id":11575010,"body_markdown":"Okay. My point was, you can&#39;t tune the visibility of local variables nor make them static, so the statement &quot;non-public, non-static&quot; would already make no sense.","body":"Okay. My point was, you can&#39;t tune the visibility of local variables nor make them static, so the statement &quot;non-public, non-static&quot; would already make no sense."},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328718935,"post_id":9197316,"comment_id":11575030,"body_markdown":"@BalusC Hahaha you&#39;re absolutely right!","body":"@BalusC Hahaha you&#39;re absolutely right!"},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1328730835,"post_id":9197316,"comment_id":11579671,"body_markdown":"I still wonder why there are some android coding rules when there have always been java coding rules...","body":"I still wonder why there are some android coding rules when there have always been java coding rules..."},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328778952,"post_id":9197316,"comment_id":11590639,"body_markdown":"@Snicolas Why not? We use Java, but making SDK specific coding rules makes such apps distinctive. Like, when you see some image title ic_launcher_app, you immediatelly know it&#39;s an image for Android app.","body":"@Snicolas Why not? We use Java, but making SDK specific coding rules makes such apps distinctive. Like, when you see some image title ic_launcher_app, you immediatelly know it&#39;s an image for Android app."},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":0,"creation_date":1328783169,"post_id":9197316,"comment_id":11592006,"body_markdown":"@bergnam and you touch the central point; there is absolutely no need to distinguish android code from java code. There is no special way to program for using swing or any other API and android only differs by its API. It would help building pure java core modules in android apps if there would be no specific coding rules just because you use a few android classeS.","body":"@bergnam and you touch the central point; there is absolutely no need to distinguish android code from java code. There is no special way to program for using swing or any other API and android only differs by its API. It would help building pure java core modules in android apps if there would be no specific coding rules just because you use a few android classeS."},{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328787265,"post_id":9197316,"comment_id":11593415,"body_markdown":"@Snicolas You&#39;re right, unless Google has some plans for the future, like making AJava language :), the same way Apple made Objective C. Just a thought... But frankly, I haven&#39;t seen any huge differences in Android Code Style, except that they added a few suggestions on how to name new things which came with Android SDK. Can you name what Android Style changed from the original Java?","body":"@Snicolas You&#39;re right, unless Google has some plans for the future, like making AJava language :), the same way Apple made Objective C. Just a thought... But frankly, I haven&#39;t seen any huge differences in Android Code Style, except that they added a few suggestions on how to name new things which came with Android SDK. Can you name what Android Style changed from the original Java?"},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":1,"creation_date":1328795554,"post_id":9197316,"comment_id":11596402,"body_markdown":"@bergmam : conding conventions (to my mind absolutely awful and useless) for naming private fields, static fields. Other ad-hoc conventions that seem ackward include onXXX for event methods, OnXXX for event listener interface names, unique listener registration method instead of the common  multiple listener registration (setOnXXXListener instead of addXXXListener/removeXXXListener). Not that much, but poorly enough, not real plus value..","body":"@bergmam : conding conventions (to my mind absolutely awful and useless) for naming private fields, static fields. Other ad-hoc conventions that seem ackward include onXXX for event methods, OnXXX for event listener interface names, unique listener registration method instead of the common  multiple listener registration (setOnXXXListener instead of addXXXListener/removeXXXListener). Not that much, but poorly enough, not real plus value.."},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1455040466,"post_id":9197316,"comment_id":58307885,"body_markdown":"android: http://stackoverflow.com/questions/2092098/why-do-most-variables-in-android-tutorial-start-with-m","body":"android: <a href=\"http://stackoverflow.com/questions/2092098/why-do-most-variables-in-android-tutorial-start-with-m\" title=\"why do most variables in android tutorial start with m\">stackoverflow.com/questions/2092098/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11787,"reputation":15498,"user_id":22904,"accept_rate":44,"display_name":"Giulio Piancastelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1328718351,"creation_date":1328718351,"answer_id":9197348,"question_id":9197316,"body_markdown":"In your second example, `mMethodFieldOne` and `mMethodFieldTwo` are not fields, just variables local to `someMethod`, so the naming convention does not apply.","title":"Which field names get prefix &#39;m&#39;?","body":"<p>In your second example, <code>mMethodFieldOne</code> and <code>mMethodFieldTwo</code> are not fields, just variables local to <code>someMethod</code>, so the naming convention does not apply.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328718402,"creation_date":1328718402,"answer_id":9197372,"question_id":9197316,"body_markdown":"It refers to *fields* only, which are the class members (= `m`). The others are *local variables*.","title":"Which field names get prefix &#39;m&#39;?","body":"<p>It refers to <em>fields</em> only, which are the class members (= <code>m</code>). The others are <em>local variables</em>.</p>\n"},{"comments":[{"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"score":0,"creation_date":1328718839,"post_id":9197425,"comment_id":11574986,"body_markdown":"Sorry, this was just an example. I did copy&amp;paste without taking too much care. I&#39;ve fixed it.","body":"Sorry, this was just an example. I did copy&amp;paste without taking too much care. I&#39;ve fixed it."}],"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328718580,"creation_date":1328718580,"answer_id":9197425,"question_id":9197316,"body_markdown":"Inside method access modifier (private) are not acceptable, compile time error. &quot;&quot;Non-public, non-static field names start with m&quot; means instance variables, which is first case. Inside method it will just start with small letter. ","title":"Which field names get prefix &#39;m&#39;?","body":"<p>Inside method access modifier (private) are not acceptable, compile time error. \"\"Non-public, non-static field names start with m\" means instance variables, which is first case. Inside method it will just start with small letter. </p>\n"},{"tags":[],"owner":{"account_id":420884,"reputation":1310,"user_id":798810,"accept_rate":50,"display_name":"seufagner"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673334030,"creation_date":1364705499,"answer_id":15726468,"question_id":9197316,"body_markdown":"This is an Android contributor guideline, not Java community.\r\n\r\n&gt; Follow Field Naming Conventions Non-public, non-static field names\r\n&gt; start with m.\r\n&gt; \r\n&gt; Static field names start with s.\r\n&gt; \r\n&gt; Other fields start with a lower case letter.\r\n&gt; \r\n&gt; Public static final fields (constants) are ALL_CAPS_WITH_UNDERSCORES.\r\n\r\n[http://source.android.com/source/code-style.html#follow-field-naming-conventions][1]\r\n\r\n\r\n  [1]: http://source.android.com/source/code-style.html#follow-field-naming-conventions\r\n\r\n\r\nAnyway, I think that this isn&#39;t necessary and don&#39;t agree with the style.","title":"Which field names get prefix &#39;m&#39;?","body":"<p>This is an Android contributor guideline, not Java community.</p>\n<blockquote>\n<p>Follow Field Naming Conventions Non-public, non-static field names\nstart with m.</p>\n<p>Static field names start with s.</p>\n<p>Other fields start with a lower case letter.</p>\n<p>Public static final fields (constants) are ALL_CAPS_WITH_UNDERSCORES.</p>\n</blockquote>\n<p><a href=\"http://source.android.com/source/code-style.html#follow-field-naming-conventions\" rel=\"nofollow noreferrer\">http://source.android.com/source/code-style.html#follow-field-naming-conventions</a></p>\n<p>Anyway, I think that this isn't necessary and don't agree with the style.</p>\n"}],"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4502,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":9197348,"answer_count":4,"score":11,"last_activity_date":1673334030,"creation_date":1328718223,"question_id":9197316,"body_markdown":"The convention says: &quot;Non-public, non-static field names start with m. Other fields start with a lower case letter&quot;. Does it refer to class field only (like in example 1) or to all field (like in example 2)?\r\n\r\nExample 1\r\n\r\n    public class One {\r\n       private int mFieldOne;\r\n       private int mFieldTwo;\r\n    \r\n       public void someMethod(){\r\n          int methodFieldOne;\r\n          int methodFieldTwo;\r\n       }\r\n    }\r\n\r\nExample 2\r\n\r\n    public class Two {\r\n       private int mFieldOne;\r\n       private int mFieldTwo;\r\n    \r\n       public void someMethod(){\r\n          int mMethodFieldOne; //see m here\r\n          int mMethodFieldTwo; //see m here\r\n       }\r\n    } ","title":"Which field names get prefix &#39;m&#39;?","body":"<p>The convention says: \"Non-public, non-static field names start with m. Other fields start with a lower case letter\". Does it refer to class field only (like in example 1) or to all field (like in example 2)?</p>\n\n<p>Example 1</p>\n\n<pre><code>public class One {\n   private int mFieldOne;\n   private int mFieldTwo;\n\n   public void someMethod(){\n      int methodFieldOne;\n      int methodFieldTwo;\n   }\n}\n</code></pre>\n\n<p>Example 2</p>\n\n<pre><code>public class Two {\n   private int mFieldOne;\n   private int mFieldTwo;\n\n   public void someMethod(){\n      int mMethodFieldOne; //see m here\n      int mMethodFieldTwo; //see m here\n   }\n} \n</code></pre>\n"},{"tags":["java","selenium","file","selenium-webdriver","base64"],"answers":[{"comments":[{"owner":{"account_id":27005268,"reputation":1,"user_id":20565860,"display_name":"derren dhanraj"},"score":0,"creation_date":1673357117,"post_id":75065305,"comment_id":132476446,"body_markdown":"Hi Stephen Thanks for the response, its working now.\n\nI just change the location for the screenshot path that it now it is working.\n\t\tString path = projectname/Base64/img.png&quot;;","body":"Hi Stephen Thanks for the response, its working now.  I just change the location for the screenshot path that it now it is working. \t\tString path = projectname/Base64/img.png&quot;;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673509273,"post_id":75065305,"comment_id":132516161,"body_markdown":"I&#39;m not sure why that solved your problem ... or if it is actually a good solution.  It depends on what was using the file with the other path and why.","body":"I&#39;m not sure why that solved your problem ... or if it is actually a good solution.  It depends on what was using the file with the other path and why."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673333837,"creation_date":1673322805,"answer_id":75065305,"question_id":75063183,"body_markdown":"The cause of your problem is that Windows won&#39;t let your application open the &quot;Screenshots/image.png&quot; file for writing because something else already has it open.  It just won&#39;t.  See [File Locking](https://en.wikipedia.org/wiki/File_locking#In_Microsoft_Windows) for an overview of Windows file locks and their purpose.\r\n\r\nThis SuperUser Q&amp;A gives a number of ways to figure out which other application holds the file lock:  \r\n\r\n  - [Find out which process is locking a file or folder in Windows](https://superuser.com/questions/117902)\r\n\r\nYour use of Selenium in this instance is (probably) not apropos.\r\n\r\n-------------------\r\n\r\nYou will most likely need to do one of the following to resolve this.\r\n\r\n  - Change your application to write the screenshot to another file if the first target file it chooses is locked.\r\n  - Tell the user that your application can&#39;t write the file.  The user message could suggest that they need to close whatever other application it is that has the image file open at the moment.\r\n  - If the other application is Windows itself (for some reason) you will probably need to rethink what you trying to do.","title":"How to resolve java.nio.file.FileSystemException The process cannot access the file because it is being used by another process","body":"<p>The cause of your problem is that Windows won't let your application open the &quot;Screenshots/image.png&quot; file for writing because something else already has it open.  It just won't.  See <a href=\"https://en.wikipedia.org/wiki/File_locking#In_Microsoft_Windows\" rel=\"nofollow noreferrer\">File Locking</a> for an overview of Windows file locks and their purpose.</p>\n<p>This SuperUser Q&amp;A gives a number of ways to figure out which other application holds the file lock:</p>\n<ul>\n<li><a href=\"https://superuser.com/questions/117902\">Find out which process is locking a file or folder in Windows</a></li>\n</ul>\n<p>Your use of Selenium in this instance is (probably) not apropos.</p>\n<hr />\n<p>You will most likely need to do one of the following to resolve this.</p>\n<ul>\n<li>Change your application to write the screenshot to another file if the first target file it chooses is locked.</li>\n<li>Tell the user that your application can't write the file.  The user message could suggest that they need to close whatever other application it is that has the image file open at the moment.</li>\n<li>If the other application is Windows itself (for some reason) you will probably need to rethink what you trying to do.</li>\n</ul>\n"}],"owner":{"account_id":27005268,"reputation":1,"user_id":20565860,"display_name":"derren dhanraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673333837,"creation_date":1673300223,"question_id":75063183,"body_markdown":"I am getting the exception (java.nio.file.FileSystemException) while I run the this code \r\n\r\npublic String getScreenShotAsBase64() throws IOException {\r\n\t\t\r\n\tFile source = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n\tString path = System.getProperty(&quot;user.dir&quot;) + &quot;/Screenshots/image.png&quot;;\r\n\tFileUtils.copyFile(source, new File(path));\r\n\tbyte[] imageBytes = IOUtils.toByteArray(new FileInputStream(path));\r\n\treturn Base64.getEncoder().encodeToString(imageBytes);\r\n}\r\n\r\nwhen I try to run the method it is not working throws exception.","title":"How to resolve java.nio.file.FileSystemException The process cannot access the file because it is being used by another process","body":"<p>I am getting the exception (java.nio.file.FileSystemException) while I run the this code</p>\n<p>public String getScreenShotAsBase64() throws IOException {</p>\n<pre><code>File source = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\nString path = System.getProperty(&quot;user.dir&quot;) + &quot;/Screenshots/image.png&quot;;\nFileUtils.copyFile(source, new File(path));\nbyte[] imageBytes = IOUtils.toByteArray(new FileInputStream(path));\nreturn Base64.getEncoder().encodeToString(imageBytes);\n</code></pre>\n<p>}</p>\n<p>when I try to run the method it is not working throws exception.</p>\n"},{"tags":["java","gradle","protocol-buffers","protobuf-java"],"owner":{"account_id":27485208,"reputation":11,"user_id":20971581,"display_name":"software-surgeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673333734,"creation_date":1673333734,"question_id":75066441,"body_markdown":"I am working on a service serialization enhancement to introduce Google Protobuf. One additional design flexibility, I am attempting to accomplish is to enhance the ease of extensibility of the serialization mechanisms. The idea I got is to define an interface that contains a subset of the *Builder.java Protobuf generated java code, then append the generated *Builder.java class to implement that newly defined interface. My questions are:\r\n\r\n1. How I can append that interface syntax to the generated class?\r\n2. Does Protobuf have a native way to support such a scenario?\r\n3. If Google Protobuf doesn&#39;t support that approach natively, is there a different, better approach to do it? (other than encapsulating the *Builder.java class in a wrapper object?)\r\n4. In light of Protobuf&#39;s best practices, does anyone thinks doing a code-gen that generates and appends the needed code to the *Builder.java at the coding build stage is feasible?\r\n\r\nI have looked in blog posts and it seems the way that people are implementing it is using gradle to append the interface implementation syntax `implements user_defined_interface`into the protobuf generated Java code *Builder.java class","title":"How to force a Google Protobuf generated java code to implement a user-defined interface","body":"<p>I am working on a service serialization enhancement to introduce Google Protobuf. One additional design flexibility, I am attempting to accomplish is to enhance the ease of extensibility of the serialization mechanisms. The idea I got is to define an interface that contains a subset of the *Builder.java Protobuf generated java code, then append the generated *Builder.java class to implement that newly defined interface. My questions are:</p>\n<ol>\n<li>How I can append that interface syntax to the generated class?</li>\n<li>Does Protobuf have a native way to support such a scenario?</li>\n<li>If Google Protobuf doesn't support that approach natively, is there a different, better approach to do it? (other than encapsulating the *Builder.java class in a wrapper object?)</li>\n<li>In light of Protobuf's best practices, does anyone thinks doing a code-gen that generates and appends the needed code to the *Builder.java at the coding build stage is feasible?</li>\n</ol>\n<p>I have looked in blog posts and it seems the way that people are implementing it is using gradle to append the interface implementation syntax <code>implements user_defined_interface</code>into the protobuf generated Java code *Builder.java class</p>\n"},{"tags":["java","json","spring-boot","jackson-databind","objectmapper"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1673330455,"post_id":75066012,"comment_id":132468587,"body_markdown":"I would say use the JsonIgnoreProperties annotation and ignoreUnknown=true, then readValue() into a HashMap of &lt;String, TokenAccessResponseDTO&gt;","body":"I would say use the JsonIgnoreProperties annotation and ignoreUnknown=true, then readValue() into a HashMap of &lt;String, TokenAccessResponseDTO&gt;"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1673330755,"post_id":75066012,"comment_id":132468637,"body_markdown":"Though if you rather have a method to unpack the nested object directly without reading into hashmap, you could do so. Reference material [here](https://www.baeldung.com/jackson-nested-values)","body":"Though if you rather have a method to unpack the nested object directly without reading into hashmap, you could do so. Reference material <a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":38330,"reputation":15203,"user_id":109941,"accept_rate":91,"display_name":"Jim G."},"score":1,"creation_date":1673366322,"post_id":75066012,"comment_id":132480003,"body_markdown":"Does this answer your question? [How can I deserialize it using Java?](https://stackoverflow.com/questions/69917981/how-can-i-deserialize-it-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69917981/how-can-i-deserialize-it-using-java\">How can I deserialize it using Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673333668,"creation_date":1673333668,"answer_id":75066435,"question_id":75066012,"body_markdown":"I solved this issue by mapping JSON Object to JsonNode and then adding the below syntax to fetch token \r\n\r\n```jsonNode.findValue(&quot;token&quot;).asText()```","title":"How to map JSON object with java Pojo class ignoring parent class spring boot?","body":"<p>I solved this issue by mapping JSON Object to JsonNode and then adding the below syntax to fetch token</p>\n<p><code>jsonNode.findValue(&quot;token&quot;).asText()</code></p>\n"}],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673333668,"creation_date":1673330304,"question_id":75066012,"body_markdown":"I want to map below Json object with Java Pojo class ignoring parent class AuthToken.\r\n```\r\n{\r\n  &quot;AuthToken&quot; : \r\n  {\r\n    &quot;id&quot; : &quot;1&quot;,\r\n    &quot;token&quot; : &quot;abcde1234xyz&quot;,\r\n    &quot;extendSession&quot; : null\r\n  } \r\n}\r\n```\r\n\r\nPojo Class \r\n\r\n```\r\npublic class TokenAccessResponseDTO {\r\n\r\n\tprivate String token;\r\n\r\n\tpublic String getToken() {\r\n\t\treturn token;\r\n\t}\r\n\r\n\tpublic void setToken(String token) {\r\n\t\tthis.token = token;\r\n\t}\r\n\r\n}\r\n```","title":"How to map JSON object with java Pojo class ignoring parent class spring boot?","body":"<p>I want to map below Json object with Java Pojo class ignoring parent class AuthToken.</p>\n<pre><code>{\n  &quot;AuthToken&quot; : \n  {\n    &quot;id&quot; : &quot;1&quot;,\n    &quot;token&quot; : &quot;abcde1234xyz&quot;,\n    &quot;extendSession&quot; : null\n  } \n}\n</code></pre>\n<p>Pojo Class</p>\n<pre><code>public class TokenAccessResponseDTO {\n\n    private String token;\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","naming-conventions"],"comments":[{"owner":{"account_id":137712,"reputation":7725,"user_id":342095,"accept_rate":73,"display_name":"SMUsamaShah"},"score":0,"creation_date":1440391759,"post_id":4237469,"comment_id":52235337,"body_markdown":"http://stackoverflow.com/a/7072899/342095","body":"<a href=\"http://stackoverflow.com/a/7072899/342095\">stackoverflow.com/a/7072899/342095</a>"},{"owner":{"account_id":8825308,"reputation":341,"user_id":6593749,"display_name":"mavesonzini"},"score":4,"creation_date":1511173947,"post_id":4237469,"comment_id":81732735,"body_markdown":"Hi! This is no longer used, it&#39;s bad variable naming! It&#39;s called Hungarian Notation. This tarted life in the platform inside of AOSP so it adhered to the AOSP style. Android Studio and IntelliJ IDEA visually distinguish field names based on membership (instance or static). IDEs will enforce correct membership, visibility, and types by default so a naming convention isn’t going to add anything here.  Cheers!","body":"Hi! This is no longer used, it&#39;s bad variable naming! It&#39;s called Hungarian Notation. This tarted life in the platform inside of AOSP so it adhered to the AOSP style. Android Studio and IntelliJ IDEA visually distinguish field names based on membership (instance or static). IDEs will enforce correct membership, visibility, and types by default so a naming convention isn’t going to add anything here.  Cheers!"}],"answers":[{"comments":[{"owner":{"account_id":212174,"reputation":445,"user_id":2570728,"display_name":"Rodrigo Recio"},"score":1,"creation_date":1554939605,"post_id":4237475,"comment_id":97938369,"body_markdown":"it looks like premature optimization","body":"it looks like premature optimization"}],"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1673333597,"creation_date":1290336975,"answer_id":4237475,"question_id":4237469,"body_markdown":"&#39;m&#39; means member of the class. So, if you don&#39;t use IDE to highlight your members, then you will understand that it is a member by its name.","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>'m' means member of the class. So, if you don't use IDE to highlight your members, then you will understand that it is a member by its name.</p>\n"},{"comments":[{"owner":{"account_id":157715,"reputation":47893,"user_id":375874,"accept_rate":88,"display_name":"Falmarri"},"score":143,"creation_date":1290374239,"post_id":4237476,"comment_id":4591856,"body_markdown":"I always read the &#39;m&#39; as &#39;my&#39;. Good to know it&#39;s not that stupid, lol","body":"I always read the &#39;m&#39; as &#39;my&#39;. Good to know it&#39;s not that stupid, lol"},{"owner":{"account_id":434849,"reputation":9817,"user_id":821110,"accept_rate":95,"display_name":"W.K.S"},"score":24,"creation_date":1371032819,"post_id":4237476,"comment_id":24673923,"body_markdown":"I never understood this convention either. Why add an odd &#39;m&#39; when you can use `this`? The whole point of that keyword is to indicate you&#39;re dealing with a class member variable/function.","body":"I never understood this convention either. Why add an odd &#39;m&#39; when you can use <code>this</code>? The whole point of that keyword is to indicate you&#39;re dealing with a class member variable/function."},{"owner":{"account_id":208549,"reputation":3020,"user_id":459095,"accept_rate":69,"display_name":"AutoM8R"},"score":57,"creation_date":1371930455,"post_id":4237476,"comment_id":25007317,"body_markdown":"OK, &quot;m&quot; is very much misunderstood. I don&#39;t think it matters whether or not you use an IDE, all variables should follow this convention. By using this convention one can quickly look at the code immediately in front of them and readily understand the scope of the variables, I find this extremely important with Android Activities. I don&#39;t have to break my chain of thought by always tracing the variables back through the IDE, it&#39;s MUCH better for concentration purposes.","body":"OK, &quot;m&quot; is very much misunderstood. I don&#39;t think it matters whether or not you use an IDE, all variables should follow this convention. By using this convention one can quickly look at the code immediately in front of them and readily understand the scope of the variables, I find this extremely important with Android Activities. I don&#39;t have to break my chain of thought by always tracing the variables back through the IDE, it&#39;s MUCH better for concentration purposes."},{"owner":{"account_id":1383767,"reputation":9491,"user_id":1316229,"accept_rate":62,"display_name":"twiz"},"score":20,"creation_date":1387137015,"post_id":4237476,"comment_id":30821159,"body_markdown":"@AutoM8R In my opinion, the fact that it is so misunderstood is what makes it unhelpful. How can you know for sure the the person who wrote the code used the convention &quot;correctly&quot;?","body":"@AutoM8R In my opinion, the fact that it is so misunderstood is what makes it unhelpful. How can you know for sure the the person who wrote the code used the convention &quot;correctly&quot;?"},{"owner":{"account_id":243192,"reputation":6619,"user_id":515205,"accept_rate":83,"display_name":"spaaarky21"},"score":5,"creation_date":1412008023,"post_id":4237476,"comment_id":40908821,"body_markdown":"@W.K.S Yes, `this` does indicate that what follows is a member but I wouldn&#39;t clutter my code with that either.  If you right short methods, whether a variable is local or a member shouldn&#39;t be confusing.  Only prefix with `this.` when it&#39;s needed to disambiguate.","body":"@W.K.S Yes, <code>this</code> does indicate that what follows is a member but I wouldn&#39;t clutter my code with that either.  If you right short methods, whether a variable is local or a member shouldn&#39;t be confusing.  Only prefix with <code>this.</code> when it&#39;s needed to disambiguate."},{"owner":{"account_id":4110336,"reputation":611,"user_id":3373283,"display_name":"kingfrito_5005"},"score":4,"creation_date":1438106473,"post_id":4237476,"comment_id":51309414,"body_markdown":"@AutoM8R its not misunderstood. we understand it, and dislike it. If I am using an IDE the text will be in a color that immediately tells me what it is. I am never not using an IDE, so this is just ugly syntax for me. Many other people feel this way, which is what brings its value into question. Also with proper naming and well written code, it should be obvious without being labelled what things are members and what are not.","body":"@AutoM8R its not misunderstood. we understand it, and dislike it. If I am using an IDE the text will be in a color that immediately tells me what it is. I am never not using an IDE, so this is just ugly syntax for me. Many other people feel this way, which is what brings its value into question. Also with proper naming and well written code, it should be obvious without being labelled what things are members and what are not."},{"owner":{"account_id":1530494,"reputation":6443,"user_id":1427798,"accept_rate":59,"display_name":"An-droid"},"score":0,"creation_date":1458297608,"post_id":4237476,"comment_id":59808691,"body_markdown":"I personally think that this suffix  makes android code much more readable http://source.android.com/source/code-style.html#follow-field-naming-conventions","body":"I personally think that this suffix  makes android code much more readable <a href=\"http://source.android.com/source/code-style.html#follow-field-naming-conventions\" rel=\"nofollow noreferrer\">source.android.com/source/&hellip;</a>"},{"owner":{"account_id":6682015,"reputation":401,"user_id":5421443,"accept_rate":40,"display_name":"AbhishekAsh"},"score":0,"creation_date":1491146966,"post_id":4237476,"comment_id":73413833,"body_markdown":"In my opinion usage of &#39;m&#39; to identify the variable scope, indicates in a way that the methods are very long and probably doing too much.","body":"In my opinion usage of &#39;m&#39; to identify the variable scope, indicates in a way that the methods are very long and probably doing too much."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1492444499,"post_id":4237476,"comment_id":73965175,"body_markdown":"This answer is incorrect. See @Danilo&#39;s answer.","body":"This answer is incorrect. See @Danilo&#39;s answer."},{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":0,"creation_date":1519569131,"post_id":4237476,"comment_id":84954036,"body_markdown":"Also agree that knowing if something is a field/member is not a good argument. Go ahead and color-code your members if that&#39;s so important to you, humans visualize colors much better than words anyway.\n\nThere is a post actually by the guy who introduced it to Android and the (somewhat flawed) reasons behind it: http://beust.com/weblog/2017/07/17/i-am-the-reason-for-hungarian-notation-in-android/","body":"Also agree that knowing if something is a field/member is not a good argument. Go ahead and color-code your members if that&#39;s so important to you, humans visualize colors much better than words anyway.  There is a post actually by the guy who introduced it to Android and the (somewhat flawed) reasons behind it: <a href=\"http://beust.com/weblog/2017/07/17/i-am-the-reason-for-hungarian-notation-in-android/\" rel=\"nofollow noreferrer\">beust.com/weblog/2017/07/17/&hellip;</a>"}],"tags":[],"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"comment_count":10,"down_vote_count":1,"up_vote_count":336,"is_accepted":true,"score":335,"last_activity_date":1356738550,"creation_date":1290336979,"answer_id":4237476,"question_id":4237469,"body_markdown":"It stands for member.  I personally find this convention unhelpful, but it&#39;s subjective.","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>It stands for member.  I personally find this convention unhelpful, but it's subjective.</p>\n"},{"tags":[],"owner":{"account_id":178289,"reputation":675,"user_id":410160,"display_name":"swcai"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1290336982,"creation_date":1290336982,"answer_id":4237477,"question_id":4237469,"body_markdown":"&#39;m&#39; means the variable is a member variable of the class...","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>'m' means the variable is a member variable of the class...</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1290337486,"creation_date":1290337486,"answer_id":4237511,"question_id":4237469,"body_markdown":"As already answered this prefix indcates that a variable is member. \r\n\r\nSomtimes people use other prefixes if you discover some variables starting with &#39;i&#39; or &#39;s&#39; it could also be a variant of the [Hungarian Notation](http://en.wikipedia.org/wiki/Hungarian_notation)","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>As already answered this prefix indcates that a variable is member. </p>\n\n<p>Somtimes people use other prefixes if you discover some variables starting with 'i' or 's' it could also be a variant of the <a href=\"http://en.wikipedia.org/wiki/Hungarian_notation\" rel=\"noreferrer\">Hungarian Notation</a></p>\n"},{"tags":[],"owner":{"account_id":107628,"reputation":3549,"user_id":286094,"accept_rate":90,"display_name":"chunkyguy"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1297550073,"creation_date":1297550073,"answer_id":4981062,"question_id":4237469,"body_markdown":"not only in java, I&#39;ve seen similar convention in cocos2d+box2d samples where some of the variables start with m_, but others don&#39;t, very confusing.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nb2World* world;\r\nGLESDebugDraw *m_debugDraw;\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nI guess to differentiate C++ box2d variables from Obj-C variables.","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>not only in java, I've seen similar convention in cocos2d+box2d samples where some of the variables start with m_, but others don't, very confusing.</p>\n\n<pre><code>\nb2World* world;\nGLESDebugDraw *m_debugDraw;\n</code></pre>\n\n<p>I guess to differentiate C++ box2d variables from Obj-C variables.</p>\n"},{"comments":[{"owner":{"account_id":238252,"reputation":13971,"user_id":507018,"accept_rate":78,"display_name":"Иван Бишевац"},"score":3,"creation_date":1322780236,"post_id":6341653,"comment_id":10298335,"body_markdown":"Great link, not just for prefixes.","body":"Great link, not just for prefixes."},{"owner":{"account_id":1030244,"reputation":37289,"user_id":1038702,"accept_rate":65,"display_name":"David"},"score":0,"creation_date":1341821320,"post_id":6341653,"comment_id":15016233,"body_markdown":"Is this link refers to writing application? or just to Open android project?","body":"Is this link refers to writing application? or just to Open android project?"}],"tags":[],"owner":{"account_id":389037,"reputation":1463,"user_id":748281,"display_name":"Warren Chu"},"comment_count":2,"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1492444332,"creation_date":1308044199,"answer_id":6341653,"question_id":4237469,"body_markdown":"See [Code Style Guidelines for Contributors: Follow Field Naming Conventions][1]. The use of the &quot;m&quot; prefix is more specific that simply denoting a &quot;member&quot; variable: It&#39;s for &quot;non-public, non-static field names.&quot;\r\n\r\n\r\n  [1]: http://source.android.com/source/code-style.html#follow-field-naming-conventions &quot;Code Style Guidelines for Contributors: Follow Field Naming Conventions&quot;","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>See <a href=\"http://source.android.com/source/code-style.html#follow-field-naming-conventions\" rel=\"noreferrer\" title=\"Code Style Guidelines for Contributors: Follow Field Naming Conventions\">Code Style Guidelines for Contributors: Follow Field Naming Conventions</a>. The use of the \"m\" prefix is more specific that simply denoting a \"member\" variable: It's for \"non-public, non-static field names.\"</p>\n"},{"comments":[{"owner":{"account_id":4864932,"reputation":1275,"user_id":3923521,"accept_rate":31,"display_name":"An0nC0d3r"},"score":5,"creation_date":1470214292,"post_id":31454775,"comment_id":64852073,"body_markdown":"Plus 1 for the auto complete suggestion!","body":"Plus 1 for the auto complete suggestion!"},{"owner":{"account_id":1119055,"reputation":498,"user_id":1107768,"display_name":"Kuba Ber&#225;nek"},"score":16,"creation_date":1488535171,"post_id":31454775,"comment_id":72284524,"body_markdown":"There&#39;s already a thing for that built into Java - it&#39;s called this ;-)","body":"There&#39;s already a thing for that built into Java - it&#39;s called this ;-)"}],"tags":[],"owner":{"account_id":3349789,"reputation":1181,"user_id":2814058,"accept_rate":100,"display_name":"Klaus"},"comment_count":2,"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1437051273,"creation_date":1437051273,"answer_id":31454775,"question_id":4237469,"body_markdown":"The m is here to indicate a **m**ember variable.\r\n\r\nIt has 2 huge advantages:\r\n\r\n - If you see it, you instantly recognize it as a member variable.\r\n - Press m and you get all members via the auto completer. (This one is not in the other answers)","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>The m is here to indicate a <strong>m</strong>ember variable.</p>\n\n<p>It has 2 huge advantages:</p>\n\n<ul>\n<li>If you see it, you instantly recognize it as a member variable.</li>\n<li>Press m and you get all members via the auto completer. (This one is not in the other answers)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":244922,"reputation":1617,"user_id":518076,"accept_rate":89,"display_name":"Tam&#225;s Barta"},"score":2,"creation_date":1445506048,"post_id":32587898,"comment_id":54355805,"body_markdown":"Can you please provide an URL for this Google documentation? Thanks!","body":"Can you please provide an URL for this Google documentation? Thanks!"},{"owner":{"account_id":5174636,"reputation":1370,"user_id":4142196,"accept_rate":50,"display_name":"Danilo Dughetti"},"score":2,"creation_date":1456237689,"post_id":32587898,"comment_id":58846862,"body_markdown":"http://source.android.com/source/code-style.html#follow-field-naming-conventions","body":"<a href=\"http://source.android.com/source/code-style.html#follow-field-naming-conventions\" rel=\"nofollow noreferrer\">source.android.com/source/&hellip;</a>"},{"owner":{"account_id":2146159,"reputation":3075,"user_id":1903743,"accept_rate":67,"display_name":"Taylan"},"score":7,"creation_date":1499804327,"post_id":32587898,"comment_id":77061925,"body_markdown":"Quote from the page: *Note: These rules are intended for the Android platform and are not required of Android app developers. App developers may follow the standard of their choosing, such as the [Google Java Style Guide](https://google.github.io/styleguide/javaguide.html).*","body":"Quote from the page: <i>Note: These rules are intended for the Android platform and are not required of Android app developers. App developers may follow the standard of their choosing, such as the <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"nofollow noreferrer\">Google Java Style Guide</a>.</i>"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1664396653,"post_id":32587898,"comment_id":130464847,"body_markdown":"From experience, it&#39;s better to use &quot;_&quot; instead of &quot;m&quot;, since any variable name can start with that letter. That way autocomplete will show only field (or whatever we set it to) variables, plus it&#39;s visually more noticeable.","body":"From experience, it&#39;s better to use &quot;_&quot; instead of &quot;m&quot;, since any variable name can start with that letter. That way autocomplete will show only field (or whatever we set it to) variables, plus it&#39;s visually more noticeable."}],"tags":[],"owner":{"account_id":5174636,"reputation":1370,"user_id":4142196,"accept_rate":50,"display_name":"Danilo Dughetti"},"comment_count":4,"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1505111312,"creation_date":1442325086,"answer_id":32587898,"question_id":4237469,"body_markdown":"[According to Android source code documentation][1]:\r\n\r\n - Non-public, non-static field names start with m.\r\n - Static field names start with s.\r\n - Other fields start with a lower case letter.\r\n - Public static final fields (constants)  are ALL_CAPS_WITH_UNDERSCORES.\r\n\r\nNote that this is for writing Android source code.  For creating Android apps, the [Google Java Style Guide][2] may be more helpful.\r\n\r\n  [1]: http://source.android.com/source/code-style.html#follow-field-naming-conventions\r\n  [2]: https://google.github.io/styleguide/javaguide.html","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p><a href=\"http://source.android.com/source/code-style.html#follow-field-naming-conventions\" rel=\"noreferrer\">According to Android source code documentation</a>:</p>\n\n<ul>\n<li>Non-public, non-static field names start with m.</li>\n<li>Static field names start with s.</li>\n<li>Other fields start with a lower case letter.</li>\n<li>Public static final fields (constants)  are ALL_CAPS_WITH_UNDERSCORES.</li>\n</ul>\n\n<p>Note that this is for writing Android source code.  For creating Android apps, the <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"noreferrer\">Google Java Style Guide</a> may be more helpful.</p>\n"}],"owner":{"account_id":243079,"reputation":5382,"user_id":515029,"accept_rate":78,"display_name":"Kallja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98175,"favorite_count":0,"down_vote_count":0,"up_vote_count":275,"closed_date":1455102860,"accepted_answer_id":4237476,"answer_count":8,"score":275,"last_activity_date":1673333597,"creation_date":1290336859,"question_id":4237469,"body_markdown":"Looking at the Android tutorials such as [the Notepad tutorial](http://developer.android.com/resources/tutorials/notepad/notepad-ex1.html), I noticed that almost all variables are named starting with the letter &#39;m&#39;. What convention is this, and where does it originate from?\r\n","title":"Why do variable names often start with the letter &#39;m&#39;?","body":"<p>Looking at the Android tutorials such as <a href=\"http://developer.android.com/resources/tutorials/notepad/notepad-ex1.html\">the Notepad tutorial</a>, I noticed that almost all variables are named starting with the letter 'm'. What convention is this, and where does it originate from?</p>\n"},{"tags":["java","selenium","iframe","frame"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1673011951,"post_id":75030023,"comment_id":132407363,"body_markdown":"I guess, issue is not with switching frames its with `getElements()`. Have you tried wait statements here?","body":"I guess, issue is not with switching frames its with <code>getElements()</code>. Have you tried wait statements here?"},{"owner":{"account_id":27450373,"reputation":1,"user_id":20942713,"display_name":"mori400"},"score":0,"creation_date":1673048947,"post_id":75030023,"comment_id":132417947,"body_markdown":"Yes, as mentioned, I have tried but no luck.  When the entire page was fetched via get(), I do see the embedded iframe source content as well via print.  I’m just trying to frame switch to it but it seems to end up loading empty without any errors/exceptions…","body":"Yes, as mentioned, I have tried but no luck.  When the entire page was fetched via get(), I do see the embedded iframe source content as well via print.  I’m just trying to frame switch to it but it seems to end up loading empty without any errors/exceptions…"},{"owner":{"account_id":27450373,"reputation":1,"user_id":20942713,"display_name":"mori400"},"score":0,"creation_date":1673333325,"post_id":75030023,"comment_id":132469133,"body_markdown":"After a further look, seems it&#39;s something to do with &quot;srcdoc&quot; attribute.  The iframe I&#39;m trying to parse is defined by &quot;srcdoc&quot; embedded, not by &quot;src&quot;.   Does &quot;HtmlUnitDriver&quot; work ok to load up(i.e. switch) this type of iframe?  Or, is there any limitation or known bugs?","body":"After a further look, seems it&#39;s something to do with &quot;srcdoc&quot; attribute.  The iframe I&#39;m trying to parse is defined by &quot;srcdoc&quot; embedded, not by &quot;src&quot;.   Does &quot;HtmlUnitDriver&quot; work ok to load up(i.e. switch) this type of iframe?  Or, is there any limitation or known bugs?"},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1673422121,"post_id":75030023,"comment_id":132492522,"body_markdown":"Please share the HTML code or web page url","body":"Please share the HTML code or web page url"}],"owner":{"account_id":27450373,"reputation":1,"user_id":20942713,"display_name":"mori400"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673333468,"creation_date":1673002469,"question_id":75030023,"body_markdown":"I have a java program to scrape a web page, using selenium-server-standalone-3.9.1 jar.\r\n\r\nI create org.openga.selenium.htmlunit.HtmlUnitDriver to fetch the page which contains 2 iframes inside. JavascriptEnabled is true.\r\n\r\nI can access the page and parse ok without issues, but for some reason, switching to those frames, doesn&#39;t seem to work.  Here is a snippet of the code.\r\n\r\n\r\n```\r\ndriver.switchTo().defaultContent();\r\n\r\n//The below line works fine without issues, so I&#39;m assuming switching is succeeding.\r\n//FYI if I give a bogus bad frame name here, it does raise an exception, which indicates that //the driver is recognizing the frame ok \r\n\r\ndriver.switchTo().frame(driver.findElement(By.id(&quot;xyz&quot;))); //no exceptions raised\r\n\r\n//Here, driver.getPageSource() here shows no content, just have an empty as follows\r\n//&lt;html&gt;\r\n// &lt;head/&gt;\r\n// &lt;body/&gt;\r\n//&lt;/html&gt;\r\n// So, I can&#39;t get any actually existing elements inside the iframe at all here..\r\n// i.e. getElements() etc would return nothing..\r\n\r\ndriver.switchTo().defaultContent();\r\ndriver.getPageSource(); //shows the full page ok again..\r\n\r\n```\r\n\r\nI don&#39;t believe it&#39;s page loading issue as the full source dump from the driver does show the contents of those embedded iframes source ok. So, I don&#39;t think &quot;wait&quot; would help here.\r\nWhat am I missing here?\r\n\r\n\r\nTried to use WebDriverWait to wait for frames to be available etc, no luck.","title":"Issue with HtmlUnitDriver&#39;s frame switch in Java / Issue with switching to a &#39;srcdoc&#39; based iframe","body":"<p>I have a java program to scrape a web page, using selenium-server-standalone-3.9.1 jar.</p>\n<p>I create org.openga.selenium.htmlunit.HtmlUnitDriver to fetch the page which contains 2 iframes inside. JavascriptEnabled is true.</p>\n<p>I can access the page and parse ok without issues, but for some reason, switching to those frames, doesn't seem to work.  Here is a snippet of the code.</p>\n<pre><code>driver.switchTo().defaultContent();\n\n//The below line works fine without issues, so I'm assuming switching is succeeding.\n//FYI if I give a bogus bad frame name here, it does raise an exception, which indicates that //the driver is recognizing the frame ok \n\ndriver.switchTo().frame(driver.findElement(By.id(&quot;xyz&quot;))); //no exceptions raised\n\n//Here, driver.getPageSource() here shows no content, just have an empty as follows\n//&lt;html&gt;\n// &lt;head/&gt;\n// &lt;body/&gt;\n//&lt;/html&gt;\n// So, I can't get any actually existing elements inside the iframe at all here..\n// i.e. getElements() etc would return nothing..\n\ndriver.switchTo().defaultContent();\ndriver.getPageSource(); //shows the full page ok again..\n\n</code></pre>\n<p>I don't believe it's page loading issue as the full source dump from the driver does show the contents of those embedded iframes source ok. So, I don't think &quot;wait&quot; would help here.\nWhat am I missing here?</p>\n<p>Tried to use WebDriverWait to wait for frames to be available etc, no luck.</p>\n"},{"tags":["java","jpa","spring-data-jpa","locking","optimistic-locking"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673282471,"post_id":75060130,"comment_id":132458818,"body_markdown":"Are your update calls done in separate transactions or the same one? Save is likely a no-op - nothing happens until the transaction is synchronized and the context flushes statements to the database, so your try/catch around the save call isn&#39;t likely to ever get an OptimisticLockException unless you force a flush on the context somehow, or ensure the save is in its own transaction.","body":"Are your update calls done in separate transactions or the same one? Save is likely a no-op - nothing happens until the transaction is synchronized and the context flushes statements to the database, so your try/catch around the save call isn&#39;t likely to ever get an OptimisticLockException unless you force a flush on the context somehow, or ensure the save is in its own transaction."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1673290643,"post_id":75060130,"comment_id":132461445,"body_markdown":"two differents transactions?","body":"two differents transactions?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673300508,"post_id":75060130,"comment_id":132464116,"body_markdown":"There is no optimistic lock exception because there is nothing changed between the save calls.","body":"There is no optimistic lock exception because there is nothing changed between the save calls."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673333651,"post_id":75060130,"comment_id":132469204,"body_markdown":"if you catch it in the catch block, the test won&#39;t pick it up.","body":"if you catch it in the catch block, the test won&#39;t pick it up."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1673335182,"post_id":75060130,"comment_id":132469563,"body_markdown":"@dan1st even i don&#39;t catch the exception, it isn&#39;t throw.","body":"@dan1st even i don&#39;t catch the exception, it isn&#39;t throw."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673335403,"post_id":75060130,"comment_id":132469610,"body_markdown":"You do have a `try`-`catch`-block in `update()` - even if it threw the exception. `assertThrows()` would fail.","body":"You do have a <code>try</code>-<code>catch</code>-block in <code>update()</code> - even if it threw the exception. <code>assertThrows()</code> would fail."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1673337023,"post_id":75060130,"comment_id":132470053,"body_markdown":"i removed the `try`-`catch` but the `exception` is not threw","body":"i removed the <code>try</code>-<code>catch</code> but the <code>exception</code> is not threw"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673333398,"creation_date":1673281229,"question_id":75060130,"body_markdown":"I want to test the behavior of an OptimisticLockException.\r\n\r\nMy entity:\r\n```\r\n@Entity(name = &quot;&quot;)\r\n@Table(name = &quot;&quot;)\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class EntityA\r\n{\r\n\r\n   @Id\r\n   private String id;\r\n   @Version\r\n   private Timestamp lastChange;\r\n```\r\n\r\nMy update Method:\r\n```\r\npublic void update(EntityA entityA, String attribute)\r\ntry {\r\n            entityA.setSomeAttribute(attribute);\r\n            jpaRepository.save(entityA);\r\n            return;\r\n         } catch (OptimisticLockException e) {\r\n            log.debug(e.getMessage());\r\n         }\r\n```\r\n\r\nMy Unittest:\r\n```\r\nEntityA entity_1 = createEntity(&quot;789&quot;, 2);\r\nEntityA entity_2 = createEntity(&quot;987&quot;, 2);\r\nservice.update(entity_1);\r\nassertThrows(OptimisticLockException.class, () -&gt; service.update(entity_2)); // this one should throw an OptimisticLockException \r\nverify(jpaRepository).save(entity_1);\r\n```\r\n\r\nThe second call of `update` doesn&#39;t throw an `OptimisticLockException`","title":"OptimisticLockException test behaviour with unit test","body":"<p>I want to test the behavior of an OptimisticLockException.</p>\n<p>My entity:</p>\n<pre><code>@Entity(name = &quot;&quot;)\n@Table(name = &quot;&quot;)\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class EntityA\n{\n\n   @Id\n   private String id;\n   @Version\n   private Timestamp lastChange;\n</code></pre>\n<p>My update Method:</p>\n<pre><code>public void update(EntityA entityA, String attribute)\ntry {\n            entityA.setSomeAttribute(attribute);\n            jpaRepository.save(entityA);\n            return;\n         } catch (OptimisticLockException e) {\n            log.debug(e.getMessage());\n         }\n</code></pre>\n<p>My Unittest:</p>\n<pre><code>EntityA entity_1 = createEntity(&quot;789&quot;, 2);\nEntityA entity_2 = createEntity(&quot;987&quot;, 2);\nservice.update(entity_1);\nassertThrows(OptimisticLockException.class, () -&gt; service.update(entity_2)); // this one should throw an OptimisticLockException \nverify(jpaRepository).save(entity_1);\n</code></pre>\n<p>The second call of <code>update</code> doesn't throw an <code>OptimisticLockException</code></p>\n"},{"tags":["java","spring","spring-boot","design-patterns","microservices"],"comments":[{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1673331855,"post_id":75066147,"comment_id":132468826,"body_markdown":"This question is not suitable for stackoverflow. There are no hard rules which say your design is correct or not. It all depends on your use case. Instead of picking design patterns first, initial step would be a high level design for your use case. Though, in the end you will find you are using multiple design patterns.","body":"This question is not suitable for stackoverflow. There are no hard rules which say your design is correct or not. It all depends on your use case. Instead of picking design patterns first, initial step would be a high level design for your use case. Though, in the end you will find you are using multiple design patterns."},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1673332962,"post_id":75066147,"comment_id":132469042,"body_markdown":"Ok, thanks for the comment. Where should I post it then?","body":"Ok, thanks for the comment. Where should I post it then?"}],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673332972,"creation_date":1673332972,"answer_id":75066347,"question_id":75066147,"body_markdown":"**You don&#39;t need to use the same design pattern all over your software.**\r\n\r\nSo actually, every functionality may, according to its own needs, comprise of a recognised design pattern which is most likely to be efficient while solving that kind of problem; if at all there are multiple solutions to it!\r\n\r\nSo, its very likely that the pattern we may use in our various functionalities of our project may **depend on what that feature is doing.** The reason being that, every architecture by definition, is targeted towards solving a different set of **business requirements!** And therefore, every architecture will eventually use **its own set of patterns.. .**\r\n\r\nYou can safely assume that any reasonable system will use multiple patterns. However, without understanding thoroughly what your requirements will be for that specific, you cant jump on to like, &quot;I will use this specific pattern only&quot;.\r\n\r\nI strongly recommend the book &quot;Head first design patterns&quot; which is a superb introduction to design patterns, which will help you to understand the &quot;why&quot; part of design patterns, and not just the &quot;what&quot;.\r\n\r\nOne precaution you may take is to avoid random articles from places like CodeProject and stick to the book &quot;Head first design patterns&quot;, because to truly understand the concept, the book will be good for developing your skill in the field.","title":"Which design patterns we need to use in Microservice Architecture when we use API Gateway","body":"<p><strong>You don't need to use the same design pattern all over your software.</strong></p>\n<p>So actually, every functionality may, according to its own needs, comprise of a recognised design pattern which is most likely to be efficient while solving that kind of problem; if at all there are multiple solutions to it!</p>\n<p>So, its very likely that the pattern we may use in our various functionalities of our project may <strong>depend on what that feature is doing.</strong> The reason being that, every architecture by definition, is targeted towards solving a different set of <strong>business requirements!</strong> And therefore, every architecture will eventually use <strong>its own set of patterns.. .</strong></p>\n<p>You can safely assume that any reasonable system will use multiple patterns. However, without understanding thoroughly what your requirements will be for that specific, you cant jump on to like, &quot;I will use this specific pattern only&quot;.</p>\n<p>I strongly recommend the book &quot;Head first design patterns&quot; which is a superb introduction to design patterns, which will help you to understand the &quot;why&quot; part of design patterns, and not just the &quot;what&quot;.</p>\n<p>One precaution you may take is to avoid random articles from places like CodeProject and stick to the book &quot;Head first design patterns&quot;, because to truly understand the concept, the book will be good for developing your skill in the field.</p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673334774,"answer_count":1,"score":0,"last_activity_date":1673332972,"creation_date":1673331359,"question_id":75066147,"body_markdown":"I have checked various documents and could see there are couple of design patterns in Microservices.\r\n\r\n    Aggregator Design Pattern\r\n    API Gateway Design Pattern\r\n    Chained or Chain of Responsibility Design Pattern\r\n    Asynchronous Messaging Design Pattern\r\n    Database or Shared Data Design Pattern\r\n    Event Sourcing Design Pattern\r\n    Circuit Breaker Design Pattern\r\n    Decomposition Design Pattern\r\n    etc.\r\n\r\nI am going to use `API Gateway` in Microservices. As I am using `API Gateway`, I am using `API Gateway Design Pattern` obviously. I am also having `Database per Service`, so I am using `Database per Service Design Pattern` as well. I am also using `Asynchronous Messaging` for inter service communications. So in that case I am using `Asynchronous Messaging Design Pattern` as well.\r\n\r\nSo basically, I am combining multiple Design Patterns like `API Gateway Design Pattern`, `Database per Service Design Pattern` &amp; `Asynchronous Messaging Design Pattern`. So is it correct to combine multiple design patterns together when designing Microservices or we should stick to only one Design Pattern?\r\n\r\n**Note**: I will be writing Microservices in Java &amp; Spring Boot.","title":"Which design patterns we need to use in Microservice Architecture when we use API Gateway","body":"<p>I have checked various documents and could see there are couple of design patterns in Microservices.</p>\n<pre><code>Aggregator Design Pattern\nAPI Gateway Design Pattern\nChained or Chain of Responsibility Design Pattern\nAsynchronous Messaging Design Pattern\nDatabase or Shared Data Design Pattern\nEvent Sourcing Design Pattern\nCircuit Breaker Design Pattern\nDecomposition Design Pattern\netc.\n</code></pre>\n<p>I am going to use <code>API Gateway</code> in Microservices. As I am using <code>API Gateway</code>, I am using <code>API Gateway Design Pattern</code> obviously. I am also having <code>Database per Service</code>, so I am using <code>Database per Service Design Pattern</code> as well. I am also using <code>Asynchronous Messaging</code> for inter service communications. So in that case I am using <code>Asynchronous Messaging Design Pattern</code> as well.</p>\n<p>So basically, I am combining multiple Design Patterns like <code>API Gateway Design Pattern</code>, <code>Database per Service Design Pattern</code> &amp; <code>Asynchronous Messaging Design Pattern</code>. So is it correct to combine multiple design patterns together when designing Microservices or we should stick to only one Design Pattern?</p>\n<p><strong>Note</strong>: I will be writing Microservices in Java &amp; Spring Boot.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1634840027,"post_id":69666581,"comment_id":123141595,"body_markdown":"Have a look at https://stackoverflow.com/help/how-to-ask","body":"Have a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673337180,"post_id":69666581,"comment_id":132470089,"body_markdown":"Take a look at [this](https://stackoverflow.com/a/75039665/16034206). Very similar question","body":"Take a look at <a href=\"https://stackoverflow.com/a/75039665/16034206\">this</a>. Very similar question"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634845032,"creation_date":1634843680,"answer_id":69667605,"question_id":69666581,"body_markdown":"A 2D array of chars may be used to represent the graph field to &quot;draw&quot; vertical bars `char[][] map`.\r\n\r\nThe dimensions of this array are:\r\n* height: the maximal number in the input `arr`\r\n* width: the number of columns (`arr.length`) plus an empty column between each asterisk bar, that makes: `2 * arr.length - 1`\r\n\r\n_it may be better to have a parameter `space` between the bars and calculate the width of map accordingly:_ `(space + 1) * arr.length - space`\r\n\r\nPopulate each row of the map with default whitespaces (maybe using `Arrays.fill`).\r\n\r\nNested loops: Fill asterisks in the relevant columns from bottom to top, calculate indexes of the columns with regard to `space` parameter.\r\n\r\nLoop: Print each row of `map` converting the `char[]` into String.\r\n\r\nCoding is left for exercise.","title":"i want to create a bar chart of array with given user inputs","body":"<p>A 2D array of chars may be used to represent the graph field to &quot;draw&quot; vertical bars <code>char[][] map</code>.</p>\n<p>The dimensions of this array are:</p>\n<ul>\n<li>height: the maximal number in the input <code>arr</code></li>\n<li>width: the number of columns (<code>arr.length</code>) plus an empty column between each asterisk bar, that makes: <code>2 * arr.length - 1</code></li>\n</ul>\n<p><em>it may be better to have a parameter <code>space</code> between the bars and calculate the width of map accordingly:</em> <code>(space + 1) * arr.length - space</code></p>\n<p>Populate each row of the map with default whitespaces (maybe using <code>Arrays.fill</code>).</p>\n<p>Nested loops: Fill asterisks in the relevant columns from bottom to top, calculate indexes of the columns with regard to <code>space</code> parameter.</p>\n<p>Loop: Print each row of <code>map</code> converting the <code>char[]</code> into String.</p>\n<p>Coding is left for exercise.</p>\n"},{"tags":[],"owner":{"account_id":27484824,"reputation":1,"user_id":20971249,"display_name":"Hitesh Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673332742,"creation_date":1673329706,"answer_id":75065950,"question_id":69666581,"body_markdown":"    //finding largest element in an array\r\n    int l = arr[0];\r\n    for(int i = 1; i &lt; n; i++) {\r\n        if(arr[i] &gt; l)\r\n        \tl = arr[i];\r\n    }\r\n    //traversing using largest element as no. of rows\r\n    for(int i = l; i &gt; 0; i--) {\r\n        for(int j = 0; j &lt; n; j++) {\r\n        \tif(i &lt;= arr[j])\r\n        \t\tSystem.out.print(&quot;*       &quot;);\r\n        \telse\r\n        \t\tSystem.out.print(&quot;        &quot;);\r\n       \t}\r\n       \tSystem.out.println();\r\n    }\r\n","title":"i want to create a bar chart of array with given user inputs","body":"<pre><code>//finding largest element in an array\nint l = arr[0];\nfor(int i = 1; i &lt; n; i++) {\n    if(arr[i] &gt; l)\n        l = arr[i];\n}\n//traversing using largest element as no. of rows\nfor(int i = l; i &gt; 0; i--) {\n    for(int j = 0; j &lt; n; j++) {\n        if(i &lt;= arr[j])\n            System.out.print(&quot;*       &quot;);\n        else\n            System.out.print(&quot;        &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"display_name":"user15237617"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673332742,"creation_date":1634838412,"question_id":69666581,"body_markdown":"1. You are given a number n, representing the size of array a.\r\n2. You are given n numbers, representing elements of array a.\r\n3. You are required to print a bar chart representing value of arr a.\r\n\r\nA bar chart of asterisks representing value of array a\r\n\r\nSAMPLE INPUT:-\r\n5\r\n3\r\n1\r\n0\r\n7\r\n5\r\n\r\nSAMPLE OUTPUT:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI  tried  getting this input from this approach can anyone help me? What should I do to get the same?\r\n\t\t\t\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // write your code here\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        int[] arr = new int[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            arr[i] = sc.nextInt();\r\n        }\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int x = arr[i];\r\n            for (int j = 0; j &lt; x; j++) {\r\n                System.out.print(&quot;*&quot; + &quot;\\n&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SQE8r.png","title":"i want to create a bar chart of array with given user inputs","body":"<ol>\n<li>You are given a number n, representing the size of array a.</li>\n<li>You are given n numbers, representing elements of array a.</li>\n<li>You are required to print a bar chart representing value of arr a.</li>\n</ol>\n<p>A bar chart of asterisks representing value of array a</p>\n<p>SAMPLE INPUT:-\n5\n3\n1\n0\n7\n5</p>\n<p>SAMPLE OUTPUT:-</p>\n<p><a href=\"https://i.stack.imgur.com/SQE8r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SQE8r.png\" alt=\"enter image description here\" /></a></p>\n<p>I  tried  getting this input from this approach can anyone help me? What should I do to get the same?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        // write your code here\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int[] arr = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = sc.nextInt();\n        }\n        for (int i = 0; i &lt; n; i++) {\n            int x = arr[i];\n            for (int j = 0; j &lt; x; j++) {\n                System.out.print(&quot;*&quot; + &quot;\\n&quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","subset","dynamic-programming","subset-sum"],"owner":{"account_id":7745969,"reputation":409,"user_id":6310237,"accept_rate":25,"display_name":"Student NL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673331347,"creation_date":1673286633,"question_id":75061144,"body_markdown":"Currently, I implemented the perfect subset sum problem using the implementation provided on geeksfor geeks ([1], java implementation). The number of subsets with `sum=k` increases exponentially with the set size from which the subsets are taken. As I consider the subsets in increasing size, I would like to be able to first generate all subsets with size `n`, then all subsets with size `n+1`, etc. This way, if some criteria is not satisfied for size `n`, I would no longer have to generate all subsets with size `n+1`.\r\n\r\nThe question remains how to efficiently generate *all* subsets with sum `k` and size `n` only. I have check several threads here on stackoverflow, but none gave me a useful and insightful approach.\r\n\r\nAny suggestions would be more than welcome!\r\n\r\n  [1]: https://www.geeksforgeeks.org/perfect-sum-problem-print-subsets-given-sum/","title":"Perfect subset sum problem with limit on subset size","body":"<p>Currently, I implemented the perfect subset sum problem using the implementation provided on geeksfor geeks (<a href=\"https://www.geeksforgeeks.org/perfect-sum-problem-print-subsets-given-sum/\" rel=\"nofollow noreferrer\">1</a>, java implementation). The number of subsets with <code>sum=k</code> increases exponentially with the set size from which the subsets are taken. As I consider the subsets in increasing size, I would like to be able to first generate all subsets with size <code>n</code>, then all subsets with size <code>n+1</code>, etc. This way, if some criteria is not satisfied for size <code>n</code>, I would no longer have to generate all subsets with size <code>n+1</code>.</p>\n<p>The question remains how to efficiently generate <em>all</em> subsets with sum <code>k</code> and size <code>n</code> only. I have check several threads here on stackoverflow, but none gave me a useful and insightful approach.</p>\n<p>Any suggestions would be more than welcome!</p>\n"},{"tags":["java","jar","exe","distribute"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673326693,"post_id":75065550,"comment_id":132467989,"body_markdown":"Have you tried/considered creating a self-contained application (i.e., embed the JRE), such as via [jpackage](https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html)?","body":"Have you tried/considered creating a self-contained application (i.e., embed the JRE), such as via <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">jpackage</a>?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673331188,"post_id":75065550,"comment_id":132468718,"body_markdown":"This question has been asked many times before in various ways.  Please read the duplinks.  If they don&#39;t help, Google can find lots more Q&amp;A&#39;s, articles, etc on this.","body":"This question has been asked many times before in various ways.  Please read the duplinks.  If they don&#39;t help, Google can find lots more Q&amp;A&#39;s, articles, etc on this."}],"owner":{"account_id":27477999,"reputation":27,"user_id":20965651,"display_name":"Lol Lol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673330806,"answer_count":0,"score":0,"last_activity_date":1673331070,"creation_date":1673325884,"question_id":75065550,"body_markdown":"Can there be some converters or packer that would make my program run on windows? Maybe downloading JRE in the background or smt like this, so clients are not required to go to their site and download it manually\r\n\r\nI tried some programs like j2e and some online converters, but they aren&#39;t precise (my program appears differently)","title":"How to distribute a jar program without requiring clients to download JDK?","body":"<p>Can there be some converters or packer that would make my program run on windows? Maybe downloading JRE in the background or smt like this, so clients are not required to go to their site and download it manually</p>\n<p>I tried some programs like j2e and some online converters, but they aren't precise (my program appears differently)</p>\n"},{"tags":["java","amazon-dynamodb","aws-sdk","dynamodb-queries"],"owner":{"account_id":8560083,"reputation":199,"user_id":6414385,"accept_rate":71,"display_name":"yogas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673330497,"creation_date":1673330497,"question_id":75066039,"body_markdown":"I am getting this error on trying to make an update in local dynamodb\r\n&#39;One or more parameter values were invalid: Value must be provided when Exists is true for Attribute: AssetLabel (Service: null; Status Code: 400; Error Code: ValidationException; Request ID: null; Proxy: null)\r\n    [junit] com.amazonaws.AmazonServiceException: One or more parameter values were invalid: Value must be provided when Exists is true for Attribute: AssetLabel (Service: null; Status Code: 400; Error Code: ValidationException; Request ID: null; Proxy: null)&#39;\r\n\r\ni can see the attribute assetLabel is present in the object. still the error says assetLabel is missing. \r\n\r\n```\r\n    @Test\r\n    public void testExecuteBackfill() throws FileNotFoundException {\r\n        // Setup\r\n        AssetRecord assetDetailsRecord = createAssetDetailsRecord(TestConstants.ASSET_LABEL_1, AssetStatusBO.ACTIVE);\r\n        localDynamoMapper.save(assetDetailsRecord);\r\n\r\n        // Assert Asset mapping unchanged\r\n        AssetRecord fetchedAssetMappingRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\r\n\r\n        // Assert Asset detail changes\r\n        AssetRecord fetchedAssetDetailsRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\r\n        System.out.println(&quot;fetchedAssetDetailsRecord = &quot; +fetchedAssetDetailsRecord);\r\n        //Mockito.when(assetDAO.getAssetByAssetLabel(TestConstants.ASSET_LABEL_1)).thenReturn(TestConstants.ASSET_BO);\r\n        remarksAndMonitoringStatusBackfillerScriptHelper.executeBackfill(TEST_IOT_DATA_FILE_PATH);\r\n\r\n        // Assert Asset detail changes\r\n        fetchedAssetDetailsRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\r\n    }\r\n```\r\n\r\n\r\ncode for creating table\r\n```\r\n    private void createTable() {\r\n        final CreateTableRequest createTableRequest\r\n                = localDynamoMapper.generateCreateTableRequest(AssetRecord.class);\r\n        createTableRequest.setProvisionedThroughput(new ProvisionedThroughput(1L, 1L));\r\n        createTableRequest.getGlobalSecondaryIndexes().forEach(index -&gt; {\r\n            index.setProjection(new Projection().withProjectionType(&quot;ALL&quot;));\r\n            index.setProvisionedThroughput(new ProvisionedThroughput(1L, 1L));\r\n        });\r\n        localDynamo.createTable(createTableRequest);\r\n    }\r\n```\r\n\r\n\r\nEntity used to create table\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n@DynamoDBTable(tableName = AssetRecordConstants.TABLE_NAME)\r\npublic class AssetRecord {\r\n\r\n    @DynamoDBHashKey(attributeName = AssetRecordConstants.ASSET_LABEL)\r\n    private String assetLabel;\r\n\r\n    @DynamoDBRangeKey(attributeName = AssetRecordConstants.RANGE_KEY)\r\n    private String rangeKey;\r\n\r\n    @DynamoDBAttribute(attributeName = AssetRecordConstants.NODE_ID)\r\n    @DynamoDBIndexHashKey(globalSecondaryIndexNames =\r\n            {AssetRecordConstants.ASSET_TYPE_INDEX, AssetRecordConstants.MAPPED_RESOURCE_LABEL_INDEX})\r\n    private String nodeId;\r\n\r\n    @DynamoDBTypeConvertedEnum\r\n    @DynamoDBAttribute(attributeName = AssetRecordConstants.ASSET_TYPE)\r\n    @DynamoDBIndexRangeKey(globalSecondaryIndexName = AssetRecordConstants.ASSET_TYPE_INDEX)\r\n    private AssetTypeBO assetType;\r\n}\r\n```","title":"DynamoDB conditional write error : Value must be provided when Exists is true for Attribute:","body":"<p>I am getting this error on trying to make an update in local dynamodb\n'One or more parameter values were invalid: Value must be provided when Exists is true for Attribute: AssetLabel (Service: null; Status Code: 400; Error Code: ValidationException; Request ID: null; Proxy: null)\n[junit] com.amazonaws.AmazonServiceException: One or more parameter values were invalid: Value must be provided when Exists is true for Attribute: AssetLabel (Service: null; Status Code: 400; Error Code: ValidationException; Request ID: null; Proxy: null)'</p>\n<p>i can see the attribute assetLabel is present in the object. still the error says assetLabel is missing.</p>\n<pre><code>    @Test\n    public void testExecuteBackfill() throws FileNotFoundException {\n        // Setup\n        AssetRecord assetDetailsRecord = createAssetDetailsRecord(TestConstants.ASSET_LABEL_1, AssetStatusBO.ACTIVE);\n        localDynamoMapper.save(assetDetailsRecord);\n\n        // Assert Asset mapping unchanged\n        AssetRecord fetchedAssetMappingRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\n\n        // Assert Asset detail changes\n        AssetRecord fetchedAssetDetailsRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\n        System.out.println(&quot;fetchedAssetDetailsRecord = &quot; +fetchedAssetDetailsRecord);\n        //Mockito.when(assetDAO.getAssetByAssetLabel(TestConstants.ASSET_LABEL_1)).thenReturn(TestConstants.ASSET_BO);\n        remarksAndMonitoringStatusBackfillerScriptHelper.executeBackfill(TEST_IOT_DATA_FILE_PATH);\n\n        // Assert Asset detail changes\n        fetchedAssetDetailsRecord = loadAssetRecord(TestConstants.ASSET_LABEL_1, TestConstants.RANGE_KEY_LATEST);\n    }\n</code></pre>\n<p>code for creating table</p>\n<pre><code>    private void createTable() {\n        final CreateTableRequest createTableRequest\n                = localDynamoMapper.generateCreateTableRequest(AssetRecord.class);\n        createTableRequest.setProvisionedThroughput(new ProvisionedThroughput(1L, 1L));\n        createTableRequest.getGlobalSecondaryIndexes().forEach(index -&gt; {\n            index.setProjection(new Projection().withProjectionType(&quot;ALL&quot;));\n            index.setProvisionedThroughput(new ProvisionedThroughput(1L, 1L));\n        });\n        localDynamo.createTable(createTableRequest);\n    }\n</code></pre>\n<p>Entity used to create table</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\n@DynamoDBTable(tableName = AssetRecordConstants.TABLE_NAME)\npublic class AssetRecord {\n\n    @DynamoDBHashKey(attributeName = AssetRecordConstants.ASSET_LABEL)\n    private String assetLabel;\n\n    @DynamoDBRangeKey(attributeName = AssetRecordConstants.RANGE_KEY)\n    private String rangeKey;\n\n    @DynamoDBAttribute(attributeName = AssetRecordConstants.NODE_ID)\n    @DynamoDBIndexHashKey(globalSecondaryIndexNames =\n            {AssetRecordConstants.ASSET_TYPE_INDEX, AssetRecordConstants.MAPPED_RESOURCE_LABEL_INDEX})\n    private String nodeId;\n\n    @DynamoDBTypeConvertedEnum\n    @DynamoDBAttribute(attributeName = AssetRecordConstants.ASSET_TYPE)\n    @DynamoDBIndexRangeKey(globalSecondaryIndexName = AssetRecordConstants.ASSET_TYPE_INDEX)\n    private AssetTypeBO assetType;\n}\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673312980,"post_id":75064291,"comment_id":132466316,"body_markdown":"Does it mean `findAllUsersByIds` returns `Flux&lt;User&gt;`?","body":"Does it mean <code>findAllUsersByIds</code> returns <code>Flux&lt;User&gt;</code>?"},{"owner":{"account_id":2026634,"reputation":1388,"user_id":1811426,"accept_rate":70,"display_name":"Upen"},"score":0,"creation_date":1673313695,"post_id":75064291,"comment_id":132466393,"body_markdown":"Yes. I will get a flux of users with multiple rows for the same user with multiple departments.","body":"Yes. I will get a flux of users with multiple rows for the same user with multiple departments."}],"answers":[{"tags":[],"owner":{"account_id":14614685,"reputation":61,"user_id":10555123,"display_name":"bidulgi69"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673328835,"creation_date":1673328835,"answer_id":75065863,"question_id":75064291,"body_markdown":"I&#39;m not a native English speaker. So sorry for my bad English.&lt;br&gt;\r\n\r\n\r\nI think you can use `groupBy` on the `Flux`.&lt;br&gt;\r\n`groupBy` needs a keyMapper. In your case, it would be a user&#39;s `id` and `name`.\r\n```\r\nuserRepo.findAllUsersByIds()\r\n.groupBy(user -&gt; new UserDto(user.getId(), user.getName()))\r\n```\r\n\r\nAfter grouping the `Flux`, there are `GroupedFlux` in your stream.&lt;br&gt;\r\n`GroupedFlux` has a key and value. Key is the value passed through keyMapper above.\r\n`GroupedFlux` itself are the values grouped by key. So `GroupedFlux.collectList()` would return `List&lt;User&gt;`.\r\n\r\n```\r\n.flatMap(groupedFlux -&gt; \r\n    Mono.zip(\r\n        groupedFlux.key(),\r\n        groupedFlux.collectList()\r\n    )\r\n)\r\n```\r\n\r\nThe value passed through `flatMap` is a tuple that has `UserDto` and `List&lt;User&gt;`.&lt;br&gt;So cast it into `UserDto` that you want to respond.\r\n```\r\n.flatMap(tuple -&gt; {\r\n    // tuple.getT2() would be the grouped user list. (List&lt;User&gt;)\r\n    // cast it into List&lt;DepartmentDTO&gt;\r\n    // ...\r\n    tuple.t1.setDepartmentDto(...);\r\n\r\n    // return UserDto\r\n    return Mono.just(\r\n        tuple.t1\r\n    );\r\n})\r\n```\r\n\r\nThe overall code would be like\r\n\r\n```\r\nuserRepo.findAllUsersByIds()\r\n.groupBy(user -&gt; new UserDto(user.getId(), user.getName()))\r\n.flatMap(groupedFlux -&gt; \r\n    Mono.zip(\r\n        groupedFlux.key(),\r\n        groupedFlux.collectList()\r\n    )\r\n)\r\n.flatMap(tuple -&gt; {\r\n    // tuple.getT2() would be the grouped user list. (List&lt;User&gt;)\r\n    // cast it into List&lt;DepartmentDTO&gt;\r\n    // ...\r\n    tuple.t1.setDepartmentDto(...);\r\n\r\n    // return UserDto\r\n    return Mono.just(\r\n        tuple.t1\r\n    );\r\n})\r\n```","title":"Spring webflux convert flux to DTO after grouping certain fields into a child DTO object","body":"<p>I'm not a native English speaker. So sorry for my bad English.<br></p>\n<p>I think you can use <code>groupBy</code> on the <code>Flux</code>.<br>\n<code>groupBy</code> needs a keyMapper. In your case, it would be a user's <code>id</code> and <code>name</code>.</p>\n<pre><code>userRepo.findAllUsersByIds()\n.groupBy(user -&gt; new UserDto(user.getId(), user.getName()))\n</code></pre>\n<p>After grouping the <code>Flux</code>, there are <code>GroupedFlux</code> in your stream.<br>\n<code>GroupedFlux</code> has a key and value. Key is the value passed through keyMapper above.\n<code>GroupedFlux</code> itself are the values grouped by key. So <code>GroupedFlux.collectList()</code> would return <code>List&lt;User&gt;</code>.</p>\n<pre><code>.flatMap(groupedFlux -&gt; \n    Mono.zip(\n        groupedFlux.key(),\n        groupedFlux.collectList()\n    )\n)\n</code></pre>\n<p>The value passed through <code>flatMap</code> is a tuple that has <code>UserDto</code> and <code>List&lt;User&gt;</code>.<br>So cast it into <code>UserDto</code> that you want to respond.</p>\n<pre><code>.flatMap(tuple -&gt; {\n    // tuple.getT2() would be the grouped user list. (List&lt;User&gt;)\n    // cast it into List&lt;DepartmentDTO&gt;\n    // ...\n    tuple.t1.setDepartmentDto(...);\n\n    // return UserDto\n    return Mono.just(\n        tuple.t1\n    );\n})\n</code></pre>\n<p>The overall code would be like</p>\n<pre><code>userRepo.findAllUsersByIds()\n.groupBy(user -&gt; new UserDto(user.getId(), user.getName()))\n.flatMap(groupedFlux -&gt; \n    Mono.zip(\n        groupedFlux.key(),\n        groupedFlux.collectList()\n    )\n)\n.flatMap(tuple -&gt; {\n    // tuple.getT2() would be the grouped user list. (List&lt;User&gt;)\n    // cast it into List&lt;DepartmentDTO&gt;\n    // ...\n    tuple.t1.setDepartmentDto(...);\n\n    // return UserDto\n    return Mono.just(\n        tuple.t1\n    );\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673330083,"creation_date":1673330083,"answer_id":75065988,"question_id":75064291,"body_markdown":"You can use `groupBy` operator to group by `id` and then map every group into a `UserDTO`\r\n\r\n\r\n```\r\nFlux&lt;UserDTO&gt; res = userRepo.findAllUsersByIds()\r\n\t\t.groupBy(user -&gt; user.getId())\r\n\t\t.flatMap(group -&gt;\r\n\t\t\t\tgroup.collectList()\r\n\t\t\t\t\t\t.map(users -&gt; {\r\n\t\t\t\t\t\t\tvar userDto = new UserDTO();\r\n\t\t\t\t\t\t\tuserDto.setId(group.key());\r\n\t\t\t\t\t\t\tuserDto.setName(users.get(0).getName());\r\n\t\t\t\t\t\t\tuserDto.setDepartmentDTO(\r\n\t\t\t\t\t\t\t\t\tusers.stream()\r\n\t\t\t\t\t\t\t\t\t\t\t.map(user -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar deptDto = new DepartmentDTO();\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeptDto.setName(user.getDepartment());\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeptDto.setArea(user.getDepartmentArea());\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn deptDto;\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.toList()\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\treturn userDto;\r\n\t\t\t\t\t\t})\r\n\t\t);\r\n```","title":"Spring webflux convert flux to DTO after grouping certain fields into a child DTO object","body":"<p>You can use <code>groupBy</code> operator to group by <code>id</code> and then map every group into a <code>UserDTO</code></p>\n<pre><code>Flux&lt;UserDTO&gt; res = userRepo.findAllUsersByIds()\n        .groupBy(user -&gt; user.getId())\n        .flatMap(group -&gt;\n                group.collectList()\n                        .map(users -&gt; {\n                            var userDto = new UserDTO();\n                            userDto.setId(group.key());\n                            userDto.setName(users.get(0).getName());\n                            userDto.setDepartmentDTO(\n                                    users.stream()\n                                            .map(user -&gt; {\n                                                var deptDto = new DepartmentDTO();\n                                                deptDto.setName(user.getDepartment());\n                                                deptDto.setArea(user.getDepartmentArea());\n                                                return deptDto;\n                                            })\n                                            .toList()\n                            );\n                            return userDto;\n                        })\n        );\n</code></pre>\n"}],"owner":{"account_id":2026634,"reputation":1388,"user_id":1811426,"accept_rate":70,"display_name":"Upen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75065988,"answer_count":2,"score":0,"last_activity_date":1673330083,"creation_date":1673310612,"question_id":75064291,"body_markdown":"My rest api is using Spring Webflux. While fetching an Entity from Postgres which is denormalized table, I am getting multiple rows for the same object. While converting to DTO, I need to iterate through multiple User objects for the same user and make a list of all departments he/she is part of and then add the list to the DTO. This way, I can send back a single row per User. How can I achieve this without blocking.\r\n\r\n    @Entity\r\n    public Class User {\r\n    \r\n        private int id;\r\n        private String name;\r\n        private String department;\r\n        private String departmentArea;\r\n    \r\n    }\r\n\r\n    public Class UserDTO {\r\n        \r\n        private int id;\r\n        private String name;\r\n        private List&lt;DepartmentDTO&gt; departmentDTO;\r\n        \r\n    }\r\n\r\nHow to I convert the User objects into a UserDTO with a list of DepartmentDTO\r\n\r\nCurrent implementation in service\r\n\r\n    userRepo.findAllUsersByIds().map(mapper::mapUserDTO));","title":"Spring webflux convert flux to DTO after grouping certain fields into a child DTO object","body":"<p>My rest api is using Spring Webflux. While fetching an Entity from Postgres which is denormalized table, I am getting multiple rows for the same object. While converting to DTO, I need to iterate through multiple User objects for the same user and make a list of all departments he/she is part of and then add the list to the DTO. This way, I can send back a single row per User. How can I achieve this without blocking.</p>\n<pre><code>@Entity\npublic Class User {\n\n    private int id;\n    private String name;\n    private String department;\n    private String departmentArea;\n\n}\n\npublic Class UserDTO {\n    \n    private int id;\n    private String name;\n    private List&lt;DepartmentDTO&gt; departmentDTO;\n    \n}\n</code></pre>\n<p>How to I convert the User objects into a UserDTO with a list of DepartmentDTO</p>\n<p>Current implementation in service</p>\n<pre><code>userRepo.findAllUsersByIds().map(mapper::mapUserDTO));\n</code></pre>\n"},{"tags":["java","icons","jbutton"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673340102,"post_id":75065943,"comment_id":132470894,"body_markdown":"Try to load the image manually, e.g. via `ImageIO.read(…)`. This way, you get a feedback on errors. Then, just use the [`ImageIcon` constructor accepting an `Image`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.awt.Image))","body":"Try to load the image manually, e.g. via <code>ImageIO.read(…)</code>. This way, you get a feedback on errors. Then, just use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/ImageIcon.html#%3Cinit%3E(java.awt.Image)\" rel=\"nofollow noreferrer\"><code>ImageIcon</code> constructor accepting an <code>Image</code></a>"}],"answers":[{"comments":[{"owner":{"account_id":4596317,"reputation":902,"user_id":3728258,"display_name":"Vivek Vashistha"},"score":0,"creation_date":1673346293,"post_id":75065986,"comment_id":132472857,"body_markdown":"Great explaination. It would be great if your answer could be bit more concise. You can use bullet points instead to highlight your main points. Also use special formatting for writing code snippets to increase readability of your submission.","body":"Great explaination. It would be great if your answer could be bit more concise. You can use bullet points instead to highlight your main points. Also use special formatting for writing code snippets to increase readability of your submission."}],"tags":[],"owner":{"account_id":27230648,"reputation":1,"user_id":20758408,"display_name":"Oppressor Ordinary"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673330050,"creation_date":1673330050,"answer_id":75065986,"question_id":75065943,"body_markdown":"Where is img.bmp stored relative to the\r\n&quot;working directory&quot;?\r\nImageIcon (String) expects to find a\r\nfile on the disk, in this case, in the root of\r\nthe &quot;working directory&quot;. If you don&#39;t know\r\nthe working directory, add\r\nSystem. out.println(System.getPro\r\nperty(&quot;user.dir&quot;)); to your code,\r\nthe image you&#39;re trying to load should be\r\nstored there. The problem with this though,\r\nis the working directory can change. You&#39;d\r\nbe better of using embedded resources","title":"How can I add picture as a JButton background?","body":"<p>Where is img.bmp stored relative to the\n&quot;working directory&quot;?\nImageIcon (String) expects to find a\nfile on the disk, in this case, in the root of\nthe &quot;working directory&quot;. If you don't know\nthe working directory, add\nSystem. out.println(System.getPro\nperty(&quot;user.dir&quot;)); to your code,\nthe image you're trying to load should be\nstored there. The problem with this though,\nis the working directory can change. You'd\nbe better of using embedded resources</p>\n"}],"owner":{"account_id":27045384,"reputation":1,"user_id":20599648,"display_name":"AlexTemnikof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673330050,"creation_date":1673329642,"question_id":75065943,"body_markdown":"I&#39;m trying to add an image to JButton so there will be some kind of icon. And I&#39;m not sure where is my mistake. When I run the following code, there is no changes in how button looks.\r\n\r\n```\r\nImageIcon img = new ImageIcon(&quot;img.bmp&quot;);\r\nJButton button = new JButton(img);\r\nframe.add(button);\r\n```\r\n\r\n\r\nI&#39;ve already tried to debug my code, although there was nothing useful.","title":"How can I add picture as a JButton background?","body":"<p>I'm trying to add an image to JButton so there will be some kind of icon. And I'm not sure where is my mistake. When I run the following code, there is no changes in how button looks.</p>\n<pre><code>ImageIcon img = new ImageIcon(&quot;img.bmp&quot;);\nJButton button = new JButton(img);\nframe.add(button);\n</code></pre>\n<p>I've already tried to debug my code, although there was nothing useful.</p>\n"},{"tags":["java","mysql","spring-boot","classcastexception","spring-boot-actuator"],"owner":{"account_id":26173202,"reputation":11,"user_id":19857831,"display_name":"Saif Quazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673330012,"creation_date":1673263368,"question_id":75056557,"body_markdown":"```\r\n@RestController\r\npublic class ChangePasswordController {\r\n\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\r\n\t@Autowired\r\n\tprivate PasswordEncoder passwordEncoder;\r\n\r\n\t@PostMapping(&quot;/change-password&quot;)\r\n\tpublic Response processChangePassword(@RequestParam String newPassword, @RequestParam String oldPass,\r\n\t\t\t@RequestParam long tenantId) throws ServletException {\r\n\t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\t\tCustomUserDetails details = (CustomUserDetails) authentication\r\n\t\t\t\t.getPrincipal();\r\n\t\tUser user = details.getUser();\r\n\r\n\t\tif (oldPass.equals(newPassword)) {\r\n\t\t\treturn new Response(&quot;Your new password must be different than the old one.&quot;, null, new Date(),\r\n\t\t\t\t\tHttpStatus.BAD_REQUEST.value());\r\n\t\t}\r\n\t\tif (!passwordEncoder.matches(oldPass, user.getPassword())) {\r\n\t\t\treturn new Response(&quot;Your old password is incorrect.&quot;, null, new Date(), HttpStatus.BAD_REQUEST.value()); \r\n\r\n\t\t} else {\r\n\t\t\tuserService.changePassword(user, newPassword, tenantId);\r\n\t\t\treturn new Response(&quot;password change sucessfully !&quot;, null, new Date(), HttpStatus.OK.value());\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\nAbove is my code and when I Call the API ```/change password```. It give me an  error ```java.lang.ClassCastException:```\r\n\r\n\r\n the error details is bellow \r\n\r\n**ERROR**\r\n```\r\n2023-01-09 16:43:13 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api/tenant-service] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class com.shopwaala.tenant.master.service.CustomUserDetails (org.springframework.security.core.userdetails.User and com.shopwaala.tenant.master.service.CustomUserDetails are in unnamed module of loader &#39;app&#39;)] with root cause\r\njava.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class com.ABC.tenant.master.service.CustomUserDetails (org.springframework.security.core.userdetails.User and com.shopwaala.tenant.master.service.CustomUserDetails are in unnamed module of loader &#39;app&#39;)\r\n\tat com.shopwaala.auth.controller.ChangePasswordController.processChangePassword(ChangePasswordController.java:32)\r\n```","title":"org.springframework.security.core.userdetails.User cannot be cast","body":"<pre><code>@RestController\npublic class ChangePasswordController {\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    @PostMapping(&quot;/change-password&quot;)\n    public Response processChangePassword(@RequestParam String newPassword, @RequestParam String oldPass,\n            @RequestParam long tenantId) throws ServletException {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        CustomUserDetails details = (CustomUserDetails) authentication\n                .getPrincipal();\n        User user = details.getUser();\n\n        if (oldPass.equals(newPassword)) {\n            return new Response(&quot;Your new password must be different than the old one.&quot;, null, new Date(),\n                    HttpStatus.BAD_REQUEST.value());\n        }\n        if (!passwordEncoder.matches(oldPass, user.getPassword())) {\n            return new Response(&quot;Your old password is incorrect.&quot;, null, new Date(), HttpStatus.BAD_REQUEST.value()); \n\n        } else {\n            userService.changePassword(user, newPassword, tenantId);\n            return new Response(&quot;password change sucessfully !&quot;, null, new Date(), HttpStatus.OK.value());\n        }\n\n    }\n}\n</code></pre>\n<p>Above is my code and when I Call the API <code>/change password</code>. It give me an  error <code>java.lang.ClassCastException:</code></p>\n<p>the error details is bellow</p>\n<p><strong>ERROR</strong></p>\n<pre><code>2023-01-09 16:43:13 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api/tenant-service] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class com.shopwaala.tenant.master.service.CustomUserDetails (org.springframework.security.core.userdetails.User and com.shopwaala.tenant.master.service.CustomUserDetails are in unnamed module of loader 'app')] with root cause\njava.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class com.ABC.tenant.master.service.CustomUserDetails (org.springframework.security.core.userdetails.User and com.shopwaala.tenant.master.service.CustomUserDetails are in unnamed module of loader 'app')\n    at com.shopwaala.auth.controller.ChangePasswordController.processChangePassword(ChangePasswordController.java:32)\n</code></pre>\n"},{"tags":["java","java-8","persistence","oracle12c","executorservice"],"comments":[{"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"score":0,"creation_date":1675687798,"post_id":75065889,"comment_id":132976297,"body_markdown":"Maybe you did check, but is it really not throwing any exception? Since your sample has syntax error and does not handle exception in any way. Problem could be also with parsing given file but we do not know since you do not show us the file (at least sample), do not specify format and do not show parsing method. Did you debug it? What parsing returned for erroneous file?","body":"Maybe you did check, but is it really not throwing any exception? Since your sample has syntax error and does not handle exception in any way. Problem could be also with parsing given file but we do not know since you do not show us the file (at least sample), do not specify format and do not show parsing method. Did you debug it? What parsing returned for erroneous file?"}],"owner":{"account_id":4073072,"reputation":43,"user_id":3345426,"display_name":"sharad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673329155,"creation_date":1673329155,"question_id":75065889,"body_markdown":"I am trying to insert the records after reading them from a file. There are bunch of files, I read/parse one file at a time and insert all the records from that file at a time. This works fine in most cases, but I have noticed, there is one file which has 879 records which are not getting inserted or not appearing in DB table. The same code works fine, if I remove or add any 1 record from the file. DB is Oracle 12c. \r\nThe file whose records are not inserted is not throwing any error.\r\nCan anybody please point out what could cause such a behavior?\r\n\r\nThis is how the code looks like.. \r\n\r\n```\r\nExecutorService executorService = Executors.newFixedThreadPool(threadCount);\r\nList&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = \r\n     pnlFiles.stream().map(pnlFileForTheBook -&gt;    CompletableFuture.runAsync(() -&gt; {\r\n            String pnlFileName = &quot;&quot;;\r\n            String cobDate = &quot;&quot;;\r\n            String filePath = &quot;&quot;;\r\n            try {\r\n                File localPnlFile = nasDataLoader.downloadFile(pnlFileForTheBook, filePath);\r\n                if(localPnlFile != null) {\r\n                    List&lt;PnlFile&gt; pnlFileLines = parse(localPnlFile, PnlFile.class);\r\n                    List&lt;PnlFileDsl&gt; pnlFileDsls = pnlFileLines.stream().map(line -&gt; {\r\n                        return new PnlFileDsl(line, cobDate);\r\n                    }).collect(Collectors.toList());\r\n                    persistenceManager.persist(pnlFileDsls);\r\n                }\r\n            } \r\n              catch () {} \r\n           }, executorService)).collect(Collectors.toList());\r\n\r\n        List&lt;Void&gt; result = completableFutures.stream().map(CompletableFuture::join)\r\n                                                       .collect(Collectors.toList());\r\n\r\n\r\n```\r\n\r\n\r\n\r\nThe same code works with all other files, the file whose records are not appearing has no issues.\r\n","title":"Some inserts are not appearing in DB table","body":"<p>I am trying to insert the records after reading them from a file. There are bunch of files, I read/parse one file at a time and insert all the records from that file at a time. This works fine in most cases, but I have noticed, there is one file which has 879 records which are not getting inserted or not appearing in DB table. The same code works fine, if I remove or add any 1 record from the file. DB is Oracle 12c.\nThe file whose records are not inserted is not throwing any error.\nCan anybody please point out what could cause such a behavior?</p>\n<p>This is how the code looks like..</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(threadCount);\nList&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures = \n     pnlFiles.stream().map(pnlFileForTheBook -&gt;    CompletableFuture.runAsync(() -&gt; {\n            String pnlFileName = &quot;&quot;;\n            String cobDate = &quot;&quot;;\n            String filePath = &quot;&quot;;\n            try {\n                File localPnlFile = nasDataLoader.downloadFile(pnlFileForTheBook, filePath);\n                if(localPnlFile != null) {\n                    List&lt;PnlFile&gt; pnlFileLines = parse(localPnlFile, PnlFile.class);\n                    List&lt;PnlFileDsl&gt; pnlFileDsls = pnlFileLines.stream().map(line -&gt; {\n                        return new PnlFileDsl(line, cobDate);\n                    }).collect(Collectors.toList());\n                    persistenceManager.persist(pnlFileDsls);\n                }\n            } \n              catch () {} \n           }, executorService)).collect(Collectors.toList());\n\n        List&lt;Void&gt; result = completableFutures.stream().map(CompletableFuture::join)\n                                                       .collect(Collectors.toList());\n\n\n</code></pre>\n<p>The same code works with all other files, the file whose records are not appearing has no issues.</p>\n"},{"tags":["java","spring-boot","docker-compose"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672845612,"post_id":75007322,"comment_id":132365246,"body_markdown":"https://stackoverflow.com/a/74450890/7871511\n\nSee if it helps","body":"<a href=\"https://stackoverflow.com/a/74450890/7871511\">stackoverflow.com/a/74450890/7871511</a>  See if it helps"},{"owner":{"account_id":17036335,"reputation":60,"user_id":12325296,"display_name":"ssj"},"score":0,"creation_date":1672876715,"post_id":75007322,"comment_id":132374628,"body_markdown":"It did not work. Even I tried to add various parameter (useUnicode=true&amp;characterEncoding=UTF-8&amp;autoReconnect=true&amp;failOverReadOnly=false&amp;maxReconnects=10)like the following in the DB URL. Still getting the same issue. I am able to connect to the DB using DBeaver. Connection fails only through docker app during connection pool creation on the start up","body":"It did not work. Even I tried to add various parameter (useUnicode=true&amp;characterEncoding=UTF-8&amp;autoReconnect=true&amp;&zwnj;&#8203;failOverReadOnly=fal&zwnj;&#8203;se&amp;maxReconnects=10)&zwnj;&#8203;like the following in the DB URL. Still getting the same issue. I am able to connect to the DB using DBeaver. Connection fails only through docker app during connection pool creation on the start up"}],"answers":[{"tags":[],"owner":{"account_id":17036335,"reputation":60,"user_id":12325296,"display_name":"ssj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672945892,"creation_date":1672945892,"answer_id":75023316,"question_id":75007322,"body_markdown":"The problem here is with the **depends_on** tag of docker compose.\r\nThe tag &#39;depends_on&#39; regulates the order in which the containers are launched using compose, but it is not guaranteeing that the container that we depend on will be ready so that current container will start without any problem.\r\n\r\nThe possible solution is we need to make the current container wait until the container that we depend on is completely ready.\r\n\r\nMany such wait tools are discussed in the following url.\r\nhttps://docs.docker.com/compose/startup-order/\r\n\r\nI used the **docker-compose-wait** from https://github.com/ufoscout/docker-compose-wait.\r\n\r\nWith that, I modified by Dockerfile as follows\r\n\r\n    FROM openjdk:17\r\n    ADD https://github.com/ufoscout/docker-compose-wait/releases/download/2.9.0/wait /wait \r\n    RUN chmod +x /wait\r\n    COPY target/*.jar app.jar\r\n    CMD [&quot;/wait&quot;, &quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nAnd Made corrections to the compose as follows, ie I added a **command** tag and required **environment** variables for the tool\r\n\r\n    command: sh -c &quot;/wait &amp;&amp; java -jar app.jar&quot;\r\n    environment:\r\n      WAIT_HOSTS: local-mysql:3306\r\n      WAIT_TIMEOUT: 300\r\n      WAIT_SLEEP_INTERVAL: 30\r\n      WAIT_HOST_CONNECT_TIMEOUT: 30 \r\n\r\nAnd if you see that, when run from the container, I no more depend on the container&#39;s exported port. Because the **exported port** comes into picture only when you are trying to access the container from host machine where your docker engine is running. As my **app** and **dbserver** ie local-mysql (in this case), connected in the same network, I simply access my DB server with **container-name**:**port** [the port on which the server is running not on the exposed port] \r\n\r\nMy New DB URL :\r\n\r\n    spring.datasource.url=jdbc:mysql://local-mysql:3306/dockermysql","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure - Fails only when deploying the app in docker","body":"<p>The problem here is with the <strong>depends_on</strong> tag of docker compose.\nThe tag 'depends_on' regulates the order in which the containers are launched using compose, but it is not guaranteeing that the container that we depend on will be ready so that current container will start without any problem.</p>\n<p>The possible solution is we need to make the current container wait until the container that we depend on is completely ready.</p>\n<p>Many such wait tools are discussed in the following url.\n<a href=\"https://docs.docker.com/compose/startup-order/\" rel=\"nofollow noreferrer\">https://docs.docker.com/compose/startup-order/</a></p>\n<p>I used the <strong>docker-compose-wait</strong> from <a href=\"https://github.com/ufoscout/docker-compose-wait\" rel=\"nofollow noreferrer\">https://github.com/ufoscout/docker-compose-wait</a>.</p>\n<p>With that, I modified by Dockerfile as follows</p>\n<pre><code>FROM openjdk:17\nADD https://github.com/ufoscout/docker-compose-wait/releases/download/2.9.0/wait /wait \nRUN chmod +x /wait\nCOPY target/*.jar app.jar\nCMD [&quot;/wait&quot;, &quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>And Made corrections to the compose as follows, ie I added a <strong>command</strong> tag and required <strong>environment</strong> variables for the tool</p>\n<pre><code>command: sh -c &quot;/wait &amp;&amp; java -jar app.jar&quot;\nenvironment:\n  WAIT_HOSTS: local-mysql:3306\n  WAIT_TIMEOUT: 300\n  WAIT_SLEEP_INTERVAL: 30\n  WAIT_HOST_CONNECT_TIMEOUT: 30 \n</code></pre>\n<p>And if you see that, when run from the container, I no more depend on the container's exported port. Because the <strong>exported port</strong> comes into picture only when you are trying to access the container from host machine where your docker engine is running. As my <strong>app</strong> and <strong>dbserver</strong> ie local-mysql (in this case), connected in the same network, I simply access my DB server with <strong>container-name</strong>:<strong>port</strong> [the port on which the server is running not on the exposed port]</p>\n<p>My New DB URL :</p>\n<pre><code>spring.datasource.url=jdbc:mysql://local-mysql:3306/dockermysql\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673328986,"creation_date":1672985637,"answer_id":75027569,"question_id":75007322,"body_markdown":"Your `MySQL` and `Spring Boot` application runs in the seperate container. So I recommend using the internal address and port instead of using external port and address.\r\n\r\nTo do this, change your `application.properties` file this way.\r\n\r\n    spring.datasource.url=jdbc:mysql://local-mysql:3306/docker-mysql\r\n\r\nAlthough it is the correct solution that ssj specifies, you can use the restart policy in your `app-mysql` image, similar to your `local-mysql` image instead.\r\n\r\n    restart: unless-stopped\r\n\r\nThis allows your `Spring Boot` application to restart due to errors until your database application is ready and available.","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure - Fails only when deploying the app in docker","body":"<p>Your <code>MySQL</code> and <code>Spring Boot</code> application runs in the seperate container. So I recommend using the internal address and port instead of using external port and address.</p>\n<p>To do this, change your <code>application.properties</code> file this way.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://local-mysql:3306/docker-mysql\n</code></pre>\n<p>Although it is the correct solution that ssj specifies, you can use the restart policy in your <code>app-mysql</code> image, similar to your <code>local-mysql</code> image instead.</p>\n<pre><code>restart: unless-stopped\n</code></pre>\n<p>This allows your <code>Spring Boot</code> application to restart due to errors until your database application is ready and available.</p>\n"}],"owner":{"account_id":17036335,"reputation":60,"user_id":12325296,"display_name":"ssj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75027569,"answer_count":2,"score":0,"last_activity_date":1673328986,"creation_date":1672844490,"question_id":75007322,"body_markdown":"Hello I am trying a spring boot mysql with docker.\r\nI was able to test my application when my app is running on local and connecting the my-sql  which is launched as docker container.\r\n\r\nBut when try the same application deployed in docker (now both my app and db are deployed in docker) it fails with  Communications link failure \r\n\r\nI think we may need to make some correction in the url.\r\nCan you please help.\r\n\r\n**application.properties**\r\n```\r\nserver.port=8080\r\nspring.application.name=MySqlApp-Docker\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3366/docker-mysql\r\nspring.datasource.username=admin\r\nspring.datasource.password=admin\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.show-sql=true\r\n```\r\n**docker-compose.yaml**\r\n```\r\nversion: &#39;3.7&#39;\r\nservices:\r\n  ## Mysql database\r\n  local-mysql:\r\n    container_name: local-mysql\r\n    image: mysql:5.7\r\n    ports:\r\n      - 3366:3306\r\n    expose:\r\n      - 3366\r\n    restart: unless-stopped    \r\n    volumes:\r\n      - ./mysql_inventory_service:/var/lib/mysql\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: root\r\n      MYSQL_DATABASE: dockermysql\r\n      MYSQL_USER: admin\r\n      MYSQL_PASSWORD: admin\r\n    networks:\r\n      - odr-network      \r\n      \r\n  app-mysql:\r\n    container_name: app-mysql\r\n    image: spring-docker-mysql\r\n    ports:\r\n      - 8080:8080\r\n    depends_on:\r\n      - local-mysql\r\n    networks:\r\n      - odr-network\r\n      \r\nnetworks:\r\n  odr-network:   \r\n    driver: bridge  \r\n```\r\n\r\n**Error Log**\r\n```\r\napp-mysql    | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\napp-mysql    | \r\napp-mysql    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\napp-mysql    | \tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat com.spring.docker.mysql.MySqlApp.main(MySqlApp.java:10) ~[classes/:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\napp-mysql    | \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\r\napp-mysql    | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\napp-mysql    | \r\napp-mysql    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\napp-mysql    | \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.lang.reflect.Constructor.newInstance(Unknown Source) ~[na:na]\r\napp-mysql    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \t... 54 common frames omitted\r\napp-mysql    | Caused by: java.net.ConnectException: Connection refused\r\napp-mysql    | \tat java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\r\napp-mysql    | \tat java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.net.SocksSocketImpl.connect(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.net.Socket.connect(Unknown Source) ~[na:na]\r\napp-mysql    | \tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \t... 57 common frames omitted\r\napp-mysql    | \r\napp-mysql    | 2023-01-04 14:55:35.275  WARN 1 --- [  restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\napp-mysql    | \r\napp-mysql    | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\napp-mysql    | \r\napp-mysql    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\napp-mysql    | \tat com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\napp-mysql    | \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\napp-mysql    | \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]\r\napp-mysql    | \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\napp-mysql    | \tat com.spring.docker.mysql.MySqlApp.main(MySqlApp.java:10) ~[classes/:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\napp-mysql    | \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\r\napp-mysql    | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\napp-mysql    | \r\napp-mysql    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\napp-mysql    | \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.lang.reflect.Constructor.newInstance(Unknown Source) ~[na:na]\r\napp-mysql    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \t... 54 common frames omitted\r\napp-mysql    | Caused by: java.net.ConnectException: Connection refused\r\napp-mysql    | \tat java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\r\napp-mysql    | \tat java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.net.SocksSocketImpl.connect(Unknown Source) ~[na:na]\r\napp-mysql    | \tat java.base/java.net.Socket.connect(Unknown Source) ~[na:na]\r\napp-mysql    | \tat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \tat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\napp-mysql    | \t... 57 common frames omitted\r\napp-mysql    | \r\napp-mysql    | 2023-01-04 14:55:35.281  INFO 1 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\napp-mysql    | 2023-01-04 14:55:35.532  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\napp-mysql    | 2023-01-04 14:55:36.534 ERROR 1 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\napp-mysql    | \r\napp-mysql    | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n```\r\n","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure - Fails only when deploying the app in docker","body":"<p>Hello I am trying a spring boot mysql with docker.\nI was able to test my application when my app is running on local and connecting the my-sql  which is launched as docker container.</p>\n<p>But when try the same application deployed in docker (now both my app and db are deployed in docker) it fails with  Communications link failure</p>\n<p>I think we may need to make some correction in the url.\nCan you please help.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=8080\nspring.application.name=MySqlApp-Docker\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3366/docker-mysql\nspring.datasource.username=admin\nspring.datasource.password=admin\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.show-sql=true\n</code></pre>\n<p><strong>docker-compose.yaml</strong></p>\n<pre><code>version: '3.7'\nservices:\n  ## Mysql database\n  local-mysql:\n    container_name: local-mysql\n    image: mysql:5.7\n    ports:\n      - 3366:3306\n    expose:\n      - 3366\n    restart: unless-stopped    \n    volumes:\n      - ./mysql_inventory_service:/var/lib/mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: dockermysql\n      MYSQL_USER: admin\n      MYSQL_PASSWORD: admin\n    networks:\n      - odr-network      \n      \n  app-mysql:\n    container_name: app-mysql\n    image: spring-docker-mysql\n    ports:\n      - 8080:8080\n    depends_on:\n      - local-mysql\n    networks:\n      - odr-network\n      \nnetworks:\n  odr-network:   \n    driver: bridge  \n</code></pre>\n<p><strong>Error Log</strong></p>\n<pre><code>app-mysql    | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\napp-mysql    | \napp-mysql    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\napp-mysql    |  at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at com.spring.docker.mysql.MySqlApp.main(MySqlApp.java:10) ~[classes/:na]\napp-mysql    |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\napp-mysql    |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\napp-mysql    |  at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\napp-mysql    | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\napp-mysql    | \napp-mysql    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\napp-mysql    |  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\napp-mysql    |  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source) ~[na:na]\napp-mysql    |  at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  ... 54 common frames omitted\napp-mysql    | Caused by: java.net.ConnectException: Connection refused\napp-mysql    |  at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\napp-mysql    |  at java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.net.SocksSocketImpl.connect(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.net.Socket.connect(Unknown Source) ~[na:na]\napp-mysql    |  at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  ... 57 common frames omitted\napp-mysql    | \napp-mysql    | 2023-01-04 14:55:35.275  WARN 1 --- [  restartedMain] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\napp-mysql    | \napp-mysql    | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\napp-mysql    | \napp-mysql    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\napp-mysql    |  at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\napp-mysql    |  at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\napp-mysql    |  at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.24.jar:5.3.24]\napp-mysql    |  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\napp-mysql    |  at com.spring.docker.mysql.MySqlApp.main(MySqlApp.java:10) ~[classes/:na]\napp-mysql    |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\napp-mysql    |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\napp-mysql    |  at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\napp-mysql    | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\napp-mysql    | \napp-mysql    | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\napp-mysql    |  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\napp-mysql    |  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source) ~[na:na]\napp-mysql    |  at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  ... 54 common frames omitted\napp-mysql    | Caused by: java.net.ConnectException: Connection refused\napp-mysql    |  at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\napp-mysql    |  at java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/sun.nio.ch.NioSocketImpl.connect(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.net.SocksSocketImpl.connect(Unknown Source) ~[na:na]\napp-mysql    |  at java.base/java.net.Socket.connect(Unknown Source) ~[na:na]\napp-mysql    |  at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-j-8.0.31.jar:8.0.31]\napp-mysql    |  ... 57 common frames omitted\napp-mysql    | \napp-mysql    | 2023-01-04 14:55:35.281  INFO 1 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\napp-mysql    | 2023-01-04 14:55:35.532  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\napp-mysql    | 2023-01-04 14:55:36.534 ERROR 1 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\napp-mysql    | \napp-mysql    | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n</code></pre>\n"},{"tags":["java","regex","quarkus","vert.x"],"answers":[{"comments":[{"owner":{"account_id":18994381,"reputation":146,"user_id":13862869,"display_name":"Kavishka Madhushan"},"score":0,"creation_date":1673352584,"post_id":75065839,"comment_id":132474798,"body_markdown":"Thank you very much..  So, do we have any, another way to use this for &quot;regex&quot; or do I have to move for another solution instead of Vertx eventbus.","body":"Thank you very much..  So, do we have any, another way to use this for &quot;regex&quot; or do I have to move for another solution instead of Vertx eventbus."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1673420173,"post_id":75065839,"comment_id":132492033,"body_markdown":"AFAIK, there is no way to do what you want with the event bus","body":"AFAIK, there is no way to do what you want with the event bus"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673328604,"creation_date":1673328604,"answer_id":75065839,"question_id":75056541,"body_markdown":"The `@ConsumeEvent` annotation in Quarkus just makes the use of `io.vertx.core.eventbus.EventBus` easier and since the latter does not support regex, neither does the annotation","title":"Vert.x @ConsumeEvent with regex","body":"<p>The <code>@ConsumeEvent</code> annotation in Quarkus just makes the use of <code>io.vertx.core.eventbus.EventBus</code> easier and since the latter does not support regex, neither does the annotation</p>\n"}],"owner":{"account_id":18994381,"reputation":146,"user_id":13862869,"display_name":"Kavishka Madhushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75065839,"answer_count":1,"score":0,"last_activity_date":1673328604,"creation_date":1673263243,"question_id":75056541,"body_markdown":"I am using this to consume events reserved to &quot;telemetry-feed-1&quot;. I am using &quot;io.quarkus.vertx.ConsumeEvent&quot; with quarkus. I want to use regEx like &quot;telemetry-feed-.*&quot; to reserve any channel that start with &quot;telemetry-feed-&quot;. any one know how I can do this. Thank you very much. \r\n\r\n    @ConsumeEvent(&quot;telemetry-feed-1&quot; )\r\n    public void publishMatchingSubscriptions(String message) throws Exception {\r\n       // process data\r\n    }\r\n","title":"Vert.x @ConsumeEvent with regex","body":"<p>I am using this to consume events reserved to &quot;telemetry-feed-1&quot;. I am using &quot;io.quarkus.vertx.ConsumeEvent&quot; with quarkus. I want to use regEx like &quot;telemetry-feed-.*&quot; to reserve any channel that start with &quot;telemetry-feed-&quot;. any one know how I can do this. Thank you very much.</p>\n<pre><code>@ConsumeEvent(&quot;telemetry-feed-1&quot; )\npublic void publishMatchingSubscriptions(String message) throws Exception {\n   // process data\n}\n</code></pre>\n"},{"tags":["java","c#","arrays","equivalent"],"comments":[{"owner":{"account_id":952719,"reputation":6528,"user_id":978558,"accept_rate":60,"display_name":"fredrik"},"score":0,"creation_date":1630495038,"post_id":69012700,"comment_id":121969844,"body_markdown":"https://learn.microsoft.com/en-us/dotnet/api/system.type.getelementtype?view=net-5.0 ?","body":"<a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.type.getelementtype?view=net-5.0\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/api/&hellip;</a> ?"},{"owner":{"account_id":8725235,"reputation":26264,"user_id":6527049,"accept_rate":84,"display_name":"Vivek Nuna"},"score":0,"creation_date":1630495121,"post_id":69012700,"comment_id":121969882,"body_markdown":"try this `T[] = (T[])Array.CreateInstance(array.GetType().GetElementType(), sampleSize);`","body":"try this <code>T[] = (T[])Array.CreateInstance(array.GetType().GetElementType(), sampleSize);</code>"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1630495239,"post_id":69012700,"comment_id":121969930,"body_markdown":"hehe C# is better (it has real generics not fake one like java - hehe you cant even get generic parameter in java at runtime without &quot;TypeToken&quot; solution) ... you can do `T[] = new T[size];`","body":"hehe C# is better (it has real generics not fake one like java - hehe you cant even get generic parameter in java at runtime without &quot;TypeToken&quot; solution) ... you can do <code>T[] = new T[size];</code>"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1630495593,"post_id":69012700,"comment_id":121970096,"body_markdown":"[... so it&#39;s rather XY problem ...](https://dotnetfiddle.net/01IAtG)","body":"<a href=\"https://dotnetfiddle.net/01IAtG\" rel=\"nofollow noreferrer\">... so it&#39;s rather XY problem ...</a>"}],"answers":[{"tags":[],"owner":{"account_id":8725235,"reputation":26264,"user_id":6527049,"accept_rate":84,"display_name":"Vivek Nuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1630495222,"creation_date":1630495222,"answer_id":69012767,"question_id":69012700,"body_markdown":"Try this, it will work `Array.CreateInstance(array.GetType().GetElementType(), sampleSize);`","title":"What is the C# equivalent of Java&#39;s getComponentType()?","body":"<p>Try this, it will work <code>Array.CreateInstance(array.GetType().GetElementType(), sampleSize);</code></p>\n"}],"owner":{"account_id":20652108,"reputation":5,"user_id":15162148,"display_name":"Mamareza Alipour"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1630560814,"accepted_answer_id":69012767,"answer_count":1,"score":0,"last_activity_date":1673328026,"creation_date":1630494949,"question_id":69012700,"body_markdown":"I am translating from Java to C# and have code similar to:\r\n\r\n`T[] @unchecked = (T[])Array.newInstance(array.getClass().getComponentType(), sampleSize`);\r\n\r\nI know `getClass()` equals to `GetType()` in C# and `newInstance()` equals to `CreateInstance()`; but idk what&#39;s the C# equivalent of `getComponentType()`?","title":"What is the C# equivalent of Java&#39;s getComponentType()?","body":"<p>I am translating from Java to C# and have code similar to:</p>\n<p><code>T[] @unchecked = (T[])Array.newInstance(array.getClass().getComponentType(), sampleSize</code>);</p>\n<p>I know <code>getClass()</code> equals to <code>GetType()</code> in C# and <code>newInstance()</code> equals to <code>CreateInstance()</code>; but idk what's the C# equivalent of <code>getComponentType()</code>?</p>\n"},{"tags":["java","tomee-8"],"comments":[{"owner":{"account_id":13682516,"reputation":473,"user_id":9872503,"display_name":"Singam"},"score":0,"creation_date":1673212060,"post_id":75034824,"comment_id":132442195,"body_markdown":"apache-tomee-8.0.13-plume with JDK 8","body":"apache-tomee-8.0.13-plume with JDK 8"},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1674155663,"post_id":75034824,"comment_id":132660368,"body_markdown":"Have you looked at the mail example provided by TomEE: https://github.com/apache/tomee/tree/tomee-8.x/examples/javamail-velocity ? It might be related to the SSL/TLS version used by your mail server, so might also be relevant to enable and check the tls/ssl debug output.","body":"Have you looked at the mail example provided by TomEE: <a href=\"https://github.com/apache/tomee/tree/tomee-8.x/examples/javamail-velocity\" rel=\"nofollow noreferrer\">github.com/apache/tomee/tree/tomee-8.x/examples/&hellip;</a> ? It might be related to the SSL/TLS version used by your mail server, so might also be relevant to enable and check the tls/ssl debug output."},{"owner":{"account_id":13682516,"reputation":473,"user_id":9872503,"display_name":"Singam"},"score":0,"creation_date":1681638537,"post_id":75034824,"comment_id":134085953,"body_markdown":"Hello, many thanks for providing this link. However, I regret to say that the example code has got an issue. Could not find the given email template &#39;templates/email-html-template.vm&#39; in the classpath.. The file is not there in github. Please advice.","body":"Hello, many thanks for providing this link. However, I regret to say that the example code has got an issue. Could not find the given email template &#39;templates/email-html-template.vm&#39; in the classpath.. The file is not there in github. Please advice."},{"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"score":0,"creation_date":1681653692,"post_id":75034824,"comment_id":134087830,"body_markdown":"https://github.com/apache/tomee/blob/tomee-8.x/examples/javamail-velocity/src/test/resources/templates/email-html-template.vm","body":"<a href=\"https://github.com/apache/tomee/blob/tomee-8.x/examples/javamail-velocity/src/test/resources/templates/email-html-template.vm\" rel=\"nofollow noreferrer\">github.com/apache/tomee/blob/tomee-8.x/examples/&hellip;</a>"}],"owner":{"account_id":13682516,"reputation":473,"user_id":9872503,"display_name":"Singam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673327809,"creation_date":1673029668,"question_id":75034824,"body_markdown":"I can send an email via a simple Java programme but if I use exactly the same settings to create Java Mail Session resource in Tomee&#39;s conf/tomee.xml file, the code fails:\r\n\r\nHere is the simple Java code that WORKS:\r\n```\r\npublic static void main(String[] args) {\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n        // smtp.gmail.com supports TLSv1.2 and TLSv1.3\r\n        // smtp.office365.com supports only TLSv1.2\r\n        props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.privateemail.com&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        \r\n        Session session = Session.getInstance(props, new Authenticator() {\r\n            @Override\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(&quot;&lt;valid email&gt;&quot;, &quot;&lt;valid password&gt;&quot;);\r\n            }\r\n        });\r\n        \r\n        try {\r\n            Message message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(&lt;valid email&gt;));\r\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&lt;valid recipient email&gt;));\r\n            message.setSubject(&quot;You got mail&quot;);\r\n            message.setText(&quot;This email was sent with JavaMail.&quot;);\r\n            Transport.send(message);\r\n            System.out.println(&quot;Email sent.&quot;);\r\n        } catch (MessagingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n``` \r\nHowever, if I try to configure the same properties in Tomee&#39;s conf/tomee.xml file, nothing works and the application throws an error:\r\n```\r\nSend failure (javax.mail.AuthenticationFailedException: null)\r\n```\r\nHere is the configuration in conf/tomee.xml\r\n```\r\n&lt;Resource id=&quot;mail/bjm&quot; type=&quot;javax.mail.Session&quot;&gt;\r\n        mail.smtp.host=smtp.privateemail.com\r\n        mail.smtp.port=587\r\n        mail.transport.protocol=smtp\r\n        mail.smtp.auth=true\r\n        ail.smtp.starttls.enable=true\r\n        mail.smtp.ssl.protocols=TLSv1.2\r\n        mail.smtp.user=&lt;valid email&gt;\r\n        password=&lt;valid password&gt;\r\n&lt;/Resource&gt;\r\n```\r\nThe configuration settings were copied from the Tomee docs that DOES NOT WORK.\r\n\r\nAnd finally here is my Java/EE code that uses this resource in vain:\r\n```\r\n@Resource(name = &quot;mail/bjm&quot;)\r\nSession session;\r\n...\r\n...\r\nMimeMessage message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(&lt;valid email&gt;));\r\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(&lt;valid recipient email&gt;));\r\n\r\n```\r\nWould be grateful if someone can shed some light on the issue.\r\n\r\nMany Thanks","title":"Mail Session fails in Tomee Server","body":"<p>I can send an email via a simple Java programme but if I use exactly the same settings to create Java Mail Session resource in Tomee's conf/tomee.xml file, the code fails:</p>\n<p>Here is the simple Java code that WORKS:</p>\n<pre><code>public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\n        // smtp.gmail.com supports TLSv1.2 and TLSv1.3\n        // smtp.office365.com supports only TLSv1.2\n        props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.privateemail.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        \n        Session session = Session.getInstance(props, new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;&lt;valid email&gt;&quot;, &quot;&lt;valid password&gt;&quot;);\n            }\n        });\n        \n        try {\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(&lt;valid email&gt;));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&lt;valid recipient email&gt;));\n            message.setSubject(&quot;You got mail&quot;);\n            message.setText(&quot;This email was sent with JavaMail.&quot;);\n            Transport.send(message);\n            System.out.println(&quot;Email sent.&quot;);\n        } catch (MessagingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>However, if I try to configure the same properties in Tomee's conf/tomee.xml file, nothing works and the application throws an error:</p>\n<pre><code>Send failure (javax.mail.AuthenticationFailedException: null)\n</code></pre>\n<p>Here is the configuration in conf/tomee.xml</p>\n<pre><code>&lt;Resource id=&quot;mail/bjm&quot; type=&quot;javax.mail.Session&quot;&gt;\n        mail.smtp.host=smtp.privateemail.com\n        mail.smtp.port=587\n        mail.transport.protocol=smtp\n        mail.smtp.auth=true\n        ail.smtp.starttls.enable=true\n        mail.smtp.ssl.protocols=TLSv1.2\n        mail.smtp.user=&lt;valid email&gt;\n        password=&lt;valid password&gt;\n&lt;/Resource&gt;\n</code></pre>\n<p>The configuration settings were copied from the Tomee docs that DOES NOT WORK.</p>\n<p>And finally here is my Java/EE code that uses this resource in vain:</p>\n<pre><code>@Resource(name = &quot;mail/bjm&quot;)\nSession session;\n...\n...\nMimeMessage message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(&lt;valid email&gt;));\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(&lt;valid recipient email&gt;));\n\n</code></pre>\n<p>Would be grateful if someone can shed some light on the issue.</p>\n<p>Many Thanks</p>\n"},{"tags":["java","reflection","dependencies"],"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1375178104,"post_id":5701305,"comment_id":26221255,"body_markdown":"See here (http://stackoverflow.com/questions/17928121/get-list-of-necessary-classes-for-a-class-to-load) for an answer which doesn&#39;t use reflection, or source code parsing, but bytecode reading instead.","body":"See here (<a href=\"http://stackoverflow.com/questions/17928121/get-list-of-necessary-classes-for-a-class-to-load\" title=\"get list of necessary classes for a class to load\">stackoverflow.com/questions/17928121/&hellip;</a>) for an answer which doesn&#39;t use reflection, or source code parsing, but bytecode reading instead."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1303125988,"post_id":5701337,"comment_id":6515969,"body_markdown":"@zaree - for completeness, there is no way to determine the types used within a type using the reflection APIs.","body":"@zaree - for completeness, there is no way to determine the types used within a type using the reflection APIs."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1303121353,"creation_date":1303121353,"answer_id":5701337,"question_id":5701305,"body_markdown":"Imports are a compile-time feature - there&#39;s no difference to the compiled code between a version which uses the full name of the type everywhere it&#39;s mentioned, a version which imports everything using a *, and a version which imports classes by full name.\r\n\r\nIf you want to find all the types *used* within the compiled code, that&#39;s a slightly different matter. You may want to look at [BCEL][1] as a way of analyzing bytecode.\r\n\r\n\r\n  [1]: http://jakarta.apache.org/bcel/","title":"How to get all imports defined in a class using java reflection?","body":"<p>Imports are a compile-time feature - there's no difference to the compiled code between a version which uses the full name of the type everywhere it's mentioned, a version which imports everything using a *, and a version which imports classes by full name.</p>\n\n<p>If you want to find all the types <em>used</em> within the compiled code, that's a slightly different matter. You may want to look at <a href=\"http://jakarta.apache.org/bcel/\" rel=\"noreferrer\">BCEL</a> as a way of analyzing bytecode.</p>\n"},{"comments":[{"owner":{"account_id":346008,"reputation":641,"user_id":679261,"accept_rate":44,"display_name":"zaree"},"score":1,"creation_date":1303125560,"post_id":5701538,"comment_id":6515876,"body_markdown":"As u explain &quot;You can&#39;t because the compiler doesn&#39;t put them into the object file.&quot; I have try this and when i decompile a java file using some java Decompiler like DJ Java Decompiler.it will show all the imports(java libraries &amp; as well packages).Can u explain this more?","body":"As u explain &quot;You can&#39;t because the compiler doesn&#39;t put them into the object file.&quot; I have try this and when i decompile a java file using some java Decompiler like DJ Java Decompiler.it will show all the imports(java libraries &amp; as well packages).Can u explain this more?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1305851265,"post_id":5701538,"comment_id":7023962,"body_markdown":"@zaree No it won&#39;t. It will synthesize import statements for all the classes from other packages used by this class. It is not recreating the original source code.","body":"@zaree No it won&#39;t. It will synthesize import statements for all the classes from other packages used by this class. It is not recreating the original source code."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1303122455,"creation_date":1303122455,"answer_id":5701538,"question_id":5701305,"body_markdown":"&gt; I just wanna know the list of all\r\n&gt; import defined in a class using\r\n&gt; reflection\r\n\r\nYou can&#39;t because the compiler doesn&#39;t put them into the object file. It throws them away. Import is just a shorthand to the compiler.","title":"How to get all imports defined in a class using java reflection?","body":"<blockquote>\n  <p>I just wanna know the list of all\n  import defined in a class using\n  reflection</p>\n</blockquote>\n\n<p>You can't because the compiler doesn't put them into the object file. It throws them away. Import is just a shorthand to the compiler.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1420650753,"post_id":11409987,"comment_id":44055395,"body_markdown":"No you can&#39;t. From your own link: &#39;QDox is a high speed, small footprint parser for extracting class/interface/method definitions from *source* files ...&#39; [emphasis added]","body":"No you can&#39;t. From your own link: &#39;QDox is a high speed, small footprint parser for extracting class/interface/method definitions from <i>source</i> files ...&#39; [emphasis added]"},{"owner":{"account_id":1320937,"reputation":753,"user_id":1266793,"display_name":"Asraful Haque"},"score":5,"creation_date":1422426744,"post_id":11409987,"comment_id":44740671,"body_markdown":"Yes you are right, through reflection its not possible. But with Qdox its possible to get from .java file which might be useful for some others.","body":"Yes you are right, through reflection its not possible. But with Qdox its possible to get from .java file which might be useful for some others."}],"tags":[],"owner":{"account_id":1320937,"reputation":753,"user_id":1266793,"display_name":"Asraful Haque"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1555193459,"creation_date":1341911049,"answer_id":11409987,"question_id":5701305,"body_markdown":"I think you can use [Qdox](https://github.com/paul-hammant/qdox) to get all the imports in a class which is not actually through reflection, but it can serve your purpose :\r\n\r\n\r\n        String fileFullPath = &quot;Your\\\\java\\\\ file \\\\full\\\\path&quot;;\r\n\t    JavaDocBuilder builder = new JavaDocBuilder();\r\n\t    builder.addSource(new FileReader( fileFullPath  ));\r\n\t    \r\n\t    JavaSource src = builder.getSources()[0];\r\n\t    String[] imports = src.getImports();\r\n\t    \r\n\t    for ( String imp : imports )\r\n\t    {\r\n\t    \tSystem.out.println(imp);\r\n\t    }","title":"How to get all imports defined in a class using java reflection?","body":"<p>I think you can use <a href=\"https://github.com/paul-hammant/qdox\" rel=\"noreferrer\">Qdox</a> to get all the imports in a class which is not actually through reflection, but it can serve your purpose :</p>\n\n<pre><code>    String fileFullPath = \"Your\\\\java\\\\ file \\\\full\\\\path\";\n    JavaDocBuilder builder = new JavaDocBuilder();\n    builder.addSource(new FileReader( fileFullPath  ));\n\n    JavaSource src = builder.getSources()[0];\n    String[] imports = src.getImports();\n\n    for ( String imp : imports )\n    {\n        System.out.println(imp);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4265760,"reputation":395,"user_id":3488929,"display_name":"Darshan Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647970228,"creation_date":1647970228,"answer_id":71576505,"question_id":5701305,"body_markdown":"As suggested by @Asraful Haque qdox helps to read imports of java file\r\n\r\nUse Maven dependency\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.thoughtworks.qdox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;qdox&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nPlease refer modified version of code\r\n\r\n    package readimports;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    import com.thoughtworks.qdox.JavaProjectBuilder;\r\n    import com.thoughtworks.qdox.model.JavaSource;\r\n    \r\n    public class TestReadAllImport {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException {\r\n    \t\tString fileFullPath = &quot;path to java file&quot;;\r\n    \t\tJavaProjectBuilder builder = new JavaProjectBuilder();\r\n    \t\tbuilder.addSource(new FileReader( fileFullPath  ));\r\n    \r\n    \t\tCollection&lt;JavaSource&gt; srcs = builder.getSources();\r\n    \t\tfor(JavaSource src : srcs) {\r\n    \t\t\tList&lt;String&gt; imports = src.getImports();\r\n    \r\n    \t\t\tfor ( String imp : imports )\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(imp);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to get all imports defined in a class using java reflection?","body":"<p>As suggested by @Asraful Haque qdox helps to read imports of java file</p>\n<p>Use Maven dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.thoughtworks.qdox&lt;/groupId&gt;\n            &lt;artifactId&gt;qdox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Please refer modified version of code</p>\n<pre><code>package readimports;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.util.Collection;\nimport java.util.List;\n\nimport com.thoughtworks.qdox.JavaProjectBuilder;\nimport com.thoughtworks.qdox.model.JavaSource;\n\npublic class TestReadAllImport {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        String fileFullPath = &quot;path to java file&quot;;\n        JavaProjectBuilder builder = new JavaProjectBuilder();\n        builder.addSource(new FileReader( fileFullPath  ));\n\n        Collection&lt;JavaSource&gt; srcs = builder.getSources();\n        for(JavaSource src : srcs) {\n            List&lt;String&gt; imports = src.getImports();\n\n            for ( String imp : imports )\n            {\n                System.out.println(imp);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":417785,"reputation":909,"user_id":793970,"accept_rate":100,"display_name":"Sushant Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673326838,"creation_date":1673326838,"answer_id":75065653,"question_id":5701305,"body_markdown":"Thanks for sharing the qdox, I used it to recursively find all imports and find unique packages and unique imports.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.thoughtworks.qdox/qdox --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.thoughtworks.qdox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;qdox&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nUsing simple recursion to get all packages and imports of the given class.\r\n\r\n    package test;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import com.thoughtworks.qdox.JavaProjectBuilder;\r\n    import com.thoughtworks.qdox.model.JavaSource;\r\n    \r\n    public class ImportsIdentifier {\r\n    \r\n    \tprivate static String sysPath =&quot;//&lt;Absolute Path&gt;/src/main/java/&quot;;\r\n    \tprivate static String fileType = &quot;.java&quot;;\r\n    \tprivate static Set&lt;String&gt; importFiles = new HashSet&lt;&gt;();\r\n    \tprivate static Set&lt;String&gt; packages = new HashSet&lt;&gt;();\r\n    \t\r\n    \tpublic static void main(String[] args) throws FileNotFoundException {\r\n    \t\tString path = sysPath + &quot;&lt;java file path&gt;&quot;;\r\n    \t\t\r\n    \t\tprintImports(path);\r\n    \t\t\r\n    \t\tSystem.out.println(importFiles);\r\n    \t\tSystem.out.println(packages);\r\n    \t}\r\n    \t\r\n    \tprivate static void printImports(String path) throws FileNotFoundException {\r\n    \t\tJavaProjectBuilder jp = new JavaProjectBuilder();\r\n    \t\tjp.addSource(new FileReader(path));\r\n    \r\n    \t\tCollection&lt;JavaSource&gt; srcs = jp.getSources();\r\n    \r\n    \t\tfor (JavaSource src : srcs) {\r\n    \t\t\tSystem.out.println(src.getPackage());\r\n    \t\t\tpackages.add(src.getPackage().toString());\r\n    \t\t\t\r\n    \t\t\tfor(String imprt: src.getImports()) {\r\n    \t\t\t\tif(imprt.startsWith(&quot;&lt;filter for any package&gt;&quot;)) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\timprt = sysPath+imprt.replaceAll(&quot;\\\\.&quot;, &quot;/&quot;)+fileType;\r\n    \t\t\t\t\tif(importFiles.contains(imprt)) {\r\n    \t\t\t\t\t\tcontinue;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\timportFiles.add(imprt);\r\n    \t\t\t\t\tSystem.out.println(imprt);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tprintImports(imprt);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to get all imports defined in a class using java reflection?","body":"<p>Thanks for sharing the qdox, I used it to recursively find all imports and find unique packages and unique imports.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.thoughtworks.qdox/qdox --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.thoughtworks.qdox&lt;/groupId&gt;\n    &lt;artifactId&gt;qdox&lt;/artifactId&gt;\n    &lt;version&gt;2.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using simple recursion to get all packages and imports of the given class.</p>\n<pre><code>package test;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport com.thoughtworks.qdox.JavaProjectBuilder;\nimport com.thoughtworks.qdox.model.JavaSource;\n\npublic class ImportsIdentifier {\n\n    private static String sysPath =&quot;//&lt;Absolute Path&gt;/src/main/java/&quot;;\n    private static String fileType = &quot;.java&quot;;\n    private static Set&lt;String&gt; importFiles = new HashSet&lt;&gt;();\n    private static Set&lt;String&gt; packages = new HashSet&lt;&gt;();\n    \n    public static void main(String[] args) throws FileNotFoundException {\n        String path = sysPath + &quot;&lt;java file path&gt;&quot;;\n        \n        printImports(path);\n        \n        System.out.println(importFiles);\n        System.out.println(packages);\n    }\n    \n    private static void printImports(String path) throws FileNotFoundException {\n        JavaProjectBuilder jp = new JavaProjectBuilder();\n        jp.addSource(new FileReader(path));\n\n        Collection&lt;JavaSource&gt; srcs = jp.getSources();\n\n        for (JavaSource src : srcs) {\n            System.out.println(src.getPackage());\n            packages.add(src.getPackage().toString());\n            \n            for(String imprt: src.getImports()) {\n                if(imprt.startsWith(&quot;&lt;filter for any package&gt;&quot;)) {\n                    \n                    imprt = sysPath+imprt.replaceAll(&quot;\\\\.&quot;, &quot;/&quot;)+fileType;\n                    if(importFiles.contains(imprt)) {\n                        continue;\n                    }\n                    importFiles.add(imprt);\n                    System.out.println(imprt);\n                    \n                    printImports(imprt);\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":346008,"reputation":641,"user_id":679261,"accept_rate":44,"display_name":"zaree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23092,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":5701538,"answer_count":5,"score":16,"last_activity_date":1673326838,"creation_date":1303121185,"question_id":5701305,"body_markdown":"Hi i am new in java reflection domain.So can anyone guide me in this problem scenario.\r\n\r\nI have a **class** named **&quot;SomClass.java&quot;** and it **imports a package** named **&quot;SomPackage.RefClass&quot;**  And some other java libraries like java.lang.. etc.\r\n\r\n**Now i wish to get know all the imports defined in a class through reflection.**\r\n\r\n    import SomPackage.RefClass;\r\n    import java.lang.reflect.Field;\r\n    import java.io.IOException; \r\n     public class SomeClass{\r\n      RefClass refClass_Obj;\r\n      String nationality;\r\n    ///some other members\r\n    }\r\n\r\n\r\n\r\n***I just wanna know the list of all import defined in a class using reflection.***\r\n\r\n*I have seen a [Question][1] posted hear similar to my Q but it is not well elaborated so,need some good direction of help.*\r\n\r\nthanks in advance.   \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4884221/java-reflecting-on-method-scope-variables","title":"How to get all imports defined in a class using java reflection?","body":"<p>Hi i am new in java reflection domain.So can anyone guide me in this problem scenario.</p>\n\n<p>I have a <strong>class</strong> named <strong>\"SomClass.java\"</strong> and it <strong>imports a package</strong> named <strong>\"SomPackage.RefClass\"</strong>  And some other java libraries like java.lang.. etc.</p>\n\n<p><strong>Now i wish to get know all the imports defined in a class through reflection.</strong></p>\n\n<pre><code>import SomPackage.RefClass;\nimport java.lang.reflect.Field;\nimport java.io.IOException; \n public class SomeClass{\n  RefClass refClass_Obj;\n  String nationality;\n///some other members\n}\n</code></pre>\n\n<p><strong><em>I just wanna know the list of all import defined in a class using reflection.</em></strong></p>\n\n<p><em>I have seen a <a href=\"https://stackoverflow.com/questions/4884221/java-reflecting-on-method-scope-variables\">Question</a> posted hear similar to my Q but it is not well elaborated so,need some good direction of help.</em></p>\n\n<p>thanks in advance.   </p>\n"},{"tags":["java","mongodb","aggregation-framework","mongotemplate"],"comments":[{"owner":{"account_id":15728621,"reputation":357,"user_id":11349488,"display_name":"Radu Hatos"},"score":0,"creation_date":1673335406,"post_id":75065569,"comment_id":132469612,"body_markdown":"Have a look here :https://www.mongodb.com/docs/manual/tutorial/query-embedded-documents/","body":"Have a look here :<a href=\"https://www.mongodb.com/docs/manual/tutorial/query-embedded-documents/\" rel=\"nofollow noreferrer\">mongodb.com/docs/manual/tutorial/query-embedded-documents</a>"}],"owner":{"account_id":12146167,"reputation":613,"user_id":8919071,"display_name":"Swapnil Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673326068,"creation_date":1673326068,"question_id":75065569,"body_markdown":"**Background**&lt;br&gt;\r\nI am trying to fetch data from mongo by matching custom class with few fields.\r\n\r\n**Mongo Collection:**\r\n\r\n    &quot;_id&quot;:{\r\n       &quot;sNo&quot;:&quot;1001&quot;,\r\n       &quot;name&quot;: &quot;Sameer&quot;,\r\n       &quot;city&quot;: &quot;Pune&quot;,\r\n       &quot;state&quot;: &quot;Maharashtra&quot;\r\n    }\r\n\r\nPojo to match above details\r\n\r\n    @Document\r\n    class Id {\r\n       private String sNo;\r\n       private String name;\r\n       private String city;\r\n       private String state;\r\n       // getter &amp; setters\r\n    }\r\n\r\nJava code to fetch data from mongo where I want to fetch data based on `sNo, name &amp; city` and want to skip `state` for matching:\r\n\r\n    ArrayList&lt;Id&gt; ids = new ArrayList&lt;Id&gt;();\r\n    ...// code to populate Ids\r\n    MatchOperation match = Aggregation.match(Criteria.where(&quot;_id&quot;).in(ids));\r\n    Aggregation agg = Aggregation.newAggregation(match);\r\n    AggregationResults&lt;Document&gt; result = mongoTemplate.aggregate(agg, detailsCollection, \r\n    Document.class);\r\n\r\nProblem:\r\n1. I didn&#39;t find any way to skip few of the fields while match.\r\n2. for now I am getting all data from collection.\r\n\r\nPlease help to suggest, how this can be achieved?\r\n\r\n","title":"Match few fields of pojo with mongo db documents","body":"<p><strong>Background</strong><br>\nI am trying to fetch data from mongo by matching custom class with few fields.</p>\n<p><strong>Mongo Collection:</strong></p>\n<pre><code>&quot;_id&quot;:{\n   &quot;sNo&quot;:&quot;1001&quot;,\n   &quot;name&quot;: &quot;Sameer&quot;,\n   &quot;city&quot;: &quot;Pune&quot;,\n   &quot;state&quot;: &quot;Maharashtra&quot;\n}\n</code></pre>\n<p>Pojo to match above details</p>\n<pre><code>@Document\nclass Id {\n   private String sNo;\n   private String name;\n   private String city;\n   private String state;\n   // getter &amp; setters\n}\n</code></pre>\n<p>Java code to fetch data from mongo where I want to fetch data based on <code>sNo, name &amp; city</code> and want to skip <code>state</code> for matching:</p>\n<pre><code>ArrayList&lt;Id&gt; ids = new ArrayList&lt;Id&gt;();\n...// code to populate Ids\nMatchOperation match = Aggregation.match(Criteria.where(&quot;_id&quot;).in(ids));\nAggregation agg = Aggregation.newAggregation(match);\nAggregationResults&lt;Document&gt; result = mongoTemplate.aggregate(agg, detailsCollection, \nDocument.class);\n</code></pre>\n<p>Problem:</p>\n<ol>\n<li>I didn't find any way to skip few of the fields while match.</li>\n<li>for now I am getting all data from collection.</li>\n</ol>\n<p>Please help to suggest, how this can be achieved?</p>\n"},{"tags":["java","minecraft","byte-buddy"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673341216,"post_id":75065565,"comment_id":132471256,"body_markdown":"1) What do you mean with “parent class”? superclass, perhaps? 2) What do you mean with “functions”? methods, perhaps? 3) How is Bytebuddy supposed to help you when you don’t know what you have to do (which methods you need to override)? Magic, perhaps?","body":"1) What do you mean with “parent class”? superclass, perhaps? 2) What do you mean with “functions”? methods, perhaps? 3) How is Bytebuddy supposed to help you when you don’t know what you have to do (which methods you need to override)? Magic, perhaps?"},{"owner":{"account_id":27483575,"reputation":1,"user_id":20970204,"display_name":"Pixirora"},"score":0,"creation_date":1673372481,"post_id":75065565,"comment_id":132482254,"body_markdown":"My goal was to override all the public methods to see if doing such a thing was going to work. Using Java&#39;s Reflection library, I can get a list of these methods easily enough, so the hard part is just using Byte Buddy to apply the interceptor to each one generally without knowing the arguments/return types beforehand. Byte buddy can do this but I just had no idea how to access the state of the parent object at the same time, or if that&#39;s even possible.","body":"My goal was to override all the public methods to see if doing such a thing was going to work. Using Java&#39;s Reflection library, I can get a list of these methods easily enough, so the hard part is just using Byte Buddy to apply the interceptor to each one generally without knowing the arguments/return types beforehand. Byte buddy can do this but I just had no idea how to access the state of the parent object at the same time, or if that&#39;s even possible."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673372957,"post_id":75065565,"comment_id":132482421,"body_markdown":"What do you mean with “parent object”?","body":"What do you mean with “parent object”?"},{"owner":{"account_id":27483575,"reputation":1,"user_id":20970204,"display_name":"Pixirora"},"score":0,"creation_date":1673374222,"post_id":75065565,"comment_id":132482794,"body_markdown":"I mean the object I am intercepting, sorry if that wasn&#39;t clear.","body":"I mean the object I am intercepting, sorry if that wasn&#39;t clear."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":2,"creation_date":1673386007,"post_id":75065565,"comment_id":132486279,"body_markdown":"I do not quite follow either. Could you give an example of what you are trying to do?","body":"I do not quite follow either. Could you give an example of what you are trying to do?"},{"owner":{"account_id":27483575,"reputation":1,"user_id":20970204,"display_name":"Pixirora"},"score":0,"creation_date":1673562578,"post_id":75065565,"comment_id":132533809,"body_markdown":"Sorry for the confusion, basically what I&#39;m trying to do is make an object which basically acts as a &quot;firewall&quot; or &quot;filter&quot; for another object, as it routes all methods with the same input args to the same method on another one, and then has special checks for a few specific methods so that specific behavior is achieved.","body":"Sorry for the confusion, basically what I&#39;m trying to do is make an object which basically acts as a &quot;firewall&quot; or &quot;filter&quot; for another object, as it routes all methods with the same input args to the same method on another one, and then has special checks for a few specific methods so that specific behavior is achieved."}],"owner":{"account_id":27483575,"reputation":1,"user_id":20970204,"display_name":"Pixirora"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673326035,"creation_date":1673326035,"question_id":75065565,"body_markdown":"My subclass has a property which is an instance of its parent class. I wanted to intercept most of the functions in this subclass using interceptors, so that way it would call the same function on the parent class with the args passed. However, I have two issues: I don&#39;t know how to access the property, and call the function by unpacking the args at the same time. \r\n\r\nI&#39;m trying to create a subclass for a class in Minecraft that I&#39;m already injecting into using Mixins, which does the thing I said above. The only problem is that that class has over 100 functions, and I&#39;m not sure which ones I need to override in order to get the functionality I need.  I was curious if Byte Buddy was suitable for this task, or if I need to consider a different solution entirely.","title":"Can Byte Buddy generalize usage of the @Super annotation so that it could be used to intercept any function?","body":"<p>My subclass has a property which is an instance of its parent class. I wanted to intercept most of the functions in this subclass using interceptors, so that way it would call the same function on the parent class with the args passed. However, I have two issues: I don't know how to access the property, and call the function by unpacking the args at the same time.</p>\n<p>I'm trying to create a subclass for a class in Minecraft that I'm already injecting into using Mixins, which does the thing I said above. The only problem is that that class has over 100 functions, and I'm not sure which ones I need to override in order to get the functionality I need.  I was curious if Byte Buddy was suitable for this task, or if I need to consider a different solution entirely.</p>\n"},{"tags":["java","json","spring","hibernate","extjs"],"owner":{"account_id":27473411,"reputation":59,"user_id":20961840,"display_name":"dattam katore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673324844,"answer_count":0,"score":2,"last_activity_date":1673325450,"creation_date":1673324062,"question_id":75065412,"body_markdown":"We need to evaluate JSON object expressions in java.\r\n\r\nWe have the following source JSON object\r\n\r\n  \r\n    {\r\n      &quot;a&quot;: 100,\r\n      &quot;b&quot;: 200,\r\n      &quot;c&quot;: 300,\r\n      &quot;d&quot;: &quot;calc(a+c)&quot;,\r\n      &quot;f&quot;: {\r\n        &quot;g&quot;: 100,\r\n        &quot;h&quot;: 200,\r\n        &quot;i&quot;: &quot;calc(g+h)&quot;,\r\n        &quot;k&quot;: {\r\n          &quot;m&quot;: 50,\r\n          &quot;n&quot;: 70,\r\n          &quot;p&quot;: &quot;calc(m+n)&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nwe need to output this format\r\n\r\n    {\r\n      &quot;a&quot;: 100,\r\n      &quot;b&quot;: 200,\r\n      &quot;c&quot;: 300,\r\n      &quot;d&quot;: 400,\r\n      &quot;f&quot;: {\r\n        &quot;g&quot;: 100,\r\n        &quot;h&quot;: 200,\r\n        &quot;i&quot;: 300,\r\n        &quot;k&quot;: {\r\n          &quot;m&quot;: 50,\r\n          &quot;n&quot;: 70,\r\n          &quot;p&quot;: 120\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n we know the json structure. But can you suggest more generic way where the json structure is not known and json can be iterated and eval can be done wherever some formuala like calc, concat is used. Also maintain the depth of json.","title":"Evaluate JSON object with expression with variable name, Josson Evaluate","body":"<p>We need to evaluate JSON object expressions in java.</p>\n<p>We have the following source JSON object</p>\n<pre><code>{\n  &quot;a&quot;: 100,\n  &quot;b&quot;: 200,\n  &quot;c&quot;: 300,\n  &quot;d&quot;: &quot;calc(a+c)&quot;,\n  &quot;f&quot;: {\n    &quot;g&quot;: 100,\n    &quot;h&quot;: 200,\n    &quot;i&quot;: &quot;calc(g+h)&quot;,\n    &quot;k&quot;: {\n      &quot;m&quot;: 50,\n      &quot;n&quot;: 70,\n      &quot;p&quot;: &quot;calc(m+n)&quot;\n    }\n  }\n}\n</code></pre>\n<p>we need to output this format</p>\n<pre><code>{\n  &quot;a&quot;: 100,\n  &quot;b&quot;: 200,\n  &quot;c&quot;: 300,\n  &quot;d&quot;: 400,\n  &quot;f&quot;: {\n    &quot;g&quot;: 100,\n    &quot;h&quot;: 200,\n    &quot;i&quot;: 300,\n    &quot;k&quot;: {\n      &quot;m&quot;: 50,\n      &quot;n&quot;: 70,\n      &quot;p&quot;: 120\n    }\n  }\n}\n</code></pre>\n<p>we know the json structure. But can you suggest more generic way where the json structure is not known and json can be iterated and eval can be done wherever some formuala like calc, concat is used. Also maintain the depth of json.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"display_name":"user1907906"},"score":1,"creation_date":1412323417,"post_id":26175340,"comment_id":41039177,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"score":1,"creation_date":1412325500,"post_id":26175340,"comment_id":41039983,"body_markdown":"What have you tried exactly? It seems that `ignore-default-model-on-redirect ` is actually what you should use.","body":"What have you tried exactly? It seems that <code>ignore-default-model-on-redirect </code> is actually what you should use."},{"owner":{"account_id":1454426,"reputation":636,"user_id":1370447,"display_name":"Hugo G."},"score":0,"creation_date":1412331426,"post_id":26175340,"comment_id":41042284,"body_markdown":"In Spring 3.2, it actually seems that ignoreDefaultModelOnRedirect is what should be used.","body":"In Spring 3.2, it actually seems that ignoreDefaultModelOnRedirect is what should be used."},{"owner":{"account_id":3763802,"reputation":6373,"user_id":3127896,"accept_rate":58,"display_name":"user3127896"},"score":0,"creation_date":1412427524,"post_id":26175340,"comment_id":41071724,"body_markdown":"Hugo G. what that i got when i try to deploy application org.xml.sax.SAXParseException; lineNumber: 71; columnNumber: 65; cvc-complex-type.3.2.2: Attribute &#39;ignoreDefaultModelOnRedirect&#39; is not allowed to appear in element &#39;mvc:annotation-driven&#39;.","body":"Hugo G. what that i got when i try to deploy application org.xml.sax.SAXParseException; lineNumber: 71; columnNumber: 65; cvc-complex-type.3.2.2: Attribute &#39;ignoreDefaultModelOnRedirect&#39; is not allowed to appear in element &#39;mvc:annotation-driven&#39;."}],"answers":[{"comments":[{"owner":{"account_id":1454426,"reputation":636,"user_id":1370447,"display_name":"Hugo G."},"score":0,"creation_date":1412330624,"post_id":26175415,"comment_id":41042015,"body_markdown":"Sorry, I understood you did not want to pass your model attribute to the redirect URL. Can you be more specific about what you tried, what you get and what you want ?","body":"Sorry, I understood you did not want to pass your model attribute to the redirect URL. Can you be more specific about what you tried, what you get and what you want ?"}],"tags":[],"owner":{"account_id":1454426,"reputation":636,"user_id":1370447,"display_name":"Hugo G."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412323646,"creation_date":1412323646,"answer_id":26175415,"question_id":26175340,"body_markdown":"You can clear your model before the redirect :\r\n\r\n    @RequestMapping(...)\r\n    public String doSomething(Model model, ...)\r\n    {\r\n        // ....\r\n        model.asMap().clear();\r\n        return &quot;redirect:list&quot;;\r\n    }\r\n\r\nYou can see other solutions here :\r\n\r\nhttps://stackoverflow.com/questions/17676206/spring-3-0-mvc-redirect-without-parameters-being-added-to-my-url","title":"Spring automatic adds model param to url","body":"<p>You can clear your model before the redirect :</p>\n\n<pre><code>@RequestMapping(...)\npublic String doSomething(Model model, ...)\n{\n    // ....\n    model.asMap().clear();\n    return \"redirect:list\";\n}\n</code></pre>\n\n<p>You can see other solutions here :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17676206/spring-3-0-mvc-redirect-without-parameters-being-added-to-my-url\">Spring 3.0 MVC :Redirect without parameters being added to my url</a></p>\n"},{"tags":[],"owner":{"account_id":1405987,"reputation":16394,"user_id":1385441,"accept_rate":77,"display_name":"Ram Patra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447074984,"creation_date":1447074984,"answer_id":33609961,"question_id":26175340,"body_markdown":"This worked for me. Use this if you **do not** want your model data to be attached to the url parameter.\r\n\r\n    @RequestMapping(&quot;save/&quot;)\r\n    public View doSave(...)\r\n    {\r\n        ...\r\n        RedirectView redirect = new RedirectView(&quot;/success&quot;);\r\n        redirect.setExposeModelAttributes(false);\r\n        return redirect;\r\n    }\r\n\r\nThanks to [reallynic&#39;s comment](https://stackoverflow.com/questions/13247239/spring-mvc-controller-redirect-without-parameters-being-added-to-my-url#comment40067949_16841663).","title":"Spring automatic adds model param to url","body":"<p>This worked for me. Use this if you <strong>do not</strong> want your model data to be attached to the url parameter.</p>\n\n<pre><code>@RequestMapping(\"save/\")\npublic View doSave(...)\n{\n    ...\n    RedirectView redirect = new RedirectView(\"/success\");\n    redirect.setExposeModelAttributes(false);\n    return redirect;\n}\n</code></pre>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/13247239/spring-mvc-controller-redirect-without-parameters-being-added-to-my-url#comment40067949_16841663\">reallynic's comment</a>.</p>\n"},{"tags":[],"owner":{"account_id":6185220,"reputation":111,"user_id":4819526,"accept_rate":71,"display_name":"irisk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472810369,"creation_date":1472810369,"answer_id":39289627,"question_id":26175340,"body_markdown":"If you are using java configuration add following to your `WebMvcConfigurerAdapter` child class:\r\n\r\n    @Autowired\r\n    private RequestMappingHandlerAdapter requestMappingHandlerAdapter;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        requestMappingHandlerAdapter.setIgnoreDefaultModelOnRedirect(true);\r\n    }","title":"Spring automatic adds model param to url","body":"<p>If you are using java configuration add following to your <code>WebMvcConfigurerAdapter</code> child class:</p>\n\n<pre><code>@Autowired\nprivate RequestMappingHandlerAdapter requestMappingHandlerAdapter;\n\n@PostConstruct\npublic void init() {\n    requestMappingHandlerAdapter.setIgnoreDefaultModelOnRedirect(true);\n}\n</code></pre>\n"}],"owner":{"account_id":3763802,"reputation":6373,"user_id":3127896,"accept_rate":58,"display_name":"user3127896"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3860,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673324761,"creation_date":1412323288,"question_id":26175340,"body_markdown":"When I use `return redirect` in methods, spring automatically adds my Model variables like get params to url.\r\nI&#39;ve found solution here https://stackoverflow.com/questions/13247239/spring-mvc-controller-redirect-without-parameters-being-added-to-my-url\r\n\r\nbut unfortunately it doesn&#39;t work with spring 3.2\r\n\r\nAlso i&#39;ve found following \r\n\r\n&gt; When upgrading to spring-mvc-4.0.xsd, you should replace\r\n&gt; enableMatrixVariables and ignoreDefaultModelOnRedirect with\r\n&gt; enable-matrix-variables and ignore-default-model-on-redirect\r\n&gt; respectively.\r\n\r\nbut when i add this to my mvc-dispatcher.xml my IDE says that attribute is not allowed here.\r\n\r\nAny solutions for **Spring 3.2?**","title":"Spring automatic adds model param to url","body":"<p>When I use <code>return redirect</code> in methods, spring automatically adds my Model variables like get params to url.\nI've found solution here <a href=\"https://stackoverflow.com/questions/13247239/spring-mvc-controller-redirect-without-parameters-being-added-to-my-url\">Spring MVC Controller: Redirect without parameters being added to my url</a></p>\n\n<p>but unfortunately it doesn't work with spring 3.2</p>\n\n<p>Also i've found following </p>\n\n<blockquote>\n  <p>When upgrading to spring-mvc-4.0.xsd, you should replace\n  enableMatrixVariables and ignoreDefaultModelOnRedirect with\n  enable-matrix-variables and ignore-default-model-on-redirect\n  respectively.</p>\n</blockquote>\n\n<p>but when i add this to my mvc-dispatcher.xml my IDE says that attribute is not allowed here.</p>\n\n<p>Any solutions for <strong>Spring 3.2?</strong></p>\n"},{"tags":["java","string","methods","split","whitespace"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1670350524,"post_id":74707261,"comment_id":131854822,"body_markdown":"&quot;I ended up kind of thoughtless pasting parts of codes from different online articles&quot; - how would that be any different from you thoughtlessly pasting someone&#39;s solution here? Programming _requires_ thought, you need to understand what the different methods are doing, and develop an approach/solution to your problem. The solution you devise is typically decided before you even program anything. Ask yourself: how would you solve this problem by hand?","body":"&quot;I ended up kind of thoughtless pasting parts of codes from different online articles&quot; - how would that be any different from you thoughtlessly pasting someone&#39;s solution here? Programming <i>requires</i> thought, you need to understand what the different methods are doing, and develop an approach/solution to your problem. The solution you devise is typically decided before you even program anything. Ask yourself: how would you solve this problem by hand?"},{"owner":{"account_id":27168374,"reputation":1,"user_id":20705497,"display_name":"Ama123ture"},"score":0,"creation_date":1670350844,"post_id":74707261,"comment_id":131854923,"body_markdown":"Well, here someone could explain this issue to me. I am very new to programming, especially transforming Strings, and the different methods I&#39;ve seen confuse me because I haven&#39;t seen them anywhere properly explained. That&#39;s why I specified that when you answer, I&#39;m asking for an additional explanation of how individual elements of the code work so that I am better informed in the future.","body":"Well, here someone could explain this issue to me. I am very new to programming, especially transforming Strings, and the different methods I&#39;ve seen confuse me because I haven&#39;t seen them anywhere properly explained. That&#39;s why I specified that when you answer, I&#39;m asking for an additional explanation of how individual elements of the code work so that I am better informed in the future."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1670350992,"post_id":74707261,"comment_id":131854965,"body_markdown":"Have you taken a look at the [javadoc for String](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html)? It&#39;s extensively documented, and explains every method you can invoke on a string.","body":"Have you taken a look at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">javadoc for String</a>? It&#39;s extensively documented, and explains every method you can invoke on a string."},{"owner":{"account_id":3271176,"reputation":8031,"user_id":2754530,"display_name":"wypieprz"},"score":0,"creation_date":1670351424,"post_id":74707261,"comment_id":131855095,"body_markdown":"here you have plenty of examples: https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java","body":"here you have plenty of examples: <a href=\"https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java\" title=\"split string to equal length substrings in java\">stackoverflow.com/questions/3760152/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671041985,"post_id":74707261,"comment_id":132014169,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670351619,"creation_date":1670351619,"answer_id":74707523,"question_id":74707261,"body_markdown":"Here is one way to do it:\r\n\r\n    public static void splitString(String str, int groupSize){\r\n\t\tchar[] arr = str.toCharArray(); // Split the string into character array ①\r\n\t\t\r\n\t\t// Iterate over array and print the characters\r\n\t\tfor(int i=0; i&lt;arr.length; i++){\r\n\t\t\t// If &#39;i&#39; is a multiple of &#39;groupSize&#39; ②\r\n\t\t\tif(i &gt; 0 &amp;&amp; i % groupSize == 0){ ③\r\n\t\t\t\tSystem.out.print(&quot; &quot;); \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.print(arr[i]);\r\n\t\t}\r\n\t}\r\n\r\n① Split the string into a character array (so that you can access the characters individually). You can also do it using the `charAt()` method without splitting the string into an array. Read the Javadoc for more details.\r\n\r\n② Check if the loop counter `i` is a multiple of `groupSize`\r\n\r\n③ Note the use of `System.out.print()` as we do not want to print a newline. Here you can use a `StringBuilder` too and print the contents at the end instead of printing the characters inside the loop.","title":"How to divide a string into equal groups of n characters padded with blank spaces in Java?","body":"<p>Here is one way to do it:</p>\n<pre><code>public static void splitString(String str, int groupSize){\n    char[] arr = str.toCharArray(); // Split the string into character array ①\n    \n    // Iterate over array and print the characters\n    for(int i=0; i&lt;arr.length; i++){\n        // If 'i' is a multiple of 'groupSize' ②\n        if(i &gt; 0 &amp;&amp; i % groupSize == 0){ ③\n            System.out.print(&quot; &quot;); \n        }\n        \n        System.out.print(arr[i]);\n    }\n}\n</code></pre>\n<p>① Split the string into a character array (so that you can access the characters individually). You can also do it using the <code>charAt()</code> method without splitting the string into an array. Read the Javadoc for more details.</p>\n<p>② Check if the loop counter <code>i</code> is a multiple of <code>groupSize</code></p>\n<p>③ Note the use of <code>System.out.print()</code> as we do not want to print a newline. Here you can use a <code>StringBuilder</code> too and print the contents at the end instead of printing the characters inside the loop.</p>\n"}],"owner":{"account_id":27168374,"reputation":1,"user_id":20705497,"display_name":"Ama123ture"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1673324579,"creation_date":1670350213,"question_id":74707261,"body_markdown":"How to create a method that will take imput of a String and an integer n and output the String divided into parts consisting of n characters and separated by a blank space? For example, imput String: &quot;THISISFUN&quot;, integer:3, result: &quot;THI SIS FUN&quot;.\r\n\r\nWhen you answer, can you please really try to explain what each part of the code does? I really want to understand it.\r\n\r\nI tried using StringBuilder and the split() method but the problem is that I don&#39;t understand how all of that works. Therefore, I ended up kind of thoughtlessly pasting parts of codes from different online articles which doesn&#39;t work the best if you want to actually learn something, especially if you simply cannot find any posts about a specific issue. I could only find things like: &quot;how to divide the String into n parts&quot; and &quot;how to ad a space after a specific char&quot; which are sort of similar issues but not the same.","title":"How to divide a string into equal groups of n characters padded with blank spaces in Java?","body":"<p>How to create a method that will take imput of a String and an integer n and output the String divided into parts consisting of n characters and separated by a blank space? For example, imput String: &quot;THISISFUN&quot;, integer:3, result: &quot;THI SIS FUN&quot;.</p>\n<p>When you answer, can you please really try to explain what each part of the code does? I really want to understand it.</p>\n<p>I tried using StringBuilder and the split() method but the problem is that I don't understand how all of that works. Therefore, I ended up kind of thoughtlessly pasting parts of codes from different online articles which doesn't work the best if you want to actually learn something, especially if you simply cannot find any posts about a specific issue. I could only find things like: &quot;how to divide the String into n parts&quot; and &quot;how to ad a space after a specific char&quot; which are sort of similar issues but not the same.</p>\n"},{"tags":["java","recursion","data-structures"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1673294361,"post_id":75062308,"comment_id":132462465,"body_markdown":"Don&#39;t add the empty string to the list in `helper`. Just return `ans` without adding anything to it.","body":"Don&#39;t add the empty string to the list in <code>helper</code>. Just return <code>ans</code> without adding anything to it."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673294575,"post_id":75062308,"comment_id":132462524,"body_markdown":"The only part of the image that&#39;s relevant to your question was the bit which showed what the output should be, if the input is an empty string.  But that was the one part that you chopped off, and replaced with the weather forecast.  Why?","body":"The only part of the image that&#39;s relevant to your question was the bit which showed what the output should be, if the input is an empty string.  But that was the one part that you chopped off, and replaced with the weather forecast.  Why?"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1673295006,"post_id":75062308,"comment_id":132462625,"body_markdown":"`return List.of()`","body":"<code>return List.of()</code>"},{"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"score":0,"creation_date":1673295239,"post_id":75062308,"comment_id":132462690,"body_markdown":"Issue is reolved when I added this block of code in letterCombinations() method.\n```        if(digits.length()==0){\n            List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n            return ans;\n        }```","body":"Issue is reolved when I added this block of code in letterCombinations() method. ```        if(digits.length()==0){             List&lt;String&gt; ans=new ArrayList&lt;&gt;();             return ans;         }```"}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1673295527,"post_id":75062495,"comment_id":132462763,"body_markdown":"It&#39;s very hard to notice what you changed (and why you did it). Please [edit](https://stackoverflow.com/posts/75062495/edit) your answer and add a short explanation.","body":"It&#39;s very hard to notice what you changed (and why you did it). Please <a href=\"https://stackoverflow.com/posts/75062495/edit\">edit</a> your answer and add a short explanation."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673301510,"post_id":75062495,"comment_id":132464388,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75062495/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"score":0,"creation_date":1673324611,"post_id":75062495,"comment_id":132467743,"body_markdown":"Done. @FedericoklezCulloca is it okay now?","body":"Done. @FedericoklezCulloca is it okay now?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1673337726,"post_id":75062495,"comment_id":132470235,"body_markdown":"@Shubham yes, it&#39;s fine now","body":"@Shubham yes, it&#39;s fine now"}],"tags":[],"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673324543,"creation_date":1673295458,"answer_id":75062495,"question_id":75062308,"body_markdown":"Added this block of code now it&#39;s working\r\n\r\n    if(digits.length()==0){\r\n        List&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n        return ans;\r\n    }\r\n\r\nThe above block of code is added letterCombinations function which will return empty array list if the String provided by user is empty as required.\r\n\r\n\r\n    import java.util.*;\r\n    class Solution {\r\n        public List&lt;String&gt; letterCombinations(String digits) {\r\n            if(digits.length()==0){\r\n                List&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n                return ans;\r\n            }\r\n            String mapping[]={&quot;&quot;,&quot;&quot;,&quot;abc&quot;,&quot;def&quot;,&quot;ghi&quot;,&quot;jkl&quot;,&quot;mno&quot;,&quot;pqrs&quot;,&quot;tuv&quot;,&quot;wxyz&quot;};\r\n            int num=0;\r\n            try{\r\n            num=Integer.parseInt(digits);\r\n            } catch(NumberFormatException ex){\r\n                System.out.print(&quot;error&quot;);\r\n            }\r\n            List&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n            ans = helper(num,mapping);\r\n            return ans;\r\n        }\r\n        public List&lt;String&gt; helper(int num, String mapping[]){\r\n            if(num&lt;=0){\r\n                List&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n                ans.add(&quot;&quot;);\r\n                return ans;\r\n            }\r\n            List&lt;String&gt; smallAns=new ArrayList&lt;&gt;();\r\n            int myNum=num%10;\r\n            smallAns=helper(num/10, mapping);\r\n            String s=mapping[myNum];\r\n            List&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n            ans=appendStr(s, smallAns);\r\n            return ans;\r\n        }\r\n        public List&lt;String&gt; appendStr(String s, List&lt;String&gt; res){\r\n            List&lt;String&gt; out=new ArrayList&lt;&gt;();\r\n            int l=s.length();\r\n            int i=0;\r\n            while(i&lt;l){\r\n                for(int j=0;j&lt;res.size();j++){\r\n                    String toAdd=res.get(j)+s.charAt(i);\r\n                    out.add(toAdd);\r\n                }\r\n                i++;\r\n            }\r\n            return out;\r\n        }\r\n    }\r\n","title":"Letter Combinations of a Phone Number Everything is correct except 1 test where input is just &quot;&quot;","body":"<p>Added this block of code now it's working</p>\n<pre><code>if(digits.length()==0){\n    List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n    return ans;\n}\n</code></pre>\n<p>The above block of code is added letterCombinations function which will return empty array list if the String provided by user is empty as required.</p>\n<pre><code>import java.util.*;\nclass Solution {\n    public List&lt;String&gt; letterCombinations(String digits) {\n        if(digits.length()==0){\n            List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n            return ans;\n        }\n        String mapping[]={&quot;&quot;,&quot;&quot;,&quot;abc&quot;,&quot;def&quot;,&quot;ghi&quot;,&quot;jkl&quot;,&quot;mno&quot;,&quot;pqrs&quot;,&quot;tuv&quot;,&quot;wxyz&quot;};\n        int num=0;\n        try{\n        num=Integer.parseInt(digits);\n        } catch(NumberFormatException ex){\n            System.out.print(&quot;error&quot;);\n        }\n        List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n        ans = helper(num,mapping);\n        return ans;\n    }\n    public List&lt;String&gt; helper(int num, String mapping[]){\n        if(num&lt;=0){\n            List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n            ans.add(&quot;&quot;);\n            return ans;\n        }\n        List&lt;String&gt; smallAns=new ArrayList&lt;&gt;();\n        int myNum=num%10;\n        smallAns=helper(num/10, mapping);\n        String s=mapping[myNum];\n        List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n        ans=appendStr(s, smallAns);\n        return ans;\n    }\n    public List&lt;String&gt; appendStr(String s, List&lt;String&gt; res){\n        List&lt;String&gt; out=new ArrayList&lt;&gt;();\n        int l=s.length();\n        int i=0;\n        while(i&lt;l){\n            for(int j=0;j&lt;res.size();j++){\n                String toAdd=res.get(j)+s.charAt(i);\n                out.add(toAdd);\n            }\n            i++;\n        }\n        return out;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25775055,"reputation":25,"user_id":19522090,"display_name":"Shubham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75062495,"answer_count":1,"score":-2,"last_activity_date":1673324543,"creation_date":1673294177,"question_id":75062308,"body_markdown":"[![Failes test case SS][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/phC32.png\r\n\r\nI have returned an empty String but the desired output shows I should return nothing.\r\nHow can I return nothing?\r\nPls, refer to the attached image, you&#39;ll understand the question.\r\n\r\nBelow I am adding my code pls tell me which part I can improve-\r\n\r\n    import java.util.*;\r\n    class Solution {\r\n        public List&lt;String&gt; letterCombinations(String digits) {\r\n            String mapping[]={&quot;&quot;,&quot;&quot;,&quot;abc&quot;,&quot;def&quot;,&quot;ghi&quot;,&quot;jkl&quot;,&quot;mno&quot;,&quot;pqrs&quot;,&quot;tuv&quot;,&quot;wxyz&quot;};\r\n            int num=0;\r\n            try{\r\n            num=Integer.parseInt(digits);\r\n            } catch(NumberFormatException ex){ // handle your exception\r\n                System.out.print(&quot;error&quot;);\r\n            }\r\n            List&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n            // List&lt;String&gt; res=new ArrayList&lt;&gt;();\r\n            ans = helper(num,mapping);\r\n            return ans;\r\n        }\r\n        public List&lt;String&gt; helper(int num, String mapping[]){\r\n            if(num&lt;=0){\r\n                List&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n                ans.add(&quot;&quot;);\r\n                return ans;\r\n            }\r\n            List&lt;String&gt; smallAns=new ArrayList&lt;&gt;();\r\n            int myNum=num%10;\r\n            smallAns=helper(num/10, mapping);\r\n            String s=mapping[myNum];\r\n            List&lt;String&gt; ans=new ArrayList&lt;&gt;();\r\n            ans=appendStr(s, smallAns);\r\n            return ans;\r\n        }\r\n        public List&lt;String&gt; appendStr(String s, List&lt;String&gt; res){\r\n            List&lt;String&gt; out=new ArrayList&lt;&gt;();\r\n            int l=s.length();\r\n            int i=0;\r\n            while(i&lt;l){\r\n                for(int j=0;j&lt;res.size();j++){\r\n                    String toAdd=res.get(j)+s.charAt(i);\r\n                    out.add(toAdd);\r\n                }\r\n                i++;\r\n            }\r\n            return out;\r\n        }\r\n    }","title":"Letter Combinations of a Phone Number Everything is correct except 1 test where input is just &quot;&quot;","body":"<p><a href=\"https://i.stack.imgur.com/phC32.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/phC32.png\" alt=\"Failes test case SS\" /></a></p>\n<p>I have returned an empty String but the desired output shows I should return nothing.\nHow can I return nothing?\nPls, refer to the attached image, you'll understand the question.</p>\n<p>Below I am adding my code pls tell me which part I can improve-</p>\n<pre><code>import java.util.*;\nclass Solution {\n    public List&lt;String&gt; letterCombinations(String digits) {\n        String mapping[]={&quot;&quot;,&quot;&quot;,&quot;abc&quot;,&quot;def&quot;,&quot;ghi&quot;,&quot;jkl&quot;,&quot;mno&quot;,&quot;pqrs&quot;,&quot;tuv&quot;,&quot;wxyz&quot;};\n        int num=0;\n        try{\n        num=Integer.parseInt(digits);\n        } catch(NumberFormatException ex){ // handle your exception\n            System.out.print(&quot;error&quot;);\n        }\n        List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n        // List&lt;String&gt; res=new ArrayList&lt;&gt;();\n        ans = helper(num,mapping);\n        return ans;\n    }\n    public List&lt;String&gt; helper(int num, String mapping[]){\n        if(num&lt;=0){\n            List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n            ans.add(&quot;&quot;);\n            return ans;\n        }\n        List&lt;String&gt; smallAns=new ArrayList&lt;&gt;();\n        int myNum=num%10;\n        smallAns=helper(num/10, mapping);\n        String s=mapping[myNum];\n        List&lt;String&gt; ans=new ArrayList&lt;&gt;();\n        ans=appendStr(s, smallAns);\n        return ans;\n    }\n    public List&lt;String&gt; appendStr(String s, List&lt;String&gt; res){\n        List&lt;String&gt; out=new ArrayList&lt;&gt;();\n        int l=s.length();\n        int i=0;\n        while(i&lt;l){\n            for(int j=0;j&lt;res.size();j++){\n                String toAdd=res.get(j)+s.charAt(i);\n                out.add(toAdd);\n            }\n            i++;\n        }\n        return out;\n    }\n}\n</code></pre>\n"},{"tags":["java","hadoop","junit","mockito","mapreduce"],"answers":[{"comments":[{"owner":{"account_id":1509295,"reputation":3758,"user_id":1411812,"accept_rate":63,"display_name":"Vinod Jayachandran"},"score":0,"creation_date":1529469088,"post_id":47704029,"comment_id":88878319,"body_markdown":"What is mockCounter in the above example ?","body":"What is mockCounter in the above example ?"},{"owner":{"account_id":7186340,"reputation":767,"user_id":5488173,"display_name":"Neha Kumari"},"score":0,"creation_date":1530189151,"post_id":47704029,"comment_id":89154382,"body_markdown":"@VinodJayachandran thanks for pointing out. I actually missed that , have added now. mockCounter is actually a mocked Hadoop counter which we use validate how many times a particular counter in a mapper/reducer should have been incremented.","body":"@VinodJayachandran thanks for pointing out. I actually missed that , have added now. mockCounter is actually a mocked Hadoop counter which we use validate how many times a particular counter in a mapper/reducer should have been incremented."},{"owner":{"account_id":231391,"reputation":6221,"user_id":495598,"display_name":"Manu Manjunath"},"score":1,"creation_date":1546952373,"post_id":47704029,"comment_id":95016588,"body_markdown":"A good acceptable example would have been one in which the data written using `context.write` is used for asserts. That is core part of testing a MapReduce job.","body":"A good acceptable example would have been one in which the data written using <code>context.write</code> is used for asserts. That is core part of testing a MapReduce job."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673324564,"post_id":47704029,"comment_id":132467734,"body_markdown":"@Manu You would need to use `@Spy` on the Context first so that it actually writes, but then you get the output from the configured FileOutputFormat path...","body":"@Manu You would need to use <code>@Spy</code> on the Context first so that it actually writes, but then you get the output from the configured FileOutputFormat path..."}],"tags":[],"owner":{"account_id":7186340,"reputation":767,"user_id":5488173,"display_name":"Neha Kumari"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1530189012,"creation_date":1512681850,"answer_id":47704029,"question_id":47701421,"body_markdown":"I am providing a sample test class here for mapper. Test for reducer can also be written in same fashion. \r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class SampleMapperTest {\r\n    \r\n        @Mock\r\n        private Mapper.Context mockContext; // declare your mocks\r\n        \r\n        @Mock\r\n        Counter mockCounter; // mocked hadoop counter\r\n    \r\n        SampleMapper mapper;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n           /*\r\n            * mock and define your components here\r\n            */\r\n            mapper = new SampleMapper();\r\n            doNothing().when(mockCounter).increment(anyLong());\r\n        }\r\n    \r\n        @Test\r\n        public void testMap() throws IOException, InterruptedException {\r\n           /*\r\n            * whatever you want to test you can write here in the verify statement\r\n            */\r\n            String line1 = &quot;key_value&quot;;\r\n            mapper.map(null, new Text(line1), mockContext);\r\n            verify(mockCounter, times(1)).increment(1);\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() throws Exception {\r\n           /*\r\n            * this will do the clean up part\r\n            */\r\n            verifyNoMoreInteractions(mockContext);\r\n        }\r\n    }\r\n\r\nI hope you get some insight from this and should be able to write your test now.","title":"Unit Test MapReduce - Junit Mockito","body":"<p>I am providing a sample test class here for mapper. Test for reducer can also be written in same fashion. </p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class SampleMapperTest {\n\n    @Mock\n    private Mapper.Context mockContext; // declare your mocks\n\n    @Mock\n    Counter mockCounter; // mocked hadoop counter\n\n    SampleMapper mapper;\n\n    @Before\n    public void setUp() throws Exception {\n       /*\n        * mock and define your components here\n        */\n        mapper = new SampleMapper();\n        doNothing().when(mockCounter).increment(anyLong());\n    }\n\n    @Test\n    public void testMap() throws IOException, InterruptedException {\n       /*\n        * whatever you want to test you can write here in the verify statement\n        */\n        String line1 = \"key_value\";\n        mapper.map(null, new Text(line1), mockContext);\n        verify(mockCounter, times(1)).increment(1);\n    }\n\n    @After\n    public void tearDown() throws Exception {\n       /*\n        * this will do the clean up part\n        */\n        verifyNoMoreInteractions(mockContext);\n    }\n}\n</code></pre>\n\n<p>I hope you get some insight from this and should be able to write your test now.</p>\n"}],"owner":{"account_id":6093444,"reputation":989,"user_id":4755028,"accept_rate":46,"display_name":"Aavik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47704029,"answer_count":1,"score":1,"last_activity_date":1673324469,"creation_date":1512670938,"question_id":47701421,"body_markdown":"I am new to writing test cases for Map Reduce and as I googled, I understood that MRUnit is deprecated and have to use Mockito. Could someone provide inspiration on testing mapreduce with Junit mockito as I couldn&#39;t find one. I could only see MRUnit test cases for mapreduce.\r\n\r\n\r\n","title":"Unit Test MapReduce - Junit Mockito","body":"<p>I am new to writing test cases for Map Reduce and as I googled, I understood that MRUnit is deprecated and have to use Mockito. Could someone provide inspiration on testing mapreduce with Junit mockito as I couldn't find one. I could only see MRUnit test cases for mapreduce.</p>\n"},{"tags":["java","algorithm","matrix","breadth-first-search"],"answers":[{"comments":[{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1673327293,"post_id":75065427,"comment_id":132468071,"body_markdown":"Using a new field called &#39;visited&#39; and only enqueueing when false, I get a correct path but only down / right moves. so if the map requires up or left turns, i get back into the loop.","body":"Using a new field called &#39;visited&#39; and only enqueueing when false, I get a correct path but only down / right moves. so if the map requires up or left turns, i get back into the loop."},{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1673331749,"post_id":75065427,"comment_id":132468808,"body_markdown":"@beatmaister why would the path require you to get back in the loop?","body":"@beatmaister why would the path require you to get back in the loop?"},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1673332927,"post_id":75065427,"comment_id":132469035,"body_markdown":"For some reason the build-in visited field just worked out that way, but I just tried the same thing using a HashMap&lt;&gt; to store coordinate strings which is O(1) lookup anyway, so now it works. Thanks for the help.","body":"For some reason the build-in visited field just worked out that way, but I just tried the same thing using a HashMap&lt;&gt; to store coordinate strings which is O(1) lookup anyway, so now it works. Thanks for the help."},{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1673335196,"post_id":75065427,"comment_id":132469567,"body_markdown":"@beatmaister a &quot;built-in&quot; visited field might not have been working since you&#39;re creating a new `Box` node each time (which could have led to an incorrect implementation). Since this answer solves your issue, consider marking it as accepted.","body":"@beatmaister a &quot;built-in&quot; visited field might not have been working since you&#39;re creating a new <code>Box</code> node each time (which could have led to an incorrect implementation). Since this answer solves your issue, consider marking it as accepted."}],"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673324240,"creation_date":1673324240,"answer_id":75065427,"question_id":75065402,"body_markdown":"You&#39;ll need to keep a track of the visited nodes. \r\n\r\n`0,0` will queue `0,1`, `0,1` will queue `0,0` again, and this will go on indefinitely. As soon as you pop the queue, mark the node as visited. While queueing neighbours for a root, don&#39;t enqueue the visited ones.","title":"BFS through matrix maze stuck in loop","body":"<p>You'll need to keep a track of the visited nodes.</p>\n<p><code>0,0</code> will queue <code>0,1</code>, <code>0,1</code> will queue <code>0,0</code> again, and this will go on indefinitely. As soon as you pop the queue, mark the node as visited. While queueing neighbours for a root, don't enqueue the visited ones.</p>\n"}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75065427,"answer_count":1,"score":2,"last_activity_date":1673324240,"creation_date":1673323972,"question_id":75065402,"body_markdown":"This code finds a path through a binary matrix to a location with &#39;9&#39;.\r\n\r\nEach iteration, dequeues a root and checks if all children are in bound and contain  &#39;0&#39;. If so, that child is added to the queue.\r\n\r\nEach que element &#39;Box&#39; has a parent, which will give the path if followed once the target is reached.\r\n\r\nThe code gets stuck because the que somehow just increases in size and is never empty. Am I missing something?\r\n\r\n    public static Queue&lt;Box&gt; q = new LinkedList&lt;Box&gt;();\r\n        public static void searchPath(int[][] maze, int x, int y, ArrayList&lt;Integer&gt; path) {\r\n            q.add(new Box(x,y,null));\r\n    \r\n            while(!q.isEmpty()) {\r\n                Box p = q.poll();\r\n    \r\n                if (maze[p.y][p.x] == 9) {\r\n                    System.out.println(&quot;Exit is reached!&quot;);\r\n                    getPath(p, maze, path);\r\n                    return;\r\n                }\r\n    \r\n                if(isFree(maze, p.x+1,p.y)) {             \r\n                    Box nextP= new Box(p.x+1,p.y,p);\r\n                    q.add(nextP);\r\n                }\r\n    \r\n                if(isFree(maze, p.x-1,p.y)) {               \r\n                    Box nextP= new Box(p.x-1,p.y,p);\r\n                    q.add(nextP);\r\n                }\r\n    \r\n                if(isFree(maze, p.x,p.y+1)) {               \r\n                    Box nextP= new Box(p.x,p.y+1,p);\r\n                    q.add(nextP);\r\n                }\r\n    \r\n                if(isFree(maze, p.x,p.y-1)) {\r\n                    Box nextP= new Box(p.x,p.y-1,p);\r\n                    q.add(nextP);\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        public static boolean isFree(int[][] maze, int x, int y) {\r\n            if((x &gt;= 0 &amp;&amp; x &lt; maze.length) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; maze[x].length) &amp;&amp; (maze[y][x] == 2 || maze[y][x] == 0 || maze[y][x] == 9)) {\r\n                return true;\r\n            }\r\n            return false;\r\n            \r\n                \r\n        }\r\n    \r\n        public static ArrayList&lt;Integer&gt; getPath(Box node, int[][] maze, ArrayList&lt;Integer&gt; path){\r\n            while(node!=null){\r\n                path.add(node.x);\r\n                path.add(node.y);\r\n                maze[node.y][node.x] = 2;\r\n                node = node.parent;\r\n            }\r\n            return path;\r\n        }","title":"BFS through matrix maze stuck in loop","body":"<p>This code finds a path through a binary matrix to a location with '9'.</p>\n<p>Each iteration, dequeues a root and checks if all children are in bound and contain  '0'. If so, that child is added to the queue.</p>\n<p>Each que element 'Box' has a parent, which will give the path if followed once the target is reached.</p>\n<p>The code gets stuck because the que somehow just increases in size and is never empty. Am I missing something?</p>\n<pre><code>public static Queue&lt;Box&gt; q = new LinkedList&lt;Box&gt;();\n    public static void searchPath(int[][] maze, int x, int y, ArrayList&lt;Integer&gt; path) {\n        q.add(new Box(x,y,null));\n\n        while(!q.isEmpty()) {\n            Box p = q.poll();\n\n            if (maze[p.y][p.x] == 9) {\n                System.out.println(&quot;Exit is reached!&quot;);\n                getPath(p, maze, path);\n                return;\n            }\n\n            if(isFree(maze, p.x+1,p.y)) {             \n                Box nextP= new Box(p.x+1,p.y,p);\n                q.add(nextP);\n            }\n\n            if(isFree(maze, p.x-1,p.y)) {               \n                Box nextP= new Box(p.x-1,p.y,p);\n                q.add(nextP);\n            }\n\n            if(isFree(maze, p.x,p.y+1)) {               \n                Box nextP= new Box(p.x,p.y+1,p);\n                q.add(nextP);\n            }\n\n            if(isFree(maze, p.x,p.y-1)) {\n                Box nextP= new Box(p.x,p.y-1,p);\n                q.add(nextP);\n            }\n        }\n    }\n\n\n    public static boolean isFree(int[][] maze, int x, int y) {\n        if((x &gt;= 0 &amp;&amp; x &lt; maze.length) &amp;&amp; (y &gt;= 0 &amp;&amp; y &lt; maze[x].length) &amp;&amp; (maze[y][x] == 2 || maze[y][x] == 0 || maze[y][x] == 9)) {\n            return true;\n        }\n        return false;\n        \n            \n    }\n\n    public static ArrayList&lt;Integer&gt; getPath(Box node, int[][] maze, ArrayList&lt;Integer&gt; path){\n        while(node!=null){\n            path.add(node.x);\n            path.add(node.y);\n            maze[node.y][node.x] = 2;\n            node = node.parent;\n        }\n        return path;\n    }\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"comments":[{"owner":{"account_id":20738748,"reputation":249,"user_id":15228973,"display_name":"Ken Masters"},"score":0,"creation_date":1673323993,"post_id":75058006,"comment_id":132467663,"body_markdown":"it would be best if I can run and debug the MapReduce job on my local filesystem. I have edited my question above. Can you check and elaborate more on how this can be done ?","body":"it would be best if I can run and debug the MapReduce job on my local filesystem. I have edited my question above. Can you check and elaborate more on how this can be done ?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1673324061,"post_id":75058006,"comment_id":132467670,"body_markdown":"I run this code all locally, and I vaugely recall that I can set breakpoints - https://github.com/OneCricketeer/mapreduce-sandbox#mapreduce-sandbox ; I&#39;m sure you can search how to use Junit with mapreduce code, as well.","body":"I run this code all locally, and I vaugely recall that I can set breakpoints - <a href=\"https://github.com/OneCricketeer/mapreduce-sandbox#mapreduce-sandbox\" rel=\"nofollow noreferrer\">github.com/OneCricketeer/mapreduce-sandbox#mapreduce-sandbox</a> ; I&#39;m sure you can search how to use Junit with mapreduce code, as well."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673324121,"post_id":75058006,"comment_id":132467680,"body_markdown":"But 1) You need `winutils` installed on Windows for running any Hadoop code 2) You need to pass arguments to the main class, and/or hard-code your FileInputFormat paths","body":"But 1) You need <code>winutils</code> installed on Windows for running any Hadoop code 2) You need to pass arguments to the main class, and/or hard-code your FileInputFormat paths"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1673325091,"post_id":75058006,"comment_id":132467803,"body_markdown":"@KenMasters [Hadoop source code has unit tests](https://github.com/apache/hadoop/blob/trunk/hadoop-mapreduce-project/hadoop-mapreduce-examples/src/test/java/org/apache/hadoop/examples/TestAggregateWordCount.java)","body":"@KenMasters <a href=\"https://github.com/apache/hadoop/blob/trunk/hadoop-mapreduce-project/hadoop-mapreduce-examples/src/test/java/org/apache/hadoop/examples/TestAggregateWordCount.java\" rel=\"nofollow noreferrer\">Hadoop source code has unit tests</a>"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673324203,"creation_date":1673271008,"answer_id":75058006,"question_id":75053178,"body_markdown":"You can set breakpoints in code from an IDE. You don&#39;t even need a real hadoop cluster. The code will run the same in local filesystem.\r\n\r\nOtherwise, you can write unit tests, as well. For instance, your json parsing function, looks like it can return null values on exception, then you continue adding null values into your mapper output... You also don&#39;t need to convert a list to an array just to create a json array \r\n\r\nYour main method for mapreduce for a Job driver application is what you&#39;d start in a debugger. \r\n\r\n&gt; can not simulate how the mapper pass its output to the FacebookFriendsReducer\r\n\r\nThe parameters are given like a `GROUP BY key` operation. Your value is an iterable of arrays, so you need to loop over them.\r\n\r\nNot clear what your reducer needs to output, so the output types might not be correct ","title":"How to debug and test MapReduce on local Window machine?","body":"<p>You can set breakpoints in code from an IDE. You don't even need a real hadoop cluster. The code will run the same in local filesystem.</p>\n<p>Otherwise, you can write unit tests, as well. For instance, your json parsing function, looks like it can return null values on exception, then you continue adding null values into your mapper output... You also don't need to convert a list to an array just to create a json array</p>\n<p>Your main method for mapreduce for a Job driver application is what you'd start in a debugger.</p>\n<blockquote>\n<p>can not simulate how the mapper pass its output to the FacebookFriendsReducer</p>\n</blockquote>\n<p>The parameters are given like a <code>GROUP BY key</code> operation. Your value is an iterable of arrays, so you need to loop over them.</p>\n<p>Not clear what your reducer needs to output, so the output types might not be correct</p>\n"}],"owner":{"account_id":20738748,"reputation":249,"user_id":15228973,"display_name":"Ken Masters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673324203,"creation_date":1673238407,"question_id":75053178,"body_markdown":"I have found that debugging and testing a MapReduce project challenging. \r\n\r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.LongWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Mapper;\r\n    import org.apache.log4j.Logger;\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    \r\n    import writables.Friend;\r\n    import writables.FriendArray;\r\n    import writables.FriendPair;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.StringTokenizer;\r\n    \r\n    public class FacebookFriendsMapper extends Mapper&lt;LongWritable, Text, FriendPair, FriendArray&gt; {\r\n    \r\n        @Override\r\n        public void map(LongWritable key, Text value, Context context)\r\n                throws IOException, InterruptedException {\r\n    \r\n            Logger log = Logger.getLogger(FacebookFriendsMapper.class);\r\n    \r\n            StringTokenizer st = new StringTokenizer(value.toString(), &quot;\\t&quot;);\r\n            String person = st.nextToken();\r\n            String friends = st.nextToken();\r\n    \r\n            Friend f1 = populateFriend(person);\r\n            List&lt;Friend&gt; friendList = populateFriendList(friends);\r\n            Friend[] friendArray = Arrays.copyOf(friendList.toArray(), friendList.toArray().length, Friend[].class);\r\n            FriendArray farray = new FriendArray(Friend.class, friendArray);\r\n    \r\n            for(Friend f2 : friendList) {\r\n                FriendPair fpair = new FriendPair(f1, f2);\r\n                context.write(fpair, farray);\r\n                log.info(fpair+&quot;......&quot;+ farray);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        private Friend populateFriend(String friendJson) {\r\n    \r\n    \r\n            JSONParser parser = new JSONParser();\r\n            Friend friend = null;\r\n            try {\r\n    \r\n                Object obj = (Object)parser.parse(friendJson);\r\n                JSONObject jsonObject = (JSONObject) obj;\r\n    \r\n                Long lid = (long)jsonObject.get(&quot;id&quot;);\r\n                IntWritable id = new IntWritable(lid.intValue());\r\n                Text name = new Text((String)jsonObject.get(&quot;name&quot;));\r\n                Text hometown = new Text((String)jsonObject.get(&quot;hometown&quot;));\r\n                friend = new Friend(id, name, hometown);\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return friend;\r\n        }\r\n    \r\n        private List&lt;Friend&gt; populateFriendList(String friendsJson) {\r\n    \r\n            List&lt;Friend&gt; friendList = new ArrayList&lt;Friend&gt;();\r\n    \r\n            try {\r\n                JSONParser parser = new JSONParser();\r\n                Object obj = (Object)parser.parse(friendsJson.toString());\r\n                JSONArray jsonarray = (JSONArray) obj;\r\n    \r\n                for(Object jobj : jsonarray) {\r\n                    JSONObject entry = (JSONObject)jobj;\r\n                    Long lid = (long)entry.get(&quot;id&quot;);\r\n                    IntWritable id = new IntWritable(lid.intValue());\r\n                    Text name = new Text((String)entry.get(&quot;name&quot;));\r\n                    Text hometown = new Text((String)entry.get(&quot;hometown&quot;));\r\n                    Friend friend = new Friend(id, name, hometown);\r\n                    friendList.add(friend);\r\n                }\r\n            } catch (ParseException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return friendList;\r\n        }\r\n    \r\n    }\r\n\r\nFor debugging and testing, I usually get the script above and put it inside a `public static void main(String[] args)` in another testing class and run in debug mode of Intellij IDEA with reading a sample data from the local filesystem. Hence, I am pretty sure that the mapper&#39;s logic is correct.  \r\nAbout the reducer script, I am not sure in details that how the mapper pass its outputs to reducer. I checked the sample Reducer scripts during my research and came up with the initial version of my reducers as below:\r\n\r\n    public class FacebookFriendsReducer extends \r\n    \tReducer&lt;FriendPair, FriendArray, FriendPair, FriendArray&gt; {\r\n    \t\r\n    \t@Override\r\n    \tpublic void reduce(FriendPair key, Iterable&lt;FriendArray&gt; values, Context context)\r\n    \t\t\t\t\tthrows IOException, InterruptedException {\r\n    \t\t\r\n    \t\t}\r\n    }\r\n\r\nThis is where I can not proceed further as I can not simulate how the mapper pass its output to the `FacebookFriendsReducer` and the `reduce` method. My current approach for debugging is to write the reducer logic in a `public static void main(String[] args)` and then running it in debug mode in the process before putting to its reducer class. \r\n\r\nCan someone help me how to pass the correct output of the mapper into the reducer so that I can further work on the logic ?\r\nIf you have a better alternative for debugging and testing MapReduce on a Local window machine before packaging it into a jar file and shipping it to Hadoop cluster, please let me know.\r\n\r\n**Edit for @OneCricketeer&#39;s answer:**\r\n\r\nYou can check the Driver (main class) as below:\r\n\r\n    public class FacebookFriendsDriver extends Configured implements Tool {\r\n    \r\n        @Override\r\n        public int run(String[] args) throws Exception {\r\n    \r\n            String inputPath = &quot;E:\\\\sampleInputPath\\\\inputFile&quot;;\r\n            String outputPath = &quot;E:\\\\sampleOutputPath\\\\outputFile&quot;;\r\n    \r\n    //        if (args.length != 2) {\r\n    //            System.err.println(&quot;Usage: fberature &lt;input path&gt; &lt;output path&gt;&quot;);\r\n    //            System.exit(-1);\r\n    //        }\r\n    \r\n            //Job Setup\r\n            Job fb = Job.getInstance(getConf(), &quot;facebook-friends&quot;);\r\n    \r\n            fb.setJarByClass(FacebookFriendsDriver.class);\r\n    \r\n    \r\n            //File Input and Output format\r\n            FileInputFormat.addInputPath(fb, new Path(inputPath));\r\n            FileOutputFormat.setOutputPath(fb, new Path(outputPath));\r\n    \r\n            fb.setInputFormatClass(TextInputFormat.class);\r\n            fb.setOutputFormatClass(SequenceFileOutputFormat.class);\r\n    \r\n            //Mapper-Reducer-Combiner specifications\r\n            fb.setMapperClass(FacebookFriendsMapper.class);\r\n            fb.setReducerClass(FacebookFriendsReducer.class);\r\n    \r\n            fb.setMapOutputKeyClass(FriendPair.class);\r\n            fb.setMapOutputValueClass(FriendArray.class);\r\n    \r\n            //Output key and value\r\n            fb.setOutputKeyClass(FriendPair.class);\r\n            fb.setOutputValueClass(FriendArray.class);\r\n    \r\n            //Submit job\r\n            return fb.waitForCompletion(true) ? 0 : 1;\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            int exitCode = ToolRunner.run(new FacebookFriendsDriver(), args);\r\n            System.exit(exitCode);\r\n        }\r\n    \r\n    }\r\n\r\nThe sample Driver class above which I created based on other MapReduce job existing in our system. But I can not make it work on my Local Window Machine with the error below:\r\n\r\n    Connected to the target VM, address: &#39;127.0.0.1:59143&#39;, transport: &#39;socket&#39;\r\n    23/01/10 10:52:22 ERROR util.Shell: Failed to locate the winutils binary in the hadoop binary path\r\n    java.io.IOException: Could not locate executable null\\bin\\winutils.exe in the Hadoop binaries.\r\n    \tat org.apache.hadoop.util.Shell.getQualifiedBinPath(Shell.java:324)\r\n    \tat org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:339)\r\n    \tat org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:332)\r\n    \tat org.apache.hadoop.util.GenericOptionsParser.preProcessForWindows(GenericOptionsParser.java:431)\r\n    \tat org.apache.hadoop.util.GenericOptionsParser.parseGeneralOptions(GenericOptionsParser.java:477)\r\n    \tat org.apache.hadoop.util.GenericOptionsParser.&lt;init&gt;(GenericOptionsParser.java:171)\r\n    \tat org.apache.hadoop.util.GenericOptionsParser.&lt;init&gt;(GenericOptionsParser.java:154)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:64)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:84)\r\n    \tat FacebookFriendsDriver.main(FacebookFriendsDriver.java:60)\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/C:/Users/Holyken/.m2/repository/org/apache/hadoop/hadoop-auth/2.3.0-cdh5.1.0/hadoop-auth-2.3.0-cdh5.1.0.jar) to method sun.security.krb5.Config.getInstance()\r\n    WARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    23/01/10 10:52:23 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    23/01/10 10:52:23 INFO Configuration.deprecation: session.id is deprecated. Instead, use dfs.metrics.session-id\r\n    23/01/10 10:52:23 INFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1090)\r\n    \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n    \tat org.apache.hadoop.util.Shell.runCommand(Shell.java:451)\r\n    \tat org.apache.hadoop.util.Shell.run(Shell.java:424)\r\n    \tat org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:656)\r\n    \tat org.apache.hadoop.util.Shell.execCommand(Shell.java:745)\r\n    \tat org.apache.hadoop.util.Shell.execCommand(Shell.java:728)\r\n    \tat org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:633)\r\n    \tat org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:421)\r\n    \tat org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:281)\r\n    \tat org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:126)\r\n    \tat org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:982)\r\n    \tat org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:976)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.base/javax.security.auth.Subject.doAs(Subject.java:423)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1554)\r\n    \tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:976)\r\n    \tat org.apache.hadoop.mapreduce.Job.submit(Job.java:582)\r\n    \tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:612)\r\n    \tat FacebookFriendsDriver.run(FacebookFriendsDriver.java:54)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:84)\r\n    \tat FacebookFriendsDriver.main(FacebookFriendsDriver.java:60)\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:59143&#39;, transport: &#39;socket&#39;\r\n\r\nCan you elaborate more about how I can run MapReduce job on my local filesystem ?\r\n\r\n","title":"How to debug and test MapReduce on local Window machine?","body":"<p>I have found that debugging and testing a MapReduce project challenging.</p>\n<pre><code>import org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Mapper;\nimport org.apache.log4j.Logger;\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\nimport writables.Friend;\nimport writables.FriendArray;\nimport writables.FriendPair;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.StringTokenizer;\n\npublic class FacebookFriendsMapper extends Mapper&lt;LongWritable, Text, FriendPair, FriendArray&gt; {\n\n    @Override\n    public void map(LongWritable key, Text value, Context context)\n            throws IOException, InterruptedException {\n\n        Logger log = Logger.getLogger(FacebookFriendsMapper.class);\n\n        StringTokenizer st = new StringTokenizer(value.toString(), &quot;\\t&quot;);\n        String person = st.nextToken();\n        String friends = st.nextToken();\n\n        Friend f1 = populateFriend(person);\n        List&lt;Friend&gt; friendList = populateFriendList(friends);\n        Friend[] friendArray = Arrays.copyOf(friendList.toArray(), friendList.toArray().length, Friend[].class);\n        FriendArray farray = new FriendArray(Friend.class, friendArray);\n\n        for(Friend f2 : friendList) {\n            FriendPair fpair = new FriendPair(f1, f2);\n            context.write(fpair, farray);\n            log.info(fpair+&quot;......&quot;+ farray);\n        }\n\n\n    }\n\n    private Friend populateFriend(String friendJson) {\n\n\n        JSONParser parser = new JSONParser();\n        Friend friend = null;\n        try {\n\n            Object obj = (Object)parser.parse(friendJson);\n            JSONObject jsonObject = (JSONObject) obj;\n\n            Long lid = (long)jsonObject.get(&quot;id&quot;);\n            IntWritable id = new IntWritable(lid.intValue());\n            Text name = new Text((String)jsonObject.get(&quot;name&quot;));\n            Text hometown = new Text((String)jsonObject.get(&quot;hometown&quot;));\n            friend = new Friend(id, name, hometown);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n        return friend;\n    }\n\n    private List&lt;Friend&gt; populateFriendList(String friendsJson) {\n\n        List&lt;Friend&gt; friendList = new ArrayList&lt;Friend&gt;();\n\n        try {\n            JSONParser parser = new JSONParser();\n            Object obj = (Object)parser.parse(friendsJson.toString());\n            JSONArray jsonarray = (JSONArray) obj;\n\n            for(Object jobj : jsonarray) {\n                JSONObject entry = (JSONObject)jobj;\n                Long lid = (long)entry.get(&quot;id&quot;);\n                IntWritable id = new IntWritable(lid.intValue());\n                Text name = new Text((String)entry.get(&quot;name&quot;));\n                Text hometown = new Text((String)entry.get(&quot;hometown&quot;));\n                Friend friend = new Friend(id, name, hometown);\n                friendList.add(friend);\n            }\n        } catch (ParseException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return friendList;\n    }\n\n}\n</code></pre>\n<p>For debugging and testing, I usually get the script above and put it inside a <code>public static void main(String[] args)</code> in another testing class and run in debug mode of Intellij IDEA with reading a sample data from the local filesystem. Hence, I am pretty sure that the mapper's logic is correct.<br />\nAbout the reducer script, I am not sure in details that how the mapper pass its outputs to reducer. I checked the sample Reducer scripts during my research and came up with the initial version of my reducers as below:</p>\n<pre><code>public class FacebookFriendsReducer extends \n    Reducer&lt;FriendPair, FriendArray, FriendPair, FriendArray&gt; {\n    \n    @Override\n    public void reduce(FriendPair key, Iterable&lt;FriendArray&gt; values, Context context)\n                    throws IOException, InterruptedException {\n        \n        }\n}\n</code></pre>\n<p>This is where I can not proceed further as I can not simulate how the mapper pass its output to the <code>FacebookFriendsReducer</code> and the <code>reduce</code> method. My current approach for debugging is to write the reducer logic in a <code>public static void main(String[] args)</code> and then running it in debug mode in the process before putting to its reducer class.</p>\n<p>Can someone help me how to pass the correct output of the mapper into the reducer so that I can further work on the logic ?\nIf you have a better alternative for debugging and testing MapReduce on a Local window machine before packaging it into a jar file and shipping it to Hadoop cluster, please let me know.</p>\n<p><strong>Edit for @OneCricketeer's answer:</strong></p>\n<p>You can check the Driver (main class) as below:</p>\n<pre><code>public class FacebookFriendsDriver extends Configured implements Tool {\n\n    @Override\n    public int run(String[] args) throws Exception {\n\n        String inputPath = &quot;E:\\\\sampleInputPath\\\\inputFile&quot;;\n        String outputPath = &quot;E:\\\\sampleOutputPath\\\\outputFile&quot;;\n\n//        if (args.length != 2) {\n//            System.err.println(&quot;Usage: fberature &lt;input path&gt; &lt;output path&gt;&quot;);\n//            System.exit(-1);\n//        }\n\n        //Job Setup\n        Job fb = Job.getInstance(getConf(), &quot;facebook-friends&quot;);\n\n        fb.setJarByClass(FacebookFriendsDriver.class);\n\n\n        //File Input and Output format\n        FileInputFormat.addInputPath(fb, new Path(inputPath));\n        FileOutputFormat.setOutputPath(fb, new Path(outputPath));\n\n        fb.setInputFormatClass(TextInputFormat.class);\n        fb.setOutputFormatClass(SequenceFileOutputFormat.class);\n\n        //Mapper-Reducer-Combiner specifications\n        fb.setMapperClass(FacebookFriendsMapper.class);\n        fb.setReducerClass(FacebookFriendsReducer.class);\n\n        fb.setMapOutputKeyClass(FriendPair.class);\n        fb.setMapOutputValueClass(FriendArray.class);\n\n        //Output key and value\n        fb.setOutputKeyClass(FriendPair.class);\n        fb.setOutputValueClass(FriendArray.class);\n\n        //Submit job\n        return fb.waitForCompletion(true) ? 0 : 1;\n\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        int exitCode = ToolRunner.run(new FacebookFriendsDriver(), args);\n        System.exit(exitCode);\n    }\n\n}\n</code></pre>\n<p>The sample Driver class above which I created based on other MapReduce job existing in our system. But I can not make it work on my Local Window Machine with the error below:</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:59143', transport: 'socket'\n23/01/10 10:52:22 ERROR util.Shell: Failed to locate the winutils binary in the hadoop binary path\njava.io.IOException: Could not locate executable null\\bin\\winutils.exe in the Hadoop binaries.\n    at org.apache.hadoop.util.Shell.getQualifiedBinPath(Shell.java:324)\n    at org.apache.hadoop.util.Shell.getWinUtilsPath(Shell.java:339)\n    at org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:332)\n    at org.apache.hadoop.util.GenericOptionsParser.preProcessForWindows(GenericOptionsParser.java:431)\n    at org.apache.hadoop.util.GenericOptionsParser.parseGeneralOptions(GenericOptionsParser.java:477)\n    at org.apache.hadoop.util.GenericOptionsParser.&lt;init&gt;(GenericOptionsParser.java:171)\n    at org.apache.hadoop.util.GenericOptionsParser.&lt;init&gt;(GenericOptionsParser.java:154)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:64)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:84)\n    at FacebookFriendsDriver.main(FacebookFriendsDriver.java:60)\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/C:/Users/Holyken/.m2/repository/org/apache/hadoop/hadoop-auth/2.3.0-cdh5.1.0/hadoop-auth-2.3.0-cdh5.1.0.jar) to method sun.security.krb5.Config.getInstance()\nWARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n23/01/10 10:52:23 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/01/10 10:52:23 INFO Configuration.deprecation: session.id is deprecated. Instead, use dfs.metrics.session-id\n23/01/10 10:52:23 INFO jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1090)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n    at org.apache.hadoop.util.Shell.runCommand(Shell.java:451)\n    at org.apache.hadoop.util.Shell.run(Shell.java:424)\n    at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:656)\n    at org.apache.hadoop.util.Shell.execCommand(Shell.java:745)\n    at org.apache.hadoop.util.Shell.execCommand(Shell.java:728)\n    at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:633)\n    at org.apache.hadoop.fs.RawLocalFileSystem.mkdirs(RawLocalFileSystem.java:421)\n    at org.apache.hadoop.fs.FilterFileSystem.mkdirs(FilterFileSystem.java:281)\n    at org.apache.hadoop.mapreduce.JobSubmissionFiles.getStagingDir(JobSubmissionFiles.java:126)\n    at org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:982)\n    at org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:976)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:423)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1554)\n    at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:976)\n    at org.apache.hadoop.mapreduce.Job.submit(Job.java:582)\n    at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:612)\n    at FacebookFriendsDriver.run(FacebookFriendsDriver.java:54)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:84)\n    at FacebookFriendsDriver.main(FacebookFriendsDriver.java:60)\nDisconnected from the target VM, address: '127.0.0.1:59143', transport: 'socket'\n</code></pre>\n<p>Can you elaborate more about how I can run MapReduce job on my local filesystem ?</p>\n"},{"tags":["javascript","java","android"],"comments":[{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":2,"creation_date":1508092722,"post_id":46758341,"comment_id":80462591,"body_markdown":"Possible duplicate of [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":2062591,"reputation":4820,"user_id":1838819,"accept_rate":97,"display_name":"DiskJunky"},"score":0,"creation_date":1508093104,"post_id":46758341,"comment_id":80462729,"body_markdown":"Possible duplicate of [Android - Set text to TextView](https://stackoverflow.com/questions/19452269/android-set-text-to-textview)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/19452269/android-set-text-to-textview\">Android - Set text to TextView</a>"}],"answers":[{"tags":[],"owner":{"account_id":2565865,"reputation":5531,"user_id":2225960,"display_name":"Juan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1508092270,"creation_date":1508091195,"answer_id":46758388,"question_id":46758341,"body_markdown":"You have to instantiate the text view:\r\n\r\n    ImageButton ImageButton3;\r\n    TextView TextView26;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        TextView26 = (TextView) findViewById(R.id.&lt;your text view id&gt;);\r\n    \r\n        ImageButton3.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n    \r\n                TextView26.setText=(&quot;&quot;);\r\n            }\r\n        });","title":"Android Studio Button to clear TextView text","body":"<p>You have to instantiate the text view:</p>\n\n<pre><code>ImageButton ImageButton3;\nTextView TextView26;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    TextView26 = (TextView) findViewById(R.id.&lt;your text view id&gt;);\n\n    ImageButton3.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n\n            TextView26.setText=(\"\");\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9311291,"reputation":2035,"user_id":6913021,"display_name":"HaroldSer"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1508091547,"creation_date":1508091547,"answer_id":46758448,"question_id":46758341,"body_markdown":"You forgot to instantiate your views for ImageButton and TextView.\r\n\r\n    ImageButton ImageButton3;\r\n    TextView TextView26;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        ImageButton3 = (ImageButton) findViewById(R.id.myImgBtnId);\r\n        TextView26 = (TextView) findViewById(R.id.myTvId);\r\n    \r\n        ImageButton3.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n    \r\n                TextView26.text=&quot;&quot;;\r\n            }\r\n        });","title":"Android Studio Button to clear TextView text","body":"<p>You forgot to instantiate your views for ImageButton and TextView.</p>\n\n<pre><code>ImageButton ImageButton3;\nTextView TextView26;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    ImageButton3 = (ImageButton) findViewById(R.id.myImgBtnId);\n    TextView26 = (TextView) findViewById(R.id.myTvId);\n\n    ImageButton3.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n\n            TextView26.text=\"\";\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6839185,"reputation":31,"user_id":5260124,"display_name":"Allen Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508093484,"creation_date":1508093484,"answer_id":46758776,"question_id":46758341,"body_markdown":"I would recommend you to name your variables in camel case.&lt;br/&gt;\r\nAlso if you can choose a more meaningful name it will be better.\r\n\r\nYou gotta find BOTH your views before you can manipulate them in your code.\r\n\r\n    ImageButton imageButton3; //name to clearTextButton?\r\n    TextView textView26; \r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        imageButton3 = (ImageButton) findViewById(R.id.imgButtonId); //replace it with your true id in your xml\r\n        textView26 = (TextView) findViewById(R.id.textViewId);\r\n\r\n        imageButton3.setOnClickListener(new View.OnClickListener() {\r\n        public void onClick(View v) {\r\n            textView26.setText(&quot;&quot;);\r\n        }\r\n    });\r\n","title":"Android Studio Button to clear TextView text","body":"<p>I would recommend you to name your variables in camel case.<br/>\nAlso if you can choose a more meaningful name it will be better.</p>\n\n<p>You gotta find BOTH your views before you can manipulate them in your code.</p>\n\n<pre><code>ImageButton imageButton3; //name to clearTextButton?\nTextView textView26; \n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    imageButton3 = (ImageButton) findViewById(R.id.imgButtonId); //replace it with your true id in your xml\n    textView26 = (TextView) findViewById(R.id.textViewId);\n\n    imageButton3.setOnClickListener(new View.OnClickListener() {\n    public void onClick(View v) {\n        textView26.setText(\"\");\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22683635,"reputation":11,"user_id":16853654,"display_name":"Mr.Janardan Borada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673323767,"creation_date":1659606445,"answer_id":73233740,"question_id":46758341,"body_markdown":"XML is file code \r\n\r\n     &lt;com.google.android.material.textview.MaterialTextView\r\n        android:id=&quot;@+id/tx_demo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Demo World!&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.button.MaterialButton\r\n        android:id=&quot;@+id/btnClear&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Clear text Button&quot; /&gt;\r\n\r\nJava is file code \r\n\r\n        txDemo = findViewById(R.id.tx_demo);\r\n        btnClear = findViewById(R.id.btnClear);\r\n        btnClear.setOnClickListener(v -&gt; {\r\n            txDemo.setText(&quot;&quot;);\r\n        });\r\n\r\nOR\r\n\r\n        txDemo = findViewById(R.id.tx_demo)\r\n        btnClear = findViewById&lt;MaterialButton&gt;(R.id.btnClear)\r\n        btnClear.setOnClickListener(View.OnClickListener { v: View? -&gt;\r\n            txDemo!!.text = &quot;&quot;\r\n        })","title":"Android Studio Button to clear TextView text","body":"<p>XML is file code</p>\n<pre><code> &lt;com.google.android.material.textview.MaterialTextView\n    android:id=&quot;@+id/tx_demo&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Demo World!&quot; /&gt;\n\n&lt;com.google.android.material.button.MaterialButton\n    android:id=&quot;@+id/btnClear&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Clear text Button&quot; /&gt;\n</code></pre>\n<p>Java is file code</p>\n<pre><code>    txDemo = findViewById(R.id.tx_demo);\n    btnClear = findViewById(R.id.btnClear);\n    btnClear.setOnClickListener(v -&gt; {\n        txDemo.setText(&quot;&quot;);\n    });\n</code></pre>\n<p>OR</p>\n<pre><code>    txDemo = findViewById(R.id.tx_demo)\n    btnClear = findViewById&lt;MaterialButton&gt;(R.id.btnClear)\n    btnClear.setOnClickListener(View.OnClickListener { v: View? -&gt;\n        txDemo!!.text = &quot;&quot;\n    })\n</code></pre>\n"}],"owner":{"account_id":12000503,"reputation":23,"user_id":8780605,"display_name":"Jan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2560,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46758448,"answer_count":4,"score":2,"last_activity_date":1673323767,"creation_date":1508090917,"question_id":46758341,"body_markdown":"I want to make a button to clear the TextView text.\r\nIm using Android Studio.\r\n\r\n\r\n    ImageButton ImageButton3;\r\n    TextView TextView26;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ImageButton3.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n\r\n                TextView.text=&quot;&quot;;\r\n            }\r\n        });\r\n\r\n","title":"Android Studio Button to clear TextView text","body":"<p>I want to make a button to clear the TextView text.\nIm using Android Studio.</p>\n\n<pre><code>ImageButton ImageButton3;\nTextView TextView26;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    ImageButton3.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n\n            TextView.text=\"\";\n        }\n    });\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673323450,"creation_date":1673323450,"answer_id":75065352,"question_id":75064942,"body_markdown":"Found the problem, I use a LinearLayout contain TextView and each TextView has default layout_weight, remove layout_weight then work fine.","title":"TextView get wrong width value after set LayoutParam width","body":"<p>Found the problem, I use a LinearLayout contain TextView and each TextView has default layout_weight, remove layout_weight then work fine.</p>\n"}],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673323450,"creation_date":1673318719,"question_id":75064942,"body_markdown":"I&#39;m trying to set TextView width, and I use LayoutParam to set view width, but after I setLayoutParam on TextView then print it&#39;s width, it return different value to the value I set. \r\n\r\nhere is logs and code:\r\n\r\n[logs][1]\r\n\r\n```\r\npublic ViewHolder(@NonNull View itemView) {\r\n    super(itemView);\r\n    colYear = itemView.findViewById(R.id.colYear);\r\n    colAge = itemView.findViewById(R.id.colAge);\r\n    colMoney = itemView.findViewById(R.id.colMoney);\r\n\r\n    ViewGroup.LayoutParams yearParam = colYear.getLayoutParams();\r\n    yearParam.width = firstColWidth;\r\n    colYear.setLayoutParams(yearParam);\r\n\r\n    ViewGroup.LayoutParams ageParam = colAge.getLayoutParams();\r\n    ageParam.width = secondColWidth;\r\n    colAge.setLayoutParams(ageParam);\r\n    Log.d(&quot;Adapter&quot;,&quot;firstColWidth:&quot;+firstColWidth);\r\n    Log.d(&quot;Adapter&quot;,&quot;secondColWidth:&quot;+secondColWidth);\r\n    colYear.post(()-&gt;Log.d(&quot;Adapter&quot;,&quot;colYear:&quot;+colYear.getWidth()));\r\n    colAge.post(()-&gt;Log.d(&quot;Adapter&quot;,&quot;colAge:&quot;+colAge.getWidth()));\r\n}\r\n```\r\nI also try to use ```TextView.setWidth()``` directly, but still has same problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hlVGO.png","title":"TextView get wrong width value after set LayoutParam width","body":"<p>I'm trying to set TextView width, and I use LayoutParam to set view width, but after I setLayoutParam on TextView then print it's width, it return different value to the value I set.</p>\n<p>here is logs and code:</p>\n<p><a href=\"https://i.stack.imgur.com/hlVGO.png\" rel=\"nofollow noreferrer\">logs</a></p>\n<pre><code>public ViewHolder(@NonNull View itemView) {\n    super(itemView);\n    colYear = itemView.findViewById(R.id.colYear);\n    colAge = itemView.findViewById(R.id.colAge);\n    colMoney = itemView.findViewById(R.id.colMoney);\n\n    ViewGroup.LayoutParams yearParam = colYear.getLayoutParams();\n    yearParam.width = firstColWidth;\n    colYear.setLayoutParams(yearParam);\n\n    ViewGroup.LayoutParams ageParam = colAge.getLayoutParams();\n    ageParam.width = secondColWidth;\n    colAge.setLayoutParams(ageParam);\n    Log.d(&quot;Adapter&quot;,&quot;firstColWidth:&quot;+firstColWidth);\n    Log.d(&quot;Adapter&quot;,&quot;secondColWidth:&quot;+secondColWidth);\n    colYear.post(()-&gt;Log.d(&quot;Adapter&quot;,&quot;colYear:&quot;+colYear.getWidth()));\n    colAge.post(()-&gt;Log.d(&quot;Adapter&quot;,&quot;colAge:&quot;+colAge.getWidth()));\n}\n</code></pre>\n<p>I also try to use <code>TextView.setWidth()</code> directly, but still has same problem.</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673322556,"creation_date":1673322556,"answer_id":75065283,"question_id":75064289,"body_markdown":"Try using, [andInclude][1]\r\n\r\n    ProjectionOperation projectByIDandCount = project()\r\n    \t.and(&quot;_id&quot;).as(&quot;defaultMasterAccountId&quot;)\r\n        .andInclude(&quot;countOfFooUsers&quot;);\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/ProjectionOperation.html#andInclude(java.lang.String...)","title":"Spring MongoDB - ProjectionOperation Question for multiple values","body":"<p>Try using, <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/ProjectionOperation.html#andInclude(java.lang.String...)\" rel=\"nofollow noreferrer\">andInclude</a></p>\n<pre><code>ProjectionOperation projectByIDandCount = project()\n    .and(&quot;_id&quot;).as(&quot;defaultMasterAccountId&quot;)\n    .andInclude(&quot;countOfFooUsers&quot;);\n</code></pre>\n"}],"owner":{"account_id":11317207,"reputation":57,"user_id":8298601,"display_name":"Daejichu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75065283,"answer_count":1,"score":0,"last_activity_date":1673322556,"creation_date":1673310500,"question_id":75064289,"body_markdown":"I have a `DAOImpl` with an override function.  I&#39;m trying to use an aggregation to first `filter` then `match` then to `project`.  \r\n\r\n```java\r\n\tpublic Map&lt;Long, Integer&gt; getUsersByAccount() {\r\n\r\n\t\tMatchOperation filterByAccountId = match(new Criteria(ACCOUNT_ID).nin(Arrays.asList(null, &quot;&quot;)));\r\n\t\tGroupOperation groupByMasterAccount = group(DEFAULT_MASTER_ACCOUNT_ID).count().as(&quot;countOfFooUsers&quot;);\r\n\t\tProjectionOperation projectByIDandCount = project()\r\n\t\t\t\t.and(&quot;_id&quot;)\r\n\t\t\t\t.as(&quot;defaultMasterAccountId&quot;);\r\n\t\tprojectByIDandCount.and(&quot;countOfFooUsers&quot;);\r\n\t\tAggregation aggregation = newAggregation(\r\n\t\t\t\tfilterByAccountId,\r\n\t\t\t\tgroupByMasterAccount,\r\n\t\t\t\tprojectByIDandCount\r\n\t\t);\r\n\r\n\t\tAggregationResults&lt;MAandUsers&gt; maUsersResult = mongoTemplate\r\n\t\t\t\t.aggregate(aggregation, USERS_COLLECTION, MAandUsers.class);\r\n```\r\n\r\nThe inner class above `MAandUsers` within the `IMPL`:\r\n\r\n```java\r\n\t@Data\r\n\tpublic static class MAandUsers {\r\n\t\tprivate Long defaultMasterAccountId;\r\n\t\tprivate Integer countOfFooUsers;\r\n\t}\r\n```\r\n\r\nHowever, my `maUsersResult`returns a `null` value for `countOfFooUsers` when, in my test case, there should be `1`.  I&#39;m assuming my `projection` operation is off ---&gt; `projectByIDandCount.and(&quot;countOfFooUsers&quot;);`\r\n\r\nIs there a way for me to use spring&#39;s mongotemplate to receive back multiple values on projection operations?  I&#39;m fairly new to this","title":"Spring MongoDB - ProjectionOperation Question for multiple values","body":"<p>I have a <code>DAOImpl</code> with an override function.  I'm trying to use an aggregation to first <code>filter</code> then <code>match</code> then to <code>project</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Map&lt;Long, Integer&gt; getUsersByAccount() {\n\n        MatchOperation filterByAccountId = match(new Criteria(ACCOUNT_ID).nin(Arrays.asList(null, &quot;&quot;)));\n        GroupOperation groupByMasterAccount = group(DEFAULT_MASTER_ACCOUNT_ID).count().as(&quot;countOfFooUsers&quot;);\n        ProjectionOperation projectByIDandCount = project()\n                .and(&quot;_id&quot;)\n                .as(&quot;defaultMasterAccountId&quot;);\n        projectByIDandCount.and(&quot;countOfFooUsers&quot;);\n        Aggregation aggregation = newAggregation(\n                filterByAccountId,\n                groupByMasterAccount,\n                projectByIDandCount\n        );\n\n        AggregationResults&lt;MAandUsers&gt; maUsersResult = mongoTemplate\n                .aggregate(aggregation, USERS_COLLECTION, MAandUsers.class);\n</code></pre>\n<p>The inner class above <code>MAandUsers</code> within the <code>IMPL</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Data\n    public static class MAandUsers {\n        private Long defaultMasterAccountId;\n        private Integer countOfFooUsers;\n    }\n</code></pre>\n<p>However, my <code>maUsersResult</code>returns a <code>null</code> value for <code>countOfFooUsers</code> when, in my test case, there should be <code>1</code>.  I'm assuming my <code>projection</code> operation is off ---&gt; <code>projectByIDandCount.and(&quot;countOfFooUsers&quot;);</code></p>\n<p>Is there a way for me to use spring's mongotemplate to receive back multiple values on projection operations?  I'm fairly new to this</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-storage"],"comments":[{"owner":{"account_id":16958113,"reputation":3435,"user_id":12265927,"display_name":"Puteri"},"score":1,"creation_date":1673108694,"post_id":75038486,"comment_id":132426006,"body_markdown":"Can you show what you&#39;ve tried?","body":"Can you show what you&#39;ve tried?"},{"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"score":0,"creation_date":1673137437,"post_id":75038486,"comment_id":132431182,"body_markdown":"The `Mongo` database is installed outside of `Google Cloud` ?","body":"The <code>Mongo</code> database is installed outside of <code>Google Cloud</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":27001885,"reputation":1266,"user_id":20563046,"display_name":"Kranthiveer Dontineni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673321822,"creation_date":1673321822,"answer_id":75065210,"question_id":75038486,"body_markdown":"If you have deployed your mongodb in a VM on GCP, you need to use “Cloud Storage Fuse”. Cloud Storage Fuse is an plugin written in go language which helps you to mount your cloud storage bucket to your linux or macos file systems (Source: [GCP docs][1]).  You just have to mount your gcs storage and create a csv file in it and update it using file operations.\r\n\r\n\r\n  [1]: https://cloud.google.com/storage/docs/gcs-fuse","title":"GCP storage - read data from mongo db and write it into to file GCP bucket","body":"<p>If you have deployed your mongodb in a VM on GCP, you need to use “Cloud Storage Fuse”. Cloud Storage Fuse is an plugin written in go language which helps you to mount your cloud storage bucket to your linux or macos file systems (Source: <a href=\"https://cloud.google.com/storage/docs/gcs-fuse\" rel=\"nofollow noreferrer\">GCP docs</a>).  You just have to mount your gcs storage and create a csv file in it and update it using file operations.</p>\n"}],"owner":{"account_id":12146167,"reputation":613,"user_id":8919071,"display_name":"Swapnil Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673321822,"creation_date":1673072489,"question_id":75038486,"body_markdown":"**Background:**\r\nWant to read data from mongo and write to the file in GCP bucket. I don&#39;t want to keep data retrieved from mongo into memory, instead after retrieving first chunk of data, write/flush it to the file in GCP bucket then fetch another chunk from mongo and again write to the same file. &lt;br/&gt;\r\n\r\nNote: I don&#39;t want the data to be buffered in memory and write it to the file at the end/after retrieval of data from mongo is done.\r\n\r\nHow can this be achieved?","title":"GCP storage - read data from mongo db and write it into to file GCP bucket","body":"<p><strong>Background:</strong>\nWant to read data from mongo and write to the file in GCP bucket. I don't want to keep data retrieved from mongo into memory, instead after retrieving first chunk of data, write/flush it to the file in GCP bucket then fetch another chunk from mongo and again write to the same file. <br/></p>\n<p>Note: I don't want the data to be buffered in memory and write it to the file at the end/after retrieval of data from mongo is done.</p>\n<p>How can this be achieved?</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673321578,"creation_date":1673321055,"answer_id":75065154,"question_id":75054661,"body_markdown":"I assumes you use AlertDialog in the another activity rather than your first activity, so when you use finish, you are close the activity that isn&#39;t the first activity.\r\nIf you you want to close you app, you can try use ```startActivityForResult``` to process some job accordingto the requestCode.\r\n\r\nBut now startActivityForResult is deprected, you can try to use new way to do this: https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative.\r\n\r\nYou can reference to this too https://stackoverflow.com/questions/6330200/how-to-quit-android-application-programmatically\r\n\r\n","title":"android studio exit confirmation dialogue not working","body":"<p>I assumes you use AlertDialog in the another activity rather than your first activity, so when you use finish, you are close the activity that isn't the first activity.\nIf you you want to close you app, you can try use <code>startActivityForResult</code> to process some job accordingto the requestCode.</p>\n<p>But now startActivityForResult is deprected, you can try to use new way to do this: <a href=\"https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative\">OnActivityResult method is deprecated, what is the alternative?</a>.</p>\n<p>You can reference to this too <a href=\"https://stackoverflow.com/questions/6330200/how-to-quit-android-application-programmatically\">How to quit android application programmatically</a></p>\n"}],"owner":{"account_id":26646494,"reputation":11,"user_id":20261367,"display_name":"Abu Hanif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673321578,"creation_date":1673252445,"question_id":75054661,"body_markdown":"    public void exit(){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setIcon(R.mipmap.ic_launcher_round);\r\n        builder.setTitle(&quot;Likee Likes&quot;);\r\n        builder.setMessage(&quot;Do you really wanna Exit?&quot;)\r\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        finish();\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        dialog.cancel();\r\n                    }\r\n                });\r\n        builder.create();\r\n        builder.show();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n**I am using this code to confirm my user either exit or not. when my user click the &quot;yes&quot;  button the app doesn&#39;t close and  get back to the previous activity. Is there any mistake with this code? **\r\n\r\ni am trying to close my app by user confirmation.","title":"android studio exit confirmation dialogue not working","body":"<pre><code>public void exit(){\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setIcon(R.mipmap.ic_launcher_round);\n    builder.setTitle(&quot;Likee Likes&quot;);\n    builder.setMessage(&quot;Do you really wanna Exit?&quot;)\n            .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    finish();\n                }\n            })\n            .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    dialog.cancel();\n                }\n            });\n    builder.create();\n    builder.show();\n\n}\n</code></pre>\n<p>**I am using this code to confirm my user either exit or not. when my user click the &quot;yes&quot;  button the app doesn't close and  get back to the previous activity. Is there any mistake with this code? **</p>\n<p>i am trying to close my app by user confirmation.</p>\n"},{"tags":["java","ssl","https","keytool"],"answers":[{"comments":[{"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"score":0,"creation_date":1420274245,"post_id":27743986,"comment_id":43917070,"body_markdown":"Do you mean first i will have to add Root certificate CCA (in my case) in truststore and rest (ABCD,CA) in keystore??","body":"Do you mean first i will have to add Root certificate CCA (in my case) in truststore and rest (ABCD,CA) in keystore??"},{"owner":{"account_id":3161353,"reputation":4080,"user_id":2672392,"display_name":"Omikron"},"score":0,"creation_date":1420281794,"post_id":27743986,"comment_id":43918743,"body_markdown":"No, as long as you do not need client authentication, no keystore is required at all.","body":"No, as long as you do not need client authentication, no keystore is required at all."},{"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"score":0,"creation_date":1420282295,"post_id":27743986,"comment_id":43918853,"body_markdown":"I actually need to make call from JAVA client to a rest service(Third party) hosted at port 443,  does it mean that i need to import all these certificate to trust store only?","body":"I actually need to make call from JAVA client to a rest service(Third party) hosted at port 443,  does it mean that i need to import all these certificate to trust store only?"},{"owner":{"account_id":3161353,"reputation":4080,"user_id":2672392,"display_name":"Omikron"},"score":0,"creation_date":1420282346,"post_id":27743986,"comment_id":43918865,"body_markdown":"You can use [KeyStore Explorer](http://keystore-explorer.sourceforge.net/) to check if client authentication is required: Tools -&gt; Examine SSL (leave &quot;Enable Client Authentication&quot; unchecked). If you can access the service without errors, then is is not required.","body":"You can use <a href=\"http://keystore-explorer.sourceforge.net/\" rel=\"nofollow noreferrer\">KeyStore Explorer</a> to check if client authentication is required: Tools -&gt; Examine SSL (leave &quot;Enable Client Authentication&quot; unchecked). If you can access the service without errors, then is is not required."}],"tags":[],"owner":{"account_id":3161353,"reputation":4080,"user_id":2672392,"display_name":"Omikron"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1420210276,"creation_date":1420210276,"answer_id":27743986,"question_id":27742554,"body_markdown":"The link in your question explains how to create an SSL keystore for a server, which is not what you want to do. What you did was:\r\n\r\n 1. Create a new key pair\r\n 2. Add a trusted certificate to the keystore\r\n 3. Add another trusted certificate to the keystore\r\n 4. Try to import the SSL certificate of the server as a certificate for your key pair\r\n\r\nStep 4 fails because the SSL certificate was generated for a completely different key pair.\r\n\r\nThe three certificates are probably: \r\n\r\n 1. The SSL certificate of the webservice\r\n 2. The CA certificate that signed the SSL certificate\r\n 3. The root certificate that signed the CA\r\n\r\nWhat you have to do now is to add a trust anchor to your truststore (by default: `${JAVA_HOME}/jre/lib/security/cacerts`), with the result that your client accepts the SSL certificate of the webservice. \r\n\r\nUsually the SSL server sends the whole chain except for the root certificate to the client during SSL handshake. This means that you have to add the root certificate to your truststore:\r\n\r\n    keytool -import -keystore ${JAVA_HOME}/jre/lib/security/cacerts -file CCA_Certificate.cer -alias theCCARoot\r\n\r\nAdditional steps are necessary if the webservice requires SSL client authentication, but you have never mentioned client authentication, so I assume that it is not necessary. ","title":"java.lang.Exception: Public keys in reply and keystore don&#39;t match","body":"<p>The link in your question explains how to create an SSL keystore for a server, which is not what you want to do. What you did was:</p>\n\n<ol>\n<li>Create a new key pair</li>\n<li>Add a trusted certificate to the keystore</li>\n<li>Add another trusted certificate to the keystore</li>\n<li>Try to import the SSL certificate of the server as a certificate for your key pair</li>\n</ol>\n\n<p>Step 4 fails because the SSL certificate was generated for a completely different key pair.</p>\n\n<p>The three certificates are probably: </p>\n\n<ol>\n<li>The SSL certificate of the webservice</li>\n<li>The CA certificate that signed the SSL certificate</li>\n<li>The root certificate that signed the CA</li>\n</ol>\n\n<p>What you have to do now is to add a trust anchor to your truststore (by default: <code>${JAVA_HOME}/jre/lib/security/cacerts</code>), with the result that your client accepts the SSL certificate of the webservice. </p>\n\n<p>Usually the SSL server sends the whole chain except for the root certificate to the client during SSL handshake. This means that you have to add the root certificate to your truststore:</p>\n\n<pre><code>keytool -import -keystore ${JAVA_HOME}/jre/lib/security/cacerts -file CCA_Certificate.cer -alias theCCARoot\n</code></pre>\n\n<p>Additional steps are necessary if the webservice requires SSL client authentication, but you have never mentioned client authentication, so I assume that it is not necessary. </p>\n"},{"comments":[{"owner":{"account_id":1630506,"reputation":500,"user_id":1505168,"accept_rate":36,"display_name":"Michael Biniashvili"},"score":6,"creation_date":1484834950,"post_id":38136511,"comment_id":70680314,"body_markdown":"but in this case there will be no chaninig between the key and the certificate","body":"but in this case there will be no chaninig between the key and the certificate"}],"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"comment_count":1,"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1467343182,"creation_date":1467343182,"answer_id":38136511,"question_id":27742554,"body_markdown":"The issue here is the alias you used while importing the certificate which is similar to the one you used while creating the JKS store. Just change the alias and it will solve your issue. The source document [1] needs to be corrected accordingly.\r\n\r\n\r\n[1] http://docs.oracle.com/cd/E19509-01/820-3503/ggfgo/index.html","title":"java.lang.Exception: Public keys in reply and keystore don&#39;t match","body":"<p>The issue here is the alias you used while importing the certificate which is similar to the one you used while creating the JKS store. Just change the alias and it will solve your issue. The source document [1] needs to be corrected accordingly.</p>\n\n<p>[1] <a href=\"http://docs.oracle.com/cd/E19509-01/820-3503/ggfgo/index.html\">http://docs.oracle.com/cd/E19509-01/820-3503/ggfgo/index.html</a></p>\n"},{"comments":[{"owner":{"account_id":7000442,"reputation":8026,"user_id":5366641,"accept_rate":91,"display_name":"scopchanov"},"score":2,"creation_date":1553732727,"post_id":50515036,"comment_id":97498630,"body_markdown":"How is this different than the solution proposed by @RavindraRanwala on Jul 1 &#39;16 at 3:19?","body":"How is this different than the solution proposed by @RavindraRanwala on Jul 1 &#39;16 at 3:19?"}],"tags":[],"owner":{"account_id":7939442,"reputation":642,"user_id":8321225,"display_name":"Rishi Raj Tandon"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1527182890,"creation_date":1527182890,"answer_id":50515036,"question_id":27742554,"body_markdown":"In the 4 point (where you are getting error : **keytool error: java.lang.Exception: Public keys in reply and keystore don&#39;t match**) where you are importing the certificate, please change the alias. The alias should not be npci_client_testore as it is already used for alias of keystore.","title":"java.lang.Exception: Public keys in reply and keystore don&#39;t match","body":"<p>In the 4 point (where you are getting error : <strong>keytool error: java.lang.Exception: Public keys in reply and keystore don't match</strong>) where you are importing the certificate, please change the alias. The alias should not be npci_client_testore as it is already used for alias of keystore.</p>\n"},{"comments":[{"owner":{"account_id":2236638,"reputation":2385,"user_id":1972843,"accept_rate":100,"display_name":"Pinkie Swirl"},"score":5,"creation_date":1534448403,"post_id":51883802,"comment_id":90720129,"body_markdown":"Before you post an answer to an already answered question please make sure you add something new. Then explain why your suggestion worked for you (thats what stackoverflow is for).","body":"Before you post an answer to an already answered question please make sure you add something new. Then explain why your suggestion worked for you (thats what stackoverflow is for)."},{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1639993097,"post_id":51883802,"comment_id":124480640,"body_markdown":"what is this? this doesn&#39;t add anything new or extra to existing","body":"what is this? this doesn&#39;t add anything new or extra to existing"}],"tags":[],"owner":{"account_id":14168916,"reputation":11,"user_id":10236098,"display_name":"guest98"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553753072,"creation_date":1534446185,"answer_id":51883802,"question_id":27742554,"body_markdown":"This worked for me:\r\n\r\n    keytool -keystore yourkeystorename -importcert -alias certificatealiasname -file certificatename.cer","title":"java.lang.Exception: Public keys in reply and keystore don&#39;t match","body":"<p>This worked for me:</p>\n\n<pre><code>keytool -keystore yourkeystorename -importcert -alias certificatealiasname -file certificatename.cer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1529851,"reputation":1106,"user_id":9486645,"display_name":"Supercoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673320502,"creation_date":1544215149,"answer_id":53676541,"question_id":27742554,"body_markdown":"I had the same exception error (keystore don&#39;t match) hosting with Tomcat8.  If you have entered a `wrong domain name` or `no domain name` while creating your keystore, you will need to re-create your Keystore file again and resubmit your CSR again to your Certification Authority (CA) licensed/recognised/approved to issue Digital Signature Certificates (Godaddy in my case). \r\n\r\nHere are the commands to create a keystore file: \r\n\r\n    keytool -keysize 2048 -genkey -alias tomcat -keyalg RSA -keystore tomcat.keystore\r\n    keytool -importkeystore -srckeystore tomcat.keystore -destkeystore tomcat.keystore -deststoretype pkcs12\r\n\r\n(You need to **enter the domain name when the prompt asks for a first and last name**, it is requesting the **Fully Qualified Domain Name** (FDQN) e.g. www.example.com). From the City, State and Province - `do not abbreviate`\r\n\r\nEnter the following command to create the CSR (from the same directory as your tomcat.keystore location): \r\n\r\n    keytool -certreq -keyalg RSA -alias tomcat -file myFQDN.csr -keystore tomcat.keystore\r\n\r\nNote: Because of the previous &quot;keystore don&#39;t match&quot; error, I had to delete all my Godaddy certificates from my windows console ([MMC][1]).  \r\n\r\nOnce your Certificate files are ready from your Certification Authority. Download the files and double click on each of the 2 .crt files to reinstall them again in windows (Choose automatically install in Local Machine). Make sure you backup your tomcat.keystore file then **import these certificate files IN ORDER** into your tomcat.keystore file (from scratch) with the same order as the following example:\r\n\r\n    keytool -import -alias root -keystore tomcat.keystore -trustcacerts -file gdig2.crt.pem\r\n    keytool -import -alias intermed -keystore tomcat.keystore -trustcacerts -file gd_bundle-g2-g1.crt\r\n    keytool -import -alias tomcat -keystore tomcat.keystore -trustcacerts -file namewithnumbersandletters.crt\r\n\r\nMake sure you have updated your server.xml then restart your Tomcat \r\n\r\n    &lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot;\r\n    \trelaxedQueryChars=&quot;|{}[]%-&quot;\r\n    \tconnectionTimeout=&quot;20000&quot;\r\n    \tredirectPort=&quot;443&quot; /&gt;  \r\n    &lt;Connector \tSSLEnabled=&quot;true&quot; URIEncoding=&quot;UTF-8&quot; \r\n    \tclientAuth=&quot;false&quot; \r\n    \tkeystoreFile=&quot;C:\\Program Files\\Java\\jdk-11.0.9\\bin\\tomcat.keystore&quot; \r\n    \tkeystorePass=&quot;ChangeToYourPassword&quot; \r\n    \tmaxThreads=&quot;200&quot; \r\n    \tport=&quot;443&quot; \r\n    \tscheme=&quot;https&quot; \r\n    \tsecure=&quot;true&quot; \r\n    \tsslProtocol=&quot;TLS&quot;\r\n    \tsslEnabledProtocols=&quot;TLSv1.2&quot;\r\n    \t/&gt; \r\n\r\nVoil&#224;!  The Locked icon (Secure Connection) appears when browsing on the domain. \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in","title":"java.lang.Exception: Public keys in reply and keystore don&#39;t match","body":"<p>I had the same exception error (keystore don't match) hosting with Tomcat8.  If you have entered a <code>wrong domain name</code> or <code>no domain name</code> while creating your keystore, you will need to re-create your Keystore file again and resubmit your CSR again to your Certification Authority (CA) licensed/recognised/approved to issue Digital Signature Certificates (Godaddy in my case).</p>\n<p>Here are the commands to create a keystore file:</p>\n<pre><code>keytool -keysize 2048 -genkey -alias tomcat -keyalg RSA -keystore tomcat.keystore\nkeytool -importkeystore -srckeystore tomcat.keystore -destkeystore tomcat.keystore -deststoretype pkcs12\n</code></pre>\n<p>(You need to <strong>enter the domain name when the prompt asks for a first and last name</strong>, it is requesting the <strong>Fully Qualified Domain Name</strong> (FDQN) e.g. <a href=\"http://www.example.com\" rel=\"nofollow noreferrer\">www.example.com</a>). From the City, State and Province - <code>do not abbreviate</code></p>\n<p>Enter the following command to create the CSR (from the same directory as your tomcat.keystore location):</p>\n<pre><code>keytool -certreq -keyalg RSA -alias tomcat -file myFQDN.csr -keystore tomcat.keystore\n</code></pre>\n<p>Note: Because of the previous &quot;keystore don't match&quot; error, I had to delete all my Godaddy certificates from my windows console (<a href=\"https://learn.microsoft.com/en-us/dotnet/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in\" rel=\"nofollow noreferrer\">MMC</a>).</p>\n<p>Once your Certificate files are ready from your Certification Authority. Download the files and double click on each of the 2 .crt files to reinstall them again in windows (Choose automatically install in Local Machine). Make sure you backup your tomcat.keystore file then <strong>import these certificate files IN ORDER</strong> into your tomcat.keystore file (from scratch) with the same order as the following example:</p>\n<pre><code>keytool -import -alias root -keystore tomcat.keystore -trustcacerts -file gdig2.crt.pem\nkeytool -import -alias intermed -keystore tomcat.keystore -trustcacerts -file gd_bundle-g2-g1.crt\nkeytool -import -alias tomcat -keystore tomcat.keystore -trustcacerts -file namewithnumbersandletters.crt\n</code></pre>\n<p>Make sure you have updated your server.xml then restart your Tomcat</p>\n<pre><code>&lt;Connector port=&quot;80&quot; protocol=&quot;HTTP/1.1&quot;\n    relaxedQueryChars=&quot;|{}[]%-&quot;\n    connectionTimeout=&quot;20000&quot;\n    redirectPort=&quot;443&quot; /&gt;  \n&lt;Connector  SSLEnabled=&quot;true&quot; URIEncoding=&quot;UTF-8&quot; \n    clientAuth=&quot;false&quot; \n    keystoreFile=&quot;C:\\Program Files\\Java\\jdk-11.0.9\\bin\\tomcat.keystore&quot; \n    keystorePass=&quot;ChangeToYourPassword&quot; \n    maxThreads=&quot;200&quot; \n    port=&quot;443&quot; \n    scheme=&quot;https&quot; \n    secure=&quot;true&quot; \n    sslProtocol=&quot;TLS&quot;\n    sslEnabledProtocols=&quot;TLSv1.2&quot;\n    /&gt; \n</code></pre>\n<p>Voilà!  The Locked icon (Secure Connection) appears when browsing on the domain.</p>\n"},{"tags":[],"owner":{"account_id":5037841,"reputation":456,"user_id":4046157,"accept_rate":82,"display_name":"gkhnavarro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588839765,"creation_date":1588839765,"answer_id":61653099,"question_id":27742554,"body_markdown":"Similar to @Omikron&#39;s answer, I resolved it by adding the `TrustedRoot.crt` and `DigiCertCA.crt` files into the `jre/lib/security/cacerts` keystore. \r\n\r\n    sudo keytool -import -alias ALIAS -file TrustedRoot.crt -storetype JKS -keystore ${JAVA_HOME}/jre/lib/security/cacerts -file DigiCertCA.crt\r\n\r\nI was then able to import the certificate into my own keystore.\r\n\r\n    keytool -import -trustcacerts -alias other_alias -file certificate.crt -keystore keystore.jks -keypass &quot;password&quot; -storepass &quot;password1&quot;","title":"java.lang.Exception: Public keys in reply and keystore don&#39;t match","body":"<p>Similar to @Omikron's answer, I resolved it by adding the <code>TrustedRoot.crt</code> and <code>DigiCertCA.crt</code> files into the <code>jre/lib/security/cacerts</code> keystore. </p>\n\n<pre><code>sudo keytool -import -alias ALIAS -file TrustedRoot.crt -storetype JKS -keystore ${JAVA_HOME}/jre/lib/security/cacerts -file DigiCertCA.crt\n</code></pre>\n\n<p>I was then able to import the certificate into my own keystore.</p>\n\n<pre><code>keytool -import -trustcacerts -alias other_alias -file certificate.crt -keystore keystore.jks -keypass \"password\" -storepass \"password1\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5065728,"reputation":459,"user_id":4065865,"display_name":"Ayaskant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647351047,"creation_date":1647351047,"answer_id":71483117,"question_id":27742554,"body_markdown":"This happens when you are trying to import a certificate to an existing jks file which already has the same alias present in it. if you want to use the same alias then first delete the old alias and its associated certificate in the jks and then import the new one.\r\n\r\n    1 - keytool -delete -alias &lt;alias_name&gt; -keystore &lt;your jks file name&gt;\r\n    2 - keytool -import -alias &lt;alias_name&gt; -keystore &lt;your jks file name&gt; -file &lt;your source cer or crt file&gt;\r\n\r\n  ","title":"java.lang.Exception: Public keys in reply and keystore don&#39;t match","body":"<p>This happens when you are trying to import a certificate to an existing jks file which already has the same alias present in it. if you want to use the same alias then first delete the old alias and its associated certificate in the jks and then import the new one.</p>\n<pre><code>1 - keytool -delete -alias &lt;alias_name&gt; -keystore &lt;your jks file name&gt;\n2 - keytool -import -alias &lt;alias_name&gt; -keystore &lt;your jks file name&gt; -file &lt;your source cer or crt file&gt;\n</code></pre>\n"}],"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121632,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":27743986,"answer_count":7,"score":23,"last_activity_date":1673320502,"creation_date":1420203153,"question_id":27742554,"body_markdown":"I have to access a webservice hosted at port 443.Service provider has shared three certificate with us.\r\n\r\n   1. ABCD.cer\r\n   2. CA_Certificate.cer\r\n   3. CCA_Certificate.cer\r\n\r\nI have to add them to keystore by creating a form chain for the SSL communication.I have followed below steps.\r\n\r\n  1.  `keytool -keystore npci_keystore_test.jks -genkey -alias npci_client_testore` \r\n     \r\n           Result :- keystore npci_keystore_test.jks created.\r\n    \r\n  2.   `keytool -import -keystore npci_keystore_test.jks -file CA_Certificate.cer -alias theCARoot`\r\n\r\n           Result :- certificate CA_Certificate.cer is added to keystore.\r\n    \r\n  3.   `keytool -import -keystore npci_keystore_test.jks -file CCA_Certificate.cer -alias theCCARoot`\r\n\r\n           Result :- certificate CCA_Certificate.cer is added to keystore.\r\n    \r\n    \r\n  4.  `keytool -import -keystore npci_keystore_test.jks -file ABCD.cer -alias npci_client_testore`\r\n\r\n\r\n\r\n     At the step 4 i have below exception\r\n\r\n      Enter keystore password:  (and when i enter password i have below exception)\r\n \r\n\r\n    **keytool error: java.lang.Exception: Public keys in reply and keystore don&#39;t match**\r\n\r\nI have already done search in SO,but so far no luck.\r\n\r\n\r\nI am following below source to create the store and import certificate in it.\r\n   [JKS Keystore][1]\r\n\r\n\r\n      \r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E19509-01/820-3503/ggfgo/index.html\r\n\r\n\r\n\r\n**EDIT:---**\r\n\r\n   I have tested it by changing the import order of certificate,but no luck so far.","title":"java.lang.Exception: Public keys in reply and keystore don&#39;t match","body":"<p>I have to access a webservice hosted at port 443.Service provider has shared three certificate with us.</p>\n\n<ol>\n<li>ABCD.cer</li>\n<li>CA_Certificate.cer</li>\n<li>CCA_Certificate.cer</li>\n</ol>\n\n<p>I have to add them to keystore by creating a form chain for the SSL communication.I have followed below steps.</p>\n\n<ol>\n<li><p><code>keytool -keystore npci_keystore_test.jks -genkey -alias npci_client_testore</code> </p>\n\n<pre><code>   Result :- keystore npci_keystore_test.jks created.\n</code></pre></li>\n<li><p><code>keytool -import -keystore npci_keystore_test.jks -file CA_Certificate.cer -alias theCARoot</code></p>\n\n<pre><code>   Result :- certificate CA_Certificate.cer is added to keystore.\n</code></pre></li>\n<li><p><code>keytool -import -keystore npci_keystore_test.jks -file CCA_Certificate.cer -alias theCCARoot</code></p>\n\n<pre><code>   Result :- certificate CCA_Certificate.cer is added to keystore.\n</code></pre></li>\n<li><p><code>keytool -import -keystore npci_keystore_test.jks -file ABCD.cer -alias npci_client_testore</code></p>\n\n<p>At the step 4 i have below exception</p>\n\n<p>Enter keystore password:  (and when i enter password i have below exception)</p>\n\n<p><strong>keytool error: java.lang.Exception: Public keys in reply and keystore don't match</strong></p></li>\n</ol>\n\n<p>I have already done search in SO,but so far no luck.</p>\n\n<p>I am following below source to create the store and import certificate in it.\n   <a href=\"http://docs.oracle.com/cd/E19509-01/820-3503/ggfgo/index.html\" rel=\"noreferrer\">JKS Keystore</a></p>\n\n<p><strong>EDIT:---</strong></p>\n\n<p>I have tested it by changing the import order of certificate,but no luck so far.</p>\n"},{"tags":["java","android","google-maps","debugging","google-directions-api"],"owner":{"account_id":7533282,"reputation":1,"user_id":5720587,"display_name":"ALIBABATRAVEL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673319989,"creation_date":1673319582,"question_id":75065021,"body_markdown":"I&#39;m trying to make an app with places and directions I have done that but after 1 or 2 direction calls I just get onFailure: timeout and nothing shows on the screen. I am using firebase for markers but that&#39;s not the issue also the marker changes to another marker when using direction and even that isn&#39;t working anymore any help would be greatly appreciated\r\n\r\neverything works but you have to wait like 5 seconds each time you make a routes but that might be the emulator but after 1 or 2 routes it says onFailure: timeout I was expecting it to work as i was following a tutorial but morphing it into my app\r\n\r\nIt works [it works](https://i.stack.imgur.com/gfywj.png) then \r\n\r\nit doesn&#39;t [then it doesnt](https://i.stack.imgur.com/8apjD.png)\r\n\r\nthis error also only sometimes happens some times I can do a lot of trips and I can re click on it and try doing the direction again and sometimes that works it&#39;s really weird \r\n\r\nMap Activity\r\n\r\n```\r\npackage au.com.tutorialmaps;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.google.android.gms.common.api.Status;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MapStyleOptions;\r\nimport com.google.android.gms.maps.model.Marker;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.maps.model.Polyline;\r\nimport com.google.android.gms.maps.model.PolylineOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.libraries.places.api.Places;\r\nimport com.google.android.libraries.places.api.model.Place;\r\nimport com.google.android.libraries.places.api.net.PlacesClient;\r\nimport com.google.android.libraries.places.widget.Autocomplete;\r\nimport com.google.android.libraries.places.widget.AutocompleteActivity;\r\nimport com.google.android.libraries.places.widget.model.AutocompleteActivityMode;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.GeoPoint;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.maps.DirectionsApiRequest;\r\nimport com.google.maps.GeoApiContext;\r\nimport com.google.maps.PendingResult;\r\nimport com.google.maps.android.SphericalUtil;\r\nimport com.google.maps.internal.PolylineEncoding;\r\nimport com.google.maps.model.DirectionsResult;\r\nimport com.google.maps.model.DirectionsRoute;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\n\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnPolylineClickListener {\r\n\r\n\r\n    @SuppressLint({&quot;SuspiciousIndentation&quot;, &quot;PotentialBehaviorOverride&quot;})\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        Toast.makeText(this, &quot;Map is Ready&quot;, Toast.LENGTH_SHORT).show();\r\n        Log.d(TAG, &quot;onMapReady: map is ready&quot;);\r\n        mMap = googleMap;\r\n\r\n        if (mLocationPermissionsGranted) {\r\n            getDeviceLocation();\r\n\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                return;\r\n            }\r\n\r\n            mMap.setMyLocationEnabled(true);\r\n            mMap.getUiSettings().setMyLocationButtonEnabled(false);\r\n            mMap.getUiSettings().setZoomControlsEnabled(true);\r\n            mMap.getUiSettings().setZoomGesturesEnabled(true);\r\n            mMap.isBuildingsEnabled();\r\n            mMap.setOnPolylineClickListener(this);\r\n\r\n\r\n\r\n\r\n\r\n            init();\r\n            //mMap.setInfoWindowAdapter(new CustomInfoViewAdapter(this));\r\n\r\n            CollectionReference shrinesRef = db.collection(&quot;Shrines&quot;);\r\n            Query shrine = shrinesRef.whereEqualTo(&quot;isShrine&quot;, true);\r\n\r\n            shrine.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        for (QueryDocumentSnapshot document : task.getResult()) {\r\n                            Log.i(TAG, Objects.requireNonNull(document.getData().get(&quot;LatLing&quot;)).toString());\r\n                            GeoPoint geoPoint = document.getGeoPoint(&quot;LatLing&quot;);\r\n                            String name = document.getString(&quot;Name&quot;);\r\n                            String description = document.getString(&quot;Description&quot;);\r\n                            if (geoPoint != null &amp;&amp; name != null) {\r\n                                LatLng latLng = new LatLng(geoPoint.getLatitude(), geoPoint.getLongitude());\r\n                                Log.i(TAG, &quot;the latLing is   &quot; + latLng);\r\n                                Log.i(TAG, &quot;the name is   &quot; + name);\r\n                                Log.i(TAG, &quot;the description is   &quot; + description);\r\n                                 firebaseMarker = mMap.addMarker(new MarkerOptions()\r\n                                        .position(latLng)\r\n                                        .title(name)\r\n                                        .snippet(description)\r\n                                         );\r\n\r\n\r\n                            }\r\n                        }\r\n                    }else{\r\n                        Log.w(TAG, &quot;Error getting documents&quot;, task.getException());\r\n                    }\r\n                }\r\n            });\r\n\r\n            mMap.setOnInfoWindowLongClickListener(new GoogleMap.OnInfoWindowLongClickListener() {\r\n                @Override\r\n                public void onInfoWindowLongClick(@NonNull Marker marker) {\r\n\r\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(MapActivity.this);\r\n                    builder.setMessage(&quot;More Info or Directions?&quot;)\r\n                            .setCancelable(true)\r\n                            .setPositiveButton(&quot;Directions&quot;, (dialog, id) -&gt; {\r\n                                mSelectedMarker = marker;\r\n                                calculateDirections(mSelectedMarker);\r\n                                dialog.dismiss();\r\n                            })\r\n                            .setNegativeButton(&quot;More Info&quot;, (dialog, id) -&gt; {\r\n                                dialog.dismiss();\r\n                            });\r\n                    final AlertDialog alert = builder.create();\r\n                    alert.show();\r\n\r\n\r\n                }\r\n           });\r\n\r\n        }\r\n    }\r\n\r\n    private void addPolylinesToMap(final DirectionsResult result){\r\n        new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Log.d(TAG, &quot;run: result routes: &quot; + result.routes.length);\r\n                if (mPolylinesData.size() &gt; 0){\r\n                    for (PolylineData polylineData : mPolylinesData){\r\n                        polylineData.getPolyline().remove();\r\n                    }\r\n                    mPolylinesData.clear();\r\n                    mPolylinesData = new ArrayList&lt;&gt;();\r\n                }\r\n                double duration = 999999999;\r\n                for(DirectionsRoute route: result.routes){\r\n                    Log.d(TAG, &quot;run: leg: &quot; + route.legs[0].toString());\r\n                    List&lt;com.google.maps.model.LatLng&gt; decodedPath = PolylineEncoding.decode(route.overviewPolyline.getEncodedPath());\r\n\r\n                    List&lt;LatLng&gt; newDecodedPath = new ArrayList&lt;&gt;();\r\n\r\n                    // This loops through all the LatLng coordinates of ONE polyline.\r\n                    for(com.google.maps.model.LatLng latLng: decodedPath){\r\n\r\n//                        Log.d(TAG, &quot;run: latlng: &quot; + latLng.toString());\r\n\r\n                        newDecodedPath.add(new LatLng(\r\n                                latLng.lat,\r\n                                latLng.lng\r\n                        ));\r\n                    }\r\n                    Polyline polyline = mMap.addPolyline(new PolylineOptions().addAll(newDecodedPath));\r\n                    polyline.setColor(ContextCompat.getColor(MapActivity.this, R.color.grey));\r\n                    polyline.setClickable(true);\r\n                    mPolylinesData.add(new PolylineData(polyline, route.legs[0]));\r\n                    onPolylineClick(polyline);\r\n                    double tempDuration = route.legs[0].duration.inSeconds;\r\n                    if (tempDuration &lt; duration) {\r\n                        duration = tempDuration;\r\n                        onPolylineClick(polyline);\r\n\r\n                    }\r\n                    mSelectedMarker.setVisible(false);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.map_types_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.normal:\r\n                mMap.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.daymap));\r\n                mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n                break;\r\n            case R.id.hybrid:\r\n                mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\r\n                break;\r\n            case R.id.satellite:\r\n                mMap.setMapType(GoogleMap.MAP_TYPE_SATELLITE);\r\n                break;\r\n            case R.id.terrain:\r\n                mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\r\n                break;\r\n            case R.id.normalnight:\r\n                mMap.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.nightmap));\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static final String TAG = &quot;MapActivity&quot;;\r\n\r\n    private static final String FINE_LOCATION = Manifest.permission.ACCESS_FINE_LOCATION;\r\n    private static final String COURSE_LOCATION = Manifest.permission.ACCESS_COARSE_LOCATION;\r\n    private static final int LOCATION_PERMISSION_REQUEST_CODE = 1234;\r\n    private static final float DEFAULT_ZOOM = 7f;\r\n\r\n    //widgets\r\n    private AutoCompleteTextView mSearchText;\r\n    private ImageView mGps;\r\n    private Button mSRearchFiller;\r\n\r\n    //vars\r\n    private Boolean mLocationPermissionsGranted = false;\r\n    private GoogleMap mMap;\r\n    private FusedLocationProviderClient mFusedLocationProviderClient;\r\n    private PlacesClient mplacesclient;\r\n    private Autocomplete autocomplete;\r\n    private static int AUTOCOMPLETE_REQUEST_CODE = 1079;\r\n    private FirebaseFirestore db;\r\n    private GeoApiContext mGeoApiContext = null;\r\n    private Location userCurrentLocation;\r\n    private Marker firebaseMarker;\r\n    private ArrayList&lt;PolylineData&gt; mPolylinesData = new ArrayList&lt;&gt;();\r\n    private Marker mSelectedMarker = null;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        mSRearchFiller = (Button) findViewById(R.id.btn2);\r\n        mGps = (ImageView) findViewById(R.id.ic_gps);\r\n        Places.initialize(getApplicationContext(), &quot;AIzaSyDa-r-kB83q9XM0CjCaRx7uQqSeSxs-m0Q&quot;);\r\n        PlacesClient placesClient = Places.createClient(this);\r\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n        db = firestore;\r\n\r\n        getLocationPermission();\r\n\r\n\r\n        CollectionReference shrinesRef = firestore.collection(&quot;Shrines&quot;);\r\n\r\n// Create a query against the collection.\r\n        Query query = shrinesRef.whereEqualTo(&quot;Name&quot;, &quot;Imam Ali&quot;);\r\n\r\n\r\n\r\n    }\r\n\r\n    public void startAutocompleteActivity(View view) {\r\n        // Start the autocomplete intent.\r\n        Intent intent = new Autocomplete.IntentBuilder(AutocompleteActivityMode.OVERLAY, Arrays.asList(Place.Field.ID, Place.Field.NAME))\r\n                .setCountries(Arrays.asList(&quot;IQ&quot;))\r\n                .build(this);\r\n\r\n        startActivityForResult(intent, AUTOCOMPLETE_REQUEST_CODE);\r\n\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == AUTOCOMPLETE_REQUEST_CODE) {\r\n            if (resultCode == RESULT_OK) {\r\n                Place place = Autocomplete.getPlaceFromIntent(data);\r\n                Log.i(TAG, &quot;Place:&quot;+ place.getName() + &quot;, &quot; + place.getId());\r\n                LatLng placelatling = place.getLatLng();\r\n                String placetitle = place.getName();\r\n                moveCamera(placelatling, DEFAULT_ZOOM, placetitle);\r\n            }else if (resultCode == AutocompleteActivity.RESULT_ERROR){\r\n                Status status = Autocomplete.getStatusFromIntent(data);\r\n                Log.i(TAG, status.getStatusMessage());\r\n            }else if (resultCode == RESULT_CANCELED) {\r\n                // user has cancelled do nothing\r\n            }\r\n        }\r\n    }\r\n\r\n    private void init(){\r\n        Log.d(TAG, &quot;init: initializing&quot;);\r\n\r\n\r\n        mGps.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;onClick: clicked gps icon&quot;);\r\n                getDeviceLocation();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    private void getDeviceLocation(){\r\n        Log.d(TAG, &quot;getDeviceLocation: getting the devices current location&quot;);\r\n\r\n        mFusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        try{\r\n            if(mLocationPermissionsGranted){\r\n\r\n                final Task&lt;Location&gt; location = mFusedLocationProviderClient.getLastLocation();\r\n                location.addOnCompleteListener(new OnCompleteListener() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task task) {\r\n                        if(task.isSuccessful()){\r\n                            Log.d(TAG, &quot;onComplete: found location!&quot;);\r\n                            Location currentLocation = (Location) task.getResult();\r\n                            userCurrentLocation = currentLocation;\r\n\r\n                            moveCamera(new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude()),\r\n                                    DEFAULT_ZOOM,\r\n                                    &quot;My Location&quot;);\r\n\r\n                        }else{\r\n                            Log.d(TAG, &quot;onComplete: current location is null&quot;);\r\n                            Toast.makeText(MapActivity.this, &quot;unable to get current location&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }catch (SecurityException e){\r\n            Log.e(TAG, &quot;getDeviceLocation: SecurityException: &quot; + e.getMessage() );\r\n        }\r\n    }\r\n\r\n    private void moveCamera(LatLng latLng, float zoom, String title){\r\n        Log.d(TAG, &quot;moveCamera: moving the camera to: lat: &quot; + latLng.latitude + &quot;, lng: &quot; + latLng.longitude );\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, zoom));\r\n\r\n\r\n        if(!title.equals(&quot;My Location&quot;)){\r\n            MarkerOptions options = new MarkerOptions()\r\n                    .position(latLng)\r\n                    .title(title);\r\n            mMap.addMarker(options);\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void initMap(){\r\n        Log.d(TAG, &quot;initMap: initializing map&quot;);\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n\r\n        mapFragment.getMapAsync(MapActivity.this);\r\n        if (mGeoApiContext == null){\r\n            mGeoApiContext = new GeoApiContext.Builder()\r\n                    .apiKey(&quot;AIzaSyAmytqSCGeWxEQMOAeI6SB7nPNH8UayubA&quot;)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n    private void getLocationPermission(){\r\n        Log.d(TAG, &quot;getLocationPermission: getting location permissions&quot;);\r\n        String[] permissions = {Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION};\r\n\r\n        if(ContextCompat.checkSelfPermission(this.getApplicationContext(),\r\n                FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n            if(ContextCompat.checkSelfPermission(this.getApplicationContext(),\r\n                    COURSE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n                mLocationPermissionsGranted = true;\r\n                initMap();\r\n            }else{\r\n                ActivityCompat.requestPermissions(this,\r\n                        permissions,\r\n                        LOCATION_PERMISSION_REQUEST_CODE);\r\n            }\r\n        }else{\r\n            ActivityCompat.requestPermissions(this,\r\n                    permissions,\r\n                    LOCATION_PERMISSION_REQUEST_CODE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        Log.d(TAG, &quot;onRequestPermissionsResult: called.&quot;);\r\n        mLocationPermissionsGranted = false;\r\n\r\n        switch (requestCode) {\r\n            case LOCATION_PERMISSION_REQUEST_CODE: {\r\n                if (grantResults.length &gt; 0) {\r\n                    for (int i = 0; i &lt; grantResults.length; i++) {\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                            mLocationPermissionsGranted = false;\r\n                            Log.d(TAG, &quot;onRequestPermissionsResult: permission failed&quot;);\r\n                            return;\r\n                        }\r\n                    }\r\n                    Log.d(TAG, &quot;onRequestPermissionsResult: permission granted&quot;);\r\n                    mLocationPermissionsGranted = true;\r\n                    //initialize our map\r\n                    initMap();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void hideSoftKeyboard(){\r\n        View view = this.getCurrentFocus();\r\n        if (view != null) {\r\n            InputMethodManager imm = (InputMethodManager)getSystemService(MapActivity.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void calculateDirections(Marker marker){\r\n        Log.d(TAG, &quot;calculateDirections: calculating directions.&quot;);\r\n\r\n        com.google.maps.model.LatLng destination = new com.google.maps.model.LatLng(\r\n                marker.getPosition().latitude,\r\n                marker.getPosition().longitude\r\n        );\r\n        DirectionsApiRequest directions = new DirectionsApiRequest(mGeoApiContext);\r\n\r\n        directions.alternatives(true);\r\n        directions.origin(\r\n                new com.google.maps.model.LatLng(\r\n                        userCurrentLocation.getLatitude(),\r\n                        userCurrentLocation.getLongitude()\r\n                )\r\n        );\r\n        Log.d(TAG, &quot;calculateDirections: destination: &quot; + destination.toString());\r\n        directions.destination(destination).setCallback(new PendingResult.Callback&lt;DirectionsResult&gt;() {\r\n            @Override\r\n            public void onResult(DirectionsResult result) {\r\n                Log.d(TAG, &quot;onResult: routes: &quot; + result.routes[0].toString());\r\n                Log.d(TAG, &quot;onResult: geocodedWayPoints: &quot; + result.geocodedWaypoints[0].toString());\r\n\r\n                addPolylinesToMap(result);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable e) {\r\n                Log.e(TAG, &quot;onFailure: &quot; + e.getMessage() );\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onPolylineClick(@NonNull Polyline polyline) {\r\n        int index = 0;\r\n        for(PolylineData polylineData: mPolylinesData){\r\n            index++;\r\n            Log.d(TAG, &quot;onPolylineClick: toString: &quot; + polylineData.toString());\r\n            if(polyline.getId().equals(polylineData.getPolyline().getId())){\r\n                polylineData.getPolyline().setColor(ContextCompat.getColor(MapActivity.this, com.google.android.libraries.places.R.color.quantum_googblue));\r\n                polylineData.getPolyline().setZIndex(1);\r\n\r\n                LatLng endLocation = new LatLng(\r\n                        polylineData.getLeg().endLocation.lat,\r\n                        polylineData.getLeg().endLocation.lng\r\n                );\r\n\r\n                    Marker marker = mMap.addMarker(new MarkerOptions()\r\n                            .position(endLocation)\r\n                            .title(&quot;Trip: #&quot; + index)\r\n                            .snippet(&quot;Duration: &quot; + polylineData.getLeg().duration)\r\n                    );\r\n                    marker.showInfoWindow();\r\n\r\n            }\r\n            else{\r\n                polylineData.getPolyline().setColor(ContextCompat.getColor(MapActivity.this, R.color.grey));\r\n                polylineData.getPolyline().setZIndex(0);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"onFailure: timeout after making 1 or 2 direction requests","body":"<p>I'm trying to make an app with places and directions I have done that but after 1 or 2 direction calls I just get onFailure: timeout and nothing shows on the screen. I am using firebase for markers but that's not the issue also the marker changes to another marker when using direction and even that isn't working anymore any help would be greatly appreciated</p>\n<p>everything works but you have to wait like 5 seconds each time you make a routes but that might be the emulator but after 1 or 2 routes it says onFailure: timeout I was expecting it to work as i was following a tutorial but morphing it into my app</p>\n<p>It works <a href=\"https://i.stack.imgur.com/gfywj.png\" rel=\"nofollow noreferrer\">it works</a> then</p>\n<p>it doesn't <a href=\"https://i.stack.imgur.com/8apjD.png\" rel=\"nofollow noreferrer\">then it doesnt</a></p>\n<p>this error also only sometimes happens some times I can do a lot of trips and I can re click on it and try doing the direction again and sometimes that works it's really weird</p>\n<p>Map Activity</p>\n<pre><code>package au.com.tutorialmaps;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.AutoCompleteTextView;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport com.google.android.gms.common.api.Status;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MapStyleOptions;\nimport com.google.android.gms.maps.model.Marker;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.maps.model.Polyline;\nimport com.google.android.gms.maps.model.PolylineOptions;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.libraries.places.api.Places;\nimport com.google.android.libraries.places.api.model.Place;\nimport com.google.android.libraries.places.api.net.PlacesClient;\nimport com.google.android.libraries.places.widget.Autocomplete;\nimport com.google.android.libraries.places.widget.AutocompleteActivity;\nimport com.google.android.libraries.places.widget.model.AutocompleteActivityMode;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.GeoPoint;\nimport com.google.firebase.firestore.Query;\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\nimport com.google.firebase.firestore.QuerySnapshot;\nimport com.google.maps.DirectionsApiRequest;\nimport com.google.maps.GeoApiContext;\nimport com.google.maps.PendingResult;\nimport com.google.maps.android.SphericalUtil;\nimport com.google.maps.internal.PolylineEncoding;\nimport com.google.maps.model.DirectionsResult;\nimport com.google.maps.model.DirectionsRoute;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\n\n\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnPolylineClickListener {\n\n\n    @SuppressLint({&quot;SuspiciousIndentation&quot;, &quot;PotentialBehaviorOverride&quot;})\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        Toast.makeText(this, &quot;Map is Ready&quot;, Toast.LENGTH_SHORT).show();\n        Log.d(TAG, &quot;onMapReady: map is ready&quot;);\n        mMap = googleMap;\n\n        if (mLocationPermissionsGranted) {\n            getDeviceLocation();\n\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                    != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                return;\n            }\n\n            mMap.setMyLocationEnabled(true);\n            mMap.getUiSettings().setMyLocationButtonEnabled(false);\n            mMap.getUiSettings().setZoomControlsEnabled(true);\n            mMap.getUiSettings().setZoomGesturesEnabled(true);\n            mMap.isBuildingsEnabled();\n            mMap.setOnPolylineClickListener(this);\n\n\n\n\n\n            init();\n            //mMap.setInfoWindowAdapter(new CustomInfoViewAdapter(this));\n\n            CollectionReference shrinesRef = db.collection(&quot;Shrines&quot;);\n            Query shrine = shrinesRef.whereEqualTo(&quot;isShrine&quot;, true);\n\n            shrine.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        for (QueryDocumentSnapshot document : task.getResult()) {\n                            Log.i(TAG, Objects.requireNonNull(document.getData().get(&quot;LatLing&quot;)).toString());\n                            GeoPoint geoPoint = document.getGeoPoint(&quot;LatLing&quot;);\n                            String name = document.getString(&quot;Name&quot;);\n                            String description = document.getString(&quot;Description&quot;);\n                            if (geoPoint != null &amp;&amp; name != null) {\n                                LatLng latLng = new LatLng(geoPoint.getLatitude(), geoPoint.getLongitude());\n                                Log.i(TAG, &quot;the latLing is   &quot; + latLng);\n                                Log.i(TAG, &quot;the name is   &quot; + name);\n                                Log.i(TAG, &quot;the description is   &quot; + description);\n                                 firebaseMarker = mMap.addMarker(new MarkerOptions()\n                                        .position(latLng)\n                                        .title(name)\n                                        .snippet(description)\n                                         );\n\n\n                            }\n                        }\n                    }else{\n                        Log.w(TAG, &quot;Error getting documents&quot;, task.getException());\n                    }\n                }\n            });\n\n            mMap.setOnInfoWindowLongClickListener(new GoogleMap.OnInfoWindowLongClickListener() {\n                @Override\n                public void onInfoWindowLongClick(@NonNull Marker marker) {\n\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(MapActivity.this);\n                    builder.setMessage(&quot;More Info or Directions?&quot;)\n                            .setCancelable(true)\n                            .setPositiveButton(&quot;Directions&quot;, (dialog, id) -&gt; {\n                                mSelectedMarker = marker;\n                                calculateDirections(mSelectedMarker);\n                                dialog.dismiss();\n                            })\n                            .setNegativeButton(&quot;More Info&quot;, (dialog, id) -&gt; {\n                                dialog.dismiss();\n                            });\n                    final AlertDialog alert = builder.create();\n                    alert.show();\n\n\n                }\n           });\n\n        }\n    }\n\n    private void addPolylinesToMap(final DirectionsResult result){\n        new Handler(Looper.getMainLooper()).post(new Runnable() {\n            @Override\n            public void run() {\n                Log.d(TAG, &quot;run: result routes: &quot; + result.routes.length);\n                if (mPolylinesData.size() &gt; 0){\n                    for (PolylineData polylineData : mPolylinesData){\n                        polylineData.getPolyline().remove();\n                    }\n                    mPolylinesData.clear();\n                    mPolylinesData = new ArrayList&lt;&gt;();\n                }\n                double duration = 999999999;\n                for(DirectionsRoute route: result.routes){\n                    Log.d(TAG, &quot;run: leg: &quot; + route.legs[0].toString());\n                    List&lt;com.google.maps.model.LatLng&gt; decodedPath = PolylineEncoding.decode(route.overviewPolyline.getEncodedPath());\n\n                    List&lt;LatLng&gt; newDecodedPath = new ArrayList&lt;&gt;();\n\n                    // This loops through all the LatLng coordinates of ONE polyline.\n                    for(com.google.maps.model.LatLng latLng: decodedPath){\n\n//                        Log.d(TAG, &quot;run: latlng: &quot; + latLng.toString());\n\n                        newDecodedPath.add(new LatLng(\n                                latLng.lat,\n                                latLng.lng\n                        ));\n                    }\n                    Polyline polyline = mMap.addPolyline(new PolylineOptions().addAll(newDecodedPath));\n                    polyline.setColor(ContextCompat.getColor(MapActivity.this, R.color.grey));\n                    polyline.setClickable(true);\n                    mPolylinesData.add(new PolylineData(polyline, route.legs[0]));\n                    onPolylineClick(polyline);\n                    double tempDuration = route.legs[0].duration.inSeconds;\n                    if (tempDuration &lt; duration) {\n                        duration = tempDuration;\n                        onPolylineClick(polyline);\n\n                    }\n                    mSelectedMarker.setVisible(false);\n                }\n            }\n        });\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.map_types_menu, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()){\n            case R.id.normal:\n                mMap.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.daymap));\n                mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n                break;\n            case R.id.hybrid:\n                mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\n                break;\n            case R.id.satellite:\n                mMap.setMapType(GoogleMap.MAP_TYPE_SATELLITE);\n                break;\n            case R.id.terrain:\n                mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\n                break;\n            case R.id.normalnight:\n                mMap.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.nightmap));\n                break;\n        }\n        return true;\n    }\n\n    private static final String TAG = &quot;MapActivity&quot;;\n\n    private static final String FINE_LOCATION = Manifest.permission.ACCESS_FINE_LOCATION;\n    private static final String COURSE_LOCATION = Manifest.permission.ACCESS_COARSE_LOCATION;\n    private static final int LOCATION_PERMISSION_REQUEST_CODE = 1234;\n    private static final float DEFAULT_ZOOM = 7f;\n\n    //widgets\n    private AutoCompleteTextView mSearchText;\n    private ImageView mGps;\n    private Button mSRearchFiller;\n\n    //vars\n    private Boolean mLocationPermissionsGranted = false;\n    private GoogleMap mMap;\n    private FusedLocationProviderClient mFusedLocationProviderClient;\n    private PlacesClient mplacesclient;\n    private Autocomplete autocomplete;\n    private static int AUTOCOMPLETE_REQUEST_CODE = 1079;\n    private FirebaseFirestore db;\n    private GeoApiContext mGeoApiContext = null;\n    private Location userCurrentLocation;\n    private Marker firebaseMarker;\n    private ArrayList&lt;PolylineData&gt; mPolylinesData = new ArrayList&lt;&gt;();\n    private Marker mSelectedMarker = null;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        mSRearchFiller = (Button) findViewById(R.id.btn2);\n        mGps = (ImageView) findViewById(R.id.ic_gps);\n        Places.initialize(getApplicationContext(), &quot;AIzaSyDa-r-kB83q9XM0CjCaRx7uQqSeSxs-m0Q&quot;);\n        PlacesClient placesClient = Places.createClient(this);\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n        db = firestore;\n\n        getLocationPermission();\n\n\n        CollectionReference shrinesRef = firestore.collection(&quot;Shrines&quot;);\n\n// Create a query against the collection.\n        Query query = shrinesRef.whereEqualTo(&quot;Name&quot;, &quot;Imam Ali&quot;);\n\n\n\n    }\n\n    public void startAutocompleteActivity(View view) {\n        // Start the autocomplete intent.\n        Intent intent = new Autocomplete.IntentBuilder(AutocompleteActivityMode.OVERLAY, Arrays.asList(Place.Field.ID, Place.Field.NAME))\n                .setCountries(Arrays.asList(&quot;IQ&quot;))\n                .build(this);\n\n        startActivityForResult(intent, AUTOCOMPLETE_REQUEST_CODE);\n\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == AUTOCOMPLETE_REQUEST_CODE) {\n            if (resultCode == RESULT_OK) {\n                Place place = Autocomplete.getPlaceFromIntent(data);\n                Log.i(TAG, &quot;Place:&quot;+ place.getName() + &quot;, &quot; + place.getId());\n                LatLng placelatling = place.getLatLng();\n                String placetitle = place.getName();\n                moveCamera(placelatling, DEFAULT_ZOOM, placetitle);\n            }else if (resultCode == AutocompleteActivity.RESULT_ERROR){\n                Status status = Autocomplete.getStatusFromIntent(data);\n                Log.i(TAG, status.getStatusMessage());\n            }else if (resultCode == RESULT_CANCELED) {\n                // user has cancelled do nothing\n            }\n        }\n    }\n\n    private void init(){\n        Log.d(TAG, &quot;init: initializing&quot;);\n\n\n        mGps.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Log.d(TAG, &quot;onClick: clicked gps icon&quot;);\n                getDeviceLocation();\n            }\n        });\n\n\n    }\n\n\n    private void getDeviceLocation(){\n        Log.d(TAG, &quot;getDeviceLocation: getting the devices current location&quot;);\n\n        mFusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n        try{\n            if(mLocationPermissionsGranted){\n\n                final Task&lt;Location&gt; location = mFusedLocationProviderClient.getLastLocation();\n                location.addOnCompleteListener(new OnCompleteListener() {\n                    @Override\n                    public void onComplete(@NonNull Task task) {\n                        if(task.isSuccessful()){\n                            Log.d(TAG, &quot;onComplete: found location!&quot;);\n                            Location currentLocation = (Location) task.getResult();\n                            userCurrentLocation = currentLocation;\n\n                            moveCamera(new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude()),\n                                    DEFAULT_ZOOM,\n                                    &quot;My Location&quot;);\n\n                        }else{\n                            Log.d(TAG, &quot;onComplete: current location is null&quot;);\n                            Toast.makeText(MapActivity.this, &quot;unable to get current location&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            }\n        }catch (SecurityException e){\n            Log.e(TAG, &quot;getDeviceLocation: SecurityException: &quot; + e.getMessage() );\n        }\n    }\n\n    private void moveCamera(LatLng latLng, float zoom, String title){\n        Log.d(TAG, &quot;moveCamera: moving the camera to: lat: &quot; + latLng.latitude + &quot;, lng: &quot; + latLng.longitude );\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, zoom));\n\n\n        if(!title.equals(&quot;My Location&quot;)){\n            MarkerOptions options = new MarkerOptions()\n                    .position(latLng)\n                    .title(title);\n            mMap.addMarker(options);\n\n        }\n\n\n    }\n\n    private void initMap(){\n        Log.d(TAG, &quot;initMap: initializing map&quot;);\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\n\n        mapFragment.getMapAsync(MapActivity.this);\n        if (mGeoApiContext == null){\n            mGeoApiContext = new GeoApiContext.Builder()\n                    .apiKey(&quot;AIzaSyAmytqSCGeWxEQMOAeI6SB7nPNH8UayubA&quot;)\n                    .build();\n        }\n    }\n\n    private void getLocationPermission(){\n        Log.d(TAG, &quot;getLocationPermission: getting location permissions&quot;);\n        String[] permissions = {Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION};\n\n        if(ContextCompat.checkSelfPermission(this.getApplicationContext(),\n                FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n            if(ContextCompat.checkSelfPermission(this.getApplicationContext(),\n                    COURSE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n                mLocationPermissionsGranted = true;\n                initMap();\n            }else{\n                ActivityCompat.requestPermissions(this,\n                        permissions,\n                        LOCATION_PERMISSION_REQUEST_CODE);\n            }\n        }else{\n            ActivityCompat.requestPermissions(this,\n                    permissions,\n                    LOCATION_PERMISSION_REQUEST_CODE);\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        Log.d(TAG, &quot;onRequestPermissionsResult: called.&quot;);\n        mLocationPermissionsGranted = false;\n\n        switch (requestCode) {\n            case LOCATION_PERMISSION_REQUEST_CODE: {\n                if (grantResults.length &gt; 0) {\n                    for (int i = 0; i &lt; grantResults.length; i++) {\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                            mLocationPermissionsGranted = false;\n                            Log.d(TAG, &quot;onRequestPermissionsResult: permission failed&quot;);\n                            return;\n                        }\n                    }\n                    Log.d(TAG, &quot;onRequestPermissionsResult: permission granted&quot;);\n                    mLocationPermissionsGranted = true;\n                    //initialize our map\n                    initMap();\n                }\n            }\n        }\n    }\n\n\n    private void hideSoftKeyboard(){\n        View view = this.getCurrentFocus();\n        if (view != null) {\n            InputMethodManager imm = (InputMethodManager)getSystemService(MapActivity.INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n        }\n    }\n\n\n\n    private void calculateDirections(Marker marker){\n        Log.d(TAG, &quot;calculateDirections: calculating directions.&quot;);\n\n        com.google.maps.model.LatLng destination = new com.google.maps.model.LatLng(\n                marker.getPosition().latitude,\n                marker.getPosition().longitude\n        );\n        DirectionsApiRequest directions = new DirectionsApiRequest(mGeoApiContext);\n\n        directions.alternatives(true);\n        directions.origin(\n                new com.google.maps.model.LatLng(\n                        userCurrentLocation.getLatitude(),\n                        userCurrentLocation.getLongitude()\n                )\n        );\n        Log.d(TAG, &quot;calculateDirections: destination: &quot; + destination.toString());\n        directions.destination(destination).setCallback(new PendingResult.Callback&lt;DirectionsResult&gt;() {\n            @Override\n            public void onResult(DirectionsResult result) {\n                Log.d(TAG, &quot;onResult: routes: &quot; + result.routes[0].toString());\n                Log.d(TAG, &quot;onResult: geocodedWayPoints: &quot; + result.geocodedWaypoints[0].toString());\n\n                addPolylinesToMap(result);\n            }\n\n            @Override\n            public void onFailure(Throwable e) {\n                Log.e(TAG, &quot;onFailure: &quot; + e.getMessage() );\n\n            }\n        });\n    }\n\n\n    @Override\n    public void onPolylineClick(@NonNull Polyline polyline) {\n        int index = 0;\n        for(PolylineData polylineData: mPolylinesData){\n            index++;\n            Log.d(TAG, &quot;onPolylineClick: toString: &quot; + polylineData.toString());\n            if(polyline.getId().equals(polylineData.getPolyline().getId())){\n                polylineData.getPolyline().setColor(ContextCompat.getColor(MapActivity.this, com.google.android.libraries.places.R.color.quantum_googblue));\n                polylineData.getPolyline().setZIndex(1);\n\n                LatLng endLocation = new LatLng(\n                        polylineData.getLeg().endLocation.lat,\n                        polylineData.getLeg().endLocation.lng\n                );\n\n                    Marker marker = mMap.addMarker(new MarkerOptions()\n                            .position(endLocation)\n                            .title(&quot;Trip: #&quot; + index)\n                            .snippet(&quot;Duration: &quot; + polylineData.getLeg().duration)\n                    );\n                    marker.showInfoWindow();\n\n            }\n            else{\n                polylineData.getPolyline().setColor(ContextCompat.getColor(MapActivity.this, R.color.grey));\n                polylineData.getPolyline().setZIndex(0);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1673318171,"post_id":75064848,"comment_id":132466954,"body_markdown":"`distinctByKey` only executes once because it is only called once, when you pass the result to `filter`. It&#39;s the `Predicate` (implemented by a lambda in your code) that gets executed for each element in the stream. And that&#39;s also why `Set&lt;Object&gt; seen = ...` only gets executed once, because it&#39;s in `distinctByKey` but **not** in the lambda. Which also means your `Predicate` is **not** stateless.","body":"<code>distinctByKey</code> only executes once because it is only called once, when you pass the result to <code>filter</code>. It&#39;s the <code>Predicate</code> (implemented by a lambda in your code) that gets executed for each element in the stream. And that&#39;s also why <code>Set&lt;Object&gt; seen = ...</code> only gets executed once, because it&#39;s in <code>distinctByKey</code> but <b>not</b> in the lambda. Which also means your <code>Predicate</code> is <b>not</b> stateless."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673337932,"post_id":75064848,"comment_id":132470288,"body_markdown":"Both, the builtin `distinct()` and this `distinctByKey` are stateful. However, the latter depends on external state, as the Stream has no knowledge of the `ConcurrentHashMap`. As a consequence, the builtin `distinct()` will respect encounter order and pick the first one of duplicates, whereas this `distinctByKey` can not make such guaranty.","body":"Both, the builtin <code>distinct()</code> and this <code>distinctByKey</code> are stateful. However, the latter depends on external state, as the Stream has no knowledge of the <code>ConcurrentHashMap</code>. As a consequence, the builtin <code>distinct()</code> will respect encounter order and pick the first one of duplicates, whereas this <code>distinctByKey</code> can not make such guaranty."}],"answers":[{"comments":[{"owner":{"account_id":22016374,"reputation":31,"user_id":16285798,"display_name":"phantomsee"},"score":0,"creation_date":1673320259,"post_id":75065039,"comment_id":132467221,"body_markdown":"Wrapper is another way to distinct a collection of entity by key.","body":"Wrapper is another way to distinct a collection of entity by key."},{"owner":{"account_id":22016374,"reputation":31,"user_id":16285798,"display_name":"phantomsee"},"score":0,"creation_date":1673332171,"post_id":75065039,"comment_id":132468886,"body_markdown":"The method `Stream.distinct()` is a stateful intermediate operation.","body":"The method <code>Stream.distinct()</code> is a stateful intermediate operation."},{"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"score":0,"creation_date":1673338633,"post_id":75065039,"comment_id":132470471,"body_markdown":"Ah yes. Anyway there is no need to add custom states.","body":"Ah yes. Anyway there is no need to add custom states."}],"tags":[],"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673319802,"creation_date":1673319802,"answer_id":75065039,"question_id":75064848,"body_markdown":"If you want to distinct by key you can use trick with wrapper. Java stream API does not provide way to distinct by custom rule, it relies in equals() and hashCode() methods of your class.\r\n\r\nIf we want to use custom distinction then we can create wrapper class where we can override given methods:\r\n\r\n```\r\npublic class Sample {\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    private static class UserInfo {\r\n        private int id;\r\n        private String name;\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    private static class UserInfoWrapper {\r\n        private UserInfo userInfo;\r\n\r\n        public static UserInfoWrapper wrap(UserInfo userInfo) {\r\n            return new UserInfoWrapper(userInfo);\r\n        }\r\n\r\n        public UserInfo unwrap() {\r\n            return userInfo;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(final Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            final UserInfoWrapper that = (UserInfoWrapper) o;\r\n            return Objects.equals(userInfo.id, that.userInfo.id);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(userInfo.id);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;UserInfo&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new UserInfo(1, &quot;a&quot;));\r\n        list.add(new UserInfo(2, &quot;b&quot;));\r\n        list.add(new UserInfo(2, &quot;c&quot;));\r\n        List&lt;UserInfo&gt; result = list.stream()\r\n                .map(UserInfoWrapper::wrap)\r\n                .distinct()\r\n                .map(UserInfoWrapper::unwrap)\r\n                .collect(Collectors.toList());\r\n        System.out.println(result);\r\n\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n[Sample.UserInfo(id=1, name=a), Sample.UserInfo(id=2, name=b)]\r\n```\r\n\r\nAnd it will be definitely pure stateless solution.","title":"How does this java stream code [distinctByKey] executes and is it stateless?","body":"<p>If you want to distinct by key you can use trick with wrapper. Java stream API does not provide way to distinct by custom rule, it relies in equals() and hashCode() methods of your class.</p>\n<p>If we want to use custom distinction then we can create wrapper class where we can override given methods:</p>\n<pre><code>public class Sample {\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    private static class UserInfo {\n        private int id;\n        private String name;\n    }\n\n    @AllArgsConstructor\n    private static class UserInfoWrapper {\n        private UserInfo userInfo;\n\n        public static UserInfoWrapper wrap(UserInfo userInfo) {\n            return new UserInfoWrapper(userInfo);\n        }\n\n        public UserInfo unwrap() {\n            return userInfo;\n        }\n\n        @Override\n        public boolean equals(final Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            final UserInfoWrapper that = (UserInfoWrapper) o;\n            return Objects.equals(userInfo.id, that.userInfo.id);\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(userInfo.id);\n        }\n    }\n\n\n    public static void main(String[] args) {\n\n        List&lt;UserInfo&gt; list = new ArrayList&lt;&gt;();\n        list.add(new UserInfo(1, &quot;a&quot;));\n        list.add(new UserInfo(2, &quot;b&quot;));\n        list.add(new UserInfo(2, &quot;c&quot;));\n        List&lt;UserInfo&gt; result = list.stream()\n                .map(UserInfoWrapper::wrap)\n                .distinct()\n                .map(UserInfoWrapper::unwrap)\n                .collect(Collectors.toList());\n        System.out.println(result);\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[Sample.UserInfo(id=1, name=a), Sample.UserInfo(id=2, name=b)]\n</code></pre>\n<p>And it will be definitely pure stateless solution.</p>\n"}],"owner":{"account_id":22016374,"reputation":31,"user_id":16285798,"display_name":"phantomsee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673319802,"creation_date":1673317481,"question_id":75064848,"body_markdown":"I want to distinct a list by primary key, and why does `Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();` executes only once and `seen.add(keyExtractor.apply(t));` executes for every element in the list?  \r\nAnd is the method `distinctByKey` stateless?\r\n```\r\npublic static void main(String[] args) {\r\n\tList&lt;UserInfo&gt; list = new ArrayList&lt;&gt;();\r\n\tlist.add(new UserInfo(1, &quot;a&quot;));\r\n\tlist.add(new UserInfo(2, &quot;b&quot;));\r\n\tlist.add(new UserInfo(2, &quot;c&quot;));\r\n\tList&lt;UserInfo&gt; result = list.stream()\r\n\t\t\t.filter(distinctByKey(userInfo -&gt; userInfo.id))\r\n\t\t\t.collect(Collectors.toList());\r\n\tSystem.out.println(result);\r\n}\r\n\r\nprivate static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\r\n\tSet&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\r\n\treturn (t) -&gt; {\r\n\t\treturn seen.add(keyExtractor.apply(t));\r\n\t};\r\n}\r\n\r\n```","title":"How does this java stream code [distinctByKey] executes and is it stateless?","body":"<p>I want to distinct a list by primary key, and why does <code>Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();</code> executes only once and <code>seen.add(keyExtractor.apply(t));</code> executes for every element in the list?<br />\nAnd is the method <code>distinctByKey</code> stateless?</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;UserInfo&gt; list = new ArrayList&lt;&gt;();\n    list.add(new UserInfo(1, &quot;a&quot;));\n    list.add(new UserInfo(2, &quot;b&quot;));\n    list.add(new UserInfo(2, &quot;c&quot;));\n    List&lt;UserInfo&gt; result = list.stream()\n            .filter(distinctByKey(userInfo -&gt; userInfo.id))\n            .collect(Collectors.toList());\n    System.out.println(result);\n}\n\nprivate static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\n    Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\n    return (t) -&gt; {\n        return seen.add(keyExtractor.apply(t));\n    };\n}\n\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673287751,"post_id":75061312,"comment_id":132460649,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673287794,"post_id":75061312,"comment_id":132460661,"body_markdown":"Please add a [mcve]","body":"Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1673288617,"post_id":75061312,"comment_id":132460877,"body_markdown":"`allTypes.stream().map(t -&gt; t.TypeB).collect(Collectors.toList())`","body":"<code>allTypes.stream().map(t -&gt; t.TypeB).collect(Collectors.toList())</code>"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1673290165,"post_id":75061312,"comment_id":132461320,"body_markdown":"@Eritrean, what is `t.TypeB`? Does `class Types` compile for you? &#128521; And FYI: With modern versions of Java, `.collect(Collectors.toList())` can be simplified to `.toList()`.","body":"@Eritrean, what is <code>t.TypeB</code>? Does <code>class Types</code> compile for you? 😉 And FYI: With modern versions of Java, <code>.collect(Collectors.toList())</code> can be simplified to <code>.toList()</code>."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673296560,"post_id":75061312,"comment_id":132463062,"body_markdown":"Please [edit] your question to include a [mre]. It must be compilable and match your actual source.","body":"Please <a href=\"https://stackoverflow.com/posts/75061312/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It must be compilable and match your actual source."},{"owner":{"account_id":3821089,"reputation":769,"user_id":3169180,"accept_rate":67,"display_name":"mrmannione"},"score":0,"creation_date":1673304433,"post_id":75061312,"comment_id":132465046,"body_markdown":"I am hoping the experts here can give me an example.","body":"I am hoping the experts here can give me an example."}],"answers":[{"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673315609,"post_id":75064664,"comment_id":132466628,"body_markdown":"of course, you will still need to provide methods, constructors etc. I m just testing the logic to see why the code you provided says typeB is not accessible","body":"of course, you will still need to provide methods, constructors etc. I m just testing the logic to see why the code you provided says typeB is not accessible"}],"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673318039,"creation_date":1673315446,"answer_id":75064664,"question_id":75061312,"body_markdown":"I tried the following and it compiles just fine. I even wonder how your code runs/compiles given the state of your Types class.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          Types types = new Types();\r\n          types.a = new TypeA();\r\n          types.b = new TypeB();\r\n          List&lt;Types&gt; allTypes = Arrays.asList(types);\r\n          //refer to the varible in t\r\n          List&lt;TypeB&gt; typeB = allTypes.stream().map(t -&gt; t.b).collect(Collectors.toList());\r\n          System.out.println(typeB.get(0).getClass());\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    class Types {\r\n        //besides stating the type, you need to give variable a name\r\n     public TypeA a;\r\n     public TypeB b;\r\n    } \r\n    \r\n    //provide the typea and typeb classes\r\n    class TypeB {}\r\n    class TypeA {}","title":"Java stream extract list of an element from a list of objects","body":"<p>I tried the following and it compiles just fine. I even wonder how your code runs/compiles given the state of your Types class.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.stream.Collectors;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      Types types = new Types();\n      types.a = new TypeA();\n      types.b = new TypeB();\n      List&lt;Types&gt; allTypes = Arrays.asList(types);\n      //refer to the varible in t\n      List&lt;TypeB&gt; typeB = allTypes.stream().map(t -&gt; t.b).collect(Collectors.toList());\n      System.out.println(typeB.get(0).getClass());\n    }\n}\n\n\n\nclass Types {\n    //besides stating the type, you need to give variable a name\n public TypeA a;\n public TypeB b;\n} \n\n//provide the typea and typeb classes\nclass TypeB {}\nclass TypeA {}\n</code></pre>\n"}],"owner":{"account_id":3821089,"reputation":769,"user_id":3169180,"accept_rate":67,"display_name":"mrmannione"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673319341,"creation_date":1673287662,"question_id":75061312,"body_markdown":"I have an a list of objects.  I want to extract another list of objects from that list.\r\n\r\nOriginal List:\r\n\r\n    List&lt;Types&gt; allTypes\r\n    \r\n    class Types {\r\n     public TypeA\r\n     public TypeB\r\n    }\r\n\r\n// my class does not have a getTypeA method\r\n\r\nI want a stream to end up with:\r\n\r\n    List&lt;TypeB&gt; typeBs\r\n\r\nIs this possible.\r\n\r\nI tried this and it does not work.\r\n\r\n    allTypes.stream().map(t -&gt; t.TypeB).collect(Collectors.toList()) \r\n\r\nt.TypeB is not accessible.\r\n\r\n\r\n\r\nThanks.\r\n\r\n","title":"Java stream extract list of an element from a list of objects","body":"<p>I have an a list of objects.  I want to extract another list of objects from that list.</p>\n<p>Original List:</p>\n<pre><code>List&lt;Types&gt; allTypes\n\nclass Types {\n public TypeA\n public TypeB\n}\n</code></pre>\n<p>// my class does not have a getTypeA method</p>\n<p>I want a stream to end up with:</p>\n<pre><code>List&lt;TypeB&gt; typeBs\n</code></pre>\n<p>Is this possible.</p>\n<p>I tried this and it does not work.</p>\n<pre><code>allTypes.stream().map(t -&gt; t.TypeB).collect(Collectors.toList()) \n</code></pre>\n<p>t.TypeB is not accessible.</p>\n<p>Thanks.</p>\n"},{"tags":["java","lambda","java-8","option-type","java-9"],"comments":[{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":14,"creation_date":1425326730,"post_id":28818506,"comment_id":45908646,"body_markdown":"[See this issue](https://bugs.openjdk.java.net/browse/JDK-8071670?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab). To clarify: this is already going to be in Java 9 - if not in a future update of Java 8.","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8071670?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\" rel=\"nofollow noreferrer\">See this issue</a>. To clarify: this is already going to be in Java 9 - if not in a future update of Java 8."},{"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"score":0,"creation_date":1425327097,"post_id":28818506,"comment_id":45908832,"body_markdown":"It is! Thanks, didn&#39;t find that in my searching.","body":"It is! Thanks, didn&#39;t find that in my searching."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1442575688,"post_id":28818506,"comment_id":53148372,"body_markdown":"@Obicere That issue does not apply here because it is about _behavior_ on empty Optional, not about _an alternative result_. Optional already has `orElseGet()` for what OP needs, only it doesn&#39;t generate nice cascading syntax.","body":"@Obicere That issue does not apply here because it is about <i>behavior</i> on empty Optional, not about <i>an alternative result</i>. Optional already has <code>orElseGet()</code> for what OP needs, only it doesn&#39;t generate nice cascading syntax."},{"owner":{"account_id":1775560,"reputation":1720,"user_id":1619407,"display_name":"Alessandro Giusa"},"score":1,"creation_date":1468072442,"post_id":28818506,"comment_id":63983717,"body_markdown":"http://stackoverflow.com/questions/23773024/functional-style-of-java-8s-optional-ifpresent-and-if-not-present/38282460#38282460","body":"<a href=\"http://stackoverflow.com/questions/23773024/functional-style-of-java-8s-optional-ifpresent-and-if-not-present/38282460#38282460\" title=\"functional style of java 8s optional ifpresent and if not present\">stackoverflow.com/questions/23773024/&hellip;</a>"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1470818516,"post_id":28818506,"comment_id":65099092,"body_markdown":"I wrote [an answer](http://stackoverflow.com/a/38560612/2525313) using the new Java 9 syntax.","body":"I wrote <a href=\"http://stackoverflow.com/a/38560612/2525313\">an answer</a> using the new Java 9 syntax."},{"owner":{"account_id":7097390,"reputation":65,"user_id":5461753,"display_name":"John Detroit"},"score":1,"creation_date":1524991890,"post_id":28818506,"comment_id":87185417,"body_markdown":"Great tutorials on Java Optional: http://codeflex.co/java-optional-no-more-nullpointerexception/","body":"Great tutorials on Java Optional: <a href=\"http://codeflex.co/java-optional-no-more-nullpointerexception/\" rel=\"nofollow noreferrer\">codeflex.co/java-optional-no-more-nullpointerexception</a>"}],"answers":[{"comments":[{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":2,"creation_date":1477622326,"post_id":28818627,"comment_id":67852493,"body_markdown":"This is what geniuses usually do. Evaluate the optional as a nullable and wrapping it with `ofNullable` is the coolest thing I&#39;ve ever seen.","body":"This is what geniuses usually do. Evaluate the optional as a nullable and wrapping it with <code>ofNullable</code> is the coolest thing I&#39;ve ever seen."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1425327478,"creation_date":1425327042,"answer_id":28818627,"question_id":28818506,"body_markdown":"Perhaps this is what you&#39;re after: https://stackoverflow.com/questions/24599996/get-value-from-one-optional-or-another\r\n\r\nOtherwise, you may want to have a look at [`Optional.orElseGet`](http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-). Here&#39;s an example of what I *think* that you&#39;re after:\r\n\r\n\r\n    result = Optional.ofNullable(serviceA().orElseGet(\r\n                                     () -&gt; serviceB().orElseGet(\r\n                                         () -&gt; serviceC().orElse(null))));","title":"Optional orElse Optional in Java","body":"<p>Perhaps this is what you're after: <a href=\"https://stackoverflow.com/questions/24599996/get-value-from-one-optional-or-another\">Get value from one Optional or another</a></p>\n\n<p>Otherwise, you may want to have a look at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\" rel=\"noreferrer\"><code>Optional.orElseGet</code></a>. Here's an example of what I <em>think</em> that you're after:</p>\n\n<pre><code>result = Optional.ofNullable(serviceA().orElseGet(\n                                 () -&gt; serviceB().orElseGet(\n                                     () -&gt; serviceC().orElse(null))));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":1,"creation_date":1474660855,"post_id":28821352,"comment_id":66638944,"body_markdown":"huh, when I use this strategy, eclipse says: &quot;The method orElseGet(Supplier&lt;? extends String&gt;) in the type Optional&lt;String&gt; is not applicable for the arguments (() -&gt; {})&quot;      It doesn&#39;t seem to consider returning an Optional a valid strategy, on the String??","body":"huh, when I use this strategy, eclipse says: &quot;The method orElseGet(Supplier&lt;? extends String&gt;) in the type Optional&lt;String&gt; is not applicable for the arguments (() -&gt; {})&quot;      It doesn&#39;t seem to consider returning an Optional a valid strategy, on the String??"},{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":0,"creation_date":1474663739,"post_id":28821352,"comment_id":66640183,"body_markdown":"@chrismarx `() -&gt; {}` does not return an `Optional`.  What are you trying to accomplish?","body":"@chrismarx <code>() -&gt; {}</code> does not return an <code>Optional</code>.  What are you trying to accomplish?"},{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":1,"creation_date":1474816460,"post_id":28821352,"comment_id":66676101,"body_markdown":"I&#39;m just trying to follow the example. Chaining the map calls isn&#39;t working. My services return strings, and of course there&#39;s no .map() option available then","body":"I&#39;m just trying to follow the example. Chaining the map calls isn&#39;t working. My services return strings, and of course there&#39;s no .map() option available then"},{"owner":{"account_id":6915615,"reputation":2622,"user_id":5966155,"display_name":"David M."},"score":1,"creation_date":1513876635,"post_id":28821352,"comment_id":82828069,"body_markdown":"Excellent readable alternative to the upcoming `or(Supplier&lt;Optional&lt;T&gt;&gt;)` of Java 9","body":"Excellent readable alternative to the upcoming <code>or(Supplier&lt;Optional&lt;T&gt;&gt;)</code> of Java 9"},{"owner":{"account_id":178074,"reputation":677,"user_id":409817,"accept_rate":67,"display_name":"Sheepy"},"score":0,"creation_date":1520488988,"post_id":28821352,"comment_id":85338098,"body_markdown":"How did this get so many upvotes? This is totally incorrect. This will always produce serviceA, even when it&#39;s `empty()`. \n\nAnd that&#39;s because `serviceA(args).map(Optional::of)` will never be empty for it to reach the next `orElseGet` (i.e. `of(empty())` is not `empty()`)","body":"How did this get so many upvotes? This is totally incorrect. This will always produce serviceA, even when it&#39;s <code>empty()</code>.   And that&#39;s because <code>serviceA(args).map(Optional::of)</code> will never be empty for it to reach the next <code>orElseGet</code> (i.e. <code>of(empty())</code> is not <code>empty()</code>)"},{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":1,"creation_date":1520489139,"post_id":28821352,"comment_id":85338157,"body_markdown":"@Sheepy you are mistaken.  `.map()` on an empty `Optional` will produce an empty `Optional`.","body":"@Sheepy you are mistaken.  <code>.map()</code> on an empty <code>Optional</code> will produce an empty <code>Optional</code>."},{"owner":{"account_id":178074,"reputation":677,"user_id":409817,"accept_rate":67,"display_name":"Sheepy"},"score":0,"creation_date":1520552299,"post_id":28821352,"comment_id":85374435,"body_markdown":"Oh my god, i beg ur pardon, I completely misread that, you&#39;re right sorry. \nBtw normally i&#39;d have a helper method e.g. `static Optional or(Supplier&lt;Optional&gt;...)`.\nAlternatively, guava&#39;s optional does support the proper way (i.e. `Optional.or(Supplier&lt;Optional&gt;&gt;)`)","body":"Oh my god, i beg ur pardon, I completely misread that, you&#39;re right sorry.  Btw normally i&#39;d have a helper method e.g. <code>static Optional or(Supplier&lt;Optional&gt;...)</code>. Alternatively, guava&#39;s optional does support the proper way (i.e. <code>Optional.or(Supplier&lt;Optional&gt;&gt;)</code>)"}],"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"comment_count":7,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1425341071,"creation_date":1425338792,"answer_id":28821352,"question_id":28818506,"body_markdown":"It&#39;s not pretty, but this will work:\r\n\r\n\treturn serviceA(args)\r\n\t  .map(Optional::of).orElseGet(() -&gt; serviceB(args))\r\n\t  .map(Optional::of).orElseGet(() -&gt; serviceC(args))\r\n\t  .map(Optional::of).orElseGet(() -&gt; serviceD(args));\r\n\r\n\r\n`.map(func).orElseGet(sup)` is a fairly handy pattern for use with `Optional`.  It means &quot;If this `Optional` contains value `v`, give me `func(v)`, otherwise give me `sup.get()`&quot;.  \r\n\r\nIn this case, we call `serviceA(args)` and get an `Optional&lt;Result&gt;`.  If that `Optional` contains value `v`, we want to get `Optional.of(v)`, but if it is empty, we want to get `serviceB(args)`. Rinse-repeat with more alternatives.\r\n\r\nOther uses of this pattern are \r\n\r\n*  `.map(Stream::of).orElseGet(Stream::empty)`\r\n*  `.map(Collections::singleton).orElseGet(Collections::emptySet)`\r\n","title":"Optional orElse Optional in Java","body":"<p>It's not pretty, but this will work:</p>\n\n<pre><code>return serviceA(args)\n  .map(Optional::of).orElseGet(() -&gt; serviceB(args))\n  .map(Optional::of).orElseGet(() -&gt; serviceC(args))\n  .map(Optional::of).orElseGet(() -&gt; serviceD(args));\n</code></pre>\n\n<p><code>.map(func).orElseGet(sup)</code> is a fairly handy pattern for use with <code>Optional</code>.  It means \"If this <code>Optional</code> contains value <code>v</code>, give me <code>func(v)</code>, otherwise give me <code>sup.get()</code>\".  </p>\n\n<p>In this case, we call <code>serviceA(args)</code> and get an <code>Optional&lt;Result&gt;</code>.  If that <code>Optional</code> contains value <code>v</code>, we want to get <code>Optional.of(v)</code>, but if it is empty, we want to get <code>serviceB(args)</code>. Rinse-repeat with more alternatives.</p>\n\n<p>Other uses of this pattern are </p>\n\n<ul>\n<li><code>.map(Stream::of).orElseGet(Stream::empty)</code></li>\n<li><code>.map(Collections::singleton).orElseGet(Collections::emptySet)</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":108567,"reputation":6062,"user_id":288091,"accept_rate":94,"display_name":"Ilya Smagin"},"score":14,"creation_date":1435836281,"post_id":28833677,"comment_id":50371868,"body_markdown":"just used that in a project, thank god we don&#39;t do code reviews though.","body":"just used that in a project, thank god we don&#39;t do code reviews though."},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":3,"creation_date":1442867264,"post_id":28833677,"comment_id":53251400,"body_markdown":"It&#39;s a lot cleaner, than a chain of &quot;orElseGet&quot;, but it is also a lot harder to read.","body":"It&#39;s a lot cleaner, than a chain of &quot;orElseGet&quot;, but it is also a lot harder to read."},{"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"score":4,"creation_date":1446018008,"post_id":28833677,"comment_id":54563334,"body_markdown":"This is certainly correct... but honestly, it takes me a second to parse it and I don&#39;t come away with confidence that it&#39;s correct. Mind you, I realize that this example is, but I could imagine a small change that would make it not be lazily evaluated or have some other error that would be indistinguishable at a glance. To me, this falls into would-be-decent-as-a-utility-function category.","body":"This is certainly correct... but honestly, it takes me a second to parse it and I don&#39;t come away with confidence that it&#39;s correct. Mind you, I realize that this example is, but I could imagine a small change that would make it not be lazily evaluated or have some other error that would be indistinguishable at a glance. To me, this falls into would-be-decent-as-a-utility-function category."},{"owner":{"account_id":876051,"reputation":1497,"user_id":925675,"accept_rate":50,"display_name":"schatten"},"score":3,"creation_date":1475103752,"post_id":28833677,"comment_id":66813896,"body_markdown":"I wonder if switching `.map(Optional::get)` with `.findFirst()` will make it easier to &quot;read&quot;, e.g. `.filter(Optional::isPresent).findFirst().map(Optional::get)` can be &quot;read&quot; like &quot;find the first element in the stream for which Optional::isPresent is true and then flatten it by applying Optional::get&quot; ?","body":"I wonder if switching <code>.map(Optional::get)</code> with <code>.findFirst()</code> will make it easier to &quot;read&quot;, e.g. <code>.filter(Optional::isPresent).findFirst().map(Optional::get)</code> can be &quot;read&quot; like &quot;find the first element in the stream for which Optional::isPresent is true and then flatten it by applying Optional::get&quot; ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1475136419,"post_id":28833677,"comment_id":66824220,"body_markdown":"@schatten: this change would make reading this specific use case more intuitive, but generally, when working with streams, you’d better get used to the fact that ops like `findFirst()` are terminal operations, appearing at the end of the stream chain, but implying “find first matching element”, regardless of how many other intermediate operations are between the last `filter` and `findFirst`.","body":"@schatten: this change would make reading this specific use case more intuitive, but generally, when working with streams, you’d better get used to the fact that ops like <code>findFirst()</code> are terminal operations, appearing at the end of the stream chain, but implying “find first matching element”, regardless of how many other intermediate operations are between the last <code>filter</code> and <code>findFirst</code>."},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":1,"creation_date":1478245072,"post_id":28833677,"comment_id":68084058,"body_markdown":"If you&#39;re on **Java 9**, see [my answer](http://stackoverflow.com/a/38560612/2525313).","body":"If you&#39;re on <b>Java 9</b>, see <a href=\"http://stackoverflow.com/a/38560612/2525313\">my answer</a>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1495695007,"post_id":28833677,"comment_id":75363185,"body_markdown":"Funny, I posted a very similar [solution](https://stackoverflow.com/a/42405741/1553851) for a similar question a few months ago. This is the first time I&#39;m coming across this.","body":"Funny, I posted a very similar <a href=\"https://stackoverflow.com/a/42405741/1553851\">solution</a> for a similar question a few months ago. This is the first time I&#39;m coming across this."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1545060212,"post_id":28833677,"comment_id":94484672,"body_markdown":"I ended up listing almost a [similar solution](https://stackoverflow.com/a/53817936/1746118), yet inefficient I believe, in that since I started off creating a `List` of those suppliers first, instead of simply using the Stream right away. That typecast was way above me mostly.","body":"I ended up listing almost a <a href=\"https://stackoverflow.com/a/53817936/1746118\">similar solution</a>, yet inefficient I believe, in that since I started off creating a <code>List</code> of those suppliers first, instead of simply using the Stream right away. That typecast was way above me mostly."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1545064262,"post_id":28833677,"comment_id":94487079,"body_markdown":"@nullpointer actually, that difference is not very big. That `List` is just a thin wrapper around an array created for the varargs parameter (which exists in both versions). When you call `stream()` on it, the resulting stream will be based on the same type of spliterator that will be used by `Stream.of()` when you have more than one element, so from there, the performance will be identical.","body":"@nullpointer actually, that difference is not very big. That <code>List</code> is just a thin wrapper around an array created for the varargs parameter (which exists in both versions). When you call <code>stream()</code> on it, the resulting stream will be based on the same type of spliterator that will be used by <code>Stream.of()</code> when you have more than one element, so from there, the performance will be identical."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":9,"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1620283182,"creation_date":1425391129,"answer_id":28833677,"question_id":28818506,"body_markdown":"The cleanest “try services” approach given the current API would be:\r\n\r\n    Optional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\r\n        ()-&gt;serviceA(args), \r\n        ()-&gt;serviceB(args), \r\n        ()-&gt;serviceC(args), \r\n        ()-&gt;serviceD(args))\r\n    .map(Supplier::get)\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .findFirst();\r\n\r\nThe important aspect is not the (constant) chain of operations you have to write once but how easy it is to add another service (or modify the list of services in general). Here, adding or removing a single `()-&gt;serviceX(args)` is enough.\r\n\r\nDue to the lazy evaluation of streams, no service will be invoked if a preceding service returned a non-empty `Optional`.\r\n\r\n---\r\n\r\nStarting with Java&#160;9, you can simplify the code to\r\n\r\n```java\r\nOptional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\r\n    ()-&gt;serviceA(args), \r\n    ()-&gt;serviceB(args), \r\n    ()-&gt;serviceC(args), \r\n    ()-&gt;serviceD(args))\r\n.flatMap(s -&gt; s.get().stream())\r\n.findFirst();\r\n```\r\nthough [this answer] already contains an even simpler approach for JDK&#160;9.\r\n\r\n\r\nJDK&#160;16 offers the alternative\r\n\r\n```java\r\nOptional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\r\n    ()-&gt;serviceA(args), \r\n    ()-&gt;serviceB(args), \r\n    ()-&gt;serviceC(args), \r\n    ()-&gt;serviceD(args))\r\n.&lt;Result&gt;mapMulti((s,c) -&gt; s.get().ifPresent(c))\r\n.findFirst();\r\n```\r\n\r\nthough this approach might be more convenient with service methods accepting a `Consumer` rather than returning a `Supplier`.\r\n\r\n[this answer]: https://stackoverflow.com/a/38560612/2711488","title":"Optional orElse Optional in Java","body":"<p>The cleanest “try services” approach given the current API would be:</p>\n<pre><code>Optional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\n    ()-&gt;serviceA(args), \n    ()-&gt;serviceB(args), \n    ()-&gt;serviceC(args), \n    ()-&gt;serviceD(args))\n.map(Supplier::get)\n.filter(Optional::isPresent)\n.map(Optional::get)\n.findFirst();\n</code></pre>\n<p>The important aspect is not the (constant) chain of operations you have to write once but how easy it is to add another service (or modify the list of services in general). Here, adding or removing a single <code>()-&gt;serviceX(args)</code> is enough.</p>\n<p>Due to the lazy evaluation of streams, no service will be invoked if a preceding service returned a non-empty <code>Optional</code>.</p>\n<hr />\n<p>Starting with Java 9, you can simplify the code to</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\n    ()-&gt;serviceA(args), \n    ()-&gt;serviceB(args), \n    ()-&gt;serviceC(args), \n    ()-&gt;serviceD(args))\n.flatMap(s -&gt; s.get().stream())\n.findFirst();\n</code></pre>\n<p>though <a href=\"https://stackoverflow.com/a/38560612/2711488\">this answer</a> already contains an even simpler approach for JDK 9.</p>\n<p>JDK 16 offers the alternative</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\n    ()-&gt;serviceA(args), \n    ()-&gt;serviceB(args), \n    ()-&gt;serviceC(args), \n    ()-&gt;serviceD(args))\n.&lt;Result&gt;mapMulti((s,c) -&gt; s.get().ifPresent(c))\n.findFirst();\n</code></pre>\n<p>though this approach might be more convenient with service methods accepting a <code>Consumer</code> rather than returning a <code>Supplier</code>.</p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1464858693,"creation_date":1442582534,"answer_id":32653133,"question_id":28818506,"body_markdown":"This is looks like a good fit for pattern matching and a more traditional Option interface with Some and None implementations (such as those in [Javaslang](https://github.com/javaslang/javaslang), [FunctionalJava](https://github.com/functionaljava/functionaljava)) or a lazy [Maybe](http://www.javadoc.io/doc/com.aol.simplereact/cyclops-react/1.0.0-RC3) implementation in [cyclops-react](https://github.com/aol/cyclops-react).I&#39;m the author of this library. \r\n\r\nWith [cyclops-react](https://github.com/aol/cyclops-react) you can also use structural [pattern matching](http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/pattern-matching.adoc) on JDK types. For Optional you can match on the present and absent cases via the [visitor pattern](http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/visitor-pattern.adoc).  it would look something like this -\r\n\r\n      import static com.aol.cyclops.Matchables.optional;\r\n\r\n      optional(serviceA(args)).visit(some -&gt; some , \r\n                                     () -&gt; optional(serviceB(args)).visit(some -&gt; some,\r\n                                                                          () -&gt; serviceC(args)));\r\n\r\n\r\n    ","title":"Optional orElse Optional in Java","body":"<p>This is looks like a good fit for pattern matching and a more traditional Option interface with Some and None implementations (such as those in <a href=\"https://github.com/javaslang/javaslang\" rel=\"nofollow\">Javaslang</a>, <a href=\"https://github.com/functionaljava/functionaljava\" rel=\"nofollow\">FunctionalJava</a>) or a lazy <a href=\"http://www.javadoc.io/doc/com.aol.simplereact/cyclops-react/1.0.0-RC3\" rel=\"nofollow\">Maybe</a> implementation in <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a>.I'm the author of this library. </p>\n\n<p>With <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> you can also use structural <a href=\"http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/pattern-matching.adoc\" rel=\"nofollow\">pattern matching</a> on JDK types. For Optional you can match on the present and absent cases via the <a href=\"http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/visitor-pattern.adoc\" rel=\"nofollow\">visitor pattern</a>.  it would look something like this -</p>\n\n<pre><code>  import static com.aol.cyclops.Matchables.optional;\n\n  optional(serviceA(args)).visit(some -&gt; some , \n                                 () -&gt; optional(serviceB(args)).visit(some -&gt; some,\n                                                                      () -&gt; serviceC(args)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1478250839,"post_id":38560612,"comment_id":68086649,"body_markdown":"Nice. That addition must be a year old and I didn’t notice. Regarding the question in your blog, changing the return type would break the binary compatibility, as bytecode invocation instructions refer to the full signature, including the return type, so there’s no chance to change the return type of `ifPresent`. But anyway, I think the name `ifPresent` is not a good one anyway. For all other methods not bearing “else” in the name (like `map`, `filter`, `flatMap`), it is implied that they do nothing if no value is present, so why should `ifPresent`…","body":"Nice. That addition must be a year old and I didn’t notice. Regarding the question in your blog, changing the return type would break the binary compatibility, as bytecode invocation instructions refer to the full signature, including the return type, so there’s no chance to change the return type of <code>ifPresent</code>. But anyway, I think the name <code>ifPresent</code> is not a good one anyway. For all other methods not bearing “else” in the name (like <code>map</code>, <code>filter</code>, <code>flatMap</code>), it is implied that they do nothing if no value is present, so why should <code>ifPresent</code>…"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1478251285,"post_id":38560612,"comment_id":68086900,"body_markdown":"So adding an `Optional&lt;T&gt; perform(Consumer&lt;T&gt; c)` method to allow chaining `perform(x).orElseDo(y)` (`orElseDo` as an alternative to your proposed `ifEmpty`, to be consistent in have `else` in the name of all method that might do something for absent values). You can mimic that `perform` in Java&#160;9 via `stream().peek(x).findFirst()` though that’s an abuse of the API and there’s still no way to execute a `Runnable` without specifying a `Consumer` at the same time…","body":"So adding an <code>Optional&lt;T&gt; perform(Consumer&lt;T&gt; c)</code> method to allow chaining <code>perform(x).orElseDo(y)</code> (<code>orElseDo</code> as an alternative to your proposed <code>ifEmpty</code>, to be consistent in have <code>else</code> in the name of all method that might do something for absent values). You can mimic that <code>perform</code> in Java 9 via <code>stream().peek(x).findFirst()</code> though that’s an abuse of the API and there’s still no way to execute a <code>Runnable</code> without specifying a <code>Consumer</code> at the same time…"}],"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":2,"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1673317881,"creation_date":1469426210,"answer_id":38560612,"question_id":28818506,"body_markdown":"This is part of JDK 9 in the form of method `or`, which takes a `Supplier&lt;Optional&lt;T&gt;&gt;`. Your example would then be:\r\n\r\n    return serviceA(args)\r\n        .or(() -&gt; serviceB(args))\r\n        .or(() -&gt; serviceC(args));\r\n\r\nFor details see [the Javadoc](https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-), [this post](http://blog.codefx.org/java/dev/java-9-optional/#or) I wrote, or ticket [JDK-8080418](https://bugs.openjdk.org/browse/JDK-8080418) where this method was introduced.","title":"Optional orElse Optional in Java","body":"<p>This is part of JDK 9 in the form of method <code>or</code>, which takes a <code>Supplier&lt;Optional&lt;T&gt;&gt;</code>. Your example would then be:</p>\n<pre><code>return serviceA(args)\n    .or(() -&gt; serviceB(args))\n    .or(() -&gt; serviceC(args));\n</code></pre>\n<p>For details see <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">the Javadoc</a>, <a href=\"http://blog.codefx.org/java/dev/java-9-optional/#or\" rel=\"nofollow noreferrer\">this post</a> I wrote, or ticket <a href=\"https://bugs.openjdk.org/browse/JDK-8080418\" rel=\"nofollow noreferrer\">JDK-8080418</a> where this method was introduced.</p>\n"},{"comments":[{"owner":{"account_id":6614711,"reputation":29121,"user_id":5108418,"accept_rate":72,"display_name":"Tamas Hegedus"},"score":0,"creation_date":1542028746,"post_id":49184522,"comment_id":93410208,"body_markdown":"I did not find `Optional&lt;T&gt;.or(Supplier&lt;Optional&lt;T&gt;&gt;)` in the Guava docs. Do you have a link for that?","body":"I did not find <code>Optional&lt;T&gt;.or(Supplier&lt;Optional&lt;T&gt;&gt;)</code> in the Guava docs. Do you have a link for that?"},{"owner":{"account_id":1899115,"reputation":1781,"user_id":1715376,"accept_rate":67,"display_name":"Miguel Pereira"},"score":0,"creation_date":1556732833,"post_id":49184522,"comment_id":98533974,"body_markdown":".orElseGet returns T but Optional::empty returns Optional&lt;T&gt;. Optional.ofNullable(........orElse(null)) has the desired effect as described by @aioobe.","body":".orElseGet returns T but Optional::empty returns Optional&lt;T&gt;. Optional.ofNullable(........orElse(null)) has the desired effect as described by @aioobe."},{"owner":{"account_id":178074,"reputation":677,"user_id":409817,"accept_rate":67,"display_name":"Sheepy"},"score":0,"creation_date":1566195107,"post_id":49184522,"comment_id":101564814,"body_markdown":"@TamasHegedus You mean in option#1? It&#39;s a custom implementation which is on the snipped above it.\n\nps: sorry for the late reply","body":"@TamasHegedus You mean in option#1? It&#39;s a custom implementation which is on the snipped above it.  ps: sorry for the late reply"},{"owner":{"account_id":178074,"reputation":677,"user_id":409817,"accept_rate":67,"display_name":"Sheepy"},"score":0,"creation_date":1566195296,"post_id":49184522,"comment_id":101564879,"body_markdown":"@MiguelPereira .orElseGet in this case returns Optional&lt;T&gt; because it&#39;s operating on Optional&lt;Optional&lt;T&gt;&gt;","body":"@MiguelPereira .orElseGet in this case returns Optional&lt;T&gt; because it&#39;s operating on Optional&lt;Optional&lt;T&gt;&gt;"}],"tags":[],"owner":{"account_id":178074,"reputation":677,"user_id":409817,"accept_rate":67,"display_name":"Sheepy"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520553966,"creation_date":1520553551,"answer_id":49184522,"question_id":28818506,"body_markdown":"Assuming you&#39;re still on JDK8, there are several options.\r\n\r\n## Option#1: make your own helper method ###\r\nE.g.:\r\n\r\n    public class Optionals {\r\n        static &lt;T&gt; Optional&lt;T&gt; or(Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\r\n            return Arrays.stream(optionals)\r\n                    .map(Supplier::get)\r\n                    .filter(Optional::isPresent)\r\n                    .findFirst()\r\n                    .orElseGet(Optional::empty);\r\n        }\r\n    }\r\n\r\nSo that you could do:\r\n\r\n    return Optionals.or(\r\n       ()-&gt; serviceA(args),\r\n       ()-&gt; serviceB(args),\r\n       ()-&gt; serviceC(args),\r\n       ()-&gt; serviceD(args)\r\n    );\r\n\r\n## Option#2: use a library##\r\nE.g. google guava&#39;s Optional supports a proper `or()` operation (just like JDK9), e.g.:\r\n\r\n    return serviceA(args)\r\n      .or(() -&gt; serviceB(args))\r\n      .or(() -&gt; serviceC(args))\r\n      .or(() -&gt; serviceD(args));\r\n(Where each of the services returns `com.google.common.base.Optional`, rather than `java.util.Optional`).","title":"Optional orElse Optional in Java","body":"<p>Assuming you're still on JDK8, there are several options.</p>\n\n<h2>Option#1: make your own helper method</h2>\n\n<p>E.g.:</p>\n\n<pre><code>public class Optionals {\n    static &lt;T&gt; Optional&lt;T&gt; or(Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\n        return Arrays.stream(optionals)\n                .map(Supplier::get)\n                .filter(Optional::isPresent)\n                .findFirst()\n                .orElseGet(Optional::empty);\n    }\n}\n</code></pre>\n\n<p>So that you could do:</p>\n\n<pre><code>return Optionals.or(\n   ()-&gt; serviceA(args),\n   ()-&gt; serviceB(args),\n   ()-&gt; serviceC(args),\n   ()-&gt; serviceD(args)\n);\n</code></pre>\n\n<h2>Option#2: use a library</h2>\n\n<p>E.g. google guava's Optional supports a proper <code>or()</code> operation (just like JDK9), e.g.:</p>\n\n<pre><code>return serviceA(args)\n  .or(() -&gt; serviceB(args))\n  .or(() -&gt; serviceC(args))\n  .or(() -&gt; serviceD(args));\n</code></pre>\n\n<p>(Where each of the services returns <code>com.google.common.base.Optional</code>, rather than <code>java.util.Optional</code>).</p>\n"}],"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84692,"favorite_count":0,"down_vote_count":0,"up_vote_count":155,"accepted_answer_id":38560612,"answer_count":6,"score":155,"last_activity_date":1673317881,"creation_date":1425326627,"question_id":28818506,"body_markdown":"I&#39;ve been working with the new [Optional type in Java 8](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html), and I&#39;ve come across what seems like a common operation that isn&#39;t supported functionally: an &quot;orElseOptional&quot;\r\n\r\nConsider the following pattern:\r\n\r\n    Optional&lt;Result&gt; resultFromServiceA = serviceA(args);\r\n    if (resultFromServiceA.isPresent) return result;\r\n    else {\r\n        Optional&lt;Result&gt; resultFromServiceB = serviceB(args);\r\n        if (resultFromServiceB.isPresent) return resultFromServiceB;\r\n        else return serviceC(args);\r\n    }\r\n\r\nThere are many forms of this pattern, but it boils down to wanting an &quot;orElse&quot; on an optional that takes a function producing a new optional, called only if the current one does not exist.\r\n\r\nIt&#39;s implementation would look like this:\r\n\r\n    public Optional&lt;T&gt; orElse(Supplier&lt;Optional&lt;? extends T&gt;&gt; otherSupplier) {\r\n        return value != null ? this : other.get();\r\n    }\r\n\r\nI&#39;m curious if there&#39;s a reason such a method doesn&#39;t exist, if I&#39;m just using Optional in an unintended way, and what other ways people have come up with to deal with this case.\r\n\r\nI should say that I think that solutions involving custom utility classes/methods aren&#39;t elegant because people working with my code won&#39;t necessarily know they exist.\r\n\r\nAlso, if anyone knows, will such a method be included in JDK 9, and where might I propose such a method? This seems like a pretty glaring omission to the API to me.","title":"Optional orElse Optional in Java","body":"<p>I've been working with the new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional type in Java 8</a>, and I've come across what seems like a common operation that isn't supported functionally: an \"orElseOptional\"</p>\n\n<p>Consider the following pattern:</p>\n\n<pre><code>Optional&lt;Result&gt; resultFromServiceA = serviceA(args);\nif (resultFromServiceA.isPresent) return result;\nelse {\n    Optional&lt;Result&gt; resultFromServiceB = serviceB(args);\n    if (resultFromServiceB.isPresent) return resultFromServiceB;\n    else return serviceC(args);\n}\n</code></pre>\n\n<p>There are many forms of this pattern, but it boils down to wanting an \"orElse\" on an optional that takes a function producing a new optional, called only if the current one does not exist.</p>\n\n<p>It's implementation would look like this:</p>\n\n<pre><code>public Optional&lt;T&gt; orElse(Supplier&lt;Optional&lt;? extends T&gt;&gt; otherSupplier) {\n    return value != null ? this : other.get();\n}\n</code></pre>\n\n<p>I'm curious if there's a reason such a method doesn't exist, if I'm just using Optional in an unintended way, and what other ways people have come up with to deal with this case.</p>\n\n<p>I should say that I think that solutions involving custom utility classes/methods aren't elegant because people working with my code won't necessarily know they exist.</p>\n\n<p>Also, if anyone knows, will such a method be included in JDK 9, and where might I propose such a method? This seems like a pretty glaring omission to the API to me.</p>\n"},{"tags":["java","pom.xml","java-9","java-module","module-info"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1673315484,"post_id":75064578,"comment_id":132466607,"body_markdown":"Honestly, if your dependencies are not modular, it may be more effort than it&#39;s worth to use modules. The only dependency I see in your list that &quot;must&quot; (a warning is emitted otherwise since JavaFX 16, but it still works afaik) be on the module-path is JavaFX (9+). Note that code in the unnamed module (i.e., code on the class-path) can use code in named modules (i.e., code on the module-path), but not vice versa. That may matter if you deploy using e.g., `jpackage`, where you can make a run-time image with all the modular code, but leave your and other non-modular code on the class-path.","body":"Honestly, if your dependencies are not modular, it may be more effort than it&#39;s worth to use modules. The only dependency I see in your list that &quot;must&quot; (a warning is emitted otherwise since JavaFX 16, but it still works afaik) be on the module-path is JavaFX (9+). Note that code in the unnamed module (i.e., code on the class-path) can use code in named modules (i.e., code on the module-path), but not vice versa. That may matter if you deploy using e.g., <code>jpackage</code>, where you can make a run-time image with all the modular code, but leave your and other non-modular code on the class-path."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1673317394,"post_id":75064578,"comment_id":132466849,"body_markdown":"(and regarding code in named modules not being to use code in unnamed modules, I mean named modules can&#39;t use code in unnamed modules &quot;directly&quot;; if I&#39;m not mistaken, named modules can still load service-providers from unnamed modules, if they use the correct `ServiceLoader.load` method and the appropriate `uses` directives are declared)","body":"(and regarding code in named modules not being to use code in unnamed modules, I mean named modules can&#39;t use code in unnamed modules &quot;directly&quot;; if I&#39;m not mistaken, named modules can still load service-providers from unnamed modules, if they use the correct <code>ServiceLoader.load</code> method and the appropriate <code>uses</code> directives are declared)"},{"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"score":1,"creation_date":1673317519,"post_id":75064578,"comment_id":132466865,"body_markdown":"Thank you, that answers my question. If you would like to submit one I can select it. I got rid of module-info.java, removed modular dependencies from pom, and instead added a pointer to those in the vm options. Everything is working fine now.","body":"Thank you, that answers my question. If you would like to submit one I can select it. I got rid of module-info.java, removed modular dependencies from pom, and instead added a pointer to those in the vm options. Everything is working fine now."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673317863,"post_id":75064578,"comment_id":132466916,"body_markdown":"Note modular code can still be placed on the class-path. They stop being named modules, but otherwise should work normally (except possibly for some edge cases). So, it may have been unnecessary to remove _all_ modular dependencies from your POM.","body":"Note modular code can still be placed on the class-path. They stop being named modules, but otherwise should work normally (except possibly for some edge cases). So, it may have been unnecessary to remove <i>all</i> modular dependencies from your POM."},{"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"score":0,"creation_date":1673318790,"post_id":75064578,"comment_id":132467037,"body_markdown":"You are right about leaving it in the pom.","body":"You are right about leaving it in the pom."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673338551,"post_id":75064578,"comment_id":132470449,"body_markdown":"@Borel You too can post and accept an Answer to your own Question.","body":"@Borel You too can post and accept an Answer to your own Question."}],"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673314512,"creation_date":1673314451,"question_id":75064578,"body_markdown":"I have a project where dependencies were designed based on java 8, I&#39;m using java 9 modules. I keep getting errors related to multiple exports. \r\n\r\n```\r\njava: java.lang.reflect.InvocationTargetException\r\nModules nd4j.common and nd4j.api export package org.nd4j.linalg.util to module jai.imageio.core\r\n```\r\nDo I need to map out every dependency tree, find the duplicates and make exclusions? Some dependencies have upwards of 12 dependencies that also have their own dependencies. Is there a better way? Java 9 modules are becoming a **huge** needless headache if not.\r\n\r\nHere are the libraries I&#39;m using:\r\nDeeplearning4j-core,\r\nDeeplearning4j-ui,\r\ndeeplearning4j-zoo,\r\nnd4j-native-platform,\r\njavacv,\r\nlombok,\r\njavafx-controls,\r\njavafx-fxml,\r\njavafx-media,\r\ncontrols-fx,\r\nformsfx-core\r\n\r\nI tried creating an Excel spreadsheet of all my dependencies&#39; dependencies, found the ones that were duplicates, and made the appropriate exclusions in pom.xml. I&#39;m still getting multiple export errors but they are now libraries that I&#39;m not even sure where they are because they aren&#39;t ones I&#39;ve imported but rather a child dependency somewhere that is in common with another child somewhere.\r\n\r\nThank you for looking!","title":"How to configure java 9 module with many shared java 8 dependencies?","body":"<p>I have a project where dependencies were designed based on java 8, I'm using java 9 modules. I keep getting errors related to multiple exports.</p>\n<pre><code>java: java.lang.reflect.InvocationTargetException\nModules nd4j.common and nd4j.api export package org.nd4j.linalg.util to module jai.imageio.core\n</code></pre>\n<p>Do I need to map out every dependency tree, find the duplicates and make exclusions? Some dependencies have upwards of 12 dependencies that also have their own dependencies. Is there a better way? Java 9 modules are becoming a <strong>huge</strong> needless headache if not.</p>\n<p>Here are the libraries I'm using:\nDeeplearning4j-core,\nDeeplearning4j-ui,\ndeeplearning4j-zoo,\nnd4j-native-platform,\njavacv,\nlombok,\njavafx-controls,\njavafx-fxml,\njavafx-media,\ncontrols-fx,\nformsfx-core</p>\n<p>I tried creating an Excel spreadsheet of all my dependencies' dependencies, found the ones that were duplicates, and made the appropriate exclusions in pom.xml. I'm still getting multiple export errors but they are now libraries that I'm not even sure where they are because they aren't ones I've imported but rather a child dependency somewhere that is in common with another child somewhere.</p>\n<p>Thank you for looking!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":17442705,"reputation":1,"user_id":12644370,"display_name":"kianyanglee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673313972,"creation_date":1673313972,"answer_id":75064546,"question_id":75064506,"body_markdown":"What `logger` library that you are using? If you use `sl4j`, you can couple it with `log4j` by configuring properly to just log the error messages into the file that you have specified in the configuration. I&#39;ve done some lookup and I find this [stackoverflow: where-does-the-slf4j-log-file-get-saved](https://stackoverflow.com/questions/21881846/where-does-the-slf4j-log-file-get-saved) answer provided a template for you to follow on with this setup.","title":"How can I print the error message into a txt or json file in my directory?","body":"<p>What <code>logger</code> library that you are using? If you use <code>sl4j</code>, you can couple it with <code>log4j</code> by configuring properly to just log the error messages into the file that you have specified in the configuration. I've done some lookup and I find this <a href=\"https://stackoverflow.com/questions/21881846/where-does-the-slf4j-log-file-get-saved\">stackoverflow: where-does-the-slf4j-log-file-get-saved</a> answer provided a template for you to follow on with this setup.</p>\n"}],"owner":{"account_id":27415027,"reputation":49,"user_id":20914383,"display_name":"EXEC1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673313972,"creation_date":1673313406,"question_id":75064506,"body_markdown":"I have a function that save all the error in a errormessage list\r\n```\r\npublic class Util {\r\n    private List&lt;String&gt; errorMessages = new ArrayList&lt;&gt;();\r\n\r\n    public void outputResult(String content) {\r\n        logger.error(content);\r\n        errorMessages.add(content);\r\n    }\r\n}\r\n```\r\n\r\nand my compare function add all the error message to the list, \r\n```\r\npublic void compare(Config source, Config target) {\r\n    if (source.getId() != target.getId()) {\r\n        util.outputResult(&quot;id not equal&quot;);\r\n    }\r\n    // ...\r\n}\r\n```\r\n\r\nAnd in my main function, I call this compare function and want to save all the error message in a txt or some other file in my current directory\r\n```\r\npublic class MyClass {\r\n    public void main() {\r\n        compare();\r\n\r\n        // writeToFile\r\n    }\r\n}\r\n```\r\n\r\nThis is what I&#39;m doing right now, I convert ByteArrayOutputStream to a string and print it, there a txt file generated but is empty, and I don&#39;t want to a string, I want each error message in the list be printed, how can I do that?\r\n\r\n```\r\nByteArrayOutputStream errorMessages = new ByteArrayOutputStream();\r\n\r\ntry (FileWriter w = new FileWriter(pathToReport)) {\r\n    w.write(errorMessages.toString());\r\n}\r\nFile errorMessagesFile = new File(pathToReport);\r\n\r\nerrorMessagesFile.writeText(errorMessages.toString());\r\n","title":"How can I print the error message into a txt or json file in my directory?","body":"<p>I have a function that save all the error in a errormessage list</p>\n<pre><code>public class Util {\n    private List&lt;String&gt; errorMessages = new ArrayList&lt;&gt;();\n\n    public void outputResult(String content) {\n        logger.error(content);\n        errorMessages.add(content);\n    }\n}\n</code></pre>\n<p>and my compare function add all the error message to the list,</p>\n<pre><code>public void compare(Config source, Config target) {\n    if (source.getId() != target.getId()) {\n        util.outputResult(&quot;id not equal&quot;);\n    }\n    // ...\n}\n</code></pre>\n<p>And in my main function, I call this compare function and want to save all the error message in a txt or some other file in my current directory</p>\n<pre><code>public class MyClass {\n    public void main() {\n        compare();\n\n        // writeToFile\n    }\n}\n</code></pre>\n<p>This is what I'm doing right now, I convert ByteArrayOutputStream to a string and print it, there a txt file generated but is empty, and I don't want to a string, I want each error message in the list be printed, how can I do that?</p>\n<pre><code>ByteArrayOutputStream errorMessages = new ByteArrayOutputStream();\n\ntry (FileWriter w = new FileWriter(pathToReport)) {\n    w.write(errorMessages.toString());\n}\nFile errorMessagesFile = new File(pathToReport);\n\nerrorMessagesFile.writeText(errorMessages.toString());\n</code></pre>\n"},{"tags":["java","sockets","asynchronous","async-await"],"owner":{"account_id":18510058,"reputation":615,"user_id":13485494,"display_name":"Gavin Ray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673313254,"creation_date":1673313254,"question_id":75064495,"body_markdown":"I&#39;m writing a Postgres wire-protocol server on the JVM, and the core loop of the server is to receive a command over a socket from a PSQL client, handle it, and then read/wait for another command over the wire.\r\n\r\nI&#39;ve made a method, `read()`, which is the entrypoint for reading from the socket. Some decoding and business logic happens, and then it dispatches to `handleClientMessage()`, which I made return a `CompleteableFuture&lt;&gt;` so that when it finishes, I can then call `.thenRun(() -&gt; read())` to have it loop back &#39;round again to `read()`.\r\n\r\nThe alternative I had before to was remember to call `read()` at the end of every method.\r\n\r\nMy hesitation with using `CompleteableFuture&lt;&gt;` is that I believe it queues tasks to be run in a pool, which sounds like it has a lot of overhead potentially? Is this a poor practice just so that I can call `.thenRun(() -&gt; {})` on the result?\r\n\r\nCode is below, with most of the non-relevant bits removed:\r\n\r\n---\r\n\r\n```java\r\n// A single client connection to the Postgres wire-protocol server\r\nclass PostgresServerClientConnection {\r\n    private AsynchronousSocketChannel client;\r\n    private MemorySegment buffer;\r\n\r\n    public PostgresServerClientConnection(AsynchronousSocketChannel client) {\r\n        this.client = client;\r\n        this.buffer = MemorySegment.allocateNative(1024, SegmentScope.global());\r\n    }\r\n\r\n    public void read() {\r\n        ByteBuffer byteBuffer = buffer.asByteBuffer();\r\n        client.read(byteBuffer, null, new CompletionHandler&lt;&gt;() {\r\n            @Override\r\n            public void completed(Integer result, Object attachment) {\r\n                // Create an infinite loop of reading and handling messages\r\n                handleClientMessage(msg).thenRun(() -&gt; read());\r\n            }\r\n\r\n            @Override\r\n            public void failed(Throwable exc, Object attachment) {\r\n                System.err.println(&quot;[SERVER] Failed to read from client: &quot; + exc);\r\n            }\r\n        });\r\n    }\r\n\r\n    CompletableFuture&lt;Void&gt; handleClientMessage(ClientMessage msg) {\r\n        if (msg.isSSLRequest()) {\r\n            return handleSSLRequest(msg);\r\n        } else if (msg.isStartupMessage()) {\r\n            return handleStartupMessage(msg);\r\n        } else {\r\n            return handleRegularMessage(msg);\r\n        }\r\n    }\r\n\r\n    CompletableFuture&lt;Void&gt; handleSSLRequest(ClientMessage msg) {\r\n        return CompletableFuture.runAsync(() -&gt; {\r\n            try {\r\n                client.write(byteBuffer).get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n            }\r\n        });\r\n    }\r\n\r\n    CompletableFuture&lt;Void&gt; handleStartupMessage(ClientMessage msg) {\r\n        return CompletableFuture.runAsync(() -&gt; {\r\n            try {\r\n                client.write(byteBuffer).get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Modeling asynchronous &quot;read-message-then-dispatch&quot; loop in `java.nio.channels.AsynchronousSocketChannel`, is `CompleteableFuture&lt;&gt;` the proper tool?","body":"<p>I'm writing a Postgres wire-protocol server on the JVM, and the core loop of the server is to receive a command over a socket from a PSQL client, handle it, and then read/wait for another command over the wire.</p>\n<p>I've made a method, <code>read()</code>, which is the entrypoint for reading from the socket. Some decoding and business logic happens, and then it dispatches to <code>handleClientMessage()</code>, which I made return a <code>CompleteableFuture&lt;&gt;</code> so that when it finishes, I can then call <code>.thenRun(() -&gt; read())</code> to have it loop back 'round again to <code>read()</code>.</p>\n<p>The alternative I had before to was remember to call <code>read()</code> at the end of every method.</p>\n<p>My hesitation with using <code>CompleteableFuture&lt;&gt;</code> is that I believe it queues tasks to be run in a pool, which sounds like it has a lot of overhead potentially? Is this a poor practice just so that I can call <code>.thenRun(() -&gt; {})</code> on the result?</p>\n<p>Code is below, with most of the non-relevant bits removed:</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>// A single client connection to the Postgres wire-protocol server\nclass PostgresServerClientConnection {\n    private AsynchronousSocketChannel client;\n    private MemorySegment buffer;\n\n    public PostgresServerClientConnection(AsynchronousSocketChannel client) {\n        this.client = client;\n        this.buffer = MemorySegment.allocateNative(1024, SegmentScope.global());\n    }\n\n    public void read() {\n        ByteBuffer byteBuffer = buffer.asByteBuffer();\n        client.read(byteBuffer, null, new CompletionHandler&lt;&gt;() {\n            @Override\n            public void completed(Integer result, Object attachment) {\n                // Create an infinite loop of reading and handling messages\n                handleClientMessage(msg).thenRun(() -&gt; read());\n            }\n\n            @Override\n            public void failed(Throwable exc, Object attachment) {\n                System.err.println(&quot;[SERVER] Failed to read from client: &quot; + exc);\n            }\n        });\n    }\n\n    CompletableFuture&lt;Void&gt; handleClientMessage(ClientMessage msg) {\n        if (msg.isSSLRequest()) {\n            return handleSSLRequest(msg);\n        } else if (msg.isStartupMessage()) {\n            return handleStartupMessage(msg);\n        } else {\n            return handleRegularMessage(msg);\n        }\n    }\n\n    CompletableFuture&lt;Void&gt; handleSSLRequest(ClientMessage msg) {\n        return CompletableFuture.runAsync(() -&gt; {\n            try {\n                client.write(byteBuffer).get();\n            } catch (InterruptedException | ExecutionException e) {\n            }\n        });\n    }\n\n    CompletableFuture&lt;Void&gt; handleStartupMessage(ClientMessage msg) {\n        return CompletableFuture.runAsync(() -&gt; {\n            try {\n                client.write(byteBuffer).get();\n            } catch (InterruptedException | ExecutionException e) {\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","hadoop","mapreduce","amazon-emr"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673312887,"creation_date":1673190154,"answer_id":75048808,"question_id":75042635,"body_markdown":"EMR has nothing to do with problem. No, it&#39;s not automatic. \r\n\r\nWe would need to see the code of your executed JAR, but I only assume it&#39;s traditional mapreduce code where you&#39;re using FileInputFormat and might have code like `Path(args[0])` if so, that&#39;s likely your input. Then `Path(args[1])` could be the output.\r\n\r\nTherefore, you&#39;d simply chain those arguments together in each step...\r\n```\r\nstep1 = ...\r\n   .args(new String[] {&quot;/in&quot;, &quot;/stage1&quot; })\r\n...\r\nend = ...\r\n   .args(new String[] {&quot;/stageN&quot;, &quot;/out&quot; }) \r\n```\r\n\r\nAlternatively, translate your code to Spark/Flink or a Hive query, where multiple mapreduce stages **are handled automatically** ","title":"in aws emr job flow, does each step receive the output from the previous step?","body":"<p>EMR has nothing to do with problem. No, it's not automatic.</p>\n<p>We would need to see the code of your executed JAR, but I only assume it's traditional mapreduce code where you're using FileInputFormat and might have code like <code>Path(args[0])</code> if so, that's likely your input. Then <code>Path(args[1])</code> could be the output.</p>\n<p>Therefore, you'd simply chain those arguments together in each step...</p>\n<pre><code>step1 = ...\n   .args(new String[] {&quot;/in&quot;, &quot;/stage1&quot; })\n...\nend = ...\n   .args(new String[] {&quot;/stageN&quot;, &quot;/out&quot; }) \n</code></pre>\n<p>Alternatively, translate your code to Spark/Flink or a Hive query, where multiple mapreduce stages <strong>are handled automatically</strong></p>\n"}],"owner":{"account_id":27463207,"reputation":3,"user_id":20953398,"display_name":"אורי זיו"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75048808,"answer_count":1,"score":0,"last_activity_date":1673312887,"creation_date":1673114626,"question_id":75042635,"body_markdown":"I am making a map reduce program in Java that has 4 steps.\r\neach step is operating on the output of the previous step.\r\n\r\nI ran those steps locally and manually so far, and i want to start running on AWS EMR using Job Flow.  \r\nmy professor gave us some code to configure steps for a job flow, but now we face a problem:\r\n\r\neach one of my steps is expecting input and output paths as the args of its main function.\r\nJobFlow allows me to transfer args to each step, but for my understanding each step in a job flow is supposed to receive the output of the previous step automatically\r\n\r\nDoes anyone know if this is true?\r\nhow does the map-reduce app in the step realizes where its input is? is the path passed to it implicitly as arguments from the JobFlow? \r\n\r\nI am using AWS SDK 2 for Java.\r\n\r\n\r\nmy code:\r\n```\r\n public static void main(String args[]) throws IOException, ClassNotFoundException, InterruptedException {\r\n                // AwsCredentialsProvider credentialsProvider = StaticCredentialsProvider\r\n                // .create(ProfileCredentialsProvider.create().resolveCredentials());\r\n\r\n                EmrClient mapReduce = EmrClient.builder().credentialsProvider(ProfileCredentialsProvider.create())\r\n                                .build();\r\n                List&lt;StepConfig&gt; steps = new LinkedList&lt;StepConfig&gt;();\r\n\r\n                HadoopJarStepConfig hadoopJarStepConfig = HadoopJarStepConfig.builder()\r\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + NCount + jarPostfix)\r\n                                .mainClass(packageName + NCount)\r\n                                .args(??????????????????????)\r\n                                .build();\r\n                steps.add(StepConfig.builder().name(NCount).hadoopJarStep(hadoopJarStepConfig)\r\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\r\n\r\n                HadoopJarStepConfig hadoopJarStepConfig2 = HadoopJarStepConfig.builder()\r\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + CountNrTr + jarPostfix)\r\n                                .mainClass(packageName + CountNrTr)\r\n                                .args(??????????????????????)\r\n                                .build();\r\n                steps.add(StepConfig.builder().name(CountNrTr).hadoopJarStep(hadoopJarStepConfig2)\r\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\r\n\r\n                HadoopJarStepConfig hadoopJarStepConfig3 = HadoopJarStepConfig.builder()\r\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + JoinAndCalculate + jarPostfix)\r\n                                .mainClass(packageName + JoinAndCalculate)\r\n                                .args(??????????????????????)\r\n                                .build();\r\n                steps.add(StepConfig.builder().name(JoinAndCalculate).hadoopJarStep(hadoopJarStepConfig3)\r\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\r\n\r\n                HadoopJarStepConfig hadoopJarStepConfig4 = HadoopJarStepConfig.builder()\r\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + ValueToKeySort + jarPostfix)\r\n                                .mainClass(packageName + ValueToKeySort)\r\n                                .args(??????????????????????)\r\n                                .build();\r\n                steps.add(StepConfig.builder().name(ValueToKeySort).hadoopJarStep(hadoopJarStepConfig4)\r\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\r\n\r\n                JobFlowInstancesConfig instances = JobFlowInstancesConfig.builder()\r\n                                .instanceCount(2)\r\n                                .masterInstanceType(&quot;m4.large&quot;)\r\n                                .slaveInstanceType(&quot;m4.large&quot;)\r\n                                .hadoopVersion(&quot;3.3.4&quot;)\r\n                                .ec2KeyName(myKeyPair)\r\n                                .keepJobFlowAliveWhenNoSteps(false)\r\n                                .placement(PlacementType.builder().availabilityZone(&quot;us-east-1a&quot;).build()).build();\r\n```\r\n","title":"in aws emr job flow, does each step receive the output from the previous step?","body":"<p>I am making a map reduce program in Java that has 4 steps.\neach step is operating on the output of the previous step.</p>\n<p>I ran those steps locally and manually so far, and i want to start running on AWS EMR using Job Flow.<br />\nmy professor gave us some code to configure steps for a job flow, but now we face a problem:</p>\n<p>each one of my steps is expecting input and output paths as the args of its main function.\nJobFlow allows me to transfer args to each step, but for my understanding each step in a job flow is supposed to receive the output of the previous step automatically</p>\n<p>Does anyone know if this is true?\nhow does the map-reduce app in the step realizes where its input is? is the path passed to it implicitly as arguments from the JobFlow?</p>\n<p>I am using AWS SDK 2 for Java.</p>\n<p>my code:</p>\n<pre><code> public static void main(String args[]) throws IOException, ClassNotFoundException, InterruptedException {\n                // AwsCredentialsProvider credentialsProvider = StaticCredentialsProvider\n                // .create(ProfileCredentialsProvider.create().resolveCredentials());\n\n                EmrClient mapReduce = EmrClient.builder().credentialsProvider(ProfileCredentialsProvider.create())\n                                .build();\n                List&lt;StepConfig&gt; steps = new LinkedList&lt;StepConfig&gt;();\n\n                HadoopJarStepConfig hadoopJarStepConfig = HadoopJarStepConfig.builder()\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + NCount + jarPostfix)\n                                .mainClass(packageName + NCount)\n                                .args(??????????????????????)\n                                .build();\n                steps.add(StepConfig.builder().name(NCount).hadoopJarStep(hadoopJarStepConfig)\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\n\n                HadoopJarStepConfig hadoopJarStepConfig2 = HadoopJarStepConfig.builder()\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + CountNrTr + jarPostfix)\n                                .mainClass(packageName + CountNrTr)\n                                .args(??????????????????????)\n                                .build();\n                steps.add(StepConfig.builder().name(CountNrTr).hadoopJarStep(hadoopJarStepConfig2)\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\n\n                HadoopJarStepConfig hadoopJarStepConfig3 = HadoopJarStepConfig.builder()\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + JoinAndCalculate + jarPostfix)\n                                .mainClass(packageName + JoinAndCalculate)\n                                .args(??????????????????????)\n                                .build();\n                steps.add(StepConfig.builder().name(JoinAndCalculate).hadoopJarStep(hadoopJarStepConfig3)\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\n\n                HadoopJarStepConfig hadoopJarStepConfig4 = HadoopJarStepConfig.builder()\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + ValueToKeySort + jarPostfix)\n                                .mainClass(packageName + ValueToKeySort)\n                                .args(??????????????????????)\n                                .build();\n                steps.add(StepConfig.builder().name(ValueToKeySort).hadoopJarStep(hadoopJarStepConfig4)\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\n\n                JobFlowInstancesConfig instances = JobFlowInstancesConfig.builder()\n                                .instanceCount(2)\n                                .masterInstanceType(&quot;m4.large&quot;)\n                                .slaveInstanceType(&quot;m4.large&quot;)\n                                .hadoopVersion(&quot;3.3.4&quot;)\n                                .ec2KeyName(myKeyPair)\n                                .keepJobFlowAliveWhenNoSteps(false)\n                                .placement(PlacementType.builder().availabilityZone(&quot;us-east-1a&quot;).build()).build();\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":2489596,"reputation":705,"user_id":2167355,"display_name":"abendt"},"score":0,"creation_date":1673274871,"post_id":75058704,"comment_id":132455713,"body_markdown":"agree, you will need a real client, as it seems to be your assignment to write the necessary code/config for that.\n\nyou can run a kafka broker locally using docker, if you are on the jvm have a look at https://www.testcontainers.org/modules/kafka/\nalternatively there are some docker images available to start a broker locally","body":"agree, you will need a real client, as it seems to be your assignment to write the necessary code/config for that.  you can run a kafka broker locally using docker, if you are on the jvm have a look at <a href=\"https://www.testcontainers.org/modules/kafka/\" rel=\"nofollow noreferrer\">testcontainers.org/modules/kafka</a> alternatively there are some docker images available to start a broker locally"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673312328,"creation_date":1673274475,"answer_id":75058704,"question_id":75058543,"body_markdown":"Sounds like you need a real client, not a dummy one. Kafka needs installed somewhere for any client to work, however. \r\n\r\nYou therefore need to write code in any language that offers a Kafka library to do this. You seem to previously used Spark, so  use that to read JSON and write to Kafka, for example. \r\n\r\nOtherwise, you need to download Kafka, rather than &quot;install&quot;, to get CLI tools for producers and consumers.\r\n\r\nOr, you can install `kcat` for the same. Ex. Producing a file of json-lines\r\n\r\n```\r\nkcat -P -b localhost:9092 -t data-topic &lt; data.jsonl\r\n```","title":"how to create dummy kafka producer and consumer?","body":"<p>Sounds like you need a real client, not a dummy one. Kafka needs installed somewhere for any client to work, however.</p>\n<p>You therefore need to write code in any language that offers a Kafka library to do this. You seem to previously used Spark, so  use that to read JSON and write to Kafka, for example.</p>\n<p>Otherwise, you need to download Kafka, rather than &quot;install&quot;, to get CLI tools for producers and consumers.</p>\n<p>Or, you can install <code>kcat</code> for the same. Ex. Producing a file of json-lines</p>\n<pre><code>kcat -P -b localhost:9092 -t data-topic &lt; data.jsonl\n</code></pre>\n"}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75058704,"answer_count":1,"score":-1,"last_activity_date":1673312328,"creation_date":1673273681,"question_id":75058543,"body_markdown":"I&#39;m working on small assignment, where I need to read json messages like we read from kakfa. But as of now I&#39;ve not kafka installed in my machine. \r\n\r\nI&#39;ve list of json strings in a file and I want to read that file and send single json string as message to producer and consume using consumer until all json strings are sent by producer.\r\n\r\nIs there any way I could create any dummy producer and consumer like kafka in my work ? Because once am done I need to share that code with other person to run it in their machine.\r\n\r\nCan anyone share any ideas or reference to do it ?\r\n\r\n","title":"how to create dummy kafka producer and consumer?","body":"<p>I'm working on small assignment, where I need to read json messages like we read from kakfa. But as of now I've not kafka installed in my machine.</p>\n<p>I've list of json strings in a file and I want to read that file and send single json string as message to producer and consume using consumer until all json strings are sent by producer.</p>\n<p>Is there any way I could create any dummy producer and consumer like kafka in my work ? Because once am done I need to share that code with other person to run it in their machine.</p>\n<p>Can anyone share any ideas or reference to do it ?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1673278750,"post_id":75058694,"comment_id":132457296,"body_markdown":"Configuration looks correct; if you are using Boot, it should automatically configure a `KafkaAdmin` bean; use a debugger in `KafkaAdmin.afterSingletonsInstantiated()` to see what&#39;s going wrong.","body":"Configuration looks correct; if you are using Boot, it should automatically configure a <code>KafkaAdmin</code> bean; use a debugger in <code>KafkaAdmin.afterSingletonsInstantiated()</code> to see what&#39;s going wrong."},{"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"score":1,"creation_date":1673283150,"post_id":75058694,"comment_id":132459054,"body_markdown":"@GaryRussell Thanks for helping out.Issue of replica factor number mismatch.","body":"@GaryRussell Thanks for helping out.Issue of replica factor number mismatch."},{"owner":{"account_id":13694632,"reputation":411,"user_id":9881640,"display_name":"Vipul Gupta"},"score":1,"creation_date":1673283767,"post_id":75058694,"comment_id":132459281,"body_markdown":"@prateekjangid Replication factor value is more than the number of Brokers which is the potential issue seems like.","body":"@prateekjangid Replication factor value is more than the number of Brokers which is the potential issue seems like."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673312258,"creation_date":1673312258,"answer_id":75064410,"question_id":75058694,"body_markdown":"As shown by the CLI describe output, you only have one broker. Therefore, you are limited to one replica, rather than 2. ","title":"Partition not getting created in kafka spring boot","body":"<p>As shown by the CLI describe output, you only have one broker. Therefore, you are limited to one replica, rather than 2.</p>\n"}],"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75064410,"answer_count":1,"score":3,"last_activity_date":1673312258,"creation_date":1673274435,"question_id":75058694,"body_markdown":"I am creating topic dynamically in spring boot on my local machine.But when described the the topic there was only one partition.\r\nBelow is the code.\r\n\r\n\r\n        @Bean\r\n            public NewTopic newTopic() {\r\n        \r\n                return new NewTopic(&quot;kafkaTopic&quot;,20,(short)2);\r\n     //return TopicBuilder.name(&quot;kafkaTopic&quot;).partitions(15).replicas(2).build();// tried with as well.\r\n            }\r\n\r\no/p:-\r\n\r\n    Topic: kafkaTopic\tTopicId: ZiypKK48Q0GqcNwsx6323Q\tPartitionCount: 1\tReplicationFactor: Configs: \r\n    \tTopic: kafkaTopic\tPartition: 0\tLeader: 0\tReplicas: 0\tIsr: 0\r\n\r\n\r\nLooked through net but not able to resolve issue.\r\n\r\nConfig code\r\n\r\n    @Bean\r\n        public ProducerFactory&lt;String, String&gt; producerFactoryString() {\r\n            Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n    \r\n            configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\r\n            configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    \r\n            return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n        }\r\n    \r\n    @Bean\r\n        public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n            Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n            configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\r\n            configProps.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\r\n            configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            configProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;200&quot;);\r\n            configProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n            configProps.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, &quot;550000&quot;);\r\n            configProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n            configProps.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;55000&quot;);\r\n            configProps.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, &quot;25000&quot;);\r\n    \r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(configProps);\r\n        }\r\n\r\n\r\nDid i miss any configuration or anything to add?\r\n\r\n","title":"Partition not getting created in kafka spring boot","body":"<p>I am creating topic dynamically in spring boot on my local machine.But when described the the topic there was only one partition.\nBelow is the code.</p>\n<pre><code>    @Bean\n        public NewTopic newTopic() {\n    \n            return new NewTopic(&quot;kafkaTopic&quot;,20,(short)2);\n //return TopicBuilder.name(&quot;kafkaTopic&quot;).partitions(15).replicas(2).build();// tried with as well.\n        }\n</code></pre>\n<p>o/p:-</p>\n<pre><code>Topic: kafkaTopic   TopicId: ZiypKK48Q0GqcNwsx6323Q PartitionCount: 1   ReplicationFactor: Configs: \n    Topic: kafkaTopic   Partition: 0    Leader: 0   Replicas: 0 Isr: 0\n</code></pre>\n<p>Looked through net but not able to resolve issue.</p>\n<p>Config code</p>\n<pre><code>@Bean\n    public ProducerFactory&lt;String, String&gt; producerFactoryString() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n@Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\n        configProps.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\n        configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        configProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;200&quot;);\n        configProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        configProps.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, &quot;550000&quot;);\n        configProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        configProps.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;55000&quot;);\n        configProps.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, &quot;25000&quot;);\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(configProps);\n    }\n</code></pre>\n<p>Did i miss any configuration or anything to add?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673311745,"post_id":75063524,"comment_id":132466145,"body_markdown":"There is no relation. Maven is a build tool. Spring is an app framework. The app code is totally unaware of the existence of maven.","body":"There is no relation. Maven is a build tool. Spring is an app framework. The app code is totally unaware of the existence of maven."}],"answers":[{"tags":[],"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673311687,"creation_date":1673311687,"answer_id":75064376,"question_id":75063524,"body_markdown":"`SpringApplication.run` doesn&#39;t read the `pom.xml` file, it works at a higher level of abstraction. The `pom.xml` file is used by your IDE or by the `mvn` command line application to download dependencies and configure your applications classpath.\r\n\r\nBy the time that `SpringApplication.run` is called, the classpath is fully configured but `SpringApplication` itself isn&#39;t aware about how this was done.\r\n\r\nAuto-configuration occurs by searching the all jars on the classpath looking for a files named `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` (if you&#39;re using a recent version). Once these files have been found, the classes listed within them are loaded and used for configuration.\r\n\r\nIf you want to step though the code, you can set a breakpoint at `AutoConfigurationImportSelector.getCandidateConfigurations(...)` and see the auto-configuration candidate classes get found. The exact auto-configurations that get applied will depend on the `@Condition...` annotations on them. ","title":"What is the relationship between Spring Boot and the Maven pom.xml file?","body":"<p><code>SpringApplication.run</code> doesn't read the <code>pom.xml</code> file, it works at a higher level of abstraction. The <code>pom.xml</code> file is used by your IDE or by the <code>mvn</code> command line application to download dependencies and configure your applications classpath.</p>\n<p>By the time that <code>SpringApplication.run</code> is called, the classpath is fully configured but <code>SpringApplication</code> itself isn't aware about how this was done.</p>\n<p>Auto-configuration occurs by searching the all jars on the classpath looking for a files named <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> (if you're using a recent version). Once these files have been found, the classes listed within them are loaded and used for configuration.</p>\n<p>If you want to step though the code, you can set a breakpoint at <code>AutoConfigurationImportSelector.getCandidateConfigurations(...)</code> and see the auto-configuration candidate classes get found. The exact auto-configurations that get applied will depend on the <code>@Condition...</code> annotations on them.</p>\n"}],"owner":{"account_id":10702514,"reputation":61,"user_id":7877351,"display_name":"Psi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75064376,"answer_count":1,"score":0,"last_activity_date":1673311687,"creation_date":1673302502,"question_id":75063524,"body_markdown":"I use maven to build spring boot applications. I know that the maven spring-boot dependencies have annotations (such as `@AutoConfiguration` or `@Condition*`). At what point in the `SpringApplication.run` method in the main class does it actually read from the `pom.xml` file? I&#39;m stepping through the code line by line and I can&#39;t figure out at what point does Spring Boot interact with the `pom.xml` file.\r\n\r\nThe `@EnableAutoConfiguration` enables auto-cofiguration of the Application Context based on jar files in the classpath and user-defined beans, so presumably the pom.xml eventually gets added as a source and the annotations in the dependencies are read when the auto-configuration state is running, but I can&#39;t figure out where or when it does so. \r\n","title":"What is the relationship between Spring Boot and the Maven pom.xml file?","body":"<p>I use maven to build spring boot applications. I know that the maven spring-boot dependencies have annotations (such as <code>@AutoConfiguration</code> or <code>@Condition*</code>). At what point in the <code>SpringApplication.run</code> method in the main class does it actually read from the <code>pom.xml</code> file? I'm stepping through the code line by line and I can't figure out at what point does Spring Boot interact with the <code>pom.xml</code> file.</p>\n<p>The <code>@EnableAutoConfiguration</code> enables auto-cofiguration of the Application Context based on jar files in the classpath and user-defined beans, so presumably the pom.xml eventually gets added as a source and the annotations in the dependencies are read when the auto-configuration state is running, but I can't figure out where or when it does so.</p>\n"},{"tags":["java","tomcat","classcastexception"],"comments":[{"owner":{"account_id":15345109,"reputation":592,"user_id":11070778,"display_name":"Edward"},"score":0,"creation_date":1661597842,"post_id":73457793,"comment_id":129813052,"body_markdown":"I&#39;m getting this as well, but with Tomcat 9 and on linux (not running through eclipse). It happens when I deploy a new war file.","body":"I&#39;m getting this as well, but with Tomcat 9 and on linux (not running through eclipse). It happens when I deploy a new war file."},{"owner":{"account_id":1313784,"reputation":1928,"user_id":1261193,"accept_rate":40,"display_name":"woodvi"},"score":0,"creation_date":1661728180,"post_id":73457793,"comment_id":129834284,"body_markdown":"We started experiencing the same problem. No code changes at all, and the builds just started failing around 8/16-8/18. We can even deploy an old build and that works fine. We can deploy inside of IntelliJ, but when it goes out to an actual server it fails (opposite of you).\n\nWe are running our server on AWS Elastic Beanstalk with Tomcat 8.5, Corretto 11, on Amazon Linux 2\n\nDoes your app use JAXB ?","body":"We started experiencing the same problem. No code changes at all, and the builds just started failing around 8/16-8/18. We can even deploy an old build and that works fine. We can deploy inside of IntelliJ, but when it goes out to an actual server it fails (opposite of you).  We are running our server on AWS Elastic Beanstalk with Tomcat 8.5, Corretto 11, on Amazon Linux 2  Does your app use JAXB ?"},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1661764703,"post_id":73457793,"comment_id":129840856,"body_markdown":"I&#39;m using org.glassfish.jaxb:jaxb-runtime:4.0.0. I intend to compare some different Tomcat minor revisions, but I have not found the time yet. I hope that will be possible quicker with Eclipse 2022-09, currently I could only install newer Tomcat releases by hand.","body":"I&#39;m using org.glassfish.jaxb:jaxb-runtime:4.0.0. I intend to compare some different Tomcat minor revisions, but I have not found the time yet. I hope that will be possible quicker with Eclipse 2022-09, currently I could only install newer Tomcat releases by hand."}],"answers":[{"comments":[{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":1,"creation_date":1663600497,"post_id":73551982,"comment_id":130272426,"body_markdown":"I was now able to upgrade to Tomcat 10.0.23. The error is gone. It is not exactly the same, but it seems that upgrading to the latest subversion is always the right idea, thus, the problem does not seem be need &quot;solving&quot;.","body":"I was now able to upgrade to Tomcat 10.0.23. The error is gone. It is not exactly the same, but it seems that upgrading to the latest subversion is always the right idea, thus, the problem does not seem be need &quot;solving&quot;."},{"owner":{"account_id":2339705,"reputation":1133,"user_id":2052584,"accept_rate":75,"display_name":"MrSnrub"},"score":0,"creation_date":1666814516,"post_id":73551982,"comment_id":131027721,"body_markdown":"Upgrading my local development Tomcat 10.0.14 to 10.0.23 solved the same problem for me with Eclipse 2022-09. ✓","body":"Upgrading my local development Tomcat 10.0.14 to 10.0.23 solved the same problem for me with Eclipse 2022-09. ✓"},{"owner":{"account_id":7173889,"reputation":145,"user_id":5480535,"display_name":"lechonex"},"score":0,"creation_date":1669298134,"post_id":73551982,"comment_id":131616404,"body_markdown":"I had the same issue with Tomcat 9.063 and it was solved in 9.0.64 as well","body":"I had the same issue with Tomcat 9.063 and it was solved in 9.0.64 as well"}],"tags":[],"owner":{"account_id":4203139,"reputation":299,"user_id":3442763,"display_name":"Glucide"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1661929114,"creation_date":1661929114,"answer_id":73551982,"question_id":73457793,"body_markdown":"I got the same problem after upgrading my IDE.  \r\nAfter comparing the both tomcat logs, I saw that there were using 2 different jvm&#39;s.\r\nIndeed I had upgraded the jdk and the ide!\r\n\r\nThe problem is appeared with jvm11.0.16, no exception with jvm11.0.11 even on the latest ide version.\r\n\r\nThis is the explanation, but the solution consisting to keep the old jvm may be not very good...\r\n\r\nSo I did **upgrade Tomcat to the latest version** (8.5.82 in my case) and it solved the problem. I guess it is due to this feature (see tomcat changelog):\r\n \r\n\r\n&gt; Disable the memory leak correction code enabled by the Context\r\n&gt; attribute clearReferencesObjectStreamClassCaches when running on a JRE\r\n&gt; that includes a fix for the underlying memory leak. (markt)\r\n\r\n","title":"ClassCastException when stopping Tomcat 10 inside Eclipse","body":"<p>I got the same problem after upgrading my IDE.<br />\nAfter comparing the both tomcat logs, I saw that there were using 2 different jvm's.\nIndeed I had upgraded the jdk and the ide!</p>\n<p>The problem is appeared with jvm11.0.16, no exception with jvm11.0.11 even on the latest ide version.</p>\n<p>This is the explanation, but the solution consisting to keep the old jvm may be not very good...</p>\n<p>So I did <strong>upgrade Tomcat to the latest version</strong> (8.5.82 in my case) and it solved the problem. I guess it is due to this feature (see tomcat changelog):</p>\n<blockquote>\n<p>Disable the memory leak correction code enabled by the Context\nattribute clearReferencesObjectStreamClassCaches when running on a JRE\nthat includes a fix for the underlying memory leak. (markt)</p>\n</blockquote>\n"}],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12498,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":73551982,"answer_count":1,"score":10,"last_activity_date":1673311636,"creation_date":1661253592,"question_id":73457793,"body_markdown":"I am using Eclipse 2022-06 and Tomcat 10.0.10.\r\n\r\nOften, when shutting down Tomcat running inside Eclipse, I get \r\n\r\n    WARNUNG: Failed to clear soft references from ObjectStreamClass$Caches for web application [ROOT]\r\n    java.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.clearCache(WebappClassLoaderBase.java:2363)\r\n...\r\n\r\nI have found [this][1] question, but it does not really apply: It&#39;s a different class (Map instead of String) and I cannot find a file called &quot;SESSIONS.ser&quot;. I also have already removed everything from the actual web service part (so the code is doing nothing). I just have not started to remove all the jar files linked that are probably loaded automatically.\r\n\r\nIs there any way to find out which class actually causes the problem?\r\n\r\nBy the way, if by deploying a WAR file to a Tomcat installation outside Eclipse, I was not able to reproduce the error in the log. I am unsure whether that means it does not appear.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34553583/java-lang-classcastexception-java-io-objectstreamclass-cannot-be-cast-to-java-l","title":"ClassCastException when stopping Tomcat 10 inside Eclipse","body":"<p>I am using Eclipse 2022-06 and Tomcat 10.0.10.</p>\n<p>Often, when shutting down Tomcat running inside Eclipse, I get</p>\n<pre><code>WARNUNG: Failed to clear soft references from ObjectStreamClass$Caches for web application [ROOT]\njava.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader 'bootstrap')\n    at org.apache.catalina.loader.WebappClassLoaderBase.clearCache(WebappClassLoaderBase.java:2363)\n</code></pre>\n<p>...</p>\n<p>I have found <a href=\"https://stackoverflow.com/questions/34553583/java-lang-classcastexception-java-io-objectstreamclass-cannot-be-cast-to-java-l\">this</a> question, but it does not really apply: It's a different class (Map instead of String) and I cannot find a file called &quot;SESSIONS.ser&quot;. I also have already removed everything from the actual web service part (so the code is doing nothing). I just have not started to remove all the jar files linked that are probably loaded automatically.</p>\n<p>Is there any way to find out which class actually causes the problem?</p>\n<p>By the way, if by deploying a WAR file to a Tomcat installation outside Eclipse, I was not able to reproduce the error in the log. I am unsure whether that means it does not appear.</p>\n"},{"tags":["java","android","xml","calculation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673342100,"post_id":75063684,"comment_id":132471523,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":14060422,"reputation":36,"user_id":10156638,"display_name":"buffman23"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673310882,"creation_date":1673310882,"answer_id":75064308,"question_id":75063684,"body_markdown":"I am assuming this is a string you are trying to manipulate. Ex &quot;10.5+6\\*7.0&quot;.\r\nI will assume you are storing the user input in a StringBuilder.&lt;br&gt;\r\nEvery time the user types a character you append it to the StringBuilder. Always keep track of the rightmost &quot;number delimiter&quot; in the string. Delimiter Examples: +-*/%()[]. You know the current number being typed begins after the rightmost delimiter. Check the chars from delimiter to string length to see if there is already a decimal in the number.\r\n\r\n```\r\nimport java.util.*;\r\nimport javax.script.ScriptEngineManager;\r\nimport javax.script.ScriptEngine;\r\nimport javax.script.ScriptException;\r\n\r\nclass Foo {\r\n    int rightmostDelimiterIdx = 0;\r\n    List&lt;Character&gt; delimiters = Arrays.asList(&#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;, &#39;%&#39;, &#39;(&#39;, &#39;)&#39;, &#39;[&#39;, &#39;]&#39;);\r\n    \r\n    public static void main(String[] args){\r\n    \tFoo foo = new Foo();\r\n        try {\r\n\t\t\tfoo.run();\r\n\t\t} catch (ScriptException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n    \r\n    public void run() throws ScriptException\r\n    {\r\n    \tStringBuilder sb = new StringBuilder(); // store user input\r\n        ScriptEngineManager mgr = new ScriptEngineManager(); // evaluate expression with JavaScript\r\n        ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n        \r\n        // User types:5.0*7\r\n        charTyped(sb, &#39;5&#39;);\r\n        charTyped(sb,&#39;.&#39;);\r\n        charTyped(sb,&#39;0&#39;);\r\n        charTyped(sb,&#39;*&#39;);\r\n        charTyped(sb,&#39;7&#39;);\r\n        System.out.println(engine.eval(sb.toString()));\r\n        sb.setLength(0);\r\n        // User types:8+2.3.3\r\n        charTyped(sb, &#39;8&#39;);\r\n        charTyped(sb,&#39;+&#39;);\r\n        charTyped(sb,&#39;2&#39;);\r\n        charTyped(sb,&#39;.&#39;);\r\n        charTyped(sb,&#39;3&#39;);\r\n        charTyped(sb,&#39;.&#39;); // second decimal will be rejected, thus string will be &quot;8+2.33&quot;\r\n        charTyped(sb,&#39;3&#39;);\r\n        System.out.println(engine.eval(sb.toString()));\r\n    }\r\n    \r\n    // appends c to sb if valid operation\r\n    public void charTyped(StringBuilder sb, char c)\r\n    {\r\n        if(delimiters.contains(c)) {\r\n            rightmostDelimiterIdx = sb.length();\r\n        } else if(c == &#39;.&#39; &amp;&amp; sb.indexOf(&quot;.&quot;, rightmostDelimiterIdx) != -1) {\r\n        \treturn; // do not add &#39;.&#39; b/c already exists in number\r\n        }\r\n        \r\n        sb.append(c);\r\n    }\r\n    \r\n    public void charDeleted(StringBuilder sb, char c) {\r\n    \t// I leave implementation up to you\r\n    }\r\n}\r\n```\r\n\r\nOutput:&lt;br&gt;\r\n35.0&lt;br&gt;\r\n10.33","title":"How do I allow a decimal point only in certain circumstance for my calculator app in android studio?","body":"<p>I am assuming this is a string you are trying to manipulate. Ex &quot;10.5+6*7.0&quot;.\nI will assume you are storing the user input in a StringBuilder.<br>\nEvery time the user types a character you append it to the StringBuilder. Always keep track of the rightmost &quot;number delimiter&quot; in the string. Delimiter Examples: +-*/%()[]. You know the current number being typed begins after the rightmost delimiter. Check the chars from delimiter to string length to see if there is already a decimal in the number.</p>\n<pre><code>import java.util.*;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptException;\n\nclass Foo {\n    int rightmostDelimiterIdx = 0;\n    List&lt;Character&gt; delimiters = Arrays.asList('+', '-', '*', '/', '%', '(', ')', '[', ']');\n    \n    public static void main(String[] args){\n        Foo foo = new Foo();\n        try {\n            foo.run();\n        } catch (ScriptException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public void run() throws ScriptException\n    {\n        StringBuilder sb = new StringBuilder(); // store user input\n        ScriptEngineManager mgr = new ScriptEngineManager(); // evaluate expression with JavaScript\n        ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\n        \n        // User types:5.0*7\n        charTyped(sb, '5');\n        charTyped(sb,'.');\n        charTyped(sb,'0');\n        charTyped(sb,'*');\n        charTyped(sb,'7');\n        System.out.println(engine.eval(sb.toString()));\n        sb.setLength(0);\n        // User types:8+2.3.3\n        charTyped(sb, '8');\n        charTyped(sb,'+');\n        charTyped(sb,'2');\n        charTyped(sb,'.');\n        charTyped(sb,'3');\n        charTyped(sb,'.'); // second decimal will be rejected, thus string will be &quot;8+2.33&quot;\n        charTyped(sb,'3');\n        System.out.println(engine.eval(sb.toString()));\n    }\n    \n    // appends c to sb if valid operation\n    public void charTyped(StringBuilder sb, char c)\n    {\n        if(delimiters.contains(c)) {\n            rightmostDelimiterIdx = sb.length();\n        } else if(c == '.' &amp;&amp; sb.indexOf(&quot;.&quot;, rightmostDelimiterIdx) != -1) {\n            return; // do not add '.' b/c already exists in number\n        }\n        \n        sb.append(c);\n    }\n    \n    public void charDeleted(StringBuilder sb, char c) {\n        // I leave implementation up to you\n    }\n}\n</code></pre>\n<p>Output:<br>\n35.0<br>\n10.33</p>\n"}],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673310882,"creation_date":1673303881,"question_id":75063684,"body_markdown":"I am trying to figure out on how to allow only a decimal point for every decimal number. \r\n\r\nI have been able to allow only 1 decimal on the output when the user is inputting his equation, but I can&#39;t figure out how to allow the user to input a decimal point whenever he wants to have more than 1 decimal number on the screen.  At this moment, my code only allows only 1 decimal point on screen. \r\n\r\nHow do I change this to allow it for every number without adding decimal points in incorrect places?\r\n\r\n","title":"How do I allow a decimal point only in certain circumstance for my calculator app in android studio?","body":"<p>I am trying to figure out on how to allow only a decimal point for every decimal number.</p>\n<p>I have been able to allow only 1 decimal on the output when the user is inputting his equation, but I can't figure out how to allow the user to input a decimal point whenever he wants to have more than 1 decimal number on the screen.  At this moment, my code only allows only 1 decimal point on screen.</p>\n<p>How do I change this to allow it for every number without adding decimal points in incorrect places?</p>\n"},{"tags":["java","string","immutability"],"comments":[{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":1,"creation_date":1260372603,"post_id":279507,"comment_id":1773175,"body_markdown":"When you said StringBuilder, didn&#39;t you mean the mutable class StringBuffer?  String and StringBuffer are more similar in function than are String and StringBuilder.  StringBuffer is effectively a mutable string.","body":"When you said StringBuilder, didn&#39;t you mean the mutable class StringBuffer?  String and StringBuffer are more similar in function than are String and StringBuilder.  StringBuffer is effectively a mutable string."},{"owner":{"account_id":1319802,"reputation":1332,"user_id":1265850,"accept_rate":79,"display_name":"R D"},"score":0,"creation_date":1407996165,"post_id":279507,"comment_id":39433494,"body_markdown":"http://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder/2971343#2971343","body":"<a href=\"http://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder/2971343#2971343\" title=\"string stringbuffer and stringbuilder\">stackoverflow.com/questions/2971315/&hellip;</a>"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1683839712,"post_id":279507,"comment_id":134432362,"body_markdown":"For a deeper discussion of immutability, including immutability AFTER the constructor has completed and the instance has become available: https://stackoverflow.com/a/75043881/501113","body":"For a deeper discussion of immutability, including immutability AFTER the constructor has completed and the instance has become available: <a href=\"https://stackoverflow.com/a/75043881/501113\">stackoverflow.com/a/75043881/501113</a>"}],"answers":[{"tags":[],"owner":{"account_id":2169,"reputation":3168,"user_id":2985,"accept_rate":56,"display_name":"stjohnroe"},"comment_count":0,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1226358424,"creation_date":1226358424,"answer_id":279513,"question_id":279507,"body_markdown":"Once instanciated, cannot be altered. Consider a class that an instance of might be used as the key for a hashtable or similar. Check out Java best practices.","title":"What is meant by immutable?","body":"<p>Once instanciated, cannot be altered. Consider a class that an instance of might be used as the key for a hashtable or similar. Check out Java best practices.</p>\n"},{"tags":[],"owner":{"account_id":8894,"reputation":1326,"user_id":16201,"display_name":"eishay"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1462390092,"creation_date":1226358473,"answer_id":279515,"question_id":279507,"body_markdown":"Immutable means that once the object is created, non of its members will change. `String` is immutable since you can not change its content.\r\nFor example:\r\n\r\n    String s1 = &quot;  abc  &quot;;\r\n    String s2 = s1.trim();\r\n\r\nIn the code above, the string s1 did not change, another object (`s2`) was created using `s1`.","title":"What is meant by immutable?","body":"<p>Immutable means that once the object is created, non of its members will change. <code>String</code> is immutable since you can not change its content.\nFor example:</p>\n\n<pre><code>String s1 = \"  abc  \";\nString s2 = s1.trim();\n</code></pre>\n\n<p>In the code above, the string s1 did not change, another object (<code>s2</code>) was created using <code>s1</code>.</p>\n"},{"tags":[],"owner":{"account_id":2857,"reputation":8373,"user_id":4052,"accept_rate":92,"display_name":"Georgy Bolyuba"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1424843521,"creation_date":1226358516,"answer_id":279516,"question_id":279507,"body_markdown":"&quot;immutable&quot; means you cannot change value. If you have an instance of String class, any method you call which seems to modify the value, will actually create another String.\r\n\r\n    String foo = &quot;Hello&quot;;\r\n    foo.substring(3);\r\n    &lt;-- foo here still has the same value &quot;Hello&quot;\r\n\r\nTo preserve changes you should do something like this\r\n    foo = foo.sustring(3);\r\n\r\nImmutable vs mutable can be funny when you work with collections. Think about what will happen if you use mutable object as a key for map and then change the value (tip: think about `equals` and `hashCode`).","title":"What is meant by immutable?","body":"<p>\"immutable\" means you cannot change value. If you have an instance of String class, any method you call which seems to modify the value, will actually create another String.</p>\n\n<pre><code>String foo = \"Hello\";\nfoo.substring(3);\n&lt;-- foo here still has the same value \"Hello\"\n</code></pre>\n\n<p>To preserve changes you should do something like this\n    foo = foo.sustring(3);</p>\n\n<p>Immutable vs mutable can be funny when you work with collections. Think about what will happen if you use mutable object as a key for map and then change the value (tip: think about <code>equals</code> and <code>hashCode</code>).</p>\n"},{"tags":[],"owner":{"account_id":15446,"reputation":144268,"user_id":32632,"accept_rate":76,"display_name":"Charles Bretana"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1226358694,"creation_date":1226358694,"answer_id":279521,"question_id":279507,"body_markdown":"  One meaning has to do with how the value is stored in the computer,  For a .Net string for example, it means that the string in memory cannot be changed,   When you think you&#39;re changing it, you are in fact creating a new string in memory and pointing the existing variable (which is just a pointer to the actual collection of characters somewhere else) to the new string. ","title":"What is meant by immutable?","body":"<p>One meaning has to do with how the value is stored in the computer,  For a .Net string for example, it means that the string in memory cannot be changed,   When you think you're changing it, you are in fact creating a new string in memory and pointing the existing variable (which is just a pointer to the actual collection of characters somewhere else) to the new string. </p>\n"},{"comments":[{"owner":{"account_id":2857,"reputation":8373,"user_id":4052,"accept_rate":92,"display_name":"Georgy Bolyuba"},"score":3,"creation_date":1226359292,"post_id":279522,"comment_id":130999,"body_markdown":"I think you should add a one arg constructor to assign value at least once. The point of current code is not clear since there is no value to change really :).","body":"I think you should add a one arg constructor to assign value at least once. The point of current code is not clear since there is no value to change really :)."},{"owner":{"account_id":11948,"reputation":737798,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"score":4,"creation_date":1226362540,"post_id":279522,"comment_id":131085,"body_markdown":"You should make the field readonly.  It makes it completely explicit that the field is immutable.  Right now it&#39;s immutable by convention","body":"You should make the field readonly.  It makes it completely explicit that the field is immutable.  Right now it&#39;s immutable by convention"},{"owner":{"account_id":469,"reputation":29062,"user_id":611,"display_name":"OJ."},"score":0,"creation_date":1226368992,"post_id":279522,"comment_id":131214,"body_markdown":"This answer is good. But to clarify more, it doesn&#39;t mean that you can&#39;t set your variable to another instance of an immutable type (a-la const). It just means that the instance itself can&#39;t be modified.","body":"This answer is good. But to clarify more, it doesn&#39;t mean that you can&#39;t set your variable to another instance of an immutable type (a-la const). It just means that the instance itself can&#39;t be modified."},{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":7,"creation_date":1231535810,"post_id":279522,"comment_id":253308,"body_markdown":"The member myVar should be final for this to be truly immutable.","body":"The member myVar should be final for this to be truly immutable."},{"owner":{"account_id":2815,"reputation":52564,"user_id":3978,"accept_rate":86,"display_name":"Douglas Leeder"},"score":1,"creation_date":1231580826,"post_id":279522,"comment_id":254299,"body_markdown":"I don&#39;t think final actually adds anything - from outside the class (even subclasses) the myVar can&#39;t be pointed at a different String, and String is itself immutable.","body":"I don&#39;t think final actually adds anything - from outside the class (even subclasses) the myVar can&#39;t be pointed at a different String, and String is itself immutable."},{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":13,"creation_date":1231796465,"post_id":279522,"comment_id":259712,"body_markdown":"You are correct that myVar isn&#39;t accessible outside of Foo. However, the presence of final indicates to anyone that may be modifying the class in the future that its value isn&#39;t meant to change. I tend to favor being as explicit as possible in such circumstances.","body":"You are correct that myVar isn&#39;t accessible outside of Foo. However, the presence of final indicates to anyone that may be modifying the class in the future that its value isn&#39;t meant to change. I tend to favor being as explicit as possible in such circumstances."},{"owner":{"account_id":2908,"reputation":125963,"user_id":4120,"accept_rate":80,"display_name":"Grundlefleck"},"score":1,"creation_date":1263041202,"post_id":279522,"comment_id":1957392,"body_markdown":"IIRC using `final` has some advantages in the Java memory model as well (I don&#39;t have a source for this right now though).","body":"IIRC using <code>final</code> has some advantages in the Java memory model as well (I don&#39;t have a source for this right now though)."},{"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"score":2,"creation_date":1429290539,"post_id":279522,"comment_id":47546388,"body_markdown":"How about &quot;Reference types cannot be made immutable just by using the final keyword. final only prevents reassignment.&quot; from https://en.wikipedia.org/wiki/Immutable_object","body":"How about &quot;Reference types cannot be made immutable just by using the final keyword. final only prevents reassignment.&quot; from <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Immutable_object</a>"},{"owner":{"account_id":5240236,"reputation":3531,"user_id":4187541,"accept_rate":80,"display_name":"Peter Chaula"},"score":0,"creation_date":1483371393,"post_id":279522,"comment_id":70064816,"body_markdown":"IMO, a `const`-like approach could have been more robust","body":"IMO, a <code>const</code>-like approach could have been more robust"},{"owner":{"account_id":4702581,"reputation":620,"user_id":3805770,"display_name":"KingKongCoder"},"score":0,"creation_date":1504766561,"post_id":279522,"comment_id":79140588,"body_markdown":"@DouglasLeeder what happens if i do `myvar.toUpperCase();` will it create a new object for myvar with new value or will it modify the existing myvar object in the heap memory.","body":"@DouglasLeeder what happens if i do <code>myvar.toUpperCase();</code> will it create a new object for myvar with new value or will it modify the existing myvar object in the heap memory."},{"owner":{"account_id":2815,"reputation":52564,"user_id":3978,"accept_rate":86,"display_name":"Douglas Leeder"},"score":0,"creation_date":1504862450,"post_id":279522,"comment_id":79188229,"body_markdown":"@randomaspirer Strings are immutable, so it will return a new String. https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toUpperCase() doesn&#39;t explicitly say, but it might return the same String or share a buffer in the case where it doesn&#39;t have to change any characters.","body":"@randomaspirer Strings are immutable, so it will return a new String. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toUpperCase()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> doesn&#39;t explicitly say, but it might return the same String or share a buffer in the case where it doesn&#39;t have to change any characters."},{"owner":{"account_id":2814590,"reputation":1225,"user_id":2420028,"accept_rate":50,"display_name":"Danny Dan"},"score":1,"creation_date":1557826258,"post_id":279522,"comment_id":98885894,"body_markdown":"class should be `final` as well or you can subclass it and override method `getValue()`","body":"class should be <code>final</code> as well or you can subclass it and override method <code>getValue()</code>"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1683839778,"post_id":279522,"comment_id":134432368,"body_markdown":"It&#39;s not limited by the completion of the constructor. It has to do with class level immutability as opposed to instance level immutability. I have detailed the distinctions here: https://stackoverflow.com/a/75043881/501113","body":"It&#39;s not limited by the completion of the constructor. It has to do with class level immutability as opposed to instance level immutability. I have detailed the distinctions here: <a href=\"https://stackoverflow.com/a/75043881/501113\">stackoverflow.com/a/75043881/501113</a>"}],"tags":[],"owner":{"account_id":2815,"reputation":52564,"user_id":3978,"accept_rate":86,"display_name":"Douglas Leeder"},"comment_count":13,"down_vote_count":3,"up_vote_count":286,"is_accepted":true,"score":283,"last_activity_date":1582477871,"creation_date":1226358708,"answer_id":279522,"question_id":279507,"body_markdown":"Immutable means that once the constructor for an object has completed execution that instance can&#39;t be altered.\r\n\r\nThis is useful as it means you can pass references to the object around, without worrying that someone else is going to change its contents. *Especially when dealing with concurrency, there are no locking issues with objects that never change*\r\n\r\ne.g.\r\n\r\n    class Foo\r\n    {\r\n         private final String myvar;\r\n\r\n         public Foo(final String initialValue)\r\n         {\r\n             this.myvar = initialValue;\r\n         }\r\n\r\n         public String getValue()\r\n         {\r\n             return this.myvar;\r\n         }\r\n    }\r\n\r\n`Foo` doesn&#39;t have to worry that the caller to `getValue()` might change the text in the string.\r\n\r\nIf you imagine a similar class to `Foo`, but with a `StringBuilder` rather than a `String` as a member, you can see that a caller to `getValue()` would be able to alter the `StringBuilder` attribute of a `Foo` instance.\r\n\r\nAlso beware of the different kinds of immutability you might find: Eric Lippert wrote a [blog article][1] about this. Basically you can have objects whose interface is immutable but behind the scenes actual mutables private state (and therefore can&#39;t be shared safely between threads).\r\n\r\n\r\n  [1]: https://learn.microsoft.com/archive/blogs/ericlippert/immutability-in-c-part-one-kinds-of-immutability","title":"What is meant by immutable?","body":"<p>Immutable means that once the constructor for an object has completed execution that instance can't be altered.</p>\n\n<p>This is useful as it means you can pass references to the object around, without worrying that someone else is going to change its contents. <em>Especially when dealing with concurrency, there are no locking issues with objects that never change</em></p>\n\n<p>e.g.</p>\n\n<pre><code>class Foo\n{\n     private final String myvar;\n\n     public Foo(final String initialValue)\n     {\n         this.myvar = initialValue;\n     }\n\n     public String getValue()\n     {\n         return this.myvar;\n     }\n}\n</code></pre>\n\n<p><code>Foo</code> doesn't have to worry that the caller to <code>getValue()</code> might change the text in the string.</p>\n\n<p>If you imagine a similar class to <code>Foo</code>, but with a <code>StringBuilder</code> rather than a <code>String</code> as a member, you can see that a caller to <code>getValue()</code> would be able to alter the <code>StringBuilder</code> attribute of a <code>Foo</code> instance.</p>\n\n<p>Also beware of the different kinds of immutability you might find: Eric Lippert wrote a <a href=\"https://learn.microsoft.com/archive/blogs/ericlippert/immutability-in-c-part-one-kinds-of-immutability\" rel=\"noreferrer\">blog article</a> about this. Basically you can have objects whose interface is immutable but behind the scenes actual mutables private state (and therefore can't be shared safely between threads).</p>\n"},{"comments":[{"owner":{"account_id":11948,"reputation":737798,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"score":0,"creation_date":1226362603,"post_id":279537,"comment_id":131088,"body_markdown":"You should make the fields readonly.  Right now your class is immutable by convention.  There is no indication to future developers tha the immutable is intentional.  Making the fields readonly will help clarify your intention to a future dev","body":"You should make the fields readonly.  Right now your class is immutable by convention.  There is no indication to future developers tha the immutable is intentional.  Making the fields readonly will help clarify your intention to a future dev"},{"owner":{"account_id":15939,"reputation":78065,"user_id":34218,"display_name":"Jason Coco"},"score":0,"creation_date":1226365449,"post_id":279537,"comment_id":131146,"body_markdown":"@JaredPar - Actually, the class is not immutable at all... it&#39;s an example of a mutable class to demonstrate why it may be an issue.","body":"@JaredPar - Actually, the class is not immutable at all... it&#39;s an example of a mutable class to demonstrate why it may be an issue."},{"owner":{"account_id":15939,"reputation":78065,"user_id":34218,"display_name":"Jason Coco"},"score":1,"creation_date":1226371951,"post_id":279537,"comment_id":131244,"body_markdown":"@JaredPar - Oh, that&#39;s totally okay :) I was gonna rewrite it a bit to be more clear, but Douglas&#39;s is already well written and seems to be the favorite, so I&#39;ll just leave mine as another example; but somebody did actually edit it to make the properties final which I thought was amusing :)","body":"@JaredPar - Oh, that&#39;s totally okay :) I was gonna rewrite it a bit to be more clear, but Douglas&#39;s is already well written and seems to be the favorite, so I&#39;ll just leave mine as another example; but somebody did actually edit it to make the properties final which I thought was amusing :)"}],"tags":[],"owner":{"account_id":15939,"reputation":78065,"user_id":34218,"display_name":"Jason Coco"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1226368947,"creation_date":1226359211,"answer_id":279537,"question_id":279507,"body_markdown":"Immutable objects are objects that can&#39;t be changed programmatically. They&#39;re especially good for multi-threaded environments or other environments where more than one process is able to alter (mutate) the values in an object.\r\n\r\nJust to clarify, however, StringBuilder is actually a mutable object, not an immutable one. A regular java String is immutable (meaning that once it&#39;s been created you cannot change the underlying string without changing the object).\r\n\r\nFor example, let&#39;s say that I have a class called ColoredString that has a String value and a String color:\r\n\r\n    public class ColoredString {\r\n    \t\r\n    \tprivate String color;\r\n    \tprivate String string;\r\n    \t\r\n    \tpublic ColoredString(String color, String string) {\r\n    \t\tthis.color  = color;\r\n    \t\tthis.string = string;\r\n    \t}\r\n    \t\r\n    \tpublic String getColor()  { return this.color;  }\r\n    \tpublic String getString() { return this.string; }\r\n    \t\r\n    \tpublic void setColor(String newColor) {\r\n    \t\tthis.color = newColor;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nIn this example, the ColoredString is said to be mutable because you can change (mutate) one of its key properties without creating a new ColoredString class. The reason why this may be bad is, for example, let&#39;s say you have a GUI application which has multiple threads and you are using ColoredStrings to print data to the window. If you have an instance of ColoredString which was created as\r\n\r\n    new ColoredString(&quot;Blue&quot;, &quot;This is a blue string!&quot;);\r\n\r\nThen you would expect the string to always be &quot;Blue&quot;. If another thread, however, got ahold of this instance and called\r\n\r\n    blueString.setColor(&quot;Red&quot;);\r\n\r\nYou would suddenly, and probably unexpectedly, now have a &quot;Red&quot; string when you wanted a &quot;Blue&quot; one. Because of this, immutable objects are almost always preferred when passing instances of objects around. When you have a case where mutable objects are really necessary, then you would typically guard the objet by only passing copies out from your specific field of control.\r\n\r\nTo recap, in Java, java.lang.String is an immutable object (it *cannot* be changed once it&#39;s created) and java.lang.StringBuilder is a mutable object because it can be changed without creating a new instance.\r\n\r\n","title":"What is meant by immutable?","body":"<p>Immutable objects are objects that can't be changed programmatically. They're especially good for multi-threaded environments or other environments where more than one process is able to alter (mutate) the values in an object.</p>\n\n<p>Just to clarify, however, StringBuilder is actually a mutable object, not an immutable one. A regular java String is immutable (meaning that once it's been created you cannot change the underlying string without changing the object).</p>\n\n<p>For example, let's say that I have a class called ColoredString that has a String value and a String color:</p>\n\n<pre><code>public class ColoredString {\n\n    private String color;\n    private String string;\n\n    public ColoredString(String color, String string) {\n        this.color  = color;\n        this.string = string;\n    }\n\n    public String getColor()  { return this.color;  }\n    public String getString() { return this.string; }\n\n    public void setColor(String newColor) {\n        this.color = newColor;\n    }\n\n}\n</code></pre>\n\n<p>In this example, the ColoredString is said to be mutable because you can change (mutate) one of its key properties without creating a new ColoredString class. The reason why this may be bad is, for example, let's say you have a GUI application which has multiple threads and you are using ColoredStrings to print data to the window. If you have an instance of ColoredString which was created as</p>\n\n<pre><code>new ColoredString(\"Blue\", \"This is a blue string!\");\n</code></pre>\n\n<p>Then you would expect the string to always be \"Blue\". If another thread, however, got ahold of this instance and called</p>\n\n<pre><code>blueString.setColor(\"Red\");\n</code></pre>\n\n<p>You would suddenly, and probably unexpectedly, now have a \"Red\" string when you wanted a \"Blue\" one. Because of this, immutable objects are almost always preferred when passing instances of objects around. When you have a case where mutable objects are really necessary, then you would typically guard the objet by only passing copies out from your specific field of control.</p>\n\n<p>To recap, in Java, java.lang.String is an immutable object (it <em>cannot</em> be changed once it's created) and java.lang.StringBuilder is a mutable object because it can be changed without creating a new instance.</p>\n"},{"comments":[{"owner":{"account_id":7689,"reputation":53388,"user_id":13422,"accept_rate":50,"display_name":"Zan Lynx"},"score":0,"creation_date":1226372436,"post_id":279675,"comment_id":131252,"body_markdown":"It should be able to do this with any identical immutable objects, but I suppose that would take too much runtime.","body":"It should be able to do this with any identical immutable objects, but I suppose that would take too much runtime."}],"tags":[],"owner":{"account_id":6190,"reputation":681,"user_id":10318,"accept_rate":71,"display_name":"wen"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1226363603,"creation_date":1226363603,"answer_id":279675,"question_id":279507,"body_markdown":"I really like the explaination from [SCJP Sun Certified Programmer for Java 5 Study Guide][1].\r\n&gt; \r\nTo make Java more memory efficient, the JVM sets aside a special area of  memory called the &quot;String constant pool.&quot; When the compiler encounters a String literal, it checks the pool to see if  an identical String already exists. If  a match is found, the reference to the new literal is directed to the existing String, and no new String literal object is created. \r\n&gt; \r\n\r\n\r\n  [1]: http://www.amazon.com/Certified-Programmer-310-055-Certification-Guides/dp/0072253606/ref=pd_bbs_sr_2?ie=UTF8&amp;s=books&amp;qid=1226363595&amp;sr=8-2","title":"What is meant by immutable?","body":"<p>I really like the explaination from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0072253606\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">SCJP Sun Certified Programmer for Java 5 Study Guide</a>.</p>\n\n<blockquote>\n  <p>To make Java more memory efficient, the JVM sets aside a special area of  memory called the \"String constant pool.\" When the compiler encounters a String literal, it checks the pool to see if  an identical String already exists. If  a match is found, the reference to the new literal is directed to the existing String, and no new String literal object is created. </p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":16003,"reputation":6604,"user_id":34435,"accept_rate":80,"display_name":"he_the_great"},"score":0,"creation_date":1226364649,"post_id":279687,"comment_id":131130,"body_markdown":"I do believe that as of D 2.020 the keyword was changed from invariant to immutable. I don&#39;t see a point, but it does say, &quot;immutable now is implemented.&quot;\n\nhttp://digitalmars.com/d/2.0/changelog.html#new2_020","body":"I do believe that as of D 2.020 the keyword was changed from invariant to immutable. I don&#39;t see a point, but it does say, &quot;immutable now is implemented.&quot;  <a href=\"http://digitalmars.com/d/2.0/changelog.html#new2_020\" rel=\"nofollow noreferrer\">digitalmars.com/d/2.0/changelog.html#new2_020</a>"}],"tags":[],"owner":{"account_id":16613,"reputation":147,"user_id":36393,"display_name":"user36393"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1226363945,"creation_date":1226363945,"answer_id":279687,"question_id":279507,"body_markdown":"An immutable object is the one you cannot modify after you create it. A typical example are string literals.\r\n\r\nA D programming language, which becomes increasingly popular, has a notion of &quot;immutability&quot; through &quot;invariant&quot; keyword. Check this Dr.Dobb&#39;s article about it - [http://dobbscodetalk.com/index.php?option=com_myblog&amp;show=Invariant-Strings.html&amp;Itemid=29][1] . It explains the problem perfectly.\r\n\r\n\r\n  [1]: http://dobbscodetalk.com/index.php?option=com_myblog&amp;show=Invariant-Strings.html&amp;Itemid=29","title":"What is meant by immutable?","body":"<p>An immutable object is the one you cannot modify after you create it. A typical example are string literals.</p>\n\n<p>A D programming language, which becomes increasingly popular, has a notion of \"immutability\" through \"invariant\" keyword. Check this Dr.Dobb's article about it - <a href=\"http://dobbscodetalk.com/index.php?option=com_myblog&amp;show=Invariant-Strings.html&amp;Itemid=29\" rel=\"nofollow noreferrer\">http://dobbscodetalk.com/index.php?option=com_myblog&amp;show=Invariant-Strings.html&amp;Itemid=29</a> . It explains the problem perfectly.</p>\n"},{"tags":[],"owner":{"account_id":5059,"reputation":8280,"user_id":7938,"display_name":"Bill Michell"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1226401532,"creation_date":1226401532,"answer_id":280622,"question_id":279507,"body_markdown":"Objects which are immutable can not have their state changed after they have been created.\r\n\r\nThere are three main reasons to use immutable objects whenever you can, all of which will help to reduce the number of bugs you introduce in your code:\r\n\r\n  - It is much easier to reason about how your program works when you know that an object&#39;s state cannot be changed by another method\r\n  - Immutable objects are automatically thread safe (assuming they are published safely) so will never be the cause of those hard-to-pin-down multithreading bugs\r\n  - Immutable objects will always have the same Hash code, so they can be used as the keys in a HashMap (or similar). If the hash code of an element in a hash table was to change, the table entry would then effectively be lost, since attempts to find it in the table would end up looking in the wrong place. This is the main reason that String objects are immutable - they are frequently used as HashMap keys.\r\n\r\nThere are also some other optimisations you might be able to make in code when you know that the state of an object is immutable - caching the calculated hash, for example - but these are optimisations and therefore not nearly so interesting.\r\n\r\n","title":"What is meant by immutable?","body":"<p>Objects which are immutable can not have their state changed after they have been created.</p>\n\n<p>There are three main reasons to use immutable objects whenever you can, all of which will help to reduce the number of bugs you introduce in your code:</p>\n\n<ul>\n<li>It is much easier to reason about how your program works when you know that an object's state cannot be changed by another method</li>\n<li>Immutable objects are automatically thread safe (assuming they are published safely) so will never be the cause of those hard-to-pin-down multithreading bugs</li>\n<li>Immutable objects will always have the same Hash code, so they can be used as the keys in a HashMap (or similar). If the hash code of an element in a hash table was to change, the table entry would then effectively be lost, since attempts to find it in the table would end up looking in the wrong place. This is the main reason that String objects are immutable - they are frequently used as HashMap keys.</li>\n</ul>\n\n<p>There are also some other optimisations you might be able to make in code when you know that the state of an object is immutable - caching the calculated hash, for example - but these are optimisations and therefore not nearly so interesting.</p>\n"},{"comments":[{"owner":{"account_id":20271,"reputation":2049,"user_id":48256,"accept_rate":86,"display_name":"mparaz"},"score":1,"creation_date":1235318133,"post_id":512458,"comment_id":386935,"body_markdown":"Good idea - an object that cannot be observed to have changed, as well as, no way to change it from the outside. The private field for hashCode() is an internal change that is not material to the externally visible state of the object.","body":"Good idea - an object that cannot be observed to have changed, as well as, no way to change it from the outside. The private field for hashCode() is an internal change that is not material to the externally visible state of the object."},{"owner":{"account_id":1484320,"reputation":566,"user_id":1392882,"display_name":"Miguel"},"score":2,"creation_date":1372927332,"post_id":512458,"comment_id":25379093,"body_markdown":"Actually it **can** be observed to have changed if you use reflection. See more at Sedgewick&#39;s [Strings are mutable if you allow reflection](http://algs4.cs.princeton.edu/12oop/MutableString.java.html).","body":"Actually it <b>can</b> be observed to have changed if you use reflection. See more at Sedgewick&#39;s <a href=\"http://algs4.cs.princeton.edu/12oop/MutableString.java.html\" rel=\"nofollow noreferrer\">Strings are mutable if you allow reflection</a>."}],"tags":[],"owner":{"display_name":"Gary Frost"},"comment_count":2,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1233768870,"creation_date":1233768870,"answer_id":512458,"question_id":279507,"body_markdown":"Actually String is not immutable if you use the wikipedia definition suggested above. \r\n\r\nString&#39;s state does change post construction. Take a look at the hashcode() method.  String caches the hashcode value in a local field but does not calculate it until the first call of hashcode().  This lazy evaluation of hashcode places String in an interesting position as an immutable object whose state changes, but it cannot be observed to have changed without using reflection. \r\n\r\nSo maybe the definition of immutable should be an object that cannot be observed to have changed. \r\n\r\nIf the state changes in an immutable object after it has been created but no-one can see it (without reflection) is the object still immutable?\r\n\r\n ","title":"What is meant by immutable?","body":"<p>Actually String is not immutable if you use the wikipedia definition suggested above. </p>\n\n<p>String's state does change post construction. Take a look at the hashcode() method.  String caches the hashcode value in a local field but does not calculate it until the first call of hashcode().  This lazy evaluation of hashcode places String in an interesting position as an immutable object whose state changes, but it cannot be observed to have changed without using reflection. </p>\n\n<p>So maybe the definition of immutable should be an object that cannot be observed to have changed. </p>\n\n<p>If the state changes in an immutable object after it has been created but no-one can see it (without reflection) is the object still immutable?</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1389043181,"post_id":1253519,"comment_id":31483621,"body_markdown":"What is necessary is not that the fields be immutable, but rather that the object&#39;s defined observable state be immutable; an object which holds a reference to another object *as a means of encapsulating state contained therein* can only be immutable if all encapsulated aspects of state which it exposes to the outside world are likewise immutable.  Note that it is neither necessary nor sufficient that fields be of immutable types.  What matters is visible state.","body":"What is necessary is not that the fields be immutable, but rather that the object&#39;s defined observable state be immutable; an object which holds a reference to another object <i>as a means of encapsulating state contained therein</i> can only be immutable if all encapsulated aspects of state which it exposes to the outside world are likewise immutable.  Note that it is neither necessary nor sufficient that fields be of immutable types.  What matters is visible state."},{"owner":{"account_id":2682718,"reputation":1241,"user_id":3080655,"accept_rate":71,"display_name":"Cristian Gutu"},"score":9,"creation_date":1412213485,"post_id":1253519,"comment_id":40998067,"body_markdown":"`Passing pointers because Java is pass-by-reference` Isn&#39;t java &quot;pass-by-value?&quot;","body":"<code>Passing pointers because Java is pass-by-reference</code> Isn&#39;t java &quot;pass-by-value?&quot;"},{"owner":{"account_id":6475147,"reputation":519,"user_id":5013940,"accept_rate":43,"display_name":"Arsh Kaushal"},"score":0,"creation_date":1494918918,"post_id":1253519,"comment_id":75018024,"body_markdown":"@CristianGutu yes you are right JAVA is &quot;Pass by Value&quot; not &quot;Pass by REFERENCE&quot;","body":"@CristianGutu yes you are right JAVA is &quot;Pass by Value&quot; not &quot;Pass by REFERENCE&quot;"},{"owner":{"account_id":1830812,"reputation":311,"user_id":1662258,"accept_rate":82,"display_name":"devv"},"score":3,"creation_date":1547516846,"post_id":1253519,"comment_id":95211093,"body_markdown":"Reference is passed as the value  !!","body":"Reference is passed as the value  !!"}],"tags":[],"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"comment_count":4,"down_vote_count":1,"up_vote_count":83,"is_accepted":false,"score":82,"last_activity_date":1652459970,"creation_date":1249888940,"answer_id":1253519,"question_id":279507,"body_markdown":"An immutable object is an object where the internal fields (or at least, all the internal fields that affect its external behavior) cannot be changed.\r\n\r\nThere are a lot of advantages to immutable strings:\r\n\r\n**Performance:** Take the following operation:\r\n\r\n    String substring = fullstring.substring(x,y);\r\n\r\nThe underlying C for the substring() method is probably something like this:\r\n\r\n    // Assume string is stored like this:\r\n    struct String { char* characters; unsigned int length; };\r\n\r\n    // Passing pointers because Java is pass-by-reference\r\n    struct String* substring(struct String* in, unsigned int begin, unsigned int end)\r\n    {\r\n        struct String* out = malloc(sizeof(struct String));\r\n        out-&gt;characters = in-&gt;characters + begin;\r\n        out-&gt;length = end - begin;\r\n        return out;\r\n    }\r\n\r\nNote that *none of the characters have to be copied!*  If the String object were mutable (the characters could change later) then you would have to copy all the characters, otherwise changes to characters in the substring would be reflected in the other string later.\r\n\r\n**Concurrency:** If the internal structure of an immutable object is valid, it will always be valid.  There&#39;s no chance that different threads can create an invalid state within that object. Hence, immutable objects are *Thread Safe*.\r\n\r\n**Garbage collection:** It&#39;s much easier for the garbage collector to make logical decisions about immutable objects.\r\n\r\nHowever, there are also downsides to immutability:\r\n\r\n**Performance:** Wait, I thought you said performance was an upside of immutability!  Well, it is sometimes, but not always.  Take the following code:\r\n\r\n    foo = foo.substring(0,4) + &quot;a&quot; + foo.substring(5);  // foo is a String\r\n    bar.replace(4,5,&quot;a&quot;); // bar is a StringBuilder\r\n\r\nThe two lines both replace the fourth character with the letter &quot;a&quot;.  Not only is the second piece of code more readable, it&#39;s faster.  Look at how you would have to do the underlying code for foo.  The substrings are easy, but now because there&#39;s already a character at space five and something else might be referencing foo, you can&#39;t just change it; you have to copy the whole string (of course some of this functionality is abstracted into functions in the real underlying C, but the point here is to show the code that gets executed all in one place).\r\n\r\n    struct String* concatenate(struct String* first, struct String* second)\r\n    {\r\n        struct String* new = malloc(sizeof(struct String));\r\n        new-&gt;length = first-&gt;length + second-&gt;length;\r\n\r\n        new-&gt;characters = malloc(new-&gt;length);\r\n        \r\n        int i;\r\n\r\n        for(i = 0; i &lt; first-&gt;length; i++)\r\n            new-&gt;characters[i] = first-&gt;characters[i];\r\n\r\n        for(; i - first-&gt;length &lt; second-&gt;length; i++)\r\n            new-&gt;characters[i] = second-&gt;characters[i - first-&gt;length];\r\n\r\n        return new;\r\n    }\r\n\r\n    // The code that executes\r\n    struct String* astring;\r\n    char a = &#39;a&#39;;\r\n    astring-&gt;characters = &amp;a;\r\n    astring-&gt;length = 1;\r\n    foo = concatenate(concatenate(slice(foo,0,4),astring),slice(foo,5,foo-&gt;length));\r\n\r\nNote that concatenate gets called **twice** meaning that the entire string has to be looped through!  Compare this to the C code for the `bar` operation:\r\n\r\n    bar-&gt;characters[4] = &#39;a&#39;;\r\n\r\nThe mutable string operation is obviously much faster.\r\n\r\n**In Conclusion:** In most cases, you want an immutable string.  But if you need to do a lot of appending and inserting into a string, you need the mutability for speed.  If you want the concurrency safety and garbage collection benefits with it the key is to keep your mutable objects local to a method:\r\n\r\n    // This will have awful performance if you don&#39;t use mutable strings\r\n    String join(String[] strings, String separator)\r\n    {\r\n        StringBuilder mutable;\r\n        boolean first = true;\r\n\r\n        for(int i = 0; i &lt; strings.length; i++)\r\n        {\r\n            if(first) first = false;\r\n            else mutable.append(separator);\r\n\r\n            mutable.append(strings[i]);\r\n        }\r\n\r\n        return mutable.toString();\r\n    }\r\n\r\nSince the `mutable` object is a local reference, you don&#39;t have to worry about concurrency safety (only one thread ever touches it).  And since it isn&#39;t referenced anywhere else, it is only allocated on the stack, so it is deallocated as soon as the function call is finished (you don&#39;t have to worry about garbage collection).  And you get all the performance benefits of both mutability and immutability.","title":"What is meant by immutable?","body":"<p>An immutable object is an object where the internal fields (or at least, all the internal fields that affect its external behavior) cannot be changed.</p>\n<p>There are a lot of advantages to immutable strings:</p>\n<p><strong>Performance:</strong> Take the following operation:</p>\n<pre><code>String substring = fullstring.substring(x,y);\n</code></pre>\n<p>The underlying C for the substring() method is probably something like this:</p>\n<pre><code>// Assume string is stored like this:\nstruct String { char* characters; unsigned int length; };\n\n// Passing pointers because Java is pass-by-reference\nstruct String* substring(struct String* in, unsigned int begin, unsigned int end)\n{\n    struct String* out = malloc(sizeof(struct String));\n    out-&gt;characters = in-&gt;characters + begin;\n    out-&gt;length = end - begin;\n    return out;\n}\n</code></pre>\n<p>Note that <em>none of the characters have to be copied!</em>  If the String object were mutable (the characters could change later) then you would have to copy all the characters, otherwise changes to characters in the substring would be reflected in the other string later.</p>\n<p><strong>Concurrency:</strong> If the internal structure of an immutable object is valid, it will always be valid.  There's no chance that different threads can create an invalid state within that object. Hence, immutable objects are <em>Thread Safe</em>.</p>\n<p><strong>Garbage collection:</strong> It's much easier for the garbage collector to make logical decisions about immutable objects.</p>\n<p>However, there are also downsides to immutability:</p>\n<p><strong>Performance:</strong> Wait, I thought you said performance was an upside of immutability!  Well, it is sometimes, but not always.  Take the following code:</p>\n<pre><code>foo = foo.substring(0,4) + &quot;a&quot; + foo.substring(5);  // foo is a String\nbar.replace(4,5,&quot;a&quot;); // bar is a StringBuilder\n</code></pre>\n<p>The two lines both replace the fourth character with the letter &quot;a&quot;.  Not only is the second piece of code more readable, it's faster.  Look at how you would have to do the underlying code for foo.  The substrings are easy, but now because there's already a character at space five and something else might be referencing foo, you can't just change it; you have to copy the whole string (of course some of this functionality is abstracted into functions in the real underlying C, but the point here is to show the code that gets executed all in one place).</p>\n<pre><code>struct String* concatenate(struct String* first, struct String* second)\n{\n    struct String* new = malloc(sizeof(struct String));\n    new-&gt;length = first-&gt;length + second-&gt;length;\n\n    new-&gt;characters = malloc(new-&gt;length);\n    \n    int i;\n\n    for(i = 0; i &lt; first-&gt;length; i++)\n        new-&gt;characters[i] = first-&gt;characters[i];\n\n    for(; i - first-&gt;length &lt; second-&gt;length; i++)\n        new-&gt;characters[i] = second-&gt;characters[i - first-&gt;length];\n\n    return new;\n}\n\n// The code that executes\nstruct String* astring;\nchar a = 'a';\nastring-&gt;characters = &amp;a;\nastring-&gt;length = 1;\nfoo = concatenate(concatenate(slice(foo,0,4),astring),slice(foo,5,foo-&gt;length));\n</code></pre>\n<p>Note that concatenate gets called <strong>twice</strong> meaning that the entire string has to be looped through!  Compare this to the C code for the <code>bar</code> operation:</p>\n<pre><code>bar-&gt;characters[4] = 'a';\n</code></pre>\n<p>The mutable string operation is obviously much faster.</p>\n<p><strong>In Conclusion:</strong> In most cases, you want an immutable string.  But if you need to do a lot of appending and inserting into a string, you need the mutability for speed.  If you want the concurrency safety and garbage collection benefits with it the key is to keep your mutable objects local to a method:</p>\n<pre><code>// This will have awful performance if you don't use mutable strings\nString join(String[] strings, String separator)\n{\n    StringBuilder mutable;\n    boolean first = true;\n\n    for(int i = 0; i &lt; strings.length; i++)\n    {\n        if(first) first = false;\n        else mutable.append(separator);\n\n        mutable.append(strings[i]);\n    }\n\n    return mutable.toString();\n}\n</code></pre>\n<p>Since the <code>mutable</code> object is a local reference, you don't have to worry about concurrency safety (only one thread ever touches it).  And since it isn't referenced anywhere else, it is only allocated on the stack, so it is deallocated as soon as the function call is finished (you don't have to worry about garbage collection).  And you get all the performance benefits of both mutability and immutability.</p>\n"},{"tags":[],"owner":{"account_id":6518097,"reputation":339,"user_id":5043154,"display_name":"Shanaka Jayalath"},"comment_count":0,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1488873584,"creation_date":1437239025,"answer_id":31493491,"question_id":279507,"body_markdown":" 1. In large applications its common for string literals to occupy large bits of memory. So to efficiently handle the memory, the JVM allocates an area called &quot;String constant pool&quot;.([Note that in memory even an unreferenced String carries around a char\\[\\], an int for its length, and another for its hashCode. For a number, by contrast, a maximum of eight immediate bytes is required][1])\r\n 2. When complier comes across a String literal it checks the pool to see if there is an identical literal already present. And if one is found, the reference to the new literal is directed to the existing String, and no new &#39;String literal object&#39; is created(the existing String simply gets an additional reference). \r\n 3. Hence : **String mutability saves memory...**\r\n 4. But when any of the variables change value, Actually - it&#39;s only their reference that&#39;s changed, not the value in memory(hence it will not affect the other variables referencing it) as seen below....\r\n\r\n\r\n----------\r\n\r\n\r\nString s1 = &quot;Old string&quot;; \r\n    \r\n    //s1 variable, refers to string in memory\r\n            reference                 |     MEMORY       |\r\n            variables                 |                  |\r\n            \r\n               [s1]   ---------------&gt;|   &quot;Old String&quot;   |\r\n\r\nString s2 = s1; \r\n\r\n    //s2 refers to same string as s1\r\n                                      |                  |\r\n               [s1]   ---------------&gt;|   &quot;Old String&quot;   |\r\n               [s2]   ------------------------^\r\n\r\n\r\n\r\ns1 = &quot;New String&quot;;\r\n\r\n    //s1 deletes reference to old string and points to the newly created one\r\n               [s1]   -----|---------&gt;|   &quot;New String&quot;   |\r\n                           |          |                  |\r\n                           |~~~~~~~~~X|   &quot;Old String&quot;   |\r\n               [s2]   ------------------------^\r\n    \r\n\r\n&gt; The original string &#39;in memory&#39; didn&#39;t change, but the\r\n&gt; reference variable was changed so that it refers to the new string.\r\n&gt; And if we didn&#39;t have s2, &quot;Old String&quot; would still be in the memory but\r\n&gt; we&#39;ll not be able to access it...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20394116/java-why-is-constant-pool-maintained-only-for-string-values","title":"What is meant by immutable?","body":"<ol>\n<li>In large applications its common for string literals to occupy large bits of memory. So to efficiently handle the memory, the JVM allocates an area called \"String constant pool\".(<a href=\"https://stackoverflow.com/questions/20394116/java-why-is-constant-pool-maintained-only-for-string-values\">Note that in memory even an unreferenced String carries around a char[], an int for its length, and another for its hashCode. For a number, by contrast, a maximum of eight immediate bytes is required</a>)</li>\n<li>When complier comes across a String literal it checks the pool to see if there is an identical literal already present. And if one is found, the reference to the new literal is directed to the existing String, and no new 'String literal object' is created(the existing String simply gets an additional reference). </li>\n<li>Hence : <strong>String mutability saves memory...</strong></li>\n<li>But when any of the variables change value, Actually - it's only their reference that's changed, not the value in memory(hence it will not affect the other variables referencing it) as seen below....</li>\n</ol>\n\n<hr>\n\n<p>String s1 = \"Old string\"; </p>\n\n<pre><code>//s1 variable, refers to string in memory\n        reference                 |     MEMORY       |\n        variables                 |                  |\n\n           [s1]   ---------------&gt;|   \"Old String\"   |\n</code></pre>\n\n<p>String s2 = s1; </p>\n\n<pre><code>//s2 refers to same string as s1\n                                  |                  |\n           [s1]   ---------------&gt;|   \"Old String\"   |\n           [s2]   ------------------------^\n</code></pre>\n\n<p>s1 = \"New String\";</p>\n\n<pre><code>//s1 deletes reference to old string and points to the newly created one\n           [s1]   -----|---------&gt;|   \"New String\"   |\n                       |          |                  |\n                       |~~~~~~~~~X|   \"Old String\"   |\n           [s2]   ------------------------^\n</code></pre>\n\n<blockquote>\n  <p>The original string 'in memory' didn't change, but the\n  reference variable was changed so that it refers to the new string.\n  And if we didn't have s2, \"Old String\" would still be in the memory but\n  we'll not be able to access it...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4686592,"reputation":3132,"user_id":3793865,"accept_rate":75,"display_name":"george"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1465767997,"creation_date":1465746249,"answer_id":37776140,"question_id":279507,"body_markdown":"# java.time\n\nIt might be a bit late but in order to understand what an immutable object is, consider the following example from the new Java 8 Date and Time API ([java.time][1]). As you probably know all date objects from Java 8 are **immutable** so in the following example\r\n\r\n    LocalDate date = LocalDate.of(2014, 3, 18); \r\n    date.plusYears(2);\r\n    System.out.println(date);\r\n\r\nOutput:\r\n\r\n&gt;2014-03-18\r\n\r\nThis prints the same year as the initial date because the `plusYears(2)` returns a new object so the old date is still unchanged because it&#39;s an immutable object. Once created you cannot further modify it and the date variable still points to it.\n\nSo, that code example should capture and use the new object instantiated and returned by that call to `plusYears`.\n\n    LocalDate date = LocalDate.of(2014, 3, 18); \r    LocalDate dateAfterTwoYears = date.plusYears(2);\n\n&gt;date.toString()… 2014-03-18\n\n&gt;dateAfterTwoYears.toString()… 2016-03-18\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"What is meant by immutable?","body":"<h1>java.time</h1>\n\n<p>It might be a bit late but in order to understand what an immutable object is, consider the following example from the new Java 8 Date and Time API (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a>). As you probably know all date objects from Java 8 are <strong>immutable</strong> so in the following example</p>\n\n<pre><code>LocalDate date = LocalDate.of(2014, 3, 18); \ndate.plusYears(2);\nSystem.out.println(date);\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>2014-03-18</p>\n</blockquote>\n\n<p>This prints the same year as the initial date because the <code>plusYears(2)</code> returns a new object so the old date is still unchanged because it's an immutable object. Once created you cannot further modify it and the date variable still points to it.</p>\n\n<p>So, that code example should capture and use the new object instantiated and returned by that call to <code>plusYears</code>.</p>\n\n<pre><code>LocalDate date = LocalDate.of(2014, 3, 18); \nLocalDate dateAfterTwoYears = date.plusYears(2);\n</code></pre>\n\n<blockquote>\n  <p>date.toString()… 2014-03-18</p>\n  \n  <p>dateAfterTwoYears.toString()… 2016-03-18</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":9024676,"reputation":2866,"user_id":6789999,"accept_rate":90,"display_name":"minigeek"},"score":0,"creation_date":1496303067,"post_id":43604612,"comment_id":75608165,"body_markdown":"can you add a little explaination please ?","body":"can you add a little explaination please ?"}],"tags":[],"owner":{"account_id":282472,"reputation":2355,"user_id":579381,"accept_rate":75,"display_name":"Ayub"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496308835,"creation_date":1493106346,"answer_id":43604612,"question_id":279507,"body_markdown":"    String s1=&quot;Hi&quot;;\r\n    String s2=s1;\r\n    s1=&quot;Bye&quot;;\r\n\r\n    System.out.println(s2); //Hi  (if String was mutable output would be: Bye)\r\n    System.out.println(s1); //Bye\r\n\r\n`s1=&quot;Hi&quot;` : an object `s1` was created with &quot;Hi&quot; value in it.\r\n\r\n`s2=s1`   : an object `s2` is created with reference to s1 object.\r\n\r\n`s1=&quot;Bye&quot;` : the previous `s1` object&#39;s value doesn&#39;t change because `s1` has String type and String type is an immutable type, instead compiler create a new String object with &quot;Bye&quot; value and `s1` referenced to it. here when we print `s2` value, the result will be &quot;Hi&quot; not &quot;Bye&quot; because `s2` referenced to previous `s1` object which had &quot;Hi&quot; value.","title":"What is meant by immutable?","body":"<pre><code>String s1=\"Hi\";\nString s2=s1;\ns1=\"Bye\";\n\nSystem.out.println(s2); //Hi  (if String was mutable output would be: Bye)\nSystem.out.println(s1); //Bye\n</code></pre>\n\n<p><code>s1=\"Hi\"</code> : an object <code>s1</code> was created with \"Hi\" value in it.</p>\n\n<p><code>s2=s1</code>   : an object <code>s2</code> is created with reference to s1 object.</p>\n\n<p><code>s1=\"Bye\"</code> : the previous <code>s1</code> object's value doesn't change because <code>s1</code> has String type and String type is an immutable type, instead compiler create a new String object with \"Bye\" value and <code>s1</code> referenced to it. here when we print <code>s2</code> value, the result will be \"Hi\" not \"Bye\" because <code>s2</code> referenced to previous <code>s1</code> object which had \"Hi\" value.</p>\n"},{"tags":[],"owner":{"account_id":7475505,"reputation":384,"user_id":5682080,"display_name":"Kamal Mrock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499245719,"creation_date":1499245719,"answer_id":44921736,"question_id":279507,"body_markdown":"**Immutable Objects**\r\n\r\nAn object is considered immutable if its state cannot change after it is constructed. Maximum reliance on immutable objects is widely accepted as a sound strategy for creating simple, reliable code.\r\n\r\nImmutable objects are particularly useful in concurrent applications. Since they cannot change state, they cannot be corrupted by thread interference or observed in an inconsistent state.\r\n\r\nProgrammers are often reluctant to employ immutable objects, because they worry about the cost of creating a new object as opposed to updating an object in place. The impact of object creation is often overestimated, and can be offset by some of the efficiencies associated with immutable objects. These include decreased overhead due to garbage collection, and the elimination of code needed to protect mutable objects from corruption.\r\n\r\nThe following subsections take a class whose instances are mutable and derives a class with immutable instances from it. In so doing, they give general rules for this kind of conversion and demonstrate some of the advantages of immutable objects.\r\n\r\n[Source] [1]\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html","title":"What is meant by immutable?","body":"<p><strong>Immutable Objects</strong></p>\n\n<p>An object is considered immutable if its state cannot change after it is constructed. Maximum reliance on immutable objects is widely accepted as a sound strategy for creating simple, reliable code.</p>\n\n<p>Immutable objects are particularly useful in concurrent applications. Since they cannot change state, they cannot be corrupted by thread interference or observed in an inconsistent state.</p>\n\n<p>Programmers are often reluctant to employ immutable objects, because they worry about the cost of creating a new object as opposed to updating an object in place. The impact of object creation is often overestimated, and can be offset by some of the efficiencies associated with immutable objects. These include decreased overhead due to garbage collection, and the elimination of code needed to protect mutable objects from corruption.</p>\n\n<p>The following subsections take a class whose instances are mutable and derives a class with immutable instances from it. In so doing, they give general rules for this kind of conversion and demonstrate some of the advantages of immutable objects.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":10104128,"reputation":4849,"user_id":7467246,"accept_rate":67,"display_name":"Priyantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531814141,"creation_date":1531814141,"answer_id":51376068,"question_id":279507,"body_markdown":"Immutable simply mean unchangeable or unmodifiable. Once string object is created its data or state can&#39;t be changed\r\n\r\nConsider bellow example,\r\n\r\n    class Testimmutablestring{  \r\n      public static void main(String args[]){  \r\n        String s=&quot;Future&quot;;  \r\n        s.concat(&quot; World&quot;);//concat() method appends the string at the end  \r\n        System.out.println(s);//will print Future because strings are immutable objects  \r\n      }  \r\n     }  \r\n\r\nLet&#39;s get idea considering bellow diagram,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this diagram, you can see new object created as &quot;Future World&quot;. But not change &quot;Future&quot;.`Because String is immutable`. `s`, still refer to &quot;Future&quot;. If you need to call &quot;Future World&quot;,\r\n\r\n    String s=&quot;Future&quot;;  \r\n    s=s.concat(&quot; World&quot;);  \r\n    System.out.println(s);//print Future World\r\n\r\n**Why are string objects immutable in java?**\r\n\r\n&gt; Because Java uses the concept of string literal. Suppose there are 5 reference variables, all refers to one object &quot;Future&quot;.If one reference variable changes the value of the object, it will be affected to all the reference variables. That is why string objects are immutable in java.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8uIrk.png","title":"What is meant by immutable?","body":"<p>Immutable simply mean unchangeable or unmodifiable. Once string object is created its data or state can't be changed</p>\n\n<p>Consider bellow example,</p>\n\n<pre><code>class Testimmutablestring{  \n  public static void main(String args[]){  \n    String s=\"Future\";  \n    s.concat(\" World\");//concat() method appends the string at the end  \n    System.out.println(s);//will print Future because strings are immutable objects  \n  }  \n }  \n</code></pre>\n\n<p>Let's get idea considering bellow diagram,</p>\n\n<p><a href=\"https://i.stack.imgur.com/8uIrk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8uIrk.png\" alt=\"enter image description here\"></a></p>\n\n<p>In this diagram, you can see new object created as \"Future World\". But not change \"Future\".<code>Because String is immutable</code>. <code>s</code>, still refer to \"Future\". If you need to call \"Future World\",</p>\n\n<pre><code>String s=\"Future\";  \ns=s.concat(\" World\");  \nSystem.out.println(s);//print Future World\n</code></pre>\n\n<p><strong>Why are string objects immutable in java?</strong></p>\n\n<blockquote>\n  <p>Because Java uses the concept of string literal. Suppose there are 5 reference variables, all refers to one object \"Future\".If one reference variable changes the value of the object, it will be affected to all the reference variables. That is why string objects are immutable in java.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":412975,"reputation":10638,"user_id":3672184,"accept_rate":66,"display_name":"TooCool"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597602467,"creation_date":1588818282,"answer_id":61648791,"question_id":279507,"body_markdown":"As the accepted answer doesn&#39;t answer all the questions. I&#39;m forced to give an answer after 11 years and 6 months.\r\n\r\n&gt; Can somebody clarify what is meant by immutable?\r\n\r\nHope you meant *immutable object* (because we could think about *immutable reference*).\r\n\r\nAn object is *immutable*: iff once created, they always represent the same value (doesn&#39;t have any method that change the value).\r\n\r\n&gt;Why is a `String` immutable?\r\n\r\nRespect the above definition which could be checked by looking into the [Sting.java](http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java) source code.  \r\n\r\n&gt;What are the advantages/disadvantages of the immutable objects?\r\nimmutable types are : \r\n\r\n- safer from bugs.\r\n\r\n- easier to understand.\r\n\r\n- and more ready for change.\r\n\r\n&gt;Why should a mutable object such as StringBuilder be preferred over String and vice-verse?\r\n\r\nNarrowing the question *Why do we need the mutable StringBuilder in programming?* \r\nA common use for it is to concatenate a large number of strings together, like this:\r\n\r\n    String s = &quot;&quot;;\r\n    for (int i = 0; i &lt; n; ++i) {\r\n        s = s + n;\r\n    }\r\n\r\nUsing immutable strings, this makes a lot of temporary copies — the first number of the string (&quot;0&quot;) is actually copied n times in the course of building up the final string, the second number is copied n-1 times, and so on. It actually costs O(n2) time just to do all that copying, even though we only concatenated n elements.\r\n\r\nStringBuilder is designed to minimize this copying. It uses a simple but clever internal data structure to avoid doing any copying at all until the very end, when you ask for the final String with a toString() call:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; n; ++i) {\r\n      sb.append(String.valueOf(n));\r\n    }\r\n    String s = sb.toString();\r\n\r\n\r\nGetting good performance is one reason why we use mutable objects. Another is convenient sharing: two parts of your program can communicate more conveniently by sharing a common mutable data structure.\r\n\r\nMore could be found here : https://web.mit.edu/6.005/www/fa15/classes/09-immutability/#useful_immutable_types","title":"What is meant by immutable?","body":"<p>As the accepted answer doesn't answer all the questions. I'm forced to give an answer after 11 years and 6 months.</p>\n<blockquote>\n<p>Can somebody clarify what is meant by immutable?</p>\n</blockquote>\n<p>Hope you meant <em>immutable object</em> (because we could think about <em>immutable reference</em>).</p>\n<p>An object is <em>immutable</em>: iff once created, they always represent the same value (doesn't have any method that change the value).</p>\n<blockquote>\n<p>Why is a <code>String</code> immutable?</p>\n</blockquote>\n<p>Respect the above definition which could be checked by looking into the <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java\" rel=\"nofollow noreferrer\">Sting.java</a> source code.</p>\n<blockquote>\n<p>What are the advantages/disadvantages of the immutable objects?\nimmutable types are :</p>\n</blockquote>\n<ul>\n<li><p>safer from bugs.</p>\n</li>\n<li><p>easier to understand.</p>\n</li>\n<li><p>and more ready for change.</p>\n</li>\n</ul>\n<blockquote>\n<p>Why should a mutable object such as StringBuilder be preferred over String and vice-verse?</p>\n</blockquote>\n<p>Narrowing the question <em>Why do we need the mutable StringBuilder in programming?</em>\nA common use for it is to concatenate a large number of strings together, like this:</p>\n<pre><code>String s = &quot;&quot;;\nfor (int i = 0; i &lt; n; ++i) {\n    s = s + n;\n}\n</code></pre>\n<p>Using immutable strings, this makes a lot of temporary copies — the first number of the string (&quot;0&quot;) is actually copied n times in the course of building up the final string, the second number is copied n-1 times, and so on. It actually costs O(n2) time just to do all that copying, even though we only concatenated n elements.</p>\n<p>StringBuilder is designed to minimize this copying. It uses a simple but clever internal data structure to avoid doing any copying at all until the very end, when you ask for the final String with a toString() call:</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; n; ++i) {\n  sb.append(String.valueOf(n));\n}\nString s = sb.toString();\n</code></pre>\n<p>Getting good performance is one reason why we use mutable objects. Another is convenient sharing: two parts of your program can communicate more conveniently by sharing a common mutable data structure.</p>\n<p>More could be found here : <a href=\"https://web.mit.edu/6.005/www/fa15/classes/09-immutability/#useful_immutable_types\" rel=\"nofollow noreferrer\">https://web.mit.edu/6.005/www/fa15/classes/09-immutability/#useful_immutable_types</a></p>\n"}],"owner":{"account_id":15622,"reputation":80392,"user_id":33203,"accept_rate":81,"display_name":"ashokgelal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191138,"favorite_count":0,"down_vote_count":3,"up_vote_count":425,"accepted_answer_id":279522,"answer_count":17,"score":422,"last_activity_date":1673310866,"creation_date":1226358326,"question_id":279507,"body_markdown":"What exactly does *immutable* mean - that is, what are the consequences of an object being mutable or immutable? In particular, why are Java&#39;s `String`s immutable?\r\n\r\nMy understanding is that the `StringBuilder` type is something like a mutable equivalent to `String`. When would I use `StringBuilder` rather than `String`, and vice-versa?","title":"What is meant by immutable?","body":"<p>What exactly does <em>immutable</em> mean - that is, what are the consequences of an object being mutable or immutable? In particular, why are Java's <code>String</code>s immutable?</p>\n<p>My understanding is that the <code>StringBuilder</code> type is something like a mutable equivalent to <code>String</code>. When would I use <code>StringBuilder</code> rather than <code>String</code>, and vice-versa?</p>\n"},{"tags":["java","multithreading","interrupt"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1672929575,"post_id":75020061,"comment_id":132387363,"body_markdown":"have you read the documentation of `interrupted()`: &quot;*The interrupted status of the thread is cleared by this method. In other words, if this method were to be called twice in succession, the second call would return false*&quot;? And, more relevant, of `sleep()`: &quot; ***Throws:** ... `InterruptedException` - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.*&quot;","body":"have you read the documentation of <code>interrupted()</code>: &quot;<i>The interrupted status of the thread is cleared by this method. In other words, if this method were to be called twice in succession, the second call would return false</i>&quot;? And, more relevant, of <code>sleep()</code>: &quot; <b><i>Throws:</b> ... <code>InterruptedException</code> - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.</i>&quot;"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":1,"creation_date":1672929769,"post_id":75020061,"comment_id":132387440,"body_markdown":"Yes, I know that interrupted() clear the interrupted flag, but the problem is that the flag \nis never set despite calling interrupt()","body":"Yes, I know that interrupted() clear the interrupted flag, but the problem is that the flag  is never set despite calling interrupt()"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1672929914,"post_id":75020061,"comment_id":132387499,"body_markdown":"Use the `Kanye` thread interrupter.","body":"Use the <code>Kanye</code> thread interrupter."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672929984,"post_id":75020061,"comment_id":132387520,"body_markdown":"&quot;*If this thread is blocked in an invocation of the `wait()`, `wait(long)`, or `wait(long, int)` methods of the `Object` class, or of the `join()`, `join(long)`,`join(long, int)`, `sleep(long)`, or `sleep(long, int)` methods of this class, then **its interrupt status will be cleared and it will receive an `InterruptedException`**.*&quot;","body":"&quot;<i>If this thread is blocked in an invocation of the <code>wait()</code>, <code>wait(long)</code>, or <code>wait(long, int)</code> methods of the <code>Object</code> class, or of the <code>join()</code>, <code>join(long)</code>,<code>join(long, int)</code>, <code>sleep(long)</code>, or <code>sleep(long, int)</code> methods of this class, then <b>its interrupt status will be cleared and it will receive an <code>InterruptedException</code></b>.</i>&quot;"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1672930392,"post_id":75020061,"comment_id":132387661,"body_markdown":"I don&#39;t know that The interrupted status of the current thread is cleared when this exception is thrown.. Thank you so much","body":"I don&#39;t know that The interrupted status of the current thread is cleared when this exception is thrown.. Thank you so much"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672931717,"post_id":75020247,"comment_id":132388236,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75020247/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672930154,"creation_date":1672930154,"answer_id":75020247,"question_id":75020061,"body_markdown":"***InterruptedException - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.***","title":"Java unable to interrupt other threads","body":"<p><em><strong>InterruptedException - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673310343,"creation_date":1673310343,"answer_id":75064271,"question_id":75020061,"body_markdown":"&gt; The problem is that LparsManager is unable to interrupt others thread. Even it calls the method interrupt(), it is unable to set interrupted flag ...\r\n\r\nThe problem is your handling of the interrupt:\r\n\r\n     try {\r\n          Thread.sleep(10000);\r\n     } catch (InterruptedException e) {\r\n          // interrupt status cleared so this method always returns false\r\n          if (interrupted()) {\r\n                ...\r\n\r\nWhen the interrupted exception is thrown, the interrupt flag on the thread is cleared.  If you look at the `Thread.sleep(long)` method signature, it says:\r\n\r\n     * @throws  InterruptedException\r\n     *          if any thread has interrupted the current thread. The\r\n     *          &lt;i&gt;interrupted status&lt;/i&gt; of the current thread is\r\n     *          cleared when this exception is thrown.\r\n\r\nSo in the catch block, the `interrupted()` method will always return false.  Once you have caught `InterruptedException` you know the thread has been interrupted and you don&#39;t need to do any additional tests.  It actually is a proper pattern to re-interrupt the thread once you catch `InterruptedException` to preserve the interrupt status for callers of your code:\r\n\r\n     try {\r\n          Thread.sleep(10000);\r\n     } catch (InterruptedException e) {\r\n          // re-interrupt the thread is a good pattern\r\n          Thread.currentThread().interrupt();\r\n          // now handle the interrupt...\r\n\r\nAlso, you should use the `isInterrupted()` method because it does not change the interrupt flag.  The `interrupted()` method clears the interrupt flag when called.  Typically in a thread loop, I do something like:\r\n\r\n    while (!Thread.currentThread().isInterrupted()) {\r\n        // do my thread work here\r\n    }\r\n\r\n","title":"Java unable to interrupt other threads","body":"<blockquote>\n<p>The problem is that LparsManager is unable to interrupt others thread. Even it calls the method interrupt(), it is unable to set interrupted flag ...</p>\n</blockquote>\n<p>The problem is your handling of the interrupt:</p>\n<pre><code> try {\n      Thread.sleep(10000);\n } catch (InterruptedException e) {\n      // interrupt status cleared so this method always returns false\n      if (interrupted()) {\n            ...\n</code></pre>\n<p>When the interrupted exception is thrown, the interrupt flag on the thread is cleared.  If you look at the <code>Thread.sleep(long)</code> method signature, it says:</p>\n<pre><code> * @throws  InterruptedException\n *          if any thread has interrupted the current thread. The\n *          &lt;i&gt;interrupted status&lt;/i&gt; of the current thread is\n *          cleared when this exception is thrown.\n</code></pre>\n<p>So in the catch block, the <code>interrupted()</code> method will always return false.  Once you have caught <code>InterruptedException</code> you know the thread has been interrupted and you don't need to do any additional tests.  It actually is a proper pattern to re-interrupt the thread once you catch <code>InterruptedException</code> to preserve the interrupt status for callers of your code:</p>\n<pre><code> try {\n      Thread.sleep(10000);\n } catch (InterruptedException e) {\n      // re-interrupt the thread is a good pattern\n      Thread.currentThread().interrupt();\n      // now handle the interrupt...\n</code></pre>\n<p>Also, you should use the <code>isInterrupted()</code> method because it does not change the interrupt flag.  The <code>interrupted()</code> method clears the interrupt flag when called.  Typically in a thread loop, I do something like:</p>\n<pre><code>while (!Thread.currentThread().isInterrupted()) {\n    // do my thread work here\n}\n</code></pre>\n"}],"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673310343,"creation_date":1672929311,"question_id":75020061,"body_markdown":"I&#39;m getting some problems with Java.\r\nI&#39;ve a thread (LparsManager) that generate some other threads of another class (Poncharello). The problem is that LparsManager is unable to interrupt others thread. Even it calls the method interrupt(), it is unable to set interrupted flag (I&#39;ve seen it from the debugger) or throw an interrupted exception for childrens.\r\n\r\n\r\n    public class LparsManager extends Thread{\r\n    \r\n        private int id;\r\n    \r\n        LparsManager(){\r\n            setName(&quot;LparsManager&quot;);\r\n            start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            try {\r\n                Thread.sleep(30000);\r\n            } catch (InterruptedException e) {\r\n    \r\n            }\r\n            Connection connection=DatabaseManager.connect();\r\n            HashMap&lt;Integer,Poncharello&gt; associazioni=new HashMap&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; al1, al2, al3;\r\n            ResultSet rs=null;\r\n    \r\n            try {\r\n                //Reperisco il mio id\r\n                rs=connection.createStatement().executeQuery(&quot;SELECT id_server FROM &quot; +\r\n                        &quot;servers where hostname=&#39;&quot;+ InetAddress.getLocalHost().getHostName()+&quot;&#39;&quot;);\r\n                rs.next();\r\n                id=rs.getInt(&quot;id_server&quot;);\r\n                ResultSet rs2;\r\n    \r\n                //Verifico le prime associazioni\r\n                rs=connection.createStatement().executeQuery(&quot;SELECT id_lpar FROM &quot; +\r\n                        &quot;lpars where idf_server=&quot;+ id);\r\n                while (rs.next())\r\n                {\r\n                    rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+rs.getInt(&quot;id_lpar&quot;));\r\n                    rs2.next();\r\n                    System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stata assegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\r\n                            &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\r\n                    associazioni.put(rs.getInt(&quot;id_lpar&quot;),new Poncharello(rs.getInt(&quot;id_lpar&quot;),rs2.getString(&quot;IDRS&quot;),rs2.getString(&quot;CI&quot;)));\r\n                }\r\n                DatabaseManager.close(connection);\r\n            } catch (SQLException | UnknownHostException e) {\r\n                ExceptionManager.sendNotify(e);\r\n                return;\r\n            }\r\n    \r\n            do {\r\n                //Addormento il thread\r\n                try {\r\n                    Thread.sleep(Config.sleep_time);\r\n                } catch (InterruptedException e) {\r\n    \r\n                }\r\n                al1=new ArrayList&lt;&gt;();\r\n                al2=new ArrayList&lt;&gt;();\r\n    \r\n                al1.addAll(associazioni.keySet());\r\n    \r\n                connection=DatabaseManager.connect();\r\n    \r\n                //Verifico le mie associazioni\r\n                try {\r\n    \r\n                    rs = connection.createStatement().executeQuery(&quot;SELECT id_lpar FROM &quot; +\r\n                            &quot;lpars where idf_server=&quot;+ id);\r\n                    while (rs.next())\r\n                    {\r\n                        al2.add(rs.getInt(&quot;id_lpar&quot;));\r\n                    }\r\n    \r\n                    Collections.sort(al1);\r\n                    Collections.sort(al2);\r\n    \r\n                    //Se i due Arraylist sono uguali, looppo altrimenti verifico quali lpars aggiungere/rimuovere\r\n                    if(!al2.equals(al1))\r\n                    {\r\n                        //Verifico quali lpars non sono pi&#249; da monitorare\r\n                        al3=new ArrayList&lt;&gt;(al1);\r\n                        al3.removeAll(al2);\r\n                        ResultSet rs2;\r\n    \r\n                        for(Integer a:al3) {\r\n    \r\n                            associazioni.get(a).interrupt();\r\n                            //tmp.stop();\r\n    \r\n                            associazioni.remove(a);\r\n    \r\n                            rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+a);\r\n                            rs2.next();\r\n    \r\n                            System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stata disassegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\r\n                                    &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\r\n                        }\r\n    \r\n                        //Verifico quali lpars nuove ho da monitorare\r\n                        al3=new ArrayList&lt;&gt;(al2);\r\n                        al3.removeAll(al1);\r\n    \r\n                        for(Integer a:al3)\r\n                        {\r\n                            rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+a);\r\n                            rs2.next();\r\n    \r\n                            System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stata assegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\r\n                                    &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\r\n    \r\n                            associazioni.put(a,new Poncharello(a,rs2.getString(&quot;IDRS&quot;),rs2.getString(&quot;CI&quot;)));\r\n                        }\r\n                    }\r\n    \r\n                } catch (SQLException e) {\r\n                    ExceptionManager.sendNotify(e);\r\n                }\r\n    \r\n                DatabaseManager.close(connection);\r\n    \r\n            }while (true);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nand \r\n\r\n    public class Poncharello extends Thread{\r\n    \r\n        private final int idlpar;\r\n    \r\n        Poncharello(int i, String IDRS, String CI){\r\n            idlpar=i;\r\n            setName(&quot;Poncharello &quot;+IDRS+&quot;-&quot;+CI);\r\n            start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: attivit&#224; di monitoraggio iniziata&quot;);\r\n            while (true)\r\n            {\r\n                try {\r\n                    Thread.sleep(10000);\r\n                } catch (InterruptedException e) {\r\n                    if(interrupted())\r\n                    {\r\n                        System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stato chiesto di &quot; +\r\n                                &quot;interrompere l&#39;attivit&#224; di monitoraggio&quot;);\r\n                    }\r\n                }\r\n    \r\n                if(interrupted())\r\n                {\r\n                    System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stato chiesto di &quot; +\r\n                            &quot;interrompere l&#39;attivit&#224; di monitoraggio&quot;);\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nIn my opinion the code should be interrupt. I&#39;ve tried withc casting with Thread class but it doesn&#39;t work","title":"Java unable to interrupt other threads","body":"<p>I'm getting some problems with Java.\nI've a thread (LparsManager) that generate some other threads of another class (Poncharello). The problem is that LparsManager is unable to interrupt others thread. Even it calls the method interrupt(), it is unable to set interrupted flag (I've seen it from the debugger) or throw an interrupted exception for childrens.</p>\n<pre><code>public class LparsManager extends Thread{\n\n    private int id;\n\n    LparsManager(){\n        setName(&quot;LparsManager&quot;);\n        start();\n    }\n\n    @Override\n    public void run() {\n\n        try {\n            Thread.sleep(30000);\n        } catch (InterruptedException e) {\n\n        }\n        Connection connection=DatabaseManager.connect();\n        HashMap&lt;Integer,Poncharello&gt; associazioni=new HashMap&lt;&gt;();\n        ArrayList&lt;Integer&gt; al1, al2, al3;\n        ResultSet rs=null;\n\n        try {\n            //Reperisco il mio id\n            rs=connection.createStatement().executeQuery(&quot;SELECT id_server FROM &quot; +\n                    &quot;servers where hostname='&quot;+ InetAddress.getLocalHost().getHostName()+&quot;'&quot;);\n            rs.next();\n            id=rs.getInt(&quot;id_server&quot;);\n            ResultSet rs2;\n\n            //Verifico le prime associazioni\n            rs=connection.createStatement().executeQuery(&quot;SELECT id_lpar FROM &quot; +\n                    &quot;lpars where idf_server=&quot;+ id);\n            while (rs.next())\n            {\n                rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+rs.getInt(&quot;id_lpar&quot;));\n                rs2.next();\n                System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stata assegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\n                        &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\n                associazioni.put(rs.getInt(&quot;id_lpar&quot;),new Poncharello(rs.getInt(&quot;id_lpar&quot;),rs2.getString(&quot;IDRS&quot;),rs2.getString(&quot;CI&quot;)));\n            }\n            DatabaseManager.close(connection);\n        } catch (SQLException | UnknownHostException e) {\n            ExceptionManager.sendNotify(e);\n            return;\n        }\n\n        do {\n            //Addormento il thread\n            try {\n                Thread.sleep(Config.sleep_time);\n            } catch (InterruptedException e) {\n\n            }\n            al1=new ArrayList&lt;&gt;();\n            al2=new ArrayList&lt;&gt;();\n\n            al1.addAll(associazioni.keySet());\n\n            connection=DatabaseManager.connect();\n\n            //Verifico le mie associazioni\n            try {\n\n                rs = connection.createStatement().executeQuery(&quot;SELECT id_lpar FROM &quot; +\n                        &quot;lpars where idf_server=&quot;+ id);\n                while (rs.next())\n                {\n                    al2.add(rs.getInt(&quot;id_lpar&quot;));\n                }\n\n                Collections.sort(al1);\n                Collections.sort(al2);\n\n                //Se i due Arraylist sono uguali, looppo altrimenti verifico quali lpars aggiungere/rimuovere\n                if(!al2.equals(al1))\n                {\n                    //Verifico quali lpars non sono più da monitorare\n                    al3=new ArrayList&lt;&gt;(al1);\n                    al3.removeAll(al2);\n                    ResultSet rs2;\n\n                    for(Integer a:al3) {\n\n                        associazioni.get(a).interrupt();\n                        //tmp.stop();\n\n                        associazioni.remove(a);\n\n                        rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+a);\n                        rs2.next();\n\n                        System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stata disassegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\n                                &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\n                    }\n\n                    //Verifico quali lpars nuove ho da monitorare\n                    al3=new ArrayList&lt;&gt;(al2);\n                    al3.removeAll(al1);\n\n                    for(Integer a:al3)\n                    {\n                        rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+a);\n                        rs2.next();\n\n                        System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stata assegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\n                                &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\n\n                        associazioni.put(a,new Poncharello(a,rs2.getString(&quot;IDRS&quot;),rs2.getString(&quot;CI&quot;)));\n                    }\n                }\n\n            } catch (SQLException e) {\n                ExceptionManager.sendNotify(e);\n            }\n\n            DatabaseManager.close(connection);\n\n        }while (true);\n\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class Poncharello extends Thread{\n\n    private final int idlpar;\n\n    Poncharello(int i, String IDRS, String CI){\n        idlpar=i;\n        setName(&quot;Poncharello &quot;+IDRS+&quot;-&quot;+CI);\n        start();\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: attività di monitoraggio iniziata&quot;);\n        while (true)\n        {\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e) {\n                if(interrupted())\n                {\n                    System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stato chiesto di &quot; +\n                            &quot;interrompere l'attività di monitoraggio&quot;);\n                }\n            }\n\n            if(interrupted())\n            {\n                System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stato chiesto di &quot; +\n                        &quot;interrompere l'attività di monitoraggio&quot;);\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>In my opinion the code should be interrupt. I've tried withc casting with Thread class but it doesn't work</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data","mongotemplate"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1673291463,"post_id":74861347,"comment_id":132461673,"body_markdown":"from connection string? I don&#39;t really understand the question though","body":"from connection string? I don&#39;t really understand the question though"},{"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"score":0,"creation_date":1673435918,"post_id":74861347,"comment_id":132497261,"body_markdown":"Well I&#39;d rather set those timeout settings via MongoClientSettings than the connection string. If my question was unclear I&#39;m sorry. Basically I normally set timeouts via MongoClientSettings. However that only works when connecting to a single Mongo DB. I have multiple db&#39;s so I need to use MongoDatabaseFactory","body":"Well I&#39;d rather set those timeout settings via MongoClientSettings than the connection string. If my question was unclear I&#39;m sorry. Basically I normally set timeouts via MongoClientSettings. However that only works when connecting to a single Mongo DB. I have multiple db&#39;s so I need to use MongoDatabaseFactory"}],"answers":[{"comments":[{"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"score":0,"creation_date":1673376742,"post_id":75063635,"comment_id":132483506,"body_markdown":"Thanks for the response. Is there no other way like how I would set it for a single mongo connection via mongoClient?","body":"Thanks for the response. Is there no other way like how I would set it for a single mongo connection via mongoClient?"}],"tags":[],"owner":{"account_id":6734594,"reputation":36672,"user_id":5189811,"display_name":"Oluwafemi Sule"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673309102,"creation_date":1673303430,"answer_id":75063635,"question_id":74861347,"body_markdown":"Except the [`maintenanceFrequency` configuration](https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoClientFactoryBean.java#L216), the rest can be provided in the [connection string](https://github.com/mongodb/mongo-java-driver/blob/master/driver-core/src/main/com/mongodb/ConnectionString.java#L114) e.g. \r\n`\r\nmongodb://db1.example.net:27017,db2.example.net:2500/?replicaSet=test&amp;maxPoolSize=300&amp;minPoolSize=100&amp;maxLifeTimeMS=300&amp;maxIdleTimeMS=200&amp;waitQueueTimeoutMS=150&amp;connectTimeoutMS=2000&amp;socketTimeoutMS=5500\r\n`","title":"Spring MongoDatabaseFactory - How to set mongo timeout","body":"<p>Except the <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoClientFactoryBean.java#L216\" rel=\"nofollow noreferrer\"><code>maintenanceFrequency</code> configuration</a>, the rest can be provided in the <a href=\"https://github.com/mongodb/mongo-java-driver/blob/master/driver-core/src/main/com/mongodb/ConnectionString.java#L114\" rel=\"nofollow noreferrer\">connection string</a> e.g.\n<code>mongodb://db1.example.net:27017,db2.example.net:2500/?replicaSet=test&amp;maxPoolSize=300&amp;minPoolSize=100&amp;maxLifeTimeMS=300&amp;maxIdleTimeMS=200&amp;waitQueueTimeoutMS=150&amp;connectTimeoutMS=2000&amp;socketTimeoutMS=5500</code></p>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673309102,"creation_date":1671530614,"question_id":74861347,"body_markdown":"I&#39;m working on a project whereby my spring service needs to connect to multiple Mongo DB&#39;s.\r\n\r\nIn order to achieve the ability to connect to multiple mongo db&#39;s I&#39;ve created a MongoDatabaseFactory config class to represent each connection. I&#39;am however getting random mongo SSL timeout errors. Normally when I would connect to a single mongo db I would create the client like so:\r\n\r\n```java\r\n  @Value(&quot;${spring.data.mongodb.host}&quot;)\r\n    private String connectionString;\r\n\r\n    @Bean\r\n    public MongoClient mongoClient() {\r\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n        return MongoClients.create(MongoClientSettings.builder()\r\n                .applyConnectionString(new ConnectionString(connectionString))\r\n                .uuidRepresentation(UuidRepresentation.STANDARD)\r\n                .codecRegistry(codecRegistry)\r\n                .build());\r\n    }\r\n\r\n    @Bean\r\n    public MongoClientSettings mongoClientSettings() {\r\n        final MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n                .retryWrites(true)\r\n                .applyToConnectionPoolSettings((ConnectionPoolSettings.Builder builder) -&gt; {\r\n                    builder.maxSize(300) //connections count\r\n                            .minSize(100)\r\n                            .maxConnectionLifeTime(300, TimeUnit.MILLISECONDS)\r\n                            .maintenanceFrequency(5000, TimeUnit.MILLISECONDS)\r\n                            .maxConnectionIdleTime(200, TimeUnit.MILLISECONDS)\r\n                            .maxWaitTime(150, TimeUnit.MILLISECONDS);\r\n                })\r\n                .applyToSocketSettings(builder -&gt; {\r\n                    builder.connectTimeout(2000, TimeUnit.MILLISECONDS)\r\n                            .readTimeout(5500, TimeUnit.MILLISECONDS);\r\n                })\r\n\r\n                .applicationName(&quot;TestApplication&quot;)\r\n                .retryWrites(true)\r\n                .build();\r\n\r\n        return clientSettings;\r\n    }\r\n\r\n    @Bean\r\n    public MongoCustomConversions mongoCustomConversions() {\r\n        return new MongoCustomConversions(Arrays.asList(\r\n                new BigDecimalDecimal128Converter(),\r\n                new Decimal128BigDecimalConverter()\r\n        ));\r\n\r\n    }\r\n\r\n    @WritingConverter\r\n    private static class BigDecimalDecimal128Converter implements Converter&lt;BigDecimal, Decimal128&gt; {\r\n\r\n        @Override\r\n        public Decimal128 convert(@NonNull BigDecimal source) {\r\n            return new Decimal128(source);\r\n        }\r\n    }\r\n\r\n    @ReadingConverter\r\n    private static class Decimal128BigDecimalConverter implements Converter&lt;Decimal128, BigDecimal&gt; {\r\n\r\n        @Override\r\n        public BigDecimal convert(@NonNull Decimal128 source) {\r\n            return source.bigDecimalValue();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nAnd when connecting to multiple mongo db&#39;s here&#39;s how I do it:\r\n\r\n```java\r\n@Configuration\r\npublic class UserProfileInformationMongoConfig {\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    public MongoDatabaseFactory userProfileInformationFactory() {\r\n        return new SimpleMongoClientDatabaseFactory(new ConnectionString(env.getProperty(&quot;spring.data.mongo.userprofileinformationdb.uri&quot;)));\r\n    }\r\n    @Bean\r\n    public MongoTemplate userProfileInformationMongoTemplate() {\r\n        return new MongoTemplate(userProfileInformationFactory());\r\n    }\r\n}\r\n```\r\n\r\nSo, my question again is how do I set my mongo client options like in the first code example when using MongoDatabaseFactory.\r\n\r\nMany thanks","title":"Spring MongoDatabaseFactory - How to set mongo timeout","body":"<p>I'm working on a project whereby my spring service needs to connect to multiple Mongo DB's.</p>\n<p>In order to achieve the ability to connect to multiple mongo db's I've created a MongoDatabaseFactory config class to represent each connection. I'am however getting random mongo SSL timeout errors. Normally when I would connect to a single mongo db I would create the client like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Value(&quot;${spring.data.mongodb.host}&quot;)\n    private String connectionString;\n\n    @Bean\n    public MongoClient mongoClient() {\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n        return MongoClients.create(MongoClientSettings.builder()\n                .applyConnectionString(new ConnectionString(connectionString))\n                .uuidRepresentation(UuidRepresentation.STANDARD)\n                .codecRegistry(codecRegistry)\n                .build());\n    }\n\n    @Bean\n    public MongoClientSettings mongoClientSettings() {\n        final MongoClientSettings clientSettings = MongoClientSettings.builder()\n                .retryWrites(true)\n                .applyToConnectionPoolSettings((ConnectionPoolSettings.Builder builder) -&gt; {\n                    builder.maxSize(300) //connections count\n                            .minSize(100)\n                            .maxConnectionLifeTime(300, TimeUnit.MILLISECONDS)\n                            .maintenanceFrequency(5000, TimeUnit.MILLISECONDS)\n                            .maxConnectionIdleTime(200, TimeUnit.MILLISECONDS)\n                            .maxWaitTime(150, TimeUnit.MILLISECONDS);\n                })\n                .applyToSocketSettings(builder -&gt; {\n                    builder.connectTimeout(2000, TimeUnit.MILLISECONDS)\n                            .readTimeout(5500, TimeUnit.MILLISECONDS);\n                })\n\n                .applicationName(&quot;TestApplication&quot;)\n                .retryWrites(true)\n                .build();\n\n        return clientSettings;\n    }\n\n    @Bean\n    public MongoCustomConversions mongoCustomConversions() {\n        return new MongoCustomConversions(Arrays.asList(\n                new BigDecimalDecimal128Converter(),\n                new Decimal128BigDecimalConverter()\n        ));\n\n    }\n\n    @WritingConverter\n    private static class BigDecimalDecimal128Converter implements Converter&lt;BigDecimal, Decimal128&gt; {\n\n        @Override\n        public Decimal128 convert(@NonNull BigDecimal source) {\n            return new Decimal128(source);\n        }\n    }\n\n    @ReadingConverter\n    private static class Decimal128BigDecimalConverter implements Converter&lt;Decimal128, BigDecimal&gt; {\n\n        @Override\n        public BigDecimal convert(@NonNull Decimal128 source) {\n            return source.bigDecimalValue();\n        }\n\n    }\n</code></pre>\n<p>And when connecting to multiple mongo db's here's how I do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class UserProfileInformationMongoConfig {\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public MongoDatabaseFactory userProfileInformationFactory() {\n        return new SimpleMongoClientDatabaseFactory(new ConnectionString(env.getProperty(&quot;spring.data.mongo.userprofileinformationdb.uri&quot;)));\n    }\n    @Bean\n    public MongoTemplate userProfileInformationMongoTemplate() {\n        return new MongoTemplate(userProfileInformationFactory());\n    }\n}\n</code></pre>\n<p>So, my question again is how do I set my mongo client options like in the first code example when using MongoDatabaseFactory.</p>\n<p>Many thanks</p>\n"},{"tags":["java","list","sorting","arraylist","string-comparison"],"comments":[{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1673183802,"post_id":75048013,"comment_id":132436464,"body_markdown":"Are you able to change it from a list of lists to a list of custom objects?","body":"Are you able to change it from a list of lists to a list of custom objects?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1673184354,"post_id":75048013,"comment_id":132436561,"body_markdown":"What have you tried so far? Where are you stuck? Please share your attempts so far even if they don&#39;t work yet.","body":"What have you tried so far? Where are you stuck? Please share your attempts so far even if they don&#39;t work yet."},{"owner":{"account_id":12922916,"reputation":15,"user_id":9344662,"display_name":"PotatoGod"},"score":0,"creation_date":1673267149,"post_id":75048013,"comment_id":132452640,"body_markdown":"@Eritrean I have updated with the approach I tried to sort them with sample output","body":"@Eritrean I have updated with the approach I tried to sort them with sample output"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1673267468,"post_id":75048013,"comment_id":132452763,"body_markdown":"ahhh. Well, if you want to implement a sorter for your Collection, you generally shouldnt be doing it manually with a nested for loop. You should just use the built-in utilities from Collection","body":"ahhh. Well, if you want to implement a sorter for your Collection, you generally shouldnt be doing it manually with a nested for loop. You should just use the built-in utilities from Collection"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1673269831,"post_id":75048013,"comment_id":132453622,"body_markdown":"@PotatoGod Are all your items prefixed with `name` and `id` and differ only in the numbers apended to th end? What shall the order look like if for example the list contains the names `Alex23`, `Robert23` and `Janet23` ?","body":"@PotatoGod Are all your items prefixed with <code>name</code> and <code>id</code> and differ only in the numbers apended to th end? What shall the order look like if for example the list contains the names <code>Alex23</code>, <code>Robert23</code> and <code>Janet23</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673267828,"creation_date":1673185235,"answer_id":75048203,"question_id":75048013,"body_markdown":"The following shows the comparators used for sorting, and then a generic method in order to use the comparator as well as whether the order should be in desc or asc.\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;String&gt; item1 = Arrays.asList(&quot;name99&quot;,&quot;id1&quot;);\r\n    \t\tList&lt;String&gt; item2 = Arrays.asList(&quot;name2&quot;,&quot;id2&quot;);\r\n    \t\tList&lt;String&gt; item3 = Arrays.asList(&quot;name36&quot;,&quot;id3&quot;);\r\n    \t\tList&lt;List&lt;String&gt;&gt; listOfLists = Arrays.asList(item1, item2, item3);\r\n    \t\t\r\n    \t\tComparator&lt;List&lt;String&gt;&gt; nameComparator = (l1, l2) -&gt; l1.get(0).compareTo(l2.get(0));\r\n    \t\tComparator&lt;List&lt;String&gt;&gt; idComparator = (l1, l2) -&gt; l1.get(1).compareTo(l2.get(1));\r\n    \t\t//sort by name in asc\r\n    \t\tlistOfLists.sort(nameComparator);\r\n    \t\tSystem.out.println(listOfLists);\r\n    \t\t//instead of making a new comparator with l2 compared to l1, just call comparator.reversed()\r\n    \t\tlistOfLists.sort(nameComparator.reversed());\r\n    \t\tSystem.out.println(listOfLists);\r\n    \t\t//testing out generic method to pass list of lists, sort comparator and the ordering of the sort.\r\n    \t\tsortListByComparatorAndOrder(listOfLists, idComparator, &quot;DESC&quot;);\r\n    \t\tSystem.out.println(listOfLists);\r\n    \t\t\r\n    \t}\r\n    \t//generic method to sort a list \r\n    \tpublic static &lt;T&gt; void sortListByComparatorAndOrder(List&lt;T&gt; listToSort, Comparator&lt;T&gt; sorter, String order) {\r\n    \t\tif (order.equals(&quot;ASC&quot;)) {\r\n    \t\t\tlistToSort.sort(sorter);\r\n    \t\t}else if (order.equals(&quot;DESC&quot;)) {\r\n    \t\t\tlistToSort.sort(sorter.reversed());\r\n    \t\t}\r\n    \t}\r\n\r\noutput:\r\n\r\n    [[name2, id2], [name36, id3], [name99, id1]]\r\n    [[name99, id1], [name36, id3], [name2, id2]]\r\n    [[name36, id3], [name2, id2], [name99, id1]]\r\n\r\nYou could also use the following method which does not use generics, and follows your method signature:\r\n\r\n    public static void sortListByGivenIndexAndOrder(List&lt;List&lt;String&gt;&gt; listToSort, int index, String order) {\r\n    \t\tComparator&lt;List&lt;String&gt;&gt; indexComparator = (l1, l2) -&gt; l1.get(index).compareTo(l2.get(index));\r\n    \t\tif (order.equals(&quot;ASC&quot;)) {\r\n    \t\t\tlistToSort.sort(indexComparator);\r\n    \t\t}else if (order.equals(&quot;DESC&quot;)) {\r\n    \t\t\tlistToSort.sort(indexComparator.reversed());\r\n    \t\t}\r\n    \t}\r\n\r\nSpecial note:\r\nI suspect that this logic might not be a good idea considering that there are integers in the name. while name2 comes before name36, name2 will NOT come before name16, so I think this might not be the best logic for a comparator.\r\n\r\nIF the id are string representations of numbers ie &quot;9&quot; &quot;10&quot; and not a mix of alphabet and numbers &quot;id9&quot; &quot;id10&quot;, you could instead parse the numbers from the string in order to avoid the issue mentioned above in the note. ie:\r\n\r\n    Comparator&lt;List&lt;String&gt;&gt; idComparator = (l1, l2) -&gt; {\r\n    \t\t\tInteger val1 = Integer.parseInt(l1.get(1));\r\n    \t\t\tInteger val2 = Integer.parseInt(l2.get(1));\r\n    \t\t\treturn val1.compareTo(val2);\r\n    \t\t};\r\n\r\n","title":"How to perform a custom sort based on input values and Asc/Desc as user Input -Java","body":"<p>The following shows the comparators used for sorting, and then a generic method in order to use the comparator as well as whether the order should be in desc or asc.</p>\n<pre><code>public static void main(String[] args) {\n        List&lt;String&gt; item1 = Arrays.asList(&quot;name99&quot;,&quot;id1&quot;);\n        List&lt;String&gt; item2 = Arrays.asList(&quot;name2&quot;,&quot;id2&quot;);\n        List&lt;String&gt; item3 = Arrays.asList(&quot;name36&quot;,&quot;id3&quot;);\n        List&lt;List&lt;String&gt;&gt; listOfLists = Arrays.asList(item1, item2, item3);\n        \n        Comparator&lt;List&lt;String&gt;&gt; nameComparator = (l1, l2) -&gt; l1.get(0).compareTo(l2.get(0));\n        Comparator&lt;List&lt;String&gt;&gt; idComparator = (l1, l2) -&gt; l1.get(1).compareTo(l2.get(1));\n        //sort by name in asc\n        listOfLists.sort(nameComparator);\n        System.out.println(listOfLists);\n        //instead of making a new comparator with l2 compared to l1, just call comparator.reversed()\n        listOfLists.sort(nameComparator.reversed());\n        System.out.println(listOfLists);\n        //testing out generic method to pass list of lists, sort comparator and the ordering of the sort.\n        sortListByComparatorAndOrder(listOfLists, idComparator, &quot;DESC&quot;);\n        System.out.println(listOfLists);\n        \n    }\n    //generic method to sort a list \n    public static &lt;T&gt; void sortListByComparatorAndOrder(List&lt;T&gt; listToSort, Comparator&lt;T&gt; sorter, String order) {\n        if (order.equals(&quot;ASC&quot;)) {\n            listToSort.sort(sorter);\n        }else if (order.equals(&quot;DESC&quot;)) {\n            listToSort.sort(sorter.reversed());\n        }\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>[[name2, id2], [name36, id3], [name99, id1]]\n[[name99, id1], [name36, id3], [name2, id2]]\n[[name36, id3], [name2, id2], [name99, id1]]\n</code></pre>\n<p>You could also use the following method which does not use generics, and follows your method signature:</p>\n<pre><code>public static void sortListByGivenIndexAndOrder(List&lt;List&lt;String&gt;&gt; listToSort, int index, String order) {\n        Comparator&lt;List&lt;String&gt;&gt; indexComparator = (l1, l2) -&gt; l1.get(index).compareTo(l2.get(index));\n        if (order.equals(&quot;ASC&quot;)) {\n            listToSort.sort(indexComparator);\n        }else if (order.equals(&quot;DESC&quot;)) {\n            listToSort.sort(indexComparator.reversed());\n        }\n    }\n</code></pre>\n<p>Special note:\nI suspect that this logic might not be a good idea considering that there are integers in the name. while name2 comes before name36, name2 will NOT come before name16, so I think this might not be the best logic for a comparator.</p>\n<p>IF the id are string representations of numbers ie &quot;9&quot; &quot;10&quot; and not a mix of alphabet and numbers &quot;id9&quot; &quot;id10&quot;, you could instead parse the numbers from the string in order to avoid the issue mentioned above in the note. ie:</p>\n<pre><code>Comparator&lt;List&lt;String&gt;&gt; idComparator = (l1, l2) -&gt; {\n            Integer val1 = Integer.parseInt(l1.get(1));\n            Integer val2 = Integer.parseInt(l2.get(1));\n            return val1.compareTo(val2);\n        };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673191788,"creation_date":1673191788,"answer_id":75049010,"question_id":75048013,"body_markdown":"You can use apache&#39;s org.apache.commons.lang3.tuple.Pair to model it. This should cover all 4 cases:\r\n\r\n    List&lt;Pair&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(new MutablePair&lt;&gt;(&quot;name99&quot;, &quot;id1&quot;));\r\n    list.add(new MutablePair&lt;&gt;(&quot;name2&quot;, &quot;id2&quot;));\r\n    list.add(new MutablePair&lt;&gt;(&quot;name36&quot;, &quot;id3&quot;));\r\n        \r\n    list.sort(Comparator.comparing(Pair::getLeft));// name, asc\r\n    list.sort(Comparator.comparing(Pair::getLeft, Collections.reverseOrder()));// name, desc\r\n    list.sort(Comparator.comparing(Pair::getRight)); // id, asc\r\n    list.sort(Comparator.comparing(Pair::getRight, Collections.reverseOrder())); // id, desc","title":"How to perform a custom sort based on input values and Asc/Desc as user Input -Java","body":"<p>You can use apache's org.apache.commons.lang3.tuple.Pair to model it. This should cover all 4 cases:</p>\n<pre><code>List&lt;Pair&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\nlist.add(new MutablePair&lt;&gt;(&quot;name99&quot;, &quot;id1&quot;));\nlist.add(new MutablePair&lt;&gt;(&quot;name2&quot;, &quot;id2&quot;));\nlist.add(new MutablePair&lt;&gt;(&quot;name36&quot;, &quot;id3&quot;));\n    \nlist.sort(Comparator.comparing(Pair::getLeft));// name, asc\nlist.sort(Comparator.comparing(Pair::getLeft, Collections.reverseOrder()));// name, desc\nlist.sort(Comparator.comparing(Pair::getRight)); // id, asc\nlist.sort(Comparator.comparing(Pair::getRight, Collections.reverseOrder())); // id, desc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673270681,"creation_date":1673270681,"answer_id":75057927,"question_id":75048013,"body_markdown":"For the given sample input, that is: all items are prefixed with `name` and `id` and only differ by the digits appended at the end, something like below should work:\r\n\r\n - Create a function to remove all non digit charachters and parse to int\r\n - create a comparotor and choose the right index to compare with from the given param\r\n - reverse the sort order if needed\r\n\r\nCode:\r\n\r\n    private static void sortBasedonInput(List&lt;List&lt;String&gt;&gt; items, String sortOrder, int sortParameter) {\r\n\r\n        Function&lt;String,Integer&gt; func = str -&gt; Integer.parseInt(str.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;));\r\n        Comparator&lt;List&lt;String&gt;&gt; sortBy = Comparator.comparingInt(list -&gt; func.apply(list.get(sortParameter)));\r\n        if (sortOrder.equals(&quot;desc&quot;)){\r\n            sortBy = sortBy.reversed();\r\n        }\r\n        items.sort(sortBy);\r\n    }","title":"How to perform a custom sort based on input values and Asc/Desc as user Input -Java","body":"<p>For the given sample input, that is: all items are prefixed with <code>name</code> and <code>id</code> and only differ by the digits appended at the end, something like below should work:</p>\n<ul>\n<li>Create a function to remove all non digit charachters and parse to int</li>\n<li>create a comparotor and choose the right index to compare with from the given param</li>\n<li>reverse the sort order if needed</li>\n</ul>\n<p>Code:</p>\n<pre><code>private static void sortBasedonInput(List&lt;List&lt;String&gt;&gt; items, String sortOrder, int sortParameter) {\n\n    Function&lt;String,Integer&gt; func = str -&gt; Integer.parseInt(str.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;));\n    Comparator&lt;List&lt;String&gt;&gt; sortBy = Comparator.comparingInt(list -&gt; func.apply(list.get(sortParameter)));\n    if (sortOrder.equals(&quot;desc&quot;)){\n        sortBy = sortBy.reversed();\n    }\n    items.sort(sortBy);\n}\n</code></pre>\n"}],"owner":{"account_id":12922916,"reputation":15,"user_id":9344662,"display_name":"PotatoGod"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1673308572,"creation_date":1673183416,"question_id":75048013,"body_markdown":"I am trying to arrive at a solution for a problem related to sorting.\r\nThe input is a list of values where each value in list is a list containing two `String` values {name,id}\r\nAn Example input list resembles \r\n```none\r\n{{name99,id1},{name2,id2},{name36,id3}}\r\n```\r\nMy requirement is to sort these based on both input sort condition and sort order.\r\nIf sort condition is &quot;name&quot;, with _asc_ as input order criteria, then\r\nmy output list should be:\r\n```none\r\n{{name2,id2},{name36,id3},{name99,id1}}\r\n```\r\nIf sort condition is &quot;id&quot;, with _desc_ as input order criteria, then\r\nmy output list should be:\r\n```none\r\n{{name36,id3},{name2,id2},{name99,id1}}\r\n```\r\n\r\n\r\nThe implementation that is done so far doesn&#39;t sort the strings as per expectation in place when I use compareTo\r\n\r\n```\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; sample1= Arrays.asList(&quot;name99&quot;,&quot;id1&quot;);\r\n\t\tList&lt;String&gt; sample2= Arrays.asList(&quot;name1&quot;,&quot;id12&quot;);\r\n\t\tList&lt;String&gt; sample3= Arrays.asList(&quot;name22&quot;,&quot;id99&quot;);\r\n\t\tList&lt;String&gt; sample4= Arrays.asList(&quot;name36&quot;,&quot;id5&quot;);\r\n\t\tList&lt;String&gt; sample5= Arrays.asList(&quot;name343&quot;,&quot;id3&quot;);\r\n\t\tList&lt;List&lt;String&gt;&gt; items=Arrays.asList(sample1,sample2,sample3,sample4,sample5);\r\n\t\tString sortOrderVal=&quot;asc&quot;;\r\n\t\tString sortParamVal=&quot;name&quot;;\r\n\t\tint sortParameter=&quot;name&quot;.equalsIgnoreCase(sortParamVal)?0:1;\r\n\t\tsortBasedonInput(items,sortOrderVal,sortParameter);\r\n\r\n\t}\r\n\t\r\n\t\r\n\tprivate static void sortBasedonInput(List&lt;List&lt;String&gt;&gt; items, String sortOrder, int sortParameter) {\r\n\t\tSystem.out.println(&quot;before sort: &quot;+items);\r\n\t\t\tfor(int j=0;j&lt;items.size();j++) {\r\n\t\t\t\tfor(int i=0;i&lt;items.size()-1;i++) {\r\n\t\t\t\t\tif(items.get(i).get(sortParameter).compareTo(items.get(i+1).get(sortParameter))&gt;0) {\r\n\t\t\t\t\t\tList&lt;String&gt; temp=items.get(i);\r\n\t\t\t\t\t\titems.set(i,items.get(i+1));\r\n\t\t\t\t\t\titems.set(i+1,temp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\tif(&quot;asc&quot;.equalsIgnoreCase(sortOrder))\r\n\t\t\t\tSystem.out.println(items);\r\n\t\t\telse {\r\n\t\t\t\tCollections.reverse(items);\r\n\t\t\t\tSystem.out.println(items);\r\n\t\t\t}\r\n\t\t\t\r\n\t}\r\n```\r\n   \r\n\r\nOutput for the implementation for name with asc order:\r\nbefore sort: \r\n\r\n    [[name99, id1], [name1, id12], [name22, id99], [name36, id5], [name343, id3]]\r\n\r\nAfter sort:\r\n\r\n    [[name1, id12], [name22, id99], [name343, id3], [name36, id5], [name99, id1]]\r\n\r\nnote: item with name343 comes before item with name36","title":"How to perform a custom sort based on input values and Asc/Desc as user Input -Java","body":"<p>I am trying to arrive at a solution for a problem related to sorting.\nThe input is a list of values where each value in list is a list containing two <code>String</code> values {name,id}\nAn Example input list resembles</p>\n<pre class=\"lang-none prettyprint-override\"><code>{{name99,id1},{name2,id2},{name36,id3}}\n</code></pre>\n<p>My requirement is to sort these based on both input sort condition and sort order.\nIf sort condition is &quot;name&quot;, with <em>asc</em> as input order criteria, then\nmy output list should be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{{name2,id2},{name36,id3},{name99,id1}}\n</code></pre>\n<p>If sort condition is &quot;id&quot;, with <em>desc</em> as input order criteria, then\nmy output list should be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{{name36,id3},{name2,id2},{name99,id1}}\n</code></pre>\n<p>The implementation that is done so far doesn't sort the strings as per expectation in place when I use compareTo</p>\n<pre><code>        List&lt;String&gt; sample1= Arrays.asList(&quot;name99&quot;,&quot;id1&quot;);\n        List&lt;String&gt; sample2= Arrays.asList(&quot;name1&quot;,&quot;id12&quot;);\n        List&lt;String&gt; sample3= Arrays.asList(&quot;name22&quot;,&quot;id99&quot;);\n        List&lt;String&gt; sample4= Arrays.asList(&quot;name36&quot;,&quot;id5&quot;);\n        List&lt;String&gt; sample5= Arrays.asList(&quot;name343&quot;,&quot;id3&quot;);\n        List&lt;List&lt;String&gt;&gt; items=Arrays.asList(sample1,sample2,sample3,sample4,sample5);\n        String sortOrderVal=&quot;asc&quot;;\n        String sortParamVal=&quot;name&quot;;\n        int sortParameter=&quot;name&quot;.equalsIgnoreCase(sortParamVal)?0:1;\n        sortBasedonInput(items,sortOrderVal,sortParameter);\n\n    }\n    \n    \n    private static void sortBasedonInput(List&lt;List&lt;String&gt;&gt; items, String sortOrder, int sortParameter) {\n        System.out.println(&quot;before sort: &quot;+items);\n            for(int j=0;j&lt;items.size();j++) {\n                for(int i=0;i&lt;items.size()-1;i++) {\n                    if(items.get(i).get(sortParameter).compareTo(items.get(i+1).get(sortParameter))&gt;0) {\n                        List&lt;String&gt; temp=items.get(i);\n                        items.set(i,items.get(i+1));\n                        items.set(i+1,temp);\n                    }\n                }}\n            if(&quot;asc&quot;.equalsIgnoreCase(sortOrder))\n                System.out.println(items);\n            else {\n                Collections.reverse(items);\n                System.out.println(items);\n            }\n            \n    }\n</code></pre>\n<p>Output for the implementation for name with asc order:\nbefore sort:</p>\n<pre><code>[[name99, id1], [name1, id12], [name22, id99], [name36, id5], [name343, id3]]\n</code></pre>\n<p>After sort:</p>\n<pre><code>[[name1, id12], [name22, id99], [name343, id3], [name36, id5], [name99, id1]]\n</code></pre>\n<p>note: item with name343 comes before item with name36</p>\n"},{"tags":["java","algorithm","matrix","depth-first-search"],"answers":[{"comments":[{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1673310265,"post_id":75064035,"comment_id":132465966,"body_markdown":"I just implemented a BFS and it does work work larger inputs. I realized using DFS would be N*M complexity, but not that BFS was much better for this scenario. Thanks.","body":"I just implemented a BFS and it does work work larger inputs. I realized using DFS would be N*M complexity, but not that BFS was much better for this scenario. Thanks."}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673307430,"creation_date":1673307430,"answer_id":75064035,"question_id":75063845,"body_markdown":"Stack space is limited, so you should only write a recursive algorithm when you know that it will use a reasonable amount of it.\r\n\r\nUsing recursive DFS to find your way out of an NxM maze can use O(N*M) stack space -- not reasonable.\r\n\r\nYou could write DFS using a separate stack data structure, but really you should use BFS with a queue.  It&#39;s a little simpler, and you will get the shortest path.","title":"DFS Path has stackoverflow Error on larger entries","body":"<p>Stack space is limited, so you should only write a recursive algorithm when you know that it will use a reasonable amount of it.</p>\n<p>Using recursive DFS to find your way out of an NxM maze can use O(N*M) stack space -- not reasonable.</p>\n<p>You could write DFS using a separate stack data structure, but really you should use BFS with a queue.  It's a little simpler, and you will get the shortest path.</p>\n"},{"tags":[],"owner":{"account_id":8765633,"reputation":84,"user_id":10929107,"display_name":"MohammadMH"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673308521,"creation_date":1673308213,"answer_id":75064083,"question_id":75063845,"body_markdown":"method callings are in stack memory and after some calls it overflows. you can add ```-Xss12m``` as JVM argument (It gives 12 MB memory to your application stack memory. if it wasn&#39;t enough increase it.) and you can add this argument to the Run config in IntelliJ Idea as a JVM argument or as argument of java command in command line.","title":"DFS Path has stackoverflow Error on larger entries","body":"<p>method callings are in stack memory and after some calls it overflows. you can add <code>-Xss12m</code> as JVM argument (It gives 12 MB memory to your application stack memory. if it wasn't enough increase it.) and you can add this argument to the Run config in IntelliJ Idea as a JVM argument or as argument of java command in command line.</p>\n"}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75064035,"answer_count":2,"score":3,"last_activity_date":1673308521,"creation_date":1673305615,"question_id":75063845,"body_markdown":"This algorithm successfully gives me a path through a maze. The maze is a 2D binary matrix, and the target location is &#39;9&#39;.\r\n\r\nThe algorithm works by going through the &#39;0&#39; path that reaches &#39;9&#39; (base case) and recursively adds the previous locations to my path array.\r\n\r\nI observed that removing the border detecting line  at the top gives an index out of bounds error. but I am pretty sure this algo is breaking  when the path reaches a wall.\r\n\r\nIt also works smoothly on matrices 200x200 or less and about 50% of the time at 250x250.\r\n(As seen in the 100 width one below.)\r\n\r\n    public static boolean searchPath(int[][]maze, int x, int y, ArrayList&lt;Integer&gt; path){\r\n            if(x&lt;0 || x&gt;=maze[1].length || y&lt;0 || y&gt;=maze.length) return false;\r\n            if(maze[y][x] == 9){\r\n                path.add(x);\r\n                path.add(y);\r\n                return true;\r\n            }\r\n            if(maze[y][x] == 0){\r\n                maze[y][x] = 2;\r\n    \r\n                int dx = -1;\r\n                int dy = 0;\r\n                if(searchPath(maze,  x+dx, y+dy, path)){\r\n                    path.add(x);\r\n                    path.add(y);\r\n                    return true;\r\n                }\r\n                dx = 1;\r\n                dy = 0;\r\n                if(searchPath(maze,  x+dx, y+dy, path)){\r\n                    path.add(x);\r\n                    path.add(y);\r\n                    return true;\r\n                }\r\n                dx = 0;\r\n                dy = -1;\r\n                if(searchPath(maze,  x+dx, y+dy, path)){\r\n                    path.add(x);\r\n                    path.add(y);\r\n                    return true;\r\n                }\r\n                dx = 0;\r\n                dy = 1;\r\n                if(searchPath(maze,  x+dx, y+dy, path)){\r\n                    path.add(x);\r\n                    path.add(y);\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jmx0A.png\r\n  [2]: https://i.stack.imgur.com/0f2x0.png","title":"DFS Path has stackoverflow Error on larger entries","body":"<p>This algorithm successfully gives me a path through a maze. The maze is a 2D binary matrix, and the target location is '9'.</p>\n<p>The algorithm works by going through the '0' path that reaches '9' (base case) and recursively adds the previous locations to my path array.</p>\n<p>I observed that removing the border detecting line  at the top gives an index out of bounds error. but I am pretty sure this algo is breaking  when the path reaches a wall.</p>\n<p>It also works smoothly on matrices 200x200 or less and about 50% of the time at 250x250.\n(As seen in the 100 width one below.)</p>\n<pre><code>public static boolean searchPath(int[][]maze, int x, int y, ArrayList&lt;Integer&gt; path){\n        if(x&lt;0 || x&gt;=maze[1].length || y&lt;0 || y&gt;=maze.length) return false;\n        if(maze[y][x] == 9){\n            path.add(x);\n            path.add(y);\n            return true;\n        }\n        if(maze[y][x] == 0){\n            maze[y][x] = 2;\n\n            int dx = -1;\n            int dy = 0;\n            if(searchPath(maze,  x+dx, y+dy, path)){\n                path.add(x);\n                path.add(y);\n                return true;\n            }\n            dx = 1;\n            dy = 0;\n            if(searchPath(maze,  x+dx, y+dy, path)){\n                path.add(x);\n                path.add(y);\n                return true;\n            }\n            dx = 0;\n            dy = -1;\n            if(searchPath(maze,  x+dx, y+dy, path)){\n                path.add(x);\n                path.add(y);\n                return true;\n            }\n            dx = 0;\n            dy = 1;\n            if(searchPath(maze,  x+dx, y+dy, path)){\n                path.add(x);\n                path.add(y);\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jmx0A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jmx0A.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0f2x0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0f2x0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1673307253,"post_id":75063981,"comment_id":132465507,"body_markdown":"`DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;a&quot;);`?","body":"<code>DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;&zwnj;&#8203;a&quot;);</code>?"},{"owner":{"account_id":27176314,"reputation":11,"user_id":20712245,"display_name":"Soufiane B"},"score":0,"creation_date":1673310542,"post_id":75063981,"comment_id":132466003,"body_markdown":"I don&#39;t want specifically the child &quot;a&quot;, I want it in general so that for example if i go in the child &#39;s&#39; I can retrieve a specific child","body":"I don&#39;t want specifically the child &quot;a&quot;, I want it in general so that for example if i go in the child &#39;s&#39; I can retrieve a specific child"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1673311106,"post_id":75063981,"comment_id":132466076,"body_markdown":"Sorry @SoufianeB, but I&#39;m not sure what you mean by that. If you want to get just the username of user `s`, that&#39;d be `DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;s/username&quot;);`. If that still isn&#39;t what you&#39;re looking for, can you edit your question (there&#39;s a link right under it) to show a bit more of the code you have, what output it generates, and what you want to output instead?","body":"Sorry @SoufianeB, but I&#39;m not sure what you mean by that. If you want to get just the username of user <code>s</code>, that&#39;d be <code>DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;&zwnj;&#8203;s&#47;username&quot;);</code>. If that still isn&#39;t what you&#39;re looking for, can you edit your question (there&#39;s a link right under it) to show a bit more of the code you have, what output it generates, and what you want to output instead?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1673333376,"post_id":75063981,"comment_id":132469143,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":27176314,"reputation":11,"user_id":20712245,"display_name":"Soufiane B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673307228,"creation_date":1673306890,"question_id":75063981,"body_markdown":"I would like to know how to get this specific object name/value because I want to retrieve it for conditions in my android studio project.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/vOK0u.png)](https://i.stack.imgur.com/vOK0u.png)\r\n\r\nI can get the instance of the &#39;table&#39; Users but it is all my users that are retrieved. I would like to get one specific one so that i can target the childs of it.\r\n`DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);`","title":"How can you get the value of a specific &#39;object&#39; in realtime firebase?","body":"<p>I would like to know how to get this specific object name/value because I want to retrieve it for conditions in my android studio project.</p>\n<p><a href=\"https://i.stack.imgur.com/vOK0u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vOK0u.png\" alt=\"enter image description here\" /></a></p>\n<p>I can get the instance of the 'table' Users but it is all my users that are retrieved. I would like to get one specific one so that i can target the childs of it.\n<code>DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);</code></p>\n"},{"tags":["java","swing","model-view-controller"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673306473,"post_id":75063899,"comment_id":132465408,"body_markdown":"I can&#39;t see `mainPage` been added to a `JDesktopPane` - maybe have closer look at [How to Use Internal Frames](https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html)","body":"I can&#39;t see <code>mainPage</code> been added to a <code>JDesktopPane</code> - maybe have closer look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow noreferrer\">How to Use Internal Frames</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673306597,"post_id":75063899,"comment_id":132465426,"body_markdown":"I&#39;d also encourage you to make use of debug statements and the debugger to verify that the code execution is going where you think it should be going","body":"I&#39;d also encourage you to make use of debug statements and the debugger to verify that the code execution is going where you think it should be going"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673314092,"post_id":75063899,"comment_id":132466446,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27482687,"reputation":1,"user_id":20969454,"display_name":"Joshua Ulloa Mora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673306223,"creation_date":1673306223,"question_id":75063899,"body_markdown":"I&#39;m working on a mvc project for which I have created a login form for which after logging in should show a JInternal frame which for some reason is not showing up I&#39;ve tested the connection to the db and is working fine also there is no problem with the validation just the window not showing up.\r\n\r\n                                        \r\n```\r\n private void btnLoginActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    UserDAO userDAO = new UserDAO();\r\n    User u = new User();\r\n    \r\n        if (!txtUsername.getText().equals(&quot;&quot;) || txtPassword.getText().equals(&quot;&quot;)) {\r\n        u.setUsername(txtUsername.getText());\r\n        u.setPassword(txtPassword.getText());\r\n        u.setUserType(cbType.getSelectedItem().toString());\r\n        \r\n            if (userDAO.login(u)) {\r\n            \r\n            String userID =String.valueOf(u.getUserId());\r\n            String username = u.getUsername();\r\n            String userType = u.getUserType();\r\n            \r\n           \r\n            MainPage mainPage = new MainPage(userID, username, userType);\r\n            mainPage.setVisible(true);\r\n            \r\n            }else{\r\n            \r\n                JOptionPane.showMessageDialog(null, &quot;The username or password are incorrect&quot;);\r\n            }\r\n        }else{\r\n        JOptionPane.showMessageDialog(null, &quot;The spaces must be filled&quot;);\r\n        }\r\n    }                                        \r\n\r\n\r\n\r\n```\r\n","title":"JInternal Frame does not pop up","body":"<p>I'm working on a mvc project for which I have created a login form for which after logging in should show a JInternal frame which for some reason is not showing up I've tested the connection to the db and is working fine also there is no problem with the validation just the window not showing up.</p>\n<pre><code> private void btnLoginActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    UserDAO userDAO = new UserDAO();\n    User u = new User();\n    \n        if (!txtUsername.getText().equals(&quot;&quot;) || txtPassword.getText().equals(&quot;&quot;)) {\n        u.setUsername(txtUsername.getText());\n        u.setPassword(txtPassword.getText());\n        u.setUserType(cbType.getSelectedItem().toString());\n        \n            if (userDAO.login(u)) {\n            \n            String userID =String.valueOf(u.getUserId());\n            String username = u.getUsername();\n            String userType = u.getUserType();\n            \n           \n            MainPage mainPage = new MainPage(userID, username, userType);\n            mainPage.setVisible(true);\n            \n            }else{\n            \n                JOptionPane.showMessageDialog(null, &quot;The username or password are incorrect&quot;);\n            }\n        }else{\n        JOptionPane.showMessageDialog(null, &quot;The spaces must be filled&quot;);\n        }\n    }                                        \n\n\n\n</code></pre>\n"},{"tags":["java","android","service","notifications"],"comments":[{"owner":{"account_id":7213958,"reputation":84,"user_id":9417126,"display_name":"Abhishek sheshagiri"},"score":0,"creation_date":1673322335,"post_id":75063852,"comment_id":132467454,"body_markdown":"Use a periodic WorkManager to run in the background that listens to the user&#39;s location at periodic intervals of time and then if the condition satisfy, fire the notification","body":"Use a periodic WorkManager to run in the background that listens to the user&#39;s location at periodic intervals of time and then if the condition satisfy, fire the notification"},{"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"score":0,"creation_date":1673346212,"post_id":75063852,"comment_id":132472816,"body_markdown":"Will this run in the background? I don&#39;t want the user to be prompted with &quot;App is still running, click here to close... etc&quot;. So how do I implement this? Can you link me to place that explains the basics, please? Thanks in advancd!","body":"Will this run in the background? I don&#39;t want the user to be prompted with &quot;App is still running, click here to close... etc&quot;. So how do I implement this? Can you link me to place that explains the basics, please? Thanks in advancd!"},{"owner":{"account_id":7213958,"reputation":84,"user_id":9417126,"display_name":"Abhishek sheshagiri"},"score":0,"creation_date":1673365506,"post_id":75063852,"comment_id":132479662,"body_markdown":"yes, it works in the background too. Check this documentation - https://developer.android.com/topic/libraries/architecture/workmanager\nI have used this to schedule periodic notifications in the past and many other such requirements","body":"yes, it works in the background too. Check this documentation - <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/workmanag&zwnj;&#8203;er</a> I have used this to schedule periodic notifications in the past and many other such requirements"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673305679,"creation_date":1673305679,"question_id":75063852,"body_markdown":"I&#39;m making a location-based TODO notifying app.\r\nOne of it&#39;s main features - is to send a notification to the user - if he&#39;s close to one of the location he defined.\r\n\r\nWhat I need to do is to listen to the user&#39;s location - **even when the app is closed.**\r\n\r\nI have come across the idea of a foreground service (This are 2 of it&#39;s function):\r\n\r\n```\r\n@Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O)\r\n        {\r\n            startForegroundCustom();\r\n        }\r\n        else\r\n        {\r\n            startForeground(1, new Notification());\r\n        }\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    private void startForegroundCustom()\r\n    {\r\n        // this is cause of the O api that requires this notification settings...\r\n\r\n        String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\r\n        String channelName = &quot;Background Service&quot;;\r\n        NotificationChannel chan = new NotificationChannel\r\n                (NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_NONE);\r\n        chan.setLightColor(Color.BLUE);\r\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n\r\n        NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        assert manager != null;\r\n        manager.createNotificationChannel(chan);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder\r\n                (this, NOTIFICATION_CHANNEL_ID);\r\n        Notification notification =\r\n                notificationBuilder.setOngoing(true)\r\n                .setContentTitle(&quot;Hello from remindify!&quot;)\r\n                .setPriority(NotificationManager.IMPORTANCE_NONE)\r\n                .setCategory(Notification.CATEGORY_SERVICE)\r\n                .setSmallIcon(R.drawable.ic_launcher_background)\r\n                .build();\r\n\r\n        System.out.println(notification);\r\n        startForeground(2, notification);\r\n    }\r\n```\r\n\r\nBasically the startForeground at the end start the &quot;Timer&quot; of the Service.\r\n\r\nProblem - it HAS to display a notification. I checked, and there&#39;s no way to not display a notification. As said here - https://stackoverflow.com/questions/10962418/how-to-startforeground-without-showing-notification\r\n\r\nMy question is - do I have an alternative? or do I have to use this foreground service?\r\n\r\n\r\n\r\n**TL;DR:** I need a way to listen to the user&#39;s location and send him notifications, even when the app is closed - which isn&#39;t a ForegroundService.","title":"Send notifications when app is closed - android","body":"<p>I'm making a location-based TODO notifying app.\nOne of it's main features - is to send a notification to the user - if he's close to one of the location he defined.</p>\n<p>What I need to do is to listen to the user's location - <strong>even when the app is closed.</strong></p>\n<p>I have come across the idea of a foreground service (This are 2 of it's function):</p>\n<pre><code>@Override\n    public void onCreate() {\n        super.onCreate();\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O)\n        {\n            startForegroundCustom();\n        }\n        else\n        {\n            startForeground(1, new Notification());\n        }\n    }\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    private void startForegroundCustom()\n    {\n        // this is cause of the O api that requires this notification settings...\n\n        String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\n        String channelName = &quot;Background Service&quot;;\n        NotificationChannel chan = new NotificationChannel\n                (NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_NONE);\n        chan.setLightColor(Color.BLUE);\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n\n        NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        assert manager != null;\n        manager.createNotificationChannel(chan);\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder\n                (this, NOTIFICATION_CHANNEL_ID);\n        Notification notification =\n                notificationBuilder.setOngoing(true)\n                .setContentTitle(&quot;Hello from remindify!&quot;)\n                .setPriority(NotificationManager.IMPORTANCE_NONE)\n                .setCategory(Notification.CATEGORY_SERVICE)\n                .setSmallIcon(R.drawable.ic_launcher_background)\n                .build();\n\n        System.out.println(notification);\n        startForeground(2, notification);\n    }\n</code></pre>\n<p>Basically the startForeground at the end start the &quot;Timer&quot; of the Service.</p>\n<p>Problem - it HAS to display a notification. I checked, and there's no way to not display a notification. As said here - <a href=\"https://stackoverflow.com/questions/10962418/how-to-startforeground-without-showing-notification\">How to startForeground() without showing notification?</a></p>\n<p>My question is - do I have an alternative? or do I have to use this foreground service?</p>\n<p><strong>TL;DR:</strong> I need a way to listen to the user's location and send him notifications, even when the app is closed - which isn't a ForegroundService.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673305484,"creation_date":1673305484,"answer_id":75063825,"question_id":75001044,"body_markdown":"Using JpaSpecificationExecutor ([scroll down to section 5][1]\r\n\r\nThis way you can programmatically define what fields are you going to add to your where clause, like this .:\r\n\r\n    (Specification&lt;Book&gt;) (book, cq, cb) -&gt;\r\n      cb.and(\r\n        // You can dynamically construct that array of predicates based on which fields are set in the form\r\n        cb.like(book.get(&quot;author&quot;), &quot;%&quot; + author + &quot;%&quot;),\r\n        cb.like(book.get(&quot;title&quot;), &quot;%&quot; + title + &quot;%&quot;)\r\n      )\r\n\r\n  [1]: https://www.baeldung.com/spring-data-criteria-queries","title":"Define a method for multiple searches by hibernate in spring boot","body":"<p>Using JpaSpecificationExecutor (<a href=\"https://www.baeldung.com/spring-data-criteria-queries\" rel=\"nofollow noreferrer\">scroll down to section 5</a></p>\n<p>This way you can programmatically define what fields are you going to add to your where clause, like this .:</p>\n<pre><code>(Specification&lt;Book&gt;) (book, cq, cb) -&gt;\n  cb.and(\n    // You can dynamically construct that array of predicates based on which fields are set in the form\n    cb.like(book.get(&quot;author&quot;), &quot;%&quot; + author + &quot;%&quot;),\n    cb.like(book.get(&quot;title&quot;), &quot;%&quot; + title + &quot;%&quot;)\n  )\n</code></pre>\n"}],"owner":{"account_id":20994955,"reputation":27,"user_id":15427008,"display_name":"Beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673305484,"creation_date":1672807420,"question_id":75001044,"body_markdown":"My application have large search form with to many inputs for each entity attributes , I want to define a method for example criteria method for generic query search , instead of defining method for search by each entity attribute , how can I do this with hibernate or JPA ?","title":"Define a method for multiple searches by hibernate in spring boot","body":"<p>My application have large search form with to many inputs for each entity attributes , I want to define a method for example criteria method for generic query search , instead of defining method for search by each entity attribute , how can I do this with hibernate or JPA ?</p>\n"},{"tags":["java","arraylist","comparator"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1673304910,"post_id":75063748,"comment_id":132465140,"body_markdown":"Are these classes all located in the default package? In the same file or in separate files?","body":"Are these classes all located in the default package? In the same file or in separate files?"},{"owner":{"account_id":25566760,"reputation":15,"user_id":19347970,"display_name":"Anonymous"},"score":0,"creation_date":1673304954,"post_id":75063748,"comment_id":132465148,"body_markdown":"yes all of this is in the same file","body":"yes all of this is in the same file"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1673305128,"post_id":75063748,"comment_id":132465191,"body_markdown":"Make your example SMALLER. Start removing all the fluff until you come to the really minimalistic code, which still have the same error message.","body":"Make your example SMALLER. Start removing all the fluff until you come to the really minimalistic code, which still have the same error message."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1673305161,"post_id":75063748,"comment_id":132465198,"body_markdown":"It&#39;s just a problem with the word, with a lowercase `b` of `by`. Possibly you&#39;re not that used to case differences if you&#39;re from an Arab country. In most PL&#39;s you&#39;ll see that everything is &quot;case sensitive&quot; making the identifiers completely different from each other.","body":"It&#39;s just a problem with the word, with a lowercase <code>b</code> of <code>by</code>. Possibly you&#39;re not that used to case differences if you&#39;re from an Arab country. In most PL&#39;s you&#39;ll see that everything is &quot;case sensitive&quot; making the identifiers completely different from each other."}],"answers":[{"tags":[],"owner":{"account_id":27482624,"reputation":61,"user_id":20969400,"display_name":"irigami"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673305108,"creation_date":1673305108,"answer_id":75063791,"question_id":75063748,"body_markdown":"Check your spelling in `new SortByFarz()`. In your question you define the class `SortbyFarz`, notice the lowercase `b` in `by`.\r\n\r\nIf you see the error `cannot find symbol`, this means that you are referencing something that doesn&#39;t exist!","title":"&#39;error: cannot find symbol&#39; while displaying ArrayList using Comparator","body":"<p>Check your spelling in <code>new SortByFarz()</code>. In your question you define the class <code>SortbyFarz</code>, notice the lowercase <code>b</code> in <code>by</code>.</p>\n<p>If you see the error <code>cannot find symbol</code>, this means that you are referencing something that doesn't exist!</p>\n"}],"owner":{"account_id":25566760,"reputation":15,"user_id":19347970,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673305293,"answer_count":1,"score":0,"last_activity_date":1673305373,"creation_date":1673304528,"question_id":75063748,"body_markdown":"I made a class named `SortByFarz` and I tried to sort it in ascending order but  I am getting the following error and I don&#39;t know why:\r\n\r\n```\r\n  error: cannot find symbol\r\n\r\n  Collections.sort(a1, new SortByFarz());\r\n                           ^\r\n  symbol:   class SortByFarz\r\n  location: class Salaat\r\n```\r\n\r\n\r\n **CODE:**   \r\n\r\n```java\r\nimport java.util.*;\r\nimport java.io.*;\r\nimport java.lang.*;\r\n\r\nclass Salat {\r\n\r\n    private String name;\r\n    private int farz;\r\n    private int sunnah;\r\n\r\n    public Salat(String name, int farz, int sunnah) {\r\n        this.name = name;\r\n        this.farz = farz;\r\n        this.sunnah = sunnah;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setFarz(int farz) {\r\n        this.farz = farz;\r\n    }\r\n\r\n    public int getFarz() {\r\n        return farz;\r\n    }\r\n\r\n    public void setSunnah(int sunnah) {\r\n        this.sunnah = sunnah;\r\n    }\r\n\r\n    public int getSunnah() {\r\n        return sunnah;\r\n    }\r\n\r\n    public String toString() {\r\n        return String.format(&quot;%s has %d Farz and %d Sunnah&quot;, getName(), getFarz(), getSunnah());\r\n    }\r\n\r\n}\r\n\r\nclass SortbyFarz implements Comparator &lt; Salat &gt; {\r\n\r\n    public int compare(Salat first, Salat second) {\r\n        return first.getFarz() - second.getFarz();\r\n    }\r\n\r\n}\r\n\r\npublic class Salaat {\r\n   public static void main(String[] args) {\r\n\r\n       Salat fajar = new Salat(&quot;Fajar&quot;, 2, 2);\r\n        Salat zuhr = new Salat(&quot;Zuhr&quot;, 4, 6);\r\n        Salat asar = new Salat(&quot;Asar&quot;, 4, 4);\r\n        Salat maghrib = new Salat(&quot;Maghrib&quot;, 3, 2);\r\n        Salat isha = new Salat(&quot;Isha&quot;, 4, 6);\r\n    \r\n        ArrayList &lt; Salat &gt; a1 = new ArrayList &lt; &gt; ();\r\n        a1.add(fajar);\r\n        a1.add(zuhr);\r\n        a1.add(asar);\r\n        a1.add(maghrib);\r\n        a1.add(isha);\r\n    \r\n        System.out.println(&quot;UNSORTED SALATS&quot;);\r\n    \r\n        for (int i = 0; i &lt; a1.size(); i++) {\r\n            System.out.println(a1.get(i));\r\n        }\r\n    \r\n        Collections.sort(a1, new SortByFarz());   //Error in this line\r\n    \r\n    \r\n        System.out.println(&quot;SORTED SALATS BY FARZ&quot;);\r\n    \r\n        for (int i = 0; i &lt; a1.size(); i++) {\r\n            System.out.println(a1.get(i));\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that the classes are all in the same `Salaat.java` file.","title":"&#39;error: cannot find symbol&#39; while displaying ArrayList using Comparator","body":"<p>I made a class named <code>SortByFarz</code> and I tried to sort it in ascending order but  I am getting the following error and I don't know why:</p>\n<pre><code>  error: cannot find symbol\n\n  Collections.sort(a1, new SortByFarz());\n                           ^\n  symbol:   class SortByFarz\n  location: class Salaat\n</code></pre>\n<p><strong>CODE:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\nimport java.lang.*;\n\nclass Salat {\n\n    private String name;\n    private int farz;\n    private int sunnah;\n\n    public Salat(String name, int farz, int sunnah) {\n        this.name = name;\n        this.farz = farz;\n        this.sunnah = sunnah;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setFarz(int farz) {\n        this.farz = farz;\n    }\n\n    public int getFarz() {\n        return farz;\n    }\n\n    public void setSunnah(int sunnah) {\n        this.sunnah = sunnah;\n    }\n\n    public int getSunnah() {\n        return sunnah;\n    }\n\n    public String toString() {\n        return String.format(&quot;%s has %d Farz and %d Sunnah&quot;, getName(), getFarz(), getSunnah());\n    }\n\n}\n\nclass SortbyFarz implements Comparator &lt; Salat &gt; {\n\n    public int compare(Salat first, Salat second) {\n        return first.getFarz() - second.getFarz();\n    }\n\n}\n\npublic class Salaat {\n   public static void main(String[] args) {\n\n       Salat fajar = new Salat(&quot;Fajar&quot;, 2, 2);\n        Salat zuhr = new Salat(&quot;Zuhr&quot;, 4, 6);\n        Salat asar = new Salat(&quot;Asar&quot;, 4, 4);\n        Salat maghrib = new Salat(&quot;Maghrib&quot;, 3, 2);\n        Salat isha = new Salat(&quot;Isha&quot;, 4, 6);\n    \n        ArrayList &lt; Salat &gt; a1 = new ArrayList &lt; &gt; ();\n        a1.add(fajar);\n        a1.add(zuhr);\n        a1.add(asar);\n        a1.add(maghrib);\n        a1.add(isha);\n    \n        System.out.println(&quot;UNSORTED SALATS&quot;);\n    \n        for (int i = 0; i &lt; a1.size(); i++) {\n            System.out.println(a1.get(i));\n        }\n    \n        Collections.sort(a1, new SortByFarz());   //Error in this line\n    \n    \n        System.out.println(&quot;SORTED SALATS BY FARZ&quot;);\n    \n        for (int i = 0; i &lt; a1.size(); i++) {\n            System.out.println(a1.get(i));\n    \n    \n        }\n    }\n\n}\n</code></pre>\n<p>Note that the classes are all in the same <code>Salaat.java</code> file.</p>\n"},{"tags":["java","asynchronous","spring-webflux","project-reactor"],"owner":{"account_id":14629418,"reputation":99,"user_id":10565736,"display_name":"Patryk Szymon Młyńczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673304840,"creation_date":1673304840,"question_id":75063772,"body_markdown":"I have many reactive operations .existById() to do, \r\nthen on the collected list I want to execute once some operations.\r\nThe problem is I don&#39;t know which reactive operators I should use, or how to rewrite this to archive the desirable effect. \r\nEvery try I coded effect execution of only one part of that code.\r\n\r\n\r\nFirst try where no-reactive code weren&#39;t waiting on Cassandra repo:\r\n```\r\n//First part:\r\n        signaturesFromFile.forEach(signatureFromFile -&gt; {\r\n            SignatureKey signatureKey = new SignatureKey(signatureFromFile.getProfileId(), signatureFromFile.getUserId(), signatureFromFile.getId());\r\n           \r\n            signatureRepositoryCassandra.existsById(signatureKey)\r\n                    .map(exists -&gt; {\r\n                        if (!exists) {\r\n                            notSavedSignatures.add(signatureFromFile);\r\n                        }\r\n                        return null;\r\n                    }).subscribe();\r\n\r\n        });\r\n\r\n//Second part:\r\n        String notSavedSignaturesListJson = convertSignaturesToJson(notSavedSignatures);\r\n\r\n        String pathToNotSavedSigantures = NOT_TRANSFERRED_SIGNATURES_DIRECTORY + signatureFilename;\r\n        saveIfFileNotExist(getUserIdFromFileName(signatureFilename), pathToNotSavedSigantures, notSavedSignaturesListJson);\r\n\r\n        deleteTransferredByUserIdSignaturesFile(signatureFilename);\r\n\r\n```\r\n\r\nThe second idea was to close it in one reactive stream, but the problem recurred and the roles reversed - operations in the second part weren&#39;t executed \r\n\r\n```\r\n  Flux.fromIterable(signaturesFromFile).map(signatureFromFile -&gt; {\r\n            SignatureKey signatureKey = new SignatureKey(signatureFromFile.getProfileId(), signatureFromFile.getUserId(), signatureFromFile.getId());\r\n           \r\n//First part:\r\n            signatureRepositoryCassandra.existsById(signatureKey)\r\n                    .map(exists -&gt; {\r\n                        if (!exists) {\r\n                            notSavedSignatures.add(signatureFromFile);\r\n                        }\r\n                        return null;\r\n                    }).subscribe();\r\n            return null;\r\n\r\n\r\n        }).mergeWith(e -&gt; {\r\n//Second part: \r\n            String notSavedSignaturesListJson = convertSignaturesToJson(notSavedSignatures);\r\n\r\n            String pathToNotSavedSigantures = NOT_TRANSFERRED_SIGNATURES_DIRECTORY + signatureFilename;\r\n            saveIfFileNotExist(getUserIdFromFileName(signatureFilename), pathToNotSavedSigantures, notSavedSignaturesListJson);\r\n\r\n            deleteTransferredByUserIdSignaturesFile(signatureFilename);\r\n        }).subscribe();\r\n\r\n```\r\n\r\nI have a workaround for that problem -&gt; \r\n.findAll() and filter data instead of many executed .existById()\r\nbut I would like to resolve it with the correct operators ;)","title":"Reactive: executing many .existById() then executing some operations on collected data","body":"<p>I have many reactive operations .existById() to do,\nthen on the collected list I want to execute once some operations.\nThe problem is I don't know which reactive operators I should use, or how to rewrite this to archive the desirable effect.\nEvery try I coded effect execution of only one part of that code.</p>\n<p>First try where no-reactive code weren't waiting on Cassandra repo:</p>\n<pre><code>//First part:\n        signaturesFromFile.forEach(signatureFromFile -&gt; {\n            SignatureKey signatureKey = new SignatureKey(signatureFromFile.getProfileId(), signatureFromFile.getUserId(), signatureFromFile.getId());\n           \n            signatureRepositoryCassandra.existsById(signatureKey)\n                    .map(exists -&gt; {\n                        if (!exists) {\n                            notSavedSignatures.add(signatureFromFile);\n                        }\n                        return null;\n                    }).subscribe();\n\n        });\n\n//Second part:\n        String notSavedSignaturesListJson = convertSignaturesToJson(notSavedSignatures);\n\n        String pathToNotSavedSigantures = NOT_TRANSFERRED_SIGNATURES_DIRECTORY + signatureFilename;\n        saveIfFileNotExist(getUserIdFromFileName(signatureFilename), pathToNotSavedSigantures, notSavedSignaturesListJson);\n\n        deleteTransferredByUserIdSignaturesFile(signatureFilename);\n\n</code></pre>\n<p>The second idea was to close it in one reactive stream, but the problem recurred and the roles reversed - operations in the second part weren't executed</p>\n<pre><code>  Flux.fromIterable(signaturesFromFile).map(signatureFromFile -&gt; {\n            SignatureKey signatureKey = new SignatureKey(signatureFromFile.getProfileId(), signatureFromFile.getUserId(), signatureFromFile.getId());\n           \n//First part:\n            signatureRepositoryCassandra.existsById(signatureKey)\n                    .map(exists -&gt; {\n                        if (!exists) {\n                            notSavedSignatures.add(signatureFromFile);\n                        }\n                        return null;\n                    }).subscribe();\n            return null;\n\n\n        }).mergeWith(e -&gt; {\n//Second part: \n            String notSavedSignaturesListJson = convertSignaturesToJson(notSavedSignatures);\n\n            String pathToNotSavedSigantures = NOT_TRANSFERRED_SIGNATURES_DIRECTORY + signatureFilename;\n            saveIfFileNotExist(getUserIdFromFileName(signatureFilename), pathToNotSavedSigantures, notSavedSignaturesListJson);\n\n            deleteTransferredByUserIdSignaturesFile(signatureFilename);\n        }).subscribe();\n\n</code></pre>\n<p>I have a workaround for that problem -&gt;\n.findAll() and filter data instead of many executed .existById()\nbut I would like to resolve it with the correct operators ;)</p>\n"},{"tags":["java","spring-boot","yaml","spring-test","spring-properties"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672997169,"post_id":75028531,"comment_id":132403175,"body_markdown":"do you get the same result when you drop `testResources`?","body":"do you get the same result when you drop <code>testResources</code>?"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673005349,"post_id":75028531,"comment_id":132405555,"body_markdown":"I tried your code in a `@SpringBootTest` test and it works fine, maybe related to the test framework you are using.","body":"I tried your code in a <code>@SpringBootTest</code> test and it works fine, maybe related to the test framework you are using."},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1673019668,"post_id":75028531,"comment_id":132410000,"body_markdown":"@dariosicily, I do have `@SpringBootTest` in the BaseFunctionalTest class (the base class) in the above code. However, I have to add `@RunWith(SpringRunner.class)`. Otherwise, I got errors complaining something like no test can be found.","body":"@dariosicily, I do have <code>@SpringBootTest</code> in the BaseFunctionalTest class (the base class) in the above code. However, I have to add <code>@RunWith(SpringRunner.class)</code>. Otherwise, I got errors complaining something like no test can be found."}],"answers":[{"tags":[],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673304810,"creation_date":1673304810,"answer_id":75063771,"question_id":75028531,"body_markdown":"My bad, the issue is in the pom, which was not shown in the description of the question. I accidentally copied `&lt;packaging&gt;pom&lt;/packaging&gt;` into the pom.xml. After remove it (or change it to jar), the yml file was read successfully.","title":"test module cannot load its application.yml file","body":"<p>My bad, the issue is in the pom, which was not shown in the description of the question. I accidentally copied <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> into the pom.xml. After remove it (or change it to jar), the yml file was read successfully.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673304810,"creation_date":1672993346,"question_id":75028531,"body_markdown":"I have a separate module for functional testing of the application module. Its structure is as below\r\n\r\n    └───functional-test\r\n        ├───pom.xml\r\n        └───src\r\n            ├───test\r\n                ├───java\r\n                |   └─── some java testing class\r\n                ├───resources\r\n                    └─── application.yml\r\n\r\nNote that there is NO main folder. My pom file is something as below \r\n\r\n        \r\n         &lt;build&gt;\r\n            &lt;testResources&gt;\r\n                &lt;testResource&gt;\r\n                    &lt;directory&gt;${project.basedir}/src/test/resources&lt;/directory&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*.yml&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/testResource&gt;\r\n            &lt;/testResources&gt;\r\n        &lt;/build&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;!-- test dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n                &lt;version&gt;2.27.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.19.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.20&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.19&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.19&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\nNow, I put some thing below in the application.yml file as a test \r\n\r\n    abc:\r\n      def: &quot;123&quot; \r\n\r\nI assume the following code should give me &quot;123&quot;. However, it printed null. \r\n\r\n    @Component\r\n    @ConfigurationProperties(&quot;abc&quot;)\r\n    @TestPropertySource(&quot;classpath:application.yml&quot;)\r\n    @Data\r\n    public class TestProperties {\r\n    \r\n        private String def;\r\n    }\r\n    \r\n    \r\n    public class PropertyFuncTest extends BaseFunctionalTest {\r\n    \r\n        @Autowired\r\n        TestProperties testProperties;\r\n    \r\n        @Test\r\n        public void testProperty() {\r\n    \r\n            System.out.println(testProperties.getDef());\r\n            ......\r\n        }\r\n    \r\n    }\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public abstract class BaseFunctionalTest {\r\n        ......\r\n    }\r\n       \r\nIt looks like the application.yml file is not loaded at all. Any idea?","title":"test module cannot load its application.yml file","body":"<p>I have a separate module for functional testing of the application module. Its structure is as below</p>\n<pre><code>└───functional-test\n    ├───pom.xml\n    └───src\n        ├───test\n            ├───java\n            |   └─── some java testing class\n            ├───resources\n                └─── application.yml\n</code></pre>\n<p>Note that there is NO main folder. My pom file is something as below</p>\n<pre><code>     &lt;build&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;${project.basedir}/src/test/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.yml&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- test dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n            &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n            &lt;version&gt;2.27.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;4.5.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.19.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;1.17.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\n            &lt;version&gt;1.0.19&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\n            &lt;version&gt;1.0.19&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>Now, I put some thing below in the application.yml file as a test</p>\n<pre><code>abc:\n  def: &quot;123&quot; \n</code></pre>\n<p>I assume the following code should give me &quot;123&quot;. However, it printed null.</p>\n<pre><code>@Component\n@ConfigurationProperties(&quot;abc&quot;)\n@TestPropertySource(&quot;classpath:application.yml&quot;)\n@Data\npublic class TestProperties {\n\n    private String def;\n}\n\n\npublic class PropertyFuncTest extends BaseFunctionalTest {\n\n    @Autowired\n    TestProperties testProperties;\n\n    @Test\n    public void testProperty() {\n\n        System.out.println(testProperties.getDef());\n        ......\n    }\n\n}\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic abstract class BaseFunctionalTest {\n    ......\n}\n   \n</code></pre>\n<p>It looks like the application.yml file is not loaded at all. Any idea?</p>\n"},{"tags":["java","unix"],"answers":[{"comments":[{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1392714740,"post_id":21848812,"comment_id":33073097,"body_markdown":"Yes, I agree. If I have to do this across all the PIDs, how do I change my script?","body":"Yes, I agree. If I have to do this across all the PIDs, how do I change my script?"}],"tags":[],"owner":{"account_id":43599,"reputation":311,"user_id":127532,"accept_rate":83,"display_name":"Dieter"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392714547,"creation_date":1392714547,"answer_id":21848812,"question_id":21848713,"body_markdown":"I have no direct answer, but I assume that the shell-foo-magic you do to get the PID is perhaps wrong. Therefore could you please add an &#39;echo $PID&#39; directly after the pid=... line and showus the output.\r\nBecause useing directly &#39;jstack &lt;pid&gt;&#39; works fine for me.","title":"Taking thread dump using jstack","body":"<p>I have no direct answer, but I assume that the shell-foo-magic you do to get the PID is perhaps wrong. Therefore could you please add an 'echo $PID' directly after the pid=... line and showus the output.\nBecause useing directly 'jstack ' works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":2005748,"reputation":299,"user_id":1795700,"display_name":"Kuro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418146997,"creation_date":1418146659,"answer_id":27385250,"question_id":21848713,"body_markdown":"You can&#39;t give more than one pid to jstack, and you should give it a pid of java process only. Something like this should work:\r\n\r\n    for pid in $(ps axww | grep &#39; java&#39; |grep -v grep | sed -e &#39;s/^[ ]*//g&#39; | sed -e &#39;s/[ ][ ]*/ /g&#39; | cut -f1 -d&#39; &#39;); do\r\n      jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\r\n    done\r\n\r\nOr more simply:\r\n\r\n    for pid in $(jps | sed &#39;s/^\\([0-9][0-9]*\\) .*$/\\1/&#39;); do\r\n      jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\r\n    done\r\n","title":"Taking thread dump using jstack","body":"<p>You can't give more than one pid to jstack, and you should give it a pid of java process only. Something like this should work:</p>\n\n<pre><code>for pid in $(ps axww | grep ' java' |grep -v grep | sed -e 's/^[ ]*//g' | sed -e 's/[ ][ ]*/ /g' | cut -f1 -d' '); do\n  jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\ndone\n</code></pre>\n\n<p>Or more simply:</p>\n\n<pre><code>for pid in $(jps | sed 's/^\\([0-9][0-9]*\\) .*$/\\1/'); do\n  jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\ndone\n</code></pre>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673304571,"creation_date":1392714282,"question_id":21848713,"body_markdown":"I would like to generate an automatic thread dump. This is the script I am using:\r\n        \r\n        THREADDUMP_LOG_FILE=&quot;/tmp/tmpLog_`date +&quot;%Y%m%d%H%M%S&quot;`&quot;\r\n        pid=`ps axww | grep -v grep | sed -e &#39;s/^[ ]*//g&#39; | sed -e &#39;s/[ ][ ]*/ /g&#39; | cut -f1 -d&#39; &#39; `\r\n        $JAVA_HOME/bin/jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\r\n\r\nWhen I do this, this is what I see in the thread dump log file:\r\n\r\n    Usage:\r\n    jstack [-l] &lt;pid&gt;\r\n        (to connect to running process)\r\n    jstack -F [-m] [-l] &lt;pid&gt;\r\n        (to connect to a hung process)\r\n    jstack [-m] [-l] &lt;executable&gt; &lt;core&gt;\r\n        (to connect to a core file)\r\n    jstack [-m] [-l] [server_id@]&lt;remote server IP or hostname&gt;\r\n        (to connect to a remote debug server)\r\n\r\n    Options:\r\n        -F  to force a thread dump. Use when jstack &lt;pid&gt; does not respond (process is hung)\r\n        -m  to print both java and native frames (mixed mode)\r\n        -l  long listing. Prints additional information about locks\r\n        -h or -help to print this help message\r\n\r\nClearly, I am doing something wrong. How can I take a thread dump using jstack?\r\n","title":"Taking thread dump using jstack","body":"<p>I would like to generate an automatic thread dump. This is the script I am using:</p>\n<pre><code>    THREADDUMP_LOG_FILE=&quot;/tmp/tmpLog_`date +&quot;%Y%m%d%H%M%S&quot;`&quot;\n    pid=`ps axww | grep -v grep | sed -e 's/^[ ]*//g' | sed -e 's/[ ][ ]*/ /g' | cut -f1 -d' ' `\n    $JAVA_HOME/bin/jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\n</code></pre>\n<p>When I do this, this is what I see in the thread dump log file:</p>\n<pre><code>Usage:\njstack [-l] &lt;pid&gt;\n    (to connect to running process)\njstack -F [-m] [-l] &lt;pid&gt;\n    (to connect to a hung process)\njstack [-m] [-l] &lt;executable&gt; &lt;core&gt;\n    (to connect to a core file)\njstack [-m] [-l] [server_id@]&lt;remote server IP or hostname&gt;\n    (to connect to a remote debug server)\n\nOptions:\n    -F  to force a thread dump. Use when jstack &lt;pid&gt; does not respond (process is hung)\n    -m  to print both java and native frames (mixed mode)\n    -l  long listing. Prints additional information about locks\n    -h or -help to print this help message\n</code></pre>\n<p>Clearly, I am doing something wrong. How can I take a thread dump using jstack?</p>\n"},{"tags":["java","android","android-intent","bundle"],"comments":[{"owner":{"account_id":2808164,"reputation":2383,"user_id":2414975,"accept_rate":67,"display_name":"groff07"},"score":0,"creation_date":1673303815,"post_id":75062619,"comment_id":132464906,"body_markdown":"Does this answer your question? [Passing data between a fragment and its container activity](https://stackoverflow.com/questions/9343241/passing-data-between-a-fragment-and-its-container-activity)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9343241/passing-data-between-a-fragment-and-its-container-activity\">Passing data between a fragment and its container activity</a>"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1673428588,"post_id":75062619,"comment_id":132494599,"body_markdown":"Edit your question and show the code you use to launch the `Activity`.","body":"Edit your question and show the code you use to launch the <code>Activity</code>."}],"answers":[{"comments":[{"owner":{"account_id":27176314,"reputation":11,"user_id":20712245,"display_name":"Soufiane B"},"score":0,"creation_date":1673299458,"post_id":75062823,"comment_id":132463823,"body_markdown":"I am coding in java, not in kotlin. The code that you gave e doesn&#39;t work","body":"I am coding in java, not in kotlin. The code that you gave e doesn&#39;t work"}],"tags":[],"owner":{"account_id":3268941,"reputation":89,"user_id":4040656,"display_name":"harunkor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673297721,"creation_date":1673297721,"answer_id":75062823,"question_id":75062619,"body_markdown":"In the Fragment : \r\n\r\n        val intent = Intent(this, MapsActivity::class.java)\r\n        intent.putExtra(&quot;testing&quot;, &quot;This is a test&quot;)\r\n        startActivity(intent)\r\n\r\n\r\nIn the receiving Activity : \r\n\r\n        val extras = intent.extras\r\n        if (extras != null) {\r\n           val  receivingString = extras.getString(&quot;testing&quot;)\r\n           System.out.println(&quot;Value is : &quot; + receivingString)\r\n        } else {\r\n        \r\n        }\r\n\r\n","title":"How to pass data(value) from a fragment to an activity","body":"<p>In the Fragment :</p>\n<pre><code>    val intent = Intent(this, MapsActivity::class.java)\n    intent.putExtra(&quot;testing&quot;, &quot;This is a test&quot;)\n    startActivity(intent)\n</code></pre>\n<p>In the receiving Activity :</p>\n<pre><code>    val extras = intent.extras\n    if (extras != null) {\n       val  receivingString = extras.getString(&quot;testing&quot;)\n       System.out.println(&quot;Value is : &quot; + receivingString)\n    } else {\n    \n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27176314,"reputation":11,"user_id":20712245,"display_name":"Soufiane B"},"score":0,"creation_date":1673310706,"post_id":75063747,"comment_id":132466025,"body_markdown":"What do I need to put in my activity then ? I have used this : String message = getIntent().getStringExtra(&quot;testing&quot;); But it is still null","body":"What do I need to put in my activity then ? I have used this : String message = getIntent().getStringExtra(&quot;testing&quot;); But it is still null"},{"owner":{"account_id":25421873,"reputation":43,"user_id":19227725,"display_name":"Ismail Hamzeh"},"score":0,"creation_date":1673358416,"post_id":75063747,"comment_id":132476923,"body_markdown":"Try this : getIntent().getExtras().getString(&quot;testing&quot;);","body":"Try this : getIntent().getExtras().getString(&quot;testing&quot;);"}],"tags":[],"owner":{"account_id":25421873,"reputation":43,"user_id":19227725,"display_name":"Ismail Hamzeh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673304527,"creation_date":1673304527,"answer_id":75063747,"question_id":75062619,"body_markdown":"Using jave:\r\n\r\n    Intent intent = new Intent(getActivity(), MapActivity.class);\r\n    intent.putExtra(&quot;testing&quot;, &quot;This is a test&quot;);\r\n    getActivity.startActivity(intent);","title":"How to pass data(value) from a fragment to an activity","body":"<p>Using jave:</p>\n<pre><code>Intent intent = new Intent(getActivity(), MapActivity.class);\nintent.putExtra(&quot;testing&quot;, &quot;This is a test&quot;);\ngetActivity.startActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":27176314,"reputation":11,"user_id":20712245,"display_name":"Soufiane B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673304527,"creation_date":1673296227,"question_id":75062619,"body_markdown":"I want to pass a specific String from a fragment to an activity to use it there.\r\nWhen I am using Intent and Bundle, the value is null. I have tried several methods but can&#39;t seem to make it correctly. Can someone help, please?\r\n\r\nIn my Fragment :\r\n\r\n    Intent testintent = new Intent(getActivity(), MapActivity.class);         \r\n    Bundle bundle = new Bundle();         \r\n    bundle.putString(&quot;testing&quot;, &quot;This is a test&quot;);         \r\n    testintent.putExtras(bundle);`\r\n\r\nAnd in my Activity :\r\n\r\n    String message = getIntent().getStringExtra(&quot;testing&quot;);         \r\n    System.out.println(&quot;Value is : &quot; + message);`\r\n\r\nAnd this is what I am getting as a result in my console :\r\n\r\n    I/System.out: Value is : null","title":"How to pass data(value) from a fragment to an activity","body":"<p>I want to pass a specific String from a fragment to an activity to use it there.\nWhen I am using Intent and Bundle, the value is null. I have tried several methods but can't seem to make it correctly. Can someone help, please?</p>\n<p>In my Fragment :</p>\n<pre><code>Intent testintent = new Intent(getActivity(), MapActivity.class);         \nBundle bundle = new Bundle();         \nbundle.putString(&quot;testing&quot;, &quot;This is a test&quot;);         \ntestintent.putExtras(bundle);`\n</code></pre>\n<p>And in my Activity :</p>\n<pre><code>String message = getIntent().getStringExtra(&quot;testing&quot;);         \nSystem.out.println(&quot;Value is : &quot; + message);`\n</code></pre>\n<p>And this is what I am getting as a result in my console :</p>\n<pre><code>I/System.out: Value is : null\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":279245,"reputation":1924,"user_id":574303,"display_name":"minichate"},"score":0,"creation_date":1310613101,"post_id":6688033,"comment_id":7913100,"body_markdown":"Wow, you&#39;re right! Edited the answer to reflect my newfound learnings.","body":"Wow, you&#39;re right! Edited the answer to reflect my newfound learnings."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1310613375,"post_id":6688033,"comment_id":7913131,"body_markdown":"@minichate - you posted first so you get a +1. @Ed - why do you think it doesnt work? http://www.ideone.com/PlF7V","body":"@minichate - you posted first so you get a +1. @Ed - why do you think it doesnt work? <a href=\"http://www.ideone.com/PlF7V\" rel=\"nofollow noreferrer\">ideone.com/PlF7V</a>"},{"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"score":0,"creation_date":1310613532,"post_id":6688033,"comment_id":7913151,"body_markdown":"It didn&#39;t work.  S/he fixed it.  I&#39;ll delete my comment to avoid confusion like yours.","body":"It didn&#39;t work.  S/he fixed it.  I&#39;ll delete my comment to avoid confusion like yours."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1310614238,"post_id":6688033,"comment_id":7913223,"body_markdown":"Don&#39;t take it personal, it&#39;s not like the revision history is open to everyone. Thanks for cleaning up your comment.","body":"Don&#39;t take it personal, it&#39;s not like the revision history is open to everyone. Thanks for cleaning up your comment."},{"owner":{"account_id":3838953,"reputation":2411,"user_id":3182598,"display_name":"nomadSK25"},"score":0,"creation_date":1534959677,"post_id":6688033,"comment_id":90895237,"body_markdown":"can we more shorten than that?","body":"can we more shorten than that?"},{"owner":{"account_id":18871088,"reputation":377,"user_id":13765668,"display_name":"Abduladil Sunnat"},"score":0,"creation_date":1694888312,"post_id":6688033,"comment_id":135951754,"body_markdown":"Why do we still have to use out when we already imported it?","body":"Why do we still have to use out when we already imported it?"}],"tags":[],"owner":{"account_id":279245,"reputation":1924,"user_id":574303,"display_name":"minichate"},"comment_count":6,"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1334494607,"creation_date":1310612665,"answer_id":6688033,"question_id":6688017,"body_markdown":"    import static java.lang.System.out;\r\n\r\nAnd in your code:\r\n\r\n    out.println(&quot;Foo&quot;);\r\n\r\n","title":"how do you shorten system.out.println in java","body":"<pre><code>import static java.lang.System.out;\n</code></pre>\n\n<p>And in your code:</p>\n\n<pre><code>out.println(\"Foo\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"score":1,"creation_date":1310613120,"post_id":6688035,"comment_id":7913103,"body_markdown":"And, of course, you could put _this_ in one class and use a static import on _it_.  I&#39;d guess that&#39;s closest to what the OP wants.","body":"And, of course, you could put <i>this</i> in one class and use a static import on <i>it</i>.  I&#39;d guess that&#39;s closest to what the OP wants."},{"owner":{"account_id":167319,"reputation":23070,"user_id":392046,"accept_rate":100,"display_name":"Jesus Ramos"},"score":0,"creation_date":1310613161,"post_id":6688035,"comment_id":7913108,"body_markdown":"Yeah I mean he could call it p(string) if he wants which is pretty darn short but unreadable.","body":"Yeah I mean he could call it p(string) if he wants which is pretty darn short but unreadable."}],"tags":[],"owner":{"account_id":167319,"reputation":23070,"user_id":392046,"accept_rate":100,"display_name":"Jesus Ramos"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1310612678,"creation_date":1310612678,"answer_id":6688035,"question_id":6688017,"body_markdown":"    public static void print(String s) { System.out.println(s); }","title":"how do you shorten system.out.println in java","body":"<pre><code>public static void print(String s) { System.out.println(s); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1673304468,"creation_date":1310612728,"answer_id":6688037,"question_id":6688017,"body_markdown":"# *Eclipse* shortcut\r\n\r\nIn the [Eclipse][1] [IDE][2], just type `syso` and then press `Ctrl+space`. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_(software)\r\n  [2]: https://en.wikipedia.org/wiki/Integrated_development_environment","title":"how do you shorten system.out.println in java","body":"<h1><em>Eclipse</em> shortcut</h1>\n<p>In the <a href=\"https://en.wikipedia.org/wiki/Eclipse_(software)\" rel=\"nofollow noreferrer\">Eclipse</a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>, just type <code>syso</code> and then press <code>Ctrl+space</code>.</p>\n"},{"comments":[{"owner":{"account_id":638909,"reputation":5696,"user_id":414521,"accept_rate":97,"display_name":"SSpoke"},"score":0,"creation_date":1311477577,"post_id":6688191,"comment_id":8079601,"body_markdown":"hehehe autohotkeys :P autoit, I&#39;m guessing you hack online mmorpgs? (sorry if i&#39;m being rude).","body":"hehehe autohotkeys :P autoit, I&#39;m guessing you hack online mmorpgs? (sorry if i&#39;m being rude)."},{"owner":{"account_id":3183722,"reputation":661,"user_id":2689892,"display_name":"Mark Teese"},"score":0,"creation_date":1540308151,"post_id":6688191,"comment_id":92813028,"body_markdown":"Very nice. Autohotkey also works fine for me on Win10. For linux, try [Autokey](https://github.com/autokey/autokey)?","body":"Very nice. Autohotkey also works fine for me on Win10. For linux, try <a href=\"https://github.com/autokey/autokey\" rel=\"nofollow noreferrer\">Autokey</a>?"}],"tags":[],"owner":{"account_id":75696,"reputation":14036,"user_id":217071,"accept_rate":85,"display_name":"Lenik"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310614345,"creation_date":1310614345,"answer_id":6688191,"question_id":6688017,"body_markdown":"\r\nAutohotkey.ahk:\r\n\r\n    #!o:: Send System.out.println(&quot;&quot;);{LEFT 3}\r\n\r\nThen, press &lt;kbd&gt;WIN+ALT+O&lt;/kbd&gt;.\r\n\r\nUnfortunately, autohotkey only supports win32. :(\r\n","title":"how do you shorten system.out.println in java","body":"<p>Autohotkey.ahk:</p>\n\n<pre><code>#!o:: Send System.out.println(\"\");{LEFT 3}\n</code></pre>\n\n<p>Then, press <kbd>WIN+ALT+O</kbd>.</p>\n\n<p>Unfortunately, autohotkey only supports win32. :(</p>\n"},{"tags":[],"owner":{"account_id":694757,"reputation":552,"user_id":573619,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310617912,"creation_date":1310617912,"answer_id":6688506,"question_id":6688017,"body_markdown":"If it&#39;s for the purposes of logging/debugging the logic of your program? **The call that never happens.** \r\n\r\nUnless you are writing a console driven application, refrain from using System.out and System.err directly.\r\n\r\nIf you need logging, use a logging framework (j.u.l, log4j, jcl, avalon, slf4j, logback, etc).\r\nThese allow for improved context specific information, improved granularity and configuration at runtime.","title":"how do you shorten system.out.println in java","body":"<p>If it's for the purposes of logging/debugging the logic of your program? <strong>The call that never happens.</strong> </p>\n\n<p>Unless you are writing a console driven application, refrain from using System.out and System.err directly.</p>\n\n<p>If you need logging, use a logging framework (j.u.l, log4j, jcl, avalon, slf4j, logback, etc).\nThese allow for improved context specific information, improved granularity and configuration at runtime.</p>\n"},{"tags":[],"owner":{"account_id":447093,"reputation":21,"user_id":840521,"display_name":"nightmare17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310632859,"creation_date":1310632859,"answer_id":6690563,"question_id":6688017,"body_markdown":"To make it shortest you can write an another  function and use it,but typing syso and clicking CTRL+Space is the best way I think.You should get used to using shortcuts when coding in JAVA ;)","title":"how do you shorten system.out.println in java","body":"<p>To make it shortest you can write an another  function and use it,but typing syso and clicking CTRL+Space is the best way I think.You should get used to using shortcuts when coding in JAVA ;)</p>\n"},{"tags":[],"owner":{"account_id":420891,"reputation":11018,"user_id":798818,"accept_rate":91,"display_name":"Mob"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673304371,"creation_date":1317082205,"answer_id":7562809,"question_id":6688017,"body_markdown":"# *NetBeans* shortcut\r\n\r\n\r\nIn the [NetBeans][1] [IDE][2], type `sout` and press &lt;kbd&gt;Tab&lt;/kbd&gt; key. \r\n\r\n# *IntelliJ* shortcut \r\n\r\nIn the [IntelliJ IDEA][3] IDE, do the same: Type `sout`, press &lt;kbd&gt;Tab&lt;/kbd&gt; key. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/NetBeans\r\n  [2]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [3]: https://en.wikipedia.org/wiki/IntelliJ_IDEA","title":"how do you shorten system.out.println in java","body":"<h1><em>NetBeans</em> shortcut</h1>\n<p>In the <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">NetBeans</a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>, type <code>sout</code> and press <kbd>Tab</kbd> key.</p>\n<h1><em>IntelliJ</em> shortcut</h1>\n<p>In the <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a> IDE, do the same: Type <code>sout</code>, press <kbd>Tab</kbd> key.</p>\n"},{"comments":[{"owner":{"account_id":6623364,"reputation":167,"user_id":6928157,"display_name":"Abinash Dash"},"score":0,"creation_date":1615579581,"post_id":38715055,"comment_id":117744529,"body_markdown":"This too works as expected. Passing only String and then printing might cause error if integer or other type of parameters are passed. Passing &quot;Object&quot; solved this issue. Great answer...","body":"This too works as expected. Passing only String and then printing might cause error if integer or other type of parameters are passed. Passing &quot;Object&quot; solved this issue. Great answer..."}],"tags":[],"owner":{"account_id":5211499,"reputation":61,"user_id":4167782,"display_name":"Ryeera"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470125371,"creation_date":1470125371,"answer_id":38715055,"question_id":6688017,"body_markdown":"The shortest possible way would be to create a method with a short name. Something like:\r\n\r\n    public static void out(Object o){\r\n        System.out.println(o.toString());\r\n    }\r\n\r\nNow, you only have to call out(&quot;foobar&quot;); in order to print something to standard out.\r\nThe reason I used an object and the toString() method is so that and integer, for example, gets displayed properly.\r\n\r\n","title":"how do you shorten system.out.println in java","body":"<p>The shortest possible way would be to create a method with a short name. Something like:</p>\n\n<pre><code>public static void out(Object o){\n    System.out.println(o.toString());\n}\n</code></pre>\n\n<p>Now, you only have to call out(\"foobar\"); in order to print something to standard out.\nThe reason I used an object and the toString() method is so that and integer, for example, gets displayed properly.</p>\n"},{"tags":[],"owner":{"account_id":3183722,"reputation":661,"user_id":2689892,"display_name":"Mark Teese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540307953,"creation_date":1540307953,"answer_id":52952577,"question_id":6688017,"body_markdown":"Here&#39;s a workable example of the answers on this page, and also the [related question][1]. I&#39;m not sure if any of these shortcuts is recommended for readable, reusable code.\r\n\r\n    import static java.lang.System.out; // only for method of minichate&amp;Tim Cooper\r\n    import java.io.PrintWriter;// only for method of Stephan Paul\r\n\r\n    public class PrintExample{\r\n        public static void main(String[] args){\r\n            out.println(&quot;Typing of 7 characters saved!&quot;);\r\n            p.pl(&quot;shortened System.out.println, 14 characters saved.&quot;);\r\n            p.pl(77); // takes non-strings\r\n            p.out(88); // also takes non-strings\r\n            p.print(&quot;sorry, I only take strings!&quot;);\r\n            //p.print(99); compilation error, int cannot be converted to String\r\n            PrintWriter pr = new PrintWriter(System.out, true);\r\n            pr.println(33); // method of Stephan Paul\r\n        }\r\n    }\r\n\r\n    class p{\r\n        // using generics (Java 5.0 onwards), by carlos_lm\r\n        public static &lt;T&gt; void pl (T obj){\r\n            System.out.println(obj);\r\n        }\r\n        // method by Neji3971 &amp; bakkal, seems to work for all objects\r\n        public static void out(Object o){\r\n            System.out.println(o.toString());\r\n        }\r\n        // method by Jesus Ramos &amp; rup. Only accepts strings!!\r\n        public static void print(String s) {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3320764/how-to-make-system-out-println-shorter","title":"how do you shorten system.out.println in java","body":"<p>Here's a workable example of the answers on this page, and also the <a href=\"https://stackoverflow.com/questions/3320764/how-to-make-system-out-println-shorter\">related question</a>. I'm not sure if any of these shortcuts is recommended for readable, reusable code.</p>\n\n<pre><code>import static java.lang.System.out; // only for method of minichate&amp;Tim Cooper\nimport java.io.PrintWriter;// only for method of Stephan Paul\n\npublic class PrintExample{\n    public static void main(String[] args){\n        out.println(\"Typing of 7 characters saved!\");\n        p.pl(\"shortened System.out.println, 14 characters saved.\");\n        p.pl(77); // takes non-strings\n        p.out(88); // also takes non-strings\n        p.print(\"sorry, I only take strings!\");\n        //p.print(99); compilation error, int cannot be converted to String\n        PrintWriter pr = new PrintWriter(System.out, true);\n        pr.println(33); // method of Stephan Paul\n    }\n}\n\nclass p{\n    // using generics (Java 5.0 onwards), by carlos_lm\n    public static &lt;T&gt; void pl (T obj){\n        System.out.println(obj);\n    }\n    // method by Neji3971 &amp; bakkal, seems to work for all objects\n    public static void out(Object o){\n        System.out.println(o.toString());\n    }\n    // method by Jesus Ramos &amp; rup. Only accepts strings!!\n    public static void print(String s) {\n        System.out.println(s);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25988760,"reputation":1,"user_id":19701338,"display_name":"The Diabolical"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660112451,"creation_date":1659718107,"answer_id":73253008,"question_id":6688017,"body_markdown":"You might wanna try this\r\n\r\n    package com.company;\r\n    \r\n    class Database {\r\n    \r\n        // SOP to print function\r\n        public static void print(String inp) { \r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void print(int inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void print(double inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void print(float inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void print(boolean inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        // SOPLN to printLN function\r\n    \r\n        public static void printLN(String inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void printLN(int inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void printLN(double inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void printLN(float inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void printLN(boolean inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            printLN(&quot;Hello&quot;);\r\n            printLN(1);\r\n            printLN(2.123);\r\n            printLN(2.2);\r\n            printLN(false);\r\n            printLN(1+2);\r\n            int x = 323;\r\n            int y = 342;\r\n            int z = x+y;\r\n            printLN(x+y);\r\n            printLN(z);\r\n            printLN(&quot;Hello&quot; + z);\r\n            printLN(&quot;You can print anything.&quot;);\r\n    \r\n        }\r\n    }","title":"how do you shorten system.out.println in java","body":"<p>You might wanna try this</p>\n<pre><code>package com.company;\n\nclass Database {\n\n    // SOP to print function\n    public static void print(String inp) { \n        System.out.println(inp);\n    }\n\n    public static void print(int inp) {\n        System.out.println(inp);\n    }\n\n    public static void print(double inp) {\n        System.out.println(inp);\n    }\n\n    public static void print(float inp) {\n        System.out.println(inp);\n    }\n\n    public static void print(boolean inp) {\n        System.out.println(inp);\n    }\n\n    // SOPLN to printLN function\n\n    public static void printLN(String inp) {\n        System.out.println(inp);\n    }\n\n    public static void printLN(int inp) {\n        System.out.println(inp);\n    }\n\n    public static void printLN(double inp) {\n        System.out.println(inp);\n    }\n\n    public static void printLN(float inp) {\n        System.out.println(inp);\n    }\n\n    public static void printLN(boolean inp) {\n        System.out.println(inp);\n    }\n\n    public static void main(String[] args) {\n        \n        printLN(&quot;Hello&quot;);\n        printLN(1);\n        printLN(2.123);\n        printLN(2.2);\n        printLN(false);\n        printLN(1+2);\n        int x = 323;\n        int y = 342;\n        int z = x+y;\n        printLN(x+y);\n        printLN(z);\n        printLN(&quot;Hello&quot; + z);\n        printLN(&quot;You can print anything.&quot;);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":160561,"reputation":14464,"user_id":380714,"accept_rate":97,"display_name":"kamikaze_pilot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11227,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"accepted_answer_id":6688033,"answer_count":10,"score":19,"last_activity_date":1673304468,"creation_date":1310612564,"question_id":6688017,"body_markdown":"what is the absolute shortest possible shortcut to call System.out.println that makes it callable via the shortest possible number of characters (like print())","title":"how do you shorten system.out.println in java","body":"<p>what is the absolute shortest possible shortcut to call System.out.println that makes it callable via the shortest possible number of characters (like print())</p>\n"},{"tags":["java","return-value","jna","bytebuffer","negative-number"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1673311626,"post_id":75063730,"comment_id":132466134,"body_markdown":"Bytes are signed in Java. Anything 0x7F higher than is negative","body":"Bytes are signed in Java. Anything 0x7F higher than is negative"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1673312670,"post_id":75063730,"comment_id":132466270,"body_markdown":"Printing out byte values in Java isn&#39;t useful and doesn&#39;t reflect the value you&#39;d expect.  Generally, you should operate on `myValue &amp; 0xFF` and not care about their original numeric value.","body":"Printing out byte values in Java isn&#39;t useful and doesn&#39;t reflect the value you&#39;d expect.  Generally, you should operate on <code>myValue &amp; 0xFF</code> and not care about their original numeric value."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673353810,"post_id":75063730,"comment_id":132475194,"body_markdown":"`System.out.println(HexFormat.ofDelimiter(&quot; &quot;).formatHex(pucDataOut.array()));` will show you the hex values (where numerical sign is irrelevant)","body":"<code>System.out.println(HexFormat.ofDelimiter(&quot; &quot;).formatHex(pucDataOut.array()));</code> will show you the hex values (where numerical sign is irrelevant)"}],"owner":{"account_id":26822911,"reputation":15,"user_id":20411977,"display_name":"guiguietben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673370988,"answer_count":0,"score":0,"last_activity_date":1673304421,"creation_date":1673304421,"question_id":75063730,"body_markdown":"I use a native C function from a dll like that:\r\n\r\n    short sSmartISOEx(USHORT usInDataLen, const UCHAR *pucDataIn, USHORT *pusOutDataLen, UCHAR *pucDataOut);\r\n\r\nThis function is declared in my java like that:\r\n\r\n    short sSmartISOEx(short usInDataLen, ByteBuffer pucDataIn, ShortBuffer pusOutDataLen, ByteBuffer pucDataOut);\r\n\r\nSo to use it i send a ByteBuffer pucDataIn with a lenght of usInDataLen.\r\nAnd normaly i retrieve a ByteBuffer pucDataOut with a lenght of pusOutDataLen.\r\n\r\nThe function work correctly, but my problem is after retrieving the ByteBuffer pucDataOut, i do something like that:\r\n\r\n    System.out.println(&quot;first byte: &quot; + pucDataOut.get(0));\r\n    System.out.println(&quot;second byte: &quot; + pucDataOut.get(1));\r\n\r\nIn my specifice case normaly &quot;First byte&quot; value is 0x69 and &quot;Second byte&quot; value is 0x86\r\nBut when i execute my code, this is what i obtain:\r\n\r\n    first byte: 105\r\n    second byte: -122\r\n\r\nFor 105 it&#39;s ok, it correspond to 0x69\r\nBut for -122, it correspond to 0xffffff86\r\n\r\nWhy this &quot;pucDataOut.get(1)&quot; correspond to 4 byte and not just only one byte.\r\nHow to obtain exactly a byte array of two values 0x69 and 0x86","title":"java jna negative value returned in ByteBuffer from a native function","body":"<p>I use a native C function from a dll like that:</p>\n<pre><code>short sSmartISOEx(USHORT usInDataLen, const UCHAR *pucDataIn, USHORT *pusOutDataLen, UCHAR *pucDataOut);\n</code></pre>\n<p>This function is declared in my java like that:</p>\n<pre><code>short sSmartISOEx(short usInDataLen, ByteBuffer pucDataIn, ShortBuffer pusOutDataLen, ByteBuffer pucDataOut);\n</code></pre>\n<p>So to use it i send a ByteBuffer pucDataIn with a lenght of usInDataLen.\nAnd normaly i retrieve a ByteBuffer pucDataOut with a lenght of pusOutDataLen.</p>\n<p>The function work correctly, but my problem is after retrieving the ByteBuffer pucDataOut, i do something like that:</p>\n<pre><code>System.out.println(&quot;first byte: &quot; + pucDataOut.get(0));\nSystem.out.println(&quot;second byte: &quot; + pucDataOut.get(1));\n</code></pre>\n<p>In my specifice case normaly &quot;First byte&quot; value is 0x69 and &quot;Second byte&quot; value is 0x86\nBut when i execute my code, this is what i obtain:</p>\n<pre><code>first byte: 105\nsecond byte: -122\n</code></pre>\n<p>For 105 it's ok, it correspond to 0x69\nBut for -122, it correspond to 0xffffff86</p>\n<p>Why this &quot;pucDataOut.get(1)&quot; correspond to 4 byte and not just only one byte.\nHow to obtain exactly a byte array of two values 0x69 and 0x86</p>\n"},{"tags":["java","mysql","hibernate","jpql"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673303734,"creation_date":1673303734,"answer_id":75063667,"question_id":75062593,"body_markdown":"What you&#39;re looking for is [LIKE clause][1]\r\n\r\n    from UnidadeDeSaude where nomeDoEstabelecimento like concat(&#39;%&#39;,:nomeDoEstabelecimento,&#39;%&#39;)&quot;, UnidadeDeSaude.class);\r\n\r\nAnd skip the `+ &#39;%&#39;` from `setParameter`\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-jpa-like-queries","title":"How to query data inserting substring - MYSQL/JPQL","body":"<p>What you're looking for is <a href=\"https://www.baeldung.com/spring-jpa-like-queries\" rel=\"nofollow noreferrer\">LIKE clause</a></p>\n<pre><code>from UnidadeDeSaude where nomeDoEstabelecimento like concat('%',:nomeDoEstabelecimento,'%')&quot;, UnidadeDeSaude.class);\n</code></pre>\n<p>And skip the <code>+ '%'</code> from <code>setParameter</code></p>\n"}],"owner":{"account_id":22406354,"reputation":11,"user_id":16615829,"display_name":"Paulo Vitor "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673303734,"creation_date":1673296051,"question_id":75062593,"body_markdown":"I&#39;m writing the below method on a Java project with Hibernate connecting to the database, and want to know how can I write a query to find a register with just the corrensponding substring. I tried using &#39;concat&#39; but it didn&#39;t work\r\n\r\n```\r\npublic List&lt;UnidadeDeSaude&gt; pesquisar(String nome) {\r\n\t\tTypedQuery&lt;UnidadeDeSaude&gt; query = manager.createQuery(&quot;from UnidadeDeSaude where nomeDoEstabelecimento concat(&#39;%&#39;,:nomeDoEstabelecimento,&#39;%&#39;)&quot;, UnidadeDeSaude.class);\r\n\t\tquery.setParameter(&quot;nomeDoEstabelecimento&quot;, nome + &#39;%&#39;);\r\n\t\t\r\n\t\treturn query.getResultList();\r\n\t}\r\n```","title":"How to query data inserting substring - MYSQL/JPQL","body":"<p>I'm writing the below method on a Java project with Hibernate connecting to the database, and want to know how can I write a query to find a register with just the corrensponding substring. I tried using 'concat' but it didn't work</p>\n<pre><code>public List&lt;UnidadeDeSaude&gt; pesquisar(String nome) {\n        TypedQuery&lt;UnidadeDeSaude&gt; query = manager.createQuery(&quot;from UnidadeDeSaude where nomeDoEstabelecimento concat('%',:nomeDoEstabelecimento,'%')&quot;, UnidadeDeSaude.class);\n        query.setParameter(&quot;nomeDoEstabelecimento&quot;, nome + '%');\n        \n        return query.getResultList();\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673300920,"post_id":75062010,"comment_id":132464216,"body_markdown":"What type of table inheritance (single table, joined, table per class) are you attempting to use this in? JPA doesn&#39;t support this use case of multiple inheritance branches like this - it leaves it as undefined but states the discriminator column should be on the inheritance root, MyProduct in your case. &quot;Book&quot; should use the product_type column for inheritance as all book subclasses are a subclass of MyProduct, so there is no need to further differentiate them","body":"What type of table inheritance (single table, joined, table per class) are you attempting to use this in? JPA doesn&#39;t support this use case of multiple inheritance branches like this - it leaves it as undefined but states the discriminator column should be on the inheritance root, MyProduct in your case. &quot;Book&quot; should use the product_type column for inheritance as all book subclasses are a subclass of MyProduct, so there is no need to further differentiate them"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1673302679,"post_id":75062010,"comment_id":132464675,"body_markdown":"I fixed the diagrams. I want to use 2 different discriminators for 2 different columns. 1st is of `product_type` and other is &#39;book_type&#39;.","body":"I fixed the diagrams. I want to use 2 different discriminators for 2 different columns. 1st is of <code>product_type</code> and other is &#39;book_type&#39;."}],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673303473,"creation_date":1673303473,"answer_id":75063639,"question_id":75062010,"body_markdown":"Having multiple disciminator columns on a single entity is not possible according to the [documentation][1]\r\n\r\n\r\n&gt; The strategy and the discriminator column are only specified in the\r\n&gt; root of an entity class hierarchy or subhierarchy in which a different\r\n&gt; inheritance strategy is applied.\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/DiscriminatorColumn.html","title":"Hibernate Single Table Inheritance with 2 @DiscriminatorColumn (1 is embedded) is not working","body":"<p>Having multiple disciminator columns on a single entity is not possible according to the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/DiscriminatorColumn.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>The strategy and the discriminator column are only specified in the\nroot of an entity class hierarchy or subhierarchy in which a different\ninheritance strategy is applied.</p>\n</blockquote>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75063639,"answer_count":1,"score":0,"last_activity_date":1673303473,"creation_date":1673292007,"question_id":75062010,"body_markdown":"Single `@DiscriminatorColumn` works fine. Column `product_type` gets filled with correct discriminator value:\r\n[![First @DiscriminatorCOlumn usage][1]][1]\r\n\r\nHowever, when I introduce 2 more classes that inherit Book, hence another `@DiscriminatorColumn`, none of the contracts are honored. Neither `product_type` gets populated (remains null) nor do `book_type`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G01NV.png\r\n  [2]: https://i.stack.imgur.com/WcNkA.png","title":"Hibernate Single Table Inheritance with 2 @DiscriminatorColumn (1 is embedded) is not working","body":"<p>Single <code>@DiscriminatorColumn</code> works fine. Column <code>product_type</code> gets filled with correct discriminator value:\n<a href=\"https://i.stack.imgur.com/G01NV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G01NV.png\" alt=\"First @DiscriminatorCOlumn usage\" /></a></p>\n<p>However, when I introduce 2 more classes that inherit Book, hence another <code>@DiscriminatorColumn</code>, none of the contracts are honored. Neither <code>product_type</code> gets populated (remains null) nor do <code>book_type</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/WcNkA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WcNkA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1542133,"reputation":6317,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"score":0,"creation_date":1407820632,"post_id":25256511,"comment_id":39351614,"body_markdown":"If what you really are trying to accomplish is &quot;bundle all the maven dependencies in one jar&quot; then I would suggest you look at maven-shade-plugin. Why reinvent the wheel?","body":"If what you really are trying to accomplish is &quot;bundle all the maven dependencies in one jar&quot; then I would suggest you look at maven-shade-plugin. Why reinvent the wheel?"},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1407820895,"post_id":25256511,"comment_id":39351704,"body_markdown":"Agreed, but there has to be a solution to this using mvn exec as well. I have also tried adding the output directory within configuration in my pom, but no luck. &lt;outputDirectory&gt;output/&lt;/outputDirectory&gt;","body":"Agreed, but there has to be a solution to this using mvn exec as well. I have also tried adding the output directory within configuration in my pom, but no luck. &lt;outputDirectory&gt;output/&lt;/outputDirectory&gt;"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1407865862,"post_id":25256511,"comment_id":39377678,"body_markdown":"What exactly are you trying to accomplish? What does you programm Applauncher exactly do? Should it write something into a particular folder? Or do you expect the exec-maven-plugin to write something to a particular location?","body":"What exactly are you trying to accomplish? What does you programm Applauncher exactly do? Should it write something into a particular folder? Or do you expect the exec-maven-plugin to write something to a particular location?"},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1407866701,"post_id":25256511,"comment_id":39378184,"body_markdown":"App launcher basically reads data from input folders, processes them, and writes to output directory. I just want to be able to write to the output directory when I run mvn exec:exec. If I run the program in eclipse, it writes to the directory, but it doesn&#39;t work from Maven.","body":"App launcher basically reads data from input folders, processes them, and writes to output directory. I just want to be able to write to the output directory when I run mvn exec:exec. If I run the program in eclipse, it writes to the directory, but it doesn&#39;t work from Maven."}],"answers":[{"tags":[],"owner":{"account_id":1542133,"reputation":6317,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407825950,"creation_date":1407825950,"answer_id":25257818,"question_id":25256511,"body_markdown":"In the `&lt;configuration&gt;` element, include something like `&lt;workingDirectory&gt;target/output&lt;/workingDirectory&gt;`. [Here](http://mojo.codehaus.org/exec-maven-plugin/index.html) is an example.","title":"Maven exec fails to write results to output directory","body":"<p>In the <code>&lt;configuration&gt;</code> element, include something like <code>&lt;workingDirectory&gt;target/output&lt;/workingDirectory&gt;</code>. <a href=\"http://mojo.codehaus.org/exec-maven-plugin/index.html\" rel=\"nofollow\">Here</a> is an example.</p>\n"},{"tags":[],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407827968,"creation_date":1407827968,"answer_id":25258353,"question_id":25256511,"body_markdown":"You can try passing destination directory explicitly and its worth adding execution phase as well. The maven plugin configuration is as follows.\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;-classpath&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;classpath/&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;com.kp.deployment.CopyResourceFiles&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;destinationDirectory=${project.build.directory}&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;param1=${param1}&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;param2=${param2}&lt;/argument&gt;\r\n    \t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n\r\nAnd the hava class is as follows\r\n\r\n    public class CopyResourceFiles {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t * @throws IOException \r\n    \t */\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\t\r\n    \t\tString destionDir = &quot;&quot;;\r\n    \t\tString param1 =&quot;&quot;;\r\n    \t\tString Param2 =&quot;&quot;;\r\n    \t\tfor(String str : args){\r\n    \t\t\t\r\n    \t\t\tif(str != null &amp;&amp; str.contains(&quot;destinationDirectory=&quot;)){\r\n    \t\t\t\tdestionDir = str.substring(str.indexOf(&quot;=&quot;)+1, str.length());\r\n    \t\t\t}\r\n    \t\t\tif(str != null &amp;&amp; str.contains(&quot;param1=&quot;)){\r\n    \t\t\t\tparam1 = str.substring(str.indexOf(&quot;=&quot;)+1, str.length());\r\n    \t\t\t}\r\n    \t\t\tif(str != null &amp;&amp; str.contains(&quot;param2=&quot;)){\r\n    \t\t\t\tParam2 = str.substring(str.indexOf(&quot;=&quot;)+1, str.length());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tdestionDir+=&quot;/kpfile.txt&quot;;\r\n    \t\t\r\n    \t\tList&lt;String&gt; contents= new ArrayList&lt;String&gt;();\r\n    \t\tcontents.add(param1);\r\n    \t\tcontents.add(Param2);\r\n    \t\tFileUtils.writeLines(new File(destionDir), contents);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Sucessfully written&quot;);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Maven exec fails to write results to output directory","body":"<p>You can try passing destination directory explicitly and its worth adding execution phase as well. The maven plugin configuration is as follows.</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath/&gt;\n                        &lt;argument&gt;com.kp.deployment.CopyResourceFiles&lt;/argument&gt;\n                        &lt;argument&gt;destinationDirectory=${project.build.directory}&lt;/argument&gt;\n                        &lt;argument&gt;param1=${param1}&lt;/argument&gt;\n                        &lt;argument&gt;param2=${param2}&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>And the hava class is as follows</p>\n\n<pre><code>public class CopyResourceFiles {\n\n    /**\n     * @param args\n     * @throws IOException \n     */\n    public static void main(String[] args) throws IOException {\n\n\n        String destionDir = \"\";\n        String param1 =\"\";\n        String Param2 =\"\";\n        for(String str : args){\n\n            if(str != null &amp;&amp; str.contains(\"destinationDirectory=\")){\n                destionDir = str.substring(str.indexOf(\"=\")+1, str.length());\n            }\n            if(str != null &amp;&amp; str.contains(\"param1=\")){\n                param1 = str.substring(str.indexOf(\"=\")+1, str.length());\n            }\n            if(str != null &amp;&amp; str.contains(\"param2=\")){\n                Param2 = str.substring(str.indexOf(\"=\")+1, str.length());\n            }\n        }\n        destionDir+=\"/kpfile.txt\";\n\n        List&lt;String&gt; contents= new ArrayList&lt;String&gt;();\n        contents.add(param1);\n        contents.add(Param2);\n        FileUtils.writeLines(new File(destionDir), contents);\n\n        System.out.println(\"Sucessfully written\");\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673302733,"creation_date":1407820017,"question_id":25256511,"body_markdown":"I have the below configuration in pom.xml to bundle all the Maven dependencies in one jar. When I run the `mvn exec` command, it is working fine except it doesn&#39;t write the results to an output directory that I have configured to store the results when my main method is called.\r\n\r\nIf I run the same program from command line and pass the arguments, the output directory has the results, but it doesn&#39;t work from Maven. What am I missing?\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.3.2&lt;/version&gt;\r\n        \t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;java&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;-classpath&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;classpath /&gt;\r\n\t\t                    &lt;argument&gt;com.myapp.test.AppLauncher&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;-a&lt;/argument&gt;\r\n                \t\t\t&lt;argument&gt;${Param1}&lt;/argument&gt;\r\n                \t\t\t&lt;argument&gt;-b&lt;/argument&gt;\r\n                \t\t\t&lt;argument&gt;${Param2}&lt;/argument&gt;\r\n    \t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nHere is the result of the maven command -\r\n\r\n   \r\n\r\n    $mvn exec:exec -DParam1=DefaultMode -DParam2=Test\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building myApp\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.3.2:exec (default-cli) @ myApp ---\r\n    Fetching results from database\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 6.943 s\r\n    [INFO] Finished at: 2014-08-11T21:56:30-07:00\r\n    [INFO] Final Memory: 13M/310M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n","title":"Maven exec fails to write results to output directory","body":"<p>I have the below configuration in pom.xml to bundle all the Maven dependencies in one jar. When I run the <code>mvn exec</code> command, it is working fine except it doesn't write the results to an output directory that I have configured to store the results when my main method is called.</p>\n<p>If I run the same program from command line and pass the arguments, the output directory has the results, but it doesn't work from Maven. What am I missing?</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath /&gt;\n                        &lt;argument&gt;com.myapp.test.AppLauncher&lt;/argument&gt;\n                        &lt;argument&gt;-a&lt;/argument&gt;\n                        &lt;argument&gt;${Param1}&lt;/argument&gt;\n                        &lt;argument&gt;-b&lt;/argument&gt;\n                        &lt;argument&gt;${Param2}&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Here is the result of the maven command -</p>\n<pre><code>$mvn exec:exec -DParam1=DefaultMode -DParam2=Test\n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building myApp\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.3.2:exec (default-cli) @ myApp ---\nFetching results from database\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 6.943 s\n[INFO] Finished at: 2014-08-11T21:56:30-07:00\n[INFO] Final Memory: 13M/310M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2442876,"reputation":7456,"user_id":2137269,"accept_rate":79,"display_name":"Evan Knowles"},"score":0,"creation_date":1426055055,"post_id":28979878,"comment_id":46209940,"body_markdown":"Build up a static map of names to enums and check for it in there then.","body":"Build up a static map of names to enums and check for it in there then."},{"owner":{"account_id":8211,"reputation":23893,"user_id":14663,"accept_rate":88,"display_name":"WW."},"score":2,"creation_date":1426055152,"post_id":28979878,"comment_id":46209973,"body_markdown":"I think you&#39;ll need to provide more of the surrounding code in order for people to help you.  For example, we can&#39;t see the relationship between CountryCodeList and CountryCode.  You could try using the debugger or printing some values in that method to see if that gives you the answer.","body":"I think you&#39;ll need to provide more of the surrounding code in order for people to help you.  For example, we can&#39;t see the relationship between CountryCodeList and CountryCode.  You could try using the debugger or printing some values in that method to see if that gives you the answer."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1426055424,"post_id":28979878,"comment_id":46210064,"body_markdown":"I don&#39;t understand. Why not just `contains(countryCode)`? What is `CountryCodeList`?","body":"I don&#39;t understand. Why not just <code>contains(countryCode)</code>? What is <code>CountryCodeList</code>?"},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1426055451,"post_id":28979878,"comment_id":46210079,"body_markdown":"CountryCodeList has the list of all country codes. Just as the name of the class suggests. I debugged, and that&#39;s when I found this always returns false.","body":"CountryCodeList has the list of all country codes. Just as the name of the class suggests. I debugged, and that&#39;s when I found this always returns false."},{"owner":{"account_id":961410,"reputation":700,"user_id":985693,"accept_rate":83,"display_name":"Jimmy Geers"},"score":0,"creation_date":1426055513,"post_id":28979878,"comment_id":46210109,"body_markdown":"The contains method uses the equals method don&#39;t forget about that.","body":"The contains method uses the equals method don&#39;t forget about that."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1426055590,"post_id":28979878,"comment_id":46210133,"body_markdown":"For where are you getting CountryCodeList?. I think that is the root cause of the problem. Do the types (contents of the list and the enum values) match?","body":"For where are you getting CountryCodeList?. I think that is the root cause of the problem. Do the types (contents of the list and the enum values) match?"},{"owner":{"account_id":5870607,"reputation":535,"user_id":4623055,"display_name":"owenrb"},"score":0,"creation_date":1426055748,"post_id":28979878,"comment_id":46210188,"body_markdown":"Can you post sample values of the list, and the countyCode.name, perhaps it&#39;s a case sensitivity issue.","body":"Can you post sample values of the list, and the countyCode.name, perhaps it&#39;s a case sensitivity issue."},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1426056072,"post_id":28979878,"comment_id":46210323,"body_markdown":"Done. Please let me know if you have any further questions. And nope, its not a case sensitivity issue. My case is similar to the issue posted here - http://stackoverflow.com/questions/20859706/java-arraylist-contain-always-return-false-although-it-contain-the-same-value. Except in my code, I can&#39;t override equals since CountryCodeList is an enum as well.","body":"Done. Please let me know if you have any further questions. And nope, its not a case sensitivity issue. My case is similar to the issue posted here - <a href=\"http://stackoverflow.com/questions/20859706/java-arraylist-contain-always-return-false-although-it-contain-the-same-value\" title=\"java arraylist contain always return false although it contain the same value\">stackoverflow.com/questions/20859706/&hellip;</a>. Except in my code, I can&#39;t override equals since CountryCodeList is an enum as well."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1426056203,"post_id":28979878,"comment_id":46210369,"body_markdown":"Post the source code of both `CountryCodeList` and `CountryCode`.","body":"Post the source code of both <code>CountryCodeList</code> and <code>CountryCode</code>."}],"answers":[{"tags":[],"owner":{"account_id":5870607,"reputation":535,"user_id":4623055,"display_name":"owenrb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426057192,"creation_date":1426057192,"answer_id":28980387,"question_id":28979878,"body_markdown":"If CountryCodeList is enum, you can refactor you code to this\r\n\r\n    private static boolean checkCountryCode(CountryCode countryCode) {\r\n       try{\r\n          return  CountryCodeList.valueOf(countryCode.name()) != null;\r\n       } catch (java.lang.IllegalArgumentException e) {\r\n          return false;\r\n       }\r\n    }","title":"Contains method for Java enums","body":"<p>If CountryCodeList is enum, you can refactor you code to this</p>\n\n<pre><code>private static boolean checkCountryCode(CountryCode countryCode) {\n   try{\n      return  CountryCodeList.valueOf(countryCode.name()) != null;\n   } catch (java.lang.IllegalArgumentException e) {\n      return false;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1673302681,"creation_date":1426054845,"question_id":28979878,"body_markdown":"I have a simple enum that I am iterating through to check if it contains a specific value. Here is my code -\r\n\r\n    private static boolean checkCountryCode(CountryCode countryCode) {\r\n        return Arrays.asList(CountryCodeList.values()).contains(countryCode.name());\r\n    }\r\n\r\nThis always returns false although the country code I am passing in the request is present in the list. In this case, I can&#39;t override equals since its a enum.\r\n\r\nThe countryCode in the method argument has the countryCode I am passing in the request. In my case, it is UA (Ukraine). The CountryCodeList is a list pre-populated with all the country codes in which our application runs. Some of them are on this page - http://countrycode.org/\r\n\r\nAlso, please note both CountryCode, and CountryCodeList are enums.","title":"Contains method for Java enums","body":"<p>I have a simple enum that I am iterating through to check if it contains a specific value. Here is my code -</p>\n<pre><code>private static boolean checkCountryCode(CountryCode countryCode) {\n    return Arrays.asList(CountryCodeList.values()).contains(countryCode.name());\n}\n</code></pre>\n<p>This always returns false although the country code I am passing in the request is present in the list. In this case, I can't override equals since its a enum.</p>\n<p>The countryCode in the method argument has the countryCode I am passing in the request. In my case, it is UA (Ukraine). The CountryCodeList is a list pre-populated with all the country codes in which our application runs. Some of them are on this page - <a href=\"http://countrycode.org/\" rel=\"nofollow noreferrer\">http://countrycode.org/</a></p>\n<p>Also, please note both CountryCode, and CountryCodeList are enums.</p>\n"},{"tags":["java","apache-httpclient-4.x","apache-httpcomponents","apache-commons-httpclient"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1673302977,"post_id":75063534,"comment_id":132464739,"body_markdown":"IIRC you need to do it at the &quot;[type]HTTPMethod&quot; something like: `getMethod.releaseConnection();`","body":"IIRC you need to do it at the &quot;[type]HTTPMethod&quot; something like: <code>getMethod.releaseConnection();</code>"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1673303060,"post_id":75063534,"comment_id":132464751,"body_markdown":"This thread may also be relevant: https://stackoverflow.com/questions/21574478/what-is-the-difference-between-closeablehttpclient-and-httpclient-in-apache-http","body":"This thread may also be relevant: <a href=\"https://stackoverflow.com/questions/21574478/what-is-the-difference-between-closeablehttpclient-and-httpclient-in-apache-http\" title=\"what is the difference between closeablehttpclient and httpclient in apache http\">stackoverflow.com/questions/21574478/&hellip;</a>"}],"owner":{"account_id":6413,"reputation":5233,"user_id":10768,"display_name":"Josh Tynjala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673302587,"creation_date":1673302587,"question_id":75063534,"body_markdown":"I have some code that I need to migrate from commons-httpclient 3.x to httpcomponents-client 4.x (or newer). In some error handling code, there are calls to `setConnectionCloseForced(true)` on subclasses of `HttpMethodBase`, such as `GetMethod` or `PostMethod`. What would be the equivalent in httpcomponents-client 4.x?\r\n\r\n```java\r\nHttpMethodBase httpMethod = /* some value */;\r\ntry {\r\n    // do something\r\n} catch (Exception e) {\r\n    // handle error\r\n} finally {\r\n    // how to convert this?\r\n    httpMethod.setConnectionCloseForced(true);\r\n}\r\n```","title":"How can I migrate call to HttpMethodBase.setConnectionCloseForced(true) from commons-httpclient 3.x to httpcomponents-client 4.x?","body":"<p>I have some code that I need to migrate from commons-httpclient 3.x to httpcomponents-client 4.x (or newer). In some error handling code, there are calls to <code>setConnectionCloseForced(true)</code> on subclasses of <code>HttpMethodBase</code>, such as <code>GetMethod</code> or <code>PostMethod</code>. What would be the equivalent in httpcomponents-client 4.x?</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpMethodBase httpMethod = /* some value */;\ntry {\n    // do something\n} catch (Exception e) {\n    // handle error\n} finally {\n    // how to convert this?\n    httpMethod.setConnectionCloseForced(true);\n}\n</code></pre>\n"},{"tags":["java","security","tls1.2"],"comments":[{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":0,"creation_date":1638020788,"post_id":70094324,"comment_id":123978929,"body_markdown":"I would start to verify your TLS settings using https://www.ssllabs.com/ssltest/","body":"I would start to verify your TLS settings using <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest</a>"},{"owner":{"account_id":23438915,"reputation":11,"user_id":17496668,"display_name":"Fabian Monnay"},"score":0,"creation_date":1638193081,"post_id":70094324,"comment_id":124015251,"body_markdown":"Hi @ToreNestenius, it&#39;s a client application. Do you want settings about the server i&#39;m connecting to? I add information about new investigation in my post.","body":"Hi @ToreNestenius, it&#39;s a client application. Do you want settings about the server i&#39;m connecting to? I add information about new investigation in my post."},{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":1,"creation_date":1638195502,"post_id":70094324,"comment_id":124016340,"body_markdown":"You are correct that newer version of Java has less ciphers to choose from, as they remove ciphers that are no longer considered secure. Older versions of Java might have trouble to connect to modern and more secure versions of TLS , as they might lack support for the more modern ciphers and protocols.","body":"You are correct that newer version of Java has less ciphers to choose from, as they remove ciphers that are no longer considered secure. Older versions of Java might have trouble to connect to modern and more secure versions of TLS , as they might lack support for the more modern ciphers and protocols."},{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":0,"creation_date":1638195508,"post_id":70094324,"comment_id":124016343,"body_markdown":"Does https://stackoverflow.com/questions/34609384/how-to-set-tls1-2-version-in-java help you?","body":"Does <a href=\"https://stackoverflow.com/questions/34609384/how-to-set-tls1-2-version-in-java\" title=\"how to set tls1 2 version in java\">stackoverflow.com/questions/34609384/&hellip;</a> help you?"},{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":0,"creation_date":1638195553,"post_id":70094324,"comment_id":124016362,"body_markdown":"If I look at https://www.ssllabs.com/ssltest/analyze.html?d=ws.test.annuaireamc.fr   then that TLS configuration seems a bit insecure","body":"If I look at <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=ws.test.annuaireamc.fr\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest/analyze.html?d=ws.test.annuaireamc.fr</a>   then that TLS configuration seems a bit insecure"}],"answers":[{"comments":[{"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"score":0,"creation_date":1673297836,"post_id":72775584,"comment_id":132463403,"body_markdown":"it&#39;s true for master branch of OpenJDK 8 https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java#L890","body":"it&#39;s true for master branch of OpenJDK 8 <a href=\"https://github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java#L890\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk8u/blob/master/jdk/src/share/classes/s&zwnj;&#8203;un/&hellip;</a>"}],"tags":[],"owner":{"account_id":9564509,"reputation":11,"user_id":7104222,"display_name":"R H"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656348046,"creation_date":1656348046,"answer_id":72775584,"question_id":70094324,"body_markdown":"I think it&#39;s due to security improvments in SunPKCS11.java, not only JDK11 but also in JDK8, and I think all of them.\r\nThey add a new function : \r\n\r\n    private static boolean isLegacy(CK_MECHANISM_INFO mechInfo)\r\n    \t\tthrows PKCS11Exception {\r\n    \t// assume full support if no mech info available\r\n    \t// For vendor-specific mechanisms, often no mech info is provided\r\n    \tboolean partialSupport = false;\r\n    \r\n    \tif (mechInfo != null) {\r\n    \t\tif ((mechInfo.flags &amp; CKF_DECRYPT) != 0) {\r\n    \t\t\t// non-legacy cipher mechs should support encryption\r\n    \t\t\tpartialSupport |= ((mechInfo.flags &amp; CKF_ENCRYPT) == 0);\r\n    \t\t}\r\n    \t\tif ((mechInfo.flags &amp; CKF_VERIFY) != 0) {\r\n    \t\t\t// non-legacy signature mechs should support signing\r\n    \t\t\tpartialSupport |= ((mechInfo.flags &amp; CKF_SIGN) == 0);\r\n    \t\t}\r\n    \t}\r\n    \treturn partialSupport;\r\n    }\r\n\r\nMechanisms such as &quot;CKM_RSA_PKCS&quot; are disabled since they set the flag &quot;CKF_DECRYPT&quot; without setting &quot;CKF_ENCRYPT&quot;. It&#39;s legacy according to Java, but mandatory according to IAS-ECC specifications.\r\n\r\nI have not found any workaround yet. Have you?","title":"migrating from jdk10 to jdk11 : SSLConnection : CKR_KEY_TYPE_INCONSISTENT","body":"<p>I think it's due to security improvments in SunPKCS11.java, not only JDK11 but also in JDK8, and I think all of them.\nThey add a new function :</p>\n<pre><code>private static boolean isLegacy(CK_MECHANISM_INFO mechInfo)\n        throws PKCS11Exception {\n    // assume full support if no mech info available\n    // For vendor-specific mechanisms, often no mech info is provided\n    boolean partialSupport = false;\n\n    if (mechInfo != null) {\n        if ((mechInfo.flags &amp; CKF_DECRYPT) != 0) {\n            // non-legacy cipher mechs should support encryption\n            partialSupport |= ((mechInfo.flags &amp; CKF_ENCRYPT) == 0);\n        }\n        if ((mechInfo.flags &amp; CKF_VERIFY) != 0) {\n            // non-legacy signature mechs should support signing\n            partialSupport |= ((mechInfo.flags &amp; CKF_SIGN) == 0);\n        }\n    }\n    return partialSupport;\n}\n</code></pre>\n<p>Mechanisms such as &quot;CKM_RSA_PKCS&quot; are disabled since they set the flag &quot;CKF_DECRYPT&quot; without setting &quot;CKF_ENCRYPT&quot;. It's legacy according to Java, but mandatory according to IAS-ECC specifications.</p>\n<p>I have not found any workaround yet. Have you?</p>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673301559,"creation_date":1673301559,"answer_id":75063381,"question_id":70094324,"body_markdown":"On jdk8u322-ga tag, you still have isLegacy() https://github.com/openjdk/jdk8u/blob/jdk8u322-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java\r\n\r\nOn jdk8u312-ga tag, there is no isLegacy() function\r\nhttps://github.com/openjdk/jdk8u/blob/jdk8u312-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java\r\n\r\nSo the last build without this function is \r\nhttps://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/tag/jdk8u312-b07\r\n\r\nNow, it is important to understand why OpenJDK add this new constraint incompatible with IAS-ECC specifications.","title":"migrating from jdk10 to jdk11 : SSLConnection : CKR_KEY_TYPE_INCONSISTENT","body":"<p>On jdk8u322-ga tag, you still have isLegacy() <a href=\"https://github.com/openjdk/jdk8u/blob/jdk8u322-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/blob/jdk8u322-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java</a></p>\n<p>On jdk8u312-ga tag, there is no isLegacy() function\n<a href=\"https://github.com/openjdk/jdk8u/blob/jdk8u312-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/blob/jdk8u312-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java</a></p>\n<p>So the last build without this function is\n<a href=\"https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/tag/jdk8u312-b07\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/tag/jdk8u312-b07</a></p>\n<p>Now, it is important to understand why OpenJDK add this new constraint incompatible with IAS-ECC specifications.</p>\n"}],"owner":{"account_id":23438915,"reputation":11,"user_id":17496668,"display_name":"Fabian Monnay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673301559,"creation_date":1637749186,"question_id":70094324,"body_markdown":"I migrated my client application from openJDK 10 to 11 (JAVA_VERSION=&quot;11.0.12&quot;) but at runtime, during TLS handhshake, i&#39;ve got this exception :\r\n\r\n&gt; javax.net.ssl|ALL|01|main|2021-11-24 10:55:54.848 CET|SignatureScheme.java:592|Ignore unsupported signature algorithm (rsa_pkcs1_sha256) (\r\n&quot;throwable&quot; : {\r\n  java.security.InvalidKeyException: No installed provider supports this key: sun.security.pkcs11.P11Key$P11PrivateKey\r\n  \tat java.base/java.security.Signature$Delegate.chooseProvider(Signature.java:1282)\r\n  \tat java.base/java.security.Signature$Delegate.engineInitSign(Signature.java:1380)\r\n  \tat java.base/java.security.Signature.initSign(Signature.java:682)\r\n  \tat java.base/java.security.Signature$1.initSign(Signature.java:146)\r\n  \tat java.base/sun.security.util.SignatureUtil.initSignWithParam(SignatureUtil.java:171)\r\n  \tat java.base/sun.security.ssl.SignatureScheme.getSigner(SignatureScheme.java:584)\r\n  \tat java.base/sun.security.ssl.SignatureScheme.getSignerOfPreferableAlgorithm(SignatureScheme.java:532)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:590)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java\r\n\r\n....\r\n\r\n&gt; javax.net.ssl|ALL|01|main|2021-11-24 10:55:54.850 CET|SignatureScheme.java:592|Ignore unsupported signature algorithm (rsa_pkcs1_sha384) (\r\n&quot;throwable&quot; : {\r\n  java.security.InvalidKeyException: No installed provider supports this key: sun.security.pkcs11.P11Key$P11PrivateKey\r\n  \tat java.base/java.security.Signature$Delegate.chooseProvider(Signature.java:1282)\r\n  \tat java.base/java.security.Signature$Delegate.engineInitSign(Signature.java:1380)\r\n  \tat java.base/java.security.Signature.initSign(Signature.java:682)\r\n  \tat java.base/java.security.Signature$1.initSign(Signature.java:146)\r\n  \tat java.base/sun.security.util.SignatureUtil.initSignWithParam(SignatureUtil.java:171)\r\n  \tat java.base/sun.security.ssl.SignatureScheme.getSigner(SignatureScheme.java:584)\r\n  \tat java.base/sun.security.ssl.SignatureScheme.getSignerOfPreferableAlgorithm(SignatureScheme.java:532)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:590)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:761)\r\n\r\n....\r\n\r\n&gt; javax.net.ssl|WARNING|01|main|2021-11-24 10:55:55.228 CET|SSLSocketImpl.java:1505|handling exception (\r\n&quot;throwable&quot; : {\r\n  java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_KEY_TYPE_INCONSISTENT\r\n  \tat jdk.crypto.cryptoki/sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:679)\r\n  \tat java.base/java.security.Signature$Delegate.engineSign(Signature.java:1402)\r\n  \tat java.base/java.security.Signature.sign(Signature.java:711)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:609)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:761)\r\n  \tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n  \tat java.base/sun.security.ssl.ServerHelloDone$ServerHelloDoneConsumer.consume(ServerHelloDone.java:182)\r\n\r\nIn debug mode, with -Djavax.net.debug=all argument. I see this difference but i don&#39;t know if it&#39;s interesting. \r\n\r\nJDK11\r\n\r\n    javax.net.ssl|DEBUG|01|main|2021-11-24 10:55:54.687 CET|ClientHello.java:653|Produced ClientHello handshake message (\r\n    &quot;ClientHello&quot;: {\r\n      &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n      &quot;random&quot;              : &quot;74 E9 F0 E2 E6 18 44 A4 BD 5C 8E 5F 11 BB AE 98 15 13 0F F0 E9 93 6D B3 B4 08 EE 6A 9E B9 39 8B&quot;,\r\n      &quot;session id&quot;          : &quot;&quot;,\r\n      &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\r\n      &quot;compression methods&quot; : &quot;00&quot;,\r\n      &quot;extensions&quot;          : [\r\n        &quot;server_name (0)&quot;: {\r\n          type=host_name (0), value=ws.test.annuaireamc.fr\r\n        },\r\n        &quot;status_request (5)&quot;: {\r\n          &quot;certificate status type&quot;: ocsp\r\n          &quot;OCSP status request&quot;: {\r\n            &quot;responder_id&quot;: &lt;empty&gt;\r\n            &quot;request extensions&quot;: {\r\n              &lt;empty&gt;\r\n            }\r\n          }\r\n        },\r\n        &quot;supported_groups (10)&quot;: {\r\n          &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n        },\r\n        &quot;ec_point_formats (11)&quot;: {\r\n          &quot;formats&quot;: [uncompressed]\r\n        },\r\n        &quot;signature_algorithms (13)&quot;: {\r\n          &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n        },\r\n        &quot;signature_algorithms_cert (50)&quot;: {\r\n          &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n        },\r\n        &quot;status_request_v2 (17)&quot;: {\r\n          &quot;cert status request&quot;: {\r\n            &quot;certificate status type&quot;: ocsp_multi\r\n            &quot;OCSP status request&quot;: {\r\n              &quot;responder_id&quot;: &lt;empty&gt;\r\n              &quot;request extensions&quot;: {\r\n                &lt;empty&gt;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        &quot;extended_master_secret (23)&quot;: {\r\n          &lt;empty&gt;\r\n        },\r\n        &quot;supported_versions (43)&quot;: {\r\n          &quot;versions&quot;: [TLSv1.2]\r\n        }\r\n      ]\r\n    }\r\n\r\nJDK10 :\r\n\r\n    *** ClientHello, TLSv1.2\r\n    RandomCookie:  random_bytes = {82 D7 E3 A8 48 D6 9D 36 FF 54 0B 1A 75 C5 58 1E B9 C0 E8 8D E3 B8 53 73 3B C1 65 F4 A1 E4 DD 12}\r\n    Session ID:  {}\r\n    Cipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n    Compression Methods:  { 0 }\r\n    Extension supported_groups, group names: {secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192}\r\n    Extension ec_point_formats, formats: [uncompressed]\r\n    Extension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA224withECDSA, SHA224withRSA, SHA224withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\r\n    Extension extended_master_secret\r\n    Extension server_name, server_name: [type=host_name (0), value=ws.test.annuaireamc.fr]\r\n    Extension status_request_v2\r\n    CertStatusReqItemV2: ocsp_multi, OCSPStatusRequest\r\n        ResponderIds: &lt;EMPTY&gt;\r\n        Extensions: &lt;EMPTY&gt;\r\n    CertStatusReqItemV2: ocsp, OCSPStatusRequest\r\n        ResponderIds: &lt;EMPTY&gt;\r\n        Extensions: &lt;EMPTY&gt;\r\n    Extension status_request: ocsp, OCSPStatusRequest\r\n        ResponderIds: &lt;EMPTY&gt;\r\n        Extensions: &lt;EMPTY&gt;\r\n    ***\r\n\r\nI use a client certificate stored in card.\r\n\r\nI add &quot;SunPKCS11&quot; provider and with the command line Djava.security.debug=sunpkcs11 i have this information with Java11 :\r\n\r\n        Library info:\r\n      cryptokiVersion: 2.20\r\n      manufacturerID: manufacturer                     \r\n      flags: 0\r\n      libraryDescription: CPS3 PKCS#11 MACOSX             \r\n      libraryVersion: 2.07\r\n    All slots: 0\r\n    Slots with tokens: 0\r\n    Slot info for slot 0:\r\n      slotDescription: PSS Reader on CPS                                               \r\n      manufacturerID:                                 \r\n      flags: CKF_TOKEN_PRESENT | CKF_REMOVABLE_DEVICE | CKF_HW_SLOT\r\n      hardwareVersion: 0.00\r\n      firmwareVersion: 0.00\r\n    Token info for token in slot 0:\r\n      label: CPS3v3-2800385098               \r\n      manufacturerID: manufacturer                     \r\n      model: IAS ECC?????????\r\n      serialNumber: 99225468       \r\n      flags: CKF_RNG | CKF_LOGIN_REQUIRED | CKF_USER_PIN_INITIALIZED | CKF_TOKEN_INITIALIZED\r\n      ulMaxSessionCount: CK_EFFECTIVELY_INFINITE\r\n      ulSessionCount: 0\r\n      ulMaxRwSessionCount: CK_EFFECTIVELY_INFINITE\r\n      ulRwSessionCount: 0\r\n      ulMaxPinLen: 4\r\n      ulMinPinLen: 4\r\n      ulTotalPublicMemory: CK_UNAVAILABLE_INFORMATION\r\n      ulFreePublicMemory: CK_UNAVAILABLE_INFORMATION\r\n      ulTotalPrivateMemory: CK_UNAVAILABLE_INFORMATION\r\n      ulFreePrivateMemory: CK_UNAVAILABLE_INFORMATION\r\n      hardwareVersion: 0.00\r\n      firmwareVersion: 0.00\r\n      utcTime: ????????????????\r\n    Mechanism CKM_SHA_1:\r\n      ulMinKeySize: 0\r\n      ulMaxKeySize: 0\r\n      flags: 1024 = CKF_DIGEST\r\n    Mechanism CKM_SHA256:\r\n      ulMinKeySize: 0\r\n      ulMaxKeySize: 0\r\n      flags: 1024 = CKF_DIGEST\r\n    Mechanism CKM_RSA_X_509:\r\n      ulMinKeySize: 512\r\n      ulMaxKeySize: 2048\r\n      flags: 272897 = CKF_HW | CKF_DECRYPT | CKF_SIGN | CKF_VERIFY | CKF_UNWRAP\r\n    DISABLED due to legacy\r\n    Mechanism CKM_RSA_PKCS:\r\n      ulMinKeySize: 512\r\n      ulMaxKeySize: 2048\r\n      flags: 272897 = CKF_HW | CKF_DECRYPT | CKF_SIGN | CKF_VERIFY | CKF_UNWRAP\r\n    DISABLED due to legacy\r\n    Mechanism CKM_SHA1_RSA_PKCS:\r\n      ulMinKeySize: 512\r\n      ulMaxKeySize: 2048\r\n      flags: 10240 = CKF_SIGN | CKF_VERIFY\r\n    Mechanism CKM_SHA256_RSA_PKCS:\r\n      ulMinKeySize: 512\r\n      ulMaxKeySize: 2048\r\n      flags: 10240 = CKF_SIGN | CKF_VERIFY\r\n    DISABLED in configuration\r\n\r\n\r\nSo, if i display the available algorthims, i&#39;ve got less algorthims in java 11 than in java 10.\r\n\r\nIn java 11 :\r\n\r\n    Service Type: MessageDigest Algorithm SHA1\r\n    Service Type: KeyStore Algorithm PKCS11\r\n    Service Type: Signature Algorithm SHA1withRSA\r\n    Service Type: MessageDigest Algorithm SHA-256\r\n    Service Type: SecureRandom Algorithm PKCS11\r\n\r\nIn java 10 :\r\n\r\n    Service Type: Signature Algorithm MD2withRSA\r\n    Service Type: Cipher Algorithm RSA/ECB/NoPadding\r\n    Service Type: Signature Algorithm SHA224withRSA\r\n    Service Type: Signature Algorithm SHA512withRSA\r\n    Service Type: Signature Algorithm SHA1withRSA\r\n    Service Type: KeyFactory Algorithm RSA\r\n    Service Type: Signature Algorithm SHA384withRSA\r\n    Service Type: Signature Algorithm MD5withRSA\r\n    Service Type: Cipher Algorithm RSA/ECB/PKCS1Padding\r\n    Service Type: MessageDigest Algorithm SHA-256\r\n    Service Type: MessageDigest Algorithm SHA1\r\n    Service Type: Signature Algorithm SHA256withRSA\r\n    Service Type: SecureRandom Algorithm PKCS11\r\n    Service Type: KeyStore Algorithm PKCS11 \r\n\r\nDo i need to modify java.security file ? \r\nWhat is the difference between rsa_pkcs1_sha256 and SHA256withRSA ? \r\nIs the problem come from provider and &quot;DISABLED due to legacy&quot;  ?\r\nIs it possible to force &quot;DISABLED due to legacy&quot; algorithm ?","title":"migrating from jdk10 to jdk11 : SSLConnection : CKR_KEY_TYPE_INCONSISTENT","body":"<p>I migrated my client application from openJDK 10 to 11 (JAVA_VERSION=&quot;11.0.12&quot;) but at runtime, during TLS handhshake, i've got this exception :</p>\n<blockquote>\n<p>javax.net.ssl|ALL|01|main|2021-11-24 10:55:54.848 CET|SignatureScheme.java:592|Ignore unsupported signature algorithm (rsa_pkcs1_sha256) (\n&quot;throwable&quot; : {\njava.security.InvalidKeyException: No installed provider supports this key: sun.security.pkcs11.P11Key$P11PrivateKey\nat java.base/java.security.Signature$Delegate.chooseProvider(Signature.java:1282)\nat java.base/java.security.Signature$Delegate.engineInitSign(Signature.java:1380)\nat java.base/java.security.Signature.initSign(Signature.java:682)\nat java.base/java.security.Signature$1.initSign(Signature.java:146)\nat java.base/sun.security.util.SignatureUtil.initSignWithParam(SignatureUtil.java:171)\nat java.base/sun.security.ssl.SignatureScheme.getSigner(SignatureScheme.java:584)\nat java.base/sun.security.ssl.SignatureScheme.getSignerOfPreferableAlgorithm(SignatureScheme.java:532)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.(CertificateVerify.java:590)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java</p>\n</blockquote>\n<p>....</p>\n<blockquote>\n<p>javax.net.ssl|ALL|01|main|2021-11-24 10:55:54.850 CET|SignatureScheme.java:592|Ignore unsupported signature algorithm (rsa_pkcs1_sha384) (\n&quot;throwable&quot; : {\njava.security.InvalidKeyException: No installed provider supports this key: sun.security.pkcs11.P11Key$P11PrivateKey\nat java.base/java.security.Signature$Delegate.chooseProvider(Signature.java:1282)\nat java.base/java.security.Signature$Delegate.engineInitSign(Signature.java:1380)\nat java.base/java.security.Signature.initSign(Signature.java:682)\nat java.base/java.security.Signature$1.initSign(Signature.java:146)\nat java.base/sun.security.util.SignatureUtil.initSignWithParam(SignatureUtil.java:171)\nat java.base/sun.security.ssl.SignatureScheme.getSigner(SignatureScheme.java:584)\nat java.base/sun.security.ssl.SignatureScheme.getSignerOfPreferableAlgorithm(SignatureScheme.java:532)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.(CertificateVerify.java:590)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:761)</p>\n</blockquote>\n<p>....</p>\n<blockquote>\n<p>javax.net.ssl|WARNING|01|main|2021-11-24 10:55:55.228 CET|SSLSocketImpl.java:1505|handling exception (\n&quot;throwable&quot; : {\njava.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_KEY_TYPE_INCONSISTENT\nat jdk.crypto.cryptoki/sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:679)\nat java.base/java.security.Signature$Delegate.engineSign(Signature.java:1402)\nat java.base/java.security.Signature.sign(Signature.java:711)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.(CertificateVerify.java:609)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:761)\nat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\nat java.base/sun.security.ssl.ServerHelloDone$ServerHelloDoneConsumer.consume(ServerHelloDone.java:182)</p>\n</blockquote>\n<p>In debug mode, with -Djavax.net.debug=all argument. I see this difference but i don't know if it's interesting.</p>\n<p>JDK11</p>\n<pre><code>javax.net.ssl|DEBUG|01|main|2021-11-24 10:55:54.687 CET|ClientHello.java:653|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;74 E9 F0 E2 E6 18 44 A4 BD 5C 8E 5F 11 BB AE 98 15 13 0F F0 E9 93 6D B3 B4 08 EE 6A 9E B9 39 8B&quot;,\n  &quot;session id&quot;          : &quot;&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;server_name (0)&quot;: {\n      type=host_name (0), value=ws.test.annuaireamc.fr\n    },\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;signature_algorithms (13)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;signature_algorithms_cert (50)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.2]\n    }\n  ]\n}\n</code></pre>\n<p>JDK10 :</p>\n<pre><code>*** ClientHello, TLSv1.2\nRandomCookie:  random_bytes = {82 D7 E3 A8 48 D6 9D 36 FF 54 0B 1A 75 C5 58 1E B9 C0 E8 8D E3 B8 53 73 3B C1 65 F4 A1 E4 DD 12}\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\nExtension supported_groups, group names: {secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA224withECDSA, SHA224withRSA, SHA224withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\nExtension extended_master_secret\nExtension server_name, server_name: [type=host_name (0), value=ws.test.annuaireamc.fr]\nExtension status_request_v2\nCertStatusReqItemV2: ocsp_multi, OCSPStatusRequest\n    ResponderIds: &lt;EMPTY&gt;\n    Extensions: &lt;EMPTY&gt;\nCertStatusReqItemV2: ocsp, OCSPStatusRequest\n    ResponderIds: &lt;EMPTY&gt;\n    Extensions: &lt;EMPTY&gt;\nExtension status_request: ocsp, OCSPStatusRequest\n    ResponderIds: &lt;EMPTY&gt;\n    Extensions: &lt;EMPTY&gt;\n***\n</code></pre>\n<p>I use a client certificate stored in card.</p>\n<p>I add &quot;SunPKCS11&quot; provider and with the command line Djava.security.debug=sunpkcs11 i have this information with Java11 :</p>\n<pre><code>    Library info:\n  cryptokiVersion: 2.20\n  manufacturerID: manufacturer                     \n  flags: 0\n  libraryDescription: CPS3 PKCS#11 MACOSX             \n  libraryVersion: 2.07\nAll slots: 0\nSlots with tokens: 0\nSlot info for slot 0:\n  slotDescription: PSS Reader on CPS                                               \n  manufacturerID:                                 \n  flags: CKF_TOKEN_PRESENT | CKF_REMOVABLE_DEVICE | CKF_HW_SLOT\n  hardwareVersion: 0.00\n  firmwareVersion: 0.00\nToken info for token in slot 0:\n  label: CPS3v3-2800385098               \n  manufacturerID: manufacturer                     \n  model: IAS ECC?????????\n  serialNumber: 99225468       \n  flags: CKF_RNG | CKF_LOGIN_REQUIRED | CKF_USER_PIN_INITIALIZED | CKF_TOKEN_INITIALIZED\n  ulMaxSessionCount: CK_EFFECTIVELY_INFINITE\n  ulSessionCount: 0\n  ulMaxRwSessionCount: CK_EFFECTIVELY_INFINITE\n  ulRwSessionCount: 0\n  ulMaxPinLen: 4\n  ulMinPinLen: 4\n  ulTotalPublicMemory: CK_UNAVAILABLE_INFORMATION\n  ulFreePublicMemory: CK_UNAVAILABLE_INFORMATION\n  ulTotalPrivateMemory: CK_UNAVAILABLE_INFORMATION\n  ulFreePrivateMemory: CK_UNAVAILABLE_INFORMATION\n  hardwareVersion: 0.00\n  firmwareVersion: 0.00\n  utcTime: ????????????????\nMechanism CKM_SHA_1:\n  ulMinKeySize: 0\n  ulMaxKeySize: 0\n  flags: 1024 = CKF_DIGEST\nMechanism CKM_SHA256:\n  ulMinKeySize: 0\n  ulMaxKeySize: 0\n  flags: 1024 = CKF_DIGEST\nMechanism CKM_RSA_X_509:\n  ulMinKeySize: 512\n  ulMaxKeySize: 2048\n  flags: 272897 = CKF_HW | CKF_DECRYPT | CKF_SIGN | CKF_VERIFY | CKF_UNWRAP\nDISABLED due to legacy\nMechanism CKM_RSA_PKCS:\n  ulMinKeySize: 512\n  ulMaxKeySize: 2048\n  flags: 272897 = CKF_HW | CKF_DECRYPT | CKF_SIGN | CKF_VERIFY | CKF_UNWRAP\nDISABLED due to legacy\nMechanism CKM_SHA1_RSA_PKCS:\n  ulMinKeySize: 512\n  ulMaxKeySize: 2048\n  flags: 10240 = CKF_SIGN | CKF_VERIFY\nMechanism CKM_SHA256_RSA_PKCS:\n  ulMinKeySize: 512\n  ulMaxKeySize: 2048\n  flags: 10240 = CKF_SIGN | CKF_VERIFY\nDISABLED in configuration\n</code></pre>\n<p>So, if i display the available algorthims, i've got less algorthims in java 11 than in java 10.</p>\n<p>In java 11 :</p>\n<pre><code>Service Type: MessageDigest Algorithm SHA1\nService Type: KeyStore Algorithm PKCS11\nService Type: Signature Algorithm SHA1withRSA\nService Type: MessageDigest Algorithm SHA-256\nService Type: SecureRandom Algorithm PKCS11\n</code></pre>\n<p>In java 10 :</p>\n<pre><code>Service Type: Signature Algorithm MD2withRSA\nService Type: Cipher Algorithm RSA/ECB/NoPadding\nService Type: Signature Algorithm SHA224withRSA\nService Type: Signature Algorithm SHA512withRSA\nService Type: Signature Algorithm SHA1withRSA\nService Type: KeyFactory Algorithm RSA\nService Type: Signature Algorithm SHA384withRSA\nService Type: Signature Algorithm MD5withRSA\nService Type: Cipher Algorithm RSA/ECB/PKCS1Padding\nService Type: MessageDigest Algorithm SHA-256\nService Type: MessageDigest Algorithm SHA1\nService Type: Signature Algorithm SHA256withRSA\nService Type: SecureRandom Algorithm PKCS11\nService Type: KeyStore Algorithm PKCS11 \n</code></pre>\n<p>Do i need to modify java.security file ?\nWhat is the difference between rsa_pkcs1_sha256 and SHA256withRSA ?\nIs the problem come from provider and &quot;DISABLED due to legacy&quot;  ?\nIs it possible to force &quot;DISABLED due to legacy&quot; algorithm ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669408867,"post_id":74576741,"comment_id":131642112,"body_markdown":"BAD_REQUEST is not 404, it&#39;s 400 status code.","body":"BAD_REQUEST is not 404, it&#39;s 400 status code."}],"answers":[{"tags":[],"owner":{"account_id":6132871,"reputation":11,"user_id":4782546,"display_name":"Mattias Cederlund"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673301356,"creation_date":1673301356,"answer_id":75063346,"question_id":74576741,"body_markdown":"I ran into this problem too after upgrading.\r\n\r\nFrom my understanding, the security filter chain now runs on all dispatch types. Previously it didn&#39;t run on the error dispatcher. You can revert to the old behavior by calling:\r\n\r\n`http.authorizeHttpRequests().shouldFilterAllDispatcherTypes(false)`\r\n\r\nWhat causes re-filtering when dispatching an error to not make your request authenticated is the use of `OncePerRequestFilter`. Since you already executed the filter on the first dispatch, it will not run again when the error is dispatched. Another workaround is therefore to use a plain `Filter` instead.\r\n\r\n---\r\n\r\nSources:\r\n* https://github.com/spring-projects/spring-boot/issues/31852#issuecomment-1193695450\r\n* https://stackoverflow.com/questions/74971183/spring-security-6-0-authorizationfilter-questionable-default-for-shouldfiltera","title":"HttpStatus for thrown exceptions isnt handled right in Spring Boot 3.0.0","body":"<p>I ran into this problem too after upgrading.</p>\n<p>From my understanding, the security filter chain now runs on all dispatch types. Previously it didn't run on the error dispatcher. You can revert to the old behavior by calling:</p>\n<p><code>http.authorizeHttpRequests().shouldFilterAllDispatcherTypes(false)</code></p>\n<p>What causes re-filtering when dispatching an error to not make your request authenticated is the use of <code>OncePerRequestFilter</code>. Since you already executed the filter on the first dispatch, it will not run again when the error is dispatched. Another workaround is therefore to use a plain <code>Filter</code> instead.</p>\n<hr />\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/31852#issuecomment-1193695450\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/31852#issuecomment-1193695450</a></li>\n<li><a href=\"https://stackoverflow.com/questions/74971183/spring-security-6-0-authorizationfilter-questionable-default-for-shouldfiltera\">Spring security 6.0 AuthorizationFilter - questionable default for shouldFilterAllDispatcherTypes</a></li>\n</ul>\n"}],"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673301356,"creation_date":1669401023,"question_id":74576741,"body_markdown":"I just migrated to SpringBoot 3.0.0, but found out, the application fails to handle HttpStatus right, when exception is thrown. It always gives 403 FORBIDDEN (or other code configured for unauthenticated requests). Seems like the authentication is lost after exception is catched or something.\r\nI made a minimalistic example here:\r\n\r\nhttps://gitlab.com/gobanit-public/stack-overflow/spring-boot-3-http-status-bug\r\n\r\nThere are 4 classes:\r\n\r\n**DemoApplication** - application starter\r\n\r\n**CustomAuthFilter** - custom authentication filter that sets dummy Authentication to AuthManager.\r\n\r\n**Web Config** - web configuration for security. Authentication required for any request.\r\n\r\n**Test Controller** - basic controller with three endpoints - one for success and two for failure\r\n\r\nWhen calling the success endpoint, you get the response. The authentication works fine. When the fail endpoint is called, it throws HttpResponseException with HttpStatus.BAD_REQUEST (400). However, i dont get 400 in response but 403 instead. That does not seem right. The same happens when the second fail endpoint is called, which doesnt throw exception but writes error response directly.\r\n\r\nIs this bug. or am I missing something? I could not find anything related to this in 3.0.0 release notes. It worked fine in 2.7.* versions and even in 3.0.0-RC1, but changed in 3.0.0-RC2 and 3.0.0.\r\n\r\nThanks!\r\n\r\nI tried it without Spring Security - it works ok.\r\n\r\nI tried it with default basic auth, without custom auth filter - it works fine too.\r\n\r\nSo I guess it is somehow related to Spring Security filter.\r\n\r\nI tried different versions of SpringBoot - 2.7.5 (ok), 3.0.0-RC1 (ok), 3.0.0-RC2 (not ok), 3.0.0 (not ok)\r\n","title":"HttpStatus for thrown exceptions isnt handled right in Spring Boot 3.0.0","body":"<p>I just migrated to SpringBoot 3.0.0, but found out, the application fails to handle HttpStatus right, when exception is thrown. It always gives 403 FORBIDDEN (or other code configured for unauthenticated requests). Seems like the authentication is lost after exception is catched or something.\nI made a minimalistic example here:</p>\n<p><a href=\"https://gitlab.com/gobanit-public/stack-overflow/spring-boot-3-http-status-bug\" rel=\"nofollow noreferrer\">https://gitlab.com/gobanit-public/stack-overflow/spring-boot-3-http-status-bug</a></p>\n<p>There are 4 classes:</p>\n<p><strong>DemoApplication</strong> - application starter</p>\n<p><strong>CustomAuthFilter</strong> - custom authentication filter that sets dummy Authentication to AuthManager.</p>\n<p><strong>Web Config</strong> - web configuration for security. Authentication required for any request.</p>\n<p><strong>Test Controller</strong> - basic controller with three endpoints - one for success and two for failure</p>\n<p>When calling the success endpoint, you get the response. The authentication works fine. When the fail endpoint is called, it throws HttpResponseException with HttpStatus.BAD_REQUEST (400). However, i dont get 400 in response but 403 instead. That does not seem right. The same happens when the second fail endpoint is called, which doesnt throw exception but writes error response directly.</p>\n<p>Is this bug. or am I missing something? I could not find anything related to this in 3.0.0 release notes. It worked fine in 2.7.* versions and even in 3.0.0-RC1, but changed in 3.0.0-RC2 and 3.0.0.</p>\n<p>Thanks!</p>\n<p>I tried it without Spring Security - it works ok.</p>\n<p>I tried it with default basic auth, without custom auth filter - it works fine too.</p>\n<p>So I guess it is somehow related to Spring Security filter.</p>\n<p>I tried different versions of SpringBoot - 2.7.5 (ok), 3.0.0-RC1 (ok), 3.0.0-RC2 (not ok), 3.0.0 (not ok)</p>\n"},{"tags":["java","spring","flux"],"answers":[{"comments":[{"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"score":0,"creation_date":1674656247,"post_id":75063313,"comment_id":132761028,"body_markdown":"Yeah, it&#39;s okay but when randomDuration() drop to 0s duration after second iteration then it&#39;ll return same result as in my question","body":"Yeah, it&#39;s okay but when randomDuration() drop to 0s duration after second iteration then it&#39;ll return same result as in my question"}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673301186,"creation_date":1673301186,"answer_id":75063313,"question_id":75058643,"body_markdown":"Your code is quite hard to understand, but basically what you want to achieve - is dynamic interval for delaying your Mono. It is possible, of course.\r\n\r\nI&#39;ll simplify this with the following example:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        final AtomicInteger time = new AtomicInteger(0);\r\n        System.out.println(&quot;START &quot;+ LocalTime.now());\r\n        Flux.interval(Duration.of(5,ChronoUnit.SECONDS))\r\n                .startWith(0L)\r\n                .delayUntil(s -&gt; Mono.just(s).delayElement(randomDuration()))\r\n                .subscribe(s -&gt; test(s,time));\r\n\r\n        Thread.sleep(70000);\r\n    }\r\n\r\n    // generate random Duration in millis between 3000 and 7000 ms\r\n    public static Duration randomDuration() {\r\n        long min = 3000;\r\n        long max = 7000;\r\n        long randomMillis = ThreadLocalRandom.current().nextLong(min, max + 1);\r\n        return Duration.ofMillis(randomMillis);\r\n    }\r\n\r\nWhich will give you output like this: \r\n\r\n    START 01:48:53.160028\r\n    TIME 01:48:59.786793\r\n    TIME 01:49:04.279440\r\n    TIME 01:49:07.771783\r\n    TIME 01:49:13.483046\r\n    TIME 01:49:17.003886\r\n    TIME 01:49:23.819252\r\n    TIME 01:49:29.021108\r\n    TIME 01:49:33.972711\r\n    TIME 01:49:40.832304\r\n    TIME 01:49:44.501199\r\n    TIME 01:49:51.029825\r\n    TIME 01:49:56.869309\r\n\r\nYou can see different intervals here","title":"Dynamic interval in Flux / Mono","body":"<p>Your code is quite hard to understand, but basically what you want to achieve - is dynamic interval for delaying your Mono. It is possible, of course.</p>\n<p>I'll simplify this with the following example:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    final AtomicInteger time = new AtomicInteger(0);\n    System.out.println(&quot;START &quot;+ LocalTime.now());\n    Flux.interval(Duration.of(5,ChronoUnit.SECONDS))\n            .startWith(0L)\n            .delayUntil(s -&gt; Mono.just(s).delayElement(randomDuration()))\n            .subscribe(s -&gt; test(s,time));\n\n    Thread.sleep(70000);\n}\n\n// generate random Duration in millis between 3000 and 7000 ms\npublic static Duration randomDuration() {\n    long min = 3000;\n    long max = 7000;\n    long randomMillis = ThreadLocalRandom.current().nextLong(min, max + 1);\n    return Duration.ofMillis(randomMillis);\n}\n</code></pre>\n<p>Which will give you output like this:</p>\n<pre><code>START 01:48:53.160028\nTIME 01:48:59.786793\nTIME 01:49:04.279440\nTIME 01:49:07.771783\nTIME 01:49:13.483046\nTIME 01:49:17.003886\nTIME 01:49:23.819252\nTIME 01:49:29.021108\nTIME 01:49:33.972711\nTIME 01:49:40.832304\nTIME 01:49:44.501199\nTIME 01:49:51.029825\nTIME 01:49:56.869309\n</code></pre>\n<p>You can see different intervals here</p>\n"}],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673301186,"creation_date":1673274190,"question_id":75058643,"body_markdown":"How to make a dynamic interval? when I put for example an atomic value in the interval it only works with the first value even when I change to a larger value, it works every 5s\r\n\r\nI suggested this https://stackoverflow.com/a/47351359/8851815\r\n```java\r\npublic static void main(String[] args) throws InterruptedException {\r\n        final AtomicInteger time = new AtomicInteger(0);\r\n        System.out.println(&quot;START &quot;+ LocalTime.now());\r\n        Flux.interval(Duration.of(5,ChronoUnit.SECONDS))\r\n                .startWith(0L)\r\n                .delayUntil(s -&gt; Mono.just(s).delayElement(Duration.of(time.get(),ChronoUnit.SECONDS)))\r\n                .subscribe(s -&gt; test(s,time));\r\n        Thread.sleep(70000);\r\n\r\n    }\r\n\r\n    public static void test(long s, AtomicInteger time){\r\n        try{\r\n            if(s &lt;= 1) {\r\n                Thread.sleep(10000);\r\n                time.addAndGet(5);\r\n            } else {\r\n                time.set(0);\r\n            }\r\n            System.out.println(&quot;TIME &quot; +  LocalTime.now());\r\n        } catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nResult: \r\n```\r\nSTART 15:18:55.710771800\r\nTIME 15:19:06.356155800 -&gt;10s\r\nTIME 15:19:21.376629100 -&gt;15s\r\nTIME 15:19:41.385095    -&gt;20s\r\nTIME 15:19:56.400575500 -&gt;5s\r\nTIME 15:19:56.401578800 -&gt;5s\r\nTIME 15:19:56.402576700 -&gt;5s\r\nTIME 15:19:56.402576700 -&gt;5s\r\nTIME 15:19:56.403571400 -&gt;5s\r\nTIME 15:19:56.403571400 -&gt;5s\r\nTIME 15:19:56.404569800 -&gt;5s\r\nTIME 15:19:56.404569800 -&gt;5s\r\nTIME 15:19:56.404569800 -&gt;5s\r\nTIME 15:19:56.404569800 -&gt;5s [how to skip / drop those requests?]\r\nTIME 15:20:01.371023600 -&gt;5s\r\nTIME 15:20:06.360791800 -&gt;5s\r\n```","title":"Dynamic interval in Flux / Mono","body":"<p>How to make a dynamic interval? when I put for example an atomic value in the interval it only works with the first value even when I change to a larger value, it works every 5s</p>\n<p>I suggested this <a href=\"https://stackoverflow.com/a/47351359/8851815\">https://stackoverflow.com/a/47351359/8851815</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n        final AtomicInteger time = new AtomicInteger(0);\n        System.out.println(&quot;START &quot;+ LocalTime.now());\n        Flux.interval(Duration.of(5,ChronoUnit.SECONDS))\n                .startWith(0L)\n                .delayUntil(s -&gt; Mono.just(s).delayElement(Duration.of(time.get(),ChronoUnit.SECONDS)))\n                .subscribe(s -&gt; test(s,time));\n        Thread.sleep(70000);\n\n    }\n\n    public static void test(long s, AtomicInteger time){\n        try{\n            if(s &lt;= 1) {\n                Thread.sleep(10000);\n                time.addAndGet(5);\n            } else {\n                time.set(0);\n            }\n            System.out.println(&quot;TIME &quot; +  LocalTime.now());\n        } catch (Exception e){\n            System.out.println(e);\n        }\n\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>START 15:18:55.710771800\nTIME 15:19:06.356155800 -&gt;10s\nTIME 15:19:21.376629100 -&gt;15s\nTIME 15:19:41.385095    -&gt;20s\nTIME 15:19:56.400575500 -&gt;5s\nTIME 15:19:56.401578800 -&gt;5s\nTIME 15:19:56.402576700 -&gt;5s\nTIME 15:19:56.402576700 -&gt;5s\nTIME 15:19:56.403571400 -&gt;5s\nTIME 15:19:56.403571400 -&gt;5s\nTIME 15:19:56.404569800 -&gt;5s\nTIME 15:19:56.404569800 -&gt;5s\nTIME 15:19:56.404569800 -&gt;5s\nTIME 15:19:56.404569800 -&gt;5s [how to skip / drop those requests?]\nTIME 15:20:01.371023600 -&gt;5s\nTIME 15:20:06.360791800 -&gt;5s\n</code></pre>\n"},{"tags":["java","github","minecraft"],"owner":{"account_id":18337524,"reputation":1,"user_id":19649528,"display_name":"LIUKRAST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673300777,"creation_date":1673300777,"question_id":75063260,"body_markdown":"So im using kohsuke&#39;s library to read files from GitHub and my idea is to list a bunch of jar files in a git folder to then find inside the file &quot;fabric.mod.json&quot; and return a list of all the variables &quot;id&quot; from all the jsons in the folder. Here is my code:\r\n\r\n\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        GitHub github = GitHub.connectAnonymously();\r\n        GHRepository repository = github.getRepository(&quot;LIUKRAST/PersonalMods&quot;);\r\n        List&lt;GHContent&gt; contents = repository.getDirectoryContent(&quot;moddedserver/mods&quot;, &quot;main&quot;);\r\n        for (GHContent content : contents) {\r\n            System.out.println(content.getName());\r\n            if (content.getName().endsWith(&quot;.jar&quot;)) {\r\n                System.out.println(content.getEncoding());\r\n                InputStream is = content.read();\r\n                ZipInputStream zis = new ZipInputStream(is);\r\n                ZipEntry entry;\r\n                while ((entry = zis.getNextEntry()) != null) {\r\n                    String name = entry.getName();\r\n                    if (name.equals(&quot;fabric.mod.json&quot;)) {\r\n                        String json = readEntryAsString(zis);\r\n                        JSONObject obj = new JSONObject(json);\r\n                        String modId = obj.getString(&quot;id&quot;);\r\n                        System.out.println(&quot;It is a mod! MODID:&quot; + modId);\r\n                        break;\r\n                    }\r\n                }\r\n                is.close();\r\n                zis.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public static String readEntryAsString(ZipInputStream zis) throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(zis));\r\n        StringBuilder sb = new StringBuilder();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            sb.append(line);\r\n        }\r\n        return sb.toString();\r\n    }\r\n```\r\n\r\nIt works fine with some files, but other jar files return this error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: Unrecognized encoding: none\r\n\tat org.kohsuke.github.GHContent.read(GHContent.java:198)\r\n\tat Main.main(Main.java:23)\r\n```\r\n\r\nIt means that the encoding is null, but how is that possible? And how can i change the jar encoding?\r\n\r\n\r\n\r\nI expected to see a list of all the ids, without errors","title":"JAVA: Get jar from github and parse as zip goes wrong with encoding","body":"<p>So im using kohsuke's library to read files from GitHub and my idea is to list a bunch of jar files in a git folder to then find inside the file &quot;fabric.mod.json&quot; and return a list of all the variables &quot;id&quot; from all the jsons in the folder. Here is my code:</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        GitHub github = GitHub.connectAnonymously();\n        GHRepository repository = github.getRepository(&quot;LIUKRAST/PersonalMods&quot;);\n        List&lt;GHContent&gt; contents = repository.getDirectoryContent(&quot;moddedserver/mods&quot;, &quot;main&quot;);\n        for (GHContent content : contents) {\n            System.out.println(content.getName());\n            if (content.getName().endsWith(&quot;.jar&quot;)) {\n                System.out.println(content.getEncoding());\n                InputStream is = content.read();\n                ZipInputStream zis = new ZipInputStream(is);\n                ZipEntry entry;\n                while ((entry = zis.getNextEntry()) != null) {\n                    String name = entry.getName();\n                    if (name.equals(&quot;fabric.mod.json&quot;)) {\n                        String json = readEntryAsString(zis);\n                        JSONObject obj = new JSONObject(json);\n                        String modId = obj.getString(&quot;id&quot;);\n                        System.out.println(&quot;It is a mod! MODID:&quot; + modId);\n                        break;\n                    }\n                }\n                is.close();\n                zis.close();\n            }\n        }\n    }\n\n    public static String readEntryAsString(ZipInputStream zis) throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(zis));\n        StringBuilder sb = new StringBuilder();\n        String line;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line);\n        }\n        return sb.toString();\n    }\n</code></pre>\n<p>It works fine with some files, but other jar files return this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Unrecognized encoding: none\n    at org.kohsuke.github.GHContent.read(GHContent.java:198)\n    at Main.main(Main.java:23)\n</code></pre>\n<p>It means that the encoding is null, but how is that possible? And how can i change the jar encoding?</p>\n<p>I expected to see a list of all the ids, without errors</p>\n"},{"tags":["java","swagger","openapi","swagger-2.0","openapi-generator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1672938613,"post_id":75014454,"comment_id":132390943,"body_markdown":"which generator are you using?","body":"which generator are you using?"},{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":0,"creation_date":1672950837,"post_id":75014454,"comment_id":132394751,"body_markdown":"openapitools.generator,  &#39;io.swagger.core.v3:swagger-annotations:2.2.0&#39; //\ngenerated swagger api and model\nand  &#39;org.openapitools:jackson-databind-nullable:0.2.2&#39; generate swagger model.","body":"openapitools.generator,  &#39;io.swagger.core.v3:swagger-annotations:2.2.0&#39; // generated swagger api and model and  &#39;org.openapitools:jackson-databind-nullable:0.2.2&#39; generate swagger model."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1672951202,"post_id":75014454,"comment_id":132394871,"body_markdown":"no, `generatorName = ` what?  `java`? `spring`? There are a [lot of generators](https://openapi-generator.tech/docs/generators/scala-play-server) in the `openapi generator`","body":"no, <code>generatorName = </code> what?  <code>java</code>? <code>spring</code>? There are a <a href=\"https://openapi-generator.tech/docs/generators/scala-play-server\" rel=\"nofollow noreferrer\">lot of generators</a> in the <code>openapi generator</code>"},{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":0,"creation_date":1673280049,"post_id":75014454,"comment_id":132457883,"body_markdown":"sorry for the delay, its generatorName = &quot;spring&quot; @tbatch","body":"sorry for the delay, its generatorName = &quot;spring&quot; @tbatch"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673300354,"creation_date":1673300354,"answer_id":75063201,"question_id":75014454,"body_markdown":"By Default, when a field fails validation, Spring will throw a `MethodArgumentNotValidException`.  This is managed internally by Springs `spring-boot-starter-validation`. You can override this exception handling using `@RestControllerAdvice` or `@ControllerAdvice`.\r\n\r\nFirst, create a basic model for your response.  Here is an extremely simple one.\r\n```java\r\n@Setter\r\n@Getter\r\npublic class RestException {\r\n  String code;\r\n  String message;\r\n}\r\n```\r\n\r\nThen, create your controller advice class.\r\n```\r\n@RestControllerAdvice\r\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n  @Override\r\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n    RestException exception = new RestException();\r\n    exception.setCode(HttpStatus.BAD_REQUEST.toString());\r\n    var message = Optional.ofNullable(ex).map(MethodArgumentNotValidException::getBindingResult).map(BindingResult::getFieldError).orElse(null);\r\n\r\n    exception.setMessage(Objects.isNull(message) ? &quot;unidentified error&quot; : message.getField() + &quot; &quot; + message.getDefaultMessage());\r\n\r\n    return new ResponseEntity&lt;&gt;(exception, HttpStatus.BAD_REQUEST);\r\n  }\r\n}\r\n```\r\n\r\nthis very simple example will return a response of\r\n```\r\n{\r\n  &quot;code&quot;: &quot;400 BAD_REQUEST&quot;,\r\n  &quot;message&quot;: &quot;amount must be greater than or equal to 0&quot;\r\n}\r\n```\r\n\r\n### Note\r\n\r\nYou are free to set the code returned to the user as whatever you want (aka, exception.setCode(&quot;99999 MY_STATUS_CODE&quot;).  However, this will have no meaning to the user, as it won&#39;t match the headers sent by the controller as part of the `ResponseEntity`.  I recommend sticking with defined HttpStatus types as the code you display back to your users.\r\n\r\nAlso, unless you are specifically trying to get a `BigDecimal` as your type, setting the format of the number to `float` or `double` will result in the expected dataType.  Otherwise, declaring `big-decimal` isn&#39;t necessary, since that is the default for a `number` with no format defined.\r\n\r\nLikewise, the defaults for `exclusiveMinimum` and `exclusiveMaximum` is false by default, so there is no need to include them in your schema.\r\n\r\nFinally, I recommend adjusting your schema to include to response description.  Something along the lines of this\r\n```yaml\r\nresponses:\r\n  &quot;200&quot;:\r\n    description: OK\r\n  &quot;5XX&quot;:\r\n    description: Unknown error has occurred\r\n  &quot;400&quot;:\r\n    description: A required parameter is missing or an invalid datatype or value was provided for property.  \r\n      Check the error message to check the invalid information, adjust the provided schema, and try again.\r\n```\r\n\r\nThat should cover all of your bases.  Feel free to expand the `RestException` and `RestExceptionHandler` classes.  As I said, these are basic examples.  You can make them much more robust (i.e. multiple returns based upon the field or error message).","title":"how to get custom error code through swagger annotation","body":"<p>By Default, when a field fails validation, Spring will throw a <code>MethodArgumentNotValidException</code>.  This is managed internally by Springs <code>spring-boot-starter-validation</code>. You can override this exception handling using <code>@RestControllerAdvice</code> or <code>@ControllerAdvice</code>.</p>\n<p>First, create a basic model for your response.  Here is an extremely simple one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\npublic class RestException {\n  String code;\n  String message;\n}\n</code></pre>\n<p>Then, create your controller advice class.</p>\n<pre><code>@RestControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n    RestException exception = new RestException();\n    exception.setCode(HttpStatus.BAD_REQUEST.toString());\n    var message = Optional.ofNullable(ex).map(MethodArgumentNotValidException::getBindingResult).map(BindingResult::getFieldError).orElse(null);\n\n    exception.setMessage(Objects.isNull(message) ? &quot;unidentified error&quot; : message.getField() + &quot; &quot; + message.getDefaultMessage());\n\n    return new ResponseEntity&lt;&gt;(exception, HttpStatus.BAD_REQUEST);\n  }\n}\n</code></pre>\n<p>this very simple example will return a response of</p>\n<pre><code>{\n  &quot;code&quot;: &quot;400 BAD_REQUEST&quot;,\n  &quot;message&quot;: &quot;amount must be greater than or equal to 0&quot;\n}\n</code></pre>\n<h3>Note</h3>\n<p>You are free to set the code returned to the user as whatever you want (aka, exception.setCode(&quot;99999 MY_STATUS_CODE&quot;).  However, this will have no meaning to the user, as it won't match the headers sent by the controller as part of the <code>ResponseEntity</code>.  I recommend sticking with defined HttpStatus types as the code you display back to your users.</p>\n<p>Also, unless you are specifically trying to get a <code>BigDecimal</code> as your type, setting the format of the number to <code>float</code> or <code>double</code> will result in the expected dataType.  Otherwise, declaring <code>big-decimal</code> isn't necessary, since that is the default for a <code>number</code> with no format defined.</p>\n<p>Likewise, the defaults for <code>exclusiveMinimum</code> and <code>exclusiveMaximum</code> is false by default, so there is no need to include them in your schema.</p>\n<p>Finally, I recommend adjusting your schema to include to response description.  Something along the lines of this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>responses:\n  &quot;200&quot;:\n    description: OK\n  &quot;5XX&quot;:\n    description: Unknown error has occurred\n  &quot;400&quot;:\n    description: A required parameter is missing or an invalid datatype or value was provided for property.  \n      Check the error message to check the invalid information, adjust the provided schema, and try again.\n</code></pre>\n<p>That should cover all of your bases.  Feel free to expand the <code>RestException</code> and <code>RestExceptionHandler</code> classes.  As I said, these are basic examples.  You can make them much more robust (i.e. multiple returns based upon the field or error message).</p>\n"}],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1289,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673300354,"creation_date":1672899186,"question_id":75014454,"body_markdown":"    *`I have below schema definition to represent commission amount in my openapi contract.`*\r\n    \r\n    \r\n    &quot;properties&quot;: {\r\n            &quot;Amount&quot;: {\r\n              &quot;type&quot;: &quot;number&quot;,\r\n              &quot;description&quot;: &quot;The amount of tnx&quot;,\r\n              &quot;pattern&quot; : &quot;^-?[0-9]*(\\\\.([0-9]{1,2}))?$&quot;,\r\n              &quot;format&quot;: &quot;big-decimal&quot;,\r\n              &quot;minimum&quot;: 0.01,\r\n              &quot;maximum&quot;: 49999.99,\r\n              &quot;exclusiveMinimum&quot;: false,\r\n              &quot;exclusiveMaximum&quot;: false,\r\n              &quot;example&quot; : &quot;9999.99&quot;\r\n            },\r\n\r\n\r\n**generated code:**\r\n\r\n    @NotNull @Valid @DecimalMin(&quot;0.01&quot;) @DecimalMax(&quot;49999.99&quot;) \r\n      @Schema(name = &quot;amount&quot;, example = &quot;9999.99&quot;, description = &quot;The amount of tnx&quot;, required = true)\r\n      public BigDecimal getAmount() {\r\n        return amount;\r\n      }\r\n    \r\n *when i gave above 50000 or below 0.01 its given the right validation message through post man*\r\n    \r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;DecimalMax&quot;,\r\n                &quot;message&quot;: &quot;must be less than or equal to 49999.99&quot;,\r\n                &quot;field&quot;: &quot;Amount&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\n\r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;DecimalMin&quot;,\r\n                &quot;message&quot;: &quot;must be greater than or equal to 0.01&quot;,\r\n                &quot;field&quot;: &quot;Amount&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\n    but i want override the code with some some number to represent the error code like 100,101 etc\r\n    \r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;100&quot;,\r\n                &quot;message&quot;: &quot;must be less than or equal to 49999.99&quot;,\r\n                &quot;field&quot;: &quot;Amount&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;101&quot;,\r\n                &quot;message&quot;: &quot;must be greater than or equal to 0.01&quot;,\r\n                &quot;field&quot;: &quot;Amount&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\n    can i specify any annotation on swagger to achieve this","title":"how to get custom error code through swagger annotation","body":"<pre><code>*`I have below schema definition to represent commission amount in my openapi contract.`*\n\n\n&quot;properties&quot;: {\n        &quot;Amount&quot;: {\n          &quot;type&quot;: &quot;number&quot;,\n          &quot;description&quot;: &quot;The amount of tnx&quot;,\n          &quot;pattern&quot; : &quot;^-?[0-9]*(\\\\.([0-9]{1,2}))?$&quot;,\n          &quot;format&quot;: &quot;big-decimal&quot;,\n          &quot;minimum&quot;: 0.01,\n          &quot;maximum&quot;: 49999.99,\n          &quot;exclusiveMinimum&quot;: false,\n          &quot;exclusiveMaximum&quot;: false,\n          &quot;example&quot; : &quot;9999.99&quot;\n        },\n</code></pre>\n<p><strong>generated code:</strong></p>\n<pre><code>@NotNull @Valid @DecimalMin(&quot;0.01&quot;) @DecimalMax(&quot;49999.99&quot;) \n  @Schema(name = &quot;amount&quot;, example = &quot;9999.99&quot;, description = &quot;The amount of tnx&quot;, required = true)\n  public BigDecimal getAmount() {\n    return amount;\n  }\n</code></pre>\n<p><em>when i gave above 50000 or below 0.01 its given the right validation message through post man</em></p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;DecimalMax&quot;,\n            &quot;message&quot;: &quot;must be less than or equal to 49999.99&quot;,\n            &quot;field&quot;: &quot;Amount&quot;\n        }\n    ]\n}\n\n\n{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;DecimalMin&quot;,\n            &quot;message&quot;: &quot;must be greater than or equal to 0.01&quot;,\n            &quot;field&quot;: &quot;Amount&quot;\n        }\n    ]\n}\n\nbut i want override the code with some some number to represent the error code like 100,101 etc\n\n{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;100&quot;,\n            &quot;message&quot;: &quot;must be less than or equal to 49999.99&quot;,\n            &quot;field&quot;: &quot;Amount&quot;\n        }\n    ]\n}\n\n{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;101&quot;,\n            &quot;message&quot;: &quot;must be greater than or equal to 0.01&quot;,\n            &quot;field&quot;: &quot;Amount&quot;\n        }\n    ]\n}\n\ncan i specify any annotation on swagger to achieve this\n</code></pre>\n"},{"tags":["java","lombok","downcast"],"comments":[{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1672223017,"post_id":74938823,"comment_id":132244640,"body_markdown":"Do you have lombok plugin for intellij idea installed and enabled?","body":"Do you have lombok plugin for intellij idea installed and enabled?"}],"answers":[{"tags":[],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672222862,"creation_date":1672222862,"answer_id":74939007,"question_id":74938823,"body_markdown":"Try `((ExtraPhraseEntity) phraseEntity).setPhrequency(frequency);`","title":"Lombok&#39;s setter can&#39;t be called","body":"<p>Try <code>((ExtraPhraseEntity) phraseEntity).setPhrequency(frequency);</code></p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939007,"answer_count":1,"score":0,"last_activity_date":1673299532,"creation_date":1672221749,"question_id":74938823,"body_markdown":"    package com.example.marketing.semantics.entities;\r\n    \r\n    import com.example.marketing.general.entities.BaseEntity;\r\n    import com.example.marketing.general.interfaces.Phraseable;\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Table;\r\n    import jakarta.persistence.UniqueConstraint;\r\n    import jakarta.validation.constraints.NotEmpty;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.*;\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Table(name = &quot;extra_phrases&quot;,\r\n            uniqueConstraints = {@UniqueConstraint(name = &quot;unique_extra_phrase&quot;,\r\n                    columnNames = {&quot;phrase&quot;})})\r\n    public class ExtraPhraseEntity extends BaseEntity implements Phraseable {\r\n        @NotNull\r\n        @NotEmpty\r\n        @Column(nullable = false,\r\n                columnDefinition = &quot;varchar(1000) default &#39;&#39;&quot;)\r\n        private String phrase;\r\n    \r\n        @NotNull\r\n        @Column(nullable = false,\r\n                columnDefinition = &quot;INTEGER DEFAULT 0&quot;)\r\n        Integer frequency;\r\n    }\r\n\r\n\r\n\r\n\r\nHow I use it:\r\n\r\n    (ExtraPhraseEntity) phraseEntity.setPhrequency(frequency);\r\n\r\nResult: my IDE signals: **Cannot resolve method &#39;setPhrequency&#39; in &#39;Phraseable&#39;.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI cast type because if was Phraseable. So, I hoped that Lombok will help me with this setter method. But it doesn&#39;t.\r\n\r\nWhy does it not help me, and how can I cope with this problem?\r\n\r\n  [1]: https://i.stack.imgur.com/JFu8r.png","title":"Lombok&#39;s setter can&#39;t be called","body":"<pre><code>package com.example.marketing.semantics.entities;\n\nimport com.example.marketing.general.entities.BaseEntity;\nimport com.example.marketing.general.interfaces.Phraseable;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.UniqueConstraint;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.*;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Table(name = &quot;extra_phrases&quot;,\n        uniqueConstraints = {@UniqueConstraint(name = &quot;unique_extra_phrase&quot;,\n                columnNames = {&quot;phrase&quot;})})\npublic class ExtraPhraseEntity extends BaseEntity implements Phraseable {\n    @NotNull\n    @NotEmpty\n    @Column(nullable = false,\n            columnDefinition = &quot;varchar(1000) default ''&quot;)\n    private String phrase;\n\n    @NotNull\n    @Column(nullable = false,\n            columnDefinition = &quot;INTEGER DEFAULT 0&quot;)\n    Integer frequency;\n}\n</code></pre>\n<p>How I use it:</p>\n<pre><code>(ExtraPhraseEntity) phraseEntity.setPhrequency(frequency);\n</code></pre>\n<p>Result: my IDE signals: <strong>Cannot resolve method 'setPhrequency' in 'Phraseable'.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/JFu8r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFu8r.png\" alt=\"enter image description here\" /></a></p>\n<p>I cast type because if was Phraseable. So, I hoped that Lombok will help me with this setter method. But it doesn't.</p>\n<p>Why does it not help me, and how can I cope with this problem?</p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673371687,"post_id":75063078,"comment_id":132481980,"body_markdown":"Possible duplicate: [SQL Server Query Notifications in Java](https://stackoverflow.com/questions/23659038/sql-server-query-notifications-in-java)","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/23659038/sql-server-query-notifications-in-java\">SQL Server Query Notifications in Java</a>"}],"owner":{"account_id":1632689,"reputation":304,"user_id":1506934,"accept_rate":40,"display_name":"wlaem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673299474,"creation_date":1673299474,"question_id":75063078,"body_markdown":"Does anyone know of a way to listen to SQL Server change events via Java?  I found this link for SQL server query notifications, but it only seems to apply to .NET, and I need to do this in Java: https://learn.microsoft.com/en-us/dotnet/framework/data/adonet/sql/query-notifications-in-sql-server","title":"SQL Server DB event listener for java app","body":"<p>Does anyone know of a way to listen to SQL Server change events via Java?  I found this link for SQL server query notifications, but it only seems to apply to .NET, and I need to do this in Java: <a href=\"https://learn.microsoft.com/en-us/dotnet/framework/data/adonet/sql/query-notifications-in-sql-server\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/dotnet/framework/data/adonet/sql/query-notifications-in-sql-server</a></p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673298078,"post_id":75062462,"comment_id":132463471,"body_markdown":"Try to permit access to `/error`. Then you should see the real error.","body":"Try to permit access to <code>&#47;error</code>. Then you should see the real error."}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673297182,"creation_date":1673295220,"question_id":75062462,"body_markdown":"I have a customer JWT filter and when I try to make a request to APIs that aren&#39;t excluded from security I&#39;m always getting 403 back. I&#39;m sure that the token I&#39;m sending is valid.\r\nI assume there is some conflict in configuration since it says that there are 2 mappings for /error\r\n\r\nLogs:\r\n\r\n```\r\n2023-01-09T22:07:00.844+02:00  INFO 18940 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-01-09T22:07:00.844+02:00  INFO 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@3928d789\r\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@59824ef6\r\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@5c1b29d0\r\n2023-01-09T22:07:00.845+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\r\n2023-01-09T22:07:00.845+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\r\n2023-01-09T22:07:00.845+02:00 DEBUG 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n2023-01-09T22:07:00.845+02:00  INFO 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-01-09T22:07:00.855+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\r\n2023-01-09T22:07:00.858+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2023-01-09T22:07:00.859+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\r\n2023-01-09T22:07:00.859+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n```\r\nConfig:\r\n``` java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtManager jwtManager;\r\n    private final CustomerCredentialsDao customerCredentialsDao;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .authorizeHttpRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .authenticationProvider(authenticationProvider())\r\n            .addFilterBefore(new JwtAuthFilter(jwtManager, customerCredentialsDao), UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web\r\n                .ignoring()\r\n                .requestMatchers(HttpMethod.POST, &quot;/api/v1/customer&quot;)\r\n                .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth&quot;)\r\n                .requestMatchers(HttpMethod.GET, &quot;/api/v1/customer/verify&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        final DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService());\r\n        authenticationProvider.setPasswordEncoder(encoder());\r\n        return authenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return email -&gt; (CustomerContext) customerCredentialsDao.findCredentialsAndIdByEmail(email);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nAnd I have `SecurityAutoConfiguration.class` excluded. \r\nAny idea whats going wrong here?","title":"Spring Security 2 matching mappings for /error","body":"<p>I have a customer JWT filter and when I try to make a request to APIs that aren't excluded from security I'm always getting 403 back. I'm sure that the token I'm sending is valid.\nI assume there is some conflict in configuration since it says that there are 2 mappings for /error</p>\n<p>Logs:</p>\n<pre><code>2023-01-09T22:07:00.844+02:00  INFO 18940 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-01-09T22:07:00.844+02:00  INFO 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@3928d789\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@59824ef6\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@5c1b29d0\n2023-01-09T22:07:00.845+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\n2023-01-09T22:07:00.845+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\n2023-01-09T22:07:00.845+02:00 DEBUG 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-01-09T22:07:00.845+02:00  INFO 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-01-09T22:07:00.855+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n2023-01-09T22:07:00.858+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-01-09T22:07:00.859+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n2023-01-09T22:07:00.859+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n</code></pre>\n<p>Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtManager jwtManager;\n    private final CustomerCredentialsDao customerCredentialsDao;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .authorizeHttpRequests()\n                .anyRequest().authenticated()\n                .and()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n            .authenticationProvider(authenticationProvider())\n            .addFilterBefore(new JwtAuthFilter(jwtManager, customerCredentialsDao), UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web\n                .ignoring()\n                .requestMatchers(HttpMethod.POST, &quot;/api/v1/customer&quot;)\n                .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth&quot;)\n                .requestMatchers(HttpMethod.GET, &quot;/api/v1/customer/verify&quot;);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        final DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(encoder());\n        return authenticationProvider;\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return email -&gt; (CustomerContext) customerCredentialsDao.findCredentialsAndIdByEmail(email);\n    }\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>And I have <code>SecurityAutoConfiguration.class</code> excluded.\nAny idea whats going wrong here?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1673205945,"post_id":75050649,"comment_id":132441124,"body_markdown":"What do you mean, impossible?  What happens when you try?  Is there some kind of error?  (Although I have a different version of IntelliJ from you, I&#39;ve never had any trouble getting this to work).","body":"What do you mean, impossible?  What happens when you try?  Is there some kind of error?  (Although I have a different version of IntelliJ from you, I&#39;ve never had any trouble getting this to work)."},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673206167,"post_id":75050649,"comment_id":132441161,"body_markdown":"com.codindf:morpion:jar:1.1 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\n\nTry to run Maven import with -U flag (force update snapshots)","body":"com.codindf:morpion:jar:1.1 was not found in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced  Try to run Maven import with -U flag (force update snapshots)"},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673206258,"post_id":75050649,"comment_id":132441176,"body_markdown":"Apparently ItelliJ tell maven to search dependency on maven central, BUT this dependency is on my own repo on [user]/.m2 standrad directory directory","body":"Apparently ItelliJ tell maven to search dependency on maven central, BUT this dependency is on my own repo on [user]/.m2 standrad directory directory"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673206502,"post_id":75050649,"comment_id":132441201,"body_markdown":"Have you got your local repository listed in the Maven settings?  (File | Settings | Build,Execution,Deployment | Build Tools | Maven | Repositories)?  And is it listed above or below Maven Central?","body":"Have you got your local repository listed in the Maven settings?  (File | Settings | Build,Execution,Deployment | Build Tools | Maven | Repositories)?  And is it listed above or below Maven Central?"},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673209725,"post_id":75050649,"comment_id":132441782,"body_markdown":"yes like you can watch below on screenshot","body":"yes like you can watch below on screenshot"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673215315,"post_id":75050649,"comment_id":132442783,"body_markdown":"OK, did you try swapping the entries on the Repositories page over, so that IntelliJ checks the local repository first?","body":"OK, did you try swapping the entries on the Repositories page over, so that IntelliJ checks the local repository first?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673249754,"post_id":75050649,"comment_id":132447284,"body_markdown":"The given dependency simply does not exist in central repository. So your build can&#39;t be successful.  And what does `This file is present on my .m2 directory and have a good structure` mean?","body":"The given dependency simply does not exist in central repository. So your build can&#39;t be successful.  And what does <code>This file is present on my .m2 directory and have a good structure</code> mean?"},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673250860,"post_id":75050649,"comment_id":132447545,"body_markdown":"By default, normal maven process is to check **local repository first** to avoid network tranfert, and then if resources is not found find it to central maven\nYou can see the address of local repository on screen below\nnot all dependencies reside on central maven, dude ;-)","body":"By default, normal maven process is to check <b>local repository first</b> to avoid network tranfert, and then if resources is not found find it to central maven You can see the address of local repository on screen below not all dependencies reside on central maven, dude ;-)"},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673250904,"post_id":75050649,"comment_id":132447558,"body_markdown":"Any other questions ?...","body":"Any other questions ?..."}],"answers":[{"tags":[],"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673296914,"creation_date":1673296914,"answer_id":75062705,"question_id":75050649,"body_markdown":"I aplogize to all pepole try to answer to my post.\r\nI made a mistake in the name of groupId\r\nI wrote : \r\n  \r\n    &lt;groupId&gt;com.codindf&lt;/groupId&gt;\r\n\r\nbut the real name is :\r\n  \r\n\r\n    &lt;groupId&gt;com.codingf&lt;/groupId&gt;\r\n\r\nSorry to All !\r\n","title":"Impossible to import local dependency in IntelliJ Idea","body":"<p>I aplogize to all pepole try to answer to my post.\nI made a mistake in the name of groupId\nI wrote :</p>\n<pre><code>&lt;groupId&gt;com.codindf&lt;/groupId&gt;\n</code></pre>\n<p>but the real name is :</p>\n<pre><code>&lt;groupId&gt;com.codingf&lt;/groupId&gt;\n</code></pre>\n<p>Sorry to All !</p>\n"}],"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673296914,"creation_date":1673205825,"question_id":75050649,"body_markdown":"Example :\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.codindf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;morpion&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis file is present on my .m2 directory and have a good structure\r\n\r\nHave you a solution ? for this really basic problem ...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bxzyl.png\r\n\r\n\r\nThis is my parameters\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n------\r\n------\r\n------\r\n[![enter image description here][4]][4]\r\n\r\n_______\r\n\r\n\r\n  [3]: https://i.stack.imgur.com/mQPR8.png\r\n  [4]: https://i.stack.imgur.com/72fAb.png","title":"Impossible to import local dependency in IntelliJ Idea","body":"<p>Example :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.codindf&lt;/groupId&gt;\n      &lt;artifactId&gt;morpion&lt;/artifactId&gt;\n      &lt;version&gt;1.1&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This file is present on my .m2 directory and have a good structure</p>\n<p>Have you a solution ? for this really basic problem ...</p>\n<p><a href=\"https://i.stack.imgur.com/bxzyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxzyl.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my parameters</p>\n<p><a href=\"https://i.stack.imgur.com/mQPR8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mQPR8.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<hr />\n<hr />\n<p><a href=\"https://i.stack.imgur.com/72fAb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72fAb.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1673289483,"post_id":75061586,"comment_id":132461129,"body_markdown":"Can you extract an interface and have both classes implement the interface? Then you only need to call `getAllMyObjects` once (because the interface defines it).","body":"Can you extract an interface and have both classes implement the interface? Then you only need to call <code>getAllMyObjects</code> once (because the interface defines it)."}],"answers":[{"comments":[{"owner":{"account_id":17392377,"reputation":43,"user_id":12602653,"display_name":"Imker Warze"},"score":0,"creation_date":1673296956,"post_id":75061738,"comment_id":132463154,"body_markdown":"Its not possible cause i use xtext and I cant define interfaces myself... Any other solution possible?","body":"Its not possible cause i use xtext and I cant define interfaces myself... Any other solution possible?"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673296290,"creation_date":1673290242,"answer_id":75061738,"question_id":75061586,"body_markdown":"The general solution for this kind of problem is _interfaces_: define a common interface to be implemented by both classes:\r\n\r\n```\r\ninterface MyObjectsProvider {\r\n  Collection&lt;MyObjects&gt; getAllMyObjects();\r\n}\r\n\r\nclass Class1 implements MyObjectsProvider {\r\n  @Override\r\n  public Collection&lt;MyObjects&gt; getAllMyObjects() {\r\n    return ...\r\n  }\r\n}\r\n\r\nclass Class2 implements MyObjectsProvider {\r\n  @Override\r\n  public Collection&lt;MyObjects&gt; getAllMyObjects() {\r\n    return ...\r\n  }\r\n}\r\n```\r\n\r\nUsage could be as simple as:\r\n\r\n```\r\nMyObjectsProvider variable = anotherVar;\r\nlist.addAll(variable.getAllMyObjects());\r\n```\r\n\r\nor if the type is unknown and cannot be constrained to the interface:\r\n\r\n```\r\nvar variable = anotherVar;\r\nif (variable instanceof MyObjectsProvider) {\r\n     list.addAll(((MyObjectsProvider) variable).getAllMyObjects);\r\n}\r\n```","title":"Casting variable into instance of one of two classes","body":"<p>The general solution for this kind of problem is <em>interfaces</em>: define a common interface to be implemented by both classes:</p>\n<pre><code>interface MyObjectsProvider {\n  Collection&lt;MyObjects&gt; getAllMyObjects();\n}\n\nclass Class1 implements MyObjectsProvider {\n  @Override\n  public Collection&lt;MyObjects&gt; getAllMyObjects() {\n    return ...\n  }\n}\n\nclass Class2 implements MyObjectsProvider {\n  @Override\n  public Collection&lt;MyObjects&gt; getAllMyObjects() {\n    return ...\n  }\n}\n</code></pre>\n<p>Usage could be as simple as:</p>\n<pre><code>MyObjectsProvider variable = anotherVar;\nlist.addAll(variable.getAllMyObjects());\n</code></pre>\n<p>or if the type is unknown and cannot be constrained to the interface:</p>\n<pre><code>var variable = anotherVar;\nif (variable instanceof MyObjectsProvider) {\n     list.addAll(((MyObjectsProvider) variable).getAllMyObjects);\n}\n</code></pre>\n"}],"owner":{"account_id":17392377,"reputation":43,"user_id":12602653,"display_name":"Imker Warze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673296290,"creation_date":1673289239,"question_id":75061586,"body_markdown":"I am trying to cast a variable into one of two classes, so that I can use a method.\r\nWhat I am doing right now is:\r\n\r\n    var list = new ArrayList&lt;MyObjects&gt;();\r\n    var variable = anotherVar;\r\n    if (variable instanceof Class1) {\r\n         list.addAll(((Class1) variable).getAllMyObjects);\r\n    else {\r\n         list.addAll(((Class2) variable).getAllMyObjects);\r\n    }\r\nSo I know exactly that variable can only be an instance of these two Classes. Is there anything possible to make that code more readible? I was thinking of something like:\r\n\r\n    variable = (Class1 | Class2) anotherVar; // would make it alot more readible\r\n\r\nAny Ideas?\r\n\r\n","title":"Casting variable into instance of one of two classes","body":"<p>I am trying to cast a variable into one of two classes, so that I can use a method.\nWhat I am doing right now is:</p>\n<pre><code>var list = new ArrayList&lt;MyObjects&gt;();\nvar variable = anotherVar;\nif (variable instanceof Class1) {\n     list.addAll(((Class1) variable).getAllMyObjects);\nelse {\n     list.addAll(((Class2) variable).getAllMyObjects);\n}\n</code></pre>\n<p>So I know exactly that variable can only be an instance of these two Classes. Is there anything possible to make that code more readible? I was thinking of something like:</p>\n<pre><code>variable = (Class1 | Class2) anotherVar; // would make it alot more readible\n</code></pre>\n<p>Any Ideas?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9480,"page":743,"page_size":100}
