{"items":[{"tags":["java","list","collections","queue","comparable"],"comments":[{"owner":{"display_name":"user6073886"},"score":7,"creation_date":1526470376,"post_id":50369803,"comment_id":87755372,"body_markdown":"How else would you know which entries have **priority** except by comparing them with each other?","body":"How else would you know which entries have <b>priority</b> except by comparing them with each other?"},{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":2,"creation_date":1526470535,"post_id":50369803,"comment_id":87755501,"body_markdown":"*&quot;Why the queue isn&#39;t sorted in this case?&quot;* The list is indeed sorted by the priority. You are just using the wrong way to print them out. Use `while(queue.peek() != null) System.out.println(queue.poll())` to verify this.","body":"<i>&quot;Why the queue isn&#39;t sorted in this case?&quot;</i> The list is indeed sorted by the priority. You are just using the wrong way to print them out. Use <code>while(queue.peek() != null) System.out.println(queue.poll())</code> to verify this."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1526470548,"post_id":50369803,"comment_id":87755509,"body_markdown":"@OHGODSPIDERS: If you implement `Comparable` (as is done here) it should work as well. &quot;Natural order&quot;","body":"@OHGODSPIDERS: If you implement <code>Comparable</code> (as is done here) it should work as well. &quot;Natural order&quot;"},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1526486760,"post_id":50369803,"comment_id":87767232,"body_markdown":"@Ben Why this is a wrong way to ptint it? I have another code with an ArrayList&lt;Employee&gt; and I sort it with Collections.sort(employeeList) and the class Employee implements Comparable, and I override compareTo() method in exactlly the same way... and after that I print them with a for each loop and the list is sorted. But in this case the PriorityQueue isn&#39;t sorted when I print it. And I don&#39;t understand why. Thank you for reply!","body":"@Ben Why this is a wrong way to ptint it? I have another code with an ArrayList&lt;Employee&gt; and I sort it with Collections.sort(employeeList) and the class Employee implements Comparable, and I override compareTo() method in exactlly the same way... and after that I print them with a for each loop and the list is sorted. But in this case the PriorityQueue isn&#39;t sorted when I print it. And I don&#39;t understand why. Thank you for reply!"},{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":0,"creation_date":1526489497,"post_id":50369803,"comment_id":87768624,"body_markdown":"Have a look at the answer by @Thilo which explains it.","body":"Have a look at the answer by @Thilo which explains it."}],"answers":[{"tags":[],"owner":{"account_id":1533902,"reputation":1584,"user_id":1430428,"accept_rate":40,"display_name":"piy26"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526470563,"creation_date":1526470563,"answer_id":50369895,"question_id":50369803,"body_markdown":"The difference between a List and PriorityQueue is that whereas List keeps your element ordered by the insertion, PriorityQueue on other hand keeps your element ordered by the attribute you would like it to in your case (ID). If the elements that you are inserting cannot be compared with each other then a PriorityQueue behavior defaults to that of a list.","title":"Why do I need Comparable for PriorityQueue?","body":"<p>The difference between a List and PriorityQueue is that whereas List keeps your element ordered by the insertion, PriorityQueue on other hand keeps your element ordered by the attribute you would like it to in your case (ID). If the elements that you are inserting cannot be compared with each other then a PriorityQueue behavior defaults to that of a list.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526470635,"creation_date":1526470635,"answer_id":50369925,"question_id":50369803,"body_markdown":"[Javadoc says][1]:\r\n\r\n&gt;  The Iterator provided in method iterator() is **not guaranteed to traverse the elements of the priority queue in any particular order**. If you need ordered traversal, consider using `Arrays.sort(pq.toArray())`.\r\n\r\nAs a result, you cannot just use a `for(Book book: queue)` loop.\r\n\r\nYou could copy into a temporary array as suggested in the Javadoc, or (if you don&#39;t mind destroying the queue in the process) loop over `poll()`.\r\n\r\nI agree that this is very counter-intuitive. They should probably not implement `Iterable` at all...\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html","title":"Why do I need Comparable for PriorityQueue?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">Javadoc says</a>:</p>\n\n<blockquote>\n  <p>The Iterator provided in method iterator() is <strong>not guaranteed to traverse the elements of the priority queue in any particular order</strong>. If you need ordered traversal, consider using <code>Arrays.sort(pq.toArray())</code>.</p>\n</blockquote>\n\n<p>As a result, you cannot just use a <code>for(Book book: queue)</code> loop.</p>\n\n<p>You could copy into a temporary array as suggested in the Javadoc, or (if you don't mind destroying the queue in the process) loop over <code>poll()</code>.</p>\n\n<p>I agree that this is very counter-intuitive. They should probably not implement <code>Iterable</code> at all...</p>\n"},{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526470971,"creation_date":1526470971,"answer_id":50370032,"question_id":50369803,"body_markdown":"A `PriorityQueue` is intended for a specific purpose: to allow you to take the highest &#39;priority&#39; item from the queue irrespective of the order in which it was added. The comparison you supply is used only to determine the &#39;priority&#39;. It&#39;s not an ordered collection in the sense of iterating through in an order. \r\n\r\nYou can test this by removing the items in turn and comparing them. You&#39;ll find that the order in which they are removed is defined by the comparison you defined.","title":"Why do I need Comparable for PriorityQueue?","body":"<p>A <code>PriorityQueue</code> is intended for a specific purpose: to allow you to take the highest 'priority' item from the queue irrespective of the order in which it was added. The comparison you supply is used only to determine the 'priority'. It's not an ordered collection in the sense of iterating through in an order. </p>\n\n<p>You can test this by removing the items in turn and comparing them. You'll find that the order in which they are removed is defined by the comparison you defined.</p>\n"},{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526471013,"creation_date":1526471013,"answer_id":50370045,"question_id":50369803,"body_markdown":"`PriorityQueue`, as [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html) read\r\n\r\n&gt; An unbounded priority queue based on a priority heap. The elements of the priority queue are ordered according to their natural ordering, or by a Comparator provided at queue construction time, depending on which constructor is used. A priority queue does not permit null elements. A priority queue relying on natural ordering also does not permit insertion of non-comparable objects (doing so may result in ClassCastException).\r\n\r\nIt needs a way to compare your element in order to correctly prioritize your elements when you add new element to the queue.\r\n\r\nAnd to print the queue by order, you need to using following suggestion:\r\n&gt; If you need ordered traversal, consider using Arrays.sort(pq.toArray()).\r\n\r\nP/S: I think you just want an implementation of `Queue` interface in java, and suddenly jump to `PriorityQueue`.\r\n\r\nIn that case, `ArrayDeque&lt;&gt;` is best match for your need.\r\n","title":"Why do I need Comparable for PriorityQueue?","body":"<p><code>PriorityQueue</code>, as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">javadoc</a> read</p>\n\n<blockquote>\n  <p>An unbounded priority queue based on a priority heap. The elements of the priority queue are ordered according to their natural ordering, or by a Comparator provided at queue construction time, depending on which constructor is used. A priority queue does not permit null elements. A priority queue relying on natural ordering also does not permit insertion of non-comparable objects (doing so may result in ClassCastException).</p>\n</blockquote>\n\n<p>It needs a way to compare your element in order to correctly prioritize your elements when you add new element to the queue.</p>\n\n<p>And to print the queue by order, you need to using following suggestion:</p>\n\n<blockquote>\n  <p>If you need ordered traversal, consider using Arrays.sort(pq.toArray()).</p>\n</blockquote>\n\n<p>P/S: I think you just want an implementation of <code>Queue</code> interface in java, and suddenly jump to <code>PriorityQueue</code>.</p>\n\n<p>In that case, <code>ArrayDeque&lt;&gt;</code> is best match for your need.</p>\n"},{"tags":[],"owner":{"account_id":17735512,"reputation":1,"user_id":12876974,"display_name":" Sumit Desai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651095264,"creation_date":1651095264,"answer_id":72035543,"question_id":50369803,"body_markdown":"*The output you&#39;re getting is correct, and let me explain to you why!!!*\r\n\r\n**Few points about PriorityQueue:**\r\n1. We can’t create PriorityQueue of Objects that are non-comparable. This means that we can create PriorityQueue for Integers, String, or for other wrapper classes directly as they are comparable by default. However, if we want to create PriorityQueue for custom objects then we must have to implement a Comparable interface for that class to make custom objects comparable, as by default they are not comparable.\r\n2. PriorityQueue will not give us the sorted output. The purpose of PriorityQueue is only to give us either a top element or bottom element based on how we&#39;re giving comparing objects. While other elements of PriorityQueue will have random order.\r\n\r\n*I hope these 2 points answer your question.*","title":"Why do I need Comparable for PriorityQueue?","body":"<p><em>The output you're getting is correct, and let me explain to you why!!!</em></p>\n<p><strong>Few points about PriorityQueue:</strong></p>\n<ol>\n<li>We can’t create PriorityQueue of Objects that are non-comparable. This means that we can create PriorityQueue for Integers, String, or for other wrapper classes directly as they are comparable by default. However, if we want to create PriorityQueue for custom objects then we must have to implement a Comparable interface for that class to make custom objects comparable, as by default they are not comparable.</li>\n<li>PriorityQueue will not give us the sorted output. The purpose of PriorityQueue is only to give us either a top element or bottom element based on how we're giving comparing objects. While other elements of PriorityQueue will have random order.</li>\n</ol>\n<p><em>I hope these 2 points answer your question.</em></p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2477,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1651095264,"creation_date":1526470290,"question_id":50369803,"body_markdown":"I&#39;m learning about Queue Collection and I don&#39;t understand why do I need to implement Comparable interface if I use PriorityQueue? I have used Comparable and Comparator interface in custom sorting for array/list. But why do I need to implement for a PriorityQueue when I don&#39;t want to sort it... \r\n\r\nIn the example below, I see that I can&#39;t add element in a PriorityQueue if I don&#39;t implement Comparable interface. \r\n\r\nAnd the big missunderstanding for me, after I run this code, the list isn&#39;t sorted by id? I ask this question because I see that compareTo() method is overrided, and I use this method when I want to sort a list. \r\n\r\nI remember that I have used exaclty this code when I&#39;ve done a custom sorting for a list. And the list was sorted by id. Why the queue isn&#39;t sorted in this case?\r\n\r\nSorry for my english grammar. Any feedback will be apreciated!\r\n\r\n    import java.util.PriorityQueue;\r\n    import java.util.Queue;\r\n    \r\n        public class QueueExample {\r\n        \t\r\n        \tpublic static void main(String[] args) { \r\n        \t\t\r\n        \t    Queue&lt;Book&gt; queue = new PriorityQueue&lt;&gt;();\r\n        \t    \r\n        \t    //Creating Books  \r\n        \t    Book b1=new Book(121,&quot;Let us C&quot;,&quot;Yashwant Kanetkar&quot;,&quot;BPB&quot;,8);  \r\n        \t    Book b2=new Book(233,&quot;Operating System&quot;,&quot;Galvin&quot;,&quot;Wiley&quot;,6);  \r\n        \t    Book b3=new Book(101,&quot;Data Communications &amp; Networking&quot;,&quot;Forouzan&quot;,&quot;Mc Graw Hill&quot;,4); \r\n        \t    Book b4=new Book(319,&quot;Learn Java&quot;,&quot;Yanis Orhan&quot;,&quot;HEX&quot;,3);  \r\n        \t    Book b5=new Book(191,&quot;Linux&quot;,&quot;Hadgy&quot;,&quot;Haman&quot;,7);  \r\n        \t    Book b6=new Book(287,&quot;Python Programming&quot;,&quot;Tarzan&quot;,&quot;GEN&quot;,5); \r\n        \t    \r\n        \t    //Adding Books to the queue  \r\n        \t    queue.add(b1);  \r\n        \t    queue.add(b2);  \r\n        \t    queue.add(b3);  \r\n        \t    queue.add(b4);  \r\n        \t    queue.add(b5);  \r\n        \t    queue.add(b6); \r\n        \t    \r\n        \t    System.out.println(&quot;Traversing the queue elements:&quot;);  \r\n        \t    \r\n        \t    //Traversing queue elements  \r\n        \t    for(Book b : queue) {  \r\n        \t    \t\r\n        \t    \tSystem.out.println(b.id+&quot; &quot;+b.name+&quot; &quot;+b.author+&quot; &quot;+b.publisher+&quot; &quot;+b.quantity);  \r\n        \t    }  \r\n        \t    \r\n        \t    queue.remove();  \r\n        \t    System.out.println(&quot;After removing one book record:&quot;);  \r\n        \t    for(Book b : queue) { \r\n        \t    \t\r\n        \t        System.out.println(b.id + &quot; &quot; + b.name + &quot; &quot; + b.author + &quot; &quot; + b.publisher + &quot; &quot; + b.quantity);  \r\n        \t    }  \r\n        \t}  \r\n        }\r\n\r\nBook\r\n\r\n    public class Book implements Comparable&lt;Book&gt; {\r\n    \t\r\n    \tint id;  \r\n    \tString name,author,publisher;  \r\n    \tint quantity;  \r\n    \t\r\n    \tpublic Book(int id, String name, String author, String publisher, int quantity) {\r\n    \t\t\r\n    \t    this.id = id;  \r\n    \t    this.name = name;  \r\n    \t    this.author = author;  \r\n    \t    this.publisher = publisher;  \r\n    \t    this.quantity = quantity;  \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int compareTo(Book b) {\r\n    \t\t\r\n    \t    if(id &gt; b.id) {  \r\n    \t    \t\r\n    \t        return 1;  \r\n    \t    } else if (id &lt; b.id) {  \r\n    \t    \t\r\n    \t        return -1;  \r\n    \t    } else {  \r\n    \t    \t\r\n    \t    \treturn 0;  \r\n    \t    }\r\n    \t}    \r\n    }\r\n\r\nI see the head is the element with the lowest id, but after that there is no order. Why the queue isn&#39;t sorted by id?\r\n\r\n    Traversing the queue elements:\r\n    101 Data Communications &amp; Networking Forouzan Mc Graw Hill 4\r\n    191 Linux Hadgy Haman 7\r\n    121 Let us C Yashwant Kanetkar BPB 8\r\n    319 Learn Java Yanis Orhan HEX 3\r\n    233 Operating System Galvin Wiley 6\r\n    287 Python Programming Tarzan GEN 5\r\n    After removing one book record:\r\n    121 Let us C Yashwant Kanetkar BPB 8\r\n    191 Linux Hadgy Haman 7\r\n    287 Python Programming Tarzan GEN 5\r\n    319 Learn Java Yanis Orhan HEX 3\r\n    233 Operating System Galvin Wiley 6\r\n\r\n**UPDATE**\r\n\r\nIf I create an ArrayList and I sort it with the same compareTo() method and I print it with the same for-each loop, the list is sorted and it is printed in this order. \r\n\r\nThe code for an ArrayList:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    public class BookExample {\r\n    \t\t\t\r\n    \tpublic static void main(String args[]) {\r\n    \t\t\t  \r\n    \t\t    ArrayList&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\r\n    \t\t    \r\n    \t\t    Book b1=new Book(121,&quot;Let us C&quot;,&quot;Yashwant Kanetkar&quot;,&quot;BPB&quot;,8);  \r\n    \t\t    Book b2=new Book(233,&quot;Operating System&quot;,&quot;Galvin&quot;,&quot;Wiley&quot;,6);  \r\n    \t\t    Book b3=new Book(101,&quot;Data Communications &amp; Networking&quot;,&quot;Forouzan&quot;,&quot;Mc Graw Hill&quot;,4); \r\n    \t\t    Book b4=new Book(319,&quot;Learn Java&quot;,&quot;Yanis Orhan&quot;,&quot;HEX&quot;,3);  \r\n    \t\t    Book b5=new Book(191,&quot;Linux&quot;,&quot;Hadgy&quot;,&quot;Haman&quot;,7);  \r\n    \t\t    Book b6=new Book(287,&quot;Python Programming&quot;,&quot;Tarzan&quot;,&quot;GEN&quot;,5); \r\n    \t\t    \r\n    \t\t    bookList.add(b1);  \r\n    \t\t    bookList.add(b2);  \r\n    \t\t    bookList.add(b3);  \r\n    \t\t    bookList.add(b4);  \r\n    \t\t    bookList.add(b5);  \r\n    \t\t    bookList.add(b6); \r\n    \r\n    \t\t    Collections.sort(bookList);\r\n    \t\t  \t\t    \r\n    \t\t    for (Book b : bookList) {\r\n    \t\t    \t\r\n    \t\t      System.out.println(b.id + &quot;, &quot; + b.name + &quot;, &quot; + b.author + &quot;, &quot; \r\n    \t\t      + b.publisher + &quot;, &quot; + b.quantity);\r\n    \t\t    }\r\n    \t\t  }\r\n    }\r\n\r\nBook\r\n\r\n    public class Book implements Comparable&lt;Book&gt; {\r\n    \t\r\n    \tint id;  \r\n    \tString name, author, publisher;  \r\n    \tint quantity;  \r\n    \t  \r\n    \t  public Book(int id, String name, String author, String publisher, int quantity) {\r\n    \t\t  \r\n    \t    this.id = id;\r\n    \t    this.name = name;\r\n    \t    this.author = author;  \r\n    \t    this.publisher = publisher;  \r\n    \t    this.quantity = quantity;  \r\n    \t  }\r\n    \r\n    \r\n    \tpublic int compareTo(Book b) {\r\n    \t\t  \t\r\n    \t\t    if(id &gt; b.id) {  \r\n    \t\t    \t\r\n    \t\t        return 1;  \r\n    \t\t    } else if (id &lt; b.id) {  \r\n    \t\t    \t\r\n    \t\t        return -1;  \r\n    \t\t    } else {  \r\n    \t\t    \t\r\n    \t\t    \treturn 0;  \r\n    \t\t    }\r\n    \t  }\r\n    }\r\n\r\nThe result in the console:\r\n\r\n    101, Data Communications &amp; Networking, Forouzan, Mc Graw Hill, 4\r\n    121, Let us C, Yashwant Kanetkar, BPB, 8\r\n    191, Linux, Hadgy, Haman, 7\r\n    233, Operating System, Galvin, Wiley, 6\r\n    287, Python Programming, Tarzan, GEN, 5\r\n    319, Learn Java, Yanis Orhan, HEX, 3\r\n\r\nWhy the for-each loop works very good when I print an ArrayList, and it doesn&#39;t work when I try to print a PriorityQueue?","title":"Why do I need Comparable for PriorityQueue?","body":"<p>I'm learning about Queue Collection and I don't understand why do I need to implement Comparable interface if I use PriorityQueue? I have used Comparable and Comparator interface in custom sorting for array/list. But why do I need to implement for a PriorityQueue when I don't want to sort it... </p>\n\n<p>In the example below, I see that I can't add element in a PriorityQueue if I don't implement Comparable interface. </p>\n\n<p>And the big missunderstanding for me, after I run this code, the list isn't sorted by id? I ask this question because I see that compareTo() method is overrided, and I use this method when I want to sort a list. </p>\n\n<p>I remember that I have used exaclty this code when I've done a custom sorting for a list. And the list was sorted by id. Why the queue isn't sorted in this case?</p>\n\n<p>Sorry for my english grammar. Any feedback will be apreciated!</p>\n\n<pre><code>import java.util.PriorityQueue;\nimport java.util.Queue;\n\n    public class QueueExample {\n\n        public static void main(String[] args) { \n\n            Queue&lt;Book&gt; queue = new PriorityQueue&lt;&gt;();\n\n            //Creating Books  \n            Book b1=new Book(121,\"Let us C\",\"Yashwant Kanetkar\",\"BPB\",8);  \n            Book b2=new Book(233,\"Operating System\",\"Galvin\",\"Wiley\",6);  \n            Book b3=new Book(101,\"Data Communications &amp; Networking\",\"Forouzan\",\"Mc Graw Hill\",4); \n            Book b4=new Book(319,\"Learn Java\",\"Yanis Orhan\",\"HEX\",3);  \n            Book b5=new Book(191,\"Linux\",\"Hadgy\",\"Haman\",7);  \n            Book b6=new Book(287,\"Python Programming\",\"Tarzan\",\"GEN\",5); \n\n            //Adding Books to the queue  \n            queue.add(b1);  \n            queue.add(b2);  \n            queue.add(b3);  \n            queue.add(b4);  \n            queue.add(b5);  \n            queue.add(b6); \n\n            System.out.println(\"Traversing the queue elements:\");  \n\n            //Traversing queue elements  \n            for(Book b : queue) {  \n\n                System.out.println(b.id+\" \"+b.name+\" \"+b.author+\" \"+b.publisher+\" \"+b.quantity);  \n            }  \n\n            queue.remove();  \n            System.out.println(\"After removing one book record:\");  \n            for(Book b : queue) { \n\n                System.out.println(b.id + \" \" + b.name + \" \" + b.author + \" \" + b.publisher + \" \" + b.quantity);  \n            }  \n        }  \n    }\n</code></pre>\n\n<p>Book</p>\n\n<pre><code>public class Book implements Comparable&lt;Book&gt; {\n\n    int id;  \n    String name,author,publisher;  \n    int quantity;  \n\n    public Book(int id, String name, String author, String publisher, int quantity) {\n\n        this.id = id;  \n        this.name = name;  \n        this.author = author;  \n        this.publisher = publisher;  \n        this.quantity = quantity;  \n    }\n\n    @Override\n    public int compareTo(Book b) {\n\n        if(id &gt; b.id) {  \n\n            return 1;  \n        } else if (id &lt; b.id) {  \n\n            return -1;  \n        } else {  \n\n            return 0;  \n        }\n    }    \n}\n</code></pre>\n\n<p>I see the head is the element with the lowest id, but after that there is no order. Why the queue isn't sorted by id?</p>\n\n<pre><code>Traversing the queue elements:\n101 Data Communications &amp; Networking Forouzan Mc Graw Hill 4\n191 Linux Hadgy Haman 7\n121 Let us C Yashwant Kanetkar BPB 8\n319 Learn Java Yanis Orhan HEX 3\n233 Operating System Galvin Wiley 6\n287 Python Programming Tarzan GEN 5\nAfter removing one book record:\n121 Let us C Yashwant Kanetkar BPB 8\n191 Linux Hadgy Haman 7\n287 Python Programming Tarzan GEN 5\n319 Learn Java Yanis Orhan HEX 3\n233 Operating System Galvin Wiley 6\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If I create an ArrayList and I sort it with the same compareTo() method and I print it with the same for-each loop, the list is sorted and it is printed in this order. </p>\n\n<p>The code for an ArrayList:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class BookExample {\n\n    public static void main(String args[]) {\n\n            ArrayList&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\n\n            Book b1=new Book(121,\"Let us C\",\"Yashwant Kanetkar\",\"BPB\",8);  \n            Book b2=new Book(233,\"Operating System\",\"Galvin\",\"Wiley\",6);  \n            Book b3=new Book(101,\"Data Communications &amp; Networking\",\"Forouzan\",\"Mc Graw Hill\",4); \n            Book b4=new Book(319,\"Learn Java\",\"Yanis Orhan\",\"HEX\",3);  \n            Book b5=new Book(191,\"Linux\",\"Hadgy\",\"Haman\",7);  \n            Book b6=new Book(287,\"Python Programming\",\"Tarzan\",\"GEN\",5); \n\n            bookList.add(b1);  \n            bookList.add(b2);  \n            bookList.add(b3);  \n            bookList.add(b4);  \n            bookList.add(b5);  \n            bookList.add(b6); \n\n            Collections.sort(bookList);\n\n            for (Book b : bookList) {\n\n              System.out.println(b.id + \", \" + b.name + \", \" + b.author + \", \" \n              + b.publisher + \", \" + b.quantity);\n            }\n          }\n}\n</code></pre>\n\n<p>Book</p>\n\n<pre><code>public class Book implements Comparable&lt;Book&gt; {\n\n    int id;  \n    String name, author, publisher;  \n    int quantity;  \n\n      public Book(int id, String name, String author, String publisher, int quantity) {\n\n        this.id = id;\n        this.name = name;\n        this.author = author;  \n        this.publisher = publisher;  \n        this.quantity = quantity;  \n      }\n\n\n    public int compareTo(Book b) {\n\n            if(id &gt; b.id) {  \n\n                return 1;  \n            } else if (id &lt; b.id) {  \n\n                return -1;  \n            } else {  \n\n                return 0;  \n            }\n      }\n}\n</code></pre>\n\n<p>The result in the console:</p>\n\n<pre><code>101, Data Communications &amp; Networking, Forouzan, Mc Graw Hill, 4\n121, Let us C, Yashwant Kanetkar, BPB, 8\n191, Linux, Hadgy, Haman, 7\n233, Operating System, Galvin, Wiley, 6\n287, Python Programming, Tarzan, GEN, 5\n319, Learn Java, Yanis Orhan, HEX, 3\n</code></pre>\n\n<p>Why the for-each loop works very good when I print an ArrayList, and it doesn't work when I try to print a PriorityQueue?</p>\n"},{"tags":["java","boolean-logic"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651095125,"post_id":72034925,"comment_id":127284148,"body_markdown":"the 1st `if (...) { ... }` is separated from the 2nd `if (...) { ... } else { ... }`.","body":"the 1st <code>if (...) { ... }</code> is separated from the 2nd <code>if (...) { ... } else { ... }</code>."}],"answers":[{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651095152,"creation_date":1651095152,"answer_id":72035526,"question_id":72034925,"body_markdown":"The problem is your `else` statement. If `n` is a multiple of 3 (but not 5), `fizz` will be true (thus printing &quot;fizz&quot;). However, `buzz` will be false (thus printing `n`).\r\n\r\nAre you sure you want to print `n` at all? Maybe you meant to check to make sure that both `fizz` and `buzz` were false? (If so, you should change it from `else` to `else if (!fizz)`).","title":"Can anyone tell me why my program is giving me a output of fizz9 instead of just fizz?","body":"<p>The problem is your <code>else</code> statement. If <code>n</code> is a multiple of 3 (but not 5), <code>fizz</code> will be true (thus printing &quot;fizz&quot;). However, <code>buzz</code> will be false (thus printing <code>n</code>).</p>\n<p>Are you sure you want to print <code>n</code> at all? Maybe you meant to check to make sure that both <code>fizz</code> and <code>buzz</code> were false? (If so, you should change it from <code>else</code> to <code>else if (!fizz)</code>).</p>\n"}],"owner":{"account_id":23955061,"reputation":11,"user_id":17946065,"display_name":"HarleyFerrari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1651120356,"answer_count":1,"score":-1,"last_activity_date":1651095152,"creation_date":1651091234,"question_id":72034925,"body_markdown":"Can anyone tell me why my program is giving me a output of fizz9 instead of just fizz?\r\n\r\n    import java.util.Scanner;\r\n    /**\r\n     * Write a description of class fizzbuzz here.\r\n     *\r\n     * @author (your name)\r\n     * @version (a version number or a date)\r\n     */\r\n    public class FizzBuzz\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Scanner in = new Scanner(System.in);\r\n            int n = in.nextInt();\r\n            boolean fizz = n % 3 == 0;\r\n            boolean buzz = n % 5 == 0;\r\n\r\nI can only use fizz and buzz in the conditions.\r\n            \r\n            if (fizz)\r\n\r\n            {\r\n               System.out.println(&quot;fizz&quot;); \r\n            }\r\n            if (buzz)\r\n            {\r\n                System.out.println(&quot;buzz&quot;); \r\n            }\r\n            else\r\n            {\r\n                System.out.println(n); \r\n\r\n            }\r\n            System.out.println();\r\n        }\r\n    }","title":"Can anyone tell me why my program is giving me a output of fizz9 instead of just fizz?","body":"<p>Can anyone tell me why my program is giving me a output of fizz9 instead of just fizz?</p>\n<pre><code>import java.util.Scanner;\n/**\n * Write a description of class fizzbuzz here.\n *\n * @author (your name)\n * @version (a version number or a date)\n */\npublic class FizzBuzz\n{\n    public static void main(String[] args)\n    {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        boolean fizz = n % 3 == 0;\n        boolean buzz = n % 5 == 0;\n</code></pre>\n<p>I can only use fizz and buzz in the conditions.</p>\n<pre><code>        if (fizz)\n\n        {\n           System.out.println(&quot;fizz&quot;); \n        }\n        if (buzz)\n        {\n            System.out.println(&quot;buzz&quot;); \n        }\n        else\n        {\n            System.out.println(n); \n\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","charts"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1650881542,"post_id":71996658,"comment_id":127219937,"body_markdown":"basically, you have to replace the style of the nodes, see f.i. https://stackoverflow.com/questions/43294879/how-can-i-change-the-icon-in-javafx-linechart-above-the-7th-series-in-css - depending on how dynamic your data is, doing it once after config might be enough or subclass scatterChart and implement seriesAdded and/or dataItemAdded to replace the style as needed.","body":"basically, you have to replace the style of the nodes, see f.i. <a href=\"https://stackoverflow.com/questions/43294879/how-can-i-change-the-icon-in-javafx-linechart-above-the-7th-series-in-css\" title=\"how can i change the icon in javafx linechart above the 7th series in css\">stackoverflow.com/questions/43294879/&hellip;</a> - depending on how dynamic your data is, doing it once after config might be enough or subclass scatterChart and implement seriesAdded and/or dataItemAdded to replace the style as needed."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1650881567,"post_id":71996658,"comment_id":127219948,"body_markdown":"BTW: you might consider putting a bit more effort into your question - best to provide code as [mcve], properly formatted and following java naming conventions.","body":"BTW: you might consider putting a bit more effort into your question - best to provide code as <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, properly formatted and following java naming conventions."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1650893481,"post_id":71996658,"comment_id":127224103,"body_markdown":"If you want a different symbol for each point, CSS is probably not the way to go. Consider using [`setNode()`](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/chart/XYChart.Data.html#setNode(javafx.scene.Node)) (which I generally hate; the view should not be a property of the data, but the API is what it is).","body":"If you want a different symbol for each point, CSS is probably not the way to go. Consider using <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/chart/XYChart.Data.html#setNode(javafx.scene.Node)\" rel=\"nofollow noreferrer\"><code>setNode()</code></a> (which I generally hate; the view should not be a property of the data, but the API is what it is)."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1650899675,"post_id":71996658,"comment_id":127226692,"body_markdown":"Also consider [tag:jfreechart-fx] and a custom `DrawingSupplier` having 16 unique `Shape` instances, mentioned [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20DrawingSupplier%20Shape)","body":"Also consider <a href=\"https://stackoverflow.com/questions/tagged/jfreechart-fx\">jfreechart-fx</a> and a custom <code>DrawingSupplier</code> having 16 unique <code>Shape</code> instances, mentioned <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20DrawingSupplier%20Shape\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":22968946,"reputation":1,"user_id":17097620,"display_name":"Bl0ss0m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650962725,"creation_date":1650962725,"answer_id":72010947,"question_id":71996658,"body_markdown":"i used an css file to define the colors for the series:\r\n\r\n    .series0.chart-symbol{-fx-background-color: black}\r\n    .series1.chart-symbol{-fx-background-color: silver}\r\n    .series2.chart-symbol{-fx-background-color: gray}\r\n    .series3.chart-symbol{-fx-background-color: white}\r\n    .series4.chart-symbol{-fx-background-color: maroon}\r\n    .series5.chart-symbol{-fx-background-color: red}\r\n\r\nThis worked for me !\r\n","title":"Java Fx Scatter Chart more symbols needed for my data","body":"<p>i used an css file to define the colors for the series:</p>\n<pre><code>.series0.chart-symbol{-fx-background-color: black}\n.series1.chart-symbol{-fx-background-color: silver}\n.series2.chart-symbol{-fx-background-color: gray}\n.series3.chart-symbol{-fx-background-color: white}\n.series4.chart-symbol{-fx-background-color: maroon}\n.series5.chart-symbol{-fx-background-color: red}\n</code></pre>\n<p>This worked for me !</p>\n"}],"owner":{"account_id":22968946,"reputation":1,"user_id":17097620,"display_name":"Bl0ss0m"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651094932,"creation_date":1650875808,"question_id":71996658,"body_markdown":"i am currently trying to create an scatter chart with 16 datapoints. My Problem is that if the chart is created there are only 8 different symbols for the other 8 datapoints the symbols and colors just repeate themself. Maybe you guys cold help me out. Here is the code i use :\r\n\r\n    //Create Scatter Chart to visualize the Data\r\n        Stage test2 = new Stage();\r\n\r\n        test2.setTitle(titel+&quot; optimization Powersag Pupil Ring + FineRes Pupil Ring&quot;);\r\n        final NumberAxis xAxis = new NumberAxis(50, 100, 75);\r\n        final NumberAxis yAxis = new NumberAxis(0, 0.5, 0.25);\r\n        final ScatterChart&lt;Number, Number&gt; sc = new ScatterChart&lt;Number, Number&gt;(xAxis, yAxis);\r\n        xAxis.setLabel(&quot;&#177;0,50 D Group [%]&quot;);\r\n        yAxis.setLabel(&quot;MedAE&quot;);\r\n\r\n        sc.setTitle(titel+&quot; optimization Powersag Pupil Ring + FineRes Pupil Ring&quot;);\r\n        int tmp2 = 1;\r\n        for (int i =8; i &lt;A_const.size();i++) {\r\n\r\n            XYChart.Series series1 = new XYChart.Series();\r\n\r\n\r\n\r\n\r\n            series1.setName(&quot;Power sag Pupil Ring: &quot; + tmp2 + &quot;.0mm&quot;);\r\n\r\n\r\n            series1.getData().add(new XYChart.Data(group_list.get(i), median_list.get(i)));\r\n\r\n\r\n\r\n\r\n            sc.getData().addAll(series1);\r\n            tmp2++;\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        //FineREs\r\n        tmp2=0;\r\n        for (int i =8; i &lt;A_const.size();i++) {\r\n\r\n            XYChart.Series series1 = new XYChart.Series();\r\n\r\n\r\n\r\n            series1.setName(&quot;Fine Res Pupil Ring: &quot; + &quot;2.&quot;+tmp2+&quot;mm&quot;);\r\n            tmp2++;\r\n\r\n\r\n            series1.getData().add(new XYChart.Data(group_list_fineres.get(i), median_list_fineres.get(i)));\r\n\r\n\r\n            sc.getData().addAll(series1);\r\n\r\n        }\r\n        Scene scene = new Scene(sc, 500, 400);\r\n        test2.setScene(scene);\r\n        test2.show();\r\n","title":"Java Fx Scatter Chart more symbols needed for my data","body":"<p>i am currently trying to create an scatter chart with 16 datapoints. My Problem is that if the chart is created there are only 8 different symbols for the other 8 datapoints the symbols and colors just repeate themself. Maybe you guys cold help me out. Here is the code i use :</p>\n<pre><code>//Create Scatter Chart to visualize the Data\n    Stage test2 = new Stage();\n\n    test2.setTitle(titel+&quot; optimization Powersag Pupil Ring + FineRes Pupil Ring&quot;);\n    final NumberAxis xAxis = new NumberAxis(50, 100, 75);\n    final NumberAxis yAxis = new NumberAxis(0, 0.5, 0.25);\n    final ScatterChart&lt;Number, Number&gt; sc = new ScatterChart&lt;Number, Number&gt;(xAxis, yAxis);\n    xAxis.setLabel(&quot;±0,50 D Group [%]&quot;);\n    yAxis.setLabel(&quot;MedAE&quot;);\n\n    sc.setTitle(titel+&quot; optimization Powersag Pupil Ring + FineRes Pupil Ring&quot;);\n    int tmp2 = 1;\n    for (int i =8; i &lt;A_const.size();i++) {\n\n        XYChart.Series series1 = new XYChart.Series();\n\n\n\n\n        series1.setName(&quot;Power sag Pupil Ring: &quot; + tmp2 + &quot;.0mm&quot;);\n\n\n        series1.getData().add(new XYChart.Data(group_list.get(i), median_list.get(i)));\n\n\n\n\n        sc.getData().addAll(series1);\n        tmp2++;\n\n\n\n    }\n\n\n\n\n\n    //FineREs\n    tmp2=0;\n    for (int i =8; i &lt;A_const.size();i++) {\n\n        XYChart.Series series1 = new XYChart.Series();\n\n\n\n        series1.setName(&quot;Fine Res Pupil Ring: &quot; + &quot;2.&quot;+tmp2+&quot;mm&quot;);\n        tmp2++;\n\n\n        series1.getData().add(new XYChart.Data(group_list_fineres.get(i), median_list_fineres.get(i)));\n\n\n        sc.getData().addAll(series1);\n\n    }\n    Scene scene = new Scene(sc, 500, 400);\n    test2.setScene(scene);\n    test2.show();\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","springfox"],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651094614,"creation_date":1651094614,"question_id":72035446,"body_markdown":"I am trying to provide custom JSON example to the body of my request.\r\n\r\nI am writing\r\n\r\n    @ApiImplicitParams({\r\n                @ApiImplicitParam(\r\n                        paramType = &quot;body&quot;,\r\n                        //dataType = &quot;com.  ...  .MyClass&quot;,\r\n                        dataType = &quot;java.lang.String&quot;,\r\n                        name=&quot;payload&quot;,\r\n                        examples = @Example(value = {\r\n                                @ExampleProperty(value = &quot;[\\&quot;haha\\&quot;]&quot;, mediaType = MediaType.APPLICATION_JSON_VALUE)\r\n                        })\r\n                )\r\n        })\r\n        public OperationResponse createEntity(@RequestBody MyClass payload ...\r\n\r\nIf `@ApiImplicitParams` annotation is absent, Swagger draws deserialization of `MyClass` which is incorrect. I am trying to provide predefined example (haha string). When I am adding `@ApiImplicitParams` only \r\n\r\n    string\r\n\r\nappears in the body, hot haha.\r\n\r\nWhy and how to fix?","title":"@ApiImplicitParams ... @Example(value) is ignored","body":"<p>I am trying to provide custom JSON example to the body of my request.</p>\n<p>I am writing</p>\n<pre><code>@ApiImplicitParams({\n            @ApiImplicitParam(\n                    paramType = &quot;body&quot;,\n                    //dataType = &quot;com.  ...  .MyClass&quot;,\n                    dataType = &quot;java.lang.String&quot;,\n                    name=&quot;payload&quot;,\n                    examples = @Example(value = {\n                            @ExampleProperty(value = &quot;[\\&quot;haha\\&quot;]&quot;, mediaType = MediaType.APPLICATION_JSON_VALUE)\n                    })\n            )\n    })\n    public OperationResponse createEntity(@RequestBody MyClass payload ...\n</code></pre>\n<p>If <code>@ApiImplicitParams</code> annotation is absent, Swagger draws deserialization of <code>MyClass</code> which is incorrect. I am trying to provide predefined example (haha string). When I am adding <code>@ApiImplicitParams</code> only</p>\n<pre><code>string\n</code></pre>\n<p>appears in the body, hot haha.</p>\n<p>Why and how to fix?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650974320,"post_id":72012981,"comment_id":127246270,"body_markdown":"When using JPA make sure you have a proper equals/hashcode implementation. See https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/?msclkid=2a4316f1c55811ecbad6cb6ff3a86d0e","body":"When using JPA make sure you have a proper equals/hashcode implementation. See <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/?msclkid=2a4316f1c55811ecbad6cb6ff3a86d0e\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1097456,"reputation":1009,"user_id":1090745,"display_name":"felipecrp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650972506,"creation_date":1650972506,"answer_id":72013134,"question_id":72012981,"body_markdown":"I&#39;m not sure if you posted the entire code but I think you are missing the `@Entity` and `@Id`. Like the following example:\r\n\r\n```java\r\n@Entity\r\npublic class Building {\r\n  @Id\r\n  @GeneratedValue(strategy=GenerationType.AUTO)\r\n  private Long id;\r\n\r\n...\r\n```\r\n\r\nIf it does not fix the problem, it may be worth implementing the `equals` and `hashcode`  methods.\r\n\r\n","title":"Spring data jpa: Entitie gets loaded multiple times","body":"<p>I'm not sure if you posted the entire code but I think you are missing the <code>@Entity</code> and <code>@Id</code>. Like the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Building {\n  @Id\n  @GeneratedValue(strategy=GenerationType.AUTO)\n  private Long id;\n\n...\n</code></pre>\n<p>If it does not fix the problem, it may be worth implementing the <code>equals</code> and <code>hashcode</code>  methods.</p>\n"},{"tags":[],"owner":{"account_id":20789863,"reputation":9,"user_id":15268292,"display_name":"Tim Heinze"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650975533,"creation_date":1650975533,"answer_id":72013832,"question_id":72012981,"body_markdown":"Work around:\r\n\r\nI couldn&#39;t find a solution to the problem but I found a workaround which removes all duplicates.\r\nIn the Repository where the buildings are loaded I run a short function which remove all duplicated objects:\r\n\r\n```lang-java\r\nprivate void removeDubplicates(Building building){\r\n    building.setBuildingUnits(\r\n        building.getBuildingUnits.stream()\r\n                                 .distinct()\r\n                                 .collect(Collectors.ToList())                        \r\n    );\r\n}\r\n```\r\nI think this works because every duplicate in the list is the same object(o1 == o2).","title":"Spring data jpa: Entitie gets loaded multiple times","body":"<p>Work around:</p>\n<p>I couldn't find a solution to the problem but I found a workaround which removes all duplicates.\nIn the Repository where the buildings are loaded I run a short function which remove all duplicated objects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void removeDubplicates(Building building){\n    building.setBuildingUnits(\n        building.getBuildingUnits.stream()\n                                 .distinct()\n                                 .collect(Collectors.ToList())                        \n    );\n}\n</code></pre>\n<p>I think this works because every duplicate in the list is the same object(o1 == o2).</p>\n"},{"tags":[],"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651093988,"creation_date":1651093988,"answer_id":72035351,"question_id":72012981,"body_markdown":"Maybe because of other collection in your building entity that&#39;s getting fetched eagerly ,which will cause a cartesian product due to the double left outer join.","title":"Spring data jpa: Entitie gets loaded multiple times","body":"<p>Maybe because of other collection in your building entity that's getting fetched eagerly ,which will cause a cartesian product due to the double left outer join.</p>\n"}],"owner":{"account_id":20789863,"reputation":9,"user_id":15268292,"display_name":"Tim Heinze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1651093988,"creation_date":1650971825,"question_id":72012981,"body_markdown":"So I have a relationship between an entity called Building and another entity called building unit. One building can have many building units. So a standard one to many relationships. The problem I&#39;m facing is that every entity of the building unit is loaded 16 times instead of one as intended. \r\n```lang-java\r\n public class Building {\r\n    @OneToMany(mappedBy = &quot;building&quot;,fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JsonManagedReference //&lt;- without this an endless recursion would appear\r\n    private List&lt;buildingUnit&gt; buldingUnits;\r\n    }\r\n```\r\n```lang-java\r\npublic class buildingUnit{\r\n    @ManyToOne()\r\n    @JoinColumn(name = &quot;building_id, nullable = false)\r\n    @JsonBackReference\r\n    private Building building\r\n}\r\n```\r\n\r\nThe building also has a relationship with different classes and the building unit has also some more relationships with different classes but I don&#39;t think that they will produce this behaviour. I shut mention that in the database everything is stored correctly. Every Building unit is stored once and has a forging-key to a building. So the issue has to come from the code.\r\n\r\nThe relations of my entities are somewhat like this:\r\n```\r\n            BuildingUnit    -&gt;\r\nBuilding -&gt;                    Room -&gt; Wall \r\n            VentilationZone -&gt; \r\n```\r\nbuilding unit and ventilation zone can have different rooms  \r\n\r\nThe Result when I load a building from the DB:\r\n```\r\nBuilding:\r\n buildingUnit: [u1, u1, u1, u1, u1,..., u2, u2, u2, u2,...]  \r\n```\r\n\r\nThe DB I&#39;m using is an SQLite DB","title":"Spring data jpa: Entitie gets loaded multiple times","body":"<p>So I have a relationship between an entity called Building and another entity called building unit. One building can have many building units. So a standard one to many relationships. The problem I'm facing is that every entity of the building unit is loaded 16 times instead of one as intended.</p>\n<pre class=\"lang-java prettyprint-override\"><code> public class Building {\n    @OneToMany(mappedBy = &quot;building&quot;,fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JsonManagedReference //&lt;- without this an endless recursion would appear\n    private List&lt;buildingUnit&gt; buldingUnits;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class buildingUnit{\n    @ManyToOne()\n    @JoinColumn(name = &quot;building_id, nullable = false)\n    @JsonBackReference\n    private Building building\n}\n</code></pre>\n<p>The building also has a relationship with different classes and the building unit has also some more relationships with different classes but I don't think that they will produce this behaviour. I shut mention that in the database everything is stored correctly. Every Building unit is stored once and has a forging-key to a building. So the issue has to come from the code.</p>\n<p>The relations of my entities are somewhat like this:</p>\n<pre><code>            BuildingUnit    -&gt;\nBuilding -&gt;                    Room -&gt; Wall \n            VentilationZone -&gt; \n</code></pre>\n<p>building unit and ventilation zone can have different rooms</p>\n<p>The Result when I load a building from the DB:</p>\n<pre><code>Building:\n buildingUnit: [u1, u1, u1, u1, u1,..., u2, u2, u2, u2,...]  \n</code></pre>\n<p>The DB I'm using is an SQLite DB</p>\n"},{"tags":["java","internationalization","refactoring","dto","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":16373113,"reputation":352,"user_id":11825939,"display_name":"Mustafa Khalil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651093877,"creation_date":1651088929,"answer_id":72034511,"question_id":72033893,"body_markdown":"[Update]:\r\nYou can create a Singleton Mapper, use it in the service layer to do the translation, and implement the mapping logic in the mapper, for that I suggest the use of [MapStruct][1]\r\n\r\n\r\nExample:\r\n\r\n    @Mapper\r\n    public interface OrderMapper {\r\n\r\n      @Mapping(target = &quot;descritpion&quot;, source = &quot;descr&quot;)\r\n      OrderDto orderToOrderDto(Order order);\r\n\r\n      @Mapping(target = &quot;descritpion&quot;, source = &quot;descr&quot;)\r\n      Order orderDtoToOrder(OrderDto orderDto);\r\n    }\r\n\r\nDo not forget to have the getters and setters implemented, for that I suggest the use of [Lombok][2].\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/installation/\r\n  [2]: https://projectlombok.org/","title":"On what layer DTO translation shoud be implemented?","body":"<p>[Update]:\nYou can create a Singleton Mapper, use it in the service layer to do the translation, and implement the mapping logic in the mapper, for that I suggest the use of <a href=\"https://mapstruct.org/documentation/installation/\" rel=\"nofollow noreferrer\">MapStruct</a></p>\n<p>Example:</p>\n<pre><code>@Mapper\npublic interface OrderMapper {\n\n  @Mapping(target = &quot;descritpion&quot;, source = &quot;descr&quot;)\n  OrderDto orderToOrderDto(Order order);\n\n  @Mapping(target = &quot;descritpion&quot;, source = &quot;descr&quot;)\n  Order orderDtoToOrder(OrderDto orderDto);\n}\n</code></pre>\n<p>Do not forget to have the getters and setters implemented, for that I suggest the use of <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a>.</p>\n"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651093877,"creation_date":1651085310,"question_id":72033893,"body_markdown":"For example, I have a service:\r\n\r\n    @Service\r\n    class OrderService {\r\n        OrderDto getOrder(String id) {\r\n          return OrderMapper.toOrderDto(orderRepository.getOrder(id))\r\n       }\r\n    }\r\n\r\n`OrderDto` has the field `String description`\r\n\r\nI need to return the correct description depending on locale (en, es, etc.)\r\n\r\nWhere should I do that translation? Should I do that in the `OrderMapper`? if so, OrderMapper should be a spring component. Or maybe I should create a translator?\r\n\r\n    OrderController -&gt; OrderService 1 -&gt; orderRepository\r\n                                    2 -&gt; OrderMapper\r\n\r\nShould I add a new layer for translation? It looks, that Mapper is not a good place for that(SRP)","title":"On what layer DTO translation shoud be implemented?","body":"<p>For example, I have a service:</p>\n<pre><code>@Service\nclass OrderService {\n    OrderDto getOrder(String id) {\n      return OrderMapper.toOrderDto(orderRepository.getOrder(id))\n   }\n}\n</code></pre>\n<p><code>OrderDto</code> has the field <code>String description</code></p>\n<p>I need to return the correct description depending on locale (en, es, etc.)</p>\n<p>Where should I do that translation? Should I do that in the <code>OrderMapper</code>? if so, OrderMapper should be a spring component. Or maybe I should create a translator?</p>\n<pre><code>OrderController -&gt; OrderService 1 -&gt; orderRepository\n                                2 -&gt; OrderMapper\n</code></pre>\n<p>Should I add a new layer for translation? It looks, that Mapper is not a good place for that(SRP)</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":20387687,"reputation":5999,"user_id":14956277,"display_name":"D M"},"score":0,"creation_date":1651091633,"post_id":72034943,"comment_id":127283180,"body_markdown":"Does &quot;efficient&quot; mean &quot;performant&quot; or &quot;fewer lines of code&quot;? It&#39;s not clear to me which you&#39;re asking for.","body":"Does &quot;efficient&quot; mean &quot;performant&quot; or &quot;fewer lines of code&quot;? It&#39;s not clear to me which you&#39;re asking for."},{"owner":{"account_id":22586349,"reputation":1,"user_id":16770253,"display_name":"Jack"},"score":0,"creation_date":1651091779,"post_id":72034943,"comment_id":127283230,"body_markdown":"@DM I meant fewer lines of code, sorry for the confusion.","body":"@DM I meant fewer lines of code, sorry for the confusion."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1651092764,"post_id":72034943,"comment_id":127283511,"body_markdown":"Put all the code on the same line.","body":"Put all the code on the same line."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651741378,"post_id":72034943,"comment_id":127436680,"body_markdown":"Remove the `!(Double.parseDouble(parts[0]) == 1)` condition. Your performing an expensive operation, in order to save exactly the same operation in one case. So you save nothing but perform the operation twice when the condition is not fulfilled.","body":"Remove the <code>!(Double.parseDouble(parts[0]) == 1)</code> condition. Your performing an expensive operation, in order to save exactly the same operation in one case. So you save nothing but perform the operation twice when the condition is not fulfilled."}],"answers":[{"tags":[],"owner":{"account_id":20387687,"reputation":5999,"user_id":14956277,"display_name":"D M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651093542,"creation_date":1651092480,"answer_id":72035112,"question_id":72034943,"body_markdown":"I&#39;m not used to Java, so there might be minor errors in this code. Feel free to edit if you see one.\r\n\r\nComing from a C# perspective, I&#39;d make the following changes:\r\n\r\n1. Move the `.trim()` calls to one place. Here I do that just after splitting the input lines into `parts` by creating a `Stream` using [`of()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-) then calling [`map`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-) (assuming Java 8 or newer).\r\n2. Remove the lines instantiating default values for `quantity` and `measurement`. Because we don&#39;t have to trim, we can use the ternary operator to declare and instantiate the variables on the same line.\r\n3. Don&#39;t check if `parts[1]` is empty. Since `&quot;&quot;` is the fallback value, it doesn&#39;t matter if `parts[1]` is also `&quot;&quot;`. This also means you don&#39;t need the intermediate `measurement` variable.\r\n\r\n```java\r\npublic static Ingredient parseString(String line)\r\n        throws InvalidIngredientException {        \r\n    String[] parts = Stream.of(line.split(&quot;;&quot;)).map(p =&gt; p.trim()).toArray();\r\n    if (parts.length == 1) {\r\n        throw new InvalidIngredientException(EXP_MSG);\r\n    }\r\n    double quantity = parts[0].isEmpty() ? 1 : Double.parseDouble(parts[0]);    \r\n    return new Ingredient(quantity, parts[1], parts[2]);\r\n}\r\n```\r\n\r\n---\r\n\r\nYou also have the potential to throw errors other than `InvalidIngredientException` if `parts.length == 0` or if `parts[0]` cannot be parsed to a `Double`. I&#39;m not sure how strict you&#39;re supposed to be when declaring which exceptions your method can throw, but here&#39;s a version that should catch any exceptions and only return the `InvalidIngredientException` you declared.\r\n\r\n```java\r\npublic static Ingredient parseString(String line)\r\n        throws InvalidIngredientException {     \r\n    try { \r\n        String[] parts = Stream.of(line.split(&quot;;&quot;)).map(p =&gt; p.trim()).toArray();\r\n        double quantity = parts[0].isEmpty() ? 1 : Double.parseDouble(parts[0]); \r\n        return new Ingredient(quantity, parts[1], parts[2]);\r\n    }\r\n    catch (Exception e) {\r\n        throw new InvalidIngredientException(EXP_MSG);\r\n    }\r\n}\r\n```","title":"What&#39;s the most efficient way to write this method?","body":"<p>I'm not used to Java, so there might be minor errors in this code. Feel free to edit if you see one.</p>\n<p>Coming from a C# perspective, I'd make the following changes:</p>\n<ol>\n<li>Move the <code>.trim()</code> calls to one place. Here I do that just after splitting the input lines into <code>parts</code> by creating a <code>Stream</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-\" rel=\"nofollow noreferrer\"><code>of()</code></a> then calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map</code></a> (assuming Java 8 or newer).</li>\n<li>Remove the lines instantiating default values for <code>quantity</code> and <code>measurement</code>. Because we don't have to trim, we can use the ternary operator to declare and instantiate the variables on the same line.</li>\n<li>Don't check if <code>parts[1]</code> is empty. Since <code>&quot;&quot;</code> is the fallback value, it doesn't matter if <code>parts[1]</code> is also <code>&quot;&quot;</code>. This also means you don't need the intermediate <code>measurement</code> variable.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static Ingredient parseString(String line)\n        throws InvalidIngredientException {        \n    String[] parts = Stream.of(line.split(&quot;;&quot;)).map(p =&gt; p.trim()).toArray();\n    if (parts.length == 1) {\n        throw new InvalidIngredientException(EXP_MSG);\n    }\n    double quantity = parts[0].isEmpty() ? 1 : Double.parseDouble(parts[0]);    \n    return new Ingredient(quantity, parts[1], parts[2]);\n}\n</code></pre>\n<hr />\n<p>You also have the potential to throw errors other than <code>InvalidIngredientException</code> if <code>parts.length == 0</code> or if <code>parts[0]</code> cannot be parsed to a <code>Double</code>. I'm not sure how strict you're supposed to be when declaring which exceptions your method can throw, but here's a version that should catch any exceptions and only return the <code>InvalidIngredientException</code> you declared.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Ingredient parseString(String line)\n        throws InvalidIngredientException {     \n    try { \n        String[] parts = Stream.of(line.split(&quot;;&quot;)).map(p =&gt; p.trim()).toArray();\n        double quantity = parts[0].isEmpty() ? 1 : Double.parseDouble(parts[0]); \n        return new Ingredient(quantity, parts[1], parts[2]);\n    }\n    catch (Exception e) {\n        throw new InvalidIngredientException(EXP_MSG);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651092504,"creation_date":1651092504,"answer_id":72035115,"question_id":72034943,"body_markdown":"There are a few little things that you can do to make your code look better and a increase the performance a bit also.\r\n1. Change the regex when splitting the line to &quot;\\s;\\s&quot;. This way you avoid the trim() calls multiple times\r\n2. Use `else if...else` syntax. This will make your code not only a bit shorter but also easier to read.\r\n ","title":"What&#39;s the most efficient way to write this method?","body":"<p>There are a few little things that you can do to make your code look better and a increase the performance a bit also.</p>\n<ol>\n<li>Change the regex when splitting the line to &quot;\\s;\\s&quot;. This way you avoid the trim() calls multiple times</li>\n<li>Use <code>else if...else</code> syntax. This will make your code not only a bit shorter but also easier to read.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":98926,"reputation":18506,"user_id":267482,"accept_rate":70,"display_name":"bobah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651093486,"creation_date":1651093486,"answer_id":72035269,"question_id":72034943,"body_markdown":"What you are trying to do is called &quot;bind CSV row to an object&quot;. There are quite a few good libraries for parsing CSV, most mature ones offering the binding functionality as well. Also there are annotation-based code generation enabled frameworks like Lombok or Jackson which make Java one step closer to convenient languages like Scala, by saving you from writing very verbose getters/setters by hand (with a minor complication to the build process, maybe).\r\n\r\nAnd once you use correct search term you will find a plenty of examples. One doing just what I described above is [this one](https://stackoverflow.com/questions/22485041/how-to-easily-process-csv-file-to-listmyclass), below is a version adjusted to your naming. It is using Jackson.\r\n\r\nObject definition with Jackson [annotations](https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonPropertyOrder.html):\r\n```java\r\n@JsonPropertyOrder({&quot;quantity&quot;, &quot;measure&quot;, &quot;ingredient&quot;})\r\npublic class Ingredient {\r\n    public double quantity;\r\n    public String measure;\r\n    public int ingredient;\r\n}\r\n```\r\n\r\nInvocation code with the Jackson [CsvMapper](http://fasterxml.github.io/jackson-dataformat-csv/javadoc/2.8/com/fasterxml/jackson/dataformat/csv/CsvMapper.html):\r\n```\r\nList&lt;Ingredient&gt; result = new CsvMapper()\r\n    .readerWithTypedSchemaFor(Ingredient.class)\r\n    .readValues(csvFile)\r\n    .readAll();\r\n```","title":"What&#39;s the most efficient way to write this method?","body":"<p>What you are trying to do is called &quot;bind CSV row to an object&quot;. There are quite a few good libraries for parsing CSV, most mature ones offering the binding functionality as well. Also there are annotation-based code generation enabled frameworks like Lombok or Jackson which make Java one step closer to convenient languages like Scala, by saving you from writing very verbose getters/setters by hand (with a minor complication to the build process, maybe).</p>\n<p>And once you use correct search term you will find a plenty of examples. One doing just what I described above is <a href=\"https://stackoverflow.com/questions/22485041/how-to-easily-process-csv-file-to-listmyclass\">this one</a>, below is a version adjusted to your naming. It is using Jackson.</p>\n<p>Object definition with Jackson <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonPropertyOrder.html\" rel=\"nofollow noreferrer\">annotations</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonPropertyOrder({&quot;quantity&quot;, &quot;measure&quot;, &quot;ingredient&quot;})\npublic class Ingredient {\n    public double quantity;\n    public String measure;\n    public int ingredient;\n}\n</code></pre>\n<p>Invocation code with the Jackson <a href=\"http://fasterxml.github.io/jackson-dataformat-csv/javadoc/2.8/com/fasterxml/jackson/dataformat/csv/CsvMapper.html\" rel=\"nofollow noreferrer\">CsvMapper</a>:</p>\n<pre><code>List&lt;Ingredient&gt; result = new CsvMapper()\n    .readerWithTypedSchemaFor(Ingredient.class)\n    .readValues(csvFile)\n    .readAll();\n</code></pre>\n"}],"owner":{"account_id":22586349,"reputation":1,"user_id":16770253,"display_name":"Jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651093542,"creation_date":1651091345,"question_id":72034943,"body_markdown":"The method returns an &quot;Ingredient&quot; object that is constructed from a given line in a recipe txt file. Note: an `InvalidIngredientException` is like an `Ingredient` version of an `InputMismatchException`. This isn&#39;t thrown by any of the lines in the given recipe file.\r\n\r\n```\r\npublic static Ingredient parseString(String line)\r\n\t\tthrows InvalidIngredientException {        \r\n\tdouble quantity = 1;\r\n\tString measurement = &quot;&quot;;\r\n\tString[] parts = line.split(&quot;;&quot;);\r\n\tif (parts.length == 1) {\r\n\t\tthrow new InvalidIngredientException(EXP_MSG);\r\n\t}\r\n\tif (!parts[0].trim().isEmpty()\r\n\t\t\t&amp;&amp; !(Double.parseDouble(parts[0]) == 1)) {\r\n\t\tquantity = Double.parseDouble(parts[0].trim());\r\n\t}\r\n\tif (!parts[1].trim().isEmpty()) {\r\n\t\tmeasurement = parts[1].trim();\r\n\t} \r\n\treturn new Ingredient(quantity, measurement, parts[2].trim());\r\n}\r\n```\r\n\r\nA recipe file looks like this:\r\n\r\n```none\r\nCranberry Oatmeal Chews\r\n8; tablespoon; butter\r\n2; tablespoon; oil\r\n1; cup; light brown sugar\r\n1; ; zest of one orange\r\n6; tablespoon; sour cream\r\n2; teaspoon; vanilla\r\n1.5; cup; flour\r\n.5; teaspoon; baking soda\r\n1; teaspoon; cinammon\r\n.5; teaspoon; salt\r\n2; cup; oats\r\n1.5; cup; dried cranberries\r\n.5; cup; walnuts\r\n```\r\n\r\nThe method works, but I feel like it could use less code.","title":"What&#39;s the most efficient way to write this method?","body":"<p>The method returns an &quot;Ingredient&quot; object that is constructed from a given line in a recipe txt file. Note: an <code>InvalidIngredientException</code> is like an <code>Ingredient</code> version of an <code>InputMismatchException</code>. This isn't thrown by any of the lines in the given recipe file.</p>\n<pre><code>public static Ingredient parseString(String line)\n        throws InvalidIngredientException {        \n    double quantity = 1;\n    String measurement = &quot;&quot;;\n    String[] parts = line.split(&quot;;&quot;);\n    if (parts.length == 1) {\n        throw new InvalidIngredientException(EXP_MSG);\n    }\n    if (!parts[0].trim().isEmpty()\n            &amp;&amp; !(Double.parseDouble(parts[0]) == 1)) {\n        quantity = Double.parseDouble(parts[0].trim());\n    }\n    if (!parts[1].trim().isEmpty()) {\n        measurement = parts[1].trim();\n    } \n    return new Ingredient(quantity, measurement, parts[2].trim());\n}\n</code></pre>\n<p>A recipe file looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Cranberry Oatmeal Chews\n8; tablespoon; butter\n2; tablespoon; oil\n1; cup; light brown sugar\n1; ; zest of one orange\n6; tablespoon; sour cream\n2; teaspoon; vanilla\n1.5; cup; flour\n.5; teaspoon; baking soda\n1; teaspoon; cinammon\n.5; teaspoon; salt\n2; cup; oats\n1.5; cup; dried cranberries\n.5; cup; walnuts\n</code></pre>\n<p>The method works, but I feel like it could use less code.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2522425,"reputation":577,"user_id":2192527,"accept_rate":61,"display_name":"Dave"},"score":0,"creation_date":1651003891,"post_id":72017866,"comment_id":127257393,"body_markdown":"Perhaps you look at this answer ?\n\nhttps://stackoverflow.com/questions/50156344/alternative-to-save-in-jpa-hibernate-with-non-autogenerated-id","body":"Perhaps you look at this answer ?  <a href=\"https://stackoverflow.com/questions/50156344/alternative-to-save-in-jpa-hibernate-with-non-autogenerated-id\" title=\"alternative to save in jpa hibernate with non autogenerated id\">stackoverflow.com/questions/50156344/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17470371,"reputation":310,"user_id":12666301,"display_name":"karim farhouti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651093478,"creation_date":1651093478,"answer_id":72035266,"question_id":72017866,"body_markdown":"Because ids can&#39;t be null ,and since it&#39;s not auto generated ,it must be specified before getting persisted.","title":"How to save without using autogenerated in JPA?","body":"<p>Because ids can't be null ,and since it's not auto generated ,it must be specified before getting persisted.</p>\n"}],"owner":{"account_id":24935104,"reputation":1,"user_id":18801773,"display_name":"Dell27inch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651093478,"creation_date":1650992654,"question_id":72017866,"body_markdown":"I am using oracle database with JPA, I have an id column this is not auto generated type.\r\nWhile performing saveAll() operation we are getting - ids for this class must be manually assigned before calling save():\r\nThis is Id i am getting form some other table\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;area_usr&quot;)\r\npublic class AreaUsr {\r\n\r\n    @Id\r\n    private Integer usrId;\r\n    private String area;\r\n    //getter setter\r\n}\r\n```\r\n\r\n```\r\nList&lt;AreaUsr&gt; au = xyzRepo.getAreaInfo();\r\nareaUsrRepo.saveAll(au); // here i am getting the error\r\n```","title":"How to save without using autogenerated in JPA?","body":"<p>I am using oracle database with JPA, I have an id column this is not auto generated type.\nWhile performing saveAll() operation we are getting - ids for this class must be manually assigned before calling save():\nThis is Id i am getting form some other table</p>\n<pre><code>@Entity\n@Table(name = &quot;area_usr&quot;)\npublic class AreaUsr {\n\n    @Id\n    private Integer usrId;\n    private String area;\n    //getter setter\n}\n</code></pre>\n<pre><code>List&lt;AreaUsr&gt; au = xyzRepo.getAreaInfo();\nareaUsrRepo.saveAll(au); // here i am getting the error\n</code></pre>\n"},{"tags":["java","intellij-idea","code-generation","getter-setter"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1487596840,"post_id":42345321,"comment_id":71842522,"body_markdown":"Can&#39;t reproduce in 2016.3.4 version. Whatever template was last used in Alt+Insert dialog will be used in the Alt+Enter intention as well.","body":"Can&#39;t reproduce in 2016.3.4 version. Whatever template was last used in Alt+Insert dialog will be used in the Alt+Enter intention as well."},{"owner":{"account_id":7623864,"reputation":636,"user_id":5781026,"display_name":"Magnus Lundberg"},"score":0,"creation_date":1487597397,"post_id":42345321,"comment_id":71842958,"body_markdown":"@CrazyCoder Did you add a setting for that? I just tried it myself and whenever I use Alt+Enter it uses the standard setter even though the custom template is the standard when I use Alt+Insert","body":"@CrazyCoder Did you add a setting for that? I just tried it myself and whenever I use Alt+Enter it uses the standard setter even though the custom template is the standard when I use Alt+Insert"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1487598032,"post_id":42345321,"comment_id":71843423,"body_markdown":"There are no additional settings. I just added a template and selected it on Alt+Insert, then the same template was used on Alt+Enter.","body":"There are no additional settings. I just added a template and selected it on Alt+Insert, then the same template was used on Alt+Enter."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651092869,"creation_date":1651090879,"answer_id":72034854,"question_id":42345321,"body_markdown":"Using &lt;kbd&gt;Alt + Insert&lt;/kbd&gt; to [Generate getters and setters](https://www.jetbrains.com/help/idea/generating-code.html#generate-getters-setters), a dialog opens, where you can customize the _default template_ used by IntelliJ by clicking on the **3 dots** button `...`.\r\n\r\n![dialog (dark mode)](https://i.stack.imgur.com/qzK8d.png)\r\n\r\nor \r\n\r\n![dialog steps](https://i.stack.imgur.com/YmjUX.jpg)\r\n\r\nNext the respective dialog will open, for example [Generate Setter Dialogue](https://www.jetbrains.com/help/idea/generate-setter-dialog.html). You can duplicate the default template (named &#39;IntelliJ Default&#39;) and adapt the copy to your needs. For a detailed description of template-variables see [Getter/Setter Templates](https://www.jetbrains.com/help/idea/generating-code.html#customize-templates). \r\n\r\nThe customized template will also be used when pressing &lt;kbd&gt;Alt + Enter&lt;/kbd&gt; to open *intention actions* in the context-menu.\r\n\r\n### See also\r\n * tutorial on Medium (2020): [Custom Getter/Setter Templates for Intellij IDEA](https://omindu.medium.com/custom-getter-setter-templates-for-intellij-idea-52177277ff0a)\r\n * https://stackoverflow.com/questions/37801457/why-do-intellij-default-getter-setter-templates-delete-my-boolean-is-variable\r\n * https://stackoverflow.com/questions/48579506/is-there-a-way-to-generate-javafx-getters-setters","title":"Customize default getter/setter template in IntelliJ","body":"<p>Using <kbd>Alt + Insert</kbd> to <a href=\"https://www.jetbrains.com/help/idea/generating-code.html#generate-getters-setters\" rel=\"nofollow noreferrer\">Generate getters and setters</a>, a dialog opens, where you can customize the <em>default template</em> used by IntelliJ by clicking on the <strong>3 dots</strong> button <code>...</code>.</p>\n<p><img src=\"https://i.stack.imgur.com/qzK8d.png\" alt=\"dialog (dark mode)\" /></p>\n<p>or</p>\n<p><img src=\"https://i.stack.imgur.com/YmjUX.jpg\" alt=\"dialog steps\" /></p>\n<p>Next the respective dialog will open, for example <a href=\"https://www.jetbrains.com/help/idea/generate-setter-dialog.html\" rel=\"nofollow noreferrer\">Generate Setter Dialogue</a>. You can duplicate the default template (named 'IntelliJ Default') and adapt the copy to your needs. For a detailed description of template-variables see <a href=\"https://www.jetbrains.com/help/idea/generating-code.html#customize-templates\" rel=\"nofollow noreferrer\">Getter/Setter Templates</a>.</p>\n<p>The customized template will also be used when pressing <kbd>Alt + Enter</kbd> to open <em>intention actions</em> in the context-menu.</p>\n<h3>See also</h3>\n<ul>\n<li>tutorial on Medium (2020): <a href=\"https://omindu.medium.com/custom-getter-setter-templates-for-intellij-idea-52177277ff0a\" rel=\"nofollow noreferrer\">Custom Getter/Setter Templates for Intellij IDEA</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37801457/why-do-intellij-default-getter-setter-templates-delete-my-boolean-is-variable\">Why do Intellij default getter/setter templates delete my boolean &quot;is&quot; variable name prefix?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48579506/is-there-a-way-to-generate-javafx-getters-setters\">Is there a way to generate JavaFX getters/setters</a></li>\n</ul>\n"}],"owner":{"account_id":7623864,"reputation":636,"user_id":5781026,"display_name":"Magnus Lundberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651092869,"creation_date":1487595771,"question_id":42345321,"body_markdown":"I have created a **custom template** for setters in *IntelliJ*.\r\nI can chose that template when I use &lt;kbd&gt;Alt + Insert&lt;/kbd&gt; and it works great. \r\n\r\nHowever when I try to press &lt;kbd&gt;Alt + Enter&lt;/kbd&gt; to generate a missing setter it uses the IntelliJ default.\r\n\r\nHow to make the Alt+Enter completion use my custom template instead of the default?","title":"Customize default getter/setter template in IntelliJ","body":"<p>I have created a <strong>custom template</strong> for setters in <em>IntelliJ</em>.\nI can chose that template when I use <kbd>Alt + Insert</kbd> and it works great.</p>\n<p>However when I try to press <kbd>Alt + Enter</kbd> to generate a missing setter it uses the IntelliJ default.</p>\n<p>How to make the Alt+Enter completion use my custom template instead of the default?</p>\n"},{"tags":["java","swing","image-processing","pixel"],"comments":[{"owner":{"account_id":6453292,"reputation":121,"user_id":4999534,"accept_rate":92,"display_name":"Jo&#227;o Marques"},"score":0,"creation_date":1651088658,"post_id":72034434,"comment_id":127282279,"body_markdown":"For some reason if I select the image throught a filechoser, the image gets reloaded correctly;_;","body":"For some reason if I select the image throught a filechoser, the image gets reloaded correctly;_;"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1651090870,"post_id":72034434,"comment_id":127282932,"body_markdown":"&quot;For some reason if I select the image throught a filechoser, the image gets reloaded correctly;_; &quot; so does that answer your question? If so, please delete what you&#39;ve posted here","body":"&quot;For some reason if I select the image throught a filechoser, the image gets reloaded correctly;_; &quot; so does that answer your question? If so, please delete what you&#39;ve posted here"},{"owner":{"account_id":6453292,"reputation":121,"user_id":4999534,"accept_rate":92,"display_name":"Jo&#227;o Marques"},"score":0,"creation_date":1651090982,"post_id":72034434,"comment_id":127282976,"body_markdown":"No it does not;_; I dont want to use a filechoser everytime i want the image to get updated.","body":"No it does not;_; I dont want to use a filechoser everytime i want the image to get updated."},{"owner":{"account_id":19800135,"reputation":156,"user_id":14501343,"display_name":"exoad"},"score":0,"creation_date":1651091520,"post_id":72034434,"comment_id":127283130,"body_markdown":"Maybe try to call ImageIO.read(new FIle(&quot;C:/Florest_PixelArt.png&quot;)); in your &quot;addEventListener&quot;. Also I am not sure if this is intentional, but your reload button doesn&#39;t seem to have a purpose as there is no direct call &quot;btnReload.addActionListener()&quot; somewhere.","body":"Maybe try to call ImageIO.read(new FIle(&quot;C:/Florest_PixelArt.png&quot;)); in your &quot;addEventListener&quot;. Also I am not sure if this is intentional, but your reload button doesn&#39;t seem to have a purpose as there is no direct call &quot;btnReload.addActionListener()&quot; somewhere."},{"owner":{"account_id":6453292,"reputation":121,"user_id":4999534,"accept_rate":92,"display_name":"Jo&#227;o Marques"},"score":0,"creation_date":1651092516,"post_id":72034434,"comment_id":127283443,"body_markdown":"Thanks.  The ImageIO.read fixed the problem.","body":"Thanks.  The ImageIO.read fixed the problem."}],"owner":{"account_id":6453292,"reputation":121,"user_id":4999534,"accept_rate":92,"display_name":"Jo&#227;o Marques"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651092485,"creation_date":1651088538,"question_id":72034434,"body_markdown":"I been trying to figure out a way to re-load an image after it has suffer changes. For that I create a refresh button and my plan is, when clicking in this &quot;reload&quot; button re-load the original image so that we can see the new alterations that the file suffer(from an external software like W10 paint).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/SR3pa.png\r\n\r\nI tried quite a few things, one of them was using the flush method to attemp to reload the image, but to not avail.\r\n\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class ImageTest {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            new ApplicationView1();\r\n        }\r\n    \r\n        static class ApplicationView1 extends JFrame{\r\n            JButton btnReload;\r\n            ImagePanel imagePanel;\r\n    \r\n            public ApplicationView1() throws IOException {\r\n                initComponents();\r\n                addEventListeners();\r\n    \r\n                setTitle(&quot;Pokemon Tile Creator&quot;);\r\n                setPreferredSize(new Dimension(200, 360));\r\n                setResizable(false);\r\n                setVisible(true);\r\n                pack();\r\n            }\r\n    \r\n            private void initComponents() throws IOException {\r\n                btnReload = new JButton(&quot;Reload&quot;);\r\n                BufferedImage bufferedImage = ImageIO.read(new File(&quot;C:/Florest_PixelArt.png&quot;));\r\n                imagePanel = new ImagePanel(bufferedImage);\r\n                setLayout(new BorderLayout());\r\n                add(btnReload, BorderLayout.PAGE_START);\r\n                add(imagePanel, BorderLayout.CENTER);\r\n            }\r\n    \r\n            private void addEventListeners() {\r\n                btnReload.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        try {\r\n                            imagePanel.image = ImageIO.read(new File(&quot;C:/Florest_PixelArt.png&quot;));\r\n                            repaint();\r\n                        } catch (IOException ex) {\r\n                            System.out.println(ex.getMessage());\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n    \r\n        }\r\n    \r\n        static class ImagePanel extends JPanel{\r\n            public BufferedImage image;\r\n    \r\n            public ImagePanel(BufferedImage image) {\r\n                this.image = image;\r\n            }\r\n    \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                g.drawImage(image, 0, 0, this);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Reload BufferImage Data when file changes","body":"<p>I been trying to figure out a way to re-load an image after it has suffer changes. For that I create a refresh button and my plan is, when clicking in this &quot;reload&quot; button re-load the original image so that we can see the new alterations that the file suffer(from an external software like W10 paint).</p>\n<p><a href=\"https://i.stack.imgur.com/SR3pa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SR3pa.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried quite a few things, one of them was using the flush method to attemp to reload the image, but to not avail.</p>\n<pre><code>import javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class ImageTest {\n\n    public static void main(String[] args) throws IOException {\n        new ApplicationView1();\n    }\n\n    static class ApplicationView1 extends JFrame{\n        JButton btnReload;\n        ImagePanel imagePanel;\n\n        public ApplicationView1() throws IOException {\n            initComponents();\n            addEventListeners();\n\n            setTitle(&quot;Pokemon Tile Creator&quot;);\n            setPreferredSize(new Dimension(200, 360));\n            setResizable(false);\n            setVisible(true);\n            pack();\n        }\n\n        private void initComponents() throws IOException {\n            btnReload = new JButton(&quot;Reload&quot;);\n            BufferedImage bufferedImage = ImageIO.read(new File(&quot;C:/Florest_PixelArt.png&quot;));\n            imagePanel = new ImagePanel(bufferedImage);\n            setLayout(new BorderLayout());\n            add(btnReload, BorderLayout.PAGE_START);\n            add(imagePanel, BorderLayout.CENTER);\n        }\n\n        private void addEventListeners() {\n            btnReload.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    try {\n                        imagePanel.image = ImageIO.read(new File(&quot;C:/Florest_PixelArt.png&quot;));\n                        repaint();\n                    } catch (IOException ex) {\n                        System.out.println(ex.getMessage());\n                    }\n                }\n            });\n        }\n\n    }\n\n    static class ImagePanel extends JPanel{\n        public BufferedImage image;\n\n        public ImagePanel(BufferedImage image) {\n            this.image = image;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.drawImage(image, 0, 0, this);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651092000,"creation_date":1651091472,"answer_id":72034963,"question_id":72034751,"body_markdown":"That&#39;s because the loaded HTML document does not contain such an HTML element. \r\n\r\nThe element is created by the browser&#39;s JavaScript engine but Jsoup has no such an engine.\r\n\r\nOpen the URL in browser and press Ctrl-U to see the loaded HTML.","title":"Displaying divs using Jsoup","body":"<p>That's because the loaded HTML document does not contain such an HTML element.</p>\n<p>The element is created by the browser's JavaScript engine but Jsoup has no such an engine.</p>\n<p>Open the URL in browser and press Ctrl-U to see the loaded HTML.</p>\n"}],"owner":{"account_id":20911839,"reputation":11,"user_id":15362557,"display_name":"Noah Little"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651092000,"creation_date":1651090375,"question_id":72034751,"body_markdown":"I&#39;m attempting to display the number of teams inside team-scroll-container, but I don&#39;t understand why it keeps on displaying 0. This is my first time working with Jsoup so I&#39;ve only know the basics.\r\n\r\n    import java.io.IOException;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.select.Elements;\r\n    public class FinalProject {\r\n        public static void main(String[] args) throws IOException{\r\n            Document doc = Jsoup.connect(&quot;https://overwatchleague.com/en-us/schedule?stage=regular_season&amp;week=1&amp;team=allteams&quot;).get();\r\n            Elements body = doc.getElementsByClass(&quot;div#team-scroll-container&quot;);\r\n            System.out.println(body.select(&quot;div&quot;).size());\r\n        } \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Displaying divs using Jsoup","body":"<p>I'm attempting to display the number of teams inside team-scroll-container, but I don't understand why it keeps on displaying 0. This is my first time working with Jsoup so I've only know the basics.</p>\n<pre><code>import java.io.IOException;\nimport org.jsoup.Jsoup;\nimport org.jsoup.select.Elements;\npublic class FinalProject {\n    public static void main(String[] args) throws IOException{\n        Document doc = Jsoup.connect(&quot;https://overwatchleague.com/en-us/schedule?stage=regular_season&amp;week=1&amp;team=allteams&quot;).get();\n        Elements body = doc.getElementsByClass(&quot;div#team-scroll-container&quot;);\n        System.out.println(body.select(&quot;div&quot;).size());\n    } \n}\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":11259284,"reputation":615,"user_id":8258081,"display_name":"Jonas Tuemand M&#248;ller"},"score":0,"creation_date":1651070743,"post_id":72030625,"comment_id":127275702,"body_markdown":"Are you using the latest version of Selenium and Selenium Driver available to you?","body":"Are you using the latest version of Selenium and Selenium Driver available to you?"},{"owner":{"account_id":25116783,"reputation":1,"user_id":18965709,"display_name":"Musheer Khan"},"score":0,"creation_date":1651076149,"post_id":72030625,"comment_id":127277889,"body_markdown":"Yes @JonasTuemandM&#248;ller but it seems we cannot automate gmail","body":"Yes @JonasTuemandM&#248;ller but it seems we cannot automate gmail"}],"answers":[{"tags":[],"owner":{"account_id":25116783,"reputation":1,"user_id":18965709,"display_name":"Musheer Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651091883,"creation_date":1651091883,"answer_id":72035023,"question_id":72030625,"body_markdown":"For this the only work around is that we load our profile data in chrome at the time of launch, so it will have all the data of our profile, passwords, login details, so on the time of launch you will be logged in your gmail account\r\n\r\nHow to do it:\r\n\r\n            ChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;user-data-dir=/Users/&lt;your user \r\n                name&gt;/Library/Application Support/Google/Chrome&quot;);\r\n\t\t\t\r\n\r\n\t\t\toptions.addArguments(&quot;--disable-blink- \r\n                features=AutomationControlled&quot;);\r\n\t\t\toptions.setExperimentalOption(&quot;excludeSwitches&quot;, new String[] \r\n                {&quot;enable-automation&quot;, &quot;enable-logging&quot;, &quot;disable- \r\n                notifications&quot;});\r\n\t\t\t\r\n\t\t\tWebDriverManager.chromedriver().setup();\r\n\t\t\tdriver = new ChromeDriver(options);","title":"Couldn&#39;t sign you in; This browser or app may not be secure, Try using different browser","body":"<p>For this the only work around is that we load our profile data in chrome at the time of launch, so it will have all the data of our profile, passwords, login details, so on the time of launch you will be logged in your gmail account</p>\n<p>How to do it:</p>\n<pre><code>        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;user-data-dir=/Users/&lt;your user \n            name&gt;/Library/Application Support/Google/Chrome&quot;);\n        \n\n        options.addArguments(&quot;--disable-blink- \n            features=AutomationControlled&quot;);\n        options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[] \n            {&quot;enable-automation&quot;, &quot;enable-logging&quot;, &quot;disable- \n            notifications&quot;});\n        \n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":25116783,"reputation":1,"user_id":18965709,"display_name":"Musheer Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651091883,"creation_date":1651070103,"question_id":72030625,"body_markdown":"I have to login to gmail account using selenium script, but I am getting \r\n[Error message][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ypq56.png\r\n\r\nas read from other sources google doesn&#39;t allow to use automation script to login\r\n\r\nMachine: MacOS\r\nProgramming language: Java\r\n\r\nDoes anyone know how to resolve it?","title":"Couldn&#39;t sign you in; This browser or app may not be secure, Try using different browser","body":"<p>I have to login to gmail account using selenium script, but I am getting\n<a href=\"https://i.stack.imgur.com/ypq56.png\" rel=\"nofollow noreferrer\">Error message</a></p>\n<p>as read from other sources google doesn't allow to use automation script to login</p>\n<p>Machine: MacOS\nProgramming language: Java</p>\n<p>Does anyone know how to resolve it?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":0,"up_vote_count":170,"is_accepted":true,"score":170,"last_activity_date":1559037380,"creation_date":1383847919,"answer_id":19843507,"question_id":19843506,"body_markdown":"This problem has two typical causes:\n\n * Static fields used by the objects you stored in the list\n\n * Accidentally adding the *same* object to the list\n\n## Static Fields\n\nIf the objects in your list store data in static fields, each object in your list will appear to be the same because they hold the same values. Consider the class below:\n\n    public class Foo {\n      private static int value; \n      //      ^^^^^^------------ - Here&#39;s the problem!\n      \n      public Foo(int value) {\n        this.value = value;\n      }\n      \n      public int getValue() {\n        return value;\n      }\n    }\n\nIn that example, there is only one `int value` which is shared between all instances of `Foo` because it is declared `static`. (See [*&quot;Understanding Class Members&quot;*](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html) tutorial.)\n\nIf you add multiple `Foo` objects to a list using the code below, each instance will return `3` from a call to `getValue()`:\n\n    for (int i = 0; i &lt; 4; i++) {      \n      list.add(new Foo(i));\n    }\n\nThe solution is simple - don&#39;t use the `static` keywords for fields in your class unless you actually want the values shared between every instance of that class.\n\n\n## Adding the Same Object\n\nIf you add a temporary variable to a list, you must create a new instance of the object you are adding, each time you loop. Consider the following erroneous code snippet:\n\n    List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;();    \n    Foo tmp = new Foo();\n    \n    for (int i = 0; i &lt; 3; i++) {\n      tmp.setValue(i);\n      list.add(tmp);\n    }\n\nHere, the `tmp` object was constructed outside the loop. As a result, the *same object instance* is being added to the list three times. The instance will hold the value `2`, because that was the value passed during the last call to `setValue()`.\n\nTo fix this, just move the object construction inside the loop:\n\n\n    List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;();        \n    \n    for (int i = 0; i &lt; 3; i++) {\n      Foo tmp = new Foo(); // &lt;-- fresh instance!\n      tmp.setValue(i);\n      list.add(tmp);\n    }","title":"Why does my ArrayList contain N copies of the last item added to the list?","body":"<p>This problem has two typical causes:</p>\n<ul>\n<li><p>Static fields used by the objects you stored in the list</p>\n</li>\n<li><p>Accidentally adding the <em>same</em> object to the list</p>\n</li>\n</ul>\n<h2>Static Fields</h2>\n<p>If the objects in your list store data in static fields, each object in your list will appear to be the same because they hold the same values. Consider the class below:</p>\n<pre><code>public class Foo {\n  private static int value; \n  //      ^^^^^^------------ - Here's the problem!\n  \n  public Foo(int value) {\n    this.value = value;\n  }\n  \n  public int getValue() {\n    return value;\n  }\n}\n</code></pre>\n<p>In that example, there is only one <code>int value</code> which is shared between all instances of <code>Foo</code> because it is declared <code>static</code>. (See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"noreferrer\"><em>&quot;Understanding Class Members&quot;</em></a> tutorial.)</p>\n<p>If you add multiple <code>Foo</code> objects to a list using the code below, each instance will return <code>3</code> from a call to <code>getValue()</code>:</p>\n<pre><code>for (int i = 0; i &lt; 4; i++) {      \n  list.add(new Foo(i));\n}\n</code></pre>\n<p>The solution is simple - don't use the <code>static</code> keywords for fields in your class unless you actually want the values shared between every instance of that class.</p>\n<h2>Adding the Same Object</h2>\n<p>If you add a temporary variable to a list, you must create a new instance of the object you are adding, each time you loop. Consider the following erroneous code snippet:</p>\n<pre><code>List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;();    \nFoo tmp = new Foo();\n\nfor (int i = 0; i &lt; 3; i++) {\n  tmp.setValue(i);\n  list.add(tmp);\n}\n</code></pre>\n<p>Here, the <code>tmp</code> object was constructed outside the loop. As a result, the <em>same object instance</em> is being added to the list three times. The instance will hold the value <code>2</code>, because that was the value passed during the last call to <code>setValue()</code>.</p>\n<p>To fix this, just move the object construction inside the loop:</p>\n<pre><code>List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;();        \n\nfor (int i = 0; i &lt; 3; i++) {\n  Foo tmp = new Foo(); // &lt;-- fresh instance!\n  tmp.setValue(i);\n  list.add(tmp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7032122,"reputation":183,"user_id":5387424,"display_name":"Shashank"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1486093961,"creation_date":1468413118,"answer_id":38351825,"question_id":19843506,"body_markdown":"Your problem is with the type `static` which requires a new initialization every time a loop is iterated. If you are in a loop it is better to keep the concrete initialization inside the loop.\r\n\r\n    List&lt;Object&gt; objects = new ArrayList&lt;&gt;(); \r\n        \r\n    for (int i = 0; i &lt; length_you_want; i++) {\r\n        SomeStaticClass myStaticObject = new SomeStaticClass();\r\n        myStaticObject.tag = i;\r\n        // Do stuff with myStaticObject\r\n        objects.add(myStaticClass);\r\n    }\r\n\r\nInstead of:\r\n\r\n    List&lt;Object&gt; objects = new ArrayList&lt;&gt;(); \r\n    \r\n    SomeStaticClass myStaticObject = new SomeStaticClass();\r\n    for (int i = 0; i &lt; length; i++) {\r\n        myStaticObject.tag = i;\r\n        // Do stuff with myStaticObject\r\n        objects.add(myStaticClass);\r\n        // This will duplicate the last item &quot;length&quot; times\r\n    }\r\n\r\nHere `tag` is a variable in `SomeStaticClass` to check the validity of the above snippet; you can have some other implementation based on your use case.","title":"Why does my ArrayList contain N copies of the last item added to the list?","body":"<p>Your problem is with the type <code>static</code> which requires a new initialization every time a loop is iterated. If you are in a loop it is better to keep the concrete initialization inside the loop.</p>\n\n<pre><code>List&lt;Object&gt; objects = new ArrayList&lt;&gt;(); \n\nfor (int i = 0; i &lt; length_you_want; i++) {\n    SomeStaticClass myStaticObject = new SomeStaticClass();\n    myStaticObject.tag = i;\n    // Do stuff with myStaticObject\n    objects.add(myStaticClass);\n}\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>List&lt;Object&gt; objects = new ArrayList&lt;&gt;(); \n\nSomeStaticClass myStaticObject = new SomeStaticClass();\nfor (int i = 0; i &lt; length; i++) {\n    myStaticObject.tag = i;\n    // Do stuff with myStaticObject\n    objects.add(myStaticClass);\n    // This will duplicate the last item \"length\" times\n}\n</code></pre>\n\n<p>Here <code>tag</code> is a variable in <code>SomeStaticClass</code> to check the validity of the above snippet; you can have some other implementation based on your use case.</p>\n"},{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488177120,"creation_date":1488176503,"answer_id":42479056,"question_id":19843506,"body_markdown":"Every time you add an object to an ArrayList, make sure you add a new object and not already used object. What is happening is that when you add the same 1 copy of object, that same object is added to different positions in an ArrayList. And when you make change to one, because the same copy is added over and over again, all the copies get affected. \r\nFor example,\r\nSay you have an ArrayList like this:\r\n\r\n    ArrayList&lt;Card&gt; list = new ArrayList&lt;Card&gt;();\r\n    Card c = new Card();\r\n\r\nNow if you add this Card c to list, it will be added no problem. It will be saved at location 0. But, when you save the same Card c in the list, it will be saved at location 1. So remember that you added same 1 object to two different locations in a list. Now if you make a change that Card object c, the objects in a list at location 0 and 1 will also reflect that change, because they are the same object. \r\n\r\nOne solution would be to make a constructor in Card class, that accepts another Card object. Then in that constructor, you can set the properties like this:\r\n\r\n    public Card(Card c){\r\n    this.property1 = c.getProperty1();\r\n    this.property2 = c.getProperty2(); \r\n    ... //add all the properties that you have in this class Card this way\r\n    }\r\n\r\nAnd lets say you have the same 1 copy of Card, so at the time of adding a new object, you can do this:\r\n\r\n    list.add(new Card(nameOfTheCardObjectThatYouWantADifferentCopyOf));","title":"Why does my ArrayList contain N copies of the last item added to the list?","body":"<p>Every time you add an object to an ArrayList, make sure you add a new object and not already used object. What is happening is that when you add the same 1 copy of object, that same object is added to different positions in an ArrayList. And when you make change to one, because the same copy is added over and over again, all the copies get affected. \nFor example,\nSay you have an ArrayList like this:</p>\n\n<pre><code>ArrayList&lt;Card&gt; list = new ArrayList&lt;Card&gt;();\nCard c = new Card();\n</code></pre>\n\n<p>Now if you add this Card c to list, it will be added no problem. It will be saved at location 0. But, when you save the same Card c in the list, it will be saved at location 1. So remember that you added same 1 object to two different locations in a list. Now if you make a change that Card object c, the objects in a list at location 0 and 1 will also reflect that change, because they are the same object. </p>\n\n<p>One solution would be to make a constructor in Card class, that accepts another Card object. Then in that constructor, you can set the properties like this:</p>\n\n<pre><code>public Card(Card c){\nthis.property1 = c.getProperty1();\nthis.property2 = c.getProperty2(); \n... //add all the properties that you have in this class Card this way\n}\n</code></pre>\n\n<p>And lets say you have the same 1 copy of Card, so at the time of adding a new object, you can do this:</p>\n\n<pre><code>list.add(new Card(nameOfTheCardObjectThatYouWantADifferentCopyOf));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4190510,"reputation":2490,"user_id":3433232,"accept_rate":80,"display_name":"basti12354"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1534966049,"creation_date":1508877923,"answer_id":46919707,"question_id":19843506,"body_markdown":"Had the same trouble with the calendar instance.\r\n\r\nWrong code:\r\n\r\n    Calendar myCalendar = Calendar.getInstance();\r\n\r\n    for (int days = 0; days &lt; daysPerWeek; days++) {\r\n        myCalendar.add(Calendar.DAY_OF_YEAR, 1);\r\n\r\n        // In the next line lies the error\r\n        Calendar newCal = myCalendar;\r\n        calendarList.add(newCal);\r\n    }\r\n\r\n                \r\n                \r\nYou have to create a NEW object of the calendar, which can be done with `calendar.clone()`;\r\n\r\n    Calendar myCalendar = Calendar.getInstance();\r\n\r\n    for (int days = 0; days &lt; daysPerWeek; days++) {\r\n        myCalendar.add(Calendar.DAY_OF_YEAR, 1);\r\n    \r\n        // RIGHT WAY\r\n        Calendar newCal = (Calendar) myCalendar.clone();\r\n        calendarList.add(newCal);\r\n                    \r\n    }","title":"Why does my ArrayList contain N copies of the last item added to the list?","body":"<p>Had the same trouble with the calendar instance.</p>\n\n<p>Wrong code:</p>\n\n<pre><code>Calendar myCalendar = Calendar.getInstance();\n\nfor (int days = 0; days &lt; daysPerWeek; days++) {\n    myCalendar.add(Calendar.DAY_OF_YEAR, 1);\n\n    // In the next line lies the error\n    Calendar newCal = myCalendar;\n    calendarList.add(newCal);\n}\n</code></pre>\n\n<p>You have to create a NEW object of the calendar, which can be done with <code>calendar.clone()</code>;</p>\n\n<pre><code>Calendar myCalendar = Calendar.getInstance();\n\nfor (int days = 0; days &lt; daysPerWeek; days++) {\n    myCalendar.add(Calendar.DAY_OF_YEAR, 1);\n\n    // RIGHT WAY\n    Calendar newCal = (Calendar) myCalendar.clone();\n    calendarList.add(newCal);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8255930,"reputation":278,"user_id":6209105,"display_name":"Shaikh Mohib"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1588252209,"creation_date":1588244576,"answer_id":61521903,"question_id":19843506,"body_markdown":"It can also consequence of using the same reference instead of using a new one.      \r\n\r\n     List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;();        \r\n     \r\n     setdata();\r\n    ......\r\n \r\n    public void setdata(int i) {\r\n      Foo temp = new Foo();\r\n      tmp.setValue(i);\r\n      list.add(tmp);\r\n    }\r\n\r\nInstead of: \r\n\r\n   \r\n\r\n    List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;(); \r\n    Foo temp = new Foo();       \r\n    setdata();\r\n    ......\r\n \r\n    public void setdata(int i) {\r\n      tmp.setValue(i);\r\n      list.add(tmp);\r\n    } ","title":"Why does my ArrayList contain N copies of the last item added to the list?","body":"<p>It can also consequence of using the same reference instead of using a new one.      </p>\n\n<pre><code> List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;();        \n\n setdata();\n......\n\npublic void setdata(int i) {\n  Foo temp = new Foo();\n  tmp.setValue(i);\n  list.add(tmp);\n}\n</code></pre>\n\n<p>Instead of: </p>\n\n<pre><code>List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;(); \nFoo temp = new Foo();       \nsetdata();\n......\n\npublic void setdata(int i) {\n  tmp.setValue(i);\n  list.add(tmp);\n} \n</code></pre>\n"}],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72909,"favorite_count":0,"down_vote_count":5,"up_vote_count":107,"accepted_answer_id":19843507,"answer_count":5,"score":102,"last_activity_date":1651091350,"creation_date":1383847919,"question_id":19843506,"body_markdown":"I&#39;m adding three different objects to an ArrayList, but the list contains three copies of the last object I added. \r\n\r\nFor example:\r\n\r\n    for (Foo f : list) {\r\n      System.out.println(f.getValue());\r\n    }    \r\n\r\nExpected:\r\n\r\n    0\r\n    1\r\n    2\r\n\r\nActual:\r\n\r\n    2\r\n    2\r\n    2\r\n\r\n\r\nWhat mistake have I made?\r\n\r\n&lt;sup&gt;Note: this is designed to be a canonical Q&amp;A for the numerous similar issues that arise on this site.&lt;/sup&gt;","title":"Why does my ArrayList contain N copies of the last item added to the list?","body":"<p>I'm adding three different objects to an ArrayList, but the list contains three copies of the last object I added. </p>\n\n<p>For example:</p>\n\n<pre><code>for (Foo f : list) {\n  System.out.println(f.getValue());\n}    \n</code></pre>\n\n<p>Expected:</p>\n\n<pre><code>0\n1\n2\n</code></pre>\n\n<p>Actual:</p>\n\n<pre><code>2\n2\n2\n</code></pre>\n\n<p>What mistake have I made?</p>\n\n<p><sup>Note: this is designed to be a canonical Q&amp;A for the numerous similar issues that arise on this site.</sup></p>\n"},{"tags":["java","spring","spring-boot","spring-profiles"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651091248,"creation_date":1651091248,"answer_id":72034931,"question_id":72033485,"body_markdown":"if you have declared propertie var like`property.name=XXXX` or added environment var like `PROPERTY_NAME=XXXX`.\r\n\r\nyou need to use this way\r\n```java\r\n@Value(&quot;some-library-${property.name}&quot;)\r\n// will inject value &quot;some-library&quot; + &quot;XXXX&quot;\r\n```","title":"Can you override a library&#39;s Spring property placeholders?","body":"<p>if you have declared propertie var like<code>property.name=XXXX</code> or added environment var like <code>PROPERTY_NAME=XXXX</code>.</p>\n<p>you need to use this way</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;some-library-${property.name}&quot;)\n// will inject value &quot;some-library&quot; + &quot;XXXX&quot;\n</code></pre>\n"}],"owner":{"account_id":5241088,"reputation":737,"user_id":4188097,"accept_rate":56,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651091248,"creation_date":1651083068,"question_id":72033485,"body_markdown":"We are working on moving our application to use only Spring-Boot application.properties files. The old way we were doing was that each library/dependency would have their properties stored in a dedicated properties file like `res/environment/some-library-override.properties`. The values would then be retrieved in the library using `@Value(&quot;$some-library-{PROPERTY_NAME}&quot;)`.\r\n\r\nHowever, since moving all of these override properties to dedicated application.properties files, it is no longer resolving the properties and we get errors like `java.lang.NumberFormatException: For input string: &quot;$some-library-{PROPERTY_NAME}&quot;`.\r\n\r\nI assume this is because it is still expecting the property to be in that dedicated properties file.\r\n\r\nIs there a solution to this that doesn&#39;t involve modifying the library/dependency? Is it possible to have it ignore the prefix and only look for the PROPERTY_NAME in the application.properties files?","title":"Can you override a library&#39;s Spring property placeholders?","body":"<p>We are working on moving our application to use only Spring-Boot application.properties files. The old way we were doing was that each library/dependency would have their properties stored in a dedicated properties file like <code>res/environment/some-library-override.properties</code>. The values would then be retrieved in the library using <code>@Value(&quot;$some-library-{PROPERTY_NAME}&quot;)</code>.</p>\n<p>However, since moving all of these override properties to dedicated application.properties files, it is no longer resolving the properties and we get errors like <code>java.lang.NumberFormatException: For input string: &quot;$some-library-{PROPERTY_NAME}&quot;</code>.</p>\n<p>I assume this is because it is still expecting the property to be in that dedicated properties file.</p>\n<p>Is there a solution to this that doesn't involve modifying the library/dependency? Is it possible to have it ignore the prefix and only look for the PROPERTY_NAME in the application.properties files?</p>\n"},{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":4972497,"reputation":1593,"user_id":3999808,"accept_rate":0,"display_name":"Zun"},"score":0,"creation_date":1543928617,"post_id":53613615,"comment_id":94087900,"body_markdown":"Off-topic: why are you not using Retrofit?","body":"Off-topic: why are you not using Retrofit?"},{"owner":{"account_id":13048595,"reputation":469,"user_id":9429718,"display_name":"fishhau"},"score":0,"creation_date":1543928722,"post_id":53613615,"comment_id":94087963,"body_markdown":"I&#39;m actually following an android online course and the instructor uses OkHttp in this project.","body":"I&#39;m actually following an android online course and the instructor uses OkHttp in this project."}],"answers":[{"tags":[],"owner":{"account_id":3705567,"reputation":6096,"user_id":3084205,"accept_rate":62,"display_name":"Stanislav Bondar"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1543929755,"creation_date":1543929755,"answer_id":53613978,"question_id":53613615,"body_markdown":"`Response` body can be consumed only once.\r\nYou make it twice\r\n\r\n    Log.v(TAG, response.body().string());\r\n    String jsonData = response.body().string();\r\n\r\nMore info in [docs][1]\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/ResponseBody.html","title":"FATAL EXCEPTION: OkHttp Dispatcher","body":"<p><code>Response</code> body can be consumed only once.\nYou make it twice</p>\n\n<pre><code>Log.v(TAG, response.body().string());\nString jsonData = response.body().string();\n</code></pre>\n\n<p>More info in <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/ResponseBody.html\" rel=\"noreferrer\">docs</a></p>\n"},{"tags":[],"owner":{"account_id":9509134,"reputation":101,"user_id":7067594,"display_name":"Hillary Bett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563429974,"creation_date":1563429974,"answer_id":57088027,"question_id":53613615,"body_markdown":"Assign the response to a variable then you will be able to reuse it\r\n","title":"FATAL EXCEPTION: OkHttp Dispatcher","body":"<p>Assign the response to a variable then you will be able to reuse it</p>\n"},{"tags":[],"owner":{"account_id":9868014,"reputation":2739,"user_id":7308789,"display_name":"Houssin Boulla"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1577184242,"creation_date":1577184242,"answer_id":59467567,"question_id":53613615,"body_markdown":"This is caused by using different versions of OkHttp. \r\nEnsure all your dependencies from com.squareup.okhttp3 are using the same version.\r\n\r\nexample:\r\n\r\n    implementation &#39;com.squareup.okhttp3:logging-interceptor:3.8.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:3.8.0&#39;","title":"FATAL EXCEPTION: OkHttp Dispatcher","body":"<p>This is caused by using different versions of OkHttp. \nEnsure all your dependencies from com.squareup.okhttp3 are using the same version.</p>\n\n<p>example:</p>\n\n<pre><code>implementation 'com.squareup.okhttp3:logging-interceptor:3.8.0'\nimplementation 'com.squareup.okhttp3:okhttp:3.8.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8504594,"reputation":1212,"user_id":6376581,"display_name":"Dejan Atanasov"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1579627813,"creation_date":1579627813,"answer_id":59846373,"question_id":53613615,"body_markdown":"I had the same issue and got it resolved by switching to Java 8 compatibility. Add *compileOptions* under your **build.gradle** file. \r\n\r\n    android {\r\n    \r\n        ...\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n\r\n","title":"FATAL EXCEPTION: OkHttp Dispatcher","body":"<p>I had the same issue and got it resolved by switching to Java 8 compatibility. Add <em>compileOptions</em> under your <strong>build.gradle</strong> file. </p>\n\n<pre><code>android {\n\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3225868,"reputation":1863,"user_id":2722270,"display_name":"Weiyi"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1616761071,"creation_date":1616761071,"answer_id":66816809,"question_id":53613615,"body_markdown":"I tried all answers, even migrate okhttp from 3.14.9 to 4.4.0, but none worked for my case: I had a response interceptor inherited from `Interceptor`,\r\n\r\n```\r\nclass ResponseInterceptor : Interceptor {\r\n    @Throws(IOException::class)\r\n    override fun intercept(chain: Interceptor.Chain): Response {\r\n        val request = chain.request()\r\n        val response = chain.proceed(request)\r\n        if (!isSuccessful(response.code)) {\r\n            handleErrorResponse(response)\r\n        }\r\n        return response\r\n    }\r\n\r\n    private fun handleErrorResponse(response: Response) {\r\n        throw ApiException(response.body?.string()) // only called one time!\r\n    }\r\n}\r\n```\r\n\r\nI finally fixed it by change \r\n\r\n```\r\ndata class ApiException(val errorMessage: String?) : Exception(errorMessage)\r\n// `Exception` is `typealias Exception = java.lang.Exception`\r\n```\r\n\r\n\r\nto\r\n\r\n```\r\nimport java.io.IOException\r\ndata class ApiException(val errorMessage: String?) : IOException(errorMessage)\r\n```\r\n\r\nReally don&#39;t know why `java.lang.Exception` caused such issue.\r\n","title":"FATAL EXCEPTION: OkHttp Dispatcher","body":"<p>I tried all answers, even migrate okhttp from 3.14.9 to 4.4.0, but none worked for my case: I had a response interceptor inherited from <code>Interceptor</code>,</p>\n<pre><code>class ResponseInterceptor : Interceptor {\n    @Throws(IOException::class)\n    override fun intercept(chain: Interceptor.Chain): Response {\n        val request = chain.request()\n        val response = chain.proceed(request)\n        if (!isSuccessful(response.code)) {\n            handleErrorResponse(response)\n        }\n        return response\n    }\n\n    private fun handleErrorResponse(response: Response) {\n        throw ApiException(response.body?.string()) // only called one time!\n    }\n}\n</code></pre>\n<p>I finally fixed it by change</p>\n<pre><code>data class ApiException(val errorMessage: String?) : Exception(errorMessage)\n// `Exception` is `typealias Exception = java.lang.Exception`\n</code></pre>\n<p>to</p>\n<pre><code>import java.io.IOException\ndata class ApiException(val errorMessage: String?) : IOException(errorMessage)\n</code></pre>\n<p>Really don't know why <code>java.lang.Exception</code> caused such issue.</p>\n"},{"tags":[],"owner":{"account_id":15101512,"reputation":421,"user_id":10898364,"display_name":"icgoogo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627640588,"creation_date":1627640588,"answer_id":68589358,"question_id":53613615,"body_markdown":"in my case, i already called `response.body.string()` once but still got the crash. got it fixed with \r\n\r\n    ResponseBody responseBodyCopy = response.peekBody(Long.MAX_VALUE);\r\n    responseBodyCopy.string();\r\n\r\nfrom this comment on github : \r\n[https://github.com/square/okhttp/issues/1240#issuecomment-330813274][1]\r\n\r\n\r\n\r\n  [1]: https://github.com/square/okhttp/issues/1240#issuecomment-330813274","title":"FATAL EXCEPTION: OkHttp Dispatcher","body":"<p>in my case, i already called <code>response.body.string()</code> once but still got the crash. got it fixed with</p>\n<pre><code>ResponseBody responseBodyCopy = response.peekBody(Long.MAX_VALUE);\nresponseBodyCopy.string();\n</code></pre>\n<p>from this comment on github :\n<a href=\"https://github.com/square/okhttp/issues/1240#issuecomment-330813274\" rel=\"noreferrer\">https://github.com/square/okhttp/issues/1240#issuecomment-330813274</a></p>\n"},{"tags":[],"owner":{"account_id":8819323,"reputation":111,"user_id":6589732,"display_name":"GUGAN RAJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651091008,"creation_date":1650994133,"answer_id":72018147,"question_id":53613615,"body_markdown":"    dependencies {\r\n     implementation &quot;com.squareup.okhttp3:okhttp:4.2.1&quot;\r\n     compile &quot;com.squareup.okhttp3:logging-interceptor:4.2.1&quot;\r\n     compile &quot;com.squareup.okhttp3:okhttp-urlconnection:4.2.1&quot;\r\n    }","title":"FATAL EXCEPTION: OkHttp Dispatcher","body":"<pre><code>dependencies {\n implementation &quot;com.squareup.okhttp3:okhttp:4.2.1&quot;\n compile &quot;com.squareup.okhttp3:logging-interceptor:4.2.1&quot;\n compile &quot;com.squareup.okhttp3:okhttp-urlconnection:4.2.1&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":13048595,"reputation":469,"user_id":9429718,"display_name":"fishhau"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46005,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":53613978,"answer_count":7,"score":22,"last_activity_date":1651091008,"creation_date":1543928558,"question_id":53613615,"body_markdown":"I&#39;m using the OkHttp library in my android app to make web requests to a weather API. I&#39;ve already implemented my code and I&#39;m getting a FATAL EXCEPTION when doing the request.\r\n\r\nI&#39;ve already added INTERNET permissions in my manifest too.\r\n\r\nMainActivity.java:\r\n\r\n    private CurrentWeather currentWeather;\r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            final ActivityMainBinding binding = DataBindingUtil.setContentView(MainActivity.this, R.layout.activity_main);\r\n          \r\n            String apiKey = &quot;xxx&quot;;\r\n            double latitude = 37.8267;\r\n            double longitude = -122.4233;\r\n            String forecastURL = String.format(&quot;https://api.darksky.net/forecast/%s/%f,%f&quot;, apiKey, latitude, longitude);\r\n    \r\n            if (isNetworkAvailable()) {\r\n                OkHttpClient client = new OkHttpClient();\r\n    \r\n                Request request = new Request.Builder()\r\n                        .url(forecastURL)\r\n                        .build();\r\n    \r\n                Call call = client.newCall(request);\r\n                call.enqueue(new Callback() {\r\n                    @Override\r\n                    public void onFailure(Call call, IOException e) {\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void onResponse(Call call, Response response) throws IOException {\r\n                        try {\r\n                            Log.v(TAG, response.body().string());\r\n                            String jsonData = response.body().string();\r\n                            if (response.isSuccessful()) {\r\n                                currentWeather = getCurrentDetails(jsonData);\r\n                            }\r\n    \r\n                        } catch (IOException e) {\r\n                            Log.e(TAG, e.getLocalizedMessage());\r\n                        } catch (JSONException e) {\r\n                            Log.e(TAG, e.getLocalizedMessage());\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            Log.d(TAG, &quot;Main UI code is running&quot;);\r\n        }\r\n    \r\n        private CurrentWeather getCurrentDetails(String jsonData) throws JSONException {\r\n    \r\n            JSONObject forecast = new JSONObject(jsonData);\r\n            String timezone = forecast.getString(&quot;timezone&quot;);\r\n    \r\n            JSONObject currently = forecast.getJSONObject(&quot;currently&quot;);\r\n    \r\n            String icon = currently.getString(&quot;icon&quot;);\r\n            String locationLabel = &quot;Alcatraz Island&quot;;\r\n            String summary = currently.getString(&quot;summary&quot;);\r\n            long time = currently.getLong(&quot;time&quot;);\r\n            double humidity = currently.getDouble(&quot;humidity&quot;);\r\n            double precipProbability = currently.getDouble(&quot;precipProbability&quot;);\r\n            double temperature = currently.getDouble(&quot;temperature&quot;);\r\n    \r\n            return new CurrentWeather(locationLabel, icon, time, temperature, humidity, precipProbability, summary, timezone);\r\n        }\r\n\r\nGradle:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n        implementation &#39;com.squareup.okhttp3:okhttp:3.12.0&#39;\r\n    \r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    }\r\n\r\nThen, here&#39;s the exception I&#39;m getting:\r\n\r\n    2018-12-04 20:55:49.969 3314-3330/com.test.starmie E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher\r\n        Process: com.test.starmie, PID: 3314\r\n        java.lang.IllegalStateException: closed\r\n            at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:407)\r\n            at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:401)\r\n            at okhttp3.internal.Util.bomAwareCharset(Util.java:471)\r\n            at okhttp3.ResponseBody.string(ResponseBody.java:175)\r\n            at com.test.starmie.MainActivity$1.onResponse(MainActivity.java:66)\r\n            at okhttp3.RealCall$AsyncCall.execute(RealCall.java:206)\r\n            at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\r\n            at java.lang.Thread.run(Thread.java:761)\r\n\r\nI don&#39;t know what to do at this point. I&#39;ve read around and found a few posts regarding this topic. From what I&#39;ve gathered, UI changes must be made in the runOnUiThread() block. But I&#39;m not making any UI changes here in my code and I still get the exception.\r\n\r\nI&#39;ve also already tried putting my JSON parsing code in the runOnUiThread() and got the same FATAL EXCEPTION result. Anyone got any ideas? ","title":"FATAL EXCEPTION: OkHttp Dispatcher","body":"<p>I'm using the OkHttp library in my android app to make web requests to a weather API. I've already implemented my code and I'm getting a FATAL EXCEPTION when doing the request.</p>\n\n<p>I've already added INTERNET permissions in my manifest too.</p>\n\n<p>MainActivity.java:</p>\n\n<pre><code>private CurrentWeather currentWeather;\n\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        final ActivityMainBinding binding = DataBindingUtil.setContentView(MainActivity.this, R.layout.activity_main);\n\n        String apiKey = \"xxx\";\n        double latitude = 37.8267;\n        double longitude = -122.4233;\n        String forecastURL = String.format(\"https://api.darksky.net/forecast/%s/%f,%f\", apiKey, latitude, longitude);\n\n        if (isNetworkAvailable()) {\n            OkHttpClient client = new OkHttpClient();\n\n            Request request = new Request.Builder()\n                    .url(forecastURL)\n                    .build();\n\n            Call call = client.newCall(request);\n            call.enqueue(new Callback() {\n                @Override\n                public void onFailure(Call call, IOException e) {\n\n                }\n\n                @Override\n                public void onResponse(Call call, Response response) throws IOException {\n                    try {\n                        Log.v(TAG, response.body().string());\n                        String jsonData = response.body().string();\n                        if (response.isSuccessful()) {\n                            currentWeather = getCurrentDetails(jsonData);\n                        }\n\n                    } catch (IOException e) {\n                        Log.e(TAG, e.getLocalizedMessage());\n                    } catch (JSONException e) {\n                        Log.e(TAG, e.getLocalizedMessage());\n                    }\n                }\n            });\n        }\n        Log.d(TAG, \"Main UI code is running\");\n    }\n\n    private CurrentWeather getCurrentDetails(String jsonData) throws JSONException {\n\n        JSONObject forecast = new JSONObject(jsonData);\n        String timezone = forecast.getString(\"timezone\");\n\n        JSONObject currently = forecast.getJSONObject(\"currently\");\n\n        String icon = currently.getString(\"icon\");\n        String locationLabel = \"Alcatraz Island\";\n        String summary = currently.getString(\"summary\");\n        long time = currently.getLong(\"time\");\n        double humidity = currently.getDouble(\"humidity\");\n        double precipProbability = currently.getDouble(\"precipProbability\");\n        double temperature = currently.getDouble(\"temperature\");\n\n        return new CurrentWeather(locationLabel, icon, time, temperature, humidity, precipProbability, summary, timezone);\n    }\n</code></pre>\n\n<p>Gradle:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.squareup.okhttp3:okhttp:3.12.0'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n\n<p>Then, here's the exception I'm getting:</p>\n\n<pre><code>2018-12-04 20:55:49.969 3314-3330/com.test.starmie E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher\n    Process: com.test.starmie, PID: 3314\n    java.lang.IllegalStateException: closed\n        at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:407)\n        at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:401)\n        at okhttp3.internal.Util.bomAwareCharset(Util.java:471)\n        at okhttp3.ResponseBody.string(ResponseBody.java:175)\n        at com.test.starmie.MainActivity$1.onResponse(MainActivity.java:66)\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:206)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n        at java.lang.Thread.run(Thread.java:761)\n</code></pre>\n\n<p>I don't know what to do at this point. I've read around and found a few posts regarding this topic. From what I've gathered, UI changes must be made in the runOnUiThread() block. But I'm not making any UI changes here in my code and I still get the exception.</p>\n\n<p>I've also already tried putting my JSON parsing code in the runOnUiThread() and got the same FATAL EXCEPTION result. Anyone got any ideas? </p>\n"},{"tags":["java","android","google-maps","google-maps-markers"],"answers":[{"tags":[],"owner":{"account_id":1197205,"reputation":18872,"user_id":1168654,"accept_rate":58,"display_name":"Dhaval Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368273008,"creation_date":1368273008,"answer_id":16496770,"question_id":16496715,"body_markdown":"try this code:\r\n\r\n    @Override\r\n        public void onInfoWindowClick(final Marker marker) \r\n        {\r\n            // TODO Auto-generated method stub\r\n           if (marker.getTitle().equalsIgnoreCase(&quot;Start&quot;)) {\r\n            Toast.makeText(showMaps.this, &quot;You have click on start --&gt;&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n            Log.e(&quot;marker.getPosition()--&gt;&quot;, &quot;&quot; + marker.getPosition());\r\n          }\r\n        }","title":"How to know which Marker was clicked on Google Maps v2 for Android?","body":"<p>try this code:</p>\n\n<pre><code>@Override\n    public void onInfoWindowClick(final Marker marker) \n    {\n        // TODO Auto-generated method stub\n       if (marker.getTitle().equalsIgnoreCase(\"Start\")) {\n        Toast.makeText(showMaps.this, \"You have click on start --&gt;\",\n                Toast.LENGTH_LONG).show();\n        Log.e(\"marker.getPosition()--&gt;\", \"\" + marker.getPosition());\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":769428,"reputation":22217,"user_id":2183804,"accept_rate":62,"display_name":"MaciejG&#243;rski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368274635,"creation_date":1368274635,"answer_id":16496983,"question_id":16496715,"body_markdown":"You are not obligated to show title when you have it set, so you can use that and as long as you return a `View` from `getInfoContents` and not `setText` on any subview of that returned `View` with title value.\r\n\r\nDepending on how and if you already keep references to all markers, there are alternatives, e.g. if you had `List&lt;Marker&gt; policeMarkers` and `List&lt;Marker&gt; badGuysMarkers` you can use a conditional `if (policeMarkers.contains(marker)) { ... } else { ... }`.\r\n\r\nYou can also keep a `Map&lt;Marker, YourMarkerRelatedDataModel&gt; allMarkers` and do `YourMarkerRelatedDataModel model = allMarkers.get(marker);` and use that value to differentiate.\r\n\r\nFinally you can use [Android Maps Extensions](http://code.google.com/p/android-maps-extensions/), which adds functions like `Marker.setData(Object)` and `Object Marker.getData()` to keep your model close to your markers and not create things like `Map&lt;Marker, Model&gt;`.","title":"How to know which Marker was clicked on Google Maps v2 for Android?","body":"<p>You are not obligated to show title when you have it set, so you can use that and as long as you return a <code>View</code> from <code>getInfoContents</code> and not <code>setText</code> on any subview of that returned <code>View</code> with title value.</p>\n\n<p>Depending on how and if you already keep references to all markers, there are alternatives, e.g. if you had <code>List&lt;Marker&gt; policeMarkers</code> and <code>List&lt;Marker&gt; badGuysMarkers</code> you can use a conditional <code>if (policeMarkers.contains(marker)) { ... } else { ... }</code>.</p>\n\n<p>You can also keep a <code>Map&lt;Marker, YourMarkerRelatedDataModel&gt; allMarkers</code> and do <code>YourMarkerRelatedDataModel model = allMarkers.get(marker);</code> and use that value to differentiate.</p>\n\n<p>Finally you can use <a href=\"http://code.google.com/p/android-maps-extensions/\" rel=\"nofollow\">Android Maps Extensions</a>, which adds functions like <code>Marker.setData(Object)</code> and <code>Object Marker.getData()</code> to keep your model close to your markers and not create things like <code>Map&lt;Marker, Model&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3970533,"reputation":5671,"user_id":3275253,"accept_rate":17,"display_name":"voghDev"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1548139259,"creation_date":1393174928,"answer_id":21971363,"question_id":16496715,"body_markdown":"In reply to:\r\n\r\n&gt;The question is: How do I identify what entity the clicked Marker &#39;marker&#39; represents?\r\n&gt; [...]\r\n&gt;There&#39;s also a marker.getId(), but such ID is generated by the API and I can&#39;t control it\r\n\r\nYou can control it. The marker is returned by addMarker(), so you can get its ID and store it. Here&#39;s the code:\r\n\r\n    Map &lt;String, Integer&gt; markers = new HashMap&lt;String, Integer&gt;();\r\n\r\n...\r\n\r\n    MarkerOptions mo = new MarkerOptions()\r\n    .icon(BitmapDescriptorFactory.fromResource(R.drawable.my_marker))\r\n    .position(new LatLng(mLat, mLon))\r\n    .flat(true)\t\r\n    .snippet(&quot;Click here for details&quot;)\r\n    .rotation(0)\r\n    .title(title);\r\n\r\nWhen you add the marker to the map, store its ID on the container\r\n\r\n    MyClass myObject = new MyClass(lat, lon); // The class that you are rendering on the map with Markers, for example &quot;Monument&quot;\r\n    Marker mkr = map.addMarker(mo);\r\n    markers.put(mkr.getId(), myObject.getId()); \r\n\r\nThen when the marker is clicked, you can recover the id of &quot;myObject&quot; like this\r\n\r\n    map.setOnInfoWindowClickListener(new OnInfoWindowClickListener() {\r\n        public void onInfoWindowClick(Marker marker) {\r\n            int id = markers.get(marker.getId());\r\n            // Now id contains which Monument (or your preferred class) was clicked\t\t\t\t\t\t\t\r\n        }\r\n    });","title":"How to know which Marker was clicked on Google Maps v2 for Android?","body":"<p>In reply to:</p>\n\n<blockquote>\n  <p>The question is: How do I identify what entity the clicked Marker 'marker' represents?\n  [...]\n  There's also a marker.getId(), but such ID is generated by the API and I can't control it</p>\n</blockquote>\n\n<p>You can control it. The marker is returned by addMarker(), so you can get its ID and store it. Here's the code:</p>\n\n<pre><code>Map &lt;String, Integer&gt; markers = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n\n<p>...</p>\n\n<pre><code>MarkerOptions mo = new MarkerOptions()\n.icon(BitmapDescriptorFactory.fromResource(R.drawable.my_marker))\n.position(new LatLng(mLat, mLon))\n.flat(true) \n.snippet(\"Click here for details\")\n.rotation(0)\n.title(title);\n</code></pre>\n\n<p>When you add the marker to the map, store its ID on the container</p>\n\n<pre><code>MyClass myObject = new MyClass(lat, lon); // The class that you are rendering on the map with Markers, for example \"Monument\"\nMarker mkr = map.addMarker(mo);\nmarkers.put(mkr.getId(), myObject.getId()); \n</code></pre>\n\n<p>Then when the marker is clicked, you can recover the id of \"myObject\" like this</p>\n\n<pre><code>map.setOnInfoWindowClickListener(new OnInfoWindowClickListener() {\n    public void onInfoWindowClick(Marker marker) {\n        int id = markers.get(marker.getId());\n        // Now id contains which Monument (or your preferred class) was clicked                         \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4825149,"reputation":3219,"user_id":3894781,"accept_rate":96,"display_name":"ShahiM"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505888685,"creation_date":1505888685,"answer_id":46314694,"question_id":16496715,"body_markdown":"There is a better option, and this is what google suggests:\r\n\r\n&gt; **Tag** : An `Object` associated with the marker. For example, the `Object` can contain data about what the marker represents. This is easier than storing a separate `Map&lt;Marker, Object&gt;`. As another example, you can associate a `String` ID corresponding to the ID from a data set. Google Maps Android API neither reads nor writes this property.\r\n\r\n[Source](https://developers.google.com/android/reference/com/google/android/gms/maps/model/Marker)\r\n\r\nSo you can do something like this: \r\n\r\n    for (ListItem it: mList) {\r\n        Marker mk = mMap.addMarker(new MarkerOptions().position(it.getLatLng()).title(it.getName()).snippet(it.getAddress()));\r\n        mk.setTag(it.getID());\r\n    }\r\n\r\n    mMap.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener() {\r\n        @Override\r\n        public boolean onMarkerClick(Marker marker) {\r\n            Integer id = (Integer) marker.getTag();\r\n            return false;\r\n        }\r\n    });","title":"How to know which Marker was clicked on Google Maps v2 for Android?","body":"<p>There is a better option, and this is what google suggests:</p>\n\n<blockquote>\n  <p><strong>Tag</strong> : An <code>Object</code> associated with the marker. For example, the <code>Object</code> can contain data about what the marker represents. This is easier than storing a separate <code>Map&lt;Marker, Object&gt;</code>. As another example, you can associate a <code>String</code> ID corresponding to the ID from a data set. Google Maps Android API neither reads nor writes this property.</p>\n</blockquote>\n\n<p><a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/model/Marker\" rel=\"noreferrer\">Source</a></p>\n\n<p>So you can do something like this: </p>\n\n<pre><code>for (ListItem it: mList) {\n    Marker mk = mMap.addMarker(new MarkerOptions().position(it.getLatLng()).title(it.getName()).snippet(it.getAddress()));\n    mk.setTag(it.getID());\n}\n\nmMap.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener() {\n    @Override\n    public boolean onMarkerClick(Marker marker) {\n        Integer id = (Integer) marker.getTag();\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16549715,"reputation":1,"user_id":11958371,"display_name":"Rohith S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596991234,"creation_date":1596991234,"answer_id":63328892,"question_id":16496715,"body_markdown":"   \r\n\r\n      map.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener() {\r\n                    public void onInfoWindowClick(Marker marker) {\r\n\r\n                        double lat=marker.getPosition().latitude;\r\n                        double lng=marker.getPosition().longitude;\r\n\r\n\r\n                    }\r\n                });","title":"How to know which Marker was clicked on Google Maps v2 for Android?","body":"<pre><code>  map.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener() {\n                public void onInfoWindowClick(Marker marker) {\n\n                    double lat=marker.getPosition().latitude;\n                    double lng=marker.getPosition().longitude;\n\n\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23477658,"reputation":428,"user_id":17530237,"display_name":"kamal douma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651090857,"creation_date":1651081367,"answer_id":72033160,"question_id":16496715,"body_markdown":"     mMap.setOnMarkerClickListener{\r\n                Log.d(TAG , &quot;easy&quot;)\r\n                return@setOnMarkerClickListener true\r\n            }\r\n\r\n","title":"How to know which Marker was clicked on Google Maps v2 for Android?","body":"<pre><code> mMap.setOnMarkerClickListener{\n            Log.d(TAG , &quot;easy&quot;)\n            return@setOnMarkerClickListener true\n        }\n</code></pre>\n"}],"owner":{"account_id":1516624,"reputation":900,"user_id":1417487,"accept_rate":70,"display_name":"filipehd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15040,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1651090857,"creation_date":1368272648,"question_id":16496715,"body_markdown":"I am making an application with a Google Maps on it, for Android. I have plenty of Markers on my screen and I am preparing customizable balloon for each marker when they are clicked. This means, I have information which is different according to the marker which was clicked.\r\n\r\nI set up the contents of the View of the marker with setInfoWindowAdapter and then I override the method getInfoContents.\r\n\r\nThe problem is: This method is the general implementation of the contents of the Info Window, but each marker shall show its own information. So, as far as I understand, I have to somehow detect on getInfoContents(Marker marker) which of the markers have been clicked, in order to load from my data structures the necessary info to present on the info window. The question is: **How do I identify what entity the clicked Marker &#39;marker&#39; represents?** I mean, having just the object Marker on getInfoContents which was triggered to show the info window, how can I detect which is the proper information to display? I though about comparing the string Title by using marker.getTitle(), but this obliges me to display a Title on the info window, which I do not want. There&#39;s also a marker.getId(), but such ID is generated by the API and I can&#39;t control it\r\n\r\nAny ideas?","title":"How to know which Marker was clicked on Google Maps v2 for Android?","body":"<p>I am making an application with a Google Maps on it, for Android. I have plenty of Markers on my screen and I am preparing customizable balloon for each marker when they are clicked. This means, I have information which is different according to the marker which was clicked.</p>\n\n<p>I set up the contents of the View of the marker with setInfoWindowAdapter and then I override the method getInfoContents.</p>\n\n<p>The problem is: This method is the general implementation of the contents of the Info Window, but each marker shall show its own information. So, as far as I understand, I have to somehow detect on getInfoContents(Marker marker) which of the markers have been clicked, in order to load from my data structures the necessary info to present on the info window. The question is: <strong>How do I identify what entity the clicked Marker 'marker' represents?</strong> I mean, having just the object Marker on getInfoContents which was triggered to show the info window, how can I detect which is the proper information to display? I though about comparing the string Title by using marker.getTitle(), but this obliges me to display a Title on the info window, which I do not want. There's also a marker.getId(), but such ID is generated by the API and I can't control it</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","debezium","ksqldb"],"owner":{"account_id":3102821,"reputation":4453,"user_id":2626491,"accept_rate":77,"display_name":"Alex Woolford"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651090793,"creation_date":1648749843,"question_id":71697236,"body_markdown":"A friend reached out and told me that he&#39;d built a data pipeline that captures changes from MySQL using the Debezium connector, and then performs streaming aggregations on the events using ksqlDB.\r\n\r\n[![aggregations in ksqlDB][1]][1]\r\n\r\nAt first glance, it appeared to work well. He added records to MySQL and could see the totals increase in ksqlDB. That&#39;s the very simplest scenario: where records are only created. Unfortunately, his ksqlDB aggregation didn&#39;t handle updates or deletes.\r\n\r\nWe thought ksqlDB might be a simpler solution, but `COALESCE` (and various other functions) don&#39;t seem to work with structs. For example:\r\n\r\n    ksql&gt; CREATE STREAM ORDER_LINE_DEBEZIUM WITH (KAFKA_TOPIC=&#39;order_line_debezium&#39;, VALUE_FORMAT=&#39;AVRO&#39;);\r\n    \r\n    ksql&gt; SELECT\r\n    &gt;  BEFORE -&gt; ID AS BEFORE_ID,\r\n    &gt;  AFTER-&gt;ID AS AFTER_ID,\r\n    &gt;  COALESCE(BEFORE -&gt; ID, AFTER-&gt;ID) AS ID\r\n    &gt;FROM ORDER_LINE_DEBEZIUM EMIT CHANGES;\r\n    +-------------------+-------------------+-------------------+\r\n    |BEFORE_ID          |AFTER_ID           |ID                 |\r\n    +-------------------+-------------------+-------------------+\r\n    |null               |13363              |null               |\r\n    |null               |13364              |null               |\r\n    |null               |13365              |null               |\r\n\r\n`COALESCE` should take the first non-null value. The `AFTER -&gt; ID` property is not null, and yet the `COALESCE` function returned `null`.\r\n\r\nI wrote a quick &amp; dirty Kafka Streams job:\r\n\r\n[![aggregations in Kafka Streams][2]][2]\r\n\r\nHere&#39;s the gist of it:\r\n\r\n    import io.confluent.kafka.streams.serdes.avro.GenericAvroSerde;\r\n    import io.woolford.avro.OrderAdjustment;\r\n    import io.woolford.avro.OrderId;\r\n    import org.apache.avro.generic.GenericData;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.kafka.streams.*;\r\n    import org.apache.kafka.streams.kstream.KStream;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    \r\n    public class OrderAggregator {\r\n    \r\n        final Logger LOG = LoggerFactory.getLogger(OrderAggregator.class);\r\n    \r\n        void run() throws IOException {\r\n            // load properties\r\n            Properties props = new Properties();\r\n            InputStream input = OrderAggregator.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;);\r\n            props.load(input);\r\n    \r\n            props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\r\n            props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\r\n    \r\n            final StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n            final KStream&lt;GenericRecord, GenericRecord&gt; orderLineStream = builder.stream(&quot;order_line_debezium&quot;);\r\n    \r\n            orderLineStream\r\n                    .filter((key, value) -&gt; value != null)\r\n                    .map((key, value) -&gt; {\r\n    \r\n                        Object op = String.valueOf(value.get(&quot;op&quot;)); // d, c, u (and r - if snapshot)\r\n    \r\n                        Object before = value.get(&quot;before&quot;);\r\n                        Object after = value.get(&quot;after&quot;);\r\n    \r\n                        OrderAdjustment orderAdjustment = new OrderAdjustment();\r\n    \r\n                        Long id = null;\r\n                        Long orderId = null;\r\n    \r\n                        if (op.equals(&quot;d&quot;)){\r\n                            // delete\r\n                            id = (Long) ((GenericData.Record) before).get(&quot;id&quot;);\r\n                            orderAdjustment.setId(id);\r\n    \r\n                            orderId = (Long) ((GenericData.Record) before).get(&quot;order_id&quot;);\r\n                            orderAdjustment.setOrderId(orderId);\r\n    \r\n                            int beforeQuantity = (int) ((GenericData.Record) before).get(&quot;quantity&quot;);\r\n                            orderAdjustment.setQuantity(-beforeQuantity);\r\n                        } else if (op.equals(&quot;u&quot;)) {\r\n                            // update\r\n                            id = (Long) ((GenericData.Record) before).get(&quot;id&quot;);\r\n                            orderAdjustment.setId(id);\r\n    \r\n                            orderId = (Long) ((GenericData.Record) before).get(&quot;order_id&quot;);\r\n                            orderAdjustment.setOrderId(orderId);\r\n    \r\n                            int beforeQuantity = (int) ((GenericData.Record) before).get(&quot;quantity&quot;);\r\n                            int afterQuantity = (int) ((GenericData.Record) after).get(&quot;quantity&quot;);\r\n                            orderAdjustment.setQuantity(afterQuantity - beforeQuantity);\r\n                        } else {\r\n                            // create (c) or read (r) - happens on snapshot)\r\n                            id = (Long) ((GenericData.Record) after).get(&quot;id&quot;);\r\n                            orderAdjustment.setId(id);\r\n    \r\n                            orderId = (Long) ((GenericData.Record) after).get(&quot;order_id&quot;);\r\n                            orderAdjustment.setOrderId(orderId);\r\n    \r\n                            int quantity = (int) ((GenericData.Record) after).get(&quot;quantity&quot;);\r\n                            orderAdjustment.setQuantity(quantity);\r\n                        }\r\n    \r\n                        LOG.info(&quot;orderAdjustment: &quot; + orderAdjustment);\r\n    \r\n                        OrderId orderIdAvro = new OrderId();\r\n                        orderIdAvro.setOrderId(orderId);\r\n    \r\n                        return new KeyValue&lt;&gt;(orderIdAvro, orderAdjustment);\r\n    \r\n                    }).to(&quot;order_line_adjustment&quot;);\r\n    \r\n    \r\n            // run it\r\n            final Topology topology = builder.build();\r\n            final KafkaStreams streams = new KafkaStreams(topology, props);\r\n            streams.cleanUp();\r\n            streams.start();\r\n    \r\n            // Add shutdown hook to respond to SIGTERM and gracefully close Kafka Streams\r\n            Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThe &quot;full-fidelity&quot; Debezium events (i.e. not unwrapped) contain the `before` and `after` states. This means each message contains everything we need to calculate the changes. Since the Streams job is stateless, perhaps it&#39;d make more sense to do this transformation in an SMT. If he uses Kafka Streams to do this, the Streams job would need to be monitored and maintained.\r\n\r\nSide note: because he&#39;ll be aggregating a stream of changes, it&#39;s important to enable exactly-once semantics. I mention this in case someone reads this in the future, forgets to turn it on, and eventually experiences inflated aggregates and doesn&#39;t know why. ;)\r\n\r\nCapturing CDC events and performing real-time aggregations seems like it&#39;d be a very popular use-case. I&#39;m wondering if anyone in the community has examples of this that don&#39;t entail writing custom Kafka Streams applications or SMTs to do this.\r\n\r\nDoes anyone have guidance/thoughts/recommendations? A config-only solution would be amazing.\r\n\r\n  [1]: https://i.stack.imgur.com/mE43v.png\r\n  [2]: https://i.stack.imgur.com/0nVHQ.png","title":"Perform streaming aggregations on CDC events that contain deletes/updates","body":"<p>A friend reached out and told me that he'd built a data pipeline that captures changes from MySQL using the Debezium connector, and then performs streaming aggregations on the events using ksqlDB.</p>\n<p><a href=\"https://i.stack.imgur.com/mE43v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mE43v.png\" alt=\"aggregations in ksqlDB\" /></a></p>\n<p>At first glance, it appeared to work well. He added records to MySQL and could see the totals increase in ksqlDB. That's the very simplest scenario: where records are only created. Unfortunately, his ksqlDB aggregation didn't handle updates or deletes.</p>\n<p>We thought ksqlDB might be a simpler solution, but <code>COALESCE</code> (and various other functions) don't seem to work with structs. For example:</p>\n<pre><code>ksql&gt; CREATE STREAM ORDER_LINE_DEBEZIUM WITH (KAFKA_TOPIC='order_line_debezium', VALUE_FORMAT='AVRO');\n\nksql&gt; SELECT\n&gt;  BEFORE -&gt; ID AS BEFORE_ID,\n&gt;  AFTER-&gt;ID AS AFTER_ID,\n&gt;  COALESCE(BEFORE -&gt; ID, AFTER-&gt;ID) AS ID\n&gt;FROM ORDER_LINE_DEBEZIUM EMIT CHANGES;\n+-------------------+-------------------+-------------------+\n|BEFORE_ID          |AFTER_ID           |ID                 |\n+-------------------+-------------------+-------------------+\n|null               |13363              |null               |\n|null               |13364              |null               |\n|null               |13365              |null               |\n</code></pre>\n<p><code>COALESCE</code> should take the first non-null value. The <code>AFTER -&gt; ID</code> property is not null, and yet the <code>COALESCE</code> function returned <code>null</code>.</p>\n<p>I wrote a quick &amp; dirty Kafka Streams job:</p>\n<p><a href=\"https://i.stack.imgur.com/0nVHQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0nVHQ.png\" alt=\"aggregations in Kafka Streams\" /></a></p>\n<p>Here's the gist of it:</p>\n<pre><code>import io.confluent.kafka.streams.serdes.avro.GenericAvroSerde;\nimport io.woolford.avro.OrderAdjustment;\nimport io.woolford.avro.OrderId;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.kafka.streams.*;\nimport org.apache.kafka.streams.kstream.KStream;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\npublic class OrderAggregator {\n\n    final Logger LOG = LoggerFactory.getLogger(OrderAggregator.class);\n\n    void run() throws IOException {\n        // load properties\n        Properties props = new Properties();\n        InputStream input = OrderAggregator.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;);\n        props.load(input);\n\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class);\n\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        final KStream&lt;GenericRecord, GenericRecord&gt; orderLineStream = builder.stream(&quot;order_line_debezium&quot;);\n\n        orderLineStream\n                .filter((key, value) -&gt; value != null)\n                .map((key, value) -&gt; {\n\n                    Object op = String.valueOf(value.get(&quot;op&quot;)); // d, c, u (and r - if snapshot)\n\n                    Object before = value.get(&quot;before&quot;);\n                    Object after = value.get(&quot;after&quot;);\n\n                    OrderAdjustment orderAdjustment = new OrderAdjustment();\n\n                    Long id = null;\n                    Long orderId = null;\n\n                    if (op.equals(&quot;d&quot;)){\n                        // delete\n                        id = (Long) ((GenericData.Record) before).get(&quot;id&quot;);\n                        orderAdjustment.setId(id);\n\n                        orderId = (Long) ((GenericData.Record) before).get(&quot;order_id&quot;);\n                        orderAdjustment.setOrderId(orderId);\n\n                        int beforeQuantity = (int) ((GenericData.Record) before).get(&quot;quantity&quot;);\n                        orderAdjustment.setQuantity(-beforeQuantity);\n                    } else if (op.equals(&quot;u&quot;)) {\n                        // update\n                        id = (Long) ((GenericData.Record) before).get(&quot;id&quot;);\n                        orderAdjustment.setId(id);\n\n                        orderId = (Long) ((GenericData.Record) before).get(&quot;order_id&quot;);\n                        orderAdjustment.setOrderId(orderId);\n\n                        int beforeQuantity = (int) ((GenericData.Record) before).get(&quot;quantity&quot;);\n                        int afterQuantity = (int) ((GenericData.Record) after).get(&quot;quantity&quot;);\n                        orderAdjustment.setQuantity(afterQuantity - beforeQuantity);\n                    } else {\n                        // create (c) or read (r) - happens on snapshot)\n                        id = (Long) ((GenericData.Record) after).get(&quot;id&quot;);\n                        orderAdjustment.setId(id);\n\n                        orderId = (Long) ((GenericData.Record) after).get(&quot;order_id&quot;);\n                        orderAdjustment.setOrderId(orderId);\n\n                        int quantity = (int) ((GenericData.Record) after).get(&quot;quantity&quot;);\n                        orderAdjustment.setQuantity(quantity);\n                    }\n\n                    LOG.info(&quot;orderAdjustment: &quot; + orderAdjustment);\n\n                    OrderId orderIdAvro = new OrderId();\n                    orderIdAvro.setOrderId(orderId);\n\n                    return new KeyValue&lt;&gt;(orderIdAvro, orderAdjustment);\n\n                }).to(&quot;order_line_adjustment&quot;);\n\n\n        // run it\n        final Topology topology = builder.build();\n        final KafkaStreams streams = new KafkaStreams(topology, props);\n        streams.cleanUp();\n        streams.start();\n\n        // Add shutdown hook to respond to SIGTERM and gracefully close Kafka Streams\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n\n    }\n\n}\n</code></pre>\n<p>The &quot;full-fidelity&quot; Debezium events (i.e. not unwrapped) contain the <code>before</code> and <code>after</code> states. This means each message contains everything we need to calculate the changes. Since the Streams job is stateless, perhaps it'd make more sense to do this transformation in an SMT. If he uses Kafka Streams to do this, the Streams job would need to be monitored and maintained.</p>\n<p>Side note: because he'll be aggregating a stream of changes, it's important to enable exactly-once semantics. I mention this in case someone reads this in the future, forgets to turn it on, and eventually experiences inflated aggregates and doesn't know why. ;)</p>\n<p>Capturing CDC events and performing real-time aggregations seems like it'd be a very popular use-case. I'm wondering if anyone in the community has examples of this that don't entail writing custom Kafka Streams applications or SMTs to do this.</p>\n<p>Does anyone have guidance/thoughts/recommendations? A config-only solution would be amazing.</p>\n"},{"tags":["java","apache-kafka","decimal","debezium"],"answers":[{"tags":[],"owner":{"account_id":11710562,"reputation":1836,"user_id":8572586,"display_name":"Jiri Pechanec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651090717,"creation_date":1561525956,"answer_id":56765604,"question_id":56754792,"body_markdown":"Please see https://debezium.io/documentation/faq/#how_to_retrieve_decimal_field_from_binary_representation for Java clients.\r\n\r\nYou can also set `decimal.handling.mode` to different value so you&#39;ll reciev the Decimal either as string or double if it easier for you.","title":"How to get org.apache.kafka.connect.data.Decimal value from Kafka JSON message","body":"<p>Please see <a href=\"https://debezium.io/documentation/faq/#how_to_retrieve_decimal_field_from_binary_representation\" rel=\"nofollow noreferrer\">https://debezium.io/documentation/faq/#how_to_retrieve_decimal_field_from_binary_representation</a> for Java clients.</p>\n<p>You can also set <code>decimal.handling.mode</code> to different value so you'll reciev the Decimal either as string or double if it easier for you.</p>\n"}],"owner":{"account_id":4276944,"reputation":23,"user_id":3497334,"display_name":"Abel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5422,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1561553247,"accepted_answer_id":56765604,"answer_count":1,"score":2,"last_activity_date":1651090717,"creation_date":1561467916,"question_id":56754792,"body_markdown":"I use debizium to stream postgresql data to Kafka, and use Java to subscribe Kafka topic.\r\n\r\nI receive Kafka message and get a JSON string, but one numeric value can not recognized.\r\n\r\nThe JSON is:\r\n\r\n```json\r\n{\r\n    &quot;schema&quot;:\r\n    {\r\n        &quot;type&quot;: &quot;struct&quot;,\r\n        &quot;fields&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;struct&quot;,\r\n            &quot;fields&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;creator&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;int64&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;name&quot;: &quot;io.debezium.time.MicroTimestamp&quot;,\r\n                &quot;version&quot;: 1,\r\n                &quot;field&quot;: &quot;createtime&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;bytes&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;name&quot;: &quot;org.apache.kafka.connect.data.Decimal&quot;,\r\n                &quot;version&quot;: 1,\r\n                &quot;parameters&quot;:\r\n                {\r\n                    &quot;scale&quot;: &quot;5&quot;,\r\n                    &quot;connect.decimal.precision&quot;: &quot;32&quot;\r\n                },\r\n                &quot;field&quot;: &quot;familyprice&quot;\r\n            }],\r\n            &quot;optional&quot;: true,\r\n            &quot;name&quot;: &quot;pssdev.public.order.Value&quot;,\r\n            &quot;field&quot;: &quot;before&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;struct&quot;,\r\n            &quot;fields&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;creator&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;int64&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;name&quot;: &quot;io.debezium.time.MicroTimestamp&quot;,\r\n                &quot;version&quot;: 1,\r\n                &quot;field&quot;: &quot;createtime&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;bytes&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;name&quot;: &quot;org.apache.kafka.connect.data.Decimal&quot;,\r\n                &quot;version&quot;: 1,\r\n                &quot;parameters&quot;:\r\n                {\r\n                    &quot;scale&quot;: &quot;5&quot;,\r\n                    &quot;connect.decimal.precision&quot;: &quot;32&quot;\r\n                },\r\n                &quot;field&quot;: &quot;familyprice&quot;\r\n            }],\r\n            &quot;optional&quot;: true,\r\n            &quot;name&quot;: &quot;pssdev.public.order.Value&quot;,\r\n            &quot;field&quot;: &quot;after&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;struct&quot;,\r\n            &quot;fields&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;version&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;connector&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;optional&quot;: false,\r\n                &quot;field&quot;: &quot;name&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;optional&quot;: false,\r\n                &quot;field&quot;: &quot;db&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;int64&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;ts_usec&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;int64&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;txId&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;int64&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;lsn&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;schema&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;table&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;boolean&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;default&quot;: false,\r\n                &quot;field&quot;: &quot;snapshot&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;boolean&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;last_snapshot_record&quot;\r\n            },\r\n            {\r\n                &quot;type&quot;: &quot;int64&quot;,\r\n                &quot;optional&quot;: true,\r\n                &quot;field&quot;: &quot;xmin&quot;\r\n            }],\r\n            &quot;optional&quot;: false,\r\n            &quot;name&quot;: &quot;io.debezium.connector.postgresql.Source&quot;,\r\n            &quot;field&quot;: &quot;source&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;optional&quot;: false,\r\n            &quot;field&quot;: &quot;op&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;int64&quot;,\r\n            &quot;optional&quot;: true,\r\n            &quot;field&quot;: &quot;ts_ms&quot;\r\n        }],\r\n        &quot;optional&quot;: false,\r\n        &quot;name&quot;: &quot;pssdev.public.order.Envelope&quot;\r\n    },\r\n    &quot;payload&quot;:\r\n    {\r\n        &quot;before&quot;:\r\n        {\r\n            &quot;creator&quot;: null,\r\n            &quot;createtime&quot;: null,\r\n            &quot;familyprice&quot;: null\r\n        },\r\n        &quot;after&quot;:\r\n        {\r\n            &quot;creator&quot;: &quot;USER1E&quot;,\r\n            &quot;createtime&quot;: 1554292597815000,\r\n            &quot;familyprice&quot;: &quot;W42A&quot;\r\n        },\r\n        &quot;source&quot;:\r\n        {\r\n            &quot;version&quot;: &quot;0.9.5.Final&quot;,\r\n            &quot;connector&quot;: &quot;postgresql&quot;,\r\n            &quot;name&quot;: &quot;pssdev&quot;,\r\n            &quot;db&quot;: &quot;pf&quot;,\r\n            &quot;ts_usec&quot;: 1561459811737920,\r\n            &quot;txId&quot;: 771604,\r\n            &quot;lsn&quot;: 88282458880,\r\n            &quot;schema&quot;: &quot;public&quot;,\r\n            &quot;table&quot;: &quot;order&quot;,\r\n            &quot;snapshot&quot;: false,\r\n            &quot;last_snapshot_record&quot;: null,\r\n            &quot;xmin&quot;: null\r\n        },\r\n        &quot;op&quot;: &quot;u&quot;,\r\n        &quot;ts_ms&quot;: 1561459811747\r\n    }\r\n}\r\n```\r\n\r\nThe familyprice value is `W42A` I can&#39;t figure out how to convert it. \r\n\r\nThe actual familyprice value in database is 60.00000, the column type is numeric(32,5)","title":"How to get org.apache.kafka.connect.data.Decimal value from Kafka JSON message","body":"<p>I use debizium to stream postgresql data to Kafka, and use Java to subscribe Kafka topic.</p>\n\n<p>I receive Kafka message and get a JSON string, but one numeric value can not recognized.</p>\n\n<p>The JSON is:</p>\n\n<pre><code>{\n    \"schema\":\n    {\n        \"type\": \"struct\",\n        \"fields\": [\n        {\n            \"type\": \"struct\",\n            \"fields\": [\n            {\n                \"type\": \"string\",\n                \"optional\": true,\n                \"field\": \"creator\"\n            },\n            {\n                \"type\": \"int64\",\n                \"optional\": true,\n                \"name\": \"io.debezium.time.MicroTimestamp\",\n                \"version\": 1,\n                \"field\": \"createtime\"\n            },\n            {\n                \"type\": \"bytes\",\n                \"optional\": true,\n                \"name\": \"org.apache.kafka.connect.data.Decimal\",\n                \"version\": 1,\n                \"parameters\":\n                {\n                    \"scale\": \"5\",\n                    \"connect.decimal.precision\": \"32\"\n                },\n                \"field\": \"familyprice\"\n            }],\n            \"optional\": true,\n            \"name\": \"pssdev.public.order.Value\",\n            \"field\": \"before\"\n        },\n        {\n            \"type\": \"struct\",\n            \"fields\": [\n            {\n                \"type\": \"string\",\n                \"optional\": true,\n                \"field\": \"creator\"\n            },\n            {\n                \"type\": \"int64\",\n                \"optional\": true,\n                \"name\": \"io.debezium.time.MicroTimestamp\",\n                \"version\": 1,\n                \"field\": \"createtime\"\n            },\n            {\n                \"type\": \"bytes\",\n                \"optional\": true,\n                \"name\": \"org.apache.kafka.connect.data.Decimal\",\n                \"version\": 1,\n                \"parameters\":\n                {\n                    \"scale\": \"5\",\n                    \"connect.decimal.precision\": \"32\"\n                },\n                \"field\": \"familyprice\"\n            }],\n            \"optional\": true,\n            \"name\": \"pssdev.public.order.Value\",\n            \"field\": \"after\"\n        },\n        {\n            \"type\": \"struct\",\n            \"fields\": [\n            {\n                \"type\": \"string\",\n                \"optional\": true,\n                \"field\": \"version\"\n            },\n            {\n                \"type\": \"string\",\n                \"optional\": true,\n                \"field\": \"connector\"\n            },\n            {\n                \"type\": \"string\",\n                \"optional\": false,\n                \"field\": \"name\"\n            },\n            {\n                \"type\": \"string\",\n                \"optional\": false,\n                \"field\": \"db\"\n            },\n            {\n                \"type\": \"int64\",\n                \"optional\": true,\n                \"field\": \"ts_usec\"\n            },\n            {\n                \"type\": \"int64\",\n                \"optional\": true,\n                \"field\": \"txId\"\n            },\n            {\n                \"type\": \"int64\",\n                \"optional\": true,\n                \"field\": \"lsn\"\n            },\n            {\n                \"type\": \"string\",\n                \"optional\": true,\n                \"field\": \"schema\"\n            },\n            {\n                \"type\": \"string\",\n                \"optional\": true,\n                \"field\": \"table\"\n            },\n            {\n                \"type\": \"boolean\",\n                \"optional\": true,\n                \"default\": false,\n                \"field\": \"snapshot\"\n            },\n            {\n                \"type\": \"boolean\",\n                \"optional\": true,\n                \"field\": \"last_snapshot_record\"\n            },\n            {\n                \"type\": \"int64\",\n                \"optional\": true,\n                \"field\": \"xmin\"\n            }],\n            \"optional\": false,\n            \"name\": \"io.debezium.connector.postgresql.Source\",\n            \"field\": \"source\"\n        },\n        {\n            \"type\": \"string\",\n            \"optional\": false,\n            \"field\": \"op\"\n        },\n        {\n            \"type\": \"int64\",\n            \"optional\": true,\n            \"field\": \"ts_ms\"\n        }],\n        \"optional\": false,\n        \"name\": \"pssdev.public.order.Envelope\"\n    },\n    \"payload\":\n    {\n        \"before\":\n        {\n            \"creator\": null,\n            \"createtime\": null,\n            \"familyprice\": null\n        },\n        \"after\":\n        {\n            \"creator\": \"USER1E\",\n            \"createtime\": 1554292597815000,\n            \"familyprice\": \"W42A\"\n        },\n        \"source\":\n        {\n            \"version\": \"0.9.5.Final\",\n            \"connector\": \"postgresql\",\n            \"name\": \"pssdev\",\n            \"db\": \"pf\",\n            \"ts_usec\": 1561459811737920,\n            \"txId\": 771604,\n            \"lsn\": 88282458880,\n            \"schema\": \"public\",\n            \"table\": \"order\",\n            \"snapshot\": false,\n            \"last_snapshot_record\": null,\n            \"xmin\": null\n        },\n        \"op\": \"u\",\n        \"ts_ms\": 1561459811747\n    }\n}\n</code></pre>\n\n<p>The familyprice value is <code>W42A</code> I can't figure out how to convert it. </p>\n\n<p>The actual familyprice value in database is 60.00000, the column type is numeric(32,5)</p>\n"},{"tags":["java","spring","postgresql","apache-kafka","debezium"],"answers":[{"tags":[],"owner":{"account_id":11710562,"reputation":1836,"user_id":8572586,"display_name":"Jiri Pechanec"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651090706,"creation_date":1560140620,"answer_id":56520487,"question_id":56502416,"body_markdown":"this is solution for Java - https://debezium.io/documentation/faq/#how_to_retrieve_decimal_field_from_binary_representation\r\n\r\nAlso please check `decimal.handling.mode` option for other ways how `BigDecimal` can be encoded into the message.","title":"How to deserialize BigDecimal value received from kafka broker through debezium CDC mechanism?","body":"<p>this is solution for Java - <a href=\"https://debezium.io/documentation/faq/#how_to_retrieve_decimal_field_from_binary_representation\" rel=\"nofollow noreferrer\">https://debezium.io/documentation/faq/#how_to_retrieve_decimal_field_from_binary_representation</a></p>\n<p>Also please check <code>decimal.handling.mode</code> option for other ways how <code>BigDecimal</code> can be encoded into the message.</p>\n"},{"tags":[],"owner":{"account_id":16737474,"reputation":11,"user_id":12098132,"display_name":"Jackrohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620396830,"creation_date":1620396830,"answer_id":67436578,"question_id":56502416,"body_markdown":"If you&#39;re using Java 8, you can convert the Base64 string to a byte array and then get a bigDecimal with some black magic:\r\n\r\n```\r\nBigDecimal bigDecimal = new BigDecimal(new BigInteger(Base64.getDecoder().decode(&quot;BfXhAA==&quot;)), scale);\r\n```\r\nhttps://github.com/confluentinc/kafka-connect-storage-cloud/issues/48#issuecomment-395206864\r\n","title":"How to deserialize BigDecimal value received from kafka broker through debezium CDC mechanism?","body":"<p>If you're using Java 8, you can convert the Base64 string to a byte array and then get a bigDecimal with some black magic:</p>\n<pre><code>BigDecimal bigDecimal = new BigDecimal(new BigInteger(Base64.getDecoder().decode(&quot;BfXhAA==&quot;)), scale);\n</code></pre>\n<p><a href=\"https://github.com/confluentinc/kafka-connect-storage-cloud/issues/48#issuecomment-395206864\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/kafka-connect-storage-cloud/issues/48#issuecomment-395206864</a></p>\n"},{"tags":[],"owner":{"account_id":485625,"reputation":5104,"user_id":902036,"accept_rate":60,"display_name":"dz902"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648010086,"creation_date":1648010086,"answer_id":71581886,"question_id":56502416,"body_markdown":"If you are using Flink 1.13 Table API/SQL with Debezium with default `decimal.handling.mode`, then it will throw `java.lang.NumberFormatException` for `DECIMAL` fields.\r\n\r\nYou can set `decimal.handling.mode = string`, and process it in Flink.\r\n\r\nThe cause:\r\n\r\n- If you declare a field as `DECIMAL`, it will go through [createDecimalConverter][1]\r\n- This uses `FasterXML`&#39;s [`JsonNode.isBigDecimal()`][2] which always returns `False`\r\n- This will lead to `bigDecimal = new BigDecimal(jsonNode.asText())` which expects a `String` rep of the decimal value e.g. `&quot;100.123&quot;`\r\n- However the value was base64 encoded e.g. `&quot;WRy5X4A=&quot;`\r\n- Error is thrown\r\n\r\n\r\n  [1]: https://github.com/apache/flink/blob/master/flink-formats/flink-json/src/main/java/org/apache/flink/formats/json/JsonToRowDataConverters.java\r\n  [2]: https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/JsonNode.java","title":"How to deserialize BigDecimal value received from kafka broker through debezium CDC mechanism?","body":"<p>If you are using Flink 1.13 Table API/SQL with Debezium with default <code>decimal.handling.mode</code>, then it will throw <code>java.lang.NumberFormatException</code> for <code>DECIMAL</code> fields.</p>\n<p>You can set <code>decimal.handling.mode = string</code>, and process it in Flink.</p>\n<p>The cause:</p>\n<ul>\n<li>If you declare a field as <code>DECIMAL</code>, it will go through <a href=\"https://github.com/apache/flink/blob/master/flink-formats/flink-json/src/main/java/org/apache/flink/formats/json/JsonToRowDataConverters.java\" rel=\"nofollow noreferrer\">createDecimalConverter</a></li>\n<li>This uses <code>FasterXML</code>'s <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.14/src/main/java/com/fasterxml/jackson/databind/JsonNode.java\" rel=\"nofollow noreferrer\"><code>JsonNode.isBigDecimal()</code></a> which always returns <code>False</code></li>\n<li>This will lead to <code>bigDecimal = new BigDecimal(jsonNode.asText())</code> which expects a <code>String</code> rep of the decimal value e.g. <code>&quot;100.123&quot;</code></li>\n<li>However the value was base64 encoded e.g. <code>&quot;WRy5X4A=&quot;</code></li>\n<li>Error is thrown</li>\n</ul>\n"}],"owner":{"account_id":10079330,"reputation":83,"user_id":7450255,"display_name":"Debbabi Nader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2527,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56520487,"answer_count":3,"score":4,"last_activity_date":1651090706,"creation_date":1559952585,"question_id":56502416,"body_markdown":"I have a couple of microservices developed using spring boot and each has its own Postgres database. These microservices exchange data with a CDC mechanism provided by debezium platform through kafka broker and kafka connect. I have a microservice A that stores some entities with a BigDecimal attribute. Another microservice B depends on the data stored by A so it gets it through kafka topics as a message like the following:\r\n\r\n    &quot;after&quot;:{&quot;id&quot;:&quot;267e8ba0-4986-447d-8328-315c839875c3&quot;,&quot;coefficient&quot;:&quot;AZA=&quot;,&quot;created_at&quot;:1559950327672000,&quot;label&quot;:&quot;External Agent&quot;,&quot;updated_at&quot;:1559950327672000}\r\n\r\nThe coefficient attribute is a BigDecimal and it is stored in microservice A database as a BigDecimal (4.00).\r\n\r\nHow come 4.00 is converted to &quot;AZA=&quot;? Is &quot;AZA=&quot; some encoding format to preserve the BigDecimal precision? How to go from &quot;AZA=&quot; to 4.0 again?\r\n\r\nTo note that jackson fails to deserialize the string value of &quot;AZA=&quot; to a BigDecimal value with the exception:\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.math.BigDecimal` from String &quot;AZA=&quot;: not a valid representation\r\n    at [Source: (String)&quot;{&quot;id&quot;:&quot;267e8ba0-4986-447d-8328-315c839875c3&quot;,&quot;coefficient&quot;:&quot;AZA=&quot;,&quot;created_at&quot;:1559950327672000,&quot;label&quot;:&quot;External Agent&quot;,&quot;updated_at&quot;:1559950327672000}&quot;; line: 1, column: 60] (through reference chain: org.perfometer.performanceservice.entities.ActorTypeEntity[&quot;coefficient&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1549)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:911)\r\n\tat com.fasterxml.jackson.databind.deser.std.NumberDeserializers$BigDecimalDeserializer.deserialize(NumberDeserializers.java:955)\r\n\tat com.fasterxml.jackson.databind.deser.std.NumberDeserializers$BigDecimalDeserializer.deserialize(NumberDeserializers.java:922)\r\n\tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:127)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:288)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3004)\r\n\tat org.perfometer.performanceservice.services.impl.ActorTypeServiceImpl.consumeActorTypeMessages(ActorTypeServiceImpl.java:123)\r\n\tat org.perfometer.performanceservice.services.impl.ActorTypeServiceImpl$$FastClassBySpringCGLIB$$944d568c.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat org.perfometer.performanceservice.services.impl.ActorTypeServiceImpl$$EnhancerBySpringCGLIB$$167173df.consumeActorTypeMessages(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:48)\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:283)\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:79)\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:1263)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:1256)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1217)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1198)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1118)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:933)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:749)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:698)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nAny hint or any help will be appreciated! thanks!","title":"How to deserialize BigDecimal value received from kafka broker through debezium CDC mechanism?","body":"<p>I have a couple of microservices developed using spring boot and each has its own Postgres database. These microservices exchange data with a CDC mechanism provided by debezium platform through kafka broker and kafka connect. I have a microservice A that stores some entities with a BigDecimal attribute. Another microservice B depends on the data stored by A so it gets it through kafka topics as a message like the following:</p>\n\n<pre><code>\"after\":{\"id\":\"267e8ba0-4986-447d-8328-315c839875c3\",\"coefficient\":\"AZA=\",\"created_at\":1559950327672000,\"label\":\"External Agent\",\"updated_at\":1559950327672000}\n</code></pre>\n\n<p>The coefficient attribute is a BigDecimal and it is stored in microservice A database as a BigDecimal (4.00).</p>\n\n<p>How come 4.00 is converted to \"AZA=\"? Is \"AZA=\" some encoding format to preserve the BigDecimal precision? How to go from \"AZA=\" to 4.0 again?</p>\n\n<p>To note that jackson fails to deserialize the string value of \"AZA=\" to a BigDecimal value with the exception:</p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.math.BigDecimal` from String \"AZA=\": not a valid representation\nat [Source: (String)\"{\"id\":\"267e8ba0-4986-447d-8328-315c839875c3\",\"coefficient\":\"AZA=\",\"created_at\":1559950327672000,\"label\":\"External Agent\",\"updated_at\":1559950327672000}\"; line: 1, column: 60] (through reference chain: org.perfometer.performanceservice.entities.ActorTypeEntity[\"coefficient\"])\nat com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67)\nat com.fasterxml.jackson.databind.DeserializationContext.weirdStringException(DeserializationContext.java:1549)\nat com.fasterxml.jackson.databind.DeserializationContext.handleWeirdStringValue(DeserializationContext.java:911)\nat com.fasterxml.jackson.databind.deser.std.NumberDeserializers$BigDecimalDeserializer.deserialize(NumberDeserializers.java:955)\nat com.fasterxml.jackson.databind.deser.std.NumberDeserializers$BigDecimalDeserializer.deserialize(NumberDeserializers.java:922)\nat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:127)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:288)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\nat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3004)\nat org.perfometer.performanceservice.services.impl.ActorTypeServiceImpl.consumeActorTypeMessages(ActorTypeServiceImpl.java:123)\nat org.perfometer.performanceservice.services.impl.ActorTypeServiceImpl$$FastClassBySpringCGLIB$$944d568c.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\nat org.perfometer.performanceservice.services.impl.ActorTypeServiceImpl$$EnhancerBySpringCGLIB$$167173df.consumeActorTypeMessages(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171)\nat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120)\nat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:48)\nat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:283)\nat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:79)\nat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:1263)\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:1256)\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1217)\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1198)\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1118)\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:933)\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:749)\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:698)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>Any hint or any help will be appreciated! thanks!</p>\n"},{"tags":["java","spring","spring-boot","openapi"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651090681,"creation_date":1651090681,"answer_id":72034801,"question_id":72028186,"body_markdown":"Try import from `io.swagger.v3.oas.annotations*`\r\n\r\nSome examples:\r\n```java\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\nimport io.swagger.v3.oas.annotations.operation;\r\n```\r\n\r\nMore examples here https://github.com/springdoc/springdoc-openapi\r\n\r\n\r\n","title":"Error on migrating from springfox to OpenApi","body":"<p>Try import from <code>io.swagger.v3.oas.annotations*</code></p>\n<p>Some examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport io.swagger.v3.oas.annotations.tags.Tag;\nimport io.swagger.v3.oas.annotations.operation;\n</code></pre>\n<p>More examples here <a href=\"https://github.com/springdoc/springdoc-openapi\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi</a></p>\n"}],"owner":{"display_name":"user18745632"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651090681,"creation_date":1651060139,"question_id":72028186,"body_markdown":"I recently moved my project from springfox to OpenAPI using [this tutorial][1]\r\n\r\nBut it doesn&#39;t mention which are the imports that should be used and I have now started getting hundreds of errors like\r\n\r\n    java:16: error: cannot find symbol\r\n    @Schema\r\n\r\n\r\n----------\r\n\r\n\r\n    error: incompatible types: int cannot be converted to String @ApiResponse(responseCode=400, response=ApiError.class)\r\n\r\n\r\n----------\r\n\r\n    error: cannot find symbol\r\n                @Parameter(paramType=&quot;query&quot;, name=&quot;id&quot;)\r\n\r\nWhat are the imports to be used to fix these errors?\r\n\r\n  [1]: https://springdoc.org/migrating-from-springfox.html","title":"Error on migrating from springfox to OpenApi","body":"<p>I recently moved my project from springfox to OpenAPI using <a href=\"https://springdoc.org/migrating-from-springfox.html\" rel=\"nofollow noreferrer\">this tutorial</a></p>\n<p>But it doesn't mention which are the imports that should be used and I have now started getting hundreds of errors like</p>\n<pre><code>java:16: error: cannot find symbol\n@Schema\n</code></pre>\n<hr />\n<pre><code>error: incompatible types: int cannot be converted to String @ApiResponse(responseCode=400, response=ApiError.class)\n</code></pre>\n<hr />\n<pre><code>error: cannot find symbol\n            @Parameter(paramType=&quot;query&quot;, name=&quot;id&quot;)\n</code></pre>\n<p>What are the imports to be used to fix these errors?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651089361,"creation_date":1651086972,"answer_id":72034170,"question_id":72033939,"body_markdown":"1. Avoid the rebalance by increasing `max.poll.interval.ms`\r\n\r\n2. Kafka is not really suited for this kind of long-running task; consider moving the task to a DB (or even Redis) when received from Kafka, and process from there.\r\n\r\n\r\nAnother solution would be to set `max.poll.records` to 1, then pause the listener container before running the task on another thread, and then resume the container when the job finishes.\r\n\r\nPausing the container will keep the consumer alive and avoid the rebalance.","title":"Handle duplicate message consumed on Kafka Rebalance or application reload","body":"<ol>\n<li><p>Avoid the rebalance by increasing <code>max.poll.interval.ms</code></p>\n</li>\n<li><p>Kafka is not really suited for this kind of long-running task; consider moving the task to a DB (or even Redis) when received from Kafka, and process from there.</p>\n</li>\n</ol>\n<p>Another solution would be to set <code>max.poll.records</code> to 1, then pause the listener container before running the task on another thread, and then resume the container when the job finishes.</p>\n<p>Pausing the container will keep the consumer alive and avoid the rebalance.</p>\n"}],"owner":{"account_id":7040958,"reputation":2223,"user_id":5460261,"display_name":"aRvi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651089903,"creation_date":1651085584,"question_id":72033939,"body_markdown":"Currently, I have set up a spring boot application, it has 3 pods runnings. \r\n\r\nAnd I have a Kafka consumer that processes a particular task for 20 minutes. \r\n\r\nWhen the Kafka rebalances during that time then the same is consumed again, so I have set the Redis key whenever the message comes first, so when it rebalances it checks that key exists and discards that event as that old process is still running.\r\n\r\nBut now I have a scenario that a particular pod that is running can get restarted anytime, no when the application restarts and the same message is consumed that then, I want that message to be reprocessed, but as the Redis key exists it discard this event, but the old process is not running.\r\n\r\nI have to re-process the message on application restart and discard it in case of Kafka rebalance. How can I handle this scenario?\r\n\r\n","title":"Handle duplicate message consumed on Kafka Rebalance or application reload","body":"<p>Currently, I have set up a spring boot application, it has 3 pods runnings.</p>\n<p>And I have a Kafka consumer that processes a particular task for 20 minutes.</p>\n<p>When the Kafka rebalances during that time then the same is consumed again, so I have set the Redis key whenever the message comes first, so when it rebalances it checks that key exists and discards that event as that old process is still running.</p>\n<p>But now I have a scenario that a particular pod that is running can get restarted anytime, no when the application restarts and the same message is consumed that then, I want that message to be reprocessed, but as the Redis key exists it discard this event, but the old process is not running.</p>\n<p>I have to re-process the message on application restart and discard it in case of Kafka rebalance. How can I handle this scenario?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651089423,"creation_date":1651008754,"answer_id":72020759,"question_id":72019634,"body_markdown":"&gt; some Spring/Avro auto-magical way of doing this? \r\n\r\nShort answer - Yes, but only if you use the [Kafka Connect JDBC Sink](https://docs.confluent.io/kafka-connect-jdbc/current/sink-connector/index.html) instead with a Schema Registry. This utilizes Connect API&#39;s internal Schema/Struct models to create database DDL statements. It&#39;ll work for more than just Avro, too. \r\n\r\nIf your data in the topic doesn&#39;t map _exactly_ to the format that you want in the database, you can still use Spring-Kafka / Spring-Cloud Streams to consume &amp; map the data to an output topic that the Connect Sink will eventually write. Or, you can use built-in /  custom `transforms` in the Connect API. \r\n\r\n---\r\n\r\n\r\nOtherwise, if you insist on using Spring and your own code, you need to (re)build that ORM layer yourself (as well as any database client handling, batching, error-processing, etc.). [ModelMapper](http://modelmapper.org/) is a useful Java library, I&#39;ve found for converting your event models into domain/persistence models. \r\n","title":"When consuming an avro schema object from kafka in a springboot application and then storing the message in a database do I need a mapping class?","body":"<blockquote>\n<p>some Spring/Avro auto-magical way of doing this?</p>\n</blockquote>\n<p>Short answer - Yes, but only if you use the <a href=\"https://docs.confluent.io/kafka-connect-jdbc/current/sink-connector/index.html\" rel=\"nofollow noreferrer\">Kafka Connect JDBC Sink</a> instead with a Schema Registry. This utilizes Connect API's internal Schema/Struct models to create database DDL statements. It'll work for more than just Avro, too.</p>\n<p>If your data in the topic doesn't map <em>exactly</em> to the format that you want in the database, you can still use Spring-Kafka / Spring-Cloud Streams to consume &amp; map the data to an output topic that the Connect Sink will eventually write. Or, you can use built-in /  custom <code>transforms</code> in the Connect API.</p>\n<hr />\n<p>Otherwise, if you insist on using Spring and your own code, you need to (re)build that ORM layer yourself (as well as any database client handling, batching, error-processing, etc.). <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a> is a useful Java library, I've found for converting your event models into domain/persistence models.</p>\n"}],"owner":{"account_id":1095025,"reputation":2553,"user_id":1088796,"accept_rate":38,"display_name":"intA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651089423,"creation_date":1651002039,"question_id":72019634,"body_markdown":"I have a springboot application that will be listening to a Kafka topic which is passing messages that conform to an avro schema. The springboot app will be responsible for taking these messages from kafka and storing them in a postgres database. The fields on the kafka message map almost 1 to 1 to the database columns.\r\n\r\nThe way it&#39;s coding right now we have a mapper class that will deserialized avro object and map that to a POJO and then use that POJO to map to the db. This all feels very manual the way it&#39;s written right now and I guess I&#39;m just wondering if it&#39;s actually needed or if there is some Spring/Avro auto-magical way of doing this? This is the code in our mapper class to give you some sense of what I&#39;m referring to:\r\n\r\n    public class AppointmentMapper {\r\n    \r\n        final static String NO_DESCRIPTION=&quot;&quot;;\r\n        final static String NO_FACILITY=&quot;&quot;;\r\n    \r\n        public static AppointmentDTO mapToApi(Appointment appointment){\r\n            return AppointmentDTO.builder()\r\n                    .status(appointment.getStatus())\r\n                    .consumerId(appointment.getConsumerId())\r\n                    .providerId(appointment.getProviderId())\r\n                    .startDate(appointment.getStartDate())\r\n                    .endDate(appointment.getEndDate())\r\n                    .duration(appointment.getDuration())\r\n                    .businessId(appointment.getBusinessId())\r\n                    .appointmentId(appointment.getAppointmentId())\r\n                    .facilityId(appointment.getFacilityId())\r\n                    .description(appointment.getDescription())\r\n                    .officeId(appointment.getOfficeId())\r\n                    .pmsId(appointment.getPmsId())\r\n                    .build();\r\n        }\r\n    \r\n        public static Appointment mapToDb(com.kafka.avro.model.appointment.Appointment avroAppointment) {\r\n            Appointment appointment = new Appointment();\r\n            appointment.setAppointmentId(avroAppointment.getBase().getGuid());\r\n            appointment.setConsumerId(avroAppointment.getConsumerGuid().orElse(null));\r\n            if(avroAppointment.getStatus().isPresent()){\r\n                AppointmentStatus status = AppointmentStatus.valueOf(avroAppointment.getStatus().get().name());\r\n                appointment.setStatus(status);\r\n            }else{\r\n                appointment.setStatus(AppointmentStatus.UNSPECIFIED);\r\n            }\r\n            appointment.setPmsId(avroAppointment.getBase().getPmsId());\r\n            appointment.setDescription(avroAppointment.getDescription().orElse(NO_DESCRIPTION));\r\n            appointment.setOfficeId(avroAppointment.getOfficeId().orElse(null));\r\n            appointment.setProviderId(avroAppointment.getProvider().orElse(null));\r\n            appointment.setBusinessId(avroAppointment.getBase().getBusinessGuid());\r\n            avroAppointment.getAppointmentCodes().ifPresent(appointmentCodes -&gt; appointmentCodes.forEach(appointmentCode -&gt; appointment.getAppointmentProcedures().add(mapToProcedure(appointmentCode))));\r\n            avroAppointment.getDate().ifPresent(instant -&gt;{\r\n                ZonedDateTime startDate = ZonedDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;));\r\n                ZonedDateTime endDate = null;\r\n                int duration = avroAppointment.getDuration().orElse(0);\r\n                appointment.setDuration(duration);\r\n                appointment.setStartDate(startDate);\r\n                if(duration&gt;0){\r\n                    endDate = startDate.plus(duration, TimeUnit.HOURS.toChronoUnit());\r\n                }\r\n                appointment.setEndDate(endDate);\r\n            });\r\n            appointment.setFacilityId(avroAppointment.getFacilityId().orElse(NO_FACILITY));\r\n            return appointment;\r\n        }\r\n    \r\n        public static Appointment mapToDb(AppointmentDTO appointmentDTO) {\r\n           Appointment appointment = new Appointment();\r\n           appointment.setAppointmentId(appointmentDTO.getAppointmentId());\r\n           appointment.setEndDate(appointmentDTO.getEndDate());\r\n           appointment.setStartDate(appointmentDTO.getStartDate());\r\n           appointment.setPmsId(appointmentDTO.getPmsId());\r\n           appointment.setFacilityId(appointmentDTO.getFacilityId());\r\n           appointment.setBusinessId(appointmentDTO.getBusinessId());\r\n           appointment.setConsumerId(appointmentDTO.getConsumerId());\r\n           appointment.setDuration(appointmentDTO.getDuration());\r\n           appointment.setOfficeId(appointmentDTO.getOfficeId());\r\n           appointment.setStatus(appointmentDTO.getStatus());\r\n           appointment.setProviderId(appointmentDTO.getProviderId());\r\n           return appointment;\r\n        }\r\n    }","title":"When consuming an avro schema object from kafka in a springboot application and then storing the message in a database do I need a mapping class?","body":"<p>I have a springboot application that will be listening to a Kafka topic which is passing messages that conform to an avro schema. The springboot app will be responsible for taking these messages from kafka and storing them in a postgres database. The fields on the kafka message map almost 1 to 1 to the database columns.</p>\n<p>The way it's coding right now we have a mapper class that will deserialized avro object and map that to a POJO and then use that POJO to map to the db. This all feels very manual the way it's written right now and I guess I'm just wondering if it's actually needed or if there is some Spring/Avro auto-magical way of doing this? This is the code in our mapper class to give you some sense of what I'm referring to:</p>\n<pre><code>public class AppointmentMapper {\n\n    final static String NO_DESCRIPTION=&quot;&quot;;\n    final static String NO_FACILITY=&quot;&quot;;\n\n    public static AppointmentDTO mapToApi(Appointment appointment){\n        return AppointmentDTO.builder()\n                .status(appointment.getStatus())\n                .consumerId(appointment.getConsumerId())\n                .providerId(appointment.getProviderId())\n                .startDate(appointment.getStartDate())\n                .endDate(appointment.getEndDate())\n                .duration(appointment.getDuration())\n                .businessId(appointment.getBusinessId())\n                .appointmentId(appointment.getAppointmentId())\n                .facilityId(appointment.getFacilityId())\n                .description(appointment.getDescription())\n                .officeId(appointment.getOfficeId())\n                .pmsId(appointment.getPmsId())\n                .build();\n    }\n\n    public static Appointment mapToDb(com.kafka.avro.model.appointment.Appointment avroAppointment) {\n        Appointment appointment = new Appointment();\n        appointment.setAppointmentId(avroAppointment.getBase().getGuid());\n        appointment.setConsumerId(avroAppointment.getConsumerGuid().orElse(null));\n        if(avroAppointment.getStatus().isPresent()){\n            AppointmentStatus status = AppointmentStatus.valueOf(avroAppointment.getStatus().get().name());\n            appointment.setStatus(status);\n        }else{\n            appointment.setStatus(AppointmentStatus.UNSPECIFIED);\n        }\n        appointment.setPmsId(avroAppointment.getBase().getPmsId());\n        appointment.setDescription(avroAppointment.getDescription().orElse(NO_DESCRIPTION));\n        appointment.setOfficeId(avroAppointment.getOfficeId().orElse(null));\n        appointment.setProviderId(avroAppointment.getProvider().orElse(null));\n        appointment.setBusinessId(avroAppointment.getBase().getBusinessGuid());\n        avroAppointment.getAppointmentCodes().ifPresent(appointmentCodes -&gt; appointmentCodes.forEach(appointmentCode -&gt; appointment.getAppointmentProcedures().add(mapToProcedure(appointmentCode))));\n        avroAppointment.getDate().ifPresent(instant -&gt;{\n            ZonedDateTime startDate = ZonedDateTime.ofInstant(instant, ZoneId.of(&quot;UTC&quot;));\n            ZonedDateTime endDate = null;\n            int duration = avroAppointment.getDuration().orElse(0);\n            appointment.setDuration(duration);\n            appointment.setStartDate(startDate);\n            if(duration&gt;0){\n                endDate = startDate.plus(duration, TimeUnit.HOURS.toChronoUnit());\n            }\n            appointment.setEndDate(endDate);\n        });\n        appointment.setFacilityId(avroAppointment.getFacilityId().orElse(NO_FACILITY));\n        return appointment;\n    }\n\n    public static Appointment mapToDb(AppointmentDTO appointmentDTO) {\n       Appointment appointment = new Appointment();\n       appointment.setAppointmentId(appointmentDTO.getAppointmentId());\n       appointment.setEndDate(appointmentDTO.getEndDate());\n       appointment.setStartDate(appointmentDTO.getStartDate());\n       appointment.setPmsId(appointmentDTO.getPmsId());\n       appointment.setFacilityId(appointmentDTO.getFacilityId());\n       appointment.setBusinessId(appointmentDTO.getBusinessId());\n       appointment.setConsumerId(appointmentDTO.getConsumerId());\n       appointment.setDuration(appointmentDTO.getDuration());\n       appointment.setOfficeId(appointmentDTO.getOfficeId());\n       appointment.setStatus(appointmentDTO.getStatus());\n       appointment.setProviderId(appointmentDTO.getProviderId());\n       return appointment;\n    }\n}\n</code></pre>\n"},{"tags":["python","java","android","spleeter"],"comments":[{"owner":{"account_id":2034274,"reputation":9434,"user_id":1817031,"accept_rate":76,"display_name":"Steve M"},"score":0,"creation_date":1637782447,"post_id":69343947,"comment_id":123920806,"body_markdown":"Did you make any headway on this?","body":"Did you make any headway on this?"},{"owner":{"account_id":21191964,"reputation":68,"user_id":15584286,"display_name":"Fc0001"},"score":0,"creation_date":1651088551,"post_id":69343947,"comment_id":127282242,"body_markdown":"See my answer to this post.","body":"See my answer to this post."}],"answers":[{"tags":[],"owner":{"account_id":21191964,"reputation":68,"user_id":15584286,"display_name":"Fc0001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651088512,"creation_date":1651088512,"answer_id":72034432,"question_id":69343947,"body_markdown":"I have extended this project of Spleeter_Unofficial_TF20_MobileApp.\r\nhttps://github.com/VVasanth/Spleeter_Unofficial_TF20_MobileApp/blob/main/app/src/main/java/com/tensorflow/android/spleetermobileapp/MainActivity.kt \r\n\r\nHere is a working version. \r\nhttps://github.com/farihachaiti/DoKaraokeAI","title":"Integrate Python Library Spleeter on Android Studio","body":"<p>I have extended this project of Spleeter_Unofficial_TF20_MobileApp.\n<a href=\"https://github.com/VVasanth/Spleeter_Unofficial_TF20_MobileApp/blob/main/app/src/main/java/com/tensorflow/android/spleetermobileapp/MainActivity.kt\" rel=\"nofollow noreferrer\">https://github.com/VVasanth/Spleeter_Unofficial_TF20_MobileApp/blob/main/app/src/main/java/com/tensorflow/android/spleetermobileapp/MainActivity.kt</a></p>\n<p>Here is a working version.\n<a href=\"https://github.com/farihachaiti/DoKaraokeAI\" rel=\"nofollow noreferrer\">https://github.com/farihachaiti/DoKaraokeAI</a></p>\n"}],"owner":{"account_id":21191964,"reputation":68,"user_id":15584286,"display_name":"Fc0001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72034432,"answer_count":1,"score":1,"last_activity_date":1651088512,"creation_date":1632733290,"question_id":69343947,"body_markdown":"I want to build an android app based on [Spleeter][1]. But I am not sure which tool to use to bridge the way between Java and Python on Android or whether it is possible or not. I would like anyone to please shed some light onto this. I have researched there are tools for Python to join Java but I don&#39;t know if they are suitable for Spleeter library. If anyone has already implemented this, please share your insight.\r\nKindly suggest some tool to integrate these two platforms or advise if it is possible or not.\r\n\r\n\r\n  [1]: https://github.com/deezer/spleeter","title":"Integrate Python Library Spleeter on Android Studio","body":"<p>I want to build an android app based on <a href=\"https://github.com/deezer/spleeter\" rel=\"nofollow noreferrer\">Spleeter</a>. But I am not sure which tool to use to bridge the way between Java and Python on Android or whether it is possible or not. I would like anyone to please shed some light onto this. I have researched there are tools for Python to join Java but I don't know if they are suitable for Spleeter library. If anyone has already implemented this, please share your insight.\nKindly suggest some tool to integrate these two platforms or advise if it is possible or not.</p>\n"},{"tags":["java","eclipse","maven","javafx"],"comments":[{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1651088249,"post_id":72034357,"comment_id":127282123,"body_markdown":"Have you tried &quot;img/pencil.png&quot;? I think it doesn&#39;t work because you get files from the resources folder but the image itself in the nested folder.","body":"Have you tried &quot;img/pencil.png&quot;? I think it doesn&#39;t work because you get files from the resources folder but the image itself in the nested folder."},{"owner":{"account_id":16929464,"reputation":59,"user_id":12244168,"display_name":"darjow"},"score":0,"creation_date":1651088381,"post_id":72034357,"comment_id":127282177,"body_markdown":"Thanks for the respond, i tried &quot;img/pencil.png&quot;, but that one didn&#39;t work.\n\n&quot;/img/pencil.png&quot; did the job tho!","body":"Thanks for the respond, i tried &quot;img/pencil.png&quot;, but that one didn&#39;t work.  &quot;/img/pencil.png&quot; did the job tho!"}],"answers":[{"tags":[],"owner":{"account_id":16929464,"reputation":59,"user_id":12244168,"display_name":"darjow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651088470,"creation_date":1651088470,"answer_id":72034423,"question_id":72034357,"body_markdown":"    Image pencil = new Image(getClass().getResourceAsStream(&quot;/img/pencil.png&quot;));\r\n\r\nThis solved my issue. \r\n\r\n\r\n","title":"How can i use getResource(...) to grab the .png file from resources","body":"<pre><code>Image pencil = new Image(getClass().getResourceAsStream(&quot;/img/pencil.png&quot;));\n</code></pre>\n<p>This solved my issue.</p>\n"}],"owner":{"account_id":16929464,"reputation":59,"user_id":12244168,"display_name":"darjow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651088772,"accepted_answer_id":72034423,"answer_count":1,"score":0,"last_activity_date":1651088470,"creation_date":1651088035,"question_id":72034357,"body_markdown":"[Project Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SfE3F.png\r\n\r\n\r\n\r\nThis is one of things I have tried:\r\nIn class &#39;EditScreenController.java&#39;: \r\n\r\n\tButton placeholderEdit = new Button();\r\n    Image pencil = new Image(getClass().getResourceAsStream(&quot;pencil.png&quot;));\r\n    \r\n    placeholderEdit.setGraphic(new ImageView(pencil));\r\n\r\n\r\nResult:\r\n\r\n     Input stream must not be null\r\n\r\nI know it&#39;s something super simple, and yet I have already tried multiple things :( . Would highly appreciate a working answer. \r\n\r\nEnjoy the rest of your day!\r\n\r\n\r\n","title":"How can i use getResource(...) to grab the .png file from resources","body":"<p><a href=\"https://i.stack.imgur.com/SfE3F.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>This is one of things I have tried:\nIn class 'EditScreenController.java':</p>\n<pre><code>Button placeholderEdit = new Button();\nImage pencil = new Image(getClass().getResourceAsStream(&quot;pencil.png&quot;));\n\nplaceholderEdit.setGraphic(new ImageView(pencil));\n</code></pre>\n<p>Result:</p>\n<pre><code> Input stream must not be null\n</code></pre>\n<p>I know it's something super simple, and yet I have already tried multiple things :( . Would highly appreciate a working answer.</p>\n<p>Enjoy the rest of your day!</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1649916560,"post_id":71867146,"comment_id":126996973,"body_markdown":"Did you read API documentation of Connection and Statement class?","body":"Did you read API documentation of Connection and Statement class?"}],"answers":[{"tags":[],"owner":{"account_id":19853103,"reputation":33,"user_id":14543199,"display_name":"Vadim Dokurno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649918226,"creation_date":1649916678,"answer_id":71867195,"question_id":71867146,"body_markdown":"You need to close connections in `finally` block:\r\n\r\n    try {\r\n    ...\r\n    }\r\n    catch {\r\n    ...\r\n    }\r\n    finally {\r\n      try { st.close(); } catch (Exception e) { /* Ignored */ }\r\n      try { con.close(); } catch (Exception e) { /* Ignored */ }\r\n    }\r\n\r\nIn Java 7 and higher you can define all your connections and statements as a part of `try` block:\r\n\r\n    try(Connection con = ConnectionProvider.connect();\r\n        Statement st = con.createStatement();\r\n        ResultSet rs = st.executeQuery(query);\r\n    ) {\r\n    \r\n        // Statements\r\n    }\r\n    catch(....){}","title":"How to Close Statements and Connection in This Method","body":"<p>You need to close connections in <code>finally</code> block:</p>\n<pre><code>try {\n...\n}\ncatch {\n...\n}\nfinally {\n  try { st.close(); } catch (Exception e) { /* Ignored */ }\n  try { con.close(); } catch (Exception e) { /* Ignored */ }\n}\n</code></pre>\n<p>In Java 7 and higher you can define all your connections and statements as a part of <code>try</code> block:</p>\n<pre><code>try(Connection con = ConnectionProvider.connect();\n    Statement st = con.createStatement();\n    ResultSet rs = st.executeQuery(query);\n) {\n\n    // Statements\n}\ncatch(....){}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649919586,"creation_date":1649919586,"answer_id":71867607,"question_id":71867146,"body_markdown":"One should use _try-with-resources_ to automatically close all.\r\nThen there is the p\r\n\r\n    public static void processData (String query, Consumer&lt;ResultSet&gt; processor){\r\n        try (Connection con = ConnectionProvider.connect();\r\n                Statement st = con.createStatement();\r\n                 ResultSet rs = st.executeQuery(query)) {\r\n             processor.accept(rs);      \r\n        } catch (SQLException e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n            System.getLogger(getClass().getName()).log(Level.Error, e);\r\n        }\r\n    }\r\n\r\n    processData(&quot;SELECT * FROM USERS&quot;, rs -&gt; System.out.println(rs.getString(&quot;NAME&quot;)));\r\n\r\nOr\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; getData (String query, UnaryOperator&lt;ResultSet, T&gt; convert){\r\n        try (Connection con = ConnectionProvider.connect();\r\n                Statement st = con.createStatement();\r\n                 ResultSet rs = st.executeQuery(query)) {\r\n            List&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n            while (rs.next()) {\r\n                result.add(convert.apply(rs));\r\n            }\r\n            return result;      \r\n        } catch (SQLException e) {\r\n            System.getLogger(getClass().getName()).log(Level.Error, e);\r\n            throw new IllegalArgumentException(&quot;Error in &quot; + query, e);\r\n        }\r\n    }\r\n\r\nThen there is the danger with this function, that users will compose query strings like:\r\n\r\n    String query = &quot;SELECT * FROM USERS WHERE NAME = &#39;&quot; + name + &quot;&#39;&quot;;\r\n\r\nWhich does not escape the apostrophes like in `d&#39;Alembert`. It opens the gates to **SQL injection**, a large security breach. One needs a PreparedStatement, and then can use type-safe parameters.\r\n\r\nAs with try-with-resources the code already is reduced (no explicit closes), you should drop this kind of function. But almost most programmers make this mistake.","title":"How to Close Statements and Connection in This Method","body":"<p>One should use <em>try-with-resources</em> to automatically close all.\nThen there is the p</p>\n<pre><code>public static void processData (String query, Consumer&lt;ResultSet&gt; processor){\n    try (Connection con = ConnectionProvider.connect();\n            Statement st = con.createStatement();\n             ResultSet rs = st.executeQuery(query)) {\n         processor.accept(rs);      \n    } catch (SQLException e) {\n        JOptionPane.showMessageDialog(null, e);\n        System.getLogger(getClass().getName()).log(Level.Error, e);\n    }\n}\n\nprocessData(&quot;SELECT * FROM USERS&quot;, rs -&gt; System.out.println(rs.getString(&quot;NAME&quot;)));\n</code></pre>\n<p>Or</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; getData (String query, UnaryOperator&lt;ResultSet, T&gt; convert){\n    try (Connection con = ConnectionProvider.connect();\n            Statement st = con.createStatement();\n             ResultSet rs = st.executeQuery(query)) {\n        List&lt;T&gt; result = new ArrayList&lt;&gt;();\n        while (rs.next()) {\n            result.add(convert.apply(rs));\n        }\n        return result;      \n    } catch (SQLException e) {\n        System.getLogger(getClass().getName()).log(Level.Error, e);\n        throw new IllegalArgumentException(&quot;Error in &quot; + query, e);\n    }\n}\n</code></pre>\n<p>Then there is the danger with this function, that users will compose query strings like:</p>\n<pre><code>String query = &quot;SELECT * FROM USERS WHERE NAME = '&quot; + name + &quot;'&quot;;\n</code></pre>\n<p>Which does not escape the apostrophes like in <code>d'Alembert</code>. It opens the gates to <strong>SQL injection</strong>, a large security breach. One needs a PreparedStatement, and then can use type-safe parameters.</p>\n<p>As with try-with-resources the code already is reduced (no explicit closes), you should drop this kind of function. But almost most programmers make this mistake.</p>\n"}],"owner":{"account_id":24888719,"reputation":1,"user_id":18760988,"display_name":"Nuwan99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1651088382,"creation_date":1649916273,"question_id":71867146,"body_markdown":"How to Close Statements and Connection in This Method\r\n\r\n\r\n    public static ResultSet getData (String query){\r\n        \r\n        \r\n        try {\r\n            Connection con = ConnectionProvider.connect();\r\n            Statement st = con.createStatement();\r\n            ResultSet rs = st.executeQuery(query);\r\n            \r\n            return rs;\r\n            \r\n         \r\n            \r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n            System.out.println(e);\r\n            return null; \r\n        }","title":"How to Close Statements and Connection in This Method","body":"<p>How to Close Statements and Connection in This Method</p>\n<pre><code>public static ResultSet getData (String query){\n    \n    \n    try {\n        Connection con = ConnectionProvider.connect();\n        Statement st = con.createStatement();\n        ResultSet rs = st.executeQuery(query);\n        \n        return rs;\n        \n     \n        \n    } catch (Exception e) {\n        JOptionPane.showMessageDialog(null, e);\n        System.out.println(e);\n        return null; \n    }\n</code></pre>\n"},{"tags":["java","multidimensional-array","nested-loops","traversal"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650137151,"post_id":71896824,"comment_id":127047316,"body_markdown":"What&#39;s wrong with the current approach?","body":"What&#39;s wrong with the current approach?"},{"owner":{"display_name":"user18543051"},"score":0,"creation_date":1650137506,"post_id":71896824,"comment_id":127047391,"body_markdown":"I just feel like I am using it too often and it&#39;s making my code really messy. For instance, if I want to use conditional statements on the array, I have to put all of them within the loop.","body":"I just feel like I am using it too often and it&#39;s making my code really messy. For instance, if I want to use conditional statements on the array, I have to put all of them within the loop."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650137552,"post_id":71896824,"comment_id":127047405,"body_markdown":"This sounds like a problem in the data model. Maybe arrays are not the right fit to model the problem domain?","body":"This sounds like a problem in the data model. Maybe arrays are not the right fit to model the problem domain?"},{"owner":{"display_name":"user18543051"},"score":0,"creation_date":1650138088,"post_id":71896824,"comment_id":127047502,"body_markdown":"No, an array is correct as I need to create a board game and hence the 2D array, but if this is the most efficient way to do them it&#39;s fine I guess.","body":"No, an array is correct as I need to create a board game and hence the 2D array, but if this is the most efficient way to do them it&#39;s fine I guess."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650138139,"post_id":71896824,"comment_id":127047508,"body_markdown":"Why is an array the correct data model for a 2d board game? I&#39;d most probably model it in another way.","body":"Why is an array the correct data model for a 2d board game? I&#39;d most probably model it in another way."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650138241,"creation_date":1650137584,"answer_id":71896917,"question_id":71896824,"body_markdown":"If you&#39;re simply looking for alternative ways to process elements within a matrix, just for the sake of knowledge, you could use streams.\r\n\r\nHere, I&#39;m using two IntStreams to print a matrix of int. Note that this is definitely not more efficient than the classic nested for approach, it&#39;s just an alternative way.\r\n\r\n```\r\nint[][] gameboard = new int[][]{{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\nIntStream.range(0, gameboard.length)\r\n        .boxed()\r\n        .peek(i -&gt; IntStream.range(0, gameboard[i].length)\r\n                .boxed()\r\n                .forEach(j -&gt; System.out.printf(&quot;%d &quot;, gameboard[i][j])))\r\n        .forEach(i -&gt; System.out.println());\r\n```\r\n\r\nSimilarly, the previous code can be recreated also in a form with no indexes.\r\n\r\n```\r\nint[][] gameboard = new int[][]{{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\nArrays.stream(gameboard)\r\n        .peek(vet -&gt; Arrays.stream(vet)\r\n                .forEach(x -&gt; System.out.printf(&quot;%d &quot;, x)))\r\n        .forEach(vet -&gt; System.out.println());\r\n```\r\n\r\n&lt;h2&gt;EDIT&lt;/h2&gt;\r\n\r\nSince in the comments I&#39;ve read that you would like to use a more compact form that also allows you to use conditional statements, then what you&#39;re looking for might reinforce the stream approach as you could benefit from the `filter` aggregate operation.\r\n\r\nHere, I&#39;m using the previous example to print only even numbers.\r\n\r\n```\r\nint[][] gameboard = new int[][]{{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\nArrays.stream(gameboard)\r\n        .peek(vet -&gt; Arrays.stream(vet)\r\n                .filter(x -&gt; x % 2 == 0)\r\n                .forEach(x -&gt; System.out.printf(&quot;%d &quot;, x)))\r\n        .forEach(vet -&gt; System.out.println());\r\n```","title":"Traversing through a 2D array","body":"<p>If you're simply looking for alternative ways to process elements within a matrix, just for the sake of knowledge, you could use streams.</p>\n<p>Here, I'm using two IntStreams to print a matrix of int. Note that this is definitely not more efficient than the classic nested for approach, it's just an alternative way.</p>\n<pre><code>int[][] gameboard = new int[][]{{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\nIntStream.range(0, gameboard.length)\n        .boxed()\n        .peek(i -&gt; IntStream.range(0, gameboard[i].length)\n                .boxed()\n                .forEach(j -&gt; System.out.printf(&quot;%d &quot;, gameboard[i][j])))\n        .forEach(i -&gt; System.out.println());\n</code></pre>\n<p>Similarly, the previous code can be recreated also in a form with no indexes.</p>\n<pre><code>int[][] gameboard = new int[][]{{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\nArrays.stream(gameboard)\n        .peek(vet -&gt; Arrays.stream(vet)\n                .forEach(x -&gt; System.out.printf(&quot;%d &quot;, x)))\n        .forEach(vet -&gt; System.out.println());\n</code></pre>\n<h2>EDIT</h2>\n<p>Since in the comments I've read that you would like to use a more compact form that also allows you to use conditional statements, then what you're looking for might reinforce the stream approach as you could benefit from the <code>filter</code> aggregate operation.</p>\n<p>Here, I'm using the previous example to print only even numbers.</p>\n<pre><code>int[][] gameboard = new int[][]{{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\nArrays.stream(gameboard)\n        .peek(vet -&gt; Arrays.stream(vet)\n                .filter(x -&gt; x % 2 == 0)\n                .forEach(x -&gt; System.out.printf(&quot;%d &quot;, x)))\n        .forEach(vet -&gt; System.out.println());\n</code></pre>\n"}],"owner":{"display_name":"user18543051"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71896917,"answer_count":1,"score":1,"last_activity_date":1651088187,"creation_date":1650136809,"question_id":71896824,"body_markdown":"I am trying to figure out how to traverse through a 2D array. The way in which I have been doing it is by using a nested for loop. I am curious to know of any other ways in which this can be done. I just feel like I am repeatedly using nested for loops and would prefer not to.\r\n\r\n    for(int i=0; i&lt;gameBoard.length; i++) {\r\n\t\tfor(int j=0; j&lt;gameBoard[i].length; j++) {\r\n\t}\r\nThis is the only way in which I know how to access multiple elements within the array. Are there any other ways in which to traverse through multi-dimensional arrays?","title":"Traversing through a 2D array","body":"<p>I am trying to figure out how to traverse through a 2D array. The way in which I have been doing it is by using a nested for loop. I am curious to know of any other ways in which this can be done. I just feel like I am repeatedly using nested for loops and would prefer not to.</p>\n<pre><code>for(int i=0; i&lt;gameBoard.length; i++) {\n    for(int j=0; j&lt;gameBoard[i].length; j++) {\n}\n</code></pre>\n<p>This is the only way in which I know how to access multiple elements within the array. Are there any other ways in which to traverse through multi-dimensional arrays?</p>\n"},{"tags":["java","methods","nan"],"answers":[{"tags":[],"owner":{"account_id":16741966,"reputation":191,"user_id":12101341,"display_name":"Mark Colby"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651088152,"creation_date":1591145781,"answer_id":62163590,"question_id":62163570,"body_markdown":"Just add an if statement to handle this edge case.\r\n\r\n```\r\npublic double average() {\r\n    double average=0;\r\n    //added if statement to avoid diving by 0\r\n    if(count==0){return 0.0;}\r\n    average = this.count/(double)sum;\r\n    return average;\r\n}\r\n```","title":"How do I avoid NaN?","body":"<p>Just add an if statement to handle this edge case.</p>\n<pre><code>public double average() {\n    double average=0;\n    //added if statement to avoid diving by 0\n    if(count==0){return 0.0;}\n    average = this.count/(double)sum;\n    return average;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18708201,"reputation":2171,"user_id":13638824,"display_name":"Doruk Eren Aktaş"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591146117,"creation_date":1591146117,"answer_id":62163625,"question_id":62163570,"body_markdown":"First of all, your average function is not working right. `avg = sum / count` but your function does `avg = count / sum`. For printing when count is zero, check it with an if.\r\n\r\n```java\r\npublic double average() {\r\n    // If there is nothing to average return zero\r\n    if (this.count == 0) return 0.0;\r\n    \r\n    double average = 0;\r\n    average = this.sum / (double)this.count;\r\n    return average;\r\n}\r\n``` ","title":"How do I avoid NaN?","body":"<p>First of all, your average function is not working right. <code>avg = sum / count</code> but your function does <code>avg = count / sum</code>. For printing when count is zero, check it with an if.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public double average() {\n    // If there is nothing to average return zero\n    if (this.count == 0) return 0.0;\n\n    double average = 0;\n    average = this.sum / (double)this.count;\n    return average;\n}\n</code></pre>\n"}],"owner":{"account_id":18511032,"reputation":45,"user_id":13486220,"display_name":"TibetanMassive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651088152,"creation_date":1591145593,"question_id":62163570,"body_markdown":"I understand it&#39;s because the program thinks I&#39;m dividing by O, but I&#39;m not sure how to fix it in the program. The program works fine, though. It outputs the average the way I want it to, but I would like it to output &lt;0.0&gt; when there are no integers being sent from the main method. \r\n\r\n    public class Statistics {\r\n\r\n    private int count;\r\n    private int sum;\r\n    //private double average;\r\n\r\n    public Statistics() {\r\n        this.count = 0;\r\n\r\n    }\r\n\r\n    public void addNumber(int number) {\r\n        sum += number;\r\n\r\n        count++;\r\n    }\r\n\r\n    public int getCount() {\r\n        return this.count;\r\n    }\r\n\r\n    public int sum() {\r\n\r\n        return sum;\r\n    }\r\n\r\n    public double average() {\r\n        double average=0;\r\n        average = this.count/(double)sum;\r\n        return average;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Statistics statistics = new Statistics();\r\n        //statistics.addNumber(3);\r\n        //statistics.addNumber(5);\r\n       // statistics.addNumber(1);\r\n        //statistics.addNumber(2);\r\n       System.out.println(&quot;Count: &quot; + statistics.getCount());\r\n        System.out.println(&quot;Sum: &quot; + statistics.sum());\r\n        System.out.println(&quot;Average: &quot; + statistics.average());\r\n    }\r\n\r\n}\r\n\r\nHow can I re-write this average section to avoid that? ","title":"How do I avoid NaN?","body":"<p>I understand it's because the program thinks I'm dividing by O, but I'm not sure how to fix it in the program. The program works fine, though. It outputs the average the way I want it to, but I would like it to output &lt;0.0> when there are no integers being sent from the main method. </p>\n\n<pre><code>public class Statistics {\n\nprivate int count;\nprivate int sum;\n//private double average;\n\npublic Statistics() {\n    this.count = 0;\n\n}\n\npublic void addNumber(int number) {\n    sum += number;\n\n    count++;\n}\n\npublic int getCount() {\n    return this.count;\n}\n\npublic int sum() {\n\n    return sum;\n}\n\npublic double average() {\n    double average=0;\n    average = this.count/(double)sum;\n    return average;\n}\n\npublic static void main(String[] args) {\n    Statistics statistics = new Statistics();\n    //statistics.addNumber(3);\n    //statistics.addNumber(5);\n   // statistics.addNumber(1);\n    //statistics.addNumber(2);\n   System.out.println(\"Count: \" + statistics.getCount());\n    System.out.println(\"Sum: \" + statistics.sum());\n    System.out.println(\"Average: \" + statistics.average());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>How can I re-write this average section to avoid that? </p>\n"},{"tags":["java","list","stream","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":25078835,"reputation":134,"user_id":18931874,"display_name":"Florian Hartung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650899106,"creation_date":1650899106,"answer_id":72001689,"question_id":72001227,"body_markdown":"Here&#39;s the final code (in Java, but I think it should almost be interchangeable with Kotlin)\r\n\r\n```java\r\nList&lt;TwoDObject&gt; l6 = l5.stream()\r\n                .peek(twoDObject -&gt; {\r\n                    List&lt;OneDObject&gt; filteredOneDObjectList = twoDObject.getList()\r\n                            .stream()\r\n                            .filter(oneDObject -&gt; oneDObject.getList()\r\n                                    .stream()\r\n                                    .noneMatch(i -&gt; i % 2 == 1))\r\n                            .toList();\r\n\r\n                    twoDObject.setList(filteredOneDObjectList);\r\n                })\r\n                .filter(twoDObject -&gt; twoDObject.getList().size() &gt; 0)\r\n                .toList();\r\n```\r\n\r\nFirst we go through every `twoDObject` by calling `Stream#peek`, then stream its list and filter out every oneDObject, which contains an odd number. Then the list is saved back into the current twoDObject.\r\n\r\nIn the end we filter out all empty twoDObjects.\r\n\r\n---\r\nNote that `Stream#peek` should normally only be used for the purpose of debugging and not mutating the stream elements.\r\n&lt;br&gt;In this case it could also be replaced with\r\n```java\r\nList&lt;TwoDObject&gt; l6 = l5.stream()\r\n                .map(twoDObject -&gt; {\r\n                    ...\r\n\r\n                    return twoDObject;\r\n                })\r\n                ...\r\n```","title":"Filtering/Removing from a Nested List of Objects using Streams in Java","body":"<p>Here's the final code (in Java, but I think it should almost be interchangeable with Kotlin)</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;TwoDObject&gt; l6 = l5.stream()\n                .peek(twoDObject -&gt; {\n                    List&lt;OneDObject&gt; filteredOneDObjectList = twoDObject.getList()\n                            .stream()\n                            .filter(oneDObject -&gt; oneDObject.getList()\n                                    .stream()\n                                    .noneMatch(i -&gt; i % 2 == 1))\n                            .toList();\n\n                    twoDObject.setList(filteredOneDObjectList);\n                })\n                .filter(twoDObject -&gt; twoDObject.getList().size() &gt; 0)\n                .toList();\n</code></pre>\n<p>First we go through every <code>twoDObject</code> by calling <code>Stream#peek</code>, then stream its list and filter out every oneDObject, which contains an odd number. Then the list is saved back into the current twoDObject.</p>\n<p>In the end we filter out all empty twoDObjects.</p>\n<hr />\n<p>Note that <code>Stream#peek</code> should normally only be used for the purpose of debugging and not mutating the stream elements.\n<br>In this case it could also be replaced with</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;TwoDObject&gt; l6 = l5.stream()\n                .map(twoDObject -&gt; {\n                    ...\n\n                    return twoDObject;\n                })\n                ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650900170,"creation_date":1650900170,"answer_id":72001947,"question_id":72001227,"body_markdown":"Since you need your lists to be updated, in the below solution I am using `removeIf` method of the `List` to remove any elements which does not meet the necessary criteria. So for `removeIf` to work, the list should not be immutable. So replace the `var list = List.of(...)` code with `var list = new ArrayList&lt;&gt;(List.of(...));`\r\n(Note: Null checks have been ignored as well.)\r\n\r\nNow, this problem could be split into components:\r\n 1. Predicate to identify if a list has any odd elements.\r\n```java\r\nPredicate&lt;OneDObject&gt; hasOdd = obj-&gt; obj.getList().stream().anyMatch(i -&gt; i % 2 != 0);\r\n```\r\n2. Predicate to remove objects from 2d list, which has odd elements in its 1d list.\r\n```java\r\nPredicate&lt;TwoDObject&gt; validate2d = obj -&gt; {\r\n    // remove any 1d list that has atleast one odd number.\r\n    obj.getList().removeIf(hasOdd);\r\n    // check if there are any valid 1d lists\r\n    return obj.getList().isEmpty();\r\n};\r\n```\r\n\r\n3. Now apply the predicate to the final list:\r\n```java\r\nl5.removeIf(validate2d); // l5 will now contain only the 2d object having [2,4,6] list\r\n```","title":"Filtering/Removing from a Nested List of Objects using Streams in Java","body":"<p>Since you need your lists to be updated, in the below solution I am using <code>removeIf</code> method of the <code>List</code> to remove any elements which does not meet the necessary criteria. So for <code>removeIf</code> to work, the list should not be immutable. So replace the <code>var list = List.of(...)</code> code with <code>var list = new ArrayList&lt;&gt;(List.of(...));</code>\n(Note: Null checks have been ignored as well.)</p>\n<p>Now, this problem could be split into components:</p>\n<ol>\n<li>Predicate to identify if a list has any odd elements.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;OneDObject&gt; hasOdd = obj-&gt; obj.getList().stream().anyMatch(i -&gt; i % 2 != 0);\n</code></pre>\n<ol start=\"2\">\n<li>Predicate to remove objects from 2d list, which has odd elements in its 1d list.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;TwoDObject&gt; validate2d = obj -&gt; {\n    // remove any 1d list that has atleast one odd number.\n    obj.getList().removeIf(hasOdd);\n    // check if there are any valid 1d lists\n    return obj.getList().isEmpty();\n};\n</code></pre>\n<ol start=\"3\">\n<li>Now apply the predicate to the final list:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>l5.removeIf(validate2d); // l5 will now contain only the 2d object having [2,4,6] list\n</code></pre>\n"}],"owner":{"account_id":14221070,"reputation":67,"user_id":10273369,"display_name":"Aman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72001947,"answer_count":2,"score":1,"last_activity_date":1651088077,"creation_date":1650897113,"question_id":72001227,"body_markdown":"Say that we have a 3-dimensional List of Objects.\r\n```java\r\n  class OneDObject {\r\n    int id;\r\n    List&lt;Integer&gt; list;\r\n    OneDObject(int id, List&lt;Integer&gt;list) { // Constructor }\r\n    // Getters and Setters\r\n  }\r\n\r\n  class TwoDObject {\r\n    int id;\r\n    List&lt;OneDObject&gt; list;\r\n    TwoDObject(int id, List&lt;OneDObject&gt; list) { // Constructor }\r\n    // Getters and Setters\r\n  }\r\n\r\n  var l1 = List.of(1,2,4);\r\n  var l2 = List.of(2,4,6);\r\n  var obj1d1 = new OneDObject(1, l1);\r\n  var obj1d2 = new OneDObject(2, l2);\r\n  var l3 = List.of(obj1d1, obj1d2);\r\n  var l4 = List.of(obj1d1);\r\n  var obj2d1 = new TwoDObject(3, l3);\r\n  var obj2d2 = new TwoDObject(4, l4);\r\n  var l5 = List.of(obj2d1, obj2d2);   // 3-d list\r\n```\r\n\r\nSay that I want to filter &quot;l5&quot; such that if any element in the inner most list is an odd number then the entire list should be deleted, and if that makes the 2nd level list as empty, then that should be deleted in return.\r\n\r\nSo, for the given example, before filtering if it is:\r\n```\r\n[[[1,2,4],[2,4,6]], [[1,2,4]]]\r\n```\r\n\r\nAfter filtering, it should be:\r\n```\r\n[[[2,4,6]]]\r\n```\r\n\r\nHow can I do this using Streams in Java?\r\n","title":"Filtering/Removing from a Nested List of Objects using Streams in Java","body":"<p>Say that we have a 3-dimensional List of Objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  class OneDObject {\n    int id;\n    List&lt;Integer&gt; list;\n    OneDObject(int id, List&lt;Integer&gt;list) { // Constructor }\n    // Getters and Setters\n  }\n\n  class TwoDObject {\n    int id;\n    List&lt;OneDObject&gt; list;\n    TwoDObject(int id, List&lt;OneDObject&gt; list) { // Constructor }\n    // Getters and Setters\n  }\n\n  var l1 = List.of(1,2,4);\n  var l2 = List.of(2,4,6);\n  var obj1d1 = new OneDObject(1, l1);\n  var obj1d2 = new OneDObject(2, l2);\n  var l3 = List.of(obj1d1, obj1d2);\n  var l4 = List.of(obj1d1);\n  var obj2d1 = new TwoDObject(3, l3);\n  var obj2d2 = new TwoDObject(4, l4);\n  var l5 = List.of(obj2d1, obj2d2);   // 3-d list\n</code></pre>\n<p>Say that I want to filter &quot;l5&quot; such that if any element in the inner most list is an odd number then the entire list should be deleted, and if that makes the 2nd level list as empty, then that should be deleted in return.</p>\n<p>So, for the given example, before filtering if it is:</p>\n<pre><code>[[[1,2,4],[2,4,6]], [[1,2,4]]]\n</code></pre>\n<p>After filtering, it should be:</p>\n<pre><code>[[[2,4,6]]]\n</code></pre>\n<p>How can I do this using Streams in Java?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650178299,"creation_date":1650177141,"answer_id":71899808,"question_id":71899535,"body_markdown":"Since you are trying to reduce the amount of code, I can suggest you to Use Lombok `@Data`  annotation to get intrinsic getters and setters as well, this way you can avoid the whole getter setter methods which can reduce a lot of code. The way your InsuranceDto looks after you implement lombok is:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Build\r\n    public class InsuranceDto {\r\n        @NotNull(message =&quot;Accident Number must not be empty null&quot;)\r\n        private String accidentNo;\r\n        @NotNull(message =&quot;Sample field 2 must not be empty null&quot;)\r\n        private String samplefield2;\r\n    }\r\n\r\nLombok repository in Maven: \r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAnd to your question, In InsuranceDto, you can attach the @Data once you have the lombok, for example above the field accidentNo in the InsuranceDto, you can have\r\n\r\n \r\n\r\n    @NotNull(message =&quot;Accident Number must not be empty null&quot;)\r\n    private String accidentNo;\r\n\r\nThis way you can completely avoid the null checks within your service class because it will throw a runtime exception when such a null values comes in even before hitting your service. The validation is automatic. \r\n\r\nEdit: \r\nIf you&#39;re only trying to avoid null checks you can use Apache commons.\r\n\r\n     org.apache.commons.lang3.Validate\r\n\r\nUsage: If the accidentNo is null, an error is thrown with the string you give as a second argument.\r\n\r\n    Validate.notNull(accidentNo, &quot;accidentNo cannot be null&quot;)","title":"What is the best way to Null check input fields in the request object in Java?","body":"<p>Since you are trying to reduce the amount of code, I can suggest you to Use Lombok <code>@Data</code>  annotation to get intrinsic getters and setters as well, this way you can avoid the whole getter setter methods which can reduce a lot of code. The way your InsuranceDto looks after you implement lombok is:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Build\npublic class InsuranceDto {\n    @NotNull(message =&quot;Accident Number must not be empty null&quot;)\n    private String accidentNo;\n    @NotNull(message =&quot;Sample field 2 must not be empty null&quot;)\n    private String samplefield2;\n}\n</code></pre>\n<p>Lombok repository in Maven:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And to your question, In InsuranceDto, you can attach the @Data once you have the lombok, for example above the field accidentNo in the InsuranceDto, you can have</p>\n<pre><code>@NotNull(message =&quot;Accident Number must not be empty null&quot;)\nprivate String accidentNo;\n</code></pre>\n<p>This way you can completely avoid the null checks within your service class because it will throw a runtime exception when such a null values comes in even before hitting your service. The validation is automatic.</p>\n<p>Edit:\nIf you're only trying to avoid null checks you can use Apache commons.</p>\n<pre><code> org.apache.commons.lang3.Validate\n</code></pre>\n<p>Usage: If the accidentNo is null, an error is thrown with the string you give as a second argument.</p>\n<pre><code>Validate.notNull(accidentNo, &quot;accidentNo cannot be null&quot;)\n</code></pre>\n"}],"owner":{"display_name":"user14600030"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71899808,"answer_count":1,"score":1,"last_activity_date":1651088044,"creation_date":1650173504,"question_id":71899535,"body_markdown":"I have a Code Like this:\r\n\r\nInsurance Dto:\r\n```\r\n private String accidentNo;\r\n private String birthDate;\r\n private String mobileNo;\r\n private String ssn;\r\n\r\n public InsuranceDto(String accidentNo, String birthDate, String mobileNo, String ssn) {\r\n \tthis.accidentNo = accidentNo;\r\n \tthis.birthDate = birthDate;\r\n \tthis.mobileNo = mobileNo;\r\n \tthis.ssn = ssn;\r\n }\r\n\r\n public InsuranceDto() {}\r\n\r\n public String getAccidentNo() {\r\n \treturn accidentNo;\r\n }\r\n\r\n public void setAccidentNo(String accidentNo) {\r\n \tthis.accidentNo = accidentNo;\r\n }\r\n\r\n public String getBirthDate() {\r\n \treturn birthDate;\r\n }\r\n\r\n public void setBirthDate(String birthDate) {\r\n \tthis.birthDate = birthDate;\r\n }\r\n\r\n public String getMobileNo() {\r\n \treturn mobileNo;\r\n }\r\n\r\n public void setMobileNo(String mobileNo) {\r\n \tthis.mobileNo = mobileNo;\r\n }\r\n\r\n public String getSsn() {\r\n \treturn ssn;\r\n }\r\n\r\n public void setSsn(String ssn) {\r\n \tthis.ssn = ssn;\r\n }\r\n```\r\n\r\nMain Method: \r\n```\r\n InsuranceDto insuranceDto = new InsuranceDto();\r\n\r\n if (insuranceDto.getAccidentNo() == null)\r\n     throw new RuntimeException(&quot;Enter AccidentNo.&quot;);\r\n if (insuranceDto.getBirthDate() == null)\r\n     throw new RuntimeException(&quot;Enter BirthDate.&quot;);\r\n if (insuranceDto.getMobileNo() == null)\r\n     throw new RuntimeException(&quot;Enter MobileNo&quot;);\r\n if (insuranceDto.getSsn() == null)\r\n     throw new RuntimeException(&quot;Enter SSN&quot;);\r\n```\r\n\r\nSo the Code Works but its Kind of Garbage and if I Add 3 Other Fields to **InsuranceDTO**, I Have to Edit the Entire Code to Validate them. Imagen if the Validation Policy Gets more Complicated and you Need to Validate two and/or more Fields in one If statement At Once.\r\n\r\nSo How Can I avoid this? Is There a Design Pattern or Something else to Make it Better?","title":"What is the best way to Null check input fields in the request object in Java?","body":"<p>I have a Code Like this:</p>\n<p>Insurance Dto:</p>\n<pre><code> private String accidentNo;\n private String birthDate;\n private String mobileNo;\n private String ssn;\n\n public InsuranceDto(String accidentNo, String birthDate, String mobileNo, String ssn) {\n    this.accidentNo = accidentNo;\n    this.birthDate = birthDate;\n    this.mobileNo = mobileNo;\n    this.ssn = ssn;\n }\n\n public InsuranceDto() {}\n\n public String getAccidentNo() {\n    return accidentNo;\n }\n\n public void setAccidentNo(String accidentNo) {\n    this.accidentNo = accidentNo;\n }\n\n public String getBirthDate() {\n    return birthDate;\n }\n\n public void setBirthDate(String birthDate) {\n    this.birthDate = birthDate;\n }\n\n public String getMobileNo() {\n    return mobileNo;\n }\n\n public void setMobileNo(String mobileNo) {\n    this.mobileNo = mobileNo;\n }\n\n public String getSsn() {\n    return ssn;\n }\n\n public void setSsn(String ssn) {\n    this.ssn = ssn;\n }\n</code></pre>\n<p>Main Method:</p>\n<pre><code> InsuranceDto insuranceDto = new InsuranceDto();\n\n if (insuranceDto.getAccidentNo() == null)\n     throw new RuntimeException(&quot;Enter AccidentNo.&quot;);\n if (insuranceDto.getBirthDate() == null)\n     throw new RuntimeException(&quot;Enter BirthDate.&quot;);\n if (insuranceDto.getMobileNo() == null)\n     throw new RuntimeException(&quot;Enter MobileNo&quot;);\n if (insuranceDto.getSsn() == null)\n     throw new RuntimeException(&quot;Enter SSN&quot;);\n</code></pre>\n<p>So the Code Works but its Kind of Garbage and if I Add 3 Other Fields to <strong>InsuranceDTO</strong>, I Have to Edit the Entire Code to Validate them. Imagen if the Validation Policy Gets more Complicated and you Need to Validate two and/or more Fields in one If statement At Once.</p>\n<p>So How Can I avoid this? Is There a Design Pattern or Something else to Make it Better?</p>\n"},{"tags":["java","eclipse","gwt","swt","windowbuilder"],"comments":[{"owner":{"account_id":1573621,"reputation":1126,"user_id":1460723,"accept_rate":75,"display_name":"Steffen Sch&#228;fer"},"score":0,"creation_date":1379486534,"post_id":18860856,"comment_id":27839001,"body_markdown":"Are the Eclipse webtools installed? I always suggest to use the &quot;Eclipse IDE for Java EE Developers&quot; as base for your GWT IDE because this package inludes everything needed by the GPE/WindowBuilder.","body":"Are the Eclipse webtools installed? I always suggest to use the &quot;Eclipse IDE for Java EE Developers&quot; as base for your GWT IDE because this package inludes everything needed by the GPE/WindowBuilder."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1379488263,"post_id":18860856,"comment_id":27839816,"body_markdown":"Which one is it? GWT or SWT?","body":"Which one is it? GWT or SWT?"},{"owner":{"account_id":489253,"reputation":1,"user_id":2730239,"display_name":"Anas"},"score":0,"creation_date":1379522132,"post_id":18860856,"comment_id":27859996,"body_markdown":"@brano88, Steffen : Eclipse Java EE IDE for Web Developers.\nVersion: Juno Service Release 2\nBuild id: 20130225-0426\n\nBaz: Neither GWT nor SWT is working but as I said link is there and enabled.","body":"@brano88, Steffen : Eclipse Java EE IDE for Web Developers. Version: Juno Service Release 2 Build id: 20130225-0426  Baz: Neither GWT nor SWT is working but as I said link is there and enabled."},{"owner":{"account_id":489253,"reputation":1,"user_id":2730239,"display_name":"Anas"},"score":0,"creation_date":1379524885,"post_id":18860856,"comment_id":27861487,"body_markdown":"I am little skeptical if I am getting the problem correctly or not but the log information is here.\n\nUnhandled event loop exception:\norg.eclipse.swt.SWTException: Failed to execute runnable (org.eclipse.swt.SWTException: Widget is disposed)\n\tat org.eclipse.swt.SWT.error(SWT.java:4361)\n\tat org.eclipse.swt.SWT.error(SWT.java:4276)... more","body":"I am little skeptical if I am getting the problem correctly or not but the log information is here.  Unhandled event loop exception: org.eclipse.swt.SWTException: Failed to execute runnable (org.eclipse.swt.SWTException: Widget is disposed) \tat org.eclipse.swt.SWT.error(SWT.java:4361) \tat org.eclipse.swt.SWT.error(SWT.java:4276)... more"}],"answers":[{"tags":[],"owner":{"account_id":2246604,"reputation":26,"user_id":1979804,"display_name":"Sunil Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379567173,"creation_date":1379566072,"answer_id":18886372,"question_id":18860856,"body_markdown":"    Well Anas,\r\n    I understood your problem so follow these simple steps to overcome this solutions\r\n    First install the Indigo[3.7.2] version  Eclipse from this link:\r\n    http://download.eclipse.org/releases/indigo\r\n    \r\n    And then go to eclipse---&gt;Help----&gt;InstallNewSoftware and paste the below link&gt;\r\n    \r\n    WindowBuilder[1.6] Pro Update Site - http://dl.google.com/eclipse/inst/d2wbpro/latest/3.7\r\n    \r\n    And select WindowBuilder Specific Checkboxes and proceed accordingly.\r\n    After that if you want to do a simple example of using windowBuider \r\n    just go through this link it might be helpful for you in this regard:\r\n    http://help.eclipse.org/indigo/topic/org.eclipse.wb.doc.user/html/NewComponentsTutorial.pdf\r\n    In case still you are facing issues feel free to reach me SUNIL\r\n\r\n","title":"WindowsBuilder is not working on Eclipse","body":"<pre><code>Well Anas,\nI understood your problem so follow these simple steps to overcome this solutions\nFirst install the Indigo[3.7.2] version  Eclipse from this link:\nhttp://download.eclipse.org/releases/indigo\n\nAnd then go to eclipse---&gt;Help----&gt;InstallNewSoftware and paste the below link&gt;\n\nWindowBuilder[1.6] Pro Update Site - http://dl.google.com/eclipse/inst/d2wbpro/latest/3.7\n\nAnd select WindowBuilder Specific Checkboxes and proceed accordingly.\nAfter that if you want to do a simple example of using windowBuider \njust go through this link it might be helpful for you in this regard:\nhttp://help.eclipse.org/indigo/topic/org.eclipse.wb.doc.user/html/NewComponentsTutorial.pdf\nIn case still you are facing issues feel free to reach me SUNIL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401874,"reputation":427,"user_id":768691,"accept_rate":98,"display_name":"ucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651087836,"creation_date":1651087836,"answer_id":72034320,"question_id":18860856,"body_markdown":"Check over here for available WindowsBuilder versions:\r\n\r\n - https://www.eclipse.org/windowbuilder/download.php\r\n\r\nTake a link, and pass it on Eclipse IDE&#39;s feature installer, which takes the URI. Aim for the version of the builder which is supported by that IDE version.\r\n\r\nIf you take the latest version of WindowsBuilder, it does not mean that the specific IDE does support it.\r\n\r\nBest regards","title":"WindowsBuilder is not working on Eclipse","body":"<p>Check over here for available WindowsBuilder versions:</p>\n<ul>\n<li><a href=\"https://www.eclipse.org/windowbuilder/download.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/windowbuilder/download.php</a></li>\n</ul>\n<p>Take a link, and pass it on Eclipse IDE's feature installer, which takes the URI. Aim for the version of the builder which is supported by that IDE version.</p>\n<p>If you take the latest version of WindowsBuilder, it does not mean that the specific IDE does support it.</p>\n<p>Best regards</p>\n"}],"owner":{"account_id":489253,"reputation":1,"user_id":2730239,"display_name":"Anas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651087836,"creation_date":1379456484,"question_id":18860856,"body_markdown":"This is Anas here and I just wonder if one can share his though about windowsbuilder on eclipse. I installed it from help link through selecting SWT, GWT other plugins and all gone well but after a restart those plugins are not working. Precisely, Eclipse IDE is showing those links enabled but it takes me to interface asking to install some additional toolkits, again when I proceed, I met a repository not found error.\r\n\r\nHunting over web, I have tried -clean and checked my port address. Thanks for your comment!! ","title":"WindowsBuilder is not working on Eclipse","body":"<p>This is Anas here and I just wonder if one can share his though about windowsbuilder on eclipse. I installed it from help link through selecting SWT, GWT other plugins and all gone well but after a restart those plugins are not working. Precisely, Eclipse IDE is showing those links enabled but it takes me to interface asking to install some additional toolkits, again when I proceed, I met a repository not found error.</p>\n\n<p>Hunting over web, I have tried -clean and checked my port address. Thanks for your comment!! </p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1651086426,"post_id":72034053,"comment_id":127281449,"body_markdown":"The official answer is no. You can probably do it through reflection but you shouldn&#39;t. What you can possibly do is use a `ListIterator`. That allows traversing both ways, has internal links to the nodes, and has the option to `set` the value.","body":"The official answer is no. You can probably do it through reflection but you shouldn&#39;t. What you can possibly do is use a <code>ListIterator</code>. That allows traversing both ways, has internal links to the nodes, and has the option to <code>set</code> the value."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1651086758,"post_id":72034053,"comment_id":127281576,"body_markdown":"The `Node` class inside `LinkedList` is `private`.  So you really can&#39;t mess with it.  Although there are ways to use Reflection to make `private` things a little less `private`, you really shouldn&#39;t be doing that.  And even if you could freely assign `next` and `prev`, there are many edge cases in the required logic, so this would be insanely complicated.","body":"The <code>Node</code> class inside <code>LinkedList</code> is <code>private</code>.  So you really can&#39;t mess with it.  Although there are ways to use Reflection to make <code>private</code> things a little less <code>private</code>, you really shouldn&#39;t be doing that.  And even if you could freely assign <code>next</code> and <code>prev</code>, there are many edge cases in the required logic, so this would be insanely complicated."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1651086795,"post_id":72034053,"comment_id":127281591,"body_markdown":"This is just a bad idea. Then you have two ways in which node position can change, and this becomes a multi-threading safety nightmare.","body":"This is just a bad idea. Then you have two ways in which node position can change, and this becomes a multi-threading safety nightmare."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651087807,"creation_date":1651086827,"answer_id":72034148,"question_id":72034053,"body_markdown":"No. The node is not publicly accessible, and it&#39;s an implementation detail that may change or even disappear in a given Java runtime.\r\n\r\nYes. With sufficient effort and ongoing care, you can use reflection to manipulate the normally inaccessible innards of a particular implementation.\r\n\r\nI suspect this might be an XY problem, and if you described your goal, it might be that a different collection would work better.\r\n\r\n---\r\n\r\nFor an LRU cache, you could use [`LinkedHashMap`,][1] with the access-order flag set.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html#LinkedHashMap-int-float-boolean-","title":"Is it possible to access to java.util.LinkedList node directly?","body":"<p>No. The node is not publicly accessible, and it's an implementation detail that may change or even disappear in a given Java runtime.</p>\n<p>Yes. With sufficient effort and ongoing care, you can use reflection to manipulate the normally inaccessible innards of a particular implementation.</p>\n<p>I suspect this might be an XY problem, and if you described your goal, it might be that a different collection would work better.</p>\n<hr />\n<p>For an LRU cache, you could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html#LinkedHashMap-int-float-boolean-\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code>,</a> with the access-order flag set.</p>\n"}],"owner":{"account_id":15096004,"reputation":2715,"user_id":10894456,"display_name":"J.J. Beam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72034148,"answer_count":1,"score":-1,"last_activity_date":1651087807,"creation_date":1651086327,"question_id":72034053,"body_markdown":"Is it possible to access to `java.util.LinkedList` node directly, and manually swap two nodes by change next and prev links?","title":"Is it possible to access to java.util.LinkedList node directly?","body":"<p>Is it possible to access to <code>java.util.LinkedList</code> node directly, and manually swap two nodes by change next and prev links?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1651086893,"post_id":72034142,"comment_id":127281633,"body_markdown":"You have two `System.out.println(n);` lines in there. Think about when each of those is executed (and what value `n` has at those times)","body":"You have two <code>System.out.println(n);</code> lines in there. Think about when each of those is executed (and what value <code>n</code> has at those times)"},{"owner":{"account_id":1700481,"reputation":523,"user_id":1560708,"display_name":"Shahan M"},"score":1,"creation_date":1651086897,"post_id":72034142,"comment_id":127281635,"body_markdown":"You should trace it. :D","body":"You should trace it. :D"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651087028,"post_id":72034142,"comment_id":127281673,"body_markdown":"Please read: [How to debug small programs (`https://ericlippert.com/`)](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (<code>https:&#47;&#47;ericlippert.com&#47;</code>)</a>"},{"owner":{"account_id":19122628,"reputation":11,"user_id":13966282,"display_name":"ProgrammingNoob321312"},"score":0,"creation_date":1651087090,"post_id":72034142,"comment_id":127281696,"body_markdown":"In my opinion n is at first for example 3 then 2 then 1 and then 0. When it is 0 how is the second System.out.println(n); excecuted?","body":"In my opinion n is at first for example 3 then 2 then 1 and then 0. When it is 0 how is the second System.out.println(n); excecuted?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1651087120,"post_id":72034142,"comment_id":127281704,"body_markdown":"Rephrasing a popular saying for this particular case: &quot;Everything that goes down should eventually raise up&quot;.","body":"Rephrasing a popular saying for this particular case: &quot;Everything that goes down should eventually raise up&quot;."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1651087180,"post_id":72034142,"comment_id":127281732,"body_markdown":"@Bene200404 - It&#39;s not a question of &quot;*opinion*&quot;. You have all means to see what **actually** happens.","body":"@Bene200404 - It&#39;s not a question of &quot;<i>opinion</i>&quot;. You have all means to see what <b>actually</b> happens."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1651087248,"post_id":72034142,"comment_id":127281758,"body_markdown":"@Bene200404 Why don&#39;t you try `downup(0)` to see what it prints, then try `downup(1)` to see what that prints?  That might help you understand the role of the second `println` call.","body":"@Bene200404 Why don&#39;t you try <code>downup(0)</code> to see what it prints, then try <code>downup(1)</code> to see what that prints?  That might help you understand the role of the second <code>println</code> call."},{"owner":{"account_id":1700481,"reputation":523,"user_id":1560708,"display_name":"Shahan M"},"score":0,"creation_date":1651087286,"post_id":72034142,"comment_id":127281772,"body_markdown":"For this particular example, keep in mind that execution is sequential - each line is executed only after the previous line. Then consider what happens during a recursive call. Now, list the process by hand.","body":"For this particular example, keep in mind that execution is sequential - each line is executed only after the previous line. Then consider what happens during a recursive call. Now, list the process by hand."},{"owner":{"account_id":19122628,"reputation":11,"user_id":13966282,"display_name":"ProgrammingNoob321312"},"score":0,"creation_date":1651088123,"post_id":72034142,"comment_id":127282080,"body_markdown":"Thank you for your answers. These helped me alot. Now I understand how it works.","body":"Thank you for your answers. These helped me alot. Now I understand how it works."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1651096700,"post_id":72034142,"comment_id":127284521,"body_markdown":"That which is called, must also return.","body":"That which is called, must also return."}],"answers":[{"tags":[],"owner":{"account_id":24989454,"reputation":411,"user_id":18850835,"display_name":"Michel K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651087689,"creation_date":1651087689,"answer_id":72034293,"question_id":72034142,"body_markdown":"The exeuction can be visualized like this: \r\n```lang-text\r\ndownup(3)\r\n    println(3)\r\n    downup(3-1)\r\n        println(2)\r\n        downup(2-1)\r\n            println(1)\r\n            downup(1-1)\r\n                println(0)\r\n                condition false, recursion stopped\r\n                return\r\n            println(1)\r\n            return\r\n        println(2)\r\n        return\r\n    println(3)\r\n    return\r\n```\r\nEvery time `downup()` is called (recursively), indentation increases. When execution returns from `downup()`, indentation decreases.","title":"Why does this Java code output &quot;3210123&quot;?","body":"<p>The exeuction can be visualized like this:</p>\n<pre class=\"lang-text prettyprint-override\"><code>downup(3)\n    println(3)\n    downup(3-1)\n        println(2)\n        downup(2-1)\n            println(1)\n            downup(1-1)\n                println(0)\n                condition false, recursion stopped\n                return\n            println(1)\n            return\n        println(2)\n        return\n    println(3)\n    return\n</code></pre>\n<p>Every time <code>downup()</code> is called (recursively), indentation increases. When execution returns from <code>downup()</code>, indentation decreases.</p>\n"}],"owner":{"account_id":19122628,"reputation":11,"user_id":13966282,"display_name":"ProgrammingNoob321312"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72034293,"answer_count":1,"score":-2,"last_activity_date":1651087689,"creation_date":1651086798,"question_id":72034142,"body_markdown":"    public static void downup(int n) {\r\n\t\tSystem.out.println(n);\r\n\t\tif(n&gt;0) {\r\n\t\t\tdownup(n-1);\r\n\t\t\tSystem.out.println(n);\r\n\t\t}\t\r\n\t}\r\n\r\nI saw this code and do not understand why the output is 3210123 when n is 3. I can only understand that it has to be &quot;3210&quot;. What about the rest of the output (&quot;123&quot;)?","title":"Why does this Java code output &quot;3210123&quot;?","body":"<pre><code>public static void downup(int n) {\n    System.out.println(n);\n    if(n&gt;0) {\n        downup(n-1);\n        System.out.println(n);\n    }   \n}\n</code></pre>\n<p>I saw this code and do not understand why the output is 3210123 when n is 3. I can only understand that it has to be &quot;3210&quot;. What about the rest of the output (&quot;123&quot;)?</p>\n"},{"tags":["java","kotlin","jackson","json-value"],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651087453,"creation_date":1647172783,"question_id":71456536,"body_markdown":"    class Wrapper(private val value: String?) {\r\n        @JsonValue\r\n        fun asValue(): String? {\r\n            return value\r\n        }\r\n    }    \r\n\r\n    val mapper = ObjectMapper()\r\n                    .setSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n\r\n\r\n    val item = mapOf(\r\n                   &quot;first&quot; to null,\r\n                   &quot;second&quot; to Wrapper(null),\r\n                   &quot;third&quot; to Wrapper(&quot;xyz&quot;)\r\n               )\r\n\r\n    val str = mapper.writeValueAsString(item)\r\n\r\n    // -&gt; {&quot;second&quot;: null, &quot;third&quot;: &quot;xyz&quot;}\r\n\r\nEffectively both &quot;first&quot; and &quot;second&quot; fields contain `null` value. When the option `Include.NON_NULL` is enabled, I would expect that they are absent in the serialized representation. Nevertheless, the value returned from `@JsonValue` appears in the serialized JSON (`&quot;second&quot;` field).\r\n\r\n**How to exclude all null fields from the resulting JSON (whatever their origin is)?**\r\n","title":"How to exclude a null value computed in JsonValue from JSON serialized by Jackson?","body":"<pre><code>class Wrapper(private val value: String?) {\n    @JsonValue\n    fun asValue(): String? {\n        return value\n    }\n}    \n\nval mapper = ObjectMapper()\n                .setSerializationInclusion(JsonInclude.Include.NON_NULL)\n\n\nval item = mapOf(\n               &quot;first&quot; to null,\n               &quot;second&quot; to Wrapper(null),\n               &quot;third&quot; to Wrapper(&quot;xyz&quot;)\n           )\n\nval str = mapper.writeValueAsString(item)\n\n// -&gt; {&quot;second&quot;: null, &quot;third&quot;: &quot;xyz&quot;}\n</code></pre>\n<p>Effectively both &quot;first&quot; and &quot;second&quot; fields contain <code>null</code> value. When the option <code>Include.NON_NULL</code> is enabled, I would expect that they are absent in the serialized representation. Nevertheless, the value returned from <code>@JsonValue</code> appears in the serialized JSON (<code>&quot;second&quot;</code> field).</p>\n<p><strong>How to exclude all null fields from the resulting JSON (whatever their origin is)?</strong></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651087050,"creation_date":1651087050,"answer_id":72034188,"question_id":72033950,"body_markdown":"To check whether a value exists you should use a [`Set`](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html) as they are optimized for lookups. A lookup in a set takes `O(1)` time while it could be `O(n)` in an array. Therefore you should convert your array to a `Set` once and then use that `Set` as often as you need to to check your user supplied lists.  \r\n```java\r\nimport java.util.*;\r\n\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        var matchingList = List.of(&quot;str1&quot;, &quot;str1&quot;);\r\n        var notMatchingList = List.of(&quot;str1&quot;, &quot;strWrong&quot;);\r\n        var whitelist = new String[]{&quot;str1&quot;, &quot;str1&quot;};\r\n\r\n        // create a set of the whitelist\r\n        // this will allow lookups in O(1) time\r\n        var setWhiteList = new HashSet&lt;&gt;(Arrays.asList(whitelist));\r\n\r\n        System.out.println(compare(setWhiteList, matchingList));\r\n        System.out.println(compare(setWhiteList, notMatchingList));\r\n    }\r\n\r\n    public static boolean compare(Set&lt;String&gt; whitelist, List&lt;String&gt; listToCheck) {\r\n        // check if all values in the list are in the whitelist\r\n        // if they are not false is returned, if they are true is returned\r\n        return whitelist.containsAll(listToCheck);\r\n    }\r\n}\r\n```\r\nExpected output:\r\n```\r\ntrue\r\nfalse\r\n```","title":"How do I compare values of an Arraylist with string values and a regular array with string values?","body":"<p>To check whether a value exists you should use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> as they are optimized for lookups. A lookup in a set takes <code>O(1)</code> time while it could be <code>O(n)</code> in an array. Therefore you should convert your array to a <code>Set</code> once and then use that <code>Set</code> as often as you need to to check your user supplied lists.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Application {\n\n    public static void main(String[] args) {\n        var matchingList = List.of(&quot;str1&quot;, &quot;str1&quot;);\n        var notMatchingList = List.of(&quot;str1&quot;, &quot;strWrong&quot;);\n        var whitelist = new String[]{&quot;str1&quot;, &quot;str1&quot;};\n\n        // create a set of the whitelist\n        // this will allow lookups in O(1) time\n        var setWhiteList = new HashSet&lt;&gt;(Arrays.asList(whitelist));\n\n        System.out.println(compare(setWhiteList, matchingList));\n        System.out.println(compare(setWhiteList, notMatchingList));\n    }\n\n    public static boolean compare(Set&lt;String&gt; whitelist, List&lt;String&gt; listToCheck) {\n        // check if all values in the list are in the whitelist\n        // if they are not false is returned, if they are true is returned\n        return whitelist.containsAll(listToCheck);\n    }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>true\nfalse\n</code></pre>\n"}],"owner":{"account_id":25119205,"reputation":1,"user_id":18967763,"display_name":"Adam Bouches"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1651087159,"creation_date":1651085641,"question_id":72033950,"body_markdown":"I have an arraylist with string values that the user inputs. I have another array but its not an arraylist.  This array has a bunch of string values.  I want to compare both of the arrays to see if the ArrayList has the same string as the array.  \r\nThe userEnteredWords is the arraylist and the arrayofValidWords is the regular array.  \r\n\r\n\r\npublic void wordAddedUserArray()\r\n{\r\n\r\n        String getInput = anagramWord.getText().toString();\r\n\r\n        if(userEnteredWords.contains(getInput)){\r\n            Toast.makeText(AnaGramAttack.this, &quot;Word already added&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if (getInput == null || getInput.trim().equals(&quot;&quot;)){\r\n            Toast.makeText(AnaGramAttack.this, &quot;Input is empty&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if(!Arrays.equals(arrayofValidWords, userEnteredWords)){\r\n            Toast.makeText(AnaGramAttack.this, &quot;OOF&quot;, Toast.LENGTH_SHORT).show();\r\n            userEnteredWords.add(getInput);\r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(AnaGramAttack.this, android.R.layout.simple_list_item_1, userEnteredWords);\r\n            wordList.setAdapter(adapter);\r\n        }\r\n       \r\n        \r\n\r\n    }","title":"How do I compare values of an Arraylist with string values and a regular array with string values?","body":"<p>I have an arraylist with string values that the user inputs. I have another array but its not an arraylist.  This array has a bunch of string values.  I want to compare both of the arrays to see if the ArrayList has the same string as the array.<br />\nThe userEnteredWords is the arraylist and the arrayofValidWords is the regular array.</p>\n<p>public void wordAddedUserArray()\n{</p>\n<pre><code>    String getInput = anagramWord.getText().toString();\n\n    if(userEnteredWords.contains(getInput)){\n        Toast.makeText(AnaGramAttack.this, &quot;Word already added&quot;, Toast.LENGTH_SHORT).show();\n    }\n    else if (getInput == null || getInput.trim().equals(&quot;&quot;)){\n        Toast.makeText(AnaGramAttack.this, &quot;Input is empty&quot;, Toast.LENGTH_SHORT).show();\n    }\n    else if(!Arrays.equals(arrayofValidWords, userEnteredWords)){\n        Toast.makeText(AnaGramAttack.this, &quot;OOF&quot;, Toast.LENGTH_SHORT).show();\n        userEnteredWords.add(getInput);\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(AnaGramAttack.this, android.R.layout.simple_list_item_1, userEnteredWords);\n        wordList.setAdapter(adapter);\n    }\n   \n    \n\n}\n</code></pre>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1651083295,"post_id":72033483,"comment_id":127280416,"body_markdown":"In `findVal`, if `val &gt; m[i][j]` and `linearSearch(m[i],val)` returns `-1`, then your loop will repeat without updating any variables.","body":"In <code>findVal</code>, if <code>val &gt; m[i][j]</code> and <code>linearSearch(m[i],val)</code> returns <code>-1</code>, then your loop will repeat without updating any variables."},{"owner":{"account_id":2104315,"reputation":27145,"user_id":1871033,"display_name":"CherryDT"},"score":0,"creation_date":1651083596,"post_id":72033483,"comment_id":127280522,"body_markdown":"I recommend using your debugger to step through the code one statement at a time and see what happens. You&#39;d then discover that you are entering the second branch (the `else if`) but then the next `if` inside of it is not fulfilled and execution continues forever this way because nothing is changing that would make a difference in what code path is taken next time.","body":"I recommend using your debugger to step through the code one statement at a time and see what happens. You&#39;d then discover that you are entering the second branch (the <code>else if</code>) but then the next <code>if</code> inside of it is not fulfilled and execution continues forever this way because nothing is changing that would make a difference in what code path is taken next time."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651083294,"creation_date":1651083294,"answer_id":72033521,"question_id":72033483,"body_markdown":"Your `while` body has an `if`-`else if`-`else` structure with three branches. The first uses a `return` statement to exit the method, so that won&#39;t cause an infinite loop. The third increments `i` so that should eventually cause the loop to end. It&#39;s the second one that&#39;s the issue. It contains a conditional `return` statement. However, if that condition is not met, the loop body does _nothing_. That means that the loop condition won&#39;t change, and the same branch is chosen every time.","title":"while I&#39;m getting infinite while loop in java","body":"<p>Your <code>while</code> body has an <code>if</code>-<code>else if</code>-<code>else</code> structure with three branches. The first uses a <code>return</code> statement to exit the method, so that won't cause an infinite loop. The third increments <code>i</code> so that should eventually cause the loop to end. It's the second one that's the issue. It contains a conditional <code>return</code> statement. However, if that condition is not met, the loop body does <em>nothing</em>. That means that the loop condition won't change, and the same branch is chosen every time.</p>\n"},{"tags":[],"owner":{"account_id":25106064,"reputation":26,"user_id":18956229,"display_name":"Anirban Bakshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651083708,"creation_date":1651083708,"answer_id":72033583,"question_id":72033483,"body_markdown":"Your else if condition is causing the loop to go infinite.\r\n\r\n     else if(val &gt; m[i][j] ){\r\n    \r\n                    if(linearSearch(m[i],val) !=-1){return true;}\r\n    \r\n                }\r\n\r\nIn case -1 is returned from the `linearSearch(m[i],val)` . You are not increasing i or j which in turn is causing the same values of i and j to be evaluated again and again in the while loop.\r\n\r\nTry to do a i++ in case the value from `linearSearch(m[i],val) == -1` that will fix the issue of infinite loop","title":"while I&#39;m getting infinite while loop in java","body":"<p>Your else if condition is causing the loop to go infinite.</p>\n<pre><code> else if(val &gt; m[i][j] ){\n\n                if(linearSearch(m[i],val) !=-1){return true;}\n\n            }\n</code></pre>\n<p>In case -1 is returned from the <code>linearSearch(m[i],val)</code> . You are not increasing i or j which in turn is causing the same values of i and j to be evaluated again and again in the while loop.</p>\n<p>Try to do a i++ in case the value from <code>linearSearch(m[i],val) == -1</code> that will fix the issue of infinite loop</p>\n"}],"owner":{"account_id":25118598,"reputation":13,"user_id":18967243,"display_name":"Baraa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72033583,"answer_count":2,"score":-3,"last_activity_date":1651086222,"creation_date":1651083063,"question_id":72033483,"body_markdown":"I want to write a code which loops in a 2d array, the main method is findVal which gets a 2d array and a value and return true if the value is in the array,  I used a binary search code to loop through a single  row of the array and another method which goes down in rows in the 2d array, the problem is when I run a tester it doen&#39;t open the terminal window and it looks like my loop is infinite, my code is the following\r\n\r\n\r\n\r\n    public static int linearSearch(int [] arr, int num)\r\n        {\r\n            int pos=0;\r\n            while ((arr[pos]&lt;num)&amp;&amp;(pos&lt;arr.length-1))\r\n                pos++;\r\n            if(arr[pos]==num){return pos;}\r\n            else {return -1;}\r\n        }\r\n    public static boolean findVal(int [][] m, int val)\r\n        {\r\n            int n=m.length;\r\n            int j=m.length-1, i=0;\r\n            while (i&lt;=j)\r\n            {\r\n                if(val == m[i][j]){return true;}\r\n                \r\n                else if(val &gt; m[i][j] ){\r\n    \r\n                    if(linearSearch(m[i],val) !=-1){return true;}\r\n    \r\n                }\r\n                else{\r\n                    i++;\r\n                }\r\n    \r\n            }\r\n    \r\n            return false;\r\n        }\r\n\r\ncan someone tell me what I&#39;m doing wrong? \r\n**Note: I can&#39;t use nested loops neither run through n*n in a for loop.** ","title":"while I&#39;m getting infinite while loop in java","body":"<p>I want to write a code which loops in a 2d array, the main method is findVal which gets a 2d array and a value and return true if the value is in the array,  I used a binary search code to loop through a single  row of the array and another method which goes down in rows in the 2d array, the problem is when I run a tester it doen't open the terminal window and it looks like my loop is infinite, my code is the following</p>\n<pre><code>public static int linearSearch(int [] arr, int num)\n    {\n        int pos=0;\n        while ((arr[pos]&lt;num)&amp;&amp;(pos&lt;arr.length-1))\n            pos++;\n        if(arr[pos]==num){return pos;}\n        else {return -1;}\n    }\npublic static boolean findVal(int [][] m, int val)\n    {\n        int n=m.length;\n        int j=m.length-1, i=0;\n        while (i&lt;=j)\n        {\n            if(val == m[i][j]){return true;}\n            \n            else if(val &gt; m[i][j] ){\n\n                if(linearSearch(m[i],val) !=-1){return true;}\n\n            }\n            else{\n                i++;\n            }\n\n        }\n\n        return false;\n    }\n</code></pre>\n<p>can someone tell me what I'm doing wrong?\n<strong>Note: I can't use nested loops neither run through n*n in a for loop.</strong></p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651085641,"post_id":72033936,"comment_id":127281188,"body_markdown":"&quot;*Does the void method have any function in this code?*&quot; - If by &quot;function&quot; we mean an &quot;externally visible change in state&quot; then no, it does not. --- Please read: [How to debug small programs (`https://ericlippert.com/`)](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"&quot;<i>Does the void method have any function in this code?</i>&quot; - If by &quot;function&quot; we mean an &quot;externally visible change in state&quot; then no, it does not. --- Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (<code>https:&#47;&#47;ericlippert.com&#47;</code>)</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1651085745,"post_id":72033936,"comment_id":127281223,"body_markdown":"You can modify the contents of objects passed into a method, but you cannot modify the object references themselves.","body":"You can modify the contents of objects passed into a method, but you cannot modify the object references themselves."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1651087605,"post_id":72033936,"comment_id":127281899,"body_markdown":"The first three lines of your `changeIt` method reassign the parameter variables to something new.  So the method effectively loses access to the values that were passed in.  The `for` loop now can&#39;t change the original array.","body":"The first three lines of your <code>changeIt</code> method reassign the parameter variables to something new.  So the method effectively loses access to the values that were passed in.  The <code>for</code> loop now can&#39;t change the original array."}],"owner":{"account_id":24964294,"reputation":1,"user_id":18827979,"display_name":"awesomeguyever"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651085638,"answer_count":0,"score":0,"last_activity_date":1651085743,"creation_date":1651085541,"question_id":72033936,"body_markdown":"I am practicing for the AP computer science A exam and I came across a question that I couldn&#39;t understand even after seeing the answer.\r\n\r\nThe Question is:\r\n\r\nConsider the following two methods, which appear within a single class.\r\n\r\n```\r\npublic static void changeIt (int[] arr, int val, String word)\r\n{\r\n   arr = new int[5];\r\n   val = 0;\r\n   word = word.substring(0, 5);\r\n   \r\n   for (int k = 0; k &lt; arr.length; k++)\r\n   {\r\n       arr[k] = 0;\r\n   }\r\n}\r\n\r\npublic static void start()\r\n{ \r\n  int[] nums = {1, 2, 3, 4, 5};\r\n  int value = 6;\r\n  String name = &quot;blackboard&quot;;\r\n\r\n  changeIt(nums, value, name);\r\n\r\n  for (int k = 0; k &lt; nums.length; k++)\r\n{\r\n    System.out.print(nums[k] + &quot; &quot;)\r\n}\r\n    System.out.print(value + &quot; &quot;);\r\n    System.out.print(name);\r\n}\r\n\r\n```\r\nThe answer choices are:\r\n\r\nA. 0 0 0 0 0 0 black\r\n\r\nB. 0 0 0 0 0 0 blackboard\r\n\r\nC. 1 2 3 4 5 6 black\r\n\r\nD. 1 2 3 4 5 0 black\r\n\r\nE. 1 2 3 4 5 6 blackboard\r\n\r\nAs you can see, the start() method called the changeIt method, and I thought this would update the array and &quot;value&quot; itself, making me choose A. However, the correct answer is E, and even after tracing the code few more times, I couldn&#39;t figure out why. \r\n\r\nDoes the void method have any function in this code? Why is the data not updated after going through the changeIt method? I have seen examples where the void method updates the variables and plays a central role in determining the final output, but why does that work while this one fails to do so? I am new to Java and any help would be really appreciated as I have to take my exam in a couple of days. Thanks!","title":"When do void methods update the variable, such as the elements of the array or data value and when do they not?","body":"<p>I am practicing for the AP computer science A exam and I came across a question that I couldn't understand even after seeing the answer.</p>\n<p>The Question is:</p>\n<p>Consider the following two methods, which appear within a single class.</p>\n<pre><code>public static void changeIt (int[] arr, int val, String word)\n{\n   arr = new int[5];\n   val = 0;\n   word = word.substring(0, 5);\n   \n   for (int k = 0; k &lt; arr.length; k++)\n   {\n       arr[k] = 0;\n   }\n}\n\npublic static void start()\n{ \n  int[] nums = {1, 2, 3, 4, 5};\n  int value = 6;\n  String name = &quot;blackboard&quot;;\n\n  changeIt(nums, value, name);\n\n  for (int k = 0; k &lt; nums.length; k++)\n{\n    System.out.print(nums[k] + &quot; &quot;)\n}\n    System.out.print(value + &quot; &quot;);\n    System.out.print(name);\n}\n\n</code></pre>\n<p>The answer choices are:</p>\n<p>A. 0 0 0 0 0 0 black</p>\n<p>B. 0 0 0 0 0 0 blackboard</p>\n<p>C. 1 2 3 4 5 6 black</p>\n<p>D. 1 2 3 4 5 0 black</p>\n<p>E. 1 2 3 4 5 6 blackboard</p>\n<p>As you can see, the start() method called the changeIt method, and I thought this would update the array and &quot;value&quot; itself, making me choose A. However, the correct answer is E, and even after tracing the code few more times, I couldn't figure out why.</p>\n<p>Does the void method have any function in this code? Why is the data not updated after going through the changeIt method? I have seen examples where the void method updates the variables and plays a central role in determining the final output, but why does that work while this one fails to do so? I am new to Java and any help would be really appreciated as I have to take my exam in a couple of days. Thanks!</p>\n"},{"tags":["java","jtabbedpane"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1650731491,"post_id":71981321,"comment_id":127192487,"body_markdown":"What&#39;s wrong with saving a reference to the caller in the tab?","body":"What&#39;s wrong with saving a reference to the caller in the tab?"},{"owner":{"account_id":7900433,"reputation":11,"user_id":5967624,"display_name":"Diewo Dasso"},"score":0,"creation_date":1650822330,"post_id":71981321,"comment_id":127208086,"body_markdown":"Googled it, but I dont get what you mean. Can you show me an example? Or tell me what command to place in my code and where.","body":"Googled it, but I dont get what you mean. Can you show me an example? Or tell me what command to place in my code and where."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1650888835,"post_id":71981321,"comment_id":127222366,"body_markdown":"Create a Map&lt;JComponent, MyObject&gt;. Then, in your oneMoreTab()-method, put the just created tab and MyObject into the map. Then, you can from elsewhere lookup the MyObject that was used to create the panel.","body":"Create a Map&lt;JComponent, MyObject&gt;. Then, in your oneMoreTab()-method, put the just created tab and MyObject into the map. Then, you can from elsewhere lookup the MyObject that was used to create the panel."},{"owner":{"account_id":7900433,"reputation":11,"user_id":5967624,"display_name":"Diewo Dasso"},"score":0,"creation_date":1650896009,"post_id":71981321,"comment_id":127225143,"body_markdown":"This is how I already solved it. But is very unsatisfying, as I need to take care of the Map too. I need to put and remove entries parallel to the tab managment. I was hoping for a way to solve it without &quot;double&quot; managing, as the jtabbedpane is already kind of a Map itself. I was hoping to solve this with an e.g. extended class of JTabbedPane / Component or a method of JTabbedPane I dont know yet. But thank you very much of course!","body":"This is how I already solved it. But is very unsatisfying, as I need to take care of the Map too. I need to put and remove entries parallel to the tab managment. I was hoping for a way to solve it without &quot;double&quot; managing, as the jtabbedpane is already kind of a Map itself. I was hoping to solve this with an e.g. extended class of JTabbedPane / Component or a method of JTabbedPane I dont know yet. But thank you very much of course!"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1650899745,"post_id":71981321,"comment_id":127226726,"body_markdown":"If your tab component is your own class, you can extend it with a MyObject member, and do it that way.","body":"If your tab component is your own class, you can extend it with a MyObject member, and do it that way."},{"owner":{"account_id":7900433,"reputation":11,"user_id":5967624,"display_name":"Diewo Dasso"},"score":0,"creation_date":1650974854,"post_id":71981321,"comment_id":127246496,"body_markdown":"I have tried that. See the Edit in my Main Post.","body":"I have tried that. See the Edit in my Main Post."}],"owner":{"account_id":7900433,"reputation":11,"user_id":5967624,"display_name":"Diewo Dasso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651085552,"creation_date":1650729459,"question_id":71981321,"body_markdown":"I am often struggling with the same problem of custom Objects that creates a e.g. gui Component. And I never know what is the best way to get from the gui Component back to the object.\r\n\r\nSo multiple hacks and tricks are welcome.\r\n\r\nLet me explain it to you:\r\n\r\n**This is my custom Object I need to find afterwards**\r\n``` lang-java\r\npublic class MyObject {\r\n\tint yearOfBirth;\r\n\tString name;\r\n\tpublic MyObject(int yearOfBirth, String name) {\r\n\t\tthis.yearOfBirth = yearOfBirth;\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic int getYearOfBirth() {\r\n\t\treturn yearOfBirth;\r\n\t}\r\n\t\r\n\tpublic Component getPanel() {\r\n\t\tComponent panel1 = makeTextPanel(&quot;This is the personal tab of &quot;+name);\r\n\t\treturn panell;\r\n\t}\r\n}\r\n``` \r\n**This is where I need to find it through the Tab I am focusing**\r\n``` lang-java\r\npublic class MyTabControl implements ChangeListener {\r\n\tJTabbedPane myTabPane = new JTabbedPane();\r\n\t\r\n\tpublic MyTabControl(){\r\n\t\t//This will add a Listener for clicking on one Tab\r\n\t\tmyTabPane.addChangeListener(this);\r\n\t}\r\n\t\r\n\tpublic void oneMoreTab(MyObject myObject) {\r\n\t\tmyTabPane.addTab(myObject.name, myObject.getPanel())\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void stateChanged(ChangeEvent arg0) {\r\n\t\tSystem.out.println(&quot;Focus of Tab changed&quot;);\r\n\t\tint actualFocusedTabIndex = myTabPane.getSelectedIndex();\r\n\t\tComponent acutalFocusedComponent = myTabPane.getComponentAt(actualFocusedTabIndex);\r\n\t\t//This works fine, I can get the Tab. Or at least the Component.\r\n\t\t//But how do I get the yearOfBirth or better the Object itself?\r\n\t\tint yearOfBirthOfTheSelectedTab = ???\r\n\t}\r\n}\r\n```\r\n**This is just the main function**\r\n``` lang-jsp\r\npublic static void main(String[] args) {\r\n\t//Commands to start and create the GUI\r\n\t\r\n\tMyTabControl myTabControl = new MyTabControl();\r\n\t\r\n\tMyObject mother = new MyObject(1960, &quot;Helen&quot;);\r\n\tmyTabControl.oneMoreTab(mother);\r\n\t\r\n\tMyObject father = new MyObject(1955, &quot;James&quot;);\r\n\tmyTabControl.oneMoreTab(father);\r\n}\r\n```\r\n\r\n\r\n\r\n**EDIT:**\r\n\r\n**1 not working solution: Extend Component class**\r\n\r\n*I have tried to extend the class Component. But this will create a failure (see comment in code):*\r\n``` lang-jsp\r\npublic class ComponentWithExtras extends Component {\r\n   MyObject myObject;\r\n   public void addMyObject(MyObject myObject) {\r\n      this.myObject = myObject;\r\n   }\r\n}\r\n\r\n\r\n// The following line will create failure: Can&#39;t cast Component to ComponentWithExtras\r\nComponentWithExtras componentWithExtras = (ComponentWithExtras) myObject.getPanel();\r\ncomponentWithExtras.addMyObject(myObject);\r\nmyTabPane.addTab(myObject.name, componentWithExtras);\r\n```\r\n\r\n","title":"Java JTabbedPane or how to get the custom Object that created the Tab","body":"<p>I am often struggling with the same problem of custom Objects that creates a e.g. gui Component. And I never know what is the best way to get from the gui Component back to the object.</p>\n<p>So multiple hacks and tricks are welcome.</p>\n<p>Let me explain it to you:</p>\n<p><strong>This is my custom Object I need to find afterwards</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyObject {\n    int yearOfBirth;\n    String name;\n    public MyObject(int yearOfBirth, String name) {\n        this.yearOfBirth = yearOfBirth;\n        this.name = name;\n    }\n    public int getYearOfBirth() {\n        return yearOfBirth;\n    }\n    \n    public Component getPanel() {\n        Component panel1 = makeTextPanel(&quot;This is the personal tab of &quot;+name);\n        return panell;\n    }\n}\n</code></pre>\n<p><strong>This is where I need to find it through the Tab I am focusing</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTabControl implements ChangeListener {\n    JTabbedPane myTabPane = new JTabbedPane();\n    \n    public MyTabControl(){\n        //This will add a Listener for clicking on one Tab\n        myTabPane.addChangeListener(this);\n    }\n    \n    public void oneMoreTab(MyObject myObject) {\n        myTabPane.addTab(myObject.name, myObject.getPanel())\n        \n    }\n    \n    public void stateChanged(ChangeEvent arg0) {\n        System.out.println(&quot;Focus of Tab changed&quot;);\n        int actualFocusedTabIndex = myTabPane.getSelectedIndex();\n        Component acutalFocusedComponent = myTabPane.getComponentAt(actualFocusedTabIndex);\n        //This works fine, I can get the Tab. Or at least the Component.\n        //But how do I get the yearOfBirth or better the Object itself?\n        int yearOfBirthOfTheSelectedTab = ???\n    }\n}\n</code></pre>\n<p><strong>This is just the main function</strong></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>public static void main(String[] args) {\n    //Commands to start and create the GUI\n    \n    MyTabControl myTabControl = new MyTabControl();\n    \n    MyObject mother = new MyObject(1960, &quot;Helen&quot;);\n    myTabControl.oneMoreTab(mother);\n    \n    MyObject father = new MyObject(1955, &quot;James&quot;);\n    myTabControl.oneMoreTab(father);\n}\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p><strong>1 not working solution: Extend Component class</strong></p>\n<p><em>I have tried to extend the class Component. But this will create a failure (see comment in code):</em></p>\n<pre class=\"lang-jsp prettyprint-override\"><code>public class ComponentWithExtras extends Component {\n   MyObject myObject;\n   public void addMyObject(MyObject myObject) {\n      this.myObject = myObject;\n   }\n}\n\n\n// The following line will create failure: Can't cast Component to ComponentWithExtras\nComponentWithExtras componentWithExtras = (ComponentWithExtras) myObject.getPanel();\ncomponentWithExtras.addMyObject(myObject);\nmyTabPane.addTab(myObject.name, componentWithExtras);\n</code></pre>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1651088076,"post_id":72033749,"comment_id":127282061,"body_markdown":"perhaps if you group first, then sort. The grouping is a blocking operation and will impact the results, so sorting after grouping will then produce results in predictable order.","body":"perhaps if you group first, then sort. The grouping is a blocking operation and will impact the results, so sorting after grouping will then produce results in predictable order."},{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1651088292,"post_id":72033749,"comment_id":127282137,"body_markdown":"A better approach to pagination when compared to skip/limit is to remember the prior last record, then add a filter to the next page&#39;s query that removes these from the result set.  Skip and limit work well for low skip values, but are slow for high skip values as the cursor needs to iterate deep.  Even better - keep the cursor for the next page and grab the next page&#39;s results by iterating the cursor further.","body":"A better approach to pagination when compared to skip/limit is to remember the prior last record, then add a filter to the next page&#39;s query that removes these from the result set.  Skip and limit work well for low skip values, but are slow for high skip values as the cursor needs to iterate deep.  Even better - keep the cursor for the next page and grab the next page&#39;s results by iterating the cursor further."}],"owner":{"account_id":12090773,"reputation":1,"user_id":8837095,"display_name":"cold.coffee."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651085391,"creation_date":1651084512,"question_id":72033749,"body_markdown":"Given we have following documents in database\r\n```\r\n{id:0, SID:0, STATUS:&quot;UNDONE&quot;, UID:1, AT:122}\r\n{id:1, SID:1, STATUS:&quot;DONE&quot;, UID:1, AT:123}\r\n{id:2, SID:1, STATUS:&quot;DONE&quot;, UID:2, AT:124}\r\n{id:3, SID:2, STATUS:&quot;PEN&quot;, UID:3, AT:125}\r\n{id:4, SID:2, STATUS:&quot;PEN&quot;, UID:4, AT:126}\r\n{id:5, SID:3, STATUS:&quot;DONE&quot;, UID:5, AT:127}\r\n{id:6, SID:4, STATUS:&quot;DONE&quot;, UID:6, AT:128}\r\n```\r\nI&#39;m trying to get write a query using spring data mongodb to skip &#39;m&#39; distinct SID and get next &#39;n&#39; distinct SID (Sorted by AT field) matching the filter and return documents corresponding to those SIDs.\r\n\r\nFor this example m = 1 and n = 2 would return these documents\r\n```\r\n{id:3, SID:2, STATUS:&quot;PEN&quot;, UID:3, AT:125}\r\n{id:4, SID:2, STATUS:&quot;PEN&quot;, UID:4, AT:126}\r\n{id:5, SID:3, STATUS:&quot;DONE&quot;, UID:5, AT:127}\r\n```\r\n\r\nSo far I&#39;ve managed to write this.\r\n```\r\nAggregation aggregation = Aggregation.newAggregation(\r\n                Aggregation.project(&quot;STATUS&quot;, &quot;AT&quot;, &quot;SID&quot;),\r\n                Aggregation.match(Criteria.where(&quot;STATUS&quot;).in(&quot;DONE&quot;, &quot;PEN&quot;)),\r\n                Aggregation.sort(Sort.Direction.DESC, &quot;AT&quot;),\r\n                Aggregation.group(&quot;SID&quot;),\r\n                Aggregation.skip(skip),\r\n                Aggregation.limit(limit));\r\n\r\n        AggregationResults&lt;Map&gt; results = mongoOperations.aggregate(aggregation, MyClass.class, Map.class);\r\n        List&lt;String&gt; SIDs = results.getMappedResults().stream().map(it -&gt; it.get(&quot;_id&quot;).toString()).collect(Collectors.toList());\r\n\r\n        Query query = new Query();\r\n        query.addCriteria(Criteria.where(&quot;SID&quot;).in(SIDs));\r\n        return mongoOperations.find(query, MyClass.class);\r\n```\r\nThis is returning unpredictable results ie every call returns different results and therefore not sorted as intended. \r\n\r\nWhat am I missing here?\r\nI&#39;ve a feeling the sort stage in pipeline is incorrectly placed.\r\n\r\n\r\n","title":"Spring data mongo query to aggregate(Distinct) with pagination","body":"<p>Given we have following documents in database</p>\n<pre><code>{id:0, SID:0, STATUS:&quot;UNDONE&quot;, UID:1, AT:122}\n{id:1, SID:1, STATUS:&quot;DONE&quot;, UID:1, AT:123}\n{id:2, SID:1, STATUS:&quot;DONE&quot;, UID:2, AT:124}\n{id:3, SID:2, STATUS:&quot;PEN&quot;, UID:3, AT:125}\n{id:4, SID:2, STATUS:&quot;PEN&quot;, UID:4, AT:126}\n{id:5, SID:3, STATUS:&quot;DONE&quot;, UID:5, AT:127}\n{id:6, SID:4, STATUS:&quot;DONE&quot;, UID:6, AT:128}\n</code></pre>\n<p>I'm trying to get write a query using spring data mongodb to skip 'm' distinct SID and get next 'n' distinct SID (Sorted by AT field) matching the filter and return documents corresponding to those SIDs.</p>\n<p>For this example m = 1 and n = 2 would return these documents</p>\n<pre><code>{id:3, SID:2, STATUS:&quot;PEN&quot;, UID:3, AT:125}\n{id:4, SID:2, STATUS:&quot;PEN&quot;, UID:4, AT:126}\n{id:5, SID:3, STATUS:&quot;DONE&quot;, UID:5, AT:127}\n</code></pre>\n<p>So far I've managed to write this.</p>\n<pre><code>Aggregation aggregation = Aggregation.newAggregation(\n                Aggregation.project(&quot;STATUS&quot;, &quot;AT&quot;, &quot;SID&quot;),\n                Aggregation.match(Criteria.where(&quot;STATUS&quot;).in(&quot;DONE&quot;, &quot;PEN&quot;)),\n                Aggregation.sort(Sort.Direction.DESC, &quot;AT&quot;),\n                Aggregation.group(&quot;SID&quot;),\n                Aggregation.skip(skip),\n                Aggregation.limit(limit));\n\n        AggregationResults&lt;Map&gt; results = mongoOperations.aggregate(aggregation, MyClass.class, Map.class);\n        List&lt;String&gt; SIDs = results.getMappedResults().stream().map(it -&gt; it.get(&quot;_id&quot;).toString()).collect(Collectors.toList());\n\n        Query query = new Query();\n        query.addCriteria(Criteria.where(&quot;SID&quot;).in(SIDs));\n        return mongoOperations.find(query, MyClass.class);\n</code></pre>\n<p>This is returning unpredictable results ie every call returns different results and therefore not sorted as intended.</p>\n<p>What am I missing here?\nI've a feeling the sort stage in pipeline is incorrectly placed.</p>\n"},{"tags":["java","svg","batik"],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635470003,"creation_date":1635470003,"answer_id":69762558,"question_id":69762464,"body_markdown":"The workaround I found for now is this:\r\n\r\n    Element tlg =  svgGraphics.getTopLevelGroup();\r\n    tlg.setAttribute(&quot;shape-rendering&quot;,&quot;crispEdges&quot;);\r\n    svgGraphics.setTopLevelGroup(tlg);\r\n\r\nThe graphics render crisp now, though, as the code suggests, the attribute is applied as a style to the top level `&lt;g/&gt;` element.\r\n\r\nI look forward to seeing cleaner implementations.","title":"How to set the shape rendering attribute to crispEdges using Apache Batik SVG 1.8","body":"<p>The workaround I found for now is this:</p>\n<pre><code>Element tlg =  svgGraphics.getTopLevelGroup();\ntlg.setAttribute(&quot;shape-rendering&quot;,&quot;crispEdges&quot;);\nsvgGraphics.setTopLevelGroup(tlg);\n</code></pre>\n<p>The graphics render crisp now, though, as the code suggests, the attribute is applied as a style to the top level <code>&lt;g/&gt;</code> element.</p>\n<p>I look forward to seeing cleaner implementations.</p>\n"},{"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651085011,"creation_date":1651085011,"answer_id":72033838,"question_id":69762464,"body_markdown":"I was able to get this working through the `Graphics2D` interface. Per [Batik code](https://github.com/apache/xmlgraphics-batik/blob/f79ce602fa6244d2a7ff45b57b6a0347e883bc37/batik-svggen/src/main/java/org/apache/batik/svggen/SVGRenderingHints.java#L131), the following `Graphics2D` code adds `shape-rendering=&quot;crispEdges&quot;` to SVG:\r\n\r\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_OFF);","title":"How to set the shape rendering attribute to crispEdges using Apache Batik SVG 1.8","body":"<p>I was able to get this working through the <code>Graphics2D</code> interface. Per <a href=\"https://github.com/apache/xmlgraphics-batik/blob/f79ce602fa6244d2a7ff45b57b6a0347e883bc37/batik-svggen/src/main/java/org/apache/batik/svggen/SVGRenderingHints.java#L131\" rel=\"nofollow noreferrer\">Batik code</a>, the following <code>Graphics2D</code> code adds <code>shape-rendering=&quot;crispEdges&quot;</code> to SVG:</p>\n<pre><code>g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_OFF);\n</code></pre>\n"}],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72033838,"answer_count":2,"score":1,"last_activity_date":1651085011,"creation_date":1635468864,"question_id":69762464,"body_markdown":"I&#39;m trying to get Apache Batik 1.8 to output \r\n\r\n    shape-rendering=&quot;crispEdges&quot;\r\n\r\ninstead of the default\r\n\r\n    shape-rendering=&quot;auto&quot;\r\n\r\nin the root `&lt;svg /&gt;` node.\r\n\r\nI&#39;ve spotted [`SVGConstants.SVG_SHAPE_RENDERING_ATTRIBUTE`][1] and [`SVGConstants#SVG_CRISP_EDGES_VALUE`][2], but I&#39;m unsure how to set these attributes to a `SVGGraphics2D` instance. \r\n\r\nI&#39;ve attempted something like suing a SVGGraphics2D(named `SVGGraphics2D`):\r\n\r\n    //svgGraphics.setRenderingHint(SVGRenderingHints.SVG_SHAPE_RENDERING_ATTRIBUTE,\r\n    //                             SVGRenderingHints.SVG_CRISP_EDGES_VALUE);\r\n\r\nHowever it&#39;s [`java.awt.RenderingHints`][3] SVGGraphics2D.setRenderingHints expects.\r\n\r\nI&#39;ve also tried:\r\n\r\n    svgGraphics.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n        svgGraphics.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        svgGraphics.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n        svgGraphics.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n\r\nhowever none of the above change the `render-style` attribute to &#39;crispEdges&#39; in the output SVG file.\r\n\r\n(I&#39;m looking into `Document` at the moment, hopefully I can manually change the attribute via XML/strings. I&#39;ve also spotted [a few related classes in the source code][4], but I can&#39;t seem to spot a good example/test)\r\n\r\nWhat&#39;s the most elegant way to change `render-style` to `crispEdges` ?\r\n\r\n\r\n\r\n\r\n  [1]: https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/util/SVGConstants.html#SVG_SHAPE_RENDERING_ATTRIBUTE\r\n  [2]: https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/util/SVGConstants.html#SVG_CRISP_EDGES_VALUE\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/awt/RenderingHints.html\r\n  [4]: https://github.com/apache/xmlgraphics-batik/search?l=Java&amp;q=SVG_SHAPE_RENDERING_ATTRIBUTE","title":"How to set the shape rendering attribute to crispEdges using Apache Batik SVG 1.8","body":"<p>I'm trying to get Apache Batik 1.8 to output</p>\n<pre><code>shape-rendering=&quot;crispEdges&quot;\n</code></pre>\n<p>instead of the default</p>\n<pre><code>shape-rendering=&quot;auto&quot;\n</code></pre>\n<p>in the root <code>&lt;svg /&gt;</code> node.</p>\n<p>I've spotted <a href=\"https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/util/SVGConstants.html#SVG_SHAPE_RENDERING_ATTRIBUTE\" rel=\"nofollow noreferrer\"><code>SVGConstants.SVG_SHAPE_RENDERING_ATTRIBUTE</code></a> and <a href=\"https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/util/SVGConstants.html#SVG_CRISP_EDGES_VALUE\" rel=\"nofollow noreferrer\"><code>SVGConstants#SVG_CRISP_EDGES_VALUE</code></a>, but I'm unsure how to set these attributes to a <code>SVGGraphics2D</code> instance.</p>\n<p>I've attempted something like suing a SVGGraphics2D(named <code>SVGGraphics2D</code>):</p>\n<pre><code>//svgGraphics.setRenderingHint(SVGRenderingHints.SVG_SHAPE_RENDERING_ATTRIBUTE,\n//                             SVGRenderingHints.SVG_CRISP_EDGES_VALUE);\n</code></pre>\n<p>However it's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/RenderingHints.html\" rel=\"nofollow noreferrer\"><code>java.awt.RenderingHints</code></a> SVGGraphics2D.setRenderingHints expects.</p>\n<p>I've also tried:</p>\n<pre><code>svgGraphics.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n    svgGraphics.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    svgGraphics.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n    svgGraphics.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n</code></pre>\n<p>however none of the above change the <code>render-style</code> attribute to 'crispEdges' in the output SVG file.</p>\n<p>(I'm looking into <code>Document</code> at the moment, hopefully I can manually change the attribute via XML/strings. I've also spotted <a href=\"https://github.com/apache/xmlgraphics-batik/search?l=Java&amp;q=SVG_SHAPE_RENDERING_ATTRIBUTE\" rel=\"nofollow noreferrer\">a few related classes in the source code</a>, but I can't seem to spot a good example/test)</p>\n<p>What's the most elegant way to change <code>render-style</code> to <code>crispEdges</code> ?</p>\n"},{"tags":["java","generics","inheritance","type-bounds"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1651084598,"post_id":72033701,"comment_id":127280851,"body_markdown":"Why don&#39;t you use a `List&lt;LivingBeing&gt;`?","body":"Why don&#39;t you use a <code>List&lt;LivingBeing&gt;</code>?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1651085110,"post_id":72033701,"comment_id":127281026,"body_markdown":"As an aside: the current approach violates [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super). The collections `animals` and `livingThings` act as consumer in the code shown.","body":"As an aside: the current approach violates <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>. The collections <code>animals</code> and <code>livingThings</code> act as consumer in the code shown."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1651085833,"post_id":72033701,"comment_id":127281244,"body_markdown":"The first example doesn&#39;t actually work.  In both examples, the correct thing is to remove `? extends`.","body":"The first example doesn&#39;t actually work.  In both examples, the correct thing is to remove <code>? extends</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1651086047,"post_id":72033701,"comment_id":127281317,"body_markdown":"None of the examples that you claim to work, actually work. Did you actually test these code snippets?","body":"None of the examples that you claim to work, actually work. Did you actually test these code snippets?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1651086155,"post_id":72033701,"comment_id":127281352,"body_markdown":"You&#39;re probably looking for `? super LivingBeing` instead. See also [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super).","body":"You&#39;re probably looking for <code>? super LivingBeing</code> instead. See also <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651084645,"creation_date":1651084645,"answer_id":72033774,"question_id":72033701,"body_markdown":"Your first example doesn&#39;t compile. Both are caused by the `? extends` part. The issue is that as soon as the initialization is done, the compiler already forgot the actual type. That means that after initializing `livingThings`, the compiler thinks it can be a `List&lt;LivingBeing&gt;`, `List&lt;Animal&gt;` or `List&lt;Cat&gt;` (all of which would allow adding cats), but also `List&lt;Dog&gt; or `List&lt;Plant&gt;`, which don&#39;t allow cats.\r\n\r\nIf you want a list with things that can be any type of living being, you must declare it as such: `List&lt;LivingBeing&gt;`. Otherwise you can&#39;t add anything anymore except `null`.\r\n\r\nThe latter is true for any `Collection&lt;? extends T&gt;` for any type `T`. The only value that is safe for any type that matches `? extends T` is `null`.","title":"Java Generics - Upper Bounds through layers of inheritance","body":"<p>Your first example doesn't compile. Both are caused by the <code>? extends</code> part. The issue is that as soon as the initialization is done, the compiler already forgot the actual type. That means that after initializing <code>livingThings</code>, the compiler thinks it can be a <code>List&lt;LivingBeing&gt;</code>, <code>List&lt;Animal&gt;</code> or <code>List&lt;Cat&gt;</code> (all of which would allow adding cats), but also <code>List&lt;Dog&gt; or </code>List`, which don't allow cats.</p>\n<p>If you want a list with things that can be any type of living being, you must declare it as such: <code>List&lt;LivingBeing&gt;</code>. Otherwise you can't add anything anymore except <code>null</code>.</p>\n<p>The latter is true for any <code>Collection&lt;? extends T&gt;</code> for any type <code>T</code>. The only value that is safe for any type that matches <code>? extends T</code> is <code>null</code>.</p>\n"}],"owner":{"account_id":3620288,"reputation":991,"user_id":3019198,"accept_rate":57,"display_name":"TheFunk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72033774,"answer_count":1,"score":0,"last_activity_date":1651084645,"creation_date":1651084287,"question_id":72033701,"body_markdown":"With a single layer of inheritance I can do something like this:\r\n```java\r\n// Dog extends Animal\r\nList&lt;Dog&gt; dogs = ...;\r\n\r\n// Cat extends Animal\r\nList&lt;Cat&gt; cats = ...;\r\n\r\nList&lt;? extends Animal&gt; animals = new ArrayList&lt;&gt;();\r\nanimals.addAll(cats);\r\nanimals.addAll(dogs);\r\n```\r\nI can do this without casting, which is nice.\r\n\r\nBut what if I have a scenario like the following?\r\n\r\n```java\r\n\r\n// Plant extends LivingBeing\r\nList&lt;Plant&gt; plants = ...;\r\n\r\n// Animal extends LivingBeing\r\n// Cat extends Animal\r\nList&lt;Cat&gt; cats = ...;\r\n\r\nList&lt;? extends LivingBeing&gt; livingThings = new ArrayList&lt;&gt;();\r\n// This is fine\r\nlvingThings.addAll(plants);\r\n\r\n// FIXME: Fails because Cat doesn&#39;t directly extend LivingBeing\r\nlivingThings.addAll(cats);\r\n\r\n```\r\n\r\nIs there a way to specify an upper bound that is not a direct parent of all members of the list, so that I can avoid casting?","title":"Java Generics - Upper Bounds through layers of inheritance","body":"<p>With a single layer of inheritance I can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Dog extends Animal\nList&lt;Dog&gt; dogs = ...;\n\n// Cat extends Animal\nList&lt;Cat&gt; cats = ...;\n\nList&lt;? extends Animal&gt; animals = new ArrayList&lt;&gt;();\nanimals.addAll(cats);\nanimals.addAll(dogs);\n</code></pre>\n<p>I can do this without casting, which is nice.</p>\n<p>But what if I have a scenario like the following?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// Plant extends LivingBeing\nList&lt;Plant&gt; plants = ...;\n\n// Animal extends LivingBeing\n// Cat extends Animal\nList&lt;Cat&gt; cats = ...;\n\nList&lt;? extends LivingBeing&gt; livingThings = new ArrayList&lt;&gt;();\n// This is fine\nlvingThings.addAll(plants);\n\n// FIXME: Fails because Cat doesn't directly extend LivingBeing\nlivingThings.addAll(cats);\n\n</code></pre>\n<p>Is there a way to specify an upper bound that is not a direct parent of all members of the list, so that I can avoid casting?</p>\n"},{"tags":["java","char","stringbuilder"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1651081937,"post_id":72033225,"comment_id":127279999,"body_markdown":"If you need to consider a following (or preceding) element of an array you should either store it somewhere or (easier) use a classic `for` loop instead of an enhanced one.","body":"If you need to consider a following (or preceding) element of an array you should either store it somewhere or (easier) use a classic <code>for</code> loop instead of an enhanced one."}],"answers":[{"tags":[],"owner":{"account_id":10418091,"reputation":932,"user_id":7681514,"display_name":"Matt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651084441,"creation_date":1651082508,"answer_id":72033380,"question_id":72033225,"body_markdown":"One approach is to manage the indexes yourself instead of using an enhanced for loop. This allows you to &#39;skip&#39; over two vowel chunks by checking the next character if it exists. Something like this should work:\r\n```java\r\n    int i = 0;\r\n    while (i &lt; charArray.length) {\r\n        char c = charArray[i];\r\n        if (isVowel(c)) {\r\n            if (i + i == charArray.length || isVowel(charArray[i+1])) {\r\n                sb.append(&quot;av&quot;);\r\n            } else {\r\n                i++;\r\n            }\r\n        }\r\n        sb.append(c);\r\n        i++;\r\n    }\r\n```\r\nNote that this does not solve for when there are three sequential vowels.","title":"How to insert a syllable before a single vowel","body":"<p>One approach is to manage the indexes yourself instead of using an enhanced for loop. This allows you to 'skip' over two vowel chunks by checking the next character if it exists. Something like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int i = 0;\n    while (i &lt; charArray.length) {\n        char c = charArray[i];\n        if (isVowel(c)) {\n            if (i + i == charArray.length || isVowel(charArray[i+1])) {\n                sb.append(&quot;av&quot;);\n            } else {\n                i++;\n            }\n        }\n        sb.append(c);\n        i++;\n    }\n</code></pre>\n<p>Note that this does not solve for when there are three sequential vowels.</p>\n"},{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651083703,"creation_date":1651083343,"answer_id":72033526,"question_id":72033225,"body_markdown":"Here is a version that uses an ordinary for loop:\r\n\r\n    public static String translate(String text) {\r\n        char [] charArray = text.toCharArray();\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        Set&lt;Character&gt; vowels = new HashSet&lt;&gt;(Arrays.asList(&#39;a&#39;,&#39;e&#39;,&#39;i&#39;,&#39;o&#39;,&#39;u&#39;));\r\n\r\n        char cFirst = charArray[0];\r\n        if (vowels.contains(cFirst) &amp;&amp; !(vowels.contains(charArray[1]))) {\r\n            sb.append(String.format(&quot;av%s&quot; , cFirst));\r\n        }\r\n        else sb.append(cFirst);\r\n\r\n        for (int i = 1; i &lt; charArray.length-1; i++){\r\n            char c = charArray[i];\r\n            char cNext = charArray[i+1];\r\n            char cPrev = charArray[i-1];\r\n\r\n            if (vowels.contains(c) &amp;&amp; !(vowels.contains(cNext) || vowels.contains(cPrev))) {\r\n                sb.append(String.format(&quot;av%s&quot; , c));\r\n            }\r\n            else sb.append(c);\r\n        }\r\n\r\n        char cLast = charArray[charArray.length-1];\r\n        if (vowels.contains(cLast) &amp;&amp; !(vowels.contains(charArray[charArray.length-2]))) {\r\n            sb.append(String.format(&quot;av%s&quot; , cLast));\r\n        }\r\n        else sb.append(cLast);\r\n\r\n        return sb.toString();\r\n    }\r\n\r\nWorks for all the cases I could think of, but probably not the optimal way of doing this.","title":"How to insert a syllable before a single vowel","body":"<p>Here is a version that uses an ordinary for loop:</p>\n<pre><code>public static String translate(String text) {\n    char [] charArray = text.toCharArray();\n    StringBuilder sb = new StringBuilder();\n\n    Set&lt;Character&gt; vowels = new HashSet&lt;&gt;(Arrays.asList('a','e','i','o','u'));\n\n    char cFirst = charArray[0];\n    if (vowels.contains(cFirst) &amp;&amp; !(vowels.contains(charArray[1]))) {\n        sb.append(String.format(&quot;av%s&quot; , cFirst));\n    }\n    else sb.append(cFirst);\n\n    for (int i = 1; i &lt; charArray.length-1; i++){\n        char c = charArray[i];\n        char cNext = charArray[i+1];\n        char cPrev = charArray[i-1];\n\n        if (vowels.contains(c) &amp;&amp; !(vowels.contains(cNext) || vowels.contains(cPrev))) {\n            sb.append(String.format(&quot;av%s&quot; , c));\n        }\n        else sb.append(c);\n    }\n\n    char cLast = charArray[charArray.length-1];\n    if (vowels.contains(cLast) &amp;&amp; !(vowels.contains(charArray[charArray.length-2]))) {\n        sb.append(String.format(&quot;av%s&quot; , cLast));\n    }\n    else sb.append(cLast);\n\n    return sb.toString();\n}\n</code></pre>\n<p>Works for all the cases I could think of, but probably not the optimal way of doing this.</p>\n"}],"owner":{"account_id":21679474,"reputation":115,"user_id":15995870,"display_name":"Seth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72033526,"answer_count":2,"score":2,"last_activity_date":1651084441,"creation_date":1651081708,"question_id":72033225,"body_markdown":"I try to insert a syllable before each vowel with the following restrictions:\r\n\r\n**- Before each** following vowel **(a, e, i, o, u)**, **insert** the stray syllable **&quot;av&quot;**.\r\n\r\n**- Unless the vowel is preceded by another vowel**\r\n\r\nActually I&#39;ve done this\r\n\r\n    public static String translate(String text) {\r\n        char [] charArray = text.toCharArray();\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for(char c : charArray) {\r\n            if (charArray.length &lt; 255){\r\n                if (isVowel(c)) {\r\n                    sb.append(String.format(&quot;av%s&quot; , c));\r\n                }\r\n                else {\r\n                    sb.append(c);\r\n                }\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    static boolean isVowel(char c) {\r\n        return (c == &#39;a&#39;) || (c == &#39;e&#39;) ||\r\n                (c == &#39;i&#39;) || (c == &#39;o&#39;) ||\r\n                (c == &#39;u&#39;);\r\n    }\r\n\r\nWith words without double vowels it works perfectly:\r\n\r\nCat becomes\r\n\r\n    Cavat\r\n\r\nBut with double vowel it doesn&#39;t work\r\n\r\nMeet becomes\r\n\r\n    Maveavet // Should return Meet\r\n\r\nHow to check if 2 successive letters are vowels in order not to add the syllable if it&#39;s the case ?\r\n\r\nThanks in advance","title":"How to insert a syllable before a single vowel","body":"<p>I try to insert a syllable before each vowel with the following restrictions:</p>\n<p><strong>- Before each</strong> following vowel <strong>(a, e, i, o, u)</strong>, <strong>insert</strong> the stray syllable <strong>&quot;av&quot;</strong>.</p>\n<p><strong>- Unless the vowel is preceded by another vowel</strong></p>\n<p>Actually I've done this</p>\n<pre><code>public static String translate(String text) {\n    char [] charArray = text.toCharArray();\n    StringBuilder sb = new StringBuilder();\n\n    for(char c : charArray) {\n        if (charArray.length &lt; 255){\n            if (isVowel(c)) {\n                sb.append(String.format(&quot;av%s&quot; , c));\n            }\n            else {\n                sb.append(c);\n            }\n        }\n    }\n    return sb.toString();\n}\n\nstatic boolean isVowel(char c) {\n    return (c == 'a') || (c == 'e') ||\n            (c == 'i') || (c == 'o') ||\n            (c == 'u');\n}\n</code></pre>\n<p>With words without double vowels it works perfectly:</p>\n<p>Cat becomes</p>\n<pre><code>Cavat\n</code></pre>\n<p>But with double vowel it doesn't work</p>\n<p>Meet becomes</p>\n<pre><code>Maveavet // Should return Meet\n</code></pre>\n<p>How to check if 2 successive letters are vowels in order not to add the syllable if it's the case ?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","retrofit2"],"comments":[{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":0,"creation_date":1495997470,"post_id":44216394,"comment_id":75471547,"body_markdown":"What is _exact_ payload of the list you&#39;re going to send? Something like `ids=[1,2,3]` and `ids=[]` respectively?","body":"What is <i>exact</i> payload of the list you&#39;re going to send? Something like <code>ids=[1,2,3]</code> and <code>ids=[]</code> respectively?"},{"owner":{"account_id":989931,"reputation":7948,"user_id":1007522,"accept_rate":75,"display_name":"user1007522"},"score":0,"creation_date":1496074700,"post_id":44216394,"comment_id":75502032,"body_markdown":"It should be ids=[] but because the ids array is empty retrofit doesn&#39;t send ids=[].","body":"It should be ids=[] but because the ids array is empty retrofit doesn&#39;t send ids=[]."},{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":0,"creation_date":1496075037,"post_id":44216394,"comment_id":75502195,"body_markdown":"So you seem to have expectations.: in fact, Retrofit will send `ids[]=foo&amp;ids[]=bar&amp;ids[]=baz`, not `ids[]=[foo,bar,baz]`.","body":"So you seem to have expectations.: in fact, Retrofit will send <code>ids[]=foo&amp;ids[]=bar&amp;ids[]=baz</code>, not <code>ids[]=[foo,bar,baz]</code>."},{"owner":{"account_id":6433016,"reputation":1603,"user_id":4985413,"accept_rate":83,"display_name":"Prashant"},"score":0,"creation_date":1537944985,"post_id":44216394,"comment_id":91963158,"body_markdown":"I had same problem, and did not find any proper solution. if that list is empty sending RequestBody with with empty value  worked.","body":"I had same problem, and did not find any proper solution. if that list is empty sending RequestBody with with empty value  worked."}],"answers":[{"tags":[],"owner":{"account_id":3344797,"reputation":61,"user_id":2810151,"display_name":"rustynailor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505217631,"creation_date":1505217631,"answer_id":46175823,"question_id":44216394,"body_markdown":"The easiest way is to change the setting on the Gson converter so it serializes nulls - this will then send `&quot;ids&quot;:[]`, as you wish.\r\n\r\nCreate a new Gson instance using the GsonBuilder with serializeNulls(): \r\n\r\n    private Gson gson = new GsonBuilder().serializeNulls().create();\r\n\r\nYou can then pass this to the retrofit builder when you are setting up your retrofit instance:\r\n\r\n    private Retrofit.Builder builder =\r\n            new Retrofit.Builder()\r\n                    .baseUrl(API_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson));\r\n\r\nExtensive configuration options are available, and listed in the Gson documentation: [https://github.com/google/gson/blob/master/UserGuide.md][1]\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/UserGuide.md","title":"Retrofit 2 send an empty array","body":"<p>The easiest way is to change the setting on the Gson converter so it serializes nulls - this will then send <code>\"ids\":[]</code>, as you wish.</p>\n\n<p>Create a new Gson instance using the GsonBuilder with serializeNulls(): </p>\n\n<pre><code>private Gson gson = new GsonBuilder().serializeNulls().create();\n</code></pre>\n\n<p>You can then pass this to the retrofit builder when you are setting up your retrofit instance:</p>\n\n<pre><code>private Retrofit.Builder builder =\n        new Retrofit.Builder()\n                .baseUrl(API_URL)\n                .addConverterFactory(GsonConverterFactory.create(gson));\n</code></pre>\n\n<p>Extensive configuration options are available, and listed in the Gson documentation: <a href=\"https://github.com/google/gson/blob/master/UserGuide.md\" rel=\"nofollow noreferrer\">https://github.com/google/gson/blob/master/UserGuide.md</a></p>\n"},{"tags":[],"owner":{"account_id":21393252,"reputation":199,"user_id":15756879,"display_name":"Mohamed Shawky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651084345,"creation_date":1651084008,"answer_id":72033646,"question_id":44216394,"body_markdown":"I had this situation I managed to deal with it by telling the backend developer which im working with to accept a list contains an empty string and he will deal with it as empty list and it worked fine with me \r\njust made simple condition in the parameter of the service \r\n\r\n    if(list.isEmpty()) listOf(“”) else list","title":"Retrofit 2 send an empty array","body":"<p>I had this situation I managed to deal with it by telling the backend developer which im working with to accept a list contains an empty string and he will deal with it as empty list and it worked fine with me\njust made simple condition in the parameter of the service</p>\n<pre><code>if(list.isEmpty()) listOf(“”) else list\n</code></pre>\n"}],"owner":{"account_id":989931,"reputation":7948,"user_id":1007522,"accept_rate":75,"display_name":"user1007522"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1934,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1651084345,"creation_date":1495885162,"question_id":44216394,"body_markdown":"I&#39;m sending an array of integers to the backend via this Retrofit interface:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @PATCH(&quot;save/ids&quot;)\r\n    @FormUrlEncoded\r\n    Call&lt;Output&gt; saveIds(@Field(&quot;ids[]&quot;) List&lt;Integer&gt; ids);\r\n\r\nNow this works when I have an `ArrayList` with some items.\r\nBut to reset all the ids the servers wants an empty array called `ids`.\r\nWhen I send an empty array, Retrofit doesn&#39;t send the array - it just drops the parameter.\r\n\r\nI create my `ArrayList` as follows:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;Integer&gt; ids = new ArrayList&lt;&gt;();\r\n    for (FooObjects object : listOfIds) {\r\n        if (object.isEnabled()) {\r\n            ids.add(object.getId());\r\n        }\r\n    }\r\n\r\nHow can I send an empty array anyway?","title":"Retrofit 2 send an empty array","body":"<p>I'm sending an array of integers to the backend via this Retrofit interface:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@PATCH(\"save/ids\")\n@FormUrlEncoded\nCall&lt;Output&gt; saveIds(@Field(\"ids[]\") List&lt;Integer&gt; ids);\n</code></pre>\n\n<p>Now this works when I have an <code>ArrayList</code> with some items.\nBut to reset all the ids the servers wants an empty array called <code>ids</code>.\nWhen I send an empty array, Retrofit doesn't send the array - it just drops the parameter.</p>\n\n<p>I create my <code>ArrayList</code> as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; ids = new ArrayList&lt;&gt;();\nfor (FooObjects object : listOfIds) {\n    if (object.isEnabled()) {\n        ids.add(object.getId());\n    }\n}\n</code></pre>\n\n<p>How can I send an empty array anyway?</p>\n"},{"tags":["java","io","java-io"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1651082720,"post_id":72033345,"comment_id":127280224,"body_markdown":"Depends totally on what you expect to happen.  Opening a file for writing truncates the file.  Did you try the code to see if it does what you want?","body":"Depends totally on what you expect to happen.  Opening a file for writing truncates the file.  Did you try the code to see if it does what you want?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1651089879,"post_id":72033345,"comment_id":127282657,"body_markdown":"In a word:  no.  Windows probably won’t even allow it;  other systems will let you try it, but as Jim said, you won’t read any data.  Write to a [temporary file](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#createTempFile(java.lang.String,java.lang.String,java.nio.file.attribute.FileAttribute...)), then when you’re done, [move](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)) that file on top of the original one.","body":"In a word:  no.  Windows probably won’t even allow it;  other systems will let you try it, but as Jim said, you won’t read any data.  Write to a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#createTempFile(java.lang.String,java.lang.String,java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\">temporary file</a>, then when you’re done, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">move</a> that file on top of the original one."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1651224774,"post_id":72033345,"comment_id":127318399,"body_markdown":"@VGR it’s even possible under Windows. You can also circumvent the truncation by specifying your own open options. In limited use cases, it might even do the right thing, though I still wouldn’t recommend it.","body":"@VGR it’s even possible under Windows. You can also circumvent the truncation by specifying your own open options. In limited use cases, it might even do the right thing, though I still wouldn’t recommend it."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651083025,"creation_date":1651083025,"answer_id":72033474,"question_id":72033345,"body_markdown":"Even if it&#39;s allowed, it&#39;s just waiting for problems to occur. `Reader` and `Writer` are not meant to work on the same file.\r\n\r\nThere are alternatives that you can look into. Good old [RandomAccessFile][1] is created to support both reading and writing. It&#39;s not great for text though. [FileChannel][2], accessible from a `RandomAccessFile` or using `FileChannel.open` is newer but still doesn&#39;t work well with text.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/RandomAccessFile.html\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/channels/FileChannel.html","title":"Java try with resources with Reader and Writer on the same file","body":"<p>Even if it's allowed, it's just waiting for problems to occur. <code>Reader</code> and <code>Writer</code> are not meant to work on the same file.</p>\n<p>There are alternatives that you can look into. Good old <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\">RandomAccessFile</a> is created to support both reading and writing. It's not great for text though. <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/channels/FileChannel.html\" rel=\"nofollow noreferrer\">FileChannel</a>, accessible from a <code>RandomAccessFile</code> or using <code>FileChannel.open</code> is newer but still doesn't work well with text.</p>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651084317,"creation_date":1651084317,"answer_id":72033708,"question_id":72033345,"body_markdown":"This would be a bad practice. Different operating system will give you inconsistent results and it&#39;s asking for problems.\r\n\r\nYou&#39;d be better off reading the file, writing to a temporary file, then replacing the old file with the temporary file when you&#39;re done.","title":"Java try with resources with Reader and Writer on the same file","body":"<p>This would be a bad practice. Different operating system will give you inconsistent results and it's asking for problems.</p>\n<p>You'd be better off reading the file, writing to a temporary file, then replacing the old file with the temporary file when you're done.</p>\n"}],"owner":{"account_id":8996061,"reputation":1,"user_id":6706444,"display_name":"mlody"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1651084317,"creation_date":1651082355,"question_id":72033345,"body_markdown":"    try (Reader reader = Files.newBufferedReader(path);\r\n         Writer writer = Files.newBufferedWriter(path)) {\r\n        ...\r\n    } catch (IOException exception) {\r\n        ...\r\n    }\r\n\r\nCan I use Reader and Writer which open the same file in try-with-resources? Is it safe?\r\n\r\n","title":"Java try with resources with Reader and Writer on the same file","body":"<pre><code>try (Reader reader = Files.newBufferedReader(path);\n     Writer writer = Files.newBufferedWriter(path)) {\n    ...\n} catch (IOException exception) {\n    ...\n}\n</code></pre>\n<p>Can I use Reader and Writer which open the same file in try-with-resources? Is it safe?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651084277,"creation_date":1651084277,"answer_id":72033698,"question_id":72033543,"body_markdown":"Class `SecurityConfig` provides a `PasswordEncoder` and requires a `UserService`. Class `UserServiceImplement` is a `UserService` and requires a `PasswordEncoder`. In other words, to create a `SecurityConfig` you need a `UserService`, but to create a `UserService` you need a `SecurityConfig` to provide the `PasswordEncoder`.\r\n\r\nThe easiest fix is probably to move the `PasswordEncoder` method outside of `SecurityConfig`.\r\nAn alternative is to treat `UserServiceImplement` as a POJO (remove the `@Service` annotation) and create it manually inside the `authenticationProvider` method. You&#39;ll need a `UserRepository` for that, but you can use method argument injection for that:\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider(UserRepository userRepository) {\r\n        PasswordEncoder passwordEncoder = passwordEncoder();\r\n        UserService userService = new UserServiceImplement(userRepository, passwordEncoder);\r\n\r\n        DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\r\n        auth.setUserDetailsService(userService);\r\n        auth.setPasswordEncoder(passwordEncoder);\r\n        return auth;\r\n    }","title":"Getting the error &quot;The dependencies of some of the beans in the application context form a cycle&quot;","body":"<p>Class <code>SecurityConfig</code> provides a <code>PasswordEncoder</code> and requires a <code>UserService</code>. Class <code>UserServiceImplement</code> is a <code>UserService</code> and requires a <code>PasswordEncoder</code>. In other words, to create a <code>SecurityConfig</code> you need a <code>UserService</code>, but to create a <code>UserService</code> you need a <code>SecurityConfig</code> to provide the <code>PasswordEncoder</code>.</p>\n<p>The easiest fix is probably to move the <code>PasswordEncoder</code> method outside of <code>SecurityConfig</code>.\nAn alternative is to treat <code>UserServiceImplement</code> as a POJO (remove the <code>@Service</code> annotation) and create it manually inside the <code>authenticationProvider</code> method. You'll need a <code>UserRepository</code> for that, but you can use method argument injection for that:</p>\n<pre><code>@Bean\npublic DaoAuthenticationProvider authenticationProvider(UserRepository userRepository) {\n    PasswordEncoder passwordEncoder = passwordEncoder();\n    UserService userService = new UserServiceImplement(userRepository, passwordEncoder);\n\n    DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\n    auth.setUserDetailsService(userService);\n    auth.setPasswordEncoder(passwordEncoder);\n    return auth;\n}\n</code></pre>\n"}],"owner":{"account_id":22449588,"reputation":3,"user_id":16653102,"display_name":"Светлана Третьякова"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651084277,"creation_date":1651083497,"question_id":72033543,"body_markdown":"Checked similar threads with the same errors, but still unable to find where is the cause of the error.  I am following tutorial and trying to create simple login page with username and password using spring, as well as implementing two roles of user. \r\n\r\nHere is my securityConfig file and my userServiceImplement file which are causing this error.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true, jsr250Enabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private UserService userService;\r\n    \r\n        @Autowired\r\n        public void setUserService(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(authenticationProvider());\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\r\n            auth.setUserDetailsService(userService);\r\n            auth.setPasswordEncoder(passwordEncoder());\r\n            return auth;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                    .antMatchers(&quot;/ws&quot;).permitAll()\r\n                    .antMatchers(&quot;/users&quot;).hasAnyAuthority(Role.ADMIN.name())\r\n                    .anyRequest().permitAll()\r\n                    .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .failureUrl(&quot;/login-error&quot;)\r\n                    .loginProcessingUrl(&quot;/auth&quot;)\r\n                    .permitAll()\r\n                    .and()\r\n                    .logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                    .logoutSuccessUrl(&quot;/&quot;).deleteCookies(&quot;JSESSIONID&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .and()\r\n                    .csrf().disable();\r\n        }\r\n    }`\r\n\r\n\r\n\r\n        @Service\r\n    public class UserServiceImplement implements UserService {\r\n    \r\n        private final UserRepository userRepository;\r\n        private final PasswordEncoder passwordEncoder;\r\n    \r\n        public UserServiceImplement(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n            this.userRepository = userRepository;\r\n            this.passwordEncoder = passwordEncoder;\r\n        }\r\n    \r\n        @Override\r\n        public boolean save(UserDTO userDto) {\r\n            if(!Objects.equals(userDto.getPassword(), userDto.getMatchingPassword())){\r\n                throw new RuntimeException(&quot;Password is not equal&quot;);\r\n            }\r\n            User user = User.builder()\r\n                    .name(userDto.getUsername())\r\n                    .password(passwordEncoder.encode(userDto.getPassword()))\r\n                    .email(userDto.getEmail())\r\n                    .role(Role.USER)\r\n                    .build();\r\n            userRepository.save(user);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            User user = userRepository.findFirstByName(username);\r\n            if (user == null) {\r\n                throw new UsernameNotFoundException(&quot;User was not found with this name&quot; + username);\r\n    \r\n            }\r\n            List&lt;GrantedAuthority&gt; roles = new ArrayList&lt;&gt;();\r\n            roles.add(new SimpleGrantedAuthority(user.getRole().name()));\r\n            return new org.springframework.security.core.userdetails.User(\r\n                    user.getName(),\r\n                    user.getPassword(),\r\n                    roles\r\n            );\r\n        }\r\n    }\r\n\r\n","title":"Getting the error &quot;The dependencies of some of the beans in the application context form a cycle&quot;","body":"<p>Checked similar threads with the same errors, but still unable to find where is the cause of the error.  I am following tutorial and trying to create simple login page with username and password using spring, as well as implementing two roles of user.</p>\n<p>Here is my securityConfig file and my userServiceImplement file which are causing this error.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true, jsr250Enabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private UserService userService;\n\n    @Autowired\n    public void setUserService(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\n        auth.setUserDetailsService(userService);\n        auth.setPasswordEncoder(passwordEncoder());\n        return auth;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/ws&quot;).permitAll()\n                .antMatchers(&quot;/users&quot;).hasAnyAuthority(Role.ADMIN.name())\n                .anyRequest().permitAll()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .failureUrl(&quot;/login-error&quot;)\n                .loginProcessingUrl(&quot;/auth&quot;)\n                .permitAll()\n                .and()\n                .logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/&quot;).deleteCookies(&quot;JSESSIONID&quot;)\n                .invalidateHttpSession(true)\n                .and()\n                .csrf().disable();\n    }\n}`\n\n\n\n    @Service\npublic class UserServiceImplement implements UserService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    public UserServiceImplement(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @Override\n    public boolean save(UserDTO userDto) {\n        if(!Objects.equals(userDto.getPassword(), userDto.getMatchingPassword())){\n            throw new RuntimeException(&quot;Password is not equal&quot;);\n        }\n        User user = User.builder()\n                .name(userDto.getUsername())\n                .password(passwordEncoder.encode(userDto.getPassword()))\n                .email(userDto.getEmail())\n                .role(Role.USER)\n                .build();\n        userRepository.save(user);\n        return true;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findFirstByName(username);\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User was not found with this name&quot; + username);\n\n        }\n        List&lt;GrantedAuthority&gt; roles = new ArrayList&lt;&gt;();\n        roles.add(new SimpleGrantedAuthority(user.getRole().name()));\n        return new org.springframework.security.core.userdetails.User(\n                user.getName(),\n                user.getPassword(),\n                roles\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java","jms","ibm-mq","message-listener"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1650942926,"post_id":72007927,"comment_id":127237217,"body_markdown":"What do you mean it seems that it is not working? Is it working or isn&#39;t it?","body":"What do you mean it seems that it is not working? Is it working or isn&#39;t it?"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1650943876,"post_id":72007927,"comment_id":127237352,"body_markdown":"What Java client libraries are you using - MQ classes for Java or MQ classes for JMS? If you are using MQ classes for JMS, then you can look here - https://www.ibm.com/docs/en/ibm-mq/9.2?topic=applications-handling-poison-messages-in-mq-classes-jms","body":"What Java client libraries are you using - MQ classes for Java or MQ classes for JMS? If you are using MQ classes for JMS, then you can look here - <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.2?topic=applications-handling-poison-messages-in-mq-classes-jms\" rel=\"nofollow noreferrer\">ibm.com/docs/en/ibm-mq/&hellip;</a>"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1650973726,"post_id":72007927,"comment_id":127246011,"body_markdown":"What is the BOQNAME &amp; BOTHRESH set to?","body":"What is the BOQNAME &amp; BOTHRESH set to?"},{"owner":{"account_id":3057798,"reputation":9,"user_id":2907172,"accept_rate":0,"display_name":"user96913"},"score":0,"creation_date":1651027184,"post_id":72007927,"comment_id":127261910,"body_markdown":"Im using JMS for this scenario. and there are no BOQNAME &amp; BOTHRESH set up in the queue.","body":"Im using JMS for this scenario. and there are no BOQNAME &amp; BOTHRESH set up in the queue."}],"answers":[{"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651084130,"creation_date":1651047827,"answer_id":72025527,"question_id":72007927,"body_markdown":"As @JoshMc hinted you should be treating the error messages as poison messages. For that you will need to enable transactions, and invoke a rollback for the error message. \r\n\r\nie. logic that looks like\r\n\r\n```java\r\n\r\n// Create a connection factory\r\nJmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\r\n\r\nJmsConnectionFactory cf = ff.createConnectionFactory();\r\n\r\n//Set connection properties\r\n...\r\n\r\ncontext = cf.createContext(JMSContext.SESSION_TRANSACTED);\r\ntry {\r\n    ... \r\n    // Message Processing\r\n    ...\r\n    // All is OK\r\n    context.commit();\r\n} catch (Exception e) {\r\n    // Message processing failed\r\n    context.rollback();\r\n}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n```\r\n\r\nIf a backout queue and backout threshold is set then the poison message is put on to the backout queue (BOQNAME) after BOTHRESH attempts at handling the message. \r\n\r\nAll this is done for you, by the underlying MQ Client code. \r\n\r\nThere is an explanation in this article - https://developer.ibm.com/articles/an-introduction-to-local-transactions-using-mq-and-jms/\r\n\r\nwhich also links to sample code here - https://github.com/ibm-messaging/mq-dev-patterns/tree/master/transactions/JMS/SE\r\n\r\n","title":"How to move error message to IBM MQ dead letter queue using java?","body":"<p>As @JoshMc hinted you should be treating the error messages as poison messages. For that you will need to enable transactions, and invoke a rollback for the error message.</p>\n<p>ie. logic that looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// Create a connection factory\nJmsFactoryFactory ff = JmsFactoryFactory.getInstance(WMQConstants.WMQ_PROVIDER);\n\nJmsConnectionFactory cf = ff.createConnectionFactory();\n\n//Set connection properties\n...\n\ncontext = cf.createContext(JMSContext.SESSION_TRANSACTED);\ntry {\n    ... \n    // Message Processing\n    ...\n    // All is OK\n    context.commit();\n} catch (Exception e) {\n    // Message processing failed\n    context.rollback();\n}\n                                                                \n</code></pre>\n<p>If a backout queue and backout threshold is set then the poison message is put on to the backout queue (BOQNAME) after BOTHRESH attempts at handling the message.</p>\n<p>All this is done for you, by the underlying MQ Client code.</p>\n<p>There is an explanation in this article - <a href=\"https://developer.ibm.com/articles/an-introduction-to-local-transactions-using-mq-and-jms/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/articles/an-introduction-to-local-transactions-using-mq-and-jms/</a></p>\n<p>which also links to sample code here - <a href=\"https://github.com/ibm-messaging/mq-dev-patterns/tree/master/transactions/JMS/SE\" rel=\"nofollow noreferrer\">https://github.com/ibm-messaging/mq-dev-patterns/tree/master/transactions/JMS/SE</a></p>\n"}],"owner":{"account_id":3057798,"reputation":9,"user_id":2907172,"accept_rate":0,"display_name":"user96913"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651084130,"creation_date":1650942481,"question_id":72007927,"body_markdown":"Currently, my program is processing the messages being received from a queue but we encountered a xml file that has an error and what happens is it keeps looping on the same message and retrying to process it.\r\n\r\nI would like to move the message to dead letter queue when a message like this occurs again.\r\n\r\nWhat I did right now is that I created a class that will &quot;producer.send(destination, msg)&quot; to the dead queue and call this function on the try-catch but it seems that it is not working.","title":"How to move error message to IBM MQ dead letter queue using java?","body":"<p>Currently, my program is processing the messages being received from a queue but we encountered a xml file that has an error and what happens is it keeps looping on the same message and retrying to process it.</p>\n<p>I would like to move the message to dead letter queue when a message like this occurs again.</p>\n<p>What I did right now is that I created a class that will &quot;producer.send(destination, msg)&quot; to the dead queue and call this function on the try-catch but it seems that it is not working.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4312808,"reputation":608,"user_id":3523471,"display_name":"BluesSolo"},"score":1,"creation_date":1543567136,"post_id":53553956,"comment_id":93973286,"body_markdown":"Show the problematic code in order to get help. Otherwise, the answers might be too broad and probably too unspecific for your problem.","body":"Show the problematic code in order to get help. Otherwise, the answers might be too broad and probably too unspecific for your problem."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":1,"creation_date":1543567136,"post_id":53553956,"comment_id":93973287,"body_markdown":"Without seeing your code all we can do is *guessing what may cause the issue*. Please, post your code.","body":"Without seeing your code all we can do is <i>guessing what may cause the issue</i>. Please, post your code."},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1543567158,"post_id":53553956,"comment_id":93973294,"body_markdown":"What have you tried so far? and could you please explain your question with image and android-OS information?","body":"What have you tried so far? and could you please explain your question with image and android-OS information?"},{"owner":{"account_id":5444163,"reputation":1840,"user_id":4331279,"accept_rate":75,"display_name":"MWB"},"score":1,"creation_date":1543568011,"post_id":53553956,"comment_id":93973639,"body_markdown":"Possible duplicate of [Permanently hide Navigation Bar in an activity](https://stackoverflow.com/questions/16713845/permanently-hide-navigation-bar-in-an-activity)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/16713845/permanently-hide-navigation-bar-in-an-activity\">Permanently hide Navigation Bar in an activity</a>"},{"owner":{"account_id":11519350,"reputation":196,"user_id":8441707,"display_name":"Karthikeyan"},"score":0,"creation_date":1543568117,"post_id":53553956,"comment_id":93973684,"body_markdown":"Can you please elaborate with an example?","body":"Can you please elaborate with an example?"},{"owner":{"account_id":8827155,"reputation":91,"user_id":6595042,"accept_rate":50,"display_name":"karl"},"score":0,"creation_date":1543570485,"post_id":53553956,"comment_id":93974955,"body_markdown":"just update the codes, thank you very much!","body":"just update the codes, thank you very much!"},{"owner":{"account_id":8827155,"reputation":91,"user_id":6595042,"accept_rate":50,"display_name":"karl"},"score":0,"creation_date":1543570691,"post_id":53553956,"comment_id":93975067,"body_markdown":"I use these settings to achieve full-screen, is it right? But it has the bar pop up issue when changing the page","body":"I use these settings to achieve full-screen, is it right? But it has the bar pop up issue when changing the page"},{"owner":{"account_id":2879368,"reputation":163,"user_id":2470593,"display_name":"Farid Savad"},"score":0,"creation_date":1651083374,"post_id":53553956,"comment_id":127280439,"body_markdown":"I have this problem too, have you found a solution to it?","body":"I have this problem too, have you found a solution to it?"}],"answers":[{"tags":[],"owner":{"account_id":2879368,"reputation":163,"user_id":2470593,"display_name":"Farid Savad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651083642,"creation_date":1651083642,"answer_id":72033569,"question_id":53553956,"body_markdown":"I had this problem too, this works for me :\r\n\r\n    protected void fullScreen() {\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    \r\n    \r\n        View decorView = getWindow().getDecorView();\r\n        int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION;\r\n        decorView.setSystemUiVisibility(uiOptions);\r\n    }\r\n    \r\n    @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n        super.onWindowFocusChanged(hasFocus);\r\n        fullScreen();\r\n    }\r\n    \r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        fullScreen();\r\n    }","title":"How to perfectly hide the bottom navigation bar","body":"<p>I had this problem too, this works for me :</p>\n<pre><code>protected void fullScreen() {\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n\n    View decorView = getWindow().getDecorView();\n    int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_FULLSCREEN\n            | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION;\n    decorView.setSystemUiVisibility(uiOptions);\n}\n\n@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n    super.onWindowFocusChanged(hasFocus);\n    fullScreen();\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    fullScreen();\n}\n</code></pre>\n"}],"owner":{"account_id":8827155,"reputation":91,"user_id":6595042,"accept_rate":50,"display_name":"karl"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651083642,"creation_date":1543567001,"question_id":53553956,"body_markdown":"I am developing an apps which needs enter full-screen mode,\r\nhowever, no matter I tried. The bottom navigation bar is hidden but it will pop up for half second when I change the page (change activity). I really appreciate if someone can give me a hand, it troubles me for a day. Thank you!\r\n\r\nAndroid OS 8.0 Oreo, Android Studio 3.1.4\r\n\r\nFollowing codes are the java class, styles.xml and layout.xml, thanks!\r\n\r\n    public class Main2Activity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main2);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onWindowFocusChanged(boolean hasFocus) {\r\n            super.onWindowFocusChanged(hasFocus);\r\n            if (hasFocus) {\r\n                getWindow().getDecorView().setSystemUiVisibility(\r\n                        View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;resources&gt;\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.Main2Activity&quot;&gt;\r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;","title":"How to perfectly hide the bottom navigation bar","body":"<p>I am developing an apps which needs enter full-screen mode,\nhowever, no matter I tried. The bottom navigation bar is hidden but it will pop up for half second when I change the page (change activity). I really appreciate if someone can give me a hand, it troubles me for a day. Thank you!</p>\n\n<p>Android OS 8.0 Oreo, Android Studio 3.1.4</p>\n\n<p>Following codes are the java class, styles.xml and layout.xml, thanks!</p>\n\n<pre><code>public class Main2Activity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    }\n\n\n    @Override\n    public void onWindowFocusChanged(boolean hasFocus) {\n        super.onWindowFocusChanged(hasFocus);\n        if (hasFocus) {\n            getWindow().getDecorView().setSystemUiVisibility(\n                    View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                            | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n        }\n    }\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".Main2Activity\"&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1651066878,"post_id":72025181,"comment_id":127274031,"body_markdown":"This question has nothing to do with Spring for Apache Kafka. I believe such a functionality has to be implemented on Apache Kafka broker first of all...","body":"This question has nothing to do with Spring for Apache Kafka. I believe such a functionality has to be implemented on Apache Kafka broker first of all..."},{"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"score":0,"creation_date":1651075575,"post_id":72025181,"comment_id":127277644,"body_markdown":"@ArtemBilan Alright. Please suggest the way of it&#39;s implementation at broker side","body":"@ArtemBilan Alright. Please suggest the way of it&#39;s implementation at broker side"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651068645,"creation_date":1651068645,"answer_id":72030305,"question_id":72025181,"body_markdown":"&gt; consumers, producers and connections starting and stopping.\r\n\r\nYou&#39;d need to build this yourself (trigger events in your clients, or use the Interceptor interface to do the same). Otherwise, add network packet analysis around your brokers and clients \r\n\r\n&gt; temporary destinations being created and destroyed... brokers sending messages to destinations with no consumers\r\n\r\nUnclear what these mean. Brokers do not send. Consumer poll.\r\n\r\nTemporary consumers fallback to the previous point.\r\n\r\n&gt; messages expiring on topics\r\n\r\nThe log cleaner logs contain this information. You should be able to use log processing tools to parse the relevant data out of this to see both compaction and deletion events, but Kafka will not create producer records for these on its own ","title":"Events consumption in Kafka like AMQ Advisory Topics","body":"<blockquote>\n<p>consumers, producers and connections starting and stopping.</p>\n</blockquote>\n<p>You'd need to build this yourself (trigger events in your clients, or use the Interceptor interface to do the same). Otherwise, add network packet analysis around your brokers and clients</p>\n<blockquote>\n<p>temporary destinations being created and destroyed... brokers sending messages to destinations with no consumers</p>\n</blockquote>\n<p>Unclear what these mean. Brokers do not send. Consumer poll.</p>\n<p>Temporary consumers fallback to the previous point.</p>\n<blockquote>\n<p>messages expiring on topics</p>\n</blockquote>\n<p>The log cleaner logs contain this information. You should be able to use log processing tools to parse the relevant data out of this to see both compaction and deletion events, but Kafka will not create producer records for these on its own</p>\n"}],"owner":{"account_id":10921080,"reputation":627,"user_id":8027346,"display_name":"Lily"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651079622,"answer_count":1,"score":0,"last_activity_date":1651083085,"creation_date":1651046108,"question_id":72025181,"body_markdown":"I am unable to find the concept in Kafka which is similar to the Advisory Topics in AMQ.\r\n\r\n\r\nI want to consume all the event on a topic so that my system could take action on the basis of those events like\r\n\r\n - When a participant joins the topic, an event should be published\t\r\n - When a participant leaves the topic, an event should be published\t\r\n\r\n","title":"Events consumption in Kafka like AMQ Advisory Topics","body":"<p>I am unable to find the concept in Kafka which is similar to the Advisory Topics in AMQ.</p>\n<p>I want to consume all the event on a topic so that my system could take action on the basis of those events like</p>\n<ul>\n<li>When a participant joins the topic, an event should be published</li>\n<li>When a participant leaves the topic, an event should be published</li>\n</ul>\n"},{"tags":["java","pointers","reference","hashmap"],"answers":[{"tags":[],"owner":{"account_id":1298,"reputation":24599,"user_id":1730,"accept_rate":100,"display_name":"Nicolas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1290690766,"creation_date":1290690766,"answer_id":4277417,"question_id":4277388,"body_markdown":"As `Integer` are immutable, yes, you have to do it that way.\r\nIf you really want to increment it directly, you&#39;ll have to write your own mutable class.","title":"Increment an Integer within a HashMap","body":"<p>As <code>Integer</code> are immutable, yes, you have to do it that way.\nIf you really want to increment it directly, you'll have to write your own mutable class.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1290691730,"creation_date":1290690781,"answer_id":4277420,"question_id":4277388,"body_markdown":"You can&#39;t directly increment it, because it is [immutable][1]. You have to increment it and put the new object back.\r\n\r\nAuto boxing is also interfering here. In fact what&#39;s happening is something similar to:\r\n\r\n    Integer i1 = getFromMap();\r\n    i1 = Integer.valueOf(++ i1.intValue());\r\n\r\nSo here your reference points to a new object. You have to put that object back in the map, under the same key.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Immutable_object","title":"Increment an Integer within a HashMap","body":"<p>You can't directly increment it, because it is <a href=\"http://en.wikipedia.org/wiki/Immutable_object\" rel=\"noreferrer\">immutable</a>. You have to increment it and put the new object back.</p>\n\n<p>Auto boxing is also interfering here. In fact what's happening is something similar to:</p>\n\n<pre><code>Integer i1 = getFromMap();\ni1 = Integer.valueOf(++ i1.intValue());\n</code></pre>\n\n<p>So here your reference points to a new object. You have to put that object back in the map, under the same key.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1290690795,"creation_date":1290690795,"answer_id":4277427,"question_id":4277388,"body_markdown":"&gt; Do I have to return the object and then put a new one in ? \r\n\r\nAs long as you use the `Integer` wrapper class yes, because it&#39;s immutable. You could use a mutable wrapper class instead, even one that has an `increment()` method. However, you then lose the ability to use autoboxing and autounboxing on the values.\r\n","title":"Increment an Integer within a HashMap","body":"<blockquote>\n  <p>Do I have to return the object and then put a new one in ? </p>\n</blockquote>\n\n<p>As long as you use the <code>Integer</code> wrapper class yes, because it's immutable. You could use a mutable wrapper class instead, even one that has an <code>increment()</code> method. However, you then lose the ability to use autoboxing and autounboxing on the values.</p>\n"},{"tags":[],"owner":{"account_id":236698,"reputation":6648,"user_id":504356,"accept_rate":68,"display_name":"scheffield"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1290690899,"creation_date":1290690899,"answer_id":4277438,"question_id":4277388,"body_markdown":"First of all: be aware of unboxing: the temp is from type Integer. But the operation ++ is implemented for int. So temp is unboxed to type int. This means if temp is null you run in a NullPointerException.\r\n\r\nAnd you have to do it like you discripted in your first code block.","title":"Increment an Integer within a HashMap","body":"<p>First of all: be aware of unboxing: the temp is from type Integer. But the operation ++ is implemented for int. So temp is unboxed to type int. This means if temp is null you run in a NullPointerException.</p>\n\n<p>And you have to do it like you discripted in your first code block.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":4,"up_vote_count":37,"is_accepted":false,"score":33,"last_activity_date":1400566647,"creation_date":1290691113,"answer_id":4277469,"question_id":4277388,"body_markdown":"This is the shortest code that does this job. \r\n\r\n    myMap.put(key, myMap.get(key) + 1)\r\n\r\nI think it is not too long.","title":"Increment an Integer within a HashMap","body":"<p>This is the shortest code that does this job. </p>\n\n<pre><code>myMap.put(key, myMap.get(key) + 1)\n</code></pre>\n\n<p>I think it is not too long.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1448398393,"creation_date":1290692064,"answer_id":4277615,"question_id":4277388,"body_markdown":"You can use a mutable integer such as AtomicInteger.\r\n\r\n    Map&lt;Key, AtomicInteger&gt; myMap = new HashMap&lt;Key, AtomicInteger&gt;();\r\n    myMap.get(key).incrementAndGet();\r\n\r\nOr you can use Trove4j which supports primitives in collections.\r\n\r\n    TObjectIntHashMap&lt;Key&gt; myMap;\r\n    myMap.increment(key); ","title":"Increment an Integer within a HashMap","body":"<p>You can use a mutable integer such as AtomicInteger.</p>\n\n<pre><code>Map&lt;Key, AtomicInteger&gt; myMap = new HashMap&lt;Key, AtomicInteger&gt;();\nmyMap.get(key).incrementAndGet();\n</code></pre>\n\n<p>Or you can use Trove4j which supports primitives in collections.</p>\n\n<pre><code>TObjectIntHashMap&lt;Key&gt; myMap;\nmyMap.increment(key); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399153496,"creation_date":1399153496,"answer_id":23450164,"question_id":4277388,"body_markdown":"If you have to do this more than twice you&#39;d prefer to create a tiny class like:\r\n\r\n    public class MappedCounter {\r\n    \r\n    \tprivate Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    \r\n    \tpublic void addInt(String k, int v) {\r\n    \t\tif (!map.containsKey(k))\tmap.put(k, v);\r\n    \t\telse    \t\t\tmap.put(k, map.get(k) + v);\r\n    \t}\r\n    \r\n    \tpublic int getInt(String k) {\r\n    \t\treturn map.containsKey(k) ? map.get(k) : 0;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;String&gt; getKeys() {\r\n    \t\treturn map.keySet();\r\n    \t}\r\n    }\r\n\r\n","title":"Increment an Integer within a HashMap","body":"<p>If you have to do this more than twice you'd prefer to create a tiny class like:</p>\n\n<pre><code>public class MappedCounter {\n\n    private Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n\n    public void addInt(String k, int v) {\n        if (!map.containsKey(k))    map.put(k, v);\n        else                map.put(k, map.get(k) + v);\n    }\n\n    public int getInt(String k) {\n        return map.containsKey(k) ? map.get(k) : 0;\n    }\n\n    public Set&lt;String&gt; getKeys() {\n        return map.keySet();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096076,"reputation":616,"user_id":1089649,"display_name":"Jonathan Heinen"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1497210664,"creation_date":1436645765,"answer_id":31361400,"question_id":4277388,"body_markdown":"In Java 8 there are new methods on `Map` which you can use with lambdas to solve this. First alternative, [`compute`][comp]:\r\n\r\n    a.compute(key, (k, v) -&gt; v+1);\r\n\r\n\r\nNote that this only works if the hash is initialized for all possible keys. \r\n\r\nIf this is not guaranteed you can either change the above code to:\r\n\r\n    a.compute(key, (k, v) -&gt; v == null ? 1 : v + 1);\r\n\r\nOr use the [`merge`][merge] method (which I would prefer):\r\n\r\n    a.merge(key, 1, (a, b) -&gt; a + b);\r\n\r\nMaybe there are more lambda based methods I am not aware of. \r\n\r\n[comp]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\r\n[merge]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\r\n","title":"Increment an Integer within a HashMap","body":"<p>In Java 8 there are new methods on <code>Map</code> which you can use with lambdas to solve this. First alternative, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>compute</code></a>:</p>\n\n<pre><code>a.compute(key, (k, v) -&gt; v+1);\n</code></pre>\n\n<p>Note that this only works if the hash is initialized for all possible keys. </p>\n\n<p>If this is not guaranteed you can either change the above code to:</p>\n\n<pre><code>a.compute(key, (k, v) -&gt; v == null ? 1 : v + 1);\n</code></pre>\n\n<p>Or use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>merge</code></a> method (which I would prefer):</p>\n\n<pre><code>a.merge(key, 1, (a, b) -&gt; a + b);\n</code></pre>\n\n<p>Maybe there are more lambda based methods I am not aware of. </p>\n"},{"tags":[],"owner":{"account_id":4587113,"reputation":509,"user_id":3721429,"display_name":"MGoksu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463565841,"creation_date":1463565841,"answer_id":37296348,"question_id":4277388,"body_markdown":"I use the below code and it works but at the beginning you need to define a `BiFunction` describing that the operation is incrementing by 1. \r\n\r\n    public static Map&lt;String, Integer&gt; strInt = new HashMap&lt;String, Integer&gt;();\r\n    \t\r\n\tpublic static void main(String[] args) {\r\n\t\tBiFunction&lt;Integer, Integer, Integer&gt; bi = (x,y) -&gt; {\r\n\t\t\tif(x == null)\r\n\t\t\t\treturn y;\r\n\t\t\treturn x+y;\r\n\t\t};\r\n\t\tstrInt.put(&quot;abc&quot;, 0);\r\n\t\t\r\n\t\t\r\n\t\tstrInt.merge(&quot;abc&quot;, 1, bi);\r\n\t\tstrInt.merge(&quot;abc&quot;, 1, bi);\r\n\t\tstrInt.merge(&quot;abc&quot;, 1, bi);\r\n\t\tstrInt.merge(&quot;abcd&quot;, 1, bi);\r\n\t\t\r\n\t\tSystem.out.println(strInt.get(&quot;abc&quot;));\r\n\t\tSystem.out.println(strInt.get(&quot;abcd&quot;));\r\n\t}\r\n\r\noutput is \r\n\r\n    3\r\n    1","title":"Increment an Integer within a HashMap","body":"<p>I use the below code and it works but at the beginning you need to define a <code>BiFunction</code> describing that the operation is incrementing by 1. </p>\n\n<pre><code>public static Map&lt;String, Integer&gt; strInt = new HashMap&lt;String, Integer&gt;();\n\npublic static void main(String[] args) {\n    BiFunction&lt;Integer, Integer, Integer&gt; bi = (x,y) -&gt; {\n        if(x == null)\n            return y;\n        return x+y;\n    };\n    strInt.put(\"abc\", 0);\n\n\n    strInt.merge(\"abc\", 1, bi);\n    strInt.merge(\"abc\", 1, bi);\n    strInt.merge(\"abc\", 1, bi);\n    strInt.merge(\"abcd\", 1, bi);\n\n    System.out.println(strInt.get(\"abc\"));\n    System.out.println(strInt.get(\"abcd\"));\n}\n</code></pre>\n\n<p>output is </p>\n\n<pre><code>3\n1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9548657,"reputation":1,"user_id":7093565,"display_name":"Tyderf"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478059562,"creation_date":1478059562,"answer_id":40372319,"question_id":4277388,"body_markdown":"This should work           \r\n\r\n            // If the key you want to add does not exist then add it as a new key\r\n            // And make the value 1\r\n            if (map.get(key) == null) {\r\n                map.put(key, 1);\r\n            } else {\r\n                // If the key does exist then replace the key&#39;s value with it&#39;s\r\n                // Original value plus one\r\n                map.put(key, map.get(key) + 1);\r\n            }","title":"Increment an Integer within a HashMap","body":"<p>This should work           </p>\n\n<pre><code>        // If the key you want to add does not exist then add it as a new key\n        // And make the value 1\n        if (map.get(key) == null) {\n            map.put(key, 1);\n        } else {\n            // If the key does exist then replace the key's value with it's\n            // Original value plus one\n            map.put(key, map.get(key) + 1);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10769785,"reputation":341,"user_id":7923565,"display_name":"Markus Schreiber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505727727,"creation_date":1505727727,"answer_id":46276188,"question_id":4277388,"body_markdown":"Just for completeness in Java 8 there is a longAdder which brings some benefits in comparison to AtomicInteger (http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html)\r\n\r\n    final Map&lt;WhatEver, LongAdder&gt; result = new HashMap&lt;&gt;();\r\n    result.get(WhatEver).increment();\r\n\r\n","title":"Increment an Integer within a HashMap","body":"<p>Just for completeness in Java 8 there is a longAdder which brings some benefits in comparison to AtomicInteger (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAdder.html</a>)</p>\n\n<pre><code>final Map&lt;WhatEver, LongAdder&gt; result = new HashMap&lt;&gt;();\nresult.get(WhatEver).increment();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4672430,"reputation":1,"user_id":3783896,"display_name":"Palash"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1588498526,"creation_date":1588498526,"answer_id":61572338,"question_id":4277388,"body_markdown":"Found this to be the best way, avoiding NPE.\r\n\r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.put(5, map.getOrDefault(5, 0) + 1);\r\n    System.out.println(map.get(5));\r\n\r\n    Output:\r\n    1","title":"Increment an Integer within a HashMap","body":"<p>Found this to be the best way, avoiding NPE.</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(5, map.getOrDefault(5, 0) + 1);\nSystem.out.println(map.get(5));\n\nOutput:\n1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651083063,"creation_date":1651081014,"answer_id":72033100,"question_id":4277388,"body_markdown":"Here are solutions using a `Map` (Java 8+), and a primitive `Map` and `Bag` using [Eclipse Collections][1] (EC).\r\n\r\n**JDK `Map`**\r\n\r\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.merge(&quot;item&quot;, 1, Integer::sum);\r\n    Integer count = map.getOrDefault(&quot;item&quot;, 0);\r\n\r\n**EC Primitive `Map`**\r\n\r\n    MutableObjectIntMap&lt;String&gt; map = ObjectIntMaps.mutable.empty();\r\n    map.addToValue(&quot;item&quot;, 1);\r\n    int count = map.getIfAbsent(&quot;item&quot;, 0);\r\n\r\n**EC `Bag`**\r\n\r\n    MutableBag&lt;String&gt; bag = Bags.mutable.empty();\r\n    bag.add(&quot;item&quot;);\r\n    int count = bag.occurrencesOf(&quot;item&quot;);\r\n\r\nThe benefit of the primitive `Map` or `Bag` (which wraps a primitive Map) is that there is no boxing of the count values, and adding is explicit in both method names (`addToValue` / `add`). A `Bag` is a better data structure IMO if you want to simply count things.\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n\r\n  [1]: https://github.com/donraab/eclipse-collections","title":"Increment an Integer within a HashMap","body":"<p>Here are solutions using a <code>Map</code> (Java 8+), and a primitive <code>Map</code> and <code>Bag</code> using <a href=\"https://github.com/donraab/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> (EC).</p>\n<p><strong>JDK <code>Map</code></strong></p>\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nmap.merge(&quot;item&quot;, 1, Integer::sum);\nInteger count = map.getOrDefault(&quot;item&quot;, 0);\n</code></pre>\n<p><strong>EC Primitive <code>Map</code></strong></p>\n<pre><code>MutableObjectIntMap&lt;String&gt; map = ObjectIntMaps.mutable.empty();\nmap.addToValue(&quot;item&quot;, 1);\nint count = map.getIfAbsent(&quot;item&quot;, 0);\n</code></pre>\n<p><strong>EC <code>Bag</code></strong></p>\n<pre><code>MutableBag&lt;String&gt; bag = Bags.mutable.empty();\nbag.add(&quot;item&quot;);\nint count = bag.occurrencesOf(&quot;item&quot;);\n</code></pre>\n<p>The benefit of the primitive <code>Map</code> or <code>Bag</code> (which wraps a primitive Map) is that there is no boxing of the count values, and adding is explicit in both method names (<code>addToValue</code> / <code>add</code>). A <code>Bag</code> is a better data structure IMO if you want to simply count things.</p>\n<p>Note: I am a committer for Eclipse Collections.</p>\n"}],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59312,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":4277427,"answer_count":13,"score":36,"last_activity_date":1651083063,"creation_date":1290690502,"question_id":4277388,"body_markdown":"Do I have to return the object and then put a new one in ? Or can I just directly increment ?\r\n\r\n    Integer temp = myMap.get(key);\r\n    temp++;\r\n    myMap.put(key, temp);\r\n\r\nthere is no way to just do this (this doesn&#39;t work) :\r\n\r\n    myMap.get(key)++;\r\n\r\n","title":"Increment an Integer within a HashMap","body":"<p>Do I have to return the object and then put a new one in ? Or can I just directly increment ?</p>\n\n<pre><code>Integer temp = myMap.get(key);\ntemp++;\nmyMap.put(key, temp);\n</code></pre>\n\n<p>there is no way to just do this (this doesn't work) :</p>\n\n<pre><code>myMap.get(key)++;\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark"],"comments":[{"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"score":0,"creation_date":1651074795,"post_id":72030707,"comment_id":127277334,"body_markdown":"There&#39;s a right square parenthesis missing : `sub_groups = [i for i in range(22)`","body":"There&#39;s a right square parenthesis missing : <code>sub_groups = [i for i in range(22)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651075508,"creation_date":1651075508,"answer_id":72032000,"question_id":72030707,"body_markdown":"You&#39;re attempting _string interpolation_.\r\n\r\nIf using Python, maybe try this:\r\n\r\n    query = &quot;SELECT Id, Group_Name, Sub_group_number, Year_Month\r\n                        FROM table\r\n                        WHERE Year_Month = {0}\r\n                        AND id IN (SELECT Id FROM table WHERE Year_Month = {1} \r\n                        AND Sub_group_number = {2})&quot;.format(month + 1, month, group)","title":"How to avoid showString error after dataframe groupBy","body":"<p>You're attempting <em>string interpolation</em>.</p>\n<p>If using Python, maybe try this:</p>\n<pre><code>query = &quot;SELECT Id, Group_Name, Sub_group_number, Year_Month\n                    FROM table\n                    WHERE Year_Month = {0}\n                    AND id IN (SELECT Id FROM table WHERE Year_Month = {1} \n                    AND Sub_group_number = {2})&quot;.format(month + 1, month, group)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3538407,"reputation":8768,"user_id":2956135,"accept_rate":100,"display_name":"Emma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651082014,"creation_date":1651079894,"answer_id":72032888,"question_id":72030707,"body_markdown":"The error states it is StackOverflowError that can happen when DAG plan grows too much. Because of Spark&#39;s lazy evaluation, this could easily happen with for-loops, especially you have nested for-loop. If you are curious, you can try `df.explain()` where you did `df.show()`, you should see pretty long physical plans that Spark cannot handle to run in actual. \r\n\r\nTo solve this, you want to avoid for-loop as much as possible and in your case , it seems you don&#39;t need it.\r\n\r\n```python\r\nsub_groups = [i for i in range(22)]\r\nyear_months = [202101, 202102, 202103]\r\n\r\n# Modify this to use datetime lib for more robustness (ex: handle 202112 -&gt; 202201). \r\nmonth_plus = [x+1 for x in year_months]\r\n\r\ndef _to_str_elms(li):\r\n    return str(li)[1:-1]\r\n\r\nspark.sql(&quot;&quot;&quot;\r\n    SELECT Id, Group_Name, Sub_group_number, Year_Month\r\n    FROM table\r\n    WHERE Year_Month IN ({&#39;,&#39;.join(_to_str_elms(month_plus))})\r\n        AND id IN (SELECT Id FROM table WHERE Year_Month IN ({&#39;,&#39;.join(_to_str_elms(month))}) AND Sub_group_number IN ({&#39;,&#39;.join(_to_str_elms(sub_groups))}))\r\n&quot;&quot;&quot;)\r\n```\r\n\r\n**UPDATE:**\r\n\r\nI think I understood why you are looping. You need &quot;parent&quot; group where along with the `Sub_group_number` of its record and you are using `lit` with looped value. I think one way is that you can rethink about this problem by first query to fetch all records that are in [202101, 202102, 202103, 202104], then use some window functions to figure out the parent group. I am not yet foreseeing how it looks like, so if you can give us some sample records and logic how you want to get the &quot;group&quot;, I can perhaps provide updates.","title":"How to avoid showString error after dataframe groupBy","body":"<p>The error states it is StackOverflowError that can happen when DAG plan grows too much. Because of Spark's lazy evaluation, this could easily happen with for-loops, especially you have nested for-loop. If you are curious, you can try <code>df.explain()</code> where you did <code>df.show()</code>, you should see pretty long physical plans that Spark cannot handle to run in actual.</p>\n<p>To solve this, you want to avoid for-loop as much as possible and in your case , it seems you don't need it.</p>\n<pre class=\"lang-py prettyprint-override\"><code>sub_groups = [i for i in range(22)]\nyear_months = [202101, 202102, 202103]\n\n# Modify this to use datetime lib for more robustness (ex: handle 202112 -&gt; 202201). \nmonth_plus = [x+1 for x in year_months]\n\ndef _to_str_elms(li):\n    return str(li)[1:-1]\n\nspark.sql(&quot;&quot;&quot;\n    SELECT Id, Group_Name, Sub_group_number, Year_Month\n    FROM table\n    WHERE Year_Month IN ({','.join(_to_str_elms(month_plus))})\n        AND id IN (SELECT Id FROM table WHERE Year_Month IN ({','.join(_to_str_elms(month))}) AND Sub_group_number IN ({','.join(_to_str_elms(sub_groups))}))\n&quot;&quot;&quot;)\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>I think I understood why you are looping. You need &quot;parent&quot; group where along with the <code>Sub_group_number</code> of its record and you are using <code>lit</code> with looped value. I think one way is that you can rethink about this problem by first query to fetch all records that are in [202101, 202102, 202103, 202104], then use some window functions to figure out the parent group. I am not yet foreseeing how it looks like, so if you can give us some sample records and logic how you want to get the &quot;group&quot;, I can perhaps provide updates.</p>\n"}],"owner":{"account_id":17339217,"reputation":350,"user_id":14537981,"display_name":"danimille"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651082014,"creation_date":1651070446,"question_id":72030707,"body_markdown":"I have a `dataframe` in the following schema, that I extract from a Hive table using the SQL below:\r\n\r\n|Id       |Group_name |Sub_group_number|Year_Month|\r\n|---------|-----------|----------------|----------|\r\n|1        | Active    |  1             |202110    |\r\n|2        | Active    |  3             |202110    |\r\n|3        | Inactive  |  4             |202110    |\r\n|4        | Active    |  1             |202110    |\r\n\r\nThe T-SQL to extract the information is:\r\n\r\n    SELECT Id, Group_Name, Sub_group_number, Year_Month\r\n    FROM table\r\n    WHERE Year_Month = 202110\r\n    AND id IN (SELECT Id FROM table WHERE Year_Month = 202109 AND Sub_group_number = 1)\r\n\r\nAfter extract this information I want to group by Sub_group to extract the Id quantity as below:\r\n\r\n    df = (df.withColumn(&#39;FROM&#39;, F.lit(1))\r\n            .groupBy(&#39;Year_Month&#39;, &#39;FROM&#39;, &#39;Sub_group_number&#39;)\r\n            .count())\r\n\r\nThe result is a table as below:\r\n\r\n|Year_Month|From|Sub_group_number|Quantity|\r\n|----------|----|----------------|--------|\r\n|202110    | 1  | 1              | 2      |\r\n|202110    | 1  | 3              | 1      |\r\n|202110    | 1  | 4              | 1      |\r\n\r\nUntil this point there is no issue on my code and I&#39;m able to run and execute action commands with Spark. The issue happens when I try to make the year_month and sub_group as parameters of my T-SQL in order to have a complete table. I&#39;m using the following code:\r\n\r\n    sub_groups = [i for i in range(22)]\r\n    year_months = [202101, 202102, 202103]\r\n    for month in year_months:\r\n        for group in sub_groups:\r\n            query = f&quot;&quot;&quot;SELECT Id, Group_Name, Sub_group_number, Year_Month\r\n                        FROM table\r\n                        WHERE Year_Month = {month + 1}\r\n                        AND id IN (SELECT Id FROM table WHERE Year_Month = {month} AND Sub_group_number = {group})&quot;&quot;&quot;\r\n            df_temp = (spark.sql(query)\r\n                            .withColumn(&#39;FROM&#39;, F.lit(group))\r\n                            .groupBy(&#39;Year_Month&#39;, &#39;FROM&#39;, &#39;Sub_group_number&#39;)\r\n                            .count())\r\n            df = df.union(df_temp).dropDuplicates()\r\n\r\nWhen I execute a `df.show()` or try to write as Table I have the issue:\r\n\r\n&gt; An error occurred while calling o8522.showString\r\n\r\n[![Full error trace][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dfOXQ.png\r\n\r\nAny ideas of what is causing this error?","title":"How to avoid showString error after dataframe groupBy","body":"<p>I have a <code>dataframe</code> in the following schema, that I extract from a Hive table using the SQL below:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Id</th>\n<th>Group_name</th>\n<th>Sub_group_number</th>\n<th>Year_Month</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Active</td>\n<td>1</td>\n<td>202110</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Active</td>\n<td>3</td>\n<td>202110</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Inactive</td>\n<td>4</td>\n<td>202110</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Active</td>\n<td>1</td>\n<td>202110</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The T-SQL to extract the information is:</p>\n<pre><code>SELECT Id, Group_Name, Sub_group_number, Year_Month\nFROM table\nWHERE Year_Month = 202110\nAND id IN (SELECT Id FROM table WHERE Year_Month = 202109 AND Sub_group_number = 1)\n</code></pre>\n<p>After extract this information I want to group by Sub_group to extract the Id quantity as below:</p>\n<pre><code>df = (df.withColumn('FROM', F.lit(1))\n        .groupBy('Year_Month', 'FROM', 'Sub_group_number')\n        .count())\n</code></pre>\n<p>The result is a table as below:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Year_Month</th>\n<th>From</th>\n<th>Sub_group_number</th>\n<th>Quantity</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>202110</td>\n<td>1</td>\n<td>1</td>\n<td>2</td>\n</tr>\n<tr>\n<td>202110</td>\n<td>1</td>\n<td>3</td>\n<td>1</td>\n</tr>\n<tr>\n<td>202110</td>\n<td>1</td>\n<td>4</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Until this point there is no issue on my code and I'm able to run and execute action commands with Spark. The issue happens when I try to make the year_month and sub_group as parameters of my T-SQL in order to have a complete table. I'm using the following code:</p>\n<pre><code>sub_groups = [i for i in range(22)]\nyear_months = [202101, 202102, 202103]\nfor month in year_months:\n    for group in sub_groups:\n        query = f&quot;&quot;&quot;SELECT Id, Group_Name, Sub_group_number, Year_Month\n                    FROM table\n                    WHERE Year_Month = {month + 1}\n                    AND id IN (SELECT Id FROM table WHERE Year_Month = {month} AND Sub_group_number = {group})&quot;&quot;&quot;\n        df_temp = (spark.sql(query)\n                        .withColumn('FROM', F.lit(group))\n                        .groupBy('Year_Month', 'FROM', 'Sub_group_number')\n                        .count())\n        df = df.union(df_temp).dropDuplicates()\n</code></pre>\n<p>When I execute a <code>df.show()</code> or try to write as Table I have the issue:</p>\n<blockquote>\n<p>An error occurred while calling o8522.showString</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/dfOXQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dfOXQ.png\" alt=\"Full error trace\" /></a></p>\n<p>Any ideas of what is causing this error?</p>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":22636366,"reputation":103,"user_id":16813125,"display_name":"Rayhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651081479,"creation_date":1651081479,"answer_id":72033187,"question_id":71298539,"body_markdown":"don’t worry if it’s just ctr of the interstitial ad, just maintain your overall ctr on account level as it should remain around 6%. Although, sometimes even overall ctr can exceed 8% without causing any issue but remaining under it is safe. Admob doesn’t concern about ctr% of any specific ad format. Neither do they monitor specific country-wise ctr%. I’ll recommend you to use small banner ads to keep your ctr% of account balanced as banner ads get lesser clicks. Hope it helps","title":"Admob&#39;s Interstitial impression CTR is high","body":"<p>don’t worry if it’s just ctr of the interstitial ad, just maintain your overall ctr on account level as it should remain around 6%. Although, sometimes even overall ctr can exceed 8% without causing any issue but remaining under it is safe. Admob doesn’t concern about ctr% of any specific ad format. Neither do they monitor specific country-wise ctr%. I’ll recommend you to use small banner ads to keep your ctr% of account balanced as banner ads get lesser clicks. Hope it helps</p>\n"}],"owner":{"account_id":19004266,"reputation":41,"user_id":13871249,"display_name":"Burk Apps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651081479,"creation_date":1646067920,"question_id":71298539,"body_markdown":"I have an android app with only interstitial ads on it and i am showing them on natural transitions like showing them on bottom view navigation item&#39;s onClick and on some specific buttons. I am showing an ad after 4 clicks in my app by maintaining a count. I am getting Impression CTR ranges from 6 to 11. I have over 4k active users. Is that worrying? Please anyone guide me","title":"Admob&#39;s Interstitial impression CTR is high","body":"<p>I have an android app with only interstitial ads on it and i am showing them on natural transitions like showing them on bottom view navigation item's onClick and on some specific buttons. I am showing an ad after 4 clicks in my app by maintaining a count. I am getting Impression CTR ranges from 6 to 11. I have over 4k active users. Is that worrying? Please anyone guide me</p>\n"},{"tags":["java","android","android-intent","android-activity","notifications"],"answers":[{"tags":[],"owner":{"account_id":15675632,"reputation":675,"user_id":11310951,"display_name":"Rvb84"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651081345,"creation_date":1651081345,"answer_id":72033157,"question_id":72010650,"body_markdown":"Try singleInstance, seems like there is another stack open otherwise the system would indeed call onNewIntent instead of onCreate.","title":"SingleTop launchMode fails when app is opened from notification or external Intent","body":"<p>Try singleInstance, seems like there is another stack open otherwise the system would indeed call onNewIntent instead of onCreate.</p>\n"}],"owner":{"account_id":344947,"reputation":39,"user_id":1472444,"display_name":"marmay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651081345,"creation_date":1650961374,"question_id":72010650,"body_markdown":"I have this minimized app:\r\n\r\n**MainActivity.java**\r\n\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void onNewIntent(Intent intent){\r\n        super.onNewIntent(intent);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**ActivityB.java**\r\n\r\n```\r\npublic class ActivityB extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_b);\r\n    }\r\n}\r\n```\r\n\r\n**AndroidManifest.xml**\r\n\r\n```\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;*/*&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;audio/*&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.activities.ActivityB&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:parentActivityName=&quot;.activities.MainActivity&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n        &lt;/activity&gt;\r\n```\r\n\r\n**1)** I launch a notification from a Service with the app closed (killed) using TaskStackBuilder to  open MainActivity -&gt; ActivityB in the stack just as documentation says (https://developer.android.com/training/notify-user/navigation) :\r\n\r\n```\r\n        Intent resultIntent = new Intent(this, ActivityB.class);\r\n        TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);\r\n        stackBuilder.addNextIntentWithParentStack(resultIntent);\r\n        PendingIntent resultPendingIntent =\r\n                stackBuilder.getPendingIntent(0,\r\n                        PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n...\r\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(context, &quot;1&quot;)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setContentTitle(&quot;Title&quot;)\r\n                .setContentText(&quot;Message&quot;)\r\n                .setAutoCancel(true)\r\n                .setContentIntent(resultPendingIntent);\r\n\r\n        android.app.Notification buildNotification = mBuilder.build();\r\n        NotificationManager mNotifyMgr = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n        mNotifyMgr.notify(1, buildNotification);\r\n\r\n```\r\n\r\nActivityB is opened on notification click but using back button doesn&#39;t go to parent Activity (MainActivity) which is precisely what you want with TaskStackBuilder. It gets the app closed.\r\n\r\n**2)** When the app with MainActivity opened is in background (home button), if I share an audio file from another app to the app, onCreate is always called instead of onNewIntent. Looking at the documentation of launchMode, shouldn&#39;t it call to onNewIntent as MainActivity is singleTop and is in the top of the stack?\r\n\r\n**Tested in**\r\n\r\n- Android 10 &amp; Android 11\r\n- compileSdkVersion 32\r\n- targetSdkVersion 32","title":"SingleTop launchMode fails when app is opened from notification or external Intent","body":"<p>I have this minimized app:</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void onNewIntent(Intent intent){\n        super.onNewIntent(intent);\n    }\n\n}\n</code></pre>\n<p><strong>ActivityB.java</strong></p>\n<pre><code>public class ActivityB extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_b);\n    }\n}\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>        &lt;activity\n            android:name=&quot;.activities.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;*/*&quot; /&gt;\n                &lt;data android:mimeType=&quot;audio/*&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;.activities.ActivityB&quot;\n            android:exported=&quot;false&quot;\n            android:parentActivityName=&quot;.activities.MainActivity&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p><strong>1)</strong> I launch a notification from a Service with the app closed (killed) using TaskStackBuilder to  open MainActivity -&gt; ActivityB in the stack just as documentation says (<a href=\"https://developer.android.com/training/notify-user/navigation\" rel=\"nofollow noreferrer\">https://developer.android.com/training/notify-user/navigation</a>) :</p>\n<pre><code>        Intent resultIntent = new Intent(this, ActivityB.class);\n        TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);\n        stackBuilder.addNextIntentWithParentStack(resultIntent);\n        PendingIntent resultPendingIntent =\n                stackBuilder.getPendingIntent(0,\n                        PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n...\n        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(context, &quot;1&quot;)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setContentTitle(&quot;Title&quot;)\n                .setContentText(&quot;Message&quot;)\n                .setAutoCancel(true)\n                .setContentIntent(resultPendingIntent);\n\n        android.app.Notification buildNotification = mBuilder.build();\n        NotificationManager mNotifyMgr = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n        mNotifyMgr.notify(1, buildNotification);\n\n</code></pre>\n<p>ActivityB is opened on notification click but using back button doesn't go to parent Activity (MainActivity) which is precisely what you want with TaskStackBuilder. It gets the app closed.</p>\n<p><strong>2)</strong> When the app with MainActivity opened is in background (home button), if I share an audio file from another app to the app, onCreate is always called instead of onNewIntent. Looking at the documentation of launchMode, shouldn't it call to onNewIntent as MainActivity is singleTop and is in the top of the stack?</p>\n<p><strong>Tested in</strong></p>\n<ul>\n<li>Android 10 &amp; Android 11</li>\n<li>compileSdkVersion 32</li>\n<li>targetSdkVersion 32</li>\n</ul>\n"},{"tags":["java","canvas","view","bitmap","imageview"],"answers":[{"tags":[],"owner":{"account_id":1075043,"reputation":19715,"user_id":1073386,"accept_rate":83,"display_name":"Adam Stelmaszczyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373611885,"creation_date":1373588670,"answer_id":17605717,"question_id":17605662,"body_markdown":"`java.lang.IllegalArgumentException: width and height must be &gt; 0` is because in your `Bitmap.createBitmap()` call `v.getLayoutParams().width` or `v.getLayoutParams().height` is 0. Probably the `LayoutParams` are wrongly set in `mImage`.\r\n\r\nUpdate: `setLayoutParams()` for the `mImage` before using `createBitmap()`. Something like this:\r\n\r\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(30, 30);\r\n    mImage.setLayoutParams(layoutParams);","title":"IllegalArgumentException: width and height must be &gt; 0 while loading Bitmap from View","body":"<p><code>java.lang.IllegalArgumentException: width and height must be &gt; 0</code> is because in your <code>Bitmap.createBitmap()</code> call <code>v.getLayoutParams().width</code> or <code>v.getLayoutParams().height</code> is 0. Probably the <code>LayoutParams</code> are wrongly set in <code>mImage</code>.</p>\n\n<p>Update: <code>setLayoutParams()</code> for the <code>mImage</code> before using <code>createBitmap()</code>. Something like this:</p>\n\n<pre><code>LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(30, 30);\nmImage.setLayoutParams(layoutParams);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1421806,"reputation":1201,"user_id":1346279,"display_name":"Sam Aleksov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1373588997,"creation_date":1373588997,"answer_id":17605753,"question_id":17605662,"body_markdown":"If everything else is correct you are executing your code too early. \r\n\r\nThe view&#39;s layout has not yet been measured by Android. Try executing in OnResume just to see if this is your problem.\r\n\r\nCheers!","title":"IllegalArgumentException: width and height must be &gt; 0 while loading Bitmap from View","body":"<p>If everything else is correct you are executing your code too early. </p>\n\n<p>The view's layout has not yet been measured by Android. Try executing in OnResume just to see if this is your problem.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":2306907,"reputation":3907,"user_id":2026010,"accept_rate":80,"display_name":"Felipe Mosso"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1374233727,"creation_date":1374233727,"answer_id":17745162,"question_id":17605662,"body_markdown":"I finally figured out a solution for my problem.\r\n\r\nI&#39;m using the `post` method of the View, which will be executed only after the view measuring and layouting, this way `getWidth()` and `getHeight()` returns the actual width and height.\r\n\r\nHere&#39;s the code sample:\r\n\r\n    mImage.post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            mImage.setImageBitmap(loadBitmapFromView(mImage));\r\n        }\r\n    });\r\n\r\nHope it also helps someone else :)","title":"IllegalArgumentException: width and height must be &gt; 0 while loading Bitmap from View","body":"<p>I finally figured out a solution for my problem.</p>\n\n<p>I'm using the <code>post</code> method of the View, which will be executed only after the view measuring and layouting, this way <code>getWidth()</code> and <code>getHeight()</code> returns the actual width and height.</p>\n\n<p>Here's the code sample:</p>\n\n<pre><code>mImage.post(new Runnable() {\n    @Override\n    public void run() {\n        mImage.setImageBitmap(loadBitmapFromView(mImage));\n    }\n});\n</code></pre>\n\n<p>Hope it also helps someone else :)</p>\n"},{"tags":[],"owner":{"account_id":5027671,"reputation":2794,"user_id":4038978,"accept_rate":50,"display_name":"Mehdi Khademloo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491944183,"creation_date":1491944183,"answer_id":43356045,"question_id":17605662,"body_markdown":"In my case, I forgot to set `orientation` to `vertical` for parent `LinearLayout` and the default value of `horizontal` has been set, so I set it and my problem gone...\r\n\r\n    android:orientation=&quot;vertical&quot;\r\n\r\n\r\n","title":"IllegalArgumentException: width and height must be &gt; 0 while loading Bitmap from View","body":"<p>In my case, I forgot to set <code>orientation</code> to <code>vertical</code> for parent <code>LinearLayout</code> and the default value of <code>horizontal</code> has been set, so I set it and my problem gone...</p>\n\n<pre><code>android:orientation=\"vertical\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6567715,"reputation":885,"user_id":5076733,"display_name":"manas.abrol"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1531568562,"creation_date":1531568562,"answer_id":51338154,"question_id":17605662,"body_markdown":"        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                loadBitmapFromView(mImage);\r\n            }\r\n        }, 1000);","title":"IllegalArgumentException: width and height must be &gt; 0 while loading Bitmap from View","body":"<pre><code>    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            loadBitmapFromView(mImage);\n        }\n    }, 1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6403531,"reputation":234,"user_id":4965482,"display_name":"Gilad Levinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651080751,"creation_date":1651080751,"answer_id":72033051,"question_id":17605662,"body_markdown":"I&#39;m not sure if it relates to this specific question , but I had the same error and I solved it with getting a image source , in the layout xml file ,  from drawable instead of from mipmap (of course I had to put the image there before).","title":"IllegalArgumentException: width and height must be &gt; 0 while loading Bitmap from View","body":"<p>I'm not sure if it relates to this specific question , but I had the same error and I solved it with getting a image source , in the layout xml file ,  from drawable instead of from mipmap (of course I had to put the image there before).</p>\n"}],"owner":{"account_id":2306907,"reputation":3907,"user_id":2026010,"accept_rate":80,"display_name":"Felipe Mosso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62851,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":17745162,"answer_count":6,"score":34,"last_activity_date":1651080751,"creation_date":1373588234,"question_id":17605662,"body_markdown":"I&#39;m trying to draw on an ImageViewTouch, a library which enables pinch zooming. I&#39;m able to draw over the image using Canvas, but when I zoom the image, the drawing disappears.\r\n\r\nFor this, I&#39;m trying to convert the view to a bitmap and set theImageBitmap for this same view. Here&#39;s the code:\r\n\r\n    mImage.setDrawPath(true);\r\n    mImage.setImageBitmap(loadBitmapFromView(mImage)); \r\n\r\n    public static Bitmap loadBitmapFromView(View v) {\r\n            Bitmap b = Bitmap.createBitmap( v.getWidth(), v.getHeight(), Bitmap.Config.ARGB_8888);                \r\n            Canvas c = new Canvas(b);\r\n            v.layout(0, 0, v.getWidth(), v.getHeight());\r\n            v.draw(c);\r\n            return b;\r\n    }\r\n\r\nWhen I do this, I get the following log error:\r\n\r\n    07-11 21:13:41.567: E/AndroidRuntime(20056): java.lang.IllegalArgumentException: width and height must be &gt; 0\r\n    07-11 21:13:41.567: E/AndroidRuntime(20056): \tat android.graphics.Bitmap.createBitmap(Bitmap.java:638)\r\n    07-11 21:13:41.567: E/AndroidRuntime(20056): \tat android.graphics.Bitmap.createBitmap(Bitmap.java:620)\r\n\r\nIf I remove the `loadBitmapFromView` call the drawing normally appears over the image. When I try to do any interaction with the image (like zooming in or out), the drawing disappears, remaing only the background image, which is a picture.\r\n\r\n\r\n--- EDIT ---\r\n\r\nHere&#39;s some more code placed after the `loadBitmapFromView` call. The case is: I have a radio group listenner and when I check some radio button, I have to load the image and draw some possibles drawings over it.. then I&#39;m trying to convert everything (the image and the drawings) into only one bitmap.\r\n\r\nHere&#39;s the ohter part of the code:\r\n\r\n    bitmap = BitmapUtils.decodeSampledBitmapFromResource(root + DefinesAndroid.CAMINHO_SHOPPINGS_SDCARD + nomeImagemAtual, size.x, size.y);\r\n    mImage.setImageBitmap(bitmap);\r\n\r\nAfter that, I draw everything I have to draw and try to convert the view to bitmap using the loadImageBitmap method I have shown.\r\n\r\nthe `decodeSampledBitmapFromResource` method I got from this link on android developers http://developer.android.com/training/displaying-bitmaps/load-bitmap.html\r\n","title":"IllegalArgumentException: width and height must be &gt; 0 while loading Bitmap from View","body":"<p>I'm trying to draw on an ImageViewTouch, a library which enables pinch zooming. I'm able to draw over the image using Canvas, but when I zoom the image, the drawing disappears.</p>\n\n<p>For this, I'm trying to convert the view to a bitmap and set theImageBitmap for this same view. Here's the code:</p>\n\n<pre><code>mImage.setDrawPath(true);\nmImage.setImageBitmap(loadBitmapFromView(mImage)); \n\npublic static Bitmap loadBitmapFromView(View v) {\n        Bitmap b = Bitmap.createBitmap( v.getWidth(), v.getHeight(), Bitmap.Config.ARGB_8888);                \n        Canvas c = new Canvas(b);\n        v.layout(0, 0, v.getWidth(), v.getHeight());\n        v.draw(c);\n        return b;\n}\n</code></pre>\n\n<p>When I do this, I get the following log error:</p>\n\n<pre><code>07-11 21:13:41.567: E/AndroidRuntime(20056): java.lang.IllegalArgumentException: width and height must be &gt; 0\n07-11 21:13:41.567: E/AndroidRuntime(20056):    at android.graphics.Bitmap.createBitmap(Bitmap.java:638)\n07-11 21:13:41.567: E/AndroidRuntime(20056):    at android.graphics.Bitmap.createBitmap(Bitmap.java:620)\n</code></pre>\n\n<p>If I remove the <code>loadBitmapFromView</code> call the drawing normally appears over the image. When I try to do any interaction with the image (like zooming in or out), the drawing disappears, remaing only the background image, which is a picture.</p>\n\n<p>--- EDIT ---</p>\n\n<p>Here's some more code placed after the <code>loadBitmapFromView</code> call. The case is: I have a radio group listenner and when I check some radio button, I have to load the image and draw some possibles drawings over it.. then I'm trying to convert everything (the image and the drawings) into only one bitmap.</p>\n\n<p>Here's the ohter part of the code:</p>\n\n<pre><code>bitmap = BitmapUtils.decodeSampledBitmapFromResource(root + DefinesAndroid.CAMINHO_SHOPPINGS_SDCARD + nomeImagemAtual, size.x, size.y);\nmImage.setImageBitmap(bitmap);\n</code></pre>\n\n<p>After that, I draw everything I have to draw and try to convert the view to bitmap using the loadImageBitmap method I have shown.</p>\n\n<p>the <code>decodeSampledBitmapFromResource</code> method I got from this link on android developers <a href=\"http://developer.android.com/training/displaying-bitmaps/load-bitmap.html\">http://developer.android.com/training/displaying-bitmaps/load-bitmap.html</a></p>\n"},{"tags":["java","session","stripe-payments","payment"],"answers":[{"tags":[],"owner":{"account_id":19985957,"reputation":826,"user_id":14648074,"display_name":"seeker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651080169,"creation_date":1651080169,"answer_id":72032945,"question_id":72014001,"body_markdown":"If you are going to be collecting card data to create a `PaymentMethod`, you can connect it with a `PaymentIntent`. In this case, [this scenario][1] seems to suit your needs. Keep in mind that if your integration is directly handling card information, you have to prove annually your business is [PCI compliant][2].\r\n\r\n\r\n  [1]: https://stripe.com/docs/payments/accept-a-payment-synchronously\r\n  [2]: https://stripe.com/docs/security/guide#validating-pci-compliance","title":"How to make specific Stripe session `complete` from code (without UI)","body":"<p>If you are going to be collecting card data to create a <code>PaymentMethod</code>, you can connect it with a <code>PaymentIntent</code>. In this case, <a href=\"https://stripe.com/docs/payments/accept-a-payment-synchronously\" rel=\"nofollow noreferrer\">this scenario</a> seems to suit your needs. Keep in mind that if your integration is directly handling card information, you have to prove annually your business is <a href=\"https://stripe.com/docs/security/guide#validating-pci-compliance\" rel=\"nofollow noreferrer\">PCI compliant</a>.</p>\n"}],"owner":{"account_id":8988832,"reputation":1540,"user_id":6701496,"accept_rate":85,"display_name":"degath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651080169,"creation_date":1650976201,"question_id":72014001,"body_markdown":"I&#39;m creating some kind of e2e/integration tests for Stripe (for real integration) without any UI (only requests).\r\n\r\nCurrently I have few steps flow:\r\n 1. I execute `/create-checkout-session` endpoint (which creates session by `Session.create(...)`)\r\n 2. I take `session.url` returned in step 1 and perform payment with fake credit card provided by stripe (this is manual step I would like to get rid of)\r\n 3. Next I execute `/retrieve` endpoint (which retrieves session by `Session.retrieve(id)`)\r\n 4. Result -&gt; `Session status is created`.\r\n\r\nThis is how the code looks like:\r\n\r\n```\r\n    @Test\r\n    public void successPaymentFlow() {\r\n\t\t//1.\r\n        var sessionId = this.requestCreateCheckoutSession();\r\n\r\n\t\t//2. TODO - perform payment, to make the sessionId status -&gt; complete\r\n\r\n\t\t//3.\r\n        var session = this.requestSessionRetrieve(sessionId);\r\n\r\n\t\t//4.\r\n        assertThat(session.getStatus()).isEqualTo(&quot;complete&quot;);\r\n    }\r\n```\r\n\r\n\r\nI noticed, that I can make the stripe session as `expire` with simple `session.expire()`, so ideally the `session.complete()` is what I&#39;m looking for, but I assume I just can&#39;t make it `complete` without payment, so the real question is `How to pay for stripe checkout session through code?`\r\n\r\nI noticed that I can create payment method by `PaymentMethod.create(...)` where I can pass all credit card informations, but still I don&#39;t know how to connect payment method with session and basically how to execute that payment (something like `Payment.execute(sessionId, paymentMethodId)`).\r\n\r\nPS. I was looking through the documentation. It is really detailed and well written, but in the place that interests me... There is only information like `make a payment on the page generated in the session`.","title":"How to make specific Stripe session `complete` from code (without UI)","body":"<p>I'm creating some kind of e2e/integration tests for Stripe (for real integration) without any UI (only requests).</p>\n<p>Currently I have few steps flow:</p>\n<ol>\n<li>I execute <code>/create-checkout-session</code> endpoint (which creates session by <code>Session.create(...)</code>)</li>\n<li>I take <code>session.url</code> returned in step 1 and perform payment with fake credit card provided by stripe (this is manual step I would like to get rid of)</li>\n<li>Next I execute <code>/retrieve</code> endpoint (which retrieves session by <code>Session.retrieve(id)</code>)</li>\n<li>Result -&gt; <code>Session status is created</code>.</li>\n</ol>\n<p>This is how the code looks like:</p>\n<pre><code>    @Test\n    public void successPaymentFlow() {\n        //1.\n        var sessionId = this.requestCreateCheckoutSession();\n\n        //2. TODO - perform payment, to make the sessionId status -&gt; complete\n\n        //3.\n        var session = this.requestSessionRetrieve(sessionId);\n\n        //4.\n        assertThat(session.getStatus()).isEqualTo(&quot;complete&quot;);\n    }\n</code></pre>\n<p>I noticed, that I can make the stripe session as <code>expire</code> with simple <code>session.expire()</code>, so ideally the <code>session.complete()</code> is what I'm looking for, but I assume I just can't make it <code>complete</code> without payment, so the real question is <code>How to pay for stripe checkout session through code?</code></p>\n<p>I noticed that I can create payment method by <code>PaymentMethod.create(...)</code> where I can pass all credit card informations, but still I don't know how to connect payment method with session and basically how to execute that payment (something like <code>Payment.execute(sessionId, paymentMethodId)</code>).</p>\n<p>PS. I was looking through the documentation. It is really detailed and well written, but in the place that interests me... There is only information like <code>make a payment on the page generated in the session</code>.</p>\n"},{"tags":["java","android","react-native","expo","apk"],"comments":[{"owner":{"account_id":5350952,"reputation":16310,"user_id":4265103,"display_name":"Pierre"},"score":0,"creation_date":1651058739,"post_id":72020283,"comment_id":127270785,"body_markdown":"Did you sign your APK with v2 signing scheme?","body":"Did you sign your APK with v2 signing scheme?"},{"owner":{"account_id":1053909,"reputation":10337,"user_id":1057052,"accept_rate":72,"display_name":"Jose A"},"score":0,"creation_date":1651060632,"post_id":72020283,"comment_id":127271460,"body_markdown":"@Pierre Thanks! I don&#39;t know! How can I check that? The workspace that I&#39;m currently using wasn&#39;t created by me.","body":"@Pierre Thanks! I don&#39;t know! How can I check that? The workspace that I&#39;m currently using wasn&#39;t created by me."}],"answers":[{"tags":[],"owner":{"account_id":1053909,"reputation":10337,"user_id":1057052,"accept_rate":72,"display_name":"Jose A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651080113,"creation_date":1651080113,"answer_id":72032935,"question_id":72020283,"body_markdown":"The problem was in the merged `AndroidManifest.xml` that resided in the generated `.apk` had several `&lt;activity&gt;` tags that did not included the  `android:exported=&quot;true|false&quot;` values. These tags were *not shown* in expo&#39;s `AndroidManifest.xml`, and had to be overriden. \r\n\r\nOne of the main culprits was the Expo dev server. \r\n\r\nYou need to include an override in the `android/app/src/main/AndroidManifest.xml` (To be honest I didn&#39;t know how to include it in the `/android/app/src/debug` folder):\r\n\r\nHere&#39;s an example on how you do that\r\n\r\n```xml\r\n  &lt;application android:name=&quot;.MainApplication&quot; android:label=&quot;@string/app_name&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:roundIcon=&quot;@mipmap/ic_launcher_round&quot; android:allowBackup=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot; android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.ENABLED&quot; android:value=&quot;true&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_SDK_VERSION&quot; android:value=&quot;44.0.0&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATES_CHECK_ON_LAUNCH&quot; android:value=&quot;ALWAYS&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATES_LAUNCH_WAIT_MS&quot; android:value=&quot;0&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATE_URL&quot; android:value=&quot;/&gt;\r\n    &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;true&quot; android:label=&quot;@string/app_name&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot; android:launchMode=&quot;singleTask&quot; android:windowSoftInputMode=&quot;adjustResize&quot; android:theme=&quot;@style/Theme.App.SplashScreen&quot; android:screenOrientation=&quot;portrait&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;! -- omitted just for reference --&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n&lt;!-- These are the culprits --&gt;\r\n&lt;!-- Include these --&gt;\r\n    &lt;activity android:name=&quot;expo.modules.devlauncher.launcher.DevLauncherActivity&quot; android:exported=&quot;true&quot;/&gt;\r\n    &lt;activity android:name=&quot;expo.modules.devlauncher.launcher.errors.DevLauncherErrorActivity&quot; android:exported=&quot;true&quot;/&gt;\r\n    &lt;activity android:name=&quot;com.facebook.react.devsupport.DevSettingsActivity&quot; android:exported=&quot;false&quot;/&gt;\r\n    &lt;activity android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot; android:exported=&quot;false&quot;/&gt;\r\n&lt;!-- Intercom is a specific package that I&#39;m using --&gt;\r\n    &lt;activity android:name=&quot;io.intercom.android.sdk.helpcenter.collections.IntercomHelpCenterActivity&quot; android:exported=&quot;false&quot;/&gt;\r\n    &lt;activity android:name=&quot;com.intercom.input.gallery.GalleryInputFullScreenActivity&quot; android:exported=&quot;false&quot;/&gt;\r\n    &lt;activity android:name=&quot;com.intercom.input.gallery.GalleryLightBoxActivity&quot; android:exported=&quot;false&quot;/&gt;\r\n  &lt;/application&gt;\r\n```\r\n\r\nIn addition, if your application won&#39;t install, is because there may be other tags that need further updates. To check, do the following:\r\n\r\n1) Download [Android Studio](https://developer.android.com/studio)\r\n2) Create an empty project or open an existing one\r\n3) Go to the Build Tab -&gt; Analyze APK -&gt; Select your expo `.apk`\r\n4) Open `AndroidManifest.xml` and analyze wether all the `&lt;activity&gt;` `&lt;service&gt;` `&lt;provider&gt;` tags have the `android:exported=&quot;true&quot;` included.\r\n\r\nIf you&#39;ve seen any of them that have not been included, you will need to override them in the `AndroidManifest.xml` within the `src/main` (in case you want to apply it for all the builds - e.g dev, staging, production).\r\n\r\n5) You override them by including them INSIDE the `&lt;application&gt;` tag, specify the `name` attribute, and include `android:exported=&quot;true&quot;` (or false).\r\n\r\nEx:\r\n\r\n```\r\n &lt;activity android:name=&quot;expo.modules.devlauncher.launcher.DevLauncherActivity&quot; android:exported=&quot;true&quot;/&gt;\r\n```\r\n\r\nOmit all the other attributes and/or children, they will not be removed.\r\n","title":"Expo - There was a problem parsing the package Android 12 - S10e","body":"<p>The problem was in the merged <code>AndroidManifest.xml</code> that resided in the generated <code>.apk</code> had several <code>&lt;activity&gt;</code> tags that did not included the  <code>android:exported=&quot;true|false&quot;</code> values. These tags were <em>not shown</em> in expo's <code>AndroidManifest.xml</code>, and had to be overriden.</p>\n<p>One of the main culprits was the Expo dev server.</p>\n<p>You need to include an override in the <code>android/app/src/main/AndroidManifest.xml</code> (To be honest I didn't know how to include it in the <code>/android/app/src/debug</code> folder):</p>\n<p>Here's an example on how you do that</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;application android:name=&quot;.MainApplication&quot; android:label=&quot;@string/app_name&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:roundIcon=&quot;@mipmap/ic_launcher_round&quot; android:allowBackup=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot; android:usesCleartextTraffic=&quot;true&quot;&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.ENABLED&quot; android:value=&quot;true&quot;/&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_SDK_VERSION&quot; android:value=&quot;44.0.0&quot;/&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATES_CHECK_ON_LAUNCH&quot; android:value=&quot;ALWAYS&quot;/&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATES_LAUNCH_WAIT_MS&quot; android:value=&quot;0&quot;/&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATE_URL&quot; android:value=&quot;/&gt;\n    &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;true&quot; android:label=&quot;@string/app_name&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot; android:launchMode=&quot;singleTask&quot; android:windowSoftInputMode=&quot;adjustResize&quot; android:theme=&quot;@style/Theme.App.SplashScreen&quot; android:screenOrientation=&quot;portrait&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n      &lt;/intent-filter&gt;\n      &lt;intent-filter&gt;\n        &lt;! -- omitted just for reference --&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n&lt;!-- These are the culprits --&gt;\n&lt;!-- Include these --&gt;\n    &lt;activity android:name=&quot;expo.modules.devlauncher.launcher.DevLauncherActivity&quot; android:exported=&quot;true&quot;/&gt;\n    &lt;activity android:name=&quot;expo.modules.devlauncher.launcher.errors.DevLauncherErrorActivity&quot; android:exported=&quot;true&quot;/&gt;\n    &lt;activity android:name=&quot;com.facebook.react.devsupport.DevSettingsActivity&quot; android:exported=&quot;false&quot;/&gt;\n    &lt;activity android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot; android:exported=&quot;false&quot;/&gt;\n&lt;!-- Intercom is a specific package that I'm using --&gt;\n    &lt;activity android:name=&quot;io.intercom.android.sdk.helpcenter.collections.IntercomHelpCenterActivity&quot; android:exported=&quot;false&quot;/&gt;\n    &lt;activity android:name=&quot;com.intercom.input.gallery.GalleryInputFullScreenActivity&quot; android:exported=&quot;false&quot;/&gt;\n    &lt;activity android:name=&quot;com.intercom.input.gallery.GalleryLightBoxActivity&quot; android:exported=&quot;false&quot;/&gt;\n  &lt;/application&gt;\n</code></pre>\n<p>In addition, if your application won't install, is because there may be other tags that need further updates. To check, do the following:</p>\n<ol>\n<li>Download <a href=\"https://developer.android.com/studio\" rel=\"nofollow noreferrer\">Android Studio</a></li>\n<li>Create an empty project or open an existing one</li>\n<li>Go to the Build Tab -&gt; Analyze APK -&gt; Select your expo <code>.apk</code></li>\n<li>Open <code>AndroidManifest.xml</code> and analyze wether all the <code>&lt;activity&gt;</code> <code>&lt;service&gt;</code> <code>&lt;provider&gt;</code> tags have the <code>android:exported=&quot;true&quot;</code> included.</li>\n</ol>\n<p>If you've seen any of them that have not been included, you will need to override them in the <code>AndroidManifest.xml</code> within the <code>src/main</code> (in case you want to apply it for all the builds - e.g dev, staging, production).</p>\n<ol start=\"5\">\n<li>You override them by including them INSIDE the <code>&lt;application&gt;</code> tag, specify the <code>name</code> attribute, and include <code>android:exported=&quot;true&quot;</code> (or false).</li>\n</ol>\n<p>Ex:</p>\n<pre><code> &lt;activity android:name=&quot;expo.modules.devlauncher.launcher.DevLauncherActivity&quot; android:exported=&quot;true&quot;/&gt;\n</code></pre>\n<p>Omit all the other attributes and/or children, they will not be removed.</p>\n"}],"owner":{"account_id":1053909,"reputation":10337,"user_id":1057052,"accept_rate":72,"display_name":"Jose A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651080113,"creation_date":1651005623,"question_id":72020283,"body_markdown":"I&#39;ve been diving around StackOverflow, Medium, and some Google, but haven&#39;t found the solution yet. \r\n\r\nI&#39;m currently using an ejected Expo App. I need to upgrade the `compileSdkVersion` and `targetSdkVersion` to 31 as [Intercom](https://github.com/intercom/intercom-react-native) currently needs it.\r\n\r\nWhile everything else remains the same, once I change the `compileSdkVersion` and `targetSdkVersion` to the aforementioned values and download the compiled .apk `eas build --profile development --platform android` I get hit in my S10e (Android 12) with `There was a problem parsing the package.`\r\n\r\nI&#39;ve tried running it on an Android 9 emulator and it fails as well. Nonetheless, a Samsung Galaxy S10 with Android 11 runs it well. \r\n\r\nIf I downgrade the version to 30, the project resumes and it runs well again. \r\n\r\n\r\nI&#39;ve researched all these links (and more)\r\n\r\n* https://stackoverflow.com/questions/70620015/cant-install-app-from-playstore-for-android-12-targetsdk-31\r\n* https://stackoverflow.com/questions/71825904/apk-install-failed-on-android-12\r\n* https://medium.com/@lewwybogus/fixing-there-was-a-problem-while-parsing-the-package-on-android-12-d62365d5a8b\r\n* https://stackoverflow.com/questions/27458207/what-is-the-use-of-androidexported-true-in-broadcastreceiver\r\n* https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12\r\n* https://stackoverflow.com/questions/71008537/android-12-api-level-31-cant-start-exoplayer-from-the-service\r\n* https://stackoverflow.com/questions/48112493/parse-error-there-is-a-issue-while-parsing-the-package-in-marshmallow\r\n\r\n\r\nFrom what I&#39;ve gathered, I need to update the `&lt;application&gt;` and `&lt;service&gt;`s tags with `android:exported=&quot;true&quot;` accordingly. \r\n\r\nI did that, but the .apk is still uninstallable on my device.\r\n\r\nHere&#39;s the `AndroidManifest.xml` from `src/main`\r\n\r\n```xml\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;app.omitted&quot;&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.USE_BIOMETRIC&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.USE_FINGERPRINT&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n  &lt;queries&gt;\r\n    &lt;intent&gt;\r\n      &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n      &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n      &lt;data android:scheme=&quot;https&quot;/&gt;\r\n    &lt;/intent&gt;\r\n  &lt;/queries&gt;\r\n  &lt;application android:name=&quot;.MainApplication&quot; android:label=&quot;@string/app_name&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:roundIcon=&quot;@mipmap/ic_launcher_round&quot; android:allowBackup=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot; android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.ENABLED&quot; android:value=&quot;true&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_SDK_VERSION&quot; android:value=&quot;44.0.0&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATES_CHECK_ON_LAUNCH&quot; android:value=&quot;ALWAYS&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATES_LAUNCH_WAIT_MS&quot; android:value=&quot;0&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATE_URL&quot; android:value=&quot;https://exp.host/omitted&quot;/&gt;\r\n    &lt;activity android:name=&quot;.MainActivity&quot; android:label=&quot;@string/app_name&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot; android:launchMode=&quot;singleTask&quot; android:windowSoftInputMode=&quot;adjustResize&quot; android:theme=&quot;@style/Theme.App.SplashScreen&quot; android:screenOrientation=&quot;portrait&quot; android:exported=&quot;true&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n        &lt;data android:scheme=&quot;app.pana&quot;/&gt;\r\n        &lt;data android:scheme=&quot;exp+pana&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity android:name=&quot;com.facebook.react.devsupport.DevSettingsActivity&quot; android:exported=&quot;true&quot;/&gt;\r\n    &lt;activity android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot; android:theme=&quot;@style/Base.Theme.AppCompat&quot; android:exported=&quot;true&quot;/&gt;\r\n  &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\neas.json\r\n```json\r\n{\r\n    &quot;cli&quot;: {\r\n        &quot;version&quot;: &quot;&gt;= 0.47.0&quot;\r\n    },\r\n    &quot;build&quot;: {\r\n        &quot;development&quot;: {\r\n            &quot;developmentClient&quot;: true,\r\n            &quot;distribution&quot;: &quot;internal&quot;,\r\n            &quot;android&quot;: {\r\n                &quot;image&quot;: &quot;ubuntu-18.04-jdk-11-ndk-r19c&quot;\r\n            }\r\n        },\r\n        &quot;preview&quot;: {\r\n            &quot;distribution&quot;: &quot;internal&quot;\r\n        },\r\n        &quot;production&quot;: {}\r\n    },\r\n    &quot;submit&quot;: {\r\n        &quot;production&quot;: {}\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s part of the build.gradle:\r\n```gradle\r\n\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;31.0.0&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 31\r\n        targetSdkVersion = 31\r\n    }\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle:4.1.0&quot;)\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../android&quot;))\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;jsc-android/package.json&#39;)&quot;].execute(null, rootDir).text.trim(), &quot;../dist&quot;))\r\n        }\r\n\r\n        google()\r\n        mavenCentral()\r\n        jcenter()\r\n        maven { url &#39;https://www.jitpack.io&#39; }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI don&#39;t know what else to do. Any ideas?\r\n\r\n","title":"Expo - There was a problem parsing the package Android 12 - S10e","body":"<p>I've been diving around StackOverflow, Medium, and some Google, but haven't found the solution yet.</p>\n<p>I'm currently using an ejected Expo App. I need to upgrade the <code>compileSdkVersion</code> and <code>targetSdkVersion</code> to 31 as <a href=\"https://github.com/intercom/intercom-react-native\" rel=\"nofollow noreferrer\">Intercom</a> currently needs it.</p>\n<p>While everything else remains the same, once I change the <code>compileSdkVersion</code> and <code>targetSdkVersion</code> to the aforementioned values and download the compiled .apk <code>eas build --profile development --platform android</code> I get hit in my S10e (Android 12) with <code>There was a problem parsing the package.</code></p>\n<p>I've tried running it on an Android 9 emulator and it fails as well. Nonetheless, a Samsung Galaxy S10 with Android 11 runs it well.</p>\n<p>If I downgrade the version to 30, the project resumes and it runs well again.</p>\n<p>I've researched all these links (and more)</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/70620015/cant-install-app-from-playstore-for-android-12-targetsdk-31\">Cant install app from PlayStore for Android 12 targetSDK 31</a></li>\n<li><a href=\"https://stackoverflow.com/questions/71825904/apk-install-failed-on-android-12\">apk install failed on android 12</a></li>\n<li><a href=\"https://medium.com/@lewwybogus/fixing-there-was-a-problem-while-parsing-the-package-on-android-12-d62365d5a8b\" rel=\"nofollow noreferrer\">https://medium.com/@lewwybogus/fixing-there-was-a-problem-while-parsing-the-package-on-android-12-d62365d5a8b</a></li>\n<li><a href=\"https://stackoverflow.com/questions/27458207/what-is-the-use-of-androidexported-true-in-broadcastreceiver\">What is the use of android:exported=&quot;true&quot; in BroadcastReceiver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12\">Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/71008537/android-12-api-level-31-cant-start-exoplayer-from-the-service\">Android 12 (API level 31) can&#39;t start ExoPlayer from the service</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48112493/parse-error-there-is-a-issue-while-parsing-the-package-in-marshmallow\">Parse error: there is a issue while parsing the package in marshmallow</a></li>\n</ul>\n<p>From what I've gathered, I need to update the <code>&lt;application&gt;</code> and <code>&lt;service&gt;</code>s tags with <code>android:exported=&quot;true&quot;</code> accordingly.</p>\n<p>I did that, but the .apk is still uninstallable on my device.</p>\n<p>Here's the <code>AndroidManifest.xml</code> from <code>src/main</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;app.omitted&quot;&gt;\n  &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.USE_BIOMETRIC&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.USE_FINGERPRINT&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot;/&gt;\n  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n  &lt;queries&gt;\n    &lt;intent&gt;\n      &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\n      &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n      &lt;data android:scheme=&quot;https&quot;/&gt;\n    &lt;/intent&gt;\n  &lt;/queries&gt;\n  &lt;application android:name=&quot;.MainApplication&quot; android:label=&quot;@string/app_name&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:roundIcon=&quot;@mipmap/ic_launcher_round&quot; android:allowBackup=&quot;true&quot; android:theme=&quot;@style/AppTheme&quot; android:usesCleartextTraffic=&quot;true&quot;&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.ENABLED&quot; android:value=&quot;true&quot;/&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_SDK_VERSION&quot; android:value=&quot;44.0.0&quot;/&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATES_CHECK_ON_LAUNCH&quot; android:value=&quot;ALWAYS&quot;/&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATES_LAUNCH_WAIT_MS&quot; android:value=&quot;0&quot;/&gt;\n    &lt;meta-data android:name=&quot;expo.modules.updates.EXPO_UPDATE_URL&quot; android:value=&quot;https://exp.host/omitted&quot;/&gt;\n    &lt;activity android:name=&quot;.MainActivity&quot; android:label=&quot;@string/app_name&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize|uiMode&quot; android:launchMode=&quot;singleTask&quot; android:windowSoftInputMode=&quot;adjustResize&quot; android:theme=&quot;@style/Theme.App.SplashScreen&quot; android:screenOrientation=&quot;portrait&quot; android:exported=&quot;true&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n      &lt;/intent-filter&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\n        &lt;data android:scheme=&quot;app.pana&quot;/&gt;\n        &lt;data android:scheme=&quot;exp+pana&quot;/&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=&quot;com.facebook.react.devsupport.DevSettingsActivity&quot; android:exported=&quot;true&quot;/&gt;\n    &lt;activity android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot; android:theme=&quot;@style/Base.Theme.AppCompat&quot; android:exported=&quot;true&quot;/&gt;\n  &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>eas.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;cli&quot;: {\n        &quot;version&quot;: &quot;&gt;= 0.47.0&quot;\n    },\n    &quot;build&quot;: {\n        &quot;development&quot;: {\n            &quot;developmentClient&quot;: true,\n            &quot;distribution&quot;: &quot;internal&quot;,\n            &quot;android&quot;: {\n                &quot;image&quot;: &quot;ubuntu-18.04-jdk-11-ndk-r19c&quot;\n            }\n        },\n        &quot;preview&quot;: {\n            &quot;distribution&quot;: &quot;internal&quot;\n        },\n        &quot;production&quot;: {}\n    },\n    &quot;submit&quot;: {\n        &quot;production&quot;: {}\n    }\n}\n</code></pre>\n<p>Here's part of the build.gradle:</p>\n<pre><code>\nbuildscript {\n    ext {\n        buildToolsVersion = &quot;31.0.0&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 31\n        targetSdkVersion = 31\n    }\n    repositories {\n        google()\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath(&quot;com.android.tools.build:gradle:4.1.0&quot;)\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../android&quot;))\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('jsc-android/package.json')&quot;].execute(null, rootDir).text.trim(), &quot;../dist&quot;))\n        }\n\n        google()\n        mavenCentral()\n        jcenter()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n</code></pre>\n<p>I don't know what else to do. Any ideas?</p>\n"},{"tags":["java","mysql","docker","jdbc","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651080016,"creation_date":1651080016,"answer_id":72032915,"question_id":72030685,"body_markdown":"Your service starts faster than MySql despite depends_on which does not know how to check if a container is ready to accept connections. You could implement a wait behaviour in your service Dockerfile or you could do something like this in Java:\r\n\r\n    public static void main(final String[] args) {\r\n        waitForServer(&quot;mysqldb&quot;, 3306, 10_000);\r\n    }\r\n\r\n    public static void waitForServer(String host, int port, int timeout) {\r\n        long start = System.currentTimeMillis();\r\n        while (portUnavailable(host, port)) {\r\n            System.out.println(&quot;Waiting for port to open: &quot; + port);\r\n            if (System.currentTimeMillis() - start &gt; timeout) {\r\n                throw new Error(&quot;Timeout waiting for port to open: &quot; + port);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static boolean portUnavailable(String host, int port) {\r\n        try (Socket s = new Socket(host, port)) {\r\n            return false;\r\n        } catch (Exception e) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n","title":"Docker Compose Java Application &amp; MySql Connection Problem with JDBC","body":"<p>Your service starts faster than MySql despite depends_on which does not know how to check if a container is ready to accept connections. You could implement a wait behaviour in your service Dockerfile or you could do something like this in Java:</p>\n<pre><code>public static void main(final String[] args) {\n    waitForServer(&quot;mysqldb&quot;, 3306, 10_000);\n}\n\npublic static void waitForServer(String host, int port, int timeout) {\n    long start = System.currentTimeMillis();\n    while (portUnavailable(host, port)) {\n        System.out.println(&quot;Waiting for port to open: &quot; + port);\n        if (System.currentTimeMillis() - start &gt; timeout) {\n            throw new Error(&quot;Timeout waiting for port to open: &quot; + port);\n        }\n    }\n}\n\nprivate static boolean portUnavailable(String host, int port) {\n    try (Socket s = new Socket(host, port)) {\n        return false;\n    } catch (Exception e) {\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25116841,"reputation":11,"user_id":18965761,"display_name":"programmer_13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651080016,"creation_date":1651070368,"question_id":72030685,"body_markdown":"When implementing a Java application in a docker container and a MySQL database configured in its own docker container together with Docker Compose, the following error always occurs in the Java application when creating a connection to the database with jdbc:\r\n    \r\n    currency_server_v0_1  | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n        currency_server_v0_1  |\r\n        currency_server_v0_1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        currency_server_v0_1  |         at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n        currency_server_v0_1  |         at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n        currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836)\r\n        currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456)\r\n        currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)\r\n        currency_server_v0_1  |         at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:197)\r\n        currency_server_v0_1  |         at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n        currency_server_v0_1  |         at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n        currency_server_v0_1  |         at Test.main(Test.java:22)\r\n        currency_server_v0_1  | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n        currency_server_v0_1  |\r\n        currency_server_v0_1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        currency_server_v0_1  |         at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        currency_server_v0_1  |         at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n        currency_server_v0_1  |         at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        currency_server_v0_1  |         at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        currency_server_v0_1  |         at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        currency_server_v0_1  |         at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n        currency_server_v0_1  |         at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\r\n        currency_server_v0_1  |         at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\r\n        currency_server_v0_1  |         at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\r\n        currency_server_v0_1  |         at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91)\r\n        currency_server_v0_1  |         at com.mysql.cj.NativeSession.connect(NativeSession.java:144)\r\n        currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:956)\r\n        currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:826)\r\n        currency_server_v0_1  |         ... 6 more\r\n        currency_server_v0_1  | Caused by: java.net.ConnectException: Connection refused\r\n        currency_server_v0_1  |         at java.base/sun.nio.ch.Net.connect0(Native Method)\r\n        currency_server_v0_1  |         at java.base/sun.nio.ch.Net.connect(Net.java:576)\r\n        currency_server_v0_1  |         at java.base/sun.nio.ch.Net.connect(Net.java:565)\r\n        currency_server_v0_1  |         at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n        currency_server_v0_1  |         at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)\r\n        currency_server_v0_1  |         at java.base/java.net.Socket.connect(Socket.java:645)\r\n        currency_server_v0_1  |         at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)\r\n        currency_server_v0_1  |         at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65)\r\n        currency_server_v0_1  |         ... 9 more\r\n        currency_server_v0_currency_server_v0_1 exited with code 0\r\n\r\nThe corresponding Docker files and Java code look like this:\r\ndocker-compose.yml:\r\n    version: &quot;3.7&quot;\r\n    \r\n    services:\r\n      currency_server_v0:\r\n        build: .\r\n        ports:\r\n          - 8080:8080\r\n        depends_on:\r\n          - mysqldb\r\n        networks:\r\n          currency-mysql:\r\n    \r\n      mysqldb:\r\n        image: mysql:5.7\r\n        container_name: mysqldb\r\n        ports:\r\n          - 3306:3306\r\n        networks:\r\n          currency-mysql:\r\n        volumes:\r\n          - db:/var/lib/mysql\r\n        environment:\r\n          - MYSQL_ROOT_PASSWORD=root\r\n          - MYSQL_DATABASE=currency_server_db\r\n          - MYSQL_USER= admin\r\n          - MYSQL_PASSWORD= admin\r\n    volumes:\r\n      db:\r\n    networks:\r\n      currency-mysql:\r\n\r\nJDBC Connection in Java:\r\n\r\n    try (Connection conn = DriverManager.getConnection(\r\n            &quot;jdbc:mysql://mysqldb:3306/currency_server_db&quot;, &quot;root&quot;, &quot;root&quot;);\r\n         Statement stmt = conn.createStatement();\r\n    ) {\r\n        String sql = &quot;CREATE TABLE TEST &quot; +\r\n                &quot;(id INTEGER not NULL, &quot; +\r\n                &quot; PRIMARY KEY ( id ))&quot;;\r\n\r\n        stmt.executeUpdate(sql);\r\n        System.out.println(&quot;Created table in given database...&quot;);\r\n    } catch (SQLException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nDockerfile:\r\n\r\n    FROM openjdk:16-alpine3.13\r\n    COPY target/currency_server_v0-1.0-SNAPSHOT-jar-with-dependencies.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\r\n\r\nDoes anyone have or know this problem?\r\nThanks for your answers.\r\n","title":"Docker Compose Java Application &amp; MySql Connection Problem with JDBC","body":"<p>When implementing a Java application in a docker container and a MySQL database configured in its own docker container together with Docker Compose, the following error always occurs in the Java application when creating a connection to the database with jdbc:</p>\n<pre><code>currency_server_v0_1  | com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n    currency_server_v0_1  |\n    currency_server_v0_1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    currency_server_v0_1  |         at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    currency_server_v0_1  |         at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836)\n    currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456)\n    currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246)\n    currency_server_v0_1  |         at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:197)\n    currency_server_v0_1  |         at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    currency_server_v0_1  |         at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    currency_server_v0_1  |         at Test.main(Test.java:22)\n    currency_server_v0_1  | Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n    currency_server_v0_1  |\n    currency_server_v0_1  | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    currency_server_v0_1  |         at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    currency_server_v0_1  |         at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    currency_server_v0_1  |         at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    currency_server_v0_1  |         at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    currency_server_v0_1  |         at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    currency_server_v0_1  |         at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n    currency_server_v0_1  |         at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)\n    currency_server_v0_1  |         at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)\n    currency_server_v0_1  |         at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)\n    currency_server_v0_1  |         at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91)\n    currency_server_v0_1  |         at com.mysql.cj.NativeSession.connect(NativeSession.java:144)\n    currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:956)\n    currency_server_v0_1  |         at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:826)\n    currency_server_v0_1  |         ... 6 more\n    currency_server_v0_1  | Caused by: java.net.ConnectException: Connection refused\n    currency_server_v0_1  |         at java.base/sun.nio.ch.Net.connect0(Native Method)\n    currency_server_v0_1  |         at java.base/sun.nio.ch.Net.connect(Net.java:576)\n    currency_server_v0_1  |         at java.base/sun.nio.ch.Net.connect(Net.java:565)\n    currency_server_v0_1  |         at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    currency_server_v0_1  |         at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333)\n    currency_server_v0_1  |         at java.base/java.net.Socket.connect(Socket.java:645)\n    currency_server_v0_1  |         at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155)\n    currency_server_v0_1  |         at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65)\n    currency_server_v0_1  |         ... 9 more\n    currency_server_v0_currency_server_v0_1 exited with code 0\n</code></pre>\n<p>The corresponding Docker files and Java code look like this:\ndocker-compose.yml:\nversion: &quot;3.7&quot;</p>\n<pre><code>services:\n  currency_server_v0:\n    build: .\n    ports:\n      - 8080:8080\n    depends_on:\n      - mysqldb\n    networks:\n      currency-mysql:\n\n  mysqldb:\n    image: mysql:5.7\n    container_name: mysqldb\n    ports:\n      - 3306:3306\n    networks:\n      currency-mysql:\n    volumes:\n      - db:/var/lib/mysql\n    environment:\n      - MYSQL_ROOT_PASSWORD=root\n      - MYSQL_DATABASE=currency_server_db\n      - MYSQL_USER= admin\n      - MYSQL_PASSWORD= admin\nvolumes:\n  db:\nnetworks:\n  currency-mysql:\n</code></pre>\n<p>JDBC Connection in Java:</p>\n<pre><code>try (Connection conn = DriverManager.getConnection(\n        &quot;jdbc:mysql://mysqldb:3306/currency_server_db&quot;, &quot;root&quot;, &quot;root&quot;);\n     Statement stmt = conn.createStatement();\n) {\n    String sql = &quot;CREATE TABLE TEST &quot; +\n            &quot;(id INTEGER not NULL, &quot; +\n            &quot; PRIMARY KEY ( id ))&quot;;\n\n    stmt.executeUpdate(sql);\n    System.out.println(&quot;Created table in given database...&quot;);\n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk:16-alpine3.13\nCOPY target/currency_server_v0-1.0-SNAPSHOT-jar-with-dependencies.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>Does anyone have or know this problem?\nThanks for your answers.</p>\n"},{"tags":["java","methods"],"answers":[{"tags":[],"owner":{"account_id":213792,"reputation":4694,"user_id":467379,"accept_rate":75,"display_name":"ncmathsadist"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651078857,"creation_date":1651078857,"answer_id":72032699,"question_id":72032656,"body_markdown":"Java does not allow nesting of methods of this sort.  You can have lambdas inside of a method but you can&#39;t define a full method inside of a method.  This is an important difference for Pythonistas to know.","title":"Can you define methods in the main &#39;public static void main(String[] args)&#39; method in Java?","body":"<p>Java does not allow nesting of methods of this sort.  You can have lambdas inside of a method but you can't define a full method inside of a method.  This is an important difference for Pythonistas to know.</p>\n"}],"owner":{"account_id":25117935,"reputation":1,"user_id":18966694,"display_name":"gooseOnTheLoose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1651079384,"answer_count":1,"score":-1,"last_activity_date":1651079716,"creation_date":1651078680,"question_id":72032656,"body_markdown":"I&#39;m new to Java and have been practising programming within the Eclipse IDE. I have the following code:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tpublic double absoluteValue(double n) {\r\n\t\t\tif (n &lt; 0) {\r\n\t\t\t\treturn -n;\r\n\t\t\t} else {\r\n\t\t\t\treturn n;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(absoluteValue(-5));\r\n\t}\r\n\r\nI tried to create a method `absoluteValue()` which returns absolute values. However, Eclipse threw a bunch of errors at me.\r\n\r\nI managed to get my code to work when I *defined* `absoluteValue()` *outside of the main method* (had to define it as `public static double absoluteValue(double n)` though) and *called it within the main method*.\r\n\r\nBut I was just wondering why the above code doesn&#39;t work. Can you define methods within the main method (if so, should you)?\r\n\r\n","title":"Can you define methods in the main &#39;public static void main(String[] args)&#39; method in Java?","body":"<p>I'm new to Java and have been practising programming within the Eclipse IDE. I have the following code:</p>\n<pre><code>public static void main(String[] args) {\n    \n    public double absoluteValue(double n) {\n        if (n &lt; 0) {\n            return -n;\n        } else {\n            return n;\n        }\n    }\n    \n    System.out.println(absoluteValue(-5));\n}\n</code></pre>\n<p>I tried to create a method <code>absoluteValue()</code> which returns absolute values. However, Eclipse threw a bunch of errors at me.</p>\n<p>I managed to get my code to work when I <em>defined</em> <code>absoluteValue()</code> <em>outside of the main method</em> (had to define it as <code>public static double absoluteValue(double n)</code> though) and <em>called it within the main method</em>.</p>\n<p>But I was just wondering why the above code doesn't work. Can you define methods within the main method (if so, should you)?</p>\n"},{"tags":["java","augmented-reality","arcore","sceneform"],"comments":[{"owner":{"account_id":5081157,"reputation":4542,"user_id":4077205,"display_name":"Clayton Wilkinson"},"score":0,"creation_date":1593453914,"post_id":62502484,"comment_id":110781593,"body_markdown":"What material are you using on your model? Materials usually are &quot;lit&quot; or &quot;unlit&quot; meaning the shader that is used to render the model uses light information when calculating the colors. If your model is using a material that does not use lighting information, adding the light will make no difference.","body":"What material are you using on your model? Materials usually are &quot;lit&quot; or &quot;unlit&quot; meaning the shader that is used to render the model uses light information when calculating the colors. If your model is using a material that does not use lighting information, adding the light will make no difference."},{"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"score":0,"creation_date":1593562708,"post_id":62502484,"comment_id":110823741,"body_markdown":"I&#39;m not sure if the Material is lit or unlit. In my assets folder, the ```.sfb``` file for the model doesn&#39;t have a key named lit or unlit. But what I&#39;ve noticed is, the default sun node in the Scene lights up my 3D model otherwise it&#39;s dark in the Android Studio 3D viewer. I&#39;m now trying to add an additional light node (FOCUSED_SPOTLIGHT), but that doesn&#39;t make a difference to the rendered model.","body":"I&#39;m not sure if the Material is lit or unlit. In my assets folder, the <code>.sfb</code> file for the model doesn&#39;t have a key named lit or unlit. But what I&#39;ve noticed is, the default sun node in the Scene lights up my 3D model otherwise it&#39;s dark in the Android Studio 3D viewer. I&#39;m now trying to add an additional light node (FOCUSED_SPOTLIGHT), but that doesn&#39;t make a difference to the rendered model."},{"owner":{"account_id":5081157,"reputation":4542,"user_id":4077205,"display_name":"Clayton Wilkinson"},"score":1,"creation_date":1593636132,"post_id":62502484,"comment_id":110854000,"body_markdown":"If you haven&#39;t already, check out https://github.com/googlesamples/sceneform-samples.  there is a lighting sample in there. It is somewhat old, but i just built and ran it OK.","body":"If you haven&#39;t already, check out <a href=\"https://github.com/googlesamples/sceneform-samples\" rel=\"nofollow noreferrer\">github.com/googlesamples/sceneform-samples</a>.  there is a lighting sample in there. It is somewhat old, but i just built and ran it OK."}],"answers":[{"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651079335,"creation_date":1651079335,"answer_id":72032786,"question_id":62502484,"body_markdown":"Make sure that `DIRECTIONAL` light&#39;s intensity is considerably lower than `FOCUSED_SPOTLIGHT`&#39;s intensity. A position and direction of a spotlight do matter, however a directional light is controlled by direction only (as its name suggests). If `FOCUSED_SPOTLIGHT` still doesn&#39;t work, try regular `SPOTLIGHT`.","title":"Adding a light to Sceneform node has no effect","body":"<p>Make sure that <code>DIRECTIONAL</code> light's intensity is considerably lower than <code>FOCUSED_SPOTLIGHT</code>'s intensity. A position and direction of a spotlight do matter, however a directional light is controlled by direction only (as its name suggests). If <code>FOCUSED_SPOTLIGHT</code> still doesn't work, try regular <code>SPOTLIGHT</code>.</p>\n"}],"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1651079665,"creation_date":1592762265,"question_id":62502484,"body_markdown":"I&#39;m following the google developers guide on adding Light to a Node in SceneView:\r\n\r\nhttps://developers.google.com/sceneform/develop/build-scene\r\n\r\n```\r\nLight spotLightYellow =\r\n    Light.builder(this, Light.Type.FOCUSED_SPOTLIGHT)\r\n        .setColor(new Color(android.graphics.Color.YELLOW))\r\n        .setShadowCastingEnabled(true)\r\n        .build();\r\n```\r\n\r\nHowever it doesn&#39;t seem to do anything to my rendered model.\r\n\r\nIs there anything else I&#39;m missing?\r\n\r\n```\r\n ModelRenderable.builder()\r\n                .setSource(\r\n                        this,\r\n                        Uri.parse(card)\r\n                )\r\n                .build()\r\n                .thenAccept(\r\n                        modelRenderable -&gt; {\r\n\r\n                            node.setParent(scene);\r\n                            node.setLocalPosition(vector3);\r\n                            node.setLocalScale(new Vector3(1.4f, 1.4f, 1.4f));\r\n                            node.setName(&quot;Test&quot;);\r\n\r\n                            Light light =\r\n                                   Light.builder(Light.Type.FOCUSED_SPOTLIGHT)\r\n                                   .setColor(new Color(android.graphics.Color.YELLOW))\r\n                                   .setShadowCastingEnabled(true)\r\n                                   .build();\r\n\r\n                            node.setLight(light);\r\n\r\n                            node.setRenderable(modelRenderable);\r\n\r\n\r\n                        })\r\n                .exceptionally(\r\n                        throwable -&gt; {\r\n                            Toast toast =\r\n                                    Toast.makeText(this, &quot;Unable to load Fox renderable&quot; + throwable, Toast.LENGTH_LONG);\r\n                            toast.setGravity(Gravity.CENTER, 0, 0);\r\n                            toast.show();\r\n                            return null;\r\n                        });\r\n```","title":"Adding a light to Sceneform node has no effect","body":"<p>I'm following the google developers guide on adding Light to a Node in SceneView:</p>\n<p><a href=\"https://developers.google.com/sceneform/develop/build-scene\" rel=\"noreferrer\">https://developers.google.com/sceneform/develop/build-scene</a></p>\n<pre><code>Light spotLightYellow =\n    Light.builder(this, Light.Type.FOCUSED_SPOTLIGHT)\n        .setColor(new Color(android.graphics.Color.YELLOW))\n        .setShadowCastingEnabled(true)\n        .build();\n</code></pre>\n<p>However it doesn't seem to do anything to my rendered model.</p>\n<p>Is there anything else I'm missing?</p>\n<pre><code> ModelRenderable.builder()\n                .setSource(\n                        this,\n                        Uri.parse(card)\n                )\n                .build()\n                .thenAccept(\n                        modelRenderable -&gt; {\n\n                            node.setParent(scene);\n                            node.setLocalPosition(vector3);\n                            node.setLocalScale(new Vector3(1.4f, 1.4f, 1.4f));\n                            node.setName(&quot;Test&quot;);\n\n                            Light light =\n                                   Light.builder(Light.Type.FOCUSED_SPOTLIGHT)\n                                   .setColor(new Color(android.graphics.Color.YELLOW))\n                                   .setShadowCastingEnabled(true)\n                                   .build();\n\n                            node.setLight(light);\n\n                            node.setRenderable(modelRenderable);\n\n\n                        })\n                .exceptionally(\n                        throwable -&gt; {\n                            Toast toast =\n                                    Toast.makeText(this, &quot;Unable to load Fox renderable&quot; + throwable, Toast.LENGTH_LONG);\n                            toast.setGravity(Gravity.CENTER, 0, 0);\n                            toast.show();\n                            return null;\n                        });\n</code></pre>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651078145,"post_id":72028764,"comment_id":127278634,"body_markdown":"Whether the second query works or not depends on the underlying database. Which database system and Hibernate dialect are you using?","body":"Whether the second query works or not depends on the underlying database. Which database system and Hibernate dialect are you using?"},{"owner":{"account_id":25115362,"reputation":13,"user_id":18964464,"display_name":"samedav"},"score":0,"creation_date":1651079541,"post_id":72028764,"comment_id":127279115,"body_markdown":"The underlying database is Postgres and the Hibernate version 3.3.2. We don&#39;t have a dialect specified in the codebase but logs show it as ```org.hibernate.dialect.HSQLDialect```. Seems like this could be the issue.","body":"The underlying database is Postgres and the Hibernate version 3.3.2. We don&#39;t have a dialect specified in the codebase but logs show it as <code>org.hibernate.dialect.HSQLDialect</code>. Seems like this could be the issue."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1651079661,"post_id":72028764,"comment_id":127279161,"body_markdown":"That could be the issues, also Hibernate 3.3.2 is pretty old.","body":"That could be the issues, also Hibernate 3.3.2 is pretty old."}],"owner":{"account_id":25115362,"reputation":13,"user_id":18964464,"display_name":"samedav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651079626,"creation_date":1651062628,"question_id":72028764,"body_markdown":"I&#39;m trying to query using Hibernate and running into some issues.\r\n\r\nLet&#39;s say I&#39;m trying to query the class ```StoreEntity```, which has an embedded attribute ```StoreInfo```.  ```StoreInfo``` is comprised of a Long ```StoreNumber``` and a Long ```ManagerId```. \r\n\r\nI have a ```List&lt;StoreInfo&gt;``` and I would like to return all of the associated  ```StoreEntity```. I am trying to query like this: \r\n\r\n    Criteria criteria = this.session()\r\n         .createCriteria(StoreEntity.class)\r\n         .add(Restrictions.in(&quot;storeInfo&quot;, storeInfoList));\r\n\r\nThis only returns one result, which will be the first item in the StoreInfoList. \r\n\r\nThat said, if I break the ```StoreNumber``` and ```ManagerId``` fields into separate lists and search them with a conjunction, this works correctly. \r\n\r\n    final Conjunction criterion = Restrictions.conjunction();\r\n    criterion.add(Restrictions.in(&quot;storeInfo.StoreNumber&quot;, storeNumbers));\r\n    criterion.add(Restrictions.in(&quot;storeInfo.ManagerId&quot;, managerIds));\r\n\r\n    Criteria criteria = this.session()\r\n            .createCriteria(StoreEntity.class)\r\n            .add(criterion);\r\n\r\nWhy is this? I would understand if querying an embedded attribute with an *in* clause was just outright illegal, but why does it return one item? Should I always be using a conjunction when querying an embedded attribute?\r\n\r\nI tried logging the actual queries to the console and got the following: \r\n\r\nWorking:\r\n\r\n```\r\n [junit]          from\r\n [junit]              store_entity this_ \r\n [junit]          where\r\n [junit]              (\r\n [junit]                  this_.store_number in (\r\n [junit]                      ?, ?\r\n [junit]                  ) \r\n [junit]                  and this_.manager_id in (\r\n [junit]                      ?, ?\r\n [junit]                  )\r\n [junit]              )\r\n```\r\n\r\nNon-working: \r\n```\r\n\r\n [junit]          from\r\n [junit]              store_entity this_ \r\n [junit]          where\r\n [junit]              (\r\n [junit]                  this_.store_number, this_.manager_id\r\n [junit]              ) in (\r\n [junit]                  (\r\n [junit]                      ?, ?\r\n [junit]                  ), (\r\n [junit]                      ?, ?\r\n [junit]                  )\r\n [junit]              )\r\n```\r\n\r\nSeems like those should be the same?","title":"Querying an embedded attribute in Hibernate","body":"<p>I'm trying to query using Hibernate and running into some issues.</p>\n<p>Let's say I'm trying to query the class <code>StoreEntity</code>, which has an embedded attribute <code>StoreInfo</code>.  <code>StoreInfo</code> is comprised of a Long <code>StoreNumber</code> and a Long <code>ManagerId</code>.</p>\n<p>I have a <code>List&lt;StoreInfo&gt;</code> and I would like to return all of the associated  <code>StoreEntity</code>. I am trying to query like this:</p>\n<pre><code>Criteria criteria = this.session()\n     .createCriteria(StoreEntity.class)\n     .add(Restrictions.in(&quot;storeInfo&quot;, storeInfoList));\n</code></pre>\n<p>This only returns one result, which will be the first item in the StoreInfoList.</p>\n<p>That said, if I break the <code>StoreNumber</code> and <code>ManagerId</code> fields into separate lists and search them with a conjunction, this works correctly.</p>\n<pre><code>final Conjunction criterion = Restrictions.conjunction();\ncriterion.add(Restrictions.in(&quot;storeInfo.StoreNumber&quot;, storeNumbers));\ncriterion.add(Restrictions.in(&quot;storeInfo.ManagerId&quot;, managerIds));\n\nCriteria criteria = this.session()\n        .createCriteria(StoreEntity.class)\n        .add(criterion);\n</code></pre>\n<p>Why is this? I would understand if querying an embedded attribute with an <em>in</em> clause was just outright illegal, but why does it return one item? Should I always be using a conjunction when querying an embedded attribute?</p>\n<p>I tried logging the actual queries to the console and got the following:</p>\n<p>Working:</p>\n<pre><code> [junit]          from\n [junit]              store_entity this_ \n [junit]          where\n [junit]              (\n [junit]                  this_.store_number in (\n [junit]                      ?, ?\n [junit]                  ) \n [junit]                  and this_.manager_id in (\n [junit]                      ?, ?\n [junit]                  )\n [junit]              )\n</code></pre>\n<p>Non-working:</p>\n<pre><code>\n [junit]          from\n [junit]              store_entity this_ \n [junit]          where\n [junit]              (\n [junit]                  this_.store_number, this_.manager_id\n [junit]              ) in (\n [junit]                  (\n [junit]                      ?, ?\n [junit]                  ), (\n [junit]                      ?, ?\n [junit]                  )\n [junit]              )\n</code></pre>\n<p>Seems like those should be the same?</p>\n"},{"tags":["java","spring","hibernate","jpa","transactions"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509364821,"creation_date":1400487734,"answer_id":23732936,"question_id":23732675,"body_markdown":"If you want each element to be processed in its own transaction you need to:\r\n\r\n 1. Remove `@Transactional` from `processQueue`\r\n 2. Move the `elementCanBeProcessed` logic into a separate `ElementProcessor @Component` class and annotate the `elementCanBeProcessed` with `@Transactional`\r\n 3. Call `elementProcessor.elementCanBeProcessed(element);`\r\n\r\nBecause the `elementProcessor` is a separate bean, it gets proxied by Spring, therefore calls will be intercepted by the `TransactionInterceptor`.","title":"Creating JPA session for background threads","body":"<p>If you want each element to be processed in its own transaction you need to:</p>\n\n<ol>\n<li>Remove <code>@Transactional</code> from <code>processQueue</code></li>\n<li>Move the <code>elementCanBeProcessed</code> logic into a separate <code>ElementProcessor @Component</code> class and annotate the <code>elementCanBeProcessed</code> with <code>@Transactional</code></li>\n<li>Call <code>elementProcessor.elementCanBeProcessed(element);</code></li>\n</ol>\n\n<p>Because the <code>elementProcessor</code> is a separate bean, it gets proxied by Spring, therefore calls will be intercepted by the <code>TransactionInterceptor</code>.</p>\n"},{"tags":[],"owner":{"account_id":91915,"reputation":1401,"user_id":252155,"accept_rate":50,"display_name":"Amir Moghimi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1400491255,"creation_date":1400491255,"answer_id":23734059,"question_id":23732675,"body_markdown":"I do not know of any Spring-ready solution for this. So, I think you need to implement one similar to the OpenEntityManagerInViewInterceptor class. \r\n\r\nBasically, you need to use [TransactionSynchronizationManager][1] to bindResource() an instance of [EntityManagerHolder][2] for your thread when it is started and unbindResource() when your thread is finished. \r\n\r\nThe core part of OpenEntityManagerInViewInterceptor is:\r\n\r\n\t\tif (TransactionSynchronizationManager.hasResource(getEntityManagerFactory())) {\r\n\t\t\t...\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlogger.debug(&quot;Opening JPA EntityManager in OpenEntityManagerInViewInterceptor&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tEntityManager em = createEntityManager();\r\n\t\t\t\tEntityManagerHolder emHolder = new EntityManagerHolder(em);\r\n\t\t\t\tTransactionSynchronizationManager.bindResource(getEntityManagerFactory(), emHolder);\r\n\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t\tcatch (PersistenceException ex) {\r\n\t\t\t\tthrow new DataAccessResourceFailureException(&quot;Could not create JPA EntityManager&quot;, ex);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nPlease post the code here as an answer if you implemented it.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/transaction/support/TransactionSynchronizationManager.html\r\n  [2]: http://docs.spring.io/spring/docs/3.2.8.RELEASE/javadoc-api/org/springframework/orm/jpa/EntityManagerHolder.html","title":"Creating JPA session for background threads","body":"<p>I do not know of any Spring-ready solution for this. So, I think you need to implement one similar to the OpenEntityManagerInViewInterceptor class. </p>\n\n<p>Basically, you need to use <a href=\"http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/transaction/support/TransactionSynchronizationManager.html\" rel=\"noreferrer\">TransactionSynchronizationManager</a> to bindResource() an instance of <a href=\"http://docs.spring.io/spring/docs/3.2.8.RELEASE/javadoc-api/org/springframework/orm/jpa/EntityManagerHolder.html\" rel=\"noreferrer\">EntityManagerHolder</a> for your thread when it is started and unbindResource() when your thread is finished. </p>\n\n<p>The core part of OpenEntityManagerInViewInterceptor is:</p>\n\n<pre><code>    if (TransactionSynchronizationManager.hasResource(getEntityManagerFactory())) {\n        ...\n    }\n    else {\n        logger.debug(\"Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\");\n        try {\n            EntityManager em = createEntityManager();\n            EntityManagerHolder emHolder = new EntityManagerHolder(em);\n            TransactionSynchronizationManager.bindResource(getEntityManagerFactory(), emHolder);\n\n            ...\n        }\n        catch (PersistenceException ex) {\n            throw new DataAccessResourceFailureException(\"Could not create JPA EntityManager\", ex);\n        }\n    }\n</code></pre>\n\n<p>Please post the code here as an answer if you implemented it.</p>\n"},{"tags":[],"owner":{"account_id":1559628,"reputation":3604,"user_id":1449825,"accept_rate":83,"display_name":"Paweł Chorążyk"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1400664386,"creation_date":1400664386,"answer_id":23779143,"question_id":23732675,"body_markdown":"Here is the code I wrote after reading Amir Moghimi&#39;s [answer][1].\r\nIt seems a little bit &#39;hacky&#39; because the documentation says that neither EntityManagerHolder nor TransactionSynchronizationManager should be used directly by a typical application code. \r\n\r\n    @Service\r\n    public class DatabaseSessionManager {\r\n    \r\n    \t@PersistenceUnit\r\n    \tprivate EntityManagerFactory entityManagerFactory;\r\n    \r\n    \tpublic void bindSession() {\r\n    \t\tif (!TransactionSynchronizationManager.hasResource(entityManagerFactory)) {\r\n    \t\t\tEntityManager entityManager = entityManagerFactory.createEntityManager();\r\n    \t\t\tTransactionSynchronizationManager.bindResource(entityManagerFactory, new EntityManagerHolder(entityManager));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void unbindSession() {\r\n    \t\tEntityManagerHolder emHolder = (EntityManagerHolder) TransactionSynchronizationManager\r\n    \t\t\t\t.unbindResource(entityManagerFactory);\r\n    \t\tEntityManagerFactoryUtils.closeEntityManager(emHolder.getEntityManager());\r\n    \t}\r\n    }\r\n\r\nIt seems to be working - the session is bound to my thread between `bindSession()` and `unbindSession()` calls and I don&#39;t have to create a transaction to achieve it. \r\n\r\n[1]: https://stackoverflow.com/a/23734059/1449825\r\n\r\n\r\n","title":"Creating JPA session for background threads","body":"<p>Here is the code I wrote after reading Amir Moghimi's <a href=\"https://stackoverflow.com/a/23734059/1449825\">answer</a>.\nIt seems a little bit 'hacky' because the documentation says that neither EntityManagerHolder nor TransactionSynchronizationManager should be used directly by a typical application code. </p>\n\n<pre><code>@Service\npublic class DatabaseSessionManager {\n\n    @PersistenceUnit\n    private EntityManagerFactory entityManagerFactory;\n\n    public void bindSession() {\n        if (!TransactionSynchronizationManager.hasResource(entityManagerFactory)) {\n            EntityManager entityManager = entityManagerFactory.createEntityManager();\n            TransactionSynchronizationManager.bindResource(entityManagerFactory, new EntityManagerHolder(entityManager));\n        }\n    }\n\n    public void unbindSession() {\n        EntityManagerHolder emHolder = (EntityManagerHolder) TransactionSynchronizationManager\n                .unbindResource(entityManagerFactory);\n        EntityManagerFactoryUtils.closeEntityManager(emHolder.getEntityManager());\n    }\n}\n</code></pre>\n\n<p>It seems to be working - the session is bound to my thread between <code>bindSession()</code> and <code>unbindSession()</code> calls and I don't have to create a transaction to achieve it. </p>\n"},{"tags":[],"owner":{"account_id":201308,"reputation":1020,"user_id":447672,"display_name":"adlerer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519419565,"creation_date":1519419565,"answer_id":48956130,"question_id":23732675,"body_markdown":"Avoid long-running transactions across task, so that transactions are small and less likely to conflict/rollback. Here is what I did relying on JPA without JTA and @Transactional:\r\n\r\nInject entity manager or get it from Spring context or pass it as reference:\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;    \r\n\r\nThen create a new entity manager, to avoid using a shared one:\r\n \r\n    EntityManager em = entityManager.getEntityManagerFactory().createEntityManager();\r\n\r\n\r\nNow you can start transaction and use Spring DAO, Repository, JPA, etc\r\n\r\n    private void save(EntityManager em) {\r\n\r\n        try\r\n        {         \r\n            em.getTransaction().begin();                \r\n            \r\n            &lt;your database changes&gt;\r\n\r\n            em.getTransaction().commit();                        \r\n        }\r\n        catch(Throwable th) {\r\n            em.getTransaction().rollback();\r\n            throw th;\r\n        }        \r\n    }\r\n\r\n\r\nYou will also need to provide JPA beans in your database @Configuration, but most likely you already have that.","title":"Creating JPA session for background threads","body":"<p>Avoid long-running transactions across task, so that transactions are small and less likely to conflict/rollback. Here is what I did relying on JPA without JTA and @Transactional:</p>\n\n<p>Inject entity manager or get it from Spring context or pass it as reference:</p>\n\n<pre><code>@PersistenceContext\nprivate EntityManager entityManager;    \n</code></pre>\n\n<p>Then create a new entity manager, to avoid using a shared one:</p>\n\n<pre><code>EntityManager em = entityManager.getEntityManagerFactory().createEntityManager();\n</code></pre>\n\n<p>Now you can start transaction and use Spring DAO, Repository, JPA, etc</p>\n\n<pre><code>private void save(EntityManager em) {\n\n    try\n    {         \n        em.getTransaction().begin();                \n\n        &lt;your database changes&gt;\n\n        em.getTransaction().commit();                        \n    }\n    catch(Throwable th) {\n        em.getTransaction().rollback();\n        throw th;\n    }        \n}\n</code></pre>\n\n<p>You will also need to provide JPA beans in your database @Configuration, but most likely you already have that.</p>\n"},{"tags":[],"owner":{"account_id":1494115,"reputation":655,"user_id":1400474,"display_name":"Reg Whitton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651078923,"creation_date":1651078923,"answer_id":72032718,"question_id":23732675,"body_markdown":"Building upon [Amir&#39;s][1] and [Pawel&#39;s][2] answers and the JpaTemplate idea, I created a component to fulfill the template role:\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class EntityManagerProvider {\r\n    \r\n        private final EntityManagerFactory entityManagerFactory;\r\n    \r\n        public EntityManagerProvider(EntityManagerFactory entityManagerFactory) {\r\n            this.entityManagerFactory = entityManagerFactory;\r\n        }\r\n    \r\n        /**\r\n         * Attaches a JPA {@link EntityManager} to the current thread (if none is already present).\r\n         * For use within Springboot background threads (such as ones associated with a scheduler),\r\n         * when we don&#39;t want to enclose all work within a single transaction.\r\n         *\r\n         * @param operation lambda that needs to run with a JPA session available.\r\n         */\r\n        public void withEntityManager(Operation operation) {\r\n            if (isEntityManagerBoundToThread()) {\r\n                operation.get();\r\n            } else {\r\n                withNewEntityManager(operation);\r\n            }\r\n        }\r\n    \r\n        @FunctionalInterface\r\n        public interface Operation {\r\n            void get();\r\n        }\r\n    \r\n        private boolean isEntityManagerBoundToThread() {\r\n            return TransactionSynchronizationManager.hasResource(entityManagerFactory);\r\n        }\r\n    \r\n        private void withNewEntityManager(Operation operation) {\r\n            try {\r\n                bindEntityManager();\r\n                operation.get();\r\n            } finally {\r\n                unbindEntityManager();\r\n            }\r\n        }\r\n    \r\n        private void bindEntityManager() {\r\n            EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n            TransactionSynchronizationManager.bindResource(entityManagerFactory, new EntityManagerHolder(entityManager));\r\n        }\r\n    \r\n        private void unbindEntityManager() {\r\n            try {\r\n                EntityManagerHolder holder =\r\n                        (EntityManagerHolder) TransactionSynchronizationManager.unbindResource(entityManagerFactory);\r\n                EntityManagerFactoryUtils.closeEntityManager(holder.getEntityManager());\r\n            } catch (Throwable t) {\r\n                log.error(&quot;Failed to unbind EntityManager&quot;, t);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is then used from the calling code like this:\r\n\r\n    entityManagerProvider.withEntityManager(() -&gt; {\r\n        ... code using JPA operations ...\r\n    });\r\n\r\n  [1]: https://stackoverflow.com/a/23734059/1400474\r\n  [2]: https://stackoverflow.com/a/23779143/1400474","title":"Creating JPA session for background threads","body":"<p>Building upon <a href=\"https://stackoverflow.com/a/23734059/1400474\">Amir's</a> and <a href=\"https://stackoverflow.com/a/23779143/1400474\">Pawel's</a> answers and the JpaTemplate idea, I created a component to fulfill the template role:</p>\n<pre><code>@Component\n@Slf4j\npublic class EntityManagerProvider {\n\n    private final EntityManagerFactory entityManagerFactory;\n\n    public EntityManagerProvider(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n\n    /**\n     * Attaches a JPA {@link EntityManager} to the current thread (if none is already present).\n     * For use within Springboot background threads (such as ones associated with a scheduler),\n     * when we don't want to enclose all work within a single transaction.\n     *\n     * @param operation lambda that needs to run with a JPA session available.\n     */\n    public void withEntityManager(Operation operation) {\n        if (isEntityManagerBoundToThread()) {\n            operation.get();\n        } else {\n            withNewEntityManager(operation);\n        }\n    }\n\n    @FunctionalInterface\n    public interface Operation {\n        void get();\n    }\n\n    private boolean isEntityManagerBoundToThread() {\n        return TransactionSynchronizationManager.hasResource(entityManagerFactory);\n    }\n\n    private void withNewEntityManager(Operation operation) {\n        try {\n            bindEntityManager();\n            operation.get();\n        } finally {\n            unbindEntityManager();\n        }\n    }\n\n    private void bindEntityManager() {\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n        TransactionSynchronizationManager.bindResource(entityManagerFactory, new EntityManagerHolder(entityManager));\n    }\n\n    private void unbindEntityManager() {\n        try {\n            EntityManagerHolder holder =\n                    (EntityManagerHolder) TransactionSynchronizationManager.unbindResource(entityManagerFactory);\n            EntityManagerFactoryUtils.closeEntityManager(holder.getEntityManager());\n        } catch (Throwable t) {\n            log.error(&quot;Failed to unbind EntityManager&quot;, t);\n        }\n    }\n}\n</code></pre>\n<p>This is then used from the calling code like this:</p>\n<pre><code>entityManagerProvider.withEntityManager(() -&gt; {\n    ... code using JPA operations ...\n});\n</code></pre>\n"}],"owner":{"account_id":1559628,"reputation":3604,"user_id":1449825,"accept_rate":83,"display_name":"Paweł Chorążyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3910,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":23734059,"answer_count":5,"score":8,"last_activity_date":1651078923,"creation_date":1400486864,"question_id":23732675,"body_markdown":"We use Hibernate through JPA and Spring to manage object persistence in our web application. We use open-session-in-view pattern to create sessions for threads responding to http requests. We also use some threads that are not generating views - they just wake up from time to time to do their job. That generates problems because they don&#39;t have session opened by default so they generate exceptions like \r\n\r\n    org.hibernate.SessionException: Session is closed! \r\n\r\nor\r\n\r\n     could not initialize proxy - no Session\r\n\r\nWe found out that if every background thread invokes its logic in a method annotated with `@Transactional` there are no exceptions of this kind as `@Transactional` makes sure that thread has session when it&#39;s inside the transaction.\r\n\r\nIt solved problems for some time but I don&#39;t think that it&#39;s a good solution - making long-running methods transactional causes problems because other threads can&#39;t see changes made in database until the transaction is committed. \r\n\r\nI created a java-pseudocode example to better illustrate my problem:\r\n\r\n    \r\n    public class FirstThread {\r\n    \t\r\n    \t...\r\n    \t\r\n    \t@Transactional\r\n    \tpublic void processQueue() {\r\n    \t\tfor(element : queue){\r\n    \t\t\tif(elementCanBeProcessed(element)){\r\n    \t\t\t\telementDao.saveIntoDatabase(element);\r\n    \t\t\t\tsecondThread.addToQueue(element.getId());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate boolean elementCanBeProcessed(element){\r\n    \t\t//code that gets a few objects from database and processes them\r\n    \t}\r\n    }\r\n\r\n\r\nIf I annotate the whole `processQueue` method with `@Transactional` the changes made in \r\n\r\n    elementDao.saveIntoDatabase(element);\r\n\r\nwon&#39;t be seen in `secondThread` until the transaction is committed (so until the whole queue is processed). If I don&#39;t do that then the thread won&#39;t have session inside the `elementCanBeProcessed` and it won&#39;t  be able to access the database. I also can&#39;t annotate `elementCanBeProcessed` instead because it&#39;s a private method in this class and I would have to move this into another class so that Spring proxy could work. \r\n\r\nIs it possible to bind session to thread without making the whole method transactional? How should I manage sessions and transactions in background threads like that one? \r\n","title":"Creating JPA session for background threads","body":"<p>We use Hibernate through JPA and Spring to manage object persistence in our web application. We use open-session-in-view pattern to create sessions for threads responding to http requests. We also use some threads that are not generating views - they just wake up from time to time to do their job. That generates problems because they don't have session opened by default so they generate exceptions like </p>\n\n<pre><code>org.hibernate.SessionException: Session is closed! \n</code></pre>\n\n<p>or</p>\n\n<pre><code> could not initialize proxy - no Session\n</code></pre>\n\n<p>We found out that if every background thread invokes its logic in a method annotated with <code>@Transactional</code> there are no exceptions of this kind as <code>@Transactional</code> makes sure that thread has session when it's inside the transaction.</p>\n\n<p>It solved problems for some time but I don't think that it's a good solution - making long-running methods transactional causes problems because other threads can't see changes made in database until the transaction is committed. </p>\n\n<p>I created a java-pseudocode example to better illustrate my problem:</p>\n\n<pre><code>public class FirstThread {\n\n    ...\n\n    @Transactional\n    public void processQueue() {\n        for(element : queue){\n            if(elementCanBeProcessed(element)){\n                elementDao.saveIntoDatabase(element);\n                secondThread.addToQueue(element.getId());\n            }\n        }\n    }\n\n    private boolean elementCanBeProcessed(element){\n        //code that gets a few objects from database and processes them\n    }\n}\n</code></pre>\n\n<p>If I annotate the whole <code>processQueue</code> method with <code>@Transactional</code> the changes made in </p>\n\n<pre><code>elementDao.saveIntoDatabase(element);\n</code></pre>\n\n<p>won't be seen in <code>secondThread</code> until the transaction is committed (so until the whole queue is processed). If I don't do that then the thread won't have session inside the <code>elementCanBeProcessed</code> and it won't  be able to access the database. I also can't annotate <code>elementCanBeProcessed</code> instead because it's a private method in this class and I would have to move this into another class so that Spring proxy could work. </p>\n\n<p>Is it possible to bind session to thread without making the whole method transactional? How should I manage sessions and transactions in background threads like that one? </p>\n"},{"tags":["java","spring","spring-boot","annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1651080430,"post_id":72032584,"comment_id":127279452,"body_markdown":"This sounds very much like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). What use do you think having the service name will be?","body":"This sounds very much like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What use do you think having the service name will be?"}],"answers":[{"tags":[],"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651078913,"creation_date":1651078913,"answer_id":72032715,"question_id":72032584,"body_markdown":"What about using a constant in the annotation? More info here: https://www.baeldung.com/java-annotation-attribute-value-restrictions\r\n\r\n    @Service(VoneMapper.SERVICE_NAME)\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class VoneMapper implements GenericMapper {\r\n    // Mapping code ...\r\n    \r\n        // Service name\r\n        static final String SERVICE_NAME = &quot;tr_v1_mapper&quot;;\r\n    }","title":"Access Spring Service name in the service itself","body":"<p>What about using a constant in the annotation? More info here: <a href=\"https://www.baeldung.com/java-annotation-attribute-value-restrictions\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-annotation-attribute-value-restrictions</a></p>\n<pre><code>@Service(VoneMapper.SERVICE_NAME)\n@RequiredArgsConstructor\n@Slf4j\npublic class VoneMapper implements GenericMapper {\n// Mapping code ...\n\n    // Service name\n    static final String SERVICE_NAME = &quot;tr_v1_mapper&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":24930329,"reputation":1,"user_id":18797534,"display_name":"Luffy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651078913,"creation_date":1651078276,"question_id":72032584,"body_markdown":"I am having some difficulties to do something I thought would be easy.\r\nI have a service:\r\n\r\n    @Service(&quot;tr_v1_mapper&quot;)\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class VoneMapper implements GenericMapper{\r\n    // Mapping code ...\r\n\r\n    // Service name\r\n      String serviceName = &quot;tr_v1_mapper&quot;\r\n    }\r\n\r\nBasically, I want to stock my service name in a String variable inside my class VoneMapper without harcoding it.\r\nis it something possible ?\r\nThanks by advance for your help.\r\n\r\nPM\r\n ","title":"Access Spring Service name in the service itself","body":"<p>I am having some difficulties to do something I thought would be easy.\nI have a service:</p>\n<pre><code>@Service(&quot;tr_v1_mapper&quot;)\n@RequiredArgsConstructor\n@Slf4j\npublic class VoneMapper implements GenericMapper{\n// Mapping code ...\n\n// Service name\n  String serviceName = &quot;tr_v1_mapper&quot;\n}\n</code></pre>\n<p>Basically, I want to stock my service name in a String variable inside my class VoneMapper without harcoding it.\nis it something possible ?\nThanks by advance for your help.</p>\n<p>PM</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651066045,"post_id":72029391,"comment_id":127273686,"body_markdown":"Hint: dissect your code step by step. When you don&#39;t know, what your code is doing: then PRINT more. Meaning: fetch the quantity into a local variable. Print that variable. Fetch the price into a local variable, print that. Most likely, one of those things is always 0, does * 0 gives 0, thus 0+0 stays 0.","body":"Hint: dissect your code step by step. When you don&#39;t know, what your code is doing: then PRINT more. Meaning: fetch the quantity into a local variable. Print that variable. Fetch the price into a local variable, print that. Most likely, one of those things is always 0, does * 0 gives 0, thus 0+0 stays 0."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651066090,"post_id":72029391,"comment_id":127273710,"body_markdown":"Beyond that, see [mcve]. You only gave us fragments of your code. Read that link, then [edit] your question and the missing parts.","body":"Beyond that, see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You only gave us fragments of your code. Read that link, then <a href=\"https://stackoverflow.com/posts/72029391/edit\">edit</a> your question and the missing parts."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651066278,"post_id":72029391,"comment_id":127273797,"body_markdown":"And then: assument that your productArray is actually a `List&lt;Product&gt;` ... then just iterate it using `for (Product p : productArray)` ... there is no need to use index-based for looping for lists. And then: use meaningful names: no sense in calling a LIST of products a productArray. Just call it products!","body":"And then: assument that your productArray is actually a <code>List&lt;Product&gt;</code> ... then just iterate it using <code>for (Product p : productArray)</code> ... there is no need to use index-based for looping for lists. And then: use meaningful names: no sense in calling a LIST of products a productArray. Just call it products!"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1651066635,"post_id":72029391,"comment_id":127273947,"body_markdown":"You don&#39;t need to do any casting I believe. Can you please check `productArray` has elements which contains non-zero value of `quantity` &amp; `purchasePrice`","body":"You don&#39;t need to do any casting I believe. Can you please check <code>productArray</code> has elements which contains non-zero value of <code>quantity</code> &amp; <code>purchasePrice</code>"},{"owner":{"account_id":11436381,"reputation":35,"user_id":8383668,"display_name":"Shaun"},"score":0,"creation_date":1651067813,"post_id":72029391,"comment_id":127274393,"body_markdown":"Thank you for the assistance, my code now uses the {for (Product p : productArray)} format. Will prepare a minimal reproducible example next time. The one I prepared was working, and have been troubleshooting. The answer from FreemanB solved this.","body":"Thank you for the assistance, my code now uses the {for (Product p : productArray)} format. Will prepare a minimal reproducible example next time. The one I prepared was working, and have been troubleshooting. The answer from FreemanB solved this."}],"answers":[{"tags":[],"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651065830,"creation_date":1651065830,"answer_id":72029588,"question_id":72029391,"body_markdown":"How do you pass an array to a method? \r\nIt looks like your method is working with an array without data. Initialize the array with Product objects and pass it to the method\r\n\r\nTry: \r\n      `public static void totalSpend(ArrayList&lt;Product&gt; productArray){`","title":"Java : multiply 2 elements from an arraylist","body":"<p>How do you pass an array to a method?\nIt looks like your method is working with an array without data. Initialize the array with Product objects and pass it to the method</p>\n<p>Try:\n<code>public static void totalSpend(ArrayList&lt;Product&gt; productArray){</code></p>\n"},{"tags":[],"owner":{"account_id":18195498,"reputation":51,"user_id":13240626,"display_name":"FreemanB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651066992,"creation_date":1651066992,"answer_id":72029883,"question_id":72029391,"body_markdown":"In the future, you should post more of the code to see how it ties together, but based on what you have here, I think I see the problem. The constructor for Product has a parameter for quantity, but you don&#39;t actually save that value anywhere in the constructor.( this.quantity = quantity ) Assuming that the getQuantity() returns an int stored somewhere in the Product class, it will likely just be returning the default int value of zero, resulting in the product cost always being zero no matter what else you do.","title":"Java : multiply 2 elements from an arraylist","body":"<p>In the future, you should post more of the code to see how it ties together, but based on what you have here, I think I see the problem. The constructor for Product has a parameter for quantity, but you don't actually save that value anywhere in the constructor.( this.quantity = quantity ) Assuming that the getQuantity() returns an int stored somewhere in the Product class, it will likely just be returning the default int value of zero, resulting in the product cost always being zero no matter what else you do.</p>\n"}],"owner":{"account_id":11436381,"reputation":35,"user_id":8383668,"display_name":"Shaun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651105748,"accepted_answer_id":72029883,"answer_count":2,"score":0,"last_activity_date":1651078844,"creation_date":1651065131,"question_id":72029391,"body_markdown":"How can I output the total cost of the products in the program? The output is always 0 with my program.\r\n\r\nI have an arrayList and the type is an object called Product;\r\n\r\n    static ArrayList&lt;Product&gt; productArray = new ArrayList&lt;Product&gt;();\r\n\r\nThe product constructor is;\r\n\r\n    public Product(String productName, String productLink, double purchasePrice, String purchaseDate,\r\n    \t\tString repurchaseDate, int quantity) {\r\n    \tthis.productName = productName;\r\n    \tthis.productLink = productLink;\r\n    \tthis.purchasePrice = purchasePrice;\r\n    \tthis.purchaseDate = purchaseDate;\r\n    \tthis.repurchaseDate = repurchaseDate;\r\n    }\r\n\r\nI&#39;m trying to loop through the arraylist, to out put the total cost of the products. The total cost of the products is the quantity*thePurchasePrice. The method is;\r\n\r\n\t\r\n\r\n    public static void totalSpend() {\r\n\t\t\r\n\t\tdouble productCost = 0, totalCost = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; productArray.size(); i++) {\r\n\t\t\t\r\n\t\t\tproductCost = ((double)productArray.get(i).getQuantity()) * ((double)productArray.get(i).getPurchasePrice());\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;\\nThe &quot;+productArray.get(i).getProductName()+&quot; costs &#163;&quot;+productArray.get(i).getPurchasePrice());\r\n\t\t\t\r\n\t\t\ttotalCost+= productCost;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\nThe total cost is &#163;&quot;+totalCost);\r\n\r\n\t}//methodEnd\r\n\r\nI&#39;ve tried casting productCost to a double and int, tried moving the productCost and totalCost to within the loop.\r\n","title":"Java : multiply 2 elements from an arraylist","body":"<p>How can I output the total cost of the products in the program? The output is always 0 with my program.</p>\n<p>I have an arrayList and the type is an object called Product;</p>\n<pre><code>static ArrayList&lt;Product&gt; productArray = new ArrayList&lt;Product&gt;();\n</code></pre>\n<p>The product constructor is;</p>\n<pre><code>public Product(String productName, String productLink, double purchasePrice, String purchaseDate,\n        String repurchaseDate, int quantity) {\n    this.productName = productName;\n    this.productLink = productLink;\n    this.purchasePrice = purchasePrice;\n    this.purchaseDate = purchaseDate;\n    this.repurchaseDate = repurchaseDate;\n}\n</code></pre>\n<p>I'm trying to loop through the arraylist, to out put the total cost of the products. The total cost of the products is the quantity*thePurchasePrice. The method is;</p>\n<pre><code>public static void totalSpend() {\n    \n    double productCost = 0, totalCost = 0;\n\n    for (int i = 0; i &lt; productArray.size(); i++) {\n        \n        productCost = ((double)productArray.get(i).getQuantity()) * ((double)productArray.get(i).getPurchasePrice());\n        \n        System.out.println(&quot;\\nThe &quot;+productArray.get(i).getProductName()+&quot; costs £&quot;+productArray.get(i).getPurchasePrice());\n        \n        totalCost+= productCost;\n        \n    }\n    \n    System.out.println(&quot;\\nThe total cost is £&quot;+totalCost);\n\n}//methodEnd\n</code></pre>\n<p>I've tried casting productCost to a double and int, tried moving the productCost and totalCost to within the loop.</p>\n"},{"tags":["java","list","arraylist","collections"],"comments":[{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":1,"creation_date":1487871925,"post_id":42422694,"comment_id":71991043,"body_markdown":"Creating a `List&lt;List&lt;Integer&gt;&gt;` does not instantiate any inner `List&lt;Integer&gt;`s. You&#39;ll need to add `new List&lt;Integer&gt;` to your outer list based on `input1.length`.","body":"Creating a <code>List&lt;List&lt;Integer&gt;&gt;</code> does not instantiate any inner <code>List&lt;Integer&gt;</code>s. You&#39;ll need to add <code>new List&lt;Integer&gt;</code> to your outer list based on <code>input1.length</code>."},{"owner":{"account_id":8153814,"reputation":31,"user_id":6140028,"display_name":"Khusbu Sinha"},"score":0,"creation_date":1487872382,"post_id":42422694,"comment_id":71991272,"body_markdown":"`for (int j=0;j&lt;input1.length;j++)\n    {\n      scheduledTime.add(new ArrayList&lt;Integer&gt;());\n    }`","body":"<code>for (int j=0;j&lt;input1.length;j++)     {       scheduledTime.add(new ArrayList&lt;Integer&gt;());     }</code>"},{"owner":{"account_id":8153814,"reputation":31,"user_id":6140028,"display_name":"Khusbu Sinha"},"score":0,"creation_date":1487872686,"post_id":42422694,"comment_id":71991431,"body_markdown":"I tried adding the above line after the declaration of scheduledTime. This continues to throw the exception.","body":"I tried adding the above line after the declaration of scheduledTime. This continues to throw the exception."}],"answers":[{"tags":[],"owner":{"account_id":10176832,"reputation":11,"user_id":7515171,"display_name":"m0tt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651078572,"creation_date":1487872283,"answer_id":42422838,"question_id":42422694,"body_markdown":"    public static List&lt;List&lt;Integer&gt;&gt; Timein24hourFormat(String[] input1)\r\n      {\r\n        List&lt;List&lt;Integer&gt;&gt; scheduledTime = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        int [] exitTime = new int[input1.length];\r\n        int [] entryTime = new int[input1.length];\r\n        for (int i=0;i&lt;input1.length;i++)\r\n      { \r\n        List&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; tempList = scheduledTime.get(i);\r\n        String[] timeSlot = input1[i].split(&quot;#&quot;);\r\n\r\n**scheduledTime** is empty at this stage and that&#39;s why you can not retrieve value and you get *IndexOutOfBoundsException*","title":"How to add items to a list of lists","body":"<pre><code>public static List&lt;List&lt;Integer&gt;&gt; Timein24hourFormat(String[] input1)\n  {\n    List&lt;List&lt;Integer&gt;&gt; scheduledTime = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    int [] exitTime = new int[input1.length];\n    int [] entryTime = new int[input1.length];\n    for (int i=0;i&lt;input1.length;i++)\n  { \n    List&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; tempList = scheduledTime.get(i);\n    String[] timeSlot = input1[i].split(&quot;#&quot;);\n</code></pre>\n<p><strong>scheduledTime</strong> is empty at this stage and that's why you can not retrieve value and you get <em>IndexOutOfBoundsException</em></p>\n"}],"owner":{"account_id":8153814,"reputation":31,"user_id":6140028,"display_name":"Khusbu Sinha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651078572,"creation_date":1487871727,"question_id":42422694,"body_markdown":"I aim to print a list of lists containing entry and exit times in the 24 hour decimal format from the &quot;AM&quot;-&quot;PM&quot; String format input by the user as a String array like this: \r\n{6AM#8AM, 11AM#1PM, 7AM#8PM, 7AM#8AM, 10AM#12PM, 12PM#4PM, 1PM#4PM, 8AM#9AM}\r\n\r\nI declared the individual lists inside the for loop and assigned them values inside the loop but got the following run time exception from my code: \r\n*java.lang.IndexOutOfBoundsException: Index: 0, Size: 0* \r\n\r\nKindly help me debug my code:\r\n\r\n\r\n\r\n\r\n    import java.util.*;\r\n     \r\n    public class TimeSchedule\r\n    {  \r\n      public static List&lt;List&lt;Integer&gt;&gt; Timein24hourFormat(String[] input1)\r\n      {\r\n        List&lt;List&lt;Integer&gt;&gt; scheduledTime = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        int [] exitTime = new int[input1.length];\r\n        int [] entryTime = new int[input1.length];\r\n        for (int i=0;i&lt;input1.length;i++)\r\n        { \r\n          List&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;();\r\n          List&lt;Integer&gt; tempList = scheduledTime.get(i);\r\n          String[] timeSlot = input1[i].split(&quot;#&quot;);\r\n          for (int m=0;m&lt;2;m++)\r\n          {\r\n            listOfStrings.add(timeSlot[m]);\r\n            if (listOfStrings.contains(&quot;AM&quot;))\r\n            { \r\n              listOfStrings.remove(&quot;AM&quot;);\r\n              tempList.add(Integer.parseInt(listOfStrings.get(m)));\r\n            }\r\n            if (listOfStrings.contains(&quot;PM&quot;) &amp;&amp; timeSlot[m].contains(&quot;12&quot;))\r\n            {\r\n              listOfStrings.remove(&quot;PM&quot;);\r\n              tempList.add(Integer.parseInt(listOfStrings.get(m)));\r\n            }\r\n            if (listOfStrings.contains(&quot;PM&quot;) &amp;&amp; !timeSlot[m].contains(&quot;12&quot;))\r\n            {\r\n              listOfStrings.remove(&quot;PM&quot;);\r\n              tempList.add((Integer.parseInt(listOfStrings.get(m))) + 12);\r\n            }\r\n          }\r\n         }\r\n        return scheduledTime;\r\n       }\r\n     \r\n      public static void main (String[]args)\r\n      { \r\n        Scanner input = new Scanner(System.in);\r\n        int customersNumber = input.nextInt();\r\n        input.nextLine();\r\n        String [] entryExitTime = new String[customersNumber];\r\n        for (int i=0;i&lt;customersNumber;i++)\r\n        {\r\n          entryExitTime[i] = input.nextLine();\r\n        }\r\n        System.out.println(Timein24hourFormat(entryExitTime));\r\n      }\r\n     }\r\n\r\n","title":"How to add items to a list of lists","body":"<p>I aim to print a list of lists containing entry and exit times in the 24 hour decimal format from the \"AM\"-\"PM\" String format input by the user as a String array like this: \n{6AM#8AM, 11AM#1PM, 7AM#8PM, 7AM#8AM, 10AM#12PM, 12PM#4PM, 1PM#4PM, 8AM#9AM}</p>\n\n<p>I declared the individual lists inside the for loop and assigned them values inside the loop but got the following run time exception from my code: \n<em>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0</em> </p>\n\n<p>Kindly help me debug my code:</p>\n\n<pre><code>import java.util.*;\n\npublic class TimeSchedule\n{  \n  public static List&lt;List&lt;Integer&gt;&gt; Timein24hourFormat(String[] input1)\n  {\n    List&lt;List&lt;Integer&gt;&gt; scheduledTime = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n    int [] exitTime = new int[input1.length];\n    int [] entryTime = new int[input1.length];\n    for (int i=0;i&lt;input1.length;i++)\n    { \n      List&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;();\n      List&lt;Integer&gt; tempList = scheduledTime.get(i);\n      String[] timeSlot = input1[i].split(\"#\");\n      for (int m=0;m&lt;2;m++)\n      {\n        listOfStrings.add(timeSlot[m]);\n        if (listOfStrings.contains(\"AM\"))\n        { \n          listOfStrings.remove(\"AM\");\n          tempList.add(Integer.parseInt(listOfStrings.get(m)));\n        }\n        if (listOfStrings.contains(\"PM\") &amp;&amp; timeSlot[m].contains(\"12\"))\n        {\n          listOfStrings.remove(\"PM\");\n          tempList.add(Integer.parseInt(listOfStrings.get(m)));\n        }\n        if (listOfStrings.contains(\"PM\") &amp;&amp; !timeSlot[m].contains(\"12\"))\n        {\n          listOfStrings.remove(\"PM\");\n          tempList.add((Integer.parseInt(listOfStrings.get(m))) + 12);\n        }\n      }\n     }\n    return scheduledTime;\n   }\n\n  public static void main (String[]args)\n  { \n    Scanner input = new Scanner(System.in);\n    int customersNumber = input.nextInt();\n    input.nextLine();\n    String [] entryExitTime = new String[customersNumber];\n    for (int i=0;i&lt;customersNumber;i++)\n    {\n      entryExitTime[i] = input.nextLine();\n    }\n    System.out.println(Timein24hourFormat(entryExitTime));\n  }\n }\n</code></pre>\n"},{"tags":["java","linux","swing","netbeans"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1651079155,"post_id":72032571,"comment_id":127278992,"body_markdown":"You execute long-running SQL in a separate thread.  If you have an application model made up of one or more plain Java getter/setter classes, the SQL uses the application model and is completely independent of the GUI view.","body":"You execute long-running SQL in a separate thread.  If you have an application model made up of one or more plain Java getter/setter classes, the SQL uses the application model and is completely independent of the GUI view."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1651081933,"post_id":72032571,"comment_id":127279998,"body_markdown":"[Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a>"},{"owner":{"account_id":1063647,"reputation":31,"user_id":1069864,"display_name":"AD5XJ"},"score":0,"creation_date":1651148212,"post_id":72032571,"comment_id":127297491,"body_markdown":"As mentioned before &quot;So far I have looked at the events tutorial and threads documentation. Neither of which really addresses my problem.&quot;","body":"As mentioned before &quot;So far I have looked at the events tutorial and threads documentation. Neither of which really addresses my problem.&quot;"},{"owner":{"account_id":1063647,"reputation":31,"user_id":1069864,"display_name":"AD5XJ"},"score":0,"creation_date":1654533250,"post_id":72032571,"comment_id":128107857,"body_markdown":"I have been doing a lot of research on this subject and it gets confusing. The results were basically split into two groups. 1) Make a separate thread for the JDBC database actions. And, 2) use SwingWorker to call the database functions and update the GUI when each call is done.","body":"I have been doing a lot of research on this subject and it gets confusing. The results were basically split into two groups. 1) Make a separate thread for the JDBC database actions. And, 2) use SwingWorker to call the database functions and update the GUI when each call is done."},{"owner":{"account_id":1063647,"reputation":31,"user_id":1069864,"display_name":"AD5XJ"},"score":0,"creation_date":1654534242,"post_id":72032571,"comment_id":128108181,"body_markdown":"Specifically, I want to update a text field with the # of records written by the proxy ( a separate class). The read text/write db records loop is in a function of a dialog.\n\nSo is the SwingWorker part of the dialog and if so then does it contain the loop or is it called by the loop? Does the SwingWorker do the GUI updates (such as progressBar updates) or is that done somewhere else?","body":"Specifically, I want to update a text field with the # of records written by the proxy ( a separate class). The read text/write db records loop is in a function of a dialog.  So is the SwingWorker part of the dialog and if so then does it contain the loop or is it called by the loop? Does the SwingWorker do the GUI updates (such as progressBar updates) or is that done somewhere else?"}],"owner":{"account_id":1063647,"reputation":31,"user_id":1069864,"display_name":"AD5XJ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651078196,"creation_date":1651078196,"question_id":72032571,"body_markdown":"Environment:&lt;br&gt;\r\nLinux Mint 20.3&lt;br&gt;\r\nKernel 5.4.0-109-generic&lt;br&gt;\r\nCinnamon 5.2.7&lt;br&gt;\r\nopenjdk 17.0.3 2022-04-19&lt;br&gt;\r\nOpenJDK Runtime Environment (build 17.0.3+7-Ubuntu-0ubuntu0.20.04.1)&lt;br&gt;\r\nOpenJDK 64-Bit Server VM (build 17.0.3+7-Ubuntu-0ubuntu0.20.04.1, mixed mode, sharing)&lt;br&gt;\r\n\r\nProject is a Apache Netbeans 13 project for built for JDK 11...also installed\r\n\r\nMy question has to do with events that occur during SQL queries. Specifically, add, update or delete - or drop index or create index.\r\n\r\nThese functions are extremely resource consuming and block GUI events.\r\n\r\nHow do I detect GUI events during database operations that consume time and resources?\r\n\r\nExample:\r\nI have a JFrame that performs an operation in my app that drops all indexes, clears a table and reads from a file, parses the text and creates database records to load into the database. All database operations are performed by a SQLiteProxy module in the app. Once started, the GUI does not respond to any mouse or keyboard events. This is only true for multiple record adds since single record adds are quite fast. \r\n\r\nI would like to be able to abort the operation if necessary after the start.\r\n\r\nSo how do I do that?\r\n\r\nSo far I have looked at the events tutorial and threads documentation. Neither of which really addresses my problem.\r\n\r\nIf code is necessary, I can post my code to for you to analyse for this one operation. It is a large project.\r\n\r\n","title":"JDBC:SQLite stops events","body":"<p>Environment:<br>\nLinux Mint 20.3<br>\nKernel 5.4.0-109-generic<br>\nCinnamon 5.2.7<br>\nopenjdk 17.0.3 2022-04-19<br>\nOpenJDK Runtime Environment (build 17.0.3+7-Ubuntu-0ubuntu0.20.04.1)<br>\nOpenJDK 64-Bit Server VM (build 17.0.3+7-Ubuntu-0ubuntu0.20.04.1, mixed mode, sharing)<br></p>\n<p>Project is a Apache Netbeans 13 project for built for JDK 11...also installed</p>\n<p>My question has to do with events that occur during SQL queries. Specifically, add, update or delete - or drop index or create index.</p>\n<p>These functions are extremely resource consuming and block GUI events.</p>\n<p>How do I detect GUI events during database operations that consume time and resources?</p>\n<p>Example:\nI have a JFrame that performs an operation in my app that drops all indexes, clears a table and reads from a file, parses the text and creates database records to load into the database. All database operations are performed by a SQLiteProxy module in the app. Once started, the GUI does not respond to any mouse or keyboard events. This is only true for multiple record adds since single record adds are quite fast.</p>\n<p>I would like to be able to abort the operation if necessary after the start.</p>\n<p>So how do I do that?</p>\n<p>So far I have looked at the events tutorial and threads documentation. Neither of which really addresses my problem.</p>\n<p>If code is necessary, I can post my code to for you to analyse for this one operation. It is a large project.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650478642,"post_id":71943167,"comment_id":127128791,"body_markdown":"See https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\n. Windows-oriented but will be very similar for MacOS","body":"See <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">technojeeves.com/index.php/aliasjava1/&hellip;</a> . Windows-oriented but will be very similar for MacOS"},{"owner":{"account_id":10894519,"reputation":1044,"user_id":8008979,"display_name":"Sunil Sapkota"},"score":0,"creation_date":1676267503,"post_id":71943167,"comment_id":133095761,"body_markdown":"atleast you need JRE to compile bytecode to machine language without JRE you can run cava program in any machine ont only mac even in windows or linix you need to install JRE","body":"atleast you need JRE to compile bytecode to machine language without JRE you can run cava program in any machine ont only mac even in windows or linix you need to install JRE"}],"answers":[{"tags":[],"owner":{"display_name":"user14674849"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650472665,"creation_date":1650472665,"answer_id":71943283,"question_id":71943167,"body_markdown":"You don&#39;t need JDK to install on the client machine but as we know java converts the program into bytecode and a java compiler is needed to compile that bytecode into machine language you must install JRE on the client computer whether it is mac or windows or any other operating system","title":"How to make Java Mac App that doesn&#39;t require installing Java","body":"<p>You don't need JDK to install on the client machine but as we know java converts the program into bytecode and a java compiler is needed to compile that bytecode into machine language you must install JRE on the client computer whether it is mac or windows or any other operating system</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651077898,"creation_date":1650477324,"answer_id":71944155,"question_id":71943167,"body_markdown":"# Either bundle a JVM or compile native\r\n\r\nYou have a choice of three ways to deliver a local Java-based  app to a Mac user.\r\n\r\n - User installs a [JDK][1] or [JRE][2] on their machine. (Or I.T. sysadmin person does so.)\r\n - App comes bundled with a [JVM][3] for a specific OS and specific chip architecture.\r\n - App is compiled to native code for a specific OS and specific chip architecture.\r\n\r\n## Install JDK/JRE\r\n\r\nIn a controlled environment such as a corporation or school, it may be practical to install a JDK or JRE on every Mac. If you are writing [JavaFX][4] apps, you could install an edition of a JDK/JRE that comes with the OpenJFX libraries. \r\n\r\nYour Java app can then execute by using the already-installed JVM. \r\n\r\nBy the way, in such a controlled environment, [*OpenWebStart*][5] is a way to deliver and launch a local Java app by using the convenience of a web browser. \r\n\r\nIn contrast, Oracle has abandoned the approach of expecting common consumer machines to come equipped with Java pre-installed. For details, see the Oracle white paper, [*Java Client Roadmap Update*][6]. So expecting individuals to have Java installed is not practical. \r\n\r\n## Bundle JDK/JRE\r\n\r\nYou can build your app in such a way as to include a JDK/JRE for a specific kind of machine, meaning a specific operating system and a specific chip architecture. \r\n\r\nFor Macs, that means you need one build for Macs with [Intel (x86)][7] chips, and another build for Macs with [Apple Silicon][8] (ARM, AArch64) chips. You would need to to either supply two separate versions of your app, one for each child, or perhaps a [“fat binary”][9] that includes two JDKs/JREs for both chips. The fat binary approach was supported by Apple (and its originator, [NeXT Inc.][10]) in previous chip transitions, but I’ve not verified is this is the case now in the Intel to Apple Silicon transition. \r\n\r\nModern tooling helps with embedding a JDK/JRE. See [*jlink*][11] and [*jpackage*][12]. See [*Packaging Tool User&#39;s Guide*][13]. As of Java 9, the [*Java Platform Module System*][14] enables including only the parts of the JDK/JRE actually used by your particular app. Unused parts are omitted, making for a smaller-sized final app artifact. \r\n\r\n## Compile native\r\n\r\nThe last way uses [GraalVM][15] technology to compile your code to native code specific to the targeted runtime machine. Instead of compiling to [bytecode][16] for a conventional JVM to [interpret][17] and optionally [JIT-compile][18] at runtime, full compilation to native machine language is performed when you build your app. This approach is cutting-edge, perhaps bleeding-edge. So research carefully and test thoroughly if you dare to consider this novel approach. \r\n\r\nWith both of the last two approaches, you have the option of distributing through the [Apple App Store][19]. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [2]: https://en.wikipedia.org/wiki/Java_(software_platform)\r\n  [3]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [4]: https://en.m.wikipedia.org/wiki/JavaFX\r\n  [5]: https://openwebstart.com/\r\n  [6]: https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\r\n  [7]: https://en.wikipedia.org/wiki/X86\r\n  [8]: https://en.wikipedia.org/wiki/Apple_Silicon\r\n  [9]: https://en.m.wikipedia.org/wiki/Fat_binary\r\n  [10]: https://en.m.wikipedia.org/wiki/NeXT\r\n  [11]: http://openjdk.java.net/jeps/282\r\n  [12]: https://openjdk.java.net/jeps/392\r\n  [13]: https://docs.oracle.com/en/java/javase/17/jpackage/\r\n  [14]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [15]: https://en.wikipedia.org/wiki/GraalVM\r\n  [16]: https://en.m.wikipedia.org/wiki/Bytecode\r\n  [17]: https://en.m.wikipedia.org/wiki/Interpreter_(computing)\r\n  [18]: https://en.m.wikipedia.org/wiki/Just-in-time_compilation\r\n  [19]: https://en.wikipedia.org/wiki/App_Store_(iOS/iPadOS)","title":"How to make Java Mac App that doesn&#39;t require installing Java","body":"<h1>Either bundle a JVM or compile native</h1>\n<p>You have a choice of three ways to deliver a local Java-based  app to a Mac user.</p>\n<ul>\n<li>User installs a <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> or <a href=\"https://en.wikipedia.org/wiki/Java_(software_platform)\" rel=\"nofollow noreferrer\">JRE</a> on their machine. (Or I.T. sysadmin person does so.)</li>\n<li>App comes bundled with a <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a> for a specific OS and specific chip architecture.</li>\n<li>App is compiled to native code for a specific OS and specific chip architecture.</li>\n</ul>\n<h2>Install JDK/JRE</h2>\n<p>In a controlled environment such as a corporation or school, it may be practical to install a JDK or JRE on every Mac. If you are writing <a href=\"https://en.m.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a> apps, you could install an edition of a JDK/JRE that comes with the OpenJFX libraries.</p>\n<p>Your Java app can then execute by using the already-installed JVM.</p>\n<p>By the way, in such a controlled environment, <a href=\"https://openwebstart.com/\" rel=\"nofollow noreferrer\"><em>OpenWebStart</em></a> is a way to deliver and launch a local Java app by using the convenience of a web browser.</p>\n<p>In contrast, Oracle has abandoned the approach of expecting common consumer machines to come equipped with Java pre-installed. For details, see the Oracle white paper, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdatev2020may-6548840.pdf\" rel=\"nofollow noreferrer\"><em>Java Client Roadmap Update</em></a>. So expecting individuals to have Java installed is not practical.</p>\n<h2>Bundle JDK/JRE</h2>\n<p>You can build your app in such a way as to include a JDK/JRE for a specific kind of machine, meaning a specific operating system and a specific chip architecture.</p>\n<p>For Macs, that means you need one build for Macs with <a href=\"https://en.wikipedia.org/wiki/X86\" rel=\"nofollow noreferrer\">Intel (x86)</a> chips, and another build for Macs with <a href=\"https://en.wikipedia.org/wiki/Apple_Silicon\" rel=\"nofollow noreferrer\">Apple Silicon</a> (ARM, AArch64) chips. You would need to to either supply two separate versions of your app, one for each child, or perhaps a <a href=\"https://en.m.wikipedia.org/wiki/Fat_binary\" rel=\"nofollow noreferrer\">“fat binary”</a> that includes two JDKs/JREs for both chips. The fat binary approach was supported by Apple (and its originator, <a href=\"https://en.m.wikipedia.org/wiki/NeXT\" rel=\"nofollow noreferrer\">NeXT Inc.</a>) in previous chip transitions, but I’ve not verified is this is the case now in the Intel to Apple Silicon transition.</p>\n<p>Modern tooling helps with embedding a JDK/JRE. See <a href=\"http://openjdk.java.net/jeps/282\" rel=\"nofollow noreferrer\"><em>jlink</em></a> and <a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\"><em>jpackage</em></a>. See <a href=\"https://docs.oracle.com/en/java/javase/17/jpackage/\" rel=\"nofollow noreferrer\"><em>Packaging Tool User's Guide</em></a>. As of Java 9, the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><em>Java Platform Module System</em></a> enables including only the parts of the JDK/JRE actually used by your particular app. Unused parts are omitted, making for a smaller-sized final app artifact.</p>\n<h2>Compile native</h2>\n<p>The last way uses <a href=\"https://en.wikipedia.org/wiki/GraalVM\" rel=\"nofollow noreferrer\">GraalVM</a> technology to compile your code to native code specific to the targeted runtime machine. Instead of compiling to <a href=\"https://en.m.wikipedia.org/wiki/Bytecode\" rel=\"nofollow noreferrer\">bytecode</a> for a conventional JVM to <a href=\"https://en.m.wikipedia.org/wiki/Interpreter_(computing)\" rel=\"nofollow noreferrer\">interpret</a> and optionally <a href=\"https://en.m.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"nofollow noreferrer\">JIT-compile</a> at runtime, full compilation to native machine language is performed when you build your app. This approach is cutting-edge, perhaps bleeding-edge. So research carefully and test thoroughly if you dare to consider this novel approach.</p>\n<p>With both of the last two approaches, you have the option of distributing through the <a href=\"https://en.wikipedia.org/wiki/App_Store_(iOS/iPadOS)\" rel=\"nofollow noreferrer\">Apple App Store</a>.</p>\n"}],"owner":{"account_id":23005784,"reputation":103,"user_id":17129110,"display_name":"TheJalfireKnight"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71944155,"answer_count":2,"score":2,"last_activity_date":1651077898,"creation_date":1650472123,"question_id":71943167,"body_markdown":"I want to make a Mac Application using Java code I wrote, and I want to make it that the person using it doesn&#39;t require Java to be installed on their own computer.\r\n\r\nIs there a way to create a Mac Application so it can run on any mac, whether they have Java installed or not?","title":"How to make Java Mac App that doesn&#39;t require installing Java","body":"<p>I want to make a Mac Application using Java code I wrote, and I want to make it that the person using it doesn't require Java to be installed on their own computer.</p>\n<p>Is there a way to create a Mac Application so it can run on any mac, whether they have Java installed or not?</p>\n"},{"tags":["java","swing","layout","jpanel","layout-manager"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1651006703,"post_id":72018219,"comment_id":127258261,"body_markdown":"The `JFrame` would have a `BorderLayout`.  Create a combination `JPanel` with a `BorderLayout` and put the green `JPanel` in NORTH, the gold `JPanel` in CENTER, and the purple `JPanel` in SOUTH.  Place the combination `JPanel` in the CENTER of the `JFrame` and the gray `JPanel` in the WEST of the `JFrame`.","body":"The <code>JFrame</code> would have a <code>BorderLayout</code>.  Create a combination <code>JPanel</code> with a <code>BorderLayout</code> and put the green <code>JPanel</code> in NORTH, the gold <code>JPanel</code> in CENTER, and the purple <code>JPanel</code> in SOUTH.  Place the combination <code>JPanel</code> in the CENTER of the <code>JFrame</code> and the gray <code>JPanel</code> in the WEST of the <code>JFrame</code>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1651077299,"post_id":72018219,"comment_id":127278299,"body_markdown":"A lot of my answer would depend on what is supposed to happen if the GUI is made bigger? How is extra width and height assigned to the different panels?","body":"A lot of my answer would depend on what is supposed to happen if the GUI is made bigger? How is extra width and height assigned to the different panels?"}],"answers":[{"tags":[],"owner":{"account_id":24702715,"reputation":80,"user_id":18593865,"display_name":"49KWIC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650999355,"creation_date":1650999355,"answer_id":72019152,"question_id":72018219,"body_markdown":"I would suggest using a gridbag layout where you can have components take up multiple cells. You can find more information using this java doc: &lt;https://docs.oracle.com/javase/7/docs/api/java/awt/GridBagLayout.html&gt;","title":"What layout should I use for my JPanels to look like this?","body":"<p>I would suggest using a gridbag layout where you can have components take up multiple cells. You can find more information using this java doc: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/GridBagLayout.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/GridBagLayout.html</a></p>\n"}],"owner":{"account_id":20384883,"reputation":131,"user_id":16497497,"display_name":"FishyK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651077436,"creation_date":1650994482,"question_id":72018219,"body_markdown":"I would like to layout some `JPanel` containers to look something like this:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Ji2nZ.png&quot;&gt;\r\n\r\nHowever, I am not quite sure what layout would be the best to choose, since I am still new to using the layout manager and do not want to only ever use `null` as layout manager.\r\n\r\nSo I thought that I could maybe split this into two panels. One for the left side and one for the right panels. My frame is 600x600px big and has the `BorderLayout`, so I thought I maybe can do something like this, which did not work:\r\n\r\n```\r\nJPanel right = new JPanel();\r\nright.setLayout(new Border Layout());\r\nright.setSize(400, 600);\r\n\r\nJPanel green = new JPanel();\r\ngreen.setPreferredSize(new Dimension(200,200));\r\ngreen.setBackground(Color.green);\r\nright.add(green, BorderLayout.PAGE_START);\r\n\r\n//for orange same code but with center and for pink the same but with page_end\r\n\r\nframe.add(left, BorderLayout.LINE_START);\r\nframe.add(right, BorderLayout.LINE_END);\r\n...\r\n    ","title":"What layout should I use for my JPanels to look like this?","body":"<p>I would like to layout some <code>JPanel</code> containers to look something like this:</p>\n<img src=\"https://i.stack.imgur.com/Ji2nZ.png\">\n<p>However, I am not quite sure what layout would be the best to choose, since I am still new to using the layout manager and do not want to only ever use <code>null</code> as layout manager.</p>\n<p>So I thought that I could maybe split this into two panels. One for the left side and one for the right panels. My frame is 600x600px big and has the <code>BorderLayout</code>, so I thought I maybe can do something like this, which did not work:</p>\n<pre><code>JPanel right = new JPanel();\nright.setLayout(new Border Layout());\nright.setSize(400, 600);\n\nJPanel green = new JPanel();\ngreen.setPreferredSize(new Dimension(200,200));\ngreen.setBackground(Color.green);\nright.add(green, BorderLayout.PAGE_START);\n\n//for orange same code but with center and for pink the same but with page_end\n\nframe.add(left, BorderLayout.LINE_START);\nframe.add(right, BorderLayout.LINE_END);\n...\n    \n</code></pre>\n"},{"tags":["java","c","project-panama"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1632748503,"post_id":69321128,"comment_id":122569472,"body_markdown":"Your question is too general. Investigate Java + C issues separately, and add detail on what you done.  I will post an answer which may help you get started.","body":"Your question is too general. Investigate Java + C issues separately, and add detail on what you done.  I will post an answer which may help you get started."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692739949,"post_id":69321128,"comment_id":135665202,"body_markdown":"You might find useful this fresh video, for the 3rd preview of [*Foreign Function &amp; Memory API*](https://openjdk.org/jeps/442) in Java 21: [*Java Applications Meet Native Libraries: Testing Preview Features with Custom Code*](https://youtu.be/KsZ8ICRfib0) by Daniel Persson. He shows first a simple call to `strlen` from Java. Then he goes on to write a bit of C code, compile it, and call it from Java.","body":"You might find useful this fresh video, for the 3rd preview of <a href=\"https://openjdk.org/jeps/442\" rel=\"nofollow noreferrer\"><i>Foreign Function &amp; Memory API</i></a> in Java 21: <a href=\"https://youtu.be/KsZ8ICRfib0\" rel=\"nofollow noreferrer\"><i>Java Applications Meet Native Libraries: Testing Preview Features with Custom Code</i></a> by Daniel Persson. He shows first a simple call to <code>strlen</code> from Java. Then he goes on to write a bit of C code, compile it, and call it from Java."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1651076658,"creation_date":1632749403,"answer_id":69347525,"question_id":69321128,"body_markdown":"I collated various of the code snippets I read from JEP412 / Panama into this simple example class, which demonstrates how to set up method handles in Java 17 for calling C runtime library and showing use of Java-&gt;C and C-&gt;Java calls. \r\n\r\nIt is not optimised in any way. Longer term using `jextract` is much better than handcoding the various method handles for up/downcalls from Java-&gt;C and C-&gt;Java, and it will hugely cut down on the effort to build Java API mappings for your own or other native library.\r\n\r\nThe sample will run on JDK17 Windows 10 and GNU/Linux (I used OpenJDK 17), though for GNU/Linux you may need to adjust setting for library loads such as `-Djava.library.path=/lib/x86_64-linux-gnu`. \r\n\r\nRun the example with command:\r\n\r\n    java --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.foreign Example17.java\r\n\r\nNote the Foreign Memory API is in incubating stage, so APIs change frequently. With small extra effort this sample could be adjusted run on JDK16 or the latest build of JDK Panama Foreign. The C runtime calls are built-in but if you experiment with other libraries you would need to call `System.loadLibrary(&quot;xyz&quot;);` before symbol lookups from `xyz.dll` or `libxyz.so`.\r\n\r\n    import static jdk.incubator.foreign.CLinker.*;\r\n    import java.lang.invoke.*;\r\n    import java.nio.file.Path;\r\n    import java.util.Arrays;\r\n    import java.util.Objects;\r\n    import java.util.function.Consumer;\r\n    import jdk.incubator.foreign.*;\r\n    import jdk.incubator.foreign.CLinker.VaList.Builder;\r\n    \r\n    /**\r\n     * Example calls to C library methods from Java/JDK17. \r\n     * Run on Windows with:\r\n     java --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.foreign Example17.java\r\n     * Run on GNU/Linux with:\r\n     java -Djava.library.path=/lib/x86_64-linux-gnu --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.foreign Example17.java\r\n    */\r\n    public class Example17 {\r\n    \r\n        private static final CLinker CLINKER = CLinker.getInstance();\r\n        // LOADER is used for symbols from xyz.dll or libxyz.so\r\n        // For every external library dependency add: System.loadLibrary(&quot;xyz&quot;);\r\n        private static final SymbolLookup LOADER = SymbolLookup.loaderLookup();\r\n        // SYSTEM is used for built-in C runtime library calls.\r\n        private static final SymbolLookup SYSTEM = CLinker.systemLookup();\r\n\r\n        static {\r\n            System.out.println(&quot;os.name=&quot;+System.getProperty(&quot;os.name&quot;));\r\n            System.out.println(&quot;java.library.path=&quot;\r\n                    +String.join(System.lineSeparator()+&quot;\\t&quot;, System.getProperty(&quot;java.library.path&quot;).split(File.pathSeparator)));\r\n        }\r\n        /** Find native symbol, call System.loadLibrary(&quot;xyz&quot;) for each dependency */\r\n        static MemoryAddress lookup(String name) {\r\n            return Objects.requireNonNull(LOADER.lookup(name).or(() -&gt; SYSTEM.lookup(name)).get(), () -&gt; &quot;Not found native method: &quot;+name);\r\n        }\r\n\r\n        /** Example calls to C runtime library */\r\n        public static void main(String... args) throws Throwable {\r\n\r\n            getpid();\r\n\r\n            strlen(&quot;Hello World&quot;);\r\n\r\n            printf();\r\n\r\n            qsort(0, 9, 33, 45, 3, 4, 6, 5, 1, 8, 2, 7);\r\n\r\n            vprintf(&quot;ONE=%d\\n&quot;, 1234);\r\n            vprintf(&quot;A=%d B=%d\\n&quot;, 2, 4);\r\n            vprintf(&quot;%d plus %d equals %d\\n&quot;, 5, 7, 12);\r\n        }\r\n\r\n        // get a native method handle for &#39;getpid&#39; function\r\n        private static final MethodHandle GETPID$MH = CLINKER.downcallHandle(\r\n                        lookup(System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;) ? &quot;_getpid&quot;:&quot;getpid&quot;),\r\n                        MethodType.methodType(int.class),\r\n                        FunctionDescriptor.of(CLinker.C_INT));\r\n\r\n        private static void getpid() throws Throwable {\r\n            int npid = (int)GETPID$MH.invokeExact();\r\n            System.out.println(&quot;getpid() JAVA =&gt; &quot;+ProcessHandle.current().pid()+&quot; NATIVE =&gt; &quot;+npid);\r\n        }\r\n\r\n        private static final MethodHandle STRLEN$MH = CLINKER.downcallHandle(lookup(&quot;strlen&quot;),\r\n                MethodType.methodType(long.class, MemoryAddress.class), FunctionDescriptor.of(C_LONG_LONG, C_POINTER));\r\n        public static void strlen(String s) throws Throwable {\r\n            System.out.println(&quot;strlen(&#39;&quot;+s+&quot;&#39;)&quot;);\r\n\r\n            // size_t strlen(const char *str);\r\n            try(ResourceScope scope = ResourceScope.newConfinedScope()) {\r\n                SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\r\n                MemorySegment hello = CLinker.toCString(s, allocator);\r\n                long len = (long) STRLEN$MH.invokeExact(hello.address()); // 5\r\n                System.out.println(&quot; =&gt; &quot;+len);\r\n            }\r\n        }\r\n\r\n        static class Qsort {\r\n            static int qsortCompare(MemoryAddress addr1, MemoryAddress addr2) {\r\n                int v1 = MemoryAccess.getIntAtOffset(MemorySegment.globalNativeSegment(), addr1.toRawLongValue());\r\n                int v2 = MemoryAccess.getIntAtOffset(MemorySegment.globalNativeSegment(), addr2.toRawLongValue());\r\n                return v1 - v2;\r\n            }\r\n        }\r\n\r\n        private static final MethodHandle QSORT$MH = CLINKER.downcallHandle(lookup(&quot;qsort&quot;),\r\n                MethodType.methodType(void.class, MemoryAddress.class, long.class, long.class, MemoryAddress.class),\r\n                FunctionDescriptor.ofVoid(C_POINTER, C_LONG_LONG, C_LONG_LONG, C_POINTER)\r\n        );\r\n\r\n        /**\r\n         * THIS SHOWS DOWNCALL AND UPCALL - uses qsortCompare FROM C code!\r\n         * void qsort(void *base, size_t nitems, size_t size, int (*compar)(const void *, const void*))\r\n         * @param toSort\r\n         */\r\n        public static int[] qsort(int ... toSort) throws Throwable {\r\n            System.out.println(&quot;qsort() &quot;+Arrays.toString(toSort));\r\n\r\n            MethodHandle comparHandle = MethodHandles.lookup()\r\n                    .findStatic(Qsort.class, &quot;qsortCompare&quot;,\r\n                            MethodType.methodType(int.class, MemoryAddress.class, MemoryAddress.class));\r\n\r\n            try(ResourceScope scope = ResourceScope.newConfinedScope()) {\r\n                MemoryAddress comparFunc = CLINKER.upcallStub(\r\n                        comparHandle,FunctionDescriptor.of(C_INT, C_POINTER, C_POINTER),scope\r\n                );\r\n\r\n                SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\r\n                // comparFunc = allocator.register(comparFunc);\r\n                MemorySegment array = allocator.allocateArray(CLinker.C_INT, toSort);\r\n                QSORT$MH.invokeExact(array.address(), (long)toSort.length, 4L, comparFunc.address());\r\n                int[] sorted = array.toIntArray();\r\n                System.out.println(&quot; =&gt; &quot;+Arrays.toString(sorted));\r\n                return sorted;\r\n            }\r\n        }\r\n\r\n        private static final MethodHandle PRINTF$MH = CLINKER.downcallHandle(lookup(&quot;printf&quot;),\r\n                MethodType.methodType(int.class, MemoryAddress.class, int.class, int.class, int.class),\r\n                FunctionDescriptor.of(C_INT,    C_POINTER,           C_INT,    C_INT,    C_INT)\r\n        );\r\n        /** This version hard-codes use of 3 int params as args to the string format */\r\n        public static void printf() throws Throwable {\r\n            System.out.println(&quot;printf()&quot;);\r\n            int a = 10;\r\n            int b = 7;\r\n            try(ResourceScope scope = ResourceScope.newConfinedScope()) {\r\n                SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\r\n                MemorySegment s = CLinker.toCString(&quot;%d times %d equals %d\\n&quot;, allocator);\r\n                int rc = (int)PRINTF$MH.invokeExact(s.address(), a, b, a * b);\r\n                System.out.println(&quot; =&gt; rc=&quot;+rc);\r\n            }\r\n        }\r\n\r\n        private static final MethodHandle vprintf = CLINKER.downcallHandle(lookup(&quot;vprintf&quot;),\r\n                MethodType.methodType(int.class, MemoryAddress.class, CLinker.VaList.class),\r\n                FunctionDescriptor.of(C_INT,     C_POINTER,           C_VA_LIST));\r\n\r\n        /**\r\n         * vprintf takes a pointer to arg list rather than arg list as for printf\r\n         */\r\n        public static void vprintf(String format, int ... args) throws Throwable {\r\n\r\n            System.out.println(&quot;vprintf(\\&quot;&quot;+format.replaceAll(&quot;[\\r\\n]{1,2}&quot;, &quot;\\\\\\\\n&quot;)+&quot;\\&quot;) &quot;+Arrays.toString(args));\r\n\r\n            // Weird Builder callback mechanism to fill the varargs values\r\n            Consumer&lt;Builder&gt; actions = builder -&gt; {\r\n                 for (int v : args) builder.vargFromInt(CLinker.C_INT, v);\r\n            };\r\n\r\n            try(ResourceScope scope = ResourceScope.newConfinedScope()) {\r\n                SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\r\n                CLinker.VaList vlist = CLinker.VaList.make(actions, scope);\r\n                MemorySegment s = CLinker.toCString(format, allocator);\r\n\r\n                int rc = (int)vprintf.invokeExact(s.address(), vlist /* ????? .address() */);\r\n                System.out.println(&quot; =&gt; rc=&quot;+rc);\r\n            }\r\n        }    }\r\n","title":"How to call a C function from Java 17 using JEP 412: Foreign Function &amp; Memory API","body":"<p>I collated various of the code snippets I read from JEP412 / Panama into this simple example class, which demonstrates how to set up method handles in Java 17 for calling C runtime library and showing use of Java-&gt;C and C-&gt;Java calls.</p>\n<p>It is not optimised in any way. Longer term using <code>jextract</code> is much better than handcoding the various method handles for up/downcalls from Java-&gt;C and C-&gt;Java, and it will hugely cut down on the effort to build Java API mappings for your own or other native library.</p>\n<p>The sample will run on JDK17 Windows 10 and GNU/Linux (I used OpenJDK 17), though for GNU/Linux you may need to adjust setting for library loads such as <code>-Djava.library.path=/lib/x86_64-linux-gnu</code>.</p>\n<p>Run the example with command:</p>\n<pre><code>java --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.foreign Example17.java\n</code></pre>\n<p>Note the Foreign Memory API is in incubating stage, so APIs change frequently. With small extra effort this sample could be adjusted run on JDK16 or the latest build of JDK Panama Foreign. The C runtime calls are built-in but if you experiment with other libraries you would need to call <code>System.loadLibrary(&quot;xyz&quot;);</code> before symbol lookups from <code>xyz.dll</code> or <code>libxyz.so</code>.</p>\n<pre><code>import static jdk.incubator.foreign.CLinker.*;\nimport java.lang.invoke.*;\nimport java.nio.file.Path;\nimport java.util.Arrays;\nimport java.util.Objects;\nimport java.util.function.Consumer;\nimport jdk.incubator.foreign.*;\nimport jdk.incubator.foreign.CLinker.VaList.Builder;\n\n/**\n * Example calls to C library methods from Java/JDK17. \n * Run on Windows with:\n java --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.foreign Example17.java\n * Run on GNU/Linux with:\n java -Djava.library.path=/lib/x86_64-linux-gnu --enable-native-access=ALL-UNNAMED --add-modules jdk.incubator.foreign Example17.java\n*/\npublic class Example17 {\n\n    private static final CLinker CLINKER = CLinker.getInstance();\n    // LOADER is used for symbols from xyz.dll or libxyz.so\n    // For every external library dependency add: System.loadLibrary(&quot;xyz&quot;);\n    private static final SymbolLookup LOADER = SymbolLookup.loaderLookup();\n    // SYSTEM is used for built-in C runtime library calls.\n    private static final SymbolLookup SYSTEM = CLinker.systemLookup();\n\n    static {\n        System.out.println(&quot;os.name=&quot;+System.getProperty(&quot;os.name&quot;));\n        System.out.println(&quot;java.library.path=&quot;\n                +String.join(System.lineSeparator()+&quot;\\t&quot;, System.getProperty(&quot;java.library.path&quot;).split(File.pathSeparator)));\n    }\n    /** Find native symbol, call System.loadLibrary(&quot;xyz&quot;) for each dependency */\n    static MemoryAddress lookup(String name) {\n        return Objects.requireNonNull(LOADER.lookup(name).or(() -&gt; SYSTEM.lookup(name)).get(), () -&gt; &quot;Not found native method: &quot;+name);\n    }\n\n    /** Example calls to C runtime library */\n    public static void main(String... args) throws Throwable {\n\n        getpid();\n\n        strlen(&quot;Hello World&quot;);\n\n        printf();\n\n        qsort(0, 9, 33, 45, 3, 4, 6, 5, 1, 8, 2, 7);\n\n        vprintf(&quot;ONE=%d\\n&quot;, 1234);\n        vprintf(&quot;A=%d B=%d\\n&quot;, 2, 4);\n        vprintf(&quot;%d plus %d equals %d\\n&quot;, 5, 7, 12);\n    }\n\n    // get a native method handle for 'getpid' function\n    private static final MethodHandle GETPID$MH = CLINKER.downcallHandle(\n                    lookup(System.getProperty(&quot;os.name&quot;).startsWith(&quot;Windows&quot;) ? &quot;_getpid&quot;:&quot;getpid&quot;),\n                    MethodType.methodType(int.class),\n                    FunctionDescriptor.of(CLinker.C_INT));\n\n    private static void getpid() throws Throwable {\n        int npid = (int)GETPID$MH.invokeExact();\n        System.out.println(&quot;getpid() JAVA =&gt; &quot;+ProcessHandle.current().pid()+&quot; NATIVE =&gt; &quot;+npid);\n    }\n\n    private static final MethodHandle STRLEN$MH = CLINKER.downcallHandle(lookup(&quot;strlen&quot;),\n            MethodType.methodType(long.class, MemoryAddress.class), FunctionDescriptor.of(C_LONG_LONG, C_POINTER));\n    public static void strlen(String s) throws Throwable {\n        System.out.println(&quot;strlen('&quot;+s+&quot;')&quot;);\n\n        // size_t strlen(const char *str);\n        try(ResourceScope scope = ResourceScope.newConfinedScope()) {\n            SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\n            MemorySegment hello = CLinker.toCString(s, allocator);\n            long len = (long) STRLEN$MH.invokeExact(hello.address()); // 5\n            System.out.println(&quot; =&gt; &quot;+len);\n        }\n    }\n\n    static class Qsort {\n        static int qsortCompare(MemoryAddress addr1, MemoryAddress addr2) {\n            int v1 = MemoryAccess.getIntAtOffset(MemorySegment.globalNativeSegment(), addr1.toRawLongValue());\n            int v2 = MemoryAccess.getIntAtOffset(MemorySegment.globalNativeSegment(), addr2.toRawLongValue());\n            return v1 - v2;\n        }\n    }\n\n    private static final MethodHandle QSORT$MH = CLINKER.downcallHandle(lookup(&quot;qsort&quot;),\n            MethodType.methodType(void.class, MemoryAddress.class, long.class, long.class, MemoryAddress.class),\n            FunctionDescriptor.ofVoid(C_POINTER, C_LONG_LONG, C_LONG_LONG, C_POINTER)\n    );\n\n    /**\n     * THIS SHOWS DOWNCALL AND UPCALL - uses qsortCompare FROM C code!\n     * void qsort(void *base, size_t nitems, size_t size, int (*compar)(const void *, const void*))\n     * @param toSort\n     */\n    public static int[] qsort(int ... toSort) throws Throwable {\n        System.out.println(&quot;qsort() &quot;+Arrays.toString(toSort));\n\n        MethodHandle comparHandle = MethodHandles.lookup()\n                .findStatic(Qsort.class, &quot;qsortCompare&quot;,\n                        MethodType.methodType(int.class, MemoryAddress.class, MemoryAddress.class));\n\n        try(ResourceScope scope = ResourceScope.newConfinedScope()) {\n            MemoryAddress comparFunc = CLINKER.upcallStub(\n                    comparHandle,FunctionDescriptor.of(C_INT, C_POINTER, C_POINTER),scope\n            );\n\n            SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\n            // comparFunc = allocator.register(comparFunc);\n            MemorySegment array = allocator.allocateArray(CLinker.C_INT, toSort);\n            QSORT$MH.invokeExact(array.address(), (long)toSort.length, 4L, comparFunc.address());\n            int[] sorted = array.toIntArray();\n            System.out.println(&quot; =&gt; &quot;+Arrays.toString(sorted));\n            return sorted;\n        }\n    }\n\n    private static final MethodHandle PRINTF$MH = CLINKER.downcallHandle(lookup(&quot;printf&quot;),\n            MethodType.methodType(int.class, MemoryAddress.class, int.class, int.class, int.class),\n            FunctionDescriptor.of(C_INT,    C_POINTER,           C_INT,    C_INT,    C_INT)\n    );\n    /** This version hard-codes use of 3 int params as args to the string format */\n    public static void printf() throws Throwable {\n        System.out.println(&quot;printf()&quot;);\n        int a = 10;\n        int b = 7;\n        try(ResourceScope scope = ResourceScope.newConfinedScope()) {\n            SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\n            MemorySegment s = CLinker.toCString(&quot;%d times %d equals %d\\n&quot;, allocator);\n            int rc = (int)PRINTF$MH.invokeExact(s.address(), a, b, a * b);\n            System.out.println(&quot; =&gt; rc=&quot;+rc);\n        }\n    }\n\n    private static final MethodHandle vprintf = CLINKER.downcallHandle(lookup(&quot;vprintf&quot;),\n            MethodType.methodType(int.class, MemoryAddress.class, CLinker.VaList.class),\n            FunctionDescriptor.of(C_INT,     C_POINTER,           C_VA_LIST));\n\n    /**\n     * vprintf takes a pointer to arg list rather than arg list as for printf\n     */\n    public static void vprintf(String format, int ... args) throws Throwable {\n\n        System.out.println(&quot;vprintf(\\&quot;&quot;+format.replaceAll(&quot;[\\r\\n]{1,2}&quot;, &quot;\\\\\\\\n&quot;)+&quot;\\&quot;) &quot;+Arrays.toString(args));\n\n        // Weird Builder callback mechanism to fill the varargs values\n        Consumer&lt;Builder&gt; actions = builder -&gt; {\n             for (int v : args) builder.vargFromInt(CLinker.C_INT, v);\n        };\n\n        try(ResourceScope scope = ResourceScope.newConfinedScope()) {\n            SegmentAllocator allocator = SegmentAllocator.arenaAllocator(scope);\n            CLinker.VaList vlist = CLinker.VaList.make(actions, scope);\n            MemorySegment s = CLinker.toCString(format, allocator);\n\n            int rc = (int)vprintf.invokeExact(s.address(), vlist /* ????? .address() */);\n            System.out.println(&quot; =&gt; rc=&quot;+rc);\n        }\n    }    }\n</code></pre>\n"}],"owner":{"account_id":6857166,"reputation":111,"user_id":5272383,"display_name":"Yogesh Chaudhari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3308,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":69347525,"answer_count":1,"score":10,"last_activity_date":1651076658,"creation_date":1632517800,"question_id":69321128,"body_markdown":"Does anybody have a simple example on how to call a C function from Java 17 that includes creating a C library and how to setup a MethodHandle?\r\n\r\nThe JEP description at https://openjdk.java.net/jeps/412 does have an example, but I&#39;ve been struggling to understand it.\r\n\r\nI think it can be achieved using Project Panama (https://jdk.java.net/panama/) jextract, but since this feature was included in the JDK, I didn&#39;t want to use Panama.\r\n","title":"How to call a C function from Java 17 using JEP 412: Foreign Function &amp; Memory API","body":"<p>Does anybody have a simple example on how to call a C function from Java 17 that includes creating a C library and how to setup a MethodHandle?</p>\n<p>The JEP description at <a href=\"https://openjdk.java.net/jeps/412\" rel=\"noreferrer\">https://openjdk.java.net/jeps/412</a> does have an example, but I've been struggling to understand it.</p>\n<p>I think it can be achieved using Project Panama (<a href=\"https://jdk.java.net/panama/\" rel=\"noreferrer\">https://jdk.java.net/panama/</a>) jextract, but since this feature was included in the JDK, I didn't want to use Panama.</p>\n"},{"tags":["java","jdbc","playframework","ibm-midrange"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1478607010,"post_id":40472590,"comment_id":68216638,"body_markdown":"Sounds like that JDBC driver is JDBC 3 or older, the `Connection.isValid(int)` method was added in Java 6 / JDBC 4.","body":"Sounds like that JDBC driver is JDBC 3 or older, the <code>Connection.isValid(int)</code> method was added in Java 6 / JDBC 4."},{"owner":{"account_id":168033,"reputation":513,"user_id":7106420,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1478622043,"post_id":40472590,"comment_id":68227544,"body_markdown":"Is there a way to find what version of Java/JDBC jt400 uses? Having a hard time finding out.","body":"Is there a way to find what version of Java/JDBC jt400 uses? Having a hard time finding out."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1478622738,"post_id":40472590,"comment_id":68228030,"body_markdown":"Ask IBM, read the accompanying documentation? I don&#39;t use AS/400 so I have no idea.","body":"Ask IBM, read the accompanying documentation? I don&#39;t use AS/400 so I have no idea."},{"owner":{"account_id":168033,"reputation":513,"user_id":7106420,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1478622990,"post_id":40472590,"comment_id":68228174,"body_markdown":"A recent version of [jt400](http://www-03.ibm.com/systems/power/software/i/toolbox/index.html) users JDBC 4. I&#39;ve got Java 8 set up in my environment.","body":"A recent version of <a href=\"http://www-03.ibm.com/systems/power/software/i/toolbox/index.html\" rel=\"nofollow noreferrer\">jt400</a> users JDBC 4. I&#39;ve got Java 8 set up in my environment."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1478623473,"post_id":40472590,"comment_id":68228476,"body_markdown":"That you have Java 8 doesn&#39;t mean anything. A JDBC 3 driver (or even 1 or 2 if you can find them) will work under Java 8, as long as you don&#39;t call any methods defined in later JDBC versions (this applies to Java in general BTW, you can use a class compiled against an earlier version of an interface, with a newer version of that interface as long as you don&#39;t call the methods defined in that newer version of the interface).","body":"That you have Java 8 doesn&#39;t mean anything. A JDBC 3 driver (or even 1 or 2 if you can find them) will work under Java 8, as long as you don&#39;t call any methods defined in later JDBC versions (this applies to Java in general BTW, you can use a class compiled against an earlier version of an interface, with a newer version of that interface as long as you don&#39;t call the methods defined in that newer version of the interface)."},{"owner":{"account_id":168033,"reputation":513,"user_id":7106420,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1478624533,"post_id":40472590,"comment_id":68229151,"body_markdown":"Thanks for the info, Mark. Can&#39;t upvote. I keep running into walls with this aged data system and it looks like I simply will continue to.","body":"Thanks for the info, Mark. Can&#39;t upvote. I keep running into walls with this aged data system and it looks like I simply will continue to."}],"answers":[{"tags":[],"owner":{"account_id":9698,"reputation":11435,"user_id":18027,"accept_rate":83,"display_name":"Tahir Akhtar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1478586540,"creation_date":1478586540,"answer_id":40480339,"question_id":40472590,"body_markdown":"Guessing from the stacktrace, it appears that the connection returned from your driver is not playing well with the connection [Hikari Connection Pool][1]. Hikari is [default connection pool in playframework][2].\r\n\r\nSpecifically, your exception trace shows that the Hikari CP is attempting to call `isValid` method on the connection object returned by your JDBC driver and then failing with `java.lang.AbstractMethodError`.\r\n\r\nYou can try switching to BoneCP connection pool and see if it helps. You can also check comments on [this issue][3] on hikari github issue list\r\n\r\n\r\n  [1]: https://brettwooldridge.github.io/HikariCP/\r\n  [2]: https://www.playframework.com/documentation/2.5.x/SettingsJDBC\r\n  [3]: https://github.com/brettwooldridge/HikariCP/issues/421","title":"Connecting to as400 JDBC on Play Framework","body":"<p>Guessing from the stacktrace, it appears that the connection returned from your driver is not playing well with the connection <a href=\"https://brettwooldridge.github.io/HikariCP/\" rel=\"nofollow noreferrer\">Hikari Connection Pool</a>. Hikari is <a href=\"https://www.playframework.com/documentation/2.5.x/SettingsJDBC\" rel=\"nofollow noreferrer\">default connection pool in playframework</a>.</p>\n\n<p>Specifically, your exception trace shows that the Hikari CP is attempting to call <code>isValid</code> method on the connection object returned by your JDBC driver and then failing with <code>java.lang.AbstractMethodError</code>.</p>\n\n<p>You can try switching to BoneCP connection pool and see if it helps. You can also check comments on <a href=\"https://github.com/brettwooldridge/HikariCP/issues/421\" rel=\"nofollow noreferrer\">this issue</a> on hikari github issue list</p>\n"},{"tags":[],"owner":{"account_id":22725849,"reputation":1,"user_id":16889636,"display_name":"Pablo Di Benedetto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634333874,"creation_date":1634333874,"answer_id":69590884,"question_id":40472590,"body_markdown":"Try adding the following to application.config\r\n\r\ndb.default.hikaricp.connectionTestQuery=&quot;SELECT 1&quot;\r\n\r\nNot tested in Play Framework but I had similar issue on spring framework and solved in that way.","title":"Connecting to as400 JDBC on Play Framework","body":"<p>Try adding the following to application.config</p>\n<p>db.default.hikaricp.connectionTestQuery=&quot;SELECT 1&quot;</p>\n<p>Not tested in Play Framework but I had similar issue on spring framework and solved in that way.</p>\n"},{"tags":[],"owner":{"account_id":7071002,"reputation":9,"user_id":5412607,"display_name":"KAMALAKANTA ROUL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651076460,"creation_date":1651076460,"answer_id":72032215,"question_id":40472590,"body_markdown":"Use liquibase datasource like below with connection-test-query\r\n\r\n    @Bean\r\n    \t@LiquibaseDataSource\r\n    \tpublic DataSource liquibaseDataSource() {\r\n    \t\t HikariDataSource dataSource = (HikariDataSource) DataSourceBuilder.create().url(&quot;url&quot;)\r\n    \t\t\t\t\t\t.username(&quot;username&quot;)\r\n    \t\t\t\t\t\t.password(&quot;password&quot;)\r\n    \t\t\t\t\t\t.type(HikariDataSource.class).build();\r\n    \t\tdataSource.setConnectionTestQuery(&quot;select 1 from sysibm.sysdummy1&quot;);\r\n    \t\treturn dataSource;\r\n    \t}","title":"Connecting to as400 JDBC on Play Framework","body":"<p>Use liquibase datasource like below with connection-test-query</p>\n<pre><code>@Bean\n    @LiquibaseDataSource\n    public DataSource liquibaseDataSource() {\n         HikariDataSource dataSource = (HikariDataSource) DataSourceBuilder.create().url(&quot;url&quot;)\n                        .username(&quot;username&quot;)\n                        .password(&quot;password&quot;)\n                        .type(HikariDataSource.class).build();\n        dataSource.setConnectionTestQuery(&quot;select 1 from sysibm.sysdummy1&quot;);\n        return dataSource;\n    }\n</code></pre>\n"}],"owner":{"account_id":168033,"reputation":513,"user_id":7106420,"accept_rate":75,"display_name":"Shawn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4921,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40480339,"answer_count":3,"score":1,"last_activity_date":1651076460,"creation_date":1478545275,"question_id":40472590,"body_markdown":"I&#39;m having issues making a connection to an AS400 database inside of Play!.\r\n\r\nMy `application.conf` looks like:\r\n\r\n    db.default.driver=&quot;com.ibm.as400.access.AS400JDBCDriver&quot;\r\n    db.default.url=&quot;jdbc:as400://SERVER;libraries=A,B,C;toolbox trace=all;trace=true&quot;\r\n    db.default.username=&quot;user&quot;\r\n    db.default.password=&quot;password&quot;\r\n\r\nI&#39;ve set up jt400 in the classpath, and I can see under &quot;external libraries&quot; that it shows up and is available. But essentially I get an error message about failing to connect (on user/password I know works) and failure to `execute isValid()`, which is a function that can not be found inside of `AS400JDBCConnection` class.\r\n\r\n    [error] c.z.h.p.PoolBase - HikariPool-1 - Failed to execute isValid() for connection, configure connection test query. (com.ibm.as400.access.AS400JDBCConnection.isValid(I)Z)\r\n    [error] application - \r\n    \r\n    ! @72265nf0a - Internal server error, for (GET) [/] -&gt;\r\n     \r\n    play.api.Configuration$$anon$1: Configuration error[Cannot connect to database [default]]\r\n    \tat play.api.Configuration$.configError(Configuration.scala:154)\r\n    \tat play.api.Configuration.reportError(Configuration.scala:806)\r\n    \tat play.api.db.DefaultDBApi$$anonfun$connect$1.apply(DefaultDBApi.scala:48)\r\n    \tat play.api.db.DefaultDBApi$$anonfun$connect$1.apply(DefaultDBApi.scala:42)\r\n    \tat scala.collection.immutable.List.foreach(List.scala:381)\r\n    \tat play.api.db.DefaultDBApi.connect(DefaultDBApi.scala:42)\r\n    \tat play.api.db.DBApiProvider.get$lzycompute(DBModule.scala:72)\r\n    \tat play.api.db.DBApiProvider.get(DBModule.scala:62)\r\n    \tat play.api.db.DBApiProvider.get(DBModule.scala:58)\r\n    \tat com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)\r\n    Caused by: play.api.Configuration$$anon$1: Configuration error[Failed to initialize pool: com.ibm.as400.access.AS400JDBCConnection.isValid(I)Z]\r\n    \tat play.api.Configuration$.configError(Configuration.scala:154)\r\n    \tat play.api.PlayConfig.reportError(Configuration.scala:996)\r\n    \tat play.api.db.HikariCPConnectionPool.create(HikariCPModule.scala:70)\r\n    \tat play.api.db.PooledDatabase.createDataSource(Databases.scala:199)\r\n    \tat play.api.db.DefaultDatabase.dataSource$lzycompute(Databases.scala:123)\r\n    \tat play.api.db.DefaultDatabase.dataSource(Databases.scala:121)\r\n    \tat play.api.db.DefaultDatabase.getConnection(Databases.scala:142)\r\n    \tat play.api.db.DefaultDatabase.getConnection(Databases.scala:138)\r\n    \tat play.api.db.DefaultDBApi$$anonfun$connect$1.apply(DefaultDBApi.scala:44)\r\n    \tat play.api.db.DefaultDBApi$$anonfun$connect$1.apply(DefaultDBApi.scala:42)\r\n    Caused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: com.ibm.as400.access.AS400JDBCConnection.isValid(I)Z\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:512)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:105)\r\n    \tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:71)\r\n    \tat play.api.db.HikariCPConnectionPool$$anonfun$1.apply(HikariCPModule.scala:58)\r\n    \tat play.api.db.HikariCPConnectionPool$$anonfun$1.apply(HikariCPModule.scala:54)\r\n    \tat scala.util.Try$.apply(Try.scala:192)\r\n    \tat play.api.db.HikariCPConnectionPool.create(HikariCPModule.scala:54)\r\n    \tat play.api.db.PooledDatabase.createDataSource(Databases.scala:199)\r\n    \tat play.api.db.DefaultDatabase.dataSource$lzycompute(Databases.scala:123)\r\n    \tat play.api.db.DefaultDatabase.dataSource(Databases.scala:121)\r\n    Caused by: java.lang.AbstractMethodError: com.ibm.as400.access.AS400JDBCConnection.isValid(I)Z\r\n    \tat com.zaxxer.hikari.pool.PoolBase.checkDriverSupport(PoolBase.java:400)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.setupConnection(PoolBase.java:375)\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:346)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:506)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:105)\r\n    \tat com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:71)\r\n    \tat play.api.db.HikariCPConnectionPool$$anonfun$1.apply(HikariCPModule.scala:58)\r\n    \tat play.api.db.HikariCPConnectionPool$$anonfun$1.apply(HikariCPModule.scala:54)\r\n    \tat scala.util.Try$.apply(Try.scala:192)\r\n    \tat play.api.db.HikariCPConnectionPool.create(HikariCPModule.scala:54)\r\n\r\n\r\n\r\nI&#39;m able to connect in other java-based projects using something like:\r\n\r\n    try {\r\n    \t\t\t\tClass.forName(&quot;com.ibm.as400.access.AS400JDBCDriver&quot;);\r\n    \t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:as400://&quot; + \r\n    \t\t\t\t\tApplicationAuthentication.server + &quot;/&quot; + \r\n    \t\t\t\t\tApplicationAuthentication.library, \r\n    \t\t\t\t\tApplicationAuthentication.user, \r\n    \t\t\t\t\tApplicationAuthentication.password\r\n    \t\t\t\t);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tSystem.err.println(e);\r\n    \t\t\t\tthrow new WebApplicationException(genericError, Response.Status.UNAUTHORIZED);\r\n    \t\t\t}","title":"Connecting to as400 JDBC on Play Framework","body":"<p>I'm having issues making a connection to an AS400 database inside of Play!.</p>\n\n<p>My <code>application.conf</code> looks like:</p>\n\n<pre><code>db.default.driver=\"com.ibm.as400.access.AS400JDBCDriver\"\ndb.default.url=\"jdbc:as400://SERVER;libraries=A,B,C;toolbox trace=all;trace=true\"\ndb.default.username=\"user\"\ndb.default.password=\"password\"\n</code></pre>\n\n<p>I've set up jt400 in the classpath, and I can see under \"external libraries\" that it shows up and is available. But essentially I get an error message about failing to connect (on user/password I know works) and failure to <code>execute isValid()</code>, which is a function that can not be found inside of <code>AS400JDBCConnection</code> class.</p>\n\n<pre><code>[error] c.z.h.p.PoolBase - HikariPool-1 - Failed to execute isValid() for connection, configure connection test query. (com.ibm.as400.access.AS400JDBCConnection.isValid(I)Z)\n[error] application - \n\n! @72265nf0a - Internal server error, for (GET) [/] -&gt;\n\nplay.api.Configuration$$anon$1: Configuration error[Cannot connect to database [default]]\n    at play.api.Configuration$.configError(Configuration.scala:154)\n    at play.api.Configuration.reportError(Configuration.scala:806)\n    at play.api.db.DefaultDBApi$$anonfun$connect$1.apply(DefaultDBApi.scala:48)\n    at play.api.db.DefaultDBApi$$anonfun$connect$1.apply(DefaultDBApi.scala:42)\n    at scala.collection.immutable.List.foreach(List.scala:381)\n    at play.api.db.DefaultDBApi.connect(DefaultDBApi.scala:42)\n    at play.api.db.DBApiProvider.get$lzycompute(DBModule.scala:72)\n    at play.api.db.DBApiProvider.get(DBModule.scala:62)\n    at play.api.db.DBApiProvider.get(DBModule.scala:58)\n    at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:81)\nCaused by: play.api.Configuration$$anon$1: Configuration error[Failed to initialize pool: com.ibm.as400.access.AS400JDBCConnection.isValid(I)Z]\n    at play.api.Configuration$.configError(Configuration.scala:154)\n    at play.api.PlayConfig.reportError(Configuration.scala:996)\n    at play.api.db.HikariCPConnectionPool.create(HikariCPModule.scala:70)\n    at play.api.db.PooledDatabase.createDataSource(Databases.scala:199)\n    at play.api.db.DefaultDatabase.dataSource$lzycompute(Databases.scala:123)\n    at play.api.db.DefaultDatabase.dataSource(Databases.scala:121)\n    at play.api.db.DefaultDatabase.getConnection(Databases.scala:142)\n    at play.api.db.DefaultDatabase.getConnection(Databases.scala:138)\n    at play.api.db.DefaultDBApi$$anonfun$connect$1.apply(DefaultDBApi.scala:44)\n    at play.api.db.DefaultDBApi$$anonfun$connect$1.apply(DefaultDBApi.scala:42)\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: com.ibm.as400.access.AS400JDBCConnection.isValid(I)Z\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:512)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:105)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:71)\n    at play.api.db.HikariCPConnectionPool$$anonfun$1.apply(HikariCPModule.scala:58)\n    at play.api.db.HikariCPConnectionPool$$anonfun$1.apply(HikariCPModule.scala:54)\n    at scala.util.Try$.apply(Try.scala:192)\n    at play.api.db.HikariCPConnectionPool.create(HikariCPModule.scala:54)\n    at play.api.db.PooledDatabase.createDataSource(Databases.scala:199)\n    at play.api.db.DefaultDatabase.dataSource$lzycompute(Databases.scala:123)\n    at play.api.db.DefaultDatabase.dataSource(Databases.scala:121)\nCaused by: java.lang.AbstractMethodError: com.ibm.as400.access.AS400JDBCConnection.isValid(I)Z\n    at com.zaxxer.hikari.pool.PoolBase.checkDriverSupport(PoolBase.java:400)\n    at com.zaxxer.hikari.pool.PoolBase.setupConnection(PoolBase.java:375)\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:346)\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:506)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:105)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:71)\n    at play.api.db.HikariCPConnectionPool$$anonfun$1.apply(HikariCPModule.scala:58)\n    at play.api.db.HikariCPConnectionPool$$anonfun$1.apply(HikariCPModule.scala:54)\n    at scala.util.Try$.apply(Try.scala:192)\n    at play.api.db.HikariCPConnectionPool.create(HikariCPModule.scala:54)\n</code></pre>\n\n<p>I'm able to connect in other java-based projects using something like:</p>\n\n<pre><code>try {\n                Class.forName(\"com.ibm.as400.access.AS400JDBCDriver\");\n                Connection con = DriverManager.getConnection(\"jdbc:as400://\" + \n                    ApplicationAuthentication.server + \"/\" + \n                    ApplicationAuthentication.library, \n                    ApplicationAuthentication.user, \n                    ApplicationAuthentication.password\n                );\n            } catch (Exception e) {\n                System.err.println(e);\n                throw new WebApplicationException(genericError, Response.Status.UNAUTHORIZED);\n            }\n</code></pre>\n"},{"tags":["java","excel","javafx","apache-poi"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":3,"creation_date":1651081857,"post_id":72032208,"comment_id":127279967,"body_markdown":"First remove all the JavaFX related code because it is probably not relevant for your problem and then show how you launched your program and the full stack trace.","body":"First remove all the JavaFX related code because it is probably not relevant for your problem and then show how you launched your program and the full stack trace."},{"owner":{"account_id":24939477,"reputation":33,"user_id":18805559,"display_name":"Henri Egger"},"score":0,"creation_date":1651124939,"post_id":72032208,"comment_id":127289182,"body_markdown":"Okay so I made Main not extend Application, deleted the start method, and removed `launch(args)` from the main method. This throws the error: `Fehler: Hauptklasse application.Main kann nicht initialisiert werden\nUrsache: java.lang.NoClassDefFoundError: org/apache/poi/EncryptedDocumentException`. Sorry it&#39;s in german, &quot;Fehler&quot; means error,&quot;Hauptklasse&quot; means main class, &quot;kann nicht initialisiert werden&quot; means could not be initialized, and &quot;Ursache&quot; means caused by.","body":"Okay so I made Main not extend Application, deleted the start method, and removed <code>launch(args)</code> from the main method. This throws the error: <code>Fehler: Hauptklasse application.Main kann nicht initialisiert werden Ursache: java.lang.NoClassDefFoundError: org&#47;apache&#47;poi&#47;EncryptedDocumentException</code>. Sorry it&#39;s in german, &quot;Fehler&quot; means error,&quot;Hauptklasse&quot; means main class, &quot;kann nicht initialisiert werden&quot; means could not be initialized, and &quot;Ursache&quot; means caused by."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1651127932,"post_id":72032208,"comment_id":127290036,"body_markdown":"The error tells that the class-loader cannot access class `org/apache/poi/EncryptedDocumentException` at run-time. This class is contained in `poi-*.jar` of your `apache poi` version. In `poi-5.2.2.jar` for version 5.2.2 for example. If that error occurs, then the class-loader is not able to access this jar at run-time. It is hard to determine **why** this is the case as it is dependent of your environment settings, which we don&#39;t know.","body":"The error tells that the class-loader cannot access class <code>org&#47;apache&#47;poi&#47;EncryptedDocumentException</code> at run-time. This class is contained in <code>poi-*.jar</code> of your <code>apache poi</code> version. In <code>poi-5.2.2.jar</code> for version 5.2.2 for example. If that error occurs, then the class-loader is not able to access this jar at run-time. It is hard to determine <b>why</b> this is the case as it is dependent of your environment settings, which we don&#39;t know."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1651130089,"post_id":72032208,"comment_id":127290787,"body_markdown":"In short, you&#39;re missing a dependency at run-time (but apparently not at compile-time, or you&#39;d be getting a compilation error). Make sure the needed JAR files are placed on the class-path or module-path when executing your code. If you&#39;re using Maven or Gradle, which I recommend, then make sure to use the build tool for executing the code (i.e., have your IDE delegate to the build tool, instead of letting the IDE use its own built-in execution system).","body":"In short, you&#39;re missing a dependency at run-time (but apparently not at compile-time, or you&#39;d be getting a compilation error). Make sure the needed JAR files are placed on the class-path or module-path when executing your code. If you&#39;re using Maven or Gradle, which I recommend, then make sure to use the build tool for executing the code (i.e., have your IDE delegate to the build tool, instead of letting the IDE use its own built-in execution system)."},{"owner":{"account_id":24939477,"reputation":33,"user_id":18805559,"display_name":"Henri Egger"},"score":0,"creation_date":1651131351,"post_id":72032208,"comment_id":127291228,"body_markdown":"Indeed the Apache POI library was placed in classpath, moving it to modulepath fixed the problem. Thank&#39;s a lot","body":"Indeed the Apache POI library was placed in classpath, moving it to modulepath fixed the problem. Thank&#39;s a lot"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1651135173,"post_id":72032208,"comment_id":127292639,"body_markdown":"That&#39;s why I said &quot;show how you launched your program&quot; because it obviously was a runtime error. You were lucky that @Slaw guessed it right.","body":"That&#39;s why I said &quot;show how you launched your program&quot; because it obviously was a runtime error. You were lucky that @Slaw guessed it right."}],"owner":{"account_id":24939477,"reputation":33,"user_id":18805559,"display_name":"Henri Egger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651076428,"creation_date":1651076428,"question_id":72032208,"body_markdown":"I am working on a JavaFX project that has to access encrypted Excel files. When trying to use `WorkbookFactory.create(InputStream inp, String password)` while the Stage is  shown, i get an `java.lang.NoClassDefFoundError: org/apache/poi/EncryptedDocumentException`. So for testing i tried accessing an encrypted Excel file before showing the stage. But as a result i get a `Missing JavaFX application class application.Main` error. I can&#39;t even start debug mode.\r\n\r\nI am using Windows 11, Eclipse Version: 2021-12 (4.22.0), JDK Version: jdk-17.0.2\r\n\r\n```\r\npackage application;\r\n\t\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.poi.EncryptedDocumentException;\r\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\n\r\npublic class Main extends Application {\r\n\t\r\n\t@Override\r\n\tpublic void start(Stage stage) {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;MainScene.fxml&quot;));\r\n\t\t\tScene scene = new Scene(root);\r\n\t\t\tstage.setScene(scene);\r\n\t\t\tstage.show();\r\n\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString filePath = &quot;C:\\\\Path\\\\To\\\\Sheet\\\\Excel_Sheet.xlsx&quot;;\r\n\t\tFileInputStream fis;\r\n\t\tXSSFWorkbook workbook;\r\n\t\tString password = &quot;test&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tfis = new FileInputStream(filePath);\r\n\t\t\tworkbook = (XSSFWorkbook)WorkbookFactory.create(fis, password);\r\n\t\t} catch (IOException | EncryptedDocumentException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"&quot;Missing JavaFX application class application.Main&quot; when combining JavaFX with Apache POI","body":"<p>I am working on a JavaFX project that has to access encrypted Excel files. When trying to use <code>WorkbookFactory.create(InputStream inp, String password)</code> while the Stage is  shown, i get an <code>java.lang.NoClassDefFoundError: org/apache/poi/EncryptedDocumentException</code>. So for testing i tried accessing an encrypted Excel file before showing the stage. But as a result i get a <code>Missing JavaFX application class application.Main</code> error. I can't even start debug mode.</p>\n<p>I am using Windows 11, Eclipse Version: 2021-12 (4.22.0), JDK Version: jdk-17.0.2</p>\n<pre><code>package application;\n    \nimport java.io.FileInputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.EncryptedDocumentException;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\n\npublic class Main extends Application {\n    \n    @Override\n    public void start(Stage stage) {\n        try {\n            \n            Parent root = FXMLLoader.load(getClass().getResource(&quot;MainScene.fxml&quot;));\n            Scene scene = new Scene(root);\n            stage.setScene(scene);\n            stage.show();\n\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        \n        String filePath = &quot;C:\\\\Path\\\\To\\\\Sheet\\\\Excel_Sheet.xlsx&quot;;\n        FileInputStream fis;\n        XSSFWorkbook workbook;\n        String password = &quot;test&quot;;\n        \n        try {\n            fis = new FileInputStream(filePath);\n            workbook = (XSSFWorkbook)WorkbookFactory.create(fis, password);\n        } catch (IOException | EncryptedDocumentException e) {\n            e.printStackTrace();\n        }\n        \n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","cassandra","cassandraunit"],"answers":[{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651076346,"creation_date":1651076346,"answer_id":72032187,"question_id":72006470,"body_markdown":"So far I see two ways:\r\n\r\n 1. Cooperation with `jsevellec` if you like that product\r\n 2. Using [testcontainers+cassandra](https://www.testcontainers.org/modules/databases/cassandra/) \r\n    ```java\r\n    public class SomeTest {\r\n\r\n        @Rule\r\n        public CassandraContainer cassandra = new CassandraContainer();\r\n\r\n\r\n        @Test\r\n        public void test(){\r\n            Cluster cluster = cassandra.getCluster();\r\n\r\n            try(Session session = cluster.connect()) {\r\n\r\n                session.execute(&quot;CREATE KEYSPACE IF NOT EXISTS test WITH replication = \\n&quot; +\r\n                        &quot;{&#39;class&#39;:&#39;SimpleStrategy&#39;,&#39;replication_factor&#39;:&#39;1&#39;};&quot;);\r\n\r\n                List&lt;KeyspaceMetadata&gt; keyspaces = session.getCluster().getMetadata().getKeyspaces();\r\n                List&lt;KeyspaceMetadata&gt; filteredKeyspaces = keyspaces\r\n                        .stream()\r\n                        .filter(km -&gt; km.getName().equals(&quot;test&quot;))\r\n                        .collect(Collectors.toList());\r\n\r\n                assertEquals(1, filteredKeyspaces.size());\r\n            }\r\n        }\r\n    }\r\n    ```\r\n    There are some questions related to Spring + Testcontainers + Cassandra here https://stackoverflow.com/a/58673372/6916890","title":"Embedded Cassandra unit testing options","body":"<p>So far I see two ways:</p>\n<ol>\n<li>Cooperation with <code>jsevellec</code> if you like that product</li>\n<li>Using <a href=\"https://www.testcontainers.org/modules/databases/cassandra/\" rel=\"nofollow noreferrer\">testcontainers+cassandra</a>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeTest {\n\n    @Rule\n    public CassandraContainer cassandra = new CassandraContainer();\n\n\n    @Test\n    public void test(){\n        Cluster cluster = cassandra.getCluster();\n\n        try(Session session = cluster.connect()) {\n\n            session.execute(&quot;CREATE KEYSPACE IF NOT EXISTS test WITH replication = \\n&quot; +\n                    &quot;{'class':'SimpleStrategy','replication_factor':'1'};&quot;);\n\n            List&lt;KeyspaceMetadata&gt; keyspaces = session.getCluster().getMetadata().getKeyspaces();\n            List&lt;KeyspaceMetadata&gt; filteredKeyspaces = keyspaces\n                    .stream()\n                    .filter(km -&gt; km.getName().equals(&quot;test&quot;))\n                    .collect(Collectors.toList());\n\n            assertEquals(1, filteredKeyspaces.size());\n        }\n    }\n}\n</code></pre>\nThere are some questions related to Spring + Testcontainers + Cassandra here <a href=\"https://stackoverflow.com/a/58673372/6916890\">https://stackoverflow.com/a/58673372/6916890</a></li>\n</ol>\n"}],"owner":{"account_id":995482,"reputation":725,"user_id":1011552,"accept_rate":75,"display_name":"Mike Barlotta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651076346,"creation_date":1650926773,"question_id":72006470,"body_markdown":"Our team was in the process of updating our dependencies and one of those is [Cassandra Unit][1]. I noticed that the last time this library was [updated was in January of 2020][2] and that there hasn&#39;t been any activity in a long time. In addition there are 12 open pull requests that have just been sitting. I did notice some developers have forked this repo to add features they wanted. \r\n\r\nWe have enjoyed using this library to test CQL in our DAO objects via JUnit and are planning to upgrade to the latest version (4.3.1.0). \r\n\r\nI hope that the developer (jsevellec) that was leading this effort is doing well. But in the absence of activity on this repo, and thinking longer term, I was wondering what other libraries might be available that allow ease of testing using an embedded Cassandra instance via JUnit that are more actively supported. \r\n\r\n\r\n  [1]: https://github.com/jsevellec/cassandra-unit\r\n  [2]: https://mvnrepository.com/artifact/org.cassandraunit/cassandra-unit","title":"Embedded Cassandra unit testing options","body":"<p>Our team was in the process of updating our dependencies and one of those is <a href=\"https://github.com/jsevellec/cassandra-unit\" rel=\"nofollow noreferrer\">Cassandra Unit</a>. I noticed that the last time this library was <a href=\"https://mvnrepository.com/artifact/org.cassandraunit/cassandra-unit\" rel=\"nofollow noreferrer\">updated was in January of 2020</a> and that there hasn't been any activity in a long time. In addition there are 12 open pull requests that have just been sitting. I did notice some developers have forked this repo to add features they wanted.</p>\n<p>We have enjoyed using this library to test CQL in our DAO objects via JUnit and are planning to upgrade to the latest version (4.3.1.0).</p>\n<p>I hope that the developer (jsevellec) that was leading this effort is doing well. But in the absence of activity on this repo, and thinking longer term, I was wondering what other libraries might be available that allow ease of testing using an embedded Cassandra instance via JUnit that are more actively supported.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1651071043,"post_id":72030812,"comment_id":127275831,"body_markdown":"`ActionListener a = null;`","body":"<code>ActionListener a = null;</code>"}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651073648,"creation_date":1651073648,"answer_id":72031550,"question_id":72030812,"body_markdown":"You&#39;re currently adding your ActionListener `a` which you set to `null` to all of your buttons. Change `ActionListener a = null` to `ActionListener a = new calc();`","title":"Trying to create a calculator with Java. Button inputs won&#39;t print in the textfield","body":"<p>You're currently adding your ActionListener <code>a</code> which you set to <code>null</code> to all of your buttons. Change <code>ActionListener a = null</code> to <code>ActionListener a = new calc();</code></p>\n"},{"tags":[],"owner":{"account_id":15596435,"reputation":31,"user_id":11251824,"display_name":"macmar22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651076211,"creation_date":1651076211,"answer_id":72032162,"question_id":72030812,"body_markdown":"You forgot to initialize calc object by ```ActionListener a = new calc();```\r\n 1. Use field names starting with small letters!\r\n 2. Use loops instead of repetitive code!\r\n 3. Start class names with capital letters!\r\n 4. Name calc class by CustomActionListener\r\nBelow there is pretty code!\r\n\r\nQuestion: why do you check it if it&#39;s always false? ```if (!val1.equals(&quot;&quot;))```\r\n\r\n```\r\npackage scientificcalc;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class ScientificCalc extends JFrame {\r\n    JFrame frame;\r\n    JPanel panel;\r\n    JTextField textField;\r\n    JButton[] buttonArray = new JButton[25]; // Array holds all calculator buttons\r\n    String val0, val1, val2; // Each val records a button pressed\r\n\r\n    public ScientificCalc() {\r\n        val0 = val1 = val2 = &quot;&quot;;\r\n        frame = new JFrame(&quot;Scientific Calculator&quot;);\r\n        panel = new JPanel();\r\n        panel.setBackground(Color.RED);\r\n        textField = new JTextField(20);\r\n        textField.setEditable(false);\r\n        frame.setVisible(true);\r\n        frame.setSize(400, 400);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        CustomActionListener actionListener = new CustomActionListener();\r\n        // Following Lines create each button\r\n        buttonArray[0] = new JButton(&quot;0&quot;);\r\n        buttonArray[1] = new JButton(&quot;1&quot;);\r\n        buttonArray[2] = new JButton(&quot;2&quot;);\r\n        buttonArray[3] = new JButton(&quot;3&quot;);\r\n        buttonArray[4] = new JButton(&quot;4&quot;);\r\n        buttonArray[5] = new JButton(&quot;5&quot;);\r\n        buttonArray[6] = new JButton(&quot;6&quot;);\r\n        buttonArray[7] = new JButton(&quot;7&quot;);\r\n        buttonArray[8] = new JButton(&quot;8&quot;);\r\n        buttonArray[9] = new JButton(&quot;9&quot;);\r\n        buttonArray[10] = new JButton(&quot;+&quot;);\r\n        buttonArray[11] = new JButton(&quot;-&quot;);\r\n        buttonArray[12] = new JButton(&quot;*&quot;);\r\n        buttonArray[13] = new JButton(&quot;/&quot;);\r\n        buttonArray[14] = new JButton(&quot;SQRT&quot;);\r\n        buttonArray[15] = new JButton(&quot;Sin&quot;);\r\n        buttonArray[16] = new JButton(&quot;Cos&quot;);\r\n        buttonArray[17] = new JButton(&quot;Tan&quot;);\r\n        buttonArray[18] = new JButton(&quot;1/x&quot;);\r\n        buttonArray[19] = new JButton(&quot;x^2&quot;);\r\n        buttonArray[20] = new JButton(&quot;log&quot;);\r\n        buttonArray[21] = new JButton(&quot;!&quot;);\r\n        buttonArray[22] = new JButton(&quot;.&quot;);\r\n        buttonArray[23] = new JButton(&quot;=&quot;);\r\n        buttonArray[24] = new JButton(&quot;Clear&quot;);\r\n        for (int i = 0; i &lt; buttonArray.length; i++) {\r\n            buttonArray[i].addActionListener(actionListener);\r\n        }\r\n        // Following Lines add everything to Panel and Frame\r\n        panel.add(textField);\r\n        for (JButton jButton : buttonArray) {\r\n            panel.add(jButton);\r\n        }\r\n        frame.add(panel);\r\n    }\r\n\r\n    class CustomActionListener implements ActionListener {\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            String i = e.getActionCommand();\r\n            if ((i.charAt(0) &gt;= &#39;0&#39; &amp;&amp; i.charAt(0) &lt;= &#39;9&#39;) || i.charAt(0) == &#39;.&#39;) {\r\n                if (!val1.equals(&quot;&quot;)) {\r\n                    val2 = val2 + i;\r\n                } else {\r\n                    val0 = val0 + i; // Sets location of each digit when button is pressed\r\n                }\r\n                textField.setText(val0 + val1 + val2);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new ScientificCalc();\r\n    }\r\n}\r\n```","title":"Trying to create a calculator with Java. Button inputs won&#39;t print in the textfield","body":"<p>You forgot to initialize calc object by <code>ActionListener a = new calc();</code></p>\n<ol>\n<li>Use field names starting with small letters!</li>\n<li>Use loops instead of repetitive code!</li>\n<li>Start class names with capital letters!</li>\n<li>Name calc class by CustomActionListener\nBelow there is pretty code!</li>\n</ol>\n<p>Question: why do you check it if it's always false? <code>if (!val1.equals(&quot;&quot;))</code></p>\n<pre><code>package scientificcalc;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class ScientificCalc extends JFrame {\n    JFrame frame;\n    JPanel panel;\n    JTextField textField;\n    JButton[] buttonArray = new JButton[25]; // Array holds all calculator buttons\n    String val0, val1, val2; // Each val records a button pressed\n\n    public ScientificCalc() {\n        val0 = val1 = val2 = &quot;&quot;;\n        frame = new JFrame(&quot;Scientific Calculator&quot;);\n        panel = new JPanel();\n        panel.setBackground(Color.RED);\n        textField = new JTextField(20);\n        textField.setEditable(false);\n        frame.setVisible(true);\n        frame.setSize(400, 400);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        CustomActionListener actionListener = new CustomActionListener();\n        // Following Lines create each button\n        buttonArray[0] = new JButton(&quot;0&quot;);\n        buttonArray[1] = new JButton(&quot;1&quot;);\n        buttonArray[2] = new JButton(&quot;2&quot;);\n        buttonArray[3] = new JButton(&quot;3&quot;);\n        buttonArray[4] = new JButton(&quot;4&quot;);\n        buttonArray[5] = new JButton(&quot;5&quot;);\n        buttonArray[6] = new JButton(&quot;6&quot;);\n        buttonArray[7] = new JButton(&quot;7&quot;);\n        buttonArray[8] = new JButton(&quot;8&quot;);\n        buttonArray[9] = new JButton(&quot;9&quot;);\n        buttonArray[10] = new JButton(&quot;+&quot;);\n        buttonArray[11] = new JButton(&quot;-&quot;);\n        buttonArray[12] = new JButton(&quot;*&quot;);\n        buttonArray[13] = new JButton(&quot;/&quot;);\n        buttonArray[14] = new JButton(&quot;SQRT&quot;);\n        buttonArray[15] = new JButton(&quot;Sin&quot;);\n        buttonArray[16] = new JButton(&quot;Cos&quot;);\n        buttonArray[17] = new JButton(&quot;Tan&quot;);\n        buttonArray[18] = new JButton(&quot;1/x&quot;);\n        buttonArray[19] = new JButton(&quot;x^2&quot;);\n        buttonArray[20] = new JButton(&quot;log&quot;);\n        buttonArray[21] = new JButton(&quot;!&quot;);\n        buttonArray[22] = new JButton(&quot;.&quot;);\n        buttonArray[23] = new JButton(&quot;=&quot;);\n        buttonArray[24] = new JButton(&quot;Clear&quot;);\n        for (int i = 0; i &lt; buttonArray.length; i++) {\n            buttonArray[i].addActionListener(actionListener);\n        }\n        // Following Lines add everything to Panel and Frame\n        panel.add(textField);\n        for (JButton jButton : buttonArray) {\n            panel.add(jButton);\n        }\n        frame.add(panel);\n    }\n\n    class CustomActionListener implements ActionListener {\n\n        public void actionPerformed(ActionEvent e) {\n            String i = e.getActionCommand();\n            if ((i.charAt(0) &gt;= '0' &amp;&amp; i.charAt(0) &lt;= '9') || i.charAt(0) == '.') {\n                if (!val1.equals(&quot;&quot;)) {\n                    val2 = val2 + i;\n                } else {\n                    val0 = val0 + i; // Sets location of each digit when button is pressed\n                }\n                textField.setText(val0 + val1 + val2);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        new ScientificCalc();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25116912,"reputation":3,"user_id":18965824,"display_name":"Samuel Shatoff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72031550,"answer_count":2,"score":0,"last_activity_date":1651076211,"creation_date":1651070829,"question_id":72030812,"body_markdown":"I&#39;m trying to create a scientific calculator for class. I&#39;m not sure where I&#39;m going wrong, but it will not print any button inputs into the textfield. Does anybody know where I&#39;m going wrong? Problems come from the &#39;calc&#39; class at the bottom of the code. I&#39;ve only coded the calculator to respond to number inputs, so no other buttons will work, but the number buttons should work and I don&#39;t know how to fix it. I&#39;m still very new to programming\r\n```\r\npackage scientificcalc;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\npublic class ScientificCalc extends JFrame {\r\n    JFrame Frame;\r\n    JPanel Panel;\r\n    JTextField Text;\r\n    JButton Button[]= new JButton[25]; // Array holds all calculator buttons\r\n    String val0, val1, val2; // Each val records a button pressed\r\n    public ScientificCalc() {\r\n        val0 = val1 = val2 = &quot;&quot;;\r\n        Frame = new JFrame(&quot;Scientific Calculator&quot;);\r\n        Panel = new JPanel();\r\n        Panel.setBackground(Color.RED);\r\n        Text = new JTextField(20);\r\n        Text.setEditable(false);\r\n        Frame.setVisible(true);\r\n        Frame.setSize(400,400);\r\n        Frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        ActionListener a = null;\r\n        // Following Lines create each button\r\n        Button[0] = new JButton(&quot;0&quot;);\r\n        Button[0].addActionListener(a);\r\n        Button[1] = new JButton(&quot;1&quot;);\r\n        Button[1].addActionListener(a);\r\n        Button[2] = new JButton(&quot;2&quot;);\r\n        Button[2].addActionListener(a);\r\n        Button[3] = new JButton(&quot;3&quot;);\r\n        Button[3].addActionListener(a);\r\n        Button[4] = new JButton(&quot;4&quot;);\r\n        Button[4].addActionListener(a);\r\n        Button[5] = new JButton(&quot;5&quot;);\r\n        Button[5].addActionListener(a);\r\n        Button[6] = new JButton(&quot;6&quot;);\r\n        Button[6].addActionListener(a);\r\n        Button[7] = new JButton(&quot;7&quot;);\r\n        Button[7].addActionListener(a);\r\n        Button[8] = new JButton(&quot;8&quot;);\r\n        Button[8].addActionListener(a);\r\n        Button[9] = new JButton(&quot;9&quot;);\r\n        Button[9].addActionListener(a);\r\n        Button[10] = new JButton(&quot;+&quot;);\r\n        Button[10].addActionListener(a);\r\n        Button[11] = new JButton(&quot;-&quot;);\r\n        Button[11].addActionListener(a);\r\n        Button[12] = new JButton(&quot;*&quot;);\r\n        Button[12].addActionListener(a);\r\n        Button[13] = new JButton(&quot;/&quot;);\r\n        Button[13].addActionListener(a);\r\n        Button[14] = new JButton(&quot;SQRT&quot;);\r\n        Button[14].addActionListener(a);\r\n        Button[15] = new JButton(&quot;Sin&quot;);\r\n        Button[15].addActionListener(a);\r\n        Button[16] = new JButton(&quot;Cos&quot;);\r\n        Button[16].addActionListener(a);\r\n        Button[17] = new JButton(&quot;Tan&quot;);\r\n        Button[17].addActionListener(a);\r\n        Button[18] = new JButton(&quot;1/x&quot;);\r\n        Button[18].addActionListener(a);\r\n        Button[19] = new JButton(&quot;x^2&quot;);\r\n        Button[19].addActionListener(a);\r\n        Button[20] = new JButton(&quot;log&quot;);\r\n        Button[20].addActionListener(a);\r\n        Button[21] = new JButton(&quot;!&quot;);\r\n        Button[21].addActionListener(a);\r\n        Button[22] = new JButton(&quot;.&quot;);\r\n        Button[22].addActionListener(a);\r\n        Button[23] = new JButton(&quot;=&quot;);\r\n        Button[23].addActionListener(a);\r\n        Button[24] = new JButton(&quot;Clear&quot;);\r\n        Button[24].addActionListener(a);\r\n        // Following Lines add everything to Panel and Frame\r\n        Panel.add(Text);\r\n        Panel.add(Button[0]);\r\n        Panel.add(Button[1]);\r\n        Panel.add(Button[2]);\r\n        Panel.add(Button[3]);\r\n        Panel.add(Button[4]);\r\n        Panel.add(Button[5]);\r\n        Panel.add(Button[6]);\r\n        Panel.add(Button[7]);\r\n        Panel.add(Button[8]);\r\n        Panel.add(Button[9]);\r\n        Panel.add(Button[10]);\r\n        Panel.add(Button[11]);\r\n        Panel.add(Button[12]);\r\n        Panel.add(Button[13]);\r\n        Panel.add(Button[14]);\r\n        Panel.add(Button[15]);\r\n        Panel.add(Button[16]);\r\n        Panel.add(Button[17]);\r\n        Panel.add(Button[18]);\r\n        Panel.add(Button[19]);\r\n        Panel.add(Button[20]);\r\n        Panel.add(Button[21]);\r\n        Panel.add(Button[22]);\r\n        Panel.add(Button[23]);\r\n        Panel.add(Button[24]);\r\n        Frame.add(Panel);\r\n    }\r\n    \r\n    public class calc implements ActionListener {\r\n        public void actionPerformed(ActionEvent e) {\r\n            String i = e.getActionCommand();\r\n            if ((i.charAt(0) &gt;= &#39;0&#39; &amp;&amp; i.charAt(0) &lt;= &#39;9&#39;) || i.charAt(0) == &#39;.&#39;) {\r\n                if (!val1.equals(&quot;&quot;)) {\r\n                    val2 = val2 + i;\r\n                } else {\r\n                    val0 = val0 + i; // Sets location of each digit when button is pressed\r\n                }\r\n                Text.setText(val0+val1+val2);\r\n            }\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        new ScientificCalc();\r\n    }\r\n}\r\n```","title":"Trying to create a calculator with Java. Button inputs won&#39;t print in the textfield","body":"<p>I'm trying to create a scientific calculator for class. I'm not sure where I'm going wrong, but it will not print any button inputs into the textfield. Does anybody know where I'm going wrong? Problems come from the 'calc' class at the bottom of the code. I've only coded the calculator to respond to number inputs, so no other buttons will work, but the number buttons should work and I don't know how to fix it. I'm still very new to programming</p>\n<pre><code>package scientificcalc;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\npublic class ScientificCalc extends JFrame {\n    JFrame Frame;\n    JPanel Panel;\n    JTextField Text;\n    JButton Button[]= new JButton[25]; // Array holds all calculator buttons\n    String val0, val1, val2; // Each val records a button pressed\n    public ScientificCalc() {\n        val0 = val1 = val2 = &quot;&quot;;\n        Frame = new JFrame(&quot;Scientific Calculator&quot;);\n        Panel = new JPanel();\n        Panel.setBackground(Color.RED);\n        Text = new JTextField(20);\n        Text.setEditable(false);\n        Frame.setVisible(true);\n        Frame.setSize(400,400);\n        Frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        ActionListener a = null;\n        // Following Lines create each button\n        Button[0] = new JButton(&quot;0&quot;);\n        Button[0].addActionListener(a);\n        Button[1] = new JButton(&quot;1&quot;);\n        Button[1].addActionListener(a);\n        Button[2] = new JButton(&quot;2&quot;);\n        Button[2].addActionListener(a);\n        Button[3] = new JButton(&quot;3&quot;);\n        Button[3].addActionListener(a);\n        Button[4] = new JButton(&quot;4&quot;);\n        Button[4].addActionListener(a);\n        Button[5] = new JButton(&quot;5&quot;);\n        Button[5].addActionListener(a);\n        Button[6] = new JButton(&quot;6&quot;);\n        Button[6].addActionListener(a);\n        Button[7] = new JButton(&quot;7&quot;);\n        Button[7].addActionListener(a);\n        Button[8] = new JButton(&quot;8&quot;);\n        Button[8].addActionListener(a);\n        Button[9] = new JButton(&quot;9&quot;);\n        Button[9].addActionListener(a);\n        Button[10] = new JButton(&quot;+&quot;);\n        Button[10].addActionListener(a);\n        Button[11] = new JButton(&quot;-&quot;);\n        Button[11].addActionListener(a);\n        Button[12] = new JButton(&quot;*&quot;);\n        Button[12].addActionListener(a);\n        Button[13] = new JButton(&quot;/&quot;);\n        Button[13].addActionListener(a);\n        Button[14] = new JButton(&quot;SQRT&quot;);\n        Button[14].addActionListener(a);\n        Button[15] = new JButton(&quot;Sin&quot;);\n        Button[15].addActionListener(a);\n        Button[16] = new JButton(&quot;Cos&quot;);\n        Button[16].addActionListener(a);\n        Button[17] = new JButton(&quot;Tan&quot;);\n        Button[17].addActionListener(a);\n        Button[18] = new JButton(&quot;1/x&quot;);\n        Button[18].addActionListener(a);\n        Button[19] = new JButton(&quot;x^2&quot;);\n        Button[19].addActionListener(a);\n        Button[20] = new JButton(&quot;log&quot;);\n        Button[20].addActionListener(a);\n        Button[21] = new JButton(&quot;!&quot;);\n        Button[21].addActionListener(a);\n        Button[22] = new JButton(&quot;.&quot;);\n        Button[22].addActionListener(a);\n        Button[23] = new JButton(&quot;=&quot;);\n        Button[23].addActionListener(a);\n        Button[24] = new JButton(&quot;Clear&quot;);\n        Button[24].addActionListener(a);\n        // Following Lines add everything to Panel and Frame\n        Panel.add(Text);\n        Panel.add(Button[0]);\n        Panel.add(Button[1]);\n        Panel.add(Button[2]);\n        Panel.add(Button[3]);\n        Panel.add(Button[4]);\n        Panel.add(Button[5]);\n        Panel.add(Button[6]);\n        Panel.add(Button[7]);\n        Panel.add(Button[8]);\n        Panel.add(Button[9]);\n        Panel.add(Button[10]);\n        Panel.add(Button[11]);\n        Panel.add(Button[12]);\n        Panel.add(Button[13]);\n        Panel.add(Button[14]);\n        Panel.add(Button[15]);\n        Panel.add(Button[16]);\n        Panel.add(Button[17]);\n        Panel.add(Button[18]);\n        Panel.add(Button[19]);\n        Panel.add(Button[20]);\n        Panel.add(Button[21]);\n        Panel.add(Button[22]);\n        Panel.add(Button[23]);\n        Panel.add(Button[24]);\n        Frame.add(Panel);\n    }\n    \n    public class calc implements ActionListener {\n        public void actionPerformed(ActionEvent e) {\n            String i = e.getActionCommand();\n            if ((i.charAt(0) &gt;= '0' &amp;&amp; i.charAt(0) &lt;= '9') || i.charAt(0) == '.') {\n                if (!val1.equals(&quot;&quot;)) {\n                    val2 = val2 + i;\n                } else {\n                    val0 = val0 + i; // Sets location of each digit when button is pressed\n                }\n                Text.setText(val0+val1+val2);\n            }\n        }\n    }\n    public static void main(String[] args) {\n        new ScientificCalc();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","rest","post","deserialization"],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651076168,"creation_date":1651076168,"answer_id":72032151,"question_id":72031874,"body_markdown":"You can create a POJO model for the request body or, in this case, you could do something like this:\r\n\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\n    @PostMapping(&quot;/search&quot;)\r\n    public ResponseEntity&lt;List&lt;Object&gt;&gt; search(@RequestBody ObjectNode body) {\r\n        String value = body.at(&quot;/criteria/value&quot;).textValue();\r\n        String identifier = body.at(&quot;/criteria/identifier&quot;).textValue();\r\n        return ResponseEntity.ok(List.of());\r\n    }\r\n\r\n","title":"How to implement search API using POST request in spring","body":"<p>You can create a POJO model for the request body or, in this case, you could do something like this:</p>\n<pre><code>import com.fasterxml.jackson.databind.node.ObjectNode;\n\n@PostMapping(&quot;/search&quot;)\npublic ResponseEntity&lt;List&lt;Object&gt;&gt; search(@RequestBody ObjectNode body) {\n    String value = body.at(&quot;/criteria/value&quot;).textValue();\n    String identifier = body.at(&quot;/criteria/identifier&quot;).textValue();\n    return ResponseEntity.ok(List.of());\n}\n</code></pre>\n"}],"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72032151,"answer_count":1,"score":0,"last_activity_date":1651076168,"creation_date":1651075025,"question_id":72031874,"body_markdown":"I have a scenario wherein I am supposed to search an object using POST request(instead of expected &quot;GET&quot;) having the search criteria as the body of the request, something similar to the following:\r\n\r\n    {\r\n          &quot;criteria&quot;: {\r\n                &quot;value&quot;: &quot;BMC_BaseElement&quot;,\r\n                &quot;identifier&quot;: &quot;some value&quot;\r\n          }\r\n    }\r\n\r\nNow let&#39;s say I need to search on the basis of &quot;value&quot; and &quot;identifier&quot;. \r\nDo I need to create a corresponding &quot;criteria&quot; POJO and let spring deserialize it, fetch the &quot;value&quot; and &quot;identifier&quot; using getters and then search or how is it generally done?","title":"How to implement search API using POST request in spring","body":"<p>I have a scenario wherein I am supposed to search an object using POST request(instead of expected &quot;GET&quot;) having the search criteria as the body of the request, something similar to the following:</p>\n<pre><code>{\n      &quot;criteria&quot;: {\n            &quot;value&quot;: &quot;BMC_BaseElement&quot;,\n            &quot;identifier&quot;: &quot;some value&quot;\n      }\n}\n</code></pre>\n<p>Now let's say I need to search on the basis of &quot;value&quot; and &quot;identifier&quot;.\nDo I need to create a corresponding &quot;criteria&quot; POJO and let spring deserialize it, fetch the &quot;value&quot; and &quot;identifier&quot; using getters and then search or how is it generally done?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":10121038,"reputation":41,"user_id":7477941,"display_name":"Daniel Shriki"},"score":0,"creation_date":1651386359,"post_id":72032138,"comment_id":127349746,"body_markdown":"You maybe right, however acrobat pro does give you the option to attach much more actions to a form button beside &quot;submit a form&quot;. do you have an alternative to make a button which will redirect the user to a link? I need to first find the right button on the document, and when using a form-button is very easy to find.","body":"You maybe right, however acrobat pro does give you the option to attach much more actions to a form button beside &quot;submit a form&quot;. do you have an alternative to make a button which will redirect the user to a link? I need to first find the right button on the document, and when using a form-button is very easy to find."}],"owner":{"account_id":10121038,"reputation":41,"user_id":7477941,"display_name":"Daniel Shriki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651076123,"creation_date":1651076123,"question_id":72032138,"body_markdown":"**The problem:**\r\n\r\nI have a pdf that I&#39;ve created using Adobe acrobat pro. Inside the pdf I have several form buttons (&quot;fields&quot;) which I want to dynamically insert them a web url link to enter when one&#39;s click a button. \r\n\r\n**what I&#39;ve tried so far:**\r\n\r\n```\r\nPDDocument doc = new PDDocument.load(pdf);\r\nPDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\r\nPDPushButton b1 = acroForm.getField(&quot;Button1&quot;);\r\n\r\nPDActionURI uri = new PDActionURI();\r\nuri.setURI(&quot;https://stackoverflow.com&quot;);\r\n\r\nPDFormFieldAdditionalActions actions = new PDFormFieldAdditionalActions();\r\nactions.setF(uri);\r\n\r\nb1.setActions(actions);\r\n\r\n```\r\n\r\n**and -** \r\n\r\n```\r\nPDDocument doc = new PDDocument.load(pdf);\r\nPDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\r\nPDPushButton b1 = acroForm.getField(&quot;Button1&quot;);\r\n\r\nPDActionURI uri = new PDActionURI();\r\nuri.setURI(&quot;https://stackoverflow.com&quot;);\r\n\r\nb1.getWidget().setAction(uri);\r\n\r\n```\r\n\r\nI haven&#39;t find any documentation on how to do it - so I&#39;ve tried the above code based on reading their open source code and what I&#39;ve understood from it. \r\n\r\nI&#39;ve also tried to use an action called PDActionGoTo but it has a function &#39;setDestination&#39; which gets &#39;PDDestination&#39; object, but I didn&#39;t understand how to initial it with a url.\r\n\r\n\r\nI&#39;ve found also someone with a similar problem - only that he created the button in the code instead of getting it from the pdf file. I didn&#39;t manage to make the adjustment but I will supply the code (he wrote that it worked for him eventually):\r\n\r\n```\r\nPDPushButton pb = new PDPushButton(acroForm);\r\npb.setPartialName(&quot;sbtn&quot;);\r\nCOSDictionary cosPush = pb.getCOSObject();\r\nCOSDictionary cosA = new COSDictionary();\r\ncosPush.setInt(COSName.F, 4);\r\ncosPush.setItem(COSName.A, cosA);\r\ncosPush.setItem(COSName.P, page);\r\ncosA.setInt(COSName.FLAGS, 256);\r\ncosA.setName(COSName.S, &quot;SubmitForm&quot;);\r\nCOSDictionary cosF = new COSDictionary();\r\ncosA.setItem(COSName.F, cosF);\r\ncosF.setString(COSName.F, &quot;https://stackoverflow.com&quot;);\r\ncosF.setName(&quot;FS&quot;, &quot;URL&quot;);\r\n// add the field to the acroform\r\nacroForm.getFields().add(pb);\r\n```\r\n*To see the original question go [here][1]*\r\n\r\nAlso, does anyone knows what are those constants COSName.F/COSName.A/ect. meaning? is it part of the pdf acro-form specification? I tried to look it up but didn&#39;t find any helpful information about it, beside that it looks like everyone that asked about pdfbox before somehow already knows it. \r\n\r\n**about the environment:**\r\n\r\njava 8\r\n\r\npdfbox version 2.0.22\r\n\r\nadobe acrobat pro version 2022.001.20112\r\n\r\nthanks for the help : ) \r\n\r\n\r\n  [1]: https://pdfbox-users.markmail.org/message/i62xtxwqc4xhtwen?q=PDPushButton+action","title":"How to insert a link programmatically into PDPushButton to existing pdf using pdfbox / acro-form","body":"<p><strong>The problem:</strong></p>\n<p>I have a pdf that I've created using Adobe acrobat pro. Inside the pdf I have several form buttons (&quot;fields&quot;) which I want to dynamically insert them a web url link to enter when one's click a button.</p>\n<p><strong>what I've tried so far:</strong></p>\n<pre><code>PDDocument doc = new PDDocument.load(pdf);\nPDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\nPDPushButton b1 = acroForm.getField(&quot;Button1&quot;);\n\nPDActionURI uri = new PDActionURI();\nuri.setURI(&quot;https://stackoverflow.com&quot;);\n\nPDFormFieldAdditionalActions actions = new PDFormFieldAdditionalActions();\nactions.setF(uri);\n\nb1.setActions(actions);\n\n</code></pre>\n<p><strong>and -</strong></p>\n<pre><code>PDDocument doc = new PDDocument.load(pdf);\nPDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\nPDPushButton b1 = acroForm.getField(&quot;Button1&quot;);\n\nPDActionURI uri = new PDActionURI();\nuri.setURI(&quot;https://stackoverflow.com&quot;);\n\nb1.getWidget().setAction(uri);\n\n</code></pre>\n<p>I haven't find any documentation on how to do it - so I've tried the above code based on reading their open source code and what I've understood from it.</p>\n<p>I've also tried to use an action called PDActionGoTo but it has a function 'setDestination' which gets 'PDDestination' object, but I didn't understand how to initial it with a url.</p>\n<p>I've found also someone with a similar problem - only that he created the button in the code instead of getting it from the pdf file. I didn't manage to make the adjustment but I will supply the code (he wrote that it worked for him eventually):</p>\n<pre><code>PDPushButton pb = new PDPushButton(acroForm);\npb.setPartialName(&quot;sbtn&quot;);\nCOSDictionary cosPush = pb.getCOSObject();\nCOSDictionary cosA = new COSDictionary();\ncosPush.setInt(COSName.F, 4);\ncosPush.setItem(COSName.A, cosA);\ncosPush.setItem(COSName.P, page);\ncosA.setInt(COSName.FLAGS, 256);\ncosA.setName(COSName.S, &quot;SubmitForm&quot;);\nCOSDictionary cosF = new COSDictionary();\ncosA.setItem(COSName.F, cosF);\ncosF.setString(COSName.F, &quot;https://stackoverflow.com&quot;);\ncosF.setName(&quot;FS&quot;, &quot;URL&quot;);\n// add the field to the acroform\nacroForm.getFields().add(pb);\n</code></pre>\n<p><em>To see the original question go <a href=\"https://pdfbox-users.markmail.org/message/i62xtxwqc4xhtwen?q=PDPushButton+action\" rel=\"nofollow noreferrer\">here</a></em></p>\n<p>Also, does anyone knows what are those constants COSName.F/COSName.A/ect. meaning? is it part of the pdf acro-form specification? I tried to look it up but didn't find any helpful information about it, beside that it looks like everyone that asked about pdfbox before somehow already knows it.</p>\n<p><strong>about the environment:</strong></p>\n<p>java 8</p>\n<p>pdfbox version 2.0.22</p>\n<p>adobe acrobat pro version 2022.001.20112</p>\n<p>thanks for the help : )</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":2,"creation_date":1597566252,"post_id":63434472,"comment_id":112169913,"body_markdown":"It is never a good idea to try to access an external file outside the project because you won&#39;t have that file available in production. If you need a file, add it to your resources folder in `src/main/` and you will have it available","body":"It is never a good idea to try to access an external file outside the project because you won&#39;t have that file available in production. If you need a file, add it to your resources folder in <code>src&#47;main&#47;</code> and you will have it available"},{"owner":{"account_id":1601923,"reputation":83,"user_id":1482800,"accept_rate":43,"display_name":"user1482800"},"score":0,"creation_date":1597567410,"post_id":63434472,"comment_id":112170140,"body_markdown":"@JAsgarov , i want on production environment external property file and in development in the jar. this way it makes easy to hide the production property variables like DB password etc. is it not a good approach? what are the alternatives...","body":"@JAsgarov , i want on production environment external property file and in development in the jar. this way it makes easy to hide the production property variables like DB password etc. is it not a good approach? what are the alternatives..."},{"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"score":0,"creation_date":1597567442,"post_id":63434472,"comment_id":112170145,"body_markdown":"Have you tried setting the SPRING_CONFIG_LOCATION env variable and setting its value to the full path of your external properties file?","body":"Have you tried setting the SPRING_CONFIG_LOCATION env variable and setting its value to the full path of your external properties file?"},{"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"score":0,"creation_date":1597567579,"post_id":63434472,"comment_id":112170187,"body_markdown":"Or pass spring.config.location as a command line program argument when starting the app?","body":"Or pass spring.config.location as a command line program argument when starting the app?"},{"owner":{"account_id":1601923,"reputation":83,"user_id":1482800,"accept_rate":43,"display_name":"user1482800"},"score":0,"creation_date":1597567613,"post_id":63434472,"comment_id":112170194,"body_markdown":"@JonH i tried already. Didnot worked , this is not a spring boot application.","body":"@JonH i tried already. Didnot worked , this is not a spring boot application."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597567990,"creation_date":1597567990,"answer_id":63434939,"question_id":63434472,"body_markdown":"Here is what you can do:\r\n\r\n~~~\r\n@PropertySources({\r\n    @PropertySource(&quot;classpath:application.properties&quot;),\r\n    @PropertySource(value = &quot;file:/etc/config/my-custom-config.properties&quot;, ignoreResourceNotFound = true)\r\n})\r\n~~~\r\n\r\nThis `ignoreResourceNotFound` is available since spring 4.3 and is pretty self-explanatory.\r\n\r\nYou can also opt for &quot;programmatic&quot; approach. In pure spring  (not spring boot as you&#39;ve mentioned in the question):\r\n\r\n~~~\r\n@Configuration\r\npublic class CommonConfig {\r\n...\r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertyPlaceholderConfigurer() {\r\n            PropertySourcesPlaceholderConfigurer ppc = new PropertySourcesPlaceholderConfigurer();\r\n            ppc.setLocations(new FileSystemResource(&quot;/etc/config/my-custom-config.properties&quot;),\r\n                    new ClassPathResource(&quot;config/application.properties&quot;),\r\n            return ppc;\r\n        }\r\n...\r\n}\r\n~~~\r\n`FileSystemResource` is for accessing resources available externally in the file system\r\n\r\n`ClassPathResource`  is for accessing resources in the classpath","title":"External properties file in spring","body":"<p>Here is what you can do:</p>\n<pre><code>@PropertySources({\n    @PropertySource(&quot;classpath:application.properties&quot;),\n    @PropertySource(value = &quot;file:/etc/config/my-custom-config.properties&quot;, ignoreResourceNotFound = true)\n})\n</code></pre>\n<p>This <code>ignoreResourceNotFound</code> is available since spring 4.3 and is pretty self-explanatory.</p>\n<p>You can also opt for &quot;programmatic&quot; approach. In pure spring  (not spring boot as you've mentioned in the question):</p>\n<pre><code>@Configuration\npublic class CommonConfig {\n...\n        @Bean\n        public static PropertySourcesPlaceholderConfigurer propertyPlaceholderConfigurer() {\n            PropertySourcesPlaceholderConfigurer ppc = new PropertySourcesPlaceholderConfigurer();\n            ppc.setLocations(new FileSystemResource(&quot;/etc/config/my-custom-config.properties&quot;),\n                    new ClassPathResource(&quot;config/application.properties&quot;),\n            return ppc;\n        }\n...\n}\n</code></pre>\n<p><code>FileSystemResource</code> is for accessing resources available externally in the file system</p>\n<p><code>ClassPathResource</code>  is for accessing resources in the classpath</p>\n"},{"tags":[],"owner":{"account_id":470377,"reputation":361,"user_id":877552,"display_name":"Lodlaiden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651075948,"creation_date":1651075948,"answer_id":72032098,"question_id":63434472,"body_markdown":"We use dynamically generated configuration files that are injected with environment specific secrets. The combination to get everything aligned is as follows:\r\n\r\n\r\n\r\nCode:\r\n\r\n        myFunction(@Value(&quot;${custom.configuration.name}&quot;) final String customConfigurationName) {\r\n            InputStream inputStream=new ClassPathResource(customconfigFileName).getInputStream()){}\r\n            ...\r\n        }\r\n\r\nTemplate - Add a hard required path as this confirms the file is on disk and loaded:\r\n\r\n    - name: SPRING_CONFIG_LOCATION\r\n      value: file:./config/schema-${ENV}.yml\r\n      ...\r\n    - name: custom.configuration.name\r\n      value: file:config/schema-${ENV}.yml\r\n\r\n\r\n    \r\n\r\n\r\n\r\n","title":"External properties file in spring","body":"<p>We use dynamically generated configuration files that are injected with environment specific secrets. The combination to get everything aligned is as follows:</p>\n<p>Code:</p>\n<pre><code>    myFunction(@Value(&quot;${custom.configuration.name}&quot;) final String customConfigurationName) {\n        InputStream inputStream=new ClassPathResource(customconfigFileName).getInputStream()){}\n        ...\n    }\n</code></pre>\n<p>Template - Add a hard required path as this confirms the file is on disk and loaded:</p>\n<pre><code>- name: SPRING_CONFIG_LOCATION\n  value: file:./config/schema-${ENV}.yml\n  ...\n- name: custom.configuration.name\n  value: file:config/schema-${ENV}.yml\n</code></pre>\n"}],"owner":{"account_id":1601923,"reputation":83,"user_id":1482800,"accept_rate":43,"display_name":"user1482800"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63434939,"answer_count":2,"score":0,"last_activity_date":1651075948,"creation_date":1597564334,"question_id":63434472,"body_markdown":"I have a java,spring and not spring boot command line program with maven , which when i build a jar with all dependencies using maven-assembly-plugin , it includes application.properties, what i need to know is how to read the external application.properties and not the jar one.\r\n\r\nI am reading the property file as:\r\n\r\n    @PropertySource(value = { &quot;classpath:application.properties&quot; })\r\n\r\n\r\nIf I print the classpath, the classpath does only include the jar and not the current directory.","title":"External properties file in spring","body":"<p>I have a java,spring and not spring boot command line program with maven , which when i build a jar with all dependencies using maven-assembly-plugin , it includes application.properties, what i need to know is how to read the external application.properties and not the jar one.</p>\n<p>I am reading the property file as:</p>\n<pre><code>@PropertySource(value = { &quot;classpath:application.properties&quot; })\n</code></pre>\n<p>If I print the classpath, the classpath does only include the jar and not the current directory.</p>\n"},{"tags":["java","selenium","selenium-chromedriver","google-chrome-devtools","testng-eclipse"],"comments":[{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1651106460,"post_id":72031895,"comment_id":127286187,"body_markdown":"Can you please share the site link? Meanwhile did you try with different chrome version? Also is headless mode throwing any error?","body":"Can you please share the site link? Meanwhile did you try with different chrome version? Also is headless mode throwing any error?"},{"owner":{"account_id":25117533,"reputation":11,"user_id":18966357,"display_name":"Ra&#250;l Torrecilla Moreno"},"score":0,"creation_date":1651126773,"post_id":72031895,"comment_id":127289652,"body_markdown":"I can&#39;t share the site because it&#39;s private for my work. And if I have it developed for the latest version of chrome and it works, and for 62 it doesn&#39;t. Thanks also for commenting.","body":"I can&#39;t share the site because it&#39;s private for my work. And if I have it developed for the latest version of chrome and it works, and for 62 it doesn&#39;t. Thanks also for commenting."},{"owner":{"account_id":25117533,"reputation":11,"user_id":18966357,"display_name":"Ra&#250;l Torrecilla Moreno"},"score":0,"creation_date":1651131622,"post_id":72031895,"comment_id":127291325,"body_markdown":"I just tried it by going to google.com and it worked fine with chrome 62, so it&#39;s a problem with the site I&#39;m trying to access. Thank you very much for your attention, Ahamed Abdul Rahman.","body":"I just tried it by going to google.com and it worked fine with chrome 62, so it&#39;s a problem with the site I&#39;m trying to access. Thank you very much for your attention, Ahamed Abdul Rahman."}],"owner":{"account_id":25117533,"reputation":11,"user_id":18966357,"display_name":"Ra&#250;l Torrecilla Moreno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1651075806,"creation_date":1651075110,"question_id":72031895,"body_markdown":"I&#39;m doing a test with selenium and java in eclipse, with chrome 62. And when I run it with headless mode enabled, the page I&#39;m trying to access doesn&#39;t load. And if I don&#39;t activate it, yes it does.\r\n\t\t\t\t\t\r\n```\r\n                    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n                    ChromeOptions chromeOptions = new ChromeOptions();                  \r\n                    chromeOptions.setBinary(BINARY_PATH);\r\n                    WebDriverManager.chromedriver().browserVersion(&quot;62&quot;).driverVersion(&quot;2.35&quot;).cachePath(EXECUTION_PATH).setup();\r\n                    chromeOptions.setAcceptInsecureCerts(true);\r\n                    chromeOptions.setHeadless(true);                   \r\n                    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\t\t\t\t\tDriverFactory driverFactory = DriverFactory.getInstance();\r\n\t\t\t\t\tdriverFactory.setDownloadPath(\r\n\t\t\t\t\t\t\tEXECUTION_PATH + Thread.currentThread().getName() + System.getProperty(&quot;file.separator&quot;));\r\n\t\t\t\t\tprefs.put(&quot;download.default_directory&quot;, driverFactory.getDownloadPath());\r\n\t\t\t\t\tprefs.put(&quot;download.prompt_for_download&quot;, false);\r\n                    chromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\t\t\t\t\tdriver = new ChromeDriver(chromeOptions);\r\n```","title":"The page I&#39;m trying to access doesn&#39;t load when I use headless mode, but when I don&#39;t use it, it loads and performs the tests perfectly","body":"<p>I'm doing a test with selenium and java in eclipse, with chrome 62. And when I run it with headless mode enabled, the page I'm trying to access doesn't load. And if I don't activate it, yes it does.</p>\n<pre><code>                    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n                    ChromeOptions chromeOptions = new ChromeOptions();                  \n                    chromeOptions.setBinary(BINARY_PATH);\n                    WebDriverManager.chromedriver().browserVersion(&quot;62&quot;).driverVersion(&quot;2.35&quot;).cachePath(EXECUTION_PATH).setup();\n                    chromeOptions.setAcceptInsecureCerts(true);\n                    chromeOptions.setHeadless(true);                   \n                    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n                    DriverFactory driverFactory = DriverFactory.getInstance();\n                    driverFactory.setDownloadPath(\n                            EXECUTION_PATH + Thread.currentThread().getName() + System.getProperty(&quot;file.separator&quot;));\n                    prefs.put(&quot;download.default_directory&quot;, driverFactory.getDownloadPath());\n                    prefs.put(&quot;download.prompt_for_download&quot;, false);\n                    chromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n                    driver = new ChromeDriver(chromeOptions);\n</code></pre>\n"},{"tags":["java","backslash"],"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1452342873,"post_id":34693458,"comment_id":57133020,"body_markdown":"Possible duplicate of [How to insert backslash into my string in java?](http://stackoverflow.com/questions/20138363/how-to-insert-backslash-into-my-string-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/20138363/how-to-insert-backslash-into-my-string-in-java\">How to insert backslash into my string in java?</a>"},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1452342913,"post_id":34693458,"comment_id":57133033,"body_markdown":"There must be a million questions on Java backslash in SO.","body":"There must be a million questions on Java backslash in SO."},{"owner":{"account_id":2640298,"reputation":137,"user_id":2284105,"accept_rate":57,"display_name":"Basma"},"score":0,"creation_date":1452343016,"post_id":34693458,"comment_id":57133068,"body_markdown":"@rghome yes there is but no one answers my question :(","body":"@rghome yes there is but no one answers my question :("},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1452344333,"post_id":34693458,"comment_id":57133466,"body_markdown":"Bad luck. Two notes: _(File system)_ For Window file paths a normal slash `/` in general works too.  _(SQL)_ For composing SQL text with separate strings, a Prepared statement with a placeholder and  setting parameters escapes backslash and quotes.","body":"Bad luck. Two notes: <i>(File system)</i> For Window file paths a normal slash <code>&#47;</code> in general works too.  <i>(SQL)</i> For composing SQL text with separate strings, a Prepared statement with a placeholder and  setting parameters escapes backslash and quotes."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1452359570,"creation_date":1452342658,"answer_id":34693474,"question_id":34693458,"body_markdown":"No, Java doesn&#39;t have anything like the verbatim string literals of C# and other languages.\r\n\r\nBackslash is *always* an escape character in a Java string or character literal. Note that it&#39;s only in literals that Java cares, as a *language*. The language itself has no special behaviour when it comes to backslashes which already exist within string objects. Some libraries (e.g. regular expressions) treat backslash specially too, but that&#39;s a very different matter... and it&#39;s important to differentiate between &quot;I already have a backslash in my string, and I&#39;m trying to use the string in a particular context which is sensitive to backslashes&quot; and &quot;I&#39;m trying to *create* a string with a backslash in, within Java source code, using a string literal&quot;.\r\n\r\nIf you have a text which can include backslashes and you want to simplify it for readability, two options present themselves:\r\n\r\n- Use a different character (e.g. forward slash) and then use `String.replace` to replace all occurrences of the other character with backslash\r\n- Put your text in a text file which you load at execution time","title":"A way to consider the backslash as a normal character","body":"<p>No, Java doesn't have anything like the verbatim string literals of C# and other languages.</p>\n\n<p>Backslash is <em>always</em> an escape character in a Java string or character literal. Note that it's only in literals that Java cares, as a <em>language</em>. The language itself has no special behaviour when it comes to backslashes which already exist within string objects. Some libraries (e.g. regular expressions) treat backslash specially too, but that's a very different matter... and it's important to differentiate between \"I already have a backslash in my string, and I'm trying to use the string in a particular context which is sensitive to backslashes\" and \"I'm trying to <em>create</em> a string with a backslash in, within Java source code, using a string literal\".</p>\n\n<p>If you have a text which can include backslashes and you want to simplify it for readability, two options present themselves:</p>\n\n<ul>\n<li>Use a different character (e.g. forward slash) and then use <code>String.replace</code> to replace all occurrences of the other character with backslash</li>\n<li>Put your text in a text file which you load at execution time</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25117805,"reputation":11,"user_id":18966585,"display_name":"Cyrus Ma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651075756,"creation_date":1651075756,"answer_id":72032057,"question_id":34693458,"body_markdown":"Type backslash again to convert the escape character back into a normal backslash:\r\n\r\n`System.out.print(&quot;\\\\&quot;);` will print `\\`.\r\n`System.out.print(&quot;\\&quot;);` will give an error.","title":"A way to consider the backslash as a normal character","body":"<p>Type backslash again to convert the escape character back into a normal backslash:</p>\n<p><code>System.out.print(&quot;\\\\&quot;);</code> will print <code>\\</code>.\n<code>System.out.print(&quot;\\&quot;);</code> will give an error.</p>\n"}],"owner":{"account_id":2640298,"reputation":137,"user_id":2284105,"accept_rate":57,"display_name":"Basma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":34693474,"answer_count":2,"score":1,"last_activity_date":1651075756,"creation_date":1452342547,"question_id":34693458,"body_markdown":"Is there someone who knows how to consider the backslash as a normal character (not an escape character) in a string in Java?\r\n\r\nAny help will be appreciated!","title":"A way to consider the backslash as a normal character","body":"<p>Is there someone who knows how to consider the backslash as a normal character (not an escape character) in a string in Java?</p>\n\n<p>Any help will be appreciated!</p>\n"},{"tags":["java","spring-boot","swagger","springfox","springdoc"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":1,"creation_date":1651089853,"post_id":72032030,"comment_id":127282648,"body_markdown":"which version are you using? as https://springdoc.org/#properties you have done right with `springdoc.swagger-ui.path`. do you have any `context-path` in application? when you try http://localhost:8080/context-path/swagger-ui.html what are you getting with?","body":"which version are you using? as <a href=\"https://springdoc.org/#properties\" rel=\"nofollow noreferrer\">springdoc.org/#properties</a> you have done right with <code>springdoc.swagger-ui.path</code>. do you have any <code>context-path</code> in application? when you try <a href=\"http://localhost:8080/context-path/swagger-ui.html\" rel=\"nofollow noreferrer\">localhost:8080/context-path/swagger-ui.html</a> what are you getting with?"},{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1652169508,"post_id":72032030,"comment_id":127534662,"body_markdown":"Also, you can&#39;t have `/` in the path that you specify in the `application.properties` file. Might as well try the following `springdoc.swagger-ui.path=swagger-ui`","body":"Also, you can&#39;t have <code>&#47;</code> in the path that you specify in the <code>application.properties</code> file. Might as well try the following <code>springdoc.swagger-ui.path=swagger-ui</code>"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651075638,"creation_date":1651075638,"question_id":72032030,"body_markdown":"I am trying to migrate from Springfox to Springdoc. I had Springfox answering on \r\n\r\n    http://localhost:8080/swagger-ui/\r\n\r\nHow to make Springdoc to answer at the same place? I tries application.properties \r\n\r\n    springdoc.swagger-ui.path=/swagger-ui/\r\n    springdoc.swagger-ui.path=/swagger-ui/index.html\r\n    springdoc.swagger-ui.path=/index.html\r\n    springdoc.swagger-ui.path=/\r\n\r\nbut in all cases it was something different.","title":"How to make Springdoc to answer on /swagger-ui/ as Springfox was doing?","body":"<p>I am trying to migrate from Springfox to Springdoc. I had Springfox answering on</p>\n<pre><code>http://localhost:8080/swagger-ui/\n</code></pre>\n<p>How to make Springdoc to answer at the same place? I tries application.properties</p>\n<pre><code>springdoc.swagger-ui.path=/swagger-ui/\nspringdoc.swagger-ui.path=/swagger-ui/index.html\nspringdoc.swagger-ui.path=/index.html\nspringdoc.swagger-ui.path=/\n</code></pre>\n<p>but in all cases it was something different.</p>\n"},{"tags":["java","android-studio","android-volley"],"comments":[{"owner":{"account_id":23625153,"reputation":7,"user_id":17657806,"display_name":"Yohu"},"score":0,"creation_date":1650901130,"post_id":71999603,"comment_id":127227350,"body_markdown":"I wouldn&#39;t post that if I didn&#39;t check that.","body":"I wouldn&#39;t post that if I didn&#39;t check that."},{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1651074966,"post_id":71999603,"comment_id":127277397,"body_markdown":"My answer comment 15 completed i should be here comment.","body":"My answer comment 15 completed i should be here comment."},{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1651074981,"post_id":71999603,"comment_id":127277401,"body_markdown":"what is 4 item?","body":"what is 4 item?"},{"owner":{"account_id":21626683,"reputation":1061,"user_id":15950932,"display_name":"Ankit Kumar Maurya"},"score":0,"creation_date":1651076281,"post_id":71999603,"comment_id":127277943,"body_markdown":"Try logging the temp string in your debug console. Also if you checked the response by printing it?","body":"Try logging the temp string in your debug console. Also if you checked the response by printing it?"},{"owner":{"account_id":23625153,"reputation":7,"user_id":17657806,"display_name":"Yohu"},"score":0,"creation_date":1651076407,"post_id":71999603,"comment_id":127277993,"body_markdown":"org.json.JSONException: No value for temp","body":"org.json.JSONException: No value for temp"}],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650961236,"creation_date":1650961236,"answer_id":72010621,"question_id":71999603,"body_markdown":"use `etCityName.getText().toString`\r\n\r\ninstead of `etCityName.getText()`  in your jsonparse() method","title":"API output doesn&#39;t show in a TextView","body":"<p>use <code>etCityName.getText().toString</code></p>\n<p>instead of <code>etCityName.getText()</code>  in your jsonparse() method</p>\n"},{"tags":[],"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651071381,"creation_date":1651034015,"answer_id":72023316,"question_id":71999603,"body_markdown":"```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView textView;\r\n    RequestQueue requestQueue;\r\n    Button button;\r\n    EditText etCityName;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.textView);\r\n        button = findViewById(R.id.button);\r\n        etCityName = findViewById(R.id.etCityName);\r\n\r\n        requestQueue = Volley.newRequestQueue(this);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (etCityName.getText().toString().trim().isEmpty()) {\r\n                 etCityName.setError(&quot;Required&quot;);\r\n                }else{\r\n                      jsonParse();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    public void jsonParse() {\r\n        String url = &quot;https://api.openweathermap.org/data/2.5/weather?q=&quot; + etCityName.getText().toString().trim() + &quot;&amp;appid=token&quot;;\r\n\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) { ;\r\n                        try {\r\n                                String temp = response.getDouble(&quot;temp&quot;).toString();\r\n                                textView.setText(temp);\r\n                            \r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                error.printStackTrace();\r\n         }\r\n        });\r\n        requestQueue.add(request);\r\n    }\r\n}\r\n```","title":"API output doesn&#39;t show in a TextView","body":"<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView textView;\n    RequestQueue requestQueue;\n    Button button;\n    EditText etCityName;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.textView);\n        button = findViewById(R.id.button);\n        etCityName = findViewById(R.id.etCityName);\n\n        requestQueue = Volley.newRequestQueue(this);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (etCityName.getText().toString().trim().isEmpty()) {\n                 etCityName.setError(&quot;Required&quot;);\n                }else{\n                      jsonParse();\n                }\n            }\n        });\n    }\n    public void jsonParse() {\n        String url = &quot;https://api.openweathermap.org/data/2.5/weather?q=&quot; + etCityName.getText().toString().trim() + &quot;&amp;appid=token&quot;;\n\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) { ;\n                        try {\n                                String temp = response.getDouble(&quot;temp&quot;).toString();\n                                textView.setText(temp);\n                            \n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                error.printStackTrace();\n         }\n        });\n        requestQueue.add(request);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23625153,"reputation":7,"user_id":17657806,"display_name":"Yohu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651075424,"creation_date":1650890016,"question_id":71999603,"body_markdown":"I tried to make a very simple weather app that shows the temperature of a certain city.\r\n\r\nBut when I press the button to get the temperature, the text doesn&#39;t change.\r\n\r\n[Here is what happens if I try to get the temperature][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TYRYX.png\r\n\r\nMy code:\r\n\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView textView;\r\n    RequestQueue requestQueue;\r\n    Button button;\r\n    EditText etCityName;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.textView);\r\n        button = findViewById(R.id.button);\r\n        etCityName = findViewById(R.id.etCityName);\r\n\r\n        requestQueue = Volley.newRequestQueue(this);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                jsonParse();\r\n            }\r\n        });\r\n    }\r\n    public void jsonParse() {\r\n        String url = &quot;https://api.openweathermap.org/data/2.5/weather?q=&quot; + etCityName.getText() + &quot;&amp;appid=token&quot;;\r\n\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) { ;\r\n                        try {\r\n                            JSONArray jsonArray = response.getJSONArray(&quot;main&quot;);\r\n\r\n                            for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                                JSONObject url = jsonArray.getJSONObject(i);\r\n\r\n                                String temp = url.getString(&quot;temp&quot;);\r\n                                textView.setText(temp);\r\n                            }\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                error.printStackTrace();\r\n         }\r\n        });\r\n        requestQueue.add(request);\r\n    }\r\n}\r\n```","title":"API output doesn&#39;t show in a TextView","body":"<p>I tried to make a very simple weather app that shows the temperature of a certain city.</p>\n<p>But when I press the button to get the temperature, the text doesn't change.</p>\n<p><a href=\"https://i.stack.imgur.com/TYRYX.png\" rel=\"nofollow noreferrer\">Here is what happens if I try to get the temperature</a></p>\n<p>My code:</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity {\n\n    TextView textView;\n    RequestQueue requestQueue;\n    Button button;\n    EditText etCityName;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.textView);\n        button = findViewById(R.id.button);\n        etCityName = findViewById(R.id.etCityName);\n\n        requestQueue = Volley.newRequestQueue(this);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                jsonParse();\n            }\n        });\n    }\n    public void jsonParse() {\n        String url = &quot;https://api.openweathermap.org/data/2.5/weather?q=&quot; + etCityName.getText() + &quot;&amp;appid=token&quot;;\n\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) { ;\n                        try {\n                            JSONArray jsonArray = response.getJSONArray(&quot;main&quot;);\n\n                            for (int i = 0; i &lt; jsonArray.length(); i++) {\n                                JSONObject url = jsonArray.getJSONObject(i);\n\n                                String temp = url.getString(&quot;temp&quot;);\n                                textView.setText(temp);\n                            }\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                error.printStackTrace();\n         }\n        });\n        requestQueue.add(request);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651074218,"creation_date":1651074218,"answer_id":72031697,"question_id":72017505,"body_markdown":"This is what worked for me:\r\n\r\n    when(restTemplate.exchange(\r\n                    ArgumentMatchers.any(),\r\n                    ArgumentMatchers.eq(HttpMethod.POST),\r\n                    ArgumentMatchers.&lt;HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;&gt;any(),\r\n                    ArgumentMatchers.&lt;Class&lt;String&gt;&gt;any(),\r\n                    (Object) any())\r\n            )\r\n                    .thenReturn(ResponseEntity.ok(&quot;{\\&quot;access_token\\&quot;:\\&quot;token\\&quot;}&quot;));","title":"How mock RestTemplate.exchange()?","body":"<p>This is what worked for me:</p>\n<pre><code>when(restTemplate.exchange(\n                ArgumentMatchers.any(),\n                ArgumentMatchers.eq(HttpMethod.POST),\n                ArgumentMatchers.&lt;HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;&gt;any(),\n                ArgumentMatchers.&lt;Class&lt;String&gt;&gt;any(),\n                (Object) any())\n        )\n                .thenReturn(ResponseEntity.ok(&quot;{\\&quot;access_token\\&quot;:\\&quot;token\\&quot;}&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651074976,"creation_date":1651074976,"answer_id":72031865,"question_id":72017505,"body_markdown":"What is the reason to mock the `restTemplate` itself? \r\nThe generic recommendation is to avoid the `restTemplate` invocation at all by using fake services. \r\n\r\nIn case of the invocation is absolutely mandatory the in-memory stub solution like [mock-server](https://www.mock-server.com/mock_server/running_mock_server.html) could be used during the tests. \r\n\r\n","title":"How mock RestTemplate.exchange()?","body":"<p>What is the reason to mock the <code>restTemplate</code> itself?\nThe generic recommendation is to avoid the <code>restTemplate</code> invocation at all by using fake services.</p>\n<p>In case of the invocation is absolutely mandatory the in-memory stub solution like <a href=\"https://www.mock-server.com/mock_server/running_mock_server.html\" rel=\"nofollow noreferrer\">mock-server</a> could be used during the tests.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651074976,"creation_date":1650990771,"question_id":72017505,"body_markdown":"I have tried almost everything but I keep getting a `org.mockito.exceptions.misusing.PotentialStubbingProblem` when trying to mock `RestTemplate.exchange`\r\n\r\n\r\nHere is what I am trying to do:\r\n\r\n    @Test\r\n        void headerTest() {\r\n        var request = getRequest();\r\n\r\n        when(restTemplate.exchange(\r\n                ArgumentMatchers.any(),\r\n                ArgumentMatchers.eq(HttpMethod.POST),\r\n                ArgumentMatchers.&lt;HttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt;&gt;any(),\r\n                ArgumentMatchers.&lt;Class&lt;String&gt;&gt;any())\r\n        )\r\n                .thenReturn(ResponseEntity.ok(&quot;{\\&quot;access_token\\&quot;:\\&quot;token\\&quot;}&quot;));\r\n\r\n        client.getResponse(request,\r\n                &quot;HI&quot;);\r\n\r\n        assertEquals(1,request.hashCode());\r\n    }\r\n\r\n\r\nI have tried everything but I keep getting the following error:\r\n\r\n    org.mockito.exceptions.misusing.PotentialStubbingProblem: \r\n    Strict stubbing argument mismatch. Please check:\r\n     - this invocation of &#39;exchange&#39; method:\r\n        restTemplate.exchange(\r\n        null,\r\n        POST,\r\n        &lt;{grant_type=[client_credentials]},[AUTHORIZATION:&quot;Basic &quot;, Content-Type:&quot;application/x-www-form-urlencoded&quot;]&gt;,\r\n        class java.lang.String\r\n    );\r\n        -&gt; at com.client.Client.getToken(WeightedAverageCostClient.java:148)\r\n     - has following stubbing(s) with different arguments:\r\n        1. restTemplate.exchange(\r\n        null,\r\n        null,\r\n        null,\r\n        null\r\n    );\r\n\r\nUsing `lenient()` I am getting a response of NULL.\r\n\r\nWhat am I doing wrong ?\r\n\r\n","title":"How mock RestTemplate.exchange()?","body":"<p>I have tried almost everything but I keep getting a <code>org.mockito.exceptions.misusing.PotentialStubbingProblem</code> when trying to mock <code>RestTemplate.exchange</code></p>\n<p>Here is what I am trying to do:</p>\n<pre><code>@Test\n    void headerTest() {\n    var request = getRequest();\n\n    when(restTemplate.exchange(\n            ArgumentMatchers.any(),\n            ArgumentMatchers.eq(HttpMethod.POST),\n            ArgumentMatchers.&lt;HttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt;&gt;any(),\n            ArgumentMatchers.&lt;Class&lt;String&gt;&gt;any())\n    )\n            .thenReturn(ResponseEntity.ok(&quot;{\\&quot;access_token\\&quot;:\\&quot;token\\&quot;}&quot;));\n\n    client.getResponse(request,\n            &quot;HI&quot;);\n\n    assertEquals(1,request.hashCode());\n}\n</code></pre>\n<p>I have tried everything but I keep getting the following error:</p>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'exchange' method:\n    restTemplate.exchange(\n    null,\n    POST,\n    &lt;{grant_type=[client_credentials]},[AUTHORIZATION:&quot;Basic &quot;, Content-Type:&quot;application/x-www-form-urlencoded&quot;]&gt;,\n    class java.lang.String\n);\n    -&gt; at com.client.Client.getToken(WeightedAverageCostClient.java:148)\n - has following stubbing(s) with different arguments:\n    1. restTemplate.exchange(\n    null,\n    null,\n    null,\n    null\n);\n</code></pre>\n<p>Using <code>lenient()</code> I am getting a response of NULL.</p>\n<p>What am I doing wrong ?</p>\n"},{"tags":["java","arrays","initialization","output"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1651075409,"post_id":72031129,"comment_id":127277572,"body_markdown":"My compiler says that `RowHoursWorked` and `RowID` &quot;might not have been initialized.&quot; What happens if you initialize them?","body":"My compiler says that <code>RowHoursWorked</code> and <code>RowID</code> &quot;might not have been initialized.&quot; What happens if you initialize them?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1651095790,"post_id":72031129,"comment_id":127284306,"body_markdown":"Then, critically examine the the inner loop of `printData()` and ask why it examines the row id when looping over columns.","body":"Then, critically examine the the inner loop of <code>printData()</code> and ask why it examines the row id when looping over columns."}],"owner":{"account_id":24109251,"reputation":1,"user_id":18080045,"display_name":"ITStud3nt_0n_Th1n_1C3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651074944,"creation_date":1651072203,"question_id":72031129,"body_markdown":"My Code refuses to run properly because of &quot;initialization errors&quot; &amp; second switch running on to errors. I made an `Double` array `Payroll`. Unfortunately, the compiler keeps on telling me that it is not being initialized; but I have an array that the does not pick it up.\r\n\r\n```\r\npackage myNewPayroll;\r\n\r\nimport java.util.*;\r\n\r\nclass Payroll {\r\n    //employeeID, employeeName, employeeRate \r\n\r\n    static String[][] Employee = {{&quot;101&quot;, &quot;Alex&quot;, &quot;50&quot;}, {&quot;102&quot;, &quot;Bethany&quot;, &quot;100&quot;}, {&quot;103&quot;, &quot;Clarence&quot;, &quot;200&quot;}};\r\n\r\n//RHW = 8\r\n//HW = 8\r\n//HW = 9\r\n//OTP = 10%\r\n    static void print_data() {\r\n        System.out.println(&quot;ID\\t Name \\tRate&quot;);\r\n        for (int RID = 0; RID &lt; Employee.length; RID++) {\r\n            for (int CID = 0; RID &lt; Employee[RID].length; CID++) {\r\n                System.out.print(Employee[RID][CID]);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    static int search(String empID) {\r\n        int EID = -1;\r\n        for (int idx = 0; idx &lt; Employee.length; idx++) {\r\n            if (Employee[idx][0].equals(empID)) {\r\n                EID = idx;\r\n            }\r\n        }\r\n        return EID;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int HoursWorked;\r\n        String EmpID;\r\n        int choice;\r\n        int RowHoursWorked;\r\n        do {\r\n            System.out.println(&quot;[1] Receive Payroll&quot;);\r\n            System.out.println(&quot;[2] Update Profile&quot;);\r\n            System.out.println(&quot;[3] Change Rate&quot;);\r\n            System.out.println(&quot;[4] Exit&quot;);\r\n\r\n            choice = sc.nextInt();\r\n            int RowID;\r\n\r\n            if (choice &gt; 1 &amp;&amp; choice &lt; 3) {\r\n                print_data();\r\n                System.out.println(&quot;Enter Employee ID: &quot;);\r\n                EmpID = sc.next();\r\n                RowID = search(EmpID);\r\n\r\n            }\r\n            switch (choice) {\r\n                case 1:\r\n                    System.out.println(&quot;Input Hours Worked: &quot;);\r\n                    HoursWorked = sc.nextInt();\r\n                    int rate = Integer.parseInt(Employee[RowID][2]);\r\n                    double salary = 0;\r\n                    String Remarks = &quot;Overtime&quot;;\r\n                    if (HoursWorked &gt; RowHoursWorked) {\r\n                        double OTP = rate * 0.10;\r\n                        int OT = HoursWorked - RowHoursWorked;\r\n                        OTP = OT * OTP;\r\n                        salary = RowHoursWorked * 8;\r\n                    } else {\r\n                        if (HoursWorked == 0) {\r\n                            Remarks = &quot;Absent&quot;;\r\n                        } else if (HoursWorked == RowHoursWorked) {\r\n                            Remarks = &quot;Regular&quot;;\r\n                        } else {\r\n                            Remarks = &quot;Undertime&quot;;\r\n                        }\r\n                        salary = HoursWorked * rate;\r\n                    }\r\n                    System.out.println(&quot;Salary = &quot; + salary);\r\n                    System.out.println(&quot;Remarks = &quot; + Remarks);\r\n                    break;\r\n\r\n                case 2:\r\n                    for (int idx = 0; idx &lt; Employee[RowID].length; idx++) {\r\n                        System.out.println(&quot;Input Data&quot;);\r\n                        Employee[RowID][idx] = sc.next();\r\n                    }\r\n                    print_data();\r\n                    break;\r\n\r\n                case 3:\r\n                    System.out.println(&quot;Enter New Rate: &quot;);\r\n                    Employee[RowID][2] = sc.next();\r\n                    print_data();\r\n                    break;\r\n\r\n                case 4:\r\n                    break;\r\n\r\n                default:\r\n                    System.out.println(&quot;Invalid Input! Try Again!&quot;);\r\n                    break;\r\n            }\r\n\r\n        } while (choice != 4);\r\n    }\r\n}\r\n```\r\n\r\nI tried initializing, and it is not getting me the results I want. When I typed 1, it only gets me the numbers based on the initialized values, not without them. When I typed 2, I get an error. ","title":"My Code refuses to run properly because of &quot;initialization errors&quot;","body":"<p>My Code refuses to run properly because of &quot;initialization errors&quot; &amp; second switch running on to errors. I made an <code>Double</code> array <code>Payroll</code>. Unfortunately, the compiler keeps on telling me that it is not being initialized; but I have an array that the does not pick it up.</p>\n<pre><code>package myNewPayroll;\n\nimport java.util.*;\n\nclass Payroll {\n    //employeeID, employeeName, employeeRate \n\n    static String[][] Employee = {{&quot;101&quot;, &quot;Alex&quot;, &quot;50&quot;}, {&quot;102&quot;, &quot;Bethany&quot;, &quot;100&quot;}, {&quot;103&quot;, &quot;Clarence&quot;, &quot;200&quot;}};\n\n//RHW = 8\n//HW = 8\n//HW = 9\n//OTP = 10%\n    static void print_data() {\n        System.out.println(&quot;ID\\t Name \\tRate&quot;);\n        for (int RID = 0; RID &lt; Employee.length; RID++) {\n            for (int CID = 0; RID &lt; Employee[RID].length; CID++) {\n                System.out.print(Employee[RID][CID]);\n            }\n            System.out.println();\n        }\n    }\n\n    static int search(String empID) {\n        int EID = -1;\n        for (int idx = 0; idx &lt; Employee.length; idx++) {\n            if (Employee[idx][0].equals(empID)) {\n                EID = idx;\n            }\n        }\n        return EID;\n    }\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int HoursWorked;\n        String EmpID;\n        int choice;\n        int RowHoursWorked;\n        do {\n            System.out.println(&quot;[1] Receive Payroll&quot;);\n            System.out.println(&quot;[2] Update Profile&quot;);\n            System.out.println(&quot;[3] Change Rate&quot;);\n            System.out.println(&quot;[4] Exit&quot;);\n\n            choice = sc.nextInt();\n            int RowID;\n\n            if (choice &gt; 1 &amp;&amp; choice &lt; 3) {\n                print_data();\n                System.out.println(&quot;Enter Employee ID: &quot;);\n                EmpID = sc.next();\n                RowID = search(EmpID);\n\n            }\n            switch (choice) {\n                case 1:\n                    System.out.println(&quot;Input Hours Worked: &quot;);\n                    HoursWorked = sc.nextInt();\n                    int rate = Integer.parseInt(Employee[RowID][2]);\n                    double salary = 0;\n                    String Remarks = &quot;Overtime&quot;;\n                    if (HoursWorked &gt; RowHoursWorked) {\n                        double OTP = rate * 0.10;\n                        int OT = HoursWorked - RowHoursWorked;\n                        OTP = OT * OTP;\n                        salary = RowHoursWorked * 8;\n                    } else {\n                        if (HoursWorked == 0) {\n                            Remarks = &quot;Absent&quot;;\n                        } else if (HoursWorked == RowHoursWorked) {\n                            Remarks = &quot;Regular&quot;;\n                        } else {\n                            Remarks = &quot;Undertime&quot;;\n                        }\n                        salary = HoursWorked * rate;\n                    }\n                    System.out.println(&quot;Salary = &quot; + salary);\n                    System.out.println(&quot;Remarks = &quot; + Remarks);\n                    break;\n\n                case 2:\n                    for (int idx = 0; idx &lt; Employee[RowID].length; idx++) {\n                        System.out.println(&quot;Input Data&quot;);\n                        Employee[RowID][idx] = sc.next();\n                    }\n                    print_data();\n                    break;\n\n                case 3:\n                    System.out.println(&quot;Enter New Rate: &quot;);\n                    Employee[RowID][2] = sc.next();\n                    print_data();\n                    break;\n\n                case 4:\n                    break;\n\n                default:\n                    System.out.println(&quot;Invalid Input! Try Again!&quot;);\n                    break;\n            }\n\n        } while (choice != 4);\n    }\n}\n</code></pre>\n<p>I tried initializing, and it is not getting me the results I want. When I typed 1, it only gets me the numbers based on the initialized values, not without them. When I typed 2, I get an error.</p>\n"},{"tags":["java","webmethod"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1650986517,"post_id":72011004,"comment_id":127251391,"body_markdown":"Running it on my machine works just fine. Have you tried to find out what should be null?","body":"Running it on my machine works just fine. Have you tried to find out what should be null?"},{"owner":{"account_id":25088392,"reputation":11,"user_id":18940321,"display_name":"gdc"},"score":0,"creation_date":1651049976,"post_id":72011004,"comment_id":127267507,"body_markdown":"Yeah I did find that I get a NullPointerException triggered by `FIleInputStream.close()`","body":"Yeah I did find that I get a NullPointerException triggered by <code>FIleInputStream.close()</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1651051438,"post_id":72011004,"comment_id":127268079,"body_markdown":"Check [this answer](https://stackoverflow.com/a/156889/7109162)","body":"Check <a href=\"https://stackoverflow.com/a/156889/7109162\">this answer</a>"},{"owner":{"account_id":25088392,"reputation":11,"user_id":18940321,"display_name":"gdc"},"score":0,"creation_date":1651067933,"post_id":72011004,"comment_id":127274445,"body_markdown":"thx @XtremeBaumer, I tried to delare FileOutputStream, FileInputStream and ZipOutputStream directly in my try so I don&#39;t have to care for the close. But now I got errors `The system cannot find the file specified` while the file is present where it&#39;s supposed to be","body":"thx @XtremeBaumer, I tried to delare FileOutputStream, FileInputStream and ZipOutputStream directly in my try so I don&#39;t have to care for the close. But now I got errors <code>The system cannot find the file specified</code> while the file is present where it&#39;s supposed to be"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1651070100,"post_id":72011004,"comment_id":127275439,"body_markdown":"Update the question with the new findings / code. Are the files on a remote machine? Can you replace the `IData pipeline` parameter with `String targetFolder, String fileName`? In general your code does work, I am just not sure about the `IData` code parts","body":"Update the question with the new findings / code. Are the files on a remote machine? Can you replace the <code>IData pipeline</code> parameter with <code>String targetFolder, String fileName</code>? In general your code does work, I am just not sure about the <code>IData</code> code parts"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1651075184,"post_id":72011004,"comment_id":127277488,"body_markdown":"&quot;Solved&quot; isn&#39;t how we say that a problem is solved.  Place an answer to your question and then accept it. I&#39;ve done so, just copied your original answer into a Community Wiki.  Feel free to accept that; I won&#39;t get any rep or anything.","body":"&quot;Solved&quot; isn&#39;t how we say that a problem is solved.  Place an answer to your question and then accept it. I&#39;ve done so, just copied your original answer into a Community Wiki.  Feel free to accept that; I won&#39;t get any rep or anything."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651074830,"creation_date":1651074830,"answer_id":72031819,"question_id":72011004,"body_markdown":"I finally found out what the problem was, it seems that my java service was sometimes called before the end of the previous process, which meant that my filename was equal to null and was causing all the other problems, I solved it very simply by calling Thread.sleep(500) just before initializing all my streams.","title":"Exception while trying to zip files","body":"<p>I finally found out what the problem was, it seems that my java service was sometimes called before the end of the previous process, which meant that my filename was equal to null and was causing all the other problems, I solved it very simply by calling Thread.sleep(500) just before initializing all my streams.</p>\n"}],"owner":{"account_id":25088392,"reputation":11,"user_id":18940321,"display_name":"gdc"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72031819,"answer_count":1,"score":0,"last_activity_date":1651074837,"creation_date":1650962943,"question_id":72011004,"body_markdown":"I have a little issue with a Java service that I call in a Webmethod Flow.\r\nI call it with 2 args filepath and filename and retrieve the archive&#39;s filepath. \r\nThis service is supposed to be call when I add files to a specific directory (using a filepolling).\r\nAnd everytime I try to pass several files in the folder I get this exception for the 1st file to be treated: \r\n\r\n    com.wm.app.b2b.server.ServiceException: 2.null\r\n    \tat ma.sap.aladin.catalog.in.priv.utils.zip(utils.java:86)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n        ......\r\n\r\nHere&#39;s the code of my zip service:\r\n\r\n   \r\n\r\n        import com.wm.data.*;\r\n        import com.wm.util.Values;\r\n        import com.wm.app.b2b.server.Service;\r\n        import com.wm.app.b2b.server.ServiceException;\r\n        import java.io.File;\r\n        import java.io.FileInputStream;\r\n        import java.io.FileOutputStream;\r\n        import java.util.zip.ZipEntry;\r\n        import java.util.zip.ZipOutputStream;\r\n        import com.wm.data.IData;\r\n        import com.wm.data.IDataCursor;\r\n        import com.wm.data.IDataUtil;\r\n        \r\n        public final class zip_SVC\r\n    \r\n    {\r\n    \r\n    \t/** \r\n    \t * The primary method for the Java service\r\n    \t *\r\n    \t * @param pipeline\r\n    \t *            The IData pipeline\r\n    \t * @throws ServiceException\r\n    \t */\r\n    \tpublic static final void zip(IData pipeline) throws ServiceException {\r\n    \t\tIDataCursor pipelineCursor = pipeline.getCursor();\r\n    \t\tString\ttargetFolder = IDataUtil.getString( pipelineCursor, &quot;targetFolder&quot; );\r\n    \t\tString\tfileName = IDataUtil.getString( pipelineCursor, &quot;fileName&quot; );\r\n    \t\tpipelineCursor.destroy();\r\n    \t\t// pipeline\r\n    \t\t\r\n    \t\tif (targetFolder.charAt(targetFolder.length()-1)!=&#39;\\\\&#39;) targetFolder+=&quot;\\\\&quot;;\r\n    \t\t\r\n    \t\tZipOutputStream zipOut = null;\r\n    \t\tFileOutputStream fos = null;\t\t\r\n    \t\tFileInputStream fis = null;\r\n    \t\t\r\n    \t\tString pathPieces[]=fileName.split(&quot;\\\\\\\\&quot;);\r\n    \t\tString nameWoPath=pathPieces[pathPieces.length-1].substring(12);\r\n    \t\t\r\n    \t\tString zipName=targetFolder+nameWoPath+&quot;_zip.zip&quot;;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\r\n    \t\t\tfos = new FileOutputStream(zipName);\r\n    \t\t\tzipOut = new ZipOutputStream(fos);\r\n    \t\t\tFile fileToZip = new File(fileName);\r\n    \t\t\tfis = new FileInputStream(fileToZip);\r\n    \t\t\tZipEntry zipEntry = new ZipEntry(fileToZip.getName());\r\n    \t\t\tzipOut.putNextEntry(zipEntry);\r\n    \t\t\tbyte[] bytes = new byte[1024];\r\n    \t\t\tint length;\r\n    \t\twhile((length = fis.read(bytes)) &gt;= 0) zipOut.write(bytes,0,length);\r\n    \t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\tthrow new ServiceException(&quot;1.&quot;+e.getMessage());\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tzipOut.finish();\r\n    \t\t\t\tzipOut.flush();\r\n    \t\t\t\t\r\n    \t\t\t\tfis.close();\r\n    \t\t\t\tfos.close();\t\r\n    \t\t\t\tzipOut.close();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tthrow new ServiceException(&quot;2.&quot;+e.getMessage());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t// pipeline\r\n    \t\tIDataCursor pipelineCursor_1 = pipeline.getCursor();\r\n    \t\tIDataUtil.put( pipelineCursor_1, &quot;zipName&quot;, zipName);\r\n    \t\tpipelineCursor.destroy();\r\n    \t\t\t\r\n    \t}\r\n    \r\nDoes anybody have an idea about what happened here ?\r\nThanks in advance :)\r\n\r\n \r\n\r\n","title":"Exception while trying to zip files","body":"<p>I have a little issue with a Java service that I call in a Webmethod Flow.\nI call it with 2 args filepath and filename and retrieve the archive's filepath.\nThis service is supposed to be call when I add files to a specific directory (using a filepolling).\nAnd everytime I try to pass several files in the folder I get this exception for the 1st file to be treated:</p>\n<pre><code>com.wm.app.b2b.server.ServiceException: 2.null\n    at ma.sap.aladin.catalog.in.priv.utils.zip(utils.java:86)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    ......\n</code></pre>\n<p>Here's the code of my zip service:</p>\n<pre><code>    import com.wm.data.*;\n    import com.wm.util.Values;\n    import com.wm.app.b2b.server.Service;\n    import com.wm.app.b2b.server.ServiceException;\n    import java.io.File;\n    import java.io.FileInputStream;\n    import java.io.FileOutputStream;\n    import java.util.zip.ZipEntry;\n    import java.util.zip.ZipOutputStream;\n    import com.wm.data.IData;\n    import com.wm.data.IDataCursor;\n    import com.wm.data.IDataUtil;\n    \n    public final class zip_SVC\n\n{\n\n    /** \n     * The primary method for the Java service\n     *\n     * @param pipeline\n     *            The IData pipeline\n     * @throws ServiceException\n     */\n    public static final void zip(IData pipeline) throws ServiceException {\n        IDataCursor pipelineCursor = pipeline.getCursor();\n        String  targetFolder = IDataUtil.getString( pipelineCursor, &quot;targetFolder&quot; );\n        String  fileName = IDataUtil.getString( pipelineCursor, &quot;fileName&quot; );\n        pipelineCursor.destroy();\n        // pipeline\n        \n        if (targetFolder.charAt(targetFolder.length()-1)!='\\\\') targetFolder+=&quot;\\\\&quot;;\n        \n        ZipOutputStream zipOut = null;\n        FileOutputStream fos = null;        \n        FileInputStream fis = null;\n        \n        String pathPieces[]=fileName.split(&quot;\\\\\\\\&quot;);\n        String nameWoPath=pathPieces[pathPieces.length-1].substring(12);\n        \n        String zipName=targetFolder+nameWoPath+&quot;_zip.zip&quot;;\n        \n        try {\n        \n            fos = new FileOutputStream(zipName);\n            zipOut = new ZipOutputStream(fos);\n            File fileToZip = new File(fileName);\n            fis = new FileInputStream(fileToZip);\n            ZipEntry zipEntry = new ZipEntry(fileToZip.getName());\n            zipOut.putNextEntry(zipEntry);\n            byte[] bytes = new byte[1024];\n            int length;\n        while((length = fis.read(bytes)) &gt;= 0) zipOut.write(bytes,0,length);\n        \n        } catch (Exception e) {\n            e.printStackTrace();\n        throw new ServiceException(&quot;1.&quot;+e.getMessage());\n        } finally {\n            try {\n                zipOut.finish();\n                zipOut.flush();\n                \n                fis.close();\n                fos.close();    \n                zipOut.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n                throw new ServiceException(&quot;2.&quot;+e.getMessage());\n            }\n        }\n        \n        // pipeline\n        IDataCursor pipelineCursor_1 = pipeline.getCursor();\n        IDataUtil.put( pipelineCursor_1, &quot;zipName&quot;, zipName);\n        pipelineCursor.destroy();\n            \n    }\n</code></pre>\n<p>Does anybody have an idea about what happened here ?\nThanks in advance :)</p>\n"},{"tags":["java","image-processing","encoding","javax.imageio","bytebuffer"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650992535,"post_id":72017493,"comment_id":127253669,"body_markdown":"It looks like you&#39;re using strings to hold binary (image) data, If so, that&#39;s not a legitimate use for strings. Use Base64","body":"It looks like you&#39;re using strings to hold binary (image) data, If so, that&#39;s not a legitimate use for strings. Use Base64"},{"owner":{"account_id":18025852,"reputation":1,"user_id":13101841,"display_name":"NightKnight"},"score":0,"creation_date":1650993714,"post_id":72017493,"comment_id":127254046,"body_markdown":"Redis is binary safe, so that should not be the problem. I encoded it to latin1 because that has valid bytes and there was some issue with the spring redis implementation when just saving the plain bytes.","body":"Redis is binary safe, so that should not be the problem. I encoded it to latin1 because that has valid bytes and there was some issue with the spring redis implementation when just saving the plain bytes."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1650996850,"post_id":72017493,"comment_id":127255196,"body_markdown":"What does `this.encodeToStringBinary` in the js code do? Maybe you could include or link the data as found in redis too? Most likely something along the way corrupts the data, and I have to agree with @g00se, the string encoding seems the most likely culprit.","body":"What does <code>this.encodeToStringBinary</code> in the js code do? Maybe you could include or link the data as found in redis too? Most likely something along the way corrupts the data, and I have to agree with @g00se, the string encoding seems the most likely culprit."},{"owner":{"account_id":18025852,"reputation":1,"user_id":13101841,"display_name":"NightKnight"},"score":1,"creation_date":1651063305,"post_id":72017493,"comment_id":127272571,"body_markdown":"Hi Harald, thanks for your input. The issue was the lib on nodejs which I broke with some changes and forgot to rollback. Big fail on me. I removed every encoding stuff and now storing the raw bytes on redis, which works fine now because its as it promises binary safe. \nThere is a new issue now, where imageio.read() can&#39;t find a reader for the converted jpeg and returns image==null. It only works for originally very small heic files. Everything &gt;500kb seems to fail. Except if I stop and wait with the debugger. After some waiting time it then loads the image in the BufferedImage.","body":"Hi Harald, thanks for your input. The issue was the lib on nodejs which I broke with some changes and forgot to rollback. Big fail on me. I removed every encoding stuff and now storing the raw bytes on redis, which works fine now because its as it promises binary safe.  There is a new issue now, where imageio.read() can&#39;t find a reader for the converted jpeg and returns image==null. It only works for originally very small heic files. Everything &gt;500kb seems to fail. Except if I stop and wait with the debugger. After some waiting time it then loads the image in the BufferedImage."},{"owner":{"account_id":18025852,"reputation":1,"user_id":13101841,"display_name":"NightKnight"},"score":0,"creation_date":1651063401,"post_id":72017493,"comment_id":127272623,"body_markdown":"It looks like not all bytes are &quot;there&quot; when it tries to write the image. Or am I missing something else? Might open a new issue.","body":"It looks like not all bytes are &quot;there&quot; when it tries to write the image. Or am I missing something else? Might open a new issue."}],"answers":[{"tags":[],"owner":{"account_id":18025852,"reputation":1,"user_id":13101841,"display_name":"NightKnight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651074070,"creation_date":1651074070,"answer_id":72031659,"question_id":72017493,"body_markdown":"The issue was the lib on nodejs which I broke with some changes and forgot to rollback. Big fail on me. I removed every encoding stuff and now storing the raw bytes on redis, which works fine now because its as it promises binary safe.","title":"ImageIo reading from byte data results in &quot;Empty region!&quot;","body":"<p>The issue was the lib on nodejs which I broke with some changes and forgot to rollback. Big fail on me. I removed every encoding stuff and now storing the raw bytes on redis, which works fine now because its as it promises binary safe.</p>\n"}],"owner":{"account_id":18025852,"reputation":1,"user_id":13101841,"display_name":"NightKnight"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651074070,"creation_date":1650990715,"question_id":72017493,"body_markdown":"I have two services which trade binary data from an original heic/heif image via redis (binary safe). Since ImageIo does not support that image type I built a separate service in nodejs, which just converts heic/heif images to jpegs. After conversion on the nodejs service it saves the string encoded (latin1) image bytes again in Redis where the other service (javax.imagio) retrieves it, decodes the string back to bytes and tries to read from it. \r\nOn that point I recveive the following exception:\r\n\r\n    java.lang.IllegalArgumentException: Empty region!\r\n    \tat java.desktop/javax.imageio.ImageReader.computeRegions(ImageReader.java:2687)\r\n\r\nI am no way an expert for image processing, so I would be happy if someone could explain what I am doing wrong. Below you can see my code:\r\n\r\nMy string serializer:\r\n\r\n    public static Optional&lt;String&gt; encodeBytesToString(byte[] data) {\r\n            return Optional.ofNullable((data == null ? null : new String(data, StandardCharsets.ISO_8859_1)));\r\n        }\r\n    \r\n        public static byte[] decodeStringToBinary(String string) {\r\n            return (string == null ? null : string.getBytes(StandardCharsets.ISO_8859_1));\r\n        }\r\n\r\nBusiness logic\r\n\r\n    BufferedImage image = imageService.readImage(decodeStringToBinary(convertedImage.getData()));\r\n\r\nReader:\r\n\r\n    public BufferedImage readImage(byte[] data) throws IOException {\r\n            return ImageIO.read(new ByteArrayInputStream(data));\r\n        }\r\n\r\nThe docs of the computeRegions method (where the exception is thrown) states the following:\r\n\r\n&gt; If either the source or destination regions end up having a width or\r\n&gt; height of 0, an IllegalArgumentException is thrown.\r\n\r\nNo idea why these properties are 0. I use the following lib for the nodejs service:\r\nhttps://github.com/catdad-experiments/heic-convert\r\nIt works if you use the example in the readme, which saves the outputbuffer to disk. I wanted to skip that and just pass the bytes to redis directly. Am I doing something fundamentally wrong or whats going on here?\r\n\r\nBelow the code on nodejs: \r\n\r\n    const outputBuffer = await convert({\r\n          buffer: inputBuffer,\r\n          format: OutputFormatEnum.JPEG,\r\n          quality: 1,\r\n        });\r\n    \r\n    const encodedBin: string = await this.encodeToStringBinary(\r\n          Buffer.from(outputBuffer),\r\n        );\r\n    \r\n    this.redisCache.hset(fileId, encodedBin);\r\n\r\n\r\n","title":"ImageIo reading from byte data results in &quot;Empty region!&quot;","body":"<p>I have two services which trade binary data from an original heic/heif image via redis (binary safe). Since ImageIo does not support that image type I built a separate service in nodejs, which just converts heic/heif images to jpegs. After conversion on the nodejs service it saves the string encoded (latin1) image bytes again in Redis where the other service (javax.imagio) retrieves it, decodes the string back to bytes and tries to read from it.\nOn that point I recveive the following exception:</p>\n<pre><code>java.lang.IllegalArgumentException: Empty region!\n    at java.desktop/javax.imageio.ImageReader.computeRegions(ImageReader.java:2687)\n</code></pre>\n<p>I am no way an expert for image processing, so I would be happy if someone could explain what I am doing wrong. Below you can see my code:</p>\n<p>My string serializer:</p>\n<pre><code>public static Optional&lt;String&gt; encodeBytesToString(byte[] data) {\n        return Optional.ofNullable((data == null ? null : new String(data, StandardCharsets.ISO_8859_1)));\n    }\n\n    public static byte[] decodeStringToBinary(String string) {\n        return (string == null ? null : string.getBytes(StandardCharsets.ISO_8859_1));\n    }\n</code></pre>\n<p>Business logic</p>\n<pre><code>BufferedImage image = imageService.readImage(decodeStringToBinary(convertedImage.getData()));\n</code></pre>\n<p>Reader:</p>\n<pre><code>public BufferedImage readImage(byte[] data) throws IOException {\n        return ImageIO.read(new ByteArrayInputStream(data));\n    }\n</code></pre>\n<p>The docs of the computeRegions method (where the exception is thrown) states the following:</p>\n<blockquote>\n<p>If either the source or destination regions end up having a width or\nheight of 0, an IllegalArgumentException is thrown.</p>\n</blockquote>\n<p>No idea why these properties are 0. I use the following lib for the nodejs service:\n<a href=\"https://github.com/catdad-experiments/heic-convert\" rel=\"nofollow noreferrer\">https://github.com/catdad-experiments/heic-convert</a>\nIt works if you use the example in the readme, which saves the outputbuffer to disk. I wanted to skip that and just pass the bytes to redis directly. Am I doing something fundamentally wrong or whats going on here?</p>\n<p>Below the code on nodejs:</p>\n<pre><code>const outputBuffer = await convert({\n      buffer: inputBuffer,\n      format: OutputFormatEnum.JPEG,\n      quality: 1,\n    });\n\nconst encodedBin: string = await this.encodeToStringBinary(\n      Buffer.from(outputBuffer),\n    );\n\nthis.redisCache.hset(fileId, encodedBin);\n</code></pre>\n"},{"tags":["java","sonarqube","sonarqube-scan"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1651062082,"post_id":72028520,"comment_id":127271994,"body_markdown":"Returning a boolean value to represent whether a method executed successfully or not is kind of an outdated pattern. Usually in this case you would just have your method `throw IOException` and each caller can than catch that exception and handle it how he wants to, instead of checking a boolean return value.","body":"Returning a boolean value to represent whether a method executed successfully or not is kind of an outdated pattern. Usually in this case you would just have your method <code>throw IOException</code> and each caller can than catch that exception and handle it how he wants to, instead of checking a boolean return value."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651062086,"post_id":72028520,"comment_id":127271995,"body_markdown":"Maybe because you ignore the return value of `moveFile` ? But can&#39;t tell for sure, since I don&#39;t know which `FileUtils` you are using.","body":"Maybe because you ignore the return value of <code>moveFile</code> ? But can&#39;t tell for sure, since I don&#39;t know which <code>FileUtils</code> you are using."},{"owner":{"account_id":10634109,"reputation":454,"user_id":7831309,"display_name":"Goran Petanjek"},"score":0,"creation_date":1651062278,"post_id":72028520,"comment_id":127272075,"body_markdown":"We are using org.apache.commons.io.FileUtils which does not have return - void","body":"We are using org.apache.commons.io.FileUtils which does not have return - void"},{"owner":{"account_id":10634109,"reputation":454,"user_id":7831309,"display_name":"Goran Petanjek"},"score":0,"creation_date":1651062351,"post_id":72028520,"comment_id":127272107,"body_markdown":"What is strange is that SonarLint correctly does not display this issue. And when I change all to e.g. &#39;return true;&#39; only then SonarLint reports it.","body":"What is strange is that SonarLint correctly does not display this issue. And when I change all to e.g. &#39;return true;&#39; only then SonarLint reports it."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651065904,"creation_date":1651064463,"answer_id":72029254,"question_id":72028520,"body_markdown":"I would move the `return false` statement to outside and after the catch (where return true is now). And move the `return true` to immediately follow the Fileutils call in the try block, like this:\r\n\r\n        try\r\n        {\r\n            FileUtils.moveFile(dcomExportFile, destination);\r\n            return true;\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            Logger.error(this, &quot;Could not move file {} to {}, future job runs might fail as well&quot;,\r\n                            dcomExportFile.getAbsolutePath(), destination.getAbsolutePath());\r\n        }\r\n        return false;\r\n\r\nIt&#39;s confusing and arguably bad style to return from within a catch block anyway. \r\n\r\nI&#39;m not sure that in this case not letting the exception be thrown is a great idea because this seems like the sort of error I would want to bubble up, where having a return value lets it get lost too easily. Maybe it&#39;s not so bad if logging the error is the only thing the code does to handle this.\r\n","title":"SonarQube rule &quot;Methods returns should not be invariant&quot; with catch block","body":"<p>I would move the <code>return false</code> statement to outside and after the catch (where return true is now). And move the <code>return true</code> to immediately follow the Fileutils call in the try block, like this:</p>\n<pre><code>    try\n    {\n        FileUtils.moveFile(dcomExportFile, destination);\n        return true;\n    }\n    catch(IOException e)\n    {\n        Logger.error(this, &quot;Could not move file {} to {}, future job runs might fail as well&quot;,\n                        dcomExportFile.getAbsolutePath(), destination.getAbsolutePath());\n    }\n    return false;\n</code></pre>\n<p>It's confusing and arguably bad style to return from within a catch block anyway.</p>\n<p>I'm not sure that in this case not letting the exception be thrown is a great idea because this seems like the sort of error I would want to bubble up, where having a return value lets it get lost too easily. Maybe it's not so bad if logging the error is the only thing the code does to handle this.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651065064,"creation_date":1651065064,"answer_id":72029380,"question_id":72028520,"body_markdown":"I think it may not be good idea to just catch &amp; log exception &amp; return `false`. You might need to throw exception back to caller of your method. \r\n\r\nGood example which comes in my mind is [list.add(..)][1] where if operation is success it returns `true` but in case of any failure it throws exceptions to caller instead of returning `false`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-","title":"SonarQube rule &quot;Methods returns should not be invariant&quot; with catch block","body":"<p>I think it may not be good idea to just catch &amp; log exception &amp; return <code>false</code>. You might need to throw exception back to caller of your method.</p>\n<p>Good example which comes in my mind is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\" rel=\"nofollow noreferrer\">list.add(..)</a> where if operation is success it returns <code>true</code> but in case of any failure it throws exceptions to caller instead of returning <code>false</code>.</p>\n"},{"tags":[],"owner":{"account_id":10634109,"reputation":454,"user_id":7831309,"display_name":"Goran Petanjek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651073929,"creation_date":1651073929,"answer_id":72031626,"question_id":72028520,"body_markdown":"I found solution - scanning with correct sonar.java.libraries path resolves this issue.","title":"SonarQube rule &quot;Methods returns should not be invariant&quot; with catch block","body":"<p>I found solution - scanning with correct sonar.java.libraries path resolves this issue.</p>\n"}],"owner":{"account_id":10634109,"reputation":454,"user_id":7831309,"display_name":"Goran Petanjek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1651073929,"creation_date":1651061642,"question_id":72028520,"body_markdown":"I&#39;m using latest SonarQube server 9.4 and it constantly reports &quot;Refactor this method to not always return the same value.&quot; - java:S3516 in piece of code like this:\r\n```\r\n        try\r\n        {\r\n            FileUtils.moveFile(dcomExportFile, destination);\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            Logger.error(this, &quot;Could not move file {} to {}, future job runs might fail as well&quot;,\r\n                            dcomExportFile.getAbsolutePath(), destination.getAbsolutePath());\r\n            return false;\r\n        }\r\n        return true;\r\n```\r\nWhich is very strange because method FileUtils.moveFile can throw IOException and in this case method returns false.\r\n\r\nAny idea?\r\n\r\nThx!","title":"SonarQube rule &quot;Methods returns should not be invariant&quot; with catch block","body":"<p>I'm using latest SonarQube server 9.4 and it constantly reports &quot;Refactor this method to not always return the same value.&quot; - java:S3516 in piece of code like this:</p>\n<pre><code>        try\n        {\n            FileUtils.moveFile(dcomExportFile, destination);\n        }\n        catch(IOException e)\n        {\n            Logger.error(this, &quot;Could not move file {} to {}, future job runs might fail as well&quot;,\n                            dcomExportFile.getAbsolutePath(), destination.getAbsolutePath());\n            return false;\n        }\n        return true;\n</code></pre>\n<p>Which is very strange because method FileUtils.moveFile can throw IOException and in this case method returns false.</p>\n<p>Any idea?</p>\n<p>Thx!</p>\n"},{"tags":["java","arrays","arraylist","set"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651072060,"post_id":72031085,"comment_id":127276230,"body_markdown":"[`Collection::toArray`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#toArray(T%5B%5D))?","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\"><code>Collection::toArray</code></a>?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1651072153,"post_id":72031085,"comment_id":127276275,"body_markdown":"@Turing85 That will not work to create an `int[]` array.","body":"@Turing85 That will not work to create an <code>int[]</code> array."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651072312,"post_id":72031085,"comment_id":127276343,"body_markdown":"Hmm... true... sometimes, I hate primitives","body":"Hmm... true... sometimes, I hate primitives"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1651072338,"post_id":72031085,"comment_id":127276358,"body_markdown":"You can use `int[] arr = set.stream().mapToInt(i -&gt; i).toArray();` to convert given `set` is a variable of type `Set&lt;Integer&gt;`.","body":"You can use <code>int[] arr = set.stream().mapToInt(i -&gt; i).toArray();</code> to convert given <code>set</code> is a variable of type <code>Set&lt;Integer&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1651073907,"creation_date":1651072502,"answer_id":72031231,"question_id":72031085,"body_markdown":"Don&#39;t use a set. `Stream` the random numbers, remove dups using `distinct`, and limit using `limit`\r\n```\r\npublic static int [] randArr(int n, int max){\r\n    Random rn = new Random();\r\n    return rn.ints(0,max).distinct().limit(n).toArray(); \r\n}\r\n```\r\n**Notes:** \r\n- Make certain that `n is &lt;= max`, otherwise you could be waiting a while.\r\n- `max must be &gt;= 1` (required by `Random.ints` method)\r\n\r\nYou may want to put in some code to enforce those `invariants` and throw an appropriate exception if not in compliance. Something like the following (or whatever makes sense to you).\r\n```\r\nif (n &gt; max || max &lt;= 0) {\r\n   throw new IllegalArgumentException(\r\n                &quot;n(%d) &lt;= max(%d) or max &gt; 0 not in compliance&quot;\r\n                .formatted(n,max));\r\n}","title":"How can I convert my Set to an array efficiently?","body":"<p>Don't use a set. <code>Stream</code> the random numbers, remove dups using <code>distinct</code>, and limit using <code>limit</code></p>\n<pre><code>public static int [] randArr(int n, int max){\n    Random rn = new Random();\n    return rn.ints(0,max).distinct().limit(n).toArray(); \n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Make certain that <code>n is &lt;= max</code>, otherwise you could be waiting a while.</li>\n<li><code>max must be &gt;= 1</code> (required by <code>Random.ints</code> method)</li>\n</ul>\n<p>You may want to put in some code to enforce those <code>invariants</code> and throw an appropriate exception if not in compliance. Something like the following (or whatever makes sense to you).</p>\n<pre><code>if (n &gt; max || max &lt;= 0) {\n   throw new IllegalArgumentException(\n                &quot;n(%d) &lt;= max(%d) or max &gt; 0 not in compliance&quot;\n                .formatted(n,max));\n}\n</code></pre>\n"}],"owner":{"account_id":20384883,"reputation":131,"user_id":16497497,"display_name":"FishyK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72031231,"answer_count":1,"score":0,"last_activity_date":1651073907,"creation_date":1651071990,"question_id":72031085,"body_markdown":"So I am trying to generate an array that is filled with unique randomized integers and I found out that doing this with an arraylist would be the most efficient way to do so.\r\n\r\n\r\n```\r\npublic static int [] randArr(int n, int max){\r\n       randArr = new int[n];\r\n       Random rn = new Random();\r\n       Set&lt;Integer&gt; test = new HashSet&lt;Integer&gt;();\r\n       \r\n      while(test.size() &lt; n){\r\n      test.add(rn.nextInt(0, max));\r\n \r\n        }\r\n}\r\n```\r\nNow I tried working with `randArr = test.toArray()` but I am not quite sure, what to put in the parentheses nor if this really can work. Is there any other method for converting, since I cannot simply assign randArr with the integers of test through `test.get(i)` with a for-loop either.\r\n           \r\n     \r\n\r\n","title":"How can I convert my Set to an array efficiently?","body":"<p>So I am trying to generate an array that is filled with unique randomized integers and I found out that doing this with an arraylist would be the most efficient way to do so.</p>\n<pre><code>public static int [] randArr(int n, int max){\n       randArr = new int[n];\n       Random rn = new Random();\n       Set&lt;Integer&gt; test = new HashSet&lt;Integer&gt;();\n       \n      while(test.size() &lt; n){\n      test.add(rn.nextInt(0, max));\n \n        }\n}\n</code></pre>\n<p>Now I tried working with <code>randArr = test.toArray()</code> but I am not quite sure, what to put in the parentheses nor if this really can work. Is there any other method for converting, since I cannot simply assign randArr with the integers of test through <code>test.get(i)</code> with a for-loop either.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":1,"creation_date":1458653638,"post_id":36155758,"comment_id":59948780,"body_markdown":"What is the answer for `8888`? `3 *4 = 12`?","body":"What is the answer for <code>8888</code>? <code>3 *4 = 12</code>?"},{"owner":{"account_id":7827308,"reputation":1498,"user_id":5918453,"display_name":"Mark"},"score":2,"creation_date":1458653690,"post_id":36155758,"comment_id":59948815,"body_markdown":"If I understand correctly, it should be 7","body":"If I understand correctly, it should be 7"},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1458653690,"post_id":36155758,"comment_id":59948818,"body_markdown":"This could help. http://stackoverflow.com/questions/275944/how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string","body":"This could help. <a href=\"http://stackoverflow.com/questions/275944/how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string\" title=\"how do i count the number of occurrences of a char in a string\">stackoverflow.com/questions/275944/&hellip;</a>"},{"owner":{"account_id":2808327,"reputation":1626,"user_id":2415100,"accept_rate":91,"display_name":"Kevin"},"score":2,"creation_date":1458653692,"post_id":36155758,"comment_id":59948819,"body_markdown":"This looks like a homework question. Asking on stack kind of beats the point, don&#39;t you think. Ask classmates and try figure it out. There are many ways to solve it, but a hint to the most obvious one is: _add a boolean parameter_","body":"This looks like a homework question. Asking on stack kind of beats the point, don&#39;t you think. Ask classmates and try figure it out. There are many ways to solve it, but a hint to the most obvious one is: <i>add a boolean parameter</i>"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1458653996,"post_id":36155758,"comment_id":59949057,"body_markdown":"also this flag you&#39;ve introduced should be unnecessary.","body":"also this flag you&#39;ve introduced should be unnecessary."},{"owner":{"account_id":8078276,"reputation":167,"user_id":6088463,"accept_rate":67,"display_name":"JenkinsY"},"score":0,"creation_date":1458654806,"post_id":36155758,"comment_id":59949754,"body_markdown":"@DmitryBychenko The answer for 8888 is 3*2+1 = 7","body":"@DmitryBychenko The answer for 8888 is 3*2+1 = 7"},{"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1458654949,"post_id":36155758,"comment_id":59949883,"body_markdown":"@JenkinsY: I see, and my routine returns `7`","body":"@JenkinsY: I see, and my routine returns <code>7</code>"}],"answers":[{"tags":[],"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1458654103,"creation_date":1458654103,"answer_id":36156003,"question_id":36155758,"body_markdown":"Pass the *state* (is the previous digit *eight*) to the method:\r\n\r\n    private static int count8(int n, boolean eight) {\r\n      if (n &lt;= 0)\r\n        return 0;\r\n      else if (n % 10 == 8)\r\n        return 1 + (eight ? 1 : 0) + count8(n / 10, true);\r\n      else\r\n        return count8(n / 10, false);\r\n    }\r\n\r\n    public static int count8(int n) {\r\n      return count8(n, false);\r\n    }\r\n","title":"count number of digit using recursive method","body":"<p>Pass the <em>state</em> (is the previous digit <em>eight</em>) to the method:</p>\n\n<pre><code>private static int count8(int n, boolean eight) {\n  if (n &lt;= 0)\n    return 0;\n  else if (n % 10 == 8)\n    return 1 + (eight ? 1 : 0) + count8(n / 10, true);\n  else\n    return count8(n / 10, false);\n}\n\npublic static int count8(int n) {\n  return count8(n, false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7827308,"reputation":1498,"user_id":5918453,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458654776,"creation_date":1458654586,"answer_id":36156198,"question_id":36155758,"body_markdown":"Your flag variable is only local. There&#39;s only one time you read it: `if (flag == true)` and since you never change it&#39;s value before that it will always be false.\r\n\r\nYou make this a lot more complicated than it has to be though. No need for an additional parameter at all.\r\n\r\n    public int count8(int n)\r\n    {\r\n        if (n % 100 == 88) return count8(n/10) + 2;\r\n        if (n % 10 == 8) return count8(n/10) + 1;\r\n        if (n &lt; 10) return 0;\r\n        return count8(n/10);\r\n    }","title":"count number of digit using recursive method","body":"<p>Your flag variable is only local. There's only one time you read it: <code>if (flag == true)</code> and since you never change it's value before that it will always be false.</p>\n\n<p>You make this a lot more complicated than it has to be though. No need for an additional parameter at all.</p>\n\n<pre><code>public int count8(int n)\n{\n    if (n % 100 == 88) return count8(n/10) + 2;\n    if (n % 10 == 8) return count8(n/10) + 1;\n    if (n &lt; 10) return 0;\n    return count8(n/10);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7866383,"reputation":574,"user_id":5945089,"display_name":"Gregory Prescott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458654605,"creation_date":1458654605,"answer_id":36156207,"question_id":36155758,"body_markdown":"You can try smth like this:\r\n\r\n    public int count8(int n) {\r\n    \tif (n &lt; 10)\r\n    \t\treturn n == 8: 1 ? 0;\r\n    \r\n    \tint count = 0;\r\n    \tString num = Integer.toString(n);\r\n    \tint numLength = num.length();\r\n    \r\n    \tif (numLength % 2 != 0)\r\n    \t\tnum += &quot;0&quot;;\r\n    \r\n    \tif ((num.charAt(numLength / 2) == num.charAt(numLength / 2 - 1)) &amp;&amp; (num.charAt(numLength / 2) == &quot;8&quot;))\r\n    \t\tcount++;\r\n    \r\n    \tString left = num.substring(0, numLength / 2);\r\n    \tint leftInt = Integer.parseInt(left);\r\n    \tString rigth = num.substring(numLength / 2);\r\n    \tint rigthInt = Integer.parseInt(rigth);\r\n    \r\n    \treturn count + count8(leftInt) + count8(rigthInt);\r\n    }","title":"count number of digit using recursive method","body":"<p>You can try smth like this:</p>\n\n<pre><code>public int count8(int n) {\n    if (n &lt; 10)\n        return n == 8: 1 ? 0;\n\n    int count = 0;\n    String num = Integer.toString(n);\n    int numLength = num.length();\n\n    if (numLength % 2 != 0)\n        num += \"0\";\n\n    if ((num.charAt(numLength / 2) == num.charAt(numLength / 2 - 1)) &amp;&amp; (num.charAt(numLength / 2) == \"8\"))\n        count++;\n\n    String left = num.substring(0, numLength / 2);\n    int leftInt = Integer.parseInt(left);\n    String rigth = num.substring(numLength / 2);\n    int rigthInt = Integer.parseInt(rigth);\n\n    return count + count8(leftInt) + count8(rigthInt);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14899652,"reputation":1,"user_id":10758854,"display_name":"Nguyen Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544240968,"creation_date":1544173305,"answer_id":53666254,"question_id":36155758,"body_markdown":"C++\r\n\r\n    int count8(int n) {\r\n    \treturn n == 0 ? 0 : (n % 10 == 8) + (n % 100 == 88) + count8(n/10);\r\n    }\r\n\r\nJava &amp; C#\r\n\r\n    int count8(int n) {\r\n\t\tif (n==0) return 0;\r\n\t\tif(n % 100 == 88)\r\n\t\t\treturn 2 + count8(n / 10);\r\n\t\tif(n % 10 == 8)\r\n\t\t\treturn 1 + count8(n / 10);\r\n\t\t\r\n\t\treturn count8(n / 10);\r\n\t}","title":"count number of digit using recursive method","body":"<p>C++</p>\n\n<pre><code>int count8(int n) {\n    return n == 0 ? 0 : (n % 10 == 8) + (n % 100 == 88) + count8(n/10);\n}\n</code></pre>\n\n<p>Java &amp; C#</p>\n\n<pre><code>int count8(int n) {\n    if (n==0) return 0;\n    if(n % 100 == 88)\n        return 2 + count8(n / 10);\n    if(n % 10 == 8)\n        return 1 + count8(n / 10);\n\n    return count8(n / 10);\n}\n</code></pre>\n"}],"owner":{"account_id":8078276,"reputation":167,"user_id":6088463,"accept_rate":67,"display_name":"JenkinsY"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3971,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":36156003,"answer_count":4,"score":1,"last_activity_date":1651073493,"creation_date":1458653459,"question_id":36155758,"body_markdown":"Given a non-negative int n, **compute recursively (no loops)** the count of the occurrences of 8 as a digit, except that an 8 with another 8 immediately to its left counts double, so 8818 yields 4. Note that mod (%) by 10 yields the rightmost digit (126 % 10 is 6), while divide (/) by 10 removes the rightmost digit (126 / 10 is 12).\r\n\r\n    count8(8) → 1\r\n    count8(818) → 2\r\n    count8(8818) → 4\r\n\r\nmy program seems not able to count double &#39;8&#39;s. Here&#39;s the code.\r\n\r\n    public int count8(int n) {\r\n        boolean flag = false;\r\n        if(n&lt;10)\r\n        {\r\n          if (n==8)\r\n          {\r\n             if(flag == true)\r\n                 return 2;\r\n             else \r\n             { \r\n                 flag = true;\r\n                 return 1;\r\n             }\r\n          }\r\n          else \r\n          {\r\n            flag = false;\r\n            return 0;\r\n          }\r\n        }\r\n          \r\n        else\r\n           return count8(n%10)+count8(n/10);\r\n       \r\n    }\r\nI was wondering if the last line goes wrong but I don&#39;t know how to check it. Looking forward to your help. Thanks!\r\n","title":"count number of digit using recursive method","body":"<p>Given a non-negative int n, <strong>compute recursively (no loops)</strong> the count of the occurrences of 8 as a digit, except that an 8 with another 8 immediately to its left counts double, so 8818 yields 4. Note that mod (%) by 10 yields the rightmost digit (126 % 10 is 6), while divide (/) by 10 removes the rightmost digit (126 / 10 is 12).</p>\n\n<pre><code>count8(8) → 1\ncount8(818) → 2\ncount8(8818) → 4\n</code></pre>\n\n<p>my program seems not able to count double '8's. Here's the code.</p>\n\n<pre><code>public int count8(int n) {\n    boolean flag = false;\n    if(n&lt;10)\n    {\n      if (n==8)\n      {\n         if(flag == true)\n             return 2;\n         else \n         { \n             flag = true;\n             return 1;\n         }\n      }\n      else \n      {\n        flag = false;\n        return 0;\n      }\n    }\n\n    else\n       return count8(n%10)+count8(n/10);\n\n}\n</code></pre>\n\n<p>I was wondering if the last line goes wrong but I don't know how to check it. Looking forward to your help. Thanks!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1651073709,"post_id":72031480,"comment_id":127276868,"body_markdown":"A runnable jar is not the correct approach in the first place. The problem is you need to provide (via command line arguments) the path to the JavaFX module, which needs to be installed on the end user machine (and its location will vary). You should create an application bundle instead (including the Java+JavaFX runtime). You can do this with a tool such as `jpackage`: see the links under &quot;Packaging&quot; in the [tag info](https://stackoverflow.com/tags/javafx/info)","body":"A runnable jar is not the correct approach in the first place. The problem is you need to provide (via command line arguments) the path to the JavaFX module, which needs to be installed on the end user machine (and its location will vary). You should create an application bundle instead (including the Java+JavaFX runtime). You can do this with a tool such as <code>jpackage</code>: see the links under &quot;Packaging&quot; in the <a href=\"https://stackoverflow.com/tags/javafx/info\">tag info</a>"},{"owner":{"account_id":22117423,"reputation":21,"user_id":16371274,"display_name":"Fabio Azzini"},"score":0,"creation_date":1651075715,"post_id":72031480,"comment_id":127277696,"body_markdown":"I just want a simple way to share my programs. I use runnable jars because I can convert them into executable files, and this is my goal. Is this wrong?","body":"I just want a simple way to share my programs. I use runnable jars because I can convert them into executable files, and this is my goal. Is this wrong?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1651076480,"post_id":72031480,"comment_id":127278019,"body_markdown":"Explain how you are converting the runnable jars into executable files.","body":"Explain how you are converting the runnable jars into executable files."},{"owner":{"account_id":22117423,"reputation":21,"user_id":16371274,"display_name":"Fabio Azzini"},"score":0,"creation_date":1651076970,"post_id":72031480,"comment_id":127278196,"body_markdown":"I actually wrap it, using a wrapper software.","body":"I actually wrap it, using a wrapper software."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1651077162,"post_id":72031480,"comment_id":127278261,"body_markdown":"Ok, so use `jpackage` as your “wrapper software”, since that allows you to create a custom JVM with the JavaFX modules included.","body":"Ok, so use <code>jpackage</code> as your “wrapper software”, since that allows you to create a custom JVM with the JavaFX modules included."}],"owner":{"account_id":22117423,"reputation":21,"user_id":16371274,"display_name":"Fabio Azzini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651073396,"creation_date":1651073396,"question_id":72031480,"body_markdown":"When I export my JavaFX program as a runnable JAR file, I cannot run it because an error appears: &quot;a JNI error has occured, please check your installation and try again&quot;. I suppose the problem is related with the warning I get while exporting: &quot;VM arguments will not be part of the runnable JAR. Arguments can be passed on the command line when launching the JAR&quot;, but I actually am not sure if this is the reason. I do not want to pass them on the command line, I want a &quot;click to open&quot; solution.","title":"How do I include VM arguments while exporting a JavaFX program?","body":"<p>When I export my JavaFX program as a runnable JAR file, I cannot run it because an error appears: &quot;a JNI error has occured, please check your installation and try again&quot;. I suppose the problem is related with the warning I get while exporting: &quot;VM arguments will not be part of the runnable JAR. Arguments can be passed on the command line when launching the JAR&quot;, but I actually am not sure if this is the reason. I do not want to pass them on the command line, I want a &quot;click to open&quot; solution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":4,"creation_date":1564421198,"post_id":57258682,"comment_id":101016817,"body_markdown":"JDK does not include any tuple types. If you want tuple, you will need to write one yourself, use a library, or adapt some other type from JDK or said libraries to do act as a tuple (latter with obvious downside of not expressing proper intention for its key type).","body":"JDK does not include any tuple types. If you want tuple, you will need to write one yourself, use a library, or adapt some other type from JDK or said libraries to do act as a tuple (latter with obvious downside of not expressing proper intention for its key type)."},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1564421499,"post_id":57258682,"comment_id":101016917,"body_markdown":"Just create a custom `Pair` class and use it as key? Or what is the problem here? And don&quot;t forget to implement `equals()` and `hashcode()` methods","body":"Just create a custom <code>Pair</code> class and use it as key? Or what is the problem here? And don&quot;t forget to implement <code>equals()</code> and <code>hashcode()</code> methods"},{"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"score":1,"creation_date":1564421685,"post_id":57258682,"comment_id":101016988,"body_markdown":"do u want HashMap&lt;&lt;Integer, Integer&gt; , String&gt; ?","body":"do u want HashMap&lt;&lt;Integer, Integer&gt; , String&gt; ?"},{"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":4,"creation_date":1564422001,"post_id":57258682,"comment_id":101017113,"body_markdown":"&quot;If a thread-safe implementation is not needed, it is recommended to use HashMap in place of Hashtable. If a thread-safe highly-concurrent implementation is desired, then it is recommended to use ConcurrentHashMap in place of Hashtable.&quot;","body":"&quot;If a thread-safe implementation is not needed, it is recommended to use HashMap in place of Hashtable. If a thread-safe highly-concurrent implementation is desired, then it is recommended to use ConcurrentHashMap in place of Hashtable.&quot;"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1564422773,"post_id":57258682,"comment_id":101017411,"body_markdown":"But what is your question? When you google for &quot;java pair class&quot;, you get a ton of suggestions, like: https://stackoverflow.com/questions/5303539/didnt-java-once-have-a-pair-class ... so: what is your question?","body":"But what is your question? When you google for &quot;java pair class&quot;, you get a ton of suggestions, like: <a href=\"https://stackoverflow.com/questions/5303539/didnt-java-once-have-a-pair-class\" title=\"didnt java once have a pair class\">stackoverflow.com/questions/5303539/&hellip;</a> ... so: what is your question?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1564424777,"post_id":57258682,"comment_id":101018233,"body_markdown":"Short version of what Alexey said: Don&#39;t ever use `Hashtable`. Use `HashMap` unless you have a specific reason to choose something else.","body":"Short version of what Alexey said: Don&#39;t ever use <code>Hashtable</code>. Use <code>HashMap</code> unless you have a specific reason to choose something else."}],"answers":[{"tags":[],"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651073198,"creation_date":1564421983,"answer_id":57258888,"question_id":57258682,"body_markdown":"_Updated version_\r\n\r\nTo avoid the dependency to JavaFX we can create a simple generic class for the tuple\r\n\r\n    class Tuple&lt;Value&gt; {\r\n        Value first;\r\n        Value second;\r\n    \r\n        Tuple(Value first, Value second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n    }\r\n\r\nand also avoid using `Hashtable` and replace it with for instance. `HashMap`\r\n\r\n    Map&lt;Tuple&lt;Integer&gt;, String&gt; map = new HashMap();\r\n    map.put(new Tuple(1,2), &quot;Hello&quot;);\r\n    map.put(new Tuple(3,3), &quot;World&quot;);\r\n\r\n---\r\n\r\n_Old version_\r\n\r\nUsing the existing [Pair](https://docs.oracle.com/javase/8/javafx/api/javafx/util/Pair.html) class you can define your hash table like \r\n\r\n    Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; marks = new Hashtable&lt;&gt;(); \r\n\r\nAnd then create a new Pair instance as key\r\n\r\n    marks.put(new Pair(1,33),&quot;test&quot;);                                 \r\n\r\n    System.out.println(marks.get(new Pair(1,33)));     \r\n","title":"Creating a hash table with tuple as key","body":"<p><em>Updated version</em></p>\n<p>To avoid the dependency to JavaFX we can create a simple generic class for the tuple</p>\n<pre><code>class Tuple&lt;Value&gt; {\n    Value first;\n    Value second;\n\n    Tuple(Value first, Value second) {\n        this.first = first;\n        this.second = second;\n    }\n}\n</code></pre>\n<p>and also avoid using <code>Hashtable</code> and replace it with for instance. <code>HashMap</code></p>\n<pre><code>Map&lt;Tuple&lt;Integer&gt;, String&gt; map = new HashMap();\nmap.put(new Tuple(1,2), &quot;Hello&quot;);\nmap.put(new Tuple(3,3), &quot;World&quot;);\n</code></pre>\n<hr />\n<p><em>Old version</em></p>\n<p>Using the existing <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/util/Pair.html\" rel=\"nofollow noreferrer\">Pair</a> class you can define your hash table like</p>\n<pre><code>Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; marks = new Hashtable&lt;&gt;(); \n</code></pre>\n<p>And then create a new Pair instance as key</p>\n<pre><code>marks.put(new Pair(1,33),&quot;test&quot;);                                 \n\nSystem.out.println(marks.get(new Pair(1,33)));     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":34563,"reputation":19814,"user_id":97754,"accept_rate":90,"display_name":"Margus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564424162,"creation_date":1564422423,"answer_id":57258984,"question_id":57258682,"body_markdown":"So long story short, unlike c# that has value tuples since version 7 and you can use\r\n\r\n    (string name, int age) info = GetStudentInfo(&quot;100-000-1000&quot;); \r\n\r\nAs you can see, it is a tuple, but elements have strong types and names. You can compare them and most of it works nicely. Python is scripting language and has had this support for ages. In java, if you create a class you need to override its hashcode, tostring, ... and if you want to have multi threading guarantees it is just hard.\r\n\r\nThankfully Google engineers have stumbled upon this multiple times and have solved this issue as best as it is possible, for more info check out Guava horrible ideas:\r\nhttps://github.com/google/guava/wiki/IdeaGraveyard\r\n\r\nThe solution is to use AutoValue that generates immutable value classes \r\nhttps://github.com/google/auto/tree/master/value\r\n\r\n\r\n    import com.google.auto.value.AutoValue;\r\n    \r\n    @AutoValue\r\n    public abstract class Pair {\r\n    \r\n      public static Pair of(int first, int second) {\r\n        return new AutoValue_Pair(first, second);\r\n      }\r\n    \r\n      public abstract int first();    \r\n      public abstract int second();\r\n    }\r\n\r\nTo use it you could just type\r\n\r\n    Hashtable&lt;Pair, String&gt; marks = new Hashtable&lt;Pair, String&gt;();\r\n    marks.put(Pair.of(1, 2), &quot;test&quot;); \r\n\r\nThe real strengths start to shine when you scale your problem or when you use it with google guava with it. For example:\r\n\r\n    Map&lt;Pair, String&gt; map = Maps.newLinkedHashMap();","title":"Creating a hash table with tuple as key","body":"<p>So long story short, unlike c# that has value tuples since version 7 and you can use</p>\n\n<pre><code>(string name, int age) info = GetStudentInfo(\"100-000-1000\"); \n</code></pre>\n\n<p>As you can see, it is a tuple, but elements have strong types and names. You can compare them and most of it works nicely. Python is scripting language and has had this support for ages. In java, if you create a class you need to override its hashcode, tostring, ... and if you want to have multi threading guarantees it is just hard.</p>\n\n<p>Thankfully Google engineers have stumbled upon this multiple times and have solved this issue as best as it is possible, for more info check out Guava horrible ideas:\n<a href=\"https://github.com/google/guava/wiki/IdeaGraveyard\" rel=\"nofollow noreferrer\">https://github.com/google/guava/wiki/IdeaGraveyard</a></p>\n\n<p>The solution is to use AutoValue that generates immutable value classes \n<a href=\"https://github.com/google/auto/tree/master/value\" rel=\"nofollow noreferrer\">https://github.com/google/auto/tree/master/value</a></p>\n\n<pre><code>import com.google.auto.value.AutoValue;\n\n@AutoValue\npublic abstract class Pair {\n\n  public static Pair of(int first, int second) {\n    return new AutoValue_Pair(first, second);\n  }\n\n  public abstract int first();    \n  public abstract int second();\n}\n</code></pre>\n\n<p>To use it you could just type</p>\n\n<pre><code>Hashtable&lt;Pair, String&gt; marks = new Hashtable&lt;Pair, String&gt;();\nmarks.put(Pair.of(1, 2), \"test\"); \n</code></pre>\n\n<p>The real strengths start to shine when you scale your problem or when you use it with google guava with it. For example:</p>\n\n<pre><code>Map&lt;Pair, String&gt; map = Maps.newLinkedHashMap();\n</code></pre>\n"}],"owner":{"display_name":"user11853567"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2031,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":2,"score":5,"last_activity_date":1651073198,"creation_date":1564421066,"question_id":57258682,"body_markdown":"I am trying to implement a HashTable that uses tuples of integers as keys. What i have done so far:\r\n\r\n    import java.util.*; \r\n    \r\n        public class Hash_Table_Demo { \r\n            public static void main(String[] args) \r\n            {           \r\n                Hashtable&lt;Integer, String&gt; marks =  \r\n                          new Hashtable&lt;Integer, String&gt;(); \r\n                                        \r\n                marks.put(33,&quot;test&quot;);                                 \r\n          \r\n                System.out.println(marks.get(33));                           \r\n            } \r\n        }\r\n\r\nSo far i have achieved this only for integers and not for pairs. How could this be done?","title":"Creating a hash table with tuple as key","body":"<p>I am trying to implement a HashTable that uses tuples of integers as keys. What i have done so far:</p>\n\n<pre><code>import java.util.*; \n\n    public class Hash_Table_Demo { \n        public static void main(String[] args) \n        {           \n            Hashtable&lt;Integer, String&gt; marks =  \n                      new Hashtable&lt;Integer, String&gt;(); \n\n            marks.put(33,\"test\");                                 \n\n            System.out.println(marks.get(33));                           \n        } \n    }\n</code></pre>\n\n<p>So far i have achieved this only for integers and not for pairs. How could this be done?</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactor","reactor-kafka"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1651023853,"post_id":72022342,"comment_id":127261472,"body_markdown":"You don&#39;t really need to pause kafka consumer explicitly. The latest version have a built-in mechanism for pausing to handle backpreasure.  In case processing of polled messages is taking too long - `reactor-kafka` would pause consumer until messages are processed. \nFor example we used this behavior to implement &quot;delayed consumer&quot; to process messages with a defined delay.","body":"You don&#39;t really need to pause kafka consumer explicitly. The latest version have a built-in mechanism for pausing to handle backpreasure.  In case processing of polled messages is taking too long - <code>reactor-kafka</code> would pause consumer until messages are processed.  For example we used this behavior to implement &quot;delayed consumer&quot; to process messages with a defined delay."},{"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"score":0,"creation_date":1651025338,"post_id":72022342,"comment_id":127261672,"body_markdown":"Thanks for replying Alex. My requirement is that I need to explicitly stop the kafka read at  a scheduled time for example once a day to do another process outside of kafka read (readFromKafka ())and resume once that process is complete. I don&#39;t think I can use backpressure feature for that, please let me know if I am wrong","body":"Thanks for replying Alex. My requirement is that I need to explicitly stop the kafka read at  a scheduled time for example once a day to do another process outside of kafka read (readFromKafka ())and resume once that process is complete. I don&#39;t think I can use backpressure feature for that, please let me know if I am wrong"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1651037287,"post_id":72022342,"comment_id":127263479,"body_markdown":"As an idea, you could periodically check time while processing records and then use `Mono.delay()` to stop processing. As result, consumer will be paused. As far as I know the only way to pause it explicitly - use `doOnConsumer` API (https://projectreactor.io/docs/kafka/milestone/api/reactor/kafka/receiver/KafkaReceiver.html#doOnConsumer-java.util.function.Function-).","body":"As an idea, you could periodically check time while processing records and then use <code>Mono.delay()</code> to stop processing. As result, consumer will be paused. As far as I know the only way to pause it explicitly - use <code>doOnConsumer</code> API (<a href=\"https://projectreactor.io/docs/kafka/milestone/api/reactor/kafka/receiver/KafkaReceiver.html#doOnConsumer-java.util.function.Function-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/kafka/milestone/api/reactor/kafka/&hellip;</a>)&zwnj;&#8203;."}],"answers":[{"tags":[],"owner":{"account_id":14976113,"reputation":1632,"user_id":10811516,"display_name":"Ricard Kollcaku"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651073081,"creation_date":1651071036,"answer_id":72030862,"question_id":72022342,"body_markdown":"Kafka on pause or resume is offering you a mono so you need to subscribe in that stream in order to make it execute.\r\nYou can try like this\r\n\r\n      public void pauseKafkaRead() {\r\n        kafkaConsumerTemplate.assignment()\r\n            .flatMap(o -&gt; kafkaConsumerTemplate.pause(o))\r\n            .subscribe();\r\n    \r\n      }\r\n      public void resumeKafkaRead() {\r\n        kafkaConsumerTemplate.assignment()\r\n            .flatMap(o -&gt; kafkaConsumerTemplate.resume(o))\r\n            .subscribe();\r\n      }","title":"Pause kafka read in reactive Kafka","body":"<p>Kafka on pause or resume is offering you a mono so you need to subscribe in that stream in order to make it execute.\nYou can try like this</p>\n<pre><code>  public void pauseKafkaRead() {\n    kafkaConsumerTemplate.assignment()\n        .flatMap(o -&gt; kafkaConsumerTemplate.pause(o))\n        .subscribe();\n\n  }\n  public void resumeKafkaRead() {\n    kafkaConsumerTemplate.assignment()\n        .flatMap(o -&gt; kafkaConsumerTemplate.resume(o))\n        .subscribe();\n  }\n</code></pre>\n"}],"owner":{"account_id":4949942,"reputation":827,"user_id":3985332,"accept_rate":45,"display_name":"perplexedDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72030862,"answer_count":1,"score":2,"last_activity_date":1651073081,"creation_date":1651023317,"question_id":72022342,"body_markdown":"I have an application that reads from kafka using reactive kafka. Below is the code to read from kafka:\r\n\r\n    public Flux&lt;String&gt; readFromKafka() {\r\n            return kafkaConsumerTemplate\r\n                    .receiveAutoAck()\r\n                    .doOnNext(consumerRecord -&gt; log.debug(&quot;received key={}, value={} from topic={}, offset={}&quot;,\r\n                            consumerRecord.key(),\r\n                            consumerRecord.value(),\r\n                            consumerRecord.topic(),\r\n                            consumerRecord.offset())\r\n                    )\r\n                    .doOnNext(s-&gt; processData(s))\r\n                    .map(ConsumerRecord::value)\r\n                    .doOnNext(c -&gt; log.debug(&quot;successfully consumed c{}&quot;, c))\r\n                    .doOnError(exception -&gt; log.error(&quot;Error occurred while processing the message, attempting retry. Error message: {} {}&quot;, exception.getMessage(), exception))\r\n                    .retryWhen(Retry.backoff(Integer.parseInt(retryAttempts), Duration.ofSeconds(Integer.parseInt(retryAttemptsDelay))).transientErrors(true))\r\n                    .onErrorResume(exception -&gt; {\r\n                        log.error(&quot;Kafka read retries exhausted : {} {}&quot;,exception.getMessage(), exception.toString());\r\n                        return Flux.empty();\r\n                    });\r\n        }\r\n\r\n\r\n\r\nI have a requirement wherein I need to pause this read at a scheduled time for a task to process something and resume after the task is complete. This is the code I have added \r\n\r\n       public void pauseKafkaRead() {\r\n            List&lt;TopicPartition&gt; list = kafkaConsumerTemplate.assignment().collectList().block();\r\n            for (TopicPartition partition: list){\r\n                log.info(&quot;Partition: &quot; + partition.toString());\r\n                kafkaConsumerTemplate.pause(partition);\r\n            }\r\n        }\r\n    \r\n        public void resumeKafkaRead() {\r\n            List&lt;TopicPartition&gt; list = kafkaConsumerTemplate.assignment().collectList().block();\r\n            for (TopicPartition partition: list) {\r\n                log.info(&quot;Partition: &quot; + partition.toString());\r\n                kafkaConsumerTemplate.resume(partition);\r\n            }\r\n        }\r\n\r\nI call the pauseKafkaRead() method when I start with the task and call resume once the task is complete.\r\nHowever, this doesn&#39;t seem to pause the read. The data is continued to be read from Kafka and processed. Would someone be able to help me understand what I am missing here?\r\n","title":"Pause kafka read in reactive Kafka","body":"<p>I have an application that reads from kafka using reactive kafka. Below is the code to read from kafka:</p>\n<pre><code>public Flux&lt;String&gt; readFromKafka() {\n        return kafkaConsumerTemplate\n                .receiveAutoAck()\n                .doOnNext(consumerRecord -&gt; log.debug(&quot;received key={}, value={} from topic={}, offset={}&quot;,\n                        consumerRecord.key(),\n                        consumerRecord.value(),\n                        consumerRecord.topic(),\n                        consumerRecord.offset())\n                )\n                .doOnNext(s-&gt; processData(s))\n                .map(ConsumerRecord::value)\n                .doOnNext(c -&gt; log.debug(&quot;successfully consumed c{}&quot;, c))\n                .doOnError(exception -&gt; log.error(&quot;Error occurred while processing the message, attempting retry. Error message: {} {}&quot;, exception.getMessage(), exception))\n                .retryWhen(Retry.backoff(Integer.parseInt(retryAttempts), Duration.ofSeconds(Integer.parseInt(retryAttemptsDelay))).transientErrors(true))\n                .onErrorResume(exception -&gt; {\n                    log.error(&quot;Kafka read retries exhausted : {} {}&quot;,exception.getMessage(), exception.toString());\n                    return Flux.empty();\n                });\n    }\n</code></pre>\n<p>I have a requirement wherein I need to pause this read at a scheduled time for a task to process something and resume after the task is complete. This is the code I have added</p>\n<pre><code>   public void pauseKafkaRead() {\n        List&lt;TopicPartition&gt; list = kafkaConsumerTemplate.assignment().collectList().block();\n        for (TopicPartition partition: list){\n            log.info(&quot;Partition: &quot; + partition.toString());\n            kafkaConsumerTemplate.pause(partition);\n        }\n    }\n\n    public void resumeKafkaRead() {\n        List&lt;TopicPartition&gt; list = kafkaConsumerTemplate.assignment().collectList().block();\n        for (TopicPartition partition: list) {\n            log.info(&quot;Partition: &quot; + partition.toString());\n            kafkaConsumerTemplate.resume(partition);\n        }\n    }\n</code></pre>\n<p>I call the pauseKafkaRead() method when I start with the task and call resume once the task is complete.\nHowever, this doesn't seem to pause the read. The data is continued to be read from Kafka and processed. Would someone be able to help me understand what I am missing here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1544052709,"post_id":53642402,"comment_id":94144105,"body_markdown":"This is an implementation of Java 8.  It&#39;s exactly what you asked for.","body":"This is an implementation of Java 8.  It&#39;s exactly what you asked for."},{"owner":{"account_id":397714,"reputation":551,"user_id":10076903,"display_name":"THEGreatGatsby"},"score":4,"creation_date":1544052740,"post_id":53642402,"comment_id":94144115,"body_markdown":"so why is not saying java 8 but java 1.8","body":"so why is not saying java 8 but java 1.8"},{"owner":{"account_id":5351790,"reputation":6583,"user_id":4265739,"display_name":"leonardkraemer"},"score":2,"creation_date":1544052782,"post_id":53642402,"comment_id":94144127,"body_markdown":"java 8 === java  1.8","body":"java 8 === java  1.8"},{"owner":{"account_id":397714,"reputation":551,"user_id":10076903,"display_name":"THEGreatGatsby"},"score":3,"creation_date":1544052812,"post_id":53642402,"comment_id":94144139,"body_markdown":"is this some convention, and if so what is this 1 in fron t of 8 for?","body":"is this some convention, and if so what is this 1 in fron t of 8 for?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1544053537,"post_id":53642402,"comment_id":94144317,"body_markdown":"@leonardkraemer Good point. I took a closer look after posting that comment and noticed there was no explanation of the relationship between &quot;JDK 8&quot; and &quot;Java version 1.8&quot;.","body":"@leonardkraemer Good point. I took a closer look after posting that comment and noticed there was no explanation of the relationship between &quot;JDK 8&quot; and &quot;Java version 1.8&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5351790,"reputation":6583,"user_id":4265739,"display_name":"leonardkraemer"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1617001502,"creation_date":1544052943,"answer_id":53642445,"question_id":53642402,"body_markdown":"From [Java Platform, Standard Edition 8 Names and Versions][1]:\r\n\r\n&gt; In JDK 8 and JRE 8, the version strings are 1.8 and 1.8.0\r\n\r\nWhy? Because the developers of Java chose to name the versions like this. I can only assume the real reasons, but I think it is, because naming it Java 8 implies that it is new and much better than Java 7 but keeping the version bump from 1.7 to 1.8 indicates that it is still version 1.x and therefore still backwards compatible. In the end it is marketing. \r\n\r\nSee also [Why is Java version 1.X referred to as Java X?][2].\r\n\r\n[1]: https://www.oracle.com/technetwork/java/javase/jdk8-naming-2157130.html\r\n[2]: https://softwareengineering.stackexchange.com/questions/175075/why-is-java-version-1-x-referred-to-as-java-x","title":"Why do I see open JDK 1.8 instead of Java 8?","body":"<p>From <a href=\"https://www.oracle.com/technetwork/java/javase/jdk8-naming-2157130.html\" rel=\"noreferrer\">Java Platform, Standard Edition 8 Names and Versions</a>:</p>\n<blockquote>\n<p>In JDK 8 and JRE 8, the version strings are 1.8 and 1.8.0</p>\n</blockquote>\n<p>Why? Because the developers of Java chose to name the versions like this. I can only assume the real reasons, but I think it is, because naming it Java 8 implies that it is new and much better than Java 7 but keeping the version bump from 1.7 to 1.8 indicates that it is still version 1.x and therefore still backwards compatible. In the end it is marketing.</p>\n<p>See also <a href=\"https://softwareengineering.stackexchange.com/questions/175075/why-is-java-version-1-x-referred-to-as-java-x\">Why is Java version 1.X referred to as Java X?</a>.</p>\n"},{"tags":[],"owner":{"account_id":2017134,"reputation":24227,"user_id":1804173,"accept_rate":77,"display_name":"bluenote10"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1639583469,"creation_date":1639583469,"answer_id":70366597,"question_id":53642402,"body_markdown":"Before Java 9, Java version `X` was internally specified as `1.X` according to [these specs](https://www.oracle.com/java/technologies/javase/versioning-naming.html).\r\n\r\nThen came [JEP 223](http://openjdk.java.net/jeps/223) which proposed to change the version to just `X` starting with Java 9.\r\n\r\n---\r\n\r\nIt should be noted that different tools may even use other conventions. For instance in Gradle there is `JavaVersion.VERSION_1_9`, `JavaVersion.VERSION_1_10` and they only switch to the new convention in `JavaVersion.VERSION_11` (see their [code comment](https://github.com/gradle/gradle/blob/dada0824ca013eec7a637422a995d78610d07cb7/subprojects/base-services/src/main/java/org/gradle/api/JavaVersion.java#L113-L114)). ","title":"Why do I see open JDK 1.8 instead of Java 8?","body":"<p>Before Java 9, Java version <code>X</code> was internally specified as <code>1.X</code> according to <a href=\"https://www.oracle.com/java/technologies/javase/versioning-naming.html\" rel=\"noreferrer\">these specs</a>.</p>\n<p>Then came <a href=\"http://openjdk.java.net/jeps/223\" rel=\"noreferrer\">JEP 223</a> which proposed to change the version to just <code>X</code> starting with Java 9.</p>\n<hr />\n<p>It should be noted that different tools may even use other conventions. For instance in Gradle there is <code>JavaVersion.VERSION_1_9</code>, <code>JavaVersion.VERSION_1_10</code> and they only switch to the new convention in <code>JavaVersion.VERSION_11</code> (see their <a href=\"https://github.com/gradle/gradle/blob/dada0824ca013eec7a637422a995d78610d07cb7/subprojects/base-services/src/main/java/org/gradle/api/JavaVersion.java#L113-L114\" rel=\"noreferrer\">code comment</a>).</p>\n"}],"owner":{"account_id":397714,"reputation":551,"user_id":10076903,"display_name":"THEGreatGatsby"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58611,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"answer_count":2,"score":45,"last_activity_date":1651072880,"creation_date":1544052658,"question_id":53642402,"body_markdown":"When I check my Java version like this:\r\n\r\n```\r\njava -version\r\n```\r\n\r\nI see `openjdk version 1.8.0 runtime environment build ...`, but I thought I had *Java 8* installed.\r\n\r\nWhy does the version number show up as 1.8?","title":"Why do I see open JDK 1.8 instead of Java 8?","body":"<p>When I check my Java version like this:</p>\n<pre><code>java -version\n</code></pre>\n<p>I see <code>openjdk version 1.8.0 runtime environment build ...</code>, but I thought I had <em>Java 8</em> installed.</p>\n<p>Why does the version number show up as 1.8?</p>\n"},{"tags":["java","arrays","object","printing"],"answers":[{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651072774,"creation_date":1651072319,"answer_id":72031174,"question_id":72006196,"body_markdown":"You&#39;re assigning &quot;day1.getDate()&quot;, which is a String, to &quot;array&quot;, which is a task array. These are not compatible. All you need to do is `System.out.println(day1.getDate());` That would only print the same date day1.length times though. I suppose you want something from the day1 tasks. You probably want to implement a `Task Day.getTask(int index)` method to access them. It would be bad practice to return the whole task array, since the caller could then modify it. If you did want to implement a `Task[] Day.getTasks()` method, it should return a copy of the task array.","title":"Java Array of Objects How to Access and Print","body":"<p>You're assigning &quot;day1.getDate()&quot;, which is a String, to &quot;array&quot;, which is a task array. These are not compatible. All you need to do is <code>System.out.println(day1.getDate());</code> That would only print the same date day1.length times though. I suppose you want something from the day1 tasks. You probably want to implement a <code>Task Day.getTask(int index)</code> method to access them. It would be bad practice to return the whole task array, since the caller could then modify it. If you did want to implement a <code>Task[] Day.getTasks()</code> method, it should return a copy of the task array.</p>\n"}],"owner":{"account_id":25091082,"reputation":1,"user_id":18942713,"display_name":"k631"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651072774,"creation_date":1650924397,"question_id":72006196,"body_markdown":"I am entering data into two classes (Date and Task) that are array of objects (I believe that is what they are officially called) and part of a Day class.  I can add data to the Task class using the setter and I can add data to the Date class using the setter.  The question I have is how do I access that data entered into the Date and Task classes through the Day class that contains those objects.  I am using the Tester class to enter the data into these classes.  I can access and print the data for each date/task(s) combo right after I add the data to the classes by using the &quot;System.out.println(day1);&quot;.  However, I can only print the last data I entered into the classes.  When I try to access the objects&#39; data through the Day class, it is not showing anything.\r\n\r\nI would expect my results to be the following:\r\n```\r\n2022/2/23\r\nDescription: Write code\tHours: 2.5\r\nDescription: Research\tHours: 1.5\r\nFor a total of 4.0 hours.\r\n\r\n2022/2/24\r\nDescription: Read code\tHours: 5.0\r\nFor a total of 5.0 hours.\r\n```\r\n\r\nBut instead I just get the following error when I try to compile it using JGrasp:\r\n```\r\nTester.java:28: error: cannot find symbol\r\n      for (i=0; i &lt; day1.length; i++) {\r\n                        ^\r\n  symbol:   variable length\r\n  location: variable day1 of type Day\r\nTester.java:29: error: incompatible types: String cannot be converted to Task[]\r\n         array = day1.getDate();\r\n                             ^\r\n2 errors\r\n```\r\n\r\nHow do I print out/access the objects in the Day class?  I&#39;m confused about how to do this in this context.  When I use &quot;System.out.println(day1);&quot; I was assuming it would print out both of the sets of data I entered into the classes, but only the most recent one printed.  I can print off the first data set entered by putting &quot;System.out.println(day1);&quot; after the first data set, but that is the only way it will print.  It almost seems like I am writing over the top of the first set of data I add with the second set of data.  Add to that I&#39;m pretty unsure about how objects embedded within objects work. Thanks for your help!  Here is the code:\r\n\r\n```\r\npublic class Day implements Comparable {\r\n    public static final int MAX=50;\r\n    private Task[] tasks;\r\n    private int numTasks;\r\n    Date myDate;\r\n    Day myDay;\r\n       \r\n    public Day(int year, int month, int day) {\r\n        myDate = new Date(year, month, day);\r\n        tasks = new Task[MAX];\r\n        numTasks = 0;\r\n    }\r\n    \r\n    public void addTask(Task newTask) {\r\n        tasks[numTasks] = newTask;\r\n        numTasks++;\r\n    }\r\n    \r\n    public int getNumTasks() {\r\n        return numTasks;\r\n    }\r\n    \r\n    public String getDate() {\r\n        return myDate.toString();\r\n    }\r\n    \r\n    public double getTotalHours() {\r\n        int i;\r\n        double sum;\r\n        \r\n        sum = 0;\r\n        for (i=0; i &lt; numTasks; i++)\r\n            sum += tasks[i].getHours();\r\n        return sum;\r\n    }\r\n    \r\n    public String toString() {\r\n        String result;\r\n        int i;\r\n        \r\n        result = myDate.toString()+&quot;\\n&quot;;\r\n        for (i=0; i &lt; numTasks; i++) \r\n            result += tasks[i].toString()+&quot;\\n&quot;;\r\n        result += &quot;For a total of &quot;+getTotalHours()+&quot; hours.&quot;;\r\n        return result;\r\n    }\r\n    //other getters and setters in this class too\r\n}\r\n\r\npublic class Date implements Comparable {\r\n    private int year, month, day;\r\n    \r\n    public Date (int inYear, int inMonth, int inDay) {\r\n        year = inYear;\r\n        month = inMonth;\r\n        day = inDay;\r\n        if (day &gt; getNumDaysMonth(month, year) ||\r\n            month &lt; 1 || month &gt; 12) {\r\n            year = -1;\r\n            month = -1;\r\n            day = -1;\r\n        }\r\n        //other getters and setters below this\r\n    }\r\n}\r\n\r\npublic class Task implements Comparable{\r\n   // field variables\r\n   private String description;\r\n   private double hours;\r\n   // constructors -&gt; initialize all field variables - specialized method\r\n   public Task(String desc, double hrs) {\r\n      description = desc;\r\n      hours = hrs;\r\n   }\r\n   //other getters and setters below this\r\n}\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Tester {\r\n   public static void main(String[] args) {\r\n      Day day1;\r\n      Task task1;\r\n      Task array[];\r\n      Day array2[];\r\n      double totalHours;\r\n      int n, i;\r\n      \r\n      day1 = new Day(2022, 2, 23);\r\n      task1 = new Task(&quot;Write code&quot;, 2.5);\r\n      day1.addTask(task1);\r\n      task1 = new Task(&quot;Research&quot;, 1.5);\r\n      day1.addTask(task1);\r\n      \r\n      n = day1.getNumTasks();\r\n      System.out.println(&quot;Number of tasks = &quot;+n);\r\n      \r\n      day1 = new Day(2022, 2, 24);\r\n      task1 = new Task(&quot;Read code&quot;, 5.0);\r\n      day1.addTask(task1);\r\n      \r\n      System.out.println(day1);\r\n      System.out.println();\r\n      \r\n      for (i=0; i &lt; day1.length; i++) {\r\n         array = day1.getDate();\r\n         System.out.println(array);\r\n      }\r\n      \r\n      totalHours = day1.getTotalHours();\r\n      System.out.println(&quot;Total hours = &quot;+totalHours);\r\n                 \r\n   }\r\n}\r\n\r\n```\r\n\r\n","title":"Java Array of Objects How to Access and Print","body":"<p>I am entering data into two classes (Date and Task) that are array of objects (I believe that is what they are officially called) and part of a Day class.  I can add data to the Task class using the setter and I can add data to the Date class using the setter.  The question I have is how do I access that data entered into the Date and Task classes through the Day class that contains those objects.  I am using the Tester class to enter the data into these classes.  I can access and print the data for each date/task(s) combo right after I add the data to the classes by using the &quot;System.out.println(day1);&quot;.  However, I can only print the last data I entered into the classes.  When I try to access the objects' data through the Day class, it is not showing anything.</p>\n<p>I would expect my results to be the following:</p>\n<pre><code>2022/2/23\nDescription: Write code Hours: 2.5\nDescription: Research   Hours: 1.5\nFor a total of 4.0 hours.\n\n2022/2/24\nDescription: Read code  Hours: 5.0\nFor a total of 5.0 hours.\n</code></pre>\n<p>But instead I just get the following error when I try to compile it using JGrasp:</p>\n<pre><code>Tester.java:28: error: cannot find symbol\n      for (i=0; i &lt; day1.length; i++) {\n                        ^\n  symbol:   variable length\n  location: variable day1 of type Day\nTester.java:29: error: incompatible types: String cannot be converted to Task[]\n         array = day1.getDate();\n                             ^\n2 errors\n</code></pre>\n<p>How do I print out/access the objects in the Day class?  I'm confused about how to do this in this context.  When I use &quot;System.out.println(day1);&quot; I was assuming it would print out both of the sets of data I entered into the classes, but only the most recent one printed.  I can print off the first data set entered by putting &quot;System.out.println(day1);&quot; after the first data set, but that is the only way it will print.  It almost seems like I am writing over the top of the first set of data I add with the second set of data.  Add to that I'm pretty unsure about how objects embedded within objects work. Thanks for your help!  Here is the code:</p>\n<pre><code>public class Day implements Comparable {\n    public static final int MAX=50;\n    private Task[] tasks;\n    private int numTasks;\n    Date myDate;\n    Day myDay;\n       \n    public Day(int year, int month, int day) {\n        myDate = new Date(year, month, day);\n        tasks = new Task[MAX];\n        numTasks = 0;\n    }\n    \n    public void addTask(Task newTask) {\n        tasks[numTasks] = newTask;\n        numTasks++;\n    }\n    \n    public int getNumTasks() {\n        return numTasks;\n    }\n    \n    public String getDate() {\n        return myDate.toString();\n    }\n    \n    public double getTotalHours() {\n        int i;\n        double sum;\n        \n        sum = 0;\n        for (i=0; i &lt; numTasks; i++)\n            sum += tasks[i].getHours();\n        return sum;\n    }\n    \n    public String toString() {\n        String result;\n        int i;\n        \n        result = myDate.toString()+&quot;\\n&quot;;\n        for (i=0; i &lt; numTasks; i++) \n            result += tasks[i].toString()+&quot;\\n&quot;;\n        result += &quot;For a total of &quot;+getTotalHours()+&quot; hours.&quot;;\n        return result;\n    }\n    //other getters and setters in this class too\n}\n\npublic class Date implements Comparable {\n    private int year, month, day;\n    \n    public Date (int inYear, int inMonth, int inDay) {\n        year = inYear;\n        month = inMonth;\n        day = inDay;\n        if (day &gt; getNumDaysMonth(month, year) ||\n            month &lt; 1 || month &gt; 12) {\n            year = -1;\n            month = -1;\n            day = -1;\n        }\n        //other getters and setters below this\n    }\n}\n\npublic class Task implements Comparable{\n   // field variables\n   private String description;\n   private double hours;\n   // constructors -&gt; initialize all field variables - specialized method\n   public Task(String desc, double hrs) {\n      description = desc;\n      hours = hrs;\n   }\n   //other getters and setters below this\n}\n\nimport java.util.Arrays;\n\npublic class Tester {\n   public static void main(String[] args) {\n      Day day1;\n      Task task1;\n      Task array[];\n      Day array2[];\n      double totalHours;\n      int n, i;\n      \n      day1 = new Day(2022, 2, 23);\n      task1 = new Task(&quot;Write code&quot;, 2.5);\n      day1.addTask(task1);\n      task1 = new Task(&quot;Research&quot;, 1.5);\n      day1.addTask(task1);\n      \n      n = day1.getNumTasks();\n      System.out.println(&quot;Number of tasks = &quot;+n);\n      \n      day1 = new Day(2022, 2, 24);\n      task1 = new Task(&quot;Read code&quot;, 5.0);\n      day1.addTask(task1);\n      \n      System.out.println(day1);\n      System.out.println();\n      \n      for (i=0; i &lt; day1.length; i++) {\n         array = day1.getDate();\n         System.out.println(array);\n      }\n      \n      totalHours = day1.getTotalHours();\n      System.out.println(&quot;Total hours = &quot;+totalHours);\n                 \n   }\n}\n\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1651068952,"post_id":72030185,"comment_id":127274891,"body_markdown":"why do you recursively call a method, but use the return value only sometimes?","body":"why do you recursively call a method, but use the return value only sometimes?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1651069450,"post_id":72030185,"comment_id":127275138,"body_markdown":"The problem seems to be that a certain point you just unroll the stack when the recursion is over and the last call to `bkicalc` simply terminates its `else` clause and just return the 404 after the `if/else`. So just like juwil&#39;s comment implies you should return from the `else` as well.","body":"The problem seems to be that a certain point you just unroll the stack when the recursion is over and the last call to <code>bkicalc</code> simply terminates its <code>else</code> clause and just return the 404 after the <code>if&#47;else</code>. So just like juwil&#39;s comment implies you should return from the <code>else</code> as well."},{"owner":{"account_id":14923109,"reputation":15,"user_id":10774778,"display_name":"philipB1"},"score":0,"creation_date":1651070343,"post_id":72030185,"comment_id":127275534,"body_markdown":"The idea was to repeat the method as long as the hashset has 4 different elements in order to skip the duplicates in history and get the offset to the 4th different element. The Else should just repeat the method, do you have a idea what return statement I have to add to the else to achieve that?","body":"The idea was to repeat the method as long as the hashset has 4 different elements in order to skip the duplicates in history and get the offset to the 4th different element. The Else should just repeat the method, do you have a idea what return statement I have to add to the else to achieve that?"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651072754,"creation_date":1651070539,"answer_id":72030729,"question_id":72030185,"body_markdown":"You return from the `if` branch, but not from the `else` branch.  Therefore, the diagnostic and 404 return do not indicate that the `else` was skipped, but rather that it was *taken*.  That the `else` branch recurses is irrelevant: unless an exception is thrown from the recursive invocation, that invocation will eventually return, at which point control simply passes out of the `else` block.\r\n\r\nIt looks like you probably want in the `else` branch to return the result of the recursive invocation:\r\n```\r\nprivate int bkicalc(int i, List&lt;Integer&gt; history) {\r\n\r\n    List&lt;Integer&gt; subList = history.subList(history.size()-1 - i, history.size()-1);\r\n    Set&lt;Integer&gt; uniliste = new HashSet&lt;Integer&gt;(subList);\r\n    \r\n    if (uniliste.size() == 4) {\r\n        if (i&gt;5) {\r\n            System.out.println(i);\r\n        }\r\n        return i;\r\n    } else {\r\n        return this.bkicalc(i + 1, history);  // &lt;-- here\r\n    }\r\n    \r\n    assert false : &quot;unreachable&quot;;\r\n    return 404;\r\n}\r\n```\r\nYou might even find with that that the compiler actually flags the `return 404` as unreachable.\r\n\r\nNote also that the bounds on your sublist are a bit surprising.  The upper bound provided to `List.subList()` is *exclusive*, not inclusive, so you are consistently omitting the the last element of `history` from consideration.  If that&#39;s intentional then it would be wise to add a code comment saying so.\r\n\r\nFurthermore, if `history` does not in fact contain at least 4 distinct elements overall, then after some number of recursions, this method will fail with an `IndexOutOfBoundsException`.  This is of course certain to happen if it does not initially contain at least 5 elements total (remembering that one is ignored).\r\n\r\nFinally, the recursion seems wasteful and unnecessarily confusing.  An iterative approach would be better, for a variety of reasons.  (It almost always is.) Example:\r\n```\r\nprivate int bkicalc(int i, List&lt;Integer&gt; history) {\r\n    if (history.size() &gt;= 5) {\r\n        Set&lt;Integer&gt; uniliste = new HashSet&lt;Integer&gt;(\r\n                history.subList(history.size() - 5, history.size() - 1));\r\n        ListIterator&lt;Integer&gt; iterator = history.listIterator(history.size() - 5);\r\n\r\n        while (uniliste.size() &lt; 4 &amp;&amp; iterator.hasPrevious()) {\r\n            uniliste.add(iterator.previous());\r\n        }\r\n\r\n        if (uniliste.size() == 4) {\r\n            int i = history.size() - 1 - iterator.nextIndex();\r\n\r\n            if (i &gt; 5) {\r\n                System.out.println(i);\r\n            }\r\n            return i;\r\n        }\r\n    }\r\n\r\n    // Fewer than 4 distinct elements (ignoring the last)\r\n    return -1;\r\n}\r\n```","title":"Else is simply skipped, but only sometimes","body":"<p>You return from the <code>if</code> branch, but not from the <code>else</code> branch.  Therefore, the diagnostic and 404 return do not indicate that the <code>else</code> was skipped, but rather that it was <em>taken</em>.  That the <code>else</code> branch recurses is irrelevant: unless an exception is thrown from the recursive invocation, that invocation will eventually return, at which point control simply passes out of the <code>else</code> block.</p>\n<p>It looks like you probably want in the <code>else</code> branch to return the result of the recursive invocation:</p>\n<pre><code>private int bkicalc(int i, List&lt;Integer&gt; history) {\n\n    List&lt;Integer&gt; subList = history.subList(history.size()-1 - i, history.size()-1);\n    Set&lt;Integer&gt; uniliste = new HashSet&lt;Integer&gt;(subList);\n    \n    if (uniliste.size() == 4) {\n        if (i&gt;5) {\n            System.out.println(i);\n        }\n        return i;\n    } else {\n        return this.bkicalc(i + 1, history);  // &lt;-- here\n    }\n    \n    assert false : &quot;unreachable&quot;;\n    return 404;\n}\n</code></pre>\n<p>You might even find with that that the compiler actually flags the <code>return 404</code> as unreachable.</p>\n<p>Note also that the bounds on your sublist are a bit surprising.  The upper bound provided to <code>List.subList()</code> is <em>exclusive</em>, not inclusive, so you are consistently omitting the the last element of <code>history</code> from consideration.  If that's intentional then it would be wise to add a code comment saying so.</p>\n<p>Furthermore, if <code>history</code> does not in fact contain at least 4 distinct elements overall, then after some number of recursions, this method will fail with an <code>IndexOutOfBoundsException</code>.  This is of course certain to happen if it does not initially contain at least 5 elements total (remembering that one is ignored).</p>\n<p>Finally, the recursion seems wasteful and unnecessarily confusing.  An iterative approach would be better, for a variety of reasons.  (It almost always is.) Example:</p>\n<pre><code>private int bkicalc(int i, List&lt;Integer&gt; history) {\n    if (history.size() &gt;= 5) {\n        Set&lt;Integer&gt; uniliste = new HashSet&lt;Integer&gt;(\n                history.subList(history.size() - 5, history.size() - 1));\n        ListIterator&lt;Integer&gt; iterator = history.listIterator(history.size() - 5);\n\n        while (uniliste.size() &lt; 4 &amp;&amp; iterator.hasPrevious()) {\n            uniliste.add(iterator.previous());\n        }\n\n        if (uniliste.size() == 4) {\n            int i = history.size() - 1 - iterator.nextIndex();\n\n            if (i &gt; 5) {\n                System.out.println(i);\n            }\n            return i;\n        }\n    }\n\n    // Fewer than 4 distinct elements (ignoring the last)\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":14923109,"reputation":15,"user_id":10774778,"display_name":"philipB1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72030729,"answer_count":1,"score":1,"last_activity_date":1651072754,"creation_date":1651068199,"question_id":72030185,"body_markdown":"    private int bkicalc(int i, List&lt;Integer&gt; history) {\r\n\r\n        List&lt;Integer&gt; subList = history.subList(history.size()-1 - i, history.size()-1);\r\n        Set&lt;Integer&gt; uniliste = new HashSet&lt;Integer&gt;(subList);\r\n        \r\n        if (uniliste.size() == 4) {\r\n            if (i&gt;5) {\r\n                System.out.println(i);\r\n            }\r\n            return i;\r\n        } else {\r\n            this.bkicalc(i + 1, history);\r\n        }\r\n        \r\n           System.out.println(&quot;else was skipped&quot;);\r\n        return 404;\r\n\r\n    }\r\n\r\nHi, this method is accessed a 1000 times from a for-loop, and in 1/10 of times it skips the else and returns the 404. I cannot explain to myself why this is happening. \r\n\r\nHope you can help me out.","title":"Else is simply skipped, but only sometimes","body":"<pre><code>private int bkicalc(int i, List&lt;Integer&gt; history) {\n\n    List&lt;Integer&gt; subList = history.subList(history.size()-1 - i, history.size()-1);\n    Set&lt;Integer&gt; uniliste = new HashSet&lt;Integer&gt;(subList);\n    \n    if (uniliste.size() == 4) {\n        if (i&gt;5) {\n            System.out.println(i);\n        }\n        return i;\n    } else {\n        this.bkicalc(i + 1, history);\n    }\n    \n       System.out.println(&quot;else was skipped&quot;);\n    return 404;\n\n}\n</code></pre>\n<p>Hi, this method is accessed a 1000 times from a for-loop, and in 1/10 of times it skips the else and returns the 404. I cannot explain to myself why this is happening.</p>\n<p>Hope you can help me out.</p>\n"},{"tags":["java","reactor"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1650120635,"post_id":71892879,"comment_id":127043836,"body_markdown":"try concatMap instead of flatMap","body":"try concatMap instead of flatMap"},{"owner":{"account_id":900475,"reputation":1201,"user_id":936752,"display_name":"m1ld"},"score":0,"creation_date":1650270241,"post_id":71892879,"comment_id":127068566,"body_markdown":"@MartinTarj&#225;nyi instead of first call, second call or both?","body":"@MartinTarj&#225;nyi instead of first call, second call or both?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1650275415,"post_id":71892879,"comment_id":127069956,"body_markdown":"both. note that this will make the whole flow sequential","body":"both. note that this will make the whole flow sequential"},{"owner":{"account_id":900475,"reputation":1201,"user_id":936752,"display_name":"m1ld"},"score":0,"creation_date":1650279414,"post_id":71892879,"comment_id":127070984,"body_markdown":"@MartinTarj&#225;nyi looks like it doing the trick. But only for subsequent flatMap. For some reason it still writing to the logs info about sending objects from parent Flux after finding first match.","body":"@MartinTarj&#225;nyi looks like it doing the trick. But only for subsequent flatMap. For some reason it still writing to the logs info about sending objects from parent Flux after finding first match."}],"answers":[{"tags":[],"owner":{"account_id":6915613,"reputation":81,"user_id":5310008,"display_name":"roy man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650106815,"creation_date":1650106815,"answer_id":71893299,"question_id":71892879,"body_markdown":"For me it worked out using `flatMap → next → onError`, the `handle` is not needed.\r\n\r\n- `flatMap`: the method returns a Mono of `String` or `empty`\r\n- `next`: returns the first or empty if `flatMap` always returned empty\r\n- `onError`: error handling according to your example\r\n\r\nthis means that your example should work like you posted it and you don&#39;t even need to call `handle`\r\n\r\n**Example code:**\r\n&gt; we log before we pass it to `flatMap`, that way we can check if the stream is processed further after the first non empty mapped `Mono`\r\n```java\r\n    public static final String TO_BE_FOUND = &quot;B&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMono&lt;String&gt; storageId = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;A&quot;)\r\n\t\t\t\t.doOnNext(id -&gt; System.out.printf(&quot;processing: %s\\n&quot;, id))\r\n\t\t\t\t.flatMap(s -&gt; findStorageId(s))\r\n\t\t\t\t.next()\r\n\t\t\t\t.switchIfEmpty(\r\n\t\t\t\t\t\tMono.error(new RuntimeException(&quot;Can&#39;t find storageId.&quot;))\r\n\t\t\t\t);\r\n\r\n\t\tstorageId.subscribe(id -&gt; System.out.printf(&quot;storageId found: %s\\n&quot;, id));\r\n\t}\r\n\r\n\tprivate static Mono&lt;String&gt; findStorageId(String s) {\r\n\t\treturn TO_BE_FOUND.equals(s) ? Mono.just(s + UUID.randomUUID()) : Mono.empty();\r\n\t}\r\n```\r\n\r\n\r\n**Output when `TO_BE_FOUND = &quot;B&quot;`:**\r\n&gt; The `Flux` will not be processed further after the firs `storageId` was found.\r\n```\r\nprocessing: A\r\nprocessing: B\r\nstorageId found: B85bcdbcb-2903-4962-96ab-b3a97b0c091f\r\n```\r\n\r\n**Output when `TO_BE_FOUND = &quot;X&quot;`:**\r\n```\r\nprocessing: A\r\nprocessing: B\r\nprocessing: C\r\nprocessing: D\r\nprocessing: A\r\n12:52:22.555 [main] ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.RuntimeException: Can&#39;t find storageId.\r\nCaused by: java.lang.RuntimeException: Can&#39;t find storageId.\r\n```\r\n\r\n","title":"How to find first match in Flux and stop processing in Reactor","body":"<p>For me it worked out using <code>flatMap → next → onError</code>, the <code>handle</code> is not needed.</p>\n<ul>\n<li><code>flatMap</code>: the method returns a Mono of <code>String</code> or <code>empty</code></li>\n<li><code>next</code>: returns the first or empty if <code>flatMap</code> always returned empty</li>\n<li><code>onError</code>: error handling according to your example</li>\n</ul>\n<p>this means that your example should work like you posted it and you don't even need to call <code>handle</code></p>\n<p><strong>Example code:</strong></p>\n<blockquote>\n<p>we log before we pass it to <code>flatMap</code>, that way we can check if the stream is processed further after the first non empty mapped <code>Mono</code></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final String TO_BE_FOUND = &quot;B&quot;;\n\n    public static void main(String[] args) {\n        Mono&lt;String&gt; storageId = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;A&quot;)\n                .doOnNext(id -&gt; System.out.printf(&quot;processing: %s\\n&quot;, id))\n                .flatMap(s -&gt; findStorageId(s))\n                .next()\n                .switchIfEmpty(\n                        Mono.error(new RuntimeException(&quot;Can't find storageId.&quot;))\n                );\n\n        storageId.subscribe(id -&gt; System.out.printf(&quot;storageId found: %s\\n&quot;, id));\n    }\n\n    private static Mono&lt;String&gt; findStorageId(String s) {\n        return TO_BE_FOUND.equals(s) ? Mono.just(s + UUID.randomUUID()) : Mono.empty();\n    }\n</code></pre>\n<p><strong>Output when <code>TO_BE_FOUND = &quot;B&quot;</code>:</strong></p>\n<blockquote>\n<p>The <code>Flux</code> will not be processed further after the firs <code>storageId</code> was found.</p>\n</blockquote>\n<pre><code>processing: A\nprocessing: B\nstorageId found: B85bcdbcb-2903-4962-96ab-b3a97b0c091f\n</code></pre>\n<p><strong>Output when <code>TO_BE_FOUND = &quot;X&quot;</code>:</strong></p>\n<pre><code>processing: A\nprocessing: B\nprocessing: C\nprocessing: D\nprocessing: A\n12:52:22.555 [main] ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.RuntimeException: Can't find storageId.\nCaused by: java.lang.RuntimeException: Can't find storageId.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14976113,"reputation":1632,"user_id":10811516,"display_name":"Ricard Kollcaku"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651072652,"creation_date":1651072652,"answer_id":72031268,"question_id":71892879,"body_markdown":"The problem is that flatmap is using using concurrency and prefetch is more than 1. \r\nIn this case if you dont want to call the database many times but one by one you need to use concatmap with prefatch 1.\r\n\r\n     \r\n      public static final String TO_BE_FOUND = &quot;B&quot;;\r\n    \r\n      @Override\r\n      public void run(String... args) throws Exception {\r\n        Mono&lt;String&gt; storageId =\r\n            Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;A&quot;)\r\n                .doOnNext(id -&gt; System.out.printf(&quot;processing: %s\\n&quot;, id))\r\n                .concatMap(s -&gt; findStorageId(s),1)\r\n                .next()\r\n                .switchIfEmpty(Mono.error(new RuntimeException(&quot;Can&#39;t find storageId.&quot;)));\r\n        storageId.subscribe();\r\n      }\r\n    \r\n      private static Mono&lt;String&gt; findStorageId(String s) {\r\n        return TO_BE_FOUND.equals(s)\r\n            ? Mono.just(s + UUID.randomUUID()).delayElement(Duration.ofSeconds(1))\r\n            : Mono.delay(Duration.ofSeconds(1)).flatMap(aLong -&gt; Mono.empty());\r\n      }\r\n\r\n\r\nin this case concatmap with prefetch 1 will request elements 1 by one and it will wait for the response.","title":"How to find first match in Flux and stop processing in Reactor","body":"<p>The problem is that flatmap is using using concurrency and prefetch is more than 1.\nIn this case if you dont want to call the database many times but one by one you need to use concatmap with prefatch 1.</p>\n<pre><code>  public static final String TO_BE_FOUND = &quot;B&quot;;\n\n  @Override\n  public void run(String... args) throws Exception {\n    Mono&lt;String&gt; storageId =\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;A&quot;)\n            .doOnNext(id -&gt; System.out.printf(&quot;processing: %s\\n&quot;, id))\n            .concatMap(s -&gt; findStorageId(s),1)\n            .next()\n            .switchIfEmpty(Mono.error(new RuntimeException(&quot;Can't find storageId.&quot;)));\n    storageId.subscribe();\n  }\n\n  private static Mono&lt;String&gt; findStorageId(String s) {\n    return TO_BE_FOUND.equals(s)\n        ? Mono.just(s + UUID.randomUUID()).delayElement(Duration.ofSeconds(1))\n        : Mono.delay(Duration.ofSeconds(1)).flatMap(aLong -&gt; Mono.empty());\n  }\n</code></pre>\n<p>in this case concatmap with prefetch 1 will request elements 1 by one and it will wait for the response.</p>\n"}],"owner":{"account_id":900475,"reputation":1201,"user_id":936752,"display_name":"m1ld"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2478,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72031268,"answer_count":2,"score":3,"last_activity_date":1651072652,"creation_date":1650103234,"question_id":71892879,"body_markdown":"Can&#39;t figure out how to stop processing Flux on first match.\r\n\r\nThis what I have right now:\r\n\r\n    findAll(): Flux&lt;Object&gt;\r\n    findStorageId(Relation r): Mono&lt;Long&gt; | Mono.empty()\r\n    isPassing(Relation r): boolean\r\n\r\n    findAll().flatMap(p -&gt; {\r\n      return Flux.fromStream(p.getRelations().stream()).flatMap(r -&gt; {\r\n        return isPassing(r) ? findStorageId(r) : Mono.empty();\r\n      });\r\n    })\r\n    .handle((Long storageId, SynchronousSink&lt;Long&gt; sink) -&gt; {\r\n      if (storageId != null) {\r\n        sink.next(storageId);\r\n        sink.complete();\r\n      }\r\n    })\r\n    .next()\r\n    .switchIfEmpty(Mono.error(new RuntimeException(&quot;Can&#39;t find storageId.&quot;)));\r\n\r\nI&#39;m trying to understand how I can interrupt processing of flux when first storageId is found. Right now I see, that first `flatMap` continues to work after finding first match.","title":"How to find first match in Flux and stop processing in Reactor","body":"<p>Can't figure out how to stop processing Flux on first match.</p>\n<p>This what I have right now:</p>\n<pre><code>findAll(): Flux&lt;Object&gt;\nfindStorageId(Relation r): Mono&lt;Long&gt; | Mono.empty()\nisPassing(Relation r): boolean\n\nfindAll().flatMap(p -&gt; {\n  return Flux.fromStream(p.getRelations().stream()).flatMap(r -&gt; {\n    return isPassing(r) ? findStorageId(r) : Mono.empty();\n  });\n})\n.handle((Long storageId, SynchronousSink&lt;Long&gt; sink) -&gt; {\n  if (storageId != null) {\n    sink.next(storageId);\n    sink.complete();\n  }\n})\n.next()\n.switchIfEmpty(Mono.error(new RuntimeException(&quot;Can't find storageId.&quot;)));\n</code></pre>\n<p>I'm trying to understand how I can interrupt processing of flux when first storageId is found. Right now I see, that first <code>flatMap</code> continues to work after finding first match.</p>\n"},{"tags":["java","android","amazon-web-services","android-studio","gradle"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1649914722,"post_id":71866779,"comment_id":126996595,"body_markdown":"See: [Using Java AWS SDK Vs Android AWS SDK on Android](https://stackoverflow.com/q/28457904/295004)","body":"See: <a href=\"https://stackoverflow.com/q/28457904/295004\">Using Java AWS SDK Vs Android AWS SDK on Android</a>"}],"answers":[{"tags":[],"owner":{"account_id":436323,"reputation":11,"user_id":823418,"display_name":"Keo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651072483,"creation_date":1651072483,"answer_id":72031226,"question_id":71866779,"body_markdown":"Adding this to my .gradle/gradle.properties file resolved it for me:\r\n\r\n```\r\norg.gradle.daemon=true\r\norg.gradle.configureondemand=true\r\norg.gradle.jvmargs=-Xmx4g -XX:MaxPermSize=2048m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n```","title":"AWS recognition SDK causes the gradle to not build in Android Studio","body":"<p>Adding this to my .gradle/gradle.properties file resolved it for me:</p>\n<pre><code>org.gradle.daemon=true\norg.gradle.configureondemand=true\norg.gradle.jvmargs=-Xmx4g -XX:MaxPermSize=2048m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre>\n"}],"owner":{"account_id":23250783,"reputation":1,"user_id":17338624,"display_name":"banana_unhinged"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651072483,"creation_date":1649913177,"question_id":71866779,"body_markdown":"I tried manually adding the &quot;aws-java-sdk-1.12.199.jar&quot; to the library and added the line &quot;implementation files(&#39;libs\\aws-java-sdk-1.12.199.jar&#39;)&quot; into the gradle, but it seems to cause the gradle to not build. The console prints &quot;Expiring Daemon because JVM heap space is exhausted&quot;. Does anyone know what could be causing this issue and for the gradle to not build? Any help is much appreciated.\r\n\r\n    dependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.amazonaws:aws-android-sdk-rekognition:2.44.0&#39;\r\n    //implementation &#39;com.amplifyframework:aws-api:1.35.0&#39;\r\n    //implementation &#39;com.amplifyframework:aws-datastore:1.35.0&#39;\r\n    implementation files(&#39;libs\\\\aws-java-sdk-1.12.199.jar&#39;)\r\n    implementation files(&#39;libs\\\\aws-java-sdk-1.12.199-sources.jar&#39;)\r\n\r\n    // BEGIN AWS DEPENDENCIES\r\n    def aws_version = &#39;2.44.0&#39;\r\n    implementation &quot;com.amazonaws:aws-android-sdk-s3:$aws_version&quot;\r\n    implementation (&quot;com.amazonaws:aws-android-sdk-mobile-client:$aws_version&quot;) { transitive = true }\r\n    // END AWS DEPENDENCIES\r\n    //implementation &#39;com.amazonaws:aws-android-sdk-sns:2.44.0&#39;\r\n    //implementation &#39;com.amazonaws:aws-android-sdk-sqs:2.44.0&#39;\r\n\r\n    //implementation &#39;com.amazonaws:aws-android-sdk-pinpoint:2.44.0&#39;\r\n    //implementation &#39;com.amazonaws:aws-android-sdk-auth-ui:2.44.0@aar&#39;\r\n    //implementation &#39;com.amazonaws:aws-android-sdk-auth-userpools:2.44.0@aar&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}","title":"AWS recognition SDK causes the gradle to not build in Android Studio","body":"<p>I tried manually adding the &quot;aws-java-sdk-1.12.199.jar&quot; to the library and added the line &quot;implementation files('libs\\aws-java-sdk-1.12.199.jar')&quot; into the gradle, but it seems to cause the gradle to not build. The console prints &quot;Expiring Daemon because JVM heap space is exhausted&quot;. Does anyone know what could be causing this issue and for the gradle to not build? Any help is much appreciated.</p>\n<pre><code>dependencies {\n\nimplementation 'androidx.appcompat:appcompat:1.4.1'\nimplementation 'com.google.android.material:material:1.5.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.3'\nimplementation 'com.amazonaws:aws-android-sdk-rekognition:2.44.0'\n//implementation 'com.amplifyframework:aws-api:1.35.0'\n//implementation 'com.amplifyframework:aws-datastore:1.35.0'\nimplementation files('libs\\\\aws-java-sdk-1.12.199.jar')\nimplementation files('libs\\\\aws-java-sdk-1.12.199-sources.jar')\n\n// BEGIN AWS DEPENDENCIES\ndef aws_version = '2.44.0'\nimplementation &quot;com.amazonaws:aws-android-sdk-s3:$aws_version&quot;\nimplementation (&quot;com.amazonaws:aws-android-sdk-mobile-client:$aws_version&quot;) { transitive = true }\n// END AWS DEPENDENCIES\n//implementation 'com.amazonaws:aws-android-sdk-sns:2.44.0'\n//implementation 'com.amazonaws:aws-android-sdk-sqs:2.44.0'\n\n//implementation 'com.amazonaws:aws-android-sdk-pinpoint:2.44.0'\n//implementation 'com.amazonaws:aws-android-sdk-auth-ui:2.44.0@aar'\n//implementation 'com.amazonaws:aws-android-sdk-auth-userpools:2.44.0@aar'\n\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","kotlin","signed-apk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650972915,"post_id":72011066,"comment_id":127245709,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":24276211,"reputation":1,"user_id":18223485,"display_name":"Rupali Singla"},"score":0,"creation_date":1650984767,"post_id":72011066,"comment_id":127250608,"body_markdown":"Actually i was trying to generate a signed apk but encountered with an error of can’t find common classes of webView and Yandex.metrica as mentioned","body":"Actually i was trying to generate a signed apk but encountered with an error of can’t find common classes of webView and Yandex.metrica as mentioned"},{"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"score":0,"creation_date":1651040048,"post_id":72011066,"comment_id":127264083,"body_markdown":"Please, provide some screenshots of your errors or you can attach Logcat.","body":"Please, provide some screenshots of your errors or you can attach Logcat."},{"owner":{"account_id":24276211,"reputation":1,"user_id":18223485,"display_name":"Rupali Singla"},"score":0,"creation_date":1651053956,"post_id":72011066,"comment_id":127269100,"body_markdown":"Can&#39;t find common super class of [android/webkit/WebView] (with 5 known super classes) and [com/yandex/metrica/impl/ob/Il] (with 1 known super classes)\n\nend up with this in build output.","body":"Can&#39;t find common super class of [android/webkit/WebView] (with 5 known super classes) and [com/yandex/metrica/impl/ob/Il] (with 1 known super classes)  end up with this in build output."},{"owner":{"account_id":24276211,"reputation":1,"user_id":18223485,"display_name":"Rupali Singla"},"score":0,"creation_date":1651072412,"post_id":72011066,"comment_id":127276387,"body_markdown":"Screenshot link also added","body":"Screenshot link also added"},{"owner":{"account_id":24276211,"reputation":1,"user_id":18223485,"display_name":"Rupali Singla"},"score":0,"creation_date":1651122815,"post_id":72011066,"comment_id":127288749,"body_markdown":"Please help me out in this, I have also tried cloning the project again.","body":"Please help me out in this, I have also tried cloning the project again."}],"owner":{"account_id":24276211,"reputation":1,"user_id":18223485,"display_name":"Rupali Singla"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651072393,"creation_date":1650963199,"question_id":72011066,"body_markdown":"I was trying to generate a signed apk but an error occurred :\r\n\r\nCan&#39;t find a common superclass of [android/WebKit/WebView] (with 5 known superclasses) and [com/yandex/metrica/impl/ob/Il] (with 1 known super classes).\r\n\r\nCan anyone help me to resolve this?\r\n\r\nRefer to below screenshot:\r\n \r\n https://i.stack.imgur.com/Te26R.png","title":"Can&#39;t find common super class of android/webkit/WebView (with 5 known super classes) and com/yandex/metrica/impl/ob/Il","body":"<p>I was trying to generate a signed apk but an error occurred :</p>\n<p>Can't find a common superclass of [android/WebKit/WebView] (with 5 known superclasses) and [com/yandex/metrica/impl/ob/Il] (with 1 known super classes).</p>\n<p>Can anyone help me to resolve this?</p>\n<p>Refer to below screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/Te26R.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Te26R.png</a></p>\n"},{"tags":["java","xml","xsd","jaxb"],"comments":[{"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"score":0,"creation_date":1651092899,"post_id":72031169,"comment_id":127283542,"body_markdown":"Can you confirm that targetNamespace is the same in xsd and xml?","body":"Can you confirm that targetNamespace is the same in xsd and xml?"},{"owner":{"account_id":1042847,"reputation":1173,"user_id":1048486,"display_name":"Rob Wilkinson"},"score":0,"creation_date":1651097820,"post_id":72031169,"comment_id":127284764,"body_markdown":"Hi @Isma, Thanks for your response. My understanding is that if we are unmarshalling/validating an XML then we need the targetNamespace to match in XSD and XML.  However in my case I am trying to marshal the objects to XML and it is failing to convert/marshal the JAXB objects to XML due to the above mentioned error. I have defined the QName for the Customer element as &quot;new QName(&quot;http://www.company1.uk/schemas/app1&quot;, &quot;Customer&quot;)&quot;. Not sure if this sufficient or correct. Looks like with the given information it could not relate the Customer object with the definition in the XSD.","body":"Hi @Isma, Thanks for your response. My understanding is that if we are unmarshalling/validating an XML then we need the targetNamespace to match in XSD and XML.  However in my case I am trying to marshal the objects to XML and it is failing to convert/marshal the JAXB objects to XML due to the above mentioned error. I have defined the QName for the Customer element as &quot;new QName(&quot;<a href=\"http://www.company1.uk/schemas/app1\" rel=\"nofollow noreferrer\">company1.uk/schemas/app1</a>&quot;, &quot;Customer&quot;)&quot;. Not sure if this sufficient or correct. Looks like with the given information it could not relate the Customer object with the definition in the XSD."},{"owner":{"account_id":1042847,"reputation":1173,"user_id":1048486,"display_name":"Rob Wilkinson"},"score":0,"creation_date":1651098188,"post_id":72031169,"comment_id":127284839,"body_markdown":"Please note that I have included a sample XML in the actual ticket to make it is easy to comprehend the XML structure.","body":"Please note that I have included a sample XML in the actual ticket to make it is easy to comprehend the XML structure."}],"owner":{"account_id":1042847,"reputation":1173,"user_id":1048486,"display_name":"Rob Wilkinson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651072310,"creation_date":1651072310,"question_id":72031169,"body_markdown":" I am trying to validate an XML. The XML has the root element as &quot;Notifications&quot; and list of &quot;Customers&quot;.\r\nI want to validate each customer against the XSD and in case the validation fails I want to\r\nprint the Customer Id element value and error message. Currently in the application all the data is available as JAXB objects.\r\nI am using JAXB marshaller to marshall the Customer object which may return error if the validation fails.\r\nHowever the marshalling call is throwing below error.\r\n\r\n**Error Message:**\r\n\r\n```\r\nMESSAGE:  cvc-elt.1.a: Cannot find the declaration of element &#39;Customer&#39;.\r\nLINKED EXCEPTION:  org.xml.sax.SAXParseException; lineNumber: 0; columnNumber: 0; cvc-elt.1.a: Cannot find the declaration of element &#39;Customer&#39;.\r\n```\r\n\r\nBelow are the snippets of XSD, XML and marshalling code.\r\n\r\n**XSD** (cutdown version)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;xsd:schema\r\n  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n  attributeFormDefault=&quot;unqualified&quot;\r\n  elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.company1.uk/schemas/app1&quot;\r\n  version=&quot;4.03&quot; xmlns=&quot;http://www.company1.uk/schemas/app1&quot;&gt;\r\n  &lt;xsd:element name=&quot;Notifications&quot;&gt;\r\n        &lt;xsd:element name=&quot;Header&quot;&gt;..&lt;/xsd:element&gt;\r\n        &lt;xsd:element minOccurs=&quot;0&quot; name=&quot;Customers&quot;&gt;\r\n              &lt;xsd:element maxOccurs=&quot;unbounded&quot; name=&quot;Customer&quot;&gt;\r\n              ..\r\n              &lt;/xsd:element&gt;\r\n\r\n```\r\n\r\n**XML** (cutdown version)\r\n\r\n```\r\n&lt;Notifications&gt;\r\n  &lt;Header&gt;\r\n  ..\r\n  &lt;/Header&gt;\r\n  &lt;Customers&gt;\r\n    &lt;Customer&gt;\r\n      &lt;Id&gt;1&lt;/Id&gt;\r\n      ..\r\n    &lt;/Customer&gt;\r\n    &lt;Customer&gt;\r\n      &lt;Id&gt;2&lt;/Id&gt;\r\n      ..\r\n    &lt;/Customer&gt;\r\n  &lt;/Customers&gt;\r\n&lt;/Notifications&gt;\r\n```\r\n\r\n**JAXB Classes**\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;header&quot;,\r\n    &quot;customers&quot;\r\n})\r\n```\r\n\r\n```\r\n@XmlRootElement(name = &quot;Notifications&quot;, namespace = &quot;http://www.company1.uk/schemas/app1&quot;)\r\npublic class Notifications {\r\n```\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n @XmlType(name = &quot;&quot;, propOrder = {\r\n     &quot;customer&quot;\r\n })\r\n public static class Customers {\r\n```\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;customerDetails&quot;,\r\n    &quot;transactions&quot;\r\n})\r\npublic static class Customer {\r\n```\r\n\r\n\r\n** Code to marshall or validate objects/elements **\r\n\r\n```\r\n  public static void validateObjectWithXSD(final Customer customer)\r\n      throws IOException, SAXException, URISyntaxException, JAXBException {\r\n\r\n    final SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n    schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;file&quot;);\r\n    schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;file&quot;);\r\n    //LocalResourceResolver implements org.w3c.dom.ls.LSResourceResolver\r\n    final LocalResourceResolver resourceResolver = LocalResourceResolver.create(&quot;xsd&quot;);\r\n    schemaFactory.setResourceResolver(resourceResolver);\r\n\r\n    final Schema schema = schemaFactory.newSchema();\r\n\r\n    JAXBContext jaxbContext = JAXBContext.newInstance(customer.getClass());\r\n\r\n    Marshaller marshaller = jaxbContext.createMarshaller();\r\n    marshaller.setEventHandler(new CustomValidationEventHandler());\r\n\r\n    marshaller.setSchema(schema);\r\n    marshaller.marshal(new JAXBElement&lt;&gt;(new QName(&quot;http://www.company1.uk/schemas/app1&quot;, &quot;Customer&quot;), Customer.class, customer), System.out);\r\n\r\n  }\r\n```\r\n","title":"Unable to marshal JAXB object due to SAXParseException (Cannot find the declaration of element error)","body":"<p>I am trying to validate an XML. The XML has the root element as &quot;Notifications&quot; and list of &quot;Customers&quot;.\nI want to validate each customer against the XSD and in case the validation fails I want to\nprint the Customer Id element value and error message. Currently in the application all the data is available as JAXB objects.\nI am using JAXB marshaller to marshall the Customer object which may return error if the validation fails.\nHowever the marshalling call is throwing below error.</p>\n<p><strong>Error Message:</strong></p>\n<pre><code>MESSAGE:  cvc-elt.1.a: Cannot find the declaration of element 'Customer'.\nLINKED EXCEPTION:  org.xml.sax.SAXParseException; lineNumber: 0; columnNumber: 0; cvc-elt.1.a: Cannot find the declaration of element 'Customer'.\n</code></pre>\n<p>Below are the snippets of XSD, XML and marshalling code.</p>\n<p><strong>XSD</strong> (cutdown version)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;xsd:schema\n  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n  attributeFormDefault=&quot;unqualified&quot;\n  elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.company1.uk/schemas/app1&quot;\n  version=&quot;4.03&quot; xmlns=&quot;http://www.company1.uk/schemas/app1&quot;&gt;\n  &lt;xsd:element name=&quot;Notifications&quot;&gt;\n        &lt;xsd:element name=&quot;Header&quot;&gt;..&lt;/xsd:element&gt;\n        &lt;xsd:element minOccurs=&quot;0&quot; name=&quot;Customers&quot;&gt;\n              &lt;xsd:element maxOccurs=&quot;unbounded&quot; name=&quot;Customer&quot;&gt;\n              ..\n              &lt;/xsd:element&gt;\n\n</code></pre>\n<p><strong>XML</strong> (cutdown version)</p>\n<pre><code>&lt;Notifications&gt;\n  &lt;Header&gt;\n  ..\n  &lt;/Header&gt;\n  &lt;Customers&gt;\n    &lt;Customer&gt;\n      &lt;Id&gt;1&lt;/Id&gt;\n      ..\n    &lt;/Customer&gt;\n    &lt;Customer&gt;\n      &lt;Id&gt;2&lt;/Id&gt;\n      ..\n    &lt;/Customer&gt;\n  &lt;/Customers&gt;\n&lt;/Notifications&gt;\n</code></pre>\n<p><strong>JAXB Classes</strong></p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;header&quot;,\n    &quot;customers&quot;\n})\n</code></pre>\n<pre><code>@XmlRootElement(name = &quot;Notifications&quot;, namespace = &quot;http://www.company1.uk/schemas/app1&quot;)\npublic class Notifications {\n</code></pre>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n @XmlType(name = &quot;&quot;, propOrder = {\n     &quot;customer&quot;\n })\n public static class Customers {\n</code></pre>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;customerDetails&quot;,\n    &quot;transactions&quot;\n})\npublic static class Customer {\n</code></pre>\n<p>** Code to marshall or validate objects/elements **</p>\n<pre><code>  public static void validateObjectWithXSD(final Customer customer)\n      throws IOException, SAXException, URISyntaxException, JAXBException {\n\n    final SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n    schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;file&quot;);\n    schemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;file&quot;);\n    //LocalResourceResolver implements org.w3c.dom.ls.LSResourceResolver\n    final LocalResourceResolver resourceResolver = LocalResourceResolver.create(&quot;xsd&quot;);\n    schemaFactory.setResourceResolver(resourceResolver);\n\n    final Schema schema = schemaFactory.newSchema();\n\n    JAXBContext jaxbContext = JAXBContext.newInstance(customer.getClass());\n\n    Marshaller marshaller = jaxbContext.createMarshaller();\n    marshaller.setEventHandler(new CustomValidationEventHandler());\n\n    marshaller.setSchema(schema);\n    marshaller.marshal(new JAXBElement&lt;&gt;(new QName(&quot;http://www.company1.uk/schemas/app1&quot;, &quot;Customer&quot;), Customer.class, customer), System.out);\n\n  }\n</code></pre>\n"},{"tags":["java","swing","netbeans","jpanel"],"comments":[{"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"score":0,"creation_date":1376375305,"post_id":18202061,"comment_id":26676769,"body_markdown":"You can remove it manually.","body":"You can remove it manually."},{"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"score":0,"creation_date":1376375395,"post_id":18202061,"comment_id":26676812,"body_markdown":"@Ankur No he can&#39;t. It&#39;s &quot;locked&quot;.","body":"@Ankur No he can&#39;t. It&#39;s &quot;locked&quot;."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1376375997,"post_id":18202061,"comment_id":26677076,"body_markdown":"Don&#39;t use the FormEditor class.  Create a plain old `Class` and extend it from something like `JPanel` yourself","body":"Don&#39;t use the FormEditor class.  Create a plain old <code>Class</code> and extend it from something like <code>JPanel</code> yourself"}],"answers":[{"tags":[],"owner":{"account_id":967909,"reputation":2031,"user_id":990996,"accept_rate":61,"display_name":"kenshinji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376375508,"creation_date":1376375508,"answer_id":18202158,"question_id":18202061,"body_markdown":"Maybe you can check this post out, and find the answer you are looking for.\r\nhttps://stackoverflow.com/questions/12961409/remove-netbeans-auto-generated-code-after-double-clicking-an-object-in-design-ta","title":"How to remove auto generated code from Netbeans","body":"<p>Maybe you can check this post out, and find the answer you are looking for.\n<a href=\"https://stackoverflow.com/questions/12961409/remove-netbeans-auto-generated-code-after-double-clicking-an-object-in-design-ta\">Remove Netbeans Auto Generated Code After Double-Clicking an Object in Design Tab</a></p>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376375573,"creation_date":1376375573,"answer_id":18202175,"question_id":18202061,"body_markdown":"In the Design mode you select the particular object and click Events under Properties and remove the event from the event property.","title":"How to remove auto generated code from Netbeans","body":"<p>In the Design mode you select the particular object and click Events under Properties and remove the event from the event property.</p>\n"},{"tags":[],"owner":{"account_id":238298,"reputation":13730,"user_id":507099,"display_name":"Costis Aivalis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1447917749,"creation_date":1376376027,"answer_id":18202284,"question_id":18202061,"body_markdown":"Using a GUI designer like Netbeans or Eclipse, will force you to accept certain conventions. One of these conventions is the automatic generation of `initComponents()` method by Netbeans.\r\n\r\nAlthough Netbeans is highly configurable and allows the user to modify lots of things, the `initComponents()` method is always used by the GUI builder. \r\n\r\nWhen you create a `JPanel` Form in Netbeans this is the `initComponents()` you get by default:\r\n\r\n    private void initComponents() {\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);\r\n        this.setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGap(0, 400, Short.MAX_VALUE)\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGap(0, 300, Short.MAX_VALUE)\r\n        );\r\n    }\r\n\r\nIf you take a close look at it you will see it has only layout instructions. You may want to change the layout. Let&#39;s say you want to have a `BorderLayout` for your `JPanel`. Go to the Navigator, change the layout by choosing the right property and this is your new `initComponents()` now:\r\n\r\n    private void initComponents() {\r\n\r\n        setLayout(new java.awt.BorderLayout());\r\n    }\r\n\r\nIf someone is in a Swing learning phase, it is wiser to avoid using a GUI Builder. Designing the components by hand will give a better understanding of how things work. The GUI builder will always be there to automate procedures once the principles of Swing have become familiar.\r\n","title":"How to remove auto generated code from Netbeans","body":"<p>Using a GUI designer like Netbeans or Eclipse, will force you to accept certain conventions. One of these conventions is the automatic generation of <code>initComponents()</code> method by Netbeans.</p>\n\n<p>Although Netbeans is highly configurable and allows the user to modify lots of things, the <code>initComponents()</code> method is always used by the GUI builder. </p>\n\n<p>When you create a <code>JPanel</code> Form in Netbeans this is the <code>initComponents()</code> you get by default:</p>\n\n<pre><code>private void initComponents() {\n\n    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);\n    this.setLayout(layout);\n    layout.setHorizontalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGap(0, 400, Short.MAX_VALUE)\n    );\n    layout.setVerticalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGap(0, 300, Short.MAX_VALUE)\n    );\n}\n</code></pre>\n\n<p>If you take a close look at it you will see it has only layout instructions. You may want to change the layout. Let's say you want to have a <code>BorderLayout</code> for your <code>JPanel</code>. Go to the Navigator, change the layout by choosing the right property and this is your new <code>initComponents()</code> now:</p>\n\n<pre><code>private void initComponents() {\n\n    setLayout(new java.awt.BorderLayout());\n}\n</code></pre>\n\n<p>If someone is in a Swing learning phase, it is wiser to avoid using a GUI Builder. Designing the components by hand will give a better understanding of how things work. The GUI builder will always be there to automate procedures once the principles of Swing have become familiar.</p>\n"},{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385117120,"creation_date":1384423323,"answer_id":19974663,"question_id":18202061,"body_markdown":"The Problem is that for a class XYZ with generated code there is a file XYZ.form (Same folder as the XYZ.java file). Netbeans unfortunately hides this file in it&#39;s Files / Projects Views, so you have to remove it by other means. After the .form file is removed the design tab for this class should disappear in Netbeans and you can delete the auto-generated code.","title":"How to remove auto generated code from Netbeans","body":"<p>The Problem is that for a class XYZ with generated code there is a file XYZ.form (Same folder as the XYZ.java file). Netbeans unfortunately hides this file in it's Files / Projects Views, so you have to remove it by other means. After the .form file is removed the design tab for this class should disappear in Netbeans and you can delete the auto-generated code.</p>\n"},{"tags":[],"owner":{"account_id":23604077,"reputation":1,"user_id":17640071,"display_name":"Black Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651072164,"creation_date":1650904102,"answer_id":72002788,"question_id":18202061,"body_markdown":"I know this is a very old question, but I thought it may help you or someone else :)\r\n\r\nIn NetBeans, when you go on a component, there should be a &quot;Properties&quot; section (You can also access it by right-clicking the component), in that section, you should find &quot;Properties&quot;, &quot;Events&quot; and &quot;Code&quot;, go to &quot;Events&quot; and you should find the events related to that component there. Find the even that you&#39;d like to remove, and click the small 3 dotted button, you&#39;ll see the handler, click on it and then click remove. That should fix it **through** NetBeans. Below, I&#39;ll explain another method that *sometimes*  works, but not always (I think).\r\n\r\n\r\n\r\nThis is rather an unusual way, but I managed to work around the application and edited those parts. What you can do is open the actual code file using any other text editor, using the &quot;Open with&quot; function (On windows), and search for the part that you want to change, then change it through that text editor, save the changes, and boom! You&#39;ve tricked the application :)\r\n\r\n*However, keep in mind that this **might cause some errors** and you&#39;d have to fix them yourself using the same method, because the code is built upon itself automatically obviously.* Remember that you&#39;re a problem solver, you should always try to think of a solution for your problems ;) \r\n\r\n\r\n\r\n\r\n\r\n\r\nI hope this helps! Good luck! Have a great day :)","title":"How to remove auto generated code from Netbeans","body":"<p>I know this is a very old question, but I thought it may help you or someone else :)</p>\n<p>In NetBeans, when you go on a component, there should be a &quot;Properties&quot; section (You can also access it by right-clicking the component), in that section, you should find &quot;Properties&quot;, &quot;Events&quot; and &quot;Code&quot;, go to &quot;Events&quot; and you should find the events related to that component there. Find the even that you'd like to remove, and click the small 3 dotted button, you'll see the handler, click on it and then click remove. That should fix it <strong>through</strong> NetBeans. Below, I'll explain another method that <em>sometimes</em>  works, but not always (I think).</p>\n<p>This is rather an unusual way, but I managed to work around the application and edited those parts. What you can do is open the actual code file using any other text editor, using the &quot;Open with&quot; function (On windows), and search for the part that you want to change, then change it through that text editor, save the changes, and boom! You've tricked the application :)</p>\n<p><em>However, keep in mind that this <strong>might cause some errors</strong> and you'd have to fix them yourself using the same method, because the code is built upon itself automatically obviously.</em> Remember that you're a problem solver, you should always try to think of a solution for your problems ;)</p>\n<p>I hope this helps! Good luck! Have a great day :)</p>\n"}],"owner":{"account_id":2863600,"reputation":123,"user_id":2458320,"accept_rate":33,"display_name":"Neo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8588,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18202284,"answer_count":5,"score":3,"last_activity_date":1651072164,"creation_date":1376375131,"question_id":18202061,"body_markdown":"Whenever I create new `JPanelForm`, NetBeans will create some auto generated code in `initComponents()` method. How can I remove this auto generated code from my `JPanelForm` ?","title":"How to remove auto generated code from Netbeans","body":"<p>Whenever I create new <code>JPanelForm</code>, NetBeans will create some auto generated code in <code>initComponents()</code> method. How can I remove this auto generated code from my <code>JPanelForm</code> ?</p>\n"},{"tags":["java","html","forms","button","action"],"comments":[{"owner":{"account_id":11792201,"reputation":672,"user_id":8627975,"display_name":"Mahdiar Mransouri"},"score":0,"creation_date":1651070435,"post_id":72030404,"comment_id":127275571,"body_markdown":"Have you using AJAX? it&#39;s a better way to send data to your backend and won&#39;t redirect user","body":"Have you using AJAX? it&#39;s a better way to send data to your backend and won&#39;t redirect user"},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1651209708,"post_id":72030404,"comment_id":127314176,"body_markdown":"Hi @Maiz - do you mean javascript not java? [if so tags might be wrong?]","body":"Hi @Maiz - do you mean javascript not java? [if so tags might be wrong?]"}],"answers":[{"tags":[],"owner":{"account_id":7303671,"reputation":563,"user_id":5565406,"display_name":"Mifo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651072077,"creation_date":1651072077,"answer_id":72031100,"question_id":72030404,"body_markdown":"Based on the limited information you give I am guessing that the core issue is that you need to add type=&quot;button&quot; attribute to your button to prevent the default submit action. This removes the default behavior of the button which is submit. Assuming you are using fetch or an ajax call inside the sendSMS function, you will need to handle your redirect inside the callback there.\r\n\r\n    &lt;button type=&quot;button&quot; class=&quot;gradient-button gradient-button-2&quot; onclick=&quot;snedSMS()&quot;&gt; Send &lt;/button&gt;\r\n\r\nI am also guessing that the onclick handler in your button is a typo. Should it be sendSMS()?","title":"Two action in one button form","body":"<p>Based on the limited information you give I am guessing that the core issue is that you need to add type=&quot;button&quot; attribute to your button to prevent the default submit action. This removes the default behavior of the button which is submit. Assuming you are using fetch or an ajax call inside the sendSMS function, you will need to handle your redirect inside the callback there.</p>\n<pre><code>&lt;button type=&quot;button&quot; class=&quot;gradient-button gradient-button-2&quot; onclick=&quot;snedSMS()&quot;&gt; Send &lt;/button&gt;\n</code></pre>\n<p>I am also guessing that the onclick handler in your button is a typo. Should it be sendSMS()?</p>\n"}],"owner":{"account_id":24848960,"reputation":3,"user_id":18726143,"display_name":"Maiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651072077,"creation_date":1651069045,"question_id":72030404,"body_markdown":"Is there a way to have a button call a method from java and executed it also after it executes it goes to a new page in the browser \r\n``` &lt;!-- Here Lies sendSMS method --&gt;\r\n\t\t\t\t\t&lt;div class=&quot;link&quot;&gt;\r\n\t\t\t\t\t\t&lt;form action=&quot;/sendSMS&quot; method=&quot;GET&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;h2&gt;\r\n\t\t\t\t\t\t\t\t&lt;label&gt; Send a message: &lt;/label&gt;\r\n\t\t\t\t\t\t\t&lt;/h2&gt;\r\n\t\t\t\t\t\t\t&lt;button class=&quot;gradient-button gradient-button-2&quot; onclick=&quot;snedSMS()&quot;&gt; Send &lt;/button&gt;\r\n\t\t\t\t\t\t&lt;/form&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;!--  End of send SMS --&gt; \r\n```\r\n\r\nCurrently, this button calls a method in my java application and executes it, but when it executes it goes to a blank page. I want it to go to either a new page or redirect it to the same page the button was on.","title":"Two action in one button form","body":"<p>Is there a way to have a button call a method from java and executed it also after it executes it goes to a new page in the browser</p>\n<pre><code>                    &lt;div class=&quot;link&quot;&gt;\n                        &lt;form action=&quot;/sendSMS&quot; method=&quot;GET&quot;&gt;\n                            &lt;h2&gt;\n                                &lt;label&gt; Send a message: &lt;/label&gt;\n                            &lt;/h2&gt;\n                            &lt;button class=&quot;gradient-button gradient-button-2&quot; onclick=&quot;snedSMS()&quot;&gt; Send &lt;/button&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n            &lt;!--  End of send SMS --&gt; \n</code></pre>\n<p>Currently, this button calls a method in my java application and executes it, but when it executes it goes to a blank page. I want it to go to either a new page or redirect it to the same page the button was on.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651071951,"creation_date":1651043852,"answer_id":72024719,"question_id":72024570,"body_markdown":"You can just create both inner class `A`, `B` in `Nested` to reduce unnecessary  hierarchy.\r\n\r\n```java\r\npackage com.example.demo;\r\npackage com.jason.empty;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Nested {\r\n    private A a;\r\n\r\n    @Data\r\n    public static class A {\r\n        private B b;\r\n    }\r\n\r\n    @Data\r\n    public static class B {\r\n        private int c;\r\n    }\r\n}\r\n```\r\n\r\nNote here `import com.example.demo.Nested.A` so that you can just use `A a = new A();` instead of `Nested.A a = new Nested.A();` to reduce the  complexity.\r\n\r\nJackson is a good JSON serialization/deserialization library for Java. The `ObjectMapper` API provides a straightforward way to parse and generate JSON:\r\n\r\n```java\r\npackage com.example.demo;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.example.demo.Nested.A;\r\nimport com.example.demo.Nested.B;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        B b = new B();\r\n        b.setC(123);\r\n\r\n        A a = new A();\r\n        a.setB(b);\r\n\r\n        Nested nested = new Nested();\r\n        nested.setA(a);\r\n\r\n        String json = new ObjectMapper().writeValueAsString(nested);\r\n        System.out.println(json);   // Output: {&quot;a&quot;:{&quot;b&quot;:{&quot;c&quot;:123}}}\r\n    }\r\n}\r\n```\r\n\r\n##  Moreover\r\nYou could use `@Accessors(chain = true)` to chain multiple `set` operations together in one statement.\r\n\r\n```java\r\nimport lombok.Data;\r\nimport lombok.experimental.Accessors;\r\n\r\n@Data\r\n@Accessors(chain = true)\r\npublic class Nested {\r\n    private A a;\r\n\r\n    @Data\r\n    @Accessors(chain = true)\r\n    public static class A {\r\n        private B b;\r\n    }\r\n\r\n    @Data\r\n    @Accessors(chain = true)\r\n    public static class B {\r\n        private int c;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n    B b = new B().setC(123);\r\n    A a = new A().setB(b);\r\n    Nested nested = new Nested().setA(a);\r\n    String json = new ObjectMapper().writeValueAsString(nested);\r\n    System.out.println(json);  // Output: {&quot;a&quot;:{&quot;b&quot;:{&quot;c&quot;:123}}}\r\n}\r\n```\r\n","title":"Set value ​in static inner class and write object to JSON","body":"<p>You can just create both inner class <code>A</code>, <code>B</code> in <code>Nested</code> to reduce unnecessary  hierarchy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\npackage com.jason.empty;\n\nimport lombok.Data;\n\n@Data\npublic class Nested {\n    private A a;\n\n    @Data\n    public static class A {\n        private B b;\n    }\n\n    @Data\n    public static class B {\n        private int c;\n    }\n}\n</code></pre>\n<p>Note here <code>import com.example.demo.Nested.A</code> so that you can just use <code>A a = new A();</code> instead of <code>Nested.A a = new Nested.A();</code> to reduce the  complexity.</p>\n<p>Jackson is a good JSON serialization/deserialization library for Java. The <code>ObjectMapper</code> API provides a straightforward way to parse and generate JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.example.demo.Nested.A;\nimport com.example.demo.Nested.B;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        B b = new B();\n        b.setC(123);\n\n        A a = new A();\n        a.setB(b);\n\n        Nested nested = new Nested();\n        nested.setA(a);\n\n        String json = new ObjectMapper().writeValueAsString(nested);\n        System.out.println(json);   // Output: {&quot;a&quot;:{&quot;b&quot;:{&quot;c&quot;:123}}}\n    }\n}\n</code></pre>\n<h2>Moreover</h2>\n<p>You could use <code>@Accessors(chain = true)</code> to chain multiple <code>set</code> operations together in one statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\nimport lombok.experimental.Accessors;\n\n@Data\n@Accessors(chain = true)\npublic class Nested {\n    private A a;\n\n    @Data\n    @Accessors(chain = true)\n    public static class A {\n        private B b;\n    }\n\n    @Data\n    @Accessors(chain = true)\n    public static class B {\n        private int c;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    B b = new B().setC(123);\n    A a = new A().setB(b);\n    Nested nested = new Nested().setA(a);\n    String json = new ObjectMapper().writeValueAsString(nested);\n    System.out.println(json);  // Output: {&quot;a&quot;:{&quot;b&quot;:{&quot;c&quot;:123}}}\n}\n</code></pre>\n"}],"owner":{"account_id":19972020,"reputation":299,"user_id":14637258,"display_name":"Anne Maier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1651071951,"creation_date":1651043011,"question_id":72024570,"body_markdown":"What is a better way to set the value of the variable c in class Nested and then write the nested object to JSON instead of how it was done in the main method?\r\n\r\n``` \r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    public class Nested {\r\n        private A a;\r\n    \r\n        @Data\r\n        public static class A {\r\n            private B b;\r\n    \r\n            @Data\r\n            public static class B {\r\n                private int c;\r\n            }\r\n        }\r\n    }\r\n``` \r\n\r\n```\r\nimport javax.json.bind.JsonbBuilder;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Nested nested = new Nested();\r\n        Nested.A a = new Nested.A();\r\n        Nested.A.B b = new Nested.A.B();\r\n        b.setC(123);\r\n\r\n        a.setB(b);\r\n        nested.setA(a);\r\n\r\n        System.out.println(JsonbBuilder.create().toJson(nested)); // Output: {&quot;a&quot;:{&quot;b&quot;:{&quot;c&quot;:123}}}\r\n    }\r\n}\r\n```\r\n","title":"Set value ​in static inner class and write object to JSON","body":"<p>What is a better way to set the value of the variable c in class Nested and then write the nested object to JSON instead of how it was done in the main method?</p>\n<pre><code>    import lombok.Data;\n    \n    @Data\n    public class Nested {\n        private A a;\n    \n        @Data\n        public static class A {\n            private B b;\n    \n            @Data\n            public static class B {\n                private int c;\n            }\n        }\n    }\n</code></pre>\n<pre><code>import javax.json.bind.JsonbBuilder;\n\npublic class Main {\n    public static void main(String[] args) {\n        Nested nested = new Nested();\n        Nested.A a = new Nested.A();\n        Nested.A.B b = new Nested.A.B();\n        b.setC(123);\n\n        a.setB(b);\n        nested.setA(a);\n\n        System.out.println(JsonbBuilder.create().toJson(nested)); // Output: {&quot;a&quot;:{&quot;b&quot;:{&quot;c&quot;:123}}}\n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance","reflection","enums"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1650922259,"post_id":72005816,"comment_id":127233866,"body_markdown":"Put it into `Map&lt;String,FieldInterface&gt;`.","body":"Put it into <code>Map&lt;String,FieldInterface&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651071730,"creation_date":1650923927,"answer_id":72006136,"question_id":72005816,"body_markdown":"A traditional implementation of a Map&lt;String, Enum&lt;?&gt;&gt; with a small complication of handling several enum classes. The static final map instance is defined in an interface and shared across all enums.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.stream.IntStream;\r\n    \r\n    class Main {\r\n    \r\n        public static void main(final String[] args) {\r\n            // Enum classes must be loaded\r\n            loadEnums();\r\n    \r\n        System.out.println(X.get(&quot;FIELD1B&quot;));\r\n        ((X) () -&gt; &quot;FIELD1B&quot;).add();    // Attempt to pollute the map is blocked\r\n        System.out.println(X.get(&quot;FIELD1B&quot;));\r\n        }\r\n    \r\n        private static void loadEnums() {\r\n            IntStream.range(1, 10).mapToObj(n -&gt; Main.class.getPackageName() + &quot;.Main$Field&quot; + n).forEach(Main::loadEnum);\r\n        }\r\n    \r\n        private static void loadEnum(String name) {\r\n            try {\r\n                Class.forName(name);\r\n            } catch (ClassNotFoundException e) {\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * All enums implement this marker interface and therefore share access to a static map from the name of the enum to its value.\r\n         */\r\n        interface X {\r\n            Map&lt;String, X&gt; map = new HashMap&lt;&gt;();\r\n    \r\n            /**\r\n             * This shared method uses enum&#39;s name method to get enum&#39;s string representation.\r\n             */\r\n            default void add() {\r\n              if (this instanceof Enum&lt;?&gt;) {\r\n                  map.put(name(), this);\r\n              }\r\n            }\r\n    \r\n            static X get(String key) {\r\n                return map.get(key);\r\n            }\r\n    \r\n            /**\r\n             * This method is always overwritten by each enum because all enums have a name() method.\r\n             */\r\n            String name();\r\n        }\r\n    \r\n        enum Field1 implements X {\r\n            FIELD1A, FIELD1B, FIELD1C;\r\n    \r\n            // We have to call add() to place each enum value in the shared map\r\n            Field1() {\r\n                add();\r\n            }\r\n        }\r\n    \r\n        enum Field2 implements X {\r\n            FIELD2A, FIELD2B, FIELD2C;\r\n    \r\n            Field2() {\r\n                add();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Implementing Pseudo Enum Inheritance in Java using a Marker Interface","body":"<p>A traditional implementation of a Map&lt;String, Enum&lt;?&gt;&gt; with a small complication of handling several enum classes. The static final map instance is defined in an interface and shared across all enums.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.stream.IntStream;\n\nclass Main {\n\n    public static void main(final String[] args) {\n        // Enum classes must be loaded\n        loadEnums();\n\n    System.out.println(X.get(&quot;FIELD1B&quot;));\n    ((X) () -&gt; &quot;FIELD1B&quot;).add();    // Attempt to pollute the map is blocked\n    System.out.println(X.get(&quot;FIELD1B&quot;));\n    }\n\n    private static void loadEnums() {\n        IntStream.range(1, 10).mapToObj(n -&gt; Main.class.getPackageName() + &quot;.Main$Field&quot; + n).forEach(Main::loadEnum);\n    }\n\n    private static void loadEnum(String name) {\n        try {\n            Class.forName(name);\n        } catch (ClassNotFoundException e) {\n        }\n    }\n\n    /**\n     * All enums implement this marker interface and therefore share access to a static map from the name of the enum to its value.\n     */\n    interface X {\n        Map&lt;String, X&gt; map = new HashMap&lt;&gt;();\n\n        /**\n         * This shared method uses enum's name method to get enum's string representation.\n         */\n        default void add() {\n          if (this instanceof Enum&lt;?&gt;) {\n              map.put(name(), this);\n          }\n        }\n\n        static X get(String key) {\n            return map.get(key);\n        }\n\n        /**\n         * This method is always overwritten by each enum because all enums have a name() method.\n         */\n        String name();\n    }\n\n    enum Field1 implements X {\n        FIELD1A, FIELD1B, FIELD1C;\n\n        // We have to call add() to place each enum value in the shared map\n        Field1() {\n            add();\n        }\n    }\n\n    enum Field2 implements X {\n        FIELD2A, FIELD2B, FIELD2C;\n\n        Field2() {\n            add();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22441774,"reputation":135,"user_id":16646191,"display_name":"Vance Brockberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72006136,"answer_count":1,"score":1,"last_activity_date":1651071730,"creation_date":1650921194,"question_id":72005816,"body_markdown":"I&#39;m using a [Marker Interface][1] to implement pseudo enum inheritance.\r\n\r\nLet&#39;s say I define Marker class as follows:\r\n\r\n    public interface FieldInterface\r\n\r\nNow I have have 5 enum classes that implement this interface.\r\n\r\n\r\n    enum Field1 implements FieldInterface\r\n    enum Field2 implements FieldInterface\r\n    enum Field3 implements FieldInterface\r\n    enum Field4 implements FieldInterface\r\n    enum Field5 implements FieldInterface\r\n\r\nEach of the 5 enum &quot;Field&quot; class above defines a list of enums related to that field type. For example, enum `Field1` might define enums: `Field1A, Field1B, Field1C`. Enum `Field2` might define enums: `Field2A, Field2B, Field2C`\r\n\r\nNow I need to convert plain text representation of each enum to the corresponding enum (similar to calling `enum.valueOf(String)`) **without knowing which of the 5 enum classes the String belongs to**. \r\n\r\nOne way to achieve this might be through `reflection` by first retrieving a list of all classes that implement said interface and iterating through all of the 5 enum classes until a match is found. However, I prefer to avoid reflection if possible (mainly due to performance reasons).\r\n\r\nWhat other options are there to solve this problem?\r\n\r\nThanks\r\n\r\n  [1]: https://stackoverflow.com/a/35650094","title":"Implementing Pseudo Enum Inheritance in Java using a Marker Interface","body":"<p>I'm using a <a href=\"https://stackoverflow.com/a/35650094\">Marker Interface</a> to implement pseudo enum inheritance.</p>\n<p>Let's say I define Marker class as follows:</p>\n<pre><code>public interface FieldInterface\n</code></pre>\n<p>Now I have have 5 enum classes that implement this interface.</p>\n<pre><code>enum Field1 implements FieldInterface\nenum Field2 implements FieldInterface\nenum Field3 implements FieldInterface\nenum Field4 implements FieldInterface\nenum Field5 implements FieldInterface\n</code></pre>\n<p>Each of the 5 enum &quot;Field&quot; class above defines a list of enums related to that field type. For example, enum <code>Field1</code> might define enums: <code>Field1A, Field1B, Field1C</code>. Enum <code>Field2</code> might define enums: <code>Field2A, Field2B, Field2C</code></p>\n<p>Now I need to convert plain text representation of each enum to the corresponding enum (similar to calling <code>enum.valueOf(String)</code>) <strong>without knowing which of the 5 enum classes the String belongs to</strong>.</p>\n<p>One way to achieve this might be through <code>reflection</code> by first retrieving a list of all classes that implement said interface and iterating through all of the 5 enum classes until a match is found. However, I prefer to avoid reflection if possible (mainly due to performance reasons).</p>\n<p>What other options are there to solve this problem?</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1650997044,"post_id":72018329,"comment_id":127255253,"body_markdown":"Here is the output I got from running your code. It is different than your output. `Stage.........: 316.0*289.0\nScreen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=1920.0, maxY=1040.0, width=1920.0, height=1040.0]\nScreen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=1920.0, maxY=1080.0, width=1920.0, height=1080.0]`. My guess is that the Stage decorations plays a part. I am not sure. When I do `stage.setFullScreen(true);`, I get `Stage.........: 1920.0*1080.0`","body":"Here is the output I got from running your code. It is different than your output. <code>Stage.........: 316.0*289.0 Screen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=1920.0, maxY=1040.0, width=1920.0, height=1040.0] Screen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=1920.0, maxY=1080.0, width=1920.0, height=1080.0]</code>. My guess is that the Stage decorations plays a part. I am not sure. When I do <code>stage.setFullScreen(true);</code>, I get <code>Stage.........: 1920.0*1080.0</code>"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1650999438,"post_id":72018329,"comment_id":127255995,"body_markdown":"setFullScreen(true) is a bit different. I&#39;ve added a &quot;Toggle Full Screen&quot; Button. In &quot;Full Screen&quot; mode it correctly reports the physical screen size, but when maximized it reports &quot;Visual Bounds + 16&quot;, which is wider than the physical screen!","body":"setFullScreen(true) is a bit different. I&#39;ve added a &quot;Toggle Full Screen&quot; Button. In &quot;Full Screen&quot; mode it correctly reports the physical screen size, but when maximized it reports &quot;Visual Bounds + 16&quot;, which is wider than the physical screen!"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1651006612,"post_id":72018329,"comment_id":127258242,"body_markdown":"If you think it is a bug (e.g. maximized stage in Windows 10 reports a size larger than the screen&#39;s reported visual bounds), you can [file it if you wish](https://wiki.openjdk.java.net/display/OpenJFX/Submitting+a+Bug+Report).  Note that the behaviour on a Mac is different than what you report, so I cannot replicate your issue (values are as I would expect when I tested on my Mac).","body":"If you think it is a bug (e.g. maximized stage in Windows 10 reports a size larger than the screen&#39;s reported visual bounds), you can <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Submitting+a+Bug+Report\" rel=\"nofollow noreferrer\">file it if you wish</a>.  Note that the behaviour on a Mac is different than what you report, so I cannot replicate your issue (values are as I would expect when I tested on my Mac)."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1651042573,"post_id":72018329,"comment_id":127264800,"body_markdown":"@jewelsea Is that the right place to report a JavaFX Bug (the question is: is it a Java or a JavaFX Bug)? And I guess I need to test it with an Oracle JDK rather than openJDK. Which JDK would you recommend for that right now? (17.0.3, 18.0.1,...)","body":"@jewelsea Is that the right place to report a JavaFX Bug (the question is: is it a Java or a JavaFX Bug)? And I guess I need to test it with an Oracle JDK rather than openJDK. Which JDK would you recommend for that right now? (17.0.3, 18.0.1,...)"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1651052900,"post_id":72018329,"comment_id":127268645,"body_markdown":"ok, I confirmed the problem is reproducible with Oracle JDK&#39;s 17.0.3 &amp; 18.0.1 together with JavaFX 17.0.2 &amp; 18.0.1 respectively (org.openjfx, from mvnrepository.com)","body":"ok, I confirmed the problem is reproducible with Oracle JDK&#39;s 17.0.3 &amp; 18.0.1 together with JavaFX 17.0.2 &amp; 18.0.1 respectively (org.openjfx, from mvnrepository.com)"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1651071432,"post_id":72018329,"comment_id":127275968,"body_markdown":"...and it&#39;s reproducible with Swing too, so nothing to do with Java FX. I&#39;ve added an example Proggy for that to the original Posting.","body":"...and it&#39;s reproducible with Swing too, so nothing to do with Java FX. I&#39;ve added an example Proggy for that to the original Posting."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1651087678,"post_id":72018329,"comment_id":127281938,"body_markdown":"JavaFX and Swing are different, almost completely independent toolkits.  So, though the cause may be at its root the same issue (perhaps at the OS window toolkit level),  I think they would likely be treated as separate issues if raised.  So I think, the link I gave is correct for the JavaFX toolkit,  a separate bug could perhaps be raised for Swing (I don&#39;t know the process for that).  They both use the same bug tracking system so the different bugs could be linked for tracking purposes.  I have no idea if they would be worth actioning and fixing.","body":"JavaFX and Swing are different, almost completely independent toolkits.  So, though the cause may be at its root the same issue (perhaps at the OS window toolkit level),  I think they would likely be treated as separate issues if raised.  So I think, the link I gave is correct for the JavaFX toolkit,  a separate bug could perhaps be raised for Swing (I don&#39;t know the process for that).  They both use the same bug tracking system so the different bugs could be linked for tracking purposes.  I have no idea if they would be worth actioning and fixing."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1651128980,"post_id":72018329,"comment_id":127290376,"body_markdown":"Your link led me to bugreport.java.com which seems to be run by Oracle. I&#39;ve created 2 Bug reports as you suggested, for Swing &amp; Java FX.","body":"Your link led me to bugreport.java.com which seems to be run by Oracle. I&#39;ve created 2 Bug reports as you suggested, for Swing &amp; Java FX."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1651487209,"post_id":72018329,"comment_id":127368368,"body_markdown":"Following Bug ID JDK-8285982 was created: [link](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8285982)","body":"Following Bug ID JDK-8285982 was created: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8285982\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651011003,"creation_date":1651010450,"answer_id":72021005,"question_id":72018329,"body_markdown":"Some time ago, microsoft decided it was a good idea to start messing with the OS&#39;s rendering engine in order to milk out some performance out of the thing.\r\n\r\nLong story short, there&#39;s some fuckery afoot which the OS undergoes in order to increase computational efficiency when it comes to pixel-by-pixel calculations which on composite desktops(multiple windows), or large displays (4k and up). (in a nutshell, stuff isn&#39;t rendered on a px/px basis, it&#39;s based on &#39;relative&#39; coordinates)\r\n\r\nIt usually does this independently of what the jdk rendering engine component does.\r\n\r\nIt&#39;s been a while, but as far as I remember, the (i forget the name... prism or something)JavaFX window renderer component creates the window (incl. stage and contents), then it outputs that data to a native .dll which is used to port that stuff to the OS for rendering purposes.\r\n\r\nThe OS then converts it from specs to a window construct - given the specifications passed to the dll. These specifications include window dimensions and absolute positions.\r\n\r\nThe OS then places it on screen (but doesn&#39;t render).\r\n\r\nThe OS then starts re-calculating sizes and whatnot (scaling and the like), using the aforementioned efficiency algorithms.\r\n\r\nLastly, the OS renders the window. \r\n\r\nAt this point, if the stars align and your windows or whatever are rendered based on some arbitrary-yet-os-determined angle which is used to calculate their relative position to one another, you can get cool errors like extra magic pixels.... or for example the Robot class moving your mouse randomly even though you specify the 100x100 coordinate... randomly in the sense that it strongly depends on where your mouse is when that function is called.\r\n\r\nIf you absolutely want to prevent windows from messing with your windows, irrespective of what the javafx renderer -to- OS binding effects are... use JNA\r\n\r\nhttps://learn.microsoft.com/en-us/windows/win32/gdi/positioning-objects-on-a-multiple-display-setup\r\n\r\nBut my advice would be to ignore this issue and move on.\r\n\r\n[edit] oh ... yea... throughout that delightful wild goose chase I had to do in order to find this stuff out, some of the ms devnet forums I came across claimed that graphics card drivers affect this stuff as well.... so truly consider the advice above. ","title":"Maximized Window in JavaFX reporting size exceeds visual bounds of Screen","body":"<p>Some time ago, microsoft decided it was a good idea to start messing with the OS's rendering engine in order to milk out some performance out of the thing.</p>\n<p>Long story short, there's some fuckery afoot which the OS undergoes in order to increase computational efficiency when it comes to pixel-by-pixel calculations which on composite desktops(multiple windows), or large displays (4k and up). (in a nutshell, stuff isn't rendered on a px/px basis, it's based on 'relative' coordinates)</p>\n<p>It usually does this independently of what the jdk rendering engine component does.</p>\n<p>It's been a while, but as far as I remember, the (i forget the name... prism or something)JavaFX window renderer component creates the window (incl. stage and contents), then it outputs that data to a native .dll which is used to port that stuff to the OS for rendering purposes.</p>\n<p>The OS then converts it from specs to a window construct - given the specifications passed to the dll. These specifications include window dimensions and absolute positions.</p>\n<p>The OS then places it on screen (but doesn't render).</p>\n<p>The OS then starts re-calculating sizes and whatnot (scaling and the like), using the aforementioned efficiency algorithms.</p>\n<p>Lastly, the OS renders the window.</p>\n<p>At this point, if the stars align and your windows or whatever are rendered based on some arbitrary-yet-os-determined angle which is used to calculate their relative position to one another, you can get cool errors like extra magic pixels.... or for example the Robot class moving your mouse randomly even though you specify the 100x100 coordinate... randomly in the sense that it strongly depends on where your mouse is when that function is called.</p>\n<p>If you absolutely want to prevent windows from messing with your windows, irrespective of what the javafx renderer -to- OS binding effects are... use JNA</p>\n<p><a href=\"https://learn.microsoft.com/en-us/windows/win32/gdi/positioning-objects-on-a-multiple-display-setup\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/gdi/positioning-objects-on-a-multiple-display-setup</a></p>\n<p>But my advice would be to ignore this issue and move on.</p>\n<p>[edit] oh ... yea... throughout that delightful wild goose chase I had to do in order to find this stuff out, some of the ms devnet forums I came across claimed that graphics card drivers affect this stuff as well.... so truly consider the advice above.</p>\n"}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651071700,"creation_date":1650995131,"question_id":72018329,"body_markdown":"Here&#39;s a trivial JavaFX App.\r\n\r\nWhen I maximize its Window &amp; press the button, it reports the Window Width &amp; Height exceed the Visual Bounds (Screen Size, less Windows Task Bar) of the Screen by 16 pixels.\r\n\r\nThe Window is being display correctly &amp; its display does NOT exceed the Visual Bounds.\r\n\r\nI&#39;m running the Zulu openJDK 17 with JavaFX bundled under Windows 10.\r\n\r\nHere&#39;s a revised version of the App:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.*;\r\n    \r\n    public final class MaximizeBoundsCheck extends Application {\r\n    \r\n    \tprivate final Button butn = new Button(&quot;Button&quot;);\r\n    \tprivate final Button full = new Button(&quot;Toggle Full Screen&quot;);\r\n    \r\n    \t@Override\r\n    \tpublic void start(final Stage stage) {\r\n    \r\n    \t\tbutn.setOnAction(e -&gt; buttonAction(stage, e));\r\n    \t\tfull.setOnAction(e -&gt; buttonAction(stage, e));\r\n    \r\n    \t\tstage.setScene(new Scene(new HBox(butn, full), 300, 250));\r\n    \t\tstage.show();\r\n    \t}\r\n    \tprivate void buttonAction(final Stage stage, final ActionEvent e) {\r\n    \r\n    \t\tif (e.getSource() == full) {\r\n    \t\t\tstage.setFullScreen(stage.isFullScreen() == false);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Full Screen...: &quot; + stage.isFullScreen());\r\n    \t\tSystem.out.println(&quot;Stage.........: &quot; + stage.getWidth() + &quot;*&quot; + stage.getHeight());\r\n    \r\n    \t\tSystem.out.println(&quot;Screen Visual.: &quot; + Screen.getPrimary().getVisualBounds());\r\n    \t\tSystem.out.println(&quot;Screen Bounds.: &quot; + Screen.getPrimary().getBounds());\r\n    \t}\r\n    \tpublic static void main(final String[] args) {\r\n    \t\tApplication.launch(args);\r\n    \t}\r\n    }\r\n\r\nAnd here&#39;s the revised App output:\r\n\r\n    Full Screen...: true\r\n    Stage.........: 2560.0*1440.0\r\n    Screen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\r\n    Screen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\r\n    Full Screen...: false\r\n    Stage.........: 316.0*289.0\r\n    Screen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\r\n    Screen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\r\n    Full Screen...: false\r\n    Stage.........: 2576.0*1416.0\r\n    Screen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\r\n    Screen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\r\n\r\n\r\nAnd here&#39;s a Swing Proggy to highlight the problem:\r\n\r\n    package screensize.oracle18;\r\n    \r\n    import static java.awt.Frame.ICONIFIED;\r\n    import static java.awt.Frame.MAXIMIZED_BOTH;\r\n    import static java.awt.Frame.MAXIMIZED_HORIZ;\r\n    import static java.awt.Frame.MAXIMIZED_VERT;\r\n    \r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public final class SwingJFrameScreensize {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \r\n    \t\tprintScreenSize();\r\n    \r\n    \t\tfinal var frame = new JFrame(&quot;Screensize JFrame&quot;);\r\n    \r\n    \t\tsetFullScreen(frame, false); // TODO &lt;- fullScreen=true/false\r\n    \r\n    \t\t/**/      frame.setVisible(true);\r\n    \t\t/**/      frame.addWindowStateListener(e -&gt; {\r\n    \t\t\tfinal var state = frame.getExtendedState() &amp; (MAXIMIZED_BOTH | ICONIFIED);\r\n    \t\t\tswitch   (state) {\r\n    \t\t\t\tcase MAXIMIZED_BOTH  -&gt; {System.out.println(&quot;Maximized...: &quot; + frame.getSize());}\r\n    \t\t\t\tcase MAXIMIZED_HORIZ -&gt; {System.out.println(&quot;Maximized H.: &quot; + frame.getSize());}\r\n    \t\t\t\tcase MAXIMIZED_VERT  -&gt; {System.out.println(&quot;Maximized V.: &quot; + frame.getSize());}\r\n    \t\t\t\tcase ICONIFIED       -&gt; {System.out.println(&quot;Iconified...: &quot; + frame.getSize());}\r\n    \t\t\t\tdefault              -&gt; {System.out.println(&quot;Normal......: &quot; + frame.getSize());}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \tprivate static void printScreenSize() {\r\n    \r\n    \t\tfinal var screen = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\r\n    \r\n    \t\tfor(final var config       : screen.getConfigurations()) {\r\n    \t\t\tfinal var bounds       = config.getBounds();\r\n    \t\t\tfinal var insets       = Toolkit.getDefaultToolkit().getScreenInsets(config);\r\n    \r\n    \t\t\tfinal var visualX      = bounds.x      + insets.left;\r\n    \t\t\tfinal var visualWidth  = bounds.width  - insets.left - insets.right;\r\n    \t\t\tfinal var visualY      = bounds.y      + insets.top;\r\n    \t\t\tfinal var visualHeight = bounds.height - insets.top  - insets.bottom;\r\n    \r\n    \t\t\tSystem.out.println(&quot;Screen......: &quot; + bounds);\r\n    \t\t\tSystem.out.println(&quot;User Area...: &quot; + new Rectangle(visualX, visualY, visualWidth, visualHeight));\r\n    \t\t}\r\n    \t}\r\n    \tprivate static void setFullScreen(final JFrame frame, final boolean fullScreen) {\r\n    \r\n    \t\tfinal var button = new JButton(&quot;Print Screen Size&quot;);\r\n    \r\n    \t\tbutton.addActionListener(e -&gt; {\r\n    \t\t\tSystem.out.println(&quot;Full Screen.: &quot; + frame.getSize());\r\n    \t\t});\r\n    \r\n    \t\tif (fullScreen) {\r\n    \t\t\tframe.add(button);\r\n    \t\t\tframe.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n    \t\t\tframe.setUndecorated(true);\r\n    \t\t} else {\r\n    \t\t\tframe.setSize(300, 100);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHere&#39;s the old code:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.Button;\r\n    import javafx.stage.*;\r\n    \r\n    public class MaximizeBoundsCheck extends Application {\r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tApplication.launch(args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void start(final Stage stage) {\r\n    \r\n    \t\tfinal Button btn = new Button(&quot;Button&quot;);\r\n    \t\t;            btn.setOnAction(e -&gt; {\r\n    \t\t\tSystem    .out.println(&quot;Stage.........: &quot; + stage.getWidth() + &quot;*&quot; + stage.getHeight());\r\n    \r\n    \t\t\tfor (final var screen : Screen.getScreens()) {\r\n    \t\t\t\tSystem.out.println(&quot;Screen Visual.: &quot; + screen.getVisualBounds());\r\n    \t\t\t\tSystem.out.println(&quot;Screen Bounds.: &quot; + screen.getBounds());\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tfinal Group  root = new Group();\r\n    \t\t;            root.getChildren().add(btn);\r\n    \r\n    \t\tstage.setScene(new Scene(root, 300, 250));\r\n    \t\tstage.show();\r\n    \t}\r\n    }\r\n\r\nAnd here&#39;s the output on a Laptop with 2 Screens:\r\n\r\n    Stage.........: 2576.0*1416.0\r\n    Screen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\r\n    Screen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\r\n    Screen Visual.: Rectangle2D [minX = -1920.0, minY=372.0, maxX=0.0, maxY=1412.0, width=1920.0, height=1040.0]\r\n    Screen Bounds.: Rectangle2D [minX = -1920.0, minY=372.0, maxX=0.0, maxY=1452.0, width=1920.0, height=1080.0]\r\n    Stage.........: 1936.0*1056.0\r\n    Screen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\r\n    Screen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\r\n    Screen Visual.: Rectangle2D [minX = -1920.0, minY=372.0, maxX=0.0, maxY=1412.0, width=1920.0, height=1040.0]\r\n    Screen Bounds.: Rectangle2D [minX = -1920.0, minY=372.0, maxX=0.0, maxY=1452.0, width=1920.0, height=1080.0]\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maximized Window in JavaFX reporting size exceeds visual bounds of Screen","body":"<p>Here's a trivial JavaFX App.</p>\n<p>When I maximize its Window &amp; press the button, it reports the Window Width &amp; Height exceed the Visual Bounds (Screen Size, less Windows Task Bar) of the Screen by 16 pixels.</p>\n<p>The Window is being display correctly &amp; its display does NOT exceed the Visual Bounds.</p>\n<p>I'm running the Zulu openJDK 17 with JavaFX bundled under Windows 10.</p>\n<p>Here's a revised version of the App:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.scene.*;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.*;\n\npublic final class MaximizeBoundsCheck extends Application {\n\n    private final Button butn = new Button(&quot;Button&quot;);\n    private final Button full = new Button(&quot;Toggle Full Screen&quot;);\n\n    @Override\n    public void start(final Stage stage) {\n\n        butn.setOnAction(e -&gt; buttonAction(stage, e));\n        full.setOnAction(e -&gt; buttonAction(stage, e));\n\n        stage.setScene(new Scene(new HBox(butn, full), 300, 250));\n        stage.show();\n    }\n    private void buttonAction(final Stage stage, final ActionEvent e) {\n\n        if (e.getSource() == full) {\n            stage.setFullScreen(stage.isFullScreen() == false);\n        }\n        System.out.println(&quot;Full Screen...: &quot; + stage.isFullScreen());\n        System.out.println(&quot;Stage.........: &quot; + stage.getWidth() + &quot;*&quot; + stage.getHeight());\n\n        System.out.println(&quot;Screen Visual.: &quot; + Screen.getPrimary().getVisualBounds());\n        System.out.println(&quot;Screen Bounds.: &quot; + Screen.getPrimary().getBounds());\n    }\n    public static void main(final String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n<p>And here's the revised App output:</p>\n<pre><code>Full Screen...: true\nStage.........: 2560.0*1440.0\nScreen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\nScreen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\nFull Screen...: false\nStage.........: 316.0*289.0\nScreen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\nScreen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\nFull Screen...: false\nStage.........: 2576.0*1416.0\nScreen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\nScreen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\n</code></pre>\n<p>And here's a Swing Proggy to highlight the problem:</p>\n<pre><code>package screensize.oracle18;\n\nimport static java.awt.Frame.ICONIFIED;\nimport static java.awt.Frame.MAXIMIZED_BOTH;\nimport static java.awt.Frame.MAXIMIZED_HORIZ;\nimport static java.awt.Frame.MAXIMIZED_VERT;\n\nimport java.awt.*;\nimport javax.swing.*;\n\npublic final class SwingJFrameScreensize {\n\n    public static void main(final String[] args) {\n\n        printScreenSize();\n\n        final var frame = new JFrame(&quot;Screensize JFrame&quot;);\n\n        setFullScreen(frame, false); // TODO &lt;- fullScreen=true/false\n\n        /**/      frame.setVisible(true);\n        /**/      frame.addWindowStateListener(e -&gt; {\n            final var state = frame.getExtendedState() &amp; (MAXIMIZED_BOTH | ICONIFIED);\n            switch   (state) {\n                case MAXIMIZED_BOTH  -&gt; {System.out.println(&quot;Maximized...: &quot; + frame.getSize());}\n                case MAXIMIZED_HORIZ -&gt; {System.out.println(&quot;Maximized H.: &quot; + frame.getSize());}\n                case MAXIMIZED_VERT  -&gt; {System.out.println(&quot;Maximized V.: &quot; + frame.getSize());}\n                case ICONIFIED       -&gt; {System.out.println(&quot;Iconified...: &quot; + frame.getSize());}\n                default              -&gt; {System.out.println(&quot;Normal......: &quot; + frame.getSize());}\n            }\n        });\n    }\n    private static void printScreenSize() {\n\n        final var screen = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\n\n        for(final var config       : screen.getConfigurations()) {\n            final var bounds       = config.getBounds();\n            final var insets       = Toolkit.getDefaultToolkit().getScreenInsets(config);\n\n            final var visualX      = bounds.x      + insets.left;\n            final var visualWidth  = bounds.width  - insets.left - insets.right;\n            final var visualY      = bounds.y      + insets.top;\n            final var visualHeight = bounds.height - insets.top  - insets.bottom;\n\n            System.out.println(&quot;Screen......: &quot; + bounds);\n            System.out.println(&quot;User Area...: &quot; + new Rectangle(visualX, visualY, visualWidth, visualHeight));\n        }\n    }\n    private static void setFullScreen(final JFrame frame, final boolean fullScreen) {\n\n        final var button = new JButton(&quot;Print Screen Size&quot;);\n\n        button.addActionListener(e -&gt; {\n            System.out.println(&quot;Full Screen.: &quot; + frame.getSize());\n        });\n\n        if (fullScreen) {\n            frame.add(button);\n            frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n            frame.setUndecorated(true);\n        } else {\n            frame.setSize(300, 100);\n        }\n    }\n}\n</code></pre>\n<p>Here's the old code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.*;\nimport javafx.scene.control.Button;\nimport javafx.stage.*;\n\npublic class MaximizeBoundsCheck extends Application {\n\n    public static void main(final String[] args) {\n        Application.launch(args);\n    }\n\n    @Override\n    public void start(final Stage stage) {\n\n        final Button btn = new Button(&quot;Button&quot;);\n        ;            btn.setOnAction(e -&gt; {\n            System    .out.println(&quot;Stage.........: &quot; + stage.getWidth() + &quot;*&quot; + stage.getHeight());\n\n            for (final var screen : Screen.getScreens()) {\n                System.out.println(&quot;Screen Visual.: &quot; + screen.getVisualBounds());\n                System.out.println(&quot;Screen Bounds.: &quot; + screen.getBounds());\n            }\n        });\n\n        final Group  root = new Group();\n        ;            root.getChildren().add(btn);\n\n        stage.setScene(new Scene(root, 300, 250));\n        stage.show();\n    }\n}\n</code></pre>\n<p>And here's the output on a Laptop with 2 Screens:</p>\n<pre><code>Stage.........: 2576.0*1416.0\nScreen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\nScreen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\nScreen Visual.: Rectangle2D [minX = -1920.0, minY=372.0, maxX=0.0, maxY=1412.0, width=1920.0, height=1040.0]\nScreen Bounds.: Rectangle2D [minX = -1920.0, minY=372.0, maxX=0.0, maxY=1452.0, width=1920.0, height=1080.0]\nStage.........: 1936.0*1056.0\nScreen Visual.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1400.0, width=2560.0, height=1400.0]\nScreen Bounds.: Rectangle2D [minX = 0.0, minY=0.0, maxX=2560.0, maxY=1440.0, width=2560.0, height=1440.0]\nScreen Visual.: Rectangle2D [minX = -1920.0, minY=372.0, maxX=0.0, maxY=1412.0, width=1920.0, height=1040.0]\nScreen Bounds.: Rectangle2D [minX = -1920.0, minY=372.0, maxX=0.0, maxY=1452.0, width=1920.0, height=1080.0]\n</code></pre>\n"},{"tags":["java","treeset"],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650517666,"creation_date":1650517666,"answer_id":71949198,"question_id":71948823,"body_markdown":"That object must either implement [Comparable](https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html)\r\n    \r\n    class MyObject implements Comparable&lt;MyObject&gt;\r\n    {\r\n      int value;\r\n    \r\n      MyObject(int value)\r\n      {\r\n        this.value=value;\r\n      }\r\n    \r\n      //Sorting order controlled here\r\n      @Override\r\n      public int compareTo(MyObject m)\r\n      {\r\n        return Integer.compare(this.value,m.value);\r\n      }\r\n    }\r\n    \r\n    TreeSet&lt;MyObject&gt; set=new TreeSet();\r\n    //add stuff here\r\n\r\nOr you supply your own [Comparator](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html). Use lambda expressions with java 7 and above \r\n\r\n    TreeSet&lt;MyObject&gt; set=new TreeSet((obj1,obj2)-&gt;Integer.compare(obj1.value,obj2.value));\r\n\r\nComparator takes precedence over Comparable and your object dosen&#39;t need to implement Comparable which is useful for 3rd party libraries which don&#39;t implement the interface","title":"TreeSet Sorting Order Confusion","body":"<p>That object must either implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a></p>\n<pre><code>class MyObject implements Comparable&lt;MyObject&gt;\n{\n  int value;\n\n  MyObject(int value)\n  {\n    this.value=value;\n  }\n\n  //Sorting order controlled here\n  @Override\n  public int compareTo(MyObject m)\n  {\n    return Integer.compare(this.value,m.value);\n  }\n}\n\nTreeSet&lt;MyObject&gt; set=new TreeSet();\n//add stuff here\n</code></pre>\n<p>Or you supply your own <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>. Use lambda expressions with java 7 and above</p>\n<pre><code>TreeSet&lt;MyObject&gt; set=new TreeSet((obj1,obj2)-&gt;Integer.compare(obj1.value,obj2.value));\n</code></pre>\n<p>Comparator takes precedence over Comparable and your object dosen't need to implement Comparable which is useful for 3rd party libraries which don't implement the interface</p>\n"}],"owner":{"account_id":25000463,"reputation":7,"user_id":18860925,"display_name":"zzzzzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651071614,"creation_date":1650513905,"question_id":71948823,"body_markdown":"I know that TreeSet in Java sort its elements in ascending order. For integer it would be 1, 2, 3, 4, 5, for String it would be alphabetical. However, what if I want to input objects in that TreeSet, how it is going to be sorted by default? ","title":"TreeSet Sorting Order Confusion","body":"<p>I know that TreeSet in Java sort its elements in ascending order. For integer it would be 1, 2, 3, 4, 5, for String it would be alphabetical. However, what if I want to input objects in that TreeSet, how it is going to be sorted by default?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8597,"page":1395,"page_size":100}
