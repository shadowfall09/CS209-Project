{"items":[{"tags":["java","android","android-studio","mobile-development"],"answers":[{"comments":[{"owner":{"account_id":16990065,"reputation":31,"user_id":12289859,"display_name":"bilykralik16"},"score":0,"creation_date":1699268251,"post_id":77428863,"comment_id":136505805,"body_markdown":"I have already updated compileSdk and targetSdk version to 34 as I wrote. For sure I once again checked the AndroidManifest and everything seems fine. However problem is still present.","body":"I have already updated compileSdk and targetSdk version to 34 as I wrote. For sure I once again checked the AndroidManifest and everything seems fine. However problem is still present."}],"tags":[],"owner":{"account_id":29141309,"reputation":16,"user_id":22324209,"display_name":"Sanjay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699539833,"creation_date":1699247453,"answer_id":77428863,"question_id":77427527,"body_markdown":"You have to update your **compile/targetSDK** version to **34**.\r\nCheck whether your **activity/package** name is correct, and declared in `AndroidManifest` too. If `splashScreen` requires any permission, ask for them in `manifest.xml`.","title":"Error while executing in Android Studio Giraffe","body":"<p>You have to update your <strong>compile/targetSDK</strong> version to <strong>34</strong>.\nCheck whether your <strong>activity/package</strong> name is correct, and declared in <code>AndroidManifest</code> too. If <code>splashScreen</code> requires any permission, ask for them in <code>manifest.xml</code>.</p>\n"}],"owner":{"account_id":16990065,"reputation":31,"user_id":12289859,"display_name":"bilykralik16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699539833,"creation_date":1699215642,"question_id":77427527,"body_markdown":"I just ran Android Studio Giraffe version 2022.3.1 Patch 2, created a new project called *TestApp* wtih *Empty Views Activity* and just wanted to run the app in virtual device. I came into an issue with `compileSdk` and `targetSdk` - they needed to be updated from `33` to `34`. No changes in `MainActivity.java`, `activity_main.xml` or `AndroidManifest.xml` were made. However then when I wanted to run the app again, the following issue appeared in red popup:\r\n\r\n    Error running &#39;app&#39;:\r\n    Error while executing &#39;am start -n &quot;com.example.testapp/com.example.testapp.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER --splashscreen-show-icon&#39;\r\n\r\nHow do I resolve that please?","title":"Error while executing in Android Studio Giraffe","body":"<p>I just ran Android Studio Giraffe version 2022.3.1 Patch 2, created a new project called <em>TestApp</em> wtih <em>Empty Views Activity</em> and just wanted to run the app in virtual device. I came into an issue with <code>compileSdk</code> and <code>targetSdk</code> - they needed to be updated from <code>33</code> to <code>34</code>. No changes in <code>MainActivity.java</code>, <code>activity_main.xml</code> or <code>AndroidManifest.xml</code> were made. However then when I wanted to run the app again, the following issue appeared in red popup:</p>\n<pre><code>Error running 'app':\nError while executing 'am start -n &quot;com.example.testapp/com.example.testapp.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER --splashscreen-show-icon'\n</code></pre>\n<p>How do I resolve that please?</p>\n"},{"tags":["java","selenium-webdriver","download","selenium-chromedriver","software-update"],"answers":[{"tags":[],"owner":{"account_id":8533404,"reputation":46,"user_id":6396150,"display_name":"NhanTT"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694587015,"creation_date":1694587015,"answer_id":77094578,"question_id":77093248,"body_markdown":"I just remove --incognito\r\nIt working","title":"ChromeDriver Version 117+ Forces &quot;Save As&quot; Dialog - How to Bypass? (Selenium/Java)","body":"<p>I just remove --incognito\nIt working</p>\n"},{"tags":[],"owner":{"account_id":4185334,"reputation":45,"user_id":3429224,"accept_rate":50,"display_name":"TechnoWolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695236007,"creation_date":1695236007,"answer_id":77145247,"question_id":77093248,"body_markdown":"Solution:\r\nIf you&#39;re like me, you need to launch chrome in incognito. In my case it&#39;s to force a different login, so simply removing --incognito is not an option.\r\n\r\n**As of Chrome 117**, all downloads in incognito mode will force the Save As dialog box regardless of the Chrome Prefs you set.\r\n\r\n**(Python Solution - but you should be able to translate to Java easily enough)**\r\n\r\nTo fix this, we need to set two flags. you can do so by shoving the following code in right under your chromeOptions.add_argument(&#39;--incognito&#39;):\r\n\r\n    chromeLocalStatePrefs = {&#39;browser.enabled_labs_experiments&#39;: [&#39;download-bubble@2&#39;, &#39;download-bubble-v2@2&#39;]}\r\n    chromeOptions.add_experimental_option(&#39;localState&#39;, chromeLocalStatePrefs)\r\n\r\n(be sure &quot;chromeOptions&quot; matches whatever your Chrome options variable is: chromeOptions = webdriver.ChromeOptions(). chrome_options is commonly used, for example.)","title":"ChromeDriver Version 117+ Forces &quot;Save As&quot; Dialog - How to Bypass? (Selenium/Java)","body":"<p>Solution:\nIf you're like me, you need to launch chrome in incognito. In my case it's to force a different login, so simply removing --incognito is not an option.</p>\n<p><strong>As of Chrome 117</strong>, all downloads in incognito mode will force the Save As dialog box regardless of the Chrome Prefs you set.</p>\n<p><strong>(Python Solution - but you should be able to translate to Java easily enough)</strong></p>\n<p>To fix this, we need to set two flags. you can do so by shoving the following code in right under your chromeOptions.add_argument('--incognito'):</p>\n<pre><code>chromeLocalStatePrefs = {'browser.enabled_labs_experiments': ['download-bubble@2', 'download-bubble-v2@2']}\nchromeOptions.add_experimental_option('localState', chromeLocalStatePrefs)\n</code></pre>\n<p>(be sure &quot;chromeOptions&quot; matches whatever your Chrome options variable is: chromeOptions = webdriver.ChromeOptions(). chrome_options is commonly used, for example.)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695781266,"post_id":77171347,"comment_id":136069009,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77171347/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29437628,"reputation":1,"user_id":22556184,"display_name":"Karthik Rajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697170410,"creation_date":1695633346,"answer_id":77171347,"question_id":77093248,"body_markdown":"To execute in incognito mode, add the below lines along with your code(Java). \r\n\r\n\t\t\t\tList&lt;String&gt; enabledLabsExperiments = new ArrayList&lt;&gt;();\r\n\t\t        enabledLabsExperiments.add(&quot;download-bubble@2&quot;);\r\n\t\t        enabledLabsExperiments.add(&quot;download-bubble-v2@2&quot;);\r\n\t\t        chromePrefs.put(&quot;browser.enabled_labs_experiments&quot;, enabledLabsExperiments);\r\n\t\t        options.setExperimentalOption(&quot;localState&quot;, chromePrefs);","title":"ChromeDriver Version 117+ Forces &quot;Save As&quot; Dialog - How to Bypass? (Selenium/Java)","body":"<p>To execute in incognito mode, add the below lines along with your code(Java).</p>\n<pre><code>            List&lt;String&gt; enabledLabsExperiments = new ArrayList&lt;&gt;();\n            enabledLabsExperiments.add(&quot;download-bubble@2&quot;);\n            enabledLabsExperiments.add(&quot;download-bubble-v2@2&quot;);\n            chromePrefs.put(&quot;browser.enabled_labs_experiments&quot;, enabledLabsExperiments);\n            options.setExperimentalOption(&quot;localState&quot;, chromePrefs);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696840356,"post_id":77241152,"comment_id":136199509,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77241152/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29608552,"reputation":1,"user_id":22692366,"display_name":"Andy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696549500,"creation_date":1696549500,"answer_id":77241152,"question_id":77093248,"body_markdown":"Here is how I got it working in python for the poor souls who wander in later\r\n\r\n    options = ChromeOptions()\r\n    options.add_argument(&#39;incognito&#39;)\r\n    options.add_argument(&#39;disable-features=DownloadBubble,DownloadBubbleV2&#39;)\r\n","title":"ChromeDriver Version 117+ Forces &quot;Save As&quot; Dialog - How to Bypass? (Selenium/Java)","body":"<p>Here is how I got it working in python for the poor souls who wander in later</p>\n<pre><code>options = ChromeOptions()\noptions.add_argument('incognito')\noptions.add_argument('disable-features=DownloadBubble,DownloadBubbleV2')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2291085,"reputation":714,"user_id":2013887,"display_name":"Brilliant-DucN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696691483,"creation_date":1696691483,"answer_id":77250349,"question_id":77093248,"body_markdown":"For people using **Serenity-BDD**, let add the below option to your *serenity.conf*\r\n\r\n    &quot;goog:chromeOptions&quot; {\r\n      ...\r\n      ...\r\n      // Fix: Chrome 117 forces &quot;Save As&quot; dialog to appear\r\n      localState = {&quot;browser.enabled_labs_experiments&quot;: [&quot;download-bubble@2&quot;, &quot;download-bubble-v2@2&quot;]},\r\n    }","title":"ChromeDriver Version 117+ Forces &quot;Save As&quot; Dialog - How to Bypass? (Selenium/Java)","body":"<p>For people using <strong>Serenity-BDD</strong>, let add the below option to your <em>serenity.conf</em></p>\n<pre><code>&quot;goog:chromeOptions&quot; {\n  ...\n  ...\n  // Fix: Chrome 117 forces &quot;Save As&quot; dialog to appear\n  localState = {&quot;browser.enabled_labs_experiments&quot;: [&quot;download-bubble@2&quot;, &quot;download-bubble-v2@2&quot;]},\n}\n</code></pre>\n"}],"owner":{"account_id":18478213,"reputation":63,"user_id":13461167,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2066,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77094578,"answer_count":5,"score":5,"last_activity_date":1699539828,"creation_date":1694562148,"question_id":77093248,"body_markdown":"I have been working on automating file downloads using Selenium WebDriver with ChromeDriver in Java. My code was working perfectly until I updated to ChromeDriver version 117+, the code worked fine till Chrome 116.0.5845.141, problem seems to start in Chrome 116.0.5845.188. Now, it seems that the browser is forcing the &quot;Save As&quot; dialog box to appear, even when I have set Chrome preferences to avoid it.\r\n\r\nHere is a snippet of my Java code:\r\n```\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class FileDownloadHeadless {\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver.exe&quot;);\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setCapability(&quot;os&quot;, &quot;Windows&quot;);\r\n\t\toptions.setCapability(&quot;os_version&quot;, &quot;10&quot;);\r\n\t\toptions.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\r\n\t\toptions.setCapability(CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true);\r\n\t\toptions.setCapability(&quot;chrome.switches&quot;, Arrays.asList(&quot;--incognito&quot;));\r\n\t\toptions.setCapability(ChromeOptions.CAPABILITY, options);\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n\r\n        HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;&gt;();\r\n        chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n        chromePrefs.put(&quot;download.default_directory&quot;, &quot;C:\\\\local_files&quot;);\r\n        chromePrefs.put(&quot;download.prompt_for_download&quot;, false);\r\n        chromePrefs.put(&quot;profile.content_settings.exceptions.automatic_downloads.*.setting&quot;, 1);\r\n        chromePrefs.put(&quot;profile.default_content_setting_values.automatic_downloads&quot;, 1);\r\n        options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n\r\n        WebDriver driver = new ChromeDriver(options);\r\n\r\n        driver.get(&quot;http://my_site.com/download&quot;);\r\n\r\n        driver.findElement(By.id(&quot;id_button_download&quot;)).click();\r\n\r\n        Thread.sleep(5000);\r\n\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nDespite these settings, the &quot;Save As&quot; dialog box still appears, and it&#39;s disrupting the automation flow. I&#39;ve tried various combinations of Chrome preferences, but none seem to bypass the new behavior introduced in version 117.\r\n\r\nHas anyone else encountered this issue with ChromeDriver version 117+ or higher? If so, how have you managed to work around this update? Any insights would be greatly appreciated.\r\n\r\nRemoving the &quot;--incognito&quot; mode as suggested by @NhanTT, did work! but I wonder why and how the mode actually affects file download options. If anyone has another solution that works around the problem while maintaining incognito mode, I would appreciate it.\r\n\r\nThank you for your time and assistance.","title":"ChromeDriver Version 117+ Forces &quot;Save As&quot; Dialog - How to Bypass? (Selenium/Java)","body":"<p>I have been working on automating file downloads using Selenium WebDriver with ChromeDriver in Java. My code was working perfectly until I updated to ChromeDriver version 117+, the code worked fine till Chrome 116.0.5845.141, problem seems to start in Chrome 116.0.5845.188. Now, it seems that the browser is forcing the &quot;Save As&quot; dialog box to appear, even when I have set Chrome preferences to avoid it.</p>\n<p>Here is a snippet of my Java code:</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nimport java.util.HashMap;\n\npublic class FileDownloadHeadless {\n    public static void main(String[] args) throws InterruptedException {\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver.exe&quot;);\n\n        ChromeOptions options = new ChromeOptions();\n        options.setCapability(&quot;os&quot;, &quot;Windows&quot;);\n        options.setCapability(&quot;os_version&quot;, &quot;10&quot;);\n        options.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\n        options.setCapability(CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true);\n        options.setCapability(&quot;chrome.switches&quot;, Arrays.asList(&quot;--incognito&quot;));\n        options.setCapability(ChromeOptions.CAPABILITY, options);\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n\n        HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;&gt;();\n        chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n        chromePrefs.put(&quot;download.default_directory&quot;, &quot;C:\\\\local_files&quot;);\n        chromePrefs.put(&quot;download.prompt_for_download&quot;, false);\n        chromePrefs.put(&quot;profile.content_settings.exceptions.automatic_downloads.*.setting&quot;, 1);\n        chromePrefs.put(&quot;profile.default_content_setting_values.automatic_downloads&quot;, 1);\n        options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n\n        WebDriver driver = new ChromeDriver(options);\n\n        driver.get(&quot;http://my_site.com/download&quot;);\n\n        driver.findElement(By.id(&quot;id_button_download&quot;)).click();\n\n        Thread.sleep(5000);\n\n        driver.quit();\n    }\n}\n</code></pre>\n<p>Despite these settings, the &quot;Save As&quot; dialog box still appears, and it's disrupting the automation flow. I've tried various combinations of Chrome preferences, but none seem to bypass the new behavior introduced in version 117.</p>\n<p>Has anyone else encountered this issue with ChromeDriver version 117+ or higher? If so, how have you managed to work around this update? Any insights would be greatly appreciated.</p>\n<p>Removing the &quot;--incognito&quot; mode as suggested by @NhanTT, did work! but I wonder why and how the mode actually affects file download options. If anyone has another solution that works around the problem while maintaining incognito mode, I would appreciate it.</p>\n<p>Thank you for your time and assistance.</p>\n"},{"tags":["java","android","android-studio","border"],"owner":{"account_id":22894290,"reputation":56,"user_id":17034019,"display_name":"vraj kalathiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699539484,"creation_date":1698411940,"question_id":77374385,"body_markdown":"I have a `Bitmap[] bitmapList;`. In this bitmapList I store some images selected from gallery, and then I draw a border programmatically using this code:\r\n\r\n\r\n    private void setBitmaps() {\r\n\r\n        for (int i = 0; i &lt; Utils.bitmapListtt.length; i++) {\r\n            try {\r\n                Bitmap bitmap = Utils.bitmapListtt[i];\r\n                int width = bitmap.getWidth();\r\n                int height = bitmap.getHeight();\r\n                Bitmap resultBitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n                Canvas canvas = new Canvas(resultBitmap);\r\n                canvas.drawBitmap(bitmap, 0, 0, null);\r\n                Paint borderPaint = new Paint();\r\n                borderPaint.setColor(Utils.colors);\r\n                borderPaint.setStyle(Paint.Style.STROKE);\r\n                borderPaint.setStrokeWidth(Utils.progress);\r\n                canvas.drawRect(0, 0, width, height, borderPaint);\r\n                bitmapList[i] = resultBitmap;\r\n            } catch (Exception e) {\r\n                Toast.makeText(ScrapCreateCollageActivity.this, &quot;Loading...&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThat code draws a border, but I want to set a drop shadow behind the `bitmapList`, can you provide me with a solution?","title":"How to set drop shadow behind bitmap arraylist?","body":"<p>I have a <code>Bitmap[] bitmapList;</code>. In this bitmapList I store some images selected from gallery, and then I draw a border programmatically using this code:</p>\n<pre><code>private void setBitmaps() {\n\n    for (int i = 0; i &lt; Utils.bitmapListtt.length; i++) {\n        try {\n            Bitmap bitmap = Utils.bitmapListtt[i];\n            int width = bitmap.getWidth();\n            int height = bitmap.getHeight();\n            Bitmap resultBitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n            Canvas canvas = new Canvas(resultBitmap);\n            canvas.drawBitmap(bitmap, 0, 0, null);\n            Paint borderPaint = new Paint();\n            borderPaint.setColor(Utils.colors);\n            borderPaint.setStyle(Paint.Style.STROKE);\n            borderPaint.setStrokeWidth(Utils.progress);\n            canvas.drawRect(0, 0, width, height, borderPaint);\n            bitmapList[i] = resultBitmap;\n        } catch (Exception e) {\n            Toast.makeText(ScrapCreateCollageActivity.this, &quot;Loading...&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>That code draws a border, but I want to set a drop shadow behind the <code>bitmapList</code>, can you provide me with a solution?</p>\n"},{"tags":["java","multithreading","drools","kie"],"comments":[{"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1612198298,"post_id":65995441,"comment_id":116685824,"body_markdown":"In order to properly investigate, you&#39;ll need to provide your full rule set, your _actual_ input objects and classes, how you&#39;re invoking the rules, and how you&#39;ve got your stuff configured. It&#39;s highly unlikely to be anything related to threads unless you&#39;ve not following best practices.","body":"In order to properly investigate, you&#39;ll need to provide your full rule set, your <i>actual</i> input objects and classes, how you&#39;re invoking the rules, and how you&#39;ve got your stuff configured. It&#39;s highly unlikely to be anything related to threads unless you&#39;ve not following best practices."},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1612370089,"post_id":65995441,"comment_id":116747395,"body_markdown":"Thank you for feedback @Roddy, I got helpful pointers already.","body":"Thank you for feedback @Roddy, I got helpful pointers already."}],"answers":[{"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1612370017,"post_id":65998850,"comment_id":116747358,"body_markdown":"Hey @Mike, thank you very much for neat approach to troubleshoot my issue. I have already confirmed 1 we don&#39;t swallow any exemptions. 2 is not valid for mu rule. But I strongly suspect 3 might be cause. I will dig more and update.","body":"Hey @Mike, thank you very much for neat approach to troubleshoot my issue. I have already confirmed 1 we don&#39;t swallow any exemptions. 2 is not valid for mu rule. But I strongly suspect 3 might be cause. I will dig more and update."}],"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1612267130,"creation_date":1612207274,"answer_id":65998850,"question_id":65995441,"body_markdown":"Things I would check.\r\n\r\n1. Unlike `execute(Runnable command)`, `submit(Callable&lt;T&gt; task)` will catch any throwable and set it into inner field. You must not forget to do `Future#get()` to reveal any exception happened in the background otherwise nobody will ever notice the error which interrupted your `Callable`. Or you can use `execute` and exception will kill the thread and appear in system error log.\r\n\r\n2. You refer to &#39;random behavior&#39; and the only randomness came into my mind is that drools does not manifest predicted ordering for then blocks execution of the rules with the same salience. Could it be the case that you have dependencies between the rules and one rule creates condition that causes another rule not to start? And because of random nature of drools then blocks execution it happens rarely.\r\n\r\n3. Of course, you are responsible to make your classes thread safe and data to be accessed in thread safe manner. By default the same thread which `fireAllRules()` will execute `then` blocks. But if you create multiple threads you must think about thread safeness of your beans and data, (usually) not about drools itself. I see by default city is London, and it is not always getting updated by (parallel?) thread. You have it volatile, don&#39;t you?\r\n\r\n4. Write a test. You can&#39;t fix something you can&#39;t reproduce. Even intermittent issues can be reproduced by [load or stress testing](https://dzone.com/articles/performance-testing-vs-stress-testing-vs-load-test).","title":"One drools rule not executed Intermittently","body":"<p>Things I would check.</p>\n<ol>\n<li><p>Unlike <code>execute(Runnable command)</code>, <code>submit(Callable&lt;T&gt; task)</code> will catch any throwable and set it into inner field. You must not forget to do <code>Future#get()</code> to reveal any exception happened in the background otherwise nobody will ever notice the error which interrupted your <code>Callable</code>. Or you can use <code>execute</code> and exception will kill the thread and appear in system error log.</p>\n</li>\n<li><p>You refer to 'random behavior' and the only randomness came into my mind is that drools does not manifest predicted ordering for then blocks execution of the rules with the same salience. Could it be the case that you have dependencies between the rules and one rule creates condition that causes another rule not to start? And because of random nature of drools then blocks execution it happens rarely.</p>\n</li>\n<li><p>Of course, you are responsible to make your classes thread safe and data to be accessed in thread safe manner. By default the same thread which <code>fireAllRules()</code> will execute <code>then</code> blocks. But if you create multiple threads you must think about thread safeness of your beans and data, (usually) not about drools itself. I see by default city is London, and it is not always getting updated by (parallel?) thread. You have it volatile, don't you?</p>\n</li>\n<li><p>Write a test. You can't fix something you can't reproduce. Even intermittent issues can be reproduced by <a href=\"https://dzone.com/articles/performance-testing-vs-stress-testing-vs-load-test\" rel=\"nofollow noreferrer\">load or stress testing</a>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3028611,"reputation":11,"user_id":2568080,"display_name":"Guna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699539267,"creation_date":1699123174,"answer_id":77423377,"question_id":65995441,"body_markdown":"**Point 3: Multithread using same kiesession**\r\n\r\n \r\n\r\nWe end up into same issue as similar to above, Its how you create kiesession matters. My recommendation to above problem statement is: \r\n\r\n1. Create `KieContainer` globally (one time or if any rules updated at runtime):\r\n```    \r\nprotected void createKieContainer() {\r\n    KieModule kiemodule = getKieModule();\r\n    kiecontainer =kieservices.newKieContainer(kiemodule.getReleaseId());\r\n}\r\n```\r\n\r\n2. Create `Kiesession` from `kiecontainer`, use and destroy it.\r\n```\r\nKieSession kiesession = kiecontainer.newKieSession();    \r\n//Injecting Bean into the Drools Session\r\nDroolsBeanFactory droolsBeanFactory = new DroolsBeanFactory(applicationContext);\r\n\r\ntry {\r\n    kiesession.setGlobal(&quot;beanFactory&quot;, droolsBeanFactory);\r\n}\r\ncatch (Exception e){\r\n    e.printStackTrace();\r\n}\r\n\r\nFactHandle factHandle = kiesession.insert(entityContext);\r\nkiesession.getAgenda().getAgendaGroup(agendaName).setFocus();\r\nkiesession.delete(factHandle);\r\nkiesession.dispose();\r\n```\r\n\r\nDo not forget to `dispose` the `kiesession`.","title":"One drools rule not executed Intermittently","body":"<p><strong>Point 3: Multithread using same kiesession</strong></p>\n<p>We end up into same issue as similar to above, Its how you create kiesession matters. My recommendation to above problem statement is:</p>\n<ol>\n<li>Create <code>KieContainer</code> globally (one time or if any rules updated at runtime):</li>\n</ol>\n<pre><code>protected void createKieContainer() {\n    KieModule kiemodule = getKieModule();\n    kiecontainer =kieservices.newKieContainer(kiemodule.getReleaseId());\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create <code>Kiesession</code> from <code>kiecontainer</code>, use and destroy it.</li>\n</ol>\n<pre><code>KieSession kiesession = kiecontainer.newKieSession();    \n//Injecting Bean into the Drools Session\nDroolsBeanFactory droolsBeanFactory = new DroolsBeanFactory(applicationContext);\n\ntry {\n    kiesession.setGlobal(&quot;beanFactory&quot;, droolsBeanFactory);\n}\ncatch (Exception e){\n    e.printStackTrace();\n}\n\nFactHandle factHandle = kiesession.insert(entityContext);\nkiesession.getAgenda().getAgendaGroup(agendaName).setFocus();\nkiesession.delete(factHandle);\nkiesession.dispose();\n</code></pre>\n<p>Do not forget to <code>dispose</code> the <code>kiesession</code>.</p>\n"}],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65998850,"answer_count":2,"score":0,"last_activity_date":1699539267,"creation_date":1612193411,"question_id":65995441,"body_markdown":"I have a set of drool rules in the file expected to fire on multiple fields of Java object.\r\nOne particular rule is not fired on production randomly.\r\nI tried to reproduce with simulating prod load but it&#39;s not reproducible.\r\n\r\n**Scenario:**&lt;br&gt;\r\n```Default valube city = London```&lt;br&gt;\r\n\r\n***Rule:*** &lt;br&gt;\r\n```If Name = John``` &lt;br&gt;\r\n```then set City = Sydney``` \r\n\r\n**Issue:** &lt;br&gt;\r\n```Name = John``` &lt;br&gt;\r\n```City = London``` *//expected Sydney if rule execute properly based on drl file*\r\n\r\n**Implementation:**&lt;br&gt;\r\nI am using *ExecuterService* with *FixedThreadPool* of size 2.&lt;br&gt;\r\nInside ```call()``` of Callable which is passed to ExecuterService ```submit()```,\r\nI am creating a ```ConcurrentLinkedQueue``` of *KieSession* with size 3.\r\nThe rule file is passed here to the KieSession constructor.\r\n\r\n**My Analysis:** &lt;br&gt;\r\nI assume that this issue has something to do with multithreading and synchronization.\r\nAs the KieSession object is shared between threads, can that cause such an issue?\r\n&lt;br&gt;\r\nOr is there any known issue with Drool rules which maybe I am unaware of?\r\n&lt;br&gt;\r\nIf anyone has any leads please let me know.\r\n&lt;br&gt;Thanks in advance","title":"One drools rule not executed Intermittently","body":"<p>I have a set of drool rules in the file expected to fire on multiple fields of Java object.\nOne particular rule is not fired on production randomly.\nI tried to reproduce with simulating prod load but it's not reproducible.</p>\n<p><strong>Scenario:</strong><br>\n<code>Default valube city = London</code><br></p>\n<p><em><strong>Rule:</strong></em> <br>\n<code>If Name = John</code> <br>\n<code>then set City = Sydney</code></p>\n<p><strong>Issue:</strong> <br>\n<code>Name = John</code> <br>\n<code>City = London</code> <em>//expected Sydney if rule execute properly based on drl file</em></p>\n<p><strong>Implementation:</strong><br>\nI am using <em>ExecuterService</em> with <em>FixedThreadPool</em> of size 2.<br>\nInside <code>call()</code> of Callable which is passed to ExecuterService <code>submit()</code>,\nI am creating a <code>ConcurrentLinkedQueue</code> of <em>KieSession</em> with size 3.\nThe rule file is passed here to the KieSession constructor.</p>\n<p><strong>My Analysis:</strong> <br>\nI assume that this issue has something to do with multithreading and synchronization.\nAs the KieSession object is shared between threads, can that cause such an issue?\n<br>\nOr is there any known issue with Drool rules which maybe I am unaware of?\n<br>\nIf anyone has any leads please let me know.\n<br>Thanks in advance</p>\n"},{"tags":["java","json","redis","redisinsights"],"comments":[{"owner":{"account_id":57094,"reputation":20034,"user_id":171006,"accept_rate":65,"display_name":"Lior Kogan"},"score":0,"creation_date":1699364686,"post_id":77437617,"comment_id":136520293,"body_markdown":"Can you please explain what&#39;s not working with JSON.MSET?","body":"Can you please explain what&#39;s not working with JSON.MSET?"}],"answers":[{"tags":[],"owner":{"account_id":57094,"reputation":20034,"user_id":171006,"accept_rate":65,"display_name":"Lior Kogan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699364751,"creation_date":1699364425,"answer_id":77438698,"question_id":77437617,"body_markdown":"Yes, you can do that:\r\n\r\n    redis&gt; JSON.SET x $ &#39;[{&quot;code&quot;:&quot;abc&quot;, &quot;val1&quot;:1, &quot;val2&quot;:2}, {&quot;code&quot;:&quot;def&quot;, &quot;val1&quot;:5, &quot;val2&quot;:6}]&#39;\r\n\r\nLet&#39;s start with retrieving the values of two elements:\r\n\r\n    redis&gt; JSON.GET x &#39;$[?(@.code==&quot;abc&quot;)][&quot;val1&quot;, &quot;val2&quot;]&#39;\r\n    &quot;[1,2]&quot;\r\n\r\nNow, let&#39;s change the values of these two elements:\r\n\r\n    redis&gt; JSON.MERGE x &#39;$[?(@.code==&quot;abc&quot;)]&#39; &#39;{&quot;val1&quot;:3, &quot;val2&quot;:4}&#39;\r\n    OK\r\n\r\nAnd retrieve the values of these two elements again:\r\n\r\n    redis&gt; JSON.GET x &#39;$[?(@.code==&quot;abc&quot;)][&quot;val1&quot;, &quot;val2&quot;]&#39;\r\n    &quot;[3,4]&quot;\r\n\r\nNote that [JSON.MERGE][1] is available since [Redis Stack][2] 7.2.\r\n\r\n  [1]: https://redis.io/commands/json.merge/\r\n  [2]: https://redis.io/docs/about/about-stack/\r\n","title":"How to update multiple values of json with where condition in redis?","body":"<p>Yes, you can do that:</p>\n<pre><code>redis&gt; JSON.SET x $ '[{&quot;code&quot;:&quot;abc&quot;, &quot;val1&quot;:1, &quot;val2&quot;:2}, {&quot;code&quot;:&quot;def&quot;, &quot;val1&quot;:5, &quot;val2&quot;:6}]'\n</code></pre>\n<p>Let's start with retrieving the values of two elements:</p>\n<pre><code>redis&gt; JSON.GET x '$[?(@.code==&quot;abc&quot;)][&quot;val1&quot;, &quot;val2&quot;]'\n&quot;[1,2]&quot;\n</code></pre>\n<p>Now, let's change the values of these two elements:</p>\n<pre><code>redis&gt; JSON.MERGE x '$[?(@.code==&quot;abc&quot;)]' '{&quot;val1&quot;:3, &quot;val2&quot;:4}'\nOK\n</code></pre>\n<p>And retrieve the values of these two elements again:</p>\n<pre><code>redis&gt; JSON.GET x '$[?(@.code==&quot;abc&quot;)][&quot;val1&quot;, &quot;val2&quot;]'\n&quot;[3,4]&quot;\n</code></pre>\n<p>Note that <a href=\"https://redis.io/commands/json.merge/\" rel=\"nofollow noreferrer\">JSON.MERGE</a> is available since <a href=\"https://redis.io/docs/about/about-stack/\" rel=\"nofollow noreferrer\">Redis Stack</a> 7.2.</p>\n"}],"owner":{"account_id":23148484,"reputation":21,"user_id":17250915,"display_name":"Rishab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699539203,"creation_date":1699354457,"question_id":77437617,"body_markdown":"I have a JSON stored in redis. I wanted to update two of its value using a where condition for same key.\r\nI am able to update for a single attribute, but how to update two attributes?\r\n\r\n```JSON.SET TDSS &quot;$.accounts[?(@.Code == &#39;abc&#39;)].feeAdj[0].feeAmount&quot; &quot;\\&quot;1000\\&quot;&quot;```\r\n\r\nThis is working fine for single value updates.\r\nHow can I update two values in JSON with condition of `Code == &#39;abc&#39;`?\r\n\r\n\r\nI tried `JSON.MSET`, it is not working properly.\r\n","title":"How to update multiple values of json with where condition in redis?","body":"<p>I have a JSON stored in redis. I wanted to update two of its value using a where condition for same key.\nI am able to update for a single attribute, but how to update two attributes?</p>\n<p><code>JSON.SET TDSS &quot;$.accounts[?(@.Code == 'abc')].feeAdj[0].feeAmount&quot; &quot;\\&quot;1000\\&quot;&quot;</code></p>\n<p>This is working fine for single value updates.\nHow can I update two values in JSON with condition of <code>Code == 'abc'</code>?</p>\n<p>I tried <code>JSON.MSET</code>, it is not working properly.</p>\n"},{"tags":["java","httpurlconnection"],"comments":[{"owner":{"account_id":557299,"reputation":323,"user_id":919681,"display_name":"electrodraco"},"score":0,"creation_date":1378508989,"post_id":18667796,"comment_id":27493386,"body_markdown":"What is &quot;kac&quot;? Certainly not an instance of HttpURLConnection, none of the method signatures you provided exists in any Java version.","body":"What is &quot;kac&quot;? Certainly not an instance of HttpURLConnection, none of the method signatures you provided exists in any Java version."},{"owner":{"account_id":1298898,"reputation":343,"user_id":1249212,"accept_rate":36,"display_name":"user1249212"},"score":0,"creation_date":1378510153,"post_id":18667796,"comment_id":27493631,"body_markdown":"My bad :c KeepAliveCache, i am not thinking straight right now.","body":"My bad :c KeepAliveCache, i am not thinking straight right now."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1699303898,"post_id":18668281,"comment_id":136512567,"body_markdown":"@user2004685 Don’t ‘correct’ my punctuation thanks. I know what I’m doing.","body":"@user2004685 Don’t ‘correct’ my punctuation thanks. I know what I’m doing."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699303848,"creation_date":1378512036,"answer_id":18668281,"question_id":18667796,"body_markdown":"`KeepAliveCache` is a `sun.*` class that shouldn&#39;t have been used in the first place, for exactly the reason you have encountered: it is an implementation-private class whose API is subject to change without notice. \r\n\r\nJust remove it and use what&#39;s provided in `java.net`. It does connection pooling and all that for you automatically. No need to peer under the hood. You&#39;ll improve code quality and probably fix bugs too.","title":"how to use KeepAliveCache get(url,object)","body":"<p><code>KeepAliveCache</code> is a <code>sun.*</code> class that shouldn't have been used in the first place, for exactly the reason you have encountered: it is an implementation-private class whose API is subject to change without notice.</p>\n<p>Just remove it and use what's provided in <code>java.net</code>. It does connection pooling and all that for you automatically. No need to peer under the hood. You'll improve code quality and probably fix bugs too.</p>\n"}],"owner":{"account_id":1298898,"reputation":343,"user_id":1249212,"accept_rate":36,"display_name":"user1249212"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":18668281,"answer_count":1,"score":2,"last_activity_date":1699538811,"creation_date":1378508278,"question_id":18667796,"body_markdown":"I have an old application that seems to be written in java 1.4 or 1.3. and I am migrating it to 1.7. The issue is that it is using `KeepAliveCache`&#39;s `get(URL)` method inthe old implementation, while the new signature is `get(URL, Object)`. \r\n\r\nCan someone explain me how to use this method? Can I do `get(URL, URL)`?","title":"how to use KeepAliveCache get(url,object)","body":"<p>I have an old application that seems to be written in java 1.4 or 1.3. and I am migrating it to 1.7. The issue is that it is using <code>KeepAliveCache</code>'s <code>get(URL)</code> method inthe old implementation, while the new signature is <code>get(URL, Object)</code>.</p>\n<p>Can someone explain me how to use this method? Can I do <code>get(URL, URL)</code>?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":23588996,"reputation":1,"user_id":17627064,"display_name":"YaKov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699538349,"creation_date":1699538349,"answer_id":77453776,"question_id":77452809,"body_markdown":"The class `MoneyService` must be annotated with @Service/@Component, otherwise Spring does not know whether it is a bean or not, and whether it needs to be placed in context. Alternatively, in the configuration class (annotated with @Configuration), you must declare the method:\r\n\r\n    @Bean\r\n    public MoneyService moneyService() {\r\n        return new MoneyService();\r\n    }","title":"Getting NoSuchBeanDefinitionException with component-scan xml tag","body":"<p>The class <code>MoneyService</code> must be annotated with @Service/@Component, otherwise Spring does not know whether it is a bean or not, and whether it needs to be placed in context. Alternatively, in the configuration class (annotated with @Configuration), you must declare the method:</p>\n<pre><code>@Bean\npublic MoneyService moneyService() {\n    return new MoneyService();\n}\n</code></pre>\n"}],"owner":{"account_id":17263576,"reputation":1,"user_id":21191986,"display_name":"Andryss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699538349,"creation_date":1699529481,"question_id":77452809,"body_markdown":"I am working at my university pet project using Spring and when I try to run my application, I get the following exception:\r\n\r\n```\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;moneyService&#39; is defined\r\n```\r\n\r\nThis is my moneyService bean:\r\n\r\n```java\r\npublic class MoneyService {\r\n    public void perform(Operation operation) {\r\n        …\r\n    }\r\n}\r\n```\r\n\r\nThis is how I get this service in my main class:\r\n\r\n```java\r\nApplicationContext context = new ClassPathXmlApplicationContext(&quot;config.xml&quot;);\r\nMoneyService service = (MoneyService) context.getBean(“moneyService”);\r\n```\r\n\r\nThis is my xml configuration file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n  &lt;context:component-scan base-package=&quot;com.example&quot;/&gt;\r\n&lt;/beans&gt;\r\n```\r\nMoneyService is located in the package `com.example.services`.\r\n\r\n\r\nIf I add `&lt;bean&gt;` tag in my xml file, it works fine. \r\nHowever, I know that Spring can handle my classes without directly defining them with the `&lt;bean&gt;` tag.\r\nAs far as I understand from the documentation `&lt;component-scan&gt;` tag should solve my issue. But it doesn’t. Did I miss something? ","title":"Getting NoSuchBeanDefinitionException with component-scan xml tag","body":"<p>I am working at my university pet project using Spring and when I try to run my application, I get the following exception:</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'moneyService' is defined\n</code></pre>\n<p>This is my moneyService bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MoneyService {\n    public void perform(Operation operation) {\n        …\n    }\n}\n</code></pre>\n<p>This is how I get this service in my main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApplicationContext context = new ClassPathXmlApplicationContext(&quot;config.xml&quot;);\nMoneyService service = (MoneyService) context.getBean(“moneyService”);\n</code></pre>\n<p>This is my xml configuration file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n  &lt;context:component-scan base-package=&quot;com.example&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>MoneyService is located in the package <code>com.example.services</code>.</p>\n<p>If I add <code>&lt;bean&gt;</code> tag in my xml file, it works fine.\nHowever, I know that Spring can handle my classes without directly defining them with the <code>&lt;bean&gt;</code> tag.\nAs far as I understand from the documentation <code>&lt;component-scan&gt;</code> tag should solve my issue. But it doesn’t. Did I miss something?</p>\n"},{"tags":["java","ios","swift","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1699540857,"post_id":77453763,"comment_id":136547223,"body_markdown":"This is presumably due to the different IV for encryption and decryption. In the Java code (encryption) the last byte is 0x00, while in the Swift code (decryption) the last byte is 0x0E. Fix: Use the same IV in both codes, i.e. for encryption and decryption.","body":"This is presumably due to the different IV for encryption and decryption. In the Java code (encryption) the last byte is 0x00, while in the Swift code (decryption) the last byte is 0x0E. Fix: Use the same IV in both codes, i.e. for encryption and decryption."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1699541867,"post_id":77453763,"comment_id":136547436,"body_markdown":"The incorrect last byte of the IV leads to a corruption of the last padding byte to 0x0a (instead of 0x04) of the decrypted data. Obviously, the Swift code does not check whether the padding bytes are uniform (which is actually a shortcoming) and simply uses the last padding byte to determine the size of the padding, so that the unpadding cuts off 0x0a-0x04=0x06 bytes too much (which turns `Hello World!` into `Hello `).","body":"The incorrect last byte of the IV leads to a corruption of the last padding byte to 0x0a (instead of 0x04) of the decrypted data. Obviously, the Swift code does not check whether the padding bytes are uniform (which is actually a shortcoming) and simply uses the last padding byte to determine the size of the padding, so that the unpadding cuts off 0x0a-0x04=0x06 bytes too much (which turns <code>Hello World!</code> into <code>Hello </code>)."},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1699547309,"post_id":77453763,"comment_id":136548653,"body_markdown":"**Security warning**: Please DO NOT USE the code above because it is **UNSECURE** because it uses a fixed/static IV and salt. Better use random generated IV and salt and prepend them to the ciphertext.","body":"<b>Security warning</b>: Please DO NOT USE the code above because it is <b>UNSECURE</b> because it uses a fixed/static IV and salt. Better use random generated IV and salt and prepend them to the ciphertext."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1699551033,"post_id":77453763,"comment_id":136549477,"body_markdown":"`SALT.getBytes()` in Java is very bad style as it depends on the system charset what you get. If you want to define bytes do so and don&#39;t misuse Strings for doing so.","body":"<code>SALT.getBytes()</code> in Java is very bad style as it depends on the system charset what you get. If you want to define bytes do so and don&#39;t misuse Strings for doing so."},{"owner":{"account_id":29864268,"reputation":1,"user_id":22887291,"display_name":"Aadesh Maheshwari"},"score":0,"creation_date":1699594361,"post_id":77453763,"comment_id":136554342,"body_markdown":"thanks @Topaco this has fixed the bug. I have made iv same used in encryption.","body":"thanks @Topaco this has fixed the bug. I have made iv same used in encryption."},{"owner":{"account_id":29864268,"reputation":1,"user_id":22887291,"display_name":"Aadesh Maheshwari"},"score":0,"creation_date":1699601792,"post_id":77453763,"comment_id":136555097,"body_markdown":"@MichaelFehr thanks for your input; we definitely will vary the IV to make it more secure and make most use of CBC.","body":"@MichaelFehr thanks for your input; we definitely will vary the IV to make it more secure and make most use of CBC."}],"owner":{"account_id":29864268,"reputation":1,"user_id":22887291,"display_name":"Aadesh Maheshwari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699538234,"creation_date":1699538234,"question_id":77453763,"body_markdown":"I am trying to decrypt data encrypted using AES algorithm on backend. The data came after decryption is not complete.\r\n\r\n\r\nBackend code to encrypt data (written in JAVA)\r\n```\r\nclass AES {\r\n\r\n    // Class private variables\r\n    private static final String SALT = &quot;t-*(b`.:#H$^[)7M^p&amp;*@E]&quot;;\r\n\r\n    // This method use to encrypt to string\r\n    public static String encrypt(String strToEncrypt, String learnerId) {\r\n        try {\r\n\r\n            EncryptionKey encryptionKey = getGenerateSecretKey(learnerId);\r\n//            System.out.println(&quot;&quot; + encryptionKey.ivspec + &quot;:&quot; + encryptionKey.secretKey.toString());\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, encryptionKey.secretKey, encryptionKey.ivspec);\r\n            // Return encrypted string\r\n            byte[] output = cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8));\r\n//            System.out.println(&quot;encryptedOutput:&quot; + output.toString());\r\n            return Base64.getEncoder().encodeToString(output);\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            System.out.println(&quot;Error while encrypting: &quot; + e);\r\n        } catch (InvalidAlgorithmParameterException | NoSuchPaddingException | IllegalBlockSizeException |\r\n                 BadPaddingException | InvalidKeyException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // This method use to decrypt to string\r\n    public static String decrypt(String strToDecrypt, String learnerId) {\r\n        try {\r\n\r\n            EncryptionKey encryptionKey = getGenerateSecretKey(learnerId);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, encryptionKey.secretKey, encryptionKey.ivspec);\r\n            // Return decrypted string\r\n            return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\r\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n            System.out.println(&quot;Error while encrypting: &quot; + e);\r\n        } catch (InvalidAlgorithmParameterException | NoSuchPaddingException | IllegalBlockSizeException |\r\n                 BadPaddingException | InvalidKeyException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    private static AES.EncryptionKey getGenerateSecretKey(String learnerId) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        // Create default byte array\r\n        byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\r\n        IvParameterSpec ivspec = new IvParameterSpec(iv);\r\n\r\n        // Create SecretKeyFactory object\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n        KeySpec spec = new PBEKeySpec(learnerId.toCharArray(), SALT.getBytes(),  10000, 128);\r\n        SecretKey tmp = factory.generateSecret(spec);\r\n        SecretKeySpec secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\r\n        System.out.println(&quot;Key:&quot; + Base64.getEncoder().encodeToString(tmp.getEncoded()));\r\n        return new EncryptionKey(ivspec, secretKey);\r\n    }\r\n\r\n    // AES secret key\r\n//    public static SecretKey getAESKey(int keysize) throws NoSuchAlgorithmException {\r\n//        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n//        keyGen.init(keysize);\r\n//        return keyGen.generateKey();\r\n//    }\r\n\r\n\r\n    private static class EncryptionKey {\r\n        public final IvParameterSpec ivspec;\r\n        public final SecretKeySpec secretKey;\r\n\r\n        public EncryptionKey(IvParameterSpec ivspec, SecretKeySpec secretKey) {\r\n            this.ivspec = ivspec;\r\n            this.secretKey = secretKey;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        String valueToEncrypt = &quot;Hello World!&quot;;\r\n        String encryptedValue = encrypt(valueToEncrypt, &quot;15c20b4babfec000&quot;);\r\n        String decryptedValue = decrypt(encryptedValue, &quot;15c20b4babfec000&quot;);\r\n        System.out.println(&quot;valueToEncrypt:&quot; + valueToEncrypt);\r\n        System.out.println(&quot;encryptedValue:&quot; + encryptedValue);\r\n        System.out.println(&quot;decryptedValue:&quot; + decryptedValue);\r\n//        getGenerateSecretKey(&quot;15c20b4babfec000&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**output:\r\nvalueToEncrypt:Hello World!\r\nencryptedValue:61VkIxCEBJJ46QF6VPwpXg==\r\ndecryptedValue:Hello World!\r\n**\r\n\r\n\r\nFrontend Code written in Swift\r\n```\r\nstatic func testingEncryption() -&gt; Bool {\r\n\t\tlet password: [UInt8] = Array(&quot;15c20b4babfec000&quot;.utf8)\r\n\t\tlet salt: [UInt8] = Array(EncryptionKeys.saltKeyLoEncryption.utf8)\r\n\t\tdo {\r\n\t\t\t/* Generate a key from a `password`. Optional if you already have a key */\r\n\t\t\tlet key = try PKCS5.PBKDF2(\r\n\t\t\t\tpassword: password,\r\n\t\t\t\tsalt: salt,\r\n\t\t\t\titerations: 10_000,\r\n\t\t\t\tkeyLength: 16, /* AES-256 */\r\n\t\t\t\tvariant: .sha256\r\n\t\t\t).calculate()\r\n            Log.debug(&quot;AES key \\n \\(String(describing: key.toBase64()))&quot;)\r\n\t\t\t//             Generate random IV value. IV is public value. Either need to generate, or get it from elsewhere\r\n\t\t\t//            let iv = AES.randomIV(AES.blockSize)\r\n\t\t\t//            let iv = Array(hex: &quot;4963b7334a46352623252955df21d7f3&quot;)\r\n\t\t\tlet iv: [UInt8] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x0E]\r\n//\t\t\tlet newKey: [UInt8] = [\r\n//\t\t\t\t0x2B, 0x7E, 0x15, 0x16, 0x28, 0xAE, 0xD2, 0xA6,\r\n//\t\t\t\t0xAB, 0xF7, 0x97, 0x07, 0xA5, 0x16, 0x18, 0x63\r\n//\t\t\t]\r\n\t\t\t/* AES cryptor instance */\r\n            let aes = try AES(key: key, blockMode: CBC(iv: iv), padding: .pkcs5)\r\n\t\t\t/* Encrypt Data */\r\n//\t\t\tlet inputData = &quot;Subham Tyagi&quot;.data(using: String.Encoding.utf8)!\r\n//\t\t\tlet encryptedBytes = try aes.encrypt(inputData.bytes)\r\n//            let encryptedData = Data(encryptedBytes)\r\n//\t\t\tLog.debug(&quot;AES encrypted data \\(encryptedData.base64EncodedString())&quot;)\r\n\t\t\t/* Decrypt Data */\r\n\r\n            if let newData = Data(base64Encoded: &quot;61VkIxCEBJJ46QF6VPwpXg==&quot;) {\r\n                let decryptedBytes = try aes.decrypt(newData.bytes)\r\n                let decryptedData = Data(decryptedBytes)\r\n                Log.debug(&quot;AES decrypted data \\(String(describing: String(data: decryptedData, encoding: String.Encoding.utf8)))&quot;)\r\n            }\r\n        } catch AES.Error.invalidKeySize {\r\n            Log.error(&quot;encryption decryption failed due to invalidKeySize&quot;)\r\n        } catch AES.Error.dataPaddingRequired {\r\n            Log.error(&quot;encryption decryption failed dataPaddingRequired &quot;)\r\n        } catch AES.Error.invalidData {\r\n            Log.error(&quot;encryption decryption failed invalid data&quot;)\r\n        } catch CryptoSwift.CBC.Error.invalidInitializationVector {\r\n            Log.error(&quot;encryption decryption failed invalidInitializationVector&quot;)\r\n        } catch {\r\n            Log.error(&quot;encryption decryption failed \\(error.localizedDescription)&quot;)\r\n        }\r\n\t\treturn true\r\n\t}\r\n```\r\n**output:\r\nAES decrypted data Optional(&quot;Hello &quot;)**\r\n\r\nAny help is appreciated.","title":"AES encryption and decryption not working properly","body":"<p>I am trying to decrypt data encrypted using AES algorithm on backend. The data came after decryption is not complete.</p>\n<p>Backend code to encrypt data (written in JAVA)</p>\n<pre><code>class AES {\n\n    // Class private variables\n    private static final String SALT = &quot;t-*(b`.:#H$^[)7M^p&amp;*@E]&quot;;\n\n    // This method use to encrypt to string\n    public static String encrypt(String strToEncrypt, String learnerId) {\n        try {\n\n            EncryptionKey encryptionKey = getGenerateSecretKey(learnerId);\n//            System.out.println(&quot;&quot; + encryptionKey.ivspec + &quot;:&quot; + encryptionKey.secretKey.toString());\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, encryptionKey.secretKey, encryptionKey.ivspec);\n            // Return encrypted string\n            byte[] output = cipher.doFinal(strToEncrypt.getBytes(StandardCharsets.UTF_8));\n//            System.out.println(&quot;encryptedOutput:&quot; + output.toString());\n            return Base64.getEncoder().encodeToString(output);\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            System.out.println(&quot;Error while encrypting: &quot; + e);\n        } catch (InvalidAlgorithmParameterException | NoSuchPaddingException | IllegalBlockSizeException |\n                 BadPaddingException | InvalidKeyException e) {\n            throw new RuntimeException(e);\n        }\n        return null;\n    }\n\n    // This method use to decrypt to string\n    public static String decrypt(String strToDecrypt, String learnerId) {\n        try {\n\n            EncryptionKey encryptionKey = getGenerateSecretKey(learnerId);\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, encryptionKey.secretKey, encryptionKey.ivspec);\n            // Return decrypted string\n            return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n            System.out.println(&quot;Error while encrypting: &quot; + e);\n        } catch (InvalidAlgorithmParameterException | NoSuchPaddingException | IllegalBlockSizeException |\n                 BadPaddingException | InvalidKeyException e) {\n            throw new RuntimeException(e);\n        }\n        return null;\n    }\n\n\n    private static AES.EncryptionKey getGenerateSecretKey(String learnerId) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        // Create default byte array\n        byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\n        IvParameterSpec ivspec = new IvParameterSpec(iv);\n\n        // Create SecretKeyFactory object\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(learnerId.toCharArray(), SALT.getBytes(),  10000, 128);\n        SecretKey tmp = factory.generateSecret(spec);\n        SecretKeySpec secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\n        System.out.println(&quot;Key:&quot; + Base64.getEncoder().encodeToString(tmp.getEncoded()));\n        return new EncryptionKey(ivspec, secretKey);\n    }\n\n    // AES secret key\n//    public static SecretKey getAESKey(int keysize) throws NoSuchAlgorithmException {\n//        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\n//        keyGen.init(keysize);\n//        return keyGen.generateKey();\n//    }\n\n\n    private static class EncryptionKey {\n        public final IvParameterSpec ivspec;\n        public final SecretKeySpec secretKey;\n\n        public EncryptionKey(IvParameterSpec ivspec, SecretKeySpec secretKey) {\n            this.ivspec = ivspec;\n            this.secretKey = secretKey;\n        }\n    }\n\n    public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        String valueToEncrypt = &quot;Hello World!&quot;;\n        String encryptedValue = encrypt(valueToEncrypt, &quot;15c20b4babfec000&quot;);\n        String decryptedValue = decrypt(encryptedValue, &quot;15c20b4babfec000&quot;);\n        System.out.println(&quot;valueToEncrypt:&quot; + valueToEncrypt);\n        System.out.println(&quot;encryptedValue:&quot; + encryptedValue);\n        System.out.println(&quot;decryptedValue:&quot; + decryptedValue);\n//        getGenerateSecretKey(&quot;15c20b4babfec000&quot;);\n    }\n}\n</code></pre>\n<p>**output:\nvalueToEncrypt:Hello World!\nencryptedValue:61VkIxCEBJJ46QF6VPwpXg==\ndecryptedValue:Hello World!\n**</p>\n<p>Frontend Code written in Swift</p>\n<pre><code>static func testingEncryption() -&gt; Bool {\n        let password: [UInt8] = Array(&quot;15c20b4babfec000&quot;.utf8)\n        let salt: [UInt8] = Array(EncryptionKeys.saltKeyLoEncryption.utf8)\n        do {\n            /* Generate a key from a `password`. Optional if you already have a key */\n            let key = try PKCS5.PBKDF2(\n                password: password,\n                salt: salt,\n                iterations: 10_000,\n                keyLength: 16, /* AES-256 */\n                variant: .sha256\n            ).calculate()\n            Log.debug(&quot;AES key \\n \\(String(describing: key.toBase64()))&quot;)\n            //             Generate random IV value. IV is public value. Either need to generate, or get it from elsewhere\n            //            let iv = AES.randomIV(AES.blockSize)\n            //            let iv = Array(hex: &quot;4963b7334a46352623252955df21d7f3&quot;)\n            let iv: [UInt8] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x0E]\n//          let newKey: [UInt8] = [\n//              0x2B, 0x7E, 0x15, 0x16, 0x28, 0xAE, 0xD2, 0xA6,\n//              0xAB, 0xF7, 0x97, 0x07, 0xA5, 0x16, 0x18, 0x63\n//          ]\n            /* AES cryptor instance */\n            let aes = try AES(key: key, blockMode: CBC(iv: iv), padding: .pkcs5)\n            /* Encrypt Data */\n//          let inputData = &quot;Subham Tyagi&quot;.data(using: String.Encoding.utf8)!\n//          let encryptedBytes = try aes.encrypt(inputData.bytes)\n//            let encryptedData = Data(encryptedBytes)\n//          Log.debug(&quot;AES encrypted data \\(encryptedData.base64EncodedString())&quot;)\n            /* Decrypt Data */\n\n            if let newData = Data(base64Encoded: &quot;61VkIxCEBJJ46QF6VPwpXg==&quot;) {\n                let decryptedBytes = try aes.decrypt(newData.bytes)\n                let decryptedData = Data(decryptedBytes)\n                Log.debug(&quot;AES decrypted data \\(String(describing: String(data: decryptedData, encoding: String.Encoding.utf8)))&quot;)\n            }\n        } catch AES.Error.invalidKeySize {\n            Log.error(&quot;encryption decryption failed due to invalidKeySize&quot;)\n        } catch AES.Error.dataPaddingRequired {\n            Log.error(&quot;encryption decryption failed dataPaddingRequired &quot;)\n        } catch AES.Error.invalidData {\n            Log.error(&quot;encryption decryption failed invalid data&quot;)\n        } catch CryptoSwift.CBC.Error.invalidInitializationVector {\n            Log.error(&quot;encryption decryption failed invalidInitializationVector&quot;)\n        } catch {\n            Log.error(&quot;encryption decryption failed \\(error.localizedDescription)&quot;)\n        }\n        return true\n    }\n</code></pre>\n<p><strong>output:\nAES decrypted data Optional(&quot;Hello &quot;)</strong></p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","conditional-operator"],"comments":[{"owner":{"account_id":29860750,"reputation":9,"user_id":22884461,"display_name":"ImMe"},"score":0,"creation_date":1699506322,"post_id":77450548,"comment_id":136541291,"body_markdown":"@Arun Sudhakaran, Thank You!","body":"@Arun Sudhakaran, Thank You!"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1699512861,"post_id":77450548,"comment_id":136541890,"body_markdown":"please accept the answer if my solution has fixed your issue.","body":"please accept the answer if my solution has fixed your issue."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699514465,"post_id":77450548,"comment_id":136542089,"body_markdown":"*ternary* comes from THREE because that operator needs three operands - `(mathOperator == &#39;*&#39;) ? n1*n2` only has TWO -- I would recommended using a `switch` expression (or statement) in this case; also recommended to have some error handling (message?) in case the `mathOperator` is none of the valid options","body":"<i>ternary</i> comes from THREE because that operator needs three operands - <code>(mathOperator == &#39;*&#39;) ? n1*n2</code> only has TWO -- I would recommended using a <code>switch</code> expression (or statement) in this case; also recommended to have some error handling (message?) in case the <code>mathOperator</code> is none of the valid options"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699522146,"post_id":77450548,"comment_id":136543460,"body_markdown":"This is a perfect case for a switch expression: `double result = switch(mathOperator) { case &#39;/&#39; -&gt; n1/n2; case &#39;+&#39; -&gt; n1+n2; case &#39;-&#39; -&gt; n1-n2; case &#39;*&#39; -&gt; n1*n2; default -&gt; throw new IllegalArgumentException(&quot;invalid operator: &quot; + mathOperator); };`","body":"This is a perfect case for a switch expression: <code>double result = switch(mathOperator) { case &#39;&#47;&#39; -&gt; n1&#47;n2; case &#39;+&#39; -&gt; n1+n2; case &#39;-&#39; -&gt; n1-n2; case &#39;*&#39; -&gt; n1*n2; default -&gt; throw new IllegalArgumentException(&quot;invalid operator: &quot; + mathOperator); };</code>"},{"owner":{"account_id":29860750,"reputation":9,"user_id":22884461,"display_name":"ImMe"},"score":0,"creation_date":1699554728,"post_id":77450548,"comment_id":136550100,"body_markdown":"Ohhhh ok got it","body":"Ohhhh ok got it"}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1699519649,"post_id":77450603,"comment_id":136542977,"body_markdown":"Nit: it&#39;s not _do_ when the condition is true/false, it&#39;s _value_ when the condition is true/false. This is important, because you can only put expressions there, not statements.","body":"Nit: it&#39;s not <i>do</i> when the condition is true/false, it&#39;s <i>value</i> when the condition is true/false. This is important, because you can only put expressions there, not statements."}],"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699538161,"creation_date":1699506646,"answer_id":77450603,"question_id":77450548,"body_markdown":"How the **Ternary operators** work\r\n\r\n    (condition) ? (consider this value/expression when the condition is true) : \r\n                  (consider this value/expression when the condition is false);\r\n\r\nNow, in your code, all the other operators satisfy the above condition, but for multiplication the `else` part is missing.\r\n\r\nSo you can end your condition like this\r\n\r\n    mathOperator ==&#39;*&#39;? n1*n2 : 0;\r\n\r\nA better way would be \r\n\r\n    mathOperator ==&#39;*&#39;? n1*n2 : Double.NaN;","title":"Ternary operators gives compilation errors","body":"<p>How the <strong>Ternary operators</strong> work</p>\n<pre><code>(condition) ? (consider this value/expression when the condition is true) : \n              (consider this value/expression when the condition is false);\n</code></pre>\n<p>Now, in your code, all the other operators satisfy the above condition, but for multiplication the <code>else</code> part is missing.</p>\n<p>So you can end your condition like this</p>\n<pre><code>mathOperator =='*'? n1*n2 : 0;\n</code></pre>\n<p>A better way would be</p>\n<pre><code>mathOperator =='*'? n1*n2 : Double.NaN;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29860750,"reputation":9,"user_id":22884461,"display_name":"ImMe"},"score":0,"creation_date":1699555182,"post_id":77451619,"comment_id":136550182,"body_markdown":"got it, Thank You @Aloysius Tri Sulistyo Putranto","body":"got it, Thank You @Aloysius Tri Sulistyo Putranto"},{"owner":{"account_id":25667539,"reputation":1,"user_id":19432251,"display_name":"Aloysius Tri Sulistyo Putranto"},"score":0,"creation_date":1699647617,"post_id":77451619,"comment_id":136562742,"body_markdown":"welcome sir @ImMe ....","body":"welcome sir @ImMe ...."}],"tags":[],"owner":{"account_id":25667539,"reputation":1,"user_id":19432251,"display_name":"Aloysius Tri Sulistyo Putranto"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699519287,"creation_date":1699519287,"answer_id":77451619,"question_id":77450548,"body_markdown":"Your condition false is missing\r\n\r\n    double result = (mathOperator == &#39;/&#39;) ? n1/n2 : \r\n                    (mathOperator == &#39;+&#39;) ? n1+n2 : \r\n                    (mathOperator == &#39;-&#39;) ? n1-n2 : \r\n                    (mathOperator == &#39;*&#39;) ? n1*n2 : 0;\r\n\r\n\r\n","title":"Ternary operators gives compilation errors","body":"<p>Your condition false is missing</p>\n<pre><code>double result = (mathOperator == '/') ? n1/n2 : \n                (mathOperator == '+') ? n1+n2 : \n                (mathOperator == '-') ? n1-n2 : \n                (mathOperator == '*') ? n1*n2 : 0;\n</code></pre>\n"}],"owner":{"account_id":29860750,"reputation":9,"user_id":22884461,"display_name":"ImMe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1699538161,"creation_date":1699505921,"question_id":77450548,"body_markdown":"I&#39;m trying to print the result based on the input of arithmetic operator \r\n\r\n    double n1= 45;\r\n    double n2= 9;\r\n\r\n    double result = (mathOperator == &#39;/&#39;) ? n1/n2 : \r\n                    (mathOperator == &#39;+&#39;) ? n1+n2 : \r\n                    (mathOperator == &#39;-&#39;) ? n1-n2 : \r\n                    (mathOperator == &#39;*&#39;) ? n1*n2;\r\n    \r\n    System.out.println(result);\r\n\r\nbut I&#39;m getting an error message at the end of the ternary line with semicolon there\r\n\r\ncan anyone please help me understand, where am I going wrong?\r\n","title":"Ternary operators gives compilation errors","body":"<p>I'm trying to print the result based on the input of arithmetic operator</p>\n<pre><code>double n1= 45;\ndouble n2= 9;\n\ndouble result = (mathOperator == '/') ? n1/n2 : \n                (mathOperator == '+') ? n1+n2 : \n                (mathOperator == '-') ? n1-n2 : \n                (mathOperator == '*') ? n1*n2;\n\nSystem.out.println(result);\n</code></pre>\n<p>but I'm getting an error message at the end of the ternary line with semicolon there</p>\n<p>can anyone please help me understand, where am I going wrong?</p>\n"},{"tags":["java","multithreading","audio","compiler-errors","compilation"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1696527712,"post_id":77239385,"comment_id":136168069,"body_markdown":"First suggestion: don&#39;t try to run the code until it has compiled successfully. Look at the errors/problems tab in your IDE to see details about why it&#39;s not compiling. (I would *hope* that the IDE warned you that it hadn&#39;t compiled successfully when you tried to run the code. If you get a dialog box saying &quot;This code hasn&#39;t compiled, do you want to try to run it anyway?&quot;, the best answer is almost *always* &quot;no&quot;.)","body":"First suggestion: don&#39;t try to run the code until it has compiled successfully. Look at the errors/problems tab in your IDE to see details about why it&#39;s not compiling. (I would <i>hope</i> that the IDE warned you that it hadn&#39;t compiled successfully when you tried to run the code. If you get a dialog box saying &quot;This code hasn&#39;t compiled, do you want to try to run it anyway?&quot;, the best answer is almost <i>always</i> &quot;no&quot;.)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1696527743,"post_id":77239385,"comment_id":136168077,"body_markdown":"(Next suggestion: start following Java naming conventions. The sooner you get into that habit, the better.)","body":"(Next suggestion: start following Java naming conventions. The sooner you get into that habit, the better.)"},{"owner":{"account_id":28235484,"reputation":23,"user_id":21584038,"display_name":"tomi bell"},"score":0,"creation_date":1696527840,"post_id":77239385,"comment_id":136168089,"body_markdown":"I just did that but nothing has changed","body":"I just did that but nothing has changed"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1696528063,"post_id":77239385,"comment_id":136168126,"body_markdown":"&quot;I just did that but nothing has changed&quot; - did what, exactly? You haven&#39;t included what the actual compilation error is, so unless someone either tries to compile your code themselves or spots it by inspection, we don&#39;t know what the error is. You should be able to see the exact compilation error - please edit the question to show it.","body":"&quot;I just did that but nothing has changed&quot; - did what, exactly? You haven&#39;t included what the actual compilation error is, so unless someone either tries to compile your code themselves or spots it by inspection, we don&#39;t know what the error is. You should be able to see the exact compilation error - please edit the question to show it."},{"owner":{"account_id":28235484,"reputation":23,"user_id":21584038,"display_name":"tomi bell"},"score":0,"creation_date":1696528166,"post_id":77239385,"comment_id":136168141,"body_markdown":"this is the error the compiler is showing: (Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: at Audio.main(Audio.java:10)) i made sure there was no other error in the code before running again","body":"this is the error the compiler is showing: (Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: at Audio.main(Audio.java:10)) i made sure there was no other error in the code before running again"},{"owner":{"account_id":28235484,"reputation":23,"user_id":21584038,"display_name":"tomi bell"},"score":0,"creation_date":1696528239,"post_id":77239385,"comment_id":136168158,"body_markdown":"Its the only error showing","body":"Its the only error showing"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1696528310,"post_id":77239385,"comment_id":136168171,"body_markdown":"Well we don&#39;t know what IDE you&#39;re using, or how you&#39;re compiling, or basically *anything*, but I&#39;d be very surprised if you didn&#39;t see the full compilation error in a tab somewhere *without* trying to run the code.","body":"Well we don&#39;t know what IDE you&#39;re using, or how you&#39;re compiling, or basically <i>anything</i>, but I&#39;d be very surprised if you didn&#39;t see the full compilation error in a tab somewhere <i>without</i> trying to run the code."},{"owner":{"account_id":28235484,"reputation":23,"user_id":21584038,"display_name":"tomi bell"},"score":0,"creation_date":1696528572,"post_id":77239385,"comment_id":136168221,"body_markdown":"I&#39;m using Eclipse, I was following a tutorial for adding audio to Java (They too are using Eclipse), and despite following it perfectly I&#39;m left with this error that says Exception in thread &quot;main&quot; java. lang.Error: Unresolved compilation problem: at Audio. main(Audio.java:10) which is my (public static void main(String[] args) {) and despite trying any solution I could think of (Which was mainly rewriting everything and ensuring I imported everything necessary for the program) it did not work. can you help now???????","body":"I&#39;m using Eclipse, I was following a tutorial for adding audio to Java (They too are using Eclipse), and despite following it perfectly I&#39;m left with this error that says Exception in thread &quot;main&quot; java. lang.Error: Unresolved compilation problem: at Audio. main(Audio.java:10) which is my (public static void main(String[] args) {) and despite trying any solution I could think of (Which was mainly rewriting everything and ensuring I imported everything necessary for the program) it did not work. can you help now???????"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1696528842,"post_id":77239385,"comment_id":136168273,"body_markdown":"Eclipse is showing a red wavy underline somewhere in your source code. There is a problems view - in the menu, Window, Show View, &#39;problems&#39; (it is open by default but perhaps you closed it). The actual problem you have is listed there. We can&#39;t help you, no, not with this error. This error means: &quot;There is an error, see this other place for details&quot;, and you haven&#39;t given us those details.","body":"Eclipse is showing a red wavy underline somewhere in your source code. There is a problems view - in the menu, Window, Show View, &#39;problems&#39; (it is open by default but perhaps you closed it). The actual problem you have is listed there. We can&#39;t help you, no, not with this error. This error means: &quot;There is an error, see this other place for details&quot;, and you haven&#39;t given us those details."},{"owner":{"account_id":28235484,"reputation":23,"user_id":21584038,"display_name":"tomi bell"},"score":0,"creation_date":1696528968,"post_id":77239385,"comment_id":136168300,"body_markdown":"Okay I opened problems and this is what I saw is this fixable                         \n(Description Resource Path Location Type\nThe type java.io.FilterOutputStream cannot be resolved. It is indirectly referenced from required .class files\tAudio.java\t/Phase2/src\tline 1\tJava Problem","body":"Okay I opened problems and this is what I saw is this fixable                          (Description Resource Path Location Type The type java.io.FilterOutputStream cannot be resolved. It is indirectly referenced from required .class files\tAudio.java\t/Phase2/src\tline 1\tJava Problem"},{"owner":{"account_id":28235484,"reputation":23,"user_id":21584038,"display_name":"tomi bell"},"score":0,"creation_date":1696592044,"post_id":77239385,"comment_id":136176215,"body_markdown":"I knew the problem was with the **(public static void main(String[] args) {)** line of code cause that&#39;s what my compiler said when I tried to run the code. But then I deleted the (Public) from the method I created **(public static void MusicPlayer(String Music) { )** and it started working.\n\nso this is not a question but since no one could give me a solution to the original problem I decided to paste this here in case anyone with my same problem could maybe help themselves. I don&#39;t know but if anyone has an idea on why this worked i really dont have a clue pls comment why id love to know.","body":"I knew the problem was with the <b>(public static void main(String[] args) {)</b> line of code cause that&#39;s what my compiler said when I tried to run the code. But then I deleted the (Public) from the method I created <b>(public static void MusicPlayer(String Music) { )</b> and it started working.  so this is not a question but since no one could give me a solution to the original problem I decided to paste this here in case anyone with my same problem could maybe help themselves. I don&#39;t know but if anyone has an idea on why this worked i really dont have a clue pls comment why id love to know."}],"answers":[{"tags":[],"owner":{"account_id":29854220,"reputation":19,"user_id":22879420,"display_name":"T N MOHITH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699538140,"creation_date":1699538140,"answer_id":77453749,"question_id":77239385,"body_markdown":"The exception in thread “main” java. lang. error: unresolved compilation problem: usually occurs due to syntax or typographical errors. Also, you might get the same exception due to using unknown or undefined classes and modules. So try checking your code once you might have written a wrong code somewhere. if Identify the wrong code and fix it your problem will be solved\r\n","title":"How do i solve this java. lang.Error: Unresolved compilation problem:","body":"<p>The exception in thread “main” java. lang. error: unresolved compilation problem: usually occurs due to syntax or typographical errors. Also, you might get the same exception due to using unknown or undefined classes and modules. So try checking your code once you might have written a wrong code somewhere. if Identify the wrong code and fix it your problem will be solved</p>\n"}],"owner":{"account_id":28235484,"reputation":23,"user_id":21584038,"display_name":"tomi bell"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1699538140,"creation_date":1696527271,"question_id":77239385,"body_markdown":"I a trying to create a simple audio player in Java but it keeps showing this error message\r\n(Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\r\n\tat Audio.main(Audio.java:10)\r\n )\r\nand I don&#39;t know how to fix this, could anyone help?\r\n\r\n\r\nI deleted the whole project folder and rewrote it thinking it would help but the problem still continues.\r\n\r\nThis Is The Code:\r\n\r\n```\r\nimport java.io.File;\r\n\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.Clip;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class Audio {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tString filepath = &quot;On the Delta - John Patitucci.wav&quot;;\r\n\t\tMusicPlayer(filepath);\r\n\t\tJOptionPane.showMessageDialog(null, &quot;Press Ok To Stop Music&quot;);\r\n\t}\r\n\r\n\tpublic static void MusicPlayer(String Music) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tFile MusicFile = new File(Music);\r\n\t\t\t\r\n\t\t\tif(MusicFile.exists()) {\r\n\t\t\t\tAudioInputStream audio = AudioSystem.getAudioInputStream(MusicFile);\r\n\t\t\t\tClip clip = AudioSystem.getClip();\r\n\t\t\t\tclip.open(audio);\r\n\t\t\t\tclip.start();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.println(&quot;Sorry file does not exist.........&quot;);\r\n\t\t\tSystem.out.println(e);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n","title":"How do i solve this java. lang.Error: Unresolved compilation problem:","body":"<p>I a trying to create a simple audio player in Java but it keeps showing this error message\n(Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:</p>\n<pre><code>at Audio.main(Audio.java:10)\n</code></pre>\n<p>)\nand I don't know how to fix this, could anyone help?</p>\n<p>I deleted the whole project folder and rewrote it thinking it would help but the problem still continues.</p>\n<p>This Is The Code:</p>\n<pre><code>import java.io.File;\n\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.swing.JOptionPane;\n\npublic class Audio {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        String filepath = &quot;On the Delta - John Patitucci.wav&quot;;\n        MusicPlayer(filepath);\n        JOptionPane.showMessageDialog(null, &quot;Press Ok To Stop Music&quot;);\n    }\n\n    public static void MusicPlayer(String Music) {\n        \n        try {\n            File MusicFile = new File(Music);\n            \n            if(MusicFile.exists()) {\n                AudioInputStream audio = AudioSystem.getAudioInputStream(MusicFile);\n                Clip clip = AudioSystem.getClip();\n                clip.open(audio);\n                clip.start();\n            }\n            \n        }\n        catch(Exception e) {\n            System.out.println(&quot;Sorry file does not exist.........&quot;);\n            System.out.println(e);\n            \n        }\n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","android-studio"],"owner":{"account_id":29847742,"reputation":1,"user_id":22874408,"display_name":"ZN1DEX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699537958,"creation_date":1699537958,"question_id":77453731,"body_markdown":"I want to get the avatar URL of the currently logged in user and then load it in this ShapeableImageView.\r\n**XML Layout:**\r\n```\r\n&lt;com.google.android.material.imageview.ShapeableImageView\r\n            android:id=&quot;@+id/iv_avatar&quot;\r\n            android:layout_width=&quot;45dp&quot;\r\n            android:layout_height=&quot;45dp&quot;\r\n            android:src=&quot;@drawable/avatar&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            app:shapeAppearanceOverlay=&quot;@style/ShapeAppearanceOverlay.App.CornerSize50Percent&quot;/&gt;\r\n```\r\n\r\nAt first I wrote the code like this:\r\n\r\n```\r\nShapeableImageView avatarImageView = rootView.findViewById(R.id.iv_avatar);\r\nFirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (currentUser != null) {\r\n            String userId = currentUser.getUid();\r\n\r\n            // Get the user&#39;s avatar URL\r\n            DatabaseReference userRef = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).child(userId);\r\n            userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    if (dataSnapshot.exists()) {\r\n                        String profileImageUrl = dataSnapshot.child(&quot;profile&quot;).getValue(String.class);\r\n                        // Load avatar using image loading library\r\n                        if (profileImageUrl != null &amp;&amp; !profileImageUrl.isEmpty()) {\r\n                            // Use Glide to load avatars\r\n                            Glide.with(HomeFragment.this)\r\n                                    .load(profileImageUrl)\r\n                                    .into(avatarImageView);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    // Handle cancellation events\r\n                    Toast.makeText(getContext(), &quot;Database read error: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n\r\n```\r\nBut there was a crash problem.\r\n\r\n\r\nThen I changed this code：\r\n\r\n```\r\nif (profileImageUrl != null &amp;&amp; !profileImageUrl.isEmpty()) {\r\n                            // Use Glide to load avatars\r\n                            Glide.with(HomeFragment.this)\r\n                                    .load(profileImageUrl)\r\n                                    .into(avatarImageView);\r\n                        }\r\n```\r\n\r\nto this code:\r\n\r\n```\r\nif (profileImageUrl != null &amp;&amp; !profileImageUrl.isEmpty()) {\r\n    Glide.with(HomeFragment.this)\r\n            .load(profileImageUrl)\r\n            .error(R.drawable.default_avatar) // Set backup image when loading fails\r\n            .into(avatarImageView);\r\n}\r\n\r\n```\r\nThis default_avatar does exist in my drawable folder, but there is still a crash problem when running.\r\n\r\nHowever, when I changed the code to：\r\n\r\n```\r\ntry {\r\n    Glide.with(HomeFragment.this)\r\n            .load(profileImageUrl)\r\n            .into(avatarImageView);\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n```\r\nThe crash problem has been solved and the user&#39;s avatar can be displayed normally. why is that?","title":"Strange problem with loading images using Glide","body":"<p>I want to get the avatar URL of the currently logged in user and then load it in this ShapeableImageView.\n<strong>XML Layout:</strong></p>\n<pre><code>&lt;com.google.android.material.imageview.ShapeableImageView\n            android:id=&quot;@+id/iv_avatar&quot;\n            android:layout_width=&quot;45dp&quot;\n            android:layout_height=&quot;45dp&quot;\n            android:src=&quot;@drawable/avatar&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            app:shapeAppearanceOverlay=&quot;@style/ShapeAppearanceOverlay.App.CornerSize50Percent&quot;/&gt;\n</code></pre>\n<p>At first I wrote the code like this:</p>\n<pre><code>ShapeableImageView avatarImageView = rootView.findViewById(R.id.iv_avatar);\nFirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\n        if (currentUser != null) {\n            String userId = currentUser.getUid();\n\n            // Get the user's avatar URL\n            DatabaseReference userRef = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).child(userId);\n            userRef.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(DataSnapshot dataSnapshot) {\n                    if (dataSnapshot.exists()) {\n                        String profileImageUrl = dataSnapshot.child(&quot;profile&quot;).getValue(String.class);\n                        // Load avatar using image loading library\n                        if (profileImageUrl != null &amp;&amp; !profileImageUrl.isEmpty()) {\n                            // Use Glide to load avatars\n                            Glide.with(HomeFragment.this)\n                                    .load(profileImageUrl)\n                                    .into(avatarImageView);\n                        }\n                    }\n                }\n\n                @Override\n                public void onCancelled(DatabaseError databaseError) {\n                    // Handle cancellation events\n                    Toast.makeText(getContext(), &quot;Database read error: &quot; + databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n\n</code></pre>\n<p>But there was a crash problem.</p>\n<p>Then I changed this code：</p>\n<pre><code>if (profileImageUrl != null &amp;&amp; !profileImageUrl.isEmpty()) {\n                            // Use Glide to load avatars\n                            Glide.with(HomeFragment.this)\n                                    .load(profileImageUrl)\n                                    .into(avatarImageView);\n                        }\n</code></pre>\n<p>to this code:</p>\n<pre><code>if (profileImageUrl != null &amp;&amp; !profileImageUrl.isEmpty()) {\n    Glide.with(HomeFragment.this)\n            .load(profileImageUrl)\n            .error(R.drawable.default_avatar) // Set backup image when loading fails\n            .into(avatarImageView);\n}\n\n</code></pre>\n<p>This default_avatar does exist in my drawable folder, but there is still a crash problem when running.</p>\n<p>However, when I changed the code to：</p>\n<pre><code>try {\n    Glide.with(HomeFragment.this)\n            .load(profileImageUrl)\n            .into(avatarImageView);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\n</code></pre>\n<p>The crash problem has been solved and the user's avatar can be displayed normally. why is that?</p>\n"},{"tags":["java","variables","types"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1699531223,"post_id":77452947,"comment_id":136545186,"body_markdown":"You can&#39;t, Java is strongly typed: a variable is linked to a type.","body":"You can&#39;t, Java is strongly typed: a variable is linked to a type."},{"owner":{"account_id":5327125,"reputation":1850,"user_id":4248850,"accept_rate":50,"display_name":"Sam Daniel"},"score":0,"creation_date":1699532400,"post_id":77452947,"comment_id":136545395,"body_markdown":"As others said, you cannot reuse the same variable name for different types within a scope.. I wonder what use case are you trying to solve by reusing a variable name  ?","body":"As others said, you cannot reuse the same variable name for different types within a scope.. I wonder what use case are you trying to solve by reusing a variable name  ?"}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699532260,"post_id":77453001,"comment_id":136545370,"body_markdown":"`Integer.valueOf()` is not the best for *parsing* a string an get an `int`- it will create an instance of `Integer` which will then be converted to an `int` - `Integer.parseInt()` avoids these intermediate steps and object","body":"<code>Integer.valueOf()</code> is not the best for <i>parsing</i> a string an get an <code>int</code>- it will create an instance of <code>Integer</code> which will then be converted to an <code>int</code> - <code>Integer.parseInt()</code> avoids these intermediate steps and object"}],"tags":[],"owner":{"account_id":27612804,"reputation":11,"user_id":21075533,"display_name":"Marco"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699531229,"creation_date":1699531229,"answer_id":77453001,"question_id":77452947,"body_markdown":"You cannot redefine a variable as a different type with the same name.\r\nYou can use Integer class method to parse a &quot;numeric&quot; string.\r\n\r\nint newVariable = Integer.valueOf(var);\r\n\r\n\r\nBtw changing type is called &quot;casting&quot;.\r\nIf you want to change type like this you could look for &quot;cast String to int Java&quot;","title":"How to Change the Type of a Variable in Java?","body":"<p>You cannot redefine a variable as a different type with the same name.\nYou can use Integer class method to parse a &quot;numeric&quot; string.</p>\n<p>int newVariable = Integer.valueOf(var);</p>\n<p>Btw changing type is called &quot;casting&quot;.\nIf you want to change type like this you could look for &quot;cast String to int Java&quot;</p>\n"},{"tags":[],"owner":{"account_id":1187444,"reputation":111,"user_id":6835693,"display_name":"rg8443"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699533428,"creation_date":1699532054,"answer_id":77453099,"question_id":77452947,"body_markdown":"There is no Variant or Union type in Java, but you can use Object.\r\n\r\nSomething like:\r\n```java\r\nclass Scratch {\r\n    public static void main( String[] args ) {\r\n        Object o = &quot;foo&quot;;\r\n        System.out.println(&quot;o(&quot; + o.getClass() + &quot;) = &quot; + o);\r\n        o = -1;\r\n        System.out.println(&quot;o(&quot; + o.getClass() + &quot;) = &quot; + o);\r\n    }\r\n}\r\n```\r\n\r\nIf you&#39;re really just trying to reuse a variable name use {} to scope the variable:\r\n\r\n```java\r\nclass Scratch {\r\n    public static void main( String[] args ) {\r\n        {\r\n            String var = &quot;foo&quot;;\r\n            System.out.println(var);\r\n        }\r\n        {\r\n            int var = 1;\r\n            System.out.println(var);\r\n        }\r\n    }\r\n}\r\n```","title":"How to Change the Type of a Variable in Java?","body":"<p>There is no Variant or Union type in Java, but you can use Object.</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n    public static void main( String[] args ) {\n        Object o = &quot;foo&quot;;\n        System.out.println(&quot;o(&quot; + o.getClass() + &quot;) = &quot; + o);\n        o = -1;\n        System.out.println(&quot;o(&quot; + o.getClass() + &quot;) = &quot; + o);\n    }\n}\n</code></pre>\n<p>If you're really just trying to reuse a variable name use {} to scope the variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n    public static void main( String[] args ) {\n        {\n            String var = &quot;foo&quot;;\n            System.out.println(var);\n        }\n        {\n            int var = 1;\n            System.out.println(var);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29161129,"reputation":86,"user_id":22339877,"display_name":"Flavian Diol D"},"score":0,"creation_date":1699536701,"post_id":77453135,"comment_id":136546280,"body_markdown":".valueOf() returns an object of type Integer, instead as you mentioned, Integer.parseInt() can also be done to return a direct primitive. It can be used based on the use case.","body":".valueOf() returns an object of type Integer, instead as you mentioned, Integer.parseInt() can also be done to return a direct primitive. It can be used based on the use case."}],"tags":[],"owner":{"account_id":29161129,"reputation":86,"user_id":22339877,"display_name":"Flavian Diol D"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699532333,"creation_date":1699532333,"answer_id":77453135,"question_id":77452947,"body_markdown":"Java is not a dynamically typed language, like Python or JavaScript. It is a strongly typed language, which means that every variable has a type associated with it and once declared a type, it cannot be changed during runtime.\r\n\r\nYou can definitely create a new variable which extracts the current value stored in a variable, there are many factory methods to do so.\r\n\r\n    void doSmth(){\r\n        String var = &quot;13&quot;;\r\n        //some work with string;\r\n        int var = -1;\r\n        //continue program\r\n    }\r\n\r\nAs far as I can see your *var* deals only which numbers which is initially a *String* type then you wish to continue it as something of type *int*, in order to do so. You can try doing this\r\n\r\n    void doSmth(){\r\n        String var = &quot;13&quot;;\r\n        //some work with var;\r\n        int now = Integer.valueOf(var);\r\n        //continue program\r\n    }\r\n\r\nHere *now* will have the current value stored in *var*, unless and until *var* has something other than a number.\r\n\r\n\r\nOr if you really don&#39;t want to initialise a new variable and only want to work with the same one, try using a variable of type *Object*. This is the superclass of all classes, therefore it can hold objects of any class. But this is not a typesafe measure, but if it&#39;s not a problem you can go on with it.\r\n\r\n    void doSmth(){\r\n        Object var = &quot;13&quot;;\r\n        //some work with string;\r\n        var = -1;\r\n        //continue program\r\n    }\r\n\r\nIf you want two variables to be of the same name, that is impossible if they both are in the same scope, try changing the variable scope if you want to try something like that.","title":"How to Change the Type of a Variable in Java?","body":"<p>Java is not a dynamically typed language, like Python or JavaScript. It is a strongly typed language, which means that every variable has a type associated with it and once declared a type, it cannot be changed during runtime.</p>\n<p>You can definitely create a new variable which extracts the current value stored in a variable, there are many factory methods to do so.</p>\n<pre><code>void doSmth(){\n    String var = &quot;13&quot;;\n    //some work with string;\n    int var = -1;\n    //continue program\n}\n</code></pre>\n<p>As far as I can see your <em>var</em> deals only which numbers which is initially a <em>String</em> type then you wish to continue it as something of type <em>int</em>, in order to do so. You can try doing this</p>\n<pre><code>void doSmth(){\n    String var = &quot;13&quot;;\n    //some work with var;\n    int now = Integer.valueOf(var);\n    //continue program\n}\n</code></pre>\n<p>Here <em>now</em> will have the current value stored in <em>var</em>, unless and until <em>var</em> has something other than a number.</p>\n<p>Or if you really don't want to initialise a new variable and only want to work with the same one, try using a variable of type <em>Object</em>. This is the superclass of all classes, therefore it can hold objects of any class. But this is not a typesafe measure, but if it's not a problem you can go on with it.</p>\n<pre><code>void doSmth(){\n    Object var = &quot;13&quot;;\n    //some work with string;\n    var = -1;\n    //continue program\n}\n</code></pre>\n<p>If you want two variables to be of the same name, that is impossible if they both are in the same scope, try changing the variable scope if you want to try something like that.</p>\n"},{"tags":[],"owner":{"account_id":10984350,"reputation":380,"user_id":8070550,"display_name":"Rok T."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699533643,"creation_date":1699533130,"answer_id":77453218,"question_id":77452947,"body_markdown":"As said, Java is strongly typed so this kind of things really aren&#39;t possible in the way you want.\r\n\r\nThere is this possibility that you can create an Object which can then hold any reference or value you wish, but I would strongly discourage using this - types are your friend.\r\n\r\n    public static void main(String[] args) {\r\n        Object obj;\r\n        obj = 1;\r\n        System.out.println(obj);\r\n        obj = &quot;asdsa&quot;;\r\n        System.out.println(obj);\r\n        obj = 2.0D;\r\n        System.out.println(obj);\r\n        obj = List.of(&quot;123&quot;, 23);\r\n        System.out.println(obj);\r\n    }\r\n\r\nWould print:\r\n\r\n    1\r\n    asdsa\r\n    2.0\r\n    [123, 23]\r\n\r\n","title":"How to Change the Type of a Variable in Java?","body":"<p>As said, Java is strongly typed so this kind of things really aren't possible in the way you want.</p>\n<p>There is this possibility that you can create an Object which can then hold any reference or value you wish, but I would strongly discourage using this - types are your friend.</p>\n<pre><code>public static void main(String[] args) {\n    Object obj;\n    obj = 1;\n    System.out.println(obj);\n    obj = &quot;asdsa&quot;;\n    System.out.println(obj);\n    obj = 2.0D;\n    System.out.println(obj);\n    obj = List.of(&quot;123&quot;, 23);\n    System.out.println(obj);\n}\n</code></pre>\n<p>Would print:</p>\n<pre><code>1\nasdsa\n2.0\n[123, 23]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17212543,"reputation":37,"user_id":12461449,"display_name":"simsam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699537171,"creation_date":1699535994,"answer_id":77453528,"question_id":77452947,"body_markdown":"Sadly you can&#39;t. But that doesn&#39;t mean you can&#39;t pass values between variables. In your case you have a `String var` that has a certain value. If you want to do something with that string and then later use the value of that string for other purposes, you can&#39;t just change the typing of that variable, but you can convert the string value into an integer value and assign it to another variable. For example:\r\n\r\n```\r\nvoid doSmth() {\r\n    String var = &quot;13&quot;;\r\n    // you can do some work with this string\r\n    // after you are done working with the string and the value of it changes\r\n    // you may want to use that value in an integer calculation\r\n\r\n    // lets say for the sake of this example your var = &quot;2&quot;\r\n    var = &quot;2&quot;;\r\n    // to use the new value of var in another calculation you can change the data and assign it to a new variable\r\n    int newVar = Integer.parseInt(var);\r\n    // here you change the type of data and assign it to a new variable so newVar = 2\r\n    // you can now continue working with this new variable.\r\n}\r\n```\r\nThis is just one example of converting one data type to another. But maybe that wasn&#39;t what you wanted to do. Maybe the two variables aren&#39;t used in the same algorithm and you just like the variable name or it makes sense. In Java variables are &quot;visible&quot; in a certain context and are invisible outside of that context. That means that if you want to use one variable name for multiple different and unrelated computations you may write functions that will do those computations. Lets look at another example:\r\n\r\n```\r\nvoid doSmth() {\r\n    String var = &quot;13&quot;;\r\n    // you can do some work with this string variable\r\n} \r\n// after you are done with the string and you want to do something else and you want to keep the name, you can write up a new function\r\nvoid doSmthElse() {\r\n    int var = -1;\r\n    // you can now do something else with var as within this functions context there exists only one variable named &quot;var&quot; and it is an integer type\r\n}\r\n```\r\n\r\nIf your variables are connected in some way and you don&#39;t want to rename it for the sake of clarity you can make a function that will pass the first occurrence of var to the second one.\r\n\r\n```\r\nvoid doSmthRelated() {\r\n    String var = &quot;13&quot;;\r\n    // do something with var\r\n    // now you want to use var for something else and you want to keep the two connected variables named the same way\r\n\r\n    // call the new function and pass the string as an argument\r\n    relatedFunct(var);\r\n\r\n    // if you need to use the value returned by the related function inside this function,\r\n    // you will need to assign the returned value to a variable that doesn&#39;t share the name\r\n    int necessaryValue = relatedFunct2(var);\r\n}\r\n\r\nvoid relatedFunct(String argument) {\r\n    // you can now convert the passed argument to the type you need\r\n    int var = Integer.parseInt(argument);\r\n    // do something with var\r\n}\r\n\r\nint relatedFunct2(String argument) {\r\n    // convert the argument and do whatever you want with the new var\r\n    int var = Integer.parseInt(argument);\r\n    // do something with var\r\n\r\n    // and return the value so you can use it further in your main function\r\n    return var;\r\n}\r\n```\r\n\r\nI hope this helps clear some confusion with types, variable names and context.\r\n\r\nEDIT: As user85421 pointed out `Integer.valueOf()` isn&#39;t the best way to convert a `String` to an `int`. It would be better to use `Integer.parseInt()`.\r\n","title":"How to Change the Type of a Variable in Java?","body":"<p>Sadly you can't. But that doesn't mean you can't pass values between variables. In your case you have a <code>String var</code> that has a certain value. If you want to do something with that string and then later use the value of that string for other purposes, you can't just change the typing of that variable, but you can convert the string value into an integer value and assign it to another variable. For example:</p>\n<pre><code>void doSmth() {\n    String var = &quot;13&quot;;\n    // you can do some work with this string\n    // after you are done working with the string and the value of it changes\n    // you may want to use that value in an integer calculation\n\n    // lets say for the sake of this example your var = &quot;2&quot;\n    var = &quot;2&quot;;\n    // to use the new value of var in another calculation you can change the data and assign it to a new variable\n    int newVar = Integer.parseInt(var);\n    // here you change the type of data and assign it to a new variable so newVar = 2\n    // you can now continue working with this new variable.\n}\n</code></pre>\n<p>This is just one example of converting one data type to another. But maybe that wasn't what you wanted to do. Maybe the two variables aren't used in the same algorithm and you just like the variable name or it makes sense. In Java variables are &quot;visible&quot; in a certain context and are invisible outside of that context. That means that if you want to use one variable name for multiple different and unrelated computations you may write functions that will do those computations. Lets look at another example:</p>\n<pre><code>void doSmth() {\n    String var = &quot;13&quot;;\n    // you can do some work with this string variable\n} \n// after you are done with the string and you want to do something else and you want to keep the name, you can write up a new function\nvoid doSmthElse() {\n    int var = -1;\n    // you can now do something else with var as within this functions context there exists only one variable named &quot;var&quot; and it is an integer type\n}\n</code></pre>\n<p>If your variables are connected in some way and you don't want to rename it for the sake of clarity you can make a function that will pass the first occurrence of var to the second one.</p>\n<pre><code>void doSmthRelated() {\n    String var = &quot;13&quot;;\n    // do something with var\n    // now you want to use var for something else and you want to keep the two connected variables named the same way\n\n    // call the new function and pass the string as an argument\n    relatedFunct(var);\n\n    // if you need to use the value returned by the related function inside this function,\n    // you will need to assign the returned value to a variable that doesn't share the name\n    int necessaryValue = relatedFunct2(var);\n}\n\nvoid relatedFunct(String argument) {\n    // you can now convert the passed argument to the type you need\n    int var = Integer.parseInt(argument);\n    // do something with var\n}\n\nint relatedFunct2(String argument) {\n    // convert the argument and do whatever you want with the new var\n    int var = Integer.parseInt(argument);\n    // do something with var\n\n    // and return the value so you can use it further in your main function\n    return var;\n}\n</code></pre>\n<p>I hope this helps clear some confusion with types, variable names and context.</p>\n<p>EDIT: As user85421 pointed out <code>Integer.valueOf()</code> isn't the best way to convert a <code>String</code> to an <code>int</code>. It would be better to use <code>Integer.parseInt()</code>.</p>\n"}],"owner":{"account_id":29862351,"reputation":11,"user_id":22886655,"display_name":"poma12390"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1699537171,"creation_date":1699530785,"question_id":77452947,"body_markdown":"I am working on a Java project and have encountered a situation where I need to change the type of a variable during runtime. Is there a way to do this in Java?\r\n\r\n```java\r\nvoid doSmth(){\r\n        String var = &quot;13&quot;;\r\n\t\t//some work with string;\r\n\t\tint var = -1;\r\n\t\t//continue program\r\n    }\r\n```\r\nLater in my code, I need to treat **var** as a different type, say int or double. Is there a way to achieve this without causing type mismatch errors?\r\n\r\n```java\r\nvoid doSmth(){\r\n    String var = &quot;13&quot;;\r\n    //some work with string\r\n    var=null;\r\n    int var = -1;\r\n    //continue program\r\n}\r\n```\r\n```\r\nMain.java:15: error: variable var is already defined in method doSmth()\r\n\t\tint s = -1;\r\n```\r\n\r\n","title":"How to Change the Type of a Variable in Java?","body":"<p>I am working on a Java project and have encountered a situation where I need to change the type of a variable during runtime. Is there a way to do this in Java?</p>\n<pre class=\"lang-java prettyprint-override\"><code>void doSmth(){\n        String var = &quot;13&quot;;\n        //some work with string;\n        int var = -1;\n        //continue program\n    }\n</code></pre>\n<p>Later in my code, I need to treat <strong>var</strong> as a different type, say int or double. Is there a way to achieve this without causing type mismatch errors?</p>\n<pre class=\"lang-java prettyprint-override\"><code>void doSmth(){\n    String var = &quot;13&quot;;\n    //some work with string\n    var=null;\n    int var = -1;\n    //continue program\n}\n</code></pre>\n<pre><code>Main.java:15: error: variable var is already defined in method doSmth()\n        int s = -1;\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","cglib"],"comments":[{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1699523653,"post_id":77451427,"comment_id":136543773,"body_markdown":"Have you ever tried it without object expression? In other words, classic with a derived class from MyService, such as MyServiceImpl?","body":"Have you ever tried it without object expression? In other words, classic with a derived class from MyService, such as MyServiceImpl?"}],"answers":[{"comments":[{"owner":{"account_id":734753,"reputation":1162,"user_id":690049,"display_name":"Szzaass"},"score":0,"creation_date":1699639883,"post_id":77453644,"comment_id":136561663,"body_markdown":"I&#39;m not sure that I understand your answer. Could you please elaborate on why a service needs a specific name in order for it to work?\nI&#39;m presuming it might have been lost in translation.","body":"I&#39;m not sure that I understand your answer. Could you please elaborate on why a service needs a specific name in order for it to work? I&#39;m presuming it might have been lost in translation."}],"tags":[],"owner":{"account_id":11080455,"reputation":1,"user_id":18098841,"display_name":"Михаил Левин"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699537123,"creation_date":1699537123,"answer_id":77453644,"question_id":77451427,"body_markdown":"Your service is not named a myBlackService and if the service is not black it may not work. In general, use the word open))) ","title":"Spring Boot Kotlin BeanCreationException","body":"<p>Your service is not named a myBlackService and if the service is not black it may not work. In general, use the word open)))</p>\n"}],"owner":{"account_id":29861924,"reputation":1,"user_id":22885379,"display_name":"Артем Жуйков"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699537123,"creation_date":1699517179,"question_id":77451427,"body_markdown":"I have following spring boot configuration\r\n\r\n## SomeConfig.kt\r\n\r\n```kotlin\r\n@Configuration\r\nclass SomeConfig {\r\n\r\n    @Bean\r\n    fun someServiceBean() = object : MyService {\r\n        @Transactional\r\n        override fun doWork(): String {\r\n            return &quot;Some work have been done&quot;\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    fun cliRunner(myService: MyService): CommandLineRunner = CommandLineRunner {\r\n        myService.doWork()\r\n\r\n        println(myService.doWork())\r\n    }\r\n}\r\n```\r\n\r\n## MyService.kt\r\n\r\n```kotlin\r\ninterface MyService {\r\n\r\n    fun doWork(): String\r\n}\r\n```\r\n\r\nAnd when I launch my application I have following error\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-11-09T10:53:45.047+03:00 ERROR 22666 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;someServiceBean&#39; defined in class path resource [ru/mindtable/config/SomeConfig.class]: Could not generate CGLIB subclass of class ru.mindtable.config.SomeConfig$someServiceBean$1: Common causes of this problem include using a final class or a non-visible class\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat ru.mindtable.config.TaskTrackerApplicationKt.main(TaskTrackerApplication.kt:13) ~[main/:na]\r\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class ru.mindtable.config.SomeConfig$someServiceBean$1: Common causes of this problem include using a final class or a non-visible class\r\n\tat org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:222) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:155) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.buildProxy(AbstractAutoProxyCreator.java:517) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:464) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:369) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 15 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Cannot subclass final class ru.mindtable.config.SomeConfig$someServiceBean$1\r\n\tat org.springframework.cglib.proxy.Enhancer.generateClass(Enhancer.java:653) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:26) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.core.ClassLoaderAwareGeneratorStrategy.generate(ClassLoaderAwareGeneratorStrategy.java:57) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:366) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) ~[spring-core-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:62) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:213) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\t... 24 common frames omitted\r\n```\r\n\r\nPlease help me make my application running.\r\n\r\n\r\nI tried removing @Transactional annotation and rewrite code to java -- it worked. But I wanna switch to kotlin, so please help me solve my problem","title":"Spring Boot Kotlin BeanCreationException","body":"<p>I have following spring boot configuration</p>\n<h2>SomeConfig.kt</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Configuration\nclass SomeConfig {\n\n    @Bean\n    fun someServiceBean() = object : MyService {\n        @Transactional\n        override fun doWork(): String {\n            return &quot;Some work have been done&quot;\n        }\n    }\n\n    @Bean\n    fun cliRunner(myService: MyService): CommandLineRunner = CommandLineRunner {\n        myService.doWork()\n\n        println(myService.doWork())\n    }\n}\n</code></pre>\n<h2>MyService.kt</h2>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface MyService {\n\n    fun doWork(): String\n}\n</code></pre>\n<p>And when I launch my application I have following error</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-11-09T10:53:45.047+03:00 ERROR 22666 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'someServiceBean' defined in class path resource [ru/mindtable/config/SomeConfig.class]: Could not generate CGLIB subclass of class ru.mindtable.config.SomeConfig$someServiceBean$1: Common causes of this problem include using a final class or a non-visible class\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\n    at ru.mindtable.config.TaskTrackerApplicationKt.main(TaskTrackerApplication.kt:13) ~[main/:na]\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class ru.mindtable.config.SomeConfig$someServiceBean$1: Common causes of this problem include using a final class or a non-visible class\n    at org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:222) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:155) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.buildProxy(AbstractAutoProxyCreator.java:517) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:464) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:369) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 15 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Cannot subclass final class ru.mindtable.config.SomeConfig$someServiceBean$1\n    at org.springframework.cglib.proxy.Enhancer.generateClass(Enhancer.java:653) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:26) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.core.ClassLoaderAwareGeneratorStrategy.generate(ClassLoaderAwareGeneratorStrategy.java:57) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:366) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52) ~[spring-core-6.0.13.jar:6.0.13]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) ~[spring-core-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:62) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:213) ~[spring-aop-6.0.13.jar:6.0.13]\n    ... 24 common frames omitted\n</code></pre>\n<p>Please help me make my application running.</p>\n<p>I tried removing @Transactional annotation and rewrite code to java -- it worked. But I wanna switch to kotlin, so please help me solve my problem</p>\n"},{"tags":["java","spring","hibernate","collections","querydsl"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699354003,"post_id":77434758,"comment_id":136518252,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77434758/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9325522,"reputation":1,"user_id":6922969,"display_name":"Jinx"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699313245,"creation_date":1699313245,"answer_id":77434758,"question_id":77409442,"body_markdown":"I had a similar problem, and the info in this article resolved my problem after some contextual tinkering for my project.\r\n\r\nhttps://aregall.tech/hibernate-6-custom-functions","title":"QueryDSL Collection contains","body":"<p>I had a similar problem, and the info in this article resolved my problem after some contextual tinkering for my project.</p>\n<p><a href=\"https://aregall.tech/hibernate-6-custom-functions\" rel=\"nofollow noreferrer\">https://aregall.tech/hibernate-6-custom-functions</a></p>\n"}],"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699537037,"creation_date":1698927064,"question_id":77409442,"body_markdown":"Simple QueryDSL code that searches for users with specific single role.\r\nIt was working in the past (version `findByUserRole_1()`) and now I get exception after upgrading to the latest Hibernate.\r\n\r\nThe question: Is there a way to fix QueryDSL code to work with new Hibernate 6?\r\n\r\n**findByUserRole_1()**\r\n```\r\norg.hibernate.query.SemanticException: Operand of &#39;member of&#39; operator must be a plural path\r\n```\r\n\r\n**findByUserRole_2()** Alternate `where` clause also throws exception:\r\n\r\n```\r\norg.hibernate.query.QueryArgumentException: Argument [ROLE_ADMIN] of type [com.thevegcat.app.config.UserRole] did not match parameter type [java.util.Set (n/a)]\r\n```\r\n\r\n**findByUserRole_3()** This one also used to work and now throws exception:\r\n\r\n```\r\njava.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.BasicAttributeMapping cannot be cast to class org.hibernate.sql.ast.tree.from.TableGroupJoinProducer (org.hibernate.metamodel.mapping.internal.BasicAttributeMapping and org.hibernate.sql.ast.tree.from.TableGroupJoinProducer are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\n---\r\n\r\n**UserRole.java**\r\n\r\n```\r\npublic enum UserRole {\r\n    ROLE_ADMIN,\r\n    ROLE_ADVANCED,\r\n    ROLE_EDITOR,\r\n    ROLE_USER,\r\n    ROLE_ANONYMOUS\r\n}\r\n```\r\n\r\n---\r\n\r\n**User.java**\r\n\r\n```\r\n@Entity \r\npublic class User {\r\n    // ...\r\n\r\n\t@Convert(converter = UserRolesConverter.class)\r\n\t@Column(columnDefinition = &quot;TEXT&quot;)\r\n\tprivate Set&lt;UserRole&gt; roles;\r\n\r\n    // ...\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\n**UserRepositoryImpl.java**\r\n\r\n```\r\npublic class UserRepositoryImpl \r\n    // ...\r\n\r\n    public List&lt;User&gt; findByUserRole_1( final UserRole userRole ) {\r\n        final QUser user = QUser.user;\r\n        return \r\n            new JPAQueryFactory(this.entityManager)\r\n                .selectFrom(user)\r\n                .where(\r\n                    new BooleanBuilder().and(user.roles.contains(userRole)).getValue()\r\n                )\r\n                .fetch();\r\n    }\r\n\r\n    public List&lt;User&gt; findByUserRole_2( final UserRole userRole ) {\r\n        final QUser user = QUser.user;\r\n        return \r\n            new JPAQueryFactory(this.entityManager)\r\n                .selectFrom(user)\r\n                .where(\r\n                    new BooleanBuilder().and(user.roles.any().eq(userRole)).getValue()\r\n                )\r\n                .fetch();\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n---\r\n\r\n**UserRepository.java**\r\n\r\n```\r\npublic interface UserRepository extends\r\n    PagingAndSortingRepository&lt;User, Integer&gt;,\r\n    CrudRepository&lt;User, Integer&gt;\r\n{\r\n    // ...\r\n\r\n    @Query(&quot;SELECT u FROM User u LEFT JOIN FETCH u.roles r WHERE :role IN ( r )&quot;)\r\n    List&lt;User&gt; findByUserRole_3(UserRole role);\r\n\r\n    // ...\r\n}\r\n```\r\n\r\n---\r\n\r\nBug report that I created about this issue:\r\nhttps://github.com/querydsl/querydsl/issues/3618","title":"QueryDSL Collection contains","body":"<p>Simple QueryDSL code that searches for users with specific single role.\nIt was working in the past (version <code>findByUserRole_1()</code>) and now I get exception after upgrading to the latest Hibernate.</p>\n<p>The question: Is there a way to fix QueryDSL code to work with new Hibernate 6?</p>\n<p><strong>findByUserRole_1()</strong></p>\n<pre><code>org.hibernate.query.SemanticException: Operand of 'member of' operator must be a plural path\n</code></pre>\n<p><strong>findByUserRole_2()</strong> Alternate <code>where</code> clause also throws exception:</p>\n<pre><code>org.hibernate.query.QueryArgumentException: Argument [ROLE_ADMIN] of type [com.thevegcat.app.config.UserRole] did not match parameter type [java.util.Set (n/a)]\n</code></pre>\n<p><strong>findByUserRole_3()</strong> This one also used to work and now throws exception:</p>\n<pre><code>java.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.BasicAttributeMapping cannot be cast to class org.hibernate.sql.ast.tree.from.TableGroupJoinProducer (org.hibernate.metamodel.mapping.internal.BasicAttributeMapping and org.hibernate.sql.ast.tree.from.TableGroupJoinProducer are in unnamed module of loader 'app')\n</code></pre>\n<hr />\n<p><strong>UserRole.java</strong></p>\n<pre><code>public enum UserRole {\n    ROLE_ADMIN,\n    ROLE_ADVANCED,\n    ROLE_EDITOR,\n    ROLE_USER,\n    ROLE_ANONYMOUS\n}\n</code></pre>\n<hr />\n<p><strong>User.java</strong></p>\n<pre><code>@Entity \npublic class User {\n    // ...\n\n    @Convert(converter = UserRolesConverter.class)\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    private Set&lt;UserRole&gt; roles;\n\n    // ...\n}\n\n</code></pre>\n<hr />\n<p><strong>UserRepositoryImpl.java</strong></p>\n<pre><code>public class UserRepositoryImpl \n    // ...\n\n    public List&lt;User&gt; findByUserRole_1( final UserRole userRole ) {\n        final QUser user = QUser.user;\n        return \n            new JPAQueryFactory(this.entityManager)\n                .selectFrom(user)\n                .where(\n                    new BooleanBuilder().and(user.roles.contains(userRole)).getValue()\n                )\n                .fetch();\n    }\n\n    public List&lt;User&gt; findByUserRole_2( final UserRole userRole ) {\n        final QUser user = QUser.user;\n        return \n            new JPAQueryFactory(this.entityManager)\n                .selectFrom(user)\n                .where(\n                    new BooleanBuilder().and(user.roles.any().eq(userRole)).getValue()\n                )\n                .fetch();\n    }\n\n    // ...\n}\n</code></pre>\n<hr />\n<p><strong>UserRepository.java</strong></p>\n<pre><code>public interface UserRepository extends\n    PagingAndSortingRepository&lt;User, Integer&gt;,\n    CrudRepository&lt;User, Integer&gt;\n{\n    // ...\n\n    @Query(&quot;SELECT u FROM User u LEFT JOIN FETCH u.roles r WHERE :role IN ( r )&quot;)\n    List&lt;User&gt; findByUserRole_3(UserRole role);\n\n    // ...\n}\n</code></pre>\n<hr />\n<p>Bug report that I created about this issue:\n<a href=\"https://github.com/querydsl/querydsl/issues/3618\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/issues/3618</a></p>\n"},{"tags":["java","android","flutter","touch","touchscreen"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1699503683,"post_id":77450121,"comment_id":136541097,"body_markdown":"Not on a random device.  It&#39;s possible if you&#39;re rooted, but that&#39;s all.  Although if you look at TouchEvent, you can get a lot more data than the clicks people generally use.","body":"Not on a random device.  It&#39;s possible if you&#39;re rooted, but that&#39;s all.  Although if you look at TouchEvent, you can get a lot more data than the clicks people generally use."}],"owner":{"account_id":29852433,"reputation":21,"user_id":22877988,"display_name":"Reew1nd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699536877,"creation_date":1699497069,"question_id":77450121,"body_markdown":"I found an example:http://huyle.de/blog/capacitive-images/. Is there a way to access raw capacitive images on multiple Android phones? How should I modify the kernel to get the raw input data and then generate the capacitive image? I have no Android hardware or kernel development experience. Any better suggestions? Thank you very much for answering it for me。\r\n\r\n\r\nI want to get the raw input data of the touch screen and generate a capacitive image\r\n\r\n[capacitive images](https://i.stack.imgur.com/OQS4q.png)","title":"How can I access raw touch capacitive images from an Android phone?","body":"<p>I found an example:<a href=\"http://huyle.de/blog/capacitive-images/\" rel=\"nofollow noreferrer\">http://huyle.de/blog/capacitive-images/</a>. Is there a way to access raw capacitive images on multiple Android phones? How should I modify the kernel to get the raw input data and then generate the capacitive image? I have no Android hardware or kernel development experience. Any better suggestions? Thank you very much for answering it for me。</p>\n<p>I want to get the raw input data of the touch screen and generate a capacitive image</p>\n<p><a href=\"https://i.stack.imgur.com/OQS4q.png\" rel=\"nofollow noreferrer\">capacitive images</a></p>\n"},{"tags":["java","amazon-web-services","https","certificate","amazon-ecs"],"answers":[{"comments":[{"owner":{"account_id":17536201,"reputation":401,"user_id":12719287,"display_name":"coloradoman"},"score":0,"creation_date":1699620243,"post_id":77453521,"comment_id":136558097,"body_markdown":"Thats the impression I got with amazon certificate manager. How do you store a file in secret manager? I haven&#39;t used it, we use system manager parameter store to store our secrets (passwords and api keys but never a file). The system manager parameter store allows us to it as a secure string. Can we also store a file here, or would it need to be stored in secret manager? Thank you for your help.","body":"Thats the impression I got with amazon certificate manager. How do you store a file in secret manager? I haven&#39;t used it, we use system manager parameter store to store our secrets (passwords and api keys but never a file). The system manager parameter store allows us to it as a secure string. Can we also store a file here, or would it need to be stored in secret manager? Thank you for your help."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1699623156,"post_id":77453521,"comment_id":136558621,"body_markdown":"You would just copy/paste the contents of the file into Secrets Manager. You can&#39;t store a &quot;file&quot; in Secrets Manager, you would just store the contents of the file as a secret string. You might be able to do the same with Parameter Store. SSM Parameter store has a 4KB limit, Secrets Manager has a 10KB limit.","body":"You would just copy/paste the contents of the file into Secrets Manager. You can&#39;t store a &quot;file&quot; in Secrets Manager, you would just store the contents of the file as a secret string. You might be able to do the same with Parameter Store. SSM Parameter store has a 4KB limit, Secrets Manager has a 10KB limit."},{"owner":{"account_id":17536201,"reputation":401,"user_id":12719287,"display_name":"coloradoman"},"score":0,"creation_date":1699623803,"post_id":77453521,"comment_id":136558739,"body_markdown":"when I open the .pfx file in notepad, it contains non human readable characters (the stuff you&#39;d see in a jpg or something). How can I possibly paste the contents of this file into a string?","body":"when I open the .pfx file in notepad, it contains non human readable characters (the stuff you&#39;d see in a jpg or something). How can I possibly paste the contents of this file into a string?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1699624053,"post_id":77453521,"comment_id":136558797,"body_markdown":"You would need to convert it to .pem format first, before storing it in Secrets Manager or Parameter Store.","body":"You would need to convert it to .pem format first, before storing it in Secrets Manager or Parameter Store."},{"owner":{"account_id":17536201,"reputation":401,"user_id":12719287,"display_name":"coloradoman"},"score":0,"creation_date":1699627523,"post_id":77453521,"comment_id":136559431,"body_markdown":"Thanks Mark, I will try that, any tools you recommend to do this?","body":"Thanks Mark, I will try that, any tools you recommend to do this?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1699627577,"post_id":77453521,"comment_id":136559444,"body_markdown":"OpenSSL is the standard tool for this sort of thing: https://stackoverflow.com/questions/15413646/converting-pfx-to-pem-using-openssl","body":"OpenSSL is the standard tool for this sort of thing: <a href=\"https://stackoverflow.com/questions/15413646/converting-pfx-to-pem-using-openssl\" title=\"converting pfx to pem using openssl\">stackoverflow.com/questions/15413646/&hellip;</a>"},{"owner":{"account_id":17536201,"reputation":401,"user_id":12719287,"display_name":"coloradoman"},"score":0,"creation_date":1700255263,"post_id":77453521,"comment_id":136636376,"body_markdown":"I decided to just go the route of getting the file into s3 and referencing it in the code. I couldn&#39;t get java to ingest a stringified version of the cert.","body":"I decided to just go the route of getting the file into s3 and referencing it in the code. I couldn&#39;t get java to ingest a stringified version of the cert."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1700255553,"post_id":77453521,"comment_id":136636407,"body_markdown":"I&#39;m not sure I would call it &quot;stringified&quot;. It&#39;s converted to a different key format. You would have to do something like this to load it into Java https://www.baeldung.com/java-read-pem-file-keys","body":"I&#39;m not sure I would call it &quot;stringified&quot;. It&#39;s converted to a different key format. You would have to do something like this to load it into Java <a href=\"https://www.baeldung.com/java-read-pem-file-keys\" rel=\"nofollow noreferrer\">baeldung.com/java-read-pem-file-keys</a>"}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699535946,"creation_date":1699535946,"answer_id":77453521,"question_id":77449147,"body_markdown":"You can absolutely store the cert in an SSL bucket. Or you could store it in AWS Secrets Manager. Either of these would allow you to store the cert file encrypted, and you could have an S3 bucket policy or Secrets Manager resource policy that controls who has access to it. Also, either of these would allow you to manage the certificate easily through the AWS Web console. Secrets Manager has an advantage over S3 in that you can configure ECS to provide the content of the secret as an environment variable in your ECS container, so that you can access it without writing any code yourself to pull the value from Secrets Manager.\r\n\r\nYou could copy it to an EFS volume that you mount to your ECS service, and then your Java code could read it like a local file at run time. However any time you needed to manage the certificate file, you would need to spin up an EC2 server that also has the EFS volume mounted so that you can perform file copy commands into the volume. The file wouldn&#39;t be able to be managed through the AWS web console. \r\n\r\nYou mention simply copying the file into your docker image when you build it, and that can absolutely be an acceptable method of providing your ECS app with the certificate file. One disadvantage is that the file would always need to be present on the server where you are building the docker image, which may be a problem if you are using a CI/CD system to build your images.\r\n\r\nI&#39;ve seen client certificates provided to ECS apps in all the above listed ways (S3, Secrets Manager, EFS volumes, and built directly into the docker container). \r\n\r\nAmazon Certificate Manager is geared more towards storing certificates that you will be attaching to load balancers, CloufFront distributions, etc, not client-side certificates like the one you are using here. I think you could use it for your purpose, but it isn&#39;t really designed for that so I don&#39;t recommend it.\r\n\r\n","title":"Accessing external url from AWS ECS with https cert in java","body":"<p>You can absolutely store the cert in an SSL bucket. Or you could store it in AWS Secrets Manager. Either of these would allow you to store the cert file encrypted, and you could have an S3 bucket policy or Secrets Manager resource policy that controls who has access to it. Also, either of these would allow you to manage the certificate easily through the AWS Web console. Secrets Manager has an advantage over S3 in that you can configure ECS to provide the content of the secret as an environment variable in your ECS container, so that you can access it without writing any code yourself to pull the value from Secrets Manager.</p>\n<p>You could copy it to an EFS volume that you mount to your ECS service, and then your Java code could read it like a local file at run time. However any time you needed to manage the certificate file, you would need to spin up an EC2 server that also has the EFS volume mounted so that you can perform file copy commands into the volume. The file wouldn't be able to be managed through the AWS web console.</p>\n<p>You mention simply copying the file into your docker image when you build it, and that can absolutely be an acceptable method of providing your ECS app with the certificate file. One disadvantage is that the file would always need to be present on the server where you are building the docker image, which may be a problem if you are using a CI/CD system to build your images.</p>\n<p>I've seen client certificates provided to ECS apps in all the above listed ways (S3, Secrets Manager, EFS volumes, and built directly into the docker container).</p>\n<p>Amazon Certificate Manager is geared more towards storing certificates that you will be attaching to load balancers, CloufFront distributions, etc, not client-side certificates like the one you are using here. I think you could use it for your purpose, but it isn't really designed for that so I don't recommend it.</p>\n"}],"owner":{"account_id":17536201,"reputation":401,"user_id":12719287,"display_name":"coloradoman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699535946,"creation_date":1699479852,"question_id":77449147,"body_markdown":"Anybody know how to do this? I have a external client webservice outside of our aws cluster that requires https and for us to send a cert to authenticate our request.\r\n\r\nIn Postman for example, I added the pfx as a client cert and the requests started working. Now I just need to replicate this in my java service and in ECS. What is the best way to do this?\r\n\r\nI have a few ideas, perhaps storing the cert in s3, and just adding it to my https each time I want to call that external api. There also is amazon certificate manager, but I am not sure if this will allow me to reference that cert when calling that external api. I also thought about just adding it to the java cert folder when we build the application for deployment.\r\n\r\nECS hosts will spin up and tear down based on demand, so I don&#39;t think I can just use keystore to add it to it since that instance of the server may not be there forever. I am using spring in my app if that helps at all.","title":"Accessing external url from AWS ECS with https cert in java","body":"<p>Anybody know how to do this? I have a external client webservice outside of our aws cluster that requires https and for us to send a cert to authenticate our request.</p>\n<p>In Postman for example, I added the pfx as a client cert and the requests started working. Now I just need to replicate this in my java service and in ECS. What is the best way to do this?</p>\n<p>I have a few ideas, perhaps storing the cert in s3, and just adding it to my https each time I want to call that external api. There also is amazon certificate manager, but I am not sure if this will allow me to reference that cert when calling that external api. I also thought about just adding it to the java cert folder when we build the application for deployment.</p>\n<p>ECS hosts will spin up and tear down based on demand, so I don't think I can just use keystore to add it to it since that instance of the server may not be there forever. I am using spring in my app if that helps at all.</p>\n"},{"tags":["java","eclipse","view","multiple-instances"],"comments":[{"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"score":0,"creation_date":1539270520,"post_id":52762625,"comment_id":92449813,"body_markdown":"When you open the view, using, e.g., `getActivePage().showView(...)` you pass a secondary ID. This 2nd id can be any non-empty `String`. If you will need to find the view again, use something sensible. See [the javadocs for showView](https://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fui%2FIWorkbenchWindow.html). See also [How to create multiple instances of one ViewPart](https://www.java-tips.org/other-api-tips-100035/168-eclipse/1572-how-to-create-multiple-instances-of-one-viewpart.html).","body":"When you open the view, using, e.g., <code>getActivePage().showView(...)</code> you pass a secondary ID. This 2nd id can be any non-empty <code>String</code>. If you will need to find the view again, use something sensible. See <a href=\"https://help.eclipse.org/kepler/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fui%2FIWorkbenchWindow.html\" rel=\"nofollow noreferrer\">the javadocs for showView</a>. See also <a href=\"https://www.java-tips.org/other-api-tips-100035/168-eclipse/1572-how-to-create-multiple-instances-of-one-viewpart.html\" rel=\"nofollow noreferrer\">How to create multiple instances of one ViewPart</a>."}],"answers":[{"comments":[{"owner":{"display_name":"user10490295"},"score":0,"creation_date":1539351708,"post_id":52763499,"comment_id":92482977,"body_markdown":"Thanks man ! just specifying where i needed to put it was enough for me to work out exactly what i needed to do","body":"Thanks man ! just specifying where i needed to put it was enough for me to work out exactly what i needed to do"}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539270684,"creation_date":1539270684,"answer_id":52763499,"question_id":52762625,"body_markdown":"You specify the secondary id for the view when you show it using `IWorkbenchPage.showView`:\r\n\r\n    IWorkbenchPage page = PlatformUI.getWorkbench().getActiveWorkbenchWindow().getActivePage();\r\n\r\n    page.showView(&quot;view id&quot;, &quot;secondary id&quot;, IWorkbenchPage.VIEW_ACTIVATE);\r\n\r\n`&quot;secondary id&quot;` must be different for each instance of the view.\r\n","title":"Opening Multiple instances of the same view in eclipse","body":"<p>You specify the secondary id for the view when you show it using <code>IWorkbenchPage.showView</code>:</p>\n\n<pre><code>IWorkbenchPage page = PlatformUI.getWorkbench().getActiveWorkbenchWindow().getActivePage();\n\npage.showView(\"view id\", \"secondary id\", IWorkbenchPage.VIEW_ACTIVATE);\n</code></pre>\n\n<p><code>\"secondary id\"</code> must be different for each instance of the view.</p>\n"},{"tags":[],"owner":{"account_id":8531110,"reputation":83,"user_id":6394769,"display_name":"SFA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699535811,"creation_date":1699535811,"answer_id":77453503,"question_id":52762625,"body_markdown":"It is also possible to use two windows connected to same workspace instant. When you are debugging and is paused at a debug point, choose: **Window -&gt; New Window**. Then another window gets opened. Let the new and old windows be side by side. Now for example, in this newly opened window, choose: **Window -&gt; Show View -&gt; Debug**. Now you will get the same line of code opened at which the debug is paused in the old window. Now choose: **Window -&gt; Show View -&gt; Variables**. Now you get two Variable views which have the same instances of variables available. In my case, I wanted to compare old and new values present in one complicated object and it was easy when I could compare them side by side, rather than scrolling up and down in Variables view. ","title":"Opening Multiple instances of the same view in eclipse","body":"<p>It is also possible to use two windows connected to same workspace instant. When you are debugging and is paused at a debug point, choose: <strong>Window -&gt; New Window</strong>. Then another window gets opened. Let the new and old windows be side by side. Now for example, in this newly opened window, choose: <strong>Window -&gt; Show View -&gt; Debug</strong>. Now you will get the same line of code opened at which the debug is paused in the old window. Now choose: <strong>Window -&gt; Show View -&gt; Variables</strong>. Now you get two Variable views which have the same instances of variables available. In my case, I wanted to compare old and new values present in one complicated object and it was easy when I could compare them side by side, rather than scrolling up and down in Variables view.</p>\n"}],"owner":{"display_name":"user10490295"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52763499,"answer_count":2,"score":1,"last_activity_date":1699535811,"creation_date":1539268147,"question_id":52762625,"body_markdown":"So im relativley new to this view/perspective development and have come across a problem. My views only open once and another instance cannot be opened again even when I load different data.\r\n\r\nIve looked everywhere and all i can find people saying is that I need a secondary id etc... but no explaination of where to go to do this or how to go about this.\r\n\r\nI need instances of my views to be opend multiple times if possible all with different data. these views are opened and controlled through a tree view i have created.\r\n\r\nThese views are currently just an extension of the Java perspective in eclipse 4.5.2. \r\n\r\nAny pointers in the right direction would be a great help!","title":"Opening Multiple instances of the same view in eclipse","body":"<p>So im relativley new to this view/perspective development and have come across a problem. My views only open once and another instance cannot be opened again even when I load different data.</p>\n\n<p>Ive looked everywhere and all i can find people saying is that I need a secondary id etc... but no explaination of where to go to do this or how to go about this.</p>\n\n<p>I need instances of my views to be opend multiple times if possible all with different data. these views are opened and controlled through a tree view i have created.</p>\n\n<p>These views are currently just an extension of the Java perspective in eclipse 4.5.2. </p>\n\n<p>Any pointers in the right direction would be a great help!</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"score":0,"creation_date":1569870532,"post_id":58171320,"comment_id":102728537,"body_markdown":"That works for me but i cant change the name of the jar. I opened another issue about it: https://stackoverflow.com/questions/58173663/destfilename-is-ignored-by-mvn-install-dependencycopy-dependencies","body":"That works for me but i cant change the name of the jar. I opened another issue about it: <a href=\"https://stackoverflow.com/questions/58173663/destfilename-is-ignored-by-mvn-install-dependencycopy-dependencies\" title=\"destfilename is ignored by mvn install dependencycopy dependencies\">stackoverflow.com/questions/58173663/&hellip;</a>"}],"tags":[],"owner":{"account_id":1880144,"reputation":2642,"user_id":1700539,"display_name":"abinet"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1569858737,"creation_date":1569858737,"answer_id":58171320,"question_id":58171232,"body_markdown":"You can use maven dependency plugin to copy dependency in particular folder:\r\n\r\nhttps://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-artifacts.html","title":"How do I download an uber jar dependency to a specific local location/folder?","body":"<p>You can use maven dependency plugin to copy dependency in particular folder:</p>\n\n<p><a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-artifacts.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/examples/copying-artifacts.html</a></p>\n"}],"owner":{"account_id":1016892,"reputation":28609,"user_id":1028270,"accept_rate":90,"display_name":"red888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58171320,"answer_count":1,"score":0,"last_activity_date":1699535726,"creation_date":1569858366,"question_id":58171232,"body_markdown":"Using shade I&#39;m uploading an uberjar to a repo:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n              &lt;shadedClassifierName&gt;myjar&lt;/shadedClassifierName&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nThen I have another app that needs to access that jar. I was planning on just having a pom in the other apps repository and have deploy scripts calling mvn install or whatever to download the uber jar locally. I&#39;m not sure how to just download the uber jar.\r\n\r\nThis POM creates a `blahblah-1.jar` in the target folder when I run `mvn install`. What I want is to have it pull down the uber jar into a specific directory. How can I do this in a pom config? I don&#39;t want to have to pass specific params to `mvn`; I want the config to be in the pom so I can just execute something like `mvn install` and it pulls down the uber jar dependency into the right directory. I want to use a pom for all settings because this will mean my CI/CD server just needs to call the same command for other apps like this and the settings will be in pom\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;derps&lt;/groupId&gt;\r\n      &lt;artifactId&gt;blahblah&lt;/artifactId&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n    \r\n      &lt;!-- Retrieve artifacts from internal repo --&gt;\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;myrepo&lt;/id&gt;\r\n          &lt;name&gt;my repo&lt;/name&gt;\r\n          &lt;url&gt;https://myrepo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n          &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n          &lt;classifier&gt;myjar&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n","title":"How do I download an uber jar dependency to a specific local location/folder?","body":"<p>Using shade I'm uploading an uberjar to a repo:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n          &lt;shadedClassifierName&gt;myjar&lt;/shadedClassifierName&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>Then I have another app that needs to access that jar. I was planning on just having a pom in the other apps repository and have deploy scripts calling mvn install or whatever to download the uber jar locally. I'm not sure how to just download the uber jar.</p>\n<p>This POM creates a <code>blahblah-1.jar</code> in the target folder when I run <code>mvn install</code>. What I want is to have it pull down the uber jar into a specific directory. How can I do this in a pom config? I don't want to have to pass specific params to <code>mvn</code>; I want the config to be in the pom so I can just execute something like <code>mvn install</code> and it pulls down the uber jar dependency into the right directory. I want to use a pom for all settings because this will mean my CI/CD server just needs to call the same command for other apps like this and the settings will be in pom</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;derps&lt;/groupId&gt;\n  &lt;artifactId&gt;blahblah&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n  &lt;!-- Retrieve artifacts from internal repo --&gt;\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;myrepo&lt;/id&gt;\n      &lt;name&gt;my repo&lt;/name&gt;\n      &lt;url&gt;https://myrepo&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n      &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;classifier&gt;myjar&lt;/classifier&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","barcode"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":0,"creation_date":1699532869,"post_id":77453006,"comment_id":136545494,"body_markdown":"Comparing the result of `aA1` from both tools, I believe this is because ZXing automatically infers the appropriate subtype, but your ZPL code doesn&#39;t. See page 95 for discussion https://support.zebra.com/cpws/docs/zpl/BC_Command.pdf, if you want your ZPL code to produce identical results to ZXing then you&#39;ll have to set the appropriate subset or allow automatic subset. If you want your Java code to use a specific subset, it seems Zxing doesn&#39;t support manual subset selection so you&#39;ll have to find another library","body":"Comparing the result of <code>aA1</code> from both tools, I believe this is because ZXing automatically infers the appropriate subtype, but your ZPL code doesn&#39;t. See page 95 for discussion <a href=\"https://support.zebra.com/cpws/docs/zpl/BC_Command.pdf\" rel=\"nofollow noreferrer\">support.zebra.com/cpws/docs/zpl/BC_Command.pdf</a>, if you want your ZPL code to produce identical results to ZXing then you&#39;ll have to set the appropriate subset or allow automatic subset. If you want your Java code to use a specific subset, it seems Zxing doesn&#39;t support manual subset selection so you&#39;ll have to find another library"},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1699533100,"post_id":77453006,"comment_id":136545535,"body_markdown":"Ah, this ZPL code `FD&gt;;12345678` will result in identical barcode as your Zxing code","body":"Ah, this ZPL code <code>FD&gt;;12345678</code> will result in identical barcode as your Zxing code"},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1699533296,"post_id":77453006,"comment_id":136545563,"body_markdown":"Do you have a Documentation reference for the ^FD&gt;; I&#39;ve never seen it before and would like to figure out how it works in detail.","body":"Do you have a Documentation reference for the ^FD&gt;; I&#39;ve never seen it before and would like to figure out how it works in detail."},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1699533364,"post_id":77453006,"comment_id":136545578,"body_markdown":"In the PDF I shared in the earlier comment, it&#39;s the Start Code C for all numeric code","body":"In the PDF I shared in the earlier comment, it&#39;s the Start Code C for all numeric code"},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1699538031,"post_id":77453006,"comment_id":136546574,"body_markdown":"@Martheen, thanks - I managed to find it. Any insights on which mode corresponds to each subset (A/B/C)? Appreciate your help!","body":"@Martheen, thanks - I managed to find it. Any insights on which mode corresponds to each subset (A/B/C)? Appreciate your help!"}],"answers":[{"comments":[{"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"score":0,"creation_date":1699532970,"post_id":77453193,"comment_id":136545510,"body_markdown":"You beat me by 10 seconds. Have an upvote.","body":"You beat me by 10 seconds. Have an upvote."},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1699533773,"post_id":77453193,"comment_id":136545674,"body_markdown":"Can you provide a code example on how to use FORCE_CODE_SET","body":"Can you provide a code example on how to use FORCE_CODE_SET"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1699534545,"post_id":77453193,"comment_id":136545815,"body_markdown":"@malz done, just showing the basic idea, may not compile","body":"@malz done, just showing the basic idea, may not compile"},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1699534707,"post_id":77453193,"comment_id":136545857,"body_markdown":"It works perfectly fine, thanks a lot!","body":"It works perfectly fine, thanks a lot!"}],"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1699535706,"creation_date":1699532904,"answer_id":77453193,"question_id":77453006,"body_markdown":"Both are correct, just different encodings.\r\nThe `69` one is Code C with two digits per code point. The longer `68` one is Code B.\r\n\r\nSee also: https://en.wikipedia.org/wiki/Code_128\r\n\r\nIf you want to force your code to also do the longer code B, you could set the [FORCE_CODE_SET](https://zxing.github.io/zxing/apidocs/com/google/zxing/EncodeHintType.html#FORCE_CODE_SET) encode hint to &quot;B&quot;.\r\n\r\nWild guess about the encode hints:\r\n\r\n    Map&lt;EncodeHintType, String&gt; hints = new HashMap&lt;&gt;();\r\n    hints.put(EncodeHintType.FORCE_CODE_SET, &quot;B&quot;);\r\n    BitMatrix matrix = writer.encode(data, BarcodeFormat.CODE_128, width, height, hints);","title":"Why do identical data barcodes look different visually?","body":"<p>Both are correct, just different encodings.\nThe <code>69</code> one is Code C with two digits per code point. The longer <code>68</code> one is Code B.</p>\n<p>See also: <a href=\"https://en.wikipedia.org/wiki/Code_128\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Code_128</a></p>\n<p>If you want to force your code to also do the longer code B, you could set the <a href=\"https://zxing.github.io/zxing/apidocs/com/google/zxing/EncodeHintType.html#FORCE_CODE_SET\" rel=\"nofollow noreferrer\">FORCE_CODE_SET</a> encode hint to &quot;B&quot;.</p>\n<p>Wild guess about the encode hints:</p>\n<pre><code>Map&lt;EncodeHintType, String&gt; hints = new HashMap&lt;&gt;();\nhints.put(EncodeHintType.FORCE_CODE_SET, &quot;B&quot;);\nBitMatrix matrix = writer.encode(data, BarcodeFormat.CODE_128, width, height, hints);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699532916,"creation_date":1699532916,"answer_id":77453195,"question_id":77453006,"body_markdown":"While I haven&#39;t reverse-engineered the exact data in your barcodes, I do note that the Wikipedia article on Code 128 mentions that it supports [three different encodings][1] of data, including the ability to swap between different encodings multiple times within the same barcode.\r\n\r\nPresumably, different implementations use different strategies for encoding characters into the barcodes, with ZXing finding a more compact way to encode your digits than Labelary does.\r\n\r\nIf this hunch is true, the two barcodes express the same data in two different, but equivalent, ways.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_128#Subtypes","title":"Why do identical data barcodes look different visually?","body":"<p>While I haven't reverse-engineered the exact data in your barcodes, I do note that the Wikipedia article on Code 128 mentions that it supports <a href=\"https://en.wikipedia.org/wiki/Code_128#Subtypes\" rel=\"nofollow noreferrer\">three different encodings</a> of data, including the ability to swap between different encodings multiple times within the same barcode.</p>\n<p>Presumably, different implementations use different strategies for encoding characters into the barcodes, with ZXing finding a more compact way to encode your digits than Labelary does.</p>\n<p>If this hunch is true, the two barcodes express the same data in two different, but equivalent, ways.</p>\n"}],"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77453193,"answer_count":2,"score":4,"last_activity_date":1699535706,"creation_date":1699531301,"question_id":77453006,"body_markdown":"I&#39;m encountering a discrepancy between two barcodes with identical content but different raw bytes. One barcode is generated using an online tool called Labelary, designed for creating ZPL Labels, and the other is generated in my Java code using the ZXing library. Despite having the same content, the visual appearance of the barcodes differs.\r\n\r\n#### My Barcode\r\n[![My barcode][1]][1]\r\n\r\n**Raw text:** 12345678 &lt;br&gt;\r\n**Raw bytes:** 69 0c 22 38 4e 2f 6a \r\n\r\n`BarcodeGenerator.java`\r\n```\r\npublic byte[] getBarCode128(String data, int width, int height) {\r\n\tCode128Writer writer = new Code128Writer();\r\n\tBitMatrix matrix = writer.encode(data, BarcodeFormat.CODE_128, width, height);\r\n\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n\ttry {\r\n\t    MatrixToImageWriter.writeToStream(matrix, &quot;png&quot;, outputStream);\r\n\t    return outputStream.toByteArray();\r\n\t} catch (IOException e) {\r\n\t    e.printStackTrace();\r\n\t    return null;\r\n    }\r\n}\r\n```\r\n\r\n`Main.java`\r\n```\r\npublic static void main(String[] args) {\r\n\tString data = &quot;12345678&quot;;\r\n\t\t\r\n\tint width = (int) (data.length() * 11 * moduleWidth);\r\n\tint height = 270;\r\n\t\t\r\n\tBarcodeGenerator barcode = new BarcodeGenerator();\r\n\tbyte[] barcodeImageBytes = barcode.getBarCode128(data, (int) width, (int) height);\r\n}\r\n```\r\n\r\n\r\n#### Barcode from Labelary\r\nClick [here](https://labelary.com/viewer.html?density=8&amp;quality=grayscale&amp;width=4&amp;height=2&amp;units=inches&amp;index=0&amp;rotation=0&amp;zpl=%5EXA%0A%0A%5EBY5%2C2%2C270%0A%5EFO0%2C0%5EBC%2C%2CN%5EFD12345678%5EFS%0A%0A%5EXZ) to view source code.\r\n\r\n\r\n[![Barcode from Labelary][2]][2]\r\n\r\n\r\n**Raw text:** 12345678 &lt;br&gt;\r\n**Raw bytes:** 68 11 12 13 14 15 16 17   18 3c 6a \r\n\r\nWhat could be the potential reasons for this discrepancy, and how can I ensure correct barcode generation using the ZXing library in Java?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WWKgs.png\r\n  [2]: https://i.stack.imgur.com/osuRS.png","title":"Why do identical data barcodes look different visually?","body":"<p>I'm encountering a discrepancy between two barcodes with identical content but different raw bytes. One barcode is generated using an online tool called Labelary, designed for creating ZPL Labels, and the other is generated in my Java code using the ZXing library. Despite having the same content, the visual appearance of the barcodes differs.</p>\n<h4>My Barcode</h4>\n<p><a href=\"https://i.stack.imgur.com/WWKgs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WWKgs.png\" alt=\"My barcode\" /></a></p>\n<p><strong>Raw text:</strong> 12345678 <br>\n<strong>Raw bytes:</strong> 69 0c 22 38 4e 2f 6a</p>\n<p><code>BarcodeGenerator.java</code></p>\n<pre><code>public byte[] getBarCode128(String data, int width, int height) {\n    Code128Writer writer = new Code128Writer();\n    BitMatrix matrix = writer.encode(data, BarcodeFormat.CODE_128, width, height);\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    try {\n        MatrixToImageWriter.writeToStream(matrix, &quot;png&quot;, outputStream);\n        return outputStream.toByteArray();\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p><code>Main.java</code></p>\n<pre><code>public static void main(String[] args) {\n    String data = &quot;12345678&quot;;\n        \n    int width = (int) (data.length() * 11 * moduleWidth);\n    int height = 270;\n        \n    BarcodeGenerator barcode = new BarcodeGenerator();\n    byte[] barcodeImageBytes = barcode.getBarCode128(data, (int) width, (int) height);\n}\n</code></pre>\n<h4>Barcode from Labelary</h4>\n<p>Click <a href=\"https://labelary.com/viewer.html?density=8&amp;quality=grayscale&amp;width=4&amp;height=2&amp;units=inches&amp;index=0&amp;rotation=0&amp;zpl=%5EXA%0A%0A%5EBY5%2C2%2C270%0A%5EFO0%2C0%5EBC%2C%2CN%5EFD12345678%5EFS%0A%0A%5EXZ\" rel=\"nofollow noreferrer\">here</a> to view source code.</p>\n<p><a href=\"https://i.stack.imgur.com/osuRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osuRS.png\" alt=\"Barcode from Labelary\" /></a></p>\n<p><strong>Raw text:</strong> 12345678 <br>\n<strong>Raw bytes:</strong> 68 11 12 13 14 15 16 17   18 3c 6a</p>\n<p>What could be the potential reasons for this discrepancy, and how can I ensure correct barcode generation using the ZXing library in Java?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":1515381,"reputation":958,"user_id":1416490,"accept_rate":72,"display_name":"zt9788"},"score":0,"creation_date":1699514571,"post_id":77451168,"comment_id":136542103,"body_markdown":"springboot3 javax ==&gt; jakarta","body":"springboot3 javax ==&gt; jakarta"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699514824,"post_id":77451168,"comment_id":136542133,"body_markdown":"Spring Boot 3.x requires Spring Security 6.x (because of the change from Java EE with `javax.servlet` classes to Jakarta EE with `jakarta.servlet` classes)","body":"Spring Boot 3.x requires Spring Security 6.x (because of the change from Java EE with <code>javax.servlet</code> classes to Jakarta EE with <code>jakarta.servlet</code> classes)"},{"owner":{"account_id":24289808,"reputation":149,"user_id":18235030,"display_name":"JonD"},"score":0,"creation_date":1699515112,"post_id":77451168,"comment_id":136542169,"body_markdown":"So you are saying to change spring-security-web and spring-security-core to version 6.x if available and my issue should be resolved?","body":"So you are saying to change spring-security-web and spring-security-core to version 6.x if available and my issue should be resolved?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":3,"creation_date":1699519768,"post_id":77451168,"comment_id":136542998,"body_markdown":"Drop all explicit versions of Spring (Boot) dependencies - those are provided by the Spring Boot parent. You&#39;re now running into possible version mismatches. Also prefer to use starters; `spring-boot-starter-security` should be sufficient for both. Drop the explicit servlet API dependency - you&#39;re getting the correct dependency (jakarta) through `spring-boot-starter-web`.","body":"Drop all explicit versions of Spring (Boot) dependencies - those are provided by the Spring Boot parent. You&#39;re now running into possible version mismatches. Also prefer to use starters; <code>spring-boot-starter-security</code> should be sufficient for both. Drop the explicit servlet API dependency - you&#39;re getting the correct dependency (jakarta) through <code>spring-boot-starter-web</code>."}],"answers":[{"comments":[{"owner":{"account_id":24289808,"reputation":149,"user_id":18235030,"display_name":"JonD"},"score":0,"creation_date":1699538575,"post_id":77451715,"comment_id":136546689,"body_markdown":"I took your advice, and it instantly worked! Thanks so much for your help!","body":"I took your advice, and it instantly worked! Thanks so much for your help!"}],"tags":[],"owner":{"account_id":29834231,"reputation":39,"user_id":22863970,"display_name":"happyDayJeffrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699525816,"creation_date":1699520090,"answer_id":77451715,"question_id":77451168,"body_markdown":"This is because the filter is in `jakarta.servlet.Filter` (not in `javax.servlet.Filter`), since Java 17. However, the 5.x.x Spring Security is still relying on `javax.servlet.Filter`, so you must either downgrade your Spring Boot version to use Java8, or upgrade your Spring Security version to 6.x.x.","title":"Spring Boot Unable to Locate `javax.servlet.Filter` Class","body":"<p>This is because the filter is in <code>jakarta.servlet.Filter</code> (not in <code>javax.servlet.Filter</code>), since Java 17. However, the 5.x.x Spring Security is still relying on <code>javax.servlet.Filter</code>, so you must either downgrade your Spring Boot version to use Java8, or upgrade your Spring Security version to 6.x.x.</p>\n"},{"comments":[{"owner":{"account_id":24289808,"reputation":149,"user_id":18235030,"display_name":"JonD"},"score":0,"creation_date":1699538633,"post_id":77453439,"comment_id":136546700,"body_markdown":"Your explanation contributed to getting my issue resolved! Thanks!","body":"Your explanation contributed to getting my issue resolved! Thanks!"}],"tags":[],"owner":{"account_id":11156931,"reputation":11,"user_id":8188371,"display_name":"Dipak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699535164,"creation_date":1699535164,"answer_id":77453439,"question_id":77451168,"body_markdown":"In the java 17 ,all the packages that were located under javax.servlet have been replaced with jakarta.servlet.\r\n\r\nso  all the packages and classes that were once part of javax.servlet (e.g., javax.servlet.Servlet, javax.servlet.http.HttpServletRequest, etc.) have been moved to the jakarta.servlet namespace (e.g., jakarta.servlet.Servlet, jakarta.servlet.http.HttpServletRequest, etc.)\r\n\r\nChange your dependency accordingly to make it work","title":"Spring Boot Unable to Locate `javax.servlet.Filter` Class","body":"<p>In the java 17 ,all the packages that were located under javax.servlet have been replaced with jakarta.servlet.</p>\n<p>so  all the packages and classes that were once part of javax.servlet (e.g., javax.servlet.Servlet, javax.servlet.http.HttpServletRequest, etc.) have been moved to the jakarta.servlet namespace (e.g., jakarta.servlet.Servlet, jakarta.servlet.http.HttpServletRequest, etc.)</p>\n<p>Change your dependency accordingly to make it work</p>\n"}],"owner":{"account_id":24289808,"reputation":149,"user_id":18235030,"display_name":"JonD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77451715,"answer_count":2,"score":0,"last_activity_date":1699535164,"creation_date":1699514302,"question_id":77451168,"body_markdown":"I have an issue with getting my Java Spring Boot application to run. I get the error message below. I believe I have all of the necessary dependencies. However, the error seems to be in correlation to the `javax.servlet.Filter` class, which I have on my pom.xml file, but unless I have a deprecated version, I am not sure where my issue is located... After investigating further, the issue seems to be that I am using Spring Security in my project, and Spring Security is trying to create a HttpSecurity object to configure security filters, but it&#39;s unable to find the necessary `javax.servlet.Filter` class. My project is running Java 17.\r\n\r\nError Message:\r\n```\r\n/Users/jonathandameus/Library/Java/JavaVirtualMachines/openjdk-21.0.1/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=64529:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/jonathandameus/Code_GitHub/JDT_Client/JR_Property_Management/server/JRPropertyManagement/target/classes:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/3.1.5/spring-boot-starter-data-jpa-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-aop/3.1.5/spring-boot-starter-aop-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/aspectj/aspectjweaver/1.9.20/aspectjweaver-1.9.20.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/3.1.5/spring-boot-starter-jdbc-3.1.5.jar:/Users/jonathandameus/.m2/repository/com/zaxxer/HikariCP/5.0.1/HikariCP-5.0.1.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-jdbc/6.0.13/spring-jdbc-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/hibernate/orm/hibernate-core/6.2.13.Final/hibernate-core-6.2.13.Final.jar:/Users/jonathandameus/.m2/repository/jakarta/persistence/jakarta.persistence-api/3.1.0/jakarta.persistence-api-3.1.0.jar:/Users/jonathandameus/.m2/repository/jakarta/transaction/jakarta.transaction-api/2.0.1/jakarta.transaction-api-2.0.1.jar:/Users/jonathandameus/.m2/repository/org/jboss/logging/jboss-logging/3.5.3.Final/jboss-logging-3.5.3.Final.jar:/Users/jonathandameus/.m2/repository/org/hibernate/common/hibernate-commons-annotations/6.0.6.Final/hibernate-commons-annotations-6.0.6.Final.jar:/Users/jonathandameus/.m2/repository/io/smallrye/jandex/3.0.5/jandex-3.0.5.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/jonathandameus/.m2/repository/net/bytebuddy/byte-buddy/1.14.9/byte-buddy-1.14.9.jar:/Users/jonathandameus/.m2/repository/org/glassfish/jaxb/jaxb-runtime/4.0.3/jaxb-runtime-4.0.3.jar:/Users/jonathandameus/.m2/repository/org/glassfish/jaxb/jaxb-core/4.0.3/jaxb-core-4.0.3.jar:/Users/jonathandameus/.m2/repository/org/eclipse/angus/angus-activation/2.0.1/angus-activation-2.0.1.jar:/Users/jonathandameus/.m2/repository/org/glassfish/jaxb/txw2/4.0.3/txw2-4.0.3.jar:/Users/jonathandameus/.m2/repository/com/sun/istack/istack-commons-runtime/4.1.2/istack-commons-runtime-4.1.2.jar:/Users/jonathandameus/.m2/repository/jakarta/inject/jakarta.inject-api/2.0.1/jakarta.inject-api-2.0.1.jar:/Users/jonathandameus/.m2/repository/org/antlr/antlr4-runtime/4.10.1/antlr4-runtime-4.10.1.jar:/Users/jonathandameus/.m2/repository/org/springframework/data/spring-data-jpa/3.1.5/spring-data-jpa-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/data/spring-data-commons/3.1.5/spring-data-commons-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-orm/6.0.13/spring-orm-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-tx/6.0.13/spring-tx-6.0.13.jar:/Users/jonathandameus/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/Users/jonathandameus/.m2/repository/org/slf4j/slf4j-api/2.0.9/slf4j-api-2.0.9.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-aspects/6.0.13/spring-aspects-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-web/3.1.5/spring-boot-starter-web-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter/3.1.5/spring-boot-starter-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot/3.1.5/spring-boot-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.1.5/spring-boot-autoconfigure-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.1.5/spring-boot-starter-logging-3.1.5.jar:/Users/jonathandameus/.m2/repository/ch/qos/logback/logback-classic/1.4.11/logback-classic-1.4.11.jar:/Users/jonathandameus/.m2/repository/ch/qos/logback/logback-core/1.4.11/logback-core-1.4.11.jar:/Users/jonathandameus/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.20.0/log4j-to-slf4j-2.20.0.jar:/Users/jonathandameus/.m2/repository/org/apache/logging/log4j/log4j-api/2.20.0/log4j-api-2.20.0.jar:/Users/jonathandameus/.m2/repository/org/slf4j/jul-to-slf4j/2.0.9/jul-to-slf4j-2.0.9.jar:/Users/jonathandameus/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.1.5/spring-boot-starter-json-3.1.5.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.15.3/jackson-databind-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.15.3/jackson-annotations-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.15.3/jackson-core-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.15.3/jackson-datatype-jdk8-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.15.3/jackson-datatype-jsr310-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.15.3/jackson-module-parameter-names-2.15.3.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.1.5/spring-boot-starter-tomcat-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.15/tomcat-embed-core-10.1.15.jar:/Users/jonathandameus/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.15/tomcat-embed-el-10.1.15.jar:/Users/jonathandameus/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/10.1.15/tomcat-embed-websocket-10.1.15.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-web/6.0.13/spring-web-6.0.13.jar:/Users/jonathandameus/.m2/repository/io/micrometer/micrometer-observation/1.11.5/micrometer-observation-1.11.5.jar:/Users/jonathandameus/.m2/repository/io/micrometer/micrometer-commons/1.11.5/micrometer-commons-1.11.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-webmvc/6.0.13/spring-webmvc-6.0.13.jar:/Users/jonathandameus/.m2/repository/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar:/Users/jonathandameus/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/4.0.1/jakarta.xml.bind-api-4.0.1.jar:/Users/jonathandameus/.m2/repository/jakarta/activation/jakarta.activation-api/2.1.2/jakarta.activation-api-2.1.2.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-core/6.0.13/spring-core-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-jcl/6.0.13/spring-jcl-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/security/spring-security-web/5.7.7/spring-security-web-5.7.7.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-aop/6.0.13/spring-aop-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-beans/6.0.13/spring-beans-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-context/6.0.13/spring-context-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-expression/6.0.13/spring-expression-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/security/spring-security-core/5.5.8/spring-security-core-5.5.8.jar:/Users/jonathandameus/.m2/repository/org/springframework/security/spring-security-crypto/6.1.5/spring-security-crypto-6.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-security/3.1.5/spring-boot-starter-security-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/security/spring-security-config/6.1.5/spring-security-config-6.1.5.jar com.jondoetech.JRPropertyManagement.JrPropertyManagementApplication\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.5)\r\n\r\n2023-11-09T01:54:07.216-05:00  INFO 64162 --- [           main] c.j.J.JrPropertyManagementApplication    : Starting JrPropertyManagementApplication using Java 21.0.1 with PID 64162 (/Users/jonathandameus/Code_GitHub/JDT_Client/JR_Property_Management/server/JRPropertyManagement/target/classes started by jonathandameus in /Users/jonathandameus/Code_GitHub/JDT_Client/JR_Property_Management/server/JRPropertyManagement)\r\n2023-11-09T01:54:07.219-05:00  INFO 64162 --- [           main] c.j.J.JrPropertyManagementApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-11-09T01:54:07.873-05:00  INFO 64162 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-11-09T01:54:07.928-05:00  INFO 64162 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.\r\n2023-11-09T01:54:08.460-05:00  INFO 64162 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-11-09T01:54:08.470-05:00  INFO 64162 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-11-09T01:54:08.471-05:00  INFO 64162 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\r\n2023-11-09T01:54:08.561-05:00  INFO 64162 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-11-09T01:54:08.562-05:00  INFO 64162 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1286 ms\r\n2023-11-09T01:54:08.731-05:00  INFO 64162 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-11-09T01:54:08.774-05:00  INFO 64162 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final\r\n2023-11-09T01:54:08.776-05:00  INFO 64162 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-11-09T01:54:08.977-05:00  INFO 64162 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-11-09T01:54:08.997-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-11-09T01:54:09.318-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36463b09\r\n2023-11-09T01:54:09.321-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-11-09T01:54:09.982-05:00  INFO 64162 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set &#39;hibernate.transaction.jta.platform&#39; to enable JTA platform integration)\r\n2023-11-09T01:54:10.012-05:00  INFO 64162 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-11-09T01:54:10.367-05:00  WARN 64162 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-11-09T01:54:10.395-05:00  WARN 64162 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through field &#39;httpSecurity&#39;: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception with message: javax/servlet/Filter\r\n2023-11-09T01:54:10.396-05:00  INFO 64162 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-11-09T01:54:10.398-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-11-09T01:54:10.405-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-11-09T01:54:10.406-05:00  INFO 64162 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-11-09T01:54:10.415-05:00  INFO 64162 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-11-09T01:54:10.435-05:00 ERROR 64162 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through field &#39;httpSecurity&#39;: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception with message: javax/servlet/Filter\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:747) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat com.jondoetech.JRPropertyManagement.JrPropertyManagementApplication.main(JrPropertyManagementApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception with message: javax/servlet/Filter\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:488) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:343) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:764) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 20 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method &#39;httpSecurity&#39; threw exception with message: javax/servlet/Filter\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 31 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1027) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]\r\n\tat org.springframework.security.config.annotation.web.builders.FilterOrderRegistration.&lt;init&gt;(FilterOrderRegistration.java:117) ~[spring-security-config-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.config.annotation.web.builders.HttpSecurity.&lt;init&gt;(HttpSecurity.java:158) ~[spring-security-config-6.1.5.jar:6.1.5]\r\n\tat org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity(HttpSecurityConfiguration.java:110) ~[spring-security-config-6.1.5.jar:6.1.5]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 32 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]\r\n\t... 47 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\npom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.jondoetech&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;JRPropertyManagement&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;JRPropertyManagement&lt;/name&gt;\r\n\t&lt;description&gt;JRPropertyManagement using Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Spring Security --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt; &lt;!-- Use a more recent version --&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Spring Boot Unable to Locate `javax.servlet.Filter` Class","body":"<p>I have an issue with getting my Java Spring Boot application to run. I get the error message below. I believe I have all of the necessary dependencies. However, the error seems to be in correlation to the <code>javax.servlet.Filter</code> class, which I have on my pom.xml file, but unless I have a deprecated version, I am not sure where my issue is located... After investigating further, the issue seems to be that I am using Spring Security in my project, and Spring Security is trying to create a HttpSecurity object to configure security filters, but it's unable to find the necessary <code>javax.servlet.Filter</code> class. My project is running Java 17.</p>\n<p>Error Message:</p>\n<pre><code>/Users/jonathandameus/Library/Java/JavaVirtualMachines/openjdk-21.0.1/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=64529:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/jonathandameus/Code_GitHub/JDT_Client/JR_Property_Management/server/JRPropertyManagement/target/classes:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-data-jpa/3.1.5/spring-boot-starter-data-jpa-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-aop/3.1.5/spring-boot-starter-aop-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/aspectj/aspectjweaver/1.9.20/aspectjweaver-1.9.20.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-jdbc/3.1.5/spring-boot-starter-jdbc-3.1.5.jar:/Users/jonathandameus/.m2/repository/com/zaxxer/HikariCP/5.0.1/HikariCP-5.0.1.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-jdbc/6.0.13/spring-jdbc-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/hibernate/orm/hibernate-core/6.2.13.Final/hibernate-core-6.2.13.Final.jar:/Users/jonathandameus/.m2/repository/jakarta/persistence/jakarta.persistence-api/3.1.0/jakarta.persistence-api-3.1.0.jar:/Users/jonathandameus/.m2/repository/jakarta/transaction/jakarta.transaction-api/2.0.1/jakarta.transaction-api-2.0.1.jar:/Users/jonathandameus/.m2/repository/org/jboss/logging/jboss-logging/3.5.3.Final/jboss-logging-3.5.3.Final.jar:/Users/jonathandameus/.m2/repository/org/hibernate/common/hibernate-commons-annotations/6.0.6.Final/hibernate-commons-annotations-6.0.6.Final.jar:/Users/jonathandameus/.m2/repository/io/smallrye/jandex/3.0.5/jandex-3.0.5.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:/Users/jonathandameus/.m2/repository/net/bytebuddy/byte-buddy/1.14.9/byte-buddy-1.14.9.jar:/Users/jonathandameus/.m2/repository/org/glassfish/jaxb/jaxb-runtime/4.0.3/jaxb-runtime-4.0.3.jar:/Users/jonathandameus/.m2/repository/org/glassfish/jaxb/jaxb-core/4.0.3/jaxb-core-4.0.3.jar:/Users/jonathandameus/.m2/repository/org/eclipse/angus/angus-activation/2.0.1/angus-activation-2.0.1.jar:/Users/jonathandameus/.m2/repository/org/glassfish/jaxb/txw2/4.0.3/txw2-4.0.3.jar:/Users/jonathandameus/.m2/repository/com/sun/istack/istack-commons-runtime/4.1.2/istack-commons-runtime-4.1.2.jar:/Users/jonathandameus/.m2/repository/jakarta/inject/jakarta.inject-api/2.0.1/jakarta.inject-api-2.0.1.jar:/Users/jonathandameus/.m2/repository/org/antlr/antlr4-runtime/4.10.1/antlr4-runtime-4.10.1.jar:/Users/jonathandameus/.m2/repository/org/springframework/data/spring-data-jpa/3.1.5/spring-data-jpa-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/data/spring-data-commons/3.1.5/spring-data-commons-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-orm/6.0.13/spring-orm-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-tx/6.0.13/spring-tx-6.0.13.jar:/Users/jonathandameus/.m2/repository/jakarta/annotation/jakarta.annotation-api/2.1.1/jakarta.annotation-api-2.1.1.jar:/Users/jonathandameus/.m2/repository/org/slf4j/slf4j-api/2.0.9/slf4j-api-2.0.9.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-aspects/6.0.13/spring-aspects-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-web/3.1.5/spring-boot-starter-web-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter/3.1.5/spring-boot-starter-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot/3.1.5/spring-boot-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/3.1.5/spring-boot-autoconfigure-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-logging/3.1.5/spring-boot-starter-logging-3.1.5.jar:/Users/jonathandameus/.m2/repository/ch/qos/logback/logback-classic/1.4.11/logback-classic-1.4.11.jar:/Users/jonathandameus/.m2/repository/ch/qos/logback/logback-core/1.4.11/logback-core-1.4.11.jar:/Users/jonathandameus/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.20.0/log4j-to-slf4j-2.20.0.jar:/Users/jonathandameus/.m2/repository/org/apache/logging/log4j/log4j-api/2.20.0/log4j-api-2.20.0.jar:/Users/jonathandameus/.m2/repository/org/slf4j/jul-to-slf4j/2.0.9/jul-to-slf4j-2.0.9.jar:/Users/jonathandameus/.m2/repository/org/yaml/snakeyaml/1.33/snakeyaml-1.33.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-json/3.1.5/spring-boot-starter-json-3.1.5.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.15.3/jackson-databind-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.15.3/jackson-annotations-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.15.3/jackson-core-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.15.3/jackson-datatype-jdk8-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.15.3/jackson-datatype-jsr310-2.15.3.jar:/Users/jonathandameus/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.15.3/jackson-module-parameter-names-2.15.3.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/3.1.5/spring-boot-starter-tomcat-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.15/tomcat-embed-core-10.1.15.jar:/Users/jonathandameus/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/10.1.15/tomcat-embed-el-10.1.15.jar:/Users/jonathandameus/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/10.1.15/tomcat-embed-websocket-10.1.15.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-web/6.0.13/spring-web-6.0.13.jar:/Users/jonathandameus/.m2/repository/io/micrometer/micrometer-observation/1.11.5/micrometer-observation-1.11.5.jar:/Users/jonathandameus/.m2/repository/io/micrometer/micrometer-commons/1.11.5/micrometer-commons-1.11.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-webmvc/6.0.13/spring-webmvc-6.0.13.jar:/Users/jonathandameus/.m2/repository/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar:/Users/jonathandameus/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/4.0.1/jakarta.xml.bind-api-4.0.1.jar:/Users/jonathandameus/.m2/repository/jakarta/activation/jakarta.activation-api/2.1.2/jakarta.activation-api-2.1.2.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-core/6.0.13/spring-core-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-jcl/6.0.13/spring-jcl-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/security/spring-security-web/5.7.7/spring-security-web-5.7.7.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-aop/6.0.13/spring-aop-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-beans/6.0.13/spring-beans-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-context/6.0.13/spring-context-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/spring-expression/6.0.13/spring-expression-6.0.13.jar:/Users/jonathandameus/.m2/repository/org/springframework/security/spring-security-core/5.5.8/spring-security-core-5.5.8.jar:/Users/jonathandameus/.m2/repository/org/springframework/security/spring-security-crypto/6.1.5/spring-security-crypto-6.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/boot/spring-boot-starter-security/3.1.5/spring-boot-starter-security-3.1.5.jar:/Users/jonathandameus/.m2/repository/org/springframework/security/spring-security-config/6.1.5/spring-security-config-6.1.5.jar com.jondoetech.JRPropertyManagement.JrPropertyManagementApplication\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.5)\n\n2023-11-09T01:54:07.216-05:00  INFO 64162 --- [           main] c.j.J.JrPropertyManagementApplication    : Starting JrPropertyManagementApplication using Java 21.0.1 with PID 64162 (/Users/jonathandameus/Code_GitHub/JDT_Client/JR_Property_Management/server/JRPropertyManagement/target/classes started by jonathandameus in /Users/jonathandameus/Code_GitHub/JDT_Client/JR_Property_Management/server/JRPropertyManagement)\n2023-11-09T01:54:07.219-05:00  INFO 64162 --- [           main] c.j.J.JrPropertyManagementApplication    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-11-09T01:54:07.873-05:00  INFO 64162 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-11-09T01:54:07.928-05:00  INFO 64162 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 3 JPA repository interfaces.\n2023-11-09T01:54:08.460-05:00  INFO 64162 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-11-09T01:54:08.470-05:00  INFO 64162 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-11-09T01:54:08.471-05:00  INFO 64162 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]\n2023-11-09T01:54:08.561-05:00  INFO 64162 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-11-09T01:54:08.562-05:00  INFO 64162 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1286 ms\n2023-11-09T01:54:08.731-05:00  INFO 64162 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-11-09T01:54:08.774-05:00  INFO 64162 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.13.Final\n2023-11-09T01:54:08.776-05:00  INFO 64162 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-11-09T01:54:08.977-05:00  INFO 64162 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-11-09T01:54:08.997-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-11-09T01:54:09.318-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36463b09\n2023-11-09T01:54:09.321-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-11-09T01:54:09.982-05:00  INFO 64162 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)\n2023-11-09T01:54:10.012-05:00  INFO 64162 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-11-09T01:54:10.367-05:00  WARN 64162 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-11-09T01:54:10.395-05:00  WARN 64162 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: javax/servlet/Filter\n2023-11-09T01:54:10.396-05:00  INFO 64162 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-11-09T01:54:10.398-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-11-09T01:54:10.405-05:00  INFO 64162 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-11-09T01:54:10.406-05:00  INFO 64162 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-11-09T01:54:10.415-05:00  INFO 64162 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-11-09T01:54:10.435-05:00 ERROR 64162 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: javax/servlet/Filter\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:747) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.5.jar:3.1.5]\n    at com.jondoetech.JRPropertyManagement.JrPropertyManagementApplication.main(JrPropertyManagementApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: javax/servlet/Filter\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:654) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:488) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:343) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:764) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: Factory method 'httpSecurity' threw exception with message: javax/servlet/Filter\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:650) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 31 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/Filter\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1027) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]\n    at org.springframework.security.config.annotation.web.builders.FilterOrderRegistration.&lt;init&gt;(FilterOrderRegistration.java:117) ~[spring-security-config-6.1.5.jar:6.1.5]\n    at org.springframework.security.config.annotation.web.builders.HttpSecurity.&lt;init&gt;(HttpSecurity.java:158) ~[spring-security-config-6.1.5.jar:6.1.5]\n    at org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity(HttpSecurityConfiguration.java:110) ~[spring-security-config-6.1.5.jar:6.1.5]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 32 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]\n    ... 47 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.jondoetech&lt;/groupId&gt;\n    &lt;artifactId&gt;JRPropertyManagement&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;JRPropertyManagement&lt;/name&gt;\n    &lt;description&gt;JRPropertyManagement using Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;5.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;5.5.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring Security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt; &lt;!-- Use a more recent version --&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea","autowired"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1699534465,"post_id":77441967,"comment_id":136545800,"body_markdown":"Use Alt+Enter on the classname and disable (suppress) the inspection for classes annotated with `@RestController`. That said, I&#39;ve experienced that recent versions of IntelliJ seem to be occasionally having issues with these &quot;unused&quot; inspections, so restarting IntelliJ or rebuilding your project might solve it (temporarily) as well.","body":"Use Alt+Enter on the classname and disable (suppress) the inspection for classes annotated with <code>@RestController</code>. That said, I&#39;ve experienced that recent versions of IntelliJ seem to be occasionally having issues with these &quot;unused&quot; inspections, so restarting IntelliJ or rebuilding your project might solve it (temporarily) as well."}],"answers":[{"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1699415672,"post_id":77442608,"comment_id":136527465,"body_markdown":"how can I fix this or turn off the warning? I had something similar at my last company, but they got rid of it,  trying to do it on my local desktop, thanks","body":"how can I fix this or turn off the warning? I had something similar at my last company, but they got rid of it,  trying to do it on my local desktop, thanks"}],"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699412416,"creation_date":1699412416,"answer_id":77442608,"question_id":77441967,"body_markdown":"In the same project, a class is called used when it is referenced by another class or variable. \r\nIf you access this class through the browser interface, the IDE will not think that this class is “used”.","title":"Controller classes show as unused when its used","body":"<p>In the same project, a class is called used when it is referenced by another class or variable.\nIf you access this class through the browser interface, the IDE will not think that this class is “used”.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699534336,"accepted_answer_id":77442608,"answer_count":1,"score":-1,"last_activity_date":1699534324,"creation_date":1699398368,"question_id":77441967,"body_markdown":"I have a Spring Boot Web API application in IntelliJ. Project compiles and APIs are working correctly.  It&#39;s setup with `@Autowired`, `@Controller`, `@Service`, `@Repository`, etc.\r\n\r\nHowever, it keeps showing the classes as grey (unused). How can I show it to be used? Or is the way it&#39;s in default, and no way to remove this warning error? It&#39;s doing this similarly for services and repository classes.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Note:**\r\n\r\nHow can I fix or turn off the warning? I had something similar at my last company, but they got rid of it. Trying to fix it on my local desktop computer.\r\n\r\n  [1]: https://i.stack.imgur.com/1icrX.png\r\n  [2]: https://i.stack.imgur.com/mD2l2.png","title":"Controller classes show as unused when its used","body":"<p>I have a Spring Boot Web API application in IntelliJ. Project compiles and APIs are working correctly.  It's setup with <code>@Autowired</code>, <code>@Controller</code>, <code>@Service</code>, <code>@Repository</code>, etc.</p>\n<p>However, it keeps showing the classes as grey (unused). How can I show it to be used? Or is the way it's in default, and no way to remove this warning error? It's doing this similarly for services and repository classes.</p>\n<p><a href=\"https://i.stack.imgur.com/1icrX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1icrX.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note:</strong></p>\n<p>How can I fix or turn off the warning? I had something similar at my last company, but they got rid of it. Trying to fix it on my local desktop computer.</p>\n"},{"tags":["java","noclassdeffounderror"],"comments":[{"owner":{"account_id":2592,"reputation":4384,"user_id":3617,"accept_rate":88,"display_name":"frank hadder"},"score":1,"creation_date":1220022400,"post_id":34413,"comment_id":55565054,"body_markdown":"I believe it can also happen if you don&#39;t run your java program with the correct syntax. For instance, you have to call your class from the root bin folder with the full package name (ie. my.package.myClass). I&#39;d be more specific if I could but I&#39;m not much of a java guy. I just remember messing this up a few times.","body":"I believe it can also happen if you don&#39;t run your java program with the correct syntax. For instance, you have to call your class from the root bin folder with the full package name (ie. my.package.myClass). I&#39;d be more specific if I could but I&#39;m not much of a java guy. I just remember messing this up a few times."}],"answers":[{"comments":[{"owner":{"account_id":335788,"reputation":6506,"user_id":663058,"display_name":"CenterOrbit"},"score":1,"creation_date":1413905661,"post_id":34419,"comment_id":41615046,"body_markdown":"I had this error happen when putting a source file under the wrong namespace/package. I *figured* I could just put it anywhere, and the compiler was happy. Turns out I should have been more diligent for runtime to be happy as well.","body":"I had this error happen when putting a source file under the wrong namespace/package. I <i>figured</i> I could just put it anywhere, and the compiler was happy. Turns out I should have been more diligent for runtime to be happy as well."},{"owner":{"account_id":1574230,"reputation":2310,"user_id":1461154,"accept_rate":88,"display_name":"James M. Lay"},"score":2,"creation_date":1461570435,"post_id":34419,"comment_id":61240026,"body_markdown":"I had this error once when my server ran out of memory during a file upload. Every time I tried the upload, I&#39;d get a different error.  Eventually it told me I didn&#39;t have enough heap space.","body":"I had this error once when my server ran out of memory during a file upload. Every time I tried the upload, I&#39;d get a different error.  Eventually it told me I didn&#39;t have enough heap space."},{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":133,"creation_date":1472661772,"post_id":34419,"comment_id":65845546,"body_markdown":"This answer is not necessarily true and will be misleading to many people!  See the better answer from Jared below.","body":"This answer is not necessarily true and will be misleading to many people!  See the better answer from Jared below."},{"owner":{"account_id":1517357,"reputation":3885,"user_id":1456887,"display_name":"Jesse Chisholm"},"score":0,"creation_date":1493916957,"post_id":34419,"comment_id":74618038,"body_markdown":"I ran `mvn -X clean compiler package 2&gt;&amp;1 &gt;test.log` so I could see the gory details before the `NoClassDefFound` error report.","body":"I ran <code>mvn -X clean compiler package 2&gt;&amp;1 &gt;test.log</code> so I could see the gory details before the <code>NoClassDefFound</code> error report."},{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":5,"creation_date":1501509643,"post_id":34419,"comment_id":77796713,"body_markdown":"@DaveL. Thanks! Jared&#39;s answer with 400+ upvotes is way below! One answer with -4 up(down?)votes is way above it. There is something fishy about SO&#39;s answer ordering logic.","body":"@DaveL. Thanks! Jared&#39;s answer with 400+ upvotes is way below! One answer with -4 up(down?)votes is way above it. There is something fishy about SO&#39;s answer ordering logic."},{"owner":{"account_id":4168947,"reputation":1023,"user_id":3417242,"display_name":"Ryan D"},"score":1,"creation_date":1515542060,"post_id":34419,"comment_id":83336910,"body_markdown":"This is a long-shot for someone, but I encountered this error because the class in question contained a SimpleDateFormat that was initialized with an invalid character (I had T in the middle instead of &#39;T&#39;).","body":"This is a long-shot for someone, but I encountered this error because the class in question contained a SimpleDateFormat that was initialized with an invalid character (I had T in the middle instead of &#39;T&#39;)."},{"owner":{"account_id":11341402,"reputation":975,"user_id":8315348,"display_name":"Andrew Puglionesi"},"score":0,"creation_date":1540847301,"post_id":34419,"comment_id":93007252,"body_markdown":"Oddly enough I just re-compiled my file, and that seemed to clear things up. I must have altered something since the initial compilation","body":"Oddly enough I just re-compiled my file, and that seemed to clear things up. I must have altered something since the initial compilation"},{"owner":{"account_id":2037921,"reputation":276,"user_id":1828726,"accept_rate":83,"display_name":"Daniel Yang"},"score":1,"creation_date":1611124836,"post_id":34419,"comment_id":116346070,"body_markdown":"The class name (NoClassDefFoundError) means the class file is found and loaded but cannot be converted to a JVM class definition, it is possibly broken by any uncaught exception within static initializer or placed at different place from the one its namespace implies (sub-path in a jar or folder, wrong file name case).","body":"The class name (NoClassDefFoundError) means the class file is found and loaded but cannot be converted to a JVM class definition, it is possibly broken by any uncaught exception within static initializer or placed at different place from the one its namespace implies (sub-path in a jar or folder, wrong file name case)."},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1680609992,"post_id":34419,"comment_id":133924049,"body_markdown":"In regards to this answer, the question is **how**? As someone who is new to Java, I understand what the answer says but I have no idea how to check for the differences between build and runtime class paths.","body":"In regards to this answer, the question is <b>how</b>? As someone who is new to Java, I understand what the answer says but I have no idea how to check for the differences between build and runtime class paths."}],"tags":[],"owner":{"account_id":2313,"reputation":7778,"user_id":3211,"accept_rate":75,"display_name":"Mocky"},"comment_count":9,"down_vote_count":34,"up_vote_count":338,"is_accepted":true,"score":304,"last_activity_date":1220022067,"creation_date":1220022067,"answer_id":34419,"question_id":34413,"body_markdown":"This is caused when there is a class file that your code depends on and it is present at compile time but not found at runtime. Look for differences in your build time and runtime  classpaths. ","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>This is caused when there is a class file that your code depends on and it is present at compile time but not found at runtime. Look for differences in your build time and runtime  classpaths. </p>\n"},{"comments":[{"owner":{"account_id":106537,"reputation":1654,"user_id":283779,"accept_rate":76,"display_name":"duvo"},"score":4,"creation_date":1416868852,"post_id":34444,"comment_id":42733699,"body_markdown":"Had the same issue.  Turns out I compiled the war file with Java7, but my Tomcat installation was using Java6. I had to update my environmental variables","body":"Had the same issue.  Turns out I compiled the war file with Java7, but my Tomcat installation was using Java6. I had to update my environmental variables"},{"owner":{"account_id":257029,"reputation":3131,"user_id":538160,"accept_rate":62,"display_name":"supernova"},"score":4,"creation_date":1445347332,"post_id":34444,"comment_id":54278417,"body_markdown":"If this happens like that then i&#39;ll say Java is in a mess.  +2 if this is true. Can&#39;t verify this yet. If found true will do+1 again (In comments)","body":"If this happens like that then i&#39;ll say Java is in a mess.  +2 if this is true. Can&#39;t verify this yet. If found true will do+1 again (In comments)"}],"tags":[],"owner":{"account_id":237,"reputation":28496,"user_id":292,"accept_rate":68,"display_name":"shsteimer"},"comment_count":2,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1220022396,"creation_date":1220022396,"answer_id":34444,"question_id":34413,"body_markdown":"I have found that sometimes I get a NoClassDefFound error when code is compiled with an incompatible version of the class found at runtime.  The specific instance I recall is with the apache axis library.  There were actually 2 versions on my runtime classpath and it was picking up the out of date and incompatible version and not the correct one, causing a NoClassDefFound error.  This was in a command line app where I was using a command similar to this.  \r\n\r\n    set classpath=%classpath%;axis.jar\r\n\r\nI was able to get it to pick up the proper version by using:\r\n\r\n    set classpath=axis.jar;%classpath%;\r\n\r\n","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I have found that sometimes I get a NoClassDefFound error when code is compiled with an incompatible version of the class found at runtime.  The specific instance I recall is with the apache axis library.  There were actually 2 versions on my runtime classpath and it was picking up the out of date and incompatible version and not the correct one, causing a NoClassDefFound error.  This was in a command line app where I was using a command similar to this.  </p>\n\n<pre><code>set classpath=%classpath%;axis.jar\n</code></pre>\n\n<p>I was able to get it to pick up the proper version by using:</p>\n\n<pre><code>set classpath=axis.jar;%classpath%;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":486268,"reputation":129,"user_id":903081,"display_name":"Thomas"},"score":59,"creation_date":1361448330,"post_id":5756989,"comment_id":21072629,"body_markdown":"Thanks for mentioning the cause of a NoClassDefFoundError, this helped me a lot! In my case an ExceptionInInitializerError was thrown before, that&#39;s how I found out about errors in static blocks.","body":"Thanks for mentioning the cause of a NoClassDefFoundError, this helped me a lot! In my case an ExceptionInInitializerError was thrown before, that&#39;s how I found out about errors in static blocks."},{"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"score":0,"creation_date":1374267789,"post_id":5756989,"comment_id":25891004,"body_markdown":"@Jared,\nWhen I am getting `Error: Could not find or load main class`, it will be classified under which category of error?","body":"@Jared, When I am getting <code>Error: Could not find or load main class</code>, it will be classified under which category of error?"},{"owner":{"account_id":19197,"reputation":25590,"user_id":44757,"accept_rate":84,"display_name":"Jared"},"score":0,"creation_date":1391977382,"post_id":5756989,"comment_id":32746314,"body_markdown":"@Pops: Made the language more verbose to specify the objects of the verbs &quot;try&quot; :)","body":"@Pops: Made the language more verbose to specify the objects of the verbs &quot;try&quot; :)"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1409107926,"post_id":5756989,"comment_id":39837483,"body_markdown":"`ClassCircularityError` and `ClassFormatError` may also occur during the loading process: http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#12.2.1","body":"<code>ClassCircularityError</code> and <code>ClassFormatError</code> may also occur during the loading process: <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#12.2.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se5.0/html/&hellip;</a>"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":1,"creation_date":1421357887,"post_id":5756989,"comment_id":44339593,"body_markdown":"@Vikram the &quot;could not find or load main class&quot; is not a Java exception, it is caused by the launcher (which inspects the JAR and the main manifest attribute).","body":"@Vikram the &quot;could not find or load main class&quot; is not a Java exception, it is caused by the launcher (which inspects the JAR and the main manifest attribute)."},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1478316048,"post_id":5756989,"comment_id":68117078,"body_markdown":"Im getting this issue too trying to run a junit test. how do i check compiletime vs runtime classpath?","body":"Im getting this issue too trying to run a junit test. how do i check compiletime vs runtime classpath?"},{"owner":{"account_id":1517357,"reputation":3885,"user_id":1456887,"display_name":"Jesse Chisholm"},"score":0,"creation_date":1493917006,"post_id":5756989,"comment_id":74618068,"body_markdown":"I ran `mvn -X clean compiler package 2&gt;&amp;1 &gt;test.log` so I could see the gory details before the `NoClassDefFound` error report.  It did indicate that it was caused by a previous `ClassNotFound` exception for a class I had thought I wasn&#39;t using anymore.","body":"I ran <code>mvn -X clean compiler package 2&gt;&amp;1 &gt;test.log</code> so I could see the gory details before the <code>NoClassDefFound</code> error report.  It did indicate that it was caused by a previous <code>ClassNotFound</code> exception for a class I had thought I wasn&#39;t using anymore."},{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":4,"creation_date":1519313237,"post_id":5756989,"comment_id":84868955,"body_markdown":"ClassNotFoundException is also thrown when a class has static initialization that throws an error or exception. They probably should have picked a different name for that event.","body":"ClassNotFoundException is also thrown when a class has static initialization that throws an error or exception. They probably should have picked a different name for that event."},{"owner":{"account_id":7363675,"reputation":1478,"user_id":5606133,"accept_rate":50,"display_name":"Vip"},"score":0,"creation_date":1520573600,"post_id":5756989,"comment_id":85379676,"body_markdown":"Can someone please help me in understanding a statement in this answer `The earlier failure could be a ClassNotFoundException or an ExceptionInInitializerError (indicating a failure in the static initialization block)`. Can previous possible error be &#39;ClassNotFoundException&#39;, because previous error has to be thrown while loading class like in static block. And static block doesn&#39;t allow to throw checked exception.","body":"Can someone please help me in understanding a statement in this answer <code>The earlier failure could be a ClassNotFoundException or an ExceptionInInitializerError (indicating a failure in the static initialization block)</code>. Can previous possible error be &#39;ClassNotFoundException&#39;, because previous error has to be thrown while loading class like in static block. And static block doesn&#39;t allow to throw checked exception."},{"owner":{"account_id":19197,"reputation":25590,"user_id":44757,"accept_rate":84,"display_name":"Jared"},"score":0,"creation_date":1520741908,"post_id":5756989,"comment_id":85437185,"body_markdown":"@VipulGoyal: I&#39;ve been out of Java in my daily life for a while now.  As I remember, a ClassNotFoundException ALWAYS has another root cause the first time it&#39;s thrown in a given JVM invocation, and that root cause is included as the cause of the exception.  Subsequent attempts to load the class may immediately throw a ClassNotFoundException if the JVM has reason to believe nothing has changed, and it still won&#39;t load.\n\nSomeone will correct me if my memory is faded ;)","body":"@VipulGoyal: I&#39;ve been out of Java in my daily life for a while now.  As I remember, a ClassNotFoundException ALWAYS has another root cause the first time it&#39;s thrown in a given JVM invocation, and that root cause is included as the cause of the exception.  Subsequent attempts to load the class may immediately throw a ClassNotFoundException if the JVM has reason to believe nothing has changed, and it still won&#39;t load.  Someone will correct me if my memory is faded ;)"},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1565022544,"post_id":5756989,"comment_id":101211694,"body_markdown":"If I get a NoClassDefFoundError how could &quot;The earlier failure be a ClassNotFoundException&quot;? What does it mean when I only get &quot;NoClassDefFoundErrors&quot;?","body":"If I get a NoClassDefFoundError how could &quot;The earlier failure be a ClassNotFoundException&quot;? What does it mean when I only get &quot;NoClassDefFoundErrors&quot;?"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1687796241,"post_id":5756989,"comment_id":134983540,"body_markdown":"Thanks. I faced the 2nd error in CloudFoundry and restarting the application resolved the issue for me","body":"Thanks. I faced the 2nd error in CloudFoundry and restarting the application resolved the issue for me"}],"tags":[],"owner":{"account_id":19197,"reputation":25590,"user_id":44757,"accept_rate":84,"display_name":"Jared"},"comment_count":12,"down_vote_count":1,"up_vote_count":1035,"is_accepted":false,"score":1034,"last_activity_date":1415646632,"creation_date":1303486107,"answer_id":5756989,"question_id":34413,"body_markdown":"While it&#39;s possible that this is due to a classpath mismatch between compile-time and run-time, it&#39;s not necessarily true.\r\n\r\nIt is important to keep two or three different exceptions straight in our head in this case:\r\n\r\n1.  **`java.lang.ClassNotFoundException`**  This exception indicates that the class was not found on the classpath.  This indicates that we were trying to load the class definition, and the class did not exist on the classpath.\r\n\r\n2.  **`java.lang.NoClassDefFoundError`**  This exception indicates that the JVM looked in its internal class definition data structure for the definition of a class and did not find it.  This is different than saying that it could not be loaded from the classpath.  Usually this indicates that we previously attempted to load a class from the classpath, but it failed for some reason - now we&#39;re trying to use the class again (and thus need to load it, since it failed last time), but we&#39;re not even going to try to load it, because we failed loading it earlier (and reasonably suspect that we would fail again).  The earlier failure could be a ClassNotFoundException or an ExceptionInInitializerError (indicating a failure in the static initialization block) or any number of other problems.  The point is, a NoClassDefFoundError is not necessarily a classpath problem.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>While it's possible that this is due to a classpath mismatch between compile-time and run-time, it's not necessarily true.</p>\n\n<p>It is important to keep two or three different exceptions straight in our head in this case:</p>\n\n<ol>\n<li><p><strong><code>java.lang.ClassNotFoundException</code></strong>  This exception indicates that the class was not found on the classpath.  This indicates that we were trying to load the class definition, and the class did not exist on the classpath.</p></li>\n<li><p><strong><code>java.lang.NoClassDefFoundError</code></strong>  This exception indicates that the JVM looked in its internal class definition data structure for the definition of a class and did not find it.  This is different than saying that it could not be loaded from the classpath.  Usually this indicates that we previously attempted to load a class from the classpath, but it failed for some reason - now we're trying to use the class again (and thus need to load it, since it failed last time), but we're not even going to try to load it, because we failed loading it earlier (and reasonably suspect that we would fail again).  The earlier failure could be a ClassNotFoundException or an ExceptionInInitializerError (indicating a failure in the static initialization block) or any number of other problems.  The point is, a NoClassDefFoundError is not necessarily a classpath problem.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1720101,"reputation":3255,"user_id":1576254,"display_name":"ikamen"},"score":4,"creation_date":1516888273,"post_id":28507116,"comment_id":83880329,"body_markdown":"And the reason is that after first try jvm already knows its not going to work and throw different exception second time?","body":"And the reason is that after first try jvm already knows its not going to work and throw different exception second time?"},{"owner":{"account_id":1685307,"reputation":1623,"user_id":1548776,"display_name":"ᴠɪɴᴄᴇɴᴛ"},"score":1,"creation_date":1538080831,"post_id":28507116,"comment_id":92029481,"body_markdown":"@ikamen Apparently it has stored somewhere the unsuccessful class initialisation of `SimpleCalculator` after the divide by zero? Does someone have a reference to the official documentation for this behaviour?","body":"@ikamen Apparently it has stored somewhere the unsuccessful class initialisation of <code>SimpleCalculator</code> after the divide by zero? Does someone have a reference to the official documentation for this behaviour?"},{"owner":{"account_id":1863250,"reputation":657,"user_id":1687369,"display_name":"harperska"},"score":7,"creation_date":1557027735,"post_id":28507116,"comment_id":98625803,"body_markdown":"@PhilipRego Not sure what you mean by a &#39;pure&#39; NoClassDefFoundError. The first time `new SimpleCalculator()` is called, you get an ExceptionInInitializerError with a caused by of ArithmeticException. The second time you call `new SimpleCalculator()` you get a NoClassDefFoundError as pure as any other. The point is you can get a NoClassDefFoundError for a reason other than SimpleCalculator.class not being on the classpath at runtime.","body":"@PhilipRego Not sure what you mean by a &#39;pure&#39; NoClassDefFoundError. The first time <code>new SimpleCalculator()</code> is called, you get an ExceptionInInitializerError with a caused by of ArithmeticException. The second time you call <code>new SimpleCalculator()</code> you get a NoClassDefFoundError as pure as any other. The point is you can get a NoClassDefFoundError for a reason other than SimpleCalculator.class not being on the classpath at runtime."}],"tags":[],"owner":{"account_id":1004885,"reputation":2420,"user_id":1018906,"display_name":"xli"},"comment_count":3,"down_vote_count":5,"up_vote_count":160,"is_accepted":false,"score":155,"last_activity_date":1520802376,"creation_date":1423855204,"answer_id":28507116,"question_id":34413,"body_markdown":"Here is the code to illustrate `java.lang.NoClassDefFoundError`. Please see [Jared&#39;s answer][1] for detailed explanation.\r\n\r\n*NoClassDefFoundErrorDemo.java*\r\n\r\n    public class NoClassDefFoundErrorDemo {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // The following line would throw ExceptionInInitializerError\r\n                SimpleCalculator calculator1 = new SimpleCalculator();\r\n            } catch (Throwable t) {\r\n                System.out.println(t);\r\n            }\r\n            // The following line would cause NoClassDefFoundError\r\n            SimpleCalculator calculator2 = new SimpleCalculator();\r\n        }\r\n        \r\n    }\r\n\r\n*SimpleCalculator.java*\r\n\r\n    public class SimpleCalculator {\r\n        static int undefined = 1 / 0;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5756989/1018906","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>Here is the code to illustrate <code>java.lang.NoClassDefFoundError</code>. Please see <a href=\"https://stackoverflow.com/a/5756989/1018906\">Jared's answer</a> for detailed explanation.</p>\n\n<p><em>NoClassDefFoundErrorDemo.java</em></p>\n\n<pre><code>public class NoClassDefFoundErrorDemo {\n    public static void main(String[] args) {\n        try {\n            // The following line would throw ExceptionInInitializerError\n            SimpleCalculator calculator1 = new SimpleCalculator();\n        } catch (Throwable t) {\n            System.out.println(t);\n        }\n        // The following line would cause NoClassDefFoundError\n        SimpleCalculator calculator2 = new SimpleCalculator();\n    }\n\n}\n</code></pre>\n\n<p><em>SimpleCalculator.java</em></p>\n\n<pre><code>public class SimpleCalculator {\n    static int undefined = 1 / 0;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4240515,"reputation":981,"user_id":3470545,"display_name":"Bartłomiej Zieliński"},"score":2,"creation_date":1453110063,"post_id":31914707,"comment_id":57442731,"body_markdown":"Same thing happened to me when programming a Servlet (`NoClassDefFoundError` was actually caused by `ExceptionInInitalizerError`, which was caused by `DateTimeParseException`). It&#39;s a bit misleading, isn&#39;t it? I know they probably had their reasons to make it like that, but it would be so nice to have at least a small hint, that `NoClassDefFoundError` was a result of another exception, without the need to deduce it. Just throwing `ExceptionInInitializerError` again would be much more clear. Sometimes the connection between the two may not be that obvious.","body":"Same thing happened to me when programming a Servlet (<code>NoClassDefFoundError</code> was actually caused by <code>ExceptionInInitalizerError</code>, which was caused by <code>DateTimeParseException</code>). It&#39;s a bit misleading, isn&#39;t it? I know they probably had their reasons to make it like that, but it would be so nice to have at least a small hint, that <code>NoClassDefFoundError</code> was a result of another exception, without the need to deduce it. Just throwing <code>ExceptionInInitializerError</code> again would be much more clear. Sometimes the connection between the two may not be that obvious."}],"tags":[],"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1519313004,"creation_date":1439194580,"answer_id":31914707,"question_id":34413,"body_markdown":"I was using [Spring Framework][1] with [Maven][2] and solved this error in my project.\r\n\r\nThere was a runtime error in the class. I was reading a property as integer, but when it read the value from the property file, its value was double.\r\n\r\nSpring did not give me a full stack trace of on which line the runtime failed.\r\nIt simply said `NoClassDefFoundError`. But when I executed it as a native Java application (taking it out of MVC), it gave `ExceptionInInitializerError` which was the true cause and which is how I traced the error.\r\n\r\n@xli&#39;s answer gave me insight into what may be wrong in my code.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spring_Framework\r\n  [2]: http://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I was using <a href=\"http://en.wikipedia.org/wiki/Spring_Framework\" rel=\"nofollow noreferrer\">Spring Framework</a> with <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> and solved this error in my project.</p>\n\n<p>There was a runtime error in the class. I was reading a property as integer, but when it read the value from the property file, its value was double.</p>\n\n<p>Spring did not give me a full stack trace of on which line the runtime failed.\nIt simply said <code>NoClassDefFoundError</code>. But when I executed it as a native Java application (taking it out of MVC), it gave <code>ExceptionInInitializerError</code> which was the true cause and which is how I traced the error.</p>\n\n<p>@xli's answer gave me insight into what may be wrong in my code.</p>\n"},{"comments":[{"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"score":1,"creation_date":1518108855,"post_id":32479072,"comment_id":84379641,"body_markdown":"Link is dead.  Try the archived version:  http://web.archive.org/web/20131216000019/https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5","body":"Link is dead.  Try the archived version:  <a href=\"http://web.archive.org/web/20131216000019/https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5\" rel=\"nofollow noreferrer\">web.archive.org/web/20131216000019/https://blogs.oracle.com/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":37795,"reputation":1585,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1441800152,"creation_date":1441800152,"answer_id":32479072,"question_id":34413,"body_markdown":"I get NoClassFoundError when classes loaded by the runtime class loader cannot access classes already loaded by the java rootloader. Because the different class loaders are in different security domains (according to java) the jvm won&#39;t allow classes already loaded by the rootloader to be resolved in the runtime loader address space.\r\n\r\nRun your program with &#39;java -javaagent:tracer.jar [YOUR java ARGS]&#39;\r\n\r\nIt produces output showing the loaded class, and the loader env that loaded the class.  It&#39;s very helpful tracing why a class cannot be resolved.\r\n\r\n    // ClassLoaderTracer.java\r\n    // From: https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5\r\n\r\n    import java.lang.instrument.*;\r\n    import java.security.*;\r\n\r\n    // manifest.mf\r\n    // Premain-Class: ClassLoadTracer\r\n\r\n    // jar -cvfm tracer.jar manifest.mf ClassLoaderTracer.class\r\n\r\n    // java -javaagent:tracer.jar  [...]\r\n\r\n    public class ClassLoadTracer \r\n    {\r\n        public static void premain(String agentArgs, Instrumentation inst) \r\n        {\r\n            final java.io.PrintStream out = System.out;\r\n            inst.addTransformer(new ClassFileTransformer() {\r\n                public byte[] transform(ClassLoader loader, String className, Class classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\r\n\r\n                    String pd = (null == protectionDomain) ? &quot;null&quot; : protectionDomain.getCodeSource().toString();\r\n                    out.println(className + &quot; loaded by &quot; + loader + &quot; at &quot; + new java.util.Date() + &quot; in &quot; + pd);\r\n\r\n                    // dump stack trace of the thread loading class \r\n                    Thread.dumpStack();\r\n\r\n                    // we just want the original .class bytes to be loaded!\r\n                    // we are not instrumenting it...\r\n                    return null;\r\n                }\r\n            });\r\n        }\r\n    }\r\n","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I get NoClassFoundError when classes loaded by the runtime class loader cannot access classes already loaded by the java rootloader. Because the different class loaders are in different security domains (according to java) the jvm won't allow classes already loaded by the rootloader to be resolved in the runtime loader address space.</p>\n\n<p>Run your program with 'java -javaagent:tracer.jar [YOUR java ARGS]'</p>\n\n<p>It produces output showing the loaded class, and the loader env that loaded the class.  It's very helpful tracing why a class cannot be resolved.</p>\n\n<pre><code>// ClassLoaderTracer.java\n// From: https://blogs.oracle.com/sundararajan/entry/tracing_class_loading_1_5\n\nimport java.lang.instrument.*;\nimport java.security.*;\n\n// manifest.mf\n// Premain-Class: ClassLoadTracer\n\n// jar -cvfm tracer.jar manifest.mf ClassLoaderTracer.class\n\n// java -javaagent:tracer.jar  [...]\n\npublic class ClassLoadTracer \n{\n    public static void premain(String agentArgs, Instrumentation inst) \n    {\n        final java.io.PrintStream out = System.out;\n        inst.addTransformer(new ClassFileTransformer() {\n            public byte[] transform(ClassLoader loader, String className, Class classBeingRedefined, ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\n\n                String pd = (null == protectionDomain) ? \"null\" : protectionDomain.getCodeSource().toString();\n                out.println(className + \" loaded by \" + loader + \" at \" + new java.util.Date() + \" in \" + pd);\n\n                // dump stack trace of the thread loading class \n                Thread.dumpStack();\n\n                // we just want the original .class bytes to be loaded!\n                // we are not instrumenting it...\n                return null;\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1405987,"reputation":16394,"user_id":1385441,"accept_rate":77,"display_name":"Ram Patra"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1443848634,"creation_date":1442342669,"answer_id":32593355,"question_id":34413,"body_markdown":"This is the [best solution][1] I found so far.\r\n\r\nSuppose we have a package called `org.mypackage` containing the classes:\r\n\r\n - HelloWorld (main class)  \r\n - SupportClass \r\n - UtilClass\r\n\r\nand the files defining this package are stored physically under the directory `D:\\myprogram` (on Windows) or `/home/user/myprogram` (on Linux).\r\n\r\nThe file structure will look like this:\r\n[![enter image description here][2]][2]\r\n\r\nWhen we invoke Java, we specify the name of the application to run: `org.mypackage.HelloWorld`. However we must also tell Java where to look for the files and directories defining our package. So to launch the program, we have to use the following command:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Classpath_%28Java%29#Setting_the_path_to_execute_Java_programs\r\n  [2]: http://i.stack.imgur.com/XOzAE.png\r\n  [3]: http://i.stack.imgur.com/cM8gu.png","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>This is the <a href=\"https://en.wikipedia.org/wiki/Classpath_%28Java%29#Setting_the_path_to_execute_Java_programs\" rel=\"noreferrer\">best solution</a> I found so far.</p>\n\n<p>Suppose we have a package called <code>org.mypackage</code> containing the classes:</p>\n\n<ul>\n<li>HelloWorld (main class)  </li>\n<li>SupportClass </li>\n<li>UtilClass</li>\n</ul>\n\n<p>and the files defining this package are stored physically under the directory <code>D:\\myprogram</code> (on Windows) or <code>/home/user/myprogram</code> (on Linux).</p>\n\n<p>The file structure will look like this:\n<a href=\"https://i.stack.imgur.com/XOzAE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XOzAE.png\" alt=\"enter image description here\"></a></p>\n\n<p>When we invoke Java, we specify the name of the application to run: <code>org.mypackage.HelloWorld</code>. However we must also tell Java where to look for the files and directories defining our package. So to launch the program, we have to use the following command:\n<a href=\"https://i.stack.imgur.com/cM8gu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cM8gu.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":3119757,"reputation":2028,"user_id":2639772,"display_name":"Jose Manuel Gomez Alvarez"},"score":4,"creation_date":1467722023,"post_id":33122745,"comment_id":63830967,"body_markdown":"That&#39;s explained by the most voted answer, when you first compiled, the files were there, then you removed some files, the classes were deleted, so at runtime, you got the ClassNotFound, then you broght them back, but still Eclipse didn&#39;t notice so the generated classes were still missing, but after you restarted Eclipse, the workspace was refreshed and the classes were again available, but in general this is not a solution or workaround, the solution is finding which class/jar is missing in the runtime classpath.","body":"That&#39;s explained by the most voted answer, when you first compiled, the files were there, then you removed some files, the classes were deleted, so at runtime, you got the ClassNotFound, then you broght them back, but still Eclipse didn&#39;t notice so the generated classes were still missing, but after you restarted Eclipse, the workspace was refreshed and the classes were again available, but in general this is not a solution or workaround, the solution is finding which class/jar is missing in the runtime classpath."}],"tags":[],"owner":{"account_id":5572440,"reputation":59,"user_id":4417171,"accept_rate":30,"display_name":"Eliran"},"comment_count":1,"down_vote_count":9,"up_vote_count":3,"is_accepted":false,"score":-6,"last_activity_date":1519313257,"creation_date":1444817950,"answer_id":33122745,"question_id":34413,"body_markdown":"I got this message after removing two files from the SRC library, and when I brought them back I kept seeing this error message.\r\n\r\nMy solution was: Restart Eclipse. Since then I haven&#39;t seen this message again :-)\r\n","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I got this message after removing two files from the SRC library, and when I brought them back I kept seeing this error message.</p>\n\n<p>My solution was: Restart Eclipse. Since then I haven't seen this message again :-)</p>\n"},{"comments":[{"owner":{"account_id":875600,"reputation":1235,"user_id":925315,"accept_rate":100,"display_name":"ilvez"},"score":3,"creation_date":1464090194,"post_id":36870883,"comment_id":62331464,"body_markdown":"How your solution is in any way relevant to this common problem?","body":"How your solution is in any way relevant to this common problem?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1519313453,"post_id":36870883,"comment_id":84869093,"body_markdown":"The sample configuration is not balanced (three `{s` and two `}`). Can you fix it?","body":"The sample configuration is not balanced (three <code>{s</code> and two <code>}</code>). Can you fix it?"}],"tags":[],"owner":{"account_id":5901358,"reputation":63,"user_id":4644763,"accept_rate":60,"display_name":"Alex "},"comment_count":2,"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1519313384,"creation_date":1461688823,"answer_id":36870883,"question_id":34413,"body_markdown":"Make sure this matches in the `module:app` and `module:lib`:\r\n\r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &#39;22.0.1&#39;\r\n        packagingOptions {\r\n        }\r\n\r\n        defaultConfig {\r\n            minSdkVersion 17\r\n            targetSdkVersion 23\r\n            versionCode 11\r\n            versionName &quot;2.1&quot;\r\n        }\r\n","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>Make sure this matches in the <code>module:app</code> and <code>module:lib</code>:</p>\n\n<pre><code>android {\n    compileSdkVersion 23\n    buildToolsVersion '22.0.1'\n    packagingOptions {\n    }\n\n    defaultConfig {\n        minSdkVersion 17\n        targetSdkVersion 23\n        versionCode 11\n        versionName \"2.1\"\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7287924,"reputation":1456,"user_id":5555429,"accept_rate":36,"display_name":"sudar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519313690,"creation_date":1468525574,"answer_id":38383004,"question_id":34413,"body_markdown":"I had the same problem, and I was stock for many hours.\r\n\r\nI found the solution. In my case, there was the static method defined due to that. The JVM can not create the another object of that class.\r\n\r\nFor example,\r\n\r\n    private static HttpHost proxy = new HttpHost(proxyHost, Integer.valueOf(proxyPort), &quot;http&quot;);\r\n","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I had the same problem, and I was stock for many hours.</p>\n\n<p>I found the solution. In my case, there was the static method defined due to that. The JVM can not create the another object of that class.</p>\n\n<p>For example,</p>\n\n<pre><code>private static HttpHost proxy = new HttpHost(proxyHost, Integer.valueOf(proxyPort), \"http\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1857756,"reputation":1598,"user_id":1682984,"display_name":"Aram Paronikyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1469627075,"creation_date":1469627075,"answer_id":38614741,"question_id":34413,"body_markdown":"The technique below helped me many times:\r\n\r\n    System.out.println(TheNoDefFoundClass.class.getProtectionDomain().getCodeSource().getLocation());\r\n\r\nwhere the TheNoDefFoundClass is the class that might be &quot;lost&quot; due to a preference for an older version of the same library used by your program. This most frequently happens with the cases, when the client software is being deployed into a dominant container, armed with its own classloaders and tons of ancient versions of most popular libs.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>The technique below helped me many times:</p>\n\n<pre><code>System.out.println(TheNoDefFoundClass.class.getProtectionDomain().getCodeSource().getLocation());\n</code></pre>\n\n<p>where the TheNoDefFoundClass is the class that might be \"lost\" due to a preference for an older version of the same library used by your program. This most frequently happens with the cases, when the client software is being deployed into a dominant container, armed with its own classloaders and tons of ancient versions of most popular libs.</p>\n"},{"comments":[{"owner":{"account_id":2617694,"reputation":1456,"user_id":2266428,"accept_rate":57,"display_name":"J E Carter II"},"score":1,"creation_date":1497901693,"post_id":38879739,"comment_id":76263435,"body_markdown":"Great answer.  I think I&#39;ve tried everything you suggest and still have that problem.  I can exclude some of these due to the jar working with spring, but seems to not be liked by java.sql (in my case the sap db driver for Hana).","body":"Great answer.  I think I&#39;ve tried everything you suggest and still have that problem.  I can exclude some of these due to the jar working with spring, but seems to not be liked by java.sql (in my case the sap db driver for Hana)."},{"owner":{"account_id":6519901,"reputation":681,"user_id":5044463,"accept_rate":80,"display_name":"GRASBOCK"},"score":2,"creation_date":1570565884,"post_id":38879739,"comment_id":102951050,"body_markdown":"Its actually called System.getproperty(&quot;java.class.path&quot;)","body":"Its actually called System.getproperty(&quot;java.class.path&quot;)"},{"owner":{"account_id":4252842,"reputation":138,"user_id":3479333,"accept_rate":75,"display_name":"BeHappy"},"score":0,"creation_date":1621155240,"post_id":38879739,"comment_id":119405021,"body_markdown":"Issue is still not resolved but it is very useful info.","body":"Issue is still not resolved but it is very useful info."}],"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"comment_count":3,"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1470849409,"creation_date":1470849409,"answer_id":38879739,"question_id":34413,"body_markdown":"***NoClassDefFoundError In Java***\r\n\r\n**Definition:** \r\n\r\n1. Java Virtual Machine is not able to find a particular class at runtime which was available at compile time.\r\n\r\n2. If a class was present during compile time but not available in java classpath during runtime.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Examples:**\r\n\r\n1. The class is not in Classpath, there is no sure shot way of knowing it but many times you can just have a look to print System.getproperty(&quot;java.classpath&quot;) and it will print the classpath from there you can at least get an idea of your actual runtime classpath.\r\n2. A simple example of NoClassDefFoundError is class belongs to a missing JAR file or JAR was not added into classpath or sometimes jar&#39;s name has been changed by someone like in my case one of my colleagues has changed tibco.jar into tibco_v3.jar and the program is failing with java.lang.NoClassDefFoundError and I were wondering what&#39;s wrong.\r\n\r\n3. Just try to run with explicitly -classpath option with the classpath you think will work and if it&#39;s working then it&#39;s a sure short sign that someone is overriding java classpath.\r\n4. Permission issue on JAR file can also cause NoClassDefFoundError in Java.\r\n5. Typo on XML Configuration can also cause NoClassDefFoundError in Java.\r\n6. when your compiled class which is defined in a package, doesn’t present in the same package while loading like in the case of JApplet it will throw NoClassDefFoundError in Java.\r\n\r\n**Possible Solutions:**\r\n\r\n1. The class is not available in Java Classpath.\r\n2. If you are working in J2EE environment than the visibility of Class among multiple Classloader can also cause java.lang.NoClassDefFoundError, see examples and scenario section for detailed discussion.\r\n3. Check for java.lang.ExceptionInInitializerError in your log file. NoClassDefFoundError due to the failure of static initialization is quite common.\r\n4. Because NoClassDefFoundError is a subclass of java.lang.LinkageError it can also come if one of it dependency like native library may not available.\r\n5. Any start-up script is overriding Classpath environment variable.\r\n6. You might be running your program using jar command and class was not defined in manifest file&#39;s ClassPath attribute.\r\n\r\n\r\nResources:\r\n\r\n[3 ways to solve NoClassDefFoundError][2]\r\n\r\n\r\n[java.lang.NoClassDefFoundError Problem patterns][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bDVNo.gif\r\n  [2]: https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\r\n  [3]: http://javaeesupportpatterns.blogspot.in/2011/08/javalangnoclassdeffounderror-problem.html","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p><strong><em>NoClassDefFoundError In Java</em></strong></p>\n\n<p><strong>Definition:</strong> </p>\n\n<ol>\n<li><p>Java Virtual Machine is not able to find a particular class at runtime which was available at compile time.</p></li>\n<li><p>If a class was present during compile time but not available in java classpath during runtime.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/bDVNo.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bDVNo.gif\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Examples:</strong></p>\n\n<ol>\n<li>The class is not in Classpath, there is no sure shot way of knowing it but many times you can just have a look to print System.getproperty(\"java.classpath\") and it will print the classpath from there you can at least get an idea of your actual runtime classpath.</li>\n<li><p>A simple example of NoClassDefFoundError is class belongs to a missing JAR file or JAR was not added into classpath or sometimes jar's name has been changed by someone like in my case one of my colleagues has changed tibco.jar into tibco_v3.jar and the program is failing with java.lang.NoClassDefFoundError and I were wondering what's wrong.</p></li>\n<li><p>Just try to run with explicitly -classpath option with the classpath you think will work and if it's working then it's a sure short sign that someone is overriding java classpath.</p></li>\n<li>Permission issue on JAR file can also cause NoClassDefFoundError in Java.</li>\n<li>Typo on XML Configuration can also cause NoClassDefFoundError in Java.</li>\n<li>when your compiled class which is defined in a package, doesn’t present in the same package while loading like in the case of JApplet it will throw NoClassDefFoundError in Java.</li>\n</ol>\n\n<p><strong>Possible Solutions:</strong></p>\n\n<ol>\n<li>The class is not available in Java Classpath.</li>\n<li>If you are working in J2EE environment than the visibility of Class among multiple Classloader can also cause java.lang.NoClassDefFoundError, see examples and scenario section for detailed discussion.</li>\n<li>Check for java.lang.ExceptionInInitializerError in your log file. NoClassDefFoundError due to the failure of static initialization is quite common.</li>\n<li>Because NoClassDefFoundError is a subclass of java.lang.LinkageError it can also come if one of it dependency like native library may not available.</li>\n<li>Any start-up script is overriding Classpath environment variable.</li>\n<li>You might be running your program using jar command and class was not defined in manifest file's ClassPath attribute.</li>\n</ol>\n\n<p>Resources:</p>\n\n<p><a href=\"https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\" rel=\"noreferrer\">3 ways to solve NoClassDefFoundError</a></p>\n\n<p><a href=\"http://javaeesupportpatterns.blogspot.in/2011/08/javalangnoclassdeffounderror-problem.html\" rel=\"noreferrer\">java.lang.NoClassDefFoundError Problem patterns</a></p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1519313840,"post_id":40467093,"comment_id":84869348,"body_markdown":"*&quot;EMF&quot;*? Do you mean *&quot;[MEF](http://en.wikipedia.org/wiki/Managed_Extensibility_Framework)&quot;*?","body":"<i>&quot;EMF&quot;</i>? Do you mean <i>&quot;<a href=\"http://en.wikipedia.org/wiki/Managed_Extensibility_Framework\" rel=\"nofollow noreferrer\">MEF</a>&quot;</i>?"},{"owner":{"account_id":222102,"reputation":908,"user_id":480478,"accept_rate":33,"display_name":"Aykut Kllic"},"score":2,"creation_date":1519407593,"post_id":40467093,"comment_id":84913536,"body_markdown":"Nope. EMf as Eclipse Modeling Framework. In automotive we may face this error when running generated code.","body":"Nope. EMf as Eclipse Modeling Framework. In automotive we may face this error when running generated code."}],"tags":[],"owner":{"account_id":222102,"reputation":908,"user_id":480478,"accept_rate":33,"display_name":"Aykut Kllic"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519313762,"creation_date":1478527397,"answer_id":40467093,"question_id":34413,"body_markdown":"In case you have generated-code (EMF, etc.) there can be too many static initialisers which consume all stack space. \r\n\r\nSee Stack&amp;nbsp;Overflow question *https://stackoverflow.com/questions/3700459/how-to-increase-the-java-stack-size*.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>In case you have generated-code (EMF, etc.) there can be too many static initialisers which consume all stack space. </p>\n\n<p>See Stack&nbsp;Overflow question <em><a href=\"https://stackoverflow.com/questions/3700459/how-to-increase-the-java-stack-size\">How to increase the Java stack size?</a></em>.</p>\n"},{"tags":[],"owner":{"account_id":2083919,"reputation":2302,"user_id":1855286,"display_name":"ST7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497880100,"creation_date":1497880100,"answer_id":44632379,"question_id":34413,"body_markdown":"If someone comes here because of `java.lang.NoClassDefFoundError: org/apache/log4j/Logger` error, in my case it was produced because I used log4j 2 (but I didn&#39;t add all the files that come with it), and some dependency library used log4j 1. The solution was to add the Log4j 1.x bridge: the jar `log4j-1.2-api-&lt;version&gt;.jar` which comes with log4j 2. More info in the log4j 2 [migration][1].\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/migration.html","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>If someone comes here because of <code>java.lang.NoClassDefFoundError: org/apache/log4j/Logger</code> error, in my case it was produced because I used log4j 2 (but I didn't add all the files that come with it), and some dependency library used log4j 1. The solution was to add the Log4j 1.x bridge: the jar <code>log4j-1.2-api-&lt;version&gt;.jar</code> which comes with log4j 2. More info in the log4j 2 <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">migration</a>.</p>\n"},{"tags":[],"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508914692,"creation_date":1508914692,"answer_id":46925897,"question_id":34413,"body_markdown":"Two different checkout copies of the same project\r\n--\r\nIn my case, the problem was Eclipse&#39;s inability to differentiate between two different copies of the same project. I have one locked on trunk (SVN version control) and the other one working in one branch at a time. I tried out one change in the working copy as a JUnit test case, which included extracting a private inner class to be a public class on its own and while it was working, I open the other copy of the project to look around at some other part of the code that needed changes. At some point, the `NoClassDefFoundError` popped up complaining that the private inner class was not there; double-clicking in the stack trace brought me to the source file in the wrong project copy.\r\n\r\nClosing the trunk copy of the project and running the test case again got rid of the problem.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<h2>Two different checkout copies of the same project</h2>\n\n<p>In my case, the problem was Eclipse's inability to differentiate between two different copies of the same project. I have one locked on trunk (SVN version control) and the other one working in one branch at a time. I tried out one change in the working copy as a JUnit test case, which included extracting a private inner class to be a public class on its own and while it was working, I open the other copy of the project to look around at some other part of the code that needed changes. At some point, the <code>NoClassDefFoundError</code> popped up complaining that the private inner class was not there; double-clicking in the stack trace brought me to the source file in the wrong project copy.</p>\n\n<p>Closing the trunk copy of the project and running the test case again got rid of the problem.</p>\n"},{"tags":[],"owner":{"account_id":7635211,"reputation":81,"user_id":5788964,"display_name":"Pekmezli D&#252;r&#252;m"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1511959900,"creation_date":1511959900,"answer_id":47553351,"question_id":34413,"body_markdown":"Java was unable to find the class A in runtime. \r\nClass A was in maven project ArtClient from a different workspace.\r\nSo I imported ArtClient to my Eclipse project. \r\nTwo of my projects was using ArtClient as dependency.\r\nI changed library reference to project reference for these ones (Build Path -&gt; Configure Build Path).\r\n\r\nAnd the problem gone away. ","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>Java was unable to find the class A in runtime. \nClass A was in maven project ArtClient from a different workspace.\nSo I imported ArtClient to my Eclipse project. \nTwo of my projects was using ArtClient as dependency.\nI changed library reference to project reference for these ones (Build Path -> Configure Build Path).</p>\n\n<p>And the problem gone away. </p>\n"},{"tags":[],"owner":{"account_id":3248244,"reputation":646,"user_id":2739201,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538054998,"creation_date":1517798046,"answer_id":48615116,"question_id":34413,"body_markdown":"I fixed my problem by disabling the preDexLibraries for all modules:\r\n\r\n    dexOptions {\r\n            preDexLibraries false\r\n            ...","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I fixed my problem by disabling the preDexLibraries for all modules:</p>\n\n<pre><code>dexOptions {\n        preDexLibraries false\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522609753,"creation_date":1522609753,"answer_id":49601683,"question_id":34413,"body_markdown":"This error can be caused by unchecked **Java version** requirements.\r\n\r\nIn my case I was able to resolve this error, while building a high-profile open-source project, by switching from Java 9 to Java 8 using [SDKMAN!](http://sdkman.io/).\r\n\r\n    sdk list java\r\n    sdk install java 8u152-zulu\r\n    sdk use java 8u152-zulu\r\n\r\nThen doing a clean install as described below.\r\n\r\n----------\r\n\r\nWhen using **Maven** as your build tool, it is sometimes helpful -- and usually gratifying, to do a *clean* &#39;install&#39; build **with testing disabled**.\r\n\r\n    mvn clean install -DskipTests\r\n\r\nNow that *everything* has been built and installed, you can go ahead and run the tests.\r\n\r\n    mvn test\r\n","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>This error can be caused by unchecked <strong>Java version</strong> requirements.</p>\n\n<p>In my case I was able to resolve this error, while building a high-profile open-source project, by switching from Java 9 to Java 8 using <a href=\"http://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>.</p>\n\n<pre><code>sdk list java\nsdk install java 8u152-zulu\nsdk use java 8u152-zulu\n</code></pre>\n\n<p>Then doing a clean install as described below.</p>\n\n<hr>\n\n<p>When using <strong>Maven</strong> as your build tool, it is sometimes helpful -- and usually gratifying, to do a <em>clean</em> 'install' build <strong>with testing disabled</strong>.</p>\n\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n\n<p>Now that <em>everything</em> has been built and installed, you can go ahead and run the tests.</p>\n\n<pre><code>mvn test\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1548747794,"post_id":52544691,"comment_id":95642056,"body_markdown":"This is incorrect.  A missing *resource* won&#39;t give you this error.  You will only get it if a *class* is missing.","body":"This is incorrect.  A missing <i>resource</i> won&#39;t give you this error.  You will only get it if a <i>class</i> is missing."},{"owner":{"account_id":1685307,"reputation":1623,"user_id":1548776,"display_name":"ᴠɪɴᴄᴇɴᴛ"},"score":0,"creation_date":1548768895,"post_id":52544691,"comment_id":95654306,"body_markdown":"@StephenC Maybe I should emphasize that part more, but I wrote `for example a properties file that the affected class tries to load from the META-INF directory`. This has actually happened to me and I was able to resolve the `NoClassDefFoundError` by adding the missing properties file. I added this answer exactly because one wouldn’t expect this error under the mentioned circumstances.","body":"@StephenC Maybe I should emphasize that part more, but I wrote <code>for example a properties file that the affected class tries to load from the META-INF directory</code>. This has actually happened to me and I was able to resolve the <code>NoClassDefFoundError</code> by adding the missing properties file. I added this answer exactly because one wouldn’t expect this error under the mentioned circumstances."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1548769782,"post_id":52544691,"comment_id":95654885,"body_markdown":"You have missed something very important in your explanation then, because the only way that a missing resource file *could* trigger that exception is if you are attempting to load the resource file in a `static` initialization ... which triggered an unchecked exception and caused the class init to fail.  Any unchecked exception propagating from static initialization would do that.","body":"You have missed something very important in your explanation then, because the only way that a missing resource file <i>could</i> trigger that exception is if you are attempting to load the resource file in a <code>static</code> initialization ... which triggered an unchecked exception and caused the class init to fail.  Any unchecked exception propagating from static initialization would do that."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1548769926,"post_id":52544691,"comment_id":95654999,"body_markdown":"If I am wrong (i.e. this is not due to failed `static` initialization), I would be interested to see an actual example (i.e. an MCVE) that demonstrates the behavior.","body":"If I am wrong (i.e. this is not due to failed <code>static</code> initialization), I would be interested to see an actual example (i.e. an MCVE) that demonstrates the behavior."},{"owner":{"account_id":1685307,"reputation":1623,"user_id":1548776,"display_name":"ᴠɪɴᴄᴇɴᴛ"},"score":1,"creation_date":1548869793,"post_id":52544691,"comment_id":95701825,"body_markdown":"@StephenC You’re absolutely right, though :( I looked up the case where I encountered this issue and it indeed involved a static initializer trying to load a resource bundle. I shall augment/correct my description of the cause. Thanks for pointing this out.","body":"@StephenC You’re absolutely right, though :( I looked up the case where I encountered this issue and it indeed involved a static initializer trying to load a resource bundle. I shall augment/correct my description of the cause. Thanks for pointing this out."}],"tags":[],"owner":{"account_id":1685307,"reputation":1623,"user_id":1548776,"display_name":"ᴠɪɴᴄᴇɴᴛ"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603966149,"creation_date":1538080221,"answer_id":52544691,"question_id":34413,"body_markdown":"`NoClassDefFoundError` can also occur when a **static** initializer tries to load a resource bundle that is not available in runtime, for example a properties file that the affected class tries to load from the `META-INF` directory, but isn’t there. If you don’t catch `NoClassDefFoundError`, sometimes you won’t be able to see the full stack trace; to overcome this you can temporarily use a `catch` clause for `Throwable`:\r\n\r\n    try {\r\n        // Statement(s) that cause(s) the affected class to be loaded\r\n    } catch (Throwable t) {\r\n        Logger.getLogger(&quot;&lt;logger-name&gt;&quot;).info(&quot;Loading my class went wrong&quot;, t);\r\n    }","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p><code>NoClassDefFoundError</code> can also occur when a <strong>static</strong> initializer tries to load a resource bundle that is not available in runtime, for example a properties file that the affected class tries to load from the <code>META-INF</code> directory, but isn’t there. If you don’t catch <code>NoClassDefFoundError</code>, sometimes you won’t be able to see the full stack trace; to overcome this you can temporarily use a <code>catch</code> clause for <code>Throwable</code>:</p>\n<pre><code>try {\n    // Statement(s) that cause(s) the affected class to be loaded\n} catch (Throwable t) {\n    Logger.getLogger(&quot;&lt;logger-name&gt;&quot;).info(&quot;Loading my class went wrong&quot;, t);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4471201,"reputation":382,"user_id":4045924,"accept_rate":92,"display_name":"DailyFrankPeter"},"score":4,"creation_date":1544191631,"post_id":53616950,"comment_id":94199616,"body_markdown":"This is pretty damn useful piece of advice in real life. I just had the same situation with class attribute initializers. You only have once chance to see the actual problem in the log. Once the class is loaded (or attempted anyway) you need to restart everything.","body":"This is pretty damn useful piece of advice in real life. I just had the same situation with class attribute initializers. You only have once chance to see the actual problem in the log. Once the class is loaded (or attempted anyway) you need to restart everything."}],"tags":[],"owner":{"account_id":2263902,"reputation":30920,"user_id":1993204,"accept_rate":90,"display_name":"Bartek Lipinski"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1570032532,"creation_date":1543939478,"answer_id":53616950,"question_id":34413,"body_markdown":"One interesting case in which you might see a lot of `NoClassDefFoundErrors` is when you:\r\n\r\n1. `throw` a `RuntimeException` in the `static` block of your class `Example`\r\n2. Intercept it (or if it just doesn&#39;t matter like it is thrown in a **test case**)\r\n3. Try to create an instance of this class `Example`\r\n\r\n&lt;/br&gt;\r\n\r\n    static class Example {\r\n        static {\r\n            thisThrowsRuntimeException();\r\n        }\r\n    }\r\n    \r\n    static class OuterClazz {\r\n    \r\n        OuterClazz() {\r\n            try {\r\n                new Example();\r\n            } catch (Throwable ignored) { //simulating catching RuntimeException from static block\r\n                // DO NOT DO THIS IN PRODUCTION CODE, THIS IS JUST AN EXAMPLE in StackOverflow\r\n            }\r\n\r\n            new Example(); //this throws NoClassDefFoundError\r\n        }\r\n    }\r\n\r\n`NoClassDefError` will be thrown accompanied with `ExceptionInInitializerError` from the static block `RuntimeException`.\r\n\r\n---\r\n\r\nThis is especially important case when you see `NoClassDefFoundErrors` in your **UNIT TESTS**.\r\n\r\nIn a way you&#39;re &quot;sharing&quot; the `static` block execution between tests, but the initial `ExceptionInInitializerError` will be just in one test case. The first one that uses the problematic `Example` class. Other test cases that use the `Example` class will just throw `NoClassDefFoundErrors`.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>One interesting case in which you might see a lot of <code>NoClassDefFoundErrors</code> is when you:</p>\n\n<ol>\n<li><code>throw</code> a <code>RuntimeException</code> in the <code>static</code> block of your class <code>Example</code></li>\n<li>Intercept it (or if it just doesn't matter like it is thrown in a <strong>test case</strong>)</li>\n<li>Try to create an instance of this class <code>Example</code></li>\n</ol>\n\n<p></p>\n\n<pre><code>static class Example {\n    static {\n        thisThrowsRuntimeException();\n    }\n}\n\nstatic class OuterClazz {\n\n    OuterClazz() {\n        try {\n            new Example();\n        } catch (Throwable ignored) { //simulating catching RuntimeException from static block\n            // DO NOT DO THIS IN PRODUCTION CODE, THIS IS JUST AN EXAMPLE in StackOverflow\n        }\n\n        new Example(); //this throws NoClassDefFoundError\n    }\n}\n</code></pre>\n\n<p><code>NoClassDefError</code> will be thrown accompanied with <code>ExceptionInInitializerError</code> from the static block <code>RuntimeException</code>.</p>\n\n<hr>\n\n<p>This is especially important case when you see <code>NoClassDefFoundErrors</code> in your <strong>UNIT TESTS</strong>.</p>\n\n<p>In a way you're \"sharing\" the <code>static</code> block execution between tests, but the initial <code>ExceptionInInitializerError</code> will be just in one test case. The first one that uses the problematic <code>Example</code> class. Other test cases that use the <code>Example</code> class will just throw <code>NoClassDefFoundErrors</code>.</p>\n"},{"tags":[],"owner":{"account_id":4193275,"reputation":1015,"user_id":3435342,"display_name":"Steve Stilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554415545,"creation_date":1554328718,"answer_id":55504952,"question_id":34413,"body_markdown":"I got NoClassDefFound errors when I didn&#39;t export a class on the &quot;Order and Export&quot; tab in the Java Build Path of my project.  Make sure to put a checkmark in the &quot;Order and Export&quot; tab of any dependencies you add to the project&#39;s build path.  See https://stackoverflow.com/questions/8884818/eclipse-warning-xxxxxxxxxxx-jar-will-not-be-exported-or-published-runtime-clas.\r\n","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I got NoClassDefFound errors when I didn't export a class on the \"Order and Export\" tab in the Java Build Path of my project.  Make sure to put a checkmark in the \"Order and Export\" tab of any dependencies you add to the project's build path.  See <a href=\"https://stackoverflow.com/questions/8884818/eclipse-warning-xxxxxxxxxxx-jar-will-not-be-exported-or-published-runtime-clas\">Eclipse warning: XXXXXXXXXXX.jar will not be exported or published. Runtime ClassNotFoundExceptions may result</a>.</p>\n"},{"tags":[],"owner":{"account_id":3061216,"reputation":3877,"user_id":2593810,"accept_rate":90,"display_name":"chancdn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565105751,"creation_date":1565105751,"answer_id":57379534,"question_id":34413,"body_markdown":"It could also be because you copy the code file from an IDE with a certain package name and you want to try to run it using terminal. You will have to remove the package name from the code first.\r\nThis happens to me.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>It could also be because you copy the code file from an IDE with a certain package name and you want to try to run it using terminal. You will have to remove the package name from the code first.\nThis happens to me.</p>\n"},{"tags":[],"owner":{"account_id":8038125,"reputation":31,"user_id":6060637,"display_name":"Alan Ackart"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572583713,"creation_date":1572583713,"answer_id":58654225,"question_id":34413,"body_markdown":"I got this error when I add  Maven dependency of another module to my project, the issue was finally solved by add `-Xss2m` to my program&#39;s JVM option(It&#39;s one megabyte by default since JDK5.0). It&#39;s believed the program does not have enough stack to load class.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I got this error when I add  Maven dependency of another module to my project, the issue was finally solved by add <code>-Xss2m</code> to my program's JVM option(It's one megabyte by default since JDK5.0). It's believed the program does not have enough stack to load class.</p>\n"},{"tags":[],"owner":{"account_id":375726,"reputation":147,"user_id":726741,"display_name":"Ben Waters"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582576204,"creation_date":1582576204,"answer_id":60383482,"question_id":34413,"body_markdown":"In my case I was getting this error due to a mismatch in the JDK versions. When I tried to run the application from Intelij it wasn&#39;t working but then running it from the command line worked. This is because Intelij was attempting to run it with the Java 11 JDK that was setup but on the command line it was running with the Java 8 JDK. After switching that setting under File &gt; Project Structure &gt; Project Settings &gt; Project SDK, it worked for me.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>In my case I was getting this error due to a mismatch in the JDK versions. When I tried to run the application from Intelij it wasn't working but then running it from the command line worked. This is because Intelij was attempting to run it with the Java 11 JDK that was setup but on the command line it was running with the Java 8 JDK. After switching that setting under File > Project Structure > Project Settings > Project SDK, it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":16685168,"reputation":123,"user_id":12059281,"display_name":"bdskfsdk321dsad3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583045423,"creation_date":1582996073,"answer_id":60467618,"question_id":34413,"body_markdown":"Everyone talks here about some Java configuration stuff, JVM problems etc., in my case the error was not related to these topics at all and had a very trivial and easy to solve reason: I had a wrong annotation at my endpoint in my Controller (Spring Boot application). ","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>Everyone talks here about some Java configuration stuff, JVM problems etc., in my case the error was not related to these topics at all and had a very trivial and easy to solve reason: I had a wrong annotation at my endpoint in my Controller (Spring Boot application). </p>\n"},{"tags":[],"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589564527,"creation_date":1589564527,"answer_id":61825298,"question_id":34413,"body_markdown":"I have had an interesting issue wiht NoClassDefFoundError in JavaEE working with Liberty server.  I was using IMS resource adapters and my server.xml had already resource adapter for imsudbJXA.rar.\r\nWhen I added new adapter for imsudbXA.rar, I would start getting this error for instance objects for DLIException, IMSConnectionSpec or SQLInteractionSpec.\r\nI could not figure why but I resolved it by creating new server.xml for my work using only imsudbXA.rar.  I am sure using multiple resource adapters in server.xml is fine, I just had no time to look into that.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I have had an interesting issue wiht NoClassDefFoundError in JavaEE working with Liberty server.  I was using IMS resource adapters and my server.xml had already resource adapter for imsudbJXA.rar.\nWhen I added new adapter for imsudbXA.rar, I would start getting this error for instance objects for DLIException, IMSConnectionSpec or SQLInteractionSpec.\nI could not figure why but I resolved it by creating new server.xml for my work using only imsudbXA.rar.  I am sure using multiple resource adapters in server.xml is fine, I just had no time to look into that.</p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597504302,"creation_date":1597504302,"answer_id":63427546,"question_id":34413,"body_markdown":"Update [https://www.infoq.com/articles/single-file-execution-java11/]:\r\n\r\n&gt; In Java SE 11, you get the option to launch a single source code file\r\n&gt; directly, without intermediate compilation. Just for your convenience,\r\n&gt; so that newbies like you don&#39;t have to run javac + java (of course,\r\n&gt; leaving them confused why that is).","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>Update [https://www.infoq.com/articles/single-file-execution-java11/]:</p>\n<blockquote>\n<p>In Java SE 11, you get the option to launch a single source code file\ndirectly, without intermediate compilation. Just for your convenience,\nso that newbies like you don't have to run javac + java (of course,\nleaving them confused why that is).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9050940,"reputation":55,"user_id":6741141,"accept_rate":100,"display_name":"Thomas McSwain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601427048,"creation_date":1601427048,"answer_id":64129484,"question_id":34413,"body_markdown":"I had this error but could not figure out the solution based on this thread but solved it myself.\r\n\r\nFor my problem I was compiling this code:\r\n    \r\n    package valentines;\r\n\r\n    import java.math.BigInteger;\r\n    import java.util.ArrayList;\r\n\r\n    public class StudentSolver {\r\n        public static ArrayList&lt;Boolean&gt; solve(ArrayList&lt;ArrayList&lt;BigInteger&gt;&gt; problems) {\r\n            //DOING WORK HERE\r\n            \r\n        }\r\n        public static void main(String[] args){\r\n            //TESTING SOLVE FUNCTION\r\n        }\r\n        \r\n    }\r\n\r\nI was then compiling this code in a folder structure that was like /ProjectName/valentines\r\nCompiling it worked fine but trying to execute: `java StudentSolver`\r\n\r\nI was getting the NoClassDefError.\r\n\r\nTo fix this I simply removed: `package valentines;` \r\n\r\nI&#39;m not very well versed in java packages and such but this how I fixed my error so sorry if this was already answered by someone else but I couldn&#39;t interpret it to my problem.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I had this error but could not figure out the solution based on this thread but solved it myself.</p>\n<p>For my problem I was compiling this code:</p>\n<pre><code>package valentines;\n\nimport java.math.BigInteger;\nimport java.util.ArrayList;\n\npublic class StudentSolver {\n    public static ArrayList&lt;Boolean&gt; solve(ArrayList&lt;ArrayList&lt;BigInteger&gt;&gt; problems) {\n        //DOING WORK HERE\n        \n    }\n    public static void main(String[] args){\n        //TESTING SOLVE FUNCTION\n    }\n    \n}\n</code></pre>\n<p>I was then compiling this code in a folder structure that was like /ProjectName/valentines\nCompiling it worked fine but trying to execute: <code>java StudentSolver</code></p>\n<p>I was getting the NoClassDefError.</p>\n<p>To fix this I simply removed: <code>package valentines;</code></p>\n<p>I'm not very well versed in java packages and such but this how I fixed my error so sorry if this was already answered by someone else but I couldn't interpret it to my problem.</p>\n"},{"tags":[],"owner":{"account_id":4374787,"reputation":475,"user_id":3568094,"accept_rate":60,"display_name":"priyanka_rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616071677,"creation_date":1616071677,"answer_id":66691405,"question_id":34413,"body_markdown":"I was getting **NoClassDefFoundError** while trying to deploy application on Tomcat/JBOSS servers. I played with different dependencies to resolve the issue, but kept getting the same error. Marked all javax.* dependencies as provided in pom.xml, And war literally had no Dependency in it. Still the issue kept popping up.\r\n\r\nFinally realized that *src/main/webapps/WEB-INF/**classes*** had **classes** folder which was getting copied into my war, so instead of compiled classes, this classes were getting copied, hence no dependency change was resolving the issue. \r\n\r\nHence be careful if any **previously compiled data** is getting copied, After deleting classes folder and fresh compilation, It worked!..","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I was getting <strong>NoClassDefFoundError</strong> while trying to deploy application on Tomcat/JBOSS servers. I played with different dependencies to resolve the issue, but kept getting the same error. Marked all javax.* dependencies as provided in pom.xml, And war literally had no Dependency in it. Still the issue kept popping up.</p>\n<p>Finally realized that <em>src/main/webapps/WEB-INF/<strong>classes</strong></em> had <strong>classes</strong> folder which was getting copied into my war, so instead of compiled classes, this classes were getting copied, hence no dependency change was resolving the issue.</p>\n<p>Hence be careful if any <strong>previously compiled data</strong> is getting copied, After deleting classes folder and fresh compilation, It worked!..</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1659100585,"creation_date":1616757956,"answer_id":66816030,"question_id":34413,"body_markdown":"**Java ClassNotFoundException vs NoClassDefFoundError**\r\n\r\n[\\[ClassLoader\\]][1]\r\n\r\nStatic vs Dynamic class loading\r\n\r\n`Static(Implicit) class loading` - result of reference, instantiation, or inheritance.\r\n```\r\nMyClass myClass = new MyClass();\r\n```\r\n\r\n`Dynamic(Explicit) class loading` is result of Class.forName(), loadClass(), findSystemClass()\r\n```\r\nMyClass myClass = (MyClass) Class.forName(&quot;MyClass&quot;).newInstance();\r\n```\r\n\r\nEvery class has a `ClassLoader` which uses `loadClass(String name);` that is why \r\n```none\r\nexplicit class loader uses implicit class loader\r\n```\r\n\r\n`NoClassDefFoundError` is a part of `explicit class loader`. It is `Error` to guarantee that during compilation this class was presented but now (in run time) it is absent.\r\n\r\n`ClassNotFoundException` is a part of `implicit class loader`. It is `Exception` to be elastic with scenarios where additionally it can be used - for example reflection.\r\n\r\n  [1]: https://stackoverflow.com/a/66815988/4770877","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p><strong>Java ClassNotFoundException vs NoClassDefFoundError</strong></p>\n<p><a href=\"https://stackoverflow.com/a/66815988/4770877\">[ClassLoader]</a></p>\n<p>Static vs Dynamic class loading</p>\n<p><code>Static(Implicit) class loading</code> - result of reference, instantiation, or inheritance.</p>\n<pre><code>MyClass myClass = new MyClass();\n</code></pre>\n<p><code>Dynamic(Explicit) class loading</code> is result of Class.forName(), loadClass(), findSystemClass()</p>\n<pre><code>MyClass myClass = (MyClass) Class.forName(&quot;MyClass&quot;).newInstance();\n</code></pre>\n<p>Every class has a <code>ClassLoader</code> which uses <code>loadClass(String name);</code> that is why</p>\n<pre class=\"lang-none prettyprint-override\"><code>explicit class loader uses implicit class loader\n</code></pre>\n<p><code>NoClassDefFoundError</code> is a part of <code>explicit class loader</code>. It is <code>Error</code> to guarantee that during compilation this class was presented but now (in run time) it is absent.</p>\n<p><code>ClassNotFoundException</code> is a part of <code>implicit class loader</code>. It is <code>Exception</code> to be elastic with scenarios where additionally it can be used - for example reflection.</p>\n"},{"tags":[],"owner":{"account_id":7844722,"reputation":116,"user_id":5930157,"display_name":"douglas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669074064,"creation_date":1669040158,"answer_id":74520294,"question_id":34413,"body_markdown":"My solution to this was to &quot;avail&quot; the classpath contents for the specific classes that were missing. In my case, I had 2 dependencies, and though I was able to compile successfully using javac ..., I was not able to run the resulting class file using java ..., because a Dynamic class in the BouncyCastle jar could not be loaded at runtime.\r\n\r\n    javac --classpath &quot;ext/commons-io-2.11.0;ext/bc-fips-1.0.2.3&quot; hello.java\r\nSo at compile time and by runtime, the JVM is aware of where to fetch Apache Commons and BouncyCastle dependencies, however, when running this, I got\r\n\r\n    Error: Unable to initialize main class hello\r\n    Caused by: java.lang.NoClassDefFoundError: \r\n    org/bouncycastle/jcajce/provider/BouncyCastleFipsProvider\r\nAnd I therefore manually created a new folder named ext at the same location, as per the classpath, where I then placed the BouncyCastle jar to ensure it would be found at runtime. You can place the jar relative to the class file or the jar file as long as the resulting manifest has the location of the jar specified. Note I only need to avail the one jar containing the missing class file.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>My solution to this was to &quot;avail&quot; the classpath contents for the specific classes that were missing. In my case, I had 2 dependencies, and though I was able to compile successfully using javac ..., I was not able to run the resulting class file using java ..., because a Dynamic class in the BouncyCastle jar could not be loaded at runtime.</p>\n<pre><code>javac --classpath &quot;ext/commons-io-2.11.0;ext/bc-fips-1.0.2.3&quot; hello.java\n</code></pre>\n<p>So at compile time and by runtime, the JVM is aware of where to fetch Apache Commons and BouncyCastle dependencies, however, when running this, I got</p>\n<pre><code>Error: Unable to initialize main class hello\nCaused by: java.lang.NoClassDefFoundError: \norg/bouncycastle/jcajce/provider/BouncyCastleFipsProvider\n</code></pre>\n<p>And I therefore manually created a new folder named ext at the same location, as per the classpath, where I then placed the BouncyCastle jar to ensure it would be found at runtime. You can place the jar relative to the class file or the jar file as long as the resulting manifest has the location of the jar specified. Note I only need to avail the one jar containing the missing class file.</p>\n"},{"tags":[],"owner":{"account_id":12969674,"reputation":713,"user_id":9375838,"display_name":"Leena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699533489,"creation_date":1699533489,"answer_id":77453259,"question_id":34413,"body_markdown":"For me, the issue was due to incorrect dependencies added in **pom**. To check if that&#39;s your issue, run `mvn clean verify` and it should flag this.","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>For me, the issue was due to incorrect dependencies added in <strong>pom</strong>. To check if that's your issue, run <code>mvn clean verify</code> and it should flag this.</p>\n"}],"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098983,"favorite_count":0,"down_vote_count":3,"up_vote_count":668,"accepted_answer_id":34419,"answer_count":32,"score":665,"last_activity_date":1699533489,"creation_date":1220021970,"question_id":34413,"body_markdown":"I am getting a `NoClassDefFoundError` when I run my Java application.  What is typically the cause of this?","title":"Why am I getting a NoClassDefFoundError in Java?","body":"<p>I am getting a <code>NoClassDefFoundError</code> when I run my Java application.  What is typically the cause of this?</p>\n"},{"tags":["java","junit","hazelcast","subsystem"],"comments":[{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1699544263,"post_id":77453236,"comment_id":136547950,"body_markdown":"How many members do you have in your cluster? What&#39;s your `cp-member-count` &amp; `group-size` set to? Hazelcast CP subsystem configuration documentation - https://docs.hazelcast.com/hazelcast/latest/cp-subsystem/configuration#global-configuration-options","body":"How many members do you have in your cluster? What&#39;s your <code>cp-member-count</code> &amp; <code>group-size</code> set to? Hazelcast CP subsystem configuration documentation - <a href=\"https://docs.hazelcast.com/hazelcast/latest/cp-subsystem/configuration#global-configuration-options\" rel=\"nofollow noreferrer\">docs.hazelcast.com/hazelcast/latest/cp-subsystem/&hellip;</a>"},{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":0,"creation_date":1699602206,"post_id":77453236,"comment_id":136555163,"body_markdown":"It means that the CP subsystem is configured to have at least 7 members in the cluster in order to start. Currently there is only one member, so it is waiting for 6 other members in the cluster. If you don&#39;t need CP subsystem in your test, you may disable it from configuration. If you need CP subsystem try decrementing the required member size to 3 and start 2 more members.","body":"It means that the CP subsystem is configured to have at least 7 members in the cluster in order to start. Currently there is only one member, so it is waiting for 6 other members in the cluster. If you don&#39;t need CP subsystem in your test, you may disable it from configuration. If you need CP subsystem try decrementing the required member size to 3 and start 2 more members."},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1699613776,"post_id":77453236,"comment_id":136557079,"body_markdown":"@Or&#231;un&#199;olak I checked it and i had it set to 7, its true, but when i changed cp-member-count &amp; group-size to 0 i was still getting the same result.","body":"@Or&#231;un&#199;olak I checked it and i had it set to 7, its true, but when i changed cp-member-count &amp; group-size to 0 i was still getting the same result."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1699629615,"post_id":77453236,"comment_id":136559908,"body_markdown":"@AlbertAlbatros are you sure your configuration is correct? As per the documentation, when `cp-member-count` is `0`, the CP subsystem runs in unsafe mode for obvious reasons and it seems unlikely you&#39;d still have an error about `waiting for 7 more members`.","body":"@AlbertAlbatros are you sure your configuration is correct? As per the documentation, when <code>cp-member-count</code> is <code>0</code>, the CP subsystem runs in unsafe mode for obvious reasons and it seems unlikely you&#39;d still have an error about <code>waiting for 7 more members</code>."},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1699741141,"post_id":77453236,"comment_id":136570177,"body_markdown":"@@Or&#231;un&#199;olak okey, got it. I didnt notice than my cp-member-count property was overwriting via parent configuration file. Thanks for help.","body":"@@Or&#231;un&#199;olak okey, got it. I didnt notice than my cp-member-count property was overwriting via parent configuration file. Thanks for help."},{"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"score":0,"creation_date":1699855747,"post_id":77453236,"comment_id":136578765,"body_markdown":"I am glad it worked :-)","body":"I am glad it worked :-)"}],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699533284,"creation_date":1699533284,"question_id":77453236,"body_markdown":"when im trying to run my junit integration tests i get:\r\n\r\n    CP Subsystem is waiting for 7 members to join the cluster. Current member count: 1\r\n\r\nIn a loop forever. I have no clue where it comes from and how to fix it. Can you give me any advices where can i search for a solution?","title":"CP Subsystem waiting for members forever","body":"<p>when im trying to run my junit integration tests i get:</p>\n<pre><code>CP Subsystem is waiting for 7 members to join the cluster. Current member count: 1\n</code></pre>\n<p>In a loop forever. I have no clue where it comes from and how to fix it. Can you give me any advices where can i search for a solution?</p>\n"},{"tags":["java","logback","spring-logback","logback-classic"],"comments":[{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1699525121,"post_id":77436748,"comment_id":136544084,"body_markdown":"@Spring this is what I&#39;ve done so far but I haven&#39;t tested it https://gist.github.com/dev-rifaii/c32912ccdffc4c544a3417f89ed289be\nI will post an answer if this solution works properly or if I find another","body":"@Spring this is what I&#39;ve done so far but I haven&#39;t tested it <a href=\"https://gist.github.com/dev-rifaii/c32912ccdffc4c544a3417f89ed289be\" rel=\"nofollow noreferrer\">gist.github.com/dev-rifaii/c32912ccdffc4c544a3417f89ed289be</a> I will post an answer if this solution works properly or if I find another"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1699525279,"post_id":77436748,"comment_id":136544117,"body_markdown":"Please share your codebase","body":"Please share your codebase"}],"answers":[{"tags":[],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699533139,"creation_date":1699533139,"answer_id":77453219,"question_id":77436748,"body_markdown":"Issue arises due to the deprecated getMarker() Method:\r\n\r\n[https://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/ILoggingEvent.html][1]\r\n\r\nThis is how I solved in my case:\r\n\r\nold expression:\r\n             \r\n\r\n      &lt;expression&gt;return marker != null &amp;amp;&amp;amp; marker.getName().equals(&quot;FUNC&quot;);&lt;/expression&gt;\r\n\r\nchanged to:\r\n\r\n      &lt;expression&gt;return event.getMarkerList() != null &amp;amp;&amp;amp; !event.getMarkerList().isEmpty() &amp;amp;&amp;amp; ((org.slf4j.Marker) event.getMarkerList().get(0)).getName().equals(&quot;FUNC&quot;);&lt;/expression&gt;\r\n\r\n\r\n  [1]: https://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/ILoggingEvent.html","title":"marker is not an rvalue in logback","body":"<p>Issue arises due to the deprecated getMarker() Method:</p>\n<p><a href=\"https://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/ILoggingEvent.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/ILoggingEvent.html</a></p>\n<p>This is how I solved in my case:</p>\n<p>old expression:</p>\n<pre><code>  &lt;expression&gt;return marker != null &amp;amp;&amp;amp; marker.getName().equals(&quot;FUNC&quot;);&lt;/expression&gt;\n</code></pre>\n<p>changed to:</p>\n<pre><code>  &lt;expression&gt;return event.getMarkerList() != null &amp;amp;&amp;amp; !event.getMarkerList().isEmpty() &amp;amp;&amp;amp; ((org.slf4j.Marker) event.getMarkerList().get(0)).getName().equals(&quot;FUNC&quot;);&lt;/expression&gt;\n</code></pre>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699533139,"creation_date":1699347265,"question_id":77436748,"body_markdown":"I have this filter in my logback-spring.xml:\r\n\r\n```xml\r\n&lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\r\n    &lt;evaluator&gt;\r\n        &lt;expression&gt;\r\n            return marker instanceof com.package.logging.Metrics.Marker;\r\n        &lt;/expression&gt;\r\n    &lt;/evaluator&gt;\r\n    &lt;onMatch&gt;DENY&lt;/onMatch&gt;\r\n    &lt;onMismatch&gt;NEUTRAL&lt;/onMismatch&gt;\r\n&lt;/filter&gt;\r\n``` \r\n\r\nthe filter has been working until I started upgrading my dependencies. Here&#39;s a list of the most relevant upgrades:\r\n\r\n - Java 8 -&gt; 17\r\n   \r\n - Spring boot 2.5 -&gt; 3.0.8\r\n   \r\n - ch.qos.logback:logback-core:1.2.11 -&gt; 1.4.11\r\n   \r\n - ch.qos.logback:logback-classic:1.2.11 -&gt; 1.4.11\r\n   \r\n - org.codehaus.janino:janino:3.1.7 -&gt; 3.1.10\r\n\r\nNow it&#39;s giving me this error on application startup:\r\n\r\n&gt; ERROR in ch.qos.logback.classic.boolex.JaninoEventEvaluator@40d10481 - Could not start evaluator with expression [return marker instanceof com.package.logging.Metrics.Marker;] org.codehaus.commons.compiler.CompileException: Line 2, Column 8: Expression &quot;marker&quot; is not an rvalue","title":"marker is not an rvalue in logback","body":"<p>I have this filter in my logback-spring.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\n    &lt;evaluator&gt;\n        &lt;expression&gt;\n            return marker instanceof com.package.logging.Metrics.Marker;\n        &lt;/expression&gt;\n    &lt;/evaluator&gt;\n    &lt;onMatch&gt;DENY&lt;/onMatch&gt;\n    &lt;onMismatch&gt;NEUTRAL&lt;/onMismatch&gt;\n&lt;/filter&gt;\n</code></pre>\n<p>the filter has been working until I started upgrading my dependencies. Here's a list of the most relevant upgrades:</p>\n<ul>\n<li><p>Java 8 -&gt; 17</p>\n</li>\n<li><p>Spring boot 2.5 -&gt; 3.0.8</p>\n</li>\n<li><p>ch.qos.logback:logback-core:1.2.11 -&gt; 1.4.11</p>\n</li>\n<li><p>ch.qos.logback:logback-classic:1.2.11 -&gt; 1.4.11</p>\n</li>\n<li><p>org.codehaus.janino:janino:3.1.7 -&gt; 3.1.10</p>\n</li>\n</ul>\n<p>Now it's giving me this error on application startup:</p>\n<blockquote>\n<p>ERROR in ch.qos.logback.classic.boolex.JaninoEventEvaluator@40d10481 - Could not start evaluator with expression [return marker instanceof com.package.logging.Metrics.Marker;] org.codehaus.commons.compiler.CompileException: Line 2, Column 8: Expression &quot;marker&quot; is not an rvalue</p>\n</blockquote>\n"},{"tags":["java","guava","jsonnode"],"comments":[{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1562670244,"post_id":56949776,"comment_id":100440821,"body_markdown":"Possible duplicate of [How to convert HashMap to JsonNode with Jackson?](https://stackoverflow.com/questions/39391095/how-to-convert-hashmap-to-jsonnode-with-jackson)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/39391095/how-to-convert-hashmap-to-jsonnode-with-jackson\">How to convert HashMap to JsonNode with Jackson?</a>"}],"answers":[{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562671676,"creation_date":1562670352,"answer_id":56951180,"question_id":56949776,"body_markdown":"    JsonNode jsonDifference = new ObjectMapper().valueToTree(difference.entriesOnlyOnRight());","title":"Converting mapdifference to jsonnode","body":"<pre><code>JsonNode jsonDifference = new ObjectMapper().valueToTree(difference.entriesOnlyOnRight());\n</code></pre>\n"}],"owner":{"account_id":16125609,"reputation":11,"user_id":11640422,"display_name":"anji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699532471,"creation_date":1562665491,"question_id":56949776,"body_markdown":"I am comparing two json document and is using mapdifference to get the difference of the two.\r\nNow i want to patch this difference to an existing json, but the difference returned is in the form\r\n\r\n    /applicant/0/EmployDetail/0/AnnualSalary: 99999868.99\r\n    /Notes/0/customNote: OM Application Notes\r\n\r\nand so on.\r\n\r\n\r\nUsed the following to generate the difference:\r\n\r\n```\r\nMapDifference&lt;String, Object&gt; difference = Maps.difference(leftFlatMap, rightFlatMap);\r\ndifference.entriesOnlyOnRight().forEach((key, value) -&gt; System.out.println(key + &quot;: &quot; + value));\r\n```\r\n\r\nI am expecting it to convert it to a jsonnode.","title":"Converting mapdifference to jsonnode","body":"<p>I am comparing two json document and is using mapdifference to get the difference of the two.\nNow i want to patch this difference to an existing json, but the difference returned is in the form</p>\n\n<pre><code>/applicant/0/EmployDetail/0/AnnualSalary: 99999868.99\n/Notes/0/customNote: OM Application Notes\n</code></pre>\n\n<p>and so on.</p>\n\n<p>Used the following to generate the difference:</p>\n\n<pre><code>MapDifference&lt;String, Object&gt; difference = Maps.difference(leftFlatMap, rightFlatMap);\ndifference.entriesOnlyOnRight().forEach((key, value) -&gt; System.out.println(key + \": \" + value));\n</code></pre>\n\n<p>I am expecting it to convert it to a jsonnode.</p>\n"},{"tags":["java","android","firebase","android-studio"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699673815,"post_id":77453147,"comment_id":136564777,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77453147/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29863898,"reputation":1,"user_id":22886994,"display_name":"Soumyodip Sutradhar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699532443,"creation_date":1699532443,"answer_id":77453147,"question_id":76190584,"body_markdown":"Try to change the dependency old versions to advanced versions.\r\nlike:-\r\nimplementation &#39;com.google.firebase:firebase-auth:22.2.0&#39;\r\nimplementation &#39;com.google.firebase:firebase-storage:20.3.0&#39;\r\n\r\ngradually you will see that your app will run with no error.","title":"Cannot resolve symbol &#39;InternalAppCheckTokenProvider&#39; errors for my android app","body":"<p>Try to change the dependency old versions to advanced versions.\nlike:-\nimplementation 'com.google.firebase:firebase-auth:22.2.0'\nimplementation 'com.google.firebase:firebase-storage:20.3.0'</p>\n<p>gradually you will see that your app will run with no error.</p>\n"}],"owner":{"account_id":26563203,"reputation":1,"user_id":20190709,"display_name":"Ay&#231;a Oktay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699532443,"creation_date":1683399154,"question_id":76190584,"body_markdown":"my project was work until today. I debugging my project and show nothing for my gradle build. but when I try to run my app on the emulator I&#39; m getting this error: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/appcheck/interop/InternalAppCheckTokenProvider;\r\n```\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.sao.myapp&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.sao.myapp&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    //noinspection GradleCompatible\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:21.3.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.5.0&#39;)\r\n\r\n\r\n    implementation &#39;com.github.TutorialsAndroid:GButton:v1.0.19&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.5.0&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth-ktx:22.0.0&#39;\r\n\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database-ktx:20.2.1&#39;\r\n\r\n\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.5.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n\r\n\r\n\r\n\r\n\r\n    //Firebase k&#252;t&#252;phaneleri\r\n    implementation &#39;com.google.firebase:firebase-analytics-ktx&#39;\r\n    implementation &quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n\r\n\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    //noinspection GradleCompatible\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n\r\n\r\n\r\n}\r\n```\r\nSorry , I&#39;m not good for explanation. But you can ask if I did something wrong  \r\n\r\n\r\nI tried remove some firebase implemantation but it&#39;s getting worse. I don&#39;t understand tehe error. I just want to run my app properly. Please help me..","title":"Cannot resolve symbol &#39;InternalAppCheckTokenProvider&#39; errors for my android app","body":"<p>my project was work until today. I debugging my project and show nothing for my gradle build. but when I try to run my app on the emulator I' m getting this error: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/appcheck/interop/InternalAppCheckTokenProvider;</p>\n<pre><code>\nplugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n\n}\n\nandroid {\n    namespace 'com.sao.myapp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.sao.myapp&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.cardview:cardview:1.0.0'\n    //noinspection GradleCompatible\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:21.3.0'\n    implementation platform('com.google.firebase:firebase-bom:31.5.0')\n\n\n    implementation 'com.github.TutorialsAndroid:GButton:v1.0.19'\n    implementation 'com.google.android.gms:play-services-auth:20.5.0'\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    implementation 'com.google.firebase:firebase-auth-ktx:22.0.0'\n\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\n    implementation 'com.google.firebase:firebase-database-ktx:20.2.1'\n\n\n    implementation 'com.google.android.gms:play-services-auth:20.5.0'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n\n\n\n\n\n    //Firebase kütüphaneleri\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation &quot;androidx.constraintlayout:constraintlayout:2.1.4&quot;\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.firebase:firebase-database'\n    implementation 'com.google.firebase:firebase-storage'\n    implementation 'com.google.firebase:firebase-auth'\n\n\n\n    testImplementation 'junit:junit:4.13.2'\n    //noinspection GradleCompatible\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n\n\n}\n</code></pre>\n<p>Sorry , I'm not good for explanation. But you can ask if I did something wrong</p>\n<p>I tried remove some firebase implemantation but it's getting worse. I don't understand tehe error. I just want to run my app properly. Please help me..</p>\n"},{"tags":["java","spring-boot","multithreading","threadpool","oom"],"comments":[{"owner":{"account_id":15974270,"reputation":177,"user_id":11527575,"display_name":"Francesco Rogo"},"score":0,"creation_date":1701705438,"post_id":77453095,"comment_id":136805852,"body_markdown":"i am experiencing the same problem, any ideas?","body":"i am experiencing the same problem, any ideas?"}],"owner":{"account_id":29863522,"reputation":1,"user_id":22886696,"display_name":"Alejandro Seco Pineda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699532423,"creation_date":1699532036,"question_id":77453095,"body_markdown":"Hello I have an OOM issue in my Java application. It&#39;s deployed in a Kubernetes container, and it&#39;s an API that uses the Spring Boot microservice architecture and works with files. Initially, I don&#39;t see any critical code failure that leads me to suspect that the memory leak is due to this. Therefore, I have decided to use VisualVM to monitor my application&#39;s memory and identify which threads are consuming the most resources. I have conducted several tests and left the application running for several hours while performing other tasks (typically, the OOM occurs every day, causing Kubernetes to restart the application). All of them make me suspect that the File Watcher thread is responsible for the memory leak. Initially, it allocates very few Bytes in memory, but over time, it keeps increasing. Additionally, when I used the Eclipse Memory Analyzer, this thread was identified as one of the leak suspects. I am attaching VisualVM and Memory Analyzer screenshots, along with the Java VM parameters I am using. Thank you very much.\r\n\r\n**VISUAL VM MONITORING**\r\n\r\n[Wave pattern i read is normal -&gt;][1]\r\n[here](https://stackoverflow.com/questions/36743003/java-rmi-tcp-connect-memory-issue)\r\n\r\n**FILE WATCHER THREAD**\r\n\r\n[The Bytes only go up](https://i.stack.imgur.com/aDSfx.png)\r\n\r\n**MEMORY LEAK SUSPECTS**\r\n\r\n[Subspects Header](https://i.stack.imgur.com/ayer8.png)\r\n\r\n[Thread Details](https://i.stack.imgur.com/Rqms4.png)\r\n\r\n**PARAMTERS VM**\r\n\r\n[The parameters Im using for JVM](https://i.stack.imgur.com/MdkJs.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AS74H.png","title":"Posible Memory Leak Spring Boot App File Watcher thread","body":"<p>Hello I have an OOM issue in my Java application. It's deployed in a Kubernetes container, and it's an API that uses the Spring Boot microservice architecture and works with files. Initially, I don't see any critical code failure that leads me to suspect that the memory leak is due to this. Therefore, I have decided to use VisualVM to monitor my application's memory and identify which threads are consuming the most resources. I have conducted several tests and left the application running for several hours while performing other tasks (typically, the OOM occurs every day, causing Kubernetes to restart the application). All of them make me suspect that the File Watcher thread is responsible for the memory leak. Initially, it allocates very few Bytes in memory, but over time, it keeps increasing. Additionally, when I used the Eclipse Memory Analyzer, this thread was identified as one of the leak suspects. I am attaching VisualVM and Memory Analyzer screenshots, along with the Java VM parameters I am using. Thank you very much.</p>\n<p><strong>VISUAL VM MONITORING</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AS74H.png\" rel=\"nofollow noreferrer\">Wave pattern i read is normal -&gt;</a>\n<a href=\"https://stackoverflow.com/questions/36743003/java-rmi-tcp-connect-memory-issue\">here</a></p>\n<p><strong>FILE WATCHER THREAD</strong></p>\n<p><a href=\"https://i.stack.imgur.com/aDSfx.png\" rel=\"nofollow noreferrer\">The Bytes only go up</a></p>\n<p><strong>MEMORY LEAK SUSPECTS</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ayer8.png\" rel=\"nofollow noreferrer\">Subspects Header</a></p>\n<p><a href=\"https://i.stack.imgur.com/Rqms4.png\" rel=\"nofollow noreferrer\">Thread Details</a></p>\n<p><strong>PARAMTERS VM</strong></p>\n<p><a href=\"https://i.stack.imgur.com/MdkJs.png\" rel=\"nofollow noreferrer\">The parameters Im using for JVM</a></p>\n"},{"tags":["java","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698422375,"post_id":77374486,"comment_id":136408161,"body_markdown":"Please post the full exception stacktrace, not just the message","body":"Please post the full exception stacktrace, not just the message"},{"owner":{"account_id":29767470,"reputation":1,"user_id":22813520,"display_name":"Parth"},"score":0,"creation_date":1698467807,"post_id":77374486,"comment_id":136412597,"body_markdown":"@MarkRotteveel i have added the exception stacktrace!","body":"@MarkRotteveel i have added the exception stacktrace!"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698478068,"post_id":77374486,"comment_id":136413229,"body_markdown":"Which Spring Boot and Spring Security version are you using?","body":"Which Spring Boot and Spring Security version are you using?"},{"owner":{"account_id":29767470,"reputation":1,"user_id":22813520,"display_name":"Parth"},"score":0,"creation_date":1698484215,"post_id":77374486,"comment_id":136413729,"body_markdown":"@MarkRotteveel version of spring boot 2.3.8.RELEASE","body":"@MarkRotteveel version of spring boot 2.3.8.RELEASE"}],"answers":[{"tags":[],"owner":{"account_id":29767470,"reputation":1,"user_id":22813520,"display_name":"Parth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699532030,"creation_date":1699532030,"answer_id":77453093,"question_id":77374486,"body_markdown":"Just Realised, without requiring the filter we can pass every request through the token enhancer and it will work.","title":"Setting token expiration through filter in Spring Security OAuth2, is it possible or not?","body":"<p>Just Realised, without requiring the filter we can pass every request through the token enhancer and it will work.</p>\n"}],"owner":{"account_id":29767470,"reputation":1,"user_id":22813520,"display_name":"Parth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699532030,"creation_date":1698412817,"question_id":77374486,"body_markdown":"I have a Spring Security OAuth2 configuration where I&#39;m trying to set the token expiration through a custom filter. However, when I add the filter, I encounter a 500 error along with a `java.lang.NullPointerException`:\r\n\r\n```none\r\n2023-10-28 09:57:27.251 ERROR 6040 --- [nio-8081-exec-3] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error:  NullPointerException, Cannot invoke &quot;org.springframework.security.oauth2.provider.token.AuthenticationKeyGenerator.extractKey(org.springframework.security.oauth2.provider.OAuth2Authentication)&quot; because &quot;this.authenticationKeyGenerator&quot; is null\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.oauth2.provider.token.AuthenticationKeyGenerator.extractKey(org.springframework.security.oauth2.provider.OAuth2Authentication)&quot; because &quot;this.authenticationKeyGenerator&quot; is null\r\n\tat org.springframework.security.oauth2.provider.token.store.JdbcTokenStore.getAccessToken(JdbcTokenStore.java:110)\r\n\tat org.springframework.security.oauth2.provider.token.DefaultTokenServices.createAccessToken(DefaultTokenServices.java:84)\r\n\tat org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)\r\n\tat org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)\r\n\tat org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)\r\n\tat org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)\r\n\tat org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.fc.backend.config.security.AAACustomTokenFilter.doFilterInternal(AAACustomTokenFilter.java:34)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:204)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nHere is the relevant code:\r\n\r\n```java\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\npublic class AAACustomTokenFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n    }\r\n}\r\n```\r\n```java\r\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.oauth2.provider.token.TokenStore;\r\n\r\n@Configuration\r\npublic class AAAFilterConfig {\r\n    @Bean\r\n    public FilterRegistrationBean&lt;AAACustomTokenFilter&gt; customFilterRegistration(TokenStore tokenStore) {\r\n        FilterRegistrationBean&lt;AAACustomTokenFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n        registrationBean.setFilter(new AAACustomTokenFilter());\r\n        registrationBean.addUrlPatterns(&quot;*&quot;); // You can specify URL patterns to filter here\r\n        return registrationBean;\r\n    }\r\n}\r\n```\r\n\r\nThe flow goes like \r\n\r\n`configure(AuthorizationServerEndpointsConfigurer endpoints)` of `AuthorizationServerConfigurerAdapter` sets the expiry time \r\n\r\nand \r\n```java\r\n@Component\r\npublic class AAACustomTokenEnhancer implements TokenEnhancer {\r\n\r\n    @Override\r\n    public OAuth2AccessToken enhance(OAuth2AccessToken accessToken, OAuth2Authentication authentication) {\r\n        long currentTimeMillis = System.currentTimeMillis();\r\n        Date at = new Date(currentTimeMillis + (20 * 1000));\r\n\r\n        ((DefaultOAuth2AccessToken) accessToken).setExpiration(at);\r\n\r\n        return accessToken;\r\n    }\r\n\r\n}\r\n```\r\nThis class is used in configure method to set expiry for once and all, but is it possible to modify expiry for every request made and if yes then is the filter a working approach or another approach should be used?\r\n\r\nI am using filter approach and the below issues are faced!\r\n\r\nThe issue goes away when I comment out the code in `AAAFilterConfig` and `AAACustomTokenFilter`. However, when the code is present, the issue persists.\r\n\r\nMy question is, is it possible to set the token expiration through a filter in Spring Security OAuth2, and if so, how can I do it without encountering this `NullPointerException`?\r\n\r\n","title":"Setting token expiration through filter in Spring Security OAuth2, is it possible or not?","body":"<p>I have a Spring Security OAuth2 configuration where I'm trying to set the token expiration through a custom filter. However, when I add the filter, I encounter a 500 error along with a <code>java.lang.NullPointerException</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-10-28 09:57:27.251 ERROR 6040 --- [nio-8081-exec-3] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error:  NullPointerException, Cannot invoke &quot;org.springframework.security.oauth2.provider.token.AuthenticationKeyGenerator.extractKey(org.springframework.security.oauth2.provider.OAuth2Authentication)&quot; because &quot;this.authenticationKeyGenerator&quot; is null\n\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.security.oauth2.provider.token.AuthenticationKeyGenerator.extractKey(org.springframework.security.oauth2.provider.OAuth2Authentication)&quot; because &quot;this.authenticationKeyGenerator&quot; is null\n    at org.springframework.security.oauth2.provider.token.store.JdbcTokenStore.getAccessToken(JdbcTokenStore.java:110)\n    at org.springframework.security.oauth2.provider.token.DefaultTokenServices.createAccessToken(DefaultTokenServices.java:84)\n    at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)\n    at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)\n    at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)\n    at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)\n    at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.fc.backend.config.security.AAACustomTokenFilter.doFilterInternal(AAACustomTokenFilter.java:34)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:204)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Here is the relevant code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\npublic class AAACustomTokenFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\n\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\n\n@Configuration\npublic class AAAFilterConfig {\n    @Bean\n    public FilterRegistrationBean&lt;AAACustomTokenFilter&gt; customFilterRegistration(TokenStore tokenStore) {\n        FilterRegistrationBean&lt;AAACustomTokenFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new AAACustomTokenFilter());\n        registrationBean.addUrlPatterns(&quot;*&quot;); // You can specify URL patterns to filter here\n        return registrationBean;\n    }\n}\n</code></pre>\n<p>The flow goes like</p>\n<p><code>configure(AuthorizationServerEndpointsConfigurer endpoints)</code> of <code>AuthorizationServerConfigurerAdapter</code> sets the expiry time</p>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AAACustomTokenEnhancer implements TokenEnhancer {\n\n    @Override\n    public OAuth2AccessToken enhance(OAuth2AccessToken accessToken, OAuth2Authentication authentication) {\n        long currentTimeMillis = System.currentTimeMillis();\n        Date at = new Date(currentTimeMillis + (20 * 1000));\n\n        ((DefaultOAuth2AccessToken) accessToken).setExpiration(at);\n\n        return accessToken;\n    }\n\n}\n</code></pre>\n<p>This class is used in configure method to set expiry for once and all, but is it possible to modify expiry for every request made and if yes then is the filter a working approach or another approach should be used?</p>\n<p>I am using filter approach and the below issues are faced!</p>\n<p>The issue goes away when I comment out the code in <code>AAAFilterConfig</code> and <code>AAACustomTokenFilter</code>. However, when the code is present, the issue persists.</p>\n<p>My question is, is it possible to set the token expiration through a filter in Spring Security OAuth2, and if so, how can I do it without encountering this <code>NullPointerException</code>?</p>\n"},{"tags":["javascript","java","android","reactjs","android-studio"],"answers":[{"tags":[],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699532013,"creation_date":1699532013,"answer_id":77453090,"question_id":77452851,"body_markdown":"okay i think you should try your luck by down Android Gradle Plugin Version 8.0.1 to 7.3.0 and gradle version to 7.4 i am not sure :/","title":"Could not update last-build.bin","body":"<p>okay i think you should try your luck by down Android Gradle Plugin Version 8.0.1 to 7.3.0 and gradle version to 7.4 i am not sure :/</p>\n"}],"owner":{"account_id":29822304,"reputation":17,"user_id":22855187,"display_name":"LH333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699532013,"creation_date":1699529933,"question_id":77452851,"body_markdown":"When i build my app with react-native CLI, it give me this error FAILURE: \r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not update android/.gradle/8.0.1/fileChanges/last-build.bin\r\n\r\n```\r\nI run  the ./grandew clean but happen the same error\r\n","title":"Could not update last-build.bin","body":"<p>When i build my app with react-native CLI, it give me this error FAILURE:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not update android/.gradle/8.0.1/fileChanges/last-build.bin\n\n</code></pre>\n<p>I run  the ./grandew clean but happen the same error</p>\n"},{"tags":["java","spring","eclipse"],"owner":{"account_id":29863660,"reputation":1,"user_id":22886803,"display_name":"qerity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1699531345,"answer_count":0,"score":-5,"last_activity_date":1699531882,"creation_date":1699531145,"question_id":77452994,"body_markdown":"[problem](https://i.stack.imgur.com/mCsC2.png)\r\n\r\nhow can i find Maven Ache type quick start spring tool suite4 in mac  i could not find anything h ?\r\n\r\nlllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllll","title":"i can&#39;t that artifact","body":"<p><a href=\"https://i.stack.imgur.com/mCsC2.png\" rel=\"nofollow noreferrer\">problem</a></p>\n<p>how can i find Maven Ache type quick start spring tool suite4 in mac  i could not find anything h ?</p>\n<p>lllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllllll</p>\n"},{"tags":["java","spring","spring-boot","events"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699535581,"post_id":77453067,"comment_id":136546030,"body_markdown":"please refer the [TransactionalEventListener](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/event/TransactionalEventListener.html)\nif the TransactionPhase is set to AFTER_COMMIT (the default), AFTER_ROLLBACK, or AFTER_COMPLETION, the transaction will have been committed or rolled back already. Try to add  Event Handler AFTER_ROLLBACK, or AFTER_COMPLETION","body":"please refer the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/event/TransactionalEventListener.html\" rel=\"nofollow noreferrer\">TransactionalEventListener</a> if the TransactionPhase is set to AFTER_COMMIT (the default), AFTER_ROLLBACK, or AFTER_COMPLETION, the transaction will have been committed or rolled back already. Try to add  Event Handler AFTER_ROLLBACK, or AFTER_COMPLETION"},{"owner":{"account_id":4252616,"reputation":15,"user_id":3479176,"accept_rate":25,"display_name":"user3479176"},"score":0,"creation_date":1699538411,"post_id":77453067,"comment_id":136546651,"body_markdown":"Say I want to send an email once the transaction is completed successfully (TransactionPhase.AFTER_COMMIT) and during the email sending there is an exception. After_Rollback and After_Completion are incorrect in this case","body":"Say I want to send an email once the transaction is completed successfully (TransactionPhase.AFTER_COMMIT) and during the email sending there is an exception. After_Rollback and After_Completion are incorrect in this case"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699539600,"post_id":77453067,"comment_id":136546905,"body_markdown":"My view is you are mixing two different responsibilities. 1st action- performing some business logic and 2nd action is sending email. \nIf 1st action completed we need to commit the transaction and 2nd action failed we don&#39;t want to rollback 1st action. \nMy suggestion is set *noRollbackFor* for email exception and handle email exception separately and take required actions\n\n`@Transactional(noRollbackFor = { EmailException.class })`","body":"My view is you are mixing two different responsibilities. 1st action- performing some business logic and 2nd action is sending email.  If 1st action completed we need to commit the transaction and 2nd action failed we don&#39;t want to rollback 1st action.  My suggestion is set <i>noRollbackFor</i> for email exception and handle email exception separately and take required actions  <code>@Transactional(noRollbackFor = { EmailException.class })</code>"}],"owner":{"account_id":4252616,"reputation":15,"user_id":3479176,"accept_rate":25,"display_name":"user3479176"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699531840,"creation_date":1699531840,"question_id":77453067,"body_markdown":"In Spring Boot, when there is an exception thrown in a event handler, it is not correctly handled by my exception handler This occurs only if the event handler is annotated with \r\n\r\n    @TransactionPhase.AFTER_COMMIT \r\n\r\nMy Code:\r\n\r\n**Controller**\r\n\r\n    @PostMapping(&quot;/endpoint&quot;)\r\n    public ResponseEntity&lt;?&gt; doStuff() {\r\n    service.doStuff();\r\n    }\r\n     \r\n**Service**\r\n\r\n    @Transactional\r\n    public void doStuff() {\r\n     eventPublisher.publishEvent(new MyAwesomeEvent());\r\n    }\r\n\r\n**Event Handler**\r\n\r\n    @TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT)\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void handleAwesomeEvent(MyAwesomeEvent event) {\r\n    // Wont be caught !\r\n    throw new RuntimeException();\r\n    }\r\n**Exception Handler**\r\n\r\n    @ExceptionHandler({Exception.class}) \r\n    public ResponseEntity&lt;Object&gt; fallbackHandler(Exception ex, HttpServletRequest request) {\r\n    //Won&#39;t be called\r\n    }\r\n\r\nInterestingly enough when I change the annotation from\r\n\r\n    @TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT)\r\nto\r\n\r\n    @TransactionalEventListener(phase = TransactionPhase.BEFORE_COMMIT)\r\n\r\nthe exception handler works.\r\n","title":"Spring Boot Exception Handler not working with EventHandler TransactionPhase.AFTER_COMMIT","body":"<p>In Spring Boot, when there is an exception thrown in a event handler, it is not correctly handled by my exception handler This occurs only if the event handler is annotated with</p>\n<pre><code>@TransactionPhase.AFTER_COMMIT \n</code></pre>\n<p>My Code:</p>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(&quot;/endpoint&quot;)\npublic ResponseEntity&lt;?&gt; doStuff() {\nservice.doStuff();\n}\n \n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Transactional\npublic void doStuff() {\n eventPublisher.publishEvent(new MyAwesomeEvent());\n}\n</code></pre>\n<p><strong>Event Handler</strong></p>\n<pre><code>@TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT)\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void handleAwesomeEvent(MyAwesomeEvent event) {\n// Wont be caught !\nthrow new RuntimeException();\n}\n</code></pre>\n<p><strong>Exception Handler</strong></p>\n<pre><code>@ExceptionHandler({Exception.class}) \npublic ResponseEntity&lt;Object&gt; fallbackHandler(Exception ex, HttpServletRequest request) {\n//Won't be called\n}\n</code></pre>\n<p>Interestingly enough when I change the annotation from</p>\n<pre><code>@TransactionalEventListener(phase = TransactionPhase.AFTER_COMMIT)\n</code></pre>\n<p>to</p>\n<pre><code>@TransactionalEventListener(phase = TransactionPhase.BEFORE_COMMIT)\n</code></pre>\n<p>the exception handler works.</p>\n"},{"tags":["java","proguard","obfuscation"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":2,"creation_date":1696623638,"post_id":77247012,"comment_id":136182036,"body_markdown":"can you provide a minimum reproducible sample and proguard version used so thatwe can easily reproduce what you&#39;re facing?","body":"can you provide a minimum reproducible sample and proguard version used so thatwe can easily reproduce what you&#39;re facing?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1696643106,"post_id":77247012,"comment_id":136183712,"body_markdown":"You may want to read [ask]","body":"You may want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1696650076,"post_id":77247012,"comment_id":136184108,"body_markdown":"What code is left unobfuscated? What are you expecting to happen to it?","body":"What code is left unobfuscated? What are you expecting to happen to it?"},{"owner":{"account_id":18575822,"reputation":21,"user_id":13536539,"display_name":"Tom Griffith"},"score":0,"creation_date":1696655806,"post_id":77247012,"comment_id":136184384,"body_markdown":"@CausingUnderflowsEverywhere please see the &quot;ADDITIONAL INFO&quot; in the original post.","body":"@CausingUnderflowsEverywhere please see the &quot;ADDITIONAL INFO&quot; in the original post."},{"owner":{"account_id":18575822,"reputation":21,"user_id":13536539,"display_name":"Tom Griffith"},"score":0,"creation_date":1696656789,"post_id":77247012,"comment_id":136184441,"body_markdown":"@tgdavies  I posted a portion of the class file under ADDITIONAL INFO, It&#39;s just some goofing around with hashing, xor, etc. I was thinking a good candidate to see how proguard would replace variable names with a, b, c, maybe scramble some of the sequence around. The guy on youtube I watched had what appeared like three different variables replaced with an &#39;a&#39;. And stuff was moved around. But all I get is the class and method name being changed and when I add the -keep for public stuff, nothing is obfuscated. I&#39;d like the opposite, keep the class and method name but scramble up the code stuff","body":"@tgdavies  I posted a portion of the class file under ADDITIONAL INFO, It&#39;s just some goofing around with hashing, xor, etc. I was thinking a good candidate to see how proguard would replace variable names with a, b, c, maybe scramble some of the sequence around. The guy on youtube I watched had what appeared like three different variables replaced with an &#39;a&#39;. And stuff was moved around. But all I get is the class and method name being changed and when I add the -keep for public stuff, nothing is obfuscated. I&#39;d like the opposite, keep the class and method name but scramble up the code stuff"},{"owner":{"account_id":18575822,"reputation":21,"user_id":13536539,"display_name":"Tom Griffith"},"score":0,"creation_date":1696656832,"post_id":77247012,"comment_id":136184443,"body_markdown":"@Robert thank you for the info. It&#39;s been a while, it was the end of the day and I was cranky.","body":"@Robert thank you for the info. It&#39;s been a while, it was the end of the day and I was cranky."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":2,"creation_date":1696686710,"post_id":77247012,"comment_id":136186813,"body_markdown":"okay thanks for the additional information Tom, lastly could you copy paste the obfuscated code into the question from your decompiler?","body":"okay thanks for the additional information Tom, lastly could you copy paste the obfuscated code into the question from your decompiler?"},{"owner":{"account_id":18575822,"reputation":21,"user_id":13536539,"display_name":"Tom Griffith"},"score":0,"creation_date":1696863894,"post_id":77247012,"comment_id":136204198,"body_markdown":"@CausingUnderflowsEverywhere Hi, added the Proguard obfuscated output (via decompiler) at the end of the original post. Thank you.","body":"@CausingUnderflowsEverywhere Hi, added the Proguard obfuscated output (via decompiler) at the end of the original post. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":18575822,"reputation":21,"user_id":13536539,"display_name":"Tom Griffith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699531658,"creation_date":1699531658,"answer_id":77453046,"question_id":77247012,"body_markdown":"I wanted to post my solution. I hadn&#39;t realized obfuscated fields are class level variables...local variables (inside the main method) are not fields. So that;s why the 0. Also obfuscation is most effective for jar/war apps with lots of classes as it makes mapping objects to classes harder when trying to weave through decompiled apps. thank you so much.","title":"How does ProGuard obfuscate class variables and logic?","body":"<p>I wanted to post my solution. I hadn't realized obfuscated fields are class level variables...local variables (inside the main method) are not fields. So that;s why the 0. Also obfuscation is most effective for jar/war apps with lots of classes as it makes mapping objects to classes harder when trying to weave through decompiled apps. thank you so much.</p>\n"}],"owner":{"account_id":18575822,"reputation":21,"user_id":13536539,"display_name":"Tom Griffith"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699531658,"creation_date":1696621301,"question_id":77247012,"body_markdown":"I&#39;ve tried to obfuscate a class file from a Java app and also a standalone Java class file containing `static void main(java.lang.String[])`. Anything I try on either file has resulted in the class and package getting turned to &#39;a&#39;, but meaningful code is left unobfuscated. Both class files I put into JARs before trying ProGuard.\r\n\r\nSo focusing on the standalone class (MyClass.class with `main(java.lang.String[])`)...\r\n\r\nI went back to the default pro file in proguard/examples/standalone and used the library.pro, adding only these entries\r\n\r\n    -injars MyClass.jar\r\n    \r\n    -outjars MyClass_Obf.jar\r\n    \r\n    -dontshrink\r\n    \r\n    -dontoptimize\r\n    \r\n    -libraryjars c:\\proguard\\rt.jar\r\n    \r\n    -printmapping out.map\r\n\r\n\r\nCommented out all -keeps. This results in:\r\n\r\n    Number of obfuscated classes: 1\r\n    \r\n    Number of obfuscated fields: 0\r\n    \r\n    Number of obfuscated methods: 1\r\n\r\nSo then out.map lists only:\r\n\r\n    MyClass -&gt; a;\r\n    \r\n      23:23:void &lt;init&gt;() -&gt; &lt;init&gt;\r\n    \r\n      28:159:void main(java.lang.String[])-&gt; a\r\n\r\nand with a decompiler, that&#39;s what I see, just the class and main method both renamed to `a` and all the code intact and unobfuscated. Is there something I&#39;m missing? I&#39;ve googled all over the place, watched a guy on YouTube obfuscate with default and his variables and logic obfuscated. \r\n\r\nThe version is proguard-7.1.0-beta5. Here is the sample class file I was exploring obfuscation. It&#39;s just some goofing around with hashing, xor&#39;ing, etc.\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n    public static void main(String[] args) {\r\n\t\ttry {\r\n            MessageDigest md=MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            \r\n            String ms=&quot;mystring&quot;;\r\n        //HASHING STUFF    \r\n            byte[] pre_hash_bytes=ms.getBytes(StandardCharsets.UTF_8);\r\n            byte[] post_hash_bytes=md.digest(pre_hash_bytes);\r\n            String ms_hash=Base64.getEncoder().encodeToString(post_hash_bytes);\r\n            \r\n            System.out.println(ms_hash + &quot; - &quot; + ms_hash + &quot; - &quot; + ms_hash.length());\r\n        \r\n        //ENCODE STUFF    \r\n            String encodedString=Base64.getEncoder().withoutPadding().encodeToString(ms.getBytes(StandardCharsets.UTF_8));\r\n            System.out.println(&quot;encodedString-&quot; + encodedString + &quot;- encoded length - &quot; + encodedString.length());\r\n            byte[] encodedBytes=encodedString.getBytes(StandardCharsets.UTF_8);\r\n            \r\n        //DECODE STUFF    \r\n            byte[] decodedBytes=Base64.getDecoder().decode(encodedString);\r\n            String decodedString=new String(decodedBytes);\r\n            System.out.println(&quot;decodedString- &quot; + decodedString);\r\n            \r\n        //XOR STUFF    \r\n            byte[] xor_guy=new byte[decodedBytes.length];\r\n            for (int i=0;i&lt; decodedBytes.length;i++) {\r\n            \txor_guy[i]=(byte)(decodedBytes[i] ^ encodedBytes[i]);\r\n            }\r\n            \r\n            String xor_guy_string=new String(xor_guy);\r\n            System.out.println(&quot;xor_guy_string (UGLY) - &quot; + xor_guy_string);\r\n\r\n    } catch (Exception exception) {\r\n      exception.printStackTrace();\r\n    } \r\n  }\r\n}\r\n```\r\n\r\nand the .pro file\r\n\r\n```none\r\n#\r\n# This ProGuard configuration file illustrates how to process a program\r\n# library, such that it remains usable as a library.\r\n# Usage:\r\n#     java -jar proguard.jar @library.pro\r\n#\r\n\r\n-verbose\r\n\r\n-injars  MyClass.jar\r\n-outjars MyClass_Obf.jar\r\n-dontshrink\r\n-dontoptimize\r\n-libraryjars C:\\proguard-7.1.0-beta5\\lib\\rt.jar\r\n\r\n-printmapping out.map\r\n-keepparameternames\r\n-renamesourcefileattribute SourceFile\r\n-keepattributes Signature,Exceptions,\r\n                InnerClasses,PermittedSubclasses,EnclosingMethod,\r\n                Deprecated,SourceFile,LineNumberTable\r\n```\r\n\r\n**UPDATE**\r\nthis is the decompiled obfuscation of the above class. Basically, nothing, the decompiler accurately maps and plugs in it&#39;s own generic variable names. Thank you.\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.MessageDigest;\r\n    import java.util.Base64;\r\n    \r\n    public class a {\r\n      public static void a(String[] paramArrayOfString) {\r\n        try {\r\n          MessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\r\n          String str1 = &quot;mystring&quot;;\r\n          byte[] arrayOfByte1 = str1.getBytes(StandardCharsets.UTF_8);\r\n          byte[] arrayOfByte2 = messageDigest.digest(arrayOfByte1);\r\n          String str2 = Base64.getEncoder().encodeToString(arrayOfByte2);\r\n\r\n          System.out.println(str2 + &quot; - &quot; + str2 + &quot; - &quot; + str2.length());\r\n\r\n          String str3 = Base64.getEncoder().withoutPadding().encodeToString(str1.getBytes(StandardCharsets.UTF_8));\r\n          System.out.println(&quot;encodedString-&quot; + str3 + &quot;- encoded length - &quot; + str3.length());\r\n          byte[] arrayOfByte3 = str3.getBytes(StandardCharsets.UTF_8);\r\n\r\n          byte[] arrayOfByte4 = Base64.getDecoder().decode(str3);\r\n          String str4 = new String(arrayOfByte4);\r\n          System.out.println(&quot;decodedString- &quot; + str4);\r\n\r\n          byte[] arrayOfByte5 = new byte[arrayOfByte4.length];\r\n          for (byte b1 = 0; b1 &lt; arrayOfByte4.length; b1++)\r\n            arrayOfByte5[b1] = (byte)(arrayOfByte4[b1] ^ arrayOfByte3[b1]); \r\n\r\n          String str5 = new String(arrayOfByte5);\r\n          System.out.println(&quot;xor_guy_string (UGLY) - &quot; + str5);\r\n        } catch (Exception exception) {\r\n          exception.printStackTrace();\r\n        } \r\n      }\r\n    }","title":"How does ProGuard obfuscate class variables and logic?","body":"<p>I've tried to obfuscate a class file from a Java app and also a standalone Java class file containing <code>static void main(java.lang.String[])</code>. Anything I try on either file has resulted in the class and package getting turned to 'a', but meaningful code is left unobfuscated. Both class files I put into JARs before trying ProGuard.</p>\n<p>So focusing on the standalone class (MyClass.class with <code>main(java.lang.String[])</code>)...</p>\n<p>I went back to the default pro file in proguard/examples/standalone and used the library.pro, adding only these entries</p>\n<pre><code>-injars MyClass.jar\n\n-outjars MyClass_Obf.jar\n\n-dontshrink\n\n-dontoptimize\n\n-libraryjars c:\\proguard\\rt.jar\n\n-printmapping out.map\n</code></pre>\n<p>Commented out all -keeps. This results in:</p>\n<pre><code>Number of obfuscated classes: 1\n\nNumber of obfuscated fields: 0\n\nNumber of obfuscated methods: 1\n</code></pre>\n<p>So then out.map lists only:</p>\n<pre><code>MyClass -&gt; a;\n\n  23:23:void &lt;init&gt;() -&gt; &lt;init&gt;\n\n  28:159:void main(java.lang.String[])-&gt; a\n</code></pre>\n<p>and with a decompiler, that's what I see, just the class and main method both renamed to <code>a</code> and all the code intact and unobfuscated. Is there something I'm missing? I've googled all over the place, watched a guy on YouTube obfuscate with default and his variables and logic obfuscated.</p>\n<p>The version is proguard-7.1.0-beta5. Here is the sample class file I was exploring obfuscation. It's just some goofing around with hashing, xor'ing, etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n    public static void main(String[] args) {\n        try {\n            MessageDigest md=MessageDigest.getInstance(&quot;SHA-256&quot;);\n            \n            String ms=&quot;mystring&quot;;\n        //HASHING STUFF    \n            byte[] pre_hash_bytes=ms.getBytes(StandardCharsets.UTF_8);\n            byte[] post_hash_bytes=md.digest(pre_hash_bytes);\n            String ms_hash=Base64.getEncoder().encodeToString(post_hash_bytes);\n            \n            System.out.println(ms_hash + &quot; - &quot; + ms_hash + &quot; - &quot; + ms_hash.length());\n        \n        //ENCODE STUFF    \n            String encodedString=Base64.getEncoder().withoutPadding().encodeToString(ms.getBytes(StandardCharsets.UTF_8));\n            System.out.println(&quot;encodedString-&quot; + encodedString + &quot;- encoded length - &quot; + encodedString.length());\n            byte[] encodedBytes=encodedString.getBytes(StandardCharsets.UTF_8);\n            \n        //DECODE STUFF    \n            byte[] decodedBytes=Base64.getDecoder().decode(encodedString);\n            String decodedString=new String(decodedBytes);\n            System.out.println(&quot;decodedString- &quot; + decodedString);\n            \n        //XOR STUFF    \n            byte[] xor_guy=new byte[decodedBytes.length];\n            for (int i=0;i&lt; decodedBytes.length;i++) {\n                xor_guy[i]=(byte)(decodedBytes[i] ^ encodedBytes[i]);\n            }\n            \n            String xor_guy_string=new String(xor_guy);\n            System.out.println(&quot;xor_guy_string (UGLY) - &quot; + xor_guy_string);\n\n    } catch (Exception exception) {\n      exception.printStackTrace();\n    } \n  }\n}\n</code></pre>\n<p>and the .pro file</p>\n<pre class=\"lang-none prettyprint-override\"><code>#\n# This ProGuard configuration file illustrates how to process a program\n# library, such that it remains usable as a library.\n# Usage:\n#     java -jar proguard.jar @library.pro\n#\n\n-verbose\n\n-injars  MyClass.jar\n-outjars MyClass_Obf.jar\n-dontshrink\n-dontoptimize\n-libraryjars C:\\proguard-7.1.0-beta5\\lib\\rt.jar\n\n-printmapping out.map\n-keepparameternames\n-renamesourcefileattribute SourceFile\n-keepattributes Signature,Exceptions,\n                InnerClasses,PermittedSubclasses,EnclosingMethod,\n                Deprecated,SourceFile,LineNumberTable\n</code></pre>\n<p><strong>UPDATE</strong>\nthis is the decompiled obfuscation of the above class. Basically, nothing, the decompiler accurately maps and plugs in it's own generic variable names. Thank you.</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.util.Base64;\n\npublic class a {\n  public static void a(String[] paramArrayOfString) {\n    try {\n      MessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n\n      String str1 = &quot;mystring&quot;;\n      byte[] arrayOfByte1 = str1.getBytes(StandardCharsets.UTF_8);\n      byte[] arrayOfByte2 = messageDigest.digest(arrayOfByte1);\n      String str2 = Base64.getEncoder().encodeToString(arrayOfByte2);\n\n      System.out.println(str2 + &quot; - &quot; + str2 + &quot; - &quot; + str2.length());\n\n      String str3 = Base64.getEncoder().withoutPadding().encodeToString(str1.getBytes(StandardCharsets.UTF_8));\n      System.out.println(&quot;encodedString-&quot; + str3 + &quot;- encoded length - &quot; + str3.length());\n      byte[] arrayOfByte3 = str3.getBytes(StandardCharsets.UTF_8);\n\n      byte[] arrayOfByte4 = Base64.getDecoder().decode(str3);\n      String str4 = new String(arrayOfByte4);\n      System.out.println(&quot;decodedString- &quot; + str4);\n\n      byte[] arrayOfByte5 = new byte[arrayOfByte4.length];\n      for (byte b1 = 0; b1 &lt; arrayOfByte4.length; b1++)\n        arrayOfByte5[b1] = (byte)(arrayOfByte4[b1] ^ arrayOfByte3[b1]); \n\n      String str5 = new String(arrayOfByte5);\n      System.out.println(&quot;xor_guy_string (UGLY) - &quot; + str5);\n    } catch (Exception exception) {\n      exception.printStackTrace();\n    } \n  }\n}\n</code></pre>\n"},{"tags":["java","jooq","mutiny"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1699288026,"post_id":77430875,"comment_id":136509833,"body_markdown":"How do you configure your `configuration`?","body":"How do you configure your <code>configuration</code>?"},{"owner":{"account_id":9069472,"reputation":2154,"user_id":6753238,"display_name":"Nikolas"},"score":0,"creation_date":1699288810,"post_id":77430875,"comment_id":136509989,"body_markdown":"updated the question w/ configuration","body":"updated the question w/ configuration"}],"owner":{"account_id":9069472,"reputation":2154,"user_id":6753238,"display_name":"Nikolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699531538,"creation_date":1699271437,"question_id":77430875,"body_markdown":"I am trying to save two objects in a single transaction. On error, I would like my transaction to roll back.\r\n\r\nHere is the current attempt:\r\n\r\n    public Uni&lt;Response&gt; save(...) {\r\n    return Uni\r\n        .createFrom()\r\n        .completionStage(dslContext.transactionResultAsync(configuration -&gt; repo\r\n            .insert(... , configuration.dsl())\r\n            .flatMap(dataRecord -&gt; Uni\r\n                .createFrom()\r\n                .publisher(configuration\r\n                    .dsl()\r\n                    .insertInto()\r\n                    .set()\r\n                    .returning())\r\n                .map(ignore -&gt; Response\r\n                    .builder()\r\n                    .build()))))\r\n        .flatMap(i -&gt; i);\r\n\r\n\r\nwith `repo.insert` looking like:\r\n\r\n    Uni&lt;DataRecord&gt; insert(..., DSLContext dslContext) {\r\n    return Uni\r\n        .createFrom()\r\n        .publisher(dslContext\r\n            .insertInto()\r\n            .set()\r\n            .returning())\r\n        .map(dataRecord -&gt; new DataRecord()\r\n            .set(...))));\r\n\r\nThe configuration is based on [quarkus-jooq custom context version 2.0][1], with two additions:\r\n\r\n    settings.setBindOffsetDateTimeType(true);\r\n    settings.setRenderSchema(true);\r\n\r\nHowever. there is no rollback happening in case the second insert fails (I forced it by violating a `not null` constraint). I see the exception in my test. I also see the first object. So what would do the trick?\r\n\r\n\r\n  [1]: https://github.com/quarkiverse/quarkus-jooq/blob/main/runtime/src/main/java/io/quarkiverse/jooq/runtime/JooqCustomContext.java","title":"Asynchronous transaction handling in mutiny/jooq","body":"<p>I am trying to save two objects in a single transaction. On error, I would like my transaction to roll back.</p>\n<p>Here is the current attempt:</p>\n<pre><code>public Uni&lt;Response&gt; save(...) {\nreturn Uni\n    .createFrom()\n    .completionStage(dslContext.transactionResultAsync(configuration -&gt; repo\n        .insert(... , configuration.dsl())\n        .flatMap(dataRecord -&gt; Uni\n            .createFrom()\n            .publisher(configuration\n                .dsl()\n                .insertInto()\n                .set()\n                .returning())\n            .map(ignore -&gt; Response\n                .builder()\n                .build()))))\n    .flatMap(i -&gt; i);\n</code></pre>\n<p>with <code>repo.insert</code> looking like:</p>\n<pre><code>Uni&lt;DataRecord&gt; insert(..., DSLContext dslContext) {\nreturn Uni\n    .createFrom()\n    .publisher(dslContext\n        .insertInto()\n        .set()\n        .returning())\n    .map(dataRecord -&gt; new DataRecord()\n        .set(...))));\n</code></pre>\n<p>The configuration is based on <a href=\"https://github.com/quarkiverse/quarkus-jooq/blob/main/runtime/src/main/java/io/quarkiverse/jooq/runtime/JooqCustomContext.java\" rel=\"nofollow noreferrer\">quarkus-jooq custom context version 2.0</a>, with two additions:</p>\n<pre><code>settings.setBindOffsetDateTimeType(true);\nsettings.setRenderSchema(true);\n</code></pre>\n<p>However. there is no rollback happening in case the second insert fails (I forced it by violating a <code>not null</code> constraint). I see the exception in my test. I also see the first object. So what would do the trick?</p>\n"},{"tags":["java","microsoft-graph-api"],"comments":[{"owner":{"account_id":4363480,"reputation":1648,"user_id":3559908,"display_name":"Vall0n"},"score":0,"creation_date":1699521134,"post_id":77451811,"comment_id":136543258,"body_markdown":"What http client do you use? Most likely you can set the log level on the http client to log the traffic. Just like ktor or okhttp. But for the error it means that you need to authenticate beforehand or check the credentials for the authentication.","body":"What http client do you use? Most likely you can set the log level on the http client to log the traffic. Just like ktor or okhttp. But for the error it means that you need to authenticate beforehand or check the credentials for the authentication."},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1699521251,"post_id":77451811,"comment_id":136543278,"body_markdown":"OkHttpClient httpClient = HttpClients.createDefault(authProvider).newBuilder()","body":"OkHttpClient httpClient = HttpClients.createDefault(authProvider).newBuilder()"},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1699521305,"post_id":77451811,"comment_id":136543286,"body_markdown":"How can get request-id in response","body":"How can get request-id in response"}],"answers":[{"comments":[{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1699521840,"post_id":77451862,"comment_id":136543395,"body_markdown":"Tried above code to set up but I am getting compeltime errors","body":"Tried above code to set up but I am getting compeltime errors"},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1699521918,"post_id":77451862,"comment_id":136543410,"body_markdown":"getting error at below lines   ------------------------------------------------------------ String errorResponse = ex.getResponseBodyAsString(); // Get the error response as JSON\n    \t    String requestId = ex.getResponseHeaders().get(&quot;request-id&quot;); // Get the request-id","body":"getting error at below lines   ------------------------------------------------------------ String errorResponse = ex.getResponseBodyAsString(); // Get the error response as JSON     \t    String requestId = ex.getResponseHeaders().get(&quot;request-id&quot;); // Get the request-id"},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1699522031,"post_id":77451862,"comment_id":136543438,"body_markdown":"import statement is :- import com.microsoft.graph.http.GraphServiceException;                      The method getResponseBodyAsString() is undefined for the type GraphServiceException","body":"import statement is :- import com.microsoft.graph.http.GraphServiceException;                      The method getResponseBodyAsString() is undefined for the type GraphServiceException"},{"owner":{"account_id":4150020,"reputation":2999,"user_id":3402754,"display_name":"user3402754"},"score":0,"creation_date":1699531182,"post_id":77451862,"comment_id":136545177,"body_markdown":"@ManiBellamkonda made slight tweaks to the erroring line Let me know if that works for you","body":"@ManiBellamkonda made slight tweaks to the erroring line Let me know if that works for you"},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1699603207,"post_id":77451862,"comment_id":136555292,"body_markdown":"Thank you @user3402754, it is working , I made little change as per my code. it is working for me.. Thanks a  lot  :-)","body":"Thank you @user3402754, it is working , I made little change as per my code. it is working for me.. Thanks a  lot  :-)"}],"tags":[],"owner":{"account_id":4150020,"reputation":2999,"user_id":3402754,"display_name":"user3402754"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699531156,"creation_date":1699521381,"answer_id":77451862,"question_id":77451811,"body_markdown":"You&#39;ll need to handle the exceptions and format the responses accordingly.\r\nSomething along these lines should work\r\n\r\n```java\r\ntry {\r\n    _appClient.users(sFrom)\r\n        .sendMail(UserSendMailParameterSet\r\n            .newBuilder()\r\n            .withMessage(message)\r\n            .withSaveToSentItems(null)\r\n            .build())\r\n        .buildRequest()\r\n        .post();\r\n} catch (GraphServiceException ex) {\r\n    // Handle the GraphServiceException\r\n    String errorResponse = ex.getMessage(); // Get the error response as string\r\n    String requestId = null;\r\n\r\n    // Try to parse request ID from the error message\r\n    int startIndex = errorResponse.indexOf(&quot;request-id&quot;);\r\n    if (startIndex != -1) {\r\n        int endIndex = errorResponse.indexOf(&quot;,&quot;, startIndex);\r\n        if (endIndex != -1) {\r\n            requestId = errorResponse.substring(startIndex, endIndex);\r\n        }\r\n    }\r\n\r\n    // Process the error response and request ID as needed\r\n    System.out.println(&quot;Error Response: &quot; + errorResponse);\r\n    System.out.println(&quot;Request ID: &quot; + requestId);\r\n}\r\n","title":"How to print Exception in Json format","body":"<p>You'll need to handle the exceptions and format the responses accordingly.\nSomething along these lines should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    _appClient.users(sFrom)\n        .sendMail(UserSendMailParameterSet\n            .newBuilder()\n            .withMessage(message)\n            .withSaveToSentItems(null)\n            .build())\n        .buildRequest()\n        .post();\n} catch (GraphServiceException ex) {\n    // Handle the GraphServiceException\n    String errorResponse = ex.getMessage(); // Get the error response as string\n    String requestId = null;\n\n    // Try to parse request ID from the error message\n    int startIndex = errorResponse.indexOf(&quot;request-id&quot;);\n    if (startIndex != -1) {\n        int endIndex = errorResponse.indexOf(&quot;,&quot;, startIndex);\n        if (endIndex != -1) {\n            requestId = errorResponse.substring(startIndex, endIndex);\n        }\n    }\n\n    // Process the error response and request ID as needed\n    System.out.println(&quot;Error Response: &quot; + errorResponse);\n    System.out.println(&quot;Request ID: &quot; + requestId);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11841580,"reputation":1,"user_id":8665281,"display_name":"Sohrab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699525273,"creation_date":1699524564,"answer_id":77452243,"question_id":77451811,"body_markdown":"You&#39;ll know that the **exception** class has several important fields that helps you find the error.\r\nfor example:\r\n\r\n1-you can create your custom exception class with below fields:\r\n````\r\n    class MyCustomException{\r\n        public String exceptionMessage;\r\n        public String className; \r\n        public MyCustomException(String exceptionMessage, String className) {\r\n            this.exceptionMessage = exceptionMessage;\r\n            this.className = className;\r\n        }   \r\n    }\r\n````    \r\n2-get exception fields that you need(in this example, className and exceptionMessage):\r\n````\r\n     try {\r\n           ;//your code    \r\n    } catch (Exception e) {\r\n          MyCustomException exception=new MyCustomException(e.getMessage(),e.getClass().getName());\r\n          String json= new Gson().toJson(exception);    \r\n    } \r\n````   \r\nnow, json is your JSON format.","title":"How to print Exception in Json format","body":"<p>You'll know that the <strong>exception</strong> class has several important fields that helps you find the error.\nfor example:</p>\n<p>1-you can create your custom exception class with below fields:</p>\n<pre><code>    class MyCustomException{\n        public String exceptionMessage;\n        public String className; \n        public MyCustomException(String exceptionMessage, String className) {\n            this.exceptionMessage = exceptionMessage;\n            this.className = className;\n        }   \n    }\n</code></pre>\n<p>2-get exception fields that you need(in this example, className and exceptionMessage):</p>\n<pre><code>     try {\n           ;//your code    \n    } catch (Exception e) {\n          MyCustomException exception=new MyCustomException(e.getMessage(),e.getClass().getName());\n          String json= new Gson().toJson(exception);    \n    } \n</code></pre>\n<p>now, json is your JSON format.</p>\n"}],"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77451862,"answer_count":2,"score":0,"last_activity_date":1699531156,"creation_date":1699520939,"question_id":77451811,"body_markdown":"I am using Graph api java code \r\n```\r\n _appClient.users(sFrom)\r\n \t.sendMail(UserSendMailParameterSet\r\n \t\t.newBuilder()\r\n \t\t.withMessage(message)\r\n \t\t.withSaveToSentItems(null)\r\n \t\t.build())\r\n \t.buildRequest()\r\n \t.post();\r\n```\r\n\r\nwhen I try to hit method I am getting below error..\r\n\r\n\r\n \r\n&gt; com.microsoft.graph.http.GraphServiceException: Error code: ErrorAccessDenied\r\n&gt; Error message: Access to OData is disabled.\r\n&gt; \r\n&gt; POST https://graph.microsoft.com/v1.0/users/{some email ID name}/microsoft.graph.sendMail\r\n&gt; SdkVersion : graph-java/v5.49.0\r\n&gt; [...]\r\n&gt; \r\n&gt; 403 : Forbidden\r\n&gt; [...]\r\n&gt; \r\n&gt; [Some information was truncated for brevity, enable debug logging for more details]\r\n\r\n\r\nI need it in JSON format , How can I get that, and also I need to get requestid in response..\r\n\r\nfor example like below\r\n```\r\n{&quot;error&quot;:{&quot;code&quot;:&quot;InvalidAuthenticationToken&quot;,&quot;message&quot;:&quot;Access token is empty.&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-11-09T08:58:24&quot;,&quot;request-id&quot;:&quot;cbe585bc-d83b-4611-9df8-f1e3ad9b74de&quot;,&quot;client-request-id&quot;:&quot;cbe585bc-d83b-4611-9df8-f1e3ad9b74de&quot;}}}\r\n```\r\n\r\n\r\n\r\nI need RequestID in error response and the exception need to in JOSN format.","title":"How to print Exception in Json format","body":"<p>I am using Graph api java code</p>\n<pre><code> _appClient.users(sFrom)\n    .sendMail(UserSendMailParameterSet\n        .newBuilder()\n        .withMessage(message)\n        .withSaveToSentItems(null)\n        .build())\n    .buildRequest()\n    .post();\n</code></pre>\n<p>when I try to hit method I am getting below error..</p>\n<blockquote>\n<p>com.microsoft.graph.http.GraphServiceException: Error code: ErrorAccessDenied\nError message: Access to OData is disabled.</p>\n<p>POST <a href=\"https://graph.microsoft.com/v1.0/users/%7Bsome\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/users/{some</a> email ID name}/microsoft.graph.sendMail\nSdkVersion : graph-java/v5.49.0\n[...]</p>\n<p>403 : Forbidden\n[...]</p>\n<p>[Some information was truncated for brevity, enable debug logging for more details]</p>\n</blockquote>\n<p>I need it in JSON format , How can I get that, and also I need to get requestid in response..</p>\n<p>for example like below</p>\n<pre><code>{&quot;error&quot;:{&quot;code&quot;:&quot;InvalidAuthenticationToken&quot;,&quot;message&quot;:&quot;Access token is empty.&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-11-09T08:58:24&quot;,&quot;request-id&quot;:&quot;cbe585bc-d83b-4611-9df8-f1e3ad9b74de&quot;,&quot;client-request-id&quot;:&quot;cbe585bc-d83b-4611-9df8-f1e3ad9b74de&quot;}}}\n</code></pre>\n<p>I need RequestID in error response and the exception need to in JOSN format.</p>\n"},{"tags":["java","spring","hibernate","jpa","cockroachdb"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685714592,"post_id":76389572,"comment_id":134704056,"body_markdown":"Don&#39;t you also need the createdBy set? It is marked nullable=false but doesn&#39;t follow the same pattern as the updatedBy so might be the cause of your issue.","body":"Don&#39;t you also need the createdBy set? It is marked nullable=false but doesn&#39;t follow the same pattern as the updatedBy so might be the cause of your issue."},{"owner":{"account_id":4849802,"reputation":1540,"user_id":3912417,"accept_rate":89,"display_name":"joshuatvernon"},"score":0,"creation_date":1685733514,"post_id":76389572,"comment_id":134707891,"body_markdown":"I always manually set createdBy and updatedBy higher up and can confirm the only problematic field is createdAt. The `@PreUpdate` hook is getting called. It&#39;s just the `@PrePersist` hook is not getting called I assume since it has a composite key that is never null and not generated by the DB so it doesn&#39;t know when to invoke","body":"I always manually set createdBy and updatedBy higher up and can confirm the only problematic field is createdAt. The <code>@PreUpdate</code> hook is getting called. It&#39;s just the <code>@PrePersist</code> hook is not getting called I assume since it has a composite key that is never null and not generated by the DB so it doesn&#39;t know when to invoke"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685735836,"post_id":76389572,"comment_id":134708256,"body_markdown":"Verify it actually isn&#39;t called with println or debugging, as if it isn&#39;t, it is a Hibernate bug. Using Spring &#39;save&#39; might be playing a part, as it under the covers tries to determine if the entity is new to call either persist or Merge which have different mechanics. Both should trigger the prePersist on your entity, but I suspect your other entities are having persist called on them while for this one, merge is used. You can see on another entity by pre-assigning PK values, or manually calling merge on your other entities to see if prePersist is still called with them.","body":"Verify it actually isn&#39;t called with println or debugging, as if it isn&#39;t, it is a Hibernate bug. Using Spring &#39;save&#39; might be playing a part, as it under the covers tries to determine if the entity is new to call either persist or Merge which have different mechanics. Both should trigger the prePersist on your entity, but I suspect your other entities are having persist called on them while for this one, merge is used. You can see on another entity by pre-assigning PK values, or manually calling merge on your other entities to see if prePersist is still called with them."}],"answers":[{"comments":[{"owner":{"account_id":4849802,"reputation":1540,"user_id":3912417,"accept_rate":89,"display_name":"joshuatvernon"},"score":0,"creation_date":1685733600,"post_id":76390037,"comment_id":134707910,"body_markdown":"I don&#39;t think the methods need to be public. I have protected methods on other classes that don&#39;t use `@IdClass` and they are ALWAYS getting called. So it&#39;s something to do with the `@IdClass` and not the public/protected I believe","body":"I don&#39;t think the methods need to be public. I have protected methods on other classes that don&#39;t use <code>@IdClass</code> and they are ALWAYS getting called. So it&#39;s something to do with the <code>@IdClass</code> and not the public/protected I believe"}],"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685707870,"creation_date":1685707870,"answer_id":76390037,"question_id":76389572,"body_markdown":"probably the two methods should be public\r\n\r\n\r\n       @PrePersist\r\n        public void prePersist() {\r\n            Instant now = Instant.now();\r\n            this.setCreatedAt(now);\r\n            this.setUpdatedAt(now);\r\n        }\r\n    \r\n        @PreUpdate\r\n        public void preUpdate() {\r\n            this.setUpdatedAt(Instant.now());\r\n        }\r\n\r\n","title":"Why is method annotated with @PrePersist not called on @Entity class with @IdClass?","body":"<p>probably the two methods should be public</p>\n<pre><code>   @PrePersist\n    public void prePersist() {\n        Instant now = Instant.now();\n        this.setCreatedAt(now);\n        this.setUpdatedAt(now);\n    }\n\n    @PreUpdate\n    public void preUpdate() {\n        this.setUpdatedAt(Instant.now());\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1699540130,"post_id":77452986,"comment_id":136547026,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77452986/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29862391,"reputation":1,"user_id":22885778,"display_name":"Mihai Dumitru"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699531136,"creation_date":1699531102,"answer_id":77452986,"question_id":76389572,"body_markdown":"Keep in mind that `@PrePersist` is only called when the record is created. Updating an existing record won&#39;t trigger this. ","title":"Why is method annotated with @PrePersist not called on @Entity class with @IdClass?","body":"<p>Keep in mind that <code>@PrePersist</code> is only called when the record is created. Updating an existing record won't trigger this.</p>\n"}],"owner":{"account_id":4849802,"reputation":1540,"user_id":3912417,"accept_rate":89,"display_name":"joshuatvernon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699531136,"creation_date":1685703727,"question_id":76389572,"body_markdown":"Why is method annotated with `@PrePersist` not called when persisting class annotated with `@Entity` and `@IdClass`?\r\n\r\n### Folder (entity)\r\n\r\n```java\r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\n@IdClass(Folder.FolderId.class)\r\n@Table(name = &quot;folder&quot;, schema = &quot;my_schema&quot;)\r\npublic class Folder {\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public static class FolderId implements Serializable {\r\n        private UUID driveId;\r\n        private String folderId;\r\n    }\r\n\r\n    @Id\r\n    private UUID driveId;\r\n\r\n    @Id\r\n    private String folderId;\r\n\r\n    @Column\r\n    private String parentFolderId;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false)\r\n    private String createdBy;\r\n\r\n    @Column(nullable = false)\r\n    private String updatedBy;\r\n\r\n    @Column\r\n    private Instant createdAt;\r\n\r\n    @Column\r\n    private Instant updatedAt;\r\n\r\n    @PrePersist\r\n    protected void prePersist() {\r\n        Instant now = Instant.now();\r\n        this.setCreatedAt(now);\r\n        this.setUpdatedAt(now);\r\n    }\r\n\r\n    @PreUpdate\r\n    protected void preUpdate() {\r\n        this.setUpdatedAt(Instant.now());\r\n    }\r\n}\r\n```\r\n\r\n### FolderRepository (repo)\r\n\r\n```\r\n@Repository\r\npublic interface FolderRepository extends JpaRepository&lt;Folder, String&gt; {\r\n}\r\n```\r\n\r\n### FolderService (service)\r\n\r\n```java\r\n@Transactional\r\npublic void saveFolder(Folder folderToSave, String updatedBy) {\r\n    folderToSave.setUpdatedBy(updatedBy);\r\n    return folderRepository.saveAndFlush(folderToSave);\r\n}\r\n```\r\n\r\nI have a non-null constraint on `createdAt` which is being violated since `@PrePersist` is not being invoked.","title":"Why is method annotated with @PrePersist not called on @Entity class with @IdClass?","body":"<p>Why is method annotated with <code>@PrePersist</code> not called when persisting class annotated with <code>@Entity</code> and <code>@IdClass</code>?</p>\n<h3>Folder (entity)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@IdClass(Folder.FolderId.class)\n@Table(name = &quot;folder&quot;, schema = &quot;my_schema&quot;)\npublic class Folder {\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public static class FolderId implements Serializable {\n        private UUID driveId;\n        private String folderId;\n    }\n\n    @Id\n    private UUID driveId;\n\n    @Id\n    private String folderId;\n\n    @Column\n    private String parentFolderId;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false)\n    private String createdBy;\n\n    @Column(nullable = false)\n    private String updatedBy;\n\n    @Column\n    private Instant createdAt;\n\n    @Column\n    private Instant updatedAt;\n\n    @PrePersist\n    protected void prePersist() {\n        Instant now = Instant.now();\n        this.setCreatedAt(now);\n        this.setUpdatedAt(now);\n    }\n\n    @PreUpdate\n    protected void preUpdate() {\n        this.setUpdatedAt(Instant.now());\n    }\n}\n</code></pre>\n<h3>FolderRepository (repo)</h3>\n<pre><code>@Repository\npublic interface FolderRepository extends JpaRepository&lt;Folder, String&gt; {\n}\n</code></pre>\n<h3>FolderService (service)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void saveFolder(Folder folderToSave, String updatedBy) {\n    folderToSave.setUpdatedBy(updatedBy);\n    return folderRepository.saveAndFlush(folderToSave);\n}\n</code></pre>\n<p>I have a non-null constraint on <code>createdAt</code> which is being violated since <code>@PrePersist</code> is not being invoked.</p>\n"},{"tags":["java","spring-boot","hibernate-mapping","spring-boot-3","hibernate-6.x"],"comments":[{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699541416,"post_id":77452966,"comment_id":136547348,"body_markdown":"refer this [hibernate-6-custom-functions](https://aregall.tech/hibernate-6-custom-functions) blog","body":"refer this <a href=\"https://aregall.tech/hibernate-6-custom-functions\" rel=\"nofollow noreferrer\">hibernate-6-custom-functions</a> blog"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699550364,"post_id":77452966,"comment_id":136549329,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":10937131,"reputation":11,"user_id":8038422,"display_name":"Poushali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699530950,"creation_date":1699530950,"question_id":77452966,"body_markdown":"I am upgrading an application from springboot version to 3.1.2 and hibernate 6.2.\r\nIn Hibernate5 , we registered few custom sql functions like below:\r\nPublic class CustomPostgresDialect extends PostgrsSQL95Dialect \r\n\r\nregisterFunction(&quot;array_remove&quot;, new SQLFunctionTemplate(ListArrayType.INSTANCE, &quot;areay_remove(?1,?2)&quot;));\r\n\r\nIn Hibernate 6.2, I am trying to use functioncontributer like below\r\n\r\nfunctionRegistry.registerPattern(&quot;array_remove&quot;,&quot;array_remove(?1,?2)&quot;, ListArrayType.INSTANCE));\r\n\r\nBut in the above statement, the registerPattern() expects the basic java return type in the third parameter. How to add ListArrayType as the return type?\r\n\r\n\r\n\r\nI am using hypersistence-utils-hibernate-62 version","title":"Issue in registering custom function in hibernate 6.2","body":"<p>I am upgrading an application from springboot version to 3.1.2 and hibernate 6.2.\nIn Hibernate5 , we registered few custom sql functions like below:\nPublic class CustomPostgresDialect extends PostgrsSQL95Dialect</p>\n<p>registerFunction(&quot;array_remove&quot;, new SQLFunctionTemplate(ListArrayType.INSTANCE, &quot;areay_remove(?1,?2)&quot;));</p>\n<p>In Hibernate 6.2, I am trying to use functioncontributer like below</p>\n<p>functionRegistry.registerPattern(&quot;array_remove&quot;,&quot;array_remove(?1,?2)&quot;, ListArrayType.INSTANCE));</p>\n<p>But in the above statement, the registerPattern() expects the basic java return type in the third parameter. How to add ListArrayType as the return type?</p>\n<p>I am using hypersistence-utils-hibernate-62 version</p>\n"},{"tags":["java","spring","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1699538097,"post_id":77452930,"comment_id":136546586,"body_markdown":"You search for `PartFindResultModelApi `, but mock for `PartModelApi `","body":"You search for <code>PartFindResultModelApi </code>, but mock for <code>PartModelApi </code>"}],"owner":{"account_id":22960907,"reputation":43,"user_id":17090789,"display_name":"Thomas124124"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699530630,"creation_date":1699530630,"question_id":77452930,"body_markdown":"I m using rest template \r\n```\r\nString urlTemplate = UriComponentsBuilder.fromHttpUrl(dxiFindBatchUrl)\r\n                .queryParam(&quot;codes&quot;, &quot;{codes}&quot;)\r\n                .queryParam(&quot;supplierName&quot;, &quot;{supplierName}&quot;)\r\n                .queryParam(&quot;limit&quot;, &quot;{limit}&quot;)\r\n                .encode()\r\n                .toUriString();\r\n\r\n        Map&lt;String, String&gt; params = Map.of(&quot;codes&quot;, String.join(&quot;,&quot;, sourceIds),\r\n                &quot;supplierName&quot;, supplierName,\r\n                &quot;limit&quot;, String.valueOf(sourceIds.size()));\r\nResponseEntity&lt;PartFindResultModelApi&gt; findResult = apxRestTemplate.getForEntity(urlTemplate, PartFindResultModelApi.class, params);\r\n```\r\n\r\nin test\r\n```\r\nMockito.when(restTemplate.getForEntity(Mockito.anyString(), eq(PartModelApi.class), Mockito.anyMap()))\r\n                .thenReturn(new ResponseEntity&lt;&gt;(partModel, HttpStatus.OK));\r\n```\r\n\r\n```\r\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n - this invocation of &#39;getForEntity&#39; method:\r\n    restTemplate.getForEntity(\r\n    &quot;http://localhost:8080?codes={codes}&amp;supplierName={supplierName}&amp;limit={limit}&quot;,\r\n    class de.kumasoft.datahub.ebay.automativeparts.api.model.PartFindResultModelApi,\r\n    {&quot;limit&quot; = &quot;1&quot;, &quot;codes&quot; = &quot;123&quot;, &quot;supplierName&quot; = &quot;TestSupplier&quot;}\r\n);\r\n    -&gt; at de.kumasoft.datahub.ebayservice.service.clients.apx.AutomativePartsClient.findParts(AutomativePartsClient.java:43)\r\n - has following stubbing(s) with different arguments:\r\n    1. restTemplate.getForEntity(&quot;&quot;, null, {});\r\n```\r\n\r\nI think the null might be issue in stubbing but what can I do about it?","title":"Why do I get stubbing problem when using eq on generated class","body":"<p>I m using rest template</p>\n<pre><code>String urlTemplate = UriComponentsBuilder.fromHttpUrl(dxiFindBatchUrl)\n                .queryParam(&quot;codes&quot;, &quot;{codes}&quot;)\n                .queryParam(&quot;supplierName&quot;, &quot;{supplierName}&quot;)\n                .queryParam(&quot;limit&quot;, &quot;{limit}&quot;)\n                .encode()\n                .toUriString();\n\n        Map&lt;String, String&gt; params = Map.of(&quot;codes&quot;, String.join(&quot;,&quot;, sourceIds),\n                &quot;supplierName&quot;, supplierName,\n                &quot;limit&quot;, String.valueOf(sourceIds.size()));\nResponseEntity&lt;PartFindResultModelApi&gt; findResult = apxRestTemplate.getForEntity(urlTemplate, PartFindResultModelApi.class, params);\n</code></pre>\n<p>in test</p>\n<pre><code>Mockito.when(restTemplate.getForEntity(Mockito.anyString(), eq(PartModelApi.class), Mockito.anyMap()))\n                .thenReturn(new ResponseEntity&lt;&gt;(partModel, HttpStatus.OK));\n</code></pre>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'getForEntity' method:\n    restTemplate.getForEntity(\n    &quot;http://localhost:8080?codes={codes}&amp;supplierName={supplierName}&amp;limit={limit}&quot;,\n    class de.kumasoft.datahub.ebay.automativeparts.api.model.PartFindResultModelApi,\n    {&quot;limit&quot; = &quot;1&quot;, &quot;codes&quot; = &quot;123&quot;, &quot;supplierName&quot; = &quot;TestSupplier&quot;}\n);\n    -&gt; at de.kumasoft.datahub.ebayservice.service.clients.apx.AutomativePartsClient.findParts(AutomativePartsClient.java:43)\n - has following stubbing(s) with different arguments:\n    1. restTemplate.getForEntity(&quot;&quot;, null, {});\n</code></pre>\n<p>I think the null might be issue in stubbing but what can I do about it?</p>\n"},{"tags":["java","large-files","line-numbers"],"answers":[{"comments":[{"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"score":0,"creation_date":1232187243,"post_id":453025,"comment_id":273568,"body_markdown":"@IainmH, your second suggestion just counts the number of entries in the current directory. Not what was intended? (or asked for by the OP)","body":"@IainmH, your second suggestion just counts the number of entries in the current directory. Not what was intended? (or asked for by the OP)"},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1232191748,"post_id":453025,"comment_id":273613,"body_markdown":"@IainMH: that&#39;s what wc does anyway (reading the file, counting line-ending).","body":"@IainMH: that&#39;s what wc does anyway (reading the file, counting line-ending)."},{"owner":{"account_id":858,"reputation":14212,"user_id":1122,"accept_rate":82,"display_name":"Iain Holder"},"score":0,"creation_date":1232195061,"post_id":453025,"comment_id":273657,"body_markdown":"@PhiLho  You&#39;d have to use the -l switch to count the lines. (Don&#39;t you? - it&#39;s been a while)","body":"@PhiLho  You&#39;d have to use the -l switch to count the lines. (Don&#39;t you? - it&#39;s been a while)"},{"owner":{"account_id":858,"reputation":14212,"user_id":1122,"accept_rate":82,"display_name":"Iain Holder"},"score":0,"creation_date":1232195109,"post_id":453025,"comment_id":273659,"body_markdown":"@Paul - you are of course 100% right.  My only defence is that I posted that before my coffee.  I&#39;m as sharp as a button now. :D","body":"@Paul - you are of course 100% right.  My only defence is that I posted that before my coffee.  I&#39;m as sharp as a button now. :D"}],"tags":[],"owner":{"account_id":1941,"reputation":17240,"user_id":2670,"accept_rate":92,"display_name":"Peter Hilton"},"comment_count":4,"down_vote_count":9,"up_vote_count":9,"is_accepted":false,"score":0,"last_activity_date":1232182982,"creation_date":1232182982,"answer_id":453025,"question_id":453018,"body_markdown":"On Unix-based systems, use the `wc` command on the command-line.","title":"Number of lines in a file in Java","body":"<p>On Unix-based systems, use the <code>wc</code> command on the command-line.</p>\n"},{"comments":[{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":1,"creation_date":1232184452,"post_id":453033,"comment_id":273546,"body_markdown":"Interesting downvote, no matter what command line tool you&#39;re using they all DO THE SAME THING anyway, only internally. There&#39;s no magic way to figure out the number of lines, they have to be counted by hand. Sure it can be saved as metadata but that&#39;s a whole another story...","body":"Interesting downvote, no matter what command line tool you&#39;re using they all DO THE SAME THING anyway, only internally. There&#39;s no magic way to figure out the number of lines, they have to be counted by hand. Sure it can be saved as metadata but that&#39;s a whole another story..."}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":1,"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1232183341,"creation_date":1232183341,"answer_id":453033,"question_id":453018,"body_markdown":"Only way to know how many lines there are in file is to count them. You can of course create a metric from your data giving you an average length of one line and then get the file size and divide that with avg. length but that won&#39;t be accurate.","title":"Number of lines in a file in Java","body":"<p>Only way to know how many lines there are in file is to count them. You can of course create a metric from your data giving you an average length of one line and then get the file size and divide that with avg. length but that won't be accurate.</p>\n"},{"comments":[{"owner":{"account_id":20245,"reputation":17785,"user_id":48181,"accept_rate":100,"display_name":"martinus"},"score":0,"creation_date":1232186479,"post_id":453067,"comment_id":273561,"body_markdown":"you were right david, I thought the JVM would be good enough for this... I have updated the code, this one is faster.","body":"you were right david, I thought the JVM would be good enough for this... I have updated the code, this one is faster."},{"owner":{"account_id":6090,"reputation":31973,"user_id":10098,"accept_rate":80,"display_name":"wds"},"score":5,"creation_date":1232198602,"post_id":453067,"comment_id":273731,"body_markdown":"BufferedInputStream should be doing the buffering for you, so I don&#39;t see how using an intermediate byte[] array will make it any faster. You&#39;re unlikely to do much better than using readLine() repeatedly anyway (since that will be optimized towards by the API).","body":"BufferedInputStream should be doing the buffering for you, so I don&#39;t see how using an intermediate byte[] array will make it any faster. You&#39;re unlikely to do much better than using readLine() repeatedly anyway (since that will be optimized towards by the API)."},{"owner":{"account_id":20245,"reputation":17785,"user_id":48181,"accept_rate":100,"display_name":"martinus"},"score":0,"creation_date":1232199146,"post_id":453067,"comment_id":273739,"body_markdown":"Ive benchmarked it with and without the buffered inputstream, and it is afaster when using it.","body":"Ive benchmarked it with and without the buffered inputstream, and it is afaster when using it."},{"owner":{"account_id":15696,"reputation":9454,"user_id":33412,"accept_rate":60,"display_name":"bendin"},"score":56,"creation_date":1243188907,"post_id":453067,"comment_id":712166,"body_markdown":"You&#39;re going to close that InputStream when you&#39;re done with it, aren&#39;t you?","body":"You&#39;re going to close that InputStream when you&#39;re done with it, aren&#39;t you?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1243191747,"post_id":453067,"comment_id":712273,"body_markdown":"If buffering helped it would because BufferedInputStream buffers 8K by default.  Increase your byte[] to this size or larger and you can drop the BufferedInputStream. e.g. try 1024*1024 bytes.","body":"If buffering helped it would because BufferedInputStream buffers 8K by default.  Increase your byte[] to this size or larger and you can drop the BufferedInputStream. e.g. try 1024*1024 bytes."},{"owner":{"account_id":88301,"reputation":5748,"user_id":244330,"accept_rate":54,"display_name":"newguy"},"score":1,"creation_date":1300083713,"post_id":453067,"comment_id":5970484,"body_markdown":"Works good until I use it on some MAC format files or some files in which the last line doesn&#39;t have a &#39;\\n&#39; character. The number will be incorrect in those situations. Although it is fast but I think I will stick to to &quot;fit-all&quot; readLine() method.","body":"Works good until I use it on some MAC format files or some files in which the last line doesn&#39;t have a &#39;\\n&#39; character. The number will be incorrect in those situations. Although it is fast but I think I will stick to to &quot;fit-all&quot; readLine() method."},{"owner":{"account_id":328530,"reputation":12953,"user_id":651536,"accept_rate":90,"display_name":"Nathan Ryan"},"score":10,"creation_date":1348228705,"post_id":453067,"comment_id":16869486,"body_markdown":"Two things: (1) The definition of a line terminator in Java source is a carriage return, a line feed, or a carriage return followed by a line feed. Your solution won&#39;t work for CR used as a line terminator. Granted, the only OS of which I can think that uses CR as the default line terminator is Mac OS prior to Mac OS X. (2) Your solution assumes a character encoding such as US-ASCII or UTF-8. The line count may be inaccurate for encodings such as UTF-16.","body":"Two things: (1) The definition of a line terminator in Java source is a carriage return, a line feed, or a carriage return followed by a line feed. Your solution won&#39;t work for CR used as a line terminator. Granted, the only OS of which I can think that uses CR as the default line terminator is Mac OS prior to Mac OS X. (2) Your solution assumes a character encoding such as US-ASCII or UTF-8. The line count may be inaccurate for encodings such as UTF-16."},{"owner":{"account_id":330901,"reputation":1323,"user_id":655249,"accept_rate":100,"display_name":"serg.nechaev"},"score":0,"creation_date":1385622066,"post_id":453067,"comment_id":30220065,"body_markdown":"@Nathan_Ryan: I just got logs from java app outputting some mainframe TCP service responses and there were a number of CRs inside. The program using the snippet above gracefully failed.","body":"@Nathan_Ryan: I just got logs from java app outputting some mainframe TCP service responses and there were a number of CRs inside. The program using the snippet above gracefully failed."},{"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"score":0,"creation_date":1396001100,"post_id":453067,"comment_id":34604892,"body_markdown":"Nice. I would make this method static and rename it countLines. Cheers","body":"Nice. I would make this method static and rename it countLines. Cheers"},{"owner":{"account_id":132619,"reputation":155,"user_id":333427,"accept_rate":40,"display_name":"Peter"},"score":0,"creation_date":1424439051,"post_id":453067,"comment_id":45560391,"body_markdown":"For what it&#39;s worth, I already had the byte[] and used the following: `\tprivate int countLines(byte[] file) throws IOException {\n\t    InputStream is = new ByteArrayInputStream(file);`","body":"For what it&#39;s worth, I already had the byte[] and used the following: `\tprivate int countLines(byte[] file) throws IOException { \t    InputStream is = new ByteArrayInputStream(file);`"},{"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"score":1,"creation_date":1424472189,"post_id":453067,"comment_id":45578316,"body_markdown":"This method shows one line less... Try to look at my answer below.","body":"This method shows one line less... Try to look at my answer below."},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":1,"creation_date":1425561419,"post_id":453067,"comment_id":46019193,"body_markdown":"It will fail on files which use something else than something which includes `\\n` as a line terminator. The count is off by one (one less) for `noeol` files. What actually needs to be counted is not the number of `\\n` but the number of occurrences of character sequences separated by line terminator.","body":"It will fail on files which use something else than something which includes <code>\\n</code> as a line terminator. The count is off by one (one less) for <code>noeol</code> files. What actually needs to be counted is not the number of <code>\\n</code> but the number of occurrences of character sequences separated by line terminator."},{"owner":{"account_id":2974654,"reputation":605,"user_id":2525959,"accept_rate":83,"display_name":"user4321"},"score":1,"creation_date":1472496228,"post_id":453067,"comment_id":65764835,"body_markdown":"a try with resources is a better way to do this.\n\ntry(InputStream is = new BufferedInputStream(new FileInputStream(filename))){\n//rest of the code as above without the finally block\n}","body":"a try with resources is a better way to do this.  try(InputStream is = new BufferedInputStream(new FileInputStream(filename))){ //rest of the code as above without the finally block }"},{"owner":{"account_id":3837510,"reputation":401,"user_id":3181500,"display_name":"user3181500"},"score":2,"creation_date":1509626588,"post_id":453067,"comment_id":81099507,"body_markdown":"Awesome code... for 400mb text file, it took just a second. Thanks alot @martinus","body":"Awesome code... for 400mb text file, it took just a second. Thanks alot @martinus"}],"tags":[],"owner":{"account_id":20245,"reputation":17785,"user_id":48181,"accept_rate":100,"display_name":"martinus"},"comment_count":14,"down_vote_count":6,"up_vote_count":255,"is_accepted":true,"score":249,"last_activity_date":1674843724,"creation_date":1232184917,"answer_id":453067,"question_id":453018,"body_markdown":"This is the fastest version I have found so far, about 6 times faster than readLines. On a 150MB log file this takes 0.35 seconds, versus 2.40 seconds when using readLines(). Just for fun, linux&#39; wc -l command takes 0.15 seconds.\r\n\r\n    public static int countLinesOld(String filename) throws IOException {\r\n        InputStream is = new BufferedInputStream(new FileInputStream(filename));\r\n        try {\r\n            byte[] c = new byte[1024];\r\n            int count = 0;\r\n            int readChars = 0;\r\n            boolean empty = true;\r\n            while ((readChars = is.read(c)) != -1) {\r\n                empty = false;\r\n                for (int i = 0; i &lt; readChars; ++i) {\r\n                    if (c[i] == &#39;\\n&#39;) {\r\n                        ++count;\r\n                    }\r\n                }\r\n            }\r\n            return (count == 0 &amp;&amp; !empty) ? 1 : count;\r\n        } finally {\r\n            is.close();\r\n        }\r\n    }\r\n\r\nEDIT, 9 1/2 years later: I have practically no java experience, but anyways I have tried to benchmark this code against the `LineNumberReader` solution below since it bothered me that nobody did it. It seems that especially for large files my solution is faster. Although it seems to take a few runs until the optimizer does a decent job. I&#39;ve played a bit with the code, and have produced a new version that is consistently fastest:\r\n\r\n    public static int countLinesNew(String filename) throws IOException {\r\n        InputStream is = new BufferedInputStream(new FileInputStream(filename));\r\n        try {\r\n            byte[] c = new byte[1024];\r\n            \r\n            int readChars = is.read(c);\r\n            if (readChars == -1) {\r\n                // bail out if nothing to read\r\n                return 0;\r\n            }\r\n            \r\n            // make it easy for the optimizer to tune this loop\r\n            int count = 0;\r\n            while (readChars == 1024) {\r\n                for (int i=0; i&lt;1024;) {\r\n                    if (c[i++] == &#39;\\n&#39;) {\r\n                        ++count;\r\n                    }\r\n                }\r\n                readChars = is.read(c);\r\n            }\r\n            \r\n            // count remaining characters\r\n            while (readChars != -1) {\r\n                for (int i=0; i&lt;readChars; ++i) {\r\n                    if (c[i] == &#39;\\n&#39;) {\r\n                        ++count;\r\n                    }\r\n                }\r\n                readChars = is.read(c);\r\n            }\r\n            \r\n            return count == 0 ? 1 : count;\r\n        } finally {\r\n            is.close();\r\n        }\r\n    }\r\n\r\nBenchmark resuls for a 1.3GB text file, y axis in seconds. I&#39;ve performed 100 runs with the same file, and measured each run with `System.nanoTime()`. You can see that `countLinesOld` has a few outliers, and `countLinesNew` has none and while it&#39;s only a bit faster, the difference is statistically significant. `LineNumberReader` is clearly slower.\r\n\r\n[![Benchmark Plot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fjQQB.png","title":"Number of lines in a file in Java","body":"<p>This is the fastest version I have found so far, about 6 times faster than readLines. On a 150MB log file this takes 0.35 seconds, versus 2.40 seconds when using readLines(). Just for fun, linux' wc -l command takes 0.15 seconds.</p>\n<pre><code>public static int countLinesOld(String filename) throws IOException {\n    InputStream is = new BufferedInputStream(new FileInputStream(filename));\n    try {\n        byte[] c = new byte[1024];\n        int count = 0;\n        int readChars = 0;\n        boolean empty = true;\n        while ((readChars = is.read(c)) != -1) {\n            empty = false;\n            for (int i = 0; i &lt; readChars; ++i) {\n                if (c[i] == '\\n') {\n                    ++count;\n                }\n            }\n        }\n        return (count == 0 &amp;&amp; !empty) ? 1 : count;\n    } finally {\n        is.close();\n    }\n}\n</code></pre>\n<p>EDIT, 9 1/2 years later: I have practically no java experience, but anyways I have tried to benchmark this code against the <code>LineNumberReader</code> solution below since it bothered me that nobody did it. It seems that especially for large files my solution is faster. Although it seems to take a few runs until the optimizer does a decent job. I've played a bit with the code, and have produced a new version that is consistently fastest:</p>\n<pre><code>public static int countLinesNew(String filename) throws IOException {\n    InputStream is = new BufferedInputStream(new FileInputStream(filename));\n    try {\n        byte[] c = new byte[1024];\n        \n        int readChars = is.read(c);\n        if (readChars == -1) {\n            // bail out if nothing to read\n            return 0;\n        }\n        \n        // make it easy for the optimizer to tune this loop\n        int count = 0;\n        while (readChars == 1024) {\n            for (int i=0; i&lt;1024;) {\n                if (c[i++] == '\\n') {\n                    ++count;\n                }\n            }\n            readChars = is.read(c);\n        }\n        \n        // count remaining characters\n        while (readChars != -1) {\n            for (int i=0; i&lt;readChars; ++i) {\n                if (c[i] == '\\n') {\n                    ++count;\n                }\n            }\n            readChars = is.read(c);\n        }\n        \n        return count == 0 ? 1 : count;\n    } finally {\n        is.close();\n    }\n}\n</code></pre>\n<p>Benchmark resuls for a 1.3GB text file, y axis in seconds. I've performed 100 runs with the same file, and measured each run with <code>System.nanoTime()</code>. You can see that <code>countLinesOld</code> has a few outliers, and <code>countLinesNew</code> has none and while it's only a bit faster, the difference is statistically significant. <code>LineNumberReader</code> is clearly slower.</p>\n<p><a href=\"https://i.stack.imgur.com/fjQQB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fjQQB.png\" alt=\"Benchmark Plot\" /></a></p>\n"},{"comments":[{"owner":{"account_id":21211,"reputation":43403,"user_id":51382,"accept_rate":87,"display_name":"willcodejavaforfood"},"score":0,"creation_date":1232190126,"post_id":453068,"comment_id":273594,"body_markdown":"Sounds like a neat idea. Anyone tried it and has a regexp for it?","body":"Sounds like a neat idea. Anyone tried it and has a regexp for it?"},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":2,"creation_date":1232191901,"post_id":453068,"comment_id":273616,"body_markdown":"I doubt it is such a good idea: it will need to read the whole file at once (martinus avoids this) and regexes are overkill (and slower) for such usage (simple search of fixed char(s)).","body":"I doubt it is such a good idea: it will need to read the whole file at once (martinus avoids this) and regexes are overkill (and slower) for such usage (simple search of fixed char(s))."},{"owner":{"account_id":3410,"reputation":58516,"user_id":4918,"accept_rate":65,"display_name":"David Schmitt"},"score":0,"creation_date":1305632249,"post_id":453068,"comment_id":6972596,"body_markdown":"@will: what about /\\n/ ? @PhiLo: Regex Executors are highly-tuned performance machines. Except the read-everything-into-memory caveat, I don&#39;t think that a manual implementation can be faster.","body":"@will: what about /\\n/ ? @PhiLo: Regex Executors are highly-tuned performance machines. Except the read-everything-into-memory caveat, I don&#39;t think that a manual implementation can be faster."}],"tags":[],"owner":{"account_id":3410,"reputation":58516,"user_id":4918,"accept_rate":65,"display_name":"David Schmitt"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1232274173,"creation_date":1232185001,"answer_id":453068,"question_id":453018,"body_markdown":"If you don&#39;t have any index structures, you&#39;ll not get around the reading of the complete file. But you can optimize it by avoiding to read it line by line and use a regex to match all line terminators.","title":"Number of lines in a file in Java","body":"<p>If you don't have any index structures, you'll not get around the reading of the complete file. But you can optimize it by avoiding to read it line by line and use a regex to match all line terminators.</p>\n"},{"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1391068952,"post_id":1647015,"comment_id":32369192,"body_markdown":"In this case, there is no need of using LineNumberReader, simply use BufferedReader, in that case you&#39;l have flexibility to use long datatype for `cnt`.","body":"In this case, there is no need of using LineNumberReader, simply use BufferedReader, in that case you&#39;l have flexibility to use long datatype for <code>cnt</code>."},{"owner":{"account_id":3927945,"reputation":5168,"user_id":3247605,"display_name":"Chhorn Elit"},"score":0,"creation_date":1577897395,"post_id":1647015,"comment_id":105277048,"body_markdown":"[INFO] PMD Failure:xx:19 Rule:EmptyWhileStmt Priority:3 Avoid empty while statements.","body":"[INFO] PMD Failure:xx:19 Rule:EmptyWhileStmt Priority:3 Avoid empty while statements."}],"tags":[],"owner":{"account_id":68276,"reputation":176,"user_id":199293,"display_name":"Dave Bergert"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1256856093,"creation_date":1256856093,"answer_id":1647015,"question_id":453018,"body_markdown":"The answer with the method count() above gave me line miscounts if a file didn&#39;t have a newline at the end of the file - it failed to count the last line in the file.\r\n\r\nThis method works better for me:\r\n\r\n    public int countLines(String filename) throws IOException {\r\n        LineNumberReader reader  = new LineNumberReader(new FileReader(filename));\r\n\tint cnt = 0;\r\n\tString lineRead = &quot;&quot;;\r\n\twhile ((lineRead = reader.readLine()) != null) {}\r\n\r\n\tcnt = reader.getLineNumber(); \r\n\treader.close();\r\n\treturn cnt;\r\n    }","title":"Number of lines in a file in Java","body":"<p>The answer with the method count() above gave me line miscounts if a file didn't have a newline at the end of the file - it failed to count the last line in the file.</p>\n\n<p>This method works better for me:</p>\n\n<pre><code>public int countLines(String filename) throws IOException {\n    LineNumberReader reader  = new LineNumberReader(new FileReader(filename));\nint cnt = 0;\nString lineRead = \"\";\nwhile ((lineRead = reader.readLine()) != null) {}\n\ncnt = reader.getLineNumber(); \nreader.close();\nreturn cnt;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":110293,"reputation":3038,"user_id":291907,"display_name":"Adam Norberg"},"score":15,"creation_date":1307049994,"post_id":4425569,"comment_id":7245053,"body_markdown":"An `int` can hold values of up to, approximately, 2 billion. If you are loading a file with more than 2 billion lines, you have an overflow problem. That said, if you are loading an unindexed text file with more than two billion lines, you probably have other problems.","body":"An <code>int</code> can hold values of up to, approximately, 2 billion. If you are loading a file with more than 2 billion lines, you have an overflow problem. That said, if you are loading an unindexed text file with more than two billion lines, you probably have other problems."}],"tags":[],"owner":{"account_id":687320,"reputation":17,"user_id":540057,"display_name":"Faisal"},"comment_count":1,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1300886550,"creation_date":1292210595,"answer_id":4425569,"question_id":453018,"body_markdown":"if you use this \r\n\r\n    public int countLines(String filename) throws IOException {\r\n        LineNumberReader reader  = new LineNumberReader(new FileReader(filename));\r\n        int cnt = 0;\r\n        String lineRead = &quot;&quot;;\r\n        while ((lineRead = reader.readLine()) != null) {}\r\n    \r\n        cnt = reader.getLineNumber(); \r\n        reader.close();\r\n        return cnt;\r\n    }\r\n\r\nyou cant run to big num rows, likes 100K rows, because return from reader.getLineNumber is int. you need long type of data to process maximum rows..\r\n","title":"Number of lines in a file in Java","body":"<p>if you use this </p>\n\n<pre><code>public int countLines(String filename) throws IOException {\n    LineNumberReader reader  = new LineNumberReader(new FileReader(filename));\n    int cnt = 0;\n    String lineRead = \"\";\n    while ((lineRead = reader.readLine()) != null) {}\n\n    cnt = reader.getLineNumber(); \n    reader.close();\n    return cnt;\n}\n</code></pre>\n\n<p>you cant run to big num rows, likes 100K rows, because return from reader.getLineNumber is int. you need long type of data to process maximum rows..</p>\n"},{"comments":[{"owner":{"account_id":1992815,"reputation":454,"user_id":1786444,"accept_rate":71,"display_name":"epb"},"score":0,"creation_date":1428092846,"post_id":5342096,"comment_id":47047096,"body_markdown":"`LineNumberReader`&#39;s `lineNumber` field is an integer... Won&#39;t it just wrap for files longer than Integer.MAX_VALUE? Why bother skipping by a long here?","body":"<code>LineNumberReader</code>&#39;s <code>lineNumber</code> field is an integer... Won&#39;t it just wrap for files longer than Integer.MAX_VALUE? Why bother skipping by a long here?"},{"owner":{"account_id":30670,"reputation":18662,"user_id":83741,"accept_rate":67,"display_name":"Alexander Torstling"},"score":1,"creation_date":1455631595,"post_id":5342096,"comment_id":58567430,"body_markdown":"Adding one to the count is actually incorrect. `wc -l` counts the number of newline chars in the file. This works since every line is terminated with a newline, including the final line in a file. Every line has a newline character, including the empty lines, hence that the number of newline chars == number of lines in a file. Now, the `lineNumber` variable in `FileNumberReader` also represents the number of newline chars seen.  It starts at zero, before any newline has been found, and is increased with every newline char seen. So don&#39;t add one to the line number please.","body":"Adding one to the count is actually incorrect. <code>wc -l</code> counts the number of newline chars in the file. This works since every line is terminated with a newline, including the final line in a file. Every line has a newline character, including the empty lines, hence that the number of newline chars == number of lines in a file. Now, the <code>lineNumber</code> variable in <code>FileNumberReader</code> also represents the number of newline chars seen.  It starts at zero, before any newline has been found, and is increased with every newline char seen. So don&#39;t add one to the line number please."},{"owner":{"account_id":30670,"reputation":18662,"user_id":83741,"accept_rate":67,"display_name":"Alexander Torstling"},"score":1,"creation_date":1455631814,"post_id":5342096,"comment_id":58567599,"body_markdown":"@PB_MLT: Although you are right that a file with a single line without newline would be reported as 0 lines, this is how `wc -l` also reports this kind of file. Also see http://stackoverflow.com/questions/729692/why-should-text-files-end-with-a-newline","body":"@PB_MLT: Although you are right that a file with a single line without newline would be reported as 0 lines, this is how <code>wc -l</code> also reports this kind of file. Also see <a href=\"http://stackoverflow.com/questions/729692/why-should-text-files-end-with-a-newline\" title=\"why should text files end with a newline\">stackoverflow.com/questions/729692/&hellip;</a>"},{"owner":{"account_id":30670,"reputation":18662,"user_id":83741,"accept_rate":67,"display_name":"Alexander Torstling"},"score":0,"creation_date":1455634203,"post_id":5342096,"comment_id":58569307,"body_markdown":"@PB_MLT: You get the opposite problem if the file consists solely of a newline. Your suggested algo would return 0 and `wc -l` would return 1. I concluded that all methods have flaws, and implemented one based on how I would like it to behave, see my other answer here.","body":"@PB_MLT: You get the opposite problem if the file consists solely of a newline. Your suggested algo would return 0 and <code>wc -l</code> would return 1. I concluded that all methods have flaws, and implemented one based on how I would like it to behave, see my other answer here."},{"owner":{"account_id":1522148,"reputation":597,"user_id":1421518,"accept_rate":100,"display_name":"amstegraf"},"score":3,"creation_date":1485975686,"post_id":5342096,"comment_id":71152738,"body_markdown":"I&#39;ve down voted this response, because it seems none of you have benchmarked it","body":"I&#39;ve down voted this response, because it seems none of you have benchmarked it"}],"tags":[],"owner":{"account_id":336829,"reputation":2151,"user_id":664710,"display_name":"er.vikas"},"comment_count":5,"down_vote_count":5,"up_vote_count":206,"is_accepted":false,"score":201,"last_activity_date":1509992473,"creation_date":1300379297,"answer_id":5342096,"question_id":453018,"body_markdown":"I have implemented another solution to the problem, I found it more efficient in counting rows:\r\n\r\n    try\r\n    (\r\n       FileReader       input = new FileReader(&quot;input.txt&quot;);\r\n       LineNumberReader count = new LineNumberReader(input);\r\n    )\r\n    {\r\n       while (count.skip(Long.MAX_VALUE) &gt; 0)\r\n       {\r\n          // Loop just in case the file is &gt; Long.MAX_VALUE or skip() decides to not read the entire file\r\n       }\r\n     \r\n       result = count.getLineNumber() + 1;                                    // +1 because line index starts at 0\r\n    }\r\n","title":"Number of lines in a file in Java","body":"<p>I have implemented another solution to the problem, I found it more efficient in counting rows:</p>\n\n<pre><code>try\n(\n   FileReader       input = new FileReader(\"input.txt\");\n   LineNumberReader count = new LineNumberReader(input);\n)\n{\n   while (count.skip(Long.MAX_VALUE) &gt; 0)\n   {\n      // Loop just in case the file is &gt; Long.MAX_VALUE or skip() decides to not read the entire file\n   }\n\n   result = count.getLineNumber() + 1;                                    // +1 because line index starts at 0\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328530,"reputation":12953,"user_id":651536,"accept_rate":90,"display_name":"Nathan Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1348259277,"creation_date":1348259277,"answer_id":12537734,"question_id":453018,"body_markdown":"I know this is an old question, but the accepted solution didn&#39;t quite match what I needed it to do. So, I refined it to accept various line terminators (rather than just line feed) and to use a specified character encoding (rather than ISO-8859-&lt;i&gt;n&lt;/i&gt;). All in one method (refactor as appropriate):\r\n\r\n\r\n\tpublic static long getLinesCount(String fileName, String encodingName) throws IOException {\r\n\t\tlong linesCount = 0;\r\n\t\tFile file = new File(fileName);\r\n\t\tFileInputStream fileIn = new FileInputStream(file);\r\n\t\ttry {\r\n\t\t\tCharset encoding = Charset.forName(encodingName);\r\n\t\t\tReader fileReader = new InputStreamReader(fileIn, encoding);\r\n\t\t\tint bufferSize = 4096;\r\n\t\t\tReader reader = new BufferedReader(fileReader, bufferSize);\r\n\t\t\tchar[] buffer = new char[bufferSize];\r\n\t\t\tint prevChar = -1;\r\n\t\t\tint readCount = reader.read(buffer);\r\n\t\t\twhile (readCount != -1) {\r\n\t\t\t\tfor (int i = 0; i &lt; readCount; i++) {\r\n\t\t\t\t\tint nextChar = buffer[i];\r\n\t\t\t\t\tswitch (nextChar) {\r\n\t\t\t\t\t\tcase &#39;\\r&#39;: {\r\n\t\t\t\t\t\t\t// The current line is terminated by a carriage return or by a carriage return immediately followed by a line feed.\r\n\t\t\t\t\t\t\tlinesCount++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcase &#39;\\n&#39;: {\r\n\t\t\t\t\t\t\tif (prevChar == &#39;\\r&#39;) {\r\n\t\t\t\t\t\t\t\t// The current line is terminated by a carriage return immediately followed by a line feed.\r\n\t\t\t\t\t\t\t\t// The line has already been counted.\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// The current line is terminated by a line feed.\r\n\t\t\t\t\t\t\t\tlinesCount++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tprevChar = nextChar;\r\n\t\t\t\t}\r\n\t\t\t\treadCount = reader.read(buffer);\r\n\t\t\t}\r\n\t\t\tif (prevCh != -1) {\r\n\t\t\t\tswitch (prevCh) {\r\n\t\t\t\t\tcase &#39;\\r&#39;:\r\n\t\t\t\t\tcase &#39;\\n&#39;: {\r\n\t\t\t\t\t\t// The last line is terminated by a line terminator.\r\n\t\t\t\t\t\t// The last line has already been counted.\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t// The last line is terminated by end-of-file.\r\n\t\t\t\t\t\tlinesCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tfileIn.close();\r\n\t\t}\r\n\t\treturn linesCount;\r\n\t}\r\n\r\nThis solution is comparable in speed to the accepted solution, about 4% slower in my tests (though timing tests in Java are notoriously unreliable).","title":"Number of lines in a file in Java","body":"<p>I know this is an old question, but the accepted solution didn't quite match what I needed it to do. So, I refined it to accept various line terminators (rather than just line feed) and to use a specified character encoding (rather than ISO-8859-<i>n</i>). All in one method (refactor as appropriate):</p>\n\n<pre><code>public static long getLinesCount(String fileName, String encodingName) throws IOException {\n    long linesCount = 0;\n    File file = new File(fileName);\n    FileInputStream fileIn = new FileInputStream(file);\n    try {\n        Charset encoding = Charset.forName(encodingName);\n        Reader fileReader = new InputStreamReader(fileIn, encoding);\n        int bufferSize = 4096;\n        Reader reader = new BufferedReader(fileReader, bufferSize);\n        char[] buffer = new char[bufferSize];\n        int prevChar = -1;\n        int readCount = reader.read(buffer);\n        while (readCount != -1) {\n            for (int i = 0; i &lt; readCount; i++) {\n                int nextChar = buffer[i];\n                switch (nextChar) {\n                    case '\\r': {\n                        // The current line is terminated by a carriage return or by a carriage return immediately followed by a line feed.\n                        linesCount++;\n                        break;\n                    }\n                    case '\\n': {\n                        if (prevChar == '\\r') {\n                            // The current line is terminated by a carriage return immediately followed by a line feed.\n                            // The line has already been counted.\n                        } else {\n                            // The current line is terminated by a line feed.\n                            linesCount++;\n                        }\n                        break;\n                    }\n                }\n                prevChar = nextChar;\n            }\n            readCount = reader.read(buffer);\n        }\n        if (prevCh != -1) {\n            switch (prevCh) {\n                case '\\r':\n                case '\\n': {\n                    // The last line is terminated by a line terminator.\n                    // The last line has already been counted.\n                    break;\n                }\n                default: {\n                    // The last line is terminated by end-of-file.\n                    linesCount++;\n                }\n            }\n        }\n    } finally {\n        fileIn.close();\n    }\n    return linesCount;\n}\n</code></pre>\n\n<p>This solution is comparable in speed to the accepted solution, about 4% slower in my tests (though timing tests in Java are notoriously unreliable).</p>\n"},{"comments":[{"owner":{"account_id":453694,"reputation":729,"user_id":850830,"accept_rate":78,"display_name":"Ryan"},"score":6,"creation_date":1386797616,"post_id":14411695,"comment_id":30697060,"body_markdown":"Good catch.  Not sure why you didn&#39;t just edit the accepted answer and make a note in a comment though.  Most people won&#39;t read down this far.","body":"Good catch.  Not sure why you didn&#39;t just edit the accepted answer and make a note in a comment though.  Most people won&#39;t read down this far."},{"owner":{"account_id":422744,"reputation":8993,"user_id":801698,"accept_rate":91,"display_name":"DMulligan"},"score":0,"creation_date":1386830837,"post_id":14411695,"comment_id":30708467,"body_markdown":"@Ryan , it just didn&#39;t feel right to edit a 4 year old accepted answer with 90+ upvotes.","body":"@Ryan , it just didn&#39;t feel right to edit a 4 year old accepted answer with 90+ upvotes."},{"owner":{"account_id":105404,"reputation":6333,"user_id":281306,"accept_rate":94,"display_name":"Sebastian"},"score":0,"creation_date":1390812538,"post_id":14411695,"comment_id":32237004,"body_markdown":"@AFinkelstein, I feel that is what makes this site so great, that you *can* edit the top voted answer.","body":"@AFinkelstein, I feel that is what makes this site so great, that you <i>can</i> edit the top voted answer."},{"owner":{"account_id":81163,"reputation":5137,"user_id":229031,"display_name":"Simon Brandhof"},"score":4,"creation_date":1391607397,"post_id":14411695,"comment_id":32595793,"body_markdown":"This solution does not handle carriage return (\\r) and carriage return followed by a linefeed (\\r\\n)","body":"This solution does not handle carriage return (\\r) and carriage return followed by a linefeed (\\r\\n)"},{"owner":{"account_id":2617541,"reputation":688,"user_id":2266298,"accept_rate":100,"display_name":"nckbrz"},"score":1,"creation_date":1396928798,"post_id":14411695,"comment_id":34997565,"body_markdown":"@Simon Brandhof, I&#39;m confused on why a carriage return would be counted as another line?  A &quot;\\n&quot; is a Carriage return line feed, so whoever writes &quot;\\r\\n&quot; is not understanding something... Plus he is searching char by char, so I&#39;m pretty sure if someone were to use &quot;\\r\\n&quot; it would still catch the &quot;\\n&quot; and count the line. Either way  I think he made the point just fine. However, their are many scenarios where this is not a sufficient way to get a line count.","body":"@Simon Brandhof, I&#39;m confused on why a carriage return would be counted as another line?  A &quot;\\n&quot; is a Carriage return line feed, so whoever writes &quot;\\r\\n&quot; is not understanding something... Plus he is searching char by char, so I&#39;m pretty sure if someone were to use &quot;\\r\\n&quot; it would still catch the &quot;\\n&quot; and count the line. Either way  I think he made the point just fine. However, their are many scenarios where this is not a sufficient way to get a line count."}],"tags":[],"owner":{"account_id":422744,"reputation":8993,"user_id":801698,"accept_rate":91,"display_name":"DMulligan"},"comment_count":5,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1358575886,"creation_date":1358575886,"answer_id":14411695,"question_id":453018,"body_markdown":"The accepted answer has an off by one error for multi line files which don&#39;t end in newline. A one line file ending without a newline would return 1, but a two line file ending without a newline would return 1 too. Here&#39;s an implementation of the accepted solution which fixes this. The endsWithoutNewLine checks are wasteful for everything but the final read, but should be trivial time wise compared to the overall function.\r\n\r\n    public int count(String filename) throws IOException {\r\n        InputStream is = new BufferedInputStream(new FileInputStream(filename));\r\n        try {\r\n            byte[] c = new byte[1024];\r\n            int count = 0;\r\n            int readChars = 0;\r\n            boolean endsWithoutNewLine = false;\r\n            while ((readChars = is.read(c)) != -1) {\r\n                for (int i = 0; i &lt; readChars; ++i) {\r\n                    if (c[i] == &#39;\\n&#39;)\r\n                        ++count;\r\n                }\r\n                endsWithoutNewLine = (c[readChars - 1] != &#39;\\n&#39;);\r\n            }\r\n            if(endsWithoutNewLine) {\r\n                ++count;\r\n            } \r\n            return count;\r\n        } finally {\r\n            is.close();\r\n        }\r\n    }","title":"Number of lines in a file in Java","body":"<p>The accepted answer has an off by one error for multi line files which don't end in newline. A one line file ending without a newline would return 1, but a two line file ending without a newline would return 1 too. Here's an implementation of the accepted solution which fixes this. The endsWithoutNewLine checks are wasteful for everything but the final read, but should be trivial time wise compared to the overall function.</p>\n\n<pre><code>public int count(String filename) throws IOException {\n    InputStream is = new BufferedInputStream(new FileInputStream(filename));\n    try {\n        byte[] c = new byte[1024];\n        int count = 0;\n        int readChars = 0;\n        boolean endsWithoutNewLine = false;\n        while ((readChars = is.read(c)) != -1) {\n            for (int i = 0; i &lt; readChars; ++i) {\n                if (c[i] == '\\n')\n                    ++count;\n            }\n            endsWithoutNewLine = (c[readChars - 1] != '\\n');\n        }\n        if(endsWithoutNewLine) {\n            ++count;\n        } \n        return count;\n    } finally {\n        is.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1322591,"reputation":89,"user_id":1268063,"accept_rate":33,"display_name":"Sunil Shevante"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364562996,"creation_date":1364562996,"answer_id":15704031,"question_id":453018,"body_markdown":"How about using the Process class from within Java code? And then reading the output of the command.\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;wc -l &quot; + yourfilename);\r\n    p.waitFor();\r\n\r\n    BufferedReader b = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    String line = &quot;&quot;;\r\n    int lineCount = 0;\r\n    while ((line = b.readLine()) != null) {\r\n        System.out.println(line);\r\n        lineCount = Integer.parseInt(line);\r\n    }\r\n\r\nNeed to try it though. Will post the results.\r\n","title":"Number of lines in a file in Java","body":"<p>How about using the Process class from within Java code? And then reading the output of the command.</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"wc -l \" + yourfilename);\np.waitFor();\n\nBufferedReader b = new BufferedReader(new InputStreamReader(p.getInputStream()));\nString line = \"\";\nint lineCount = 0;\nwhile ((line = b.readLine()) != null) {\n    System.out.println(line);\n    lineCount = Integer.parseInt(line);\n}\n</code></pre>\n\n<p>Need to try it though. Will post the results.</p>\n"},{"comments":[{"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"score":3,"creation_date":1424472955,"post_id":17866694,"comment_id":45578549,"body_markdown":"Code has errors. Simple, but very slow... Try to look at my answer below (above).","body":"Code has errors. Simple, but very slow... Try to look at my answer below (above)."}],"tags":[],"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1472008700,"creation_date":1374779274,"answer_id":17866694,"question_id":453018,"body_markdown":"With [tag:java-8], you can use streams:\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines(path, Charset.defaultCharset())) {\r\n      long numOfLines = lines.count();\r\n      ...\r\n    }","title":"Number of lines in a file in Java","body":"<p>With <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a>, you can use streams:</p>\n\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(path, Charset.defaultCharset())) {\n  long numOfLines = lines.count();\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4332187,"reputation":899,"user_id":3593537,"accept_rate":86,"display_name":"Terry Bu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410666555,"creation_date":1410666555,"answer_id":25829891,"question_id":453018,"body_markdown":"A straight-forward way using Scanner\r\n\r\n    static void lineCounter (String path) throws IOException {\r\n    \t\t\r\n    \t\tint lineCount = 0, commentsCount = 0;\r\n    \t\t\r\n    \t\tScanner input = new Scanner(new File(path));\r\n    \t\twhile (input.hasNextLine()) {\r\n    \t\t\tString data = input.nextLine();\r\n    \t\t\t\r\n    \t\t\tif (data.startsWith(&quot;//&quot;)) commentsCount++;\r\n    \t\t\t\r\n    \t\t\tlineCount++;\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Line Count: &quot; + lineCount + &quot;\\t Comments Count: &quot; + commentsCount);\r\n    \t}","title":"Number of lines in a file in Java","body":"<p>A straight-forward way using Scanner</p>\n\n<pre><code>static void lineCounter (String path) throws IOException {\n\n        int lineCount = 0, commentsCount = 0;\n\n        Scanner input = new Scanner(new File(path));\n        while (input.hasNextLine()) {\n            String data = input.nextLine();\n\n            if (data.startsWith(\"//\")) commentsCount++;\n\n            lineCount++;\n        }\n\n        System.out.println(\"Line Count: \" + lineCount + \"\\t Comments Count: \" + commentsCount);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5214743,"reputation":4743,"user_id":4170073,"display_name":"aw-think"},"score":0,"creation_date":1425041963,"post_id":28639152,"comment_id":45810171,"body_markdown":"This isn&#39;t correct. Made some experiments with your code and the method is always slower. `Stream&lt;String&gt; - Time consumed: 122796351\nStream&lt;String&gt; - Num lines: 109808\nMethod - Time consumed: 12838000\nMethod - Num lines: 1` And the number of lines is even wrong too","body":"This isn&#39;t correct. Made some experiments with your code and the method is always slower. <code>Stream&lt;String&gt; - Time consumed: 122796351 Stream&lt;String&gt; - Num lines: 109808 Method - Time consumed: 12838000 Method - Num lines: 1</code> And the number of lines is even wrong too"},{"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"score":0,"creation_date":1425042060,"post_id":28639152,"comment_id":45810250,"body_markdown":"I tested on 32-bit machine. Maybe on 64-bit would be different results.. And it was the difference 10 times or more as I remember. Could you post the text to count line somewhere? You can use Notepad2 to see line breaks for convenience.","body":"I tested on 32-bit machine. Maybe on 64-bit would be different results.. And it was the difference 10 times or more as I remember. Could you post the text to count line somewhere? You can use Notepad2 to see line breaks for convenience."},{"owner":{"account_id":5214743,"reputation":4743,"user_id":4170073,"display_name":"aw-think"},"score":0,"creation_date":1425042141,"post_id":28639152,"comment_id":45810300,"body_markdown":"That could be the difference.","body":"That could be the difference."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1479149894,"post_id":28639152,"comment_id":68427257,"body_markdown":"If you care about performance, you should not use a `BufferedInputStream` when you are going to read into your own buffer anyway. Besides, even if your method might have a slight performance advantage, it looses flexibility, as it doesn’t support sole `\\r` line terminators (old MacOS) anymore and doesn’t support every encoding.","body":"If you care about performance, you should not use a <code>BufferedInputStream</code> when you are going to read into your own buffer anyway. Besides, even if your method might have a slight performance advantage, it looses flexibility, as it doesn’t support sole <code>\\r</code> line terminators (old MacOS) anymore and doesn’t support every encoding."}],"tags":[],"owner":{"account_id":2417303,"reputation":8587,"user_id":2111085,"accept_rate":64,"display_name":"Ernestas Gruodis"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424473224,"creation_date":1424470417,"answer_id":28639152,"question_id":453018,"body_markdown":"    /**\r\n     * Count file rows.\r\n     *\r\n     * @param file file\r\n     * @return file row count\r\n     * @throws IOException\r\n     */\r\n    public static long getLineCount(File file) throws IOException {\r\n\r\n        try (Stream&lt;String&gt; lines = Files.lines(file.toPath())) {\r\n            return lines.count();\r\n        }\r\n    }\r\n\r\nTested on JDK8_u31. But indeed performance is slow compared to this method:\r\n\r\n    /**\r\n     * Count file rows.\r\n     *\r\n     * @param file file\r\n     * @return file row count\r\n     * @throws IOException\r\n     */\r\n    public static long getLineCount(File file) throws IOException {\r\n\r\n        try (BufferedInputStream is = new BufferedInputStream(new FileInputStream(file), 1024)) {\r\n\r\n            byte[] c = new byte[1024];\r\n            boolean empty = true,\r\n                    lastEmpty = false;\r\n            long count = 0;\r\n            int read;\r\n            while ((read = is.read(c)) != -1) {\r\n                for (int i = 0; i &lt; read; i++) {\r\n                    if (c[i] == &#39;\\n&#39;) {\r\n                        count++;\r\n                        lastEmpty = true;\r\n                    } else if (lastEmpty) {\r\n                        lastEmpty = false;\r\n                    }\r\n                }\r\n                empty = false;\r\n            }\r\n\r\n            if (!empty) {\r\n                if (count == 0) {\r\n                    count = 1;\r\n                } else if (!lastEmpty) {\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            return count;\r\n        }\r\n    }\r\n\r\nTested and very fast.","title":"Number of lines in a file in Java","body":"<pre><code>/**\n * Count file rows.\n *\n * @param file file\n * @return file row count\n * @throws IOException\n */\npublic static long getLineCount(File file) throws IOException {\n\n    try (Stream&lt;String&gt; lines = Files.lines(file.toPath())) {\n        return lines.count();\n    }\n}\n</code></pre>\n\n<p>Tested on JDK8_u31. But indeed performance is slow compared to this method:</p>\n\n<pre><code>/**\n * Count file rows.\n *\n * @param file file\n * @return file row count\n * @throws IOException\n */\npublic static long getLineCount(File file) throws IOException {\n\n    try (BufferedInputStream is = new BufferedInputStream(new FileInputStream(file), 1024)) {\n\n        byte[] c = new byte[1024];\n        boolean empty = true,\n                lastEmpty = false;\n        long count = 0;\n        int read;\n        while ((read = is.read(c)) != -1) {\n            for (int i = 0; i &lt; read; i++) {\n                if (c[i] == '\\n') {\n                    count++;\n                    lastEmpty = true;\n                } else if (lastEmpty) {\n                    lastEmpty = false;\n                }\n            }\n            empty = false;\n        }\n\n        if (!empty) {\n            if (count == 0) {\n                count = 1;\n            } else if (!lastEmpty) {\n                count++;\n            }\n        }\n\n        return count;\n    }\n}\n</code></pre>\n\n<p>Tested and very fast.</p>\n"},{"tags":[],"owner":{"account_id":30670,"reputation":18662,"user_id":83741,"accept_rate":67,"display_name":"Alexander Torstling"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455636264,"creation_date":1455634526,"answer_id":35435739,"question_id":453018,"body_markdown":"I concluded that `wc -l`:s method of counting newlines is fine but returns non-intuitive results on files where the last line doesn&#39;t end with a newline. \r\n\r\nAnd @er.vikas solution based on LineNumberReader but adding one to the line count returned non-intuitive results on files where the last line does end with newline. \r\n\r\nI therefore made an algo which handles as follows:\r\n\r\n    @Test\r\n    public void empty() throws IOException {\r\n        assertEquals(0, count(&quot;&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void singleNewline() throws IOException {\r\n        assertEquals(1, count(&quot;\\n&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void dataWithoutNewline() throws IOException {\r\n        assertEquals(1, count(&quot;one&quot;));\r\n    }\r\n    \r\n    @Test\r\n    public void oneCompleteLine() throws IOException {\r\n        assertEquals(1, count(&quot;one\\n&quot;));\r\n    }\r\n    \r\n    @Test\r\n    public void twoCompleteLines() throws IOException {\r\n        assertEquals(2, count(&quot;one\\ntwo\\n&quot;));\r\n    }\r\n\r\n    @Test\r\n    public void twoLinesWithoutNewlineAtEnd() throws IOException {\r\n        assertEquals(2, count(&quot;one\\ntwo&quot;));\r\n    }\r\n    \r\n    @Test\r\n    public void aFewLines() throws IOException {\r\n        assertEquals(5, count(&quot;one\\ntwo\\nthree\\nfour\\nfive\\n&quot;));\r\n    }\r\n\r\nAnd it looks like this:\r\n\r\n    static long countLines(InputStream is) throws IOException {\r\n        try(LineNumberReader lnr = new LineNumberReader(new InputStreamReader(is))) {\r\n            char[] buf = new char[8192];\r\n            int n, previousN = -1;\r\n            //Read will return at least one byte, no need to buffer more\r\n            while((n = lnr.read(buf)) != -1) {\r\n                previousN = n;\r\n            }\r\n            int ln = lnr.getLineNumber();\r\n            if (previousN == -1) {\r\n                //No data read at all, i.e file was empty\r\n                return 0;\r\n            } else {\r\n                char lastChar = buf[previousN - 1];\r\n                if (lastChar == &#39;\\n&#39; || lastChar == &#39;\\r&#39;) {\r\n                    //Ending with newline, deduct one\r\n                    return ln;\r\n                }\r\n            }\r\n            //normal case, return line number + 1\r\n            return ln + 1;\r\n        }\r\n    }\r\n\r\nIf you want intuitive results, you may use this. If you just want `wc -l` compatibility, simple use @er.vikas solution, but don&#39;t add one to the result and retry the skip:\r\n\r\n    try(LineNumberReader lnr = new LineNumberReader(new FileReader(new File(&quot;File1&quot;)))) {\r\n        while(lnr.skip(Long.MAX_VALUE) &gt; 0){};\r\n        return lnr.getLineNumber();\r\n    }","title":"Number of lines in a file in Java","body":"<p>I concluded that <code>wc -l</code>:s method of counting newlines is fine but returns non-intuitive results on files where the last line doesn't end with a newline. </p>\n\n<p>And @er.vikas solution based on LineNumberReader but adding one to the line count returned non-intuitive results on files where the last line does end with newline. </p>\n\n<p>I therefore made an algo which handles as follows:</p>\n\n<pre><code>@Test\npublic void empty() throws IOException {\n    assertEquals(0, count(\"\"));\n}\n\n@Test\npublic void singleNewline() throws IOException {\n    assertEquals(1, count(\"\\n\"));\n}\n\n@Test\npublic void dataWithoutNewline() throws IOException {\n    assertEquals(1, count(\"one\"));\n}\n\n@Test\npublic void oneCompleteLine() throws IOException {\n    assertEquals(1, count(\"one\\n\"));\n}\n\n@Test\npublic void twoCompleteLines() throws IOException {\n    assertEquals(2, count(\"one\\ntwo\\n\"));\n}\n\n@Test\npublic void twoLinesWithoutNewlineAtEnd() throws IOException {\n    assertEquals(2, count(\"one\\ntwo\"));\n}\n\n@Test\npublic void aFewLines() throws IOException {\n    assertEquals(5, count(\"one\\ntwo\\nthree\\nfour\\nfive\\n\"));\n}\n</code></pre>\n\n<p>And it looks like this:</p>\n\n<pre><code>static long countLines(InputStream is) throws IOException {\n    try(LineNumberReader lnr = new LineNumberReader(new InputStreamReader(is))) {\n        char[] buf = new char[8192];\n        int n, previousN = -1;\n        //Read will return at least one byte, no need to buffer more\n        while((n = lnr.read(buf)) != -1) {\n            previousN = n;\n        }\n        int ln = lnr.getLineNumber();\n        if (previousN == -1) {\n            //No data read at all, i.e file was empty\n            return 0;\n        } else {\n            char lastChar = buf[previousN - 1];\n            if (lastChar == '\\n' || lastChar == '\\r') {\n                //Ending with newline, deduct one\n                return ln;\n            }\n        }\n        //normal case, return line number + 1\n        return ln + 1;\n    }\n}\n</code></pre>\n\n<p>If you want intuitive results, you may use this. If you just want <code>wc -l</code> compatibility, simple use @er.vikas solution, but don't add one to the result and retry the skip:</p>\n\n<pre><code>try(LineNumberReader lnr = new LineNumberReader(new FileReader(new File(\"File1\")))) {\n    while(lnr.skip(Long.MAX_VALUE) &gt; 0){};\n    return lnr.getLineNumber();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472573629,"creation_date":1472573629,"answer_id":39232425,"question_id":453018,"body_markdown":"This funny solution works really good actually!\r\n\r\n    public static int countLines(File input) throws IOException {\r\n        try (InputStream is = new FileInputStream(input)) {\r\n            int count = 1;\r\n            for (int aChar = 0; aChar != -1;aChar = is.read())\r\n                count += aChar == &#39;\\n&#39; ? 1 : 0;\r\n            return count;\r\n        }\r\n    }","title":"Number of lines in a file in Java","body":"<p>This funny solution works really good actually!</p>\n\n<pre><code>public static int countLines(File input) throws IOException {\n    try (InputStream is = new FileInputStream(input)) {\n        int count = 1;\n        for (int aChar = 0; aChar != -1;aChar = is.read())\n            count += aChar == '\\n' ? 1 : 0;\n        return count;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8400332,"reputation":81,"user_id":6305788,"display_name":"Pramod Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507623616,"creation_date":1507623616,"answer_id":46661831,"question_id":453018,"body_markdown":"\r\nBest Optimized code for multi line files having no newline(&#39;\\n&#39;) character at EOF.\r\n\r\n    /**\r\n     * \r\n     * @param filename\r\n     * @return\r\n     * @throws IOException\r\n     */\r\n    public static int countLines(String filename) throws IOException {\r\n\t\tint count = 0;\r\n\t\tboolean empty = true;\r\n\t\tFileInputStream fis = null;\r\n\t\tInputStream is = null;\r\n\t\ttry {\r\n\t\t    fis = new FileInputStream(filename);\r\n\t        is = new BufferedInputStream(fis);\r\n\t\t\tbyte[] c = new byte[1024];\r\n\t\t\tint readChars = 0;\r\n\t\t\tboolean isLine = false;\r\n\t\t\twhile ((readChars = is.read(c)) != -1) {\r\n\t\t\t\tempty = false;\r\n\t\t\t\tfor (int i = 0; i &lt; readChars; ++i) {\r\n\t\t\t\t\tif ( c[i] == &#39;\\n&#39; ) {\r\n\t\t\t\t\t    isLine = false;\r\n\t\t\t\t\t    ++count;\r\n\t\t\t\t\t}else if(!isLine &amp;&amp; c[i] != &#39;\\n&#39; &amp;&amp; c[i] != &#39;\\r&#39;){   //Case to handle line count where no New Line character present at EOF\r\n\t\t\t\t\t    isLine = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(isLine){\r\n\t\t\t    ++count;\r\n\t\t\t}\r\n\t\t}catch(IOException e){\r\n\t\t    e.printStackTrace();\r\n\t\t}finally {\r\n\t\t\tif(is != null){\r\n\t\t\t    is.close();    \r\n\t\t\t}\r\n\t\t\tif(fis != null){\r\n                fis.close();    \r\n            }\r\n\t\t}\r\n\t\tLOG.info(&quot;count: &quot;+count);\r\n\t\treturn (count == 0 &amp;&amp; !empty) ? 1 : count;\r\n\t}\r\n","title":"Number of lines in a file in Java","body":"<p>Best Optimized code for multi line files having no newline('\\n') character at EOF.</p>\n\n<pre><code>/**\n * \n * @param filename\n * @return\n * @throws IOException\n */\npublic static int countLines(String filename) throws IOException {\n    int count = 0;\n    boolean empty = true;\n    FileInputStream fis = null;\n    InputStream is = null;\n    try {\n        fis = new FileInputStream(filename);\n        is = new BufferedInputStream(fis);\n        byte[] c = new byte[1024];\n        int readChars = 0;\n        boolean isLine = false;\n        while ((readChars = is.read(c)) != -1) {\n            empty = false;\n            for (int i = 0; i &lt; readChars; ++i) {\n                if ( c[i] == '\\n' ) {\n                    isLine = false;\n                    ++count;\n                }else if(!isLine &amp;&amp; c[i] != '\\n' &amp;&amp; c[i] != '\\r'){   //Case to handle line count where no New Line character present at EOF\n                    isLine = true;\n                }\n            }\n        }\n        if(isLine){\n            ++count;\n        }\n    }catch(IOException e){\n        e.printStackTrace();\n    }finally {\n        if(is != null){\n            is.close();    \n        }\n        if(fis != null){\n            fis.close();    \n        }\n    }\n    LOG.info(\"count: \"+count);\n    return (count == 0 &amp;&amp; !empty) ? 1 : count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8061851,"reputation":425,"user_id":6077161,"display_name":"Anshul"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1588881880,"creation_date":1542625077,"answer_id":53373144,"question_id":453018,"body_markdown":"I tested the above methods for counting lines and here are my observations for Different methods as tested on my system\r\n\r\nFile Size : 1.6 Gb\r\nMethods:\r\n\r\n 1. **Using Scanner** : 35s approx\r\n 2. **Using BufferedReader** : 5s approx\r\n 3. **Using Java 8** : 5s approx\r\n 4. **Using LineNumberReader** : 5s approx\r\n\r\nMoreover **Java8** Approach seems quite handy : \r\n\r\n    Files.lines(Paths.get(filePath), Charset.defaultCharset()).count()\r\n    [Return type : long]\r\n\r\n","title":"Number of lines in a file in Java","body":"<p>I tested the above methods for counting lines and here are my observations for Different methods as tested on my system</p>\n\n<p>File Size : 1.6 Gb\nMethods:</p>\n\n<ol>\n<li><strong>Using Scanner</strong> : 35s approx</li>\n<li><strong>Using BufferedReader</strong> : 5s approx</li>\n<li><strong>Using Java 8</strong> : 5s approx</li>\n<li><strong>Using LineNumberReader</strong> : 5s approx</li>\n</ol>\n\n<p>Moreover <strong>Java8</strong> Approach seems quite handy : </p>\n\n<pre><code>Files.lines(Paths.get(filePath), Charset.defaultCharset()).count()\n[Return type : long]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2091389,"reputation":790,"user_id":1914293,"accept_rate":83,"display_name":"user176692"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551203747,"creation_date":1551203747,"answer_id":54891455,"question_id":453018,"body_markdown":"Scanner with regex:\r\n\r\n    public int getLineCount() {\r\n\t\tScanner fileScanner = null;\r\n\t\tint lineCount = 0;\r\n\t\tPattern lineEndPattern = Pattern.compile(&quot;(?m)$&quot;);\t\r\n\t\ttry {\r\n\t\t\tfileScanner = new Scanner(new File(filename)).useDelimiter(lineEndPattern);\r\n\t\t\twhile (fileScanner.hasNext()) {\r\n\t\t\t\tfileScanner.next();\r\n\t\t\t\t++lineCount;\r\n\t\t\t}\t\r\n\t\t}catch(FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn lineCount;\r\n\t\t}\r\n\t\tfileScanner.close();\r\n\t\treturn lineCount;\r\n\t}\r\n\r\nHaven&#39;t clocked it.","title":"Number of lines in a file in Java","body":"<p>Scanner with regex:</p>\n\n<pre><code>public int getLineCount() {\n    Scanner fileScanner = null;\n    int lineCount = 0;\n    Pattern lineEndPattern = Pattern.compile(\"(?m)$\");  \n    try {\n        fileScanner = new Scanner(new File(filename)).useDelimiter(lineEndPattern);\n        while (fileScanner.hasNext()) {\n            fileScanner.next();\n            ++lineCount;\n        }   \n    }catch(FileNotFoundException e) {\n        e.printStackTrace();\n        return lineCount;\n    }\n    fileScanner.close();\n    return lineCount;\n}\n</code></pre>\n\n<p>Haven't clocked it.</p>\n"},{"tags":[],"owner":{"account_id":2068418,"reputation":337,"user_id":1843452,"accept_rate":82,"display_name":"Conor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596114608,"creation_date":1596113741,"answer_id":63173649,"question_id":453018,"body_markdown":"It seems that there are a few different approaches you can take with LineNumberReader.\r\n\r\nI did this:\r\n\r\n    int lines = 0;\r\n    \r\n    FileReader input = new FileReader(fileLocation);\r\n    LineNumberReader count = new LineNumberReader(input);\r\n    \r\n    String line = count.readLine();\r\n    \r\n    if(count.ready())\r\n    {\r\n    \twhile(line != null) {\r\n    \t\tlines = count.getLineNumber();\r\n    \t\tline = count.readLine();\r\n    \t}\r\n    \t\r\n    \tlines+=1;\r\n    }\r\n    \t\r\n    count.close();\r\n\r\n    System.out.println(lines);\r\n\r\nEven more simply, you can use the Java BufferedReader lines() Method to return a stream of the elements, and then use the Stream count() method to count all of the elements. Then simply add one to the output to get the number of rows in the text file.\r\n\r\nAs example:\r\n\r\n\tFileReader input = new FileReader(fileLocation);\r\n\tLineNumberReader count = new LineNumberReader(input);\r\n\r\n\tint lines = (int)count.lines().count() + 1;\r\n\t\t\r\n\tcount.close();\r\n    \r\n    System.out.println(lines);","title":"Number of lines in a file in Java","body":"<p>It seems that there are a few different approaches you can take with LineNumberReader.</p>\n<p>I did this:</p>\n<pre><code>int lines = 0;\n\nFileReader input = new FileReader(fileLocation);\nLineNumberReader count = new LineNumberReader(input);\n\nString line = count.readLine();\n\nif(count.ready())\n{\n    while(line != null) {\n        lines = count.getLineNumber();\n        line = count.readLine();\n    }\n    \n    lines+=1;\n}\n    \ncount.close();\n\nSystem.out.println(lines);\n</code></pre>\n<p>Even more simply, you can use the Java BufferedReader lines() Method to return a stream of the elements, and then use the Stream count() method to count all of the elements. Then simply add one to the output to get the number of rows in the text file.</p>\n<p>As example:</p>\n<pre><code>FileReader input = new FileReader(fileLocation);\nLineNumberReader count = new LineNumberReader(input);\n\nint lines = (int)count.lines().count() + 1;\n    \ncount.close();\n\nSystem.out.println(lines);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699529989,"creation_date":1699450881,"answer_id":77446046,"question_id":453018,"body_markdown":"`CSVParser` has a `getRecords` method which returns an ArrayList so all I did was:\r\n```\r\nBufferedReader csvReader = new BufferedReader(new FileReader(path.toString()));\r\nCSVParser csvParser = new CSVParser(csvReader, CSVFormat.DEFAULT);\r\nint numberOfLines = csvParser.getRecords().size();\r\n```\r\nThe file consisted of 1 column which contained 10 digit random numbers and had 144 rows and no header.&lt;br&gt;\r\nThe correct number was returned.&lt;br&gt;\r\nIf there is a header row then simply `.size() - 1`&lt;br&gt;\r\nIt ignores blank lines so the answer is still correct if the data contains empty rows","title":"Number of lines in a file in Java","body":"<p><code>CSVParser</code> has a <code>getRecords</code> method which returns an ArrayList so all I did was:</p>\n<pre><code>BufferedReader csvReader = new BufferedReader(new FileReader(path.toString()));\nCSVParser csvParser = new CSVParser(csvReader, CSVFormat.DEFAULT);\nint numberOfLines = csvParser.getRecords().size();\n</code></pre>\n<p>The file consisted of 1 column which contained 10 digit random numbers and had 144 rows and no header.<br>\nThe correct number was returned.<br>\nIf there is a header row then simply <code>.size() - 1</code><br>\nIt ignores blank lines so the answer is still correct if the data contains empty rows</p>\n"}],"owner":{"account_id":22448,"reputation":10824,"user_id":55362,"accept_rate":81,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456767,"favorite_count":0,"down_vote_count":0,"up_vote_count":228,"accepted_answer_id":453067,"answer_count":20,"score":228,"last_activity_date":1699529989,"creation_date":1232182746,"question_id":453018,"body_markdown":"I use huge data files, sometimes I only need to know the number of lines in these files, usually I open them up and read them line by line until I reach the end of the file\r\n\r\nI was wondering if there is a smarter way to do that","title":"Number of lines in a file in Java","body":"<p>I use huge data files, sometimes I only need to know the number of lines in these files, usually I open them up and read them line by line until I reach the end of the file</p>\n\n<p>I was wondering if there is a smarter way to do that</p>\n"},{"tags":["java","android","qr-code","barcode","zxing"],"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1697740605,"post_id":77326205,"comment_id":136321236,"body_markdown":"I am no expert for zxing but at least in [this](https://github.com/journeyapps/zxing-android-embedded/blob/master/zxing-android-embedded/src/com/google/zxing/integration/android/IntentIntegrator.java) repo it says &quot;Use ScanOptions and ScanContract instead.&quot;.","body":"I am no expert for zxing but at least in <a href=\"https://github.com/journeyapps/zxing-android-embedded/blob/master/zxing-android-embedded/src/com/google/zxing/integration/android/IntentIntegrator.java\" rel=\"nofollow noreferrer\">this</a> repo it says &quot;Use ScanOptions and ScanContract instead.&quot;."},{"owner":{"account_id":29710770,"reputation":11,"user_id":22770512,"display_name":"Daniele Ferreira da Silva"},"score":0,"creation_date":1697803428,"post_id":77326205,"comment_id":136328946,"body_markdown":"I think I didn&#39;t search correctly in the repository haha, but it helped me a lot, and I was able to resolve this issue. Thank you very much!","body":"I think I didn&#39;t search correctly in the repository haha, but it helped me a lot, and I was able to resolve this issue. Thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":9479691,"reputation":1604,"user_id":7048025,"display_name":"Amer Alzibak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699529620,"creation_date":1699529620,"answer_id":77452819,"question_id":77326205,"body_markdown":"As they described in the deprecated class: &quot;**Use ScanOptions and ScanContract instead**&quot; like this way : \r\n\r\ninitlize the intent in onCreate():\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; scanQrResultLauncher;\r\n \r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        scanQrResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                resultData -&gt;{\r\n                    if (resultData.getResultCode() == RESULT_OK) {\r\n                        ScanIntentResult result = ScanIntentResult.parseActivityResult(resultData.getResultCode(), resultData.getData());\r\n\r\n                        //this will be qr activity result\r\n                        if (result.getContents() == null) {\r\n                            Toast.makeText(getContext(), getString(R.string.canceled), Toast.LENGTH_LONG).show();\r\n\r\n                        } else {\r\n                            String qrContents = result.getContents();\r\n                            //TODO Handle qr result here\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\nand when you want to start scanner :\r\n\r\n    \r\n\r\n\r\n    scanQrResultLauncher.launch(new ScanContract().createIntent(getContext(), new ScanOptions()));","title":"What to do now &#39;&#39;com.google.zxing.integration.android.IntentIntegrator&#39; is deprecated&#39; in Android Java&quot;","body":"<p>As they described in the deprecated class: &quot;<strong>Use ScanOptions and ScanContract instead</strong>&quot; like this way :</p>\n<p>initlize the intent in onCreate():</p>\n<pre><code>private ActivityResultLauncher&lt;Intent&gt; scanQrResultLauncher;\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    scanQrResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            resultData -&gt;{\n                if (resultData.getResultCode() == RESULT_OK) {\n                    ScanIntentResult result = ScanIntentResult.parseActivityResult(resultData.getResultCode(), resultData.getData());\n\n                    //this will be qr activity result\n                    if (result.getContents() == null) {\n                        Toast.makeText(getContext(), getString(R.string.canceled), Toast.LENGTH_LONG).show();\n\n                    } else {\n                        String qrContents = result.getContents();\n                        //TODO Handle qr result here\n                    }\n                }\n            });\n}\n</code></pre>\n<p>and when you want to start scanner :</p>\n<pre><code>scanQrResultLauncher.launch(new ScanContract().createIntent(getContext(), new ScanOptions()));\n</code></pre>\n"}],"owner":{"account_id":29710770,"reputation":11,"user_id":22770512,"display_name":"Daniele Ferreira da Silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699529620,"creation_date":1697739452,"question_id":77326205,"body_markdown":"I&#39;ve been using the &#39;com.google.zxing.integration.android.IntentIntegrator&#39; in my Android Java project like this:\r\n\r\n\r\n```java\r\nIntentIntegrator integrator = new IntentIntegrator(QrCodeActivity.this);\r\n```\r\n\r\nHow can I replace this functionality in my project now that this class is deprecated?\r\n\r\n\r\nI have been searching for a solution, but I haven&#39;t found one yet. If possible, I would like to continue using ZXing.","title":"What to do now &#39;&#39;com.google.zxing.integration.android.IntentIntegrator&#39; is deprecated&#39; in Android Java&quot;","body":"<p>I've been using the 'com.google.zxing.integration.android.IntentIntegrator' in my Android Java project like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntentIntegrator integrator = new IntentIntegrator(QrCodeActivity.this);\n</code></pre>\n<p>How can I replace this functionality in my project now that this class is deprecated?</p>\n<p>I have been searching for a solution, but I haven't found one yet. If possible, I would like to continue using ZXing.</p>\n"},{"tags":["java","fonts","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1689672933,"post_id":76710623,"comment_id":135243558,"body_markdown":"Did you use version 2.0.29 ? Or a 3.0 version?","body":"Did you use version 2.0.29 ? Or a 3.0 version?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1689673051,"post_id":76710623,"comment_id":135243583,"body_markdown":"Don&#39;t forget to close `contentStream` and call `endText()`. And to actually output some text. (Unrelated to your problem, but this is the next problem you&#39;ll get)","body":"Don&#39;t forget to close <code>contentStream</code> and call <code>endText()</code>. And to actually output some text. (Unrelated to your problem, but this is the next problem you&#39;ll get)"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1689674118,"post_id":76710623,"comment_id":135243812,"body_markdown":"And `document.getPage(1)` means you&#39;re writing to the second page, because it&#39;s 0 based.","body":"And <code>document.getPage(1)</code> means you&#39;re writing to the second page, because it&#39;s 0 based."}],"answers":[{"tags":[],"owner":{"account_id":4443390,"reputation":1068,"user_id":3617372,"accept_rate":68,"display_name":"rmin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699529349,"creation_date":1699529349,"answer_id":77452798,"question_id":76710623,"body_markdown":"Your issue might be because the static font instances were removed in pdfbox 3.\r\n\r\nI hit this issue with pdfbox 3.0.0 whilst trying to follow a tutorial for pdfbox 2.0.8.\r\n\r\nIn the [pdfbox 3 migration notes](https://pdfbox.apache.org/3.0/migration.html) I found this:\r\n\r\n&gt; The static instances of PDType1Font for the standard 14 fonts were removed as the underlying COSDictionary isn&#39;t supposed to be immutable which led to several issues.\r\n&gt;\r\n&gt; A new constructor for PDType1Font was introduced to create a standard 14 font. The new Enum Standard14Fonts.FontName is the one and only parameter and defines the name of the standard 14 font for which the instance of PDType1Font is created for. That instance isn&#39;t a singleton anymore and has to be recreated if necessary or cached by the user if suitable.\r\n\r\nTranslating to code, this is how you access fonts:\r\n\r\n```java\r\n// 2.0.8\r\nPDType1Font.TIMES_ROMAN\r\n\r\n// 3.0.0\r\nnew PDType1Font(Standard14Fonts.FontName.TIMES_ROMAN)\r\n```\r\n\r\nIn the broader context of your code sample, this would set the font for 3.0.0:\r\n\r\n```java\r\ncontentStream.setFont(new PDType1Font(Standard14Fonts.FontName.TIMES_ROMAN), 12);\r\n```\r\n\r\nand you&#39;ll need an additional import:\r\n\r\n```java\r\nimport org.apache.pdfbox.pdmodel.font.Standard14Fonts;\r\n```\r\n\r\nThis got me past my compiler issue I was able to render and save a pdf successfully.\r\n\r\nThe full 14 standard font names are all loaded [here](https://github.com/apache/pdfbox/blob/trunk/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/font/Standard14Fonts.java#L71) and there&#39;s some other mappings below.\r\n\r\nSee also the comments below your post about cleaning up resources.\r\n\r\nHope that helps. Disclaimer: I&#39;m completely new to pdfbox.","title":"TIMES_ROMAN Font not found in PDFBox Java Library","body":"<p>Your issue might be because the static font instances were removed in pdfbox 3.</p>\n<p>I hit this issue with pdfbox 3.0.0 whilst trying to follow a tutorial for pdfbox 2.0.8.</p>\n<p>In the <a href=\"https://pdfbox.apache.org/3.0/migration.html\" rel=\"nofollow noreferrer\">pdfbox 3 migration notes</a> I found this:</p>\n<blockquote>\n<p>The static instances of PDType1Font for the standard 14 fonts were removed as the underlying COSDictionary isn't supposed to be immutable which led to several issues.</p>\n<p>A new constructor for PDType1Font was introduced to create a standard 14 font. The new Enum Standard14Fonts.FontName is the one and only parameter and defines the name of the standard 14 font for which the instance of PDType1Font is created for. That instance isn't a singleton anymore and has to be recreated if necessary or cached by the user if suitable.</p>\n</blockquote>\n<p>Translating to code, this is how you access fonts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// 2.0.8\nPDType1Font.TIMES_ROMAN\n\n// 3.0.0\nnew PDType1Font(Standard14Fonts.FontName.TIMES_ROMAN)\n</code></pre>\n<p>In the broader context of your code sample, this would set the font for 3.0.0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>contentStream.setFont(new PDType1Font(Standard14Fonts.FontName.TIMES_ROMAN), 12);\n</code></pre>\n<p>and you'll need an additional import:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.pdfbox.pdmodel.font.Standard14Fonts;\n</code></pre>\n<p>This got me past my compiler issue I was able to render and save a pdf successfully.</p>\n<p>The full 14 standard font names are all loaded <a href=\"https://github.com/apache/pdfbox/blob/trunk/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/font/Standard14Fonts.java#L71\" rel=\"nofollow noreferrer\">here</a> and there's some other mappings below.</p>\n<p>See also the comments below your post about cleaning up resources.</p>\n<p>Hope that helps. Disclaimer: I'm completely new to pdfbox.</p>\n"}],"owner":{"account_id":23939462,"reputation":1,"user_id":17932779,"display_name":"Chingu Dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699529349,"creation_date":1689667055,"question_id":76710623,"body_markdown":"I am trying to write text into PDF using PDFBox in java. But when I want to set the font, it is not available. I looked at some tutorials and there is no difference with my code. What is wrong?\r\n\r\nHere is the error:\r\n\r\n    java: cannot find symbol\r\n      symbol:   variable TIMES_ROMAN\r\n      location: class org.apache.pdfbox.pdmodel.font.PDType1Font\r\nHere is the code:\r\n\r\n```\r\nimport org.apache.pdfbox.*;\r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.PDDocumentInformation;\r\nimport org.apache.pdfbox.pdmodel.PDPage;\r\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\r\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\r\nimport java.io.IOException;\r\n\r\npublic class app {\r\n    public static void main(String[] args) throws IOException {\r\n        PDDocument document = new PDDocument();\r\n        for(int x=0;x&lt;10;x++){\r\n            PDPage myPage = new PDPage();\r\n            document.addPage(myPage);\r\n        }\r\n\r\n        PDPage page = document.getPage(1);\r\n        PDPageContentStream contentStream = new PDPageContentStream(document,page);\r\n        contentStream.beginText();\r\n        contentStream.setFont(PDType1Font.TIMES_ROMAN, 12);\r\n\r\n        document.save(&quot;C:/Users/ASUS/Desktop/testPDFBOX.pdf&quot;);\r\n        document.close();\r\n    }\r\n}\r\n```\r\n\r\n","title":"TIMES_ROMAN Font not found in PDFBox Java Library","body":"<p>I am trying to write text into PDF using PDFBox in java. But when I want to set the font, it is not available. I looked at some tutorials and there is no difference with my code. What is wrong?</p>\n<p>Here is the error:</p>\n<pre><code>java: cannot find symbol\n  symbol:   variable TIMES_ROMAN\n  location: class org.apache.pdfbox.pdmodel.font.PDType1Font\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>import org.apache.pdfbox.*;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDDocumentInformation;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\nimport java.io.IOException;\n\npublic class app {\n    public static void main(String[] args) throws IOException {\n        PDDocument document = new PDDocument();\n        for(int x=0;x&lt;10;x++){\n            PDPage myPage = new PDPage();\n            document.addPage(myPage);\n        }\n\n        PDPage page = document.getPage(1);\n        PDPageContentStream contentStream = new PDPageContentStream(document,page);\n        contentStream.beginText();\n        contentStream.setFont(PDType1Font.TIMES_ROMAN, 12);\n\n        document.save(&quot;C:/Users/ASUS/Desktop/testPDFBOX.pdf&quot;);\n        document.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1699528790,"post_id":77452701,"comment_id":136544799,"body_markdown":"You forgot to update the `item`. Also you are checking `hasNext()` after calling `next()`","body":"You forgot to update the <code>item</code>. Also you are checking <code>hasNext()</code> after calling <code>next()</code>"},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699529038,"post_id":77452701,"comment_id":136544840,"body_markdown":"this is not java, but javascript. I updated the tag","body":"this is not java, but javascript. I updated the tag"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1699529220,"post_id":77452701,"comment_id":136544879,"body_markdown":"@user2342558 This is java, `var` is valid keyword since version 10.","body":"@user2342558 This is java, <code>var</code> is valid keyword since version 10."},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699529308,"post_id":77452701,"comment_id":136544890,"body_markdown":"@Chaosfire I see, so since v 10 it let use of `var` to automatically set the type by the one of the defined expression?","body":"@Chaosfire I see, so since v 10 it let use of <code>var</code> to automatically set the type by the one of the defined expression?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1699529727,"post_id":77452701,"comment_id":136544951,"body_markdown":"@user2342558 If I remember correctly the feature is called local variable type inference. Basically the compiler figures out the correct type during compilation.","body":"@user2342558 If I remember correctly the feature is called local variable type inference. Basically the compiler figures out the correct type during compilation."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699528786,"creation_date":1699528786,"answer_id":77452727,"question_id":77452701,"body_markdown":"You use `for` loop incorectly. It&#39;s better to use `while` loop instead.\r\n\r\n```java\r\nList&lt;String&gt; items = List.of(&quot;Omni&quot;, &quot;Okan&quot;);\r\nIterator&lt;String&gt; it = items.iterator();\r\n\r\nwhile (it.hasNext()) {\r\n    String item = it.next();\r\n    System.out.println(item);\r\n}\r\n```","title":"The loop doesn&#39;t work - only the first element repeats","body":"<p>You use <code>for</code> loop incorectly. It's better to use <code>while</code> loop instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; items = List.of(&quot;Omni&quot;, &quot;Okan&quot;);\nIterator&lt;String&gt; it = items.iterator();\n\nwhile (it.hasNext()) {\n    String item = it.next();\n    System.out.println(item);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699529133,"post_id":77452766,"comment_id":136544860,"body_markdown":"a little note: that is not Java but JavaScript. (btw they are very similar and both have the enhanced for loop)","body":"a little note: that is not Java but JavaScript. (btw they are very similar and both have the enhanced for loop)"},{"owner":{"account_id":395867,"reputation":2757,"user_id":759049,"accept_rate":96,"display_name":"Pateman"},"score":0,"creation_date":1699529208,"post_id":77452766,"comment_id":136544876,"body_markdown":"This is indeed Java. The newer versions allow for the `var` keyword.","body":"This is indeed Java. The newer versions allow for the <code>var</code> keyword."},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1699529358,"post_id":77452766,"comment_id":136544902,"body_markdown":"ooh I see, since v 10, thanks","body":"ooh I see, since v 10, thanks"}],"tags":[],"owner":{"account_id":395867,"reputation":2757,"user_id":759049,"accept_rate":96,"display_name":"Pateman"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699529029,"creation_date":1699529029,"answer_id":77452766,"question_id":77452701,"body_markdown":"This will work:\r\n\r\n    var list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;Omni&quot;);\r\n    list.add(&quot;Okan&quot;);\r\n    for (var it = list.iterator(); it.hasNext(); ) {\r\n        var item = it.next();\r\n        System.out.println(item);\r\n    }\r\n\r\nHowever, it&#39;s not really the most reader-friendly way. There are other alternatives (Oleg already suggested one.) Take a look at some examples here: https://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java\r\n\r\nThe most straight-forward way is the enhanced for loop, like so:\r\n\r\n    var list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;Omni&quot;);\r\n    list.add(&quot;Okan&quot;);\r\n    for (var elem : list) {\r\n        System.out.println(elem);\r\n    }","title":"The loop doesn&#39;t work - only the first element repeats","body":"<p>This will work:</p>\n<pre><code>var list = new ArrayList&lt;String&gt;();\nlist.add(&quot;Omni&quot;);\nlist.add(&quot;Okan&quot;);\nfor (var it = list.iterator(); it.hasNext(); ) {\n    var item = it.next();\n    System.out.println(item);\n}\n</code></pre>\n<p>However, it's not really the most reader-friendly way. There are other alternatives (Oleg already suggested one.) Take a look at some examples here: <a href=\"https://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java\">Ways to iterate over a list in Java</a></p>\n<p>The most straight-forward way is the enhanced for loop, like so:</p>\n<pre><code>var list = new ArrayList&lt;String&gt;();\nlist.add(&quot;Omni&quot;);\nlist.add(&quot;Okan&quot;);\nfor (var elem : list) {\n    System.out.println(elem);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699529254,"creation_date":1699529254,"answer_id":77452789,"question_id":77452701,"body_markdown":"Instead of\r\n\r\n```\r\n\t\tfor (var item = iter.next(); iter.hasNext(); iter.next()) {\r\n\t\t    System.out.println(item);\r\n\t\t}\r\n```\r\n\r\nYou can use the following, but still not the best option:\r\n\r\n```\r\n\t\tfor (; iter.hasNext();) {\r\n\t\t\tSystem.out.println(iter.next());\r\n\t\t}\r\n```\r\n\r\nBest option is to use a while loop like this:\r\n\r\n```\r\n\t\twhile (iter.hasNext()) {\r\n\t\t\tSystem.out.println(iter.next());\r\n\t\t}\r\n```\r\n\r\nThe problem is in your for loop.\r\n\r\nThis is the structure of the for-loop\r\n\r\n`for(initialization; exit condition; update variables)`\r\n\r\nIn your case, you used `var item = iter.next()` as the initializer, that means the `item` was initialized with the first value.\r\nAfter that value was printed, as the `update variables` part, you did `iter.next()`, this returned the next value. But you never stored it.\r\n\r\nAfter the `update variables`, it will check the exit condition. Since the 2nd value has been extracted, the `iter.hasNext()` will return false, so the for loop will exit. So, in your case, only ONE value was printed. 2nd value was just not stored in any variable. You could have done `item = iter.next()` as the update part, but still `item` would have been updated, but due to `iter.hasNext()` condition will return false just after update variables, it would not have been printed still.","title":"The loop doesn&#39;t work - only the first element repeats","body":"<p>Instead of</p>\n<pre><code>        for (var item = iter.next(); iter.hasNext(); iter.next()) {\n            System.out.println(item);\n        }\n</code></pre>\n<p>You can use the following, but still not the best option:</p>\n<pre><code>        for (; iter.hasNext();) {\n            System.out.println(iter.next());\n        }\n</code></pre>\n<p>Best option is to use a while loop like this:</p>\n<pre><code>        while (iter.hasNext()) {\n            System.out.println(iter.next());\n        }\n</code></pre>\n<p>The problem is in your for loop.</p>\n<p>This is the structure of the for-loop</p>\n<p><code>for(initialization; exit condition; update variables)</code></p>\n<p>In your case, you used <code>var item = iter.next()</code> as the initializer, that means the <code>item</code> was initialized with the first value.\nAfter that value was printed, as the <code>update variables</code> part, you did <code>iter.next()</code>, this returned the next value. But you never stored it.</p>\n<p>After the <code>update variables</code>, it will check the exit condition. Since the 2nd value has been extracted, the <code>iter.hasNext()</code> will return false, so the for loop will exit. So, in your case, only ONE value was printed. 2nd value was just not stored in any variable. You could have done <code>item = iter.next()</code> as the update part, but still <code>item</code> would have been updated, but due to <code>iter.hasNext()</code> condition will return false just after update variables, it would not have been printed still.</p>\n"}],"owner":{"account_id":27632231,"reputation":23,"user_id":22158621,"display_name":"Sped"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77452789,"answer_count":3,"score":2,"last_activity_date":1699529254,"creation_date":1699528543,"question_id":77452701,"body_markdown":"Here is the code that reproduces the problem\r\n\r\n```\r\nvar list = new ArrayList&lt;String&gt;();\r\nlist.add(&quot;Omni&quot;);\r\nlist.add(&quot;Okan&quot;);\r\nvar iter = list.iterator();\r\nfor (var item = iter.next(); iter.hasNext(); iter.next()) {\r\n    System.out.println(item);\r\n}\r\n```\r\n\r\nI tried this code and got `Omni Omni` instead of `Onmi Okan`. I tried also different sets of elements, but got the same problem - first element repeats `list.size()` times\r\n","title":"The loop doesn&#39;t work - only the first element repeats","body":"<p>Here is the code that reproduces the problem</p>\n<pre><code>var list = new ArrayList&lt;String&gt;();\nlist.add(&quot;Omni&quot;);\nlist.add(&quot;Okan&quot;);\nvar iter = list.iterator();\nfor (var item = iter.next(); iter.hasNext(); iter.next()) {\n    System.out.println(item);\n}\n</code></pre>\n<p>I tried this code and got <code>Omni Omni</code> instead of <code>Onmi Okan</code>. I tried also different sets of elements, but got the same problem - first element repeats <code>list.size()</code> times</p>\n"},{"tags":["java","android","android-download-manager"],"comments":[{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1699528996,"post_id":77451534,"comment_id":136544834,"body_markdown":"Removed `android-studio` tag as that tag is used for questions/issues with the Android Studio product. Your question is a generic Android question and has nothing to do with Android Studio.","body":"Removed <code>android-studio</code> tag as that tag is used for questions/issues with the Android Studio product. Your question is a generic Android question and has nothing to do with Android Studio."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699546443,"post_id":77451534,"comment_id":136548457,"body_markdown":"How are you checking if the file is in the specified directory? With your app? We do not believe that the file gets deleted.","body":"How are you checking if the file is in the specified directory? With your app? We do not believe that the file gets deleted."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1699546511,"post_id":77451534,"comment_id":136548470,"body_markdown":"Also tell full path if directory used and directory checked.","body":"Also tell full path if directory used and directory checked."}],"owner":{"account_id":7951132,"reputation":1,"user_id":6001932,"display_name":"Cee.Dee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699528954,"creation_date":1699518296,"question_id":77451534,"body_markdown":"I download Files with the DownloadManager and actually these files are deleted after downloading.\r\nMy search didn&#39;t get any results (as far as I can see) so I hope to get some help here.\r\n\r\n``` \r\nDownloadManager downloadmanager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\r\n            Uri uri = Uri.parse(&quot;https://mysite/file&quot;);\r\n            DownloadManager.Request request = new DownloadManager.Request(uri);\r\n            request.setDestinationInExternalFilesDir(PDFActivity.this, &quot;/Download/&quot;, &quot;file.pdf&quot;);\r\n            downloadmanager.enqueue(request);\r\n            registerReceiver(onDownloadComplete, new IntentFilter(downloadmanager.ACTION_DOWNLOAD_COMPLETE));\r\n```\r\n\r\n```\r\nBroadcastReceiver onDownloadComplete=new BroadcastReceiver() {\r\n        public void onReceive(Context ctxt, Intent intent) {\r\n            unregisterReceiver(onDownloadComplete);\r\n        }\r\n}\r\n```\r\n\r\nThis is the short version of my code.\r\nCan anyobdy explain what&#39;s the problem and give me some advice?\r\n\r\nGreetings,\r\nChris","title":"Android Studio DownloadManager deletes File after download","body":"<p>I download Files with the DownloadManager and actually these files are deleted after downloading.\nMy search didn't get any results (as far as I can see) so I hope to get some help here.</p>\n<pre><code>DownloadManager downloadmanager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\n            Uri uri = Uri.parse(&quot;https://mysite/file&quot;);\n            DownloadManager.Request request = new DownloadManager.Request(uri);\n            request.setDestinationInExternalFilesDir(PDFActivity.this, &quot;/Download/&quot;, &quot;file.pdf&quot;);\n            downloadmanager.enqueue(request);\n            registerReceiver(onDownloadComplete, new IntentFilter(downloadmanager.ACTION_DOWNLOAD_COMPLETE));\n</code></pre>\n<pre><code>BroadcastReceiver onDownloadComplete=new BroadcastReceiver() {\n        public void onReceive(Context ctxt, Intent intent) {\n            unregisterReceiver(onDownloadComplete);\n        }\n}\n</code></pre>\n<p>This is the short version of my code.\nCan anyobdy explain what's the problem and give me some advice?</p>\n<p>Greetings,\nChris</p>\n"},{"tags":["java","android","unity-game-engine"],"comments":[{"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1699528091,"post_id":77452587,"comment_id":136544664,"body_markdown":"Does this answer your question? [What is the use of android permission Wake Lock?](https://stackoverflow.com/questions/15333135/what-is-the-use-of-android-permission-wake-lock)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15333135/what-is-the-use-of-android-permission-wake-lock\">What is the use of android permission Wake Lock?</a>"},{"owner":{"account_id":2040516,"reputation":485,"user_id":1821855,"accept_rate":53,"display_name":"makkuzu"},"score":0,"creation_date":1699528757,"post_id":77452587,"comment_id":136544791,"body_markdown":"Unfortunately, I have already tried.","body":"Unfortunately, I have already tried."}],"answers":[{"tags":[],"owner":{"account_id":2040516,"reputation":485,"user_id":1821855,"accept_rate":53,"display_name":"makkuzu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699528772,"creation_date":1699528772,"answer_id":77452723,"question_id":77452587,"body_markdown":"I finally solved my problem by using setKeepScreenOn.\r\n\r\n      mUnityPlayer.setKeepScreenOn(true); ","title":"Prevent screen dimming when using Unity as a library","body":"<p>I finally solved my problem by using setKeepScreenOn.</p>\n<pre><code>  mUnityPlayer.setKeepScreenOn(true); \n</code></pre>\n"}],"owner":{"account_id":2040516,"reputation":485,"user_id":1821855,"accept_rate":53,"display_name":"makkuzu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77452723,"answer_count":1,"score":0,"last_activity_date":1699528772,"creation_date":1699527603,"question_id":77452587,"body_markdown":"I have used several thing but could not achieved to stop dimming the screen. I am using Unity as a library on my project.\r\n\r\nunity library -&gt; AndroidManifest.xml\r\n \r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n      &lt;application android:extractNativeLibs=&quot;true&quot;&gt;\r\n        &lt;activity android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot; android:theme=&quot;@style/UnityThemeSelector&quot;\r\n            android:screenOrientation=&quot;userLandscape&quot; android:launchMode=&quot;singleTask&quot;\r\n            android:configChanges=&quot;mcc|mnc|locale|touchscreen|keyboard|keyboardHidden|navigation|orientation|screenLayout|uiMode|screenSize|smallestScreenSize|fontScale|layoutDirection|density&quot;\r\n            android:resizeableActivity=&quot;false&quot;\r\n            android:keepScreenOn=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;false&quot; android:exported=&quot;true&quot;&gt;\r\n\r\nUnityPlayerActivity.java\r\n\r\n \r\n\r\n    @Override protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            super.onCreate(savedInstanceState);\r\n    \r\n                 getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON|\r\n                    WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD|\r\n                    WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED|\r\n                    WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\r\n    \r\n    \r\n            String cmdLine = updateUnityCommandLineArguments(getIntent().getStringExtra(&quot;unity&quot;));\r\n            getIntent().putExtra(&quot;unity&quot;, cmdLine);\r\n    \r\n            mUnityPlayer = new UnityPlayer(this, this);\r\n            setContentView(mUnityPlayer);\r\n            mUnityPlayer.requestFocus();\r\n        }\r\n\r\nI have also tried the command line below on my unity project.\r\n\r\n    Screen.sleepTimeout = SleepTimeout.NeverSleep; \r\n","title":"Prevent screen dimming when using Unity as a library","body":"<p>I have used several thing but could not achieved to stop dimming the screen. I am using Unity as a library on my project.</p>\n<p>unity library -&gt; AndroidManifest.xml</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n  &lt;application android:extractNativeLibs=&quot;true&quot;&gt;\n    &lt;activity android:name=&quot;com.unity3d.player.UnityPlayerActivity&quot; android:theme=&quot;@style/UnityThemeSelector&quot;\n        android:screenOrientation=&quot;userLandscape&quot; android:launchMode=&quot;singleTask&quot;\n        android:configChanges=&quot;mcc|mnc|locale|touchscreen|keyboard|keyboardHidden|navigation|orientation|screenLayout|uiMode|screenSize|smallestScreenSize|fontScale|layoutDirection|density&quot;\n        android:resizeableActivity=&quot;false&quot;\n        android:keepScreenOn=&quot;true&quot;\n        android:hardwareAccelerated=&quot;false&quot; android:exported=&quot;true&quot;&gt;\n</code></pre>\n<p>UnityPlayerActivity.java</p>\n<pre><code>@Override protected void onCreate(Bundle savedInstanceState)\n    {\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        super.onCreate(savedInstanceState);\n\n             getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON|\n                WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD|\n                WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED|\n                WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\n\n\n        String cmdLine = updateUnityCommandLineArguments(getIntent().getStringExtra(&quot;unity&quot;));\n        getIntent().putExtra(&quot;unity&quot;, cmdLine);\n\n        mUnityPlayer = new UnityPlayer(this, this);\n        setContentView(mUnityPlayer);\n        mUnityPlayer.requestFocus();\n    }\n</code></pre>\n<p>I have also tried the command line below on my unity project.</p>\n<pre><code>Screen.sleepTimeout = SleepTimeout.NeverSleep; \n</code></pre>\n"},{"tags":["java","spring","spring-security","cucumber"],"owner":{"account_id":5299391,"reputation":11,"user_id":4229570,"display_name":"kaundinya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699528735,"creation_date":1699528341,"question_id":77452676,"body_markdown":"I am trying to write cucumber tests for my application where I have to send the request as a user. \r\nI am getting this exception on the setup step - **java.lang.IllegalStateException: springSecurityFilterChain cannot be null. Ensure a Bean with the name springSecurityFilterChain implementing Filter is present or inject the Filter to be used.**\r\nI found in the spring documentation too the same thing has to be done as what I am doing. (https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html) (https://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-mockmvc-setup)\r\n\r\nCan someone please help?\r\n\r\nP.S. the same setup was working in one of my other applications.\r\n\r\nThis is what I am doing in my step definition class \r\n```\r\n@Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n    private MockMvc mockMvc;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(webApplicationContext)\r\n                .apply(springSecurity())\r\n                .build();\r\n```\r\n\r\n\r\nI also have a config class\r\n```\r\n\r\nimport io.cucumber.spring.CucumberContextConfiguration;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.TestExecutionListeners;\r\nimport org.springframework.test.context.support.DependencyInjectionTestExecutionListener;\r\nimport org.springframework.test.context.support.DirtiesContextTestExecutionListener;\r\n\r\n@CucumberContextConfiguration\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@TestExecutionListeners(inheritListeners = false, listeners =\r\n        {DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\r\npublic class CucumberSpringConfiguration {\r\n}\r\n```\r\n\r\n","title":"Spring Security with Cucumber - SpringSecurityFilterChainException","body":"<p>I am trying to write cucumber tests for my application where I have to send the request as a user.\nI am getting this exception on the setup step - <strong>java.lang.IllegalStateException: springSecurityFilterChain cannot be null. Ensure a Bean with the name springSecurityFilterChain implementing Filter is present or inject the Filter to be used.</strong>\nI found in the spring documentation too the same thing has to be done as what I am doing. (<a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/setup.html</a>) (<a href=\"https://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-mockmvc-setup\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-mockmvc-setup</a>)</p>\n<p>Can someone please help?</p>\n<p>P.S. the same setup was working in one of my other applications.</p>\n<p>This is what I am doing in my step definition class</p>\n<pre><code>@Autowired\n    private WebApplicationContext webApplicationContext;\n    private MockMvc mockMvc;\n\n    @Before\n    public void setUp() {\n        mockMvc = MockMvcBuilders\n                .webAppContextSetup(webApplicationContext)\n                .apply(springSecurity())\n                .build();\n</code></pre>\n<p>I also have a config class</p>\n<pre><code>\nimport io.cucumber.spring.CucumberContextConfiguration;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.TestExecutionListeners;\nimport org.springframework.test.context.support.DependencyInjectionTestExecutionListener;\nimport org.springframework.test.context.support.DirtiesContextTestExecutionListener;\n\n@CucumberContextConfiguration\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@TestExecutionListeners(inheritListeners = false, listeners =\n        {DependencyInjectionTestExecutionListener.class, DirtiesContextTestExecutionListener.class})\npublic class CucumberSpringConfiguration {\n}\n</code></pre>\n"},{"tags":["java","validation","jackson","jaxb"],"owner":{"account_id":1440381,"reputation":2638,"user_id":1360694,"accept_rate":49,"display_name":"Siddharth Trikha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699528595,"creation_date":1699528595,"question_id":77452710,"body_markdown":"We have a MQTT listener which receives messages which we need to validate syntactically. So we have one such object:\r\n\r\n**Data Model:**\r\n\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        @XmlType(name = &quot;&quot;, propOrder = {\r\n            &quot;content&quot;,\r\n         })\r\n        public class Content\r\n            implements ToString2\r\n        {\r\n            ...////\r\n      \r\n            @XmlElement(required = true)\r\n            protected Object content;\r\n        }\r\n\r\nThe Data model is generated from XSD (XML schema document), hence has JAXB annotations.\r\n\r\nSo when deserialized to an Java Object, the `content` is mapped to a dynamic `HashMap`. Example the payload:\r\n\r\n   \r\n\r\n     &quot;content&quot;: {\r\n        \r\n          \t&quot;devID&quot;:&lt;String value&gt;,\r\n        \r\n          \t&quot;lng&quot;: &lt; decimal value&gt;\r\n        \r\n        \t}\r\n\r\nNow we have a `HashMap` populated with above JSON which we have to validate. There can be multiple payloads like this for which we need the validation i.e in each the `content` will be a different set of `Key, Value`. \r\n\r\nWhat will be the best way to achieve such validation ??  \r\n\r\nWe are not using `Spring` Framework, we have `Jboss/EJB` container currently.","title":"Java object validation for dynamic object Hashmap?","body":"<p>We have a MQTT listener which receives messages which we need to validate syntactically. So we have one such object:</p>\n<p><strong>Data Model:</strong></p>\n<pre><code>    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;&quot;, propOrder = {\n        &quot;content&quot;,\n     })\n    public class Content\n        implements ToString2\n    {\n        ...////\n  \n        @XmlElement(required = true)\n        protected Object content;\n    }\n</code></pre>\n<p>The Data model is generated from XSD (XML schema document), hence has JAXB annotations.</p>\n<p>So when deserialized to an Java Object, the <code>content</code> is mapped to a dynamic <code>HashMap</code>. Example the payload:</p>\n<pre><code> &quot;content&quot;: {\n    \n        &quot;devID&quot;:&lt;String value&gt;,\n    \n        &quot;lng&quot;: &lt; decimal value&gt;\n    \n        }\n</code></pre>\n<p>Now we have a <code>HashMap</code> populated with above JSON which we have to validate. There can be multiple payloads like this for which we need the validation i.e in each the <code>content</code> will be a different set of <code>Key, Value</code>.</p>\n<p>What will be the best way to achieve such validation ??</p>\n<p>We are not using <code>Spring</code> Framework, we have <code>Jboss/EJB</code> container currently.</p>\n"},{"tags":["java","gdal"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1652042131,"post_id":72157871,"comment_id":127504228,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72157871/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25226351,"reputation":36,"user_id":19062163,"display_name":"jackspring"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651981034,"creation_date":1651981034,"answer_id":72157871,"question_id":69260435,"body_markdown":"This is my code, it seems like work.    \r\n\r\n    Dataset dataset = gdal.Open(rasterPath);\r\n    Vector&lt;String&gt; vector = new Vector&lt;&gt;();\r\n    vector.add(&quot;-projwin&quot;);\r\n    vector.add(&quot;116.142551771&quot;);\r\n    vector.add(&quot;40.159559805&quot;);\r\n    vector.add(&quot;116.298301771&quot;);\r\n    vector.add(&quot;40.054859805&quot;);\r\n\r\n    TranslateOptions options = new TranslateOptions(vector);\r\n    gdal.Translate(rasterCutPath, dataset, options);\r\n  ","title":"How is the gdal.Translate function used in the GDAL Java bindings?","body":"<p>This is my code, it seems like work.</p>\n<pre><code>Dataset dataset = gdal.Open(rasterPath);\nVector&lt;String&gt; vector = new Vector&lt;&gt;();\nvector.add(&quot;-projwin&quot;);\nvector.add(&quot;116.142551771&quot;);\nvector.add(&quot;40.159559805&quot;);\nvector.add(&quot;116.298301771&quot;);\nvector.add(&quot;40.054859805&quot;);\n\nTranslateOptions options = new TranslateOptions(vector);\ngdal.Translate(rasterCutPath, dataset, options);\n</code></pre>\n"}],"owner":{"account_id":2201773,"reputation":2273,"user_id":1946002,"accept_rate":87,"display_name":"Nathan BeDell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72157871,"answer_count":1,"score":0,"last_activity_date":1699528496,"creation_date":1632169652,"question_id":69260435,"body_markdown":"I am trying to preform some processing (i.e. applying a function to the contents of each cell of a raster, and then writing that out as a new raster), where the SRS of the input dataset is different (and has a different extent) from the target SRS.\r\n\r\nTo sole this, I attempted to use the `gdal.Translate` function from the gdal Java bindings, to translate the input data set into the proper SRS and extent before processing it, however -- I can not for the life of me figure out how this function is actually meant to be called. This function takes a `TranslateOptions` as input, which takes a vector of options, as documented [here](https://gdal.org/java/org/gdal/gdal/TranslateOptions.html) -- but what are those options? Do I pass in strings? Pairs? Is there an `TranslateOption` class I missed somewhere?\r\n\r\nWhen I hover over the argument in my IDE, it tells me that `TranslateOption` takes a `Vector&lt;Any&gt;`, so I am at a complete loss as to how to use this function, since the SWIG generated java bindings do not have any helpful javadocs added.\r\n\r\nI assume that the `TranslateOptions` probably correspond to the options of the command line `gdal_translate` utility (I can&#39;t shell out to this directly for my application for various reasons), but again, how are these options passed into the vector that gets passed into `TranslateOptions`? I cannot find any documentation on this or usage examples online.","title":"How is the gdal.Translate function used in the GDAL Java bindings?","body":"<p>I am trying to preform some processing (i.e. applying a function to the contents of each cell of a raster, and then writing that out as a new raster), where the SRS of the input dataset is different (and has a different extent) from the target SRS.</p>\n<p>To sole this, I attempted to use the <code>gdal.Translate</code> function from the gdal Java bindings, to translate the input data set into the proper SRS and extent before processing it, however -- I can not for the life of me figure out how this function is actually meant to be called. This function takes a <code>TranslateOptions</code> as input, which takes a vector of options, as documented <a href=\"https://gdal.org/java/org/gdal/gdal/TranslateOptions.html\" rel=\"nofollow noreferrer\">here</a> -- but what are those options? Do I pass in strings? Pairs? Is there an <code>TranslateOption</code> class I missed somewhere?</p>\n<p>When I hover over the argument in my IDE, it tells me that <code>TranslateOption</code> takes a <code>Vector&lt;Any&gt;</code>, so I am at a complete loss as to how to use this function, since the SWIG generated java bindings do not have any helpful javadocs added.</p>\n<p>I assume that the <code>TranslateOptions</code> probably correspond to the options of the command line <code>gdal_translate</code> utility (I can't shell out to this directly for my application for various reasons), but again, how are these options passed into the vector that gets passed into <code>TranslateOptions</code>? I cannot find any documentation on this or usage examples online.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":29862953,"reputation":31,"user_id":22886225,"display_name":"Bijaya Bhaskar Swain"},"score":0,"creation_date":1699525911,"post_id":77452314,"comment_id":136544243,"body_markdown":"@haba713 it not giving the expected output .","body":"@haba713 it not giving the expected output ."},{"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"score":0,"creation_date":1699527456,"post_id":77452314,"comment_id":136544556,"body_markdown":"Sorry, I didn&#39;t read the question properly.\n`String result = IntStream.range(0, Math.max(s1.length(), s2.length())).mapToObj(i -&gt; (i &lt; s1.length() ? s1.charAt(i) + &quot;&quot; : &quot;&quot;) + (i &lt; s2.length() ? s2.charAt(i) + &quot;&quot; : &quot;&quot;)).collect(Collectors.joining());`","body":"Sorry, I didn&#39;t read the question properly. <code>String result = IntStream.range(0, Math.max(s1.length(), s2.length())).mapToObj(i -&gt; (i &lt; s1.length() ? s1.charAt(i) + &quot;&quot; : &quot;&quot;) + (i &lt; s2.length() ? s2.charAt(i) + &quot;&quot; : &quot;&quot;)).collect(Collectors.joining());</code>"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699528105,"creation_date":1699528105,"answer_id":77452649,"question_id":77452314,"body_markdown":"Well, there are a whole lot of options, each one with advantages and disadvantages.\r\n\r\nHere&#39;s another way, using an `IntStream` and a `StringBuilder`:\r\n\r\n```java\r\nString result = IntStream.range(0, Math.max(s1.length(), s2.length()))\r\n    .collect(\r\n            StringBuilder::new,\r\n            (sb, i) -&gt; {\r\n                if (i &lt; s1.length()) {\r\n                    sb.append(s1.charAt(i));\r\n                }\r\n                if (i &lt; s2.length()) {\r\n                    sb.append(s2.charAt(i));\r\n                }\r\n            },\r\n            StringBuilder::append\r\n    )\r\n    .toString();\r\n```\r\n\r\nWhat happens here is that we loop (using an `IntStream`) over all indexes of the largest of both strings (using `max(s1.length(), s2.length())`).\r\n\r\nThen we collect into a `StringBuilder`, adding the character from `s1` if it exists, and then the same for `s2`.\r\n\r\nNote that this code doesn&#39;t use any intermediate substrings.\r\n\r\nHowever, I think an ol&#39; skool for or foreach loop is just as good as using streams.","title":"How to concat two Strings by each character by using java8 stream API?","body":"<p>Well, there are a whole lot of options, each one with advantages and disadvantages.</p>\n<p>Here's another way, using an <code>IntStream</code> and a <code>StringBuilder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = IntStream.range(0, Math.max(s1.length(), s2.length()))\n    .collect(\n            StringBuilder::new,\n            (sb, i) -&gt; {\n                if (i &lt; s1.length()) {\n                    sb.append(s1.charAt(i));\n                }\n                if (i &lt; s2.length()) {\n                    sb.append(s2.charAt(i));\n                }\n            },\n            StringBuilder::append\n    )\n    .toString();\n</code></pre>\n<p>What happens here is that we loop (using an <code>IntStream</code>) over all indexes of the largest of both strings (using <code>max(s1.length(), s2.length())</code>).</p>\n<p>Then we collect into a <code>StringBuilder</code>, adding the character from <code>s1</code> if it exists, and then the same for <code>s2</code>.</p>\n<p>Note that this code doesn't use any intermediate substrings.</p>\n<p>However, I think an ol' skool for or foreach loop is just as good as using streams.</p>\n"}],"owner":{"account_id":29862953,"reputation":31,"user_id":22886225,"display_name":"Bijaya Bhaskar Swain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1699529576,"answer_count":1,"score":3,"last_activity_date":1699528105,"creation_date":1699525250,"question_id":77452314,"body_markdown":"I need help on solving this problem,I have two Strings \r\n```\r\nString s1 = &quot;Mohan&quot;;\r\nString s2 = &quot;1234567&quot;;\r\n```\r\n\r\nI need output as \r\n```\r\n&quot;M1o2h3a4n567&quot;\r\n```\r\n\r\nlike s1 first character then s2 first character.\r\n\r\nHow can I solve this using java8 stream API?\r\n\r\nI converted two strings to a list then in stream API tried to use reduce but I know this is not the right solution.","title":"How to concat two Strings by each character by using java8 stream API?","body":"<p>I need help on solving this problem,I have two Strings</p>\n<pre><code>String s1 = &quot;Mohan&quot;;\nString s2 = &quot;1234567&quot;;\n</code></pre>\n<p>I need output as</p>\n<pre><code>&quot;M1o2h3a4n567&quot;\n</code></pre>\n<p>like s1 first character then s2 first character.</p>\n<p>How can I solve this using java8 stream API?</p>\n<p>I converted two strings to a list then in stream API tried to use reduce but I know this is not the right solution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10259286,"reputation":3326,"user_id":19090048,"display_name":"mandy8055"},"score":1,"creation_date":1699526424,"post_id":77452358,"comment_id":136544336,"body_markdown":"**need it to draw in a way that doesn&#39;t outputs space after each line.**. Can you elaborate this more?","body":"<b>need it to draw in a way that doesn&#39;t outputs space after each line.</b>. Can you elaborate this more?"},{"owner":{"account_id":29706041,"reputation":33,"user_id":22766846,"display_name":"Ярослав Гавран"},"score":0,"creation_date":1699526718,"post_id":77452358,"comment_id":136544384,"body_markdown":"This code outputs a space in the end of each line, but spaces between &quot; * &quot; are required, I just need it not to print the space in the end after the last &quot; * &quot; on each line.","body":"This code outputs a space in the end of each line, but spaces between &quot; * &quot; are required, I just need it not to print the space in the end after the last &quot; * &quot; on each line."}],"answers":[{"comments":[{"owner":{"account_id":29706041,"reputation":33,"user_id":22766846,"display_name":"Ярослав Гавран"},"score":0,"creation_date":1699527044,"post_id":77452492,"comment_id":136544460,"body_markdown":"This code is not working.","body":"This code is not working."}],"tags":[],"owner":{"account_id":13373993,"reputation":1,"user_id":9651374,"display_name":"mattgrill92"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699526854,"creation_date":1699526854,"answer_id":77452492,"question_id":77452358,"body_markdown":"You can extract the case for `j == b - 1` and print `&quot;*&quot;` instead of `&quot;* &quot;` for that case only.\r\n\r\n    if(j == b - 1) {\r\n        System.out.print(&quot;*&quot;);\r\n    } else if(i == 0 || i == a - 1 || j == 0) {\r\n        System.out.print(&quot;* &quot;);\r\n    } else {\r\n        System.out.print(&quot;  &quot;);\r\n    }","title":"Drawing rectangles/squares with characters in console","body":"<p>You can extract the case for <code>j == b - 1</code> and print <code>&quot;*&quot;</code> instead of <code>&quot;* &quot;</code> for that case only.</p>\n<pre><code>if(j == b - 1) {\n    System.out.print(&quot;*&quot;);\n} else if(i == 0 || i == a - 1 || j == 0) {\n    System.out.print(&quot;* &quot;);\n} else {\n    System.out.print(&quot;  &quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699528004,"creation_date":1699528004,"answer_id":77452642,"question_id":77452358,"body_markdown":"As I see it, you have two choices.\r\n1. Print a space after each `*` &amp;ndash; except for the last one.\r\n2. Print a space before each `*` &amp;ndash; except for the first one.\r\n\r\nFor me, the second option is easier to implement.\r\n```jav\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int a = scanner.nextInt();\r\n        int b = scanner.nextInt();\r\n        for (int i = 0; i &lt; a; i++) {\r\n            boolean first = true;\r\n            for (int j = 0; j &lt; b; j++) {\r\n                if (i == 0 || i == a - 1 || j == 0 || j == b - 1) {\r\n                    if (first) {\r\n                        first = false;\r\n                    }\r\n                    else {\r\n                        System.out.print(&quot; &quot;);\r\n                    }\r\n                    System.out.print(&quot;*&quot;);\r\n                } else {\r\n                    System.out.print(&quot;  &quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\nBefore the start of each row, I set the flag indicating that I am about to start a new row. Hence on the first iteration of the inner loop, I print just the characters `*`. Then in every subsequent iteration (of the inner loop) I print a single space and then I print a single `*`. Thus no extra space at the end of the row.\r\n","title":"Drawing rectangles/squares with characters in console","body":"<p>As I see it, you have two choices.</p>\n<ol>\n<li>Print a space after each <code>*</code> – except for the last one.</li>\n<li>Print a space before each <code>*</code> – except for the first one.</li>\n</ol>\n<p>For me, the second option is easier to implement.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int a = scanner.nextInt();\n        int b = scanner.nextInt();\n        for (int i = 0; i &lt; a; i++) {\n            boolean first = true;\n            for (int j = 0; j &lt; b; j++) {\n                if (i == 0 || i == a - 1 || j == 0 || j == b - 1) {\n                    if (first) {\n                        first = false;\n                    }\n                    else {\n                        System.out.print(&quot; &quot;);\n                    }\n                    System.out.print(&quot;*&quot;);\n                } else {\n                    System.out.print(&quot;  &quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Before the start of each row, I set the flag indicating that I am about to start a new row. Hence on the first iteration of the inner loop, I print just the characters <code>*</code>. Then in every subsequent iteration (of the inner loop) I print a single space and then I print a single <code>*</code>. Thus no extra space at the end of the row.</p>\n"}],"owner":{"account_id":29706041,"reputation":33,"user_id":22766846,"display_name":"Ярослав Гавран"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77452642,"answer_count":2,"score":0,"last_activity_date":1699528004,"creation_date":1699525727,"question_id":77452358,"body_markdown":"I have this code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int a = scanner.nextInt();\r\n        int b = scanner.nextInt();\r\n        for (int i = 0; i &lt; a; i++) {\r\n            for (int j = 0; j &lt; b; j++) {\r\n                if (i == 0 || i == a - 1 || j == 0 || j == b - 1) {\r\n                    System.out.print(&quot;* &quot;);\r\n                } else {\r\n                    System.out.print(&quot;  &quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt works fine, but I need it to draw in a way that doesn&#39;t outputs space after each line.\r\n     \r\n\r\nI tried to modify the code in a variety of different ways, but couldn&#39;t come up with a solution.","title":"Drawing rectangles/squares with characters in console","body":"<p>I have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int a = scanner.nextInt();\n        int b = scanner.nextInt();\n        for (int i = 0; i &lt; a; i++) {\n            for (int j = 0; j &lt; b; j++) {\n                if (i == 0 || i == a - 1 || j == 0 || j == b - 1) {\n                    System.out.print(&quot;* &quot;);\n                } else {\n                    System.out.print(&quot;  &quot;);\n                }\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>It works fine, but I need it to draw in a way that doesn't outputs space after each line.</p>\n<p>I tried to modify the code in a variety of different ways, but couldn't come up with a solution.</p>\n"},{"tags":["java","postgresql","server","cassandra","thingsboard"],"owner":{"account_id":13020706,"reputation":1,"user_id":22886512,"display_name":"Aitor Azpiroz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699527865,"creation_date":1699527838,"question_id":77452619,"body_markdown":" Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] \r\n\r\nAnyone that had this problem before? Our installation in via Docker.","title":"Error updating Thingsboard from 3.5.1PE to 3.6.0PE System is down :C","body":"<p>Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]</p>\n<p>Anyone that had this problem before? Our installation in via Docker.</p>\n"},{"tags":["java","windows","swing","intellij-idea","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1699528068,"post_id":77452613,"comment_id":136544658,"body_markdown":"What is the url? Is it https? Do you [need cryptoki](https://stackoverflow.com/questions/74628587/beryx-badass-runtime-tlsv1-3-javax-net-ssl-sslprotocolexception-received-close/74649649#74649649)?","body":"What is the url? Is it https? Do you <a href=\"https://stackoverflow.com/questions/74628587/beryx-badass-runtime-tlsv1-3-javax-net-ssl-sslprotocolexception-received-close/74649649#74649649\">need cryptoki</a>?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1699538881,"post_id":77452613,"comment_id":136546760,"body_markdown":"Or maybe jdk.crypto.ec needed for SSL/TLS/HTTPS to many servers today; see https://stackoverflow.com/questions/68379520/ and https://stackoverflow.com/questions/73590370/ and more linked there","body":"Or maybe jdk.crypto.ec needed for SSL/TLS/HTTPS to many servers today; see <a href=\"https://stackoverflow.com/questions/68379520/\">stackoverflow.com/questions/68379520</a> and <a href=\"https://stackoverflow.com/questions/73590370/\">stackoverflow.com/questions/73590370</a> and more linked there"},{"owner":{"account_id":12608963,"reputation":775,"user_id":9168846,"display_name":"Urchboy"},"score":1,"creation_date":1699543087,"post_id":77452613,"comment_id":136547727,"body_markdown":"@jewelsea, the link helped. I was able to fix the issue by adding jdk.crypto.cryptoki to the module-info.java","body":"@jewelsea, the link helped. I was able to fix the issue by adding jdk.crypto.cryptoki to the module-info.java"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1699545681,"post_id":77452613,"comment_id":136548292,"body_markdown":"@Urchboy Please post and accept an Answer to your own Question, with the interesting and relevant details.","body":"@Urchboy Please post and accept an Answer to your own Question, with the interesting and relevant details."}],"owner":{"account_id":12608963,"reputation":775,"user_id":9168846,"display_name":"Urchboy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699559301,"answer_count":0,"score":0,"last_activity_date":1699527805,"creation_date":1699527805,"question_id":77452613,"body_markdown":"I&#39;m not able to connect to the internet from my packaged `Javafx` application. It works perfectly in development. I&#39;m using gradle `jlink` and `jpackage` to create a Windows executable. The application installs successfully but it seems the `URLConnection connect()` method is throwing an error.\r\n\r\nWhat possibly could be the reason this is happening only after the application has been packaged and installed?. \r\n\r\nAlso, there seem not to be enough resources out there to help, I&#39;d appreciate if someone can better enlighten me. This is my first time packaging a JavaFX app","title":"JavaFX URLConnection connect() throws error only in packaged app but works in debug","body":"<p>I'm not able to connect to the internet from my packaged <code>Javafx</code> application. It works perfectly in development. I'm using gradle <code>jlink</code> and <code>jpackage</code> to create a Windows executable. The application installs successfully but it seems the <code>URLConnection connect()</code> method is throwing an error.</p>\n<p>What possibly could be the reason this is happening only after the application has been packaged and installed?.</p>\n<p>Also, there seem not to be enough resources out there to help, I'd appreciate if someone can better enlighten me. This is my first time packaging a JavaFX app</p>\n"},{"tags":["java","concurrency","synchronization","boolean","atomic"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1422292911,"post_id":28155245,"comment_id":44681831,"body_markdown":"How about... reading the javadoc of AtomicBoolean? It describes the guarantees offered and the advantages over synchronization.","body":"How about... reading the javadoc of AtomicBoolean? It describes the guarantees offered and the advantages over synchronization."},{"owner":{"account_id":4022313,"reputation":235,"user_id":3312154,"accept_rate":50,"display_name":"user3312154"},"score":2,"creation_date":1422313182,"post_id":28155245,"comment_id":44691955,"body_markdown":"please point me to the java doc that explains &quot;clearly&quot; the advantages of one over the other.  I can&#39;t find it in https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html","body":"please point me to the java doc that explains &quot;clearly&quot; the advantages of one over the other.  I can&#39;t find it in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomi&zwnj;&#8203;c/&hellip;</a>"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1608543028,"post_id":28155245,"comment_id":115606310,"body_markdown":"Look at the javadoc for the package `java.util.concurrent.atomic` : https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html","body":"Look at the javadoc for the package <code>java.util.concurrent.atomic</code> : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomi&zwnj;&#8203;c/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1422292901,"creation_date":1422292901,"answer_id":28155296,"question_id":28155245,"body_markdown":"If *all* you&#39;re trying to do is make getting and setting a single `boolean` value atomic, then yes - you can use `AtomicBoolean` instead without any synchronization.\r\n\r\nOf course, `synchronized` allows a far wider range of uses, such as performing several actions within the block without losing the lock, or using it for wait/notify. So it&#39;s not like `AtomicBoolean` is a *general* alternative to synchronization - but in this case you can use it instead of synchronization.","title":"AtomicBoolean vs Synchronized block, whats the difference","body":"<p>If <em>all</em> you're trying to do is make getting and setting a single <code>boolean</code> value atomic, then yes - you can use <code>AtomicBoolean</code> instead without any synchronization.</p>\n\n<p>Of course, <code>synchronized</code> allows a far wider range of uses, such as performing several actions within the block without losing the lock, or using it for wait/notify. So it's not like <code>AtomicBoolean</code> is a <em>general</em> alternative to synchronization - but in this case you can use it instead of synchronization.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1422292926,"creation_date":1422292926,"answer_id":28155304,"question_id":28155245,"body_markdown":"There are a few subtle differences but seen from the outside the two code snippets behave similarly: if you call the `set` method, the change will be visible to other threads calling `get` subsequently.\r\n\r\nThe main differences are:\r\n\r\n- performance: depending on the level of contention, you may get better performance with `synchronized` or `AtomicBoolean`\r\n- atomicity: if at some stage you want to do more than just setting the boolean value, a `synchronized` block will allow you to add instructions atomically but `AtomicBoolean` won&#39;t","title":"AtomicBoolean vs Synchronized block, whats the difference","body":"<p>There are a few subtle differences but seen from the outside the two code snippets behave similarly: if you call the <code>set</code> method, the change will be visible to other threads calling <code>get</code> subsequently.</p>\n\n<p>The main differences are:</p>\n\n<ul>\n<li>performance: depending on the level of contention, you may get better performance with <code>synchronized</code> or <code>AtomicBoolean</code></li>\n<li>atomicity: if at some stage you want to do more than just setting the boolean value, a <code>synchronized</code> block will allow you to add instructions atomically but <code>AtomicBoolean</code> won't</li>\n</ul>\n"}],"owner":{"account_id":4022313,"reputation":235,"user_id":3312154,"accept_rate":50,"display_name":"user3312154"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8975,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":28155304,"answer_count":2,"score":11,"last_activity_date":1699527506,"creation_date":1422292712,"question_id":28155245,"body_markdown":"I am trying to understand the difference between the two following code blocks\r\n\r\n    AtomicBoolean ab = new AtomicBoolean(false);  \r\n\r\n    using the following to get and set state. .\r\n    ab.get();\r\n    ab.set(X);\r\n\r\n    vs. \r\n\r\n    private boolean ab = false;\r\n    private final Object myboollock = new Ojbect();\r\n\r\n    public void setAB(boolean state)\r\n    {\r\n        synchronized(myboollock)\r\n         {\r\n              ab = state;\r\n         }\r\n    }\r\n\r\n    public boolean getAB()\r\n    {\r\n     synchronized(myboollock)\r\n     {\r\n             return ab;\r\n     }\r\n    }\r\n\r\n\r\nI need to thread protect a boolean, that is all,  and have \r\nin the past used the later method,  but would like to start to use Atomic \r\nobjects, (if ) they are safe?,  ","title":"AtomicBoolean vs Synchronized block, whats the difference","body":"<p>I am trying to understand the difference between the two following code blocks</p>\n\n<pre><code>AtomicBoolean ab = new AtomicBoolean(false);  \n\nusing the following to get and set state. .\nab.get();\nab.set(X);\n\nvs. \n\nprivate boolean ab = false;\nprivate final Object myboollock = new Ojbect();\n\npublic void setAB(boolean state)\n{\n    synchronized(myboollock)\n     {\n          ab = state;\n     }\n}\n\npublic boolean getAB()\n{\n synchronized(myboollock)\n {\n         return ab;\n }\n}\n</code></pre>\n\n<p>I need to thread protect a boolean, that is all,  and have \nin the past used the later method,  but would like to start to use Atomic \nobjects, (if ) they are safe?,  </p>\n"},{"tags":["java","spring","jackson"],"comments":[{"owner":{"account_id":275933,"reputation":3454,"user_id":569076,"accept_rate":87,"display_name":"Elbek"},"score":1,"creation_date":1349267530,"post_id":12707165,"comment_id":17158460,"body_markdown":"For me It seemed spring is not using the mapper object that defined in the contex file, i checked with debug spring is calling `setSerializationInclusion()` method for mapper object defined in xml","body":"For me It seemed spring is not using the mapper object that defined in the contex file, i checked with debug spring is calling <code>setSerializationInclusion()</code> method for mapper object defined in xml"},{"owner":{"account_id":1900930,"reputation":949,"user_id":1716813,"display_name":"mikec"},"score":1,"creation_date":1349272628,"post_id":12707165,"comment_id":17160974,"body_markdown":"Ya that&#39;s how I understand it also. The object mapper appears to be configured correctly, it&#39;s just not being used in the spring container.","body":"Ya that&#39;s how I understand it also. The object mapper appears to be configured correctly, it&#39;s just not being used in the spring container."}],"answers":[{"tags":[],"owner":{"account_id":1900930,"reputation":949,"user_id":1716813,"display_name":"mikec"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349345845,"creation_date":1349345845,"answer_id":12725106,"question_id":12707165,"body_markdown":"I&#39;ve found a solution through configuring the Spring container, but it&#39;s still not exactly what I wanted.\r\n\r\nI rolled back to Spring 3.0.5, removed &lt;mvc:annotation-driven&gt; and in it&#39;s place I changed my config file to:\r\n\r\n    \t&lt;bean\r\n\t\tclass=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n\t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean\r\n\t\t\t\t\tclass=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;objectMapper&quot; ref=&quot;jacksonObjectMapper&quot; /&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;jacksonObjectMapper&quot; class=&quot;org.codehaus.jackson.map.ObjectMapper&quot; /&gt;\r\n\t&lt;bean id=&quot;jacksonSerializationConfig&quot; class=&quot;org.codehaus.jackson.map.SerializationConfig&quot;\r\n\t\tfactory-bean=&quot;jacksonObjectMapper&quot; factory-method=&quot;getSerializationConfig&quot; /&gt;\r\n\t&lt;bean\r\n\t\tclass=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;targetObject&quot; ref=&quot;jacksonSerializationConfig&quot; /&gt;\r\n\t\t&lt;property name=&quot;targetMethod&quot; value=&quot;setSerializationInclusion&quot; /&gt;\r\n\t\t&lt;property name=&quot;arguments&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value type=&quot;org.codehaus.jackson.map.annotate.JsonSerialize.Inclusion&quot;&gt;NON_NULL&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThis is of course similar to responses given in other questions e.g. \r\n\r\nhttps://stackoverflow.com/questions/6177913/configuring-the-jacksonobjectmapper-not-working-in-spring-mvc-3\r\n\r\nThe important thing to note is that mvc:annotation-driven and AnnotationMethodHandlerAdapter cannot be used in the same context. \r\n\r\nI&#39;m still unable to get it working with Spring 3.1 and mvc:annotation-driven though. A solution that uses mvc:annotation-driven and all the benefits that accompany it would be far better I think. If anyone could show me how to do this, that would be great.","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>I've found a solution through configuring the Spring container, but it's still not exactly what I wanted.</p>\n\n<p>I rolled back to Spring 3.0.5, removed  and in it's place I changed my config file to:</p>\n\n<pre><code>    &lt;bean\n    class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n            &lt;bean\n                class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\"&gt;\n                &lt;property name=\"objectMapper\" ref=\"jacksonObjectMapper\" /&gt;\n            &lt;/bean&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"jacksonObjectMapper\" class=\"org.codehaus.jackson.map.ObjectMapper\" /&gt;\n&lt;bean id=\"jacksonSerializationConfig\" class=\"org.codehaus.jackson.map.SerializationConfig\"\n    factory-bean=\"jacksonObjectMapper\" factory-method=\"getSerializationConfig\" /&gt;\n&lt;bean\n    class=\"org.springframework.beans.factory.config.MethodInvokingFactoryBean\"&gt;\n    &lt;property name=\"targetObject\" ref=\"jacksonSerializationConfig\" /&gt;\n    &lt;property name=\"targetMethod\" value=\"setSerializationInclusion\" /&gt;\n    &lt;property name=\"arguments\"&gt;\n        &lt;list&gt;\n            &lt;value type=\"org.codehaus.jackson.map.annotate.JsonSerialize.Inclusion\"&gt;NON_NULL&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>This is of course similar to responses given in other questions e.g. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/6177913/configuring-the-jacksonobjectmapper-not-working-in-spring-mvc-3\">configuring the jacksonObjectMapper not working in spring mvc 3</a></p>\n\n<p>The important thing to note is that mvc:annotation-driven and AnnotationMethodHandlerAdapter cannot be used in the same context. </p>\n\n<p>I'm still unable to get it working with Spring 3.1 and mvc:annotation-driven though. A solution that uses mvc:annotation-driven and all the benefits that accompany it would be far better I think. If anyone could show me how to do this, that would be great.</p>\n"},{"tags":[],"owner":{"display_name":"user647772"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349346679,"creation_date":1349346679,"answer_id":12725326,"question_id":12707165,"body_markdown":"You can use [`JsonWriteNullProperties`][1] for older versions of Jackson.\r\n\r\nFor Jackson 1.9+, use [`JsonSerialize.include`][2].\r\n\r\n\r\n  [1]: http://jackson.codehaus.org/1.9.9/javadoc/org/codehaus/jackson/annotate/JsonWriteNullProperties.html\r\n  [2]: http://jackson.codehaus.org/1.9.9/javadoc/org/codehaus/jackson/map/annotate/JsonSerialize.html#include%28%29","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>You can use <a href=\"http://jackson.codehaus.org/1.9.9/javadoc/org/codehaus/jackson/annotate/JsonWriteNullProperties.html\" rel=\"nofollow\"><code>JsonWriteNullProperties</code></a> for older versions of Jackson.</p>\n\n<p>For Jackson 1.9+, use <a href=\"http://jackson.codehaus.org/1.9.9/javadoc/org/codehaus/jackson/map/annotate/JsonSerialize.html#include%28%29\" rel=\"nofollow\"><code>JsonSerialize.include</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":3503298,"reputation":93,"user_id":2929484,"display_name":"Eduardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382989001,"creation_date":1382989001,"answer_id":19643580,"question_id":12707165,"body_markdown":"If you are using Jackson 2, the message-converters tag is:\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n        &lt;mvc:message-converters&gt;\r\n            &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n                &lt;property name=&quot;prefixJson&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;supportedMediaTypes&quot; value=&quot;application/json&quot;/&gt;\r\n                &lt;property name=&quot;objectMapper&quot;&gt;\r\n                    &lt;bean class=&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;&gt;\r\n                        &lt;property name=&quot;serializationInclusion&quot; value=&quot;NON_NULL&quot;/&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/mvc:message-converters&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>If you are using Jackson 2, the message-converters tag is:</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters&gt;\n        &lt;bean class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n            &lt;property name=\"prefixJson\" value=\"true\"/&gt;\n            &lt;property name=\"supportedMediaTypes\" value=\"application/json\"/&gt;\n            &lt;property name=\"objectMapper\"&gt;\n                &lt;bean class=\"com.fasterxml.jackson.databind.ObjectMapper\"&gt;\n                    &lt;property name=\"serializationInclusion\" value=\"NON_NULL\"/&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1299656,"reputation":167,"user_id":8363796,"display_name":"Ahmet Koylu"},"score":0,"creation_date":1620317201,"post_id":27512998,"comment_id":119171284,"body_markdown":"That&#39;s what I was looking for. Thanks","body":"That&#39;s what I was looking for. Thanks"}],"tags":[],"owner":{"account_id":538604,"reputation":6852,"user_id":906523,"accept_rate":78,"display_name":"Walery Strauch"},"comment_count":1,"down_vote_count":0,"up_vote_count":138,"is_accepted":false,"score":138,"last_activity_date":1418760435,"creation_date":1418760435,"answer_id":27512998,"question_id":12707165,"body_markdown":"Since Jackson 2.0 you can use [JsonInclude][1]\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n    public class Shop {\r\n        //...\r\n    }\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-annotations/blob/master/src/main/java/com/fasterxml/jackson/annotation/JsonInclude.java","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>Since Jackson 2.0 you can use <a href=\"https://github.com/FasterXML/jackson-annotations/blob/master/src/main/java/com/fasterxml/jackson/annotation/JsonInclude.java\">JsonInclude</a></p>\n\n<pre><code>@JsonInclude(Include.NON_NULL)\npublic class Shop {\n    //...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"score":0,"creation_date":1516629527,"post_id":28602524,"comment_id":83753280,"body_markdown":"``@JsonSerialize(include=Inclusion.NON_NULL)`` deprecated","body":"<code>@JsonSerialize(include=Inclusion.NON_NULL)</code> deprecated"}],"tags":[],"owner":{"account_id":3057654,"reputation":5535,"user_id":2590960,"accept_rate":54,"display_name":"grep"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1424337515,"creation_date":1424337515,"answer_id":28602524,"question_id":12707165,"body_markdown":"Since version 1.6 we have new annotation JsonSerialize (in version 1.9.9 for example).\r\n\r\n Example:\r\n  \r\n \r\n\r\n    @JsonSerialize(include=Inclusion.NON_NULL)\r\n    public class Test{\r\n    ...\r\n    }\r\n   \r\n\r\n Default value is ALWAYS.\r\n\r\n \r\n\r\nIn old versions you can use  JsonWriteNullProperties, which is deprecated in new versions. \r\nExample:\r\n\r\n    @JsonWriteNullProperties(false)\r\n    public class Test{\r\n        ...\r\n    }","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>Since version 1.6 we have new annotation JsonSerialize (in version 1.9.9 for example).</p>\n\n<p>Example:</p>\n\n<pre><code>@JsonSerialize(include=Inclusion.NON_NULL)\npublic class Test{\n...\n}\n</code></pre>\n\n<p>Default value is ALWAYS.</p>\n\n<p>In old versions you can use  JsonWriteNullProperties, which is deprecated in new versions. \nExample:</p>\n\n<pre><code>@JsonWriteNullProperties(false)\npublic class Test{\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7108611,"reputation":105,"user_id":5437414,"display_name":"A B"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1445595273,"creation_date":1445595273,"answer_id":33299936,"question_id":12707165,"body_markdown":"As of Jackson 2.0, `@JsonSerialize(include = xxx)` has been deprecated in favour of `@JsonInclude`","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>As of Jackson 2.0, <code>@JsonSerialize(include = xxx)</code> has been deprecated in favour of <code>@JsonInclude</code></p>\n"},{"tags":[],"owner":{"account_id":1468119,"reputation":15037,"user_id":1380406,"accept_rate":38,"display_name":"cosbor11"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1451537633,"creation_date":1451537633,"answer_id":34541212,"question_id":12707165,"body_markdown":"For all you non-xml config folks: \r\n\r\n&lt;!-- language --&gt;\r\n\r\n    ObjectMapper objMapper = new ObjectMapper().setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    HttpMessageConverter msgConverter = new MappingJackson2HttpMessageConverter(objMapper);\r\n    restTemplate.setMessageConverters(Collections.singletonList(msgConverter));","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>For all you non-xml config folks: </p>\n\n\n\n<pre><code>ObjectMapper objMapper = new ObjectMapper().setSerializationInclusion(JsonInclude.Include.NON_NULL);\nHttpMessageConverter msgConverter = new MappingJackson2HttpMessageConverter(objMapper);\nrestTemplate.setMessageConverters(Collections.singletonList(msgConverter));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"score":5,"creation_date":1524189357,"post_id":34542164,"comment_id":86881202,"body_markdown":"`@Deprecated // since 2.0, marked deprecated in 2.6`","body":"<code>@Deprecated &#47;&#47; since 2.0, marked deprecated in 2.6</code>"}],"tags":[],"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1524212934,"creation_date":1451543464,"answer_id":34542164,"question_id":12707165,"body_markdown":"    @JsonSerialize(include=JsonSerialize.Inclusion.NON_EMPTY)\r\n    public class Shop {\r\n        //...\r\n    }\r\n\r\nfor jackson 2.0 or later use `@JsonInclude(Include.NON_NULL)`\r\n\r\nThis will remove both empty and null Objects.","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<pre><code>@JsonSerialize(include=JsonSerialize.Inclusion.NON_EMPTY)\npublic class Shop {\n    //...\n}\n</code></pre>\n\n<p>for jackson 2.0 or later use <code>@JsonInclude(Include.NON_NULL)</code></p>\n\n<p>This will remove both empty and null Objects.</p>\n"},{"comments":[{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":12,"creation_date":1460195969,"post_id":36515285,"comment_id":60636212,"body_markdown":"unfortunatelly, a moderator deleted my answer claiming those were repeated questions. But he&#39;s a Python guy and perhaps couldn&#39;t see those were different Java Spring questions (one for Spring MVC, other for Spring REST). He deleted the one in the most important question. BTW, there&#39;s no way to tailer. The answers are the same. The library is the same (Jackson). I&#39;ll try again, to help community.","body":"unfortunatelly, a moderator deleted my answer claiming those were repeated questions. But he&#39;s a Python guy and perhaps couldn&#39;t see those were different Java Spring questions (one for Spring MVC, other for Spring REST). He deleted the one in the most important question. BTW, there&#39;s no way to tailer. The answers are the same. The library is the same (Jackson). I&#39;ll try again, to help community."},{"owner":{"account_id":2917984,"reputation":2544,"user_id":2500817,"display_name":"Miguel Reyes"},"score":17,"creation_date":1479917308,"post_id":36515285,"comment_id":68762334,"body_markdown":"The property name has changed to `spring.jackson.default-property-inclusion=NON_NULL`. Works fine!","body":"The property name has changed to <code>spring.jackson.default-property-inclusion=NON_NULL</code>. Works fine!"},{"owner":{"account_id":2306297,"reputation":129,"user_id":2025527,"accept_rate":57,"display_name":"user2025527"},"score":1,"creation_date":1608721241,"post_id":36515285,"comment_id":115665101,"body_markdown":"Cool, this one I was looking for. No need to change all POJOs and have it at one place. Thank you for saving my time!","body":"Cool, this one I was looking for. No need to change all POJOs and have it at one place. Thank you for saving my time!"}],"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"comment_count":3,"down_vote_count":0,"up_vote_count":121,"is_accepted":false,"score":121,"last_activity_date":1559343653,"creation_date":1460195902,"answer_id":36515285,"question_id":12707165,"body_markdown":"Since Jackson is being used, you have to configure that as a Jackson property. In the case of Spring Boot REST services, you have to configure it in `application.properties` or `application.yml`:\r\n\r\n    spring.jackson.default-property-inclusion = NON_NULL\r\n\r\n[source][1]\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>Since Jackson is being used, you have to configure that as a Jackson property. In the case of Spring Boot REST services, you have to configure it in <code>application.properties</code> or <code>application.yml</code>:</p>\n\n<pre><code>spring.jackson.default-property-inclusion = NON_NULL\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">source</a></p>\n"},{"comments":[{"owner":{"account_id":267628,"reputation":281,"user_id":555929,"accept_rate":56,"display_name":"Amit"},"score":1,"creation_date":1602059222,"post_id":57660346,"comment_id":113596755,"body_markdown":"Thanks for mentioning the impact on the property when WebMvcConfigurer is implemented. It solved my issue.","body":"Thanks for mentioning the impact on the property when WebMvcConfigurer is implemented. It solved my issue."}],"tags":[],"owner":{"account_id":8312562,"reputation":1485,"user_id":6247093,"display_name":"mj3c"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566831307,"creation_date":1566831307,"answer_id":57660346,"question_id":12707165,"body_markdown":"Setting the `spring.jackson.default-property-inclusion=non_null` option is the simplest solution and it works well.\r\n\r\n**However**, be careful if you implement WebMvcConfigurer somewhere in your code, then the property solution will not work and you will have to setup NON_NULL serialization in the code as the following:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        // some of your config here...\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n            MappingJackson2HttpMessageConverter jsonConverter = new MappingJackson2HttpMessageConverter(objectMapper);\r\n            converters.add(jsonConverter);\r\n        }\r\n    }","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>Setting the <code>spring.jackson.default-property-inclusion=non_null</code> option is the simplest solution and it works well.</p>\n\n<p><strong>However</strong>, be careful if you implement WebMvcConfigurer somewhere in your code, then the property solution will not work and you will have to setup NON_NULL serialization in the code as the following:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    // some of your config here...\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        MappingJackson2HttpMessageConverter jsonConverter = new MappingJackson2HttpMessageConverter(objectMapper);\n        converters.add(jsonConverter);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698753939,"post_id":77394436,"comment_id":136442824,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77394436/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29792989,"reputation":1,"user_id":22832740,"display_name":"deglan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699527444,"creation_date":1698741925,"answer_id":77394436,"question_id":12707165,"body_markdown":" Hi you can also use configuration class with object mapper Bean. So in your response in API you will see only not null values\r\n\r\n        @Configuration\r\n    public class ObjectMapperConfiguration {\r\n    \r\n        @Bean\r\n        public Jackson2ObjectMapperBuilderCustomizer getObjectMapper() {\r\n            return builder -&gt; builder.serializationInclusion(JsonInclude.Include.NON_NULL);\r\n        }\r\n    }","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>Hi you can also use configuration class with object mapper Bean. So in your response in API you will see only not null values</p>\n<pre><code>    @Configuration\npublic class ObjectMapperConfiguration {\n\n    @Bean\n    public Jackson2ObjectMapperBuilderCustomizer getObjectMapper() {\n        return builder -&gt; builder.serializationInclusion(JsonInclude.Include.NON_NULL);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1900930,"reputation":949,"user_id":1716813,"display_name":"mikec"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178035,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"answer_count":11,"score":94,"last_activity_date":1699527444,"creation_date":1349262219,"question_id":12707165,"body_markdown":"I have a spring webservice that returns a json response. I&#39;m using the example given here to create the service:\r\nhttp://www.mkyong.com/spring-mvc/spring-3-mvc-and-json-example/\r\n\r\nThe format the json is returned in is:\r\n{&quot;name&quot;:null,&quot;staffName&quot;:[&quot;kfc-kampar&quot;,&quot;smith&quot;]}\r\n\r\nI want to remove any null objects from the returned response so it looks like this:\r\n{&quot;staffName&quot;:[&quot;kfc-kampar&quot;,&quot;smith&quot;]}\r\n\r\nI&#39;ve found similar questions asked here but I&#39;ve been able to get a solution working e.g.\r\n \r\nhttps://stackoverflow.com/questions/7854030/configurating-objectmapper-in-spring\r\n\r\nhttps://stackoverflow.com/questions/10650196/how-to-configure-mmppingjacksonhttpmessageconverter-while-using-spring-annotatio\r\n\r\nhttps://stackoverflow.com/questions/6177913/configuring-the-jacksonobjectmapper-not-working-in-spring-mvc-3\r\n\r\nhttps://stackoverflow.com/questions/6049523/how-to-configure-spring-mvc-3-to-not-return-null-object-in-json-response\r\n\r\nhttps://stackoverflow.com/questions/4823358/spring-configure-responsebody-json-format\r\n\r\nhttps://stackoverflow.com/questions/11392944/jacksonspring3-0-5-custom-object-mapper\r\n\r\nFrom reading through these and other sources, I figured the cleanest way to achieve what I wanted was to use Spring 3.1 and the message-converters that can be configured within the mvc-annotation. \r\nMy updated spring config file is:\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; \r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans     \r\n        http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n        http://www.springframework.org/schema/mvc\r\n        http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd&quot;&gt;\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.mkyong.common.controller&quot; /&gt;\r\n\r\n\t&lt;mvc:annotation-driven&gt;\r\n\t    &lt;mvc:message-converters&gt;\r\n\t        &lt;bean class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt;\r\n\t            &lt;property name=&quot;prefixJson&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t    &lt;property name=&quot;supportedMediaTypes&quot; value=&quot;application/json&quot; /&gt;\r\n\t            &lt;property name=&quot;objectMapper&quot;&gt;\r\n        \t\t\t&lt;bean class=&quot;org.codehaus.jackson.map.ObjectMapper&quot;&gt;\r\n            \t\t\t&lt;property name=&quot;serializationInclusion&quot; value=&quot;NON_NULL&quot;/&gt;\r\n        \t\t\t&lt;/bean&gt;\r\n    \t\t\t&lt;/property&gt;\r\n\t        &lt;/bean&gt;\r\n\t    &lt;/mvc:message-converters&gt;\r\n\t&lt;/mvc:annotation-driven&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nThe service class is the same as given on the mkyong.com site, except I commented out the setting of the Shop name variable so it&#39;s null i.e.\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/kfc/brands&quot;)\r\n    public class JSONController {\r\n\t    @RequestMapping(value=&quot;{name}&quot;, method = RequestMethod.GET)\r\n\t    @ResponseStatus(HttpStatus.OK) \r\n\t    public @ResponseBody Shop getShopInJSON(@PathVariable String name) {\r\n\t\t    Shop shop = new Shop();\r\n\t\t    //shop.setName(name);\r\n\t\t    shop.setStaffName(new String[]{name, &quot;cronin&quot;});\r\n\t\t    return shop;\r\n\t    }\r\n    }\r\n\r\nThe Jackson jars I&#39;m using are jackson-mapper-asl 1.9.0 and jackson-core-asl 1.9.0. These are the only new jars I&#39;ve added to the pom as provided as part of the spring-json project I downloaded from mkyong.com.\r\n\r\nThe project builds successfully, but when I invoke the service through the browser I still get the same thing i.e.\r\n{&quot;name&quot;:null,&quot;staffName&quot;:[&quot;kfc-kampar&quot;,&quot;smith&quot;]}\r\n\r\nCan anyone tell me where I&#39;m going wrong with my configuration? \r\n\r\nI&#39;ve tried several other options, but the only way I&#39;ve been able to return the json in the correct format is to add the Object mapper to the JSONController and have the &quot;getShopInJSON&quot; method return a string i.e.\r\n\r\n    public @ResponseBody String getShopInJSON(@PathVariable String name) throws JsonGenerationException, JsonMappingException, IOException {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.setSerializationInclusion(JsonSerialize.Inclusion.NON_NULL);\r\n\t\t\r\n\t\tShop shop = new Shop();\r\n\t\t//shop.setName(name);\r\n\t\tshop.setStaffName(new String[]{name, &quot;cronin&quot;});\r\n\t\tString test = mapper.writeValueAsString(shop);\r\n\t\treturn test;\r\n\t}\r\n\r\nNow if I invoke the service I get the expected i.e.\r\n{&quot;staffName&quot;:[&quot;kfc-kampar&quot;,&quot;cronin&quot;]}\r\n\r\nI&#39;ve also been able to get it to work using the @JsonIgnore annotation, but this solution isn&#39;t suitable for me.\r\n\r\nI don&#39;t understand why it&#39;s working in code but not in the configuration, so any help would be fantastic.\r\n\r\n","title":"Spring REST Service: how to configure to remove null objects in json response","body":"<p>I have a spring webservice that returns a json response. I'm using the example given here to create the service:\n<a href=\"http://www.mkyong.com/spring-mvc/spring-3-mvc-and-json-example/\" rel=\"noreferrer\">http://www.mkyong.com/spring-mvc/spring-3-mvc-and-json-example/</a></p>\n\n<p>The format the json is returned in is:\n{\"name\":null,\"staffName\":[\"kfc-kampar\",\"smith\"]}</p>\n\n<p>I want to remove any null objects from the returned response so it looks like this:\n{\"staffName\":[\"kfc-kampar\",\"smith\"]}</p>\n\n<p>I've found similar questions asked here but I've been able to get a solution working e.g.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7854030/configurating-objectmapper-in-spring\">Configuring ObjectMapper in Spring</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/10650196/how-to-configure-mmppingjacksonhttpmessageconverter-while-using-spring-annotatio\">How to configure MappingJacksonHttpMessageConverter while using spring annotation-based configuration?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/6177913/configuring-the-jacksonobjectmapper-not-working-in-spring-mvc-3\">configuring the jacksonObjectMapper not working in spring mvc 3</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/6049523/how-to-configure-spring-mvc-3-to-not-return-null-object-in-json-response\">how to configure spring mvc 3 to not return &quot;null&quot; object in json response?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4823358/spring-configure-responsebody-json-format\">Spring configure @ResponseBody JSON format</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/11392944/jacksonspring3-0-5-custom-object-mapper\">Jackson+Spring3.0.5 custom object mapper</a></p>\n\n<p>From reading through these and other sources, I figured the cleanest way to achieve what I wanted was to use Spring 3.1 and the message-converters that can be configured within the mvc-annotation. \nMy updated spring config file is:</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans     \n    http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n    http://www.springframework.org/schema/context \n    http://www.springframework.org/schema/context/spring-context-3.1.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd\"&gt;\n\n&lt;context:component-scan base-package=\"com.mkyong.common.controller\" /&gt;\n\n&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters&gt;\n        &lt;bean class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\"&gt;\n            &lt;property name=\"prefixJson\" value=\"true\" /&gt;\n            &lt;property name=\"supportedMediaTypes\" value=\"application/json\" /&gt;\n            &lt;property name=\"objectMapper\"&gt;\n                &lt;bean class=\"org.codehaus.jackson.map.ObjectMapper\"&gt;\n                    &lt;property name=\"serializationInclusion\" value=\"NON_NULL\"/&gt;\n                &lt;/bean&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n\n<p></p>\n\n<p>The service class is the same as given on the mkyong.com site, except I commented out the setting of the Shop name variable so it's null i.e.</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/kfc/brands\")\npublic class JSONController {\n    @RequestMapping(value=\"{name}\", method = RequestMethod.GET)\n    @ResponseStatus(HttpStatus.OK) \n    public @ResponseBody Shop getShopInJSON(@PathVariable String name) {\n        Shop shop = new Shop();\n        //shop.setName(name);\n        shop.setStaffName(new String[]{name, \"cronin\"});\n        return shop;\n    }\n}\n</code></pre>\n\n<p>The Jackson jars I'm using are jackson-mapper-asl 1.9.0 and jackson-core-asl 1.9.0. These are the only new jars I've added to the pom as provided as part of the spring-json project I downloaded from mkyong.com.</p>\n\n<p>The project builds successfully, but when I invoke the service through the browser I still get the same thing i.e.\n{\"name\":null,\"staffName\":[\"kfc-kampar\",\"smith\"]}</p>\n\n<p>Can anyone tell me where I'm going wrong with my configuration? </p>\n\n<p>I've tried several other options, but the only way I've been able to return the json in the correct format is to add the Object mapper to the JSONController and have the \"getShopInJSON\" method return a string i.e.</p>\n\n<pre><code>public @ResponseBody String getShopInJSON(@PathVariable String name) throws JsonGenerationException, JsonMappingException, IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.setSerializationInclusion(JsonSerialize.Inclusion.NON_NULL);\n\n    Shop shop = new Shop();\n    //shop.setName(name);\n    shop.setStaffName(new String[]{name, \"cronin\"});\n    String test = mapper.writeValueAsString(shop);\n    return test;\n}\n</code></pre>\n\n<p>Now if I invoke the service I get the expected i.e.\n{\"staffName\":[\"kfc-kampar\",\"cronin\"]}</p>\n\n<p>I've also been able to get it to work using the @JsonIgnore annotation, but this solution isn't suitable for me.</p>\n\n<p>I don't understand why it's working in code but not in the configuration, so any help would be fantastic.</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"score":21,"creation_date":1347533968,"post_id":12404650,"comment_id":16669810,"body_markdown":"Are you aware that `assertTrue(myObject instanceof Object1);` and `assertEquals(myObject.class, Object1.getClass());` are actually different tests? The first accepts myObject being an instance of a subclass of `Object1`, the later doesn&#39;t.","body":"Are you aware that <code>assertTrue(myObject instanceof Object1);</code> and <code>assertEquals(myObject.class, Object1.getClass());</code> are actually different tests? The first accepts myObject being an instance of a subclass of <code>Object1</code>, the later doesn&#39;t."},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":1,"creation_date":1347534843,"post_id":12404650,"comment_id":16670238,"body_markdown":"as maba points out, consider using Hamcrest. This is more than just so that you have a better working test. Hamcrest also provides much better logging of the failure than standard `assertTrue`. `assertTrue` would just say `expected true got false`, Hamcrest would say `expected instanced of XYZ, got instance of ABC`","body":"as maba points out, consider using Hamcrest. This is more than just so that you have a better working test. Hamcrest also provides much better logging of the failure than standard <code>assertTrue</code>. <code>assertTrue</code> would just say <code>expected true got false</code>, Hamcrest would say <code>expected instanced of XYZ, got instance of ABC</code>"}],"answers":[{"comments":[{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":4,"creation_date":1347534731,"post_id":12404813,"comment_id":16670178,"body_markdown":"Here is the link to the Matcher being used: http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/CoreMatchers.html#instanceOf(java.lang.Class)","body":"Here is the link to the Matcher being used: <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/CoreMatchers.html#instanceOf(java.lang.Class)\" rel=\"nofollow noreferrer\">hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/&hellip;</a>"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":3,"creation_date":1347534909,"post_id":12404813,"comment_id":16670276,"body_markdown":"FYI, MatcherAssert.assertThat behaves better (provides better logging in the case of errors) than Assert.assertThat. I recommend using it instead. http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/MatcherAssert.html","body":"FYI, MatcherAssert.assertThat behaves better (provides better logging in the case of errors) than Assert.assertThat. I recommend using it instead. <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/MatcherAssert.html\" rel=\"nofollow noreferrer\">hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/&hellip;</a>"},{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":0,"creation_date":1347534944,"post_id":12404813,"comment_id":16670294,"body_markdown":"Thanks for your answers/comments. All useful. I&#39;ll use assertThat now in my code","body":"Thanks for your answers/comments. All useful. I&#39;ll use assertThat now in my code"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":13,"creation_date":1409738488,"post_id":12404813,"comment_id":40063896,"body_markdown":"That&#39;s a trivial assertion and would be a compile error if not true in the example! Usually you want to go down the class hierarchy with `instanceof`:\n`BaseClass subClass = new SubClass(); assertThat(subClass, isA(SubClass.class));`, but it doesn&#39;t compile because `SubClass` is not `? super BaseClass`.","body":"That&#39;s a trivial assertion and would be a compile error if not true in the example! Usually you want to go down the class hierarchy with <code>instanceof</code>: <code>BaseClass subClass = new SubClass(); assertThat(subClass, isA(SubClass.class));</code>, but it doesn&#39;t compile because <code>SubClass</code> is not <code>? super BaseClass</code>."},{"owner":{"account_id":1427644,"reputation":47321,"user_id":1350762,"display_name":"maba"},"score":3,"creation_date":1409744389,"post_id":12404813,"comment_id":40067133,"body_markdown":"@TWiStErRob I don&#39;t understand what you are trying to say here... Try to change the `instanceOf(BaseClass.class)` to `instanceOf(String.class)` and you&#39;ll see that it compile just fine but there will be an AssertionError thrown.","body":"@TWiStErRob I don&#39;t understand what you are trying to say here... Try to change the <code>instanceOf(BaseClass.class)</code> to <code>instanceOf(String.class)</code> and you&#39;ll see that it compile just fine but there will be an AssertionError thrown."},{"owner":{"account_id":1415841,"reputation":4086,"user_id":1341535,"accept_rate":78,"display_name":"Vsevolod Golovanov"},"score":1,"creation_date":1498639544,"post_id":12404813,"comment_id":76575571,"body_markdown":"@maba, he&#39;s talking about isA for some reason, which captures the class, it accepts `Class&lt;T&gt;` instead of `Class&lt;?&gt;` (which is what instanceOf does). Since it captures the class, it would be a compile time error to do isA with a class incompatible to the instance. https://github.com/hamcrest/JavaHamcrest/issues/39","body":"@maba, he&#39;s talking about isA for some reason, which captures the class, it accepts <code>Class&lt;T&gt;</code> instead of <code>Class&lt;?&gt;</code> (which is what instanceOf does). Since it captures the class, it would be a compile time error to do isA with a class incompatible to the instance. <a href=\"https://github.com/hamcrest/JavaHamcrest/issues/39\" rel=\"nofollow noreferrer\">github.com/hamcrest/JavaHamcrest/issues/39</a>"},{"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"score":0,"creation_date":1511797587,"post_id":12404813,"comment_id":81985283,"body_markdown":"`AssertThat` is now deprecated in newer jUnit","body":"<code>AssertThat</code> is now deprecated in newer jUnit"},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":0,"creation_date":1562861615,"post_id":12404813,"comment_id":100521196,"body_markdown":"@Carmageddon Simply use the `assertThat` in Hamcrest which is not deprecated.","body":"@Carmageddon Simply use the <code>assertThat</code> in Hamcrest which is not deprecated."}],"tags":[],"owner":{"account_id":1427644,"reputation":47321,"user_id":1350762,"display_name":"maba"},"comment_count":8,"down_vote_count":4,"up_vote_count":297,"is_accepted":true,"score":293,"last_activity_date":1347534710,"creation_date":1347534227,"answer_id":12404813,"question_id":12404650,"body_markdown":"You can use the `assertThat` method and the Matchers that comes with JUnit.\r\n\r\nTake a look at [this link][1] that describes a little bit about the JUnit Matchers.\r\n\r\nExample:\r\n\r\n    public class BaseClass {\r\n    }\r\n\r\n    public class SubClass extends BaseClass {\r\n    }\r\n\r\nTest:\r\n\r\n    import org.junit.Test;\r\n    \r\n    import static org.hamcrest.CoreMatchers.instanceOf;\r\n    import static org.junit.Assert.assertThat;\r\n    \r\n    /**\r\n     * @author maba, 2012-09-13\r\n     */\r\n    public class InstanceOfTest {\r\n    \r\n        @Test\r\n        public void testInstanceOf() {\r\n            SubClass subClass = new SubClass();\r\n            assertThat(subClass, instanceOf(BaseClass.class));\r\n        }\r\n    }\r\n\r\n  [1]: http://tutorials.jenkov.com/java-unit-testing/matchers.html","title":"Assert an object is a specific type","body":"<p>You can use the <code>assertThat</code> method and the Matchers that comes with JUnit.</p>\n\n<p>Take a look at <a href=\"http://tutorials.jenkov.com/java-unit-testing/matchers.html\" rel=\"noreferrer\">this link</a> that describes a little bit about the JUnit Matchers.</p>\n\n<p>Example:</p>\n\n<pre><code>public class BaseClass {\n}\n\npublic class SubClass extends BaseClass {\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>import org.junit.Test;\n\nimport static org.hamcrest.CoreMatchers.instanceOf;\nimport static org.junit.Assert.assertThat;\n\n/**\n * @author maba, 2012-09-13\n */\npublic class InstanceOfTest {\n\n    @Test\n    public void testInstanceOf() {\n        SubClass subClass = new SubClass();\n        assertThat(subClass, instanceOf(BaseClass.class));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":728291,"reputation":3808,"user_id":681895,"accept_rate":75,"display_name":"EricG"},"score":2,"creation_date":1543314818,"post_id":47890524,"comment_id":93864585,"body_markdown":"if objectUnderTest is a subclass of TargetObject, this will still result into `true` right? And I think you want to test the actual type.","body":"if objectUnderTest is a subclass of TargetObject, this will still result into <code>true</code> right? And I think you want to test the actual type."},{"owner":{"account_id":2486287,"reputation":566,"user_id":2164653,"accept_rate":75,"display_name":"kekko12"},"score":1,"creation_date":1567957497,"post_id":47890524,"comment_id":102114130,"body_markdown":"I feel this is NOT the correct answer. The original question was asking for something that specifically checks on the exact type of the object. This solutions does not that (as mentioned by @EircG above) and it has even been provided by the user originally asking the question, so definitely not the &quot;correct&quot; answer imo.\n\nFor the correct answer, please check the Franklin Yu answer.","body":"I feel this is NOT the correct answer. The original question was asking for something that specifically checks on the exact type of the object. This solutions does not that (as mentioned by @EircG above) and it has even been provided by the user originally asking the question, so definitely not the &quot;correct&quot; answer imo.  For the correct answer, please check the Franklin Yu answer."},{"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"score":0,"creation_date":1568055687,"post_id":47890524,"comment_id":102145799,"body_markdown":"Well, it has the downside which @EricG mentioned yes, about Franklin&#39;s answer - I just looked at it, and it didnt make sense to me so I just tested in my project with Junit5 - it is wrong!! there is no such syntax for instanceof , nor a method called InstanceOf! He is totally wrong. I stand by my answer still, and as evidenced, it was helpful to at least 30 people who upvoted it! (I assume you downvoted).","body":"Well, it has the downside which @EricG mentioned yes, about Franklin&#39;s answer - I just looked at it, and it didnt make sense to me so I just tested in my project with Junit5 - it is wrong!! there is no such syntax for instanceof , nor a method called InstanceOf! He is totally wrong. I stand by my answer still, and as evidenced, it was helpful to at least 30 people who upvoted it! (I assume you downvoted)."},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":0,"creation_date":1568078525,"post_id":47890524,"comment_id":102151650,"body_markdown":"@kekko12 My answer doesn’t check the exact type either; it accepts subclass similar to this answer. I have updated my answer to address it; sorry that I didn’t notice this part in question. I think exact equality isn’t included in most assertion library because it isn’t frequently used.","body":"@kekko12 My answer doesn’t check the exact type either; it accepts subclass similar to this answer. I have updated my answer to address it; sorry that I didn’t notice this part in question. I think exact equality isn’t included in most assertion library because it isn’t frequently used."},{"owner":{"account_id":2486287,"reputation":566,"user_id":2164653,"accept_rate":75,"display_name":"kekko12"},"score":0,"creation_date":1568380024,"post_id":47890524,"comment_id":102265982,"body_markdown":"@Carmageddon The answer from Franlin Yu does work fine *if* you use hamcrest assertion importing:\n```\nimport static org.hamcrest.CoreMatchers.instanceOf;\n```\nss per his code samples.\n\nI do admit though I overlooked at Franklin answer and in fact, these 2 answers are functionally equivalent, so I guess it is just a matter of preference in the end.","body":"@Carmageddon The answer from Franlin Yu does work fine <i>if</i> you use hamcrest assertion importing: ``` import static org.hamcrest.CoreMatchers.instanceOf; ``` ss per his code samples.  I do admit though I overlooked at Franklin answer and in fact, these 2 answers are functionally equivalent, so I guess it is just a matter of preference in the end."}],"tags":[],"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"comment_count":5,"down_vote_count":3,"up_vote_count":83,"is_accepted":false,"score":80,"last_activity_date":1513698396,"creation_date":1513698396,"answer_id":47890524,"question_id":12404650,"body_markdown":"Since `assertThat` which was the old answer is now deprecated, I am posting the correct solution:\r\n\r\n`assertTrue(objectUnderTest instanceof TargetObject);`","title":"Assert an object is a specific type","body":"<p>Since <code>assertThat</code> which was the old answer is now deprecated, I am posting the correct solution:</p>\n\n<p><code>assertTrue(objectUnderTest instanceof TargetObject);</code></p>\n"},{"comments":[{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":1,"creation_date":1515601273,"post_id":48191634,"comment_id":83363895,"body_markdown":"In a sense, the original `assertThat()` is deferred to Hamcrest, so that JUnit also works with third-party assertion libraries.","body":"In a sense, the original <code>assertThat()</code> is deferred to Hamcrest, so that JUnit also works with third-party assertion libraries."},{"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"score":0,"creation_date":1568055601,"post_id":48191634,"comment_id":102145761,"body_markdown":"I just tested this answer, it is NOT correct and leads to multiple compilation errors: Illegal start of expression, illegal start of type, &#39;;&#39; expected... In other words, your second parameter to the assertThat matcher, CANNOT be &quot;instanceof (BaseClass.class)&quot;! In fact, you didnt even type that correctly, the syntax  you used is slightly different - &quot;InstanceOf(&quot; - as a function call! There is no such function actually...  was it even tested by anyone? It seems to have been manually typed without any tests","body":"I just tested this answer, it is NOT correct and leads to multiple compilation errors: Illegal start of expression, illegal start of type, &#39;;&#39; expected... In other words, your second parameter to the assertThat matcher, CANNOT be &quot;instanceof (BaseClass.class)&quot;! In fact, you didnt even type that correctly, the syntax  you used is slightly different - &quot;InstanceOf(&quot; - as a function call! There is no such function actually...  was it even tested by anyone? It seems to have been manually typed without any tests"},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":0,"creation_date":1568077405,"post_id":48191634,"comment_id":102151469,"body_markdown":"@Carmageddon I provided two answers, one for Hamcrest and the other for AssertJ. Which one are you talking about?","body":"@Carmageddon I provided two answers, one for Hamcrest and the other for AssertJ. Which one are you talking about?"},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":0,"creation_date":1568078076,"post_id":48191634,"comment_id":102151573,"body_markdown":"@Carmageddon I suspect that you are talking about the Hamcrest example and you miss-typed `instanceOf` as `instanceof` (mind the case). `instanceOf` is [a function](http://hamcrest.org/JavaHamcrest/javadoc/2.1/org/hamcrest/CoreMatchers.html#instanceOf-java.lang.Class-) while `instanceof` is [a Java keyword](https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.20.2).","body":"@Carmageddon I suspect that you are talking about the Hamcrest example and you miss-typed <code>instanceOf</code> as <code>instanceof</code> (mind the case). <code>instanceOf</code> is <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/2.1/org/hamcrest/CoreMatchers.html#instanceOf-java.lang.Class-\" rel=\"nofollow noreferrer\">a function</a> while <code>instanceof</code> is <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">a Java keyword</a>."},{"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"score":0,"creation_date":1568170652,"post_id":48191634,"comment_id":102186023,"body_markdown":"I referred to the Hamcrest one of course, and I tried both keyword AND as a function after I noticed thats how you wrote it - there is no such function...","body":"I referred to the Hamcrest one of course, and I tried both keyword AND as a function after I noticed thats how you wrote it - there is no such function..."},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":0,"creation_date":1568215989,"post_id":48191634,"comment_id":102206374,"body_markdown":"@Carmageddon From my comment above I have already linked to the Javadoc of this function so it clearly exist. If your compiler cannot find the function then there is something wrong with your environment. For example, please check whether you have the class file or Jar file in classpath, and you are using the correct version. Or maybe you missed the import statements? What error you got?","body":"@Carmageddon From my comment above I have already linked to the Javadoc of this function so it clearly exist. If your compiler cannot find the function then there is something wrong with your environment. For example, please check whether you have the class file or Jar file in classpath, and you are using the correct version. Or maybe you missed the import statements? What error you got?"},{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":0,"creation_date":1569991981,"post_id":48191634,"comment_id":102769241,"body_markdown":"Hm I assume that the recent downvote isn&#39;t casted by this user since it has been a few weeks. Would be more helpful if the downvoter I receive a comment about it.","body":"Hm I assume that the recent downvote isn&#39;t casted by this user since it has been a few weeks. Would be more helpful if the downvoter I receive a comment about it."},{"owner":{"account_id":135086,"reputation":709,"user_id":337666,"display_name":"Shrikant Prabhu"},"score":0,"creation_date":1626199645,"post_id":48191634,"comment_id":120828036,"body_markdown":"use `assertThat(actualException, not(instanceOf(BaseClass.class))); ` for negative test.","body":"use <code>assertThat(actualException, not(instanceOf(BaseClass.class))); </code> for negative test."}],"tags":[],"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"comment_count":8,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1568078391,"creation_date":1515600694,"answer_id":48191634,"question_id":12404650,"body_markdown":"## Solution for JUnit 5\r\n\r\nThe documentation says:\r\n\r\n&gt; However, JUnit Jupiter’s [`org.junit.jupiter.Assertions`](http://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html) class does not provide an [`assertThat()`](http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat(T,%20org.hamcrest.Matcher)) method like the one found in JUnit 4’s [`org.junit.Assert`](http://junit.org/junit4/javadoc/latest/org/junit/Assert.html) class which accepts a Hamcrest [`Matcher`](http://junit.org/junit4/javadoc/latest/org/hamcrest/Matcher.html). Instead, developers are encouraged to use the built-in support for matchers provided by third-party assertion libraries.\r\n\r\nExample for [Hamcrest](http://hamcrest.org/JavaHamcrest/):\r\n\r\n    import static org.hamcrest.CoreMatchers.instanceOf;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    class HamcrestAssertionDemo {\r\n\r\n        @Test\r\n        void assertWithHamcrestMatcher() {\r\n            SubClass subClass = new SubClass();\r\n            assertThat(subClass, instanceOf(BaseClass.class));\r\n        }\r\n\r\n    }\r\n\r\nExample for [AssertJ](https://joel-costigliola.github.io/assertj/):\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    class AssertJDemo {\r\n\r\n        @Test\r\n        void assertWithAssertJ() {\r\n            SubClass subClass = new SubClass();\r\n            assertThat(subClass).isInstanceOf(BaseClass.class);\r\n        }\r\n\r\n    }\r\n\r\nNote that this assumes you want to test behaviors similar to `instanceof` (which accepts subclasses). If you want exact equal type, I don’t see a better way than asserting the two class to be equal like you mentioned in the question.","title":"Assert an object is a specific type","body":"<h2>Solution for JUnit 5</h2>\n\n<p>The documentation says:</p>\n\n<blockquote>\n  <p>However, JUnit Jupiter’s <a href=\"http://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Assertions.html\" rel=\"noreferrer\"><code>org.junit.jupiter.Assertions</code></a> class does not provide an <a href=\"http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat(T,%20org.hamcrest.Matcher)\" rel=\"noreferrer\"><code>assertThat()</code></a> method like the one found in JUnit 4’s <a href=\"http://junit.org/junit4/javadoc/latest/org/junit/Assert.html\" rel=\"noreferrer\"><code>org.junit.Assert</code></a> class which accepts a Hamcrest <a href=\"http://junit.org/junit4/javadoc/latest/org/hamcrest/Matcher.html\" rel=\"noreferrer\"><code>Matcher</code></a>. Instead, developers are encouraged to use the built-in support for matchers provided by third-party assertion libraries.</p>\n</blockquote>\n\n<p>Example for <a href=\"http://hamcrest.org/JavaHamcrest/\" rel=\"noreferrer\">Hamcrest</a>:</p>\n\n<pre><code>import static org.hamcrest.CoreMatchers.instanceOf;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\nimport org.junit.jupiter.api.Test;\n\nclass HamcrestAssertionDemo {\n\n    @Test\n    void assertWithHamcrestMatcher() {\n        SubClass subClass = new SubClass();\n        assertThat(subClass, instanceOf(BaseClass.class));\n    }\n\n}\n</code></pre>\n\n<p>Example for <a href=\"https://joel-costigliola.github.io/assertj/\" rel=\"noreferrer\">AssertJ</a>:</p>\n\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n\nimport org.junit.jupiter.api.Test;\n\nclass AssertJDemo {\n\n    @Test\n    void assertWithAssertJ() {\n        SubClass subClass = new SubClass();\n        assertThat(subClass).isInstanceOf(BaseClass.class);\n    }\n\n}\n</code></pre>\n\n<p>Note that this assumes you want to test behaviors similar to <code>instanceof</code> (which accepts subclasses). If you want exact equal type, I don’t see a better way than asserting the two class to be equal like you mentioned in the question.</p>\n"},{"comments":[{"owner":{"account_id":135086,"reputation":709,"user_id":337666,"display_name":"Shrikant Prabhu"},"score":2,"creation_date":1626199613,"post_id":60887342,"comment_id":120828019,"body_markdown":"use `  assertThat(actualException, not(instanceOf(BaseClass.class))); ` for negative test.","body":"use `  assertThat(actualException, not(instanceOf(BaseClass.class))); ` for negative test."}],"tags":[],"owner":{"account_id":990768,"reputation":6513,"user_id":1008162,"accept_rate":90,"display_name":"Naruto Sempai"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1585316871,"creation_date":1585316871,"answer_id":60887342,"question_id":12404650,"body_markdown":"## Solution for JUnit 5 for Kotlin!\r\n\r\n\r\nExample for [Hamcrest](http://hamcrest.org/JavaHamcrest/):\r\n    \r\n    import org.hamcrest.CoreMatchers\r\n    import org.hamcrest.MatcherAssert\r\n    import org.junit.jupiter.api.Test\r\n\r\n    class HamcrestAssertionDemo {\r\n\r\n        @Test\r\n        fun assertWithHamcrestMatcher() {\r\n            val subClass = SubClass()\r\n            MatcherAssert.assertThat(subClass, CoreMatchers.instanceOf&lt;Any&gt;(BaseClass::class.java))\r\n        }\r\n\r\n    }\r\n\r\nExample for [AssertJ](https://joel-costigliola.github.io/assertj/):\r\n\r\n    import org.assertj.core.api.Assertions.assertThat\r\n    import org.junit.jupiter.api.Test\r\n\r\n    class AssertJDemo {\r\n\r\n        @Test\r\n        fun assertWithAssertJ() {\r\n            val subClass = SubClass()\r\n            assertThat(subClass).isInstanceOf(BaseClass::class.java)\r\n        }\r\n\r\n    }\r\n","title":"Assert an object is a specific type","body":"<h2>Solution for JUnit 5 for Kotlin!</h2>\n\n<p>Example for <a href=\"http://hamcrest.org/JavaHamcrest/\" rel=\"noreferrer\">Hamcrest</a>:</p>\n\n<pre><code>import org.hamcrest.CoreMatchers\nimport org.hamcrest.MatcherAssert\nimport org.junit.jupiter.api.Test\n\nclass HamcrestAssertionDemo {\n\n    @Test\n    fun assertWithHamcrestMatcher() {\n        val subClass = SubClass()\n        MatcherAssert.assertThat(subClass, CoreMatchers.instanceOf&lt;Any&gt;(BaseClass::class.java))\n    }\n\n}\n</code></pre>\n\n<p>Example for <a href=\"https://joel-costigliola.github.io/assertj/\" rel=\"noreferrer\">AssertJ</a>:</p>\n\n<pre><code>import org.assertj.core.api.Assertions.assertThat\nimport org.junit.jupiter.api.Test\n\nclass AssertJDemo {\n\n    @Test\n    fun assertWithAssertJ() {\n        val subClass = SubClass()\n        assertThat(subClass).isInstanceOf(BaseClass::class.java)\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6404158,"reputation":1382,"user_id":4965949,"display_name":"Mahmoud Mabrok"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1631461801,"creation_date":1631461801,"answer_id":69153008,"question_id":12404650,"body_markdown":"# Solution for JUnit  for Kotlin\r\n\r\nWhat worked for me: \r\n\r\n    assert(obj is ClassName)\r\n    \r\nfor exmaple \r\n\r\n    assert(obj is User)\r\n\r\n\r\nNOTE: assert is coming from `AssertionsJVM.kt` file ","title":"Assert an object is a specific type","body":"<h1>Solution for JUnit  for Kotlin</h1>\n<p>What worked for me:</p>\n<pre><code>assert(obj is ClassName)\n</code></pre>\n<p>for exmaple</p>\n<pre><code>assert(obj is User)\n</code></pre>\n<p>NOTE: assert is coming from <code>AssertionsJVM.kt</code> file</p>\n"},{"tags":[],"owner":{"account_id":2164330,"reputation":2179,"user_id":1917745,"display_name":"gla3dr"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1696992479,"creation_date":1642809206,"answer_id":70808831,"question_id":12404650,"body_markdown":"# Experimental Solution for JUnit 5.8\r\n\r\nIn JUnit 5.8, the **experimental** [`assertInstanceOf()`][1] method was added, so you don&#39;t need Hamcrest or AssertJ anymore. The solution is now as simple as:\r\n\r\n```java\r\nimport static org.junit.jupiter.api.Assertions.assertInstanceOf;\r\n\r\nimport org.junit.Test;\r\n\r\npublic class InstanceOfTest {\r\n\r\n    @Test\r\n    public void testInstanceOf() {\r\n        SubClass subClass = new SubClass();\r\n        assertInstanceOf(BaseClass.class, subClass);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertInstanceOf(java.lang.Class,java.lang.Object)","title":"Assert an object is a specific type","body":"<h1>Experimental Solution for JUnit 5.8</h1>\n<p>In JUnit 5.8, the <strong>experimental</strong> <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html#assertInstanceOf(java.lang.Class,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>assertInstanceOf()</code></a> method was added, so you don't need Hamcrest or AssertJ anymore. The solution is now as simple as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.junit.jupiter.api.Assertions.assertInstanceOf;\n\nimport org.junit.Test;\n\npublic class InstanceOfTest {\n\n    @Test\n    public void testInstanceOf() {\n        SubClass subClass = new SubClass();\n        assertInstanceOf(BaseClass.class, subClass);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289732,"favorite_count":0,"down_vote_count":0,"up_vote_count":240,"accepted_answer_id":12404813,"answer_count":6,"score":240,"last_activity_date":1699527434,"creation_date":1347533677,"question_id":12404650,"body_markdown":"Is it possible in JUnit to assert an object is an instance of a class? For various reasons I have an object in my test that I want to check the type of. Is it a type of Object1 or a type of Object2?\r\n\r\nCurrently I have:\r\n\r\n    assertTrue(myObject instanceof Object1);\r\n    assertTrue(myObject instanceof Object2);\r\n\r\nThis works but I was wondering if there is a more expressive way of doing this.\r\n\r\nFor example something like:\r\n\r\n    assertObjectIsClass(myObject, Object1);\r\n\r\nI could do this:\r\n\r\n    assertEquals(Object1.class, myObject.getClass());\r\n\r\n\r\nIs there a specific assert method that allows me to test a type of an object in a more elegant, fluid manner?\r\n\r\n","title":"Assert an object is a specific type","body":"<p>Is it possible in JUnit to assert an object is an instance of a class? For various reasons I have an object in my test that I want to check the type of. Is it a type of Object1 or a type of Object2?</p>\n<p>Currently I have:</p>\n<pre><code>assertTrue(myObject instanceof Object1);\nassertTrue(myObject instanceof Object2);\n</code></pre>\n<p>This works but I was wondering if there is a more expressive way of doing this.</p>\n<p>For example something like:</p>\n<pre><code>assertObjectIsClass(myObject, Object1);\n</code></pre>\n<p>I could do this:</p>\n<pre><code>assertEquals(Object1.class, myObject.getClass());\n</code></pre>\n<p>Is there a specific assert method that allows me to test a type of an object in a more elegant, fluid manner?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1699526729,"post_id":77452459,"comment_id":136544388,"body_markdown":"How long is &quot;forever&quot;? Also, does it complete eventually or it just hangs there?","body":"How long is &quot;forever&quot;? Also, does it complete eventually or it just hangs there?"},{"owner":{"account_id":28195031,"reputation":9,"user_id":21549819,"display_name":"Mizan"},"score":0,"creation_date":1699526870,"post_id":77452459,"comment_id":136544414,"body_markdown":"it just hang there","body":"it just hang there"}],"owner":{"account_id":28195031,"reputation":9,"user_id":21549819,"display_name":"Mizan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":0,"score":-2,"last_activity_date":1699527335,"creation_date":1699526609,"question_id":77452459,"body_markdown":"[enter image description here](https://i.stack.imgur.com/tsie5.png)\r\n\r\ni am using netbeans 15, server glassfish 5.1.0, java 7 EE web, JDK 1.8\r\n\r\nI am trying to creating a new database call student under java db but instead of creating it, it try to connecting to database and take forever to complete it. \r\n\r\nHow do i counter this problem?","title":"Creating database in Netbeans 15","body":"<p><a href=\"https://i.stack.imgur.com/tsie5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>i am using netbeans 15, server glassfish 5.1.0, java 7 EE web, JDK 1.8</p>\n<p>I am trying to creating a new database call student under java db but instead of creating it, it try to connecting to database and take forever to complete it.</p>\n<p>How do i counter this problem?</p>\n"},{"tags":["java","amazon-dynamodb","certificate","quarkus","java-11"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699527172,"creation_date":1699527172,"answer_id":77452522,"question_id":77452332,"body_markdown":"DynamoDB will save exactly what you provide it, you&#39;re saving a String with `\\n` included, so DynamoDB saves it as is. \r\n\r\nDynamoDB is a database, not a from end rendering tool, it has no notion of what `\\n` means. You could consider saving each line as an element in a list, and then render those on from the list when you require it. ","title":"/n in string should not be stored in dynamodb","body":"<p>DynamoDB will save exactly what you provide it, you're saving a String with <code>\\n</code> included, so DynamoDB saves it as is.</p>\n<p>DynamoDB is a database, not a from end rendering tool, it has no notion of what <code>\\n</code> means. You could consider saving each line as an element in a list, and then render those on from the list when you require it.</p>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699527172,"creation_date":1699525454,"question_id":77452332,"body_markdown":"In our application we have a certificate which we put in our application.properties like blow\r\n\r\n```\r\ncert=-----BEGIN CERTIFICATE-----\\nMISDNAJJBSJdsa\\nSBAKskjacssack\\n...\\n-----END CERTIFICATE-----\r\n```\r\nNow we retrieve this property as a String and store it in dynamodb but when we store this it still persisting this \\n which we don&#39;t need. Plus we can&#39;t change the data member type from String to any other type.\r\n\r\ncurrently in dyanmodb\r\n```\r\n-----BEGIN CERTIFICATE-----\\nMISDNAJJBSJdsa\\nSBAKskjacssack\\n...\\n-----END CERTIFICATE--\r\n```\r\nexpected entry in dynamodb\r\n```\r\n-----BEGIN CERTIFICATE-----\r\nMISDNAJJBSJdsa\r\nSBAKskjacssack\r\n.\r\n.\r\n.\r\n-----END CERTIFICATE--\r\n```\r\n","title":"/n in string should not be stored in dynamodb","body":"<p>In our application we have a certificate which we put in our application.properties like blow</p>\n<pre><code>cert=-----BEGIN CERTIFICATE-----\\nMISDNAJJBSJdsa\\nSBAKskjacssack\\n...\\n-----END CERTIFICATE-----\n</code></pre>\n<p>Now we retrieve this property as a String and store it in dynamodb but when we store this it still persisting this \\n which we don't need. Plus we can't change the data member type from String to any other type.</p>\n<p>currently in dyanmodb</p>\n<pre><code>-----BEGIN CERTIFICATE-----\\nMISDNAJJBSJdsa\\nSBAKskjacssack\\n...\\n-----END CERTIFICATE--\n</code></pre>\n<p>expected entry in dynamodb</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMISDNAJJBSJdsa\nSBAKskjacssack\n.\n.\n.\n-----END CERTIFICATE--\n</code></pre>\n"},{"tags":["java","spring","rabbitmq","spring-cloud-stream"],"comments":[{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1699529939,"post_id":77452516,"comment_id":136544978,"body_markdown":"I don&#39;t mean to say RTFM, but was wondering if you saw this - https://docs.spring.io/spring-cloud-stream/reference/4.1/rabbit/rabbit_overview/publisher-confirms.html#page-title. Please take a look and if you still have questions feel free to post a followup.","body":"I don&#39;t mean to say RTFM, but was wondering if you saw this - <a href=\"https://docs.spring.io/spring-cloud-stream/reference/4.1/rabbit/rabbit_overview/publisher-confirms.html#page-title\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-stream/reference/4.1/rabbit/&hellip;</a>. Please take a look and if you still have questions feel free to post a followup."},{"owner":{"account_id":374940,"reputation":475,"user_id":725455,"accept_rate":51,"display_name":"user725455"},"score":0,"creation_date":1699532563,"post_id":77452516,"comment_id":136545430,"body_markdown":"Sorry Oleg. I did not check this new development version","body":"Sorry Oleg. I did not check this new development version"}],"owner":{"account_id":374940,"reputation":475,"user_id":725455,"accept_rate":51,"display_name":"user725455"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699527103,"creation_date":1699527103,"question_id":77452516,"body_markdown":"I have several spring boot applications that uses spring cloud stream for messaging. I use rabbitmq as binder.\r\n\r\nI am trying to send a message from one microservice to another. In Producer side, before sending message to consumer microservice , I am changing status of one entity to RUNNING. In case consumer service  is down, I need to revert changes to my entity.  I am trying to find a way to acknowledge producer side, if message is consumed by consumer side or not . I wonder if we can use rabbitmq binder consumer acknowledgeMode =AUTO property. Or any other solution. Could you give me a hint about problem ? \r\n\r\n","title":"Spring Cloud Stream notify Producer that message is consumed","body":"<p>I have several spring boot applications that uses spring cloud stream for messaging. I use rabbitmq as binder.</p>\n<p>I am trying to send a message from one microservice to another. In Producer side, before sending message to consumer microservice , I am changing status of one entity to RUNNING. In case consumer service  is down, I need to revert changes to my entity.  I am trying to find a way to acknowledge producer side, if message is consumed by consumer side or not . I wonder if we can use rabbitmq binder consumer acknowledgeMode =AUTO property. Or any other solution. Could you give me a hint about problem ?</p>\n"},{"tags":["java","android","sql","oracle","android-studio"],"comments":[{"owner":{"account_id":6044576,"reputation":339,"user_id":22699961,"display_name":"FriendlyDragon"},"score":0,"creation_date":1698433356,"post_id":77374109,"comment_id":136409862,"body_markdown":"Did you check this already? https://stackoverflow.com/questions/68508321/android-java-lang-noclassdeffounderror-failed-resolution-of-lcom-mysql-cj-mys I am really not sure, that you have drivers for Oracle on your Android device...","body":"Did you check this already? <a href=\"https://stackoverflow.com/questions/68508321/android-java-lang-noclassdeffounderror-failed-resolution-of-lcom-mysql-cj-mys\" title=\"android java lang noclassdeffounderror failed resolution of lcom mysql cj mys\">stackoverflow.com/questions/68508321/&hellip;</a> I am really not sure, that you have drivers for Oracle on your Android device..."}],"answers":[{"tags":[],"owner":{"account_id":29854220,"reputation":19,"user_id":22879420,"display_name":"T N MOHITH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699526808,"creation_date":1699526808,"answer_id":77452487,"question_id":77374109,"body_markdown":"while I was working with java database connection I faced the same issue of driver not loading then I changed the dependencies the xml file and it worked fine for me .\r\nso try changing the dependencies it should work fine then.","title":"Trouble querying Oracle database in Android app with Java","body":"<p>while I was working with java database connection I faced the same issue of driver not loading then I changed the dependencies the xml file and it worked fine for me .\nso try changing the dependencies it should work fine then.</p>\n"}],"owner":{"account_id":28711018,"reputation":1,"user_id":21986511,"display_name":"newbie123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699526808,"creation_date":1698409452,"question_id":77374109,"body_markdown":"I&#39;m currently working on an Android app that needs to fetch data from an Oracle database using Java. I&#39;ve already written code for this purpose, which runs perfectly in IntelliJ IDEA, but when I try to run the same code in my Android app, I encounter issues. I have connected oracle drivers.\r\nI know its maybe not the best way to connect database directly, but it&#39;s on our university&#39;s server, so we&#39;re dependent on it.\r\nError:  java.lang.NoClassDefFoundError: Failed resolution of: Ljava/sql/DriverAction;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    TextView textView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        textView = findViewById(R.id.textView1);\r\n        AppCompatButton button = findViewById(R.id.button);\r\n\r\n        button.setOnClickListener(l -&gt; {\r\n            try {\r\n                validateLogin();\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void validateLogin() throws SQLException {\r\n\r\n        DatabaseConnection connnectNow = new DatabaseConnection();\r\n        Connection connectDB = connnectNow.getConnection();\r\n\r\n\r\n        String countUsers = &quot;SELECT ... FROM ...&quot;;\r\n        Statement statement = connectDB.createStatement();\r\n        ResultSet queryResult = statement.executeQuery(countUsers);\r\n        while (queryResult.next()) {\r\n            textView.setText(...);\r\n        }\r\n    }\r\n}\r\n\r\n    public class DatabaseConnection {\r\n\r\n    public Connection databaseLink;\r\n\r\n    public Connection getConnection() {\r\n\r\n        String databaseUser = &quot;...&quot;;\r\n        String databasePassword = &quot;...&quot;;\r\n        String url = &quot;jdbc:oracle:thin:@...:...:orcl&quot;;\r\n\r\n        try {\r\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n            databaseLink = DriverManager.getConnection(url, databaseUser, databasePassword);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return databaseLink;\r\n    }\r\n}\r\n\r\n","title":"Trouble querying Oracle database in Android app with Java","body":"<p>I'm currently working on an Android app that needs to fetch data from an Oracle database using Java. I've already written code for this purpose, which runs perfectly in IntelliJ IDEA, but when I try to run the same code in my Android app, I encounter issues. I have connected oracle drivers.\nI know its maybe not the best way to connect database directly, but it's on our university's server, so we're dependent on it.\nError:  java.lang.NoClassDefFoundError: Failed resolution of: Ljava/sql/DriverAction;</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nTextView textView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    textView = findViewById(R.id.textView1);\n    AppCompatButton button = findViewById(R.id.button);\n\n    button.setOnClickListener(l -&gt; {\n        try {\n            validateLogin();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    });\n}\n\npublic void validateLogin() throws SQLException {\n\n    DatabaseConnection connnectNow = new DatabaseConnection();\n    Connection connectDB = connnectNow.getConnection();\n\n\n    String countUsers = &quot;SELECT ... FROM ...&quot;;\n    Statement statement = connectDB.createStatement();\n    ResultSet queryResult = statement.executeQuery(countUsers);\n    while (queryResult.next()) {\n        textView.setText(...);\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class DatabaseConnection {\n\npublic Connection databaseLink;\n\npublic Connection getConnection() {\n\n    String databaseUser = &quot;...&quot;;\n    String databasePassword = &quot;...&quot;;\n    String url = &quot;jdbc:oracle:thin:@...:...:orcl&quot;;\n\n    try {\n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n        databaseLink = DriverManager.getConnection(url, databaseUser, databasePassword);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return databaseLink;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":2,"creation_date":1699460876,"post_id":77447257,"comment_id":136535222,"body_markdown":"No such feature exists in the [underlying S3 API](https://docs.aws.amazon.com/AmazonS3/latest/API/API_Operations_Amazon_Simple_Storage_Service.html).  At best, you can setup [S3 Inventory](https://docs.aws.amazon.com/AmazonS3/latest/userguide/storage-inventory.html) and parse the results, though you will still need to filter the results somehow.","body":"No such feature exists in the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_Operations_Amazon_Simple_Storage_Service.html\" rel=\"nofollow noreferrer\">underlying S3 API</a>.  At best, you can setup <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/storage-inventory.html\" rel=\"nofollow noreferrer\">S3 Inventory</a> and parse the results, though you will still need to filter the results somehow."},{"owner":{"account_id":16015624,"reputation":145,"user_id":11558444,"display_name":"devMohaned"},"score":0,"creation_date":1699907859,"post_id":77447257,"comment_id":136587465,"body_markdown":"Thanks Anon, It indeed seems like there is no solution from the server-side, I am not sure how can I put your comment as an answer, but thanks","body":"Thanks Anon, It indeed seems like there is no solution from the server-side, I am not sure how can I put your comment as an answer, but thanks"}],"owner":{"account_id":16015624,"reputation":145,"user_id":11558444,"display_name":"devMohaned"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699526610,"creation_date":1699460416,"question_id":77447257,"body_markdown":"Most available solution are giving a **client-side** solution, which is not **performance-optimal.**\r\n\r\nI am looking for a solution from the **server-side**, where I do not need to get files locally(client), and then to filter through them.\r\n\r\nWhat I want to achieve is something like an AWS method, where I call something similar to this:\r\n\r\n     var filesAfterCertainModifiedDate = s3.GetFilesAfterLastModifiedDate(modifiedDate);\r\n\r\nAnd AWS makes the query filtration for me, \r\n \r\nIt&#39;s related to this issue:\r\nhttps://github.com/aws/aws-cli/issues/1104\r\n\r\n\r\n\r\nIs that possible?","title":"Is it possible to get S3 files using ONLY modified date from server-side?","body":"<p>Most available solution are giving a <strong>client-side</strong> solution, which is not <strong>performance-optimal.</strong></p>\n<p>I am looking for a solution from the <strong>server-side</strong>, where I do not need to get files locally(client), and then to filter through them.</p>\n<p>What I want to achieve is something like an AWS method, where I call something similar to this:</p>\n<pre><code> var filesAfterCertainModifiedDate = s3.GetFilesAfterLastModifiedDate(modifiedDate);\n</code></pre>\n<p>And AWS makes the query filtration for me,</p>\n<p>It's related to this issue:\n<a href=\"https://github.com/aws/aws-cli/issues/1104\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-cli/issues/1104</a></p>\n<p>Is that possible?</p>\n"},{"tags":["java","gradle","libraries"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1699521420,"post_id":77451046,"comment_id":136543308,"body_markdown":"Which “newer versions” are you talking about? As you can see on the page you linked yourself, there’s no activity since 2006.","body":"Which “newer versions” are you talking about? As you can see on the page you linked yourself, there’s no activity since 2006."},{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":2,"creation_date":1699523833,"post_id":77451046,"comment_id":136543821,"body_markdown":"There&#39;s no universal way to indicate this compatibility, so your two options are really just a.) read the documentation/release notes of the library or b.) try it and see if it crashes. One general rule of thumb: minor and patch releases (i.e. 1.4-&gt;1.5 or 1.4.1 -&gt; 1.4.4) *tend* to not break compatibility with a JRE.","body":"There&#39;s no universal way to indicate this compatibility, so your two options are really just a.) read the documentation/release notes of the library or b.) try it and see if it crashes. One general rule of thumb: minor and patch releases (i.e. 1.4-&gt;1.5 or 1.4.1 -&gt; 1.4.4) <i>tend</i> to not break compatibility with a JRE."},{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":0,"creation_date":1699524014,"post_id":77451046,"comment_id":136543848,"body_markdown":"@Holger: there&#39;s 1.4.7 which is &quot;only&quot; 10 years old as opposed to 14 years old ....","body":"@Holger: there&#39;s 1.4.7 which is &quot;only&quot; 10 years old as opposed to 14 years old ...."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1699524248,"post_id":77451046,"comment_id":136543899,"body_markdown":"JavaMail is now [JakartaMail](https://jakartaee.github.io/mail-api/) + [Eclipse Angus](https://projects.eclipse.org/projects/ee4j.angus). And even if you insist on using JavaMail, then you should be using the 1.6.x version, not 1.4 (and especially not the initial 1.4).","body":"JavaMail is now <a href=\"https://jakartaee.github.io/mail-api/\" rel=\"nofollow noreferrer\">JakartaMail</a> + <a href=\"https://projects.eclipse.org/projects/ee4j.angus\" rel=\"nofollow noreferrer\">Eclipse Angus</a>. And even if you insist on using JavaMail, then you should be using the 1.6.x version, not 1.4 (and especially not the initial 1.4)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699524274,"post_id":77451046,"comment_id":136543905,"body_markdown":"@JoachimSauer so the OP should have looked at the page of that version instead. Not that it matters much as it is still older then Java&#160;8…","body":"@JoachimSauer so the OP should have looked at the page of that version instead. Not that it matters much as it is still older then Java 8…"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699524433,"post_id":77451046,"comment_id":136543941,"body_markdown":"@MarkRotteveel I suppose, the OP did not find the 1.6.x version on [that page](https://mvnrepository.com/artifact/javax.mail/mail)","body":"@MarkRotteveel I suppose, the OP did not find the 1.6.x version on <a href=\"https://mvnrepository.com/artifact/javax.mail/mail\" rel=\"nofollow noreferrer\">that page</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1699525000,"post_id":77451046,"comment_id":136544061,"body_markdown":"@Holger That is because Oracle in all their wisdom has been changing artifact names without defining relocation artifacts, or that 1.4 was released as `javax.mail:mail` was probably an error, as only the specification should be under `javax.mail`, while the (original) reference implementation is under groupId `com.sun.mail`, e.g. `com.sun.mail:jakarta.mail` or `com.sun.mail:javax.mail`, and now `org.eclipse.angus:angus-mail`. On top of that mvnrepository.com is not an authoritative reference, it is just an aggregator of information from various Maven repositories..","body":"@Holger That is because Oracle in all their wisdom has been changing artifact names without defining relocation artifacts, or that 1.4 was released as <code>javax.mail:mail</code> was probably an error, as only the specification should be under <code>javax.mail</code>, while the (original) reference implementation is under groupId <code>com.sun.mail</code>, e.g. <code>com.sun.mail:jakarta.mail</code> or <code>com.sun.mail:javax.mail</code>, and now <code>org.eclipse.angus:angus-mail</code>. On top of that mvnrepository.com is not an authoritative reference, it is just an aggregator of information from various Maven repositories.."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1699526597,"creation_date":1699525639,"answer_id":77452350,"question_id":77451046,"body_markdown":"If you&#39;re using Spring Boot 2.7, then you should replace that `javax.mail:mail:1.4` dependency with:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nor for Gradle:\r\n\r\n```groovy\r\ncompile(&#39;com.sun.mail:jakarta.mail&#39;)\r\n```\r\n\r\n(no version, Spring Boot manages it for you, which for Spring Boot 2.7.19 will resolve to `com.sun.mail:jakarta.mail:1.6.7`.)\r\n\r\nJakartaMail/JavaMail 1.6.x supports Java 7 and higher.\r\n\r\nIf you upgrade to Spring Boot 3.x (which requires Java 17), you&#39;ll need to use\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.eclipse.angus&lt;/groupId&gt;\r\n  &lt;artifactId&gt;angus-mail&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nor for Gradle:\r\n\r\n```groovy\r\ncompile(&#39;org.eclipse.angus:angus-mail&#39;)\r\n```\r\n\r\nGoing to Spring Boot 3.x would also involve changes in the namespace of the API (from `javax.mail` to `jakarta.mail`), so that will require some code changes.\r\n\r\nFor Velocity, you probably need to upgrade to version 2.3 (which supports Java 8 or higher), see the [Apache Velocity][1] site, but I&#39;m not sure what is involved in upgrading from version 1.7 to 2.3, so that might be a lot of work (e.g. see the 2.0 documentation [Upgrading from earlier versions][2]; also check the 2.3 documentation for 2.1, 2.2 and 2.3 changes).\r\n\r\n\r\n  [1]: https://velocity.apache.org/\r\n  [2]: https://velocity.apache.org/engine/2.0/upgrading.html","title":"Java compatibility of Java library","body":"<p>If you're using Spring Boot 2.7, then you should replace that <code>javax.mail:mail:1.4</code> dependency with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or for Gradle:</p>\n<pre><code>compile('com.sun.mail:jakarta.mail')\n</code></pre>\n<p>(no version, Spring Boot manages it for you, which for Spring Boot 2.7.19 will resolve to <code>com.sun.mail:jakarta.mail:1.6.7</code>.)</p>\n<p>JakartaMail/JavaMail 1.6.x supports Java 7 and higher.</p>\n<p>If you upgrade to Spring Boot 3.x (which requires Java 17), you'll need to use</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.angus&lt;/groupId&gt;\n  &lt;artifactId&gt;angus-mail&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or for Gradle:</p>\n<pre><code>compile('org.eclipse.angus:angus-mail')\n</code></pre>\n<p>Going to Spring Boot 3.x would also involve changes in the namespace of the API (from <code>javax.mail</code> to <code>jakarta.mail</code>), so that will require some code changes.</p>\n<p>For Velocity, you probably need to upgrade to version 2.3 (which supports Java 8 or higher), see the <a href=\"https://velocity.apache.org/\" rel=\"nofollow noreferrer\">Apache Velocity</a> site, but I'm not sure what is involved in upgrading from version 1.7 to 2.3, so that might be a lot of work (e.g. see the 2.0 documentation <a href=\"https://velocity.apache.org/engine/2.0/upgrading.html\" rel=\"nofollow noreferrer\">Upgrading from earlier versions</a>; also check the 2.3 documentation for 2.1, 2.2 and 2.3 changes).</p>\n"}],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77452350,"answer_count":1,"score":-2,"last_activity_date":1699526597,"creation_date":1699512865,"question_id":77451046,"body_markdown":"How do I determine which Java version a Java library is compatible with?\r\n\r\nFor reference, I need to upgrade the following libraries:\r\n\r\n```\r\n// build.gradle\r\n\r\ndependencies {\r\n  compile(&#39;javax.mail:mail:1.4&#39;)\r\n  compile group: &#39;org.apache.velocity&#39;, name: &#39;velocity&#39;, version: &#39;1.7&#39;\r\n}\r\n```\r\n\r\nAnd my Spring Boot project uses Java 8.\r\n\r\nI would like to know if newer versions of these 2 libraries will still support Java 8.\r\n\r\nRight now, I&#39;m looking at the mvnrepository page for JavaMail API [here](https://mvnrepository.com/artifact/javax.mail/mail/1.4), but I don&#39;t see anything being mentioned about which Java version is being supported.\r\n","title":"Java compatibility of Java library","body":"<p>How do I determine which Java version a Java library is compatible with?</p>\n<p>For reference, I need to upgrade the following libraries:</p>\n<pre><code>// build.gradle\n\ndependencies {\n  compile('javax.mail:mail:1.4')\n  compile group: 'org.apache.velocity', name: 'velocity', version: '1.7'\n}\n</code></pre>\n<p>And my Spring Boot project uses Java 8.</p>\n<p>I would like to know if newer versions of these 2 libraries will still support Java 8.</p>\n<p>Right now, I'm looking at the mvnrepository page for JavaMail API <a href=\"https://mvnrepository.com/artifact/javax.mail/mail/1.4\" rel=\"nofollow noreferrer\">here</a>, but I don't see anything being mentioned about which Java version is being supported.</p>\n"},{"tags":["java","spring","dependencies","code-injection"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1699516382,"post_id":77451326,"comment_id":136542349,"body_markdown":"basically, a Bean is a singleton. You can declare separate ones by using Qualifier, but in your code, as Scary Wombat points out, you never define those fields, so I&#39;m surprised it compiles, let alone runs","body":"basically, a Bean is a singleton. You can declare separate ones by using Qualifier, but in your code, as Scary Wombat points out, you never define those fields, so I&#39;m surprised it compiles, let alone runs"},{"owner":{"account_id":26579307,"reputation":1,"user_id":20204203,"display_name":"Aishmita Kakkar"},"score":0,"creation_date":1699516763,"post_id":77451326,"comment_id":136542412,"body_markdown":"@Stultuske I have edited the same to mention the creation of these fields","body":"@Stultuske I have edited the same to mention the creation of these fields"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1699517685,"post_id":77451326,"comment_id":136542554,"body_markdown":"Maybe https://www.baeldung.com/spring-qualifier-annotation helps","body":"Maybe <a href=\"https://www.baeldung.com/spring-qualifier-annotation\" rel=\"nofollow noreferrer\">baeldung.com/spring-qualifier-annotation</a> helps"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1699518401,"post_id":77451326,"comment_id":136542695,"body_markdown":"and also https://stackoverflow.com/a/56644805/2310289","body":"and also <a href=\"https://stackoverflow.com/a/56644805/2310289\">stackoverflow.com/a/56644805/2310289</a>"}],"owner":{"account_id":26579307,"reputation":1,"user_id":20204203,"display_name":"Aishmita Kakkar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699525655,"creation_date":1699515910,"question_id":77451326,"body_markdown":"\r\n```\r\n@Configuration\r\npublic abstract Class C{\r\n  @Bean\r\n  protected abstract Object getObject();\r\n}\r\n\r\n@Configuration\r\nClass A extends class C{\r\n   protected Object getObject(){\r\n      Map&lt;String, String&gt; object1 = new HashMap()&lt;&gt;;\r\n      object1.put(“key1”,”val1”);\r\n      return object1;\r\n    }\r\n}\r\n\r\n@Configuration\r\nClass B extends class C{\r\n   protected Object getObject(){\r\n      Map&lt;String, String&gt; object2 = new HashMap()&lt;&gt;;\r\n      object2.put(“key2”,”val2”);\r\n      return object2;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen Beans are created on server start, both of classes A and B return object1 on calling getObject().\r\nHow will I be able to return different objects for different classes, seems like they are using the same bean?\r\n\r\nI tried using @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE) on the abstract class method, it still was returning object1 for both the method calls.","title":"Override spring bean in abstract impl in spring 2.0","body":"<pre><code>@Configuration\npublic abstract Class C{\n  @Bean\n  protected abstract Object getObject();\n}\n\n@Configuration\nClass A extends class C{\n   protected Object getObject(){\n      Map&lt;String, String&gt; object1 = new HashMap()&lt;&gt;;\n      object1.put(“key1”,”val1”);\n      return object1;\n    }\n}\n\n@Configuration\nClass B extends class C{\n   protected Object getObject(){\n      Map&lt;String, String&gt; object2 = new HashMap()&lt;&gt;;\n      object2.put(“key2”,”val2”);\n      return object2;\n    }\n}\n</code></pre>\n<p>When Beans are created on server start, both of classes A and B return object1 on calling getObject().\nHow will I be able to return different objects for different classes, seems like they are using the same bean?</p>\n<p>I tried using @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE) on the abstract class method, it still was returning object1 for both the method calls.</p>\n"},{"tags":["java","spring","intellij-idea","db2"],"comments":[{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1699519639,"post_id":77449059,"comment_id":136542972,"body_markdown":"This seems to be a problem determination question, not a programming question. You have a working case, and a failing case. Compare the output of `select current path from sysibm.sysdummy1` for both cases (if all other factors are identical as you say). If that yields no differences, compare the jdbc trace output for both cases. Refer to docs for enabling jdbc trace.","body":"This seems to be a problem determination question, not a programming question. You have a working case, and a failing case. Compare the output of <code>select current path from sysibm.sysdummy1</code> for both cases (if all other factors are identical as you say). If that yields no differences, compare the jdbc trace output for both cases. Refer to docs for enabling jdbc trace."},{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":0,"creation_date":1699520444,"post_id":77449059,"comment_id":136543126,"body_markdown":"`current path` is also identical. Thank you, will try to trace then and get back","body":"<code>current path</code> is also identical. Thank you, will try to trace then and get back"},{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":0,"creation_date":1699525401,"post_id":77449059,"comment_id":136544145,"body_markdown":"Ok, I see that IntelliJ makes `Connection.createStatement()`, then `Statement.execute(&quot;CALL {SCHEMA}.{MY_PROCEDURE}(&#39;test&#39;);&quot;)`, and while making the same manually via JDBC, I get the same error. No error when using `Connection.prepareWhatever(&quot;...&quot;)`. Is there a way to configure JDBC driver usage in IntelliJ for these calls?","body":"Ok, I see that IntelliJ makes <code>Connection.createStatement()</code>, then <code>Statement.execute(&quot;CALL {SCHEMA}.{MY_PROCEDURE}(&#39;test&#39;);&quot;)</code>, and while making the same manually via JDBC, I get the same error. No error when using <code>Connection.prepareWhatever(&quot;...&quot;)</code>. Is there a way to configure JDBC driver usage in IntelliJ for these calls?"},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":1,"creation_date":1699529188,"post_id":77449059,"comment_id":136544871,"body_markdown":"When the target database-server is Db2-for-Z/OS, stored procedures that have input parameters can only be invoked by a preparedStatement (and otherwise will return the -440 code).. You need to open a ticket with the provider of Intellij to check if they have a way to handle this, or otherwise use a different development gui that correctly understands Db2-for-Z/OS.","body":"When the target database-server is Db2-for-Z/OS, stored procedures that have input parameters can only be invoked by a preparedStatement (and otherwise will return the -440 code).. You need to open a ticket with the provider of Intellij to check if they have a way to handle this, or otherwise use a different development gui that correctly understands Db2-for-Z/OS."},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1699529873,"post_id":77449059,"comment_id":136544968,"body_markdown":"Or use the CallableStatement interface","body":"Or use the CallableStatement interface"},{"owner":{"account_id":17383128,"reputation":5475,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1699551809,"post_id":77449059,"comment_id":136549610,"body_markdown":"For people having the same issue: https://youtrack.jetbrains.com/issue/DBE-19251 is the bug report to follow.","body":"For people having the same issue: <a href=\"https://youtrack.jetbrains.com/issue/DBE-19251\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/DBE-19251</a> is the bug report to follow."}],"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699525559,"creation_date":1699478791,"question_id":77449059,"body_markdown":"I have a problem with IntelliJ integration with DB2.\r\nWe have a Spring Boot application that uses MyBatis mappers to call procedures. It doesn&#39;t have any specific configuration, just plain URL + username + password.\r\n```yaml\r\nspring:\r\n  datasource:\r\n    url: jdbc:db2://ip:port/db_name\r\n    username: ...\r\n    password: ...\r\n    driver-class-name: com.ibm.db2.jcc.DB2Driver\r\n```\r\nDB2 procedure doesn&#39;t have OUT params, only single IN.\r\nI am able to call it not only as the MyBatis mapper query, but plain old JDBC `PreparedStatement` etc.\r\nHowever, when trying to call the same procedure in IntelliJ, while using the same driver+license, the same user, the same url, db, etc., I receive an error:\r\n\r\n`SQLCODE=-440, SQLSTATE=42884, SQLERRMC=PROCEDURE;MY_PROCEDURE, DRIVER=4.28.11`\r\n\r\nAccording to this doc https://www.ibm.com/docs/en/db2-for-zos/11?topic=sec-440 there might be these causes:\r\n1. **The routine name was either incorrectly specified or does not exist in the database.** -- It definitely exists and I&#39;m able to call it via JDBC in Java code.\r\n2. **A qualified reference was used, and the schema qualifier was incorrectly specified.** -- When using JDBC, regardless of the schema being set, it executes as expected. The query itself contains that schema `CALL {SCHEMA}.{MY_PROCEDURE}(&#39;test&#39;);`. Apart from that, it doesn&#39;t matter which schema is chosen in the SQL session when using IntelliJ (either `SET schema USER` or `SET schema {SCHEMA}`)\r\n3. **The user&#39;s SQL path does not contain the schema to which the function belongs, and an unqualified reference was used.** -- This remains unclear, actually. Any additional clarifications are welcome...\r\n4. **The wrong number of arguments was included.** -- Not in this case\r\n5. **The right number of arguments was included in the routine reference, but the data type of one or more of the arguments is incorrect.** -- Not in this case either\r\n6. **The invoker of the routine is not authorized to execute the routine.** -- I couldn&#39;t find any difference between JDBC connection configuration and IntelliJ DataGrip one.\r\n\r\nSo, possibly, cause #3 is the one that restricts me from calling the procedure, but how could I fix that?","title":"How to properly setup a DataSource in IntelliJ for DB2 stored procedures usage?","body":"<p>I have a problem with IntelliJ integration with DB2.\nWe have a Spring Boot application that uses MyBatis mappers to call procedures. It doesn't have any specific configuration, just plain URL + username + password.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:db2://ip:port/db_name\n    username: ...\n    password: ...\n    driver-class-name: com.ibm.db2.jcc.DB2Driver\n</code></pre>\n<p>DB2 procedure doesn't have OUT params, only single IN.\nI am able to call it not only as the MyBatis mapper query, but plain old JDBC <code>PreparedStatement</code> etc.\nHowever, when trying to call the same procedure in IntelliJ, while using the same driver+license, the same user, the same url, db, etc., I receive an error:</p>\n<p><code>SQLCODE=-440, SQLSTATE=42884, SQLERRMC=PROCEDURE;MY_PROCEDURE, DRIVER=4.28.11</code></p>\n<p>According to this doc <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=sec-440\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/db2-for-zos/11?topic=sec-440</a> there might be these causes:</p>\n<ol>\n<li><strong>The routine name was either incorrectly specified or does not exist in the database.</strong> -- It definitely exists and I'm able to call it via JDBC in Java code.</li>\n<li><strong>A qualified reference was used, and the schema qualifier was incorrectly specified.</strong> -- When using JDBC, regardless of the schema being set, it executes as expected. The query itself contains that schema <code>CALL {SCHEMA}.{MY_PROCEDURE}('test');</code>. Apart from that, it doesn't matter which schema is chosen in the SQL session when using IntelliJ (either <code>SET schema USER</code> or <code>SET schema {SCHEMA}</code>)</li>\n<li><strong>The user's SQL path does not contain the schema to which the function belongs, and an unqualified reference was used.</strong> -- This remains unclear, actually. Any additional clarifications are welcome...</li>\n<li><strong>The wrong number of arguments was included.</strong> -- Not in this case</li>\n<li><strong>The right number of arguments was included in the routine reference, but the data type of one or more of the arguments is incorrect.</strong> -- Not in this case either</li>\n<li><strong>The invoker of the routine is not authorized to execute the routine.</strong> -- I couldn't find any difference between JDBC connection configuration and IntelliJ DataGrip one.</li>\n</ol>\n<p>So, possibly, cause #3 is the one that restricts me from calling the procedure, but how could I fix that?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9219329,"reputation":1156,"user_id":6849359,"accept_rate":50,"display_name":"Rafaela Louren&#231;o"},"score":0,"creation_date":1512592295,"post_id":47682940,"comment_id":82325216,"body_markdown":"Write your question in english","body":"Write your question in english"},{"owner":{"account_id":10934496,"reputation":3172,"user_id":8036670,"accept_rate":81,"display_name":"assembler"},"score":1,"creation_date":1512592304,"post_id":47682940,"comment_id":82325225,"body_markdown":"Stackoverflow is in english","body":"Stackoverflow is in english"},{"owner":{"account_id":7135226,"reputation":469,"user_id":5455101,"display_name":"Lodoss"},"score":0,"creation_date":1512592981,"post_id":47682940,"comment_id":82325581,"body_markdown":"https://pt.stackoverflow.com/","body":"<a href=\"https://pt.stackoverflow.com/\">pt.stackoverflow.com</a>"},{"owner":{"account_id":12448509,"reputation":1,"user_id":9063977,"display_name":"user9063977"},"score":0,"creation_date":1512593281,"post_id":47682940,"comment_id":82325761,"body_markdown":"Sorry. I am new here. Sorry!","body":"Sorry. I am new here. Sorry!"}],"answers":[{"comments":[{"owner":{"account_id":12448509,"reputation":1,"user_id":9063977,"display_name":"user9063977"},"score":0,"creation_date":1512594719,"post_id":47683316,"comment_id":82326506,"body_markdown":"Thank you very much. The values ​​were distributed separately. How do I save the result?","body":"Thank you very much. The values ​​were distributed separately. How do I save the result?"}],"tags":[],"owner":{"account_id":1176902,"reputation":884,"user_id":1152683,"accept_rate":60,"display_name":"Pedro Cavaleiro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699525215,"creation_date":1512593758,"answer_id":47683316,"question_id":47682940,"body_markdown":"Your receiving code is wrong. When you&#39;re sending the data you&#39;re sending through a intent, there&#39;s nothing wrong in there but when you&#39;re trying to receive you are getting from the SharedPreferences\r\n\r\nSo to access the data instead of this\r\n\r\n    SharedPreferences thumb_check = this.getSharedPreferences(\r\n                  &quot;ch4an.ytheloader&quot;, Context.MODE_PRIVATE);\r\n\r\nIt should be this\r\n\r\n    Intent thumb_check = getIntent();\r\n    String thumb_thumb = thumb_check.getStringExtra(&quot;trueThumbnail&quot;, &quot;checked_thumb&quot;); \r\n\r\nA rewrite of the receive code      \r\n\r\n        try {\r\n    \t// Get the intent passed through activities\r\n    \tIntent thumb_check = getIntent();\r\n    \t// Get the string in the extra\r\n    \tString intent_Thumb = thumb_check.getStringExtra(&quot;trueThumbnail&quot;, &quot;checked_thumb&quot;);\r\n    \r\n    \t// Get the shared preferences\r\n    \tSharedPreferences prefs = this.getSharedPreferences(\r\n                              &quot;ch4an.ytheloader&quot;, Context.MODE_PRIVATE);\r\n        \r\n    \t//To read from preferences\r\n            String pref_Thumb = prefs(&quot;trueThumbnail&quot;, &quot;checked_thumb&quot;);\r\n        \r\n    \t// preform what ever you want\r\n        \r\n    } catch (Throwable e) {\r\n    \tToast.makeText(MainActivity.this, &quot;Null checkBox&quot;, Toast.LENGTH_SHORT).show();\r\n             e.printStackTrace();\r\n    }\r\n\r\nYou&#39;re mixing the SharedPreferences and Intents and it seems that you are lost in that code\r\nMake sure you read the android documentation it helps a lot.\r\nhttps://developer.android.com/guide/components/intents-filters.html\r\n\r\n**EDIT** Responding your comment\r\n\r\n    SharedPreferences sharedPref = getSharedPreferences(&quot;ch4an.ytheloader&quot;, MODE_PRIVATE);\r\n    SharedPreferences.Editor editor = sharedPref.edit();\r\n    editor.putString(&quot;trueThumbnail&quot;, intent_Thumb);\r\n    // Or if you want to put a bool assuming that you have a\r\n    // variable called intent_Thumb_as_boolean as a boolean\r\n    editor.putBoolean(&quot;trueThumbnail&quot;, intent_Thumb_as_boolean);\r\n    editor.commit();\r\n\r\nCheck the android docs for the SharedPreferences\r\n\r\nhttps://developer.android.com/training/data-storage/shared-preferences.html","title":"Android - checkBox always sending true to a different activity","body":"<p>Your receiving code is wrong. When you're sending the data you're sending through a intent, there's nothing wrong in there but when you're trying to receive you are getting from the SharedPreferences</p>\n<p>So to access the data instead of this</p>\n<pre><code>SharedPreferences thumb_check = this.getSharedPreferences(\n              &quot;ch4an.ytheloader&quot;, Context.MODE_PRIVATE);\n</code></pre>\n<p>It should be this</p>\n<pre><code>Intent thumb_check = getIntent();\nString thumb_thumb = thumb_check.getStringExtra(&quot;trueThumbnail&quot;, &quot;checked_thumb&quot;); \n</code></pre>\n<p>A rewrite of the receive code</p>\n<pre><code>    try {\n    // Get the intent passed through activities\n    Intent thumb_check = getIntent();\n    // Get the string in the extra\n    String intent_Thumb = thumb_check.getStringExtra(&quot;trueThumbnail&quot;, &quot;checked_thumb&quot;);\n\n    // Get the shared preferences\n    SharedPreferences prefs = this.getSharedPreferences(\n                          &quot;ch4an.ytheloader&quot;, Context.MODE_PRIVATE);\n    \n    //To read from preferences\n        String pref_Thumb = prefs(&quot;trueThumbnail&quot;, &quot;checked_thumb&quot;);\n    \n    // preform what ever you want\n    \n} catch (Throwable e) {\n    Toast.makeText(MainActivity.this, &quot;Null checkBox&quot;, Toast.LENGTH_SHORT).show();\n         e.printStackTrace();\n}\n</code></pre>\n<p>You're mixing the SharedPreferences and Intents and it seems that you are lost in that code\nMake sure you read the android documentation it helps a lot.\n<a href=\"https://developer.android.com/guide/components/intents-filters.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/intents-filters.html</a></p>\n<p><strong>EDIT</strong> Responding your comment</p>\n<pre><code>SharedPreferences sharedPref = getSharedPreferences(&quot;ch4an.ytheloader&quot;, MODE_PRIVATE);\nSharedPreferences.Editor editor = sharedPref.edit();\neditor.putString(&quot;trueThumbnail&quot;, intent_Thumb);\n// Or if you want to put a bool assuming that you have a\n// variable called intent_Thumb_as_boolean as a boolean\neditor.putBoolean(&quot;trueThumbnail&quot;, intent_Thumb_as_boolean);\neditor.commit();\n</code></pre>\n<p>Check the android docs for the SharedPreferences</p>\n<p><a href=\"https://developer.android.com/training/data-storage/shared-preferences.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/shared-preferences.html</a></p>\n"}],"owner":{"account_id":12448509,"reputation":1,"user_id":9063977,"display_name":"user9063977"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":47683316,"answer_count":1,"score":-2,"last_activity_date":1699525215,"creation_date":1512592125,"question_id":47682940,"body_markdown":"I have manually created a Preferences Activity, where the checkbox data will be sent to a different Activity. When I send it, it is right. But when I receive it, I need to know if it is true or false, and I always get false.\r\n\r\nHere&#39;s my code to send:\r\n\r\n    @Override\r\n        public void onBackPressed() {\r\n    \t\t\r\n    \t\tif(checkBox.isChecked())\r\n    \t\t{\r\n    \t\t\tString trueThumb_check = &quot;checked_thumb&quot;;\r\n    \t\t\tIntent i = new Intent(getBaseContext(), MainActivity.class);\r\n    \t\t\ti.putExtra(&quot;trueThumbnail&quot;, trueThumb_check);\r\n    \t\t\tToast.makeText(Preferences.this, &quot;check prefs&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\tstartActivity(i);\r\n    \t\t\tkillAc();\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n                String falseThumb_check = &quot;not_check_thumb&quot;;\r\n    \t\t\tIntent i = new Intent(getBaseContext(), MainActivity.class);\r\n    \t\t\ti.putExtra(&quot;trueThumbnail&quot;, falseThumb_check);\r\n    \t\t\tToast.makeText(Preferences.this, &quot;not check prefs&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\tstartActivity(i);\r\n    \t\t\tkillAc();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n\r\nAnd to receive:\r\n\r\n    try {\r\n    \t\t\tSharedPreferences thumb_check = this.getSharedPreferences(\r\n                  &quot;ch4an.ytheloader&quot;, Context.MODE_PRIVATE);\r\n    \t\t\t \r\n                //To read preferences\r\n    \t\t\tString thumb_thumb = thumb_check.getString(&quot;trueThumbnail&quot;, &quot;checked_thumb&quot;);\r\n    \t\t\t\r\n    \t\t\tif (thumb_thumb.contains(&quot;checked_thumb&quot;)){\r\n    \t\t\tToast.makeText(MainActivity.this, &quot;checkBox ativo&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\t}  if(thumb_thumb.contains(&quot;not_checked_thumb&quot;)) {\r\n    \t\t\tToast.makeText(MainActivity.this, &quot;checkBox n&#227;o ativo&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSharedPreferences.Editor editor = thumb_check.edit();\r\n    \t\t\teditor.apply();\r\n    \r\n    \t\t} catch (Throwable e) {\r\n    \t\t\tToast.makeText(MainActivity.this, &quot;Null checkBox&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\te.printStackTrace();\r\n    \t\t\r\n    \t\t}\r\n\r\nI believe the problem might be here:\r\n\r\n    String thumb_thumb = thumb_check.getString(&quot;trueThumbnail&quot;, &quot;checked_thumb&quot;);\r\n\r\nI always get a single **&quot; checked_thumb&quot;**, but I don&#39;t know how to get **&quot;thumb_thumb&quot;** for both.\r\nI&#39;ve tried sending different *keys* and *values* (because both are under the &quot;trueThumbnail&quot; key) but I still get true only.","title":"Android - checkBox always sending true to a different activity","body":"<p>I have manually created a Preferences Activity, where the checkbox data will be sent to a different Activity. When I send it, it is right. But when I receive it, I need to know if it is true or false, and I always get false.</p>\n\n<p>Here's my code to send:</p>\n\n<pre><code>@Override\n    public void onBackPressed() {\n\n        if(checkBox.isChecked())\n        {\n            String trueThumb_check = \"checked_thumb\";\n            Intent i = new Intent(getBaseContext(), MainActivity.class);\n            i.putExtra(\"trueThumbnail\", trueThumb_check);\n            Toast.makeText(Preferences.this, \"check prefs\", Toast.LENGTH_SHORT).show();\n            startActivity(i);\n            killAc();\n        }\n        else\n        {\n            String falseThumb_check = \"not_check_thumb\";\n            Intent i = new Intent(getBaseContext(), MainActivity.class);\n            i.putExtra(\"trueThumbnail\", falseThumb_check);\n            Toast.makeText(Preferences.this, \"not check prefs\", Toast.LENGTH_SHORT).show();\n            startActivity(i);\n            killAc();\n        }\n\n    }\n</code></pre>\n\n<p>And to receive:</p>\n\n<pre><code>try {\n            SharedPreferences thumb_check = this.getSharedPreferences(\n              \"ch4an.ytheloader\", Context.MODE_PRIVATE);\n\n            //To read preferences\n            String thumb_thumb = thumb_check.getString(\"trueThumbnail\", \"checked_thumb\");\n\n            if (thumb_thumb.contains(\"checked_thumb\")){\n            Toast.makeText(MainActivity.this, \"checkBox ativo\", Toast.LENGTH_SHORT).show();\n            }  if(thumb_thumb.contains(\"not_checked_thumb\")) {\n            Toast.makeText(MainActivity.this, \"checkBox não ativo\", Toast.LENGTH_SHORT).show();\n            }\n\n            SharedPreferences.Editor editor = thumb_check.edit();\n            editor.apply();\n\n        } catch (Throwable e) {\n            Toast.makeText(MainActivity.this, \"Null checkBox\", Toast.LENGTH_SHORT).show();\n            e.printStackTrace();\n\n        }\n</code></pre>\n\n<p>I believe the problem might be here:</p>\n\n<pre><code>String thumb_thumb = thumb_check.getString(\"trueThumbnail\", \"checked_thumb\");\n</code></pre>\n\n<p>I always get a single <strong>\" checked_thumb\"</strong>, but I don't know how to get <strong>\"thumb_thumb\"</strong> for both.\nI've tried sending different <em>keys</em> and <em>values</em> (because both are under the \"trueThumbnail\" key) but I still get true only.</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"owner":{"account_id":1161650,"reputation":1,"user_id":5861766,"display_name":"wilfredo ronsini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699525150,"creation_date":1699525150,"question_id":77452307,"body_markdown":"I have a Postgres table where one column (&quot;char_values&quot;) is of type &quot;jsonb&quot;. The contents of this column does not have a fixed format for json keys, they can be anything.\r\n[Example of the populated database](https://i.stack.imgur.com/04ePY.png)\r\n\r\nI can query with success in Postgres, for instance: \r\n\r\n`SELECT * FROM rm_character WHERE char_values -&gt;&gt; &#39;Value3&#39; = &#39;Twenty Three&#39; AND char_values -&gt;&gt; &#39;Value6&#39; = &#39;Twenty Six&#39;;`\r\n\r\nMy Java entity is:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;rm_character&quot;)\r\npublic class RMCharacter {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n\t@SequenceGenerator(name = &quot;user_person_id_seq&quot;, allocationSize = 1, initialValue = 1)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_person_id_seq&quot;)\r\n\tprivate Long id;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate Date creationDate = new Date();\r\n\r\n\t@Type(JsonType.class)\r\n\t@Column(columnDefinition = &quot;jsonb&quot;)\r\n\tprivate Map&lt;String, String&gt; charValues = new HashMap&lt;&gt;();\r\n\r\n\t.... Constructor, getters and setters\r\n}\r\n```\r\n\r\n\r\n\r\nSince the json does not have a fixed structure, native queries are not a good option. I would like to use the Spring Data Jpa criteria, with a list of predicates, but I can&#39;t create the predicates to work with json data:\r\n\r\n```\r\n@Override\r\npublic List&lt;RMCharacter&gt; getByCriteria() {\r\n\tCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n\tCriteriaQuery&lt;RMCharacter&gt; cq = cb.createQuery(RMCharacter.class);\r\n\tRoot&lt;RMCharacter&gt; person = cq.from(RMCharacter.class);\r\n\tList&lt;Predicate&gt; predicates = new ArrayList();\r\n\r\n\t// Add predicate to &#39;Value3&#39; = &#39;Twenty Three&#39;\r\n        // MY PROBLEM SEEMS TO BE HERE!!\r\n\tpredicates.add(cb.equal(.cb..cb.));\r\n\t\r\n\t// Add predicate to &#39;Value6&#39; = &#39;Twenty Six&#39;\r\n\tpredicates.add(cb.equal(.cb..cb.));\r\n\r\n\tTypedQuery&lt;RMCharacter&gt; query = entityManager.createQuery(cq);\r\n\tList&lt;RMCharacter&gt; result = query.getResultList();\r\n\treturn result;\r\n}\r\n```\r\n\r\nIn this case, I don&#39;t know how to create the two predicates for querying &#39;Value3&#39; and &#39;Value6&#39;.","title":"Query json by value with Spring Data Jpa","body":"<p>I have a Postgres table where one column (&quot;char_values&quot;) is of type &quot;jsonb&quot;. The contents of this column does not have a fixed format for json keys, they can be anything.\n<a href=\"https://i.stack.imgur.com/04ePY.png\" rel=\"nofollow noreferrer\">Example of the populated database</a></p>\n<p>I can query with success in Postgres, for instance:</p>\n<p><code>SELECT * FROM rm_character WHERE char_values -&gt;&gt; 'Value3' = 'Twenty Three' AND char_values -&gt;&gt; 'Value6' = 'Twenty Six';</code></p>\n<p>My Java entity is:</p>\n<pre><code>@Entity\n@Table(name = &quot;rm_character&quot;)\npublic class RMCharacter {\n\n    @Id\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    @SequenceGenerator(name = &quot;user_person_id_seq&quot;, allocationSize = 1, initialValue = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_person_id_seq&quot;)\n    private Long id;\n\n    private String name;\n\n    private Date creationDate = new Date();\n\n    @Type(JsonType.class)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Map&lt;String, String&gt; charValues = new HashMap&lt;&gt;();\n\n    .... Constructor, getters and setters\n}\n</code></pre>\n<p>Since the json does not have a fixed structure, native queries are not a good option. I would like to use the Spring Data Jpa criteria, with a list of predicates, but I can't create the predicates to work with json data:</p>\n<pre><code>@Override\npublic List&lt;RMCharacter&gt; getByCriteria() {\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;RMCharacter&gt; cq = cb.createQuery(RMCharacter.class);\n    Root&lt;RMCharacter&gt; person = cq.from(RMCharacter.class);\n    List&lt;Predicate&gt; predicates = new ArrayList();\n\n    // Add predicate to 'Value3' = 'Twenty Three'\n        // MY PROBLEM SEEMS TO BE HERE!!\n    predicates.add(cb.equal(.cb..cb.));\n    \n    // Add predicate to 'Value6' = 'Twenty Six'\n    predicates.add(cb.equal(.cb..cb.));\n\n    TypedQuery&lt;RMCharacter&gt; query = entityManager.createQuery(cq);\n    List&lt;RMCharacter&gt; result = query.getResultList();\n    return result;\n}\n</code></pre>\n<p>In this case, I don't know how to create the two predicates for querying 'Value3' and 'Value6'.</p>\n"},{"tags":["java","kubernetes","quarkus","open-telemetry"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1699424090,"post_id":77441049,"comment_id":136528115,"body_markdown":"2.13 is pretty old now. Does the same behavior occur with the latest versions?","body":"2.13 is pretty old now. Does the same behavior occur with the latest versions?"}],"answers":[{"comments":[{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1699460423,"post_id":77444343,"comment_id":136535121,"body_markdown":"Thank you very much! HOSTNAME has the data required.","body":"Thank you very much! HOSTNAME has the data required."},{"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"score":0,"creation_date":1699524745,"post_id":77444343,"comment_id":136544008,"body_markdown":"@sg1973 I created this: https://github.com/quarkusio/quarkus/pull/36968\nIn the future the hostame will be sent for all spans.","body":"@sg1973 I created this: <a href=\"https://github.com/quarkusio/quarkus/pull/36968\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/pull/36968</a> In the future the hostame will be sent for all spans."}],"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699525138,"creation_date":1699436217,"answer_id":77444343,"question_id":77441049,"body_markdown":"That information is not currently gathered.\r\nThe `HOSTNAME` env. var. should include the ID but we are only including the IP. Will submit an enhancement for future versions.\r\n\r\nOn the old Quarkus 2.16 you can expose the `metadata.name` field from the manifest as an env. var. and then use it through the resources property: `quarkus.opentelemetry.tracer.resource-attributes=host.name=${METADATA_NAME}`\r\n\r\nYou can also evaluate options like this in the quarkus-kubernetes extension.\r\nhttps://quarkus.io/version/2.16/guides/deploying-to-kubernetes#environment-variables-from-fields","title":"quarkus opentelemetry kuberbetes pod name","body":"<p>That information is not currently gathered.\nThe <code>HOSTNAME</code> env. var. should include the ID but we are only including the IP. Will submit an enhancement for future versions.</p>\n<p>On the old Quarkus 2.16 you can expose the <code>metadata.name</code> field from the manifest as an env. var. and then use it through the resources property: <code>quarkus.opentelemetry.tracer.resource-attributes=host.name=${METADATA_NAME}</code></p>\n<p>You can also evaluate options like this in the quarkus-kubernetes extension.\n<a href=\"https://quarkus.io/version/2.16/guides/deploying-to-kubernetes#environment-variables-from-fields\" rel=\"nofollow noreferrer\">https://quarkus.io/version/2.16/guides/deploying-to-kubernetes#environment-variables-from-fields</a></p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699525138,"creation_date":1699386323,"question_id":77441049,"body_markdown":"We are on Quarkus 2.13.x and are using the opentelemetry libraries to implement telemetry with some automatic and manual context propagation. It&#39;s working fine so far but i recently noticed one of the missing info. We have some microservices with multiple replicas so we have more than 1 kubernetes pod running per service. When we get the telemetry information, it is not evident on which pod the request is being serviced by. Is it possible to add this information to the telemetry trace/span metadata?\r\n\r\nThank you\r\nSG","title":"quarkus opentelemetry kuberbetes pod name","body":"<p>We are on Quarkus 2.13.x and are using the opentelemetry libraries to implement telemetry with some automatic and manual context propagation. It's working fine so far but i recently noticed one of the missing info. We have some microservices with multiple replicas so we have more than 1 kubernetes pod running per service. When we get the telemetry information, it is not evident on which pod the request is being serviced by. Is it possible to add this information to the telemetry trace/span metadata?</p>\n<p>Thank you\nSG</p>\n"},{"tags":["java","arrays","string","loops","stringindexoutofbounds"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1699503046,"post_id":77450388,"comment_id":136541028,"body_markdown":"The last code snippet can already handle both even and odd length strings. What do you not like about it? How do you want to improve it?","body":"The last code snippet can already handle both even and odd length strings. What do you not like about it? How do you want to improve it?"},{"owner":{"account_id":27569293,"reputation":1,"user_id":21040814,"display_name":"BeyondeR"},"score":0,"creation_date":1699503617,"post_id":77450388,"comment_id":136541089,"body_markdown":"Looking for some kind of Iterator based approaches if any as I am not too familiar with it, might help me learn","body":"Looking for some kind of Iterator based approaches if any as I am not too familiar with it, might help me learn"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1699504131,"post_id":77450388,"comment_id":136541130,"body_markdown":"`String` doesn&#39;t have an iterator. It is not `Iterable`. You can write your own iterator for `String`, but I think that&#39;s overkill.","body":"<code>String</code> doesn&#39;t have an iterator. It is not <code>Iterable</code>. You can write your own iterator for <code>String</code>, but I think that&#39;s overkill."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1699513516,"post_id":77450388,"comment_id":136541965,"body_markdown":"I suppose you have to do something with your two chars?","body":"I suppose you have to do something with your two chars?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699513566,"post_id":77450388,"comment_id":136541968,"body_markdown":"you can also change the condition of the loop to `i &lt; line.length()-1` and handle the last character after the loop, avoiding the `if` inside the loop -- depending on what you have to do, eventually even handle the first character before the loop, and iterate starting with `i = 1` -- but you did not explain what is being done, specially with the *extra* character in the odd length case","body":"you can also change the condition of the loop to <code>i &lt; line.length()-1</code> and handle the last character after the loop, avoiding the <code>if</code> inside the loop -- depending on what you have to do, eventually even handle the first character before the loop, and iterate starting with <code>i = 1</code> -- but you did not explain what is being done, specially with the <i>extra</i> character in the odd length case"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1699519301,"post_id":77450388,"comment_id":136542895,"body_markdown":"@Sweeper technically there is an iterator for `String`: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/StringCharacterIterator.html","body":"@Sweeper technically there is an iterator for <code>String</code>: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/StringCharacterIterator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/api/java.base/java/te&zwnj;&#8203;xt/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699522994,"post_id":77450388,"comment_id":136543626,"body_markdown":"@Sweeper well you can use `for(int ch: (Iterable&lt;Integer&gt;)() -&gt; string.chars() .iterator()) { … }` but the actual question is, how does the OP think, can a one-at-time iterator solve this two-at-a-time problem better than the already existing code.","body":"@Sweeper well you can use <code>for(int ch: (Iterable&lt;Integer&gt;)() -&gt; string.chars() .iterator()) { … }</code> but the actual question is, how does the OP think, can a one-at-time iterator solve this two-at-a-time problem better than the already existing code."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700185867,"post_id":77450388,"comment_id":136626621,"body_markdown":"What is the integrity of having even and odd indices?  Maybe there is another way to code it.","body":"What is the integrity of having even and odd indices?  Maybe there is another way to code it."}],"answers":[{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699513048,"creation_date":1699513048,"answer_id":77451065,"question_id":77450388,"body_markdown":"Your below code snippet is already quite reasonable and I don&#39;t think there would be any better solution but you can make it look cleaner by doing the following - \r\n\r\n    public void readTwoChars(BufferedReader b) {\r\n    \r\n        String line = null;\r\n        while ((line = b.readLine()) != null) {\r\n            int length = line.length();\r\n            for (int i = 0; i &lt; length; i += 2) {\r\n                char firstChar = line.charAt(i);\r\n                char secondChar = (i + 1 &lt; length) ? line.charAt(i + 1) : 0;\r\n            }\r\n        }\r\n    }","title":"Java - Iterate over an odd length String, two consecutive characters at once","body":"<p>Your below code snippet is already quite reasonable and I don't think there would be any better solution but you can make it look cleaner by doing the following -</p>\n<pre><code>public void readTwoChars(BufferedReader b) {\n\n    String line = null;\n    while ((line = b.readLine()) != null) {\n        int length = line.length();\n        for (int i = 0; i &lt; length; i += 2) {\n            char firstChar = line.charAt(i);\n            char secondChar = (i + 1 &lt; length) ? line.charAt(i + 1) : 0;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699525006,"creation_date":1699525006,"answer_id":77452289,"question_id":77450388,"body_markdown":"You could alter your `for` loop to beginning at `i = 1` and just take the `char` pairs `(i - 1, i)` as long as `i` is less than the length of the input `String` (the line in your case):\r\n\r\n```Java\r\npublic void readTwoChars(BufferedReader b) {\r\n    String line = null;\r\n    while ((line = b.readLine()) != null) {\r\n        // start at 1 and use a simple increment\r\n        for (int i = 1; i &lt; line.length(); i++) {\r\n            // then just take the pair\r\n            char firstChar = line.charAt(i - 1);\r\n            char secondChar = line.charAt(i);\r\n        }\r\n    }\r\n}\r\n```","title":"Java - Iterate over an odd length String, two consecutive characters at once","body":"<p>You could alter your <code>for</code> loop to beginning at <code>i = 1</code> and just take the <code>char</code> pairs <code>(i - 1, i)</code> as long as <code>i</code> is less than the length of the input <code>String</code> (the line in your case):</p>\n<pre><code>public void readTwoChars(BufferedReader b) {\n    String line = null;\n    while ((line = b.readLine()) != null) {\n        // start at 1 and use a simple increment\n        for (int i = 1; i &lt; line.length(); i++) {\n            // then just take the pair\n            char firstChar = line.charAt(i - 1);\n            char secondChar = line.charAt(i);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27569293,"reputation":1,"user_id":21040814,"display_name":"BeyondeR"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699525006,"creation_date":1699502495,"question_id":77450388,"body_markdown":"I was reading a file(using BufferedReader &amp; FileReader) line by line and needed to get two successive characters &amp; store it in two distinct variables for every iteration of the loop, but the String lengths can be either &#39;even&#39; or &#39;odd&#39;.\r\n\r\nIn case of &#39;even&#39; length Strings, a simple &#39;even&#39; check would do it, as follows:\r\n\r\n```\r\nif (line.length() % 2 == 0) {\r\n    char firstChar = line.charAt(i);\r\n    char secondChar = line.charAt(i + 1);\r\n}\r\n```\r\n\r\nBut for &#39;odd&#39; length Strings, couldn&#39;t find a better approach other than the one below-\r\n\r\nI tried the following for both &#39;even&#39; and &#39;odd&#39; length Strings:\r\n\r\n```\r\npublic void readTwoChars(BufferedReader b) {\r\n\r\n    String line = null;\r\n    while ((line = b.readLine()) != null) {\r\n        for (int i = 0; i &lt; line.length(); i += 2){\r\n            char firstChar = line.charAt(i);\r\n            char secondChar = 0;\r\n            if (i != line.length() - 1) {\r\n                secondChar = line.charAt(i + 1);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Is there a better way to iterate through an Array/String and get two elements/characters at once for both even and odd length Strings/Arrays ?,** would love to learn more.","title":"Java - Iterate over an odd length String, two consecutive characters at once","body":"<p>I was reading a file(using BufferedReader &amp; FileReader) line by line and needed to get two successive characters &amp; store it in two distinct variables for every iteration of the loop, but the String lengths can be either 'even' or 'odd'.</p>\n<p>In case of 'even' length Strings, a simple 'even' check would do it, as follows:</p>\n<pre><code>if (line.length() % 2 == 0) {\n    char firstChar = line.charAt(i);\n    char secondChar = line.charAt(i + 1);\n}\n</code></pre>\n<p>But for 'odd' length Strings, couldn't find a better approach other than the one below-</p>\n<p>I tried the following for both 'even' and 'odd' length Strings:</p>\n<pre><code>public void readTwoChars(BufferedReader b) {\n\n    String line = null;\n    while ((line = b.readLine()) != null) {\n        for (int i = 0; i &lt; line.length(); i += 2){\n            char firstChar = line.charAt(i);\n            char secondChar = 0;\n            if (i != line.length() - 1) {\n                secondChar = line.charAt(i + 1);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Is there a better way to iterate through an Array/String and get two elements/characters at once for both even and odd length Strings/Arrays ?,</strong> would love to learn more.</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"owner":{"account_id":381969,"reputation":616,"user_id":736922,"accept_rate":90,"display_name":"Lutosław"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699524789,"creation_date":1699436911,"question_id":77444420,"body_markdown":"I&#39;ve got a filter:\r\n\r\n\r\n```  package com.auth.filter;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\nimport org.reactivestreams.Publisher;\r\nimport org.slf4j.MDC;\r\nimport org.springframework.cloud.gateway.filter.GatewayFilter;\r\nimport org.springframework.cloud.gateway.filter.GatewayFilterChain;\r\nimport org.springframework.cloud.gateway.filter.factory.rewrite.RewriteFunction;\r\nimport org.springframework.core.io.buffer.DataBuffer;\r\nimport org.springframework.core.io.buffer.DataBufferFactory;\r\nimport org.springframework.http.server.reactive.ServerHttpResponseDecorator;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.server.ServerWebExchange;\r\n\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Component\r\npublic class StoreResponseFilter implements GatewayFilter{\r\n\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n                 val response = exchange.getResponse();\r\n        DataBufferFactory dataBufferFactory = response.bufferFactory();\r\n        ServerHttpResponseDecorator decoratedResponse = new ServerHttpResponseDecorator(response) {\r\n            @Override\r\n            public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\r\n                // this is never called\r\n                return super.writeWith(body);\r\n            }\r\n\r\n            @Override\r\n            public Mono&lt;Void&gt; writeAndFlushWith(Publisher&lt;? extends Publisher&lt;? extends DataBuffer&gt;&gt; body) {\r\n                // this is never called\r\n                return super.writeAndFlushWith(body);\r\n            }\r\n        };\r\n\r\n        ServerWebExchange swe = exchange.mutate().response(decoratedResponse).build();\r\n        return chain.filter(swe);\r\n\r\n    }\r\n}\r\n\r\n```\r\nI use Java DSL\r\n``` \r\n@Bean\r\n    public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\r\nbuilder.routes()\r\n.route(id, r-&gt;\r\n// ...\r\nr.filters(storeResponseFilter)\r\n//....\r\n}\r\n```\r\nto configure my filter.\r\n\r\nI tried those solutions:\r\n\r\nhttps://stackoverflow.com/questions/76078243/spring-cloud-gateway-serverhttpresponsedecorator-writewith-not-called-on-receivi\r\n(the provided solution uses WebFilter and I use GatewayFilter)\r\n\r\nhttps://stackoverflow.com/questions/48470030/spring-cloud-gateway-modified-response-body-is-truncated\r\n\r\nhttps://stackoverflow.com/questions/59286520/how-do-you-read-response-body-in-spring-cloud-gateway-webflux-post-filter\r\n\r\nhttps://stackoverflow.com/questions/71465870/how-to-get-original-response-body-in-spring-cloud-gateway-webflux-post-filter\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-gateway/issues/1771\r\n\r\nBut none of them work, when using Java DSL as configuration\r\n\r\n I cannot use `modifyResponseBody` with `RewriteFunction&lt;String, String&gt;`, because I don&#39;t store responses from some endpoints because responses are too big and consume too much memory. Unfortunately RewriteFunction&lt;String, String&gt; serializes each response to a String even if I don&#39;t do anything with it.\r\n\r\nI&#39;ve read that I need to set a filter order to `NettyWriteResponseFilter.WRITE_RESPONSE_FILTER_ORDER - 1` to be before Netty, but I cannot use it when routes are defined with a  RouteLocator customRouteLocator.\r\n\r\n**My question is**\r\n\r\nHow to access (no need to modify) response body in Spring Gateway without serializing ALL responses to Strings, only some of them?\r\n\r\nAssume that the logic to determine which request should be handled is non-trivial and several filters which set custom attributes in `exchange` need to be executed to determine that.\r\n\r\nI&#39;d like to use Java DSL as it gives the most flexibility.\r\n\r\nI use spring-cloud-starter-gateway v 3.1.3. I am not able to change version at the moment.","title":"Spring Cloud Gateway - writeWith never called in Gateway Filter","body":"<p>I've got a filter:</p>\n<pre><code>\nimport java.io.ByteArrayInputStream;\nimport java.nio.charset.StandardCharsets;\n\nimport org.reactivestreams.Publisher;\nimport org.slf4j.MDC;\nimport org.springframework.cloud.gateway.filter.GatewayFilter;\nimport org.springframework.cloud.gateway.filter.GatewayFilterChain;\nimport org.springframework.cloud.gateway.filter.factory.rewrite.RewriteFunction;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.core.io.buffer.DataBufferFactory;\nimport org.springframework.http.server.reactive.ServerHttpResponseDecorator;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.server.ServerWebExchange;\n\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\n@Component\npublic class StoreResponseFilter implements GatewayFilter{\n\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n                 val response = exchange.getResponse();\n        DataBufferFactory dataBufferFactory = response.bufferFactory();\n        ServerHttpResponseDecorator decoratedResponse = new ServerHttpResponseDecorator(response) {\n            @Override\n            public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\n                // this is never called\n                return super.writeWith(body);\n            }\n\n            @Override\n            public Mono&lt;Void&gt; writeAndFlushWith(Publisher&lt;? extends Publisher&lt;? extends DataBuffer&gt;&gt; body) {\n                // this is never called\n                return super.writeAndFlushWith(body);\n            }\n        };\n\n        ServerWebExchange swe = exchange.mutate().response(decoratedResponse).build();\n        return chain.filter(swe);\n\n    }\n}\n\n</code></pre>\n<p>I use Java DSL</p>\n<pre><code>@Bean\n    public RouteLocator customRouteLocator(RouteLocatorBuilder builder) {\nbuilder.routes()\n.route(id, r-&gt;\n// ...\nr.filters(storeResponseFilter)\n//....\n}\n</code></pre>\n<p>to configure my filter.</p>\n<p>I tried those solutions:</p>\n<p><a href=\"https://stackoverflow.com/questions/76078243/spring-cloud-gateway-serverhttpresponsedecorator-writewith-not-called-on-receivi\">Spring cloud gateway ServerHttpResponseDecorator writeWith not called on receiving response</a>\n(the provided solution uses WebFilter and I use GatewayFilter)</p>\n<p><a href=\"https://stackoverflow.com/questions/48470030/spring-cloud-gateway-modified-response-body-is-truncated\">Spring Cloud Gateway: Modified Response Body is Truncated</a></p>\n<p><a href=\"https://stackoverflow.com/questions/59286520/how-do-you-read-response-body-in-spring-cloud-gateway-webflux-post-filter\">How do you read response body in Spring Cloud Gateway (Webflux) POST filter</a></p>\n<p><a href=\"https://stackoverflow.com/questions/71465870/how-to-get-original-response-body-in-spring-cloud-gateway-webflux-post-filter\">How to get Original response body in Spring cloud gateway (Webflux) Post filter</a></p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-gateway/issues/1771\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-gateway/issues/1771</a></p>\n<p>But none of them work, when using Java DSL as configuration</p>\n<p>I cannot use <code>modifyResponseBody</code> with <code>RewriteFunction&lt;String, String&gt;</code>, because I don't store responses from some endpoints because responses are too big and consume too much memory. Unfortunately RewriteFunction&lt;String, String&gt; serializes each response to a String even if I don't do anything with it.</p>\n<p>I've read that I need to set a filter order to <code>NettyWriteResponseFilter.WRITE_RESPONSE_FILTER_ORDER - 1</code> to be before Netty, but I cannot use it when routes are defined with a  RouteLocator customRouteLocator.</p>\n<p><strong>My question is</strong></p>\n<p>How to access (no need to modify) response body in Spring Gateway without serializing ALL responses to Strings, only some of them?</p>\n<p>Assume that the logic to determine which request should be handled is non-trivial and several filters which set custom attributes in <code>exchange</code> need to be executed to determine that.</p>\n<p>I'd like to use Java DSL as it gives the most flexibility.</p>\n<p>I use spring-cloud-starter-gateway v 3.1.3. I am not able to change version at the moment.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":9,"creation_date":1699464631,"post_id":77447728,"comment_id":136536011,"body_markdown":"This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":7,"creation_date":1699465134,"post_id":77447728,"comment_id":136536114,"body_markdown":"While &quot;not prime&quot; can be demonstrated by a **single** divisor, &quot;prime&quot; can be determined only after you checked **all** applicable divisors.","body":"While &quot;not prime&quot; can be demonstrated by a <b>single</b> divisor, &quot;prime&quot; can be determined only after you checked <b>all</b> applicable divisors."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699473122,"post_id":77447728,"comment_id":136537515,"body_markdown":"Off-topic:  Methods with names such as `isFoo` usually return a `boolean`.","body":"Off-topic:  Methods with names such as <code>isFoo</code> usually return a <code>boolean</code>."}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699467144,"post_id":77447983,"comment_id":136536462,"body_markdown":"and, after testing for 2, no other even number must be tested. (BTW `0` and `1` are not considered prime)","body":"and, after testing for 2, no other even number must be tested. (BTW <code>0</code> and <code>1</code> are not considered prime)"}],"tags":[],"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699468407,"creation_date":1699466896,"answer_id":77447983,"question_id":77447728,"body_markdown":"You&#39;ve got it backwards. You short-circuit your loop when you find an even divisor. As it stands, you short-circuit when you find a non-even divisor.\r\n\r\nYou have only one return which is always constant.\r\n\r\nOne would think you want your method to return `boolean` as well.\r\n\r\nYou&#39;re looking for this logic:\r\n\r\n```\r\npublic class ptest2 {\r\n   static boolean isprime(long n) {\r\n       if (n == 0 || n == 1) return false;\r\n\r\n       for (int i = 2; i &lt; n; i++) {\r\n           if (n % i == 0) {\r\n               return false;\r\n           }\r\n       }\r\n\r\n       return true;\r\n    }\r\n}\r\n```\r\n\r\nThough you also only need to iterate until the square root of `n`.","title":"Why is my code showing that the entered number is prime even when it&#39;s not?","body":"<p>You've got it backwards. You short-circuit your loop when you find an even divisor. As it stands, you short-circuit when you find a non-even divisor.</p>\n<p>You have only one return which is always constant.</p>\n<p>One would think you want your method to return <code>boolean</code> as well.</p>\n<p>You're looking for this logic:</p>\n<pre><code>public class ptest2 {\n   static boolean isprime(long n) {\n       if (n == 0 || n == 1) return false;\n\n       for (int i = 2; i &lt; n; i++) {\n           if (n % i == 0) {\n               return false;\n           }\n       }\n\n       return true;\n    }\n}\n</code></pre>\n<p>Though you also only need to iterate until the square root of <code>n</code>.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699479255,"creation_date":1699479255,"answer_id":77449093,"question_id":77447728,"body_markdown":"The function isprime() will always return 0. Is this meaningful? Well, you still have the console output.\r\n\r\nBut look at your loop:\r\n\r\n    for(int i = 2 ; i&lt;n ; i++){\r\n        if(n%i == 0 ) {\r\n            System.out.println(&quot;Number is not prime &quot;);\r\n        } else  {\r\n            System.out.println(&quot;Number is prime &quot;);\r\n            break;\r\n        }\r\n           }\r\n    }\r\n\r\nJust because once a division fails the number is not a prime. All such divisions have to fail. Therefore breaking on the first occasion is wrong.\r\n\r\nLuckily you are running the loop not until n but only as long as i is smaller than n. Otherwise you&#39;d divide n/n which always has no remainder and thus would conclude the number is prime.","title":"Why is my code showing that the entered number is prime even when it&#39;s not?","body":"<p>The function isprime() will always return 0. Is this meaningful? Well, you still have the console output.</p>\n<p>But look at your loop:</p>\n<pre><code>for(int i = 2 ; i&lt;n ; i++){\n    if(n%i == 0 ) {\n        System.out.println(&quot;Number is not prime &quot;);\n    } else  {\n        System.out.println(&quot;Number is prime &quot;);\n        break;\n    }\n       }\n}\n</code></pre>\n<p>Just because once a division fails the number is not a prime. All such divisions have to fail. Therefore breaking on the first occasion is wrong.</p>\n<p>Luckily you are running the loop not until n but only as long as i is smaller than n. Otherwise you'd divide n/n which always has no remainder and thus would conclude the number is prime.</p>\n"},{"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699481064,"creation_date":1699481064,"answer_id":77449248,"question_id":77447728,"body_markdown":"The `isPrime() Method` is the issue.\r\n\r\nWhat to fix:\r\n\r\n - Broken `isPrime()` method fixed\r\n - OOP rules adjusted\r\n - Refactoring of code\r\n\r\n**Good Code:**\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ptest2 {\r\n\r\n    static boolean isPrime(long n) {\r\n\r\n        // Checks out exceptional cases\r\n        if (n == 0 || n == 1) {\r\n            System.out.println(&quot;Number is not prime&quot;);\r\n            return false;\r\n        }\r\n\r\n        // Optimized for-loop\r\n        for (int i = 2; i &lt;= Math.sqrt(n); i++) {\r\n            if (n % i == 0) {\r\n                System.out.println(&quot;Number is not prime&quot;);\r\n                return false;\r\n            }\r\n        }\r\n        System.out.println(&quot;Number is prime&quot;);\r\n\r\n        return true;\r\n    }\r\n\r\n    // Main Method calls \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter a number to check if it is prime &quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        long a = sc.nextLong();\r\n        isPrime(a);\r\n    }\r\n}\r\n```","title":"Why is my code showing that the entered number is prime even when it&#39;s not?","body":"<p>The <code>isPrime() Method</code> is the issue.</p>\n<p>What to fix:</p>\n<ul>\n<li>Broken <code>isPrime()</code> method fixed</li>\n<li>OOP rules adjusted</li>\n<li>Refactoring of code</li>\n</ul>\n<p><strong>Good Code:</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class ptest2 {\n\n    static boolean isPrime(long n) {\n\n        // Checks out exceptional cases\n        if (n == 0 || n == 1) {\n            System.out.println(&quot;Number is not prime&quot;);\n            return false;\n        }\n\n        // Optimized for-loop\n        for (int i = 2; i &lt;= Math.sqrt(n); i++) {\n            if (n % i == 0) {\n                System.out.println(&quot;Number is not prime&quot;);\n                return false;\n            }\n        }\n        System.out.println(&quot;Number is prime&quot;);\n\n        return true;\n    }\n\n    // Main Method calls \n    public static void main(String[] args) {\n        System.out.println(&quot;Enter a number to check if it is prime &quot;);\n        Scanner sc = new Scanner(System.in);\n        long a = sc.nextLong();\n        isPrime(a);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29650742,"reputation":11,"user_id":22724704,"display_name":"Varun Tripathti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1699524778,"creation_date":1699464533,"question_id":77447728,"body_markdown":"I used a method that checks if the entered number is prime or not. However, it is showing that the entered number is prime every time. What is the error in my logic?\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ptest2 {\r\n\r\n   static long isprime(long n){\r\n       if ( n == 0 || n == 1 ){\r\n           System.out.println(&quot; Number is not prime &quot;);\r\n       }\r\n\r\n       else{\r\n\r\n       for(int i = 2; i &lt; n; i++){\r\n           if( n % i == 0 ) {\r\n               System.out.println(&quot;Number is not prime &quot;);\r\n              }\r\n           else  {\r\n               System.out.println(&quot;Number is prime &quot;);\r\n               break;\r\n             }\r\n           }\r\n       }\r\n       return 0;\r\n   }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Enter a number to check if it is prime &quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n          long a = sc.nextLong();\r\n        System.out.println(isprime(a));\r\n    }\r\n}\r\n```","title":"Why is my code showing that the entered number is prime even when it&#39;s not?","body":"<p>I used a method that checks if the entered number is prime or not. However, it is showing that the entered number is prime every time. What is the error in my logic?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ptest2 {\n\n   static long isprime(long n){\n       if ( n == 0 || n == 1 ){\n           System.out.println(&quot; Number is not prime &quot;);\n       }\n\n       else{\n\n       for(int i = 2; i &lt; n; i++){\n           if( n % i == 0 ) {\n               System.out.println(&quot;Number is not prime &quot;);\n              }\n           else  {\n               System.out.println(&quot;Number is prime &quot;);\n               break;\n             }\n           }\n       }\n       return 0;\n   }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Enter a number to check if it is prime &quot;);\n        Scanner sc = new Scanner(System.in);\n          long a = sc.nextLong();\n        System.out.println(isprime(a));\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","language-design","generic-method","raw-types"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":5,"creation_date":1375381149,"post_id":18001550,"comment_id":26323086,"body_markdown":"possible duplicate of [Combining Raw Types and Generic Methods](http://stackoverflow.com/questions/11007723/combining-raw-types-and-generic-methods). See also: [Why won&#39;t this generic java code compile?](http://stackoverflow.com/questions/662191/why-wont-this-generic-java-code-compile)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/11007723/combining-raw-types-and-generic-methods\">Combining Raw Types and Generic Methods</a>. See also: <a href=\"http://stackoverflow.com/questions/662191/why-wont-this-generic-java-code-compile\">Why won&#39;t this generic java code compile?</a>"},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1375381398,"post_id":18001550,"comment_id":26323237,"body_markdown":"http://stackoverflow.com/questions/14882003/generic-screws-up-non-related-collection/14882590#14882590 :)","body":"<a href=\"http://stackoverflow.com/questions/14882003/generic-screws-up-non-related-collection/14882590#14882590\" title=\"generic screws up non related collection\">stackoverflow.com/questions/14882003/&hellip;</a> :)"},{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1375430103,"post_id":18001550,"comment_id":26340397,"body_markdown":"@PaulBellora - thanks. The first is very much related - although my copious searching of SO didn&#39;t find it, so thanks for the reference. The second is less relevant, as it only covers generic classes - not generic methods.","body":"@PaulBellora - thanks. The first is very much related - although my copious searching of SO didn&#39;t find it, so thanks for the reference. The second is less relevant, as it only covers generic classes - not generic methods."},{"owner":{"account_id":1150494,"reputation":4777,"user_id":1132333,"accept_rate":61,"display_name":"H.Rabiee"},"score":0,"creation_date":1375430678,"post_id":18001550,"comment_id":26340671,"body_markdown":"Sorry, slightly OT. But I tried searching for it, is static class a new construction? AFAIK it will not compile in Java 6 (will it in Java 7?).","body":"Sorry, slightly OT. But I tried searching for it, is static class a new construction? AFAIK it will not compile in Java 6 (will it in Java 7?)."},{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":2,"creation_date":1375431040,"post_id":18001550,"comment_id":26340828,"body_markdown":"@hajder - sorry, I originally wrote these as nested classes in a test class (hence making them static), and neglected to remove them when I C&amp;Ped to the question. Now removed.","body":"@hajder - sorry, I originally wrote these as nested classes in a test class (hence making them static), and neglected to remove them when I C&amp;Ped to the question. Now removed."},{"owner":{"account_id":2042374,"reputation":2206,"user_id":1823225,"accept_rate":50,"display_name":"Graham Griffiths"},"score":0,"creation_date":1375796170,"post_id":18001550,"comment_id":26464118,"body_markdown":"adapting JLS 4.8 to this specific case : &quot;The type of a generic method is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to C.&quot; if you interpret &#39;erasure&#39; as &#39;erasing all generics&#39;, then this does seem to match the observed behaviour, though not intuitive or very useful. It almost seems like an overzealous consistency, to erase all generics, not just generic class parameters (although who am I to second guess the designers)","body":"adapting JLS 4.8 to this specific case : &quot;The type of a generic method is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to C.&quot; if you interpret &#39;erasure&#39; as &#39;erasing all generics&#39;, then this does seem to match the observed behaviour, though not intuitive or very useful. It almost seems like an overzealous consistency, to erase all generics, not just generic class parameters (although who am I to second guess the designers)"}],"answers":[{"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1375429947,"post_id":18001637,"comment_id":26340336,"body_markdown":"Thanks - in my use case, I need the generic class type parameters. They&#39;re not used in the example above as I wanted a succinct SSCCE. Also, it&#39;s not clear to me why erasing all generics in raw class ensures backwards compatibility.","body":"Thanks - in my use case, I need the generic class type parameters. They&#39;re not used in the example above as I wanted a succinct SSCCE. Also, it&#39;s not clear to me why erasing all generics in raw class ensures backwards compatibility."},{"owner":{"account_id":3123805,"reputation":567,"user_id":2643078,"display_name":"MAnyKey"},"score":0,"creation_date":1375785191,"post_id":18001637,"comment_id":26456850,"body_markdown":"@amaidment suppose you has this interface: `interface C&lt;T&gt; { &lt;K&gt; K foo(); }`.\n\nBehavior explained in the answer ensures that some pre-generic `C` can be safely automatically &quot;generified&quot; without old code changes.\nOtherwise users of `C` interface should call `foo` like this: `c.&lt;SomeType&gt;foo()`","body":"@amaidment suppose you has this interface: <code>interface C&lt;T&gt; { &lt;K&gt; K foo(); }</code>.  Behavior explained in the answer ensures that some pre-generic <code>C</code> can be safely automatically &quot;generified&quot; without old code changes. Otherwise users of <code>C</code> interface should call <code>foo</code> like this: <code>c.&lt;SomeType&gt;foo()</code>"},{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1375786402,"post_id":18001637,"comment_id":26457631,"body_markdown":"@MAnyKey - you may want to post your answer as an answer... in any case, I think you&#39;ve missed the point. If you have an untyped implementation of `C`, not only would the class generics (`T`) be treated as `Object` (which is to be expected), but also the generic method (`&lt;K&gt; K foo()`) would be treated as untyped, so the implementation of `foo()` would have to be `public Object foo(){...}`, which comes back to the original question.","body":"@MAnyKey - you may want to post your answer as an answer... in any case, I think you&#39;ve missed the point. If you have an untyped implementation of <code>C</code>, not only would the class generics (<code>T</code>) be treated as <code>Object</code> (which is to be expected), but also the generic method (<code>&lt;K&gt; K foo()</code>) would be treated as untyped, so the implementation of <code>foo()</code> would have to be <code>public Object foo(){...}</code>, which comes back to the original question."}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375381243,"creation_date":1375381243,"answer_id":18001637,"question_id":18001550,"body_markdown":"With Java Generics, if you use the raw form of a generic class, then _all_ generics on the class, even unrelated generic methods such as your `makeSingletonList` and `doSomething` methods, become raw.  The reason as I understand it is to provide backwards compatibility with Java code written pre-generics.\r\n\r\nIf there is no use for your generic type parameter `T`, then simply remove it from `MyGenericClass`, leaving your methods generic with `K`.  Else you&#39;ll have to live with the fact that the class type parameter `T` must be given to your class to use generics on anything else in the class.","title":"Java generic methods in generics classes","body":"<p>With Java Generics, if you use the raw form of a generic class, then <em>all</em> generics on the class, even unrelated generic methods such as your <code>makeSingletonList</code> and <code>doSomething</code> methods, become raw.  The reason as I understand it is to provide backwards compatibility with Java code written pre-generics.</p>\n\n<p>If there is no use for your generic type parameter <code>T</code>, then simply remove it from <code>MyGenericClass</code>, leaving your methods generic with <code>K</code>.  Else you'll have to live with the fact that the class type parameter <code>T</code> must be given to your class to use generics on anything else in the class.</p>\n"},{"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1375785905,"post_id":18077658,"comment_id":26457301,"body_markdown":"Your answer provides a good explanation as to why Java ignores class generic types in an untyped class. However, the question is really about generic methods, for which the typing is also ignored on an untyped class, and which you haven&#39;t covered.","body":"Your answer provides a good explanation as to why Java ignores class generic types in an untyped class. However, the question is really about generic methods, for which the typing is also ignored on an untyped class, and which you haven&#39;t covered."},{"owner":{"account_id":2042374,"reputation":2206,"user_id":1823225,"accept_rate":50,"display_name":"Graham Griffiths"},"score":0,"creation_date":1375791609,"post_id":18077658,"comment_id":26460862,"body_markdown":"The JLS snippet from 4.8 (from the question you link) covers constructors, instance methods and member fields - generic methods are just a particular case of instance methods in general.  So it seems to me tbodt&#39;s answer does cover your situation?","body":"The JLS snippet from 4.8 (from the question you link) covers constructors, instance methods and member fields - generic methods are just a particular case of instance methods in general.  So it seems to me tbodt&#39;s answer does cover your situation?"},{"owner":{"account_id":2042374,"reputation":2206,"user_id":1823225,"accept_rate":50,"display_name":"Graham Griffiths"},"score":0,"creation_date":1375791930,"post_id":18077658,"comment_id":26461096,"body_markdown":"isn&#39;t &#39;for backwards compatibility&#39; a sufficient reason?  Some of the thinking is apparent here : http://bugs.sun.com/view_bug.do?bug_id=6400189 (bug + fix showing that a method&#39;s return type is treated as part of the method&#39;s type for the purposes of this type erasure)","body":"isn&#39;t &#39;for backwards compatibility&#39; a sufficient reason?  Some of the thinking is apparent here : <a href=\"http://bugs.sun.com/view_bug.do?bug_id=6400189\" rel=\"nofollow noreferrer\">bugs.sun.com/view_bug.do?bug_id=6400189</a> (bug + fix showing that a method&#39;s return type is treated as part of the method&#39;s type for the purposes of this type erasure)"}],"tags":[],"owner":{"account_id":1566273,"reputation":16719,"user_id":1455016,"accept_rate":43,"display_name":"tbodt"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375785012,"creation_date":1375785012,"answer_id":18077658,"question_id":18001550,"body_markdown":"The reason for this is backwards compatibility with pre-generics code. The pre-generics code did not use generic arguments, instead using what seems today to be a raw type. The pre-generics code would use `Object` references instead of references using the generic type, and raw types use type `Object` for all generic arguments, so the code was indeed backwards compatible.\r\n\r\nAs an example, consider this code:\r\n\r\n    List list = new ArrayList();\r\n\r\nThis is pre-generic code, and once generics were introduced, this was interpreted as a raw generic type equivalent to:\r\n\r\n    List&lt;?&gt; list = new ArrayList&lt;&gt;();\r\n\r\nBecause the ? doesn&#39;t have an `extends` or `super` keyword after it, it is transformed into this:\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n\r\nThe version of `List` that was used before generics used an `Object` to refer to a list element, and this version also uses an `Object` to refer to a list element, so backwards compatibility is retained.","title":"Java generic methods in generics classes","body":"<p>The reason for this is backwards compatibility with pre-generics code. The pre-generics code did not use generic arguments, instead using what seems today to be a raw type. The pre-generics code would use <code>Object</code> references instead of references using the generic type, and raw types use type <code>Object</code> for all generic arguments, so the code was indeed backwards compatible.</p>\n\n<p>As an example, consider this code:</p>\n\n<pre><code>List list = new ArrayList();\n</code></pre>\n\n<p>This is pre-generic code, and once generics were introduced, this was interpreted as a raw generic type equivalent to:</p>\n\n<pre><code>List&lt;?&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Because the ? doesn't have an <code>extends</code> or <code>super</code> keyword after it, it is transformed into this:</p>\n\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>The version of <code>List</code> that was used before generics used an <code>Object</code> to refer to a list element, and this version also uses an <code>Object</code> to refer to a list element, so backwards compatibility is retained.</p>\n"},{"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1375791295,"post_id":18079349,"comment_id":26460674,"body_markdown":"No - the method types (`&lt;K&gt;`) are independent of the class types (`&lt;T&gt;`) (unless otherwise constrained, e.g. `&lt;K extends T&gt;` as per your example), and independent of each other. Thus we could have a class `C&lt;T extends Number&gt;` with method `public &lt;T&gt; T doSomething(T t){ return t; }`, and that could be called as `new C&lt;Integer&gt;().doSomething(&quot;String&quot;)`. This would compile (but would be not very clear for future developers...) as the method generic type is taken instead of the class generic type, and they are independent.","body":"No - the method types (<code>&lt;K&gt;</code>) are independent of the class types (<code>&lt;T&gt;</code>) (unless otherwise constrained, e.g. <code>&lt;K extends T&gt;</code> as per your example), and independent of each other. Thus we could have a class <code>C&lt;T extends Number&gt;</code> with method <code>public &lt;T&gt; T doSomething(T t){ return t; }</code>, and that could be called as <code>new C&lt;Integer&gt;().doSomething(&quot;String&quot;)</code>. This would compile (but would be not very clear for future developers...) as the method generic type is taken instead of the class generic type, and they are independent."},{"owner":{"account_id":3123805,"reputation":567,"user_id":2643078,"display_name":"MAnyKey"},"score":0,"creation_date":1375791810,"post_id":18079349,"comment_id":26461024,"body_markdown":"It doesn&#39;t contradict anything that I wrote. Yes, method types independent of the class types. But if method types constrained with class types, compiler has to discard it all when class used without generics.","body":"It doesn&#39;t contradict anything that I wrote. Yes, method types independent of the class types. But if method types constrained with class types, compiler has to discard it all when class used without generics."},{"owner":{"account_id":952653,"reputation":9035,"user_id":978502,"accept_rate":67,"display_name":"yair"},"score":0,"creation_date":1375792760,"post_id":18079349,"comment_id":26461680,"body_markdown":"+1 one example for method type usage such that it depends on class type is reason enough for omitting generics away anywhere in the class, when raw type is used.","body":"+1 one example for method type usage such that it depends on class type is reason enough for omitting generics away anywhere in the class, when raw type is used."},{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1375792816,"post_id":18079349,"comment_id":26461726,"body_markdown":"I disagree - the compiler doesn&#39;t _have to_ discard _all_ the generic types (although, this seems to be what has been done). Rather, the compiler could treat _only_ the untyped generics as `Object`. That&#39;s what I would have expected, but that&#39;s not what happens, and hence the question remains... why are _all_ the generic types removed?","body":"I disagree - the compiler doesn&#39;t <i>have to</i> discard <i>all</i> the generic types (although, this seems to be what has been done). Rather, the compiler could treat <i>only</i> the untyped generics as <code>Object</code>. That&#39;s what I would have expected, but that&#39;s not what happens, and hence the question remains... why are <i>all</i> the generic types removed?"},{"owner":{"account_id":482279,"reputation":7803,"user_id":896588,"accept_rate":85,"display_name":"Andr&#233; Stannek"},"score":0,"creation_date":1375797632,"post_id":18079349,"comment_id":26465125,"body_markdown":"I think the full type erasure makes sense combined with the mentioned backwards compatability. When the object is created without generic type arguments it can be assumed that the usage of the object takes place in non generic code and so all the generic types are replaced with `Object` right away. I guess it&#39;s not possible for the compiler to guess on each call if it was intended to be generic. What happens if you make the methods static?","body":"I think the full type erasure makes sense combined with the mentioned backwards compatability. When the object is created without generic type arguments it can be assumed that the usage of the object takes place in non generic code and so all the generic types are replaced with <code>Object</code> right away. I guess it&#39;s not possible for the compiler to guess on each call if it was intended to be generic. What happens if you make the methods static?"}],"tags":[],"owner":{"account_id":3123805,"reputation":567,"user_id":2643078,"display_name":"MAnyKey"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375986304,"creation_date":1375789722,"answer_id":18079349,"question_id":18001550,"body_markdown":"I&#39;ve found one reason to fully discard generics (however it&#39;s not quite good). \r\nReason is: generics may be bounded. Consider this class:\r\n\r\n    public static class MyGenericClass&lt;T&gt; {\r\n        public &lt;K extends T&gt; K doSomething(K k){\r\n            return k;\r\n        }\r\n\r\n        public &lt;K&gt; List&lt;K&gt; makeSingletonList(K k){\r\n            return Collections.singletonList(k);\r\n        }\r\n    }\r\n\r\nThe compiler has to discard generics in `doSomething`, when you use the class without generics.\r\nAnd I think all generics are discarded to be consistent with this behavior.\r\n\r\n`makeSingletonList` compiles because Java does an unchecked cast from `List` to `List&lt;K&gt;` (however compiler displays warning).","title":"Java generic methods in generics classes","body":"<p>I've found one reason to fully discard generics (however it's not quite good). \nReason is: generics may be bounded. Consider this class:</p>\n\n<pre><code>public static class MyGenericClass&lt;T&gt; {\n    public &lt;K extends T&gt; K doSomething(K k){\n        return k;\n    }\n\n    public &lt;K&gt; List&lt;K&gt; makeSingletonList(K k){\n        return Collections.singletonList(k);\n    }\n}\n</code></pre>\n\n<p>The compiler has to discard generics in <code>doSomething</code>, when you use the class without generics.\nAnd I think all generics are discarded to be consistent with this behavior.</p>\n\n<p><code>makeSingletonList</code> compiles because Java does an unchecked cast from <code>List</code> to <code>List&lt;K&gt;</code> (however compiler displays warning).</p>\n"},{"tags":[],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375793319,"creation_date":1375793319,"answer_id":18080650,"question_id":18001550,"body_markdown":"This doesn&#39;t answer the fundamental question, but does address the issue of why `makeSingletonList(...)` compiles whilst `doSomething(...)` does not:\r\n\r\nIn an untyped implementation of `MyGenericClass`:\r\n\r\n    MyGenericClass untyped = new MyGenericClass();\r\n    List&lt;String&gt; list = untyped.makeSingletonList(&quot;String&quot;);\r\n\r\n...is equivalent to:\r\n\r\n    MyGenericClass untyped = new MyGenericClass();\r\n    List list = untyped.makeSingletonList(&quot;String&quot;);\r\n    List&lt;String&gt; typedList = list;\r\n\r\nThis will compile (with several warnings), but is then open to runtime errors. \r\n\r\nIndeed, this is also analogous to:\r\n\r\n    MyGenericClass untyped = new MyGenericClass();\r\n    List&lt;Integer&gt; list = untyped.makeSingletonList(&quot;String&quot;); // this compiles!!!\r\n    Integer a = list.get(0);\r\n\r\n...which compiles but will throw a runtime `ClassCastException` when you try and get the `String` value out and cast it to an `Integer`.","title":"Java generic methods in generics classes","body":"<p>This doesn't answer the fundamental question, but does address the issue of why <code>makeSingletonList(...)</code> compiles whilst <code>doSomething(...)</code> does not:</p>\n\n<p>In an untyped implementation of <code>MyGenericClass</code>:</p>\n\n<pre><code>MyGenericClass untyped = new MyGenericClass();\nList&lt;String&gt; list = untyped.makeSingletonList(\"String\");\n</code></pre>\n\n<p>...is equivalent to:</p>\n\n<pre><code>MyGenericClass untyped = new MyGenericClass();\nList list = untyped.makeSingletonList(\"String\");\nList&lt;String&gt; typedList = list;\n</code></pre>\n\n<p>This will compile (with several warnings), but is then open to runtime errors. </p>\n\n<p>Indeed, this is also analogous to:</p>\n\n<pre><code>MyGenericClass untyped = new MyGenericClass();\nList&lt;Integer&gt; list = untyped.makeSingletonList(\"String\"); // this compiles!!!\nInteger a = list.get(0);\n</code></pre>\n\n<p>...which compiles but will throw a runtime <code>ClassCastException</code> when you try and get the <code>String</code> value out and cast it to an <code>Integer</code>.</p>\n"},{"tags":[],"owner":{"account_id":482279,"reputation":7803,"user_id":896588,"accept_rate":85,"display_name":"Andr&#233; Stannek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375798515,"creation_date":1375798515,"answer_id":18082688,"question_id":18001550,"body_markdown":"From my comment on MAnyKeys answer:\r\n \t\r\nI think the full type erasure makes sense combined with the mentioned backwards compatability. When the object is created without generic type arguments it can be (or shoudl be?) assumed that the usage of the object takes place in non generic code.\r\n\r\nConsider this legacy code:\r\n\r\n    public class MyGenericClass {\r\n        public Object doSomething(Object k){\r\n            return k;\r\n        }\r\n    }\r\n\r\ncalled like this:\r\n\r\n    MyGenericClass foo = new MyGenricClass();\r\n    NotKType notKType = foo.doSomething(new NotKType());\r\n\r\nNow the class and it&#39;s method are made generic:\r\n\r\n    public class MyGenericClass&lt;T&gt; {\r\n        public &lt;K extends KType&gt; K doSomething(K k){\r\n            return k;\r\n        }\r\n    }\r\n\r\nNow the above caller code wouldn&#39;t compile anymore as `NotKType` is not a suptype of `KType`. To avoid this the generic types are replaced with `Object`. Although there are cases where it wouldn&#39;t make any difference (like your example), it is at least very complex for the compiler to analyze when. Might even be impossible.\r\n\r\nI know this szenario seems a little constructed but I&#39;m sure it happens from time to time.","title":"Java generic methods in generics classes","body":"<p>From my comment on MAnyKeys answer:</p>\n\n<p>I think the full type erasure makes sense combined with the mentioned backwards compatability. When the object is created without generic type arguments it can be (or shoudl be?) assumed that the usage of the object takes place in non generic code.</p>\n\n<p>Consider this legacy code:</p>\n\n<pre><code>public class MyGenericClass {\n    public Object doSomething(Object k){\n        return k;\n    }\n}\n</code></pre>\n\n<p>called like this:</p>\n\n<pre><code>MyGenericClass foo = new MyGenricClass();\nNotKType notKType = foo.doSomething(new NotKType());\n</code></pre>\n\n<p>Now the class and it's method are made generic:</p>\n\n<pre><code>public class MyGenericClass&lt;T&gt; {\n    public &lt;K extends KType&gt; K doSomething(K k){\n        return k;\n    }\n}\n</code></pre>\n\n<p>Now the above caller code wouldn't compile anymore as <code>NotKType</code> is not a suptype of <code>KType</code>. To avoid this the generic types are replaced with <code>Object</code>. Although there are cases where it wouldn't make any difference (like your example), it is at least very complex for the compiler to analyze when. Might even be impossible.</p>\n\n<p>I know this szenario seems a little constructed but I'm sure it happens from time to time.</p>\n"},{"comments":[{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1375799174,"post_id":18082751,"comment_id":26466235,"body_markdown":"I would agree backwards compatability is a good reason - it&#39;s just that it&#39;s not clear why type erasure of _all_ generics would be necessary to achieve this. +1 for the bug report, in which this issue is recognised as a bug, but that fixing it affects compatibility (which is not quite the same thing as saying it was needed for compatibility...). Unfortunately it seems that the fix hasn&#39;t yet been incorporated into a released version...","body":"I would agree backwards compatability is a good reason - it&#39;s just that it&#39;s not clear why type erasure of <i>all</i> generics would be necessary to achieve this. +1 for the bug report, in which this issue is recognised as a bug, but that fixing it affects compatibility (which is not quite the same thing as saying it was needed for compatibility...). Unfortunately it seems that the fix hasn&#39;t yet been incorporated into a released version..."},{"owner":{"account_id":2042374,"reputation":2206,"user_id":1823225,"accept_rate":50,"display_name":"Graham Griffiths"},"score":0,"creation_date":1375799349,"post_id":18082751,"comment_id":26466377,"body_markdown":"there is also this request : http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6256320 where someone appears to request the behaviour you describe - only erase the class generic parameters, not other generics - but it was rejected","body":"there is also this request : <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6256320\" rel=\"nofollow noreferrer\">bugs.sun.com/bugdatabase/view_bug.do?bug_id=6256320</a> where someone appears to request the behaviour you describe - only erase the class generic parameters, not other generics - but it was rejected"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1375932800,"post_id":18082751,"comment_id":26526866,"body_markdown":"+1 Good research - consider quoting the evaluations of the linked bug/request in your answer. @amaidment I recommend this answer for the bounty because it&#39;s the closest you&#39;re going to get to knowing the intent of the language designers.","body":"+1 Good research - consider quoting the evaluations of the linked bug/request in your answer. @amaidment I recommend this answer for the bounty because it&#39;s the closest you&#39;re going to get to knowing the intent of the language designers."},{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1376311004,"post_id":18082751,"comment_id":26649678,"body_markdown":"Indeed - a well deserved bounty, now awarded.","body":"Indeed - a well deserved bounty, now awarded."}],"tags":[],"owner":{"account_id":2042374,"reputation":2206,"user_id":1823225,"accept_rate":50,"display_name":"Graham Griffiths"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1699524261,"creation_date":1375798668,"answer_id":18082751,"question_id":18001550,"body_markdown":"&#39;for backwards compatibility&#39; seems a sufficient reason for the type erasure of class generic types - it is needed e.g. to allow you to return an untyped List and pass it to some legacy code.  The extension of this to generic methods seems like a tricky sub-case.\r\n\r\nThe JLS snippet from 4.8 (which you quote) covers constructors, instance methods and member fields - generic methods are just a particular case of instance methods in general. So it seems your case is covered by this snippet.\r\n\r\nAdapting JLS 4.8 to this specific case : \r\n\r\n&gt; The type of a generic method is the raw type that corresponds to the\r\n&gt; erasure of its type in the generic declaration corresponding to C.\r\n\r\n(here the &#39;type&#39; of the method would include all parameter and return types). If you interpret &#39;erasure&#39; as &#39;erasing all generics&#39;, then this does seem to match the observed behaviour, although it is not very intuitive or even useful. It almost seems like an overzealous consistency, to erase all generics, rather than just generic class parameters (although who am I to second guess the designers).  \r\n\r\nPerhaps there could be problems where the class generic parameters interact with the method generic parameters - in your code they are fully independent, but you could imagine other cases where they are assigned / mixed together.  I think it&#39;s worth pointing out that use of raw types are not recommended, as per the JLS : \r\n\r\n&gt; The use of raw types is allowed only as a concession to compatibility\r\n&gt; of legacy code. The use of raw types in code written after the\r\n&gt; introduction of genericity into the Java programming language is\r\n&gt; strongly discouraged. It is possible that future versions of the Java\r\n&gt; programming language will disallow the use of raw types\r\n\r\n\r\nSome of the thinking of the java developers is apparent here : \r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=6400189\r\n\r\n(bug + fix showing that a method&#39;s return type is treated as part of the method&#39;s type for the purposes of this type erasure)\r\n\r\nThere is also [this request][1], where someone appears to request the behaviour you describe - only erase the class generic parameters, not other generics - but it was rejected with this reasoning:\r\n\r\n&gt; The request is to modify type erasure so that in the type declaration `Foo&lt;T&gt;`, erasure only removes `T` from parameterized types. Then, it so happens that within `Map&lt;K,V&gt;`&#39;s declaration, `Set&lt;Map.Entry&lt;K,V&gt;&gt;` erases to `Set&lt;Map.Entry&gt;`.\r\n&gt;\r\n&gt; But if `Map&lt;K,V&gt;` had a method that took type `Map&lt;String,V&gt;`, its erasure would just be `Map&lt;String&gt;`. For type erasure to change the number of type parameters is horrific, especially for compile-time method resolution. We are absolutely not going to accept this request.\r\n&gt;\r\n&gt; It is too much to expect to be able to use raw types (`Map`) while still getting some of the type-safety of generics (`Set&lt;Map.Entry&gt;`).\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6256320","title":"Java generic methods in generics classes","body":"<p>'for backwards compatibility' seems a sufficient reason for the type erasure of class generic types - it is needed e.g. to allow you to return an untyped List and pass it to some legacy code.  The extension of this to generic methods seems like a tricky sub-case.</p>\n<p>The JLS snippet from 4.8 (which you quote) covers constructors, instance methods and member fields - generic methods are just a particular case of instance methods in general. So it seems your case is covered by this snippet.</p>\n<p>Adapting JLS 4.8 to this specific case :</p>\n<blockquote>\n<p>The type of a generic method is the raw type that corresponds to the\nerasure of its type in the generic declaration corresponding to C.</p>\n</blockquote>\n<p>(here the 'type' of the method would include all parameter and return types). If you interpret 'erasure' as 'erasing all generics', then this does seem to match the observed behaviour, although it is not very intuitive or even useful. It almost seems like an overzealous consistency, to erase all generics, rather than just generic class parameters (although who am I to second guess the designers).</p>\n<p>Perhaps there could be problems where the class generic parameters interact with the method generic parameters - in your code they are fully independent, but you could imagine other cases where they are assigned / mixed together.  I think it's worth pointing out that use of raw types are not recommended, as per the JLS :</p>\n<blockquote>\n<p>The use of raw types is allowed only as a concession to compatibility\nof legacy code. The use of raw types in code written after the\nintroduction of genericity into the Java programming language is\nstrongly discouraged. It is possible that future versions of the Java\nprogramming language will disallow the use of raw types</p>\n</blockquote>\n<p>Some of the thinking of the java developers is apparent here :</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6400189\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6400189</a></p>\n<p>(bug + fix showing that a method's return type is treated as part of the method's type for the purposes of this type erasure)</p>\n<p>There is also <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6256320\" rel=\"nofollow noreferrer\">this request</a>, where someone appears to request the behaviour you describe - only erase the class generic parameters, not other generics - but it was rejected with this reasoning:</p>\n<blockquote>\n<p>The request is to modify type erasure so that in the type declaration <code>Foo&lt;T&gt;</code>, erasure only removes <code>T</code> from parameterized types. Then, it so happens that within <code>Map&lt;K,V&gt;</code>'s declaration, <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> erases to <code>Set&lt;Map.Entry&gt;</code>.</p>\n<p>But if <code>Map&lt;K,V&gt;</code> had a method that took type <code>Map&lt;String,V&gt;</code>, its erasure would just be <code>Map&lt;String&gt;</code>. For type erasure to change the number of type parameters is horrific, especially for compile-time method resolution. We are absolutely not going to accept this request.</p>\n<p>It is too much to expect to be able to use raw types (<code>Map</code>) while still getting some of the type-safety of generics (<code>Set&lt;Map.Entry&gt;</code>).</p>\n</blockquote>\n"}],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11036,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"accepted_answer_id":18082751,"answer_count":6,"score":31,"last_activity_date":1699524261,"creation_date":1375380931,"question_id":18001550,"body_markdown":"If you create a generic class in Java (the class has generic type parameters), can you use generic methods (the method takes generic type parameters)?\r\n\r\nConsider the following example:\r\n\r\n    public class MyClass {\r\n      public &lt;K&gt; K doSomething(K k){\r\n        return k;\r\n      }\r\n    }\r\n\r\n    public class MyGenericClass&lt;T&gt; {\r\n      public &lt;K&gt; K doSomething(K k){\r\n        return k;\r\n      }\r\n\r\n      public &lt;K&gt; List&lt;K&gt; makeSingletonList(K k){\r\n        return Collections.singletonList(k);\r\n      }\r\n    }\r\n\r\nAs you would expect with a generic method, I can call `doSomething(K)` on instances of `MyClass` with any object:\r\n\r\n    MyClass clazz = new MyClass();\r\n    String string = clazz.doSomething(&quot;String&quot;);\r\n    Integer integer = clazz.doSomething(1);\r\n\r\nHowever, if I try to use instances of `MyGenericClass` *without* specifying a generic type,\r\nI calling `doSomething(K)` returns an `Object`, regardless of what `K` was passed in:\r\n\r\n    MyGenericClass untyped = new MyGenericClass();\r\n    // this doesn&#39;t compile - &quot;Incompatible types. Required: String, Found: Object&quot;\r\n    String string = untyped.doSomething(&quot;String&quot;);\r\n\r\nOddly, it will compile if the return type is a generic class - e.g. `List&lt;K&gt;` (Actually, this can be explained - see answer below):\r\n\r\n    MyGenericClass untyped = new MyGenericClass();\r\n    List&lt;String&gt; list = untyped.makeSingletonList(&quot;String&quot;); // this compiles\r\n\r\nAlso, it will compile if the generic class is typed, even if only with wildcards:\r\n\r\n    MyGenericClass&lt;?&gt; wildcard = new MyGenericClass();\r\n    String string = wildcard.doSomething(&quot;String&quot;); // this compiles\r\n\r\n- Is there a good reason why calling a generic method in an untyped generic class shouldn&#39;t work?\r\n\r\n- Is there some clever trick relating to generic classes and generic methods that I am missing?\r\n\r\nEDIT:\r\n\r\nTo clarify, I would expect an untyped or raw-typed generic class not to honour the generic class&#39;s type parameters (because they haven&#39;t been provided). However, it&#39;s not clear to my why an untyped or raw-typed generic class would mean that generic methods are not honoured. \r\n\r\nIt transpires that this issue has already been raised on SO, c.f. [this question][1]. The answers to this explain that when a class is untyped / in its raw-form, *all* generics are removed from the class - including typing of generic methods.\r\n\r\nHowever, there isn&#39;t really an explanation as to why this is the case. So allow me to clarify my question:\r\n\r\n- Why does Java remove generic method typing on untyped or raw-type generic classes? Is there a good reason for this, or was it just an oversight?\r\n\r\nEDIT - discussion of JLS:\r\n\r\nIt has been suggested (in answer to the previous SO question and to this question) that this is treated in [JLS 4.8][2], which states:\r\n\r\n&gt; The type of a constructor (&#167;8.8), instance method (&#167;8.4, &#167;9.4), or non-static field (&#167;8.3) M of a raw type C that is not inherited from its superclasses or superinterfaces is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to C. \r\n\r\nIt is clear to me how this relates to an untyped class - the class generic types are replaced with the erasure types. If the class generics are bound, then the erasure type corresponds to those bounds. If the they are not bound, then the erasure type is Object - e.g. \r\n\r\n    // unbound class types\r\n    public class MyGenericClass&lt;T&gt; {\r\n      public T doSomething(T t) { return t; }\r\n    }\r\n    MyGenericClass untyped = new MyGenericClass();\r\n    Object t = untyped.doSomething(&quot;String&quot;);\r\n    \r\n    // bound class types\r\n    public class MyBoundedGenericClass&lt;T extends Number&gt; {\r\n      public T doSomething(T t) { return t; }\r\n    }\r\n    MyBoundedGenericClass bounded = new MyBoundedGenericClass();\r\n    Object t1 = bounded.doSomething(&quot;String&quot;); // does not compile\r\n    Number t2 = bounded.doSomething(1); // does compile\r\n  \r\nWhilst generic methods are instance methods, it is not clear to me that JLS 4.8 applies to generic methods. The generic method&#39;s type (`&lt;K&gt;` in earlier example) is not untyped, as it&#39;s type is determined by the method parameters - only the class is untyped / raw-typed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11007723/combining-raw-types-and-generic-methods\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.8","title":"Java generic methods in generics classes","body":"<p>If you create a generic class in Java (the class has generic type parameters), can you use generic methods (the method takes generic type parameters)?</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>public class MyClass {\n  public &lt;K&gt; K doSomething(K k){\n    return k;\n  }\n}\n\npublic class MyGenericClass&lt;T&gt; {\n  public &lt;K&gt; K doSomething(K k){\n    return k;\n  }\n\n  public &lt;K&gt; List&lt;K&gt; makeSingletonList(K k){\n    return Collections.singletonList(k);\n  }\n}\n</code></pre>\n\n<p>As you would expect with a generic method, I can call <code>doSomething(K)</code> on instances of <code>MyClass</code> with any object:</p>\n\n<pre><code>MyClass clazz = new MyClass();\nString string = clazz.doSomething(\"String\");\nInteger integer = clazz.doSomething(1);\n</code></pre>\n\n<p>However, if I try to use instances of <code>MyGenericClass</code> <em>without</em> specifying a generic type,\nI calling <code>doSomething(K)</code> returns an <code>Object</code>, regardless of what <code>K</code> was passed in:</p>\n\n<pre><code>MyGenericClass untyped = new MyGenericClass();\n// this doesn't compile - \"Incompatible types. Required: String, Found: Object\"\nString string = untyped.doSomething(\"String\");\n</code></pre>\n\n<p>Oddly, it will compile if the return type is a generic class - e.g. <code>List&lt;K&gt;</code> (Actually, this can be explained - see answer below):</p>\n\n<pre><code>MyGenericClass untyped = new MyGenericClass();\nList&lt;String&gt; list = untyped.makeSingletonList(\"String\"); // this compiles\n</code></pre>\n\n<p>Also, it will compile if the generic class is typed, even if only with wildcards:</p>\n\n<pre><code>MyGenericClass&lt;?&gt; wildcard = new MyGenericClass();\nString string = wildcard.doSomething(\"String\"); // this compiles\n</code></pre>\n\n<ul>\n<li><p>Is there a good reason why calling a generic method in an untyped generic class shouldn't work?</p></li>\n<li><p>Is there some clever trick relating to generic classes and generic methods that I am missing?</p></li>\n</ul>\n\n<p>EDIT:</p>\n\n<p>To clarify, I would expect an untyped or raw-typed generic class not to honour the generic class's type parameters (because they haven't been provided). However, it's not clear to my why an untyped or raw-typed generic class would mean that generic methods are not honoured. </p>\n\n<p>It transpires that this issue has already been raised on SO, c.f. <a href=\"https://stackoverflow.com/questions/11007723/combining-raw-types-and-generic-methods\">this question</a>. The answers to this explain that when a class is untyped / in its raw-form, <em>all</em> generics are removed from the class - including typing of generic methods.</p>\n\n<p>However, there isn't really an explanation as to why this is the case. So allow me to clarify my question:</p>\n\n<ul>\n<li>Why does Java remove generic method typing on untyped or raw-type generic classes? Is there a good reason for this, or was it just an oversight?</li>\n</ul>\n\n<p>EDIT - discussion of JLS:</p>\n\n<p>It has been suggested (in answer to the previous SO question and to this question) that this is treated in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.8\" rel=\"nofollow noreferrer\">JLS 4.8</a>, which states:</p>\n\n<blockquote>\n  <p>The type of a constructor (§8.8), instance method (§8.4, §9.4), or non-static field (§8.3) M of a raw type C that is not inherited from its superclasses or superinterfaces is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to C. </p>\n</blockquote>\n\n<p>It is clear to me how this relates to an untyped class - the class generic types are replaced with the erasure types. If the class generics are bound, then the erasure type corresponds to those bounds. If the they are not bound, then the erasure type is Object - e.g. </p>\n\n<pre><code>// unbound class types\npublic class MyGenericClass&lt;T&gt; {\n  public T doSomething(T t) { return t; }\n}\nMyGenericClass untyped = new MyGenericClass();\nObject t = untyped.doSomething(\"String\");\n\n// bound class types\npublic class MyBoundedGenericClass&lt;T extends Number&gt; {\n  public T doSomething(T t) { return t; }\n}\nMyBoundedGenericClass bounded = new MyBoundedGenericClass();\nObject t1 = bounded.doSomething(\"String\"); // does not compile\nNumber t2 = bounded.doSomething(1); // does compile\n</code></pre>\n\n<p>Whilst generic methods are instance methods, it is not clear to me that JLS 4.8 applies to generic methods. The generic method's type (<code>&lt;K&gt;</code> in earlier example) is not untyped, as it's type is determined by the method parameters - only the class is untyped / raw-typed.</p>\n"},{"tags":["java","excel","selenium-webdriver","apache-poi","data-driven"],"comments":[{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":0,"creation_date":1381747332,"post_id":19358354,"comment_id":28682846,"body_markdown":"there is no case with permission on file right ? though it doesn&#39;t seems the case here , but just asking , and also plz post some code here","body":"there is no case with permission on file right ? though it doesn&#39;t seems the case here , but just asking , and also plz post some code here"},{"owner":{"account_id":1442295,"reputation":2625,"user_id":1362043,"accept_rate":75,"display_name":"Qben"},"score":0,"creation_date":1381748891,"post_id":19358354,"comment_id":28683525,"body_markdown":"Could this be a duplicate of http://stackoverflow.com/questions/12350775/unable-to-open-excel-using-apachepoi-getting-exception ?","body":"Could this be a duplicate of <a href=\"http://stackoverflow.com/questions/12350775/unable-to-open-excel-using-apachepoi-getting-exception\" title=\"unable to open excel using apachepoi getting exception\">stackoverflow.com/questions/12350775/&hellip;</a> ?"},{"owner":{"account_id":3319274,"reputation":59,"user_id":2790841,"accept_rate":20,"display_name":"pratik"},"score":1,"creation_date":1381749030,"post_id":19358354,"comment_id":28683586,"body_markdown":"my excel file got corrupted, so the error was showing. Error resolved.","body":"my excel file got corrupted, so the error was showing. Error resolved."}],"answers":[{"tags":[],"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389302633,"creation_date":1389302633,"answer_id":21031461,"question_id":19358354,"body_markdown":"The excel file was corrupted.  Once fixed, the problem was resolved.","title":"org.apache.poi.openxml4j.exceptions.InvalidOperationException: Can&#39;t open the specified file:","body":"<p>The excel file was corrupted.  Once fixed, the problem was resolved.</p>\n"}],"owner":{"account_id":3319274,"reputation":59,"user_id":2790841,"accept_rate":20,"display_name":"pratik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8053,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699524195,"creation_date":1381747021,"question_id":19358354,"body_markdown":"I am getting this error for Data Driven testing with excel.I have added 3.6 version of POI Jar.Below is the ERROR :  \r\n\r\n\r\n\r\n        org.apache.poi.openxml4j.exceptions.InvalidOperationException: Can&#39;t open the specified file: &#39;C:\\Users\\pjadhav1\\AppData\\Local\\Temp\\poifiles\\poi-ooxml-747722852.tmp&#39;\r\n\tat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:102)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:199)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:178)\r\n\tat org.apache.poi.util.PackageHelper.open(PackageHelper.java:53)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:176)\r\n\tat com.iopendr.xls.read.Xls_Reader.&lt;init&gt;(Xls_Reader.java:32)\r\n\tat com.iopendr.test.DriverScript.start(DriverScript.java:96)\r\n\tat com.iopendr.test.DriverScript.main(DriverScript.java:60)\r\n        1560 [main] DEBUG devpinoyLogger  - *********INITIALIZE ALL TESTCASES IN***********Login\r\n        Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat com.iopendr.xls.read.Xls_Reader.getRowCount(Xls_Reader.java:43)\r\n\tat com.iopendr.test.DriverScript.start(DriverScript.java:106)\r\n\tat com.iopendr.test.DriverScript.main(DriverScript.java:60)","title":"org.apache.poi.openxml4j.exceptions.InvalidOperationException: Can&#39;t open the specified file:","body":"<p>I am getting this error for Data Driven testing with excel.I have added 3.6 version of POI Jar.Below is the ERROR :  </p>\n\n<pre><code>    org.apache.poi.openxml4j.exceptions.InvalidOperationException: Can't open the specified file: 'C:\\Users\\pjadhav1\\AppData\\Local\\Temp\\poifiles\\poi-ooxml-747722852.tmp'\nat org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:102)\nat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:199)\nat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:178)\nat org.apache.poi.util.PackageHelper.open(PackageHelper.java:53)\nat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:176)\nat com.iopendr.xls.read.Xls_Reader.&lt;init&gt;(Xls_Reader.java:32)\nat com.iopendr.test.DriverScript.start(DriverScript.java:96)\nat com.iopendr.test.DriverScript.main(DriverScript.java:60)\n    1560 [main] DEBUG devpinoyLogger  - *********INITIALIZE ALL TESTCASES IN***********Login\n    Exception in thread \"main\" java.lang.NullPointerException\nat com.iopendr.xls.read.Xls_Reader.getRowCount(Xls_Reader.java:43)\nat com.iopendr.test.DriverScript.start(DriverScript.java:106)\nat com.iopendr.test.DriverScript.main(DriverScript.java:60)\n</code></pre>\n"},{"tags":["java","android","alarmmanager","background-service","foreground-service"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1699528042,"post_id":77452183,"comment_id":136544653,"body_markdown":"Whoever is using the phone has to go into their device settings and make your app exempt from battery optimizations. Using sensors or scanning location repeatedly make process a prime target for culling.","body":"Whoever is using the phone has to go into their device settings and make your app exempt from battery optimizations. Using sensors or scanning location repeatedly make process a prime target for culling."},{"owner":{"account_id":29249097,"reputation":1,"user_id":22408845,"display_name":"xx90TDrgA"},"score":0,"creation_date":1699528130,"post_id":77452183,"comment_id":136544671,"body_markdown":"@Pawel - done that as well..added code to whitelist app from battery optimisation, still facing the issue.","body":"@Pawel - done that as well..added code to whitelist app from battery optimisation, still facing the issue."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699529935,"post_id":77452183,"comment_id":136544976,"body_markdown":"https://dontkillmyapp.com/","body":"<a href=\"https://dontkillmyapp.com/\" rel=\"nofollow noreferrer\">dontkillmyapp.com</a>"}],"owner":{"account_id":29249097,"reputation":1,"user_id":22408845,"display_name":"xx90TDrgA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699524123,"creation_date":1699524123,"question_id":77452183,"body_markdown":"I have created a service which is responsible for sending current location on server every 60 seconds.\r\nI am using this as a foreground service, creating a foreground notification.\r\nBut its been noted that in some android devices if the phone screen is locked after 10 minutes or so the app along with the background services are getting killed and foreground notification also disappears with last log:\r\n\r\n`---------------------------- PROCESS ENDED (1111) for package xyz ----------------------------`\r\n\r\nI am failing to understand what is the issue as there are no crash reports in crashlytics and no issue in fetching location.\r\n\r\nOn searching what can be the issue google results suggest that this could be because of doze mode.\r\n\r\nTo counter it I have used wake locks and AlarmManager.setAndAllowWhileIdle to send alarm broadcast even in doze mode as per [this link](https://developer.android.com/training/monitoring-device-state/doze-standby#doze-checklist), but even the alarm is not getting triggered.\r\n\r\n`mAlarmManager.setAndAllowWhileIdle(AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime() + 3 * 60 * 1000, pendingIntent);`\r\n\r\nusing STICKY in startcommand as well.\r\n\r\nCan anyone help me as to what can be the issue, if anyone has come across this problem.","title":"Background Service is getting killed after 10 minutes or so","body":"<p>I have created a service which is responsible for sending current location on server every 60 seconds.\nI am using this as a foreground service, creating a foreground notification.\nBut its been noted that in some android devices if the phone screen is locked after 10 minutes or so the app along with the background services are getting killed and foreground notification also disappears with last log:</p>\n<p><code>---------------------------- PROCESS ENDED (1111) for package xyz ----------------------------</code></p>\n<p>I am failing to understand what is the issue as there are no crash reports in crashlytics and no issue in fetching location.</p>\n<p>On searching what can be the issue google results suggest that this could be because of doze mode.</p>\n<p>To counter it I have used wake locks and AlarmManager.setAndAllowWhileIdle to send alarm broadcast even in doze mode as per <a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby#doze-checklist\" rel=\"nofollow noreferrer\">this link</a>, but even the alarm is not getting triggered.</p>\n<p><code>mAlarmManager.setAndAllowWhileIdle(AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime() + 3 * 60 * 1000, pendingIntent);</code></p>\n<p>using STICKY in startcommand as well.</p>\n<p>Can anyone help me as to what can be the issue, if anyone has come across this problem.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":1,"creation_date":1632120034,"post_id":69249958,"comment_id":122397347,"body_markdown":"Close the project and delete the intellij files. Then, open the project but select the POM as the project, not the folder. Intellij will then detect the maven project.","body":"Close the project and delete the intellij files. Then, open the project but select the POM as the project, not the folder. Intellij will then detect the maven project."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1632120637,"post_id":69249958,"comment_id":122397527,"body_markdown":"You can open Maven tool window via View | Tool Windows | Maven.","body":"You can open Maven tool window via View | Tool Windows | Maven."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1632120700,"post_id":69249958,"comment_id":122397548,"body_markdown":"`The comptes-france project is red because one of its dependencies doesn&#39;t compile because maven has not been invoked to get one org.unit tool)` Do you see this module&#39;s Maven pom.xml file imported as Maven project? Does **Reload** action complete successfully?","body":"<code>The comptes-france project is red because one of its dependencies doesn&#39;t compile because maven has not been invoked to get one org.unit tool)</code> Do you see this module&#39;s Maven pom.xml file imported as Maven project? Does <b>Reload</b> action complete successfully?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1632121823,"post_id":69249958,"comment_id":122397920,"body_markdown":"@Andrey I&#39;ve edited my post to reply to you and add informations.","body":"@Andrey I&#39;ve edited my post to reply to you and add informations."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1632730741,"post_id":69249958,"comment_id":122562229,"body_markdown":"What current problem do you have?","body":"What current problem do you have?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1632733533,"post_id":69249958,"comment_id":122563418,"body_markdown":"@Andrey &quot;Build&quot; menu doesn&#39;t seems to follow the dependencies of the underlying maven files, and declare missing some packages that are here.","body":"@Andrey &quot;Build&quot; menu doesn&#39;t seems to follow the dependencies of the underlying maven files, and declare missing some packages that are here."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1633493139,"post_id":69249958,"comment_id":122771130,"body_markdown":"This exception has been fixed in 2021.3 version: https://youtrack.jetbrains.com/issue/IDEA-271045 The EAP build is available from https://www.jetbrains.com/idea/nextversion/ But it could also help to re-import project afresh: delete existing `.idea` project configuration directory and open the main pom.xml file of the project using File | Open action.","body":"This exception has been fixed in 2021.3 version: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-271045\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-271045</a> The EAP build is available from <a href=\"https://www.jetbrains.com/idea/nextversion/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/nextversion</a> But it could also help to re-import project afresh: delete existing <code>.idea</code> project configuration directory and open the main pom.xml file of the project using File | Open action."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1692724333,"post_id":69249958,"comment_id":135662442,"body_markdown":"You are not using the Maven standard directory structure.  I do not see src/main/java or src/test/java folders.  Are they underneath the modules?","body":"You are not using the Maven standard directory structure.  I do not see src/main/java or src/test/java folders.  Are they underneath the modules?"}],"answers":[{"tags":[],"owner":{"account_id":19860229,"reputation":11,"user_id":14548725,"display_name":"joskyday"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692719978,"creation_date":1692719978,"answer_id":76955055,"question_id":69249958,"body_markdown":"Close the project and delete the intellij files. Then, open the project but select the POM as the project, not the folder. Intellij will then detect the maven project. – \r\nSoftware Engineer\r\n Sep 20, 2021 at 6:40\r\n\r\nI tried this and it worked for me. Thank you buddy.","title":"IntelliJ doesn&#39;t detect that a Java project is using Maven for building, even if it offers some maven functions (but not the clean install ones)","body":"<p>Close the project and delete the intellij files. Then, open the project but select the POM as the project, not the folder. Intellij will then detect the maven project. –\nSoftware Engineer\nSep 20, 2021 at 6:40</p>\n<p>I tried this and it worked for me. Thank you buddy.</p>\n"},{"tags":[],"owner":{"account_id":14478734,"reputation":103,"user_id":10458641,"display_name":"elver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696017674,"creation_date":1696017674,"answer_id":77204527,"question_id":69249958,"body_markdown":"Step 1 --&gt; Delete all &quot;.idj&quot; from each folder that does not read including the parent pom folder \r\n\r\nStep 2 --&gt; Click on the maven refresh button to search again. I hope I have helped, this is how I have achieved it, when there are multiple projects it gives many problems intellij.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QyVI3.png","title":"IntelliJ doesn&#39;t detect that a Java project is using Maven for building, even if it offers some maven functions (but not the clean install ones)","body":"<p>Step 1 --&gt; Delete all &quot;.idj&quot; from each folder that does not read including the parent pom folder</p>\n<p>Step 2 --&gt; Click on the maven refresh button to search again. I hope I have helped, this is how I have achieved it, when there are multiple projects it gives many problems intellij.</p>\n<p><a href=\"https://i.stack.imgur.com/QyVI3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QyVI3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699523853,"creation_date":1699523853,"answer_id":77452143,"question_id":69249958,"body_markdown":"I used the File/Invalidate caches and there I clicked (using the default settings) on the Invalidate and Restart button. The whole project was reloaded and during this process I had a pop windows in the bottom-right corner which was said to allow maven project loading. I clicked on it and the magic happened, IntelliJ started to recognise my project as a maven project. ","title":"IntelliJ doesn&#39;t detect that a Java project is using Maven for building, even if it offers some maven functions (but not the clean install ones)","body":"<p>I used the File/Invalidate caches and there I clicked (using the default settings) on the Invalidate and Restart button. The whole project was reloaded and during this process I had a pop windows in the bottom-right corner which was said to allow maven project loading. I clicked on it and the magic happened, IntelliJ started to recognise my project as a maven project.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1699523853,"creation_date":1632119407,"question_id":69249958,"body_markdown":"I&#39;ve installed _intelliJ_ and it targets an existing `Java` project.\r\n\r\nIt marks `pom.xml` file with a special icon, but no _Maven_ windows is available and if it offers me to _Reload Maven Project_ or to _Download sources and documentation_ there&#39;s no way to perform a clean install or something like that.\r\n\r\n\r\nAs if my project wasn&#39;t recognized as a _Maven_ Project.\r\n\r\n\r\nHow can I tell to _IntelliJ_ that this project uses _Maven_ for building ?\r\n\r\n[![Maven tool is lacking][1]][1]\r\n(Maven tool is missing. The `comptes-france` project is red because one of its dependencies doesn&#39;t compile because maven has not been invoked to get one `org.unit` tool)\r\n\r\nP.S. : of course, if I go on `comptes-france` directory and run a `mvn clean install` from a command line, it works : the project itself compiles well, alone. It&#39;s _IntelliJ_ that doesn&#39;t detect it well.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jdeLr.png\r\n  [2]: https://i.stack.imgur.com/B49AW.png\r\n\r\n\r\n----------\r\n@Andrey it seems that Reload Maven project leads to an _IntelliJ_ bug : \r\n\r\n```log\r\n2021-09-20 08:07:17,774 [ 784855]   WARN -      #org.jetbrains.idea.maven - Failed to update Maven indices for: [local] /home/lebihan/.m2/repository \r\njava.lang.NullPointerException\r\n\tat org.jetbrains.idea.maven.server.MavenServerManager.convertSettings(MavenServerManager.java:510)\r\n\tat org.jetbrains.idea.maven.server.MavenIndexerWrapper.lambda$updateIndex$2(MavenIndexerWrapper.java:113)\r\n\tat org.jetbrains.idea.maven.server.RemoteObjectWrapper.performCancelable(RemoteObjectWrapper.java:91)\r\n\tat org.jetbrains.idea.maven.server.MavenIndexerWrapper.updateIndex(MavenIndexerWrapper.java:110)\r\n\tat org.jetbrains.idea.maven.indices.MavenIndex.updateContext(MavenIndex.java:401)\r\n\tat org.jetbrains.idea.maven.indices.MavenIndex.updateOrRepair(MavenIndex.java:347)\r\n\tat org.jetbrains.idea.maven.indices.MavenIndices.updateOrRepair(MavenIndices.java:129)\r\n\tat org.jetbrains.idea.maven.indices.MavenIndicesManager.doUpdateIndices(MavenIndicesManager.java:371)\r\n\tat org.jetbrains.idea.maven.indices.MavenIndicesManager$3.run(MavenIndicesManager.java:335)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:450)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:117)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsync$5(CoreProgressManager.java:510)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:243)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:183)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:705)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:647)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:63)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:170)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:243)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:668)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:665)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:665)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n----------\r\n\r\nGlad to you help, all, I succeeded in having the _Maven_ Tools, and this is convenient.  \r\nBut using &quot;_Build Project (Ctrl-F9)_&quot; still doesn&#39;t make it build correctly, while doing an Lifecycle -&gt; install from _Maven_ tools on the root project does.\r\n\r\nMy project isn&#39;t fully understood as a _Maven_ project yet.\r\n","title":"IntelliJ doesn&#39;t detect that a Java project is using Maven for building, even if it offers some maven functions (but not the clean install ones)","body":"<p>I've installed <em>intelliJ</em> and it targets an existing <code>Java</code> project.</p>\n<p>It marks <code>pom.xml</code> file with a special icon, but no <em>Maven</em> windows is available and if it offers me to <em>Reload Maven Project</em> or to <em>Download sources and documentation</em> there's no way to perform a clean install or something like that.</p>\n<p>As if my project wasn't recognized as a <em>Maven</em> Project.</p>\n<p>How can I tell to <em>IntelliJ</em> that this project uses <em>Maven</em> for building ?</p>\n<p><a href=\"https://i.stack.imgur.com/jdeLr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jdeLr.png\" alt=\"Maven tool is lacking\" /></a>\n(Maven tool is missing. The <code>comptes-france</code> project is red because one of its dependencies doesn't compile because maven has not been invoked to get one <code>org.unit</code> tool)</p>\n<p>P.S. : of course, if I go on <code>comptes-france</code> directory and run a <code>mvn clean install</code> from a command line, it works : the project itself compiles well, alone. It's <em>IntelliJ</em> that doesn't detect it well.</p>\n<p><a href=\"https://i.stack.imgur.com/B49AW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B49AW.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>@Andrey it seems that Reload Maven project leads to an <em>IntelliJ</em> bug :</p>\n<pre><code>2021-09-20 08:07:17,774 [ 784855]   WARN -      #org.jetbrains.idea.maven - Failed to update Maven indices for: [local] /home/lebihan/.m2/repository \njava.lang.NullPointerException\n    at org.jetbrains.idea.maven.server.MavenServerManager.convertSettings(MavenServerManager.java:510)\n    at org.jetbrains.idea.maven.server.MavenIndexerWrapper.lambda$updateIndex$2(MavenIndexerWrapper.java:113)\n    at org.jetbrains.idea.maven.server.RemoteObjectWrapper.performCancelable(RemoteObjectWrapper.java:91)\n    at org.jetbrains.idea.maven.server.MavenIndexerWrapper.updateIndex(MavenIndexerWrapper.java:110)\n    at org.jetbrains.idea.maven.indices.MavenIndex.updateContext(MavenIndex.java:401)\n    at org.jetbrains.idea.maven.indices.MavenIndex.updateOrRepair(MavenIndex.java:347)\n    at org.jetbrains.idea.maven.indices.MavenIndices.updateOrRepair(MavenIndices.java:129)\n    at org.jetbrains.idea.maven.indices.MavenIndicesManager.doUpdateIndices(MavenIndicesManager.java:371)\n    at org.jetbrains.idea.maven.indices.MavenIndicesManager$3.run(MavenIndicesManager.java:335)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:450)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:117)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsync$5(CoreProgressManager.java:510)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:243)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:183)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:705)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:647)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:63)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:170)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:243)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:668)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:665)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:665)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<hr />\n<p>Glad to you help, all, I succeeded in having the <em>Maven</em> Tools, and this is convenient.<br />\nBut using &quot;<em>Build Project (Ctrl-F9)</em>&quot; still doesn't make it build correctly, while doing an Lifecycle -&gt; install from <em>Maven</em> tools on the root project does.</p>\n<p>My project isn't fully understood as a <em>Maven</em> project yet.</p>\n"},{"tags":["java","linux","windows","intellij-idea","javafx"],"comments":[{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":0,"creation_date":1699524306,"post_id":77452121,"comment_id":136543910,"body_markdown":"I have a similar project, where I have to run from IDEA on different OS. I have the following module path (javafx is a dependency is the project) for MacOS, but it&#39;s similar on Linux, just relative to the home folder:\n`--module-path\n/Users/my_user/.m2/repository/org/openjfx/javafx-base/17.0.2/javafx-base-17.0.2-mac-aarch64.jar:/Users/my_user/.m2/repository/org/openjfx/javafx-media/17.0.2/javafx-media-17.0.2-mac-aarch64.jar:/Users/my_user/.m2/repository/org/openjfx/javafx-graphics/17.0.2/javafx-graphics-17.0.2-mac-aarch64.jar`","body":"I have a similar project, where I have to run from IDEA on different OS. I have the following module path (javafx is a dependency is the project) for MacOS, but it&#39;s similar on Linux, just relative to the home folder: <code>--module-path &#47;Users&#47;my_user&#47;.m2&#47;repository&#47;org&#47;openjfx&#47;javafx-base&#47;17.0.2&zwnj;&#8203;&#47;javafx-base-17.0.2-&zwnj;&#8203;mac-aarch64.jar:&#47;Use&zwnj;&#8203;rs&#47;my_user&#47;.m2&#47;repos&zwnj;&#8203;itory&#47;org&#47;openjfx&#47;ja&zwnj;&#8203;vafx-media&#47;17.0.2&#47;ja&zwnj;&#8203;vafx-media-17.0.2-ma&zwnj;&#8203;c-aarch64.jar:&#47;Users&zwnj;&#8203;&#47;my_user&#47;.m2&#47;reposit&zwnj;&#8203;ory&#47;org&#47;openjfx&#47;java&zwnj;&#8203;fx-graphics&#47;17.0.2&#47;j&zwnj;&#8203;avafx-graphics-17.0.&zwnj;&#8203;2-mac-aarch64.jar</code>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1699534734,"post_id":77452121,"comment_id":136545865,"body_markdown":"Verify that you have the correct [version](https://gluonhq.com/products/javafx/) for your platform and architecture; see also comments [here](https://stackoverflow.com/q/77445734/230513).","body":"Verify that you have the correct <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">version</a> for your platform and architecture; see also comments <a href=\"https://stackoverflow.com/q/77445734/230513\">here</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1699571984,"post_id":77452121,"comment_id":136552597,"body_markdown":"You could run `jlink` or jpackage on your target Linux system to create a runtime image or installer that you can use on that target Linux system.  For information on using jlink refer to the [&quot;Runtime Images&quot; section of the JavaFX getting started documentation](https://openjfx.io/openjfx-docs/#modular).  Oracle have a [guide for jpackage](https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A).  Or you can download relevant jmods from Gluon and include them with your app distribution on the module path.","body":"You could run <code>jlink</code> or jpackage on your target Linux system to create a runtime image or installer that you can use on that target Linux system.  For information on using jlink refer to the <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">&quot;Runtime Images&quot; section of the JavaFX getting started documentation</a>.  Oracle have a <a href=\"https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">guide for jpackage</a>.  Or you can download relevant jmods from Gluon and include them with your app distribution on the module path."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1699572148,"post_id":77452121,"comment_id":136552609,"body_markdown":"Not all Linux versions are capable of running JavaFX apps out of the box.  For instance, I think archlinux won&#39;t as it uses [musl](https://musl.libc.org) rather than glibc.  Similarly, stripped-down server versions of Linux that don&#39;t include the xWindows client windowing system won&#39;t run JavaFX apps.  The graphics and CPU hardware of the system also needs to be compatible with your JavaFX version.  A standard full client distribution by a major vendor (e.g. Ubuntu or Fedora) should run JavaFX apps (of the same CPU architecture) without additional software installs.","body":"Not all Linux versions are capable of running JavaFX apps out of the box.  For instance, I think archlinux won&#39;t as it uses <a href=\"https://musl.libc.org\" rel=\"nofollow noreferrer\">musl</a> rather than glibc.  Similarly, stripped-down server versions of Linux that don&#39;t include the xWindows client windowing system won&#39;t run JavaFX apps.  The graphics and CPU hardware of the system also needs to be compatible with your JavaFX version.  A standard full client distribution by a major vendor (e.g. Ubuntu or Fedora) should run JavaFX apps (of the same CPU architecture) without additional software installs."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":1,"creation_date":1699607262,"post_id":77452121,"comment_id":136555939,"body_markdown":"Please add your Linux distro, the installed JDK and your Java compile version.","body":"Please add your Linux distro, the installed JDK and your Java compile version."}],"owner":{"account_id":20356404,"reputation":9,"user_id":22789169,"display_name":"mumbert4"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699523667,"creation_date":1699523667,"question_id":77452121,"body_markdown":"I creted an app using jaxafx and intellij, in windows works fine but when i execute the jar in linux with:\r\n\r\n```\r\njava --module-path javafx-sdk-21.0.1/lib --add-modules javafx.controls,javafx.fxml -jar  ./i-ViSta4bike2.jar\r\n```\r\nI get this error: \r\n\r\n```\r\nGraphics Device initialization failed for :  es2, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\r\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:118)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\r\nCaused by: java.lang.RuntimeException: No toolkit found\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n\tat javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\r\n\t... 2 more\r\n\r\n```\r\n\r\n\r\n\r\nI tried everything i could find on the internet, i just want to run my app in both OS.","title":"JavaFX app running on windows but not in linux","body":"<p>I creted an app using jaxafx and intellij, in windows works fine but when i execute the jar in linux with:</p>\n<pre><code>java --module-path javafx-sdk-21.0.1/lib --add-modules javafx.controls,javafx.fxml -jar  ./i-ViSta4bike2.jar\n</code></pre>\n<p>I get this error:</p>\n<pre><code>Graphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics@21.0.1/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n    at javafx.graphics@21.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n    at javafx.graphics@21.0.1/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics@21.0.1/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n    at javafx.graphics@21.0.1/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:118)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\nCaused by: java.lang.RuntimeException: No toolkit found\n    at javafx.graphics@21.0.1/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n    at javafx.graphics@21.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    ... 2 more\n\n</code></pre>\n<p>I tried everything i could find on the internet, i just want to run my app in both OS.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":9,"creation_date":1478899446,"post_id":3485347,"comment_id":68350943,"body_markdown":"nice article http://www.baeldung.com/circular-dependencies-in-spring","body":"nice article <a href=\"http://www.baeldung.com/circular-dependencies-in-spring\" rel=\"nofollow noreferrer\">baeldung.com/circular-dependencies-in-spring</a>"},{"owner":{"account_id":1178044,"reputation":607,"user_id":1153563,"display_name":"Jerome L"},"score":0,"creation_date":1521199399,"post_id":3485347,"comment_id":85640082,"body_markdown":"Another useful article explaining how circular dependencies happen: https://octoperf.com/blog/2018/02/15/spring-circular-dependencies/","body":"Another useful article explaining how circular dependencies happen: <a href=\"https://octoperf.com/blog/2018/02/15/spring-circular-dependencies/\" rel=\"nofollow noreferrer\">octoperf.com/blog/2018/02/15/spring-circular-dependencies</a>"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1478897579,"post_id":3485374,"comment_id":68350200,"body_markdown":"@skaffman only way with after propertiesSet method usage proper ?","body":"@skaffman only way with after propertiesSet method usage proper ?"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1281824959,"creation_date":1281824959,"answer_id":3485374,"question_id":3485347,"body_markdown":"It just does it. It instantiates `a` and `b`, and injects each one into the other (using their setter methods).\r\n\r\nWhat&#39;s the problem?","title":"Circular dependency in Spring","body":"<p>It just does it. It instantiates <code>a</code> and <code>b</code>, and injects each one into the other (using their setter methods).</p>\n\n<p>What's the problem?</p>\n"},{"comments":[{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":33,"creation_date":1281826318,"post_id":3485429,"comment_id":3639166,"body_markdown":"This is why Spring requires a constructor with no arguments ;-)","body":"This is why Spring requires a constructor with no arguments ;-)"},{"owner":{"account_id":68828,"reputation":25201,"user_id":200609,"accept_rate":25,"display_name":"Richard Fearn"},"score":16,"creation_date":1281827241,"post_id":3485429,"comment_id":3639209,"body_markdown":"Not if you use constructor arguments in your bean definitions! (But in that case you can&#39;t have a circular dependency.)","body":"Not if you use constructor arguments in your bean definitions! (But in that case you can&#39;t have a circular dependency.)"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1478897496,"post_id":3485429,"comment_id":68350152,"body_markdown":"@Richard Fearn Does your post about the issue explanation rather than solution providing ?","body":"@Richard Fearn Does your post about the issue explanation rather than solution providing ?"},{"owner":{"account_id":3953970,"reputation":943,"user_id":3263204,"display_name":"X. Wo Satuk"},"score":4,"creation_date":1490776514,"post_id":3485429,"comment_id":73258479,"body_markdown":"If you try to use constructor injection, the error message is `org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;a&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?`","body":"If you try to use constructor injection, the error message is <code>org.springframework.beans.factory.BeanCurrentlyInCreationExc&zwnj;&#8203;eption: Error creating bean with name &#39;a&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?</code>"}],"tags":[],"owner":{"account_id":68828,"reputation":25201,"user_id":200609,"accept_rate":25,"display_name":"Richard Fearn"},"comment_count":4,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1281825855,"creation_date":1281825855,"answer_id":3485429,"question_id":3485347,"body_markdown":"The [Spring reference manual][1] explains how circular dependencies are resolved. The beans are instantiated first, then injected into each other.\r\n\r\nConsider this class:\r\n\r\n    package mypackage;\r\n    \r\n    public class A {\r\n        \r\n        public A() {\r\n            System.out.println(&quot;Creating instance of A&quot;);\r\n        }\r\n        \r\n        private B b;\r\n        \r\n        public void setB(B b) {\r\n            System.out.println(&quot;Setting property b of A instance&quot;);\r\n            this.b = b;\r\n        }\r\n        \r\n    }\r\n\r\nAnd a similar class `B`:\r\n\r\n    package mypackage;\r\n    \r\n    public class B {\r\n        \r\n        public B() {\r\n            System.out.println(&quot;Creating instance of B&quot;);\r\n        }\r\n        \r\n        private A a;\r\n        \r\n        public void setA(A a) {\r\n            System.out.println(&quot;Setting property a of B instance&quot;);\r\n            this.a = a;\r\n        }\r\n        \r\n    }\r\n\r\nIf you then had this configuration file:\r\n\r\n    &lt;bean id=&quot;a&quot; class=&quot;mypackage.A&quot;&gt;\r\n    \t&lt;property name=&quot;b&quot; ref=&quot;b&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;b&quot; class=&quot;mypackage.B&quot;&gt;\r\n    \t&lt;property name=&quot;a&quot; ref=&quot;a&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nYou would see the following output when creating a context using this configuration:\r\n\r\n    Creating instance of A\r\n    Creating instance of B\r\n    Setting property a of B instance\r\n    Setting property b of A instance\r\n\r\nNote that when `a` is injected into `b`, `a` is not yet fully initialised.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#d0e2299","title":"Circular dependency in Spring","body":"<p>The <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#d0e2299\" rel=\"noreferrer\">Spring reference manual</a> explains how circular dependencies are resolved. The beans are instantiated first, then injected into each other.</p>\n\n<p>Consider this class:</p>\n\n<pre><code>package mypackage;\n\npublic class A {\n\n    public A() {\n        System.out.println(\"Creating instance of A\");\n    }\n\n    private B b;\n\n    public void setB(B b) {\n        System.out.println(\"Setting property b of A instance\");\n        this.b = b;\n    }\n\n}\n</code></pre>\n\n<p>And a similar class <code>B</code>:</p>\n\n<pre><code>package mypackage;\n\npublic class B {\n\n    public B() {\n        System.out.println(\"Creating instance of B\");\n    }\n\n    private A a;\n\n    public void setA(A a) {\n        System.out.println(\"Setting property a of B instance\");\n        this.a = a;\n    }\n\n}\n</code></pre>\n\n<p>If you then had this configuration file:</p>\n\n<pre><code>&lt;bean id=\"a\" class=\"mypackage.A\"&gt;\n    &lt;property name=\"b\" ref=\"b\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"b\" class=\"mypackage.B\"&gt;\n    &lt;property name=\"a\" ref=\"a\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>You would see the following output when creating a context using this configuration:</p>\n\n<pre><code>Creating instance of A\nCreating instance of B\nSetting property a of B instance\nSetting property b of A instance\n</code></pre>\n\n<p>Note that when <code>a</code> is injected into <code>b</code>, <code>a</code> is not yet fully initialised.</p>\n"},{"tags":[],"owner":{"account_id":176350,"reputation":13315,"user_id":406984,"accept_rate":100,"display_name":"earldouglas"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1281826216,"creation_date":1281826216,"answer_id":3485447,"question_id":3485347,"body_markdown":"From the [Spring Reference][1]: \r\n\r\n&gt; You can generally trust Spring to do\r\n&gt; the right thing. It detects\r\n&gt; configuration problems, such as\r\n&gt; references to non-existent beans and\r\n&gt; circular dependencies, at container\r\n&gt; load-time. Spring sets properties and\r\n&gt; resolves dependencies as late as\r\n&gt; possible, when the bean is actually\r\n&gt; created.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#d0e2299","title":"Circular dependency in Spring","body":"<p>From the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#d0e2299\" rel=\"noreferrer\">Spring Reference</a>: </p>\n\n<blockquote>\n  <p>You can generally trust Spring to do\n  the right thing. It detects\n  configuration problems, such as\n  references to non-existent beans and\n  circular dependencies, at container\n  load-time. Spring sets properties and\n  resolves dependencies as late as\n  possible, when the bean is actually\n  created.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1660637119,"creation_date":1281830829,"answer_id":3485660,"question_id":3485347,"body_markdown":"As the other answers have said, Spring just takes care of it, creating the beans and injecting them as required.\r\n\r\nOne of the consequences is that bean injection / property setting might occur in a different order to what your XML wiring files would seem to imply.  So you need to be careful that your property setters don&#39;t do initialization that relies on other setters already having been called.  The way to deal with this is to declare beans as implementing the `InitializingBean` interface.  This requires you to implement the `afterPropertiesSet()` method, and this is where you do the critical initialization.  (I would also include code to check that important properties have actually been set.)\r\n","title":"Circular dependency in Spring","body":"<p>As the other answers have said, Spring just takes care of it, creating the beans and injecting them as required.</p>\n<p>One of the consequences is that bean injection / property setting might occur in a different order to what your XML wiring files would seem to imply.  So you need to be careful that your property setters don't do initialization that relies on other setters already having been called.  The way to deal with this is to declare beans as implementing the <code>InitializingBean</code> interface.  This requires you to implement the <code>afterPropertiesSet()</code> method, and this is where you do the critical initialization.  (I would also include code to check that important properties have actually been set.)</p>\n"},{"tags":[],"owner":{"account_id":2042592,"reputation":177,"user_id":1823402,"display_name":"Saurav S."},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1363460579,"creation_date":1363460579,"answer_id":15453398,"question_id":3485347,"body_markdown":"The Spring container is able to resolve Setter-based circular dependencies but gives a runtime exception BeanCurrentlyInCreationException in case of Constructor-based circular dependencies.\r\nIn case of Setter-based circular dependency, the IOC container handles it differently from a typical scenario wherein it would fully configure the collaborating bean before injecting it. \r\nFor eg., if Bean A has a dependency on Bean B and Bean B on Bean C, the container fully initializes C before injecting it to B and once B is fully initialized it is injected to A. But in case of circular dependency, one of the beans is injected to the other before it is fully initialized.","title":"Circular dependency in Spring","body":"<p>The Spring container is able to resolve Setter-based circular dependencies but gives a runtime exception BeanCurrentlyInCreationException in case of Constructor-based circular dependencies.\nIn case of Setter-based circular dependency, the IOC container handles it differently from a typical scenario wherein it would fully configure the collaborating bean before injecting it. \nFor eg., if Bean A has a dependency on Bean B and Bean B on Bean C, the container fully initializes C before injecting it to B and once B is fully initialized it is injected to A. But in case of circular dependency, one of the beans is injected to the other before it is fully initialized.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1375186180,"post_id":17111644,"comment_id":26225989,"body_markdown":"Interesting recommendation.  My counter recommendation would be only to do that if you *suspect* that circular references are causing a performance problem.  (It would be a shame to break something that didn&#39;t need to be broken by trying to fix a problem that didn&#39;t need fixing.)","body":"Interesting recommendation.  My counter recommendation would be only to do that if you <i>suspect</i> that circular references are causing a performance problem.  (It would be a shame to break something that didn&#39;t need to be broken by trying to fix a problem that didn&#39;t need fixing.)"},{"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"score":3,"creation_date":1376230803,"post_id":17111644,"comment_id":26624745,"body_markdown":"It&#39;s a slippery slope down to maintenance hell to allow circular dependencies, redesigning your architecture from circular dependencies can be really tricky, as it were in our case. What it roughly meant for us was that we got twice as many database connections during startup as the sessionfactory were involved in the circular dependency. In other scenarios much more disastrous things could have happened due to the bean being instantiated 12000+ times. Sure you should write your beans so that they support destroying them but why allow this behavior in the first place?","body":"It&#39;s a slippery slope down to maintenance hell to allow circular dependencies, redesigning your architecture from circular dependencies can be really tricky, as it were in our case. What it roughly meant for us was that we got twice as many database connections during startup as the sessionfactory were involved in the circular dependency. In other scenarios much more disastrous things could have happened due to the bean being instantiated 12000+ times. Sure you should write your beans so that they support destroying them but why allow this behavior in the first place?"},{"owner":{"account_id":215962,"reputation":126,"user_id":470911,"accept_rate":75,"display_name":"serprime"},"score":0,"creation_date":1508770477,"post_id":17111644,"comment_id":80731927,"body_markdown":"@jontejj, you deserve a cookie","body":"@jontejj, you deserve a cookie"}],"tags":[],"owner":{"account_id":259109,"reputation":2800,"user_id":541755,"accept_rate":71,"display_name":"jontejj"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1376231003,"creation_date":1371222538,"answer_id":17111644,"question_id":3485347,"body_markdown":"In the codebase I&#39;m working with (1 million + lines of code) we had a problem with long startup times, around 60 seconds. We were getting 12000+ [FactoryBeanNotInitializedException](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/FactoryBeanNotInitializedException.html).\r\n\r\nWhat I did was set a conditional breakpoint in [AbstractBeanFactory#doGetBean](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/support/AbstractBeanFactory.html#doGetBean)\r\n\r\n    catch (BeansException ex) {\r\n\t   // Explicitly remove instance from singleton cache: It might have been put there\r\n\t   // eagerly by the creation process, to allow for circular reference resolution.\r\n\t   // Also remove any beans that received a temporary reference to the bean.\r\n\t   destroySingleton(beanName);\r\n\t   throw ex;\r\n    }\r\n\r\nwhere it does `destroySingleton(beanName)` I printed the exception with conditional breakpoint code:\r\n\r\n       System.out.println(ex);\r\n       return false;\r\n\r\n\r\nApparently this happens when [FactoryBean](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/FactoryBean.html)s are involved in a cyclic dependency graph. We solved it by implementing [ApplicationContextAware](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/context/ApplicationContextAware.html) and  [InitializingBean](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/InitializingBean.html) and manually injecting the beans. \r\n\r\n\timport org.springframework.beans.BeansException;\r\n\timport org.springframework.beans.factory.InitializingBean;\r\n\timport org.springframework.context.ApplicationContext;\r\n\timport org.springframework.context.ApplicationContextAware;\r\n\r\n\tpublic class A implements ApplicationContextAware, InitializingBean{\r\n\r\n\t\tprivate B cyclicDepenency;\r\n\t\tprivate ApplicationContext ctx;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void setApplicationContext(ApplicationContext applicationContext)\r\n\t\t\t\tthrows BeansException {\r\n\t\t\tctx = applicationContext;\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void afterPropertiesSet() throws Exception {\r\n\t\t\tcyclicDepenency = ctx.getBean(B.class);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void useCyclicDependency()\r\n\t\t{\r\n\t\t\tcyclicDepenency.doSomething();\r\n\t\t}\r\n\t}\r\n\r\nThis cut down the startup time to around 15 secs.\r\n\r\nSo don&#39;t always assume that spring can be good at solving these references for you.\r\n\r\nFor this reason I&#39;d recommend disabling cyclic dependency resolution with [AbstractRefreshableApplicationContext#setAllowCircularReferences(false)](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/context/support/AbstractRefreshableApplicationContext.html#setAllowCircularReferences(boolean)) to prevent many future problems.","title":"Circular dependency in Spring","body":"<p>In the codebase I'm working with (1 million + lines of code) we had a problem with long startup times, around 60 seconds. We were getting 12000+ <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/FactoryBeanNotInitializedException.html\">FactoryBeanNotInitializedException</a>.</p>\n\n<p>What I did was set a conditional breakpoint in <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/support/AbstractBeanFactory.html#doGetBean\">AbstractBeanFactory#doGetBean</a></p>\n\n<pre><code>catch (BeansException ex) {\n   // Explicitly remove instance from singleton cache: It might have been put there\n   // eagerly by the creation process, to allow for circular reference resolution.\n   // Also remove any beans that received a temporary reference to the bean.\n   destroySingleton(beanName);\n   throw ex;\n}\n</code></pre>\n\n<p>where it does <code>destroySingleton(beanName)</code> I printed the exception with conditional breakpoint code:</p>\n\n<pre><code>   System.out.println(ex);\n   return false;\n</code></pre>\n\n<p>Apparently this happens when <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/FactoryBean.html\">FactoryBean</a>s are involved in a cyclic dependency graph. We solved it by implementing <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/context/ApplicationContextAware.html\">ApplicationContextAware</a> and  <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/InitializingBean.html\">InitializingBean</a> and manually injecting the beans. </p>\n\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\n\npublic class A implements ApplicationContextAware, InitializingBean{\n\n    private B cyclicDepenency;\n    private ApplicationContext ctx;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext)\n            throws BeansException {\n        ctx = applicationContext;\n    }\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        cyclicDepenency = ctx.getBean(B.class);\n    }\n\n    public void useCyclicDependency()\n    {\n        cyclicDepenency.doSomething();\n    }\n}\n</code></pre>\n\n<p>This cut down the startup time to around 15 secs.</p>\n\n<p>So don't always assume that spring can be good at solving these references for you.</p>\n\n<p>For this reason I'd recommend disabling cyclic dependency resolution with <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/context/support/AbstractRefreshableApplicationContext.html#setAllowCircularReferences%28boolean%29\">AbstractRefreshableApplicationContext#setAllowCircularReferences(false)</a> to prevent many future problems.</p>\n"},{"tags":[],"owner":{"account_id":130452,"reputation":523,"user_id":329736,"accept_rate":75,"display_name":"barclar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403018775,"creation_date":1403018775,"answer_id":24267724,"question_id":3485347,"body_markdown":"If you generally use constructor-injection and don&#39;t want to switch to property-injection then Spring&#39;s **lookup-method**-injection will let one bean lazily lookup the other and hence workaround the cyclic dependency. See here: http://docs.spring.io/spring/docs/1.2.9/reference/beans.html#d0e1161","title":"Circular dependency in Spring","body":"<p>If you generally use constructor-injection and don't want to switch to property-injection then Spring's <strong>lookup-method</strong>-injection will let one bean lazily lookup the other and hence workaround the cyclic dependency. See here: <a href=\"http://docs.spring.io/spring/docs/1.2.9/reference/beans.html#d0e1161\" rel=\"nofollow\">http://docs.spring.io/spring/docs/1.2.9/reference/beans.html#d0e1161</a></p>\n"},{"comments":[{"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"score":0,"creation_date":1532894613,"post_id":41542181,"comment_id":90133519,"body_markdown":"simple and one of the best explanation.","body":"simple and one of the best explanation."}],"tags":[],"owner":{"account_id":3244844,"reputation":171,"user_id":2736744,"display_name":"Silent"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1483943452,"creation_date":1483943452,"answer_id":41542181,"question_id":3485347,"body_markdown":"Say A depends on B, then Spring will first instantiate A, then B, then set properties for B, then set B into A.\r\n\r\nBut what if B also depends on A?\r\n\r\nMy understanding is: Spring just found that A has been constructed (constructor executed), but not fully initialized (not all injections done), well, it thought, it&#39;s OK, it&#39;s tolerable that A is not fully initialized, just set this not-fully-initialized A instances into B for now. After B is fully initialized, it was set into A, and finally, A was fully initiated now.\r\n\r\nIn other words, it just expose A to B in advance.\r\n\r\nFor dependencies via constructor, Sprint just throw BeanCurrentlyInCreationException, to resolve this exception, set lazy-init to true for the bean which depends on others via constructor-arg way.","title":"Circular dependency in Spring","body":"<p>Say A depends on B, then Spring will first instantiate A, then B, then set properties for B, then set B into A.</p>\n\n<p>But what if B also depends on A?</p>\n\n<p>My understanding is: Spring just found that A has been constructed (constructor executed), but not fully initialized (not all injections done), well, it thought, it's OK, it's tolerable that A is not fully initialized, just set this not-fully-initialized A instances into B for now. After B is fully initialized, it was set into A, and finally, A was fully initiated now.</p>\n\n<p>In other words, it just expose A to B in advance.</p>\n\n<p>For dependencies via constructor, Sprint just throw BeanCurrentlyInCreationException, to resolve this exception, set lazy-init to true for the bean which depends on others via constructor-arg way.</p>\n"},{"tags":[],"owner":{"account_id":365723,"reputation":1537,"user_id":710817,"accept_rate":67,"display_name":"whoami"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1699523391,"creation_date":1497967261,"answer_id":44655223,"question_id":3485347,"body_markdown":"It&#39;s clearly explained [here][1]. Thanks to Eugen Paraschiv.\r\n\r\nCircular dependency is a design smell. Either fix it or use @Lazy for the dependency which causes problem to workaround it.\r\n\r\n\r\n  [1]: http://www.baeldung.com/circular-dependencies-in-spring","title":"Circular dependency in Spring","body":"<p>It's clearly explained <a href=\"http://www.baeldung.com/circular-dependencies-in-spring\" rel=\"nofollow noreferrer\">here</a>. Thanks to Eugen Paraschiv.</p>\n<p>Circular dependency is a design smell. Either fix it or use @Lazy for the dependency which causes problem to workaround it.</p>\n"},{"tags":[],"owner":{"account_id":12820573,"reputation":35,"user_id":9275613,"display_name":"Srikant M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517550001,"creation_date":1517550001,"answer_id":48576340,"question_id":3485347,"body_markdown":"If two beans are dependent on each other then we should not use Constructor injection in both the bean definitions. Instead we have to use setter injection in any one of the beans. (of course we can use setter injection n both the bean definitions, but constructor injections in both throw &#39;BeanCurrentlyInCreationException&#39;\r\n\r\nRefer Spring doc at &quot;https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#resources-resource&quot;","title":"Circular dependency in Spring","body":"<p>If two beans are dependent on each other then we should not use Constructor injection in both the bean definitions. Instead we have to use setter injection in any one of the beans. (of course we can use setter injection n both the bean definitions, but constructor injections in both throw 'BeanCurrentlyInCreationException'</p>\n\n<p>Refer Spring doc at \"<a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#resources-resource\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#resources-resource</a>\"</p>\n"},{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1632151158,"post_id":49188520,"comment_id":122409836,"body_markdown":"IMHO, these are not &quot;solutions&quot;, but &quot;workarounds&quot;.    The &quot;solution&quot; is to not create/have cyclic references.   I&#39;m not negating the value of the answer as a work-around.  Sometimes you gotta use a work-around.  I just fear (for future readers) the word &quot;solution&quot; means &quot;this is ok&quot;.  Cyclic references are not &quot;ok&quot;.","body":"IMHO, these are not &quot;solutions&quot;, but &quot;workarounds&quot;.    The &quot;solution&quot; is to not create/have cyclic references.   I&#39;m not negating the value of the answer as a work-around.  Sometimes you gotta use a work-around.  I just fear (for future readers) the word &quot;solution&quot; means &quot;this is ok&quot;.  Cyclic references are not &quot;ok&quot;."}],"tags":[],"owner":{"account_id":4047158,"reputation":321,"user_id":3328046,"display_name":"Akshay N. Shelke"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1520585357,"creation_date":1520580079,"answer_id":49188520,"question_id":3485347,"body_markdown":"Problem -&gt;\r\n\r\n    Class A {\r\n\t    private final B b; // must initialize in ctor/instance block\r\n\t    public A(B b) { this.b = b };\r\n    }\r\n    \r\n\r\n    Class B {\r\n\t    private final A a; // must initialize in ctor/instance block\r\n\t    public B(A a) { this.a = a };\r\n     }\r\n\r\n// Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;A&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\r\nSolution 1 -&gt;\r\n\r\n    Class A {\r\n    \tprivate B b; \r\n\t    public A( ) {  };\r\n\t    //getter-setter for B b\r\n    }\r\n\r\n    Class B {\r\n\t    private A a;\r\n\t    public B( ) {  };\r\n\t    //getter-setter for A a\r\n    }\r\n\r\n\r\nSolution 2 -&gt;\r\n\r\n    Class A {\r\n        private final B b; // must initialize in ctor/instance block\r\n\t    public A(@Lazy B b) { this.b = b };\r\n    }\r\n\r\n    Class B {\r\n\t    private final A a; // must initialize in ctor/instance block\r\n\t    public B(A a) { this.a = a };\r\n    }","title":"Circular dependency in Spring","body":"<p>Problem -></p>\n\n<pre><code>Class A {\n    private final B b; // must initialize in ctor/instance block\n    public A(B b) { this.b = b };\n}\n\n\nClass B {\n    private final A a; // must initialize in ctor/instance block\n    public B(A a) { this.a = a };\n }\n</code></pre>\n\n<p>// Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'A': Requested bean is currently in creation: Is there an unresolvable circular reference?</p>\n\n<p>Solution 1 -></p>\n\n<pre><code>Class A {\n    private B b; \n    public A( ) {  };\n    //getter-setter for B b\n}\n\nClass B {\n    private A a;\n    public B( ) {  };\n    //getter-setter for A a\n}\n</code></pre>\n\n<p>Solution 2 -></p>\n\n<pre><code>Class A {\n    private final B b; // must initialize in ctor/instance block\n    public A(@Lazy B b) { this.b = b };\n}\n\nClass B {\n    private final A a; // must initialize in ctor/instance block\n    public B(A a) { this.a = a };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522061204,"creation_date":1522061204,"answer_id":49489609,"question_id":3485347,"body_markdown":"Constructor Injection fails when there is Circular Dependency between spring beans. So in this case we Setter injection helps to resolve the issue.\r\n\r\nBasically, Constructor Injection is useful for Mandatory dependencies, for optional dependencies better to use Setter injection because we can do re-injection. ","title":"Circular dependency in Spring","body":"<p>Constructor Injection fails when there is Circular Dependency between spring beans. So in this case we Setter injection helps to resolve the issue.</p>\n\n<p>Basically, Constructor Injection is useful for Mandatory dependencies, for optional dependencies better to use Setter injection because we can do re-injection. </p>\n"},{"tags":[],"owner":{"account_id":8964761,"reputation":2289,"user_id":6685903,"display_name":"Ritu Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1688369929,"creation_date":1612801275,"answer_id":66105382,"question_id":3485347,"body_markdown":"**Circular dependency in Spring** : Dependency of one Bean to other. `Bean A → Bean B → Bean A`\r\n\r\n**Solutions:**\r\n\r\n1. Use `@Lazy` Annotation\r\n2. Redesign you class dependency\r\n3. Use Setter/Field Injection \r\n4. Use `@PostConstruct` Annotation\r\n\r\nfor more details check [this][1] \r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/circular-dependencies-in-spring/","title":"Circular dependency in Spring","body":"<p><strong>Circular dependency in Spring</strong> : Dependency of one Bean to other. <code>Bean A → Bean B → Bean A</code></p>\n<p><strong>Solutions:</strong></p>\n<ol>\n<li>Use <code>@Lazy</code> Annotation</li>\n<li>Redesign you class dependency</li>\n<li>Use Setter/Field Injection</li>\n<li>Use <code>@PostConstruct</code> Annotation</li>\n</ol>\n<p>for more details check <a href=\"https://www.geeksforgeeks.org/circular-dependencies-in-spring/\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":26135379,"reputation":1,"user_id":19825449,"display_name":"user19825449"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661231652,"creation_date":1661230721,"answer_id":73453333,"question_id":3485347,"body_markdown":"Also we use `@Lazy` Annotation \r\n\r\n```\r\n@Component\r\n\r\npublic class ClassA {\r\n\r\n\tprivate ClassB classB;\r\n\r\n\tpublic ClassB getClassB() {\r\n\t\treturn classB;\r\n\t}\r\n\r\n\t@Lazy\r\n\t@Autowired\r\n\tpublic void setClassB(ClassB classB) {\r\n\t\tthis.classB = classB;\r\n\t}\t\r\n}\r\n```\r\n```\r\n@Component\r\n\r\npublic class ClassB {\r\n\r\n\tprivate ClassA classA;\r\n\r\n\t@Autowired\r\n\tpublic ClassB(ClassA classA) {\r\n\t\tsuper();\r\n\t\tthis.classA = classA;\r\n\t}\r\n\r\n\tpublic ClassA getClassA() {\r\n\t\treturn classA;\r\n\t}\r\n\r\n\tpublic void setClassA(ClassA classA) {\r\n\t\tthis.classA = classA;\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Circular dependency in Spring","body":"<p>Also we use <code>@Lazy</code> Annotation</p>\n<pre><code>@Component\n\npublic class ClassA {\n\n    private ClassB classB;\n\n    public ClassB getClassB() {\n        return classB;\n    }\n\n    @Lazy\n    @Autowired\n    public void setClassB(ClassB classB) {\n        this.classB = classB;\n    }   \n}\n</code></pre>\n<pre><code>@Component\n\npublic class ClassB {\n\n    private ClassA classA;\n\n    @Autowired\n    public ClassB(ClassA classA) {\n        super();\n        this.classA = classA;\n    }\n\n    public ClassA getClassA() {\n        return classA;\n    }\n\n    public void setClassA(ClassA classA) {\n        this.classA = classA;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178996,"favorite_count":0,"down_vote_count":1,"up_vote_count":130,"accepted_answer_id":3485660,"answer_count":14,"score":129,"last_activity_date":1699523391,"creation_date":1281824420,"question_id":3485347,"body_markdown":"How does Spring resolve this: bean A is dependent on bean B, and bean B on bean A.","title":"Circular dependency in Spring","body":"<p>How does Spring resolve this: bean A is dependent on bean B, and bean B on bean A.</p>\n"},{"tags":["java","libreoffice","jodconverter"],"owner":{"account_id":19281802,"reputation":51,"user_id":14093660,"display_name":"Jayleonc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699523182,"creation_date":1699523182,"question_id":77452067,"body_markdown":"I deployed the libreoffice service to a public server, and after successfully starting it and opening the port, I called the service on my project, and when I used its execute method, it reported an error: \r\n``` java \r\n2023-11-09 17:27:58.675 ERROR 15750 --- [ter-poolentry-0] o.j.remote.task.RemoteConversionTask     : Remote conversion failed.\r\n\r\njava.lang.NullPointerException: null\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:221) ~[na:na]\r\n\tat org.jodconverter.remote.task.RemoteConversionTask.execute(RemoteConversionTask.java:135) ~[jodconverter-remote-4.3.0.jar:4.3.0]\r\n\tat org.jodconverter.remote.office.RemoteOfficeManagerPoolEntry.doExecute(RemoteOfficeManagerPoolEntry.java:306) ~[jodconverter-remote-4.3.0.jar:4.3.0]\r\n\tat org.jodconverter.core.office.AbstractOfficeManagerPoolEntry.lambda$execute$0(AbstractOfficeManagerPoolEntry.java:83) ~[jodconverter-core-4.3.0.jar:4.3.0]\r\n\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\norg.jodconverter.core.office.OfficeException: Remote conversion failed\r\n\tat org.jodconverter.remote.task.RemoteConversionTask.execute(RemoteConversionTask.java:153)\r\n\tat org.jodconverter.remote.office.RemoteOfficeManagerPoolEntry.doExecute(RemoteOfficeManagerPoolEntry.java:306)\r\n\tat org.jodconverter.core.office.AbstractOfficeManagerPoolEntry.lambda$execute$0(AbstractOfficeManagerPoolEntry.java:83)\r\n\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.NullPointerException\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:221)\r\n\tat org.jodconverter.remote.task.RemoteConversionTask.execute(RemoteConversionTask.java:135)\r\n\t... 7 more\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.alibaba.fastjson2.util.JDKUtils (file:/Users/jayleonc/Developer/Environment/apache-maven-3.8.4/maven-repo/com/alibaba/fastjson2/fastjson2/2.0.17/fastjson2-2.0.17.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\r\nWARNING: Please consider reporting this to the maintainers of com.alibaba.fastjson2.util.JDKUtils\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n```\r\n\r\nHere is some code,\r\nconfig:\r\n``` yaml\r\njodconverter.\r\n  remote.\r\n    url: http://xxx.xx.xx.xxx:9980\r\n  local: # office-home: /Applications/LibreOffice.app/Contents/\r\n    # office-home: /Applications/LibreOffice.app/Contents/\r\n    enabled: false\r\n```\r\n```java\r\npackage com.xxx.supt.infra.config;\r\n\r\nimport org.jodconverter.core.DocumentConverter;\r\nimport org.jodconverter.core.office.OfficeManager;\r\nimport org.jodconverter.remote.RemoteConverter;\r\nimport org.jodconverter.remote.office.RemoteOfficeManager;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnBean;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class LibreofficeConfig {\r\n\r\n    @Value(&quot;${jodconverter.remote.url:&#39;&#39;}&quot;)\r\n    private String jodconverterUrl;\r\n\r\n    @Bean(\r\n        initMethod = &quot;start&quot;,\r\n        destroyMethod = &quot;stop&quot;\r\n    )\r\n    public OfficeManager officeManager() {\r\n        RemoteOfficeManager.Builder builder = RemoteOfficeManager.builder();\r\n        builder.urlConnection(jodconverterUrl);\r\n        builder.poolSize(10);\r\n        builder.taskExecutionTimeout(60000L);\r\n        builder.taskQueueTimeout(60000L);\r\n        return builder.build();\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    @ConditionalOnBean({OfficeManager.class})\r\n    public DocumentConverter jodConverter(OfficeManager officeManager) {\r\n        return RemoteConverter.make(officeManager);\r\n    }\r\n\r\n}\r\n```\r\n```java\r\npublic void convertToPdfAndOutput(File file) throws IOException, OfficeException {\r\n        File tempFile = File.createTempFile(&quot;temp&quot;, &quot;.pdf&quot;);\r\n        converter.convert(file).to(tempFile).execute();\r\n        outputToResponse(tempFile, &quot;application/pdf&quot;);\r\n    }\r\n```\r\nWhen I debugged this line, \r\n```java\r\nconverter.convert(file).to(tempFile).execute();\r\n```\r\nit reported an error, what happened? What should I do? Help me, thanks!\r\n\r\n\r\n\r\n\r\nAlso, when I deploy the libreoffice service on my laptop, everything works fine!\r\nI&#39;m wondering if something is wrong with the file transfer process, I&#39;m not sure, what do you suggest?\r\n\r\nAgain, thanks!","title":"How do I use the remote jodconverter service?","body":"<p>I deployed the libreoffice service to a public server, and after successfully starting it and opening the port, I called the service on my project, and when I used its execute method, it reported an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-11-09 17:27:58.675 ERROR 15750 --- [ter-poolentry-0] o.j.remote.task.RemoteConversionTask     : Remote conversion failed.\n\njava.lang.NullPointerException: null\n    at java.base/java.util.Objects.requireNonNull(Objects.java:221) ~[na:na]\n    at org.jodconverter.remote.task.RemoteConversionTask.execute(RemoteConversionTask.java:135) ~[jodconverter-remote-4.3.0.jar:4.3.0]\n    at org.jodconverter.remote.office.RemoteOfficeManagerPoolEntry.doExecute(RemoteOfficeManagerPoolEntry.java:306) ~[jodconverter-remote-4.3.0.jar:4.3.0]\n    at org.jodconverter.core.office.AbstractOfficeManagerPoolEntry.lambda$execute$0(AbstractOfficeManagerPoolEntry.java:83) ~[jodconverter-core-4.3.0.jar:4.3.0]\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\norg.jodconverter.core.office.OfficeException: Remote conversion failed\n    at org.jodconverter.remote.task.RemoteConversionTask.execute(RemoteConversionTask.java:153)\n    at org.jodconverter.remote.office.RemoteOfficeManagerPoolEntry.doExecute(RemoteOfficeManagerPoolEntry.java:306)\n    at org.jodconverter.core.office.AbstractOfficeManagerPoolEntry.lambda$execute$0(AbstractOfficeManagerPoolEntry.java:83)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:221)\n    at org.jodconverter.remote.task.RemoteConversionTask.execute(RemoteConversionTask.java:135)\n    ... 7 more\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.alibaba.fastjson2.util.JDKUtils (file:/Users/jayleonc/Developer/Environment/apache-maven-3.8.4/maven-repo/com/alibaba/fastjson2/fastjson2/2.0.17/fastjson2-2.0.17.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\nWARNING: Please consider reporting this to the maintainers of com.alibaba.fastjson2.util.JDKUtils\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<p>Here is some code,\nconfig:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>jodconverter.\n  remote.\n    url: http://xxx.xx.xx.xxx:9980\n  local: # office-home: /Applications/LibreOffice.app/Contents/\n    # office-home: /Applications/LibreOffice.app/Contents/\n    enabled: false\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.xxx.supt.infra.config;\n\nimport org.jodconverter.core.DocumentConverter;\nimport org.jodconverter.core.office.OfficeManager;\nimport org.jodconverter.remote.RemoteConverter;\nimport org.jodconverter.remote.office.RemoteOfficeManager;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnBean;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class LibreofficeConfig {\n\n    @Value(&quot;${jodconverter.remote.url:''}&quot;)\n    private String jodconverterUrl;\n\n    @Bean(\n        initMethod = &quot;start&quot;,\n        destroyMethod = &quot;stop&quot;\n    )\n    public OfficeManager officeManager() {\n        RemoteOfficeManager.Builder builder = RemoteOfficeManager.builder();\n        builder.urlConnection(jodconverterUrl);\n        builder.poolSize(10);\n        builder.taskExecutionTimeout(60000L);\n        builder.taskQueueTimeout(60000L);\n        return builder.build();\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    @ConditionalOnBean({OfficeManager.class})\n    public DocumentConverter jodConverter(OfficeManager officeManager) {\n        return RemoteConverter.make(officeManager);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void convertToPdfAndOutput(File file) throws IOException, OfficeException {\n        File tempFile = File.createTempFile(&quot;temp&quot;, &quot;.pdf&quot;);\n        converter.convert(file).to(tempFile).execute();\n        outputToResponse(tempFile, &quot;application/pdf&quot;);\n    }\n</code></pre>\n<p>When I debugged this line,</p>\n<pre class=\"lang-java prettyprint-override\"><code>converter.convert(file).to(tempFile).execute();\n</code></pre>\n<p>it reported an error, what happened? What should I do? Help me, thanks!</p>\n<p>Also, when I deploy the libreoffice service on my laptop, everything works fine!\nI'm wondering if something is wrong with the file transfer process, I'm not sure, what do you suggest?</p>\n<p>Again, thanks!</p>\n"},{"tags":["java","spring-boot","maven","graalvm"],"answers":[{"tags":[],"owner":{"account_id":344662,"reputation":862,"user_id":677096,"display_name":"silver_mx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699523097,"creation_date":1699224529,"answer_id":77427946,"question_id":77260176,"body_markdown":"I had issues building with Java 21, and it was because Paketo does not include buildpacks for Java 21 (see https://paketo.io/docs/howto/java/#jvm-default-version). So I had to specify the following buildpacks for the plugin:\r\n\r\n - `gcr.io/paketo-buildpacks/bellsoft-liberica:10.4.2` (according to https://github.com/paketo-buildpacks/bellsoft-liberica/releases)\r\n - `gcr.io/paketo-buildpacks/java-native-image`\r\n\r\nAs you already have, `BP_JVM_VERSION` must be `21.0.0`, and `BP_NATIVE_IMAGE` must be `true`.\r\n\r\nSo the maven configuration should look like:\r\n\r\n```\r\n &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;image&gt;\r\n                        &lt;buildpacks&gt;\r\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image&lt;/buildpack&gt;\r\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/bellsoft-liberica:10.4.2&lt;/buildpack&gt;\r\n                        &lt;/buildpacks&gt;\r\n                        &lt;env&gt;\r\n                            &lt;BP_JVM_VERSION&gt;21.0.0&lt;/BP_JVM_VERSION&gt;\r\n                            &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n                        &lt;/env&gt;\r\n                    &lt;/image&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\nThis is the task configuration for Gradle in case it helps someone:\r\n\r\n```\r\ntasks.named(&#39;bootBuildImage&#39;) {\r\n    \r\n    buildpacks = [&#39;gcr.io/paketo-buildpacks/java-native-image&#39;, &#39;gcr.io/paketo-buildpacks/bellsoft-liberica:10.4.2&#39;]\r\n    environment[&#39;BP_NATIVE_IMAGE&#39;] = &#39;true&#39;\r\n    environment[&#39;BP_JVM_VERSION&#39;] = &#39;21.0.0&#39;\r\n    //environment[&#39;BP_NATIVE_IMAGE_BUILD_ARGUMENTS&#39;] = &#39;--verbose&#39;\r\n}\r\n```","title":"Spring Boot native compilation fails with GraalVM 21","body":"<p>I had issues building with Java 21, and it was because Paketo does not include buildpacks for Java 21 (see <a href=\"https://paketo.io/docs/howto/java/#jvm-default-version\" rel=\"nofollow noreferrer\">https://paketo.io/docs/howto/java/#jvm-default-version</a>). So I had to specify the following buildpacks for the plugin:</p>\n<ul>\n<li><code>gcr.io/paketo-buildpacks/bellsoft-liberica:10.4.2</code> (according to <a href=\"https://github.com/paketo-buildpacks/bellsoft-liberica/releases\" rel=\"nofollow noreferrer\">https://github.com/paketo-buildpacks/bellsoft-liberica/releases</a>)</li>\n<li><code>gcr.io/paketo-buildpacks/java-native-image</code></li>\n</ul>\n<p>As you already have, <code>BP_JVM_VERSION</code> must be <code>21.0.0</code>, and <code>BP_NATIVE_IMAGE</code> must be <code>true</code>.</p>\n<p>So the maven configuration should look like:</p>\n<pre><code> &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;buildpacks&gt;\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image&lt;/buildpack&gt;\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/bellsoft-liberica:10.4.2&lt;/buildpack&gt;\n                        &lt;/buildpacks&gt;\n                        &lt;env&gt;\n                            &lt;BP_JVM_VERSION&gt;21.0.0&lt;/BP_JVM_VERSION&gt;\n                            &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n                        &lt;/env&gt;\n                    &lt;/image&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>This is the task configuration for Gradle in case it helps someone:</p>\n<pre><code>tasks.named('bootBuildImage') {\n    \n    buildpacks = ['gcr.io/paketo-buildpacks/java-native-image', 'gcr.io/paketo-buildpacks/bellsoft-liberica:10.4.2']\n    environment['BP_NATIVE_IMAGE'] = 'true'\n    environment['BP_JVM_VERSION'] = '21.0.0'\n    //environment['BP_NATIVE_IMAGE_BUILD_ARGUMENTS'] = '--verbose'\n}\n</code></pre>\n"}],"owner":{"account_id":157895,"reputation":263,"user_id":376152,"accept_rate":100,"display_name":"moorsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77427946,"answer_count":1,"score":1,"last_activity_date":1699523097,"creation_date":1696866170,"question_id":77260176,"body_markdown":"Exception in thread &quot;main&quot; com.oracle.svm.util.ModuleSupport$ModuleSupportError: open of packages from module org.graalvm.polyglot to ALL-UNNAMED failed. No module named org.graalvm.polyglot in boot layer.\r\n\r\n\r\n    &lt;buildpacks&gt;\r\n        &lt;buildpack&gt;gcr.io/paketo-buildpacks/graalvm&lt;/buildpack&gt;\r\n        &lt;buildpack&gt;urn:cnb:builder:paketo-buildpacks/java-native-image&lt;/buildpack&gt;\r\n    &lt;/buildpacks&gt;\r\n    &lt;env&gt;\r\n        &lt;BP_JVM_VERSION&gt;21.0.0&lt;/BP_JVM_VERSION&gt;\r\n        &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n    &lt;/env&gt;","title":"Spring Boot native compilation fails with GraalVM 21","body":"<p>Exception in thread &quot;main&quot; com.oracle.svm.util.ModuleSupport$ModuleSupportError: open of packages from module org.graalvm.polyglot to ALL-UNNAMED failed. No module named org.graalvm.polyglot in boot layer.</p>\n<pre><code>&lt;buildpacks&gt;\n    &lt;buildpack&gt;gcr.io/paketo-buildpacks/graalvm&lt;/buildpack&gt;\n    &lt;buildpack&gt;urn:cnb:builder:paketo-buildpacks/java-native-image&lt;/buildpack&gt;\n&lt;/buildpacks&gt;\n&lt;env&gt;\n    &lt;BP_JVM_VERSION&gt;21.0.0&lt;/BP_JVM_VERSION&gt;\n    &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n&lt;/env&gt;\n</code></pre>\n"},{"tags":["java","text","colors"],"comments":[{"owner":{"account_id":5607464,"reputation":1701,"user_id":4441477,"display_name":"jw_"},"score":2,"creation_date":1568597791,"post_id":5762491,"comment_id":102311667,"body_markdown":"If the console support (e.g. Eclipse Java console) customizing color of stdout/stderr, then you can use System.out.println for one color and System.err.println for another color.","body":"If the console support (e.g. Eclipse Java console) customizing color of stdout/stderr, then you can use System.out.println for one color and System.err.println for another color."}],"answers":[{"comments":[{"owner":{"account_id":304151,"reputation":7913,"user_id":613495,"accept_rate":95,"display_name":"Boro"},"score":1,"creation_date":1303547485,"post_id":5762502,"comment_id":6599876,"body_markdown":"@WhiteFang34 Can you please explain what is the use of RESET if its color is BLACK, at least in my console? Is it like a default or sth.?","body":"@WhiteFang34 Can you please explain what is the use of RESET if its color is BLACK, at least in my console? Is it like a default or sth.?"},{"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"score":9,"creation_date":1303547890,"post_id":5762502,"comment_id":6599913,"body_markdown":"@Boro: the reset code turns off all ANSI attributes set so far, which should return the console to its defaults. It&#39;s useful if you don&#39;t know the default color or are also using some of the other attributes like background color, font styles, etc.","body":"@Boro: the reset code turns off all ANSI attributes set so far, which should return the console to its defaults. It&#39;s useful if you don&#39;t know the default color or are also using some of the other attributes like background color, font styles, etc."},{"owner":{"account_id":2078665,"reputation":1563,"user_id":1851290,"accept_rate":79,"display_name":"Danny Lo"},"score":2,"creation_date":1397418676,"post_id":5762502,"comment_id":35214783,"body_markdown":"jansi is really great! for those who develop in eclipse, i can reccomend this plugin: http://mihai-nita.net/2013/06/03/eclipse-plugin-ansi-in-console/ and nice piece of code to enable color if the code isn&#39;t being executed in console: `if (System.console() == null) System.setProperty(&quot;jansi.passthrough&quot;, &quot;true&quot;);`","body":"jansi is really great! for those who develop in eclipse, i can reccomend this plugin: <a href=\"http://mihai-nita.net/2013/06/03/eclipse-plugin-ansi-in-console/\" rel=\"nofollow noreferrer\">mihai-nita.net/2013/06/03/eclipse-plugin-ansi-in-console</a> and nice piece of code to enable color if the code isn&#39;t being executed in console: <code>if (System.console() == null) System.setProperty(&quot;jansi.passthrough&quot;, &quot;true&quot;);</code>"},{"owner":{"account_id":5247491,"reputation":4529,"user_id":4192693,"display_name":"Pankaj Nimgade"},"score":0,"creation_date":1423132339,"post_id":5762502,"comment_id":45028013,"body_markdown":"@WhiteFang34 i am using windows and for some reason it is not working","body":"@WhiteFang34 i am using windows and for some reason it is not working"},{"owner":{"account_id":3074867,"reputation":5008,"user_id":2796524,"accept_rate":89,"display_name":"Felix Edelmann"},"score":2,"creation_date":1441207417,"post_id":5762502,"comment_id":52587214,"body_markdown":"@PankajNimgade, read the answer again and you&#39;ll maybe notice this: `however it doesn&#39;t work for Windows command prompt`","body":"@PankajNimgade, read the answer again and you&#39;ll maybe notice this: <code>however it doesn&#39;t work for Windows command prompt</code>"},{"owner":{"account_id":1731618,"reputation":311,"user_id":1585114,"accept_rate":30,"display_name":"morbac"},"score":0,"creation_date":1525415822,"post_id":5762502,"comment_id":87354665,"body_markdown":"It doesn&#39;t work on Windows it you&#39;re using cmd or powershell. Instead, you can use another console emulator. For instance, it works successfully with Cmder (http://cmder.net/)","body":"It doesn&#39;t work on Windows it you&#39;re using cmd or powershell. Instead, you can use another console emulator. For instance, it works successfully with Cmder (<a href=\"http://cmder.net/\" rel=\"nofollow noreferrer\">cmder.net</a>)"},{"owner":{"account_id":4367027,"reputation":622,"user_id":4776400,"accept_rate":100,"display_name":"Martin Krajč&#237;rovič"},"score":0,"creation_date":1531481354,"post_id":5762502,"comment_id":89623189,"body_markdown":"Someone shall notice that when copy pasting these colors into NetBeans will result with one extra slash added by NetBeans... So don&#39;t be super mad like me while trying this out :D","body":"Someone shall notice that when copy pasting these colors into NetBeans will result with one extra slash added by NetBeans... So don&#39;t be super mad like me while trying this out :D"},{"owner":{"account_id":5607464,"reputation":1701,"user_id":4441477,"display_name":"jw_"},"score":0,"creation_date":1568597460,"post_id":5762502,"comment_id":102311619,"body_markdown":"Doesn&#39;t work on eclipse Java version: 2018-12 (4.10.0) console windows during debugging. Indeed I want to output red text, for this purpose you can use System.err.println","body":"Doesn&#39;t work on eclipse Java version: 2018-12 (4.10.0) console windows during debugging. Indeed I want to output red text, for this purpose you can use System.err.println"},{"owner":{"account_id":17056343,"reputation":1021,"user_id":12442137,"display_name":"Captain Jack Sparrow"},"score":1,"creation_date":1580912244,"post_id":5762502,"comment_id":106253995,"body_markdown":"@DannyLo Thank you so much for the link to the Eclipse plugin!","body":"@DannyLo Thank you so much for the link to the Eclipse plugin!"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1584127114,"post_id":5762502,"comment_id":107351284,"body_markdown":"As far as I know, it should work with newer versions of windows 10 in conhost too as it supports ansi codes.","body":"As far as I know, it should work with newer versions of windows 10 in conhost too as it supports ansi codes."},{"owner":{"account_id":13262233,"reputation":343,"user_id":9576413,"display_name":"M.A.S"},"score":0,"creation_date":1611578895,"post_id":5762502,"comment_id":116488852,"body_markdown":"If I have `public static final String ANSI_RED = &quot;\\u001B[31m&quot;;` , how can I later get the color used for this specific String ? something like `ANSI_RED.getColor();` ? which I would want to return to me `Color.RED`","body":"If I have <code>public static final String ANSI_RED = &quot;\\u001B[31m&quot;;</code> , how can I later get the color used for this specific String ? something like <code>ANSI_RED.getColor();</code> ? which I would want to return to me <code>Color.RED</code>"},{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":0,"creation_date":1638432408,"post_id":5762502,"comment_id":124087587,"body_markdown":"@M.A.S You could just create an Enum with all the unicode ASNI values.","body":"@M.A.S You could just create an Enum with all the unicode ASNI values."},{"owner":{"account_id":22381602,"reputation":496,"user_id":16595100,"display_name":"Enderbyte09"},"score":0,"creation_date":1649982961,"post_id":5762502,"comment_id":127017357,"body_markdown":"You can get colour in Windows cmd by running &quot;color&quot;","body":"You can get colour in Windows cmd by running &quot;color&quot;"},{"owner":{"account_id":1540384,"reputation":834,"user_id":1435207,"accept_rate":80,"display_name":"Anshuman Chatterjee"},"score":0,"creation_date":1650347069,"post_id":5762502,"comment_id":127086679,"body_markdown":"For WINDOWS 10 users, you will need to ENABLE_VIRTUAL_TERMINAL_PROCESSING https://stackoverflow.com/questions/52767585/how-can-you-use-vt100-escape-codes-in-java-on-windows","body":"For WINDOWS 10 users, you will need to ENABLE_VIRTUAL_TERMINAL_PROCESSING <a href=\"https://stackoverflow.com/questions/52767585/how-can-you-use-vt100-escape-codes-in-java-on-windows\" title=\"how can you use vt100 escape codes in java on windows\">stackoverflow.com/questions/52767585/&hellip;</a>"}],"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"comment_count":14,"down_vote_count":1,"up_vote_count":798,"is_accepted":false,"score":797,"last_activity_date":1509716635,"creation_date":1303538166,"answer_id":5762502,"question_id":5762491,"body_markdown":"If your terminal supports it, you can use [ANSI escape codes][1] to use color in your output. It generally works for Unix shell prompts; however, it doesn&#39;t work for Windows Command Prompt (Although, it does work for Cygwin). For example, you could define constants like these for the colors:\r\n\r\n\tpublic static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n\tpublic static final String ANSI_BLACK = &quot;\\u001B[30m&quot;;\r\n\tpublic static final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n\tpublic static final String ANSI_GREEN = &quot;\\u001B[32m&quot;;\r\n\tpublic static final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;\r\n\tpublic static final String ANSI_BLUE = &quot;\\u001B[34m&quot;;\r\n\tpublic static final String ANSI_PURPLE = &quot;\\u001B[35m&quot;;\r\n\tpublic static final String ANSI_CYAN = &quot;\\u001B[36m&quot;;\r\n\tpublic static final String ANSI_WHITE = &quot;\\u001B[37m&quot;;\r\n\r\nThen, you could reference those as necessary.\r\n\r\nFor example, using the above constants, you could make the following red text output on supported terminals:\r\n\r\n    System.out.println(ANSI_RED + &quot;This text is red!&quot; + ANSI_RESET);\r\n\r\n**Update:** You might want to check out the [Jansi][2] library. It provides an API and has support for Windows using JNI. I haven&#39;t tried it yet; however, it looks promising.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/ANSI_escape_code\r\n  [2]: https://github.com/fusesource/jansi\r\n\r\n**Update 2:** Also, if you wish to change the background color of the text to a different color, you could try the following as well:\r\n\r\n\tpublic static final String ANSI_BLACK_BACKGROUND = &quot;\\u001B[40m&quot;;\r\n\tpublic static final String ANSI_RED_BACKGROUND = &quot;\\u001B[41m&quot;;\r\n\tpublic static final String ANSI_GREEN_BACKGROUND = &quot;\\u001B[42m&quot;;\r\n\tpublic static final String ANSI_YELLOW_BACKGROUND = &quot;\\u001B[43m&quot;;\r\n\tpublic static final String ANSI_BLUE_BACKGROUND = &quot;\\u001B[44m&quot;;\r\n\tpublic static final String ANSI_PURPLE_BACKGROUND = &quot;\\u001B[45m&quot;;\r\n\tpublic static final String ANSI_CYAN_BACKGROUND = &quot;\\u001B[46m&quot;;\r\n\tpublic static final String ANSI_WHITE_BACKGROUND = &quot;\\u001B[47m&quot;;\r\n\r\nFor instance:\r\n\r\n    System.out.println(ANSI_GREEN_BACKGROUND + &quot;This text has a green background but default text!&quot; + ANSI_RESET);\r\n    System.out.println(ANSI_RED + &quot;This text has red text but a default background!&quot; + ANSI_RESET);\r\n    System.out.println(ANSI_GREEN_BACKGROUND + ANSI_RED + &quot;This text has a green background and red text!&quot; + ANSI_RESET);","title":"How to print color in console using System.out.println?","body":"<p>If your terminal supports it, you can use <a href=\"http://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"noreferrer\">ANSI escape codes</a> to use color in your output. It generally works for Unix shell prompts; however, it doesn't work for Windows Command Prompt (Although, it does work for Cygwin). For example, you could define constants like these for the colors:</p>\n\n<pre><code>public static final String ANSI_RESET = \"\\u001B[0m\";\npublic static final String ANSI_BLACK = \"\\u001B[30m\";\npublic static final String ANSI_RED = \"\\u001B[31m\";\npublic static final String ANSI_GREEN = \"\\u001B[32m\";\npublic static final String ANSI_YELLOW = \"\\u001B[33m\";\npublic static final String ANSI_BLUE = \"\\u001B[34m\";\npublic static final String ANSI_PURPLE = \"\\u001B[35m\";\npublic static final String ANSI_CYAN = \"\\u001B[36m\";\npublic static final String ANSI_WHITE = \"\\u001B[37m\";\n</code></pre>\n\n<p>Then, you could reference those as necessary.</p>\n\n<p>For example, using the above constants, you could make the following red text output on supported terminals:</p>\n\n<pre><code>System.out.println(ANSI_RED + \"This text is red!\" + ANSI_RESET);\n</code></pre>\n\n<p><strong>Update:</strong> You might want to check out the <a href=\"https://github.com/fusesource/jansi\" rel=\"noreferrer\">Jansi</a> library. It provides an API and has support for Windows using JNI. I haven't tried it yet; however, it looks promising.</p>\n\n<p><strong>Update 2:</strong> Also, if you wish to change the background color of the text to a different color, you could try the following as well:</p>\n\n<pre><code>public static final String ANSI_BLACK_BACKGROUND = \"\\u001B[40m\";\npublic static final String ANSI_RED_BACKGROUND = \"\\u001B[41m\";\npublic static final String ANSI_GREEN_BACKGROUND = \"\\u001B[42m\";\npublic static final String ANSI_YELLOW_BACKGROUND = \"\\u001B[43m\";\npublic static final String ANSI_BLUE_BACKGROUND = \"\\u001B[44m\";\npublic static final String ANSI_PURPLE_BACKGROUND = \"\\u001B[45m\";\npublic static final String ANSI_CYAN_BACKGROUND = \"\\u001B[46m\";\npublic static final String ANSI_WHITE_BACKGROUND = \"\\u001B[47m\";\n</code></pre>\n\n<p>For instance:</p>\n\n<pre><code>System.out.println(ANSI_GREEN_BACKGROUND + \"This text has a green background but default text!\" + ANSI_RESET);\nSystem.out.println(ANSI_RED + \"This text has red text but a default background!\" + ANSI_RESET);\nSystem.out.println(ANSI_GREEN_BACKGROUND + ANSI_RED + \"This text has a green background and red text!\" + ANSI_RESET);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1833026,"reputation":1627,"user_id":1663987,"accept_rate":78,"display_name":"simpleuser"},"score":0,"creation_date":1486879413,"post_id":5762503,"comment_id":71531838,"body_markdown":"which doesn&#39;t work because the Java IO layer does not convert those to colors. System.out.println((char)27 + &quot;[31;1mERROR&quot; + (char)27 + &quot;[0m&quot; only yields &quot;[31;1mERROR[0m&quot; when run from a windows cmd.com as an executable .jar","body":"which doesn&#39;t work because the Java IO layer does not convert those to colors. System.out.println((char)27 + &quot;[31;1mERROR&quot; + (char)27 + &quot;[0m&quot; only yields &quot;[31;1mERROR[0m&quot; when run from a windows cmd.com as an executable .jar"},{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":0,"creation_date":1486911170,"post_id":5762503,"comment_id":71539906,"body_markdown":"the question wasn&#39;t tagged `windows`. the Windows console was never ANSI-compliant that I remember.","body":"the question wasn&#39;t tagged <code>windows</code>. the Windows console was never ANSI-compliant that I remember."},{"owner":{"account_id":1833026,"reputation":1627,"user_id":1663987,"accept_rate":78,"display_name":"simpleuser"},"score":0,"creation_date":1487611904,"post_id":5762503,"comment_id":71852625,"body_markdown":"but the issue is that java isn&#39;t handling the codes, regardless of cmd.com&#39;s support","body":"but the issue is that java isn&#39;t handling the codes, regardless of cmd.com&#39;s support"},{"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"score":3,"creation_date":1487658764,"post_id":5762503,"comment_id":71870695,"body_markdown":"see edited answer. Java is doing exactly as it&#39;s told. the problem is the non-ANSI-compliant console.","body":"see edited answer. Java is doing exactly as it&#39;s told. the problem is the non-ANSI-compliant console."},{"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"score":1,"creation_date":1521125939,"post_id":5762503,"comment_id":85607355,"body_markdown":"I have same problem","body":"I have same problem"},{"owner":{"account_id":1731618,"reputation":311,"user_id":1585114,"accept_rate":30,"display_name":"morbac"},"score":0,"creation_date":1525416070,"post_id":5762503,"comment_id":87354816,"body_markdown":"look at http://cmder.net/ ; \nthis console works fine on Windows and allows colored text","body":"look at <a href=\"http://cmder.net/\" rel=\"nofollow noreferrer\">cmder.net</a> ;  this console works fine on Windows and allows colored text"},{"owner":{"account_id":202717,"reputation":830,"user_id":449946,"accept_rate":100,"display_name":"firephil"},"score":0,"creation_date":1552767909,"post_id":5762503,"comment_id":97139480,"body_markdown":"Maven uses this library to have colour in the console on any Operating system http://fusesource.github.io/jansi/","body":"Maven uses this library to have colour in the console on any Operating system <a href=\"http://fusesource.github.io/jansi/\" rel=\"nofollow noreferrer\">fusesource.github.io/jansi</a>"}],"tags":[],"owner":{"account_id":229892,"reputation":37886,"user_id":493161,"accept_rate":90,"display_name":"jcomeau_ictx"},"comment_count":7,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1487677568,"creation_date":1303538193,"answer_id":5762503,"question_id":5762491,"body_markdown":"A fairly portable way of doing it is with the raw escape sequences. See http://en.wikipedia.org/wiki/ANSI_escape_code\r\n\r\n[edited for user9999999 on 2017-02-20]\r\n\r\nJava doesn&#39;t &quot;handle the codes&quot;, that&#39;s true, but Java outputs what you told it to output. it&#39;s not Java&#39;s fault that the Windows console treats ESC (chr(27)) as just another glyph (←).\r\n\r\n[![you made me boot into Windows. you owe me, bro][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cQwkY.png","title":"How to print color in console using System.out.println?","body":"<p>A fairly portable way of doing it is with the raw escape sequences. See <a href=\"http://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/ANSI_escape_code</a></p>\n\n<p>[edited for user9999999 on 2017-02-20]</p>\n\n<p>Java doesn't \"handle the codes\", that's true, but Java outputs what you told it to output. it's not Java's fault that the Windows console treats ESC (chr(27)) as just another glyph (←).</p>\n\n<p><a href=\"https://i.stack.imgur.com/cQwkY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cQwkY.png\" alt=\"you made me boot into Windows. you owe me, bro\"></a></p>\n"},{"comments":[{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":2,"creation_date":1638342592,"post_id":6957561,"comment_id":124059833,"body_markdown":"Nice. Works as expected.","body":"Nice. Works as expected."},{"owner":{"account_id":135293,"reputation":724,"user_id":1102860,"display_name":"aymens"},"score":2,"creation_date":1645312081,"post_id":6957561,"comment_id":125838601,"body_markdown":"So wonderful! I loved it! Thank you! :)","body":"So wonderful! I loved it! Thank you! :)"},{"owner":{"account_id":3512861,"reputation":326,"user_id":2936778,"accept_rate":50,"display_name":"Orubel"},"score":0,"creation_date":1664045101,"post_id":6957561,"comment_id":130383478,"body_markdown":"found it. implementation &#39;com.diogonunes:JColor:5.5.1&#39;","body":"found it. implementation &#39;com.diogonunes:JColor:5.5.1&#39;"},{"owner":{"account_id":343693,"reputation":2716,"user_id":675577,"accept_rate":83,"display_name":"dialex"},"score":0,"creation_date":1664536265,"post_id":6957561,"comment_id":130499802,"body_markdown":"yup, all versions here https://mvnrepository.com/artifact/com.diogonunes/JColor","body":"yup, all versions here <a href=\"https://mvnrepository.com/artifact/com.diogonunes/JColor\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.diogonunes/JColor</a>"},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":1,"creation_date":1701272534,"post_id":6957561,"comment_id":136755724,"body_markdown":"Lovely lib, thanks.","body":"Lovely lib, thanks."}],"tags":[],"owner":{"account_id":343693,"reputation":2716,"user_id":675577,"accept_rate":83,"display_name":"dialex"},"comment_count":5,"down_vote_count":1,"up_vote_count":93,"is_accepted":false,"score":92,"last_activity_date":1604330677,"creation_date":1312553000,"answer_id":6957561,"question_id":5762491,"body_markdown":"I created a library called [JColor](https://github.com/dialex/JColor) that works on Linux, macOS, and Windows 10.\r\n\r\nIt uses the ANSI codes mentioned by WhiteFang, but abstracts them using **words instead of codes** which is more intuitive. Recently I added support for 8 and 24 bit colors &#127752;\r\n\r\nChoose your format, `colorize` it, and print it:\r\n\r\n```java\r\nSystem.out.println(colorize(&quot;Green text on blue&quot;, GREEN_TEXT(), BLUE_BACK()));\r\n```\r\n\r\nYou can also define a format once, and reuse it several times:\r\n\r\n```java\r\nAnsiFormat fWarning = new AnsiFormat(RED_TEXT(), YELLOW_BACK(), BOLD());\r\nSystem.out.println(colorize(&quot;Something bad happened!&quot;, fWarning));\r\n```\r\n\r\nHead over to [JColor github repository](https://github.com/dialex/JColor) for some examples.\r\n\r\n  [1]: http://www.diogonunes.com/blog/java-colored-debug-printer/\r\n  [2]: https://tldrlegal.com/license/mit-license","title":"How to print color in console using System.out.println?","body":"<p>I created a library called <a href=\"https://github.com/dialex/JColor\" rel=\"noreferrer\">JColor</a> that works on Linux, macOS, and Windows 10.</p>\n<p>It uses the ANSI codes mentioned by WhiteFang, but abstracts them using <strong>words instead of codes</strong> which is more intuitive. Recently I added support for 8 and 24 bit colors 🌈</p>\n<p>Choose your format, <code>colorize</code> it, and print it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(colorize(&quot;Green text on blue&quot;, GREEN_TEXT(), BLUE_BACK()));\n</code></pre>\n<p>You can also define a format once, and reuse it several times:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AnsiFormat fWarning = new AnsiFormat(RED_TEXT(), YELLOW_BACK(), BOLD());\nSystem.out.println(colorize(&quot;Something bad happened!&quot;, fWarning));\n</code></pre>\n<p>Head over to <a href=\"https://github.com/dialex/JColor\" rel=\"noreferrer\">JColor github repository</a> for some examples.</p>\n"},{"tags":[],"owner":{"account_id":1905951,"reputation":3308,"user_id":1720829,"accept_rate":75,"display_name":"Nathan F."},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1655504530,"creation_date":1420493708,"answer_id":27788295,"question_id":5762491,"body_markdown":"You could do this using ANSI escape sequences. I&#39;ve actually put together this class in Java for anyone that would like a simple workaround for this. It allows for more than just color codes.\r\n\r\nhttps://gist.github.com/nathan-fiscaletti/9dc252d30b51df7d710a\r\n\r\n## Features\r\n\r\n * Full source documentation\r\n * 4-bit color support (16 colors)\r\n * 8-bit color support (255 colors)\r\n * 24-bit color support (16.7 million colors)\r\n    * Hexadecimal and 8-bit RGB values supported\r\n * Support for common formatting\r\n    * hidden text, invert colors, blink, underline, strike-through, dim, bold, italic\r\n * Ability to strip ANSI from strings containing ANSI escape sequences.\r\n\r\n## Example Use\r\n\r\n```java\r\nSystem.out.println(\r\n\r\n   new AnsiStringBuilder()\r\n       // All formatting functions support at least three different\r\n       // overloads, each intended for a different use case.\r\n\r\n       // Use case 1: Manual Reset\r\n       .italic()\r\n       .append(&quot;This is italicized and reset manually.&quot;)\r\n       // You can optionaly supply an additional append string\r\n       // to any of the reset functions that will be appended\r\n       // after the formating reset has been applied.\r\n       .resetItalic(System.lineSeparator())\r\n\r\n       // Use case 2: Automatic Reset\r\n       .dim(&quot;This is dimmed and reset automatically.&quot;)\r\n       .append(System.lineSeparator())\r\n\r\n       // Use case 3: Function Consumer\r\n       .underline(\r\n           sb -&gt; {\r\n               // The string builder passed to this function consumer\r\n               // will automatically wrap all content appended to it\r\n               // with the underline formatting.\r\n               sb.color24(\r\n                   &quot;#00ff00&quot;,\r\n                   &quot;This is both underlined and green&quot;\r\n               );\r\n           }\r\n       )\r\n       .append(System.lineSeparator())\r\n\r\n);\r\n```","title":"How to print color in console using System.out.println?","body":"<p>You could do this using ANSI escape sequences. I've actually put together this class in Java for anyone that would like a simple workaround for this. It allows for more than just color codes.</p>\n<p><a href=\"https://gist.github.com/nathan-fiscaletti/9dc252d30b51df7d710a\" rel=\"nofollow noreferrer\">https://gist.github.com/nathan-fiscaletti/9dc252d30b51df7d710a</a></p>\n<h2>Features</h2>\n<ul>\n<li>Full source documentation</li>\n<li>4-bit color support (16 colors)</li>\n<li>8-bit color support (255 colors)</li>\n<li>24-bit color support (16.7 million colors)\n<ul>\n<li>Hexadecimal and 8-bit RGB values supported</li>\n</ul>\n</li>\n<li>Support for common formatting\n<ul>\n<li>hidden text, invert colors, blink, underline, strike-through, dim, bold, italic</li>\n</ul>\n</li>\n<li>Ability to strip ANSI from strings containing ANSI escape sequences.</li>\n</ul>\n<h2>Example Use</h2>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n\n   new AnsiStringBuilder()\n       // All formatting functions support at least three different\n       // overloads, each intended for a different use case.\n\n       // Use case 1: Manual Reset\n       .italic()\n       .append(&quot;This is italicized and reset manually.&quot;)\n       // You can optionaly supply an additional append string\n       // to any of the reset functions that will be appended\n       // after the formating reset has been applied.\n       .resetItalic(System.lineSeparator())\n\n       // Use case 2: Automatic Reset\n       .dim(&quot;This is dimmed and reset automatically.&quot;)\n       .append(System.lineSeparator())\n\n       // Use case 3: Function Consumer\n       .underline(\n           sb -&gt; {\n               // The string builder passed to this function consumer\n               // will automatically wrap all content appended to it\n               // with the underline formatting.\n               sb.color24(\n                   &quot;#00ff00&quot;,\n                   &quot;This is both underlined and green&quot;\n               );\n           }\n       )\n       .append(System.lineSeparator())\n\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3906566,"reputation":1330,"user_id":3233111,"accept_rate":100,"display_name":"CharlesC"},"score":8,"creation_date":1645586073,"post_id":45444716,"comment_id":125908902,"body_markdown":"worked great in IntelliJ console, thank you!","body":"worked great in IntelliJ console, thank you!"},{"owner":{"account_id":10117141,"reputation":338,"user_id":7475446,"display_name":"user0221441"},"score":0,"creation_date":1662882958,"post_id":45444716,"comment_id":130105642,"body_markdown":"This is a great answer. It would be nice if someone can edit it for *italics* too, if supported, for the sake of completeness. thanks!","body":"This is a great answer. It would be nice if someone can edit it for <i>italics</i> too, if supported, for the sake of completeness. thanks!"}],"tags":[],"owner":{"account_id":5580966,"reputation":11048,"user_id":4422856,"display_name":"shakram02"},"comment_count":2,"down_vote_count":1,"up_vote_count":184,"is_accepted":false,"score":183,"last_activity_date":1501610253,"creation_date":1501610253,"answer_id":45444716,"question_id":5762491,"body_markdown":"Here are a list of colors in a Java class with `public static` fields\r\n\r\n**Usage**\r\n\r\n    System.out.println(ConsoleColors.RED + &quot;RED COLORED&quot; +\r\n    ConsoleColors.RESET + &quot; NORMAL&quot;);\r\n\r\n&lt;br&gt;\r\n**Note**\r\n Don&#39;t forget to use the `RESET` after printing as the effect will remain if it&#39;s not cleared\r\n\r\n&lt;br&gt;\r\n\r\n    public class ConsoleColors {\r\n        // Reset\r\n        public static final String RESET = &quot;\\033[0m&quot;;  // Text Reset\r\n    \r\n        // Regular Colors\r\n        public static final String BLACK = &quot;\\033[0;30m&quot;;   // BLACK\r\n        public static final String RED = &quot;\\033[0;31m&quot;;     // RED\r\n        public static final String GREEN = &quot;\\033[0;32m&quot;;   // GREEN\r\n        public static final String YELLOW = &quot;\\033[0;33m&quot;;  // YELLOW\r\n        public static final String BLUE = &quot;\\033[0;34m&quot;;    // BLUE\r\n        public static final String PURPLE = &quot;\\033[0;35m&quot;;  // PURPLE\r\n        public static final String CYAN = &quot;\\033[0;36m&quot;;    // CYAN\r\n        public static final String WHITE = &quot;\\033[0;37m&quot;;   // WHITE\r\n    \r\n        // Bold\r\n        public static final String BLACK_BOLD = &quot;\\033[1;30m&quot;;  // BLACK\r\n        public static final String RED_BOLD = &quot;\\033[1;31m&quot;;    // RED\r\n        public static final String GREEN_BOLD = &quot;\\033[1;32m&quot;;  // GREEN\r\n        public static final String YELLOW_BOLD = &quot;\\033[1;33m&quot;; // YELLOW\r\n        public static final String BLUE_BOLD = &quot;\\033[1;34m&quot;;   // BLUE\r\n        public static final String PURPLE_BOLD = &quot;\\033[1;35m&quot;; // PURPLE\r\n        public static final String CYAN_BOLD = &quot;\\033[1;36m&quot;;   // CYAN\r\n        public static final String WHITE_BOLD = &quot;\\033[1;37m&quot;;  // WHITE\r\n    \r\n        // Underline\r\n        public static final String BLACK_UNDERLINED = &quot;\\033[4;30m&quot;;  // BLACK\r\n        public static final String RED_UNDERLINED = &quot;\\033[4;31m&quot;;    // RED\r\n        public static final String GREEN_UNDERLINED = &quot;\\033[4;32m&quot;;  // GREEN\r\n        public static final String YELLOW_UNDERLINED = &quot;\\033[4;33m&quot;; // YELLOW\r\n        public static final String BLUE_UNDERLINED = &quot;\\033[4;34m&quot;;   // BLUE\r\n        public static final String PURPLE_UNDERLINED = &quot;\\033[4;35m&quot;; // PURPLE\r\n        public static final String CYAN_UNDERLINED = &quot;\\033[4;36m&quot;;   // CYAN\r\n        public static final String WHITE_UNDERLINED = &quot;\\033[4;37m&quot;;  // WHITE\r\n    \r\n        // Background\r\n        public static final String BLACK_BACKGROUND = &quot;\\033[40m&quot;;  // BLACK\r\n        public static final String RED_BACKGROUND = &quot;\\033[41m&quot;;    // RED\r\n        public static final String GREEN_BACKGROUND = &quot;\\033[42m&quot;;  // GREEN\r\n        public static final String YELLOW_BACKGROUND = &quot;\\033[43m&quot;; // YELLOW\r\n        public static final String BLUE_BACKGROUND = &quot;\\033[44m&quot;;   // BLUE\r\n        public static final String PURPLE_BACKGROUND = &quot;\\033[45m&quot;; // PURPLE\r\n        public static final String CYAN_BACKGROUND = &quot;\\033[46m&quot;;   // CYAN\r\n        public static final String WHITE_BACKGROUND = &quot;\\033[47m&quot;;  // WHITE\r\n    \r\n        // High Intensity\r\n        public static final String BLACK_BRIGHT = &quot;\\033[0;90m&quot;;  // BLACK\r\n        public static final String RED_BRIGHT = &quot;\\033[0;91m&quot;;    // RED\r\n        public static final String GREEN_BRIGHT = &quot;\\033[0;92m&quot;;  // GREEN\r\n        public static final String YELLOW_BRIGHT = &quot;\\033[0;93m&quot;; // YELLOW\r\n        public static final String BLUE_BRIGHT = &quot;\\033[0;94m&quot;;   // BLUE\r\n        public static final String PURPLE_BRIGHT = &quot;\\033[0;95m&quot;; // PURPLE\r\n        public static final String CYAN_BRIGHT = &quot;\\033[0;96m&quot;;   // CYAN\r\n        public static final String WHITE_BRIGHT = &quot;\\033[0;97m&quot;;  // WHITE\r\n    \r\n        // Bold High Intensity\r\n        public static final String BLACK_BOLD_BRIGHT = &quot;\\033[1;90m&quot;; // BLACK\r\n        public static final String RED_BOLD_BRIGHT = &quot;\\033[1;91m&quot;;   // RED\r\n        public static final String GREEN_BOLD_BRIGHT = &quot;\\033[1;92m&quot;; // GREEN\r\n        public static final String YELLOW_BOLD_BRIGHT = &quot;\\033[1;93m&quot;;// YELLOW\r\n        public static final String BLUE_BOLD_BRIGHT = &quot;\\033[1;94m&quot;;  // BLUE\r\n        public static final String PURPLE_BOLD_BRIGHT = &quot;\\033[1;95m&quot;;// PURPLE\r\n        public static final String CYAN_BOLD_BRIGHT = &quot;\\033[1;96m&quot;;  // CYAN\r\n        public static final String WHITE_BOLD_BRIGHT = &quot;\\033[1;97m&quot;; // WHITE\r\n    \r\n        // High Intensity backgrounds\r\n        public static final String BLACK_BACKGROUND_BRIGHT = &quot;\\033[0;100m&quot;;// BLACK\r\n        public static final String RED_BACKGROUND_BRIGHT = &quot;\\033[0;101m&quot;;// RED\r\n        public static final String GREEN_BACKGROUND_BRIGHT = &quot;\\033[0;102m&quot;;// GREEN\r\n        public static final String YELLOW_BACKGROUND_BRIGHT = &quot;\\033[0;103m&quot;;// YELLOW\r\n        public static final String BLUE_BACKGROUND_BRIGHT = &quot;\\033[0;104m&quot;;// BLUE\r\n        public static final String PURPLE_BACKGROUND_BRIGHT = &quot;\\033[0;105m&quot;; // PURPLE\r\n        public static final String CYAN_BACKGROUND_BRIGHT = &quot;\\033[0;106m&quot;;  // CYAN\r\n        public static final String WHITE_BACKGROUND_BRIGHT = &quot;\\033[0;107m&quot;;   // WHITE\r\n    }\r\n\r\n","title":"How to print color in console using System.out.println?","body":"<p>Here are a list of colors in a Java class with <code>public static</code> fields</p>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>System.out.println(ConsoleColors.RED + \"RED COLORED\" +\nConsoleColors.RESET + \" NORMAL\");\n</code></pre>\n\n<p><br>\n<strong>Note</strong>\n Don't forget to use the <code>RESET</code> after printing as the effect will remain if it's not cleared</p>\n\n<p><br></p>\n\n<pre><code>public class ConsoleColors {\n    // Reset\n    public static final String RESET = \"\\033[0m\";  // Text Reset\n\n    // Regular Colors\n    public static final String BLACK = \"\\033[0;30m\";   // BLACK\n    public static final String RED = \"\\033[0;31m\";     // RED\n    public static final String GREEN = \"\\033[0;32m\";   // GREEN\n    public static final String YELLOW = \"\\033[0;33m\";  // YELLOW\n    public static final String BLUE = \"\\033[0;34m\";    // BLUE\n    public static final String PURPLE = \"\\033[0;35m\";  // PURPLE\n    public static final String CYAN = \"\\033[0;36m\";    // CYAN\n    public static final String WHITE = \"\\033[0;37m\";   // WHITE\n\n    // Bold\n    public static final String BLACK_BOLD = \"\\033[1;30m\";  // BLACK\n    public static final String RED_BOLD = \"\\033[1;31m\";    // RED\n    public static final String GREEN_BOLD = \"\\033[1;32m\";  // GREEN\n    public static final String YELLOW_BOLD = \"\\033[1;33m\"; // YELLOW\n    public static final String BLUE_BOLD = \"\\033[1;34m\";   // BLUE\n    public static final String PURPLE_BOLD = \"\\033[1;35m\"; // PURPLE\n    public static final String CYAN_BOLD = \"\\033[1;36m\";   // CYAN\n    public static final String WHITE_BOLD = \"\\033[1;37m\";  // WHITE\n\n    // Underline\n    public static final String BLACK_UNDERLINED = \"\\033[4;30m\";  // BLACK\n    public static final String RED_UNDERLINED = \"\\033[4;31m\";    // RED\n    public static final String GREEN_UNDERLINED = \"\\033[4;32m\";  // GREEN\n    public static final String YELLOW_UNDERLINED = \"\\033[4;33m\"; // YELLOW\n    public static final String BLUE_UNDERLINED = \"\\033[4;34m\";   // BLUE\n    public static final String PURPLE_UNDERLINED = \"\\033[4;35m\"; // PURPLE\n    public static final String CYAN_UNDERLINED = \"\\033[4;36m\";   // CYAN\n    public static final String WHITE_UNDERLINED = \"\\033[4;37m\";  // WHITE\n\n    // Background\n    public static final String BLACK_BACKGROUND = \"\\033[40m\";  // BLACK\n    public static final String RED_BACKGROUND = \"\\033[41m\";    // RED\n    public static final String GREEN_BACKGROUND = \"\\033[42m\";  // GREEN\n    public static final String YELLOW_BACKGROUND = \"\\033[43m\"; // YELLOW\n    public static final String BLUE_BACKGROUND = \"\\033[44m\";   // BLUE\n    public static final String PURPLE_BACKGROUND = \"\\033[45m\"; // PURPLE\n    public static final String CYAN_BACKGROUND = \"\\033[46m\";   // CYAN\n    public static final String WHITE_BACKGROUND = \"\\033[47m\";  // WHITE\n\n    // High Intensity\n    public static final String BLACK_BRIGHT = \"\\033[0;90m\";  // BLACK\n    public static final String RED_BRIGHT = \"\\033[0;91m\";    // RED\n    public static final String GREEN_BRIGHT = \"\\033[0;92m\";  // GREEN\n    public static final String YELLOW_BRIGHT = \"\\033[0;93m\"; // YELLOW\n    public static final String BLUE_BRIGHT = \"\\033[0;94m\";   // BLUE\n    public static final String PURPLE_BRIGHT = \"\\033[0;95m\"; // PURPLE\n    public static final String CYAN_BRIGHT = \"\\033[0;96m\";   // CYAN\n    public static final String WHITE_BRIGHT = \"\\033[0;97m\";  // WHITE\n\n    // Bold High Intensity\n    public static final String BLACK_BOLD_BRIGHT = \"\\033[1;90m\"; // BLACK\n    public static final String RED_BOLD_BRIGHT = \"\\033[1;91m\";   // RED\n    public static final String GREEN_BOLD_BRIGHT = \"\\033[1;92m\"; // GREEN\n    public static final String YELLOW_BOLD_BRIGHT = \"\\033[1;93m\";// YELLOW\n    public static final String BLUE_BOLD_BRIGHT = \"\\033[1;94m\";  // BLUE\n    public static final String PURPLE_BOLD_BRIGHT = \"\\033[1;95m\";// PURPLE\n    public static final String CYAN_BOLD_BRIGHT = \"\\033[1;96m\";  // CYAN\n    public static final String WHITE_BOLD_BRIGHT = \"\\033[1;97m\"; // WHITE\n\n    // High Intensity backgrounds\n    public static final String BLACK_BACKGROUND_BRIGHT = \"\\033[0;100m\";// BLACK\n    public static final String RED_BACKGROUND_BRIGHT = \"\\033[0;101m\";// RED\n    public static final String GREEN_BACKGROUND_BRIGHT = \"\\033[0;102m\";// GREEN\n    public static final String YELLOW_BACKGROUND_BRIGHT = \"\\033[0;103m\";// YELLOW\n    public static final String BLUE_BACKGROUND_BRIGHT = \"\\033[0;104m\";// BLUE\n    public static final String PURPLE_BACKGROUND_BRIGHT = \"\\033[0;105m\"; // PURPLE\n    public static final String CYAN_BACKGROUND_BRIGHT = \"\\033[0;106m\";  // CYAN\n    public static final String WHITE_BACKGROUND_BRIGHT = \"\\033[0;107m\";   // WHITE\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":457031,"reputation":4162,"user_id":856088,"accept_rate":60,"display_name":"Ajmal Salim"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1506136963,"creation_date":1506136963,"answer_id":46375708,"question_id":5762491,"body_markdown":"If anyone is looking for a quick solution, feel free to use the following helper class :)\r\n\r\n\r\n    public class Log {\r\n    \r\n        public static final String ANSI_RESET = &quot;\\u001B[0m&quot;;\r\n        public static final String ANSI_BLACK = &quot;\\u001B[30m&quot;;\r\n        public static final String ANSI_RED = &quot;\\u001B[31m&quot;;\r\n        public static final String ANSI_GREEN = &quot;\\u001B[32m&quot;;\r\n        public static final String ANSI_YELLOW = &quot;\\u001B[33m&quot;;\r\n        public static final String ANSI_BLUE = &quot;\\u001B[34m&quot;;\r\n        public static final String ANSI_PURPLE = &quot;\\u001B[35m&quot;;\r\n        public static final String ANSI_CYAN = &quot;\\u001B[36m&quot;;\r\n        public static final String ANSI_WHITE = &quot;\\u001B[37m&quot;;\r\n    \r\n        //info\r\n        public static void i(String className, String message) {\r\n            System.out.println(ANSI_GREEN + className + &quot; : &quot; + message + ANSI_RESET);\r\n        }\r\n        \r\n        //error\r\n        public static void e(String className, String message) {\r\n            System.out.println(ANSI_RED + className + &quot; : &quot; + message + ANSI_RESET);\r\n        }\r\n        \r\n        //debug\r\n        public static void d(String className, String message) {\r\n            System.out.println(ANSI_BLUE + className + &quot; : &quot; + message + ANSI_RESET);\r\n        }\r\n        \r\n        //warning\r\n        public static void w(String className, String message) {\r\n            System.out.println(ANSI_YELLOW + className + &quot; : &quot; + message + ANSI_RESET);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**USAGE:**\r\n\r\n    Log.i(TAG,&quot;This is an info message&quot;);\r\n    \r\n    Log.e(TAG,&quot;This is an error message&quot;);\r\n    \r\n    Log.w(TAG,&quot;This is a warning message&quot;);\r\n    \r\n    Log.d(TAG,&quot;This is a debug message&quot;);\r\n\r\nThanks @whiteFang34 for the ANSI codes.","title":"How to print color in console using System.out.println?","body":"<p>If anyone is looking for a quick solution, feel free to use the following helper class :)</p>\n\n<pre><code>public class Log {\n\n    public static final String ANSI_RESET = \"\\u001B[0m\";\n    public static final String ANSI_BLACK = \"\\u001B[30m\";\n    public static final String ANSI_RED = \"\\u001B[31m\";\n    public static final String ANSI_GREEN = \"\\u001B[32m\";\n    public static final String ANSI_YELLOW = \"\\u001B[33m\";\n    public static final String ANSI_BLUE = \"\\u001B[34m\";\n    public static final String ANSI_PURPLE = \"\\u001B[35m\";\n    public static final String ANSI_CYAN = \"\\u001B[36m\";\n    public static final String ANSI_WHITE = \"\\u001B[37m\";\n\n    //info\n    public static void i(String className, String message) {\n        System.out.println(ANSI_GREEN + className + \" : \" + message + ANSI_RESET);\n    }\n\n    //error\n    public static void e(String className, String message) {\n        System.out.println(ANSI_RED + className + \" : \" + message + ANSI_RESET);\n    }\n\n    //debug\n    public static void d(String className, String message) {\n        System.out.println(ANSI_BLUE + className + \" : \" + message + ANSI_RESET);\n    }\n\n    //warning\n    public static void w(String className, String message) {\n        System.out.println(ANSI_YELLOW + className + \" : \" + message + ANSI_RESET);\n    }\n\n}\n</code></pre>\n\n<p><strong>USAGE:</strong></p>\n\n<pre><code>Log.i(TAG,\"This is an info message\");\n\nLog.e(TAG,\"This is an error message\");\n\nLog.w(TAG,\"This is a warning message\");\n\nLog.d(TAG,\"This is a debug message\");\n</code></pre>\n\n<p>Thanks @whiteFang34 for the ANSI codes.</p>\n"},{"comments":[{"owner":{"account_id":343693,"reputation":2716,"user_id":675577,"accept_rate":83,"display_name":"dialex"},"score":9,"creation_date":1576954685,"post_id":51944613,"comment_id":105061846,"body_markdown":"This is a copy of answer https://stackoverflow.com/a/45444716/675577","body":"This is a copy of answer <a href=\"https://stackoverflow.com/a/45444716/675577\">stackoverflow.com/a/45444716/675577</a>"},{"owner":{"account_id":13667454,"reputation":863,"user_id":9860982,"display_name":"Marvin"},"score":1,"creation_date":1673052718,"post_id":51944613,"comment_id":132418401,"body_markdown":"@dialex That answer seems to be originally from [w3schools](https://www.w3schools.blog/ansi-colors-java) and this answer provides the constants as an enum, which in my opinion is cleaner, more modern code and a better practice for holding these constants.","body":"@dialex That answer seems to be originally from <a href=\"https://www.w3schools.blog/ansi-colors-java\" rel=\"nofollow noreferrer\">w3schools</a> and this answer provides the constants as an enum, which in my opinion is cleaner, more modern code and a better practice for holding these constants."},{"owner":{"account_id":343693,"reputation":2716,"user_id":675577,"accept_rate":83,"display_name":"dialex"},"score":0,"creation_date":1674646658,"post_id":51944613,"comment_id":132757706,"body_markdown":"I agree with you on that","body":"I agree with you on that"}],"tags":[],"owner":{"account_id":12646546,"reputation":913,"user_id":9192085,"display_name":"马哥私房菜"},"comment_count":3,"down_vote_count":4,"up_vote_count":79,"is_accepted":false,"score":75,"last_activity_date":1584126916,"creation_date":1534840100,"answer_id":51944613,"question_id":5762491,"body_markdown":"Try the following enum :\r\n\r\n    enum Color {\r\n        //Color end string, color reset\r\n        RESET(&quot;\\033[0m&quot;),\r\n\r\n        // Regular Colors. Normal color, no bold, background color etc.\r\n        BLACK(&quot;\\033[0;30m&quot;),    // BLACK\r\n        RED(&quot;\\033[0;31m&quot;),      // RED\r\n        GREEN(&quot;\\033[0;32m&quot;),    // GREEN\r\n        YELLOW(&quot;\\033[0;33m&quot;),   // YELLOW\r\n        BLUE(&quot;\\033[0;34m&quot;),     // BLUE\r\n        MAGENTA(&quot;\\033[0;35m&quot;),  // MAGENTA\r\n        CYAN(&quot;\\033[0;36m&quot;),     // CYAN\r\n        WHITE(&quot;\\033[0;37m&quot;),    // WHITE\r\n\r\n        // Bold\r\n        BLACK_BOLD(&quot;\\033[1;30m&quot;),   // BLACK\r\n        RED_BOLD(&quot;\\033[1;31m&quot;),     // RED\r\n        GREEN_BOLD(&quot;\\033[1;32m&quot;),   // GREEN\r\n        YELLOW_BOLD(&quot;\\033[1;33m&quot;),  // YELLOW\r\n        BLUE_BOLD(&quot;\\033[1;34m&quot;),    // BLUE\r\n        MAGENTA_BOLD(&quot;\\033[1;35m&quot;), // MAGENTA\r\n        CYAN_BOLD(&quot;\\033[1;36m&quot;),    // CYAN\r\n        WHITE_BOLD(&quot;\\033[1;37m&quot;),   // WHITE\r\n\r\n        // Underline\r\n        BLACK_UNDERLINED(&quot;\\033[4;30m&quot;),     // BLACK\r\n        RED_UNDERLINED(&quot;\\033[4;31m&quot;),       // RED\r\n        GREEN_UNDERLINED(&quot;\\033[4;32m&quot;),     // GREEN\r\n        YELLOW_UNDERLINED(&quot;\\033[4;33m&quot;),    // YELLOW\r\n        BLUE_UNDERLINED(&quot;\\033[4;34m&quot;),      // BLUE\r\n        MAGENTA_UNDERLINED(&quot;\\033[4;35m&quot;),   // MAGENTA\r\n        CYAN_UNDERLINED(&quot;\\033[4;36m&quot;),      // CYAN\r\n        WHITE_UNDERLINED(&quot;\\033[4;37m&quot;),     // WHITE\r\n\r\n        // Background\r\n        BLACK_BACKGROUND(&quot;\\033[40m&quot;),   // BLACK\r\n        RED_BACKGROUND(&quot;\\033[41m&quot;),     // RED\r\n        GREEN_BACKGROUND(&quot;\\033[42m&quot;),   // GREEN\r\n        YELLOW_BACKGROUND(&quot;\\033[43m&quot;),  // YELLOW\r\n        BLUE_BACKGROUND(&quot;\\033[44m&quot;),    // BLUE\r\n        MAGENTA_BACKGROUND(&quot;\\033[45m&quot;), // MAGENTA\r\n        CYAN_BACKGROUND(&quot;\\033[46m&quot;),    // CYAN\r\n        WHITE_BACKGROUND(&quot;\\033[47m&quot;),   // WHITE\r\n\r\n        // High Intensity\r\n        BLACK_BRIGHT(&quot;\\033[0;90m&quot;),     // BLACK\r\n        RED_BRIGHT(&quot;\\033[0;91m&quot;),       // RED\r\n        GREEN_BRIGHT(&quot;\\033[0;92m&quot;),     // GREEN\r\n        YELLOW_BRIGHT(&quot;\\033[0;93m&quot;),    // YELLOW\r\n        BLUE_BRIGHT(&quot;\\033[0;94m&quot;),      // BLUE\r\n        MAGENTA_BRIGHT(&quot;\\033[0;95m&quot;),   // MAGENTA\r\n        CYAN_BRIGHT(&quot;\\033[0;96m&quot;),      // CYAN\r\n        WHITE_BRIGHT(&quot;\\033[0;97m&quot;),     // WHITE\r\n\r\n        // Bold High Intensity\r\n        BLACK_BOLD_BRIGHT(&quot;\\033[1;90m&quot;),    // BLACK\r\n        RED_BOLD_BRIGHT(&quot;\\033[1;91m&quot;),      // RED\r\n        GREEN_BOLD_BRIGHT(&quot;\\033[1;92m&quot;),    // GREEN\r\n        YELLOW_BOLD_BRIGHT(&quot;\\033[1;93m&quot;),   // YELLOW\r\n        BLUE_BOLD_BRIGHT(&quot;\\033[1;94m&quot;),     // BLUE\r\n        MAGENTA_BOLD_BRIGHT(&quot;\\033[1;95m&quot;),  // MAGENTA\r\n        CYAN_BOLD_BRIGHT(&quot;\\033[1;96m&quot;),     // CYAN\r\n        WHITE_BOLD_BRIGHT(&quot;\\033[1;97m&quot;),    // WHITE\r\n\r\n        // High Intensity backgrounds\r\n        BLACK_BACKGROUND_BRIGHT(&quot;\\033[0;100m&quot;),     // BLACK\r\n        RED_BACKGROUND_BRIGHT(&quot;\\033[0;101m&quot;),       // RED\r\n        GREEN_BACKGROUND_BRIGHT(&quot;\\033[0;102m&quot;),     // GREEN\r\n        YELLOW_BACKGROUND_BRIGHT(&quot;\\033[0;103m&quot;),    // YELLOW\r\n        BLUE_BACKGROUND_BRIGHT(&quot;\\033[0;104m&quot;),      // BLUE\r\n        MAGENTA_BACKGROUND_BRIGHT(&quot;\\033[0;105m&quot;),   // MAGENTA\r\n        CYAN_BACKGROUND_BRIGHT(&quot;\\033[0;106m&quot;),      // CYAN\r\n        WHITE_BACKGROUND_BRIGHT(&quot;\\033[0;107m&quot;);     // WHITE\r\n\r\n        private final String code;\r\n\r\n        Color(String code) {\r\n            this.code = code;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return code;\r\n        }\r\n    }\r\n\r\n\r\nAnd now we will make a small example:\r\n\r\n\r\n    class RunApp {\r\n        public static void main(String[] args) {\r\n\r\n            System.out.print(Color.BLACK_BOLD);\r\n            System.out.println(&quot;Black_Bold&quot;);\r\n            System.out.print(Color.RESET);\r\n            \r\n            System.out.print(Color.YELLOW);\r\n            System.out.print(Color.BLUE_BACKGROUND);\r\n            System.out.println(&quot;YELLOW &amp; BLUE&quot;);\r\n            System.out.print(Color.RESET);\r\n\r\n            System.out.print(Color.YELLOW);\r\n            System.out.println(&quot;YELLOW&quot;);\r\n            System.out.print(Color.RESET);\r\n        }\r\n    }","title":"How to print color in console using System.out.println?","body":"<p>Try the following enum :</p>\n\n<pre><code>enum Color {\n    //Color end string, color reset\n    RESET(\"\\033[0m\"),\n\n    // Regular Colors. Normal color, no bold, background color etc.\n    BLACK(\"\\033[0;30m\"),    // BLACK\n    RED(\"\\033[0;31m\"),      // RED\n    GREEN(\"\\033[0;32m\"),    // GREEN\n    YELLOW(\"\\033[0;33m\"),   // YELLOW\n    BLUE(\"\\033[0;34m\"),     // BLUE\n    MAGENTA(\"\\033[0;35m\"),  // MAGENTA\n    CYAN(\"\\033[0;36m\"),     // CYAN\n    WHITE(\"\\033[0;37m\"),    // WHITE\n\n    // Bold\n    BLACK_BOLD(\"\\033[1;30m\"),   // BLACK\n    RED_BOLD(\"\\033[1;31m\"),     // RED\n    GREEN_BOLD(\"\\033[1;32m\"),   // GREEN\n    YELLOW_BOLD(\"\\033[1;33m\"),  // YELLOW\n    BLUE_BOLD(\"\\033[1;34m\"),    // BLUE\n    MAGENTA_BOLD(\"\\033[1;35m\"), // MAGENTA\n    CYAN_BOLD(\"\\033[1;36m\"),    // CYAN\n    WHITE_BOLD(\"\\033[1;37m\"),   // WHITE\n\n    // Underline\n    BLACK_UNDERLINED(\"\\033[4;30m\"),     // BLACK\n    RED_UNDERLINED(\"\\033[4;31m\"),       // RED\n    GREEN_UNDERLINED(\"\\033[4;32m\"),     // GREEN\n    YELLOW_UNDERLINED(\"\\033[4;33m\"),    // YELLOW\n    BLUE_UNDERLINED(\"\\033[4;34m\"),      // BLUE\n    MAGENTA_UNDERLINED(\"\\033[4;35m\"),   // MAGENTA\n    CYAN_UNDERLINED(\"\\033[4;36m\"),      // CYAN\n    WHITE_UNDERLINED(\"\\033[4;37m\"),     // WHITE\n\n    // Background\n    BLACK_BACKGROUND(\"\\033[40m\"),   // BLACK\n    RED_BACKGROUND(\"\\033[41m\"),     // RED\n    GREEN_BACKGROUND(\"\\033[42m\"),   // GREEN\n    YELLOW_BACKGROUND(\"\\033[43m\"),  // YELLOW\n    BLUE_BACKGROUND(\"\\033[44m\"),    // BLUE\n    MAGENTA_BACKGROUND(\"\\033[45m\"), // MAGENTA\n    CYAN_BACKGROUND(\"\\033[46m\"),    // CYAN\n    WHITE_BACKGROUND(\"\\033[47m\"),   // WHITE\n\n    // High Intensity\n    BLACK_BRIGHT(\"\\033[0;90m\"),     // BLACK\n    RED_BRIGHT(\"\\033[0;91m\"),       // RED\n    GREEN_BRIGHT(\"\\033[0;92m\"),     // GREEN\n    YELLOW_BRIGHT(\"\\033[0;93m\"),    // YELLOW\n    BLUE_BRIGHT(\"\\033[0;94m\"),      // BLUE\n    MAGENTA_BRIGHT(\"\\033[0;95m\"),   // MAGENTA\n    CYAN_BRIGHT(\"\\033[0;96m\"),      // CYAN\n    WHITE_BRIGHT(\"\\033[0;97m\"),     // WHITE\n\n    // Bold High Intensity\n    BLACK_BOLD_BRIGHT(\"\\033[1;90m\"),    // BLACK\n    RED_BOLD_BRIGHT(\"\\033[1;91m\"),      // RED\n    GREEN_BOLD_BRIGHT(\"\\033[1;92m\"),    // GREEN\n    YELLOW_BOLD_BRIGHT(\"\\033[1;93m\"),   // YELLOW\n    BLUE_BOLD_BRIGHT(\"\\033[1;94m\"),     // BLUE\n    MAGENTA_BOLD_BRIGHT(\"\\033[1;95m\"),  // MAGENTA\n    CYAN_BOLD_BRIGHT(\"\\033[1;96m\"),     // CYAN\n    WHITE_BOLD_BRIGHT(\"\\033[1;97m\"),    // WHITE\n\n    // High Intensity backgrounds\n    BLACK_BACKGROUND_BRIGHT(\"\\033[0;100m\"),     // BLACK\n    RED_BACKGROUND_BRIGHT(\"\\033[0;101m\"),       // RED\n    GREEN_BACKGROUND_BRIGHT(\"\\033[0;102m\"),     // GREEN\n    YELLOW_BACKGROUND_BRIGHT(\"\\033[0;103m\"),    // YELLOW\n    BLUE_BACKGROUND_BRIGHT(\"\\033[0;104m\"),      // BLUE\n    MAGENTA_BACKGROUND_BRIGHT(\"\\033[0;105m\"),   // MAGENTA\n    CYAN_BACKGROUND_BRIGHT(\"\\033[0;106m\"),      // CYAN\n    WHITE_BACKGROUND_BRIGHT(\"\\033[0;107m\");     // WHITE\n\n    private final String code;\n\n    Color(String code) {\n        this.code = code;\n    }\n\n    @Override\n    public String toString() {\n        return code;\n    }\n}\n</code></pre>\n\n<p>And now we will make a small example:</p>\n\n<pre><code>class RunApp {\n    public static void main(String[] args) {\n\n        System.out.print(Color.BLACK_BOLD);\n        System.out.println(\"Black_Bold\");\n        System.out.print(Color.RESET);\n\n        System.out.print(Color.YELLOW);\n        System.out.print(Color.BLUE_BACKGROUND);\n        System.out.println(\"YELLOW &amp; BLUE\");\n        System.out.print(Color.RESET);\n\n        System.out.print(Color.YELLOW);\n        System.out.println(\"YELLOW\");\n        System.out.print(Color.RESET);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5595387,"reputation":11077,"user_id":4433326,"accept_rate":67,"display_name":"Louis CAD"},"comment_count":0,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1547945614,"creation_date":1547945614,"answer_id":54272671,"question_id":5762491,"body_markdown":"If you use Kotlin (which works seamlessly with Java), you can make such an enum:\r\n\r\n    enum class AnsiColor(private val colorNumber: Byte) {\r\n        BLACK(0), RED(1), GREEN(2), YELLOW(3), BLUE(4), MAGENTA(5), CYAN(6), WHITE(7);\r\n\r\n        companion object {\r\n            private const val prefix = &quot;\\u001B&quot;\r\n            const val RESET = &quot;$prefix[0m&quot;\r\n            private val isCompatible = &quot;win&quot; !in System.getProperty(&quot;os.name&quot;).toLowerCase()\r\n        }\r\n\r\n        val regular get() = if (isCompatible) &quot;$prefix[0;3${colorNumber}m&quot; else &quot;&quot;\r\n        val bold get() = if (isCompatible) &quot;$prefix[1;3${colorNumber}m&quot; else &quot;&quot;\r\n        val underline get() = if (isCompatible) &quot;$prefix[4;3${colorNumber}m&quot; else &quot;&quot;\r\n        val background get() = if (isCompatible) &quot;$prefix[4${colorNumber}m&quot; else &quot;&quot;\r\n        val highIntensity get() = if (isCompatible) &quot;$prefix[0;9${colorNumber}m&quot; else &quot;&quot;\r\n        val boldHighIntensity get() = if (isCompatible) &quot;$prefix[1;9${colorNumber}m&quot; else &quot;&quot;\r\n        val backgroundHighIntensity get() = if (isCompatible) &quot;$prefix[0;10${colorNumber}m&quot; else &quot;&quot;\r\n    }\r\n\r\nAnd then use is as such: (code below showcases the different styles for all colors)\r\n\r\n    val sampleText = &quot;This is a sample text&quot;\r\n    enumValues&lt;AnsiColor&gt;().forEach { ansiColor -&gt;\r\n        println(&quot;${ansiColor.regular}$sampleText${AnsiColor.RESET}&quot;)\r\n        println(&quot;${ansiColor.bold}$sampleText${AnsiColor.RESET}&quot;)\r\n        println(&quot;${ansiColor.underline}$sampleText${AnsiColor.RESET}&quot;)\r\n        println(&quot;${ansiColor.background}$sampleText${AnsiColor.RESET}&quot;)\r\n        println(&quot;${ansiColor.highIntensity}$sampleText${AnsiColor.RESET}&quot;)\r\n        println(&quot;${ansiColor.boldHighIntensity}$sampleText${AnsiColor.RESET}&quot;)\r\n        println(&quot;${ansiColor.backgroundHighIntensity}$sampleText${AnsiColor.RESET}&quot;)\r\n    }\r\n\r\nIf running on Windows where these ANSI codes are not supported, the `isCompatible` check avoids issues by replacing the codes with empty string.","title":"How to print color in console using System.out.println?","body":"<p>If you use Kotlin (which works seamlessly with Java), you can make such an enum:</p>\n\n<pre><code>enum class AnsiColor(private val colorNumber: Byte) {\n    BLACK(0), RED(1), GREEN(2), YELLOW(3), BLUE(4), MAGENTA(5), CYAN(6), WHITE(7);\n\n    companion object {\n        private const val prefix = \"\\u001B\"\n        const val RESET = \"$prefix[0m\"\n        private val isCompatible = \"win\" !in System.getProperty(\"os.name\").toLowerCase()\n    }\n\n    val regular get() = if (isCompatible) \"$prefix[0;3${colorNumber}m\" else \"\"\n    val bold get() = if (isCompatible) \"$prefix[1;3${colorNumber}m\" else \"\"\n    val underline get() = if (isCompatible) \"$prefix[4;3${colorNumber}m\" else \"\"\n    val background get() = if (isCompatible) \"$prefix[4${colorNumber}m\" else \"\"\n    val highIntensity get() = if (isCompatible) \"$prefix[0;9${colorNumber}m\" else \"\"\n    val boldHighIntensity get() = if (isCompatible) \"$prefix[1;9${colorNumber}m\" else \"\"\n    val backgroundHighIntensity get() = if (isCompatible) \"$prefix[0;10${colorNumber}m\" else \"\"\n}\n</code></pre>\n\n<p>And then use is as such: (code below showcases the different styles for all colors)</p>\n\n<pre><code>val sampleText = \"This is a sample text\"\nenumValues&lt;AnsiColor&gt;().forEach { ansiColor -&gt;\n    println(\"${ansiColor.regular}$sampleText${AnsiColor.RESET}\")\n    println(\"${ansiColor.bold}$sampleText${AnsiColor.RESET}\")\n    println(\"${ansiColor.underline}$sampleText${AnsiColor.RESET}\")\n    println(\"${ansiColor.background}$sampleText${AnsiColor.RESET}\")\n    println(\"${ansiColor.highIntensity}$sampleText${AnsiColor.RESET}\")\n    println(\"${ansiColor.boldHighIntensity}$sampleText${AnsiColor.RESET}\")\n    println(\"${ansiColor.backgroundHighIntensity}$sampleText${AnsiColor.RESET}\")\n}\n</code></pre>\n\n<p>If running on Windows where these ANSI codes are not supported, the <code>isCompatible</code> check avoids issues by replacing the codes with empty string.</p>\n"},{"comments":[{"owner":{"account_id":4028316,"reputation":169,"user_id":3423146,"display_name":"Alexander Stohr"},"score":0,"creation_date":1610719595,"post_id":54291292,"comment_id":116228165,"body_markdown":"On Windows the Cygwin console does the job.\nAlso when using piplines with e.g. &quot;tee&quot; then the ANSI color codes see interpretation and maybe effects as well. Byond color codes the ANSI escapes can also do e.g. cursor control.","body":"On Windows the Cygwin console does the job. Also when using piplines with e.g. &quot;tee&quot; then the ANSI color codes see interpretation and maybe effects as well. Byond color codes the ANSI escapes can also do e.g. cursor control."},{"owner":{"account_id":5399016,"reputation":5264,"user_id":4299358,"display_name":"AmigoJack"},"score":0,"creation_date":1619516165,"post_id":54291292,"comment_id":118922934,"body_markdown":"No, the variable has to be in the key `HKEY_CURRENT_USER\\Console` directly - do not create another key `VirtualTerminalLevel` in there.","body":"No, the variable has to be in the key <code>HKEY_CURRENT_USER\\Console</code> directly - do not create another key <code>VirtualTerminalLevel</code> in there."}],"tags":[],"owner":{"account_id":13357055,"reputation":702,"user_id":9640261,"display_name":"NayoR"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1548078188,"creation_date":1548078188,"answer_id":54291292,"question_id":5762491,"body_markdown":"The best way to color console text is to use [ANSI escape codes][1]. In addition of text color, ANSI escape codes allows background color, decorations and more.\r\n\r\n**Unix**\r\n\r\nIf you use springboot, there is a specific enum for text coloring: [org.springframework.boot.ansi.AnsiColor][2]\r\n\r\n[Jansi][3] library is a bit more advanced (can use all the ANSI escape codes fonctions), provides an API and has a [support for Windows][4] using JNA.\r\n\r\nOtherwise, you can manually define your own color, as shown is other responses.\r\n\r\n**Windows 10**\r\n\r\nWindows 10 (since build 10.0.10586 - nov. 2015) supports ANSI escape codes ([MSDN documentation][5]) **but** it&#39;s not enabled by default. To enable it:\r\n\r\n - With [SetConsoleMode API][6], use `ENABLE_VIRTUAL_TERMINAL_PROCESSING (0x0400)` flag. Jansi uses this option.\r\n - If SetConsoleMode API is not used, it is possible to change the global registry key `HKEY_CURRENT_USER\\Console\\VirtualTerminalLevel` by creating a dword and set it to 0 or 1 for ANSI processing:\r\n`&quot;VirtualTerminalLevel&quot;=dword:00000001`\r\n\r\n**Before Windows 10**\r\n\r\nWindows console does not support ANSI colors. But it&#39;s possible to use console which does.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ANSI_escape_code\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ansi/AnsiColor.html\r\n  [3]: https://github.com/fusesource/jansi\r\n  [4]: https://fusesource.github.io/jansi/documentation/api/index.html\r\n  [5]: https://learn.microsoft.com/en-us/windows/console/console-virtual-terminal-sequences\r\n  [6]: https://learn.microsoft.com/en-us/windows/console/setconsolemode","title":"How to print color in console using System.out.println?","body":"<p>The best way to color console text is to use <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"noreferrer\">ANSI escape codes</a>. In addition of text color, ANSI escape codes allows background color, decorations and more.</p>\n\n<p><strong>Unix</strong></p>\n\n<p>If you use springboot, there is a specific enum for text coloring: <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ansi/AnsiColor.html\" rel=\"noreferrer\">org.springframework.boot.ansi.AnsiColor</a></p>\n\n<p><a href=\"https://github.com/fusesource/jansi\" rel=\"noreferrer\">Jansi</a> library is a bit more advanced (can use all the ANSI escape codes fonctions), provides an API and has a <a href=\"https://fusesource.github.io/jansi/documentation/api/index.html\" rel=\"noreferrer\">support for Windows</a> using JNA.</p>\n\n<p>Otherwise, you can manually define your own color, as shown is other responses.</p>\n\n<p><strong>Windows 10</strong></p>\n\n<p>Windows 10 (since build 10.0.10586 - nov. 2015) supports ANSI escape codes (<a href=\"https://learn.microsoft.com/en-us/windows/console/console-virtual-terminal-sequences\" rel=\"noreferrer\">MSDN documentation</a>) <strong>but</strong> it's not enabled by default. To enable it:</p>\n\n<ul>\n<li>With <a href=\"https://learn.microsoft.com/en-us/windows/console/setconsolemode\" rel=\"noreferrer\">SetConsoleMode API</a>, use <code>ENABLE_VIRTUAL_TERMINAL_PROCESSING (0x0400)</code> flag. Jansi uses this option.</li>\n<li>If SetConsoleMode API is not used, it is possible to change the global registry key <code>HKEY_CURRENT_USER\\Console\\VirtualTerminalLevel</code> by creating a dword and set it to 0 or 1 for ANSI processing:\n<code>\"VirtualTerminalLevel\"=dword:00000001</code></li>\n</ul>\n\n<p><strong>Before Windows 10</strong></p>\n\n<p>Windows console does not support ANSI colors. But it's possible to use console which does.</p>\n"},{"comments":[{"owner":{"account_id":2248199,"reputation":6813,"user_id":1981088,"display_name":"help-info.de"},"score":3,"creation_date":1573133741,"post_id":58749494,"comment_id":103788111,"body_markdown":"The &quot;downvote&quot; isn&#39;t mine - but, there are other answers that provide the OP&#39;s question, and they were posted some time ago. When posting an answer [see: How do I write a good answer?](https://stackoverflow.com/help/how-to-answer), please make sure you add either a new solution, or a substantially better explanation, especially when answering older questions.","body":"The &quot;downvote&quot; isn&#39;t mine - but, there are other answers that provide the OP&#39;s question, and they were posted some time ago. When posting an answer <a href=\"https://stackoverflow.com/help/how-to-answer\">see: How do I write a good answer?</a>, please make sure you add either a new solution, or a substantially better explanation, especially when answering older questions."},{"owner":{"account_id":1181763,"reputation":2612,"user_id":1156554,"display_name":"David"},"score":10,"creation_date":1573133929,"post_id":58749494,"comment_id":103788203,"body_markdown":"@iSahil this probably got downvoted because simply writing to standard error doesn&#39;t explicitly color anything.  Many IDEs and consoles will interpret error messages and print them in red or similar, but that&#39;s not something you can rely on.","body":"@iSahil this probably got downvoted because simply writing to standard error doesn&#39;t explicitly color anything.  Many IDEs and consoles will interpret error messages and print them in red or similar, but that&#39;s not something you can rely on."},{"owner":{"account_id":1270913,"reputation":512,"user_id":1227197,"accept_rate":64,"display_name":"Maude"},"score":1,"creation_date":1578413257,"post_id":58749494,"comment_id":105426314,"body_markdown":"While this wasn&#39;t the direct answer to the question asked above, this was the answer I was looking for when searching for &quot;java print in red console&quot;. Thus, I do feel like it has it&#39;s place on this page.","body":"While this wasn&#39;t the direct answer to the question asked above, this was the answer I was looking for when searching for &quot;java print in red console&quot;. Thus, I do feel like it has it&#39;s place on this page."},{"owner":{"account_id":316953,"reputation":2563,"user_id":633375,"display_name":"meredrica"},"score":1,"creation_date":1630922172,"post_id":58749494,"comment_id":122078022,"body_markdown":"printing to a different output stream just for color will get you in a multitude of problems","body":"printing to a different output stream just for color will get you in a multitude of problems"}],"tags":[],"owner":{"account_id":7019201,"reputation":83,"user_id":5379343,"display_name":"iamgul"},"comment_count":4,"down_vote_count":10,"up_vote_count":4,"is_accepted":false,"score":-6,"last_activity_date":1573133813,"creation_date":1573132219,"answer_id":58749494,"question_id":5762491,"body_markdown":"Best Solution to print any text in red color in Java is:\r\n```java\r\nSystem.err.print(&quot;Hello World&quot;);\r\n```\r\n","title":"How to print color in console using System.out.println?","body":"<p>Best Solution to print any text in red color in Java is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.err.print(\"Hello World\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1387780,"reputation":281,"user_id":1319387,"display_name":"Shadi Abu Hilal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580868118,"creation_date":1580867720,"answer_id":60068000,"question_id":5762491,"body_markdown":"Using color function to print text with colors\r\n\r\n**Code:**\r\n\r\n```GROOVY\r\nenum Color {\r\n\r\n    RED(&quot;\\033[0;31m&quot;),      // RED\r\n    GREEN(&quot;\\033[0;32m&quot;),    // GREEN\r\n    YELLOW(&quot;\\033[0;33m&quot;),   // YELLOW\r\n    BLUE(&quot;\\033[0;34m&quot;),     // BLUE\r\n    MAGENTA(&quot;\\033[0;35m&quot;),  // MAGENTA\r\n    CYAN(&quot;\\033[0;36m&quot;),     // CYAN\r\n\r\n    private final String code\r\n\r\n    Color(String code) {\r\n        this.code = code;\r\n    }\r\n\r\n    @Override\r\n    String toString() {\r\n        return code\r\n    }\r\n}\r\n\r\ndef color = { color, txt -&gt;\r\n    def RESET_COLOR = &quot;\\033[0m&quot;\r\n    return &quot;${color}${txt}${RESET_COLOR}&quot;\r\n}\r\n```\r\n\r\n**Usage:**\r\n```GROOVY\r\n\r\ntest {\r\n    println color(Color.CYAN, &#39;testing&#39;)\r\n}\r\n```\r\n","title":"How to print color in console using System.out.println?","body":"<p>Using color function to print text with colors</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>enum Color {\n\n    RED(\"\\033[0;31m\"),      // RED\n    GREEN(\"\\033[0;32m\"),    // GREEN\n    YELLOW(\"\\033[0;33m\"),   // YELLOW\n    BLUE(\"\\033[0;34m\"),     // BLUE\n    MAGENTA(\"\\033[0;35m\"),  // MAGENTA\n    CYAN(\"\\033[0;36m\"),     // CYAN\n\n    private final String code\n\n    Color(String code) {\n        this.code = code;\n    }\n\n    @Override\n    String toString() {\n        return code\n    }\n}\n\ndef color = { color, txt -&gt;\n    def RESET_COLOR = \"\\033[0m\"\n    return \"${color}${txt}${RESET_COLOR}\"\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>\ntest {\n    println color(Color.CYAN, 'testing')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8320537,"reputation":31,"user_id":6252409,"display_name":"Satish M"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1587469615,"creation_date":1587469615,"answer_id":61342798,"question_id":5762491,"body_markdown":"To strikeout:\r\n\r\n    public static final String ANSI_STRIKEOUT_BLACK = &quot;\\u001B[30;9m&quot;;\r\n    public static final String ANSI_STRIKEOUT_RED = &quot;\\u001B[31;9m&quot;;\r\n    public static final String ANSI_STRIKEOUT_GREEN = &quot;\\u001B[32;9m&quot;;\r\n    public static final String ANSI_STRIKEOUT_YELLOW = &quot;\\u001B[33;9m&quot;;\r\n    public static final String ANSI_STRIKEOUT_BLUE = &quot;\\u001B[34;9m&quot;;\r\n    public static final String ANSI_STRIKEOUT_PURPLE = &quot;\\u001B[35;9m&quot;;\r\n    public static final String ANSI_STRIKEOUT_CYAN = &quot;\\u001B[36;9m&quot;;\r\n    public static final String ANSI_STRIKEOUT_WHITE = &quot;\\u001B[37;9m&quot;;\r\n","title":"How to print color in console using System.out.println?","body":"<p>To strikeout:</p>\n\n<pre><code>public static final String ANSI_STRIKEOUT_BLACK = \"\\u001B[30;9m\";\npublic static final String ANSI_STRIKEOUT_RED = \"\\u001B[31;9m\";\npublic static final String ANSI_STRIKEOUT_GREEN = \"\\u001B[32;9m\";\npublic static final String ANSI_STRIKEOUT_YELLOW = \"\\u001B[33;9m\";\npublic static final String ANSI_STRIKEOUT_BLUE = \"\\u001B[34;9m\";\npublic static final String ANSI_STRIKEOUT_PURPLE = \"\\u001B[35;9m\";\npublic static final String ANSI_STRIKEOUT_CYAN = \"\\u001B[36;9m\";\npublic static final String ANSI_STRIKEOUT_WHITE = \"\\u001B[37;9m\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4028316,"reputation":169,"user_id":3423146,"display_name":"Alexander Stohr"},"score":2,"creation_date":1610719770,"post_id":63429495,"comment_id":116228237,"body_markdown":"this might need UTF or similar support.\nyou are only providing the final results, not the things the coder needs to do for that.\nthe answer might break the box of what the question spanned up.","body":"this might need UTF or similar support. you are only providing the final results, not the things the coder needs to do for that. the answer might break the box of what the question spanned up."},{"owner":{"account_id":343693,"reputation":2716,"user_id":675577,"accept_rate":83,"display_name":"dialex"},"score":0,"creation_date":1634118359,"post_id":63429495,"comment_id":122938059,"body_markdown":"Downvoted, for the reasons mentioned by Alexander","body":"Downvoted, for the reasons mentioned by Alexander"},{"owner":{"account_id":7388972,"reputation":101203,"user_id":5623035,"display_name":"Mojtaba Hosseini"},"score":0,"creation_date":1634119014,"post_id":63429495,"comment_id":122938317,"body_markdown":"Added instructions for how to use emojis in different operating systems. @dialex","body":"Added instructions for how to use emojis in different operating systems. @dialex"},{"owner":{"account_id":7388972,"reputation":101203,"user_id":5623035,"display_name":"Mojtaba Hosseini"},"score":0,"creation_date":1634119103,"post_id":63429495,"comment_id":122938355,"body_markdown":"@AlexanderStohr I have added some more instructions. please tell me if you find any issues or better than that if you find solutions to complete the  answer for the community &#128591;","body":"@AlexanderStohr I have added some more instructions. please tell me if you find any issues or better than that if you find solutions to complete the  answer for the community 🙏"}],"tags":[],"owner":{"account_id":7388972,"reputation":101203,"user_id":5623035,"display_name":"Mojtaba Hosseini"},"comment_count":4,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1634118957,"creation_date":1597515945,"answer_id":63429495,"question_id":5762491,"body_markdown":"# Emoji\r\nYou can use colors for text as others mentioned in their answers.\r\n\r\nBut you can use **emojis** instead! for example you can use You can use `⚠️` for warning messages and `&#128721;` for error messages.\r\n\r\nOr simply use these note books as a color:\r\n\r\n    &#128213;: error message\r\n    &#128217;: warning message\r\n    &#128215;: ok status message\r\n    &#128216;: action message\r\n    &#128211;: canceled status message\r\n    &#128212;: Or anything you like and want to recognize immediately by color\r\n\r\n\r\n### &#127873; Bonus:\r\nThis method also helps you to quickly scan and find logs **directly in the source code**.\r\n\r\n&lt;sub&gt;But Linux and Windows CMD default emoji fonts are not colorful by default and you may want to make them colorful, first.&lt;/sub&gt;\r\n\r\n---\r\n### How to open emoji panel?\r\n\r\n[**mac os**:](https://support.apple.com/guide/mac-help/use-emoji-and-symbols-on-mac-mchlp1560/mac) &lt;kbd&gt;control&lt;/kbd&gt; + &lt;kbd&gt;command&lt;/kbd&gt; + &lt;kbd&gt;space&lt;/kbd&gt; \r\n\r\n[**windows**:](https://support.microsoft.com/en-us/windows/windows-10-keyboard-tips-and-tricks-588e0b72-0fff-6d3f-aeee-6e5116097942) &lt;kbd&gt;win&lt;/kbd&gt; + &lt;kbd&gt;.&lt;/kbd&gt;\r\n\r\n[**linux**:](https://www.omgubuntu.co.uk/2018/06/use-emoji-linux-ubuntu-apps) &lt;kbd&gt;control&lt;/kbd&gt; + &lt;kbd&gt;.&lt;/kbd&gt; or  &lt;kbd&gt;control&lt;/kbd&gt; + &lt;kbd&gt;;&lt;/kbd&gt;","title":"How to print color in console using System.out.println?","body":"<h1>Emoji</h1>\n<p>You can use colors for text as others mentioned in their answers.</p>\n<p>But you can use <strong>emojis</strong> instead! for example you can use You can use <code>⚠️</code> for warning messages and <code>🛑</code> for error messages.</p>\n<p>Or simply use these note books as a color:</p>\n<pre><code>📕: error message\n📙: warning message\n📗: ok status message\n📘: action message\n📓: canceled status message\n📔: Or anything you like and want to recognize immediately by color\n</code></pre>\n<h3>🎁 Bonus:</h3>\n<p>This method also helps you to quickly scan and find logs <strong>directly in the source code</strong>.</p>\n<p><sub>But Linux and Windows CMD default emoji fonts are not colorful by default and you may want to make them colorful, first.</sub></p>\n<hr />\n<h3>How to open emoji panel?</h3>\n<p><a href=\"https://support.apple.com/guide/mac-help/use-emoji-and-symbols-on-mac-mchlp1560/mac\" rel=\"noreferrer\"><strong>mac os</strong>:</a> <kbd>control</kbd> + <kbd>command</kbd> + <kbd>space</kbd></p>\n<p><a href=\"https://support.microsoft.com/en-us/windows/windows-10-keyboard-tips-and-tricks-588e0b72-0fff-6d3f-aeee-6e5116097942\" rel=\"noreferrer\"><strong>windows</strong>:</a> <kbd>win</kbd> + <kbd>.</kbd></p>\n<p><a href=\"https://www.omgubuntu.co.uk/2018/06/use-emoji-linux-ubuntu-apps\" rel=\"noreferrer\"><strong>linux</strong>:</a> <kbd>control</kbd> + <kbd>.</kbd> or  <kbd>control</kbd> + <kbd>;</kbd></p>\n"},{"tags":[],"owner":{"account_id":6101863,"reputation":221,"user_id":4760639,"display_name":"Islam Khaled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644599078,"creation_date":1644598469,"answer_id":71083745,"question_id":5762491,"body_markdown":"This kotlin code worked for me\r\n\r\n```kotlin\r\n\r\nimport java.io.PrintStream\r\n\r\nsealed class BackgroundColor(val value: Int) {\r\n    object Default : BackgroundColor(0)\r\n\r\n    // normal colors\r\n    object Black : BackgroundColor(40)\r\n    object Red : BackgroundColor(41)\r\n    object Green : BackgroundColor(42)\r\n    object Yellow : BackgroundColor(43)\r\n    object Blue : BackgroundColor(44)\r\n    object Magenta : BackgroundColor(45)\r\n    object Cyan : BackgroundColor(46)\r\n    object White : BackgroundColor(47)\r\n\r\n    // colors with high contrast\r\n    object BlackBright : BackgroundColor(100)\r\n    object RedBright : BackgroundColor(101)\r\n    object GreenBright : BackgroundColor(102)\r\n    object YellowBright : BackgroundColor(103)\r\n    object BlueBright : BackgroundColor(104)\r\n    object MagentaBright : BackgroundColor(105)\r\n    object CyanBright : BackgroundColor(106)\r\n    object WhiteBright : BackgroundColor(107)\r\n}\r\n\r\nsealed class TextColor(val value: Int) {\r\n    object Default : TextColor(0)\r\n\r\n    // normal colors\r\n    object Black : TextColor(30)\r\n    object Red : TextColor(31)\r\n    object Green : TextColor(32)\r\n    object Yellow : TextColor(33)\r\n    object Blue : TextColor(34)\r\n    object Magenta : TextColor(35)\r\n    object Cyan : TextColor(36)\r\n    object White : TextColor(37)\r\n\r\n    // colors with high contrast\r\n    object BlackBright : TextColor(90)\r\n    object RedBright : TextColor(91)\r\n    object GreenBright : TextColor(92)\r\n    object YellowBright : TextColor(93)\r\n    object BlueBright : TextColor(94)\r\n    object MagentaBright : TextColor(95)\r\n    object CyanBright : TextColor(96)\r\n    object WhiteBright : TextColor(97)\r\n}\r\n\r\nfun styleOutput(\r\n    backgroundColor: BackgroundColor = BackgroundColor.Default,\r\n    textColor: TextColor = TextColor.Default,\r\n    boldText : Boolean = false,\r\n    italicText : Boolean = false,\r\n    underLineText : Boolean = false,\r\n    action : PrintStream.() -&gt; Unit\r\n) {\r\n    val styleFormat = StringBuilder(&quot;${27.toChar()}[${backgroundColor.value};${textColor.value}&quot;)\r\n\r\n   if (boldText)\r\n       styleFormat.append(&quot;;1&quot;)\r\n\r\n    if (italicText)\r\n        styleFormat.append(&quot;;3&quot;)\r\n\r\n    if (underLineText)\r\n        styleFormat.append(&quot;;4&quot;)\r\n\r\n    styleFormat.append(&quot;m&quot;)\r\n\r\n    print(styleFormat)\r\n    System.out.action()\r\n    print(&quot;${27.toChar()}[0m&quot;)\r\n}\r\n```\r\n\r\nand to use it \r\n```kotlin\r\nprint(&quot;text without styling&quot;)\r\nstyleOutput(backgroundColor = BackgroundColor.Blue, textColor = TextColor.GreenBright, boldText = true) {\r\n    print(&quot;text with styling&quot;)\r\n}\r\nprint(&quot;text without styling&quot;)\r\n```","title":"How to print color in console using System.out.println?","body":"<p>This kotlin code worked for me</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nimport java.io.PrintStream\n\nsealed class BackgroundColor(val value: Int) {\n    object Default : BackgroundColor(0)\n\n    // normal colors\n    object Black : BackgroundColor(40)\n    object Red : BackgroundColor(41)\n    object Green : BackgroundColor(42)\n    object Yellow : BackgroundColor(43)\n    object Blue : BackgroundColor(44)\n    object Magenta : BackgroundColor(45)\n    object Cyan : BackgroundColor(46)\n    object White : BackgroundColor(47)\n\n    // colors with high contrast\n    object BlackBright : BackgroundColor(100)\n    object RedBright : BackgroundColor(101)\n    object GreenBright : BackgroundColor(102)\n    object YellowBright : BackgroundColor(103)\n    object BlueBright : BackgroundColor(104)\n    object MagentaBright : BackgroundColor(105)\n    object CyanBright : BackgroundColor(106)\n    object WhiteBright : BackgroundColor(107)\n}\n\nsealed class TextColor(val value: Int) {\n    object Default : TextColor(0)\n\n    // normal colors\n    object Black : TextColor(30)\n    object Red : TextColor(31)\n    object Green : TextColor(32)\n    object Yellow : TextColor(33)\n    object Blue : TextColor(34)\n    object Magenta : TextColor(35)\n    object Cyan : TextColor(36)\n    object White : TextColor(37)\n\n    // colors with high contrast\n    object BlackBright : TextColor(90)\n    object RedBright : TextColor(91)\n    object GreenBright : TextColor(92)\n    object YellowBright : TextColor(93)\n    object BlueBright : TextColor(94)\n    object MagentaBright : TextColor(95)\n    object CyanBright : TextColor(96)\n    object WhiteBright : TextColor(97)\n}\n\nfun styleOutput(\n    backgroundColor: BackgroundColor = BackgroundColor.Default,\n    textColor: TextColor = TextColor.Default,\n    boldText : Boolean = false,\n    italicText : Boolean = false,\n    underLineText : Boolean = false,\n    action : PrintStream.() -&gt; Unit\n) {\n    val styleFormat = StringBuilder(&quot;${27.toChar()}[${backgroundColor.value};${textColor.value}&quot;)\n\n   if (boldText)\n       styleFormat.append(&quot;;1&quot;)\n\n    if (italicText)\n        styleFormat.append(&quot;;3&quot;)\n\n    if (underLineText)\n        styleFormat.append(&quot;;4&quot;)\n\n    styleFormat.append(&quot;m&quot;)\n\n    print(styleFormat)\n    System.out.action()\n    print(&quot;${27.toChar()}[0m&quot;)\n}\n</code></pre>\n<p>and to use it</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>print(&quot;text without styling&quot;)\nstyleOutput(backgroundColor = BackgroundColor.Blue, textColor = TextColor.GreenBright, boldText = true) {\n    print(&quot;text with styling&quot;)\n}\nprint(&quot;text without styling&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15209179,"reputation":16,"user_id":10974572,"display_name":"Jorge Berjano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649144407,"creation_date":1649144407,"answer_id":71747919,"question_id":5762491,"body_markdown":"You can use JAnsi dependency to change color in both Linux and Windows.\r\nIt&#39;s prints UTF-8 characters in the right way.\r\nhttps://github.com/fusesource/jansi","title":"How to print color in console using System.out.println?","body":"<p>You can use JAnsi dependency to change color in both Linux and Windows.\nIt's prints UTF-8 characters in the right way.\n<a href=\"https://github.com/fusesource/jansi\" rel=\"nofollow noreferrer\">https://github.com/fusesource/jansi</a></p>\n"},{"tags":[],"owner":{"account_id":27849611,"reputation":16,"user_id":21264381,"display_name":"Michael_123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699523041,"creation_date":1699523041,"answer_id":77452043,"question_id":5762491,"body_markdown":"Good to konw, e.g. I use Eclipse and the `\\u033`-Prefix-Code does not work. Just use `\\u001B` or `\\u001b` to make it work. \r\n\r\nThis was shown in the first post but then people switch to &quot;033&quot; without a comment about that their solution ist an alterative way.\r\nBut thank all af you who posted - that will help! \r\n\r\nMaybe it is useful for you :)","title":"How to print color in console using System.out.println?","body":"<p>Good to konw, e.g. I use Eclipse and the <code>\\u033</code>-Prefix-Code does not work. Just use <code>\\u001B</code> or <code>\\u001b</code> to make it work.</p>\n<p>This was shown in the first post but then people switch to &quot;033&quot; without a comment about that their solution ist an alterative way.\nBut thank all af you who posted - that will help!</p>\n<p>Maybe it is useful for you :)</p>\n"}],"owner":{"account_id":372412,"reputation":4785,"user_id":721443,"display_name":"Taranath Datta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627682,"favorite_count":0,"down_vote_count":0,"up_vote_count":477,"answer_count":16,"score":477,"last_activity_date":1699523041,"creation_date":1303537973,"question_id":5762491,"body_markdown":"How can I print color in console? I want to show data in colors when the processor sends data and in different colors when it receives data.","title":"How to print color in console using System.out.println?","body":"<p>How can I print color in console? I want to show data in colors when the processor sends data and in different colors when it receives data.</p>\n"},{"tags":["java","java-8","java-ee-6"],"owner":{"account_id":29862642,"reputation":1,"user_id":22885983,"display_name":"xeqer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699523021,"creation_date":1699522985,"question_id":77452034,"body_markdown":"I would like to to validate @QueryParams parameter in method before it would parse to Boolean type (in case when value is not true/false it should throw an error instead of parse to false).\r\n\r\n\r\n```\r\nSomething like that -&gt; \r\npublic Response restMethod(\r\n@CustomValidation @QueryParam(&quot;param&quot;) Boolean myParam)```\r\n\r\n\r\nI have problem to deal with this. Tried something like \r\n`@Target(\r\n\t{\r\n\t\tElementType.TYPE,\r\n\t\tElementType.METHOD,\r\n\t\tElementType.FIELD,\r\n\t\tElementType.PARAMETER\r\n\t}\r\n)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Constraint(\r\n\tvalidatedBy = {\r\n\t\tBooleanValidator.class\r\n\t}\r\n)\r\npublic @interface IsValidBooleanValue {\r\n\t\r\n\tString message() default &quot;xxxxxxxxxxx&quot;;\r\n\r\n\tClass&lt;?&gt;[] groups() default {};\r\n\r\n\tClass&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n`\r\n`public class BooleanValidator implements ConstraintValidator&lt;IsValidBooleanValue, String&gt; {\r\n\r\n\t@Override\r\n\tpublic void initialize(IsValidBooleanValue constraintAnnotation) {}\r\n\r\n\t@Override\r\n\tpublic boolean isValid(\r\n\t\tString value,\r\n\t\tConstraintValidatorContext context\r\n\t) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\n\r\nBut it ends with error (because validation is done on Boolean type after parsing String retrieved from url)\r\n\r\nIs there a good way to implement this?\r\n","title":"Validation @QueryParam variable before conversion into boolean type","body":"<p>I would like to to validate @QueryParams parameter in method before it would parse to Boolean type (in case when value is not true/false it should throw an error instead of parse to false).</p>\n<pre><code>Something like that -&gt; \npublic Response restMethod(\n@CustomValidation @QueryParam(&quot;param&quot;) Boolean myParam)```\n\n\nI have problem to deal with this. Tried something like \n`@Target(\n    {\n        ElementType.TYPE,\n        ElementType.METHOD,\n        ElementType.FIELD,\n        ElementType.PARAMETER\n    }\n)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(\n    validatedBy = {\n        BooleanValidator.class\n    }\n)\npublic @interface IsValidBooleanValue {\n    \n    String message() default &quot;xxxxxxxxxxx&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n`\n`public class BooleanValidator implements ConstraintValidator&lt;IsValidBooleanValue, String&gt; {\n\n    @Override\n    public void initialize(IsValidBooleanValue constraintAnnotation) {}\n\n    @Override\n    public boolean isValid(\n        String value,\n        ConstraintValidatorContext context\n    ) {\n        return true;\n    }\n}\n</code></pre>\n<p>But it ends with error (because validation is done on Boolean type after parsing String retrieved from url)</p>\n<p>Is there a good way to implement this?</p>\n"},{"tags":["java","generics","abstract-class"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1699522749,"post_id":77451980,"comment_id":136543580,"body_markdown":"Please provide the exact compiler error, not your summary of the error. In any case your code provides no `Blade` class, which accounts for one problem, second `Conveyor` is not correctly generified (you&#39;re specifying two classes `P` and `R`, which don&#39;t exist, instead of two type parameters). You need to use `public class Conveyor&lt;P, R&gt; extends Machine&lt;P, R&gt;`, this accounts for two problems, and then because `Propeller` can&#39;t be compiled, you have the fourth problem.","body":"Please provide the exact compiler error, not your summary of the error. In any case your code provides no <code>Blade</code> class, which accounts for one problem, second <code>Conveyor</code> is not correctly generified (you&#39;re specifying two classes <code>P</code> and <code>R</code>, which don&#39;t exist, instead of two type parameters). You need to use <code>public class Conveyor&lt;P, R&gt; extends Machine&lt;P, R&gt;</code>, this accounts for two problems, and then because <code>Propeller</code> can&#39;t be compiled, you have the fourth problem."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1699522813,"post_id":77451980,"comment_id":136543590,"body_markdown":"Also: what do you think `class Conveyor extends Machine&lt;P, R&gt;` means? Should this be a generic conveyor? Then you need `class Conveyor&lt;P, R&gt; extends Machine&lt;P, R&gt;`.","body":"Also: what do you think <code>class Conveyor extends Machine&lt;P, R&gt;</code> means? Should this be a generic conveyor? Then you need <code>class Conveyor&lt;P, R&gt; extends Machine&lt;P, R&gt;</code>."},{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":0,"creation_date":1699527136,"post_id":77451980,"comment_id":136544479,"body_markdown":"I think you should clarify what Conveyor and Propeller need to do. You also need to complete a crash course on generics to understand what/how are the parameterized types used.","body":"I think you should clarify what Conveyor and Propeller need to do. You also need to complete a crash course on generics to understand what/how are the parameterized types used."}],"answers":[{"comments":[{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":0,"creation_date":1699522982,"post_id":77452008,"comment_id":136543625,"body_markdown":"Another option is to make the Conveyor class extend Machine, with no generic types.","body":"Another option is to make the Conveyor class extend Machine, with no generic types."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1699523238,"post_id":77452008,"comment_id":136543689,"body_markdown":"@SilviuBurcea that would mean using `Machine` as a raw type, which is not a good idea. And it will force you to change the return type of the `findRessources()` implementation to `Object`.","body":"@SilviuBurcea that would mean using <code>Machine</code> as a raw type, which is not a good idea. And it will force you to change the return type of the <code>findRessources()</code> implementation to <code>Object</code>."},{"owner":{"account_id":14482001,"reputation":11,"user_id":10460995,"display_name":"Michi Sch"},"score":0,"creation_date":1699524077,"post_id":77452008,"comment_id":136543861,"body_markdown":"So the right way for the Propeller class would be:\n`public class Propeller&lt;Blade, Propeller&gt; extends Machine&lt;P,R&gt;`\nright?","body":"So the right way for the Propeller class would be: <code>public class Propeller&lt;Blade, Propeller&gt; extends Machine&lt;P,R&gt;</code> right?"},{"owner":{"account_id":14482001,"reputation":11,"user_id":10460995,"display_name":"Michi Sch"},"score":0,"creation_date":1699526273,"post_id":77452008,"comment_id":136544312,"body_markdown":"The problem in the first subclass is now done. But in the second it always says `public class Propeller&lt;Blade, Propeller&gt; extends Machine&lt;P,R&gt;` that P and R can not be resolved..","body":"The problem in the first subclass is now done. But in the second it always says <code>public class Propeller&lt;Blade, Propeller&gt; extends Machine&lt;P,R&gt;</code> that P and R can not be resolved.."},{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":0,"creation_date":1699526970,"post_id":77452008,"comment_id":136544439,"body_markdown":"@MichiSch you need to tell the compiler who P and R are. You probably want `class Propeller extends Machine&lt;Blade, Propeller&gt;`","body":"@MichiSch you need to tell the compiler who P and R are. You probably want <code>class Propeller extends Machine&lt;Blade, Propeller&gt;</code>"},{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":0,"creation_date":1699527016,"post_id":77452008,"comment_id":136544453,"body_markdown":"@Eran I am well aware of that, it is still an option, even though it&#39;s not good to go with raw types.","body":"@Eran I am well aware of that, it is still an option, even though it&#39;s not good to go with raw types."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699528414,"post_id":77452008,"comment_id":136544724,"body_markdown":"@MichiSch The declaration `class Propeller extends Machine&lt;Blade, Propeller&gt;` makes no sense to me. The second type parameter is used by the superclass to define a list of them. But why should a propeller have a list of propellers? Since this starting point makes no sense, the other comments, taking this idea literally, are not helpful at all. You should first consider what you want to achieve. What is the *meaning* of `P` and `R` in the superclass?","body":"@MichiSch The declaration <code>class Propeller extends Machine&lt;Blade, Propeller&gt;</code> makes no sense to me. The second type parameter is used by the superclass to define a list of them. But why should a propeller have a list of propellers? Since this starting point makes no sense, the other comments, taking this idea literally, are not helpful at all. You should first consider what you want to achieve. What is the <i>meaning</i> of <code>P</code> and <code>R</code> in the superclass?"},{"owner":{"account_id":14482001,"reputation":11,"user_id":10460995,"display_name":"Michi Sch"},"score":0,"creation_date":1699532733,"post_id":77452008,"comment_id":136545468,"body_markdown":"@Holger sorry for the misunderstanding. P stands for Product and R for result. In the Propeller class i want to create 1 Propeller made out of 2 blades. In the superclass its just a placeholder to implement other Machines for example. \n\nMaybe another example: a next subclass would be Turbine with the parameter &lt;Chamber, Turbine&gt; so that a turbine will be made out of 4 chambers. \n\nTo make it more clear: This implementation is not usual. It was just an task in the last programming exam.","body":"@Holger sorry for the misunderstanding. P stands for Product and R for result. In the Propeller class i want to create 1 Propeller made out of 2 blades. In the superclass its just a placeholder to implement other Machines for example.   Maybe another example: a next subclass would be Turbine with the parameter &lt;Chamber, Turbine&gt; so that a turbine will be made out of 4 chambers.   To make it more clear: This implementation is not usual. It was just an task in the last programming exam."},{"owner":{"account_id":14482001,"reputation":11,"user_id":10460995,"display_name":"Michi Sch"},"score":0,"creation_date":1699533601,"post_id":77452008,"comment_id":136545635,"body_markdown":"`public class Propeller&lt;Blade, Prop&gt; extends Machine&lt;Blade, Prop&gt;`\n\n\nWith this implementation it&#39;s working. This makes no sense to me..","body":"<code>public class Propeller&lt;Blade, Prop&gt; extends Machine&lt;Blade, Prop&gt;</code>   With this implementation it&#39;s working. This makes no sense to me.."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699534586,"post_id":77452008,"comment_id":136545823,"body_markdown":"@MichiSch The type parameters are not “just a placeholder”, as there would be no sense in declaring them if they were not used. As said, the superclass clearly maintains a `List&lt;R&gt;` where `R` is the second type parameter. If that’s the list of components, the machine is made of, the reasonable subclasses would be `Turbine extends Machine&lt;…, Chamber&gt;` and `Propeller extends Machine&lt;…, Blade&gt;`, declaring the components as their second type parameter. The purpose of the first type parameter and `findRessources()` is unclear. Of course, you must create a class named `Blade` before you can use it.","body":"@MichiSch The type parameters are not “just a placeholder”, as there would be no sense in declaring them if they were not used. As said, the superclass clearly maintains a <code>List&lt;R&gt;</code> where <code>R</code> is the second type parameter. If that’s the list of components, the machine is made of, the reasonable subclasses would be <code>Turbine extends Machine&lt;…, Chamber&gt;</code> and <code>Propeller extends Machine&lt;…, Blade&gt;</code>, declaring the components as their second type parameter. The purpose of the first type parameter and <code>findRessources()</code> is unclear. Of course, you must create a class named <code>Blade</code> before you can use it."},{"owner":{"account_id":14482001,"reputation":11,"user_id":10460995,"display_name":"Michi Sch"},"score":0,"creation_date":1699537906,"post_id":77452008,"comment_id":136546545,"body_markdown":"@Holger ok got you. Maybe the class Name `findRessources()` is unclear. With it i want to check, if there is enough material available. A better name would be `enoughRessourcesAvailable()` which checks if there are 4 chambers available to construct an turbine. If i only add 3 chambers to the List R, the class `enoughRessourcesAvailable()` would return false, because there are 4 pieces needed.","body":"@Holger ok got you. Maybe the class Name <code>findRessources()</code> is unclear. With it i want to check, if there is enough material available. A better name would be <code>enoughRessourcesAvailable()</code> which checks if there are 4 chambers available to construct an turbine. If i only add 3 chambers to the List R, the class <code>enoughRessourcesAvailable()</code> would return false, because there are 4 pieces needed."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699538732,"post_id":77452008,"comment_id":136546727,"body_markdown":"@MichiSch how can this method return `false` when its return type is `P`? Why do you even have two type parameters, then? Your original question created the impression that the abstract base class was given by the exam and your task was to create the subclasses.","body":"@MichiSch how can this method return <code>false</code> when its return type is <code>P</code>? Why do you even have two type parameters, then? Your original question created the impression that the abstract base class was given by the exam and your task was to create the subclasses."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":12,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699522743,"creation_date":1699522743,"answer_id":77452008,"question_id":77451980,"body_markdown":"If you want `Conveyor` to be a generic class too, it should be declared with generic type parameters:\r\n\r\n    public class Conveyor&lt;P, R&gt; extends Machine&lt;P, R&gt;\r\n\r\nIf you want `Propeller` to extend `Machine&lt;Blade, Propeller&gt;`, where `Blade` and `Propeller` are actual class names (i.e. they are not generic type parameters), you must define these classes.","title":"Java Abstract Classes with two Generics","body":"<p>If you want <code>Conveyor</code> to be a generic class too, it should be declared with generic type parameters:</p>\n<pre><code>public class Conveyor&lt;P, R&gt; extends Machine&lt;P, R&gt;\n</code></pre>\n<p>If you want <code>Propeller</code> to extend <code>Machine&lt;Blade, Propeller&gt;</code>, where <code>Blade</code> and <code>Propeller</code> are actual class names (i.e. they are not generic type parameters), you must define these classes.</p>\n"}],"owner":{"account_id":14482001,"reputation":11,"user_id":10460995,"display_name":"Michi Sch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699522770,"creation_date":1699522468,"question_id":77451980,"body_markdown":"I have a question regarding Java abstract classes with generic data types. In the last exam we needed to implement a abstract class with two generic data types like this:\r\n\r\n```\r\npublic abstract class Machine&lt;P, R&gt; {\r\n\r\n    public List&lt;R&gt; list = new ArrayList&lt;&gt;();\r\n    public abstract P findRessources();\r\n}\r\n```\r\n\r\nin the first subclass we had to implement conveyor class like this:\r\n\r\n```\r\npublic class Conveyor extends Machine&lt;P, R&gt;{\r\n\r\n    @Override\r\n    public P findRessources() {\r\n        return null;\r\n    }\r\n```\r\n\r\nand in the second subclass we had to implement a Propeller class, which turns two blades into a propeller:\r\n\r\n```\r\npublic class Propeller extends Machine&lt;Blade, Propeller&gt;{\r\n    @Override\r\n    public Blade findRessources() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI get an error in the subclasses, that P, R, Blade and Propeller can&#39;t be resolved.  I searched already on the web, how to implement an abstract class with two generic data types, but there was no satisfying solution for my case. \r\n\r\n","title":"Java Abstract Classes with two Generics","body":"<p>I have a question regarding Java abstract classes with generic data types. In the last exam we needed to implement a abstract class with two generic data types like this:</p>\n<pre><code>public abstract class Machine&lt;P, R&gt; {\n\n    public List&lt;R&gt; list = new ArrayList&lt;&gt;();\n    public abstract P findRessources();\n}\n</code></pre>\n<p>in the first subclass we had to implement conveyor class like this:</p>\n<pre><code>public class Conveyor extends Machine&lt;P, R&gt;{\n\n    @Override\n    public P findRessources() {\n        return null;\n    }\n</code></pre>\n<p>and in the second subclass we had to implement a Propeller class, which turns two blades into a propeller:</p>\n<pre><code>public class Propeller extends Machine&lt;Blade, Propeller&gt;{\n    @Override\n    public Blade findRessources() {\n        return null;\n    }\n}\n</code></pre>\n<p>I get an error in the subclasses, that P, R, Blade and Propeller can't be resolved.  I searched already on the web, how to implement an abstract class with two generic data types, but there was no satisfying solution for my case.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":3,"creation_date":1699488763,"post_id":77449571,"comment_id":136539855,"body_markdown":"`.formLogin().loginPage(&quot;/login&quot;)` will allow anyone to get to your login page, but it won&#39;t allow post requests to `/login`, if that&#39;s what you&#39;re trying to accomplish.  If you&#39;re following a tutorial on Spring Boot, I&#39;d also recommend that you find one that&#39;s written for the latest version; most of what you have here has been deprecated for quite a while.","body":"<code>.formLogin().loginPage(&quot;&#47;login&quot;)</code> will allow anyone to get to your login page, but it won&#39;t allow post requests to <code>&#47;login</code>, if that&#39;s what you&#39;re trying to accomplish.  If you&#39;re following a tutorial on Spring Boot, I&#39;d also recommend that you find one that&#39;s written for the latest version; most of what you have here has been deprecated for quite a while."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1699522942,"post_id":77449571,"comment_id":136543614,"body_markdown":"Remove `newLogin` method, Spring Security is doing it. Remove `.loginPage(&quot;/login&quot;)`. It is the default. You only need it, if you want to customize your login page. You can&#39;t call `/register` without a CSRF token. Do your register page submit a CSRF token?","body":"Remove <code>newLogin</code> method, Spring Security is doing it. Remove <code>.loginPage(&quot;&#47;login&quot;)</code>. It is the default. You only need it, if you want to customize your login page. You can&#39;t call <code>&#47;register</code> without a CSRF token. Do your register page submit a CSRF token?"},{"owner":{"account_id":20923138,"reputation":33,"user_id":15371234,"display_name":"Marco"},"score":0,"creation_date":1699540183,"post_id":77449571,"comment_id":136547039,"body_markdown":"Removing .formLogin().loginPage(&quot;/login&quot;) is not solving the problem. And yeah, it does generate a CSRF-token.","body":"Removing .formLogin().loginPage(&quot;/login&quot;) is not solving the problem. And yeah, it does generate a CSRF-token."}],"answers":[{"comments":[{"owner":{"account_id":20923138,"reputation":33,"user_id":15371234,"display_name":"Marco"},"score":0,"creation_date":1699565945,"post_id":77450133,"comment_id":136551904,"body_markdown":"tried both but not working :/","body":"tried both but not working :/"}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699497237,"creation_date":1699497237,"answer_id":77450133,"question_id":77449571,"body_markdown":"You can disable csrf\r\n\r\n     http.csrf().disable()\r\n\r\nOr ignore register path\r\n\r\n     http.csrf().ignoringAntMatchers(&quot;/register&quot;,&quot;/login&quot;)\r\n","title":"Why it is always redirecting to /login page?","body":"<p>You can disable csrf</p>\n<pre><code> http.csrf().disable()\n</code></pre>\n<p>Or ignore register path</p>\n<pre><code> http.csrf().ignoringAntMatchers(&quot;/register&quot;,&quot;/login&quot;)\n</code></pre>\n"}],"owner":{"account_id":20923138,"reputation":33,"user_id":15371234,"display_name":"Marco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699522620,"creation_date":1699486121,"question_id":77449571,"body_markdown":"I&#180;m learning Spring Boot and having some issues. `http://localhost:8080/login` is the default page of my application but I noticed that when I change to `http://localhost:8080/` or `http://localhost:8080/register`, I always get directed to `/login`.\r\n\r\nI already tried solving this problem with a security configuration:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserDetailsService userDetailsService;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public SecurityConfig(UserDetailsService userDetailsService, PasswordEncoder passwordEncoder) {\r\n        this.userDetailsService = userDetailsService;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/register&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n            .logout()\r\n                .permitAll();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return passwordEncoder;\r\n    }\r\n}\r\n```\r\n\r\nMy Controller looks like this:\r\n\r\n```java\r\npackage Login;\r\n\r\nimport org.apache.catalina.User;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\n\r\n@RestController\r\npublic class LoginController {\r\n    private final LoginRepository loginRepository;\r\n    private final PasswordEncoder passwordEncoder; // PasswordEncoder zur Passwortverschl&#252;sselung\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(LoginController.class);\r\n\r\n    public LoginController(LoginRepository loginRepository, PasswordEncoder passwordEncoder) {\r\n        this.loginRepository = loginRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;String&gt; registerUser(@RequestBody UserLogin user){\r\n        logger.debug(&quot;Received registration request for user: {}&quot;, user.getUsername());\r\n        UserLogin existingUser = loginRepository.findByUsername(user.getUsername());\r\n\r\n        if(existingUser != null){\r\n            return ResponseEntity.badRequest().body(&quot;Benutzername existiert bereits!&quot;);\r\n        }\r\n        else{\r\n            String encryptedPW = passwordEncoder.encode(user.getPassword());\r\n            user.setPassword(encryptedPW);\r\n            loginRepository.save(user);\r\n            return ResponseEntity.ok(&quot;Benutzer wurde erfolgreich erstellt!&quot;);\r\n        }\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; newLogin(@RequestParam String username, @RequestParam String password) {\r\n        UserLogin user = loginRepository.findByUsername(username);\r\n\r\n        if (user != null &amp;&amp; passwordEncoder.matches(password, user.getPassword())) {\r\n            return ResponseEntity.ok(&quot;Du bist eingeloggt!&quot;);\r\n        } else {\r\n            return ResponseEntity.badRequest().body(&quot;Ung&#252;ltige Anmeldeinformationen&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have also created HTML files with Thymeleaf, where I used `POST` method and right direction.  What is causing this problem?\r\n\r\nThe log reports say: \r\n\r\nFor `/register` and `/login`:\r\n\r\nThere has been a failed authorization attempt for the request to `/register` and `/login`.\r\n\r\nThe `FilterSecurityInterceptor` reports that the authorization has failed, indicating that the request came from an unauthenticated user.\r\nSubsequently, the `LoginUrlAuthenticationEntryPoint` is executed, redirecting the request to the login page `/login`.\r\n\r\nFor `/favicon.ico`:\r\n\r\nSimilar to `/register` and `/login`, a failed authorization attempt is reported here as well.\r\n\r\nThe `LoginUrlAuthenticationEntryPoint` redirects the request back to the login page `/login`.","title":"Why it is always redirecting to /login page?","body":"<p>I´m learning Spring Boot and having some issues. <code>http://localhost:8080/login</code> is the default page of my application but I noticed that when I change to <code>http://localhost:8080/</code> or <code>http://localhost:8080/register</code>, I always get directed to <code>/login</code>.</p>\n<p>I already tried solving this problem with a security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService userDetailsService;\n    private final PasswordEncoder passwordEncoder;\n\n    public SecurityConfig(UserDetailsService userDetailsService, PasswordEncoder passwordEncoder) {\n        this.userDetailsService = userDetailsService;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/register&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .permitAll()\n                .and()\n            .logout()\n                .permitAll();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return userDetailsService;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return passwordEncoder;\n    }\n}\n</code></pre>\n<p>My Controller looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Login;\n\nimport org.apache.catalina.User;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\n\n@RestController\npublic class LoginController {\n    private final LoginRepository loginRepository;\n    private final PasswordEncoder passwordEncoder; // PasswordEncoder zur Passwortverschlüsselung\n\n    private static final Logger logger = LoggerFactory.getLogger(LoginController.class);\n\n    public LoginController(LoginRepository loginRepository, PasswordEncoder passwordEncoder) {\n        this.loginRepository = loginRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;String&gt; registerUser(@RequestBody UserLogin user){\n        logger.debug(&quot;Received registration request for user: {}&quot;, user.getUsername());\n        UserLogin existingUser = loginRepository.findByUsername(user.getUsername());\n\n        if(existingUser != null){\n            return ResponseEntity.badRequest().body(&quot;Benutzername existiert bereits!&quot;);\n        }\n        else{\n            String encryptedPW = passwordEncoder.encode(user.getPassword());\n            user.setPassword(encryptedPW);\n            loginRepository.save(user);\n            return ResponseEntity.ok(&quot;Benutzer wurde erfolgreich erstellt!&quot;);\n        }\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; newLogin(@RequestParam String username, @RequestParam String password) {\n        UserLogin user = loginRepository.findByUsername(username);\n\n        if (user != null &amp;&amp; passwordEncoder.matches(password, user.getPassword())) {\n            return ResponseEntity.ok(&quot;Du bist eingeloggt!&quot;);\n        } else {\n            return ResponseEntity.badRequest().body(&quot;Ungültige Anmeldeinformationen&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I have also created HTML files with Thymeleaf, where I used <code>POST</code> method and right direction.  What is causing this problem?</p>\n<p>The log reports say:</p>\n<p>For <code>/register</code> and <code>/login</code>:</p>\n<p>There has been a failed authorization attempt for the request to <code>/register</code> and <code>/login</code>.</p>\n<p>The <code>FilterSecurityInterceptor</code> reports that the authorization has failed, indicating that the request came from an unauthenticated user.\nSubsequently, the <code>LoginUrlAuthenticationEntryPoint</code> is executed, redirecting the request to the login page <code>/login</code>.</p>\n<p>For <code>/favicon.ico</code>:</p>\n<p>Similar to <code>/register</code> and <code>/login</code>, a failed authorization attempt is reported here as well.</p>\n<p>The <code>LoginUrlAuthenticationEntryPoint</code> redirects the request back to the login page <code>/login</code>.</p>\n"},{"tags":["java","sql-server","spring-boot","hibernate","locking"],"owner":{"account_id":3250127,"reputation":25,"user_id":2740683,"display_name":"user2740683"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699522575,"creation_date":1699514748,"question_id":77451216,"body_markdown":"I am getting a `org.springframework.dao.CannotAcquireLockException`. Below method is being called in a loop more than 70 times and it contains lots of database calls which includes read, insert, update and delete in one transaction. I get this error whenever it gets inside the `deleteSnapshotIfExist` method. Any leads will be appreciated.\r\n\r\n\r\n```java\r\n@Transactional(isolation = Isolation.READ_COMMITTED, rollbackFor = Exception.class)\r\n    public void saveForecastAdjustments(ForecastingAdjustmentType forecastingAdjustmentType,\r\n        String userId, FamilyTreeType familyTreeType, ImpactType impactType,\r\n        DepartmentDivisionWeekKey departmentDivisionWeekKey,\r\n        WeeklyForecastAdjustment weeklyForecastAdjustment,\r\n        TopLineForecastDao snapShotTopLineForecast)\r\n        throws InterruptedException\r\n    {\r\n        log.info(&quot;Before fetching forecastingAdjustmentKey &quot;);\r\n        ForecastingAdjustmentKey forecastingAdjustmentKey = forecastingAdjustmentKeyRepositoryWrapper\r\n            .findOrSave(forecastingAdjustmentType, impactType, departmentDivisionWeekKey,\r\n                familyTreeType);\r\n        log.info(&quot;forecastingAdjustmentKey key id and departmentDivisionTimePeriod {}, {} : &quot;,\r\n            forecastingAdjustmentKey.getId(), forecastingAdjustmentKey\r\n                .getDepartmentDivisionTimePeriod().getDeptDivisionTimePeriodId());\r\n        TopLineForecastDao topLineForecastDao = toplineForecastService\r\n            .getTopLineForecastDao(departmentDivisionWeekKey);\r\n\r\n        if (!ObjectUtils.isEmpty(snapShotTopLineForecast))\r\n        {\r\n            deleteSnapshotIfExist(snapShotTopLineForecast);\r\n        }\r\n\r\n        List&lt;ForecastingAdjustmentDao&gt; forecastingAdjustmentDaos = archiveAndAdd(\r\n            forecastingAdjustmentKey, weeklyForecastAdjustment, userId, topLineForecastDao);\r\n        log.info(&quot;forecastingAdjustmentDao size which include archived record and new record {}&quot;,\r\n            forecastingAdjustmentDaos.size());\r\n        forecastingAdjustmentRepository.saveAll(forecastingAdjustmentDaos);\r\n        // recalculate topline forecast using latest adjustment rate and save it regardless if\r\n        // topline forecast already exist or not\r\n        recomputeAndSaveToplineForcastService.saveRecalculatedToplineForecast(userId,\r\n            departmentDivisionWeekKey, topLineForecastDao);\r\n        log.info(\r\n            &quot;Resaved forecast for Department {}, Division {}, Year {}, Period {} , Week {} while updating adjustment &quot;,\r\n            departmentDivisionWeekKey.getDepartmentCode(),\r\n            departmentDivisionWeekKey.getDivisionId(), departmentDivisionWeekKey.getFiscalYear(),\r\n            departmentDivisionWeekKey.getPeriodNumber(), departmentDivisionWeekKey.getWeek());\r\n    }\r\n\r\nprivate void deleteSnapshotIfExist(TopLineForecastDao findSnapshotTopLineForecast)\r\n    {\r\n        if (findSnapshotTopLineForecast != null)\r\n        {\r\n            deleteAdjustmentsByToplineForecastId(findSnapshotTopLineForecast);\r\n            forecastBreakDownService\r\n                .deleteForecastBucketByToplineForecastId(findSnapshotTopLineForecast);\r\n            impactService.deleteImpactsByToplineForecastId(findSnapshotTopLineForecast);\r\n            toplineForecastService.deleteToplineForecastById(findSnapshotTopLineForecast);\r\n        }\r\n    }\r\n```\r\n\r\nStacktrace:\r\n```\r\nException org.springframework.dao.CannotAcquireLockException could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement\r\n  at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:289)\r\n  at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\r\n  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\r\n  at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n  at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n  at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n  at com.sun.proxy.$Proxy326.deleteByTopLineForecatId(Unknown Source)\r\n  at com.kroger.ngpp.service.ForecastBreakDownService.deleteForecastBucketByToplineForecastId(ForecastBreakDownService.java:129)\r\n  at com.kroger.ngpp.service.ForecastBreakDownService$$FastClassBySpringCGLIB$$92170da8.invoke(&lt;generated&gt;)\r\n  at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n  at com.kroger.ngpp.config.AspectLogConfig.executionTime(AspectLogConfig.java:27)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n  at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n  at com.kroger.ngpp.service.ForecastBreakDownService$$EnhancerBySpringCGLIB$$cf1ee3a7.deleteForecastBucketByToplineForecastId(&lt;generated&gt;)\r\n  at com.kroger.ngpp.service.ForecastingAdjustmentService.deleteSnapshotIfExist(ForecastingAdjustmentService.java:162)\r\n  at com.kroger.ngpp.service.ForecastingAdjustmentService.saveForecastAdjustments(ForecastingAdjustmentService.java:135)\r\n  at com.kroger.ngpp.service.ForecastingAdjustmentService$$FastClassBySpringCGLIB$$57c86b1a.invoke(&lt;generated&gt;)\r\n  at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n  at com.kroger.ngpp.config.AspectLogConfig.executionTime(AspectLogConfig.java:27)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n  at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n  at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n  at com.kroger.ngpp.service.ForecastingAdjustmentService$$EnhancerBySpringCGLIB$$bd431e88.saveForecastAdjustments(&lt;generated&gt;)\r\n  at com.kroger.ngpp.service.ForecastingAdjustmentService.lambda$updateForecastingAdjustment$2(ForecastingAdjustmentService.java:94)\r\n  at java.base/java.util.HashMap.forEach(Unknown Source)\r\n  at com.kroger.ngpp.service.ForecastingAdjustmentService.updateForecastingAdjustment(ForecastingAdjustmentService.java:93)\r\n  at com.kroger.ngpp.service.ForecastingAdjustmentService$$FastClassBySpringCGLIB$$57c86b1a.invoke(&lt;generated&gt;)\r\n  at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n  at com.kroger.ngpp.config.AspectLogConfig.executionTime(AspectLogConfig.java:27)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n  at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n  at com.kroger.ngpp.service.ForecastingAdjustmentService$$EnhancerBySpringCGLIB$$bd431e88.updateForecastingAdjustment(&lt;generated&gt;)\r\n  at com.kroger.ngpp.bff.controller.AdjustmentController.upsertForecastAdjustmentsWithMultipleDivisions(AdjustmentController.java:115)\r\n  at com.kroger.ngpp.bff.controller.AdjustmentController$$FastClassBySpringCGLIB$$2f03b7af.invoke(&lt;generated&gt;)\r\n  at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n  at com.kroger.ngpp.config.AspectLogConfig.executionTime(AspectLogConfig.java:27)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n  at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n  at com.kroger.ngpp.bff.controller.AdjustmentController$$EnhancerBySpringCGLIB$$eb5fde1c.upsertForecastAdjustmentsWithMultipleDivisions(&lt;generated&gt;)\r\n  at jdk.internal.reflect.GeneratedMethodAccessor579.invoke(Unknown Source)\r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n  at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n  at  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at brave.servlet.TracingFilter.doFilter(TracingFilter.java:68)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at com.kroger.commons.gelf.GelfLoggingFilter.doFilter(GelfLoggingFilter.java:57)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(ShallowEtagHeaderFilter.java:106)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(ShallowEtagHeaderFilter.java:106)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at com.kroger.ngpp.util.LogRequestFilter.doFilterInternal(LogRequestFilter.java:48)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n  at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n  at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\r\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n  at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n  at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n  at \r\nCaused by org.hibernate.exception.LockAcquisitionException could not execute statement\r\n  at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:120)\r\n  at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n  at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n  com.kroger.ngpp.service.ForecastBreakDownService.deleteForecastBucketByToplineForecastId(ForecastBreakDownService.java:129)\r\n  at \r\n```\r\nI started getting this error after adding deleteSnapshotIfExist method which is doing the delete in 4 different table. How should I delete so that I will not get CannotAcquireLockException Exception. I tried putting deleteSnapshotIfExist in Synchronized block but it gets timed out 504 error","title":"Springboot: CannotAcquireLockException could not execute statement MSSQL","body":"<p>I am getting a <code>org.springframework.dao.CannotAcquireLockException</code>. Below method is being called in a loop more than 70 times and it contains lots of database calls which includes read, insert, update and delete in one transaction. I get this error whenever it gets inside the <code>deleteSnapshotIfExist</code> method. Any leads will be appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(isolation = Isolation.READ_COMMITTED, rollbackFor = Exception.class)\n    public void saveForecastAdjustments(ForecastingAdjustmentType forecastingAdjustmentType,\n        String userId, FamilyTreeType familyTreeType, ImpactType impactType,\n        DepartmentDivisionWeekKey departmentDivisionWeekKey,\n        WeeklyForecastAdjustment weeklyForecastAdjustment,\n        TopLineForecastDao snapShotTopLineForecast)\n        throws InterruptedException\n    {\n        log.info(&quot;Before fetching forecastingAdjustmentKey &quot;);\n        ForecastingAdjustmentKey forecastingAdjustmentKey = forecastingAdjustmentKeyRepositoryWrapper\n            .findOrSave(forecastingAdjustmentType, impactType, departmentDivisionWeekKey,\n                familyTreeType);\n        log.info(&quot;forecastingAdjustmentKey key id and departmentDivisionTimePeriod {}, {} : &quot;,\n            forecastingAdjustmentKey.getId(), forecastingAdjustmentKey\n                .getDepartmentDivisionTimePeriod().getDeptDivisionTimePeriodId());\n        TopLineForecastDao topLineForecastDao = toplineForecastService\n            .getTopLineForecastDao(departmentDivisionWeekKey);\n\n        if (!ObjectUtils.isEmpty(snapShotTopLineForecast))\n        {\n            deleteSnapshotIfExist(snapShotTopLineForecast);\n        }\n\n        List&lt;ForecastingAdjustmentDao&gt; forecastingAdjustmentDaos = archiveAndAdd(\n            forecastingAdjustmentKey, weeklyForecastAdjustment, userId, topLineForecastDao);\n        log.info(&quot;forecastingAdjustmentDao size which include archived record and new record {}&quot;,\n            forecastingAdjustmentDaos.size());\n        forecastingAdjustmentRepository.saveAll(forecastingAdjustmentDaos);\n        // recalculate topline forecast using latest adjustment rate and save it regardless if\n        // topline forecast already exist or not\n        recomputeAndSaveToplineForcastService.saveRecalculatedToplineForecast(userId,\n            departmentDivisionWeekKey, topLineForecastDao);\n        log.info(\n            &quot;Resaved forecast for Department {}, Division {}, Year {}, Period {} , Week {} while updating adjustment &quot;,\n            departmentDivisionWeekKey.getDepartmentCode(),\n            departmentDivisionWeekKey.getDivisionId(), departmentDivisionWeekKey.getFiscalYear(),\n            departmentDivisionWeekKey.getPeriodNumber(), departmentDivisionWeekKey.getWeek());\n    }\n\nprivate void deleteSnapshotIfExist(TopLineForecastDao findSnapshotTopLineForecast)\n    {\n        if (findSnapshotTopLineForecast != null)\n        {\n            deleteAdjustmentsByToplineForecastId(findSnapshotTopLineForecast);\n            forecastBreakDownService\n                .deleteForecastBucketByToplineForecastId(findSnapshotTopLineForecast);\n            impactService.deleteImpactsByToplineForecastId(findSnapshotTopLineForecast);\n            toplineForecastService.deleteToplineForecastById(findSnapshotTopLineForecast);\n        }\n    }\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>Exception org.springframework.dao.CannotAcquireLockException could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: could not execute statement\n  at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:289)\n  at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:255)\n  at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:528)\n  at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n  at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n  at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:149)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n  at com.sun.proxy.$Proxy326.deleteByTopLineForecatId(Unknown Source)\n  at com.kroger.ngpp.service.ForecastBreakDownService.deleteForecastBucketByToplineForecastId(ForecastBreakDownService.java:129)\n  at com.kroger.ngpp.service.ForecastBreakDownService$$FastClassBySpringCGLIB$$92170da8.invoke(&lt;generated&gt;)\n  at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n  at com.kroger.ngpp.config.AspectLogConfig.executionTime(AspectLogConfig.java:27)\n  at jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n  at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n  at com.kroger.ngpp.service.ForecastBreakDownService$$EnhancerBySpringCGLIB$$cf1ee3a7.deleteForecastBucketByToplineForecastId(&lt;generated&gt;)\n  at com.kroger.ngpp.service.ForecastingAdjustmentService.deleteSnapshotIfExist(ForecastingAdjustmentService.java:162)\n  at com.kroger.ngpp.service.ForecastingAdjustmentService.saveForecastAdjustments(ForecastingAdjustmentService.java:135)\n  at com.kroger.ngpp.service.ForecastingAdjustmentService$$FastClassBySpringCGLIB$$57c86b1a.invoke(&lt;generated&gt;)\n  at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n  at com.kroger.ngpp.config.AspectLogConfig.executionTime(AspectLogConfig.java:27)\n  at jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n  at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\n  at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n  at com.kroger.ngpp.service.ForecastingAdjustmentService$$EnhancerBySpringCGLIB$$bd431e88.saveForecastAdjustments(&lt;generated&gt;)\n  at com.kroger.ngpp.service.ForecastingAdjustmentService.lambda$updateForecastingAdjustment$2(ForecastingAdjustmentService.java:94)\n  at java.base/java.util.HashMap.forEach(Unknown Source)\n  at com.kroger.ngpp.service.ForecastingAdjustmentService.updateForecastingAdjustment(ForecastingAdjustmentService.java:93)\n  at com.kroger.ngpp.service.ForecastingAdjustmentService$$FastClassBySpringCGLIB$$57c86b1a.invoke(&lt;generated&gt;)\n  at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n  at com.kroger.ngpp.config.AspectLogConfig.executionTime(AspectLogConfig.java:27)\n  at jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n  at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n  at com.kroger.ngpp.service.ForecastingAdjustmentService$$EnhancerBySpringCGLIB$$bd431e88.updateForecastingAdjustment(&lt;generated&gt;)\n  at com.kroger.ngpp.bff.controller.AdjustmentController.upsertForecastAdjustmentsWithMultipleDivisions(AdjustmentController.java:115)\n  at com.kroger.ngpp.bff.controller.AdjustmentController$$FastClassBySpringCGLIB$$2f03b7af.invoke(&lt;generated&gt;)\n  at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:119)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\n  at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n  at com.kroger.ngpp.config.AspectLogConfig.executionTime(AspectLogConfig.java:27)\n  at jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n  at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n  at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n  at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n  at com.kroger.ngpp.bff.controller.AdjustmentController$$EnhancerBySpringCGLIB$$eb5fde1c.upsertForecastAdjustmentsWithMultipleDivisions(&lt;generated&gt;)\n  at jdk.internal.reflect.GeneratedMethodAccessor579.invoke(Unknown Source)\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n  at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n  at  org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at brave.servlet.TracingFilter.doFilter(TracingFilter.java:68)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at com.kroger.commons.gelf.GelfLoggingFilter.doFilter(GelfLoggingFilter.java:57)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(ShallowEtagHeaderFilter.java:106)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(ShallowEtagHeaderFilter.java:106)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at com.kroger.ngpp.util.LogRequestFilter.doFilterInternal(LogRequestFilter.java:48)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n  at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n  at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:92)\n  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n  at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n  at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n  at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n  at \nCaused by org.hibernate.exception.LockAcquisitionException could not execute statement\n  at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:120)\n  at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n  at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n  com.kroger.ngpp.service.ForecastBreakDownService.deleteForecastBucketByToplineForecastId(ForecastBreakDownService.java:129)\n  at \n</code></pre>\n<p>I started getting this error after adding deleteSnapshotIfExist method which is doing the delete in 4 different table. How should I delete so that I will not get CannotAcquireLockException Exception. I tried putting deleteSnapshotIfExist in Synchronized block but it gets timed out 504 error</p>\n"},{"tags":["java","spring-boot","reactivemongo","mongodb-replica-set"],"owner":{"account_id":15647984,"reputation":11,"user_id":11289832,"display_name":"drprolegend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699520971,"creation_date":1699520971,"question_id":77451817,"body_markdown":"I&#39;m facing an issue with my MongoDB setup on Kubernetes in a replica set configuration. I have 2 pods and an arbiter, and my Java SpringBoot application is interacting with MongoDB using Reactive Mongo Repository. The connection URL I&#39;m using is:\r\n\r\nmongodb://{{mongoURL}}/?directConnection=true&amp;serverSelectionTimeoutMS=2000&amp;readPreference=primary\r\n\r\nHowever, I keep getting a MongoNotPrimaryException with the error message: &quot;Command failed with error 10107 (NotWritablePrimary): &#39;not primary&#39;.&quot;\r\n\r\nI&#39;d like to understand and resolve this problem. Any guidance or suggestions would be greatly appreciated. Thank you!\r\n\r\nWhat I&#39;ve Tried:\r\nI&#39;ve already attempted to diagnose and address this issue. Here&#39;s what I&#39;ve tried and the results:\r\n\r\nChecked MongoDB Configuration: I&#39;ve verified the MongoDB configuration for the replica set and the arbiter. Everything seems to be correctly set up in the Kubernetes cluster.\r\n\r\nApplication Code: I&#39;ve examined my Java SpringBoot application&#39;s code that interacts with MongoDB using Reactive Mongo Repository.\r\n\r\nActual Results:\r\nDespite these checks, I continue to encounter the MongoNotPrimaryException with the &quot;not primary&quot; error message when my application tries to write to MongoDB. It&#39;s unexpected as I&#39;m pointing to the primary in the connection string.\r\n\r\nAny insights or suggestions on how to resolve this issue would be greatly appreciated. Thank you!\r\n\r\nThese are logs in the mongo pod\r\n\r\n```\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.481+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22943,   &quot;ctx&quot;:&quot;listener&quot;,&quot;msg&quot;:&quot;Connection accepted&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54236&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;87592666-c1a1-4d21-9f2d-9e992d8ad268&quot;}},&quot;connectionId&quot;:40918,&quot;connectionCount&quot;:32}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.481+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22943,   &quot;ctx&quot;:&quot;listener&quot;,&quot;msg&quot;:&quot;Connection accepted&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54244&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;795de4a0-3d8b-4688-a046-e6e64330752f&quot;}},&quot;connectionId&quot;:40919,&quot;connectionCount&quot;:33}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.482+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:51800,   &quot;ctx&quot;:&quot;conn40918&quot;,&quot;msg&quot;:&quot;client metadata&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54236&quot;,&quot;client&quot;:&quot;conn40918&quot;,&quot;doc&quot;:{&quot;application&quot;:{&quot;name&quot;:&quot;mongosh 1.10.6&quot;},&quot;driver&quot;:{&quot;name&quot;:&quot;nodejs|mongosh&quot;,&quot;version&quot;:&quot;5.7.0|1.10.6&quot;},&quot;platform&quot;:&quot;Node.js v16.20.2, LE&quot;,&quot;os&quot;:{&quot;name&quot;:&quot;linux&quot;,&quot;architecture&quot;:&quot;x64&quot;,&quot;version&quot;:&quot;5.15.0-1041-azure&quot;,&quot;type&quot;:&quot;Linux&quot;}}}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.482+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:51800,   &quot;ctx&quot;:&quot;conn40919&quot;,&quot;msg&quot;:&quot;client metadata&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54244&quot;,&quot;client&quot;:&quot;conn40919&quot;,&quot;doc&quot;:{&quot;application&quot;:{&quot;name&quot;:&quot;mongosh 1.10.6&quot;},&quot;driver&quot;:{&quot;name&quot;:&quot;nodejs|mongosh&quot;,&quot;version&quot;:&quot;5.7.0|1.10.6&quot;},&quot;platform&quot;:&quot;Node.js v16.20.2, LE&quot;,&quot;os&quot;:{&quot;name&quot;:&quot;linux&quot;,&quot;architecture&quot;:&quot;x64&quot;,&quot;version&quot;:&quot;5.15.0-1041-azure&quot;,&quot;type&quot;:&quot;Linux&quot;}}}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.485+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:6788700, &quot;ctx&quot;:&quot;conn40918&quot;,&quot;msg&quot;:&quot;Received first command on ingress connection since session start or auth handshake&quot;,&quot;attr&quot;:{&quot;elapsedMillis&quot;:3}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.485+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22943,   &quot;ctx&quot;:&quot;listener&quot;,&quot;msg&quot;:&quot;Connection accepted&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54252&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;f1419771-32a0-4760-9e68-6736d27f7a71&quot;}},&quot;connectionId&quot;:40920,&quot;connectionCount&quot;:34}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.489+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:51800,   &quot;ctx&quot;:&quot;conn40920&quot;,&quot;msg&quot;:&quot;client metadata&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54252&quot;,&quot;client&quot;:&quot;conn40920&quot;,&quot;doc&quot;:{&quot;application&quot;:{&quot;name&quot;:&quot;mongosh 1.10.6&quot;},&quot;driver&quot;:{&quot;name&quot;:&quot;nodejs|mongosh&quot;,&quot;version&quot;:&quot;5.7.0|1.10.6&quot;},&quot;platform&quot;:&quot;Node.js v16.20.2, LE&quot;,&quot;os&quot;:{&quot;name&quot;:&quot;linux&quot;,&quot;architecture&quot;:&quot;x64&quot;,&quot;version&quot;:&quot;5.15.0-1041-azure&quot;,&quot;type&quot;:&quot;Linux&quot;}}}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.499+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:6788700, &quot;ctx&quot;:&quot;conn40920&quot;,&quot;msg&quot;:&quot;Received first command on ingress connection since session start or auth handshake&quot;,&quot;attr&quot;:{&quot;elapsedMillis&quot;:10}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;-&quot;,        &quot;id&quot;:20883,   &quot;ctx&quot;:&quot;conn40917&quot;,&quot;msg&quot;:&quot;Interrupted operation as its client disconnected&quot;,&quot;attr&quot;:{&quot;opId&quot;:1375581}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn40920&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54252&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;f1419771-32a0-4760-9e68-6736d27f7a71&quot;}},&quot;connectionId&quot;:40920,&quot;connectionCount&quot;:33}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn40918&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54236&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;87592666-c1a1-4d21-9f2d-9e992d8ad268&quot;}},&quot;connectionId&quot;:40918,&quot;connectionCount&quot;:32}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn40919&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54244&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;795de4a0-3d8b-4688-a046-e6e64330752f&quot;}},&quot;connectionId&quot;:40919,&quot;connectionCount&quot;:31}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn40917&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54232&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;a571fb30-30ec-4a87-83e8-0b0ed0817385&quot;}},&quot;connectionId&quot;:40917,&quot;connectionCount&quot;:30}}\r\n```\r\n","title":"MongoNotPrimaryException: Command failed with error 10107 (NotWritablePrimary): &#39;not primary&#39; - MongoDB Replica Set - Reactive Mongo Repository","body":"<p>I'm facing an issue with my MongoDB setup on Kubernetes in a replica set configuration. I have 2 pods and an arbiter, and my Java SpringBoot application is interacting with MongoDB using Reactive Mongo Repository. The connection URL I'm using is:</p>\n<p>mongodb://{{mongoURL}}/?directConnection=true&amp;serverSelectionTimeoutMS=2000&amp;readPreference=primary</p>\n<p>However, I keep getting a MongoNotPrimaryException with the error message: &quot;Command failed with error 10107 (NotWritablePrimary): 'not primary'.&quot;</p>\n<p>I'd like to understand and resolve this problem. Any guidance or suggestions would be greatly appreciated. Thank you!</p>\n<p>What I've Tried:\nI've already attempted to diagnose and address this issue. Here's what I've tried and the results:</p>\n<p>Checked MongoDB Configuration: I've verified the MongoDB configuration for the replica set and the arbiter. Everything seems to be correctly set up in the Kubernetes cluster.</p>\n<p>Application Code: I've examined my Java SpringBoot application's code that interacts with MongoDB using Reactive Mongo Repository.</p>\n<p>Actual Results:\nDespite these checks, I continue to encounter the MongoNotPrimaryException with the &quot;not primary&quot; error message when my application tries to write to MongoDB. It's unexpected as I'm pointing to the primary in the connection string.</p>\n<p>Any insights or suggestions on how to resolve this issue would be greatly appreciated. Thank you!</p>\n<p>These are logs in the mongo pod</p>\n<pre><code>{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.481+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22943,   &quot;ctx&quot;:&quot;listener&quot;,&quot;msg&quot;:&quot;Connection accepted&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54236&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;87592666-c1a1-4d21-9f2d-9e992d8ad268&quot;}},&quot;connectionId&quot;:40918,&quot;connectionCount&quot;:32}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.481+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22943,   &quot;ctx&quot;:&quot;listener&quot;,&quot;msg&quot;:&quot;Connection accepted&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54244&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;795de4a0-3d8b-4688-a046-e6e64330752f&quot;}},&quot;connectionId&quot;:40919,&quot;connectionCount&quot;:33}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.482+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:51800,   &quot;ctx&quot;:&quot;conn40918&quot;,&quot;msg&quot;:&quot;client metadata&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54236&quot;,&quot;client&quot;:&quot;conn40918&quot;,&quot;doc&quot;:{&quot;application&quot;:{&quot;name&quot;:&quot;mongosh 1.10.6&quot;},&quot;driver&quot;:{&quot;name&quot;:&quot;nodejs|mongosh&quot;,&quot;version&quot;:&quot;5.7.0|1.10.6&quot;},&quot;platform&quot;:&quot;Node.js v16.20.2, LE&quot;,&quot;os&quot;:{&quot;name&quot;:&quot;linux&quot;,&quot;architecture&quot;:&quot;x64&quot;,&quot;version&quot;:&quot;5.15.0-1041-azure&quot;,&quot;type&quot;:&quot;Linux&quot;}}}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.482+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:51800,   &quot;ctx&quot;:&quot;conn40919&quot;,&quot;msg&quot;:&quot;client metadata&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54244&quot;,&quot;client&quot;:&quot;conn40919&quot;,&quot;doc&quot;:{&quot;application&quot;:{&quot;name&quot;:&quot;mongosh 1.10.6&quot;},&quot;driver&quot;:{&quot;name&quot;:&quot;nodejs|mongosh&quot;,&quot;version&quot;:&quot;5.7.0|1.10.6&quot;},&quot;platform&quot;:&quot;Node.js v16.20.2, LE&quot;,&quot;os&quot;:{&quot;name&quot;:&quot;linux&quot;,&quot;architecture&quot;:&quot;x64&quot;,&quot;version&quot;:&quot;5.15.0-1041-azure&quot;,&quot;type&quot;:&quot;Linux&quot;}}}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.485+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:6788700, &quot;ctx&quot;:&quot;conn40918&quot;,&quot;msg&quot;:&quot;Received first command on ingress connection since session start or auth handshake&quot;,&quot;attr&quot;:{&quot;elapsedMillis&quot;:3}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.485+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22943,   &quot;ctx&quot;:&quot;listener&quot;,&quot;msg&quot;:&quot;Connection accepted&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54252&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;f1419771-32a0-4760-9e68-6736d27f7a71&quot;}},&quot;connectionId&quot;:40920,&quot;connectionCount&quot;:34}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.489+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:51800,   &quot;ctx&quot;:&quot;conn40920&quot;,&quot;msg&quot;:&quot;client metadata&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54252&quot;,&quot;client&quot;:&quot;conn40920&quot;,&quot;doc&quot;:{&quot;application&quot;:{&quot;name&quot;:&quot;mongosh 1.10.6&quot;},&quot;driver&quot;:{&quot;name&quot;:&quot;nodejs|mongosh&quot;,&quot;version&quot;:&quot;5.7.0|1.10.6&quot;},&quot;platform&quot;:&quot;Node.js v16.20.2, LE&quot;,&quot;os&quot;:{&quot;name&quot;:&quot;linux&quot;,&quot;architecture&quot;:&quot;x64&quot;,&quot;version&quot;:&quot;5.15.0-1041-azure&quot;,&quot;type&quot;:&quot;Linux&quot;}}}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:48.499+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:6788700, &quot;ctx&quot;:&quot;conn40920&quot;,&quot;msg&quot;:&quot;Received first command on ingress connection since session start or auth handshake&quot;,&quot;attr&quot;:{&quot;elapsedMillis&quot;:10}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;-&quot;,        &quot;id&quot;:20883,   &quot;ctx&quot;:&quot;conn40917&quot;,&quot;msg&quot;:&quot;Interrupted operation as its client disconnected&quot;,&quot;attr&quot;:{&quot;opId&quot;:1375581}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn40920&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54252&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;f1419771-32a0-4760-9e68-6736d27f7a71&quot;}},&quot;connectionId&quot;:40920,&quot;connectionCount&quot;:33}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn40918&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54236&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;87592666-c1a1-4d21-9f2d-9e992d8ad268&quot;}},&quot;connectionId&quot;:40918,&quot;connectionCount&quot;:32}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn40919&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54244&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;795de4a0-3d8b-4688-a046-e6e64330752f&quot;}},&quot;connectionId&quot;:40919,&quot;connectionCount&quot;:31}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2023-11-09T09:05:49.503+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn40917&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;127.0.0.1:54232&quot;,&quot;uuid&quot;:{&quot;uuid&quot;:{&quot;$uuid&quot;:&quot;a571fb30-30ec-4a87-83e8-0b0ed0817385&quot;}},&quot;connectionId&quot;:40917,&quot;connectionCount&quot;:30}}\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","spring-resttemplate","apache-httpclient-5.x"],"owner":{"account_id":23977999,"reputation":73,"user_id":17965846,"display_name":"wuttke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699520760,"creation_date":1699520760,"question_id":77451788,"body_markdown":"I need to create a pool of connectors using **apache.httpcomponents.client5:httpclient5:5.2.1*** and SpringBoot(ver 3.1.5) RestTemplate.\r\n\r\nThis code works correctly:\r\n\r\n    private static RestTemplate pooledRestTemplate() {\r\n            PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n            connectionManager.setMaxTotal(2000);\r\n            connectionManager.setDefaultMaxPerRoute(2000);\r\n        \r\n            HttpClient httpClient =\r\n                HttpClientBuilder.create().setConnectionManager(connectionManager).build();\r\n        \r\n            return new RestTemplateBuilder()\r\n                .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\r\n                .setConnectTimeout(Duration.ofMinutes(5))\r\n                .build();\r\n          }\r\n\r\nBut if I add `.setReadTimeout()` to the builder:\r\n\r\n     return new RestTemplateBuilder()\r\n                .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\r\n                .setConnectTimeout(Duration.ofMinutes(5))\r\n                .setReadTimeout(Duration.ofMinutes(5))\r\n                .build();\r\n\r\nWhen the application starts, an error message appears:\r\n\r\n    java.lang.IllegalStateException: Request factory org.springframework.http.client.HttpComponentsClientHttpRequestFactory has the setReadTimeout method marked as deprecated\r\n\r\nI read about this moment when updating the version https://github.com/spring-projects/spring-boot/issues/35658. \r\nBut I didn&#39;t understand how to combine the pool of connectors and RestTemplateBuilder.\r\n\r\n","title":"Pooling RestTemplante setReadTimeout","body":"<p>I need to create a pool of connectors using <strong>apache.httpcomponents.client5:httpclient5:5.2.1</strong>* and SpringBoot(ver 3.1.5) RestTemplate.</p>\n<p>This code works correctly:</p>\n<pre><code>private static RestTemplate pooledRestTemplate() {\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setMaxTotal(2000);\n        connectionManager.setDefaultMaxPerRoute(2000);\n    \n        HttpClient httpClient =\n            HttpClientBuilder.create().setConnectionManager(connectionManager).build();\n    \n        return new RestTemplateBuilder()\n            .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\n            .setConnectTimeout(Duration.ofMinutes(5))\n            .build();\n      }\n</code></pre>\n<p>But if I add <code>.setReadTimeout()</code> to the builder:</p>\n<pre><code> return new RestTemplateBuilder()\n            .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\n            .setConnectTimeout(Duration.ofMinutes(5))\n            .setReadTimeout(Duration.ofMinutes(5))\n            .build();\n</code></pre>\n<p>When the application starts, an error message appears:</p>\n<pre><code>java.lang.IllegalStateException: Request factory org.springframework.http.client.HttpComponentsClientHttpRequestFactory has the setReadTimeout method marked as deprecated\n</code></pre>\n<p>I read about this moment when updating the version <a href=\"https://github.com/spring-projects/spring-boot/issues/35658\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/35658</a>.\nBut I didn't understand how to combine the pool of connectors and RestTemplateBuilder.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-grid","playwright"],"owner":{"account_id":26361460,"reputation":11,"user_id":20017573,"display_name":"Pabitra Kumar Swain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699520567,"creation_date":1663393822,"question_id":73752446,"body_markdown":"**Context:**\r\n- Playwright Version: 1.23.0\r\n- Operating System: Windows\r\n- Browser: Chrome/Edge\r\n- Selenium Server: 4.4.0\r\n\r\n**Code Snippet**\r\n```\r\npublic static void main( String[] args ) throws InterruptedException {\r\n        Map&lt;String,String&gt; env = new HashMap&lt;&gt;();\r\n        env.put(&quot;DEBUG&quot;,&quot;pw:browser*&quot;);\r\n        env.put(&quot;SELENIUM_REMOTE_URL&quot;,&quot;http://192.168.1.103:4444&quot;);\r\n\r\n        Playwright playwright = Playwright.create(new Playwright.CreateOptions().setEnv(env));\r\n        Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setChannel(&quot;chrome&quot;).setHeadless(false));\r\n        Page page = browser.newPage();\r\n        page.navigate(&quot;https://playwright.dev/docs/selenium-grid&quot;);\r\n        Thread.sleep(5000);\r\n        // other actions...\r\n        page.context().browser().close();\r\n        playwright.close();\r\n    }\r\n```\r\n\r\n**Description of the bug**\r\n\r\nI have a Local Selenium 4 Grid setup. Hub and Node both are running on my local system.\r\n\r\n\r\n**When I am trying to execute the playwright script, it launches 2 browsers instead of 1. And 1 of them is just a blank one.**\r\n\r\n\r\nI put, DEBUG=pw:browser* for debugging and below is the log.\r\n```\r\n2022-09-17T05:40:12.196Z pw:browser &lt;selenium&gt; connecting to http://192.168.1.103:4444/\r\n2022-09-17T05:40:16.386Z pw:browser &lt;selenium&gt; connected to sessionId=624ba9e3aa78bdea3f2c987c67574550\r\n2022-09-17T05:40:16.386Z pw:browser &lt;selenium&gt; using selenium v4\r\n2022-09-17T05:40:16.387Z pw:browser &lt;selenium&gt; retrieved endpoint ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp for sessionId=624ba9e3aa78bdea3f2c987c67574550\r\n2022-09-17T05:40:16.392Z pw:browser &lt;ws connecting&gt; ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp\r\n2022-09-17T05:40:16.442Z pw:browser &lt;ws connected&gt; ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp\r\n2022-09-17T05:40:23.829Z pw:browser &lt;ws disconnecting&gt; ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp\r\n2022-09-17T05:40:23.841Z pw:browser &lt;ws disconnected&gt; ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp code=1005 reason=\r\n2022-09-17T05:40:23.893Z pw:browser &lt;selenium&gt; disconnecting from sessionId=624ba9e3aa78bdea3f2c987c67574550\r\n2022-09-17T05:40:24.638Z pw:browser &lt;selenium&gt; disconnected from sessionId=624ba9e3aa78bdea3f2c987c67574550\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"A blank browser is automatically getting launched when Playwright is executed over Selenium Grid","body":"<p><strong>Context:</strong></p>\n<ul>\n<li>Playwright Version: 1.23.0</li>\n<li>Operating System: Windows</li>\n<li>Browser: Chrome/Edge</li>\n<li>Selenium Server: 4.4.0</li>\n</ul>\n<p><strong>Code Snippet</strong></p>\n<pre><code>public static void main( String[] args ) throws InterruptedException {\n        Map&lt;String,String&gt; env = new HashMap&lt;&gt;();\n        env.put(&quot;DEBUG&quot;,&quot;pw:browser*&quot;);\n        env.put(&quot;SELENIUM_REMOTE_URL&quot;,&quot;http://192.168.1.103:4444&quot;);\n\n        Playwright playwright = Playwright.create(new Playwright.CreateOptions().setEnv(env));\n        Browser browser = playwright.chromium().launch(new BrowserType.LaunchOptions().setChannel(&quot;chrome&quot;).setHeadless(false));\n        Page page = browser.newPage();\n        page.navigate(&quot;https://playwright.dev/docs/selenium-grid&quot;);\n        Thread.sleep(5000);\n        // other actions...\n        page.context().browser().close();\n        playwright.close();\n    }\n</code></pre>\n<p><strong>Description of the bug</strong></p>\n<p>I have a Local Selenium 4 Grid setup. Hub and Node both are running on my local system.</p>\n<p><strong>When I am trying to execute the playwright script, it launches 2 browsers instead of 1. And 1 of them is just a blank one.</strong></p>\n<p>I put, DEBUG=pw:browser* for debugging and below is the log.</p>\n<pre><code>2022-09-17T05:40:12.196Z pw:browser &lt;selenium&gt; connecting to http://192.168.1.103:4444/\n2022-09-17T05:40:16.386Z pw:browser &lt;selenium&gt; connected to sessionId=624ba9e3aa78bdea3f2c987c67574550\n2022-09-17T05:40:16.386Z pw:browser &lt;selenium&gt; using selenium v4\n2022-09-17T05:40:16.387Z pw:browser &lt;selenium&gt; retrieved endpoint ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp for sessionId=624ba9e3aa78bdea3f2c987c67574550\n2022-09-17T05:40:16.392Z pw:browser &lt;ws connecting&gt; ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp\n2022-09-17T05:40:16.442Z pw:browser &lt;ws connected&gt; ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp\n2022-09-17T05:40:23.829Z pw:browser &lt;ws disconnecting&gt; ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp\n2022-09-17T05:40:23.841Z pw:browser &lt;ws disconnected&gt; ws://192.168.1.103:4444/session/624ba9e3aa78bdea3f2c987c67574550/se/cdp code=1005 reason=\n2022-09-17T05:40:23.893Z pw:browser &lt;selenium&gt; disconnecting from sessionId=624ba9e3aa78bdea3f2c987c67574550\n2022-09-17T05:40:24.638Z pw:browser &lt;selenium&gt; disconnected from sessionId=624ba9e3aa78bdea3f2c987c67574550\n\n</code></pre>\n"},{"tags":["java","performance","hashmap","intersection"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698682161,"post_id":77363699,"comment_id":136433175,"body_markdown":"Are you really trying to conclude which is faster *from a single test scenario*? Did you notice how large the error values are, compared to the difference between the two results? Did you actually read the text after “REMEMBER:”?","body":"Are you really trying to conclude which is faster <i>from a single test scenario</i>? Did you notice how large the error values are, compared to the difference between the two results? Did you actually read the text after “REMEMBER:”?"}],"answers":[{"comments":[{"owner":{"account_id":29525564,"reputation":13,"user_id":22627272,"display_name":"박효상"},"score":0,"creation_date":1698383784,"post_id":77366985,"comment_id":136400933,"body_markdown":"Thanks alot, my testing dataset made by Random() + unique, and use for loop to insert Big, and if(i%2) insert Small, and then put some more data in Small, and for complexity evenif map is HashMap, maybe my knowledge is bad, contains cost O(n)? calculating hashcode and just takes by index is all thing in HashMap&#39;s contains","body":"Thanks alot, my testing dataset made by Random() + unique, and use for loop to insert Big, and if(i%2) insert Small, and then put some more data in Small, and for complexity evenif map is HashMap, maybe my knowledge is bad, contains cost O(n)? calculating hashcode and just takes by index is all thing in HashMap&#39;s contains"},{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1698398725,"post_id":77366985,"comment_id":136403289,"body_markdown":"you can follow this discussion for more info\nhttps://stackoverflow.com/questions/8923251/what-is-the-time-complexity-of-hashmap-containskey-in-java","body":"you can follow this discussion for more info <a href=\"https://stackoverflow.com/questions/8923251/what-is-the-time-complexity-of-hashmap-containskey-in-java\" title=\"what is the time complexity of hashmap containskey in java\">stackoverflow.com/questions/8923251/&hellip;</a>"},{"owner":{"account_id":29525564,"reputation":13,"user_id":22627272,"display_name":"박효상"},"score":0,"creation_date":1698474561,"post_id":77366985,"comment_id":136412939,"body_markdown":"ahh.. thanks alot, so it means my key is String, might similar with charactor array, so making hashcode with it might takes O(String.length()), right??","body":"ahh.. thanks alot, so it means my key is String, might similar with charactor array, so making hashcode with it might takes O(String.length()), right??"},{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1698483988,"post_id":77366985,"comment_id":136413712,"body_markdown":"i m just doing assumptions. as i said &quot;if the benchmarks are correct&quot; then it means that your &#39;contains&#39; method is slow so you have bad hashcode. The hashcode can be good but if your keys follow some pattern that somehow make them end up at the same bucket, it is the same thing\nbut this is if your benchmarks are ok. it could be some other factor. maybe your machine is doing things on the background and it affects benchmarks. \nSo what i propose is use different keys to see if anything changes and then we revise it","body":"i m just doing assumptions. as i said &quot;if the benchmarks are correct&quot; then it means that your &#39;contains&#39; method is slow so you have bad hashcode. The hashcode can be good but if your keys follow some pattern that somehow make them end up at the same bucket, it is the same thing but this is if your benchmarks are ok. it could be some other factor. maybe your machine is doing things on the background and it affects benchmarks.  So what i propose is use different keys to see if anything changes and then we revise it"}],"tags":[],"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699520547,"creation_date":1698323042,"answer_id":77366985,"question_id":77363699,"body_markdown":"`contains` has complexity O(1) in average, and O(n) in worst case.\r\nEDIT: it is O(logn) in worst case after java 8!\r\n\r\nFor `Big.retainAll(Small)` you do &quot;contains&quot; on a small set and many removes on a big set. For `Small.retainAll(Big)` you do contains on a larger set and almost no removes u said. (and removes are for sure more complex than contains anyway).\r\n\r\nSo, if your benchmarks are correct this could only mean that your contains complexity is closer to O(n) and this is why smallToBig takes more time. Try some different keys, maybe Integer for example to see if the same happens\r\n\r\nEDIT: i just run into some analysis of Java hashcode for String and how you can exploit it to run attacks. this slide came up (source is [princeton algorithms course][1])\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://algs4.cs.princeton.edu/lectures/keynote/34HashTables.pdf\r\n  [2]: https://i.stack.imgur.com/xLiem.png","title":"Java HashMap retainAll time complexity","body":"<p><code>contains</code> has complexity O(1) in average, and O(n) in worst case.\nEDIT: it is O(logn) in worst case after java 8!</p>\n<p>For <code>Big.retainAll(Small)</code> you do &quot;contains&quot; on a small set and many removes on a big set. For <code>Small.retainAll(Big)</code> you do contains on a larger set and almost no removes u said. (and removes are for sure more complex than contains anyway).</p>\n<p>So, if your benchmarks are correct this could only mean that your contains complexity is closer to O(n) and this is why smallToBig takes more time. Try some different keys, maybe Integer for example to see if the same happens</p>\n<p>EDIT: i just run into some analysis of Java hashcode for String and how you can exploit it to run attacks. this slide came up (source is <a href=\"https://algs4.cs.princeton.edu/lectures/keynote/34HashTables.pdf\" rel=\"nofollow noreferrer\">princeton algorithms course</a>)</p>\n<p><a href=\"https://i.stack.imgur.com/xLiem.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xLiem.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29525564,"reputation":13,"user_id":22627272,"display_name":"박효상"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77366985,"answer_count":1,"score":1,"last_activity_date":1699520547,"creation_date":1698285238,"question_id":77363699,"body_markdown":"I tested HashMap retainAll method to test which one is faster with JMH.\r\n\r\nTwo HashMap A, B\r\n\r\n- Size : A \\&gt; B, A : 300\\~400, B : 100\\~200\r\n- Most of B elements is in A, so B - A is like 10\\~20, very small\r\n\r\nTest : get intersecion of two HashMap\r\n\r\n1. A.keySet().retainAll(B.keySet())\r\n\r\n2. B.keySet().retainAll(A.keySet())\r\n\r\n```\r\n//JMH \r\n@State(Scope.Benchmark)\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n@Fork(value = 1, jvmArgs={&quot;-Xms4G&quot;, &quot;-Xmx4G&quot;})\r\n@Warmup(iterations = 5, time = 5)\r\n@Measurement(iterations = 10, time = 5)\r\n\r\nprivate Map&lt;String, MyClass&gt; bigOne, smallOne;\r\n\r\nprivate final int testIteration = 1000;\r\n\r\n@Benchmark\r\npublic void smallToBig(){\r\n    for(int i=0;i&lt;testIteration;i++){\r\n        smallOne.keySet().retainAll(bigOne.keySet());\r\n    }\r\n}\r\n\r\n@Benchmark\r\npublic void bigToSmall(){\r\n    for(int i=0;i&lt;testIteration;i++){\r\n        bigOne.keySet().retainAll(smallOne.keySet());\r\n    }\r\n}\r\n```\r\n\r\nRetainAll method uses contains in AbstractMap, so HashMap contains is O(1). so iterating Map will takes most of performance, means smallOne iteration should be faster.\r\n\r\nI expected the former to be faster, but the actual results were different\r\n\r\n[![Result][1]][1]\r\n\r\nI tried lots of time, but get same result. Could you tell me why the Big.retainAll(Small) is faster?\r\n\r\nThanks for helping.\r\n\r\n  [1]: https://i.stack.imgur.com/BQAkU.png","title":"Java HashMap retainAll time complexity","body":"<p>I tested HashMap retainAll method to test which one is faster with JMH.</p>\n<p>Two HashMap A, B</p>\n<ul>\n<li>Size : A &gt; B, A : 300~400, B : 100~200</li>\n<li>Most of B elements is in A, so B - A is like 10~20, very small</li>\n</ul>\n<p>Test : get intersecion of two HashMap</p>\n<ol>\n<li><p>A.keySet().retainAll(B.keySet())</p>\n</li>\n<li><p>B.keySet().retainAll(A.keySet())</p>\n</li>\n</ol>\n<pre><code>//JMH \n@State(Scope.Benchmark)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\n@Fork(value = 1, jvmArgs={&quot;-Xms4G&quot;, &quot;-Xmx4G&quot;})\n@Warmup(iterations = 5, time = 5)\n@Measurement(iterations = 10, time = 5)\n\nprivate Map&lt;String, MyClass&gt; bigOne, smallOne;\n\nprivate final int testIteration = 1000;\n\n@Benchmark\npublic void smallToBig(){\n    for(int i=0;i&lt;testIteration;i++){\n        smallOne.keySet().retainAll(bigOne.keySet());\n    }\n}\n\n@Benchmark\npublic void bigToSmall(){\n    for(int i=0;i&lt;testIteration;i++){\n        bigOne.keySet().retainAll(smallOne.keySet());\n    }\n}\n</code></pre>\n<p>RetainAll method uses contains in AbstractMap, so HashMap contains is O(1). so iterating Map will takes most of performance, means smallOne iteration should be faster.</p>\n<p>I expected the former to be faster, but the actual results were different</p>\n<p><a href=\"https://i.stack.imgur.com/BQAkU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BQAkU.png\" alt=\"Result\" /></a></p>\n<p>I tried lots of time, but get same result. Could you tell me why the Big.retainAll(Small) is faster?</p>\n<p>Thanks for helping.</p>\n"},{"tags":["java","apache-httpcomponents","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699520531,"creation_date":1699520531,"answer_id":77451761,"question_id":77451655,"body_markdown":"One of the arguments to `HttpRoutePlanner`&#39;s `determineRoute` method is the `HttpContext`. You can use that, especially if you extend `DefaultRoutePlanner` and override its `determineProxy` method, because this is part of the (current) `determineRoute` implementation:\r\n```java\r\nHttpHost proxy = config.getProxy();\r\nif (proxy == null) {\r\n    proxy = determineProxy(host, context);\r\n}\r\n```\r\nFor each request you can now explicitly create an `HttpContext`, set the proxy host as attribute, and then use your custom `DefaultRoutePlanner` sub class to extract that proxy from the `HttpContext`.\r\n\r\nThat does mean you need to explicitly configure the proxy for each request separately though.","title":"How to set proxy for individual requests in Apache HttpClient 5?","body":"<p>One of the arguments to <code>HttpRoutePlanner</code>'s <code>determineRoute</code> method is the <code>HttpContext</code>. You can use that, especially if you extend <code>DefaultRoutePlanner</code> and override its <code>determineProxy</code> method, because this is part of the (current) <code>determineRoute</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpHost proxy = config.getProxy();\nif (proxy == null) {\n    proxy = determineProxy(host, context);\n}\n</code></pre>\n<p>For each request you can now explicitly create an <code>HttpContext</code>, set the proxy host as attribute, and then use your custom <code>DefaultRoutePlanner</code> sub class to extract that proxy from the <code>HttpContext</code>.</p>\n<p>That does mean you need to explicitly configure the proxy for each request separately though.</p>\n"}],"owner":{"account_id":126517,"reputation":700,"user_id":323069,"accept_rate":0,"display_name":"&#211;scar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77451761,"answer_count":1,"score":2,"last_activity_date":1699520531,"creation_date":1699519607,"question_id":77451655,"body_markdown":"I would like to configure an HTTP proxy for some individual requests and not for others, using **Apache HttpClient 5**.  However it looks like `RequestConfig.Builder.setProxy()` is [deprecated][1].  The javadoc suggests using `HttpRoutePlanner`, but it looks like this operates at the global `HttpClient` level, not at the request level.\r\n\r\nIs there a way in HttpClient 5 to configure the proxy at the request level? \r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/config/RequestConfig.Builder.html#setProxy-org.apache.hc.core5.http.HttpHost-","title":"How to set proxy for individual requests in Apache HttpClient 5?","body":"<p>I would like to configure an HTTP proxy for some individual requests and not for others, using <strong>Apache HttpClient 5</strong>.  However it looks like <code>RequestConfig.Builder.setProxy()</code> is <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/config/RequestConfig.Builder.html#setProxy-org.apache.hc.core5.http.HttpHost-\" rel=\"nofollow noreferrer\">deprecated</a>.  The javadoc suggests using <code>HttpRoutePlanner</code>, but it looks like this operates at the global <code>HttpClient</code> level, not at the request level.</p>\n<p>Is there a way in HttpClient 5 to configure the proxy at the request level?</p>\n"},{"tags":["java","spring","hibernate","transactions"],"comments":[{"owner":{"account_id":2357292,"reputation":5009,"user_id":2064835,"accept_rate":72,"display_name":"ankit"},"score":0,"creation_date":1381730669,"post_id":19349898,"comment_id":28676191,"body_markdown":"paste complete stackTrace","body":"paste complete stackTrace"},{"owner":{"account_id":3007061,"reputation":536,"user_id":2551359,"display_name":"lalilulelo_1986"},"score":0,"creation_date":1620929501,"post_id":19349898,"comment_id":119350823,"body_markdown":"I noticed that this exception throwned when repository itself can&#39;t do job, not other parts of your code.","body":"I noticed that this exception throwned when repository itself can&#39;t do job, not other parts of your code."},{"owner":{"account_id":17185334,"reputation":58,"user_id":12440050,"display_name":"Dmytro Moskovchenko"},"score":0,"creation_date":1675250611,"post_id":19349898,"comment_id":132886891,"body_markdown":"In most cases, this exception is just a summary. If you check your Spring output logs, you&#39;ll see some inner exceptions which make the transaction be roll-backed. For example, your entity stores some transient entity and your cascade rules don&#39;t handle such a case.","body":"In most cases, this exception is just a summary. If you check your Spring output logs, you&#39;ll see some inner exceptions which make the transaction be roll-backed. For example, your entity stores some transient entity and your cascade rules don&#39;t handle such a case."}],"answers":[{"comments":[{"owner":{"account_id":1918987,"reputation":2839,"user_id":1730917,"accept_rate":71,"display_name":"Arya"},"score":0,"creation_date":1381768126,"post_id":19354463,"comment_id":28694279,"body_markdown":"Thanks Ean. I&#39;m not sure using REQUIRES_NEW or NESTED!? (I have tested REQUIRES_NEW and it worked)","body":"Thanks Ean. I&#39;m not sure using REQUIRES_NEW or NESTED!? (I have tested REQUIRES_NEW and it worked)"},{"owner":{"account_id":3200349,"reputation":5199,"user_id":2702510,"accept_rate":25,"display_name":"Ean V"},"score":5,"creation_date":1381791157,"post_id":19354463,"comment_id":28704809,"body_markdown":"The difference between these two is that, NESTED is like a child TX so if parent gets committed it will get committed otherwise not. REQUIRES_NEW creates a new TX and suspends the existing one. So it gets committed individually. Be careful about your container as these are not supported in all containers. The link above has some explanation about the environments that support these types of propagations.","body":"The difference between these two is that, NESTED is like a child TX so if parent gets committed it will get committed otherwise not. REQUIRES_NEW creates a new TX and suspends the existing one. So it gets committed individually. Be careful about your container as these are not supported in all containers. The link above has some explanation about the environments that support these types of propagations."},{"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"score":0,"creation_date":1466245884,"post_id":19354463,"comment_id":63245292,"body_markdown":"if use spring-test and `defaultRolback` is false(@TransactionConfiguration(defaultRollback = false)), you also could have this exception. To resolve it just need set defaultRollback = true","body":"if use spring-test and <code>defaultRolback</code> is false(@TransactionConfiguration(defaultRollback = false)), you also could have this exception. To resolve it just need set defaultRollback = true"},{"owner":{"account_id":2463355,"reputation":315,"user_id":2146981,"display_name":"acidnbass"},"score":1,"creation_date":1485288251,"post_id":19354463,"comment_id":70861259,"body_markdown":"Which method is it suggested to add this Propagation configuration to the @Transactional annotation?  SqlCommandHandlerServiceImpl.persist() (and thus require overriding), or processNextRegistrationMessage()?  Does the separate transaction propagation requirement apply to the transactional method that catches or throws the exception?","body":"Which method is it suggested to add this Propagation configuration to the @Transactional annotation?  SqlCommandHandlerServiceImpl.persist() (and thus require overriding), or processNextRegistrationMessage()?  Does the separate transaction propagation requirement apply to the transactional method that catches or throws the exception?"},{"owner":{"account_id":3200349,"reputation":5199,"user_id":2702510,"accept_rate":25,"display_name":"Ean V"},"score":0,"creation_date":1485294484,"post_id":19354463,"comment_id":70864371,"body_markdown":"@acidnbass both. They will have separate TXs after adding the annotations.","body":"@acidnbass both. They will have separate TXs after adding the annotations."},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1607562424,"post_id":19354463,"comment_id":115315161,"body_markdown":"the issue illustration with simple code can be found at https://stackoverflow.com/a/19312020/355438","body":"the issue illustration with simple code can be found at <a href=\"https://stackoverflow.com/a/19312020/355438\">stackoverflow.com/a/19312020/355438</a>"}],"tags":[],"owner":{"account_id":3200349,"reputation":5199,"user_id":2702510,"accept_rate":25,"display_name":"Ean V"},"comment_count":6,"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1523013030,"creation_date":1381731564,"answer_id":19354463,"question_id":19349898,"body_markdown":"This is the normal behavior and the reason is that your `sqlCommandHandlerService.persist` method needs a TX when being executed (because it is marked with `@Transactional` annotation). But when it is called inside `processNextRegistrationMessage`, because there is a TX available, the container doesn&#39;t create a new one and uses existing TX. So if any exception occurs in `sqlCommandHandlerService.persist` method, it causes TX to be set to `rollBackOnly` (even if you catch the exception in the caller and ignore it).\r\n\r\nTo overcome this you can use propagation levels for transactions. Have a look at [this][1] to find out which propagation best suits your requirements.\r\n\r\n&lt;h2&gt;Update; Read this!&lt;/h2&gt;\r\n\r\nWell after a colleague came to me with a couple of questions about a similar situation, I feel this needs a bit of clarification.&lt;br/&gt;\r\nAlthough propagations solve such issues, you should be *VERY* careful about using them and do not use them unless you *ABSOLUTELY* understand what they mean and how they work. You may end up persisting some data and rolling back some others where you don&#39;t expect them to work that way and things can go horribly wrong.\r\n\r\n&lt;hr/&gt;\r\n**EDIT** [Link to current version of the documentation][2]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/1.2.9/api/org/springframework/transaction/annotation/Propagation.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/annotation/Propagation.html","title":"UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only","body":"<p>This is the normal behavior and the reason is that your <code>sqlCommandHandlerService.persist</code> method needs a TX when being executed (because it is marked with <code>@Transactional</code> annotation). But when it is called inside <code>processNextRegistrationMessage</code>, because there is a TX available, the container doesn't create a new one and uses existing TX. So if any exception occurs in <code>sqlCommandHandlerService.persist</code> method, it causes TX to be set to <code>rollBackOnly</code> (even if you catch the exception in the caller and ignore it).</p>\n\n<p>To overcome this you can use propagation levels for transactions. Have a look at <a href=\"http://docs.spring.io/spring/docs/1.2.9/api/org/springframework/transaction/annotation/Propagation.html\" rel=\"noreferrer\">this</a> to find out which propagation best suits your requirements.</p>\n\n<h2>Update; Read this!</h2>\n\n<p>Well after a colleague came to me with a couple of questions about a similar situation, I feel this needs a bit of clarification.<br/>\nAlthough propagations solve such issues, you should be <em>VERY</em> careful about using them and do not use them unless you <em>ABSOLUTELY</em> understand what they mean and how they work. You may end up persisting some data and rolling back some others where you don't expect them to work that way and things can go horribly wrong.</p>\n\n<p><hr/>\n<strong>EDIT</strong> <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/annotation/Propagation.html\" rel=\"noreferrer\">Link to current version of the documentation</a></p>\n"},{"tags":[],"owner":{"account_id":8760100,"reputation":430,"user_id":6550262,"display_name":"linh đ&#224;m quang"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1590680433,"creation_date":1524360495,"answer_id":49961711,"question_id":19349898,"body_markdown":"The answer of Shyam was right. I already faced with this issue before. It&#39;s not a problem, it&#39;s a SPRING feature. &quot;Transaction rolled back because it has been marked as rollback-only&quot; is acceptable.\r\n\r\n***Conclusion***\r\n\r\n - USE REQUIRES_NEW if you want to commit what did you do before exception (Local commit)\r\n - USE REQUIRED if you want to commit only when all processes are done (Global commit) And you just need to ignore &quot;Transaction rolled back because it has been marked as rollback-only&quot; exception. But you need to try-catch out side the caller processNextRegistrationMessage() to have a meaning log.\r\n\r\nLet&#39;s me explain more detail:\r\n\r\n**Question: How many Transaction we have? Answer: Only one**\r\n\r\nBecause you config the PROPAGATION is PROPAGATION_REQUIRED so that the @Transaction persist() is using the same transaction with the caller-processNextRegistrationMessage(). Actually, when we get an exception, the Spring will set **rollBackOnly** for the TransactionManager so the Spring will rollback just only one Transaction. \r\n\r\n**Question: But we have a try-catch outside (), why does it happen this exception?\r\n Answer Because of unique Transaction**\r\n\r\n 1. When persist() method has an exception\r\n 2. Go to the catch outside \r\n\r\n        Spring will set the rollBackOnly to true -&gt; it determine we must \r\n        rollback the caller (processNextRegistrationMessage) also.\r\n         \r\n 3. The persist() will rollback itself first.\r\n 4. Throw an UnexpectedRollbackException to inform that, we need to rollback the caller also.\r\n 5. The try-catch in run() will catch UnexpectedRollbackException and print the stack trace\r\n\r\n**Question: Why we change PROPAGATION to REQUIRES_NEW, it works?**\r\n\r\nAnswer: Because now the processNextRegistrationMessage() and persist() are in the different transaction so that they only rollback their transaction.\r\n \r\nThanks\r\n","title":"UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only","body":"<p>The answer of Shyam was right. I already faced with this issue before. It's not a problem, it's a SPRING feature. \"Transaction rolled back because it has been marked as rollback-only\" is acceptable.</p>\n\n<p><strong><em>Conclusion</em></strong></p>\n\n<ul>\n<li>USE REQUIRES_NEW if you want to commit what did you do before exception (Local commit)</li>\n<li>USE REQUIRED if you want to commit only when all processes are done (Global commit) And you just need to ignore \"Transaction rolled back because it has been marked as rollback-only\" exception. But you need to try-catch out side the caller processNextRegistrationMessage() to have a meaning log.</li>\n</ul>\n\n<p>Let's me explain more detail:</p>\n\n<p><strong>Question: How many Transaction we have? Answer: Only one</strong></p>\n\n<p>Because you config the PROPAGATION is PROPAGATION_REQUIRED so that the @Transaction persist() is using the same transaction with the caller-processNextRegistrationMessage(). Actually, when we get an exception, the Spring will set <strong>rollBackOnly</strong> for the TransactionManager so the Spring will rollback just only one Transaction. </p>\n\n<p><strong>Question: But we have a try-catch outside (), why does it happen this exception?\n Answer Because of unique Transaction</strong></p>\n\n<ol>\n<li>When persist() method has an exception</li>\n<li><p>Go to the catch outside </p>\n\n<pre><code>Spring will set the rollBackOnly to true -&gt; it determine we must \nrollback the caller (processNextRegistrationMessage) also.\n</code></pre></li>\n<li><p>The persist() will rollback itself first.</p></li>\n<li>Throw an UnexpectedRollbackException to inform that, we need to rollback the caller also.</li>\n<li>The try-catch in run() will catch UnexpectedRollbackException and print the stack trace</li>\n</ol>\n\n<p><strong>Question: Why we change PROPAGATION to REQUIRES_NEW, it works?</strong></p>\n\n<p>Answer: Because now the processNextRegistrationMessage() and persist() are in the different transaction so that they only rollback their transaction.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":3970707,"reputation":533,"user_id":3275390,"accept_rate":60,"display_name":"shankulk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699314417,"creation_date":1699314417,"answer_id":77434811,"question_id":19349898,"body_markdown":"If you only want to rollback your transactions on `ProcessIncomingMessageException` exception, then you can pass `noRollbackFor` and `rollbackFor` in your `@Transactional` annotation as shown below:\r\n\r\n```Java\r\n@Transactional(noRollbackFor = Exception.class, rollbackFor = ProcessIncomingMessageException.class)\r\npublic void processNextRegistrationMessage() throws ProcessIncomingMessageException {\r\n        String refrenceId = null;\r\n        MessageTypeEnum registrationMessageType = MessageTypeEnum.REGISTRATION;\r\n        try {\r\n            //code that may result in an exception\r\n            ....\r\n        } catch (Exception e) {\r\n            if (e instanceof ProcessIncomingMessageException) {\r\n                throw (ProcessIncomingMessageException) e;\r\n            }\r\n            e.printStackTrace();\r\n            // send error outgoing-message\r\n            ....\r\n        }\r\n    }\r\n```\r\nPlease note that Spring `@Transactional` will automatically rollback the transaction for all `RuntimeExceptions` and its subclasses, however, it won&#39;t rollback in case of checked exceptions. The aforementioned parameters allow programmers to override that behaviour.","title":"UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only","body":"<p>If you only want to rollback your transactions on <code>ProcessIncomingMessageException</code> exception, then you can pass <code>noRollbackFor</code> and <code>rollbackFor</code> in your <code>@Transactional</code> annotation as shown below:</p>\n<pre><code>@Transactional(noRollbackFor = Exception.class, rollbackFor = ProcessIncomingMessageException.class)\npublic void processNextRegistrationMessage() throws ProcessIncomingMessageException {\n        String refrenceId = null;\n        MessageTypeEnum registrationMessageType = MessageTypeEnum.REGISTRATION;\n        try {\n            //code that may result in an exception\n            ....\n        } catch (Exception e) {\n            if (e instanceof ProcessIncomingMessageException) {\n                throw (ProcessIncomingMessageException) e;\n            }\n            e.printStackTrace();\n            // send error outgoing-message\n            ....\n        }\n    }\n</code></pre>\n<p>Please note that Spring <code>@Transactional</code> will automatically rollback the transaction for all <code>RuntimeExceptions</code> and its subclasses, however, it won't rollback in case of checked exceptions. The aforementioned parameters allow programmers to override that behaviour.</p>\n"},{"tags":[],"owner":{"account_id":29857125,"reputation":1,"user_id":22881718,"display_name":"Ovidiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699520240,"creation_date":1699461889,"answer_id":77447441,"question_id":19349898,"body_markdown":"This error could appear because of an exception thrown before in a database and the rollback is required for consistency purpose when working with transactions. For example, when using Hibernate entities, forgetting to set the parent for the child entity will throw this error even when saving into the database the parent of the parent of the forgotten child, all encompassed in the same transaction. Another example is the incorrect name of a table that is mapped onto an entity.","title":"UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only","body":"<p>This error could appear because of an exception thrown before in a database and the rollback is required for consistency purpose when working with transactions. For example, when using Hibernate entities, forgetting to set the parent for the child entity will throw this error even when saving into the database the parent of the parent of the forgotten child, all encompassed in the same transaction. Another example is the incorrect name of a table that is mapped onto an entity.</p>\n"}],"owner":{"account_id":1918987,"reputation":2839,"user_id":1730917,"accept_rate":71,"display_name":"Arya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287596,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":19354463,"answer_count":4,"score":80,"last_activity_date":1699520240,"creation_date":1381695991,"question_id":19349898,"body_markdown":"I have this scenario:\r\n\r\n 1. fetch (read and delete) a record from **IncomingMessage** table\r\n 2. read record content\r\n 3. insert something to some tables\r\n 4. if an error (any exception) occurred in steps 1-3, insert an error-record to **OutgoingMessage** table\r\n 5. otherwise, insert an success-record to **OutgoingMessage** table\r\n\r\n*So steps 1,2,3,4 should be in a transaction, or steps 1,2,3,5*\r\n\r\nMy process starts from here (it is a scheduled task):\r\n\r\n    public class ReceiveMessagesJob implements ScheduledJob {\r\n    // ...\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tprocessMessageMediator.processNextRegistrationMessage();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    // ...\r\n    }\r\n\r\nMy main function (processNextRegistrationMessage) in ProcessMessageMediator:\r\n\r\n    public class ProcessMessageMediatorImpl implements ProcessMessageMediator {\r\n    // ...\r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic void processNextRegistrationMessage() throws ProcessIncomingMessageException {\r\n    \t\tString refrenceId = null;\r\n    \t\tMessageTypeEnum registrationMessageType = MessageTypeEnum.REGISTRATION;\r\n    \t\ttry {\r\n    \t\t\tString messageContent = incomingMessageService.fetchNextMessageContent(registrationMessageType);\r\n    \t\t\tif (messageContent == null) {\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t\tIncomingXmlModel incomingXmlModel = incomingXmlDeserializer.fromXml(messageContent);\r\n    \t\t\trefrenceId = incomingXmlModel.getRefrenceId();\r\n    \t\t\tif (!StringUtil.hasText(refrenceId)) {\r\n    \t\t\t\tthrow new ProcessIncomingMessageException(\r\n    \t\t\t\t\t\t&quot;Can not proceed processing incoming-message. refrence-code field is null.&quot;);\r\n    \t\t\t}\r\n    \t\t\tsqlCommandHandlerService.persist(incomingXmlModel);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tif (e instanceof ProcessIncomingMessageException) {\r\n    \t\t\t\tthrow (ProcessIncomingMessageException) e;\r\n    \t\t\t}\r\n    \t\t\te.printStackTrace();\r\n    \t\t\t// send error outgoing-message\r\n    \t\t\tOutgoingXmlModel outgoingXmlModel = new OutgoingXmlModel(refrenceId,\r\n    \t\t\t\t\tProcessResultStateEnum.FAILED.getCode(), e.getMessage());\r\n    \t\t\tsaveOutgoingMessage(outgoingXmlModel, registrationMessageType);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t// send success outgoing-message\r\n    \t\tOutgoingXmlModel outgoingXmlModel = new OutgoingXmlModel(refrenceId, ProcessResultStateEnum.SUCCEED.getCode());\r\n    \t\tsaveOutgoingMessage(outgoingXmlModel, registrationMessageType);\r\n    \t}\r\n    \r\n    \tprivate void saveOutgoingMessage(OutgoingXmlModel outgoingXmlModel, MessageTypeEnum messageType)\r\n    \t\t\tthrows ProcessIncomingMessageException {\r\n    \t\tString xml = outgoingXmlSerializer.toXml(outgoingXmlModel, messageType);\r\n    \t\tOutgoingMessageEntity entity = new OutgoingMessageEntity(messageType.getCode(), new Date());\r\n    \t\ttry {\r\n    \t\t\toutgoingMessageService.save(entity, xml);\r\n    \t\t} catch (SaveOutgoingMessageException e) {\r\n    \t\t\tthrow new ProcessIncomingMessageException(&quot;Can not proceed processing incoming-message.&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    // ...\r\n    }\r\n\r\nAs i said If any exception occurred in steps 1-3, i want insert an error-record:\r\n\r\n    catch (Exception e) {\r\n    \tif (e instanceof ProcessIncomingMessageException) {\r\n    \t\tthrow (ProcessIncomingMessageException) e;\r\n    \t}\r\n    \te.printStackTrace();\r\n    \t//send error outgoing-message\r\n    \tOutgoingXmlModel outgoingXmlModel = new OutgoingXmlModel(refrenceId,ProcessResultStateEnum.FAILED.getCode(), e.getMessage());\r\n    \tsaveOutgoingMessage(outgoingXmlModel, registrationMessageType);\r\n    \treturn;\r\n    }\r\n\r\nIt&#39;s SqlCommandHandlerServiceImpl.persist() method:\r\n\r\n    public class SqlCommandHandlerServiceImpl implements SqlCommandHandlerService {\r\n    // ...\r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic void persist(IncomingXmlModel incomingXmlModel) {\r\n    \t\tCollections.sort(incomingXmlModel.getTables());\r\n    \t\tList&lt;ParametricQuery&gt; queries = generateSqlQueries(incomingXmlModel.getTables());\r\n    \t\tfor (ParametricQuery query : queries) {\r\n    \t\t\tqueryExecuter.executeQuery(query);\r\n    \t\t}\r\n    \t}\r\n    // ...\r\n    }\r\n\r\nBut when **sqlCommandHandlerService.persist()** throws exception (here a org.hibernate.exception.ConstraintViolationException exception), after inserting an error-record in OutgoingMessage table, when the transaction want to be committed , i get UnexpectedRollbackException. *I can&#39;t figure out where is my problem:*\r\n\r\n    Exception in thread &quot;null#0&quot; org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:717)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:394)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n    \tat org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:622)\r\n    \tat x.y.z.ReceiveMessagesJob$$EnhancerByCGLIB$$63524c6b.run(&lt;generated&gt;)\r\n    \tat x.y.z.JobScheduler$ScheduledJobThread.run(JobScheduler.java:132)\r\n\r\nI&#39;m using hibernate-4.1.0-Final, My database is oracle, and Here is my transaction-manager bean:\r\n\r\n    &lt;bean id=&quot;transactionManager&quot;\r\n    \tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;\r\n    \tproxy-target-class=&quot;true&quot; /&gt;","title":"UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only","body":"<p>I have this scenario:</p>\n<ol>\n<li>fetch (read and delete) a record from <strong>IncomingMessage</strong> table</li>\n<li>read record content</li>\n<li>insert something to some tables</li>\n<li>if an error (any exception) occurred in steps 1-3, insert an error-record to <strong>OutgoingMessage</strong> table</li>\n<li>otherwise, insert an success-record to <strong>OutgoingMessage</strong> table</li>\n</ol>\n<p><em>So steps 1,2,3,4 should be in a transaction, or steps 1,2,3,5</em></p>\n<p>My process starts from here (it is a scheduled task):</p>\n<pre><code>public class ReceiveMessagesJob implements ScheduledJob {\n// ...\n    @Override\n    public void run() {\n        try {\n            processMessageMediator.processNextRegistrationMessage();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n// ...\n}\n</code></pre>\n<p>My main function (processNextRegistrationMessage) in ProcessMessageMediator:</p>\n<pre><code>public class ProcessMessageMediatorImpl implements ProcessMessageMediator {\n// ...\n    @Override\n    @Transactional\n    public void processNextRegistrationMessage() throws ProcessIncomingMessageException {\n        String refrenceId = null;\n        MessageTypeEnum registrationMessageType = MessageTypeEnum.REGISTRATION;\n        try {\n            String messageContent = incomingMessageService.fetchNextMessageContent(registrationMessageType);\n            if (messageContent == null) {\n                return;\n            }\n            IncomingXmlModel incomingXmlModel = incomingXmlDeserializer.fromXml(messageContent);\n            refrenceId = incomingXmlModel.getRefrenceId();\n            if (!StringUtil.hasText(refrenceId)) {\n                throw new ProcessIncomingMessageException(\n                        &quot;Can not proceed processing incoming-message. refrence-code field is null.&quot;);\n            }\n            sqlCommandHandlerService.persist(incomingXmlModel);\n        } catch (Exception e) {\n            if (e instanceof ProcessIncomingMessageException) {\n                throw (ProcessIncomingMessageException) e;\n            }\n            e.printStackTrace();\n            // send error outgoing-message\n            OutgoingXmlModel outgoingXmlModel = new OutgoingXmlModel(refrenceId,\n                    ProcessResultStateEnum.FAILED.getCode(), e.getMessage());\n            saveOutgoingMessage(outgoingXmlModel, registrationMessageType);\n            return;\n        }\n        // send success outgoing-message\n        OutgoingXmlModel outgoingXmlModel = new OutgoingXmlModel(refrenceId, ProcessResultStateEnum.SUCCEED.getCode());\n        saveOutgoingMessage(outgoingXmlModel, registrationMessageType);\n    }\n\n    private void saveOutgoingMessage(OutgoingXmlModel outgoingXmlModel, MessageTypeEnum messageType)\n            throws ProcessIncomingMessageException {\n        String xml = outgoingXmlSerializer.toXml(outgoingXmlModel, messageType);\n        OutgoingMessageEntity entity = new OutgoingMessageEntity(messageType.getCode(), new Date());\n        try {\n            outgoingMessageService.save(entity, xml);\n        } catch (SaveOutgoingMessageException e) {\n            throw new ProcessIncomingMessageException(&quot;Can not proceed processing incoming-message.&quot;, e);\n        }\n    }\n// ...\n}\n</code></pre>\n<p>As i said If any exception occurred in steps 1-3, i want insert an error-record:</p>\n<pre><code>catch (Exception e) {\n    if (e instanceof ProcessIncomingMessageException) {\n        throw (ProcessIncomingMessageException) e;\n    }\n    e.printStackTrace();\n    //send error outgoing-message\n    OutgoingXmlModel outgoingXmlModel = new OutgoingXmlModel(refrenceId,ProcessResultStateEnum.FAILED.getCode(), e.getMessage());\n    saveOutgoingMessage(outgoingXmlModel, registrationMessageType);\n    return;\n}\n</code></pre>\n<p>It's SqlCommandHandlerServiceImpl.persist() method:</p>\n<pre><code>public class SqlCommandHandlerServiceImpl implements SqlCommandHandlerService {\n// ...\n    @Override\n    @Transactional\n    public void persist(IncomingXmlModel incomingXmlModel) {\n        Collections.sort(incomingXmlModel.getTables());\n        List&lt;ParametricQuery&gt; queries = generateSqlQueries(incomingXmlModel.getTables());\n        for (ParametricQuery query : queries) {\n            queryExecuter.executeQuery(query);\n        }\n    }\n// ...\n}\n</code></pre>\n<p>But when <strong>sqlCommandHandlerService.persist()</strong> throws exception (here a org.hibernate.exception.ConstraintViolationException exception), after inserting an error-record in OutgoingMessage table, when the transaction want to be committed , i get UnexpectedRollbackException. <em>I can't figure out where is my problem:</em></p>\n<pre><code>Exception in thread &quot;null#0&quot; org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:717)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:394)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:622)\n    at x.y.z.ReceiveMessagesJob$$EnhancerByCGLIB$$63524c6b.run(&lt;generated&gt;)\n    at x.y.z.JobScheduler$ScheduledJobThread.run(JobScheduler.java:132)\n</code></pre>\n<p>I'm using hibernate-4.1.0-Final, My database is oracle, and Here is my transaction-manager bean:</p>\n<pre><code>&lt;bean id=&quot;transactionManager&quot;\n    class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;\n    proxy-target-class=&quot;true&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":14769499,"reputation":108,"user_id":10666418,"display_name":"Anton Kozub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699520126,"creation_date":1699520126,"answer_id":77451719,"question_id":77448979,"body_markdown":"If you are using Jackson, you need to add [@JsonUnwrapped][1] annotation to the `student` field\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonUnwrapped.html","title":"How to return hibernate entity with one extra field from another table?","body":"<p>If you are using Jackson, you need to add <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonUnwrapped.html\" rel=\"nofollow noreferrer\">@JsonUnwrapped</a> annotation to the <code>student</code> field</p>\n"}],"owner":{"account_id":26341114,"reputation":43,"user_id":20000194,"display_name":"random55645"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77451719,"answer_count":1,"score":0,"last_activity_date":1699520126,"creation_date":1699477903,"question_id":77448979,"body_markdown":"I have two tables: Teacher and Student. Both of these tables have a bunch of columns; I’m only showing the relevant ones. Teachers can have multiple students, but students can only have one teacher.\r\n\r\nTable Teacher\r\n\r\n|      id       |     Name    |\r\n|---------------------|------------------|\r\n|          1         |         Johnson       |\r\n|          2         |         Jackson      |\r\n\r\nTable Student\r\n\r\n\r\n\r\n| id |name |teacher id |\r\n| -------- | -------------- |-------------- |\r\n| 1   | Annie       | 1\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have a Spring Boot API that returns the student entity with the given ID. I need to update this API so that it returns the student entity along with the name of teacher. Something like this:\r\n\r\n    {\r\n      \r\n        &quot;id&quot;: &quot;1&quot;,\r\n        &quot;name&quot;: &quot;Annie&quot;,\r\n        &quot;teacherId&quot;: 1,\r\n        &quot;teacherName&quot;: &quot;Johnson&quot;\r\n    \r\n    }\r\n\r\nI tried creating a new model call StudentModel that looks like this:\r\n\r\n    public class StudentModel{\r\n    \tprivate Student student;\r\n    \tprivate String teacherName;\r\n    } \r\n\r\nThe response that gets generated looks like this:\r\n\r\n     {\r\n      &quot;student&quot;: {\r\n         &quot;id&quot;: &quot;1&quot;,\r\n        &quot;name&quot;: &quot;b&quot;,\r\n        &quot;status&quot;: &quot;d&quot;,\r\n        &quot;teacherId&quot;: 1\r\n      },\r\n      &quot;teacherName&quot;: &quot;Johnson&quot;\r\n    }\r\n\r\nIs there a way to get the JSON the API returns look like this instead:\r\n\r\n    {\r\n      \r\n        &quot;id&quot;: &quot;1&quot;,\r\n        &quot;name&quot;: &quot;Annie&quot;,\r\n        &quot;teacherId&quot;: 1,\r\n        &quot;teacherName&quot;: &quot;Johnson&quot;\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"How to return hibernate entity with one extra field from another table?","body":"<p>I have two tables: Teacher and Student. Both of these tables have a bunch of columns; I’m only showing the relevant ones. Teachers can have multiple students, but students can only have one teacher.</p>\n<p>Table Teacher</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>Name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Johnson</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Jackson</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Table Student</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n<th>teacher id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Annie</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have a Spring Boot API that returns the student entity with the given ID. I need to update this API so that it returns the student entity along with the name of teacher. Something like this:</p>\n<pre><code>{\n  \n    &quot;id&quot;: &quot;1&quot;,\n    &quot;name&quot;: &quot;Annie&quot;,\n    &quot;teacherId&quot;: 1,\n    &quot;teacherName&quot;: &quot;Johnson&quot;\n\n}\n</code></pre>\n<p>I tried creating a new model call StudentModel that looks like this:</p>\n<pre><code>public class StudentModel{\n    private Student student;\n    private String teacherName;\n} \n</code></pre>\n<p>The response that gets generated looks like this:</p>\n<pre><code> {\n  &quot;student&quot;: {\n     &quot;id&quot;: &quot;1&quot;,\n    &quot;name&quot;: &quot;b&quot;,\n    &quot;status&quot;: &quot;d&quot;,\n    &quot;teacherId&quot;: 1\n  },\n  &quot;teacherName&quot;: &quot;Johnson&quot;\n}\n</code></pre>\n<p>Is there a way to get the JSON the API returns look like this instead:</p>\n<pre><code>{\n  \n    &quot;id&quot;: &quot;1&quot;,\n    &quot;name&quot;: &quot;Annie&quot;,\n    &quot;teacherId&quot;: 1,\n    &quot;teacherName&quot;: &quot;Johnson&quot;\n\n}\n</code></pre>\n"},{"tags":["java","gradle","gradle-shadow-plugin"],"owner":{"account_id":28797647,"reputation":1,"user_id":22055423,"display_name":"Double"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699520075,"creation_date":1699520075,"question_id":77451712,"body_markdown":"I have a Local Library Called MediaKeys.dll When I run the program from the IDEA (Intelij) I have no problem and when I want to use that Library there is no problem. Now I have a problem when I turn it into a Jar file. all the processes work fine except for the once that use the library.\r\n\r\nI use shadow for compiling my project into a jar. and to my knowledge it should just use the library and in the past while using the exact same library and the same version of shadow I had no problems.\r\n\r\nI also tried implementing it in my gradle build like so\r\n\r\n```\r\nimplementation files(&#39;MyMacroManager_DiscordBot/MediaKeys.dll&#39;)\r\n```\r\n\r\nyet I still get the same error while trying to run it in a jar File\r\n\r\n```\r\n09:36:32.236 [d4j-events-2] WARN reactor.core.Exceptions -- throwIfFatal detected a jvm fatal exception, which is thrown and logged below:\r\njava.lang.UnsatisfiedLinkError: no MediaKeys in java.library.path\r\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\r\n        at java.lang.System.loadLibrary(Unknown Source)\r\n        at commands.MediaKeys.&lt;clinit&gt;(MediaKeys.java:16)\r\n        at Macros.volumeUp(Macros.java:79)\r\n        at Main.lambda$null$5(Main.java:176)\r\n        at discord4j.core.event.EventDispatcher.lambda$on$1(EventDispatcher.java:125)\r\n   \r\n```","title":"gradle shadow plugin Cant find my Local Library","body":"<p>I have a Local Library Called MediaKeys.dll When I run the program from the IDEA (Intelij) I have no problem and when I want to use that Library there is no problem. Now I have a problem when I turn it into a Jar file. all the processes work fine except for the once that use the library.</p>\n<p>I use shadow for compiling my project into a jar. and to my knowledge it should just use the library and in the past while using the exact same library and the same version of shadow I had no problems.</p>\n<p>I also tried implementing it in my gradle build like so</p>\n<pre><code>implementation files('MyMacroManager_DiscordBot/MediaKeys.dll')\n</code></pre>\n<p>yet I still get the same error while trying to run it in a jar File</p>\n<pre><code>09:36:32.236 [d4j-events-2] WARN reactor.core.Exceptions -- throwIfFatal detected a jvm fatal exception, which is thrown and logged below:\njava.lang.UnsatisfiedLinkError: no MediaKeys in java.library.path\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\n        at java.lang.System.loadLibrary(Unknown Source)\n        at commands.MediaKeys.&lt;clinit&gt;(MediaKeys.java:16)\n        at Macros.volumeUp(Macros.java:79)\n        at Main.lambda$null$5(Main.java:176)\n        at discord4j.core.event.EventDispatcher.lambda$on$1(EventDispatcher.java:125)\n   \n</code></pre>\n"},{"tags":["java","netbeans","derby"],"comments":[{"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"score":2,"creation_date":1617332608,"post_id":66913850,"comment_id":118281021,"body_markdown":"what Java version are you using? some drivers seems to be compiled against java 9, have you tried another prior Derby version?","body":"what Java version are you using? some drivers seems to be compiled against java 9, have you tried another prior Derby version?"},{"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"score":1,"creation_date":1617332713,"post_id":66913850,"comment_id":118281043,"body_markdown":"you can also add the driver via right clicking in libraries and choose add java db driver from the list.","body":"you can also add the driver via right clicking in libraries and choose add java db driver from the list."},{"owner":{"display_name":"user9652589"},"score":0,"creation_date":1617332755,"post_id":66913850,"comment_id":118281055,"body_markdown":"i am using JDK-15","body":"i am using JDK-15"},{"owner":{"display_name":"user9652589"},"score":0,"creation_date":1617333176,"post_id":66913850,"comment_id":118281122,"body_markdown":"but I do not want to add insight to the project I need to add a database through Netbeans service","body":"but I do not want to add insight to the project I need to add a database through Netbeans service"}],"answers":[{"tags":[],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681727410,"creation_date":1617332096,"answer_id":66913894,"question_id":66913850,"body_markdown":"Accordingly with the Derby release notes, I think you are missing the Derby tools\r\n\r\n&gt; In addition, the derbytools.jar library is\r\n&gt; now required when running the network server and/or when using Derby\r\n&gt; DataSources.\r\n","title":"An error occurred while creating the database: java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver","body":"<p>Accordingly with the Derby release notes, I think you are missing the Derby tools</p>\n<blockquote>\n<p>In addition, the derbytools.jar library is\nnow required when running the network server and/or when using Derby\nDataSources.</p>\n</blockquote>\n"},{"tags":[],"owner":{"display_name":"user9652589"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681727460,"creation_date":1617342788,"answer_id":66915020,"question_id":66913850,"body_markdown":"Finally, I solved this problem.\r\n\r\nI don&#39;t know why it&#39;s not working. But I changed Derby version `10.15` to `10.2`, and now its working.","title":"An error occurred while creating the database: java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver","body":"<p>Finally, I solved this problem.</p>\n<p>I don't know why it's not working. But I changed Derby version <code>10.15</code> to <code>10.2</code>, and now its working.</p>\n"},{"tags":[],"owner":{"account_id":16126142,"reputation":546,"user_id":11640850,"display_name":"Safin Ghoghabori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647326289,"creation_date":1647326289,"answer_id":71477932,"question_id":66913850,"body_markdown":"&gt; Don&#39;t download the 10.15.2.0 version\r\n\r\nJust download from the below, and it will work fine:\r\n\r\nhttps://db.apache.org/derby/releases/release-10_14_2_0.cgi\r\n","title":"An error occurred while creating the database: java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver","body":"<blockquote>\n<p>Don't download the 10.15.2.0 version</p>\n</blockquote>\n<p>Just download from the below, and it will work fine:</p>\n<p><a href=\"https://db.apache.org/derby/releases/release-10_14_2_0.cgi\" rel=\"nofollow noreferrer\">https://db.apache.org/derby/releases/release-10_14_2_0.cgi</a></p>\n"}],"owner":{"display_name":"user9652589"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66915020,"answer_count":3,"score":1,"last_activity_date":1699520054,"creation_date":1617331621,"question_id":66913850,"body_markdown":"I am trying to create a new JavaDB. I have added the Java DB Drivers into Libraries, but it&#39;s still throwing out an error when creating a new Database under services.\r\n\r\nI downloaded and defined db-derby-10.15.2.0-bin\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nAnd I defined the driver files here:\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nI clicked create database here:\r\n\r\n[![Enter image description here][3]][3]\r\n\r\nAnd filled in this form:\r\n\r\n[![Enter image description here][4]][4]\r\n\r\nAfter I clicked on it, it shows like this:\r\n\r\n[![Enter image description here][5]][5]\r\n\r\nHow can I fix this?\r\n\r\n  [1]: https://i.stack.imgur.com/cmZzs.png\r\n  [2]: https://i.stack.imgur.com/Xwm0D.png\r\n  [3]: https://i.stack.imgur.com/d7Q8A.png\r\n  [4]: https://i.stack.imgur.com/CHEZj.png\r\n  [5]: https://i.stack.imgur.com/dA7sS.png\r\n\r\n\r\n","title":"An error occurred while creating the database: java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver","body":"<p>I am trying to create a new JavaDB. I have added the Java DB Drivers into Libraries, but it's still throwing out an error when creating a new Database under services.</p>\n<p>I downloaded and defined db-derby-10.15.2.0-bin</p>\n<p><a href=\"https://i.stack.imgur.com/cmZzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cmZzs.png\" alt=\"Enter image description here\" /></a></p>\n<p>And I defined the driver files here:</p>\n<p><a href=\"https://i.stack.imgur.com/Xwm0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xwm0D.png\" alt=\"Enter image description here\" /></a></p>\n<p>I clicked create database here:</p>\n<p><a href=\"https://i.stack.imgur.com/d7Q8A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d7Q8A.png\" alt=\"Enter image description here\" /></a></p>\n<p>And filled in this form:</p>\n<p><a href=\"https://i.stack.imgur.com/CHEZj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHEZj.png\" alt=\"Enter image description here\" /></a></p>\n<p>After I clicked on it, it shows like this:</p>\n<p><a href=\"https://i.stack.imgur.com/dA7sS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dA7sS.png\" alt=\"Enter image description here\" /></a></p>\n<p>How can I fix this?</p>\n"},{"tags":["java","xml-validation","xerces","javax.xml"],"owner":{"account_id":7066469,"reputation":33,"user_id":5409640,"display_name":"johnypower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699520018,"creation_date":1699520018,"question_id":77451701,"body_markdown":"I have a project whose main goal is to validate xml against xsd.  \r\nI use Java 1.8 from Adoptium and I initiate the SchemaFactory this way:\r\n\r\n`SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI,\r\n        &quot;com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory&quot;, null)`\r\n\r\nWhen I have the following xsd:\r\n\r\n```\r\n    &lt;xs:complexType name=&quot;PersonType&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;NickName&quot;/&gt;\r\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Address&quot;/&gt;\r\n            &lt;xs:element name=&quot;Surname&quot;/&gt;\r\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Occupation&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n```\r\nUsing the following xml:\r\n```\r\n&lt;Person/&gt;\r\n```\r\n\r\nreturns the following error:   \r\n`cvc-complex-type.2.4.b: The content of element &#39;Person&#39; is not complete. One of &#39;{&quot;namespace&quot;:NickName, &quot;namespace&quot;:Address, &quot;namespace&quot;:Surname}&#39; is expected.`\r\n\r\nThis error is misleading since the user should only provide the mandatory element `Surname` but it&#39;s not clear from the error he/she gets.\r\n\r\nSo, how can I make the validation to return only the mandatory fields in the error description? \r\n\r\nI tried to modify the source code of the library but this is impossible since this is Java embedded and also the code which decides these fields has a strange logic.","title":"JAXP validation returns non-mandatory fields","body":"<p>I have a project whose main goal is to validate xml against xsd.<br />\nI use Java 1.8 from Adoptium and I initiate the SchemaFactory this way:</p>\n<p><code>SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI, &quot;com.sun.org.apache.xerces.internal.jaxp.validation.XMLSchemaFactory&quot;, null)</code></p>\n<p>When I have the following xsd:</p>\n<pre><code>    &lt;xs:complexType name=&quot;PersonType&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;NickName&quot;/&gt;\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Address&quot;/&gt;\n            &lt;xs:element name=&quot;Surname&quot;/&gt;\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Occupation&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n</code></pre>\n<p>Using the following xml:</p>\n<pre><code>&lt;Person/&gt;\n</code></pre>\n<p>returns the following error:<br />\n<code>cvc-complex-type.2.4.b: The content of element 'Person' is not complete. One of '{&quot;namespace&quot;:NickName, &quot;namespace&quot;:Address, &quot;namespace&quot;:Surname}' is expected.</code></p>\n<p>This error is misleading since the user should only provide the mandatory element <code>Surname</code> but it's not clear from the error he/she gets.</p>\n<p>So, how can I make the validation to return only the mandatory fields in the error description?</p>\n<p>I tried to modify the source code of the library but this is impossible since this is Java embedded and also the code which decides these fields has a strange logic.</p>\n"},{"tags":["java","android","react-native","code-push"],"answers":[{"tags":[],"owner":{"account_id":17225063,"reputation":139,"user_id":16167919,"display_name":"Tramonta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623242890,"creation_date":1623242890,"answer_id":67904468,"question_id":67903639,"body_markdown":"It&#39;s not possible. If you change the native files, you have to rebuild your app and distribute a new version\r\n\r\nThe way codepush works is deeply related to react-native&#39;s workings\r\n\r\nA react native app is basically a runtime for your Javascript code. It&#39;s an app that interprets your JS bundle. The bundle is usually shipped with the runtime. The way codepush works is, instead of trying to run a local bundle, your app now tries to download the new JS bundle from a codepush server.\r\n\r\nBut keep in mind that it only downloads a fresh JS bundle. The native files are already compiled. If you change your native files, you need to recompile them, and codepush doesn&#39;t do that for you.","title":"React Native Code Push - Is it Possible to update native file changes in remote update ie: Code Push","body":"<p>It's not possible. If you change the native files, you have to rebuild your app and distribute a new version</p>\n<p>The way codepush works is deeply related to react-native's workings</p>\n<p>A react native app is basically a runtime for your Javascript code. It's an app that interprets your JS bundle. The bundle is usually shipped with the runtime. The way codepush works is, instead of trying to run a local bundle, your app now tries to download the new JS bundle from a codepush server.</p>\n<p>But keep in mind that it only downloads a fresh JS bundle. The native files are already compiled. If you change your native files, you need to recompile them, and codepush doesn't do that for you.</p>\n"},{"tags":[],"owner":{"account_id":21820329,"reputation":36,"user_id":16116610,"display_name":"Jeet Vani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699519636,"creation_date":1699519636,"answer_id":77451659,"question_id":67903639,"body_markdown":"When it comes to native file changes, such as modifications to Java or XML files, react-native-code-push primarily focuses on updating JavaScript code and assets. If your changes involve native code (Java or XML), you may still need to go through the regular app update process, as those changes typically require a new version of the app to be built and distributed through the app store.","title":"React Native Code Push - Is it Possible to update native file changes in remote update ie: Code Push","body":"<p>When it comes to native file changes, such as modifications to Java or XML files, react-native-code-push primarily focuses on updating JavaScript code and assets. If your changes involve native code (Java or XML), you may still need to go through the regular app update process, as those changes typically require a new version of the app to be built and distributed through the app store.</p>\n"}],"owner":{"account_id":14196646,"reputation":282,"user_id":10255759,"display_name":"Elango"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699519636,"creation_date":1623239672,"question_id":67903639,"body_markdown":"I want to remote update for Native file changes. Ie: I&#39;ll made some changes in Java or XML file. I&#39;m using react-native-code-push. With this is it possible to update? ","title":"React Native Code Push - Is it Possible to update native file changes in remote update ie: Code Push","body":"<p>I want to remote update for Native file changes. Ie: I'll made some changes in Java or XML file. I'm using react-native-code-push. With this is it possible to update?</p>\n"},{"tags":["java","spring","jsp","navigation","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":2229397,"reputation":3565,"user_id":1967395,"accept_rate":47,"display_name":"Capuchin"},"score":0,"creation_date":1424171512,"post_id":28560284,"comment_id":45432654,"body_markdown":"Can I add this in some kind of context processor etc? So I don&#39;t need to explicitly handle this?","body":"Can I add this in some kind of context processor etc? So I don&#39;t need to explicitly handle this?"},{"owner":{"account_id":5475817,"reputation":1182,"user_id":4353861,"display_name":"lgd"},"score":0,"creation_date":1424177652,"post_id":28560284,"comment_id":45434704,"body_markdown":"I don&#39;t know, I never tried. But you can define this in a ControllerAdvice (method annotated with @ModelAttribute) ; it could be less ugly and more easy to update. I edit my post to give you this alternative.","body":"I don&#39;t know, I never tried. But you can define this in a ControllerAdvice (method annotated with @ModelAttribute) ; it could be less ugly and more easy to update. I edit my post to give you this alternative."},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1548077573,"post_id":28560284,"comment_id":95402744,"body_markdown":"If you do it this way (repeating the navigation everywhere), you could just hardcode it: `class=&quot;active&quot;` and avoid any contoller setting.","body":"If you do it this way (repeating the navigation everywhere), you could just hardcode it: <code>class=&quot;active&quot;</code> and avoid any contoller setting."},{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":0,"creation_date":1553171794,"post_id":28560284,"comment_id":97290847,"body_markdown":"Might aswell hardcode it as Stefan says. I have the nav menu as a fragment and it replaces the menu in several html pages. So this way is not possible. I must use another way like for example the one provided by Denger Tung.","body":"Might aswell hardcode it as Stefan says. I have the nav menu as a fragment and it replaces the menu in several html pages. So this way is not possible. I must use another way like for example the one provided by Denger Tung."}],"tags":[],"owner":{"account_id":5475817,"reputation":1182,"user_id":4353861,"display_name":"lgd"},"comment_count":4,"down_vote_count":2,"up_vote_count":20,"is_accepted":true,"score":18,"last_activity_date":1424178140,"creation_date":1424170329,"answer_id":28560284,"question_id":28559817,"body_markdown":"You could add a **ModelAttribute** with the value _active_ in your controllers for each page, e.g. :\r\n\r\n_SettingsController.java_\r\n\r\n    @RequestMapping(&quot;/settings&quot;)\r\n    public String viewSettings(Model model) {\r\n      // do stuff\r\n      model.addAttribute(&quot;classActiveSettings&quot;,&quot;active&quot;);\r\n      return &quot;settings&quot;;\r\n    }\r\n\r\nOR in a _SettingsControllerAdvice.java_\r\n\r\n    @ControllerAdvice(assignableTypes = SettingsController.class)\r\n    public class SettingsControllerAdvice {\r\n\r\n        @ModelAttribute(&quot;classActiveSettings&quot;)\r\n        public String cssActivePage() {\r\n            return &quot;active&quot;;\r\n        }\r\n\r\n    }\r\n\r\nThen, in the navigation fragment included in your _settings.html_ :\r\n\r\n    &lt;ul class=&quot;nav nav-tabs&quot;&gt;\r\n         &lt;!-- Other links --&gt;\r\n        &lt;li role=&quot;presentation&quot; th:class=&quot;${classActiveSettings}&quot;&gt;\r\n           &lt;a th:href=&quot;@{/settings}&quot;&gt;Settings&lt;/a&gt;\r\n        &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\nFinally, you can repeat this process for each controller and links in your navbar.","title":"Displaying active navigation based on contextual data","body":"<p>You could add a <strong>ModelAttribute</strong> with the value <em>active</em> in your controllers for each page, e.g. :</p>\n\n<p><em>SettingsController.java</em></p>\n\n<pre><code>@RequestMapping(\"/settings\")\npublic String viewSettings(Model model) {\n  // do stuff\n  model.addAttribute(\"classActiveSettings\",\"active\");\n  return \"settings\";\n}\n</code></pre>\n\n<p>OR in a <em>SettingsControllerAdvice.java</em></p>\n\n<pre><code>@ControllerAdvice(assignableTypes = SettingsController.class)\npublic class SettingsControllerAdvice {\n\n    @ModelAttribute(\"classActiveSettings\")\n    public String cssActivePage() {\n        return \"active\";\n    }\n\n}\n</code></pre>\n\n<p>Then, in the navigation fragment included in your <em>settings.html</em> :</p>\n\n<pre><code>&lt;ul class=\"nav nav-tabs\"&gt;\n     &lt;!-- Other links --&gt;\n    &lt;li role=\"presentation\" th:class=\"${classActiveSettings}\"&gt;\n       &lt;a th:href=\"@{/settings}\"&gt;Settings&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Finally, you can repeat this process for each controller and links in your navbar.</p>\n"},{"comments":[{"owner":{"account_id":4771027,"reputation":1749,"user_id":3855773,"accept_rate":22,"display_name":"Jimmy"},"score":0,"creation_date":1441716714,"post_id":32033141,"comment_id":52778640,"body_markdown":"Thanks something what I was looking for.","body":"Thanks something what I was looking for."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":8,"creation_date":1446768011,"post_id":32033141,"comment_id":54893805,"body_markdown":"I prefer this to the accepted answer.   Better separation of concerns.  No need to clutter the server-side with things that are solely related to the view.","body":"I prefer this to the accepted answer.   Better separation of concerns.  No need to clutter the server-side with things that are solely related to the view."},{"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"score":3,"creation_date":1541602393,"post_id":32033141,"comment_id":93272550,"body_markdown":"`#httpServletRequest.getRequestURI()` can be shortened to `#request.requestURI`.","body":"<code>#httpServletRequest.getRequestURI()</code> can be shortened to <code>#request.requestURI</code>."},{"owner":{"account_id":7902935,"reputation":6346,"user_id":5969411,"accept_rate":80,"display_name":"ManoDestra"},"score":1,"creation_date":1573064663,"post_id":32033141,"comment_id":103762868,"body_markdown":"Definitely a better answer than the accepted one. The controller shouldn&#39;t deal with classes of view elements.","body":"Definitely a better answer than the accepted one. The controller shouldn&#39;t deal with classes of view elements."},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1597806240,"post_id":32033141,"comment_id":112250934,"body_markdown":"Absolutely Brilliant.!","body":"Absolutely Brilliant.!"},{"owner":{"account_id":890419,"reputation":593,"user_id":928803,"accept_rate":57,"display_name":"Sam ツ"},"score":0,"creation_date":1602833255,"post_id":32033141,"comment_id":113850148,"body_markdown":"Thank you—a much better solution than the accepted answer.","body":"Thank you—a much better solution than the accepted answer."},{"owner":{"account_id":7206157,"reputation":3851,"user_id":5501699,"display_name":"Imtiaz Shakil Siddique"},"score":0,"creation_date":1637949064,"post_id":32033141,"comment_id":123967081,"body_markdown":"```#request.getServletPath()``` is more appropriate!","body":"<code>#request.getServletPath()</code> is more appropriate!"},{"owner":{"account_id":3194850,"reputation":107,"user_id":2698268,"accept_rate":40,"display_name":"Austin Whitelaw"},"score":0,"creation_date":1673481660,"post_id":32033141,"comment_id":132511866,"body_markdown":"As of Spring Boot 3, you will receive an error trying to use this. Can someone update this answer for a Spring Boot 3 solution?","body":"As of Spring Boot 3, you will receive an error trying to use this. Can someone update this answer for a Spring Boot 3 solution?"}],"tags":[],"owner":{"account_id":6797095,"reputation":839,"user_id":5231912,"display_name":"denger"},"comment_count":8,"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1446771014,"creation_date":1439713217,"answer_id":32033141,"question_id":28559817,"body_markdown":"You can do this:\r\n\r\n    &lt;ul class=&quot;nav navbar-nav&quot;&gt;\r\n        &lt;li th:classappend=&quot;${#httpServletRequest.getRequestURI() == &#39;/dashboard&#39; ? &#39;active&#39;:&#39;&#39;}&quot;&gt;&lt;a th:href=&quot;@{/dashboard}&quot;&gt;&lt;span&gt;Dashboard&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li th:classappend=&quot;${#httpServletRequest.getRequestURI() == &#39;/orders&#39; ? &#39;active&#39;:&#39;&#39;}&quot;&gt;&lt;a th:href=&quot;@{/orders}&quot;&gt;&lt;span&gt;Orders&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li th:classappend=&quot;${#httpServletRequest.getRequestURI() == &#39;/income&#39; ? &#39;active&#39;:&#39;&#39;}&quot;&gt;&lt;a th:href=&quot;@{/income}&quot;&gt;&lt;span&gt;Income&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li role=&quot;separator&quot; &gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n","title":"Displaying active navigation based on contextual data","body":"<p>You can do this:</p>\n\n<pre><code>&lt;ul class=\"nav navbar-nav\"&gt;\n    &lt;li th:classappend=\"${#httpServletRequest.getRequestURI() == '/dashboard' ? 'active':''}\"&gt;&lt;a th:href=\"@{/dashboard}\"&gt;&lt;span&gt;Dashboard&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li th:classappend=\"${#httpServletRequest.getRequestURI() == '/orders' ? 'active':''}\"&gt;&lt;a th:href=\"@{/orders}\"&gt;&lt;span&gt;Orders&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li th:classappend=\"${#httpServletRequest.getRequestURI() == '/income' ? 'active':''}\"&gt;&lt;a th:href=\"@{/income}\"&gt;&lt;span&gt;Income&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"separator\" &gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2243960,"reputation":7751,"user_id":1977799,"accept_rate":80,"display_name":"lukyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1447957655,"creation_date":1447957655,"answer_id":33811623,"question_id":28559817,"body_markdown":"Although i think it is ugly solution and it is pity that thymeleaf does not have some macros for it, you can use:\r\n\r\n    &lt;li th:classappend=&quot;${#httpServletRequest.getRequestURI().startsWith(&#39;/hotels&#39;) ? &#39;active&#39;:&#39;&#39;}&quot;&gt;\r\n        Hotel\r\n    &lt;/li&gt;\r\n\r\nIt will work also for &quot;deeper&quot; links like */hotels/new* so it is usable also for multilevel menus.","title":"Displaying active navigation based on contextual data","body":"<p>Although i think it is ugly solution and it is pity that thymeleaf does not have some macros for it, you can use:</p>\n\n<pre><code>&lt;li th:classappend=\"${#httpServletRequest.getRequestURI().startsWith('/hotels') ? 'active':''}\"&gt;\n    Hotel\n&lt;/li&gt;\n</code></pre>\n\n<p>It will work also for \"deeper\" links like <em>/hotels/new</em> so it is usable also for multilevel menus.</p>\n"},{"tags":[],"owner":{"account_id":44148,"reputation":251,"user_id":129411,"display_name":"Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1627969110,"creation_date":1494877205,"answer_id":43987550,"question_id":28559817,"body_markdown":"while this is an old question, I want to share this solution as it could be much more elegant!\r\n\r\nhttp://nixmash.com/post/bootstrap-navbar-highlighting-in-thymeleaf\r\n\r\n- Add a parameter (activeTab) to the navigation fragment.\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div th:fragment=&quot;common-navbar(activeTab=&#39;activeTab&#39;)&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n- pass the value of it in the main pages that use the navbar fragment\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;div th:replace=&quot;common/navbar :: common-navbar(about)&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n- check for it in the &#39;li&#39; element to set the &#39;active&#39; class\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;li th:class=&quot;${activeTab == &#39;about&#39;}? &#39;active&#39; : null&quot;&gt;&lt;a href=&quot;&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Displaying active navigation based on contextual data","body":"<p>while this is an old question, I want to share this solution as it could be much more elegant!</p>\n<p><a href=\"http://nixmash.com/post/bootstrap-navbar-highlighting-in-thymeleaf\" rel=\"nofollow noreferrer\">http://nixmash.com/post/bootstrap-navbar-highlighting-in-thymeleaf</a></p>\n<ul>\n<li>Add a parameter (activeTab) to the navigation fragment.</li>\n</ul>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div th:fragment=&quot;common-navbar(activeTab='activeTab')&quot;&gt;&lt;/div&gt;\n</code></pre>\n\n<ul>\n<li>pass the value of it in the main pages that use the navbar fragment</li>\n</ul>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;div th:replace=&quot;common/navbar :: common-navbar(about)&quot;&gt;&lt;/div&gt;\n</code></pre>\n\n<ul>\n<li>check for it in the 'li' element to set the 'active' class</li>\n</ul>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;li th:class=&quot;${activeTab == 'about'}? 'active' : null&quot;&gt;&lt;a href=&quot;&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":12378298,"reputation":33,"user_id":9025106,"display_name":"Rodney Kimathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531216856,"creation_date":1525208603,"answer_id":50123801,"question_id":28559817,"body_markdown":"For those using Thymeleaf 3:\r\n\r\n    &lt;a th:href=&quot;@{/home}&quot; th:classappend=&quot;${#request.getRequestURI() == &#39;/home&#39; ? &#39;active&#39; : &#39;&#39;}&quot;&gt;Home&lt;/a&gt;\r\n\r\n\r\nIf you have a context path on your application:\r\n\r\n    &lt;a th:href=&quot;@{/home}&quot; th:classappend=&quot;${#request.getRequestURI() == &#39;/context-path/home&#39; ? &#39;active&#39; : &#39;&#39;}&quot;&gt;Home&lt;/a&gt;\r\n\r\n\r\n**Edit:**\r\n\r\nTo be concise:\r\n\r\n    &lt;a th:href=&quot;@{/home}&quot; th:classappend=&quot;${#request.getServletPath() == &#39;/home&#39; ? &#39;active&#39; : &#39;&#39;}&quot;&gt;Home&lt;/a&gt;\r\n\r\n\r\nThe benefit to using `request.getServletPath()` is that it ignores the context path, if there is one.","title":"Displaying active navigation based on contextual data","body":"<p>For those using Thymeleaf 3:</p>\n\n<pre><code>&lt;a th:href=\"@{/home}\" th:classappend=\"${#request.getRequestURI() == '/home' ? 'active' : ''}\"&gt;Home&lt;/a&gt;\n</code></pre>\n\n<p>If you have a context path on your application:</p>\n\n<pre><code>&lt;a th:href=\"@{/home}\" th:classappend=\"${#request.getRequestURI() == '/context-path/home' ? 'active' : ''}\"&gt;Home&lt;/a&gt;\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>To be concise:</p>\n\n<pre><code>&lt;a th:href=\"@{/home}\" th:classappend=\"${#request.getServletPath() == '/home' ? 'active' : ''}\"&gt;Home&lt;/a&gt;\n</code></pre>\n\n<p>The benefit to using <code>request.getServletPath()</code> is that it ignores the context path, if there is one.</p>\n"},{"tags":[],"owner":{"account_id":10850257,"reputation":671,"user_id":7978231,"accept_rate":90,"display_name":"Orkhan Hasanli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554833673,"creation_date":1554833673,"answer_id":55598884,"question_id":28559817,"body_markdown":"May be this code would be helpful for someone. Attention! It&#39;s not Thymeleaf solution, just js code which you can add on your pages.\r\n\r\n    var currentPage = location.href.match(/(.*?)([^\\/]+)$/).pop();\r\n            $(Array.prototype.filter.call($(&#39;.menu-head li a:nth-child(1)&#39;), function(item)\r\n            {\r\n                return item.href.endsWith(currentPage)\r\n            })).parents(&#39;li&#39;).addClass(&#39;active&#39;);","title":"Displaying active navigation based on contextual data","body":"<p>May be this code would be helpful for someone. Attention! It's not Thymeleaf solution, just js code which you can add on your pages.</p>\n\n<pre><code>var currentPage = location.href.match(/(.*?)([^\\/]+)$/).pop();\n        $(Array.prototype.filter.call($('.menu-head li a:nth-child(1)'), function(item)\n        {\n            return item.href.endsWith(currentPage)\n        })).parents('li').addClass('active');\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1694450173,"post_id":76765936,"comment_id":135889481,"body_markdown":"Great advice to use an advice for coping Thymeleafs abandoning of some former really usefuls utility objects.","body":"Great advice to use an advice for coping Thymeleafs abandoning of some former really usefuls utility objects."}],"tags":[],"owner":{"account_id":5146862,"reputation":579,"user_id":4132067,"display_name":"Joel Neukom"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699519349,"creation_date":1690313153,"answer_id":76765936,"question_id":28559817,"body_markdown":"In Thymeleaf 3.1.0+ you can provide the servlet path like this\r\n\r\n```GlobalController.java```:\r\n````java\r\n@ControllerAdvice\r\npublic class GlobalController {\r\n\r\n    @ModelAttribute(&quot;servletPath&quot;)\r\n    String getRequestServletPath(HttpServletRequest request) {\r\n        return request.getServletPath();\r\n    }\r\n}\r\n````\r\n\r\nAnd then you can use ${servletPath} in your html file:\r\n\r\nExample ```navbar.html```:\r\n````html\r\n&lt;ul class=&quot;nav nav-pills&quot;&gt;\r\n    &lt;li class=&quot;nav-item&quot;&gt;\r\n        &lt;a class=&quot;nav-link&quot; th:classappend=&quot;${servletPath == &#39;/&#39; ? &#39;active&#39;:&#39;&#39;}&quot; href=&quot;/&quot;&gt;Home&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li class=&quot;nav-item&quot;&gt;\r\n        &lt;a class=&quot;nav-link&quot; th:classappend=&quot;${servletPath == &#39;/parties&#39; ? &#39;active&#39;:&#39;&#39;}&quot; href=&quot;/csv&quot;&gt;Parties&lt;/a&gt;\r\n    &lt;/li&gt;\r\n&lt;/ul&gt;\r\n````\r\n\r\n----------\r\nAdditional:\r\nIf you don&#39;t want to pass servletPath to all your endpoints, you need to pass it manually on all endpoints for the pages used in the navigation:\r\n\r\n````java\r\n// Endpoint for thymeleaf. Add the ServletPath\r\n@GetMapping(&quot;/parties&quot;)\r\npublic String getPartiesPage(Model model, HttpServletRequest request) {\r\n    model.addAttribute(&quot;servletPath&quot;, request.getServletPath());\r\n    return &quot;parties&quot;;\r\n}\r\n\r\n// Endpoint for other application. Don&#39;t add servletPath\r\n@GetMapping(value = &quot;/v1/parties/{id}&quot;, produces = &quot;application/json;charset=utf-8&quot;)\r\npublic @ResponseBody PartyDto findBySystemOfRecordId(@PathVariable String id) {\r\n    return partyService.findBySystemOfRecordId(id);\r\n}\r\n````","title":"Displaying active navigation based on contextual data","body":"<p>In Thymeleaf 3.1.0+ you can provide the servlet path like this</p>\n<p><code>GlobalController.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class GlobalController {\n\n    @ModelAttribute(&quot;servletPath&quot;)\n    String getRequestServletPath(HttpServletRequest request) {\n        return request.getServletPath();\n    }\n}\n</code></pre>\n<p>And then you can use ${servletPath} in your html file:</p>\n<p>Example <code>navbar.html</code>:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul class=&quot;nav nav-pills&quot;&gt;\n    &lt;li class=&quot;nav-item&quot;&gt;\n        &lt;a class=&quot;nav-link&quot; th:classappend=&quot;${servletPath == '/' ? 'active':''}&quot; href=&quot;/&quot;&gt;Home&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=&quot;nav-item&quot;&gt;\n        &lt;a class=&quot;nav-link&quot; th:classappend=&quot;${servletPath == '/parties' ? 'active':''}&quot; href=&quot;/csv&quot;&gt;Parties&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n<hr />\n<p>Additional:\nIf you don't want to pass servletPath to all your endpoints, you need to pass it manually on all endpoints for the pages used in the navigation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Endpoint for thymeleaf. Add the ServletPath\n@GetMapping(&quot;/parties&quot;)\npublic String getPartiesPage(Model model, HttpServletRequest request) {\n    model.addAttribute(&quot;servletPath&quot;, request.getServletPath());\n    return &quot;parties&quot;;\n}\n\n// Endpoint for other application. Don't add servletPath\n@GetMapping(value = &quot;/v1/parties/{id}&quot;, produces = &quot;application/json;charset=utf-8&quot;)\npublic @ResponseBody PartyDto findBySystemOfRecordId(@PathVariable String id) {\n    return partyService.findBySystemOfRecordId(id);\n}\n</code></pre>\n"}],"owner":{"account_id":2229397,"reputation":3565,"user_id":1967395,"accept_rate":47,"display_name":"Capuchin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23876,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":28560284,"answer_count":7,"score":28,"last_activity_date":1699519349,"creation_date":1424168884,"question_id":28559817,"body_markdown":"I have the following separated fragment in a Thymeleaf template.\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;ul class=&quot;nav nav-tabs&quot;&gt;\r\n        &lt;li role=&quot;presentation&quot;&gt;&lt;a href=&quot;/&quot;&gt;Freight Invoices&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li role=&quot;presentation&quot;&gt;&lt;a href=&quot;/processed&quot;&gt;Processed Invoices&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li role=&quot;presentation&quot;&gt;&lt;a href=&quot;/postingrules&quot;&gt;Posting Rules&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li role=&quot;presentation&quot; class=&quot;active&quot;&gt;&lt;a href=&quot;/settings&quot;&gt;Settings&lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\nI want to add an &quot;active&quot; class to active navigation element — but it seems hard to accomplish in Thymyleaf. Any suggestions?","title":"Displaying active navigation based on contextual data","body":"<p>I have the following separated fragment in a Thymeleaf template.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul class=\"nav nav-tabs\"&gt;\n    &lt;li role=\"presentation\"&gt;&lt;a href=\"/\"&gt;Freight Invoices&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"presentation\"&gt;&lt;a href=\"/processed\"&gt;Processed Invoices&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"presentation\"&gt;&lt;a href=\"/postingrules\"&gt;Posting Rules&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"presentation\" class=\"active\"&gt;&lt;a href=\"/settings\"&gt;Settings&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I want to add an \"active\" class to active navigation element — but it seems hard to accomplish in Thymyleaf. Any suggestions?</p>\n"},{"tags":["java","bundle","exe","packaging","maven-shade-plugin"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1499494771,"post_id":44983169,"comment_id":76941256,"body_markdown":"https://stackoverflow.com/questions/7071133/how-to-bundle-a-jre-with-launch4j?rq=1","body":"<a href=\"https://stackoverflow.com/questions/7071133/how-to-bundle-a-jre-with-launch4j?rq=1\" title=\"how to bundle a jre with launch4j\">stackoverflow.com/questions/7071133/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1699518912,"creation_date":1499496089,"answer_id":44983322,"question_id":44983169,"body_markdown":"You cannot put a JRE inside a JAR file.  (Well you can ... but it won&#39;t help.)\r\n\r\nWhat you need to do is build and distribute an installer.  Prior to Java 9, the recommended way to create an installer is to use a commercial or open-source installer generator.  (Google will help you find one.)\r\n\r\nIt is also possible to do embed a JRE in a ZIP file, as described here:\r\n\r\n   - https://stackoverflow.com/questions/7071133/how-to-bundle-a-jre-with-launch4j (see the accepted answer)\r\n\r\nThe ZIP file contains the JRE and the application JAR, and other files that it needs.  The user has to unzip the ZIP file to install the application.\r\n\r\n---------------------\r\n\r\n&gt; .. but it&#39;s copying total JRE in client system of almost 100 MB.  Is it possible to make JRE light weight?\r\n\r\nNot really.  The most (legal) light-weight way to distribute a JRE is to distribute an Oracle Java installer.  Beware that the Java Binary License forbids the distribution of a cut-down JRE.  If you want to go down that path *talk to a lawyer first!!*\r\n\r\n---------------------\r\n\r\nDistributing Java apps with an embedded JRE is arguably a bad thing:\r\n  \r\n  - It fills up the user&#39;s disk with multiple JREs.\r\n  - The JREs tend to be hidden away / not visible to normal security updates / patching / audits.  Hence they tend to become a security liability.\r\n  - You need to regularly update your distributables ... to avoid foisting out-of-date / insecure JREs on the unsuspecting user.\r\n\r\n---------------------\r\n\r\nFrom Java 9 onwards there is a better solution than including a standard JRE in your installer.  Use the new `jlink` utility to create a tailored JRE for your application; see https://www.baeldung.com/jlink for a tutorial, and the Oracle [Jlink manual entry][1].\r\n\r\nNote that `jlink` addresses the concerns with embedded JREs that we mentioned above.  But it **clearly makes it your responsibility&lt;sup&gt;1&lt;/sup&gt;** to provide JVM security patches to your users in the form of new jlink&#39;d distributables.\r\n\r\nFrom Java 14 onwards you can use `jpackager` to create an installer or installable for your application.  This will include an embedded JRE and a custom launcher.\r\n\r\nFinally, you could consider using GraalVM to generate a executable binary for application.\r\n\r\n&lt;sup&gt;1 - In reality, it has *always* been an application supplier / vendor&#39;s responsibility to advise and assist customers in upgrading embedded JREs.  Unfortunately, many vendors neglected this, leading to customers running applications with known Java vulnerabilities, and Sun/Oracle getting the blame ... unfairly ... for the vendor&#39;s failings.&lt;/sup&gt; \r\n\r\n  [1]: https://docs.oracle.com/javase/9/tools/jlink.htm","title":"How do I bundle a JRE in my JAR, so that it can run on systems without Java?","body":"<p>You cannot put a JRE inside a JAR file.  (Well you can ... but it won't help.)</p>\n<p>What you need to do is build and distribute an installer.  Prior to Java 9, the recommended way to create an installer is to use a commercial or open-source installer generator.  (Google will help you find one.)</p>\n<p>It is also possible to do embed a JRE in a ZIP file, as described here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7071133/how-to-bundle-a-jre-with-launch4j\">How to bundle a JRE with Launch4j?</a> (see the accepted answer)</li>\n</ul>\n<p>The ZIP file contains the JRE and the application JAR, and other files that it needs.  The user has to unzip the ZIP file to install the application.</p>\n<hr />\n<blockquote>\n<p>.. but it's copying total JRE in client system of almost 100 MB.  Is it possible to make JRE light weight?</p>\n</blockquote>\n<p>Not really.  The most (legal) light-weight way to distribute a JRE is to distribute an Oracle Java installer.  Beware that the Java Binary License forbids the distribution of a cut-down JRE.  If you want to go down that path <em>talk to a lawyer first!!</em></p>\n<hr />\n<p>Distributing Java apps with an embedded JRE is arguably a bad thing:</p>\n<ul>\n<li>It fills up the user's disk with multiple JREs.</li>\n<li>The JREs tend to be hidden away / not visible to normal security updates / patching / audits.  Hence they tend to become a security liability.</li>\n<li>You need to regularly update your distributables ... to avoid foisting out-of-date / insecure JREs on the unsuspecting user.</li>\n</ul>\n<hr />\n<p>From Java 9 onwards there is a better solution than including a standard JRE in your installer.  Use the new <code>jlink</code> utility to create a tailored JRE for your application; see <a href=\"https://www.baeldung.com/jlink\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jlink</a> for a tutorial, and the Oracle <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"nofollow noreferrer\">Jlink manual entry</a>.</p>\n<p>Note that <code>jlink</code> addresses the concerns with embedded JREs that we mentioned above.  But it <strong>clearly makes it your responsibility<sup>1</sup></strong> to provide JVM security patches to your users in the form of new jlink'd distributables.</p>\n<p>From Java 14 onwards you can use <code>jpackager</code> to create an installer or installable for your application.  This will include an embedded JRE and a custom launcher.</p>\n<p>Finally, you could consider using GraalVM to generate a executable binary for application.</p>\n<p><sup>1 - In reality, it has <em>always</em> been an application supplier / vendor's responsibility to advise and assist customers in upgrading embedded JREs.  Unfortunately, many vendors neglected this, leading to customers running applications with known Java vulnerabilities, and Sun/Oracle getting the blame ... unfairly ... for the vendor's failings.</sup></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1613347655,"post_id":55939476,"comment_id":117040578,"body_markdown":"This does not address the question asked.  A shaded JAR doesn&#39;t contain an embedded JRE.","body":"This does not address the question asked.  A shaded JAR doesn&#39;t contain an embedded JRE."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1620625419,"post_id":55939476,"comment_id":119245656,"body_markdown":"So ... in this case ... better never than later with an off-topic answer.","body":"So ... in this case ... better never than later with an off-topic answer."}],"tags":[],"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"comment_count":2,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1556728492,"creation_date":1556728492,"answer_id":55939476,"question_id":44983169,"body_markdown":"Late better than never. I used maven-shade-plugin in the pom.xml as follows:\r\n\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.4.3&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                      &lt;transformer\r\n                        implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                      &lt;transformer\r\n                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                          &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                      &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                  &lt;!-- If false the shaded artifact takes the normal artifact name, such as,  &quot;core-tools-1.0-SNAPSHOT.jar&quot;--&gt;\r\n                  &lt;!-- Meanwhile, another non-shaded version takes the prefix Original, such as  &quot;Original-core-tools-1.0-SNAPSHOT.jar&quot;--&gt;\r\n                &lt;shadedArtifactAttached&gt;false&lt;/shadedArtifactAttached&gt;\r\n                  &lt;!-- Exclude signed Manifests from the UberJar --&gt;\r\n                  &lt;filters&gt;\r\n                      &lt;filter&gt;\r\n                          &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                          &lt;excludes&gt;\r\n                              &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                              &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                              &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                          &lt;/excludes&gt;\r\n                      &lt;/filter&gt;\r\n                      &lt;filter&gt;\r\n                          &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                          &lt;includes&gt;\r\n                              &lt;include&gt;sun/misc/**&lt;/include&gt;\r\n                          &lt;/includes&gt;\r\n                      &lt;/filter&gt;\r\n                  &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                          &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"How do I bundle a JRE in my JAR, so that it can run on systems without Java?","body":"<p>Late better than never. I used maven-shade-plugin in the pom.xml as follows:</p>\n\n<pre><code>        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.4.3&lt;/version&gt;\n          &lt;configuration&gt;\n              &lt;transformers&gt;\n                  &lt;transformer\n                    implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n                  &lt;transformer\n                    implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                      &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                  &lt;/transformer&gt;\n              &lt;/transformers&gt;\n              &lt;!-- If false the shaded artifact takes the normal artifact name, such as,  \"core-tools-1.0-SNAPSHOT.jar\"--&gt;\n              &lt;!-- Meanwhile, another non-shaded version takes the prefix Original, such as  \"Original-core-tools-1.0-SNAPSHOT.jar\"--&gt;\n            &lt;shadedArtifactAttached&gt;false&lt;/shadedArtifactAttached&gt;\n              &lt;!-- Exclude signed Manifests from the UberJar --&gt;\n              &lt;filters&gt;\n                  &lt;filter&gt;\n                      &lt;artifact&gt;*:*&lt;/artifact&gt;\n                      &lt;excludes&gt;\n                          &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                          &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                          &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                      &lt;/excludes&gt;\n                  &lt;/filter&gt;\n                  &lt;filter&gt;\n                      &lt;artifact&gt;*:*&lt;/artifact&gt;\n                      &lt;includes&gt;\n                          &lt;include&gt;sun/misc/**&lt;/include&gt;\n                      &lt;/includes&gt;\n                  &lt;/filter&gt;\n              &lt;/filters&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22668154,"reputation":121,"user_id":16840210,"display_name":"deateaterOG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633949966,"creation_date":1633949966,"answer_id":69525110,"question_id":44983169,"body_markdown":"It did work for me with launch4j\r\n\r\nfirst create an app folder\r\nthen open launch4j and type in the jar file, output file (should be in the app folder), and the icon (please have it in app folder). then go to the jre part and type jre-{version ur using} in the bundled jre paths then put option only use private jdk runtimes then put the min version to ur java version, then go the jdk installation and copy the bin and lib folder then create a jre-{version ur using} folder then paste these in. Then compile it into exe!","title":"How do I bundle a JRE in my JAR, so that it can run on systems without Java?","body":"<p>It did work for me with launch4j</p>\n<p>first create an app folder\nthen open launch4j and type in the jar file, output file (should be in the app folder), and the icon (please have it in app folder). then go to the jre part and type jre-{version ur using} in the bundled jre paths then put option only use private jdk runtimes then put the min version to ur java version, then go the jdk installation and copy the bin and lib folder then create a jre-{version ur using} folder then paste these in. Then compile it into exe!</p>\n"}],"owner":{"account_id":10919604,"reputation":201,"user_id":8026363,"display_name":"amarnadh reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23184,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1699518912,"creation_date":1499494625,"question_id":44983169,"body_markdown":"I want to bundle a JRE inside my executable JAR, so that the exe can run on any system.\r\n\r\nI have tried [Launch4j](http://launch4j.sourceforge.net/), but that approach requires me to ship both the JRE and the exe. As per my requirements, I should not use an installer to ship, nor extract/install the JRE on the client machine.\r\n\r\nHow do I put a JRE inside a JAR and make use of it?","title":"How do I bundle a JRE in my JAR, so that it can run on systems without Java?","body":"<p>I want to bundle a JRE inside my executable JAR, so that the exe can run on any system.</p>\n\n<p>I have tried <a href=\"http://launch4j.sourceforge.net/\" rel=\"noreferrer\">Launch4j</a>, but that approach requires me to ship both the JRE and the exe. As per my requirements, I should not use an installer to ship, nor extract/install the JRE on the client machine.</p>\n\n<p>How do I put a JRE inside a JAR and make use of it?</p>\n"},{"tags":["java","sql","spring-data-jpa","spring-data","jpql"],"answers":[{"comments":[{"owner":{"account_id":29726894,"reputation":313,"user_id":22782586,"display_name":"Sahab"},"score":0,"creation_date":1699512823,"post_id":77450951,"comment_id":136541884,"body_markdown":"@Ems good day, If you find difficult to write JPQL query, I can help you if you share related entity / domains with me","body":"@Ems good day, If you find difficult to write JPQL query, I can help you if you share related entity / domains with me"},{"owner":{"account_id":21347392,"reputation":95,"user_id":15717256,"display_name":"Ems"},"score":0,"creation_date":1699518601,"post_id":77450951,"comment_id":136542748,"body_markdown":"Hi Sahab, thank you so much ! I am conscious it would be quite long and tedious for the both of us to try and recreate the whole context of my specific query. I have updated my question to put a more generic query.","body":"Hi Sahab, thank you so much ! I am conscious it would be quite long and tedious for the both of us to try and recreate the whole context of my specific query. I have updated my question to put a more generic query."},{"owner":{"account_id":29726894,"reputation":313,"user_id":22782586,"display_name":"Sahab"},"score":0,"creation_date":1699519428,"post_id":77450951,"comment_id":136542918,"body_markdown":"seems like you updated your previous query, here is sample jpql \n\nSELECT s.name, max_sale.amount, max_sale_customer.customer_name\nFROM Salesperson s\nJOIN (\n    SELECT a.salesperson.id, MAX(a.amount) AS amount\n    FROM AllSales a\n    GROUP BY a.salesperson.id\n) AS max_sale ON s.id = max_sale.id\nJOIN (\n    SELECT a.salesperson.id, a.customer_name\n    FROM AllSales a\n    WHERE a.amount = (\n        SELECT MAX(a.amount)\n        FROM AllSales a\n        WHERE a.salesperson.id = s.id\n    )\n) AS max_sale_customer ON s.id = max_sale_customer.id","body":"seems like you updated your previous query, here is sample jpql   SELECT s.name, max_sale.amount, max_sale_customer.customer_name FROM Salesperson s JOIN (     SELECT a.salesperson.id, MAX(a.amount) AS amount     FROM AllSales a     GROUP BY a.salesperson.id ) AS max_sale ON s.id = max_sale.id JOIN (     SELECT a.salesperson.id, a.customer_name     FROM AllSales a     WHERE a.amount = (         SELECT MAX(a.amount)         FROM AllSales a         WHERE a.salesperson.id = s.id     ) ) AS max_sale_customer ON s.id = max_sale_customer.id"},{"owner":{"account_id":29726894,"reputation":313,"user_id":22782586,"display_name":"Sahab"},"score":0,"creation_date":1699519547,"post_id":77450951,"comment_id":136542950,"body_markdown":"Salesperson, AllSales are your entity , you have write an interface considering your select fields s.name, max_sale.amount, max_sale_customer.customer_name and complete the steps describe in the answer","body":"Salesperson, AllSales are your entity , you have write an interface considering your select fields s.name, max_sale.amount, max_sale_customer.customer_name and complete the steps describe in the answer"}],"tags":[],"owner":{"account_id":29726894,"reputation":313,"user_id":22782586,"display_name":"Sahab"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699511620,"creation_date":1699511620,"answer_id":77450951,"question_id":77447612,"body_markdown":"**Please Follow this steps** \r\n\r\n&gt; - First identify what will be your select fields \r\n&gt; - Write an interface considering your select fields for example  InterfaceGarDto\r\n    \r\n   \r\n\r\n     public interface InterfaceGarDto {\r\n         Long getIdGar();\r\n         LocalDate  getStartDateLink();\r\n         String getToplink();\r\n         String getIdPrdeTauxRef();\r\n         LocalDate getEndDatePrde();\r\n    }\r\n    \r\n     \r\n    \r\n\r\n&gt; - Considering your entity/domain write your JPQL query \r\n&gt; - Use EntityManager to get your expected result from below code \r\n\r\n    Query q = entityManager.createQuery(&quot;[ your jpql query ]&quot;);\r\n    List&lt;InterfaceGarDto&gt; resultList  = q.getResultList();\r\n\r\n   \r\n","title":"How to convert an SQL query which contains a lateral derived table to JPQL?","body":"<p><strong>Please Follow this steps</strong></p>\n<blockquote>\n<ul>\n<li>First identify what will be your select fields</li>\n<li>Write an interface considering your select fields for example  InterfaceGarDto</li>\n</ul>\n</blockquote>\n<pre><code> public interface InterfaceGarDto {\n     Long getIdGar();\n     LocalDate  getStartDateLink();\n     String getToplink();\n     String getIdPrdeTauxRef();\n     LocalDate getEndDatePrde();\n}\n\n \n</code></pre>\n<blockquote>\n<ul>\n<li>Considering your entity/domain write your JPQL query</li>\n<li>Use EntityManager to get your expected result from below code</li>\n</ul>\n</blockquote>\n<pre><code>Query q = entityManager.createQuery(&quot;[ your jpql query ]&quot;);\nList&lt;InterfaceGarDto&gt; resultList  = q.getResultList();\n</code></pre>\n"}],"owner":{"account_id":21347392,"reputation":95,"user_id":15717256,"display_name":"Ems"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1699518881,"creation_date":1699463371,"question_id":77447612,"body_markdown":"I am trying to convert the following SQL query into JPQL in order to fit it into a Spring Data @Query. I cannot find any documentation mentioning this specific case. Has anyone ever tried, and succeeded? I would like to avoid resorting to a native query.\r\n\r\n```\r\n`SELECT\r\n  salesperson.name,\r\n  max_sale.amount,\r\n  max_sale_customer.customer_name\r\nFROM\r\n  salesperson,\r\n  -- calculate maximum size, cache it in transient derived table max_sale\r\n  LATERAL\r\n  (SELECT MAX(amount) AS amount\r\n    FROM all_sales\r\n    WHERE all_sales.salesperson_id = salesperson.id)\r\n  AS max_sale,\r\n  -- find customer, reusing cached maximum size\r\n  LATERAL\r\n  (SELECT customer_name\r\n    FROM all_sales\r\n    WHERE all_sales.salesperson_id = salesperson.id\r\n    AND all_sales.amount =\r\n        -- the cached maximum size\r\n        max_sale.amount)\r\n  AS max_sale_customer;``\r\n```\r\n\r\nThis query can be found on [MySql documentation][1]. The query I am trying to use is different but it follows the same principle, and I am unable to find any documentation on how to convert it to JPQL.\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/lateral-derived-tables.html","title":"How to convert an SQL query which contains a lateral derived table to JPQL?","body":"<p>I am trying to convert the following SQL query into JPQL in order to fit it into a Spring Data @Query. I cannot find any documentation mentioning this specific case. Has anyone ever tried, and succeeded? I would like to avoid resorting to a native query.</p>\n<pre><code>`SELECT\n  salesperson.name,\n  max_sale.amount,\n  max_sale_customer.customer_name\nFROM\n  salesperson,\n  -- calculate maximum size, cache it in transient derived table max_sale\n  LATERAL\n  (SELECT MAX(amount) AS amount\n    FROM all_sales\n    WHERE all_sales.salesperson_id = salesperson.id)\n  AS max_sale,\n  -- find customer, reusing cached maximum size\n  LATERAL\n  (SELECT customer_name\n    FROM all_sales\n    WHERE all_sales.salesperson_id = salesperson.id\n    AND all_sales.amount =\n        -- the cached maximum size\n        max_sale.amount)\n  AS max_sale_customer;``\n</code></pre>\n<p>This query can be found on <a href=\"https://dev.mysql.com/doc/refman/8.0/en/lateral-derived-tables.html\" rel=\"nofollow noreferrer\">MySql documentation</a>. The query I am trying to use is different but it follows the same principle, and I am unable to find any documentation on how to convert it to JPQL.</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":10003396,"reputation":1990,"user_id":7398653,"display_name":"gsalem"},"score":0,"creation_date":1699514596,"post_id":77450946,"comment_id":136542108,"body_markdown":"would [this](https://stackoverflow.com/questions/24902849/how-to-call-oracle-function-from-java) answer your question? Basically you&#39;re trying to use an out param to get the return value of a function, which is wrong.","body":"would <a href=\"https://stackoverflow.com/questions/24902849/how-to-call-oracle-function-from-java\">this</a> answer your question? Basically you&#39;re trying to use an out param to get the return value of a function, which is wrong."}],"answers":[{"comments":[{"owner":{"account_id":1464588,"reputation":1889,"user_id":1377850,"accept_rate":31,"display_name":"franco"},"score":0,"creation_date":1699518627,"post_id":77451284,"comment_id":136542756,"body_markdown":"thanks a lot , juste become like this :  String query = &quot;begin ?:=integ_pkg.insert_order(?) ; end;&quot;;","body":"thanks a lot , juste become like this :  String query = &quot;begin ?:=integ_pkg.insert_order(?) ; end;&quot;;"}],"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699518820,"creation_date":1699515522,"answer_id":77451284,"question_id":77450946,"body_markdown":"Try this variation of your first attempt, not sure if there is a better way but at least it should work:\r\n\r\n\r\n    String input=   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \r\n          &quot;                                [\\r\\n&quot; + \r\n          &quot;                                    {\\r\\n&quot; + \r\n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n          &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \r\n          &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n          &quot;                                    }\\r\\n&quot; + \r\n          &quot;                                ]\\r\\n&quot; + \r\n          &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \r\n          &quot;                                [\\r\\n&quot; + \r\n          &quot;                                    {\\r\\n&quot; + \r\n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n          &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n          &quot;                                    }\\r\\n&quot; + \r\n          &quot;                                ]\\r\\n&quot; + \r\n          &quot;                        }&quot;;\r\n          \r\n          \r\n    Connection con = null;\r\n        CallableStatement cs = null;\r\n        \r\n        try {\r\n            \r\n        \r\n            con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@10.25.25.25:1521/demoDB&quot;, &quot;demo&quot;, &quot;demo&quot;);\r\n            String query = &quot;begin ?:=integ_pkg.insert_order(?); end;&quot;;\r\n            cs = con.prepareCall(query);\r\n            cs.setString(2, input);\r\n            cs.registerOutParameter(1, java.sql.Types.CLOB);\r\n            cs.executeUpdate();\r\n            \r\n            System.out.println(cs.getClob(1));\r\n            System.out.println(cs.getString(1));\r\n            \r\n            \r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n            \r\n            System.out.println(e.getMessage());\r\n        }\r\n         finally {\r\n\r\n                if (cs != null) {\r\n                \r\n                    try {\r\n                        cs.close();\r\n                    } catch (SQLException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                if (con != null) {\r\n                \r\n                    try {\r\n                        con.close();\r\n                    } catch (SQLException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                \r\n                \r\n\r\n            }","title":"call function in oracle with output parameter Missing IN or OUT parameter at index","body":"<p>Try this variation of your first attempt, not sure if there is a better way but at least it should work:</p>\n<pre><code>String input=   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \n      &quot;                                [\\r\\n&quot; + \n      &quot;                                    {\\r\\n&quot; + \n      &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n      &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \n      &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n      &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n      &quot;                                    }\\r\\n&quot; + \n      &quot;                                ]\\r\\n&quot; + \n      &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \n      &quot;                                [\\r\\n&quot; + \n      &quot;                                    {\\r\\n&quot; + \n      &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n      &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n      &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n      &quot;                                    }\\r\\n&quot; + \n      &quot;                                ]\\r\\n&quot; + \n      &quot;                        }&quot;;\n      \n      \nConnection con = null;\n    CallableStatement cs = null;\n    \n    try {\n        \n    \n        con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@10.25.25.25:1521/demoDB&quot;, &quot;demo&quot;, &quot;demo&quot;);\n        String query = &quot;begin ?:=integ_pkg.insert_order(?); end;&quot;;\n        cs = con.prepareCall(query);\n        cs.setString(2, input);\n        cs.registerOutParameter(1, java.sql.Types.CLOB);\n        cs.executeUpdate();\n        \n        System.out.println(cs.getClob(1));\n        System.out.println(cs.getString(1));\n        \n        \n    } catch (Exception e) {\n        // TODO: handle exception\n        \n        System.out.println(e.getMessage());\n    }\n     finally {\n\n            if (cs != null) {\n            \n                try {\n                    cs.close();\n                } catch (SQLException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n\n            if (con != null) {\n            \n                try {\n                    con.close();\n                } catch (SQLException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n            \n            \n\n        }\n</code></pre>\n"}],"owner":{"account_id":1464588,"reputation":1889,"user_id":1377850,"accept_rate":31,"display_name":"franco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77451284,"answer_count":1,"score":2,"last_activity_date":1699518820,"creation_date":1699511551,"question_id":77450946,"body_markdown":"I want to call function in oracle with output parameter.\r\n\r\nthis is the scenario of test which have been done directly in database and it&#39;s working\r\n\r\n    declare\r\n        request_detail clob := &#39;{ &quot;p_principal&quot;:\r\n                                    [\r\n                                        {\r\n                                        &quot;p_emp&quot;: 200,\r\n                                        &quot;p_request&quot;: 23,\r\n                                        &quot;p_date&quot;: &quot;23-10-2024&quot;,\r\n                                        &quot;p_info&quot;: &quot;test&quot;\r\n                                        }\r\n                                    ]\r\n                                    ,&quot;p_detail&quot;:\r\n                                    [\r\n                                        {\r\n                                        &quot;p_emp&quot;: 200,\r\n                                        &quot;p_date&quot;: &quot;23-10-2024&quot;,\r\n                                        &quot;p_info&quot;: &quot;test&quot;\r\n                                        }\r\n                                    ]\r\n                            }&#39;;\r\n        json_out                    clob;\r\n    begin\r\n    \r\n    json_out := integ_pkg.insert_order(request_detail);\r\n    dbms_output.put_line(json_out);\r\n    end;\r\n        \r\n\r\nthe output is like this :\r\n\r\n      {&quot;p_principal&quot;:[{&quot;p_num_generate&quot;:15,&quot;p_error&quot;:null}]\r\n    ,&quot;p_detail&quot;:[{&quot;p_emp&quot;:200,&quot;p_error&quot;:null}]}\r\n\r\n\r\nNow I want to call it from java :\r\n\r\n\r\nI try with this code :\r\n\r\n\r\n     String input=   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \r\n              &quot;                                [\\r\\n&quot; + \r\n              &quot;                                    {\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \r\n              &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n              &quot;                                    }\\r\\n&quot; + \r\n              &quot;                                ]\\r\\n&quot; + \r\n              &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \r\n              &quot;                                [\\r\\n&quot; + \r\n              &quot;                                    {\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n              &quot;                                    }\\r\\n&quot; + \r\n              &quot;                                ]\\r\\n&quot; + \r\n              &quot;                        }&quot;;\r\n    \t\t  \r\n    \t\t  \r\n    \tConnection con = null;\r\n    \t\tCallableStatement cs = null;\r\n            \r\n        \ttry {\r\n    \t\t\t\r\n        \t\r\n    \t\t\tcon = DriverManager.getConnection(&quot;jdbc:oracle:thin:@10.25.25.25:1521/demoDB&quot;, &quot;demo&quot;, &quot;demo&quot;);\r\n    \t\t\tString query = &quot;{call integ_pkg.insert_order(&quot; + input + &quot;) )}&quot;;\r\n    \t\t\tcs = con.prepareCall(query);\r\n    \t\t\tcs.registerOutParameter(1, java.sql.Types.CLOB);\r\n    \t\t\tcs.executeUpdate();\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(cs.getClob(1));\r\n    \t\t\tSystem.out.println(cs.getString(1));\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t\t finally {\r\n    \r\n    \t\t\t\tif (cs != null) {\r\n    \t\t\t\t\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tcs.close();\r\n    \t\t\t\t\t} catch (SQLException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif (con != null) {\r\n    \t\t\t\t\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tcon.close();\r\n    \t\t\t\t\t} catch (SQLException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \r\n    \t\t\t}\r\n\r\nbut when I test I have this error\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\r\n    Missing IN or OUT parameter at index:: 2\r\n\t\t\t\r\n\r\ncan someone help me to solve this problem\r\n\r\n\r\n****Updated :****\r\n\r\n\r\nalso I try with :\r\n\r\n\r\n\r\n    JSONObject input = new JSONObject(   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \r\n              &quot;                                [\\r\\n&quot; + \r\n              &quot;                                    {\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \r\n              &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n              &quot;                                    }\\r\\n&quot; + \r\n              &quot;                                ]\\r\\n&quot; + \r\n              &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \r\n              &quot;                                [\\r\\n&quot; + \r\n              &quot;                                    {\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n              &quot;                                    }\\r\\n&quot; + \r\n              &quot;                                ]\\r\\n&quot; + \r\n              &quot;                        }&quot;);\r\n    \t\t  \r\n        \tStoredProcedureQuery query = em\r\n         \t\t    .createStoredProcedureQuery(&quot;integ_pkg.insert_order&quot;)\r\n         \t\t    .registerStoredProcedureParameter(&quot;input&quot;, JSONObject.class, ParameterMode.IN)\r\n         \t\t    .registerStoredProcedureParameter(&quot;v_json_out&quot;, JSONObject.class, ParameterMode.OUT)\r\n         \t\t    .setParameter(&quot;input&quot;, input);\r\n         \t\t \r\n         \t\tquery.execute();\r\n         \t\t \r\n         \t\tJSONObject v_json_out = (JSONObject) query\r\n         \t\t    .getOutputParameterValue(&quot;v_json_out&quot;);\r\n\r\n\r\nbut I have this error :\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Type cannot be null\r\n\r\nalso I try with :\r\n\r\n\r\n\t\r\n\r\n     String input=   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \r\n              &quot;                                [\\r\\n&quot; + \r\n              &quot;                                    {\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \r\n              &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n              &quot;                                    }\\r\\n&quot; + \r\n              &quot;                                ]\\r\\n&quot; + \r\n              &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \r\n              &quot;                                [\\r\\n&quot; + \r\n              &quot;                                    {\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n              &quot;                                    }\\r\\n&quot; + \r\n              &quot;                                ]\\r\\n&quot; + \r\n              &quot;                        }&quot;;\r\n    \t\t  \r\n    \t\t    \r\n         \tStoredProcedureQuery query = em\r\n         \t\t    .createStoredProcedureQuery(&quot;integ_pkg.insert_order&quot;)\r\n         \t\t    .registerStoredProcedureParameter(&quot;input&quot;, String.class, ParameterMode.IN)\r\n         \t\t    .registerStoredProcedureParameter(&quot;v_json_out&quot;, String.class, ParameterMode.OUT)\r\n         \t\t    .setParameter(&quot;input&quot;, input);\r\n         \t\t \r\n         \t\tquery.execute();\r\n         \t\t \r\n         \t\tString v_json_out = (String) query\r\n         \t\t    .getOutputParameterValue(&quot;v_json_out&quot;);\r\n         \t\r\n         \t\tSystem.out.println(v_json_out);\r\n\r\n  but I have this error :\r\n\r\n \r\n\r\n     Caused by: java.sql.SQLException: ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;insert_order&#39;\r\n    ORA-06550: line 1, column 7:\r\n    PL/SQL: Statement ignored","title":"call function in oracle with output parameter Missing IN or OUT parameter at index","body":"<p>I want to call function in oracle with output parameter.</p>\n<p>this is the scenario of test which have been done directly in database and it's working</p>\n<pre><code>declare\n    request_detail clob := '{ &quot;p_principal&quot;:\n                                [\n                                    {\n                                    &quot;p_emp&quot;: 200,\n                                    &quot;p_request&quot;: 23,\n                                    &quot;p_date&quot;: &quot;23-10-2024&quot;,\n                                    &quot;p_info&quot;: &quot;test&quot;\n                                    }\n                                ]\n                                ,&quot;p_detail&quot;:\n                                [\n                                    {\n                                    &quot;p_emp&quot;: 200,\n                                    &quot;p_date&quot;: &quot;23-10-2024&quot;,\n                                    &quot;p_info&quot;: &quot;test&quot;\n                                    }\n                                ]\n                        }';\n    json_out                    clob;\nbegin\n\njson_out := integ_pkg.insert_order(request_detail);\ndbms_output.put_line(json_out);\nend;\n    \n</code></pre>\n<p>the output is like this :</p>\n<pre><code>  {&quot;p_principal&quot;:[{&quot;p_num_generate&quot;:15,&quot;p_error&quot;:null}]\n,&quot;p_detail&quot;:[{&quot;p_emp&quot;:200,&quot;p_error&quot;:null}]}\n</code></pre>\n<p>Now I want to call it from java :</p>\n<p>I try with this code :</p>\n<pre><code> String input=   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \n          &quot;                                [\\r\\n&quot; + \n          &quot;                                    {\\r\\n&quot; + \n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \n          &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n          &quot;                                    }\\r\\n&quot; + \n          &quot;                                ]\\r\\n&quot; + \n          &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \n          &quot;                                [\\r\\n&quot; + \n          &quot;                                    {\\r\\n&quot; + \n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n          &quot;                                    }\\r\\n&quot; + \n          &quot;                                ]\\r\\n&quot; + \n          &quot;                        }&quot;;\n          \n          \n    Connection con = null;\n        CallableStatement cs = null;\n        \n        try {\n            \n        \n            con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@10.25.25.25:1521/demoDB&quot;, &quot;demo&quot;, &quot;demo&quot;);\n            String query = &quot;{call integ_pkg.insert_order(&quot; + input + &quot;) )}&quot;;\n            cs = con.prepareCall(query);\n            cs.registerOutParameter(1, java.sql.Types.CLOB);\n            cs.executeUpdate();\n            \n            System.out.println(cs.getClob(1));\n            System.out.println(cs.getString(1));\n            \n            \n        } catch (Exception e) {\n            // TODO: handle exception\n            \n            System.out.println(e.getMessage());\n        }\n         finally {\n\n                if (cs != null) {\n                \n                    try {\n                        cs.close();\n                    } catch (SQLException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n\n                if (con != null) {\n                \n                    try {\n                        con.close();\n                    } catch (SQLException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                }\n                \n                \n\n            }\n</code></pre>\n<p>but when I test I have this error</p>\n<pre><code>Missing IN or OUT parameter at index:: 2\n        \n</code></pre>\n<p>can someone help me to solve this problem</p>\n<p><strong><strong>Updated :</strong></strong></p>\n<p>also I try with :</p>\n<pre><code>JSONObject input = new JSONObject(   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \n          &quot;                                [\\r\\n&quot; + \n          &quot;                                    {\\r\\n&quot; + \n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \n          &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n          &quot;                                    }\\r\\n&quot; + \n          &quot;                                ]\\r\\n&quot; + \n          &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \n          &quot;                                [\\r\\n&quot; + \n          &quot;                                    {\\r\\n&quot; + \n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n          &quot;                                    }\\r\\n&quot; + \n          &quot;                                ]\\r\\n&quot; + \n          &quot;                        }&quot;);\n          \n        StoredProcedureQuery query = em\n                .createStoredProcedureQuery(&quot;integ_pkg.insert_order&quot;)\n                .registerStoredProcedureParameter(&quot;input&quot;, JSONObject.class, ParameterMode.IN)\n                .registerStoredProcedureParameter(&quot;v_json_out&quot;, JSONObject.class, ParameterMode.OUT)\n                .setParameter(&quot;input&quot;, input);\n             \n            query.execute();\n             \n            JSONObject v_json_out = (JSONObject) query\n                .getOutputParameterValue(&quot;v_json_out&quot;);\n</code></pre>\n<p>but I have this error :</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Type cannot be null\n</code></pre>\n<p>also I try with :</p>\n<pre><code> String input=   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \n          &quot;                                [\\r\\n&quot; + \n          &quot;                                    {\\r\\n&quot; + \n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \n          &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n          &quot;                                    }\\r\\n&quot; + \n          &quot;                                ]\\r\\n&quot; + \n          &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \n          &quot;                                [\\r\\n&quot; + \n          &quot;                                    {\\r\\n&quot; + \n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n          &quot;                                    }\\r\\n&quot; + \n          &quot;                                ]\\r\\n&quot; + \n          &quot;                        }&quot;;\n          \n            \n        StoredProcedureQuery query = em\n                .createStoredProcedureQuery(&quot;integ_pkg.insert_order&quot;)\n                .registerStoredProcedureParameter(&quot;input&quot;, String.class, ParameterMode.IN)\n                .registerStoredProcedureParameter(&quot;v_json_out&quot;, String.class, ParameterMode.OUT)\n                .setParameter(&quot;input&quot;, input);\n             \n            query.execute();\n             \n            String v_json_out = (String) query\n                .getOutputParameterValue(&quot;v_json_out&quot;);\n        \n            System.out.println(v_json_out);\n</code></pre>\n<p>but I have this error :</p>\n<pre><code> Caused by: java.sql.SQLException: ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'insert_order'\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n</code></pre>\n"},{"tags":["java","findbugs"],"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":5,"creation_date":1357911083,"post_id":14278870,"comment_id":19825235,"body_markdown":"*field.setAccessible(true);* requires `suppressAccessChecks` permission.  You can &quot;solve&quot; the case via `AccessController.doPrivileged(...)` wrapping the entire code within a `PrivilegedAction`. Alternatively ignore this warning from FindBugs. Not all bugs/warnings are valid in any context. Also the entire function might be already wrapped but usually FindBugs won&#39;t manage to detect that.","body":"<i>field.setAccessible(true);</i> requires <code>suppressAccessChecks</code> permission.  You can &quot;solve&quot; the case via <code>AccessController.doPrivileged(...)</code> wrapping the entire code within a <code>PrivilegedAction</code>. Alternatively ignore this warning from FindBugs. Not all bugs/warnings are valid in any context. Also the entire function might be already wrapped but usually FindBugs won&#39;t manage to detect that."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1415485488,"creation_date":1415484943,"answer_id":26822691,"question_id":14278870,"body_markdown":"From the Javadocs of [`field#setAccessible(boolean)`](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible-boolean-):\r\n\r\n&gt;First, if there is a security manager, its checkPermission method is called with a ReflectPermission(&quot;suppressAccessChecks&quot;) permission.\r\n\r\nWithout a `SecurityManager` installed, the program will run fine. However, imagine that your code is written as a shared library, and it happens to be used by some module that has setup a security manager in place. In this case, `field.setAccessible(true)` may be denied permission even though this and other operations in your code are considered as trusted code. That&#39;s why FindBugs raises this warning.\r\n\r\nIn order to guarantee that `field.setAccessible(true)` will always be granted permission regardless of the permissions of the caller code, you can wrap the statement inside a `AccessController.doPrivileged` (you&#39;d have to make `field` final):\r\n\r\n    AccessController.doPrivileged(new PrivilegedAction() {\r\n\t\t@Override\r\n\t\tpublic Object run() {\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t});\r\n\r\n\r\n","title":"How to solve FindBugs DP_DO_INSIDE_DO_PRIVILEGED","body":"<p>From the Javadocs of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AccessibleObject.html#setAccessible-boolean-\"><code>field#setAccessible(boolean)</code></a>:</p>\n\n<blockquote>\n  <p>First, if there is a security manager, its checkPermission method is called with a ReflectPermission(\"suppressAccessChecks\") permission.</p>\n</blockquote>\n\n<p>Without a <code>SecurityManager</code> installed, the program will run fine. However, imagine that your code is written as a shared library, and it happens to be used by some module that has setup a security manager in place. In this case, <code>field.setAccessible(true)</code> may be denied permission even though this and other operations in your code are considered as trusted code. That's why FindBugs raises this warning.</p>\n\n<p>In order to guarantee that <code>field.setAccessible(true)</code> will always be granted permission regardless of the permissions of the caller code, you can wrap the statement inside a <code>AccessController.doPrivileged</code> (you'd have to make <code>field</code> final):</p>\n\n<pre><code>AccessController.doPrivileged(new PrivilegedAction() {\n    @Override\n    public Object run() {\n        field.setAccessible(true);\n        return null;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3000840,"reputation":3290,"user_id":2546381,"accept_rate":75,"display_name":"VanagaS"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490422532,"creation_date":1490422532,"answer_id":43013209,"question_id":14278870,"body_markdown":"Adding to the accepted answer above, Using Java 1.7+ lambda expressions, the same can be achieved with:\r\n\r\n    AccessController.doPrivileged((PrivilegedAction) () -&gt; {\r\n        field.setAccessible(true);\r\n        return null;\r\n    });","title":"How to solve FindBugs DP_DO_INSIDE_DO_PRIVILEGED","body":"<p>Adding to the accepted answer above, Using Java 1.7+ lambda expressions, the same can be achieved with:</p>\n\n<pre><code>AccessController.doPrivileged((PrivilegedAction) () -&gt; {\n    field.setAccessible(true);\n    return null;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47700,"reputation":3323,"user_id":141408,"accept_rate":68,"display_name":"Sergey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699518748,"creation_date":1699518269,"answer_id":77451532,"question_id":14278870,"body_markdown":"Since both the `SecurityManager` and `AccessController` were deprecated in Java 17 and remain without replacements, disabling this bug detection should be considered safe. Refer to the [official documentation][1] for more details.\r\n\r\nThere is also a SpotBugs issue regarding this: https://github.com/spotbugs/spotbugs/issues/1515\r\n\r\n&gt; Deprecated, for removal: This API element is subject to removal in a\r\n&gt; future version. This class is only useful in conjunction with the\r\n&gt; Security Manager, which is deprecated and subject to removal in a\r\n&gt; future release. Consequently, this class is also deprecated and\r\n&gt; subject to removal. There is no replacement for the Security Manager\r\n&gt; or this class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/AccessController.html","title":"How to solve FindBugs DP_DO_INSIDE_DO_PRIVILEGED","body":"<p>Since both the <code>SecurityManager</code> and <code>AccessController</code> were deprecated in Java 17 and remain without replacements, disabling this bug detection should be considered safe. Refer to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/AccessController.html\" rel=\"nofollow noreferrer\">official documentation</a> for more details.</p>\n<p>There is also a SpotBugs issue regarding this: <a href=\"https://github.com/spotbugs/spotbugs/issues/1515\" rel=\"nofollow noreferrer\">https://github.com/spotbugs/spotbugs/issues/1515</a></p>\n<blockquote>\n<p>Deprecated, for removal: This API element is subject to removal in a\nfuture version. This class is only useful in conjunction with the\nSecurity Manager, which is deprecated and subject to removal in a\nfuture release. Consequently, this class is also deprecated and\nsubject to removal. There is no replacement for the Security Manager\nor this class.</p>\n</blockquote>\n"}],"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4623,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26822691,"answer_count":3,"score":11,"last_activity_date":1699518748,"creation_date":1357909673,"question_id":14278870,"body_markdown":"When reading and scanning an old codes, I saw these lines of code :\r\n\r\n    public static void replaceNull(Object obj)\r\n\t{\r\n\t\tif (obj == null)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tField[] fields = obj.getClass().getDeclaredFields();\r\n\t\tif (fields != null)\r\n\t\t{\r\n\t\t\tfor (Field field : fields)\r\n\t\t\t{\r\n\t\t\t\tfield.setAccessible(true);\r\n\t\t\t\tClass&lt;?&gt; fieldType = field.getType();\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tif (field.get(obj) == null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsetDefaultValue(obj, field, fieldType);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (IllegalArgumentException e)\r\n\t\t\t\t{\r\n\t\t\t\t\tlogger. error(&quot;failed replacing null :&quot;+ e.getMessage(),e);\r\n\t\t\t\t} catch (IllegalAccessException e)\r\n\t\t\t\t{\r\n\t\t\t\t\tlogger. error(&quot;failed replacing null :&quot;+ e.getMessage(),e);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n       private static void setDefaultValue(Object obj, Field field, Class&lt;?&gt; fieldType) throws IllegalAccessException\r\n\t{\r\n\t\tif (fieldType == String.class)\r\n\t\t{\r\n\t\t\tfield.set(obj, CommonConstants.BLANK);\r\n\r\n\t\t} else if (fieldType == Date.class)\r\n\t\t{\r\n\t\t\tfield.set(obj, new Date());\r\n\t\t} else if (fieldType == Long.class)\r\n\t\t{\r\n\t\t\tfield.setLong(obj, 0L);\r\n\t\t} else if (fieldType == Integer.class)\r\n\t\t{\r\n\t\t\tfield.setInt(obj, 0);\r\n\t\t} else if (fieldType == BigDecimal.class)\r\n\t\t{\r\n\t\t\tfield.set(obj, new BigDecimal(&quot;0.0&quot;));\r\n\t\t}\r\n\t}\r\n\r\nFrom the flow of the program, it seems that the writer want to create a default values for all of the data member of the object if the value is null.\r\n\r\nUpon scanning using FindBugs, the findbugs reported &quot;DP_DO_INSIDE_DO_PRIVILEGED&quot; with this description on setAccessible(true):\r\n\r\n&gt; Bad practice - Method invoked that should be only be invoked inside a doPrivileged block\r\nPlugin: findbugs    Key: DP_DO_INSIDE_DO_PRIVILEGED\r\nThis code invokes a method that requires a security permission check. If this code will be granted security permissions, but might be invoked by code that does not have security permissions, then the invocation needs to occur inside a doPrivileged block.\r\n\r\nMy question why is this bad? And how should I solve it?\r\n\r\n","title":"How to solve FindBugs DP_DO_INSIDE_DO_PRIVILEGED","body":"<p>When reading and scanning an old codes, I saw these lines of code :</p>\n\n<pre><code>public static void replaceNull(Object obj)\n{\n    if (obj == null)\n    {\n        return;\n    }\n\n    Field[] fields = obj.getClass().getDeclaredFields();\n    if (fields != null)\n    {\n        for (Field field : fields)\n        {\n            field.setAccessible(true);\n            Class&lt;?&gt; fieldType = field.getType();\n            try\n            {\n                if (field.get(obj) == null)\n                {\n                    setDefaultValue(obj, field, fieldType);\n                }\n            } catch (IllegalArgumentException e)\n            {\n                logger. error(\"failed replacing null :\"+ e.getMessage(),e);\n            } catch (IllegalAccessException e)\n            {\n                logger. error(\"failed replacing null :\"+ e.getMessage(),e);\n            }\n\n        }\n    }\n}\n\n   private static void setDefaultValue(Object obj, Field field, Class&lt;?&gt; fieldType) throws IllegalAccessException\n{\n    if (fieldType == String.class)\n    {\n        field.set(obj, CommonConstants.BLANK);\n\n    } else if (fieldType == Date.class)\n    {\n        field.set(obj, new Date());\n    } else if (fieldType == Long.class)\n    {\n        field.setLong(obj, 0L);\n    } else if (fieldType == Integer.class)\n    {\n        field.setInt(obj, 0);\n    } else if (fieldType == BigDecimal.class)\n    {\n        field.set(obj, new BigDecimal(\"0.0\"));\n    }\n}\n</code></pre>\n\n<p>From the flow of the program, it seems that the writer want to create a default values for all of the data member of the object if the value is null.</p>\n\n<p>Upon scanning using FindBugs, the findbugs reported \"DP_DO_INSIDE_DO_PRIVILEGED\" with this description on setAccessible(true):</p>\n\n<blockquote>\n  <p>Bad practice - Method invoked that should be only be invoked inside a doPrivileged block\n  Plugin: findbugs    Key: DP_DO_INSIDE_DO_PRIVILEGED\n  This code invokes a method that requires a security permission check. If this code will be granted security permissions, but might be invoked by code that does not have security permissions, then the invocation needs to occur inside a doPrivileged block.</p>\n</blockquote>\n\n<p>My question why is this bad? And how should I solve it?</p>\n"},{"tags":["java","spring","postgresql","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1672698,"reputation":7302,"user_id":1538856,"accept_rate":78,"display_name":"JoeG"},"score":0,"creation_date":1541163387,"post_id":43900457,"comment_id":93132302,"body_markdown":"were you able to resolve this?  If it was from one of the answers could you select one?  If not, could you post the solution you used as an answer","body":"were you able to resolve this?  If it was from one of the answers could you select one?  If not, could you post the solution you used as an answer"},{"owner":{"account_id":553219,"reputation":4323,"user_id":918608,"accept_rate":63,"display_name":"Josh C."},"score":0,"creation_date":1541429151,"post_id":43900457,"comment_id":93203643,"body_markdown":"@JoeG it looks like it doesn&#39;t work with eclipselink. I ended up going a different route.","body":"@JoeG it looks like it doesn&#39;t work with eclipselink. I ended up going a different route."}],"answers":[{"comments":[{"owner":{"account_id":553219,"reputation":4323,"user_id":918608,"accept_rate":63,"display_name":"Josh C."},"score":0,"creation_date":1494531358,"post_id":43908490,"comment_id":74881427,"body_markdown":"I think i&#39;m getting closer. Apparently IN clauses on list parameters is not allowed with native queries. Is it possible to do jsonb operations using jpa/jpql without a native query?","body":"I think i&#39;m getting closer. Apparently IN clauses on list parameters is not allowed with native queries. Is it possible to do jsonb operations using jpa/jpql without a native query?"},{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":0,"creation_date":1494536260,"post_id":43908490,"comment_id":74884131,"body_markdown":"Huh? They work with native queries in Hibernate. Are you using EclipseLink or one of the less popular implementations? Anyway, in Postgres the expression `field IN (val1,val2)` is transformed into it&#39;s equivalent `field = ANY(&#39;{val1,val1}&#39;)`. If you pass it as an array to `field = ANY ( ? )` with the parentheses it works just the same. The equivalent for `NOT IN` is `field &lt;&gt; ALL( ? )`. This of course forces you to create the string representation of the array by yourself, making sure you escape any strings properly.","body":"Huh? They work with native queries in Hibernate. Are you using EclipseLink or one of the less popular implementations? Anyway, in Postgres the expression <code>field IN (val1,val2)</code> is transformed into it&#39;s equivalent <code>field = ANY(&#39;{val1,val1}&#39;)</code>. If you pass it as an array to <code>field = ANY ( ? )</code> with the parentheses it works just the same. The equivalent for <code>NOT IN</code> is <code>field &lt;&gt; ALL( ? )</code>. This of course forces you to create the string representation of the array by yourself, making sure you escape any strings properly."},{"owner":{"account_id":553219,"reputation":4323,"user_id":918608,"accept_rate":63,"display_name":"Josh C."},"score":0,"creation_date":1494550608,"post_id":43908490,"comment_id":74888519,"body_markdown":"Yes, we are using Eclipselink. I&#39;m not sure why that&#39;s preferred over Hibernate. What would you recommend? In any case, once I changed to `jsonb_extract_path_text`, the query failed with a new exception. When I googled for the exception I found http://stackoverflow.com/a/6279110/918608 and http://stackoverflow.com/a/41564377/918608. It seems I must have a constant number of values in my list, and I must enumerate them in my native query. Is that not the case?","body":"Yes, we are using Eclipselink. I&#39;m not sure why that&#39;s preferred over Hibernate. What would you recommend? In any case, once I changed to <code>jsonb_extract_path_text</code>, the query failed with a new exception. When I googled for the exception I found <a href=\"http://stackoverflow.com/a/6279110/918608\">stackoverflow.com/a/6279110/918608</a> and <a href=\"http://stackoverflow.com/a/41564377/918608\">stackoverflow.com/a/41564377/918608</a>. It seems I must have a constant number of values in my list, and I must enumerate them in my native query. Is that not the case?"},{"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"score":0,"creation_date":1504176142,"post_id":43908490,"comment_id":78917751,"body_markdown":"This is very ugly :-), it would be good to see similar @Document annotation as we have when working with JSON in MongoDB with Spring Data. This actually really significantly have impact on building quickly REST API via Spring Data Rest.","body":"This is very ugly :-), it would be good to see similar @Document annotation as we have when working with JSON in MongoDB with Spring Data. This actually really significantly have impact on building quickly REST API via Spring Data Rest."}],"tags":[],"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1494485729,"creation_date":1494485729,"answer_id":43908490,"question_id":43900457,"body_markdown":"If the operator is being converted to a question mark for one reason or another, then you should try using the function instead. You can find the corresponding function using `\\doS+ #&gt;&gt;` in the psql console. It tells us the function called is `jsonb_extract_path_text`. This would make your query:\r\n\r\n    @Query(value = &quot;SELECT t.* &quot; +\r\n            &quot;FROM my_table t &quot; +\r\n            &quot;WHERE t.field_1 = ?1 &quot; +\r\n            &quot;AND t.field_2 = 1 &quot; +\r\n            &quot;AND t.field_3 IN ?2 &quot; +\r\n            &quot;AND jsonb_extract_path_text(t.jsonb_field, &#39;{key,subkey}&#39;) = ?3&quot;,\r\n            nativeQuery = true)","title":"How do I use spring data jpa to query jsonb column?","body":"<p>If the operator is being converted to a question mark for one reason or another, then you should try using the function instead. You can find the corresponding function using <code>\\doS+ #&gt;&gt;</code> in the psql console. It tells us the function called is <code>jsonb_extract_path_text</code>. This would make your query:</p>\n\n<pre><code>@Query(value = \"SELECT t.* \" +\n        \"FROM my_table t \" +\n        \"WHERE t.field_1 = ?1 \" +\n        \"AND t.field_2 = 1 \" +\n        \"AND t.field_3 IN ?2 \" +\n        \"AND jsonb_extract_path_text(t.jsonb_field, '{key,subkey}') = ?3\",\n        nativeQuery = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":168435,"reputation":953,"user_id":393896,"accept_rate":40,"display_name":"Ladislav Zitka"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1578665433,"creation_date":1504176804,"answer_id":45979725,"question_id":43900457,"body_markdown":"I suggest not following this way, I prefer to follow generic CRUD way (also working on advanced auto generated DAO methods in way of StrongLoop Loopback does, for Spring Data Rest maven plugin, but it is experimental in the moment only). \r\nBut with this JSON, now what to do... I am looking for something similar to MongoDB JSON processing in Spring Data via @Document annotation, however this is not yet available. But there are other ways :-)\r\n\r\nIn general it is about implementing your JSON user type (UserType interface):\r\n\r\n    public class YourJSONBType implements UserType {\r\n\r\nFinally you need to enhance your JPA classes with specification of your implemented user type:\r\n\r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @TypeDef(name = &quot;JsonbType&quot;, typeClass = YourJSONBType.class)\r\n    public class Person {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(columnDefinition = &quot;jsonb&quot;)\r\n        @Type(type = &quot;JsonbType&quot;)\r\n        private Map&lt;String,Object&gt; info;\r\n    }\r\n\r\nlook at another related articles here:\r\nhttps://stackoverflow.com/questions/15974474/mapping-postgresql-json-column-to-hibernate-value-type\r\n\r\nThe full implementation example is available here:\r\n\r\n - https://github.com/nzhong/spring-data-jpa-postgresql-json\r\n - https://github.com/mariusneo/postgres-json-jpa\r\n\r\nSimilar, but little different example is available here:\r\nhttp://www.wisely.top/2017/06/27/spring-data-jpa-postgresql-jsonb/?d=1\r\n","title":"How do I use spring data jpa to query jsonb column?","body":"<p>I suggest not following this way, I prefer to follow generic CRUD way (also working on advanced auto generated DAO methods in way of StrongLoop Loopback does, for Spring Data Rest maven plugin, but it is experimental in the moment only). \nBut with this JSON, now what to do... I am looking for something similar to MongoDB JSON processing in Spring Data via @Document annotation, however this is not yet available. But there are other ways :-)</p>\n\n<p>In general it is about implementing your JSON user type (UserType interface):</p>\n\n<pre><code>public class YourJSONBType implements UserType {\n</code></pre>\n\n<p>Finally you need to enhance your JPA classes with specification of your implemented user type:</p>\n\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@TypeDef(name = \"JsonbType\", typeClass = YourJSONBType.class)\npublic class Person {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(columnDefinition = \"jsonb\")\n    @Type(type = \"JsonbType\")\n    private Map&lt;String,Object&gt; info;\n}\n</code></pre>\n\n<p>look at another related articles here:\n<a href=\"https://stackoverflow.com/questions/15974474/mapping-postgresql-json-column-to-hibernate-value-type\">Mapping PostgreSQL JSON column to Hibernate value type</a></p>\n\n<p>The full implementation example is available here:</p>\n\n<ul>\n<li><a href=\"https://github.com/nzhong/spring-data-jpa-postgresql-json\" rel=\"nofollow noreferrer\">https://github.com/nzhong/spring-data-jpa-postgresql-json</a></li>\n<li><a href=\"https://github.com/mariusneo/postgres-json-jpa\" rel=\"nofollow noreferrer\">https://github.com/mariusneo/postgres-json-jpa</a></li>\n</ul>\n\n<p>Similar, but little different example is available here:\n<a href=\"http://www.wisely.top/2017/06/27/spring-data-jpa-postgresql-jsonb/?d=1\" rel=\"nofollow noreferrer\">http://www.wisely.top/2017/06/27/spring-data-jpa-postgresql-jsonb/?d=1</a></p>\n"},{"comments":[{"owner":{"account_id":4794280,"reputation":1654,"user_id":3872648,"accept_rate":47,"display_name":"Morteza Malvandi"},"score":0,"creation_date":1568435773,"post_id":48492202,"comment_id":102281799,"body_markdown":"Can you create query for a number? see [this](https://stackoverflow.com/questions/57900944/how-query-with-spring-jpa-on-jsonb-columns)","body":"Can you create query for a number? see <a href=\"https://stackoverflow.com/questions/57900944/how-query-with-spring-jpa-on-jsonb-columns\">this</a>"},{"owner":{"account_id":11593348,"reputation":401,"user_id":8492856,"display_name":"ktcl"},"score":0,"creation_date":1607594186,"post_id":48492202,"comment_id":115323777,"body_markdown":"it works perfectly, but I wanted to search with Object (not only String) so I changed `return builder.equal(builder.function(&quot;jsonb_extract_path_text&quot;, String.class, root.&lt;String&gt;get(&quot;title&quot;), builder.literal(locale)), titleToSearch);` to `return builder.equal(builder.function(&quot;jsonb_extract_path_text&quot;, Object.class, root.&lt;String&gt;get(&quot;title&quot;), builder.literal(locale)), titleToSearch);` and it throws exception: `o.h.e.jdbc.spi.SqlExceptionHelper.logExceptions - ERROR: operator does not exist` , how can I handle this ?","body":"it works perfectly, but I wanted to search with Object (not only String) so I changed <code>return builder.equal(builder.function(&quot;jsonb_extract_path_text&quot;, String.class, root.&lt;String&gt;get(&quot;title&quot;), builder.literal(locale)), titleToSearch);</code> to <code>return builder.equal(builder.function(&quot;jsonb_extract_path_text&quot;, Object.class, root.&lt;String&gt;get(&quot;title&quot;), builder.literal(locale)), titleToSearch);</code> and it throws exception: <code>o.h.e.jdbc.spi.SqlExceptionHelper.logExceptions - ERROR: operator does not exist</code> , how can I handle this ?"}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1699518528,"creation_date":1517179688,"answer_id":48492202,"question_id":43900457,"body_markdown":"I found very helpful the [Specification](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications) api from spring data.  \r\nLet&#39;s say we have an entity with name `Product` and a property with name `title` of type JSON(B).  \r\nI assume that this property contains the title of the Product in different languages. An example could be: `{&quot;EN&quot;:&quot;Multicolor LED light&quot;, &quot;EL&quot;:&quot;Πολύχρωμο LED φώς&quot;}`.  \r\nThe source code below finds a (or more in case it is not a unique field) product by title and locale passed as arguments.  \r\n\r\n```java\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt;, JpaSpecificationExecutor&lt;Product&gt; {\r\n}\r\n\r\n\r\npublic class ProductSpecification implements Specification&lt;Product&gt; {\r\n\r\n    private String locale;\r\n    private String titleToSearch;\r\n\r\n    public ProductSpecification(String locale, String titleToSearch) {\r\n        this.locale = locale;\r\n        this.titleToSearch = titleToSearch;\r\n    }\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;Product&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        return builder.equal(builder.function(&quot;jsonb_extract_path_text&quot;, String.class, root.&lt;String&gt;get(&quot;title&quot;), builder.literal(this.locale)), this.titleToSearch);\r\n    }\r\n}\r\n\r\n@Service\r\npublic class ProductService {\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n\r\n    public List&lt;Product&gt; findByTitle(String locale, String titleToSearch) {\r\n        ProductSpecification cs = new ProductSpecification(locale, titleToSearch);\r\n        return productRepository.find(cs);\r\n        // Or using lambda expression - without the need of ProductSpecification class.\r\n    //  return productRepository.find((Root&lt;ProductCategory&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) -&gt; {\r\n    //      return builder.equal(builder.function(&quot;jsonb_extract_path_text&quot;, String.class, root.&lt;String&gt;get(&quot;title&quot;), builder.literal(locale)), titleToSearch);\r\n    //  });\r\n    }\r\n}\r\n```  \r\n\r\nYou can find another answer about the way you should use the Spring Data [here](https://stackoverflow.com/questions/48520827/use-queryhint-when-using-jpaspecificationexecutor/48541323#48541323).  \r\nHope that helps.","title":"How do I use spring data jpa to query jsonb column?","body":"<p>I found very helpful the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">Specification</a> api from spring data.<br />\nLet's say we have an entity with name <code>Product</code> and a property with name <code>title</code> of type JSON(B).<br />\nI assume that this property contains the title of the Product in different languages. An example could be: <code>{&quot;EN&quot;:&quot;Multicolor LED light&quot;, &quot;EL&quot;:&quot;Πολύχρωμο LED φώς&quot;}</code>.<br />\nThe source code below finds a (or more in case it is not a unique field) product by title and locale passed as arguments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt;, JpaSpecificationExecutor&lt;Product&gt; {\n}\n\n\npublic class ProductSpecification implements Specification&lt;Product&gt; {\n\n    private String locale;\n    private String titleToSearch;\n\n    public ProductSpecification(String locale, String titleToSearch) {\n        this.locale = locale;\n        this.titleToSearch = titleToSearch;\n    }\n\n    @Override\n    public Predicate toPredicate(Root&lt;Product&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n        return builder.equal(builder.function(&quot;jsonb_extract_path_text&quot;, String.class, root.&lt;String&gt;get(&quot;title&quot;), builder.literal(this.locale)), this.titleToSearch);\n    }\n}\n\n@Service\npublic class ProductService {\n\n    @Autowired\n    private ProductRepository productRepository;\n\n    public List&lt;Product&gt; findByTitle(String locale, String titleToSearch) {\n        ProductSpecification cs = new ProductSpecification(locale, titleToSearch);\n        return productRepository.find(cs);\n        // Or using lambda expression - without the need of ProductSpecification class.\n    //  return productRepository.find((Root&lt;ProductCategory&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) -&gt; {\n    //      return builder.equal(builder.function(&quot;jsonb_extract_path_text&quot;, String.class, root.&lt;String&gt;get(&quot;title&quot;), builder.literal(locale)), titleToSearch);\n    //  });\n    }\n}\n</code></pre>\n<p>You can find another answer about the way you should use the Spring Data <a href=\"https://stackoverflow.com/questions/48520827/use-queryhint-when-using-jpaspecificationexecutor/48541323#48541323\">here</a>.<br />\nHope that helps.</p>\n"},{"comments":[{"owner":{"account_id":1676059,"reputation":2618,"user_id":1541619,"accept_rate":74,"display_name":"mvd"},"score":3,"creation_date":1580502843,"post_id":48545089,"comment_id":106132103,"body_markdown":"Why does it matter that you are not using a native query anymore if you are relying on proprietary `jsonb_extract_path_text` function?","body":"Why does it matter that you are not using a native query anymore if you are relying on proprietary <code>jsonb_extract_path_text</code> function?"},{"owner":{"account_id":3266323,"reputation":12565,"user_id":2750743,"display_name":"Klesun"},"score":0,"creation_date":1667296376,"post_id":48545089,"comment_id":131129552,"body_markdown":"Because at least some part of the query is recognized by the compiler rather than no compile-time checks at all I would think","body":"Because at least some part of the query is recognized by the compiler rather than no compile-time checks at all I would think"}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595140458,"creation_date":1517410524,"answer_id":48545089,"question_id":43900457,"body_markdown":"You can also use the `FUNC` JPQL keywork for calling custom functions and not use a native query.  \r\nSomething like this,  \r\n\r\n    @Query(value = &quot;SELECT t FROM my_table t &quot;\r\n            + &quot;WHERE t.field_1=:field_1 AND t.field_2=1 AND t.field_3 IN :field_3 &quot;\r\n            + &quot;AND FUNC(&#39;jsonb_extract_path_text&#39;, &#39;key&#39;, &#39;subkey&#39;)=:value&quot;)\r\n    List&lt;Entity&gt; getEntities(@Param(&quot;field_1&quot;) String field_1, @Param(&quot;field_3&quot;) Collection&lt;Integer&gt; field_3, @Param(&quot;value&quot;) String value);","title":"How do I use spring data jpa to query jsonb column?","body":"<p>You can also use the <code>FUNC</code> JPQL keywork for calling custom functions and not use a native query.<br />\nSomething like this,</p>\n<pre><code>@Query(value = &quot;SELECT t FROM my_table t &quot;\n        + &quot;WHERE t.field_1=:field_1 AND t.field_2=1 AND t.field_3 IN :field_3 &quot;\n        + &quot;AND FUNC('jsonb_extract_path_text', 'key', 'subkey')=:value&quot;)\nList&lt;Entity&gt; getEntities(@Param(&quot;field_1&quot;) String field_1, @Param(&quot;field_3&quot;) Collection&lt;Integer&gt; field_3, @Param(&quot;value&quot;) String value);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9580452,"reputation":163,"user_id":7115140,"accept_rate":75,"display_name":"jagga"},"score":0,"creation_date":1626386335,"post_id":57599210,"comment_id":120886432,"body_markdown":"I have array of Json object , where each json object have &quot;id&quot; key i want to filter against each id , i am trying like this but not getting result\n\nlikeSearch.getExpressions().add(cb.like(cb.lower(cb.function(&quot;json_extract_path_text&quot;, String.class,root.get(&quot;testList&quot;), cb.literal(&quot;*.id&quot;))),&quot;%&quot; + &quot;1234abc&quot; + &quot;%&quot;));\n\nany help will be appriciated, thanks","body":"I have array of Json object , where each json object have &quot;id&quot; key i want to filter against each id , i am trying like this but not getting result  likeSearch.getExpressions().add(cb.like(cb.lower(cb.function&zwnj;&#8203;(&quot;json_extract_path_&zwnj;&#8203;text&quot;, String.class,root.get(&quot;testList&quot;), cb.literal(&quot;*.id&quot;))),&quot;%&quot; + &quot;1234abc&quot; + &quot;%&quot;));  any help will be appriciated, thanks"}],"tags":[],"owner":{"account_id":10963029,"reputation":396,"user_id":8055696,"display_name":"Arman Tumanyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566421841,"creation_date":1566421841,"answer_id":57599210,"question_id":43900457,"body_markdown":"Maybe this is an old topic, but I&#39;m putting here search in jsonb by field using spring specification.\r\n\r\nIf you want to search with &quot;LIKE&quot; you need to create like disjunction with the following code:\r\n\r\n    final Predicate likeSearch = cb.disjunction();\r\n\r\nAfter that, let&#39;s assume u have jsonb field in your object which is address, and address has 5 fields. To search in all these fields you need to add &quot;LIKE&quot; expression for all fields:\r\n\r\n    for (String field : ADDRESS_SEARCH_FIELDS) {\r\n                    likeSearch.getExpressions().add(cb.like(cb.lower(cb.function(&quot;json_extract_path_text&quot;, String.class,\r\n                            root.get(&quot;address&quot;), cb.literal(field))), %searchKey%));\r\n                }\r\n\r\nWhere cb is the same criteriaBuilder. %searchKey% is what you want to search in address fields.\r\n\r\nHope this helps.","title":"How do I use spring data jpa to query jsonb column?","body":"<p>Maybe this is an old topic, but I'm putting here search in jsonb by field using spring specification.</p>\n\n<p>If you want to search with \"LIKE\" you need to create like disjunction with the following code:</p>\n\n<pre><code>final Predicate likeSearch = cb.disjunction();\n</code></pre>\n\n<p>After that, let's assume u have jsonb field in your object which is address, and address has 5 fields. To search in all these fields you need to add \"LIKE\" expression for all fields:</p>\n\n<pre><code>for (String field : ADDRESS_SEARCH_FIELDS) {\n                likeSearch.getExpressions().add(cb.like(cb.lower(cb.function(\"json_extract_path_text\", String.class,\n                        root.get(\"address\"), cb.literal(field))), %searchKey%));\n            }\n</code></pre>\n\n<p>Where cb is the same criteriaBuilder. %searchKey% is what you want to search in address fields.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7450965,"reputation":1416,"user_id":5665753,"display_name":"Jason Slobotski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631628946,"creation_date":1631628946,"answer_id":69179446,"question_id":43900457,"body_markdown":"Sharing my own example as I struggled decomposing the provided answers for my specific needs. Hopefully this helps others. My examples are in groovy and I&#39;m integrating with a postgres SQL database. This is a simple example of how to search a JSON column on a field called &quot;name&quot; and use paging.\r\n\r\nJSON support class\r\n\r\n    @TypeDefs([@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)])\r\n    @MappedSuperclass\r\n    class JSONSupport {}\r\n\r\nThe entity class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    class MyEntity extends JSONSupport {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        Long pk\r\n\r\n        @Type(type = &quot;jsonb&quot;)\r\n        @Column(columnDefinition = &quot;jsonb&quot;)\r\n        String jsonData\r\n    }\r\n\r\nThe specification class\r\n\r\n    class NameSpecification implements Specification&lt;MyEntity&gt; {\r\n\r\n        private final String name\r\n\r\n        PhoneNumberSpecification(String name) {\r\n            this.name = name\r\n        }\r\n\r\n        @Override\r\n        Predicate toPredicate(Root&lt;ContactEntity&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n            return builder.equals(\r\n                       builder.function(\r\n                           &quot;jsonb_extract_path_text&quot;,\r\n                           String.class,\r\n                           root.&lt;String&gt;get(&quot;jsonData&quot;),\r\n                           builder.literal(&quot;name&quot;)\r\n                       ),\r\n                       this.name\r\n                  )\r\n        }\r\n    }\r\n\r\nThe repository\r\n\r\n    interface MyEntityRepository extends PagingAndSortingRepository&lt;MyEntity, Long&gt;, JpaSpecificationExecutor&lt;MyEntity&gt; {}\r\n\r\nThe usage\r\n\r\n    @Service\r\n    class MyEntityService {\r\n        \r\n        private final MyEntityRepository repo\r\n        \r\n        MyEntityService(MyEntityRepository repo) {\r\n             this.repo = repo\r\n        }    \r\n\r\n        Page&lt;MyEntity&gt; getEntitiesByNameAndPage(String name, Integer page, Integer pageSize) {\r\n            PageRequest pageRequest = PageRequest.of(page, pageSize, Sort.by(&quot;pk&quot;))\r\n\r\n            NameSpecification spec = new NameSpecification(name)\r\n            return repo.findAll(spec, pageRequest)\r\n        }\r\n    }\r\n","title":"How do I use spring data jpa to query jsonb column?","body":"<p>Sharing my own example as I struggled decomposing the provided answers for my specific needs. Hopefully this helps others. My examples are in groovy and I'm integrating with a postgres SQL database. This is a simple example of how to search a JSON column on a field called &quot;name&quot; and use paging.</p>\n<p>JSON support class</p>\n<pre><code>@TypeDefs([@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)])\n@MappedSuperclass\nclass JSONSupport {}\n</code></pre>\n<p>The entity class:</p>\n<pre><code>@Entity\n@Table(name = &quot;my_table&quot;)\nclass MyEntity extends JSONSupport {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    Long pk\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    String jsonData\n}\n</code></pre>\n<p>The specification class</p>\n<pre><code>class NameSpecification implements Specification&lt;MyEntity&gt; {\n\n    private final String name\n\n    PhoneNumberSpecification(String name) {\n        this.name = name\n    }\n\n    @Override\n    Predicate toPredicate(Root&lt;ContactEntity&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n        return builder.equals(\n                   builder.function(\n                       &quot;jsonb_extract_path_text&quot;,\n                       String.class,\n                       root.&lt;String&gt;get(&quot;jsonData&quot;),\n                       builder.literal(&quot;name&quot;)\n                   ),\n                   this.name\n              )\n    }\n}\n</code></pre>\n<p>The repository</p>\n<pre><code>interface MyEntityRepository extends PagingAndSortingRepository&lt;MyEntity, Long&gt;, JpaSpecificationExecutor&lt;MyEntity&gt; {}\n</code></pre>\n<p>The usage</p>\n<pre><code>@Service\nclass MyEntityService {\n    \n    private final MyEntityRepository repo\n    \n    MyEntityService(MyEntityRepository repo) {\n         this.repo = repo\n    }    \n\n    Page&lt;MyEntity&gt; getEntitiesByNameAndPage(String name, Integer page, Integer pageSize) {\n        PageRequest pageRequest = PageRequest.of(page, pageSize, Sort.by(&quot;pk&quot;))\n\n        NameSpecification spec = new NameSpecification(name)\n        return repo.findAll(spec, pageRequest)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11585374,"reputation":194,"user_id":8487732,"display_name":"Ajay"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659417686,"creation_date":1659417686,"answer_id":73202321,"question_id":43900457,"body_markdown":" Create a table in postgres DB\r\n\r\n    CREATE TABLE shared.my_data (\r\n    id serial PRIMARY KEY,\r\n    my_config jsonb\r\n    );\r\n\r\nInsert data into the table\r\n\r\n    INSERT into shared.my_data (id, my_config) VALUES( 1,\r\n    &#39;{&quot;useTime&quot;: true,\r\n    &quot;manualUnassign&quot;: false,\r\n    &quot;require&quot;:true,\r\n    &quot;blockTime&quot;:10,\r\n    &quot;additionalHours&quot;:1,\r\n    &quot;availablegroups&quot;:[10,20,30]\r\n    }&#39;)\r\n\r\nCheck data in table:\r\n\r\n    select * from shared.tenant_data \r\n\r\nSpring boot Java project\r\nJava version: 11\r\nSpring version: 2.7.1\r\n\r\nMaven dependency on POM.xml file.\r\nFor postgres JOSNB, we need particular \r\n\r\n&gt; vladmihalcea dependency version 2.14.0\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.14.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**JSON object class**\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n    import java.util.List;\r\n\r\n    public class MyConfig {\r\n\t@JsonProperty(&quot;useTime&quot;)\r\n\tprivate boolean useTime;\r\n\t@JsonProperty(&quot;manualUnassign&quot;)\r\n\tprivate boolean manualUnassign;\r\n\t@JsonProperty(&quot;require&quot;)\r\n\tprivate boolean require;\r\n\t@JsonProperty(&quot;additionalHours&quot;)\r\n\tprivate int additionalHours;\r\n\t@JsonProperty(&quot;blockTime&quot;)\r\n\tprivate int blockTime;\r\n\t@JsonProperty(&quot;availableGroup&quot;)\r\n\tprivate List&lt;Integer&gt; availableGroup;\r\n    }\r\n\r\n**[Entity]Root object to encapsulate column in table row**\r\n\r\n    import com.vladmihalcea.hibernate.type.json.JsonBinaryType;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.hibernate.annotations.Type;\r\n    import org.hibernate.annotations.TypeDef;\r\n    import javax.persistence.*;\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;my_data&quot;, schema = &quot;shared&quot;)\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    public class MyData {\r\n\t@Id\r\n\t@GeneratedValue(strategy= GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Type(type = &quot;jsonb&quot;)\r\n\t@Column(columnDefinition = &quot;jsonb&quot;)\r\n\tprivate MyConfig myConfig;\r\n    }\r\n\r\n**Repository layer**\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface MyDataRepo extends JpaRepository&lt;MyData, Long&gt; {\r\n    }\r\n\r\n**Service layer**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import java.util.List;\r\n\r\n    @Service\r\n    public class MyDataService {\r\n\r\n\t@Autowired\r\n\tprivate MyDataRepo myDataRepo;\r\n\r\n\tpublic List&lt;MyData&gt; getAllMyspecificData(){\r\n\t\tList&lt;MyData&gt; allMyData = myDataRepo.findAll();\r\n\t\treturn allMyData;\r\n\t}\r\n     }\r\n\r\n**REST End point**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import java.util.List;\r\n\r\n    @RestController\r\n    @RequestMapping(path = &quot;/my&quot;)\r\n    public class MyResouce {\r\n\t@Autowired\r\n\tMyDataService myDataService;\r\n\r\n\t@GetMapping(&quot;/data&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; getAllMyData() {\r\n\t\t List&lt;MyData&gt; myDataList = \r\n         myDataService.getAllMyspecificData();\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(myDataList, HttpStatus.OK);\r\n\t}\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lico5.png","title":"How do I use spring data jpa to query jsonb column?","body":"<p>Create a table in postgres DB</p>\n<pre><code>CREATE TABLE shared.my_data (\nid serial PRIMARY KEY,\nmy_config jsonb\n);\n</code></pre>\n<p>Insert data into the table</p>\n<pre><code>INSERT into shared.my_data (id, my_config) VALUES( 1,\n'{&quot;useTime&quot;: true,\n&quot;manualUnassign&quot;: false,\n&quot;require&quot;:true,\n&quot;blockTime&quot;:10,\n&quot;additionalHours&quot;:1,\n&quot;availablegroups&quot;:[10,20,30]\n}')\n</code></pre>\n<p>Check data in table:</p>\n<pre><code>select * from shared.tenant_data \n</code></pre>\n<p>Spring boot Java project\nJava version: 11\nSpring version: 2.7.1</p>\n<p>Maven dependency on POM.xml file.\nFor postgres JOSNB, we need particular</p>\n<blockquote>\n<p>vladmihalcea dependency version 2.14.0</p>\n</blockquote>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n        &lt;version&gt;2.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>JSON object class</strong></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\n\nimport java.util.List;\n\npublic class MyConfig {\n@JsonProperty(&quot;useTime&quot;)\nprivate boolean useTime;\n@JsonProperty(&quot;manualUnassign&quot;)\nprivate boolean manualUnassign;\n@JsonProperty(&quot;require&quot;)\nprivate boolean require;\n@JsonProperty(&quot;additionalHours&quot;)\nprivate int additionalHours;\n@JsonProperty(&quot;blockTime&quot;)\nprivate int blockTime;\n@JsonProperty(&quot;availableGroup&quot;)\nprivate List&lt;Integer&gt; availableGroup;\n}\n</code></pre>\n<p><strong>[Entity]Root object to encapsulate column in table row</strong></p>\n<pre><code>import com.vladmihalcea.hibernate.type.json.JsonBinaryType;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.Type;\nimport org.hibernate.annotations.TypeDef;\nimport javax.persistence.*;\n\n@Data\n@Entity\n@Table(name = &quot;my_data&quot;, schema = &quot;shared&quot;)\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\npublic class MyData {\n@Id\n@GeneratedValue(strategy= GenerationType.IDENTITY)\nprivate Long id;\n\n@Type(type = &quot;jsonb&quot;)\n@Column(columnDefinition = &quot;jsonb&quot;)\nprivate MyConfig myConfig;\n}\n</code></pre>\n<p><strong>Repository layer</strong></p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface MyDataRepo extends JpaRepository&lt;MyData, Long&gt; {\n}\n</code></pre>\n<p><strong>Service layer</strong></p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.util.List;\n\n@Service\npublic class MyDataService {\n\n@Autowired\nprivate MyDataRepo myDataRepo;\n\npublic List&lt;MyData&gt; getAllMyspecificData(){\n    List&lt;MyData&gt; allMyData = myDataRepo.findAll();\n    return allMyData;\n}\n }\n</code></pre>\n<p><strong>REST End point</strong></p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport java.util.List;\n\n@RestController\n@RequestMapping(path = &quot;/my&quot;)\npublic class MyResouce {\n@Autowired\nMyDataService myDataService;\n\n@GetMapping(&quot;/data&quot;)\npublic ResponseEntity&lt;Object&gt; getAllMyData() {\n     List&lt;MyData&gt; myDataList = \n     myDataService.getAllMyspecificData();\n\n    return new ResponseEntity&lt;&gt;(myDataList, HttpStatus.OK);\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lico5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lico5.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":553219,"reputation":4323,"user_id":918608,"accept_rate":63,"display_name":"Josh C."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63977,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":7,"score":24,"last_activity_date":1699518528,"creation_date":1494441886,"question_id":43900457,"body_markdown":"I&#39;m having a problem getting this native query right against a postgres 9.4 instance.\r\n\r\nMy repository has a method:\r\n\r\n     @Query(value = &quot;SELECT t.* &quot; +\r\n                &quot;FROM my_table t &quot; +\r\n                &quot;WHERE t.field_1 = ?1 &quot; +\r\n                &quot;AND t.field_2 = 1 &quot; +\r\n                &quot;AND t.field_3 IN ?2 &quot; +\r\n                &quot;AND t.jsonb_field #&gt;&gt; &#39;{key,subkey}&#39; = ?3&quot;,\r\n                nativeQuery = true)\r\n        List&lt;Entity&gt; getEntities(String field1Value,\r\n                                       Collection&lt;Integer&gt; field3Values,\r\n                                       String jsonbFieldValue);\r\n\r\nBut the logs show this:\r\n\r\n    SELECT t.* FROM my_table t \r\n    WHERE t.field_1 = ?1 \r\n      AND t.field_2 = 1 \r\n      AND t.field_3 IN ?2 \r\n      AND t.jsonb_field ? &#39;{key,subkey}&#39; = ?3\r\n\r\nAnd I get this exception:\r\n\r\n&gt; Internal Exception: org.postgresql.util.PSQLException: No value\r\n&gt; specified for parameter 2.\r\n\r\nI logged the parameters directly before method invocation, and they are all supplied.\r\n\r\nI&#39;m not sure why `#&gt;&gt;` shows `?` in the log. Do I need to escape `#&gt;&gt;`? Do I need to format the collection for `IN`? Do I need to escape the json path? \r\n\r\nWhen I execute the query directly against the db, it works. Example:\r\n\r\n    SELECT *\r\n    FROM my_table t\r\n    WHERE t.field_1 = &#39;xxxx&#39;\r\n      AND t.field_2 = 1\r\n      AND t.field_3 IN (13)\r\n      AND t.jsonb_field #&gt;&gt; &#39;{key,subkey}&#39; = &#39;value&#39;","title":"How do I use spring data jpa to query jsonb column?","body":"<p>I'm having a problem getting this native query right against a postgres 9.4 instance.</p>\n\n<p>My repository has a method:</p>\n\n<pre><code> @Query(value = \"SELECT t.* \" +\n            \"FROM my_table t \" +\n            \"WHERE t.field_1 = ?1 \" +\n            \"AND t.field_2 = 1 \" +\n            \"AND t.field_3 IN ?2 \" +\n            \"AND t.jsonb_field #&gt;&gt; '{key,subkey}' = ?3\",\n            nativeQuery = true)\n    List&lt;Entity&gt; getEntities(String field1Value,\n                                   Collection&lt;Integer&gt; field3Values,\n                                   String jsonbFieldValue);\n</code></pre>\n\n<p>But the logs show this:</p>\n\n<pre><code>SELECT t.* FROM my_table t \nWHERE t.field_1 = ?1 \n  AND t.field_2 = 1 \n  AND t.field_3 IN ?2 \n  AND t.jsonb_field ? '{key,subkey}' = ?3\n</code></pre>\n\n<p>And I get this exception:</p>\n\n<blockquote>\n  <p>Internal Exception: org.postgresql.util.PSQLException: No value\n  specified for parameter 2.</p>\n</blockquote>\n\n<p>I logged the parameters directly before method invocation, and they are all supplied.</p>\n\n<p>I'm not sure why <code>#&gt;&gt;</code> shows <code>?</code> in the log. Do I need to escape <code>#&gt;&gt;</code>? Do I need to format the collection for <code>IN</code>? Do I need to escape the json path? </p>\n\n<p>When I execute the query directly against the db, it works. Example:</p>\n\n<pre><code>SELECT *\nFROM my_table t\nWHERE t.field_1 = 'xxxx'\n  AND t.field_2 = 1\n  AND t.field_3 IN (13)\n  AND t.jsonb_field #&gt;&gt; '{key,subkey}' = 'value'\n</code></pre>\n"},{"tags":["java","android","sensors","accelerometer","foreground-service"],"owner":{"account_id":13393946,"reputation":23,"user_id":9665518,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699518255,"creation_date":1699346826,"question_id":77436697,"body_markdown":"I got this piece of code that counts steps using accelerometer, but it only works when the app is in the foreground:\r\n\r\n\tSensorEventListener sel = new SensorEventListener() {\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n    }\r\n    public void onSensorChanged(SensorEvent event) {\r\n        float[] values = event.values;\r\n        float x = values[0];\r\n        float y = values[1];\r\n        float z = values[2];\r\n        // WITHOUT GRAVITY\r\n        double magnitude = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\r\n        // WITH EARTH&#39;S GRAVITY INCLUDED\r\n        // double magnitude = (Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2))) / (SensorManager.GRAVITY_EARTH * SensorManager.GRAVITY_EARTH);\r\n        double magnitudeDelta = magnitude - magnitudePrevious;\r\n        magnitudePrevious = magnitude;\r\n\r\n        if (magnitudeDelta &gt; 7) { // adjust the threshold based on your device\r\n            numSteps++;\r\n            Log.d(&quot;DELTA:&quot;, String.valueOf(magnitudeDelta));\r\n        }\r\n        counter.setText(String.valueOf(numSteps));\r\n    }\r\n};\r\n\r\n\r\nI&#39;d like to know how to implement this using something like a foreground service, so that it keeps running in the background and the app can still get the count from it even when it restarts. I did some reading and there are no clear answers to that one, some say that the foreground service may be killed by the system if it deems it necessary because of battery drain for example. Please advise how to best go about this implementation.\r\n\r\nI wonder if keeping the sensor running in bothonStop() and onPause() would be feasible, or would the system kill it anyway?","title":"How to implement step detector in Android that keeps working in the background","body":"<p>I got this piece of code that counts steps using accelerometer, but it only works when the app is in the foreground:</p>\n<pre><code>SensorEventListener sel = new SensorEventListener() {\npublic void onAccuracyChanged(Sensor sensor, int accuracy) {\n}\npublic void onSensorChanged(SensorEvent event) {\n    float[] values = event.values;\n    float x = values[0];\n    float y = values[1];\n    float z = values[2];\n    // WITHOUT GRAVITY\n    double magnitude = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\n    // WITH EARTH'S GRAVITY INCLUDED\n    // double magnitude = (Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2))) / (SensorManager.GRAVITY_EARTH * SensorManager.GRAVITY_EARTH);\n    double magnitudeDelta = magnitude - magnitudePrevious;\n    magnitudePrevious = magnitude;\n\n    if (magnitudeDelta &gt; 7) { // adjust the threshold based on your device\n        numSteps++;\n        Log.d(&quot;DELTA:&quot;, String.valueOf(magnitudeDelta));\n    }\n    counter.setText(String.valueOf(numSteps));\n}\n</code></pre>\n<p>};</p>\n<p>I'd like to know how to implement this using something like a foreground service, so that it keeps running in the background and the app can still get the count from it even when it restarts. I did some reading and there are no clear answers to that one, some say that the foreground service may be killed by the system if it deems it necessary because of battery drain for example. Please advise how to best go about this implementation.</p>\n<p>I wonder if keeping the sensor running in bothonStop() and onPause() would be feasible, or would the system kill it anyway?</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":1427644,"reputation":47321,"user_id":1350762,"display_name":"maba"},"score":0,"creation_date":1349762489,"post_id":12792833,"comment_id":17297693,"body_markdown":"The port does not seem to be open. What does your applications log file say? Normally it would say something like this: `Listening for transport dt_socket at address: 9009`.","body":"The port does not seem to be open. What does your applications log file say? Normally it would say something like this: <code>Listening for transport dt_socket at address: 9009</code>."},{"owner":{"account_id":561923,"reputation":7498,"user_id":1118559,"accept_rate":38,"display_name":"MindBrain"},"score":1,"creation_date":1349762700,"post_id":12792833,"comment_id":17297754,"body_markdown":"@maba : The port was open as I had run telnet 192.168.2.100 9009 .However netstat was not working so that meant there was a problem in the glassfish configuration.So I  added the following configuration parameter in the java-config in glassfish in my answer below and it worked.Thank you for your contribution.","body":"@maba : The port was open as I had run telnet 192.168.2.100 9009 .However netstat was not working so that meant there was a problem in the glassfish configuration.So I  added the following configuration parameter in the java-config in glassfish in my answer below and it worked.Thank you for your contribution."},{"owner":{"account_id":9599886,"reputation":3726,"user_id":7127824,"accept_rate":100,"display_name":"techkuz"},"score":0,"creation_date":1570189432,"post_id":12792833,"comment_id":102844484,"body_markdown":"make sure you are using correct `run configuration`","body":"make sure you are using correct <code>run configuration</code>"}],"answers":[{"comments":[{"owner":{"account_id":2090891,"reputation":1271,"user_id":1860768,"accept_rate":83,"display_name":"Ann Kilzer"},"score":74,"creation_date":1467319891,"post_id":12793700,"comment_id":63697253,"body_markdown":"What if you&#39;re not using glassfish?","body":"What if you&#39;re not using glassfish?"}],"tags":[],"owner":{"account_id":561923,"reputation":7498,"user_id":1118559,"accept_rate":38,"display_name":"MindBrain"},"comment_count":1,"down_vote_count":3,"up_vote_count":12,"is_accepted":true,"score":9,"last_activity_date":1349779004,"creation_date":1349762579,"answer_id":12793700,"question_id":12792833,"body_markdown":"Add the following parameter debug-enabled=&quot;true&quot; to this line in the glassfish configuration.\r\nExample:\r\n\r\n    &lt;java-config  debug-options=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9009&quot; debug-enabled=&quot;true&quot;\r\n\t  system-classpath=&quot;&quot; native-library-path-prefix=&quot;D:\\Project\\lib\\windows\\64bit&quot; classpath-suffix=&quot;&quot;&gt;\r\n\r\nStart and stop the glassfish domain or service which was using this configuration.\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>Add the following parameter debug-enabled=\"true\" to this line in the glassfish configuration.\nExample:</p>\n\n<pre><code>&lt;java-config  debug-options=\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9009\" debug-enabled=\"true\"\n  system-classpath=\"\" native-library-path-prefix=\"D:\\Project\\lib\\windows\\64bit\" classpath-suffix=\"\"&gt;\n</code></pre>\n\n<p>Start and stop the glassfish domain or service which was using this configuration.</p>\n"},{"tags":[],"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354655280,"creation_date":1354655280,"answer_id":13711939,"question_id":12792833,"body_markdown":"I&#39;m hoping your problem has been solved by now.  If not, try this...  It looks like you have `server=y` for both your app and IDEA.  IDEA should probably be `server=n`.  Also, the (IDEA) client should have an address that includes both the host name and the port, e.g., `address=127.0.0.1:9009`.","title":"Unable to open debugger port in IntelliJ","body":"<p>I'm hoping your problem has been solved by now.  If not, try this...  It looks like you have <code>server=y</code> for both your app and IDEA.  IDEA should probably be <code>server=n</code>.  Also, the (IDEA) client should have an address that includes both the host name and the port, e.g., <code>address=127.0.0.1:9009</code>.</p>\n"},{"tags":[],"owner":{"account_id":5173326,"reputation":11,"user_id":4141232,"display_name":"Ullas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413285338,"creation_date":1413285338,"answer_id":26359490,"question_id":12792833,"body_markdown":"This one worked for me--\r\nIf the issue still persists (in case you are not using a glassFish server), then close your JIdea and stop the server. This will disable the ports connectivity. Then start your server and JIdea, this will start fresh connectivity with the ports, resolving the issue.","title":"Unable to open debugger port in IntelliJ","body":"<p>This one worked for me--\nIf the issue still persists (in case you are not using a glassFish server), then close your JIdea and stop the server. This will disable the ports connectivity. Then start your server and JIdea, this will start fresh connectivity with the ports, resolving the issue.</p>\n"},{"comments":[{"owner":{"account_id":2090891,"reputation":1271,"user_id":1860768,"accept_rate":83,"display_name":"Ann Kilzer"},"score":0,"creation_date":1467319921,"post_id":30255425,"comment_id":63697266,"body_markdown":"What if you&#39;re not using the default configuration, and instead made a custom remote configuration?","body":"What if you&#39;re not using the default configuration, and instead made a custom remote configuration?"},{"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"score":0,"creation_date":1467446401,"post_id":30255425,"comment_id":63744369,"body_markdown":"You mean using remote debugger on localhost:8000 ? If so you need to specify debugging options in the JVM of your application (Run), but the problem is the same, you need a free port.","body":"You mean using remote debugger on localhost:8000 ? If so you need to specify debugging options in the JVM of your application (Run), but the problem is the same, you need a free port."},{"owner":{"account_id":158101,"reputation":2453,"user_id":376489,"accept_rate":89,"display_name":"MrColes"},"score":0,"creation_date":1480193120,"post_id":30255425,"comment_id":68864798,"body_markdown":"@Pleymor I’m not seeing any “Startup/Connection” tab from Run &gt; Edit Configurations in my Android Studio 2.2.2 on Mac OSX. Has this changed?","body":"@Pleymor I’m not seeing any “Startup/Connection” tab from Run &gt; Edit Configurations in my Android Studio 2.2.2 on Mac OSX. Has this changed?"},{"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"score":0,"creation_date":1480428553,"post_id":30255425,"comment_id":68951234,"body_markdown":"@MrColes I guess it works only for `IntelliJ IDEA` and not `Android Studio`","body":"@MrColes I guess it works only for <code>IntelliJ IDEA</code> and not <code>Android Studio</code>"},{"owner":{"account_id":121712,"reputation":5127,"user_id":315001,"accept_rate":88,"display_name":"arviman"},"score":0,"creation_date":1498287042,"post_id":30255425,"comment_id":76449307,"body_markdown":"Worked with eclipse for me. I encountered the issue after putting Idea at 5005 but for some reason i wasn&#39;t even able to use Idea again to do a run. Changed the config to 5006 and then it worked.","body":"Worked with eclipse for me. I encountered the issue after putting Idea at 5005 but for some reason i wasn&#39;t even able to use Idea again to do a run. Changed the config to 5006 and then it worked."}],"tags":[],"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"comment_count":5,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1591049443,"creation_date":1431680289,"answer_id":30255425,"question_id":12792833,"body_markdown":"You may have to change the debugger port if your port is already used by another program. To do so:\r\n\r\n - Run\r\n - Edit Configurations\r\n - Startup/Connection tab\r\n - Debug\r\n - Change the port here\r\n\r\n---\r\n\r\nOr, maybe in other versions:\r\n\r\n - Run\r\n - Edit Configurations\r\n - Remote &gt; Remote debug in the list on the left\r\n - Configuration tab, Settings section\r\n - Port: change the port here\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>You may have to change the debugger port if your port is already used by another program. To do so:</p>\n\n<ul>\n<li>Run</li>\n<li>Edit Configurations</li>\n<li>Startup/Connection tab</li>\n<li>Debug</li>\n<li>Change the port here</li>\n</ul>\n\n<hr>\n\n<p>Or, maybe in other versions:</p>\n\n<ul>\n<li>Run</li>\n<li>Edit Configurations</li>\n<li>Remote > Remote debug in the list on the left</li>\n<li>Configuration tab, Settings section</li>\n<li>Port: change the port here</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":295295,"reputation":1835,"user_id":599634,"accept_rate":87,"display_name":"sichinumi"},"score":1,"creation_date":1614211618,"post_id":39348224,"comment_id":117319989,"body_markdown":"This solved it for me as well after hours of banging my head on the wall, this is absurd. Why is this not mentioned in any of the documentation??? As far as I&#39;m concerned, assuming all the other directions were followed correctly, this is the #1 real issue with remote debugging with IntelliJ, it just can&#39;t grok localhost properly.","body":"This solved it for me as well after hours of banging my head on the wall, this is absurd. Why is this not mentioned in any of the documentation??? As far as I&#39;m concerned, assuming all the other directions were followed correctly, this is the #1 real issue with remote debugging with IntelliJ, it just can&#39;t grok localhost properly."},{"owner":{"account_id":2628094,"reputation":304,"user_id":2274709,"display_name":"chrosciu"},"score":0,"creation_date":1632478998,"post_id":39348224,"comment_id":122509349,"body_markdown":"If you are working behind the VPN and entering 127.0.0.1 does not solve the issue, try also with IP assigned to you by VPN provider (worked in my case)","body":"If you are working behind the VPN and entering 127.0.0.1 does not solve the issue, try also with IP assigned to you by VPN provider (worked in my case)"}],"tags":[],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1473162161,"creation_date":1473162161,"answer_id":39348224,"question_id":12792833,"body_markdown":"I had the same problem and this solution also did the trick for me: Provide the IP 127.0.0.1 in the Intellij Debug configuration instead of the host name &quot;localhost&quot;, in case you&#39;re using this hostname. ","title":"Unable to open debugger port in IntelliJ","body":"<p>I had the same problem and this solution also did the trick for me: Provide the IP 127.0.0.1 in the Intellij Debug configuration instead of the host name \"localhost\", in case you're using this hostname. </p>\n"},{"tags":[],"owner":{"account_id":1475885,"reputation":2704,"user_id":1386273,"display_name":"ashario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519513354,"creation_date":1489030269,"answer_id":42686144,"question_id":12792833,"body_markdown":"For me, the problem was that catalina.sh didnt have execute permissions. The &quot;Unable to open debugger port in intellij&quot; message appeared in Intellij, but it sort of masked the &#39;could not execute catalina.sh&#39; error that appeared in the logs immediately prior.","title":"Unable to open debugger port in IntelliJ","body":"<p>For me, the problem was that catalina.sh didnt have execute permissions. The \"Unable to open debugger port in intellij\" message appeared in Intellij, but it sort of masked the 'could not execute catalina.sh' error that appeared in the logs immediately prior.</p>\n"},{"tags":[],"owner":{"account_id":3488075,"reputation":9,"user_id":2918422,"display_name":"suraj kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493101203,"creation_date":1493101203,"answer_id":43603049,"question_id":12792833,"body_markdown":"Answer is pretty simple,\r\nI also faced the problem finally I got perfect solution.\r\n[Create Debug][1]\r\n  [1]: https://i.stack.imgur.com/jJv7P.jpg\r\n\r\n[Create Remote debug with following configuration][2]\r\n  [2]: https://i.stack.imgur.com/GQBjj.jpg\r\n\r\nFirstly run by debug.\r\nIt gives you waitng for socket 5005\r\nthen run with remote debug\r\n\r\n\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>Answer is pretty simple,\nI also faced the problem finally I got perfect solution.\n<a href=\"https://i.stack.imgur.com/jJv7P.jpg\" rel=\"nofollow noreferrer\">Create Debug</a>\n<a href=\"https://i.stack.imgur.com/GQBjj.jpg\" rel=\"nofollow noreferrer\">Create Remote debug with following configuration</a>\nFirstly run by debug.\nIt gives you waitng for socket 5005\nthen run with remote debug</p>\n"},{"tags":[],"owner":{"account_id":4333893,"reputation":3295,"user_id":3538581,"display_name":"Rajesh Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497041407,"creation_date":1497041407,"answer_id":44466494,"question_id":12792833,"body_markdown":"Try to connect with telnet &lt;ip&gt; &lt;port&gt;, if it connects then it shows below:\r\n \r\n$telnet 10.238.136.165 9999\r\nTrying 10.238.136.165...\r\nConnected to 10.238.136.165.\r\nEscape character is &#39;^]&#39;.\r\nConnection closed by foreign host.\r\n\r\nIf port is not available (either because someone else is already connected to it or the port is not open etc) then it shows something like it shows like below: \r\n\r\n$telnet 10.238.136.165 9999\r\nTrying 10.238.136.165...\r\ntelnet: connect to address 10.238.136.165: Connection refused\r\ntelnet: Unable to connect to remote host\r\n\r\nSo I think one needs to see whether:\r\n\r\n- the application is property listening to port or not \r\n\r\n- or someone else has already connected to it\r\n\r\nAlso try to connect on that m/c itself first like \r\n$telnet localhost 9999\r\n\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>Try to connect with telnet  , if it connects then it shows below:</p>\n\n<p>$telnet 10.238.136.165 9999\nTrying 10.238.136.165...\nConnected to 10.238.136.165.\nEscape character is '^]'.\nConnection closed by foreign host.</p>\n\n<p>If port is not available (either because someone else is already connected to it or the port is not open etc) then it shows something like it shows like below: </p>\n\n<p>$telnet 10.238.136.165 9999\nTrying 10.238.136.165...\ntelnet: connect to address 10.238.136.165: Connection refused\ntelnet: Unable to connect to remote host</p>\n\n<p>So I think one needs to see whether:</p>\n\n<ul>\n<li><p>the application is property listening to port or not </p></li>\n<li><p>or someone else has already connected to it</p></li>\n</ul>\n\n<p>Also try to connect on that m/c itself first like \n$telnet localhost 9999</p>\n"},{"tags":[],"owner":{"account_id":2712329,"reputation":1,"user_id":2340474,"display_name":"Amit Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522828190,"creation_date":1522793454,"answer_id":49639866,"question_id":12792833,"body_markdown":"Run your Spring Boot application with the given command to enable debugging on port 6006 while the server is up on port 8090:\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&#39;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=6006&#39; -Dserver.port=8090","title":"Unable to open debugger port in IntelliJ","body":"<p>Run your Spring Boot application with the given command to enable debugging on port 6006 while the server is up on port 8090:</p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments='-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=6006' -Dserver.port=8090\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2712329,"reputation":1,"user_id":2340474,"display_name":"Amit Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522797721,"creation_date":1522797721,"answer_id":49640470,"question_id":12792833,"body_markdown":"**Set the MAVEN_OPTS. It should work !!**\r\n\r\nexport MAVEN_OPTS=&quot;-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4000,server=y,suspend=n&quot;\r\n\r\n\r\nmvn spring-boot:run  -Dserver.port=8090","title":"Unable to open debugger port in IntelliJ","body":"<p><strong>Set the MAVEN_OPTS. It should work !!</strong></p>\n\n<p>export MAVEN_OPTS=\"-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=4000,server=y,suspend=n\"</p>\n\n<p>mvn spring-boot:run  -Dserver.port=8090</p>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532638281,"creation_date":1532638281,"answer_id":51547337,"question_id":12792833,"body_markdown":"This error can happen Tomcat is already running.  So make sure Tomcat isn&#39;t running in the background if you&#39;ve asked Intellij to start it up ( default ).\r\n\r\nAlso, check the full output window for more errors.  As a more useful error may have preceded this one ( as was the case with my configuration just now )","title":"Unable to open debugger port in IntelliJ","body":"<p>This error can happen Tomcat is already running.  So make sure Tomcat isn't running in the background if you've asked Intellij to start it up ( default ).</p>\n\n<p>Also, check the full output window for more errors.  As a more useful error may have preceded this one ( as was the case with my configuration just now )</p>\n"},{"comments":[{"owner":{"account_id":5266362,"reputation":1584,"user_id":4206178,"accept_rate":57,"display_name":"Anjil Dhamala"},"score":0,"creation_date":1611685838,"post_id":52509739,"comment_id":116529188,"body_markdown":"This was it. Thanks!","body":"This was it. Thanks!"}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1537934538,"creation_date":1537934538,"answer_id":52509739,"question_id":12792833,"body_markdown":"You must set CHMOD +x (execute for *.sh or *.bat files). For example, I am using macOS\r\n\r\n    cd /Users/donhuvy/Documents/tools/apache-tomcat-9.0.12/bin\r\n    sudo chmod +x *.sh\r\n\r\nThen IntelliJ IDEA, and Apache Tomcat running or debugging just good.","title":"Unable to open debugger port in IntelliJ","body":"<p>You must set CHMOD +x (execute for *.sh or *.bat files). For example, I am using macOS</p>\n\n<pre><code>cd /Users/donhuvy/Documents/tools/apache-tomcat-9.0.12/bin\nsudo chmod +x *.sh\n</code></pre>\n\n<p>Then IntelliJ IDEA, and Apache Tomcat running or debugging just good.</p>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637981849,"creation_date":1539079523,"answer_id":52718367,"question_id":12792833,"body_markdown":" 1. In `glassfish\\domains\\domain1\\config\\domain.xml` set before start server\r\n\r\n```xml\r\n&lt;java-config classpath-suffix=&quot;&quot; debug-options=&quot;-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n&quot; java-home=&quot;C:\\Program Files\\Java\\jdk1.8.0_162&quot; debug-enabled=&quot;true&quot; system-classpath=&quot;&quot;&gt;\r\n```\r\n\r\nor set debug-enabled=&quot;true&quot; server=y,suspend=n in http://localhost:4848/common/index.jsf\r\n[![Glassfish 4 address=9009,server=y,suspend=n][1]][1]\r\n\r\n2. In current Idea 2018 - Server Run Configuration - Debug - Port - address\r\n[![Server Run Configuration - Debug - Port - address][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X4cAU.png\r\n  [2]: https://i.stack.imgur.com/pOJL0.png\r\n\r\n","title":"Unable to open debugger port in IntelliJ","body":"<ol>\n<li>In <code>glassfish\\domains\\domain1\\config\\domain.xml</code> set before start server</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;java-config classpath-suffix=&quot;&quot; debug-options=&quot;-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n&quot; java-home=&quot;C:\\Program Files\\Java\\jdk1.8.0_162&quot; debug-enabled=&quot;true&quot; system-classpath=&quot;&quot;&gt;\n</code></pre>\n<p>or set debug-enabled=&quot;true&quot; server=y,suspend=n in http://localhost:4848/common/index.jsf\n<a href=\"https://i.stack.imgur.com/X4cAU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4cAU.png\" alt=\"Glassfish 4 address=9009,server=y,suspend=n\" /></a></p>\n<ol start=\"2\">\n<li>In current Idea 2018 - Server Run Configuration - Debug - Port - address\n<a href=\"https://i.stack.imgur.com/pOJL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOJL0.png\" alt=\"Server Run Configuration - Debug - Port - address\" /></a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":13164735,"reputation":1844,"user_id":9509346,"display_name":"dpapadopoulos"},"score":0,"creation_date":1560340900,"post_id":56561433,"comment_id":99702885,"body_markdown":"This can be a comment and not an answer. Please, check the rules of this community.","body":"This can be a comment and not an answer. Please, check the rules of this community."}],"tags":[],"owner":{"account_id":5356901,"reputation":1,"user_id":4269343,"display_name":"deepika goyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560339821,"creation_date":1560339821,"answer_id":56561433,"question_id":12792833,"body_markdown":"Your Service/ Application might already be running. In Search enter Services and you will get list of services. Stop yours and then try again.","title":"Unable to open debugger port in IntelliJ","body":"<p>Your Service/ Application might already be running. In Search enter Services and you will get list of services. Stop yours and then try again.</p>\n"},{"tags":[],"owner":{"account_id":11787081,"reputation":526,"user_id":8624381,"display_name":"Felipe Bejarano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562719557,"creation_date":1562719557,"answer_id":56962079,"question_id":12792833,"body_markdown":"I had the same issue, I just have to remove the HTTP protocol from the URL. That&#39;s it. \r\n\r\nI hope it works for you.","title":"Unable to open debugger port in IntelliJ","body":"<p>I had the same issue, I just have to remove the HTTP protocol from the URL. That's it. </p>\n\n<p>I hope it works for you.</p>\n"},{"tags":[],"owner":{"account_id":5986096,"reputation":1,"user_id":4703632,"display_name":"Daniel Tan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576747341,"creation_date":1576747341,"answer_id":59406608,"question_id":12792833,"body_markdown":"I once have this problem too.\r\nMy solution is to work around this problem by kill the application which is using the port.\r\n[Here][1] is a article to teach us how to check which application is using which port, find it and kill/close it.\r\n\r\n\r\n  [1]: https://veerasundar.com/blog/2009/10/how-to-check-which-application-is-using-which-port/","title":"Unable to open debugger port in IntelliJ","body":"<p>I once have this problem too.\nMy solution is to work around this problem by kill the application which is using the port.\n<a href=\"https://veerasundar.com/blog/2009/10/how-to-check-which-application-is-using-which-port/\" rel=\"nofollow noreferrer\">Here</a> is a article to teach us how to check which application is using which port, find it and kill/close it.</p>\n"},{"tags":[],"owner":{"account_id":6655393,"reputation":2561,"user_id":5136131,"display_name":"Positive Navid"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581452264,"creation_date":1581452264,"answer_id":60176725,"question_id":12792833,"body_markdown":"Merely hitting the debug icon again fixed my problem in a few seconds.","title":"Unable to open debugger port in IntelliJ","body":"<p>Merely hitting the debug icon again fixed my problem in a few seconds.</p>\n"},{"tags":[],"owner":{"account_id":10473075,"reputation":39,"user_id":7720408,"display_name":"Domingos Manuel"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629827671,"creation_date":1629827671,"answer_id":68911998,"question_id":12792833,"body_markdown":"Make sure to specify an SDK and Project SDK for your app under File --&gt; Project Structure (Project | SDKs)","title":"Unable to open debugger port in IntelliJ","body":"<p>Make sure to specify an SDK and Project SDK for your app under File --&gt; Project Structure (Project | SDKs)</p>\n"},{"tags":[],"owner":{"account_id":16201461,"reputation":424,"user_id":11697770,"display_name":"Mihir Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660642923,"creation_date":1660642923,"answer_id":73371942,"question_id":12792833,"body_markdown":"In my case, I was not setting the debug port while starting the application.\r\nI am using tomcat to deploy 3 war files, and I forgot to configure the debug port.\r\n\r\nTomcat allows us to configure this via `setenv.sh`.\r\n\r\nHere are the commands to create `setenv.sh` file in the bin directory of my tomcat installation and provide the debug arguments/port.\r\n\r\n```\r\ntee /usr/share/tomcat9/bin/setenv.sh &lt;&lt; EOF\r\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&quot;\r\nEOF\r\n\r\nservice tomcat9 restart\r\n```","title":"Unable to open debugger port in IntelliJ","body":"<p>In my case, I was not setting the debug port while starting the application.\nI am using tomcat to deploy 3 war files, and I forgot to configure the debug port.</p>\n<p>Tomcat allows us to configure this via <code>setenv.sh</code>.</p>\n<p>Here are the commands to create <code>setenv.sh</code> file in the bin directory of my tomcat installation and provide the debug arguments/port.</p>\n<pre><code>tee /usr/share/tomcat9/bin/setenv.sh &lt;&lt; EOF\nexport CATALINA_OPTS=&quot;$CATALINA_OPTS -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&quot;\nEOF\n\nservice tomcat9 restart\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684524272,"post_id":76287680,"comment_id":134535106,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76287680/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23048673,"reputation":9,"user_id":17165857,"display_name":"Do Quoc Viet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684488856,"creation_date":1684487881,"answer_id":76287680,"question_id":12792833,"body_markdown":"I change the port from 6xxxxx to 2xxxxx and it works now.","title":"Unable to open debugger port in IntelliJ","body":"<p>I change the port from 6xxxxx to 2xxxxx and it works now.</p>\n"},{"tags":[],"owner":{"account_id":4104486,"reputation":491,"user_id":3369001,"accept_rate":100,"display_name":"Vishal_Kotecha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696919036,"creation_date":1696919036,"answer_id":77263337,"question_id":12792833,"body_markdown":"I know its an old thread but I am using tomcat with spring boot and none of above worked for me. As of Oct, 2023, Intellij Community Edition suggests following command line arguments for JVM\r\n\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PZENI.png\r\n\r\nHowever, when I run my application with following command: \r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar myApp.jar --spring.profiles.active=local\r\n\r\nI didn&#39;t get the following line \r\n\r\n    Listening for transport dt_socket at address: 5005\r\n\r\nWith help of this answer https://stackoverflow.com/a/43800535/3369001, I changed it to \r\n\r\n    java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar myApp.jar --spring.profiles.active=local\r\n\r\nInstead of `address=*:5005`, use `address=5005`. \r\n\r\nThat&#39;s it!\r\n","title":"Unable to open debugger port in IntelliJ","body":"<p>I know its an old thread but I am using tomcat with spring boot and none of above worked for me. As of Oct, 2023, Intellij Community Edition suggests following command line arguments for JVM</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PZENI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PZENI.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I run my application with following command:</p>\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar myApp.jar --spring.profiles.active=local\n</code></pre>\n<p>I didn't get the following line</p>\n<pre><code>Listening for transport dt_socket at address: 5005\n</code></pre>\n<p>With help of this answer <a href=\"https://stackoverflow.com/a/43800535/3369001\">https://stackoverflow.com/a/43800535/3369001</a>, I changed it to</p>\n<pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -jar myApp.jar --spring.profiles.active=local\n</code></pre>\n<p>Instead of <code>address=*:5005</code>, use <code>address=5005</code>.</p>\n<p>That's it!</p>\n"},{"comments":[{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":0,"creation_date":1700015644,"post_id":77451439,"comment_id":136602269,"body_markdown":"Hello, please don&#39;t post image/code only and add an explantation as to why you think that this is the optimal solution. People are supposed to learn from your answer, which might not occur if they just copy paste code without knowing why it should be used. Screenshots are especially bad.","body":"Hello, please don&#39;t post image/code only and add an explantation as to why you think that this is the optimal solution. People are supposed to learn from your answer, which might not occur if they just copy paste code without knowing why it should be used. Screenshots are especially bad."}],"tags":[],"owner":{"account_id":18897994,"reputation":46,"user_id":13786705,"display_name":"Ridima Bajpai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699517308,"creation_date":1699517308,"answer_id":77451439,"question_id":12792833,"body_markdown":"Changing the debugger port works for me. [screenshot of tomcat config\r\n][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WFuk1.jpg","title":"Unable to open debugger port in IntelliJ","body":"<p>Changing the debugger port works for me. <a href=\"https://i.stack.imgur.com/WFuk1.jpg\" rel=\"nofollow noreferrer\">screenshot of tomcat config\n</a></p>\n"}],"owner":{"account_id":561923,"reputation":7498,"user_id":1118559,"accept_rate":38,"display_name":"MindBrain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209045,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":12793700,"answer_count":22,"score":60,"last_activity_date":1699517308,"creation_date":1349757133,"question_id":12792833,"body_markdown":"Unable to open debugger port in intellij.\r\nThe port number 9009 matches the one which has been set in the configuration file for the application.\r\n\r\n    &lt;java-config debug-options=&quot;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9009&quot; system-classpath=&quot;&quot; native-library-path-prefix=&quot;D:\\Project\\lib\\windows\\64bit&quot; classpath-suffix=&quot;&quot;&gt;\r\n        &lt;jvm-options&gt;-XX:MaxPermSize=192m&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-client&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-XX:+UnlockDiagnosticVMOptions&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-XX:+LogVMOutput&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-XX:LogFile=${com.sun.aas.instanceRoot}/logs/jvm.log&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djava.endorsed.dirs=${com.sun.aas.installRoot}/modules/endorsed${path.separator}${com.sun.aas.installRoot}/lib/endorsed&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djava.security.policy=${com.sun.aas.instanceRoot}/config/server.policy&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djava.security.auth.login.config=${com.sun.aas.instanceRoot}/config/login.conf&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/keystore.jks&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/config/cacerts.jks&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djava.ext.dirs=${com.sun.aas.javaRoot}/lib/ext${path.separator}${com.sun.aas.javaRoot}/jre/lib/ext${path.separator}${com.sun.aas.instanceRoot}/lib/ext&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Djdbc.drivers=org.apache.derby.jdbc.ClientDriver&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-DANTLR_USE_DIRECT_CLASS_LOADING=true&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dosgi.shell.telnet.port=4766&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dosgi.shell.telnet.maxconn=1&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dosgi.shell.telnet.ip=127.0.0.1&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dfelix.fileinstall.dir=${com.sun.aas.installRoot}/modules/autostart/&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dfelix.fileinstall.poll=5000&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dfelix.fileinstall.debug=1&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dfelix.fileinstall.bundles.new.start=true&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Dorg.glassfish.web.rfc2109_cookie_names_enforced=false&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-XX:NewRatio=2&lt;/jvm-options&gt;\r\n        &lt;jvm-options&gt;-Xmx2048m&lt;/jvm-options&gt;\r\n      &lt;/java-config&gt;\r\n\r\nConfiguration in IntelliJ:\r\n\r\n![enter image description here][1]\r\n\r\nWhen I try and enable the remote debugging in for this application it comes up with the following error:\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pX1N4.png\r\n  [2]: http://i.stack.imgur.com/7ePT8.png","title":"Unable to open debugger port in IntelliJ","body":"<p>Unable to open debugger port in intellij.\nThe port number 9009 matches the one which has been set in the configuration file for the application.</p>\n\n<pre><code>&lt;java-config debug-options=\"-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=9009\" system-classpath=\"\" native-library-path-prefix=\"D:\\Project\\lib\\windows\\64bit\" classpath-suffix=\"\"&gt;\n    &lt;jvm-options&gt;-XX:MaxPermSize=192m&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-client&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-XX:+UnlockDiagnosticVMOptions&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-XX:+LogVMOutput&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-XX:LogFile=${com.sun.aas.instanceRoot}/logs/jvm.log&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djava.endorsed.dirs=${com.sun.aas.installRoot}/modules/endorsed${path.separator}${com.sun.aas.installRoot}/lib/endorsed&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djava.security.policy=${com.sun.aas.instanceRoot}/config/server.policy&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djava.security.auth.login.config=${com.sun.aas.instanceRoot}/config/login.conf&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/keystore.jks&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/config/cacerts.jks&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djava.ext.dirs=${com.sun.aas.javaRoot}/lib/ext${path.separator}${com.sun.aas.javaRoot}/jre/lib/ext${path.separator}${com.sun.aas.instanceRoot}/lib/ext&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Djdbc.drivers=org.apache.derby.jdbc.ClientDriver&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-DANTLR_USE_DIRECT_CLASS_LOADING=true&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dosgi.shell.telnet.port=4766&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dosgi.shell.telnet.maxconn=1&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dosgi.shell.telnet.ip=127.0.0.1&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dfelix.fileinstall.dir=${com.sun.aas.installRoot}/modules/autostart/&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dfelix.fileinstall.poll=5000&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dfelix.fileinstall.debug=1&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dfelix.fileinstall.bundles.new.start=true&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Dorg.glassfish.web.rfc2109_cookie_names_enforced=false&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-XX:NewRatio=2&lt;/jvm-options&gt;\n    &lt;jvm-options&gt;-Xmx2048m&lt;/jvm-options&gt;\n  &lt;/java-config&gt;\n</code></pre>\n\n<p>Configuration in IntelliJ:</p>\n\n<p><img src=\"https://i.stack.imgur.com/pX1N4.png\" alt=\"enter image description here\"></p>\n\n<p>When I try and enable the remote debugging in for this application it comes up with the following error:\n<img src=\"https://i.stack.imgur.com/7ePT8.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-kafka","avro","confluent-schema-registry"],"owner":{"account_id":29861830,"reputation":11,"user_id":22885310,"display_name":"Drum Beats"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699517189,"creation_date":1699517189,"question_id":77451430,"body_markdown":"So I have one avro schema Which I want to evolve and using topicRecordName strategy. I am using confluent schema registry. I want to have it backward compatible and It is necessary that I change the Record Name.\r\nOld schema\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;OldSchema&quot;,\r\n  &quot;namespace&quot;: &quot;com.example.kafkaschemaregistrydemo.event&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;firstName&quot;,\r\n      &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;],\r\n      &quot;default&quot;: null\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nNew Schema\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;NewSchema&quot;,\r\n  &quot;aliases&quot;: [&quot;OldSchema&quot;],\r\n  &quot;namespace&quot;: &quot;com.example.kafkaschemaregistrydemo.event&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;firstName&quot;,\r\n      &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;],\r\n      &quot;default&quot;: null\r\n    }\r\n  ]\r\n}```\r\nI am using `KafkaAvroDeserialiser` in java to deserialize.\r\n```\r\n\r\nThe way I am comsuming the message is as Follows\r\n\r\n\r\n```\r\n@KafkaListener(topics = &quot;TopicName&quot;, groupId = &quot;test-group&quot;)\r\n    public void consume(@Payload NewSchema event){\r\n        System.out.println(&quot;Supplier New Event&quot;);\r\n        System.out.println(&quot;Consumed message&quot; + event.toString());\r\n    }\r\n```\r\n\r\nError that I face\r\n\r\n```\r\nCannot convert from [com.example.kafkaschemaregistrydemo.events.OldSchema] to [com.example.kafkaschemaregistrydemo.event.NewSchema] for GenericMessage....\r\n```\r\n\r\nThe reason why I want to have change record name because I have two Schemas which I wanted to merged into one single event while maintaining Backward Compatibilty. \r\n\r\n\r\n\r\n\r\nFew Things that I tried\r\nI assumed that having the alias should have being enough especially when having aliases for other fields works fine but not for RecordName.\r\n1. changing \r\n`configProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, false);`\r\n2. Having the old schema be also be generated along with new Schema\r\n3. tried with both `SpecificRecord` and `GenericRecord`\r\n4. Tried without `@Payload`\r\n5. When I check the backward Compatibility it passes.\r\nIs it even possible and if not what options do I have ?","title":"Evolving Avro Schema where the Record Name changes and using alias for it does not work","body":"<p>So I have one avro schema Which I want to evolve and using topicRecordName strategy. I am using confluent schema registry. I want to have it backward compatible and It is necessary that I change the Record Name.\nOld schema</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;OldSchema&quot;,\n  &quot;namespace&quot;: &quot;com.example.kafkaschemaregistrydemo.event&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;firstName&quot;,\n      &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;],\n      &quot;default&quot;: null\n    }\n  ]\n}\n</code></pre>\n<p>New Schema</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;NewSchema&quot;,\n  &quot;aliases&quot;: [&quot;OldSchema&quot;],\n  &quot;namespace&quot;: &quot;com.example.kafkaschemaregistrydemo.event&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;firstName&quot;,\n      &quot;type&quot;: [&quot;null&quot;, &quot;string&quot;],\n      &quot;default&quot;: null\n    }\n  ]\n}```\nI am using `KafkaAvroDeserialiser` in java to deserialize.\n</code></pre>\n<p>The way I am comsuming the message is as Follows</p>\n<pre><code>@KafkaListener(topics = &quot;TopicName&quot;, groupId = &quot;test-group&quot;)\n    public void consume(@Payload NewSchema event){\n        System.out.println(&quot;Supplier New Event&quot;);\n        System.out.println(&quot;Consumed message&quot; + event.toString());\n    }\n</code></pre>\n<p>Error that I face</p>\n<pre><code>Cannot convert from [com.example.kafkaschemaregistrydemo.events.OldSchema] to [com.example.kafkaschemaregistrydemo.event.NewSchema] for GenericMessage....\n</code></pre>\n<p>The reason why I want to have change record name because I have two Schemas which I wanted to merged into one single event while maintaining Backward Compatibilty.</p>\n<p>Few Things that I tried\nI assumed that having the alias should have being enough especially when having aliases for other fields works fine but not for RecordName.</p>\n<ol>\n<li>changing\n<code>configProps.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, false);</code></li>\n<li>Having the old schema be also be generated along with new Schema</li>\n<li>tried with both <code>SpecificRecord</code> and <code>GenericRecord</code></li>\n<li>Tried without <code>@Payload</code></li>\n<li>When I check the backward Compatibility it passes.\nIs it even possible and if not what options do I have ?</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9844,"page":73,"page_size":100}
