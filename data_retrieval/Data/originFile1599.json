{"items":[{"tags":["java","ipc","jshell"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1644631554,"post_id":71088402,"comment_id":125665642,"body_markdown":"remember that stdin, stdout and stderr need appropriate bindings to do what you need.","body":"remember that stdin, stdout and stderr need appropriate bindings to do what you need."},{"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"score":0,"creation_date":1644645572,"post_id":71088402,"comment_id":125667072,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans System.in and System.out are streams and you can read directly from System.in and write directly to System.out. The idea behind the bindings is that they facilitate character reading and character writing and buffering data to improve performance","body":"@Mike&#39;Pomax&#39;Kamermans System.in and System.out are streams and you can read directly from System.in and write directly to System.out. The idea behind the bindings is that they facilitate character reading and character writing and buffering data to improve performance"}],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1644631428,"creation_date":1644631428,"question_id":71088402,"body_markdown":"I am writing a simple shell demo that highlights a problem I am having with JShell. When I pass JShell as an argument to `/bin/zsh -c` it works fine except for the fact that my Process echoes back whatever I send it.\r\n\r\nHere is the code to my shell demo.\r\n\r\n    import java.io.*;\r\n    \r\n    public class ShellDemo {\r\n    \r\n        private String[] cmd = new String[] {&quot;/bin/zsh&quot;, &quot;-c&quot;, &quot;jshell&quot;};\r\n        private Process process;\r\n    \r\n        public ShellDemo() {}\r\n    \r\n        public void init() {\r\n            try {\r\n                ProcessBuilder pb = new ProcessBuilder(cmd);\r\n                process = pb.start();\r\n                read();\r\n                listen();\r\n            } catch (IOException ex) {\r\n                System.err.println(ex);\r\n            }\r\n        }\r\n    \r\n        private void read() {\r\n            Thread thread = new Thread(() -&gt; {\r\n                try (BufferedReader reader = process.inputReader()) {\r\n                    char[] buf = new char[10000];\r\n                    while (reader.ready() || process.isAlive()) {\r\n                        int count = reader.read(buf, 0, 10000);\r\n                        System.out.print(new String(buf, 0, count));\r\n                    }      \r\n                    int exitVal = process.waitFor();\r\n                    System.out.println(&quot;Process exited with value &quot; + exitVal + &quot;\\n&quot;);\r\n                } catch (IOException | InterruptedException ex) {\r\n                    System.err.println(ex);\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    \r\n        private void listen() {\r\n            Thread thread = new Thread(() -&gt; {\r\n                try (\r\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n                    BufferedWriter writer = process.outputWriter();\r\n                ) {\r\n                    while (process.isAlive()) {\r\n                        String line = reader.readLine();\r\n                        writer.write(line);\r\n                        writer.newLine();\r\n                        writer.flush();\r\n                    }\r\n                } catch (IOException ex) {\r\n                    System.err.println(ex);\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            ShellDemo demo = new ShellDemo();\r\n            demo.init();\r\n        }\r\n    }\r\n\r\nThen I compile and run my shell demo, and you&#39;ll see the echo in the output.\r\n\r\n    % javac ShellDemo.java\r\n    % java ShellDemo      \r\n    |  Welcome to JShell -- Version 17.0.1\r\n    |  For an introduction type: /help intro\r\n    \r\n    jshell&gt; System.out.println(&quot;hello world&quot;);\r\n    System.out.println(&quot;hello world&quot;)hello world\r\n    \r\n    jshell&gt; \r\n\r\nSee how `System.out.println(&quot;hello world&quot;)` gets echoed before the &quot;hello world&quot; message is read by the inputReader? Why does zsh or JShell echo what I send it?\r\n\r\nIs there a way to avoid the echo? What&#39;s the best solution?\r\n","title":"Why does JShell have an echo in my shell demo?","body":"<p>I am writing a simple shell demo that highlights a problem I am having with JShell. When I pass JShell as an argument to <code>/bin/zsh -c</code> it works fine except for the fact that my Process echoes back whatever I send it.</p>\n<p>Here is the code to my shell demo.</p>\n<pre><code>import java.io.*;\n\npublic class ShellDemo {\n\n    private String[] cmd = new String[] {&quot;/bin/zsh&quot;, &quot;-c&quot;, &quot;jshell&quot;};\n    private Process process;\n\n    public ShellDemo() {}\n\n    public void init() {\n        try {\n            ProcessBuilder pb = new ProcessBuilder(cmd);\n            process = pb.start();\n            read();\n            listen();\n        } catch (IOException ex) {\n            System.err.println(ex);\n        }\n    }\n\n    private void read() {\n        Thread thread = new Thread(() -&gt; {\n            try (BufferedReader reader = process.inputReader()) {\n                char[] buf = new char[10000];\n                while (reader.ready() || process.isAlive()) {\n                    int count = reader.read(buf, 0, 10000);\n                    System.out.print(new String(buf, 0, count));\n                }      \n                int exitVal = process.waitFor();\n                System.out.println(&quot;Process exited with value &quot; + exitVal + &quot;\\n&quot;);\n            } catch (IOException | InterruptedException ex) {\n                System.err.println(ex);\n            }\n        });\n        thread.start();\n    }\n\n    private void listen() {\n        Thread thread = new Thread(() -&gt; {\n            try (\n                BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n                BufferedWriter writer = process.outputWriter();\n            ) {\n                while (process.isAlive()) {\n                    String line = reader.readLine();\n                    writer.write(line);\n                    writer.newLine();\n                    writer.flush();\n                }\n            } catch (IOException ex) {\n                System.err.println(ex);\n            }\n        });\n        thread.start();\n    }\n\n    public static void main(String[] args) {\n        ShellDemo demo = new ShellDemo();\n        demo.init();\n    }\n}\n</code></pre>\n<p>Then I compile and run my shell demo, and you'll see the echo in the output.</p>\n<pre><code>% javac ShellDemo.java\n% java ShellDemo      \n|  Welcome to JShell -- Version 17.0.1\n|  For an introduction type: /help intro\n\njshell&gt; System.out.println(&quot;hello world&quot;);\nSystem.out.println(&quot;hello world&quot;)hello world\n\njshell&gt; \n</code></pre>\n<p>See how <code>System.out.println(&quot;hello world&quot;)</code> gets echoed before the &quot;hello world&quot; message is read by the inputReader? Why does zsh or JShell echo what I send it?</p>\n<p>Is there a way to avoid the echo? What's the best solution?</p>\n"},{"tags":["java","html","swing","jeditorpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1373797844,"post_id":17638394,"comment_id":25683333,"body_markdown":"For better help sooner, post an [SSCCE](http://sscce.org/).","body":"For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."}],"answers":[{"tags":[],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1373798889,"creation_date":1373798889,"answer_id":17638700,"question_id":17638394,"body_markdown":"The problem is that HtmlDocument requires you perform a writeLock before trying to change any attributes and a writeUnlock after. So to solve this I had to:\r\n\r\nFirst extend the EditorKit for my JEditorPane to use a custom HtmlDocument. Then I extended the HTMLDocument to make the writeLock and writeUnlock publicly accesible:\r\n\r\n\r\n    public class ExtendedHTMLDocument extends HTMLDocument\r\n    {\r\n        public void hackWriteLock()\r\n        {\r\n            writeLock();\r\n        }\r\n    \t\r\n        public void hackWriteUnlock()\r\n        {\r\n            writeUnlock();\r\n        }\r\n    }\r\n\r\nThen I did:\r\n\r\n    public class ExtendedEditorKit extends HTMLEditorKit\r\n    {\r\n    \t@Override\r\n    \tpublic Document createDefaultDocument()\r\n    \t{\r\n    \t\t// For the left out code copy what&#39;s in the super method\r\n    \t\t..\r\n    \t\tHTMLDocument doc = new ExtendedHTMLDocument(ss);\r\n    \t\t..\r\n    \t}\r\n    }\r\n\r\nNow I could in code above, all I have to do is call the lock before trying to edit the attributes, and unlock when I&#39;m done:\r\n\r\n    // lock\r\n    htmlDocument.hackWriteLock()\r\n    \r\n    // Get &lt;img src=&quot;...&quot;&gt; tag\r\n    RunElement imageTagElement = getImageTagElement(htmlDocument);\r\n    \r\n    // Print src attribute value\r\n    System.out.println(&quot;src : &quot; + runElement.getAttribute(HTML.Attribute.SRC));\r\n    \r\n    // Replace existing src value \r\n    runElement.removeAttribute(HTML.Attribute.SRC);\r\n    runElement.addAttribute(HTML.Attribute.SRC, &quot;customValue&quot;);\r\n    \r\n    // unlock\r\n    htmlDocument.hackWriteUnlock()\r\n\r\nAnd everything works as expected. I&#39;m able to modify and edit the attributes in the document.\r\n\r\n*I guess what I now don&#39;t fully understand or appreciate is why you can&#39;t access the writeLock and writeUnlock publicly? Why have they been setup as protected? What where the programmers trying to prevent you from doing and why?* \r\n","title":"Java JEditorPane - Trying to edit an html tag value and getting Exception","body":"<p>The problem is that HtmlDocument requires you perform a writeLock before trying to change any attributes and a writeUnlock after. So to solve this I had to:</p>\n\n<p>First extend the EditorKit for my JEditorPane to use a custom HtmlDocument. Then I extended the HTMLDocument to make the writeLock and writeUnlock publicly accesible:</p>\n\n<pre><code>public class ExtendedHTMLDocument extends HTMLDocument\n{\n    public void hackWriteLock()\n    {\n        writeLock();\n    }\n\n    public void hackWriteUnlock()\n    {\n        writeUnlock();\n    }\n}\n</code></pre>\n\n<p>Then I did:</p>\n\n<pre><code>public class ExtendedEditorKit extends HTMLEditorKit\n{\n    @Override\n    public Document createDefaultDocument()\n    {\n        // For the left out code copy what's in the super method\n        ..\n        HTMLDocument doc = new ExtendedHTMLDocument(ss);\n        ..\n    }\n}\n</code></pre>\n\n<p>Now I could in code above, all I have to do is call the lock before trying to edit the attributes, and unlock when I'm done:</p>\n\n<pre><code>// lock\nhtmlDocument.hackWriteLock()\n\n// Get &lt;img src=\"...\"&gt; tag\nRunElement imageTagElement = getImageTagElement(htmlDocument);\n\n// Print src attribute value\nSystem.out.println(\"src : \" + runElement.getAttribute(HTML.Attribute.SRC));\n\n// Replace existing src value \nrunElement.removeAttribute(HTML.Attribute.SRC);\nrunElement.addAttribute(HTML.Attribute.SRC, \"customValue\");\n\n// unlock\nhtmlDocument.hackWriteUnlock()\n</code></pre>\n\n<p>And everything works as expected. I'm able to modify and edit the attributes in the document.</p>\n\n<p><em>I guess what I now don't fully understand or appreciate is why you can't access the writeLock and writeUnlock publicly? Why have they been setup as protected? What where the programmers trying to prevent you from doing and why?</em> </p>\n"},{"tags":[],"owner":{"account_id":14621478,"reputation":1,"user_id":10560022,"display_name":"Sammy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644630314,"creation_date":1644571025,"answer_id":71077644,"question_id":17638394,"body_markdown":"    ## Use the  htmlDoc.setCharacterAttributes (...);##\r\n    ElementIterator it = new ElementIterator(htmlDoc);\r\n    Element elem;\r\n     while ((elem = it.next()) != null) {\r\n       if (elem.getName().equals(&quot;img&quot;)) {\r\n          AttributeSet atts = elem.getAttributes();\r\n           // Modifiable \r\n          SimpleAttributeSet simple = new SimpleAttributeSet(atts);\r\n          String s = (String) simple.getAttribute(HTML.Attribute.SRC);\r\n          if (s != null) {\r\n               System.out.println(s); // testing\r\n               int len = elem.getEndOffset() - elem.getStartOffset();\r\n               //simple.removeAttribute(HTML.Attribute.SRC);\r\n               simple.addAttribute( HTML.Attribute.SRC, **newSRC_URL_String** );\r\n               //\r\n               //  The doc takes care of the locks \r\n               //\r\n               htmlDoc.setCharacterAttributes(\r\n                 elem.getStartOffset(),len,simple,true);\r\n     }\r\n     }\r\n     }","title":"Java JEditorPane - Trying to edit an html tag value and getting Exception","body":"<pre><code>## Use the  htmlDoc.setCharacterAttributes (...);##\nElementIterator it = new ElementIterator(htmlDoc);\nElement elem;\n while ((elem = it.next()) != null) {\n   if (elem.getName().equals(&quot;img&quot;)) {\n      AttributeSet atts = elem.getAttributes();\n       // Modifiable \n      SimpleAttributeSet simple = new SimpleAttributeSet(atts);\n      String s = (String) simple.getAttribute(HTML.Attribute.SRC);\n      if (s != null) {\n           System.out.println(s); // testing\n           int len = elem.getEndOffset() - elem.getStartOffset();\n           //simple.removeAttribute(HTML.Attribute.SRC);\n           simple.addAttribute( HTML.Attribute.SRC, **newSRC_URL_String** );\n           //\n           //  The doc takes care of the locks \n           //\n           htmlDoc.setCharacterAttributes(\n             elem.getStartOffset(),len,simple,true);\n }\n }\n }\n</code></pre>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17638700,"answer_count":2,"score":1,"last_activity_date":1644630314,"creation_date":1373796305,"question_id":17638394,"body_markdown":"I have a JEditorPane and I&#39;m trying to edit one fo the html element attributes, basically changing the the src x value in &lt;img scr=&quot;x&quot;&gt; to a custom value &lt;img src=&quot;customValue&quot;&gt;\r\n\r\nThe code I have is:\r\n\r\n    // Get &lt;img src=&quot;...&quot;&gt; tag\r\n    RunElement imageTagElement = getImageTagElement(htmlDocument);\r\n    \r\n    // Print src attribute value\r\n    System.out.println(&quot;src : &quot; + runElement.getAttribute(HTML.Attribute.SRC));\r\n    \r\n    // Replace existing src value \r\n    runElement.removeAttribute(HTML.Attribute.SRC);\r\n    runElement.addAttribute(HTML.Attribute.SRC, &quot;customValue&quot;);\r\n\r\nI get the following exception in the before last line when I try to remove the existing attribute (because you can&#39;t replace):\r\n\r\n    javax.swing.text.StateInvariantError: Illegal cast to MutableAttributeSet\r\n\r\nI read a few places that you can use writeLock, but that&#39;s a **protected** method, *which means I can&#39;t call it from this code...*\r\n\r\nSo basically my question is that if you&#39;ve found the element you want, how do you edit it&#39;s attributes?\r\n","title":"Java JEditorPane - Trying to edit an html tag value and getting Exception","body":"<p>I have a JEditorPane and I'm trying to edit one fo the html element attributes, basically changing the the src x value in  to a custom value </p>\n\n<p>The code I have is:</p>\n\n<pre><code>// Get &lt;img src=\"...\"&gt; tag\nRunElement imageTagElement = getImageTagElement(htmlDocument);\n\n// Print src attribute value\nSystem.out.println(\"src : \" + runElement.getAttribute(HTML.Attribute.SRC));\n\n// Replace existing src value \nrunElement.removeAttribute(HTML.Attribute.SRC);\nrunElement.addAttribute(HTML.Attribute.SRC, \"customValue\");\n</code></pre>\n\n<p>I get the following exception in the before last line when I try to remove the existing attribute (because you can't replace):</p>\n\n<pre><code>javax.swing.text.StateInvariantError: Illegal cast to MutableAttributeSet\n</code></pre>\n\n<p>I read a few places that you can use writeLock, but that's a <strong>protected</strong> method, <em>which means I can't call it from this code...</em></p>\n\n<p>So basically my question is that if you've found the element you want, how do you edit it's attributes?</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1644585788,"post_id":43605707,"comment_id":125652048,"body_markdown":"This question is NOT a duplicate to https://stackoverflow.com/questions/23696317/java-8-find-first-element-by-predicate. Although answers to that question can be used to construct an answer to this one, there could also be answers which don&#39;t require iterating the stream.","body":"This question is NOT a duplicate to <a href=\"https://stackoverflow.com/questions/23696317/java-8-find-first-element-by-predicate\" title=\"java 8 find first element by predicate\">stackoverflow.com/questions/23696317/&hellip;</a>. Although answers to that question can be used to construct an answer to this one, there could also be answers which don&#39;t require iterating the stream."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1493110012,"creation_date":1493110012,"answer_id":43605785,"question_id":43605707,"body_markdown":"If I understood correctly, that&#39;s the classic case where you need `IntStream`; but that would only apply for a List obviously.     \r\n\r\n    IntStream.range(0, yourList.size())\r\n       .filter(i -&gt; yourList.get(i)... your filter condition)\r\n       .collect(Collectors.toList());","title":"Get index of element that matches a predicate","body":"<p>If I understood correctly, that's the classic case where you need <code>IntStream</code>; but that would only apply for a List obviously.     </p>\n\n<pre><code>IntStream.range(0, yourList.size())\n   .filter(i -&gt; yourList.get(i)... your filter condition)\n   .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":222360,"reputation":7605,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11055,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":43605785,"answer_count":1,"score":9,"last_activity_date":1644629175,"creation_date":1493109818,"question_id":43605707,"body_markdown":"I know how to find the first element of a list by predicate: \r\nhttps://stackoverflow.com/questions/23696317/java-8-find-first-element-by-predicate\r\n\r\nIs there an easy way to get the index of that element?","title":"Get index of element that matches a predicate","body":"<p>I know how to find the first element of a list by predicate:\n<a href=\"https://stackoverflow.com/questions/23696317/java-8-find-first-element-by-predicate\">Find first element by predicate</a></p>\n<p>Is there an easy way to get the index of that element?</p>\n"},{"tags":["java","google-sheets","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":5446881,"reputation":2110,"user_id":4333107,"display_name":"Bardy"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1480762676,"creation_date":1480762676,"answer_id":40946998,"question_id":40946729,"body_markdown":"You can specify the whole Sheet as just : `String range = &quot;Class Data&quot;;`, for a Sheet named *Class Data*. You can see the output on the [Try it](https://developers.google.com/sheets/reference/rest/v4/spreadsheets.values/get) part of the `spreadsheets.values.get` reference.","title":"Reading whole Google Spreadsheet with Sheets API v4 Java","body":"<p>You can specify the whole Sheet as just : <code>String range = \"Class Data\";</code>, for a Sheet named <em>Class Data</em>. You can see the output on the <a href=\"https://developers.google.com/sheets/reference/rest/v4/spreadsheets.values/get\" rel=\"noreferrer\">Try it</a> part of the <code>spreadsheets.values.get</code> reference.</p>\n"},{"tags":[],"owner":{"account_id":13638934,"reputation":49,"user_id":9839322,"display_name":"Yaman Malko&#231;"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1581537592,"creation_date":1581537592,"answer_id":60196003,"question_id":40946729,"body_markdown":"For those who want to get data with the Spread Sheet ID (can be obtained from the URL) but not the sheet name, the following code snippet might be useful. It prints out all the sheet names in found under the spreadsheet. You can change the print statement to whatever you need.\r\n```\r\nspreadsheet = service.spreadsheets().get(spreadsheetId=SHEET_ID, includeGridData=True).execute()\r\n    for sheet in spreadsheet[&#39;sheets&#39;]:\r\n        print(sheet[&#39;properties&#39;][&#39;title&#39;])\r\n\r\n```","title":"Reading whole Google Spreadsheet with Sheets API v4 Java","body":"<p>For those who want to get data with the Spread Sheet ID (can be obtained from the URL) but not the sheet name, the following code snippet might be useful. It prints out all the sheet names in found under the spreadsheet. You can change the print statement to whatever you need.</p>\n\n<pre><code>spreadsheet = service.spreadsheets().get(spreadsheetId=SHEET_ID, includeGridData=True).execute()\n    for sheet in spreadsheet['sheets']:\n        print(sheet['properties']['title'])\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15691380,"reputation":11,"user_id":15262852,"display_name":"Nick Alymov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644629150,"creation_date":1644628766,"answer_id":71088214,"question_id":40946729,"body_markdown":"If you are a little confused after [@Bardy][1]&#39;s answer (like me), then next line could help you (to get proper title of the Sheet):\r\n\r\n    response.getSheets().get(0).getProperties().getTitle();\r\nSo, about topic, you can firstly get your Spreadsheet:\r\n\r\n       Spreadsheet response = service\r\n            .spreadsheets()\r\n            .get(spreadsheetId)\r\n            .execute();\r\n\r\nAnd then get ValueRange this way:\r\n\r\n    ValueRange response1 = service.spreadsheets().values()\r\n            .get(spreadsheetId,response.getSheets().get(0).getProperties().getTitle())\r\n        .execute();\r\n(Assuming you got only 1 sheet, otherwise try to debug/print all sheets with \r\n\r\n    response.getSheets()\r\nand then find the title of sheet you are using.\r\n\r\n  [1]: https://stackoverflow.com/a/40946998/15262852","title":"Reading whole Google Spreadsheet with Sheets API v4 Java","body":"<p>If you are a little confused after <a href=\"https://stackoverflow.com/a/40946998/15262852\">@Bardy</a>'s answer (like me), then next line could help you (to get proper title of the Sheet):</p>\n<pre><code>response.getSheets().get(0).getProperties().getTitle();\n</code></pre>\n<p>So, about topic, you can firstly get your Spreadsheet:</p>\n<pre><code>   Spreadsheet response = service\n        .spreadsheets()\n        .get(spreadsheetId)\n        .execute();\n</code></pre>\n<p>And then get ValueRange this way:</p>\n<pre><code>ValueRange response1 = service.spreadsheets().values()\n        .get(spreadsheetId,response.getSheets().get(0).getProperties().getTitle())\n    .execute();\n</code></pre>\n<p>(Assuming you got only 1 sheet, otherwise try to debug/print all sheets with</p>\n<pre><code>response.getSheets()\n</code></pre>\n<p>and then find the title of sheet you are using.</p>\n"}],"owner":{"account_id":2354504,"reputation":2179,"user_id":2062634,"accept_rate":75,"display_name":"Michael Meyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23667,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":40946998,"answer_count":3,"score":30,"last_activity_date":1644629150,"creation_date":1480760844,"question_id":40946729,"body_markdown":"I would like to read a Google Spreadsheet like described in the Java Quickstart\r\n\r\nhttps://developers.google.com/sheets/quickstart/java\r\n\r\nThe Quickstart explaines how to read data from a give range\r\n\r\n    .....\r\n    String range = &quot;Class Data!A2:E&quot;;\r\n    ValueRange response = service.spreadsheets().values()\r\n            .get(spreadsheetId, range)\r\n            .execute();\r\n    \r\n    List&lt;List&lt;Object&gt;&gt; values = response.getValues();\r\n    ....\r\n\r\nBut I have the problem that I do not know the Range of the Spreadsheet. The number of columns can change. So how can I read for example all the data of the Sheet without knowing the range?\r\n\r\nRegards\r\n\r\nMichael\r\n\r\n","title":"Reading whole Google Spreadsheet with Sheets API v4 Java","body":"<p>I would like to read a Google Spreadsheet like described in the Java Quickstart</p>\n\n<p><a href=\"https://developers.google.com/sheets/quickstart/java\" rel=\"noreferrer\">https://developers.google.com/sheets/quickstart/java</a></p>\n\n<p>The Quickstart explaines how to read data from a give range</p>\n\n<pre><code>.....\nString range = \"Class Data!A2:E\";\nValueRange response = service.spreadsheets().values()\n        .get(spreadsheetId, range)\n        .execute();\n\nList&lt;List&lt;Object&gt;&gt; values = response.getValues();\n....\n</code></pre>\n\n<p>But I have the problem that I do not know the Range of the Spreadsheet. The number of columns can change. So how can I read for example all the data of the Sheet without knowing the range?</p>\n\n<p>Regards</p>\n\n<p>Michael</p>\n"},{"tags":["java","matrix","kruskals-algorithm"],"owner":{"account_id":18726208,"reputation":21,"user_id":13652821,"display_name":"ZenXiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644628908,"creation_date":1613629139,"question_id":66254629,"body_markdown":"I am a beginner in java and is tasked to make a Java program implementing Kruskal&#39;s algorithm. The program should display the adjacency matrix and minimum cost. I have done the following code. It displays the minimum cost but I don&#39;t know how to display the adjacency matrix from the weighted matrix input. \r\n\r\n   \r\n\r\n     import java.util.Scanner;\r\n    \r\n        public class kruskal \r\n        {\r\n        \tint parent[]=new int[10];\r\n        \tint find(int m)\r\n        \t{\r\n        \t\tint p=m;\r\n        \t\twhile(parent[p]!=0)\r\n        \t\tp=parent[p];\r\n        \t\treturn p;\r\n        \t}\r\n    \r\n        \tvoid union(int i,int j)\r\n        \t{\r\n    \r\n        \t\tif(i&lt;j)\r\n        \t\tparent[i]=j;\r\n        \t\telse\r\n        \t\tparent[j]=i;\r\n        \t}\r\n    \r\n        \tvoid krkl(int[][]a, int n)\r\n        \t{\r\n        \t\tint u=0,v=0,min,k=0,i,j,sum=0;\r\n    \r\n        \t\twhile(k&lt;n-1)\r\n        \t\t{\r\n        \t\t\tmin=99;\r\n        \t\t\tfor(i=1;i&lt;=n;i++)\r\n        \t\t\tfor(j=1;j&lt;=n;j++)\r\n    \r\n        \t\t\tif(a[i][j]&lt;min&amp;&amp;i!=j)\r\n        \t\t\t{\r\n        \t\t\t\tmin=a[i][j];\r\n        \t\t\t\tu=i;\r\n        \t\t\t\tv=j;\r\n        \t\t\t}\r\n    \r\n        \t\t\ti=find(u);\r\n        \t\t\tj=find(v);\r\n    \r\n        \t\t\tif(i!=j)\r\n        \t\t\t{\r\n        \t\t\t\tunion(i,j);\r\n        \t\t\t\tSystem.out.println(&quot;(&quot;+u+&quot;,&quot;+v+&quot;)&quot;+&quot;=&quot;+a[u][v]);\r\n        \t\t\t\tsum=sum+a[u][v];\r\n        \t\t\t\tk++;\r\n        \t\t\t}\r\n    \r\n        \t\t\ta[u][v]=a[v][u]=99;\r\n        \t\t}\r\n        \t\tSystem.out.println(&quot;The cost of minimum spanning tree = &quot;+sum);\r\n        \t}\r\n    \r\n    \r\n        \tpublic static void main(String[] args) {\r\n    \r\n        \t\tScanner sc=new Scanner(System.in);\r\n        \t\tkruskal k=new kruskal();\r\n        \t\tchar ch;\r\n    \r\n        \t\tdo\r\n        \t\t{\r\n        \t\t\tint a[][]=new int[10][10];\r\n        \t\t\tint i,j;\r\n        \t\t\tint n;\r\n        \t\t\tSystem.out.println(&quot;Enter the number of vertices of the graph&quot;);\r\n        \t\t\tn=sc.nextInt();\r\n    \r\n        \t\t\tSystem.out.println(&quot;Enter the weighted matrix&quot;);\r\n        \t\t\tfor(i=1;i&lt;=n;i++)\r\n        \t\t\tfor(j=1;j&lt;=n;j++)\r\n        \t\t\ta[i][j]=sc.nextInt();\r\n        \t\t\tSystem.out.println();\r\n        \t\t\tk.krkl(a,n);\r\n    \r\n        \t\t\tSystem.out.println(&quot;\\nDo you want to continue? (Type y or n) \\n&quot;);\r\n        \t    \tch = sc.next().charAt(0);\r\n        \t\t\t\r\n        \t\t} while (ch == &#39;Y&#39;|| ch == &#39;y&#39;);\r\n        \t}\r\n        \t\t\r\n        }\r\n\r\nAny help on how would I do this? I am trying to have an input like this:\r\n\r\n         1  2   3   4\r\n       1 1  0   0   0\r\n       2 0  1   1   0\r\n       3 0  1   1   0\r\n       4 0  0   0   1\r\n","title":"Kruskal Algorithm: Display adjacency matrix from weighted matrix","body":"<p>I am a beginner in java and is tasked to make a Java program implementing Kruskal's algorithm. The program should display the adjacency matrix and minimum cost. I have done the following code. It displays the minimum cost but I don't know how to display the adjacency matrix from the weighted matrix input.</p>\n<pre><code> import java.util.Scanner;\n\n    public class kruskal \n    {\n        int parent[]=new int[10];\n        int find(int m)\n        {\n            int p=m;\n            while(parent[p]!=0)\n            p=parent[p];\n            return p;\n        }\n\n        void union(int i,int j)\n        {\n\n            if(i&lt;j)\n            parent[i]=j;\n            else\n            parent[j]=i;\n        }\n\n        void krkl(int[][]a, int n)\n        {\n            int u=0,v=0,min,k=0,i,j,sum=0;\n\n            while(k&lt;n-1)\n            {\n                min=99;\n                for(i=1;i&lt;=n;i++)\n                for(j=1;j&lt;=n;j++)\n\n                if(a[i][j]&lt;min&amp;&amp;i!=j)\n                {\n                    min=a[i][j];\n                    u=i;\n                    v=j;\n                }\n\n                i=find(u);\n                j=find(v);\n\n                if(i!=j)\n                {\n                    union(i,j);\n                    System.out.println(&quot;(&quot;+u+&quot;,&quot;+v+&quot;)&quot;+&quot;=&quot;+a[u][v]);\n                    sum=sum+a[u][v];\n                    k++;\n                }\n\n                a[u][v]=a[v][u]=99;\n            }\n            System.out.println(&quot;The cost of minimum spanning tree = &quot;+sum);\n        }\n\n\n        public static void main(String[] args) {\n\n            Scanner sc=new Scanner(System.in);\n            kruskal k=new kruskal();\n            char ch;\n\n            do\n            {\n                int a[][]=new int[10][10];\n                int i,j;\n                int n;\n                System.out.println(&quot;Enter the number of vertices of the graph&quot;);\n                n=sc.nextInt();\n\n                System.out.println(&quot;Enter the weighted matrix&quot;);\n                for(i=1;i&lt;=n;i++)\n                for(j=1;j&lt;=n;j++)\n                a[i][j]=sc.nextInt();\n                System.out.println();\n                k.krkl(a,n);\n\n                System.out.println(&quot;\\nDo you want to continue? (Type y or n) \\n&quot;);\n                ch = sc.next().charAt(0);\n                \n            } while (ch == 'Y'|| ch == 'y');\n        }\n            \n    }\n</code></pre>\n<p>Any help on how would I do this? I am trying to have an input like this:</p>\n<pre><code>     1  2   3   4\n   1 1  0   0   0\n   2 0  1   1   0\n   3 0  1   1   0\n   4 0  0   0   1\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644628600,"creation_date":1644628600,"answer_id":71088202,"question_id":71087712,"body_markdown":"With the exception that you will have an issue with the returned value being 0 if the data is found \r\n\r\n- i.e. you are getting a long from a text value when using `rv = cursor.getLong(cursor.getColumnIndex(&quot;weather&quot;))` so instead of crashing when trying to convert Rainy to a long 0 is given.\r\n\r\nWhat you have shown works as expected. That leaves the issue to probably be that the database does not in fact contain a row where the date column does  equal the String 2022-01-31.\r\n\r\nYou  need to ensure that what is in the actual database being used is as expected *(your image appears to be from a tool rather than the actual database and often issues are due to differences)*.\r\n\r\nSo in Android Studio run the App and get to a point where it is awaiting for user interaction. The click on **App Inspection** do you see the same data? e.g. it should look like (not all columns have been included in the example):-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf not then your issue is that the data is not being added as expected and that needs to be corrected.\r\n\r\nOtherwise click on the Query Icon [![enter image description here][2]][2]\r\n\r\nEnter and run `SELECT length(date), * FROM dailyquiz1 WHERE date like &#39;2022-01%&#39;` e.g. :-\r\n\r\n[![enter image description here][3]][3]\r\n\r\n- if the first column returned is &gt; 10 then there is an issue with the data that is being stored, as it contains additional data. \r\n- if the first column returned is &lt; 10 then you are storing data that is shorter than it should be.\r\n- if no data is returned then the data stored is even further away from what it should be.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5XkRt.png\r\n  [2]: https://i.stack.imgur.com/hAspa.png\r\n  [3]: https://i.stack.imgur.com/iqmjL.png","title":"Android Studio project not reading correctly from SQLite database?","body":"<p>With the exception that you will have an issue with the returned value being 0 if the data is found</p>\n<ul>\n<li>i.e. you are getting a long from a text value when using <code>rv = cursor.getLong(cursor.getColumnIndex(&quot;weather&quot;))</code> so instead of crashing when trying to convert Rainy to a long 0 is given.</li>\n</ul>\n<p>What you have shown works as expected. That leaves the issue to probably be that the database does not in fact contain a row where the date column does  equal the String 2022-01-31.</p>\n<p>You  need to ensure that what is in the actual database being used is as expected <em>(your image appears to be from a tool rather than the actual database and often issues are due to differences)</em>.</p>\n<p>So in Android Studio run the App and get to a point where it is awaiting for user interaction. The click on <strong>App Inspection</strong> do you see the same data? e.g. it should look like (not all columns have been included in the example):-</p>\n<p><a href=\"https://i.stack.imgur.com/5XkRt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5XkRt.png\" alt=\"enter image description here\" /></a></p>\n<p>If not then your issue is that the data is not being added as expected and that needs to be corrected.</p>\n<p>Otherwise click on the Query Icon <a href=\"https://i.stack.imgur.com/hAspa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hAspa.png\" alt=\"enter image description here\" /></a></p>\n<p>Enter and run <code>SELECT length(date), * FROM dailyquiz1 WHERE date like '2022-01%'</code> e.g. :-</p>\n<p><a href=\"https://i.stack.imgur.com/iqmjL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iqmjL.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>if the first column returned is &gt; 10 then there is an issue with the data that is being stored, as it contains additional data.</li>\n<li>if the first column returned is &lt; 10 then you are storing data that is shorter than it should be.</li>\n<li>if no data is returned then the data stored is even further away from what it should be.</li>\n</ul>\n"}],"owner":{"account_id":12876575,"reputation":17,"user_id":9313084,"display_name":"Gloria N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644628794,"creation_date":1644622795,"question_id":71087712,"body_markdown":"I&#39;ve been struggling with this for days now and can&#39;t work out what&#39;s wrong. The thing is, I am not getting errors at the moment. Im just not producing the result I hoped for. I am trying to read from a specific record in my sqlite database where the data is a week ago today - I am trying to get the weather on this day, which is in my database. Here is my DB code for the method I am using:\r\n\r\n    public long homepageTB(){ \r\n\r\n        LocalDate now = LocalDate.now();\r\n\r\n        LocalDate lastWeek = now.minusDays(7+now.getDayOfWeek().getValue()-1);\r\n        LocalDate currentDate = now.minusDays(now.getDayOfWeek().getValue());\r\n\r\n        String[] lweek = new String[1];\r\n        lweek[0] = String.valueOf(lastWeek);\r\n        String lastwk = String.valueOf(lastWeek);\r\n\r\n        long rv = -1; //&lt;&lt;&lt;&lt; default return to indicate no such row\r\n        SQLiteDatabase DB=this.getReadableDatabase();\r\n        Cursor cursor=DB.rawQuery(&quot;select weather from dailyQuiz1 where date =?&quot;,lweek);\r\n        if (cursor.moveToFirst()) { \r\n            rv = cursor.getLong(cursor.getColumnIndex(&quot;weather&quot;)); \r\n        }\r\n\r\n        System.out.println(lweek[0]);\r\n        System.out.println(rv);\r\n\r\n        return rv;\r\n    }\r\n\r\nAt the moment, this correctly returns the data week ago in format: 2022-01-31\r\nand returns rv: -1 (which means it can&#39;t find the record). However, the record is there in my database:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NBuFi.png\r\n\r\nSo realistically I don&#39;t want -1 to be returned as I would want the variable in another class I am calling it from to now hold the value of the weather, which you can see in my database is &#39;**Rainy**&#39;. Any ideas what I&#39;ve done wrong or what is a better approach? I feel it will be something so obvious but I&#39;ve been trying so many things for the past few days :( Thanks for the help","title":"Android Studio project not reading correctly from SQLite database?","body":"<p>I've been struggling with this for days now and can't work out what's wrong. The thing is, I am not getting errors at the moment. Im just not producing the result I hoped for. I am trying to read from a specific record in my sqlite database where the data is a week ago today - I am trying to get the weather on this day, which is in my database. Here is my DB code for the method I am using:</p>\n<pre><code>public long homepageTB(){ \n\n    LocalDate now = LocalDate.now();\n\n    LocalDate lastWeek = now.minusDays(7+now.getDayOfWeek().getValue()-1);\n    LocalDate currentDate = now.minusDays(now.getDayOfWeek().getValue());\n\n    String[] lweek = new String[1];\n    lweek[0] = String.valueOf(lastWeek);\n    String lastwk = String.valueOf(lastWeek);\n\n    long rv = -1; //&lt;&lt;&lt;&lt; default return to indicate no such row\n    SQLiteDatabase DB=this.getReadableDatabase();\n    Cursor cursor=DB.rawQuery(&quot;select weather from dailyQuiz1 where date =?&quot;,lweek);\n    if (cursor.moveToFirst()) { \n        rv = cursor.getLong(cursor.getColumnIndex(&quot;weather&quot;)); \n    }\n\n    System.out.println(lweek[0]);\n    System.out.println(rv);\n\n    return rv;\n}\n</code></pre>\n<p>At the moment, this correctly returns the data week ago in format: 2022-01-31\nand returns rv: -1 (which means it can't find the record). However, the record is there in my database:\n<a href=\"https://i.stack.imgur.com/NBuFi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBuFi.png\" alt=\"enter image description here\" /></a></p>\n<p>So realistically I don't want -1 to be returned as I would want the variable in another class I am calling it from to now hold the value of the weather, which you can see in my database is '<strong>Rainy</strong>'. Any ideas what I've done wrong or what is a better approach? I feel it will be something so obvious but I've been trying so many things for the past few days :( Thanks for the help</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1644676625,"post_id":71088099,"comment_id":125672471,"body_markdown":"I&#39;d remove the combiner until you have the mapper and reducer working. You can see 0 bytes read, which suggests your input path doesn&#39;t contain any data.","body":"I&#39;d remove the combiner until you have the mapper and reducer working. You can see 0 bytes read, which suggests your input path doesn&#39;t contain any data."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644864225,"post_id":71088099,"comment_id":125713262,"body_markdown":"Also worth pointing out that Spark can do word-count in a lot less code","body":"Also worth pointing out that Spark can do word-count in a lot less code"}],"owner":{"account_id":21343861,"reputation":25,"user_id":17420551,"display_name":"Alexis Stallman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644627229,"creation_date":1644627182,"question_id":71088099,"body_markdown":"I am working on a WordCount MapReduce program, I can get my code to run, but there is no output and the map finishes at 0% while the reduce finishes at 100%.  \r\n\r\n    hadoop jar C:/wordCount.jar C:/project_1_data /myWordCount\r\n    2022-02-11 18:43:59,648 INFO client.RMProxy: Connecting to ResourceManager at /127.0.0.1:8032\r\n    2022-02-11 18:43:59,788 WARN nativeio.NativeIO: NativeIO.getStat error (3): The system cannot find the path specified.\r\n     -- file path: tmp/hadoop-yarn/staging/camma/.staging\r\n    2022-02-11 18:43:59,809 INFO mapreduce.JobSubmissionFiles: Permissions on staging directory /tmp/hadoop-yarn/staging/camma/.staging are incorrect: rwxrwx---. Fixing permissions to correct value rwx------\r\n    2022-02-11 18:43:59,996 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this.\r\n    2022-02-11 18:44:00,025 INFO input.FileInputFormat: Total input files to process : 0\r\n    2022-02-11 18:44:00,032 INFO mapreduce.JobSubmitter: number of splits:0\r\n    2022-02-11 18:44:00,084 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1644626534356_0002\r\n    2022-02-11 18:44:00,084 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n    2022-02-11 18:44:00,188 INFO conf.Configuration: resource-types.xml not found\r\n    2022-02-11 18:44:00,189 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n    2022-02-11 18:44:00,222 INFO impl.YarnClientImpl: Submitted application application_1644626534356_0002\r\n    2022-02-11 18:44:00,243 INFO mapreduce.Job: The url to track the job: http://Cameron:8088/proxy/application_1644626534356_0002/\r\n    2022-02-11 18:44:00,243 INFO mapreduce.Job: Running job: job_1644626534356_0002\r\n    2022-02-11 18:44:04,303 INFO mapreduce.Job: Job job_1644626534356_0002 running in uber mode : false\r\n    2022-02-11 18:44:04,303 INFO mapreduce.Job:  map 0% reduce 0%\r\n    2022-02-11 18:44:08,353 INFO mapreduce.Job:  map 0% reduce 100%\r\n    2022-02-11 18:44:08,357 INFO mapreduce.Job: Job job_1644626534356_0002 completed successfully\r\n    2022-02-11 18:44:08,403 INFO mapreduce.Job: Counters: 35\r\n            File System Counters\r\n                    FILE: Number of bytes read=0\r\n                    FILE: Number of bytes written=235876\r\n                    FILE: Number of read operations=0\r\n                    FILE: Number of large read operations=0\r\n                    FILE: Number of write operations=0\r\n            Job Counters\r\n                    Launched reduce tasks=1\r\n                    Total time spent by all maps in occupied slots (ms)=0\r\n                    Total time spent by all reduces in occupied slots (ms)=1184\r\n                    Total time spent by all reduce tasks (ms)=1184\r\n                    Total vcore-milliseconds taken by all reduce tasks=1184\r\n                    Total megabyte-milliseconds taken by all reduce tasks=1212416\r\n            Map-Reduce Framework\r\n                    Combine input records=0\r\n                    Combine output records=0\r\n                    Reduce input groups=0\r\n                    Reduce shuffle bytes=0\r\n                    Reduce input records=0\r\n                    Reduce output records=0\r\n                    Spilled Records=0\r\n                    Shuffled Maps =0\r\n                    Failed Shuffles=0\r\n                    Merged Map outputs=0\r\n                    GC time elapsed (ms)=3\r\n                    CPU time spent (ms)=77\r\n                    Physical memory (bytes) snapshot=223731712\r\n                    Virtual memory (bytes) snapshot=451411968\r\n                    Total committed heap usage (bytes)=257425408\r\n                    Peak Reduce Physical memory (bytes)=223731712\r\n                    Peak Reduce Virtual memory (bytes)=451428352\r\n            Shuffle Errors\r\n                    BAD_ID=0\r\n                    CONNECTION=0\r\n                    IO_ERROR=0\r\n                    WRONG_LENGTH=0\r\n                    WRONG_MAP=0\r\n                    WRONG_REDUCE=0\r\n            File Output Format Counters\r\n                    Bytes Written=8\r\n\r\nHere is my current code:\r\n\r\n    import java.io.IOException;\r\n    import java.util.StringTokenizer;\r\n\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Job;\r\n    import org.apache.hadoop.mapreduce.Mapper;\r\n    import org.apache.hadoop.mapreduce.Reducer;\r\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n\r\n    public class WordCount {\r\n\r\n      public static class TokenizerMapper\r\n           extends Mapper&lt;Object, Text, Text, IntWritable&gt;{\r\n\r\n        private final static IntWritable one = new IntWritable(1);\r\n        private Text word = new Text();\r\n\r\n        public void map(Object key, Text value, Context context\r\n                        ) throws IOException, InterruptedException {\r\n          StringTokenizer itr = new StringTokenizer(value.toString());\r\n          while (itr.hasMoreTokens()) {\r\n            word.set(itr.nextToken());\r\n            context.write(word, one);\r\n          }\r\n        }\r\n      }\r\n\r\n      public static class IntSumReducer\r\n           extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; {\r\n        private IntWritable result = new IntWritable();\r\n\r\n        public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\r\n                           Context context\r\n                           ) throws IOException, InterruptedException {\r\n          int sum = 0;\r\n          for (IntWritable val : values) {\r\n            sum += val.get();\r\n          }\r\n          result.set(sum);\r\n          context.write(key, result);\r\n        }\r\n      }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        Configuration conf = new Configuration();\r\n        Job job = Job.getInstance(conf, &quot;word count&quot;);\r\n        job.setJarByClass(WordCount.class);\r\n        job.setMapperClass(TokenizerMapper.class);\r\n        job.setCombinerClass(IntSumReducer.class);\r\n        job.setReducerClass(IntSumReducer.class);\r\n        job.setOutputKeyClass(Text.class);\r\n        job.setOutputValueClass(IntWritable.class);\r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n        System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n      }\r\n    }\r\n\r\nIf I need to post copies of the files from setting up hadoop I can.","title":"Map ends at 0% Reduce Ends at 100%","body":"<p>I am working on a WordCount MapReduce program, I can get my code to run, but there is no output and the map finishes at 0% while the reduce finishes at 100%.</p>\n<pre><code>hadoop jar C:/wordCount.jar C:/project_1_data /myWordCount\n2022-02-11 18:43:59,648 INFO client.RMProxy: Connecting to ResourceManager at /127.0.0.1:8032\n2022-02-11 18:43:59,788 WARN nativeio.NativeIO: NativeIO.getStat error (3): The system cannot find the path specified.\n -- file path: tmp/hadoop-yarn/staging/camma/.staging\n2022-02-11 18:43:59,809 INFO mapreduce.JobSubmissionFiles: Permissions on staging directory /tmp/hadoop-yarn/staging/camma/.staging are incorrect: rwxrwx---. Fixing permissions to correct value rwx------\n2022-02-11 18:43:59,996 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this.\n2022-02-11 18:44:00,025 INFO input.FileInputFormat: Total input files to process : 0\n2022-02-11 18:44:00,032 INFO mapreduce.JobSubmitter: number of splits:0\n2022-02-11 18:44:00,084 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1644626534356_0002\n2022-02-11 18:44:00,084 INFO mapreduce.JobSubmitter: Executing with tokens: []\n2022-02-11 18:44:00,188 INFO conf.Configuration: resource-types.xml not found\n2022-02-11 18:44:00,189 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n2022-02-11 18:44:00,222 INFO impl.YarnClientImpl: Submitted application application_1644626534356_0002\n2022-02-11 18:44:00,243 INFO mapreduce.Job: The url to track the job: http://Cameron:8088/proxy/application_1644626534356_0002/\n2022-02-11 18:44:00,243 INFO mapreduce.Job: Running job: job_1644626534356_0002\n2022-02-11 18:44:04,303 INFO mapreduce.Job: Job job_1644626534356_0002 running in uber mode : false\n2022-02-11 18:44:04,303 INFO mapreduce.Job:  map 0% reduce 0%\n2022-02-11 18:44:08,353 INFO mapreduce.Job:  map 0% reduce 100%\n2022-02-11 18:44:08,357 INFO mapreduce.Job: Job job_1644626534356_0002 completed successfully\n2022-02-11 18:44:08,403 INFO mapreduce.Job: Counters: 35\n        File System Counters\n                FILE: Number of bytes read=0\n                FILE: Number of bytes written=235876\n                FILE: Number of read operations=0\n                FILE: Number of large read operations=0\n                FILE: Number of write operations=0\n        Job Counters\n                Launched reduce tasks=1\n                Total time spent by all maps in occupied slots (ms)=0\n                Total time spent by all reduces in occupied slots (ms)=1184\n                Total time spent by all reduce tasks (ms)=1184\n                Total vcore-milliseconds taken by all reduce tasks=1184\n                Total megabyte-milliseconds taken by all reduce tasks=1212416\n        Map-Reduce Framework\n                Combine input records=0\n                Combine output records=0\n                Reduce input groups=0\n                Reduce shuffle bytes=0\n                Reduce input records=0\n                Reduce output records=0\n                Spilled Records=0\n                Shuffled Maps =0\n                Failed Shuffles=0\n                Merged Map outputs=0\n                GC time elapsed (ms)=3\n                CPU time spent (ms)=77\n                Physical memory (bytes) snapshot=223731712\n                Virtual memory (bytes) snapshot=451411968\n                Total committed heap usage (bytes)=257425408\n                Peak Reduce Physical memory (bytes)=223731712\n                Peak Reduce Virtual memory (bytes)=451428352\n        Shuffle Errors\n                BAD_ID=0\n                CONNECTION=0\n                IO_ERROR=0\n                WRONG_LENGTH=0\n                WRONG_MAP=0\n                WRONG_REDUCE=0\n        File Output Format Counters\n                Bytes Written=8\n</code></pre>\n<p>Here is my current code:</p>\n<pre><code>import java.io.IOException;\nimport java.util.StringTokenizer;\n\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.Mapper;\nimport org.apache.hadoop.mapreduce.Reducer;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\npublic class WordCount {\n\n  public static class TokenizerMapper\n       extends Mapper&lt;Object, Text, Text, IntWritable&gt;{\n\n    private final static IntWritable one = new IntWritable(1);\n    private Text word = new Text();\n\n    public void map(Object key, Text value, Context context\n                    ) throws IOException, InterruptedException {\n      StringTokenizer itr = new StringTokenizer(value.toString());\n      while (itr.hasMoreTokens()) {\n        word.set(itr.nextToken());\n        context.write(word, one);\n      }\n    }\n  }\n\n  public static class IntSumReducer\n       extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; {\n    private IntWritable result = new IntWritable();\n\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\n                       Context context\n                       ) throws IOException, InterruptedException {\n      int sum = 0;\n      for (IntWritable val : values) {\n        sum += val.get();\n      }\n      result.set(sum);\n      context.write(key, result);\n    }\n  }\n\n  public static void main(String[] args) throws Exception {\n    Configuration conf = new Configuration();\n    Job job = Job.getInstance(conf, &quot;word count&quot;);\n    job.setJarByClass(WordCount.class);\n    job.setMapperClass(TokenizerMapper.class);\n    job.setCombinerClass(IntSumReducer.class);\n    job.setReducerClass(IntSumReducer.class);\n    job.setOutputKeyClass(Text.class);\n    job.setOutputValueClass(IntWritable.class);\n    FileInputFormat.addInputPath(job, new Path(args[0]));\n    FileOutputFormat.setOutputPath(job, new Path(args[1]));\n    System.exit(job.waitForCompletion(true) ? 0 : 1);\n  }\n}\n</code></pre>\n<p>If I need to post copies of the files from setting up hadoop I can.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1644364552,"post_id":71042384,"comment_id":125586635,"body_markdown":"What steps have you done to debug your code and your problem? Please show the steps and the results of this in your question. If you&#39;re not sure how to go about doing this, then please check out [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer.","body":"What steps have you done to debug your code and your problem? Please show the steps and the results of this in your question. If you&#39;re not sure how to go about doing this, then please check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":2,"creation_date":1644364761,"post_id":71042384,"comment_id":125586672,"body_markdown":"Looks like an off-by-one error. Check loop conditions, whether you chose &lt; versus &lt;= correctly, and whether you applied things like `- 1` correctly","body":"Looks like an off-by-one error. Check loop conditions, whether you chose &lt; versus &lt;= correctly, and whether you applied things like <code>- 1</code> correctly"},{"owner":{"account_id":20046485,"reputation":23,"user_id":14696031,"display_name":"Cedric Ramos"},"score":0,"creation_date":1644376023,"post_id":71042384,"comment_id":125588478,"body_markdown":"I updated the code a little bit. When I used the debugger, it told me that this specific line &quot;if(src1.array[i] &lt; src2.array[j])&quot; is the problem. I think the problem is when one of the arrays gets incremented past it&#39;s actual size but I&#39;m not 100% sure.","body":"I updated the code a little bit. When I used the debugger, it told me that this specific line &quot;if(src1.array[i] &lt; src2.array[j])&quot; is the problem. I think the problem is when one of the arrays gets incremented past it&#39;s actual size but I&#39;m not 100% sure."}],"answers":[{"tags":[],"owner":{"account_id":22829921,"reputation":111,"user_id":16978574,"display_name":"Priyanshu "},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644379868,"creation_date":1644379868,"answer_id":71043906,"question_id":71042384,"body_markdown":"While merging two arrays you are comparing them, sorting and merging but what if the length of two arrays is different like Array1{1,3,8} and Array2{4,5,9,10,11}. Here we will compare both arrays and move the pointer ahead, but when the pointer comes at 8 in array1 and at 9 in array2, now we cannot compare ahead, so we will add the remaining sorted array;\r\n\r\nSolution:-\r\n\r\n(Add this code between loop to sort array and loop to print array)\r\n\r\n```\r\n        while (i &lt; numLength1) {\r\n            merged[k] = src1.array[i];\r\n            i++;\r\n            k++;\r\n        }\r\n\r\n        while (j &lt; numLength2) {\r\n            merged[k] = src2.array[j];\r\n            j++;\r\n            k++;\r\n        }\r\n```\r\n ","title":"Creating a method that merges 2 arrays into one sorted array in ascending order in Java","body":"<p>While merging two arrays you are comparing them, sorting and merging but what if the length of two arrays is different like Array1{1,3,8} and Array2{4,5,9,10,11}. Here we will compare both arrays and move the pointer ahead, but when the pointer comes at 8 in array1 and at 9 in array2, now we cannot compare ahead, so we will add the remaining sorted array;</p>\n<p>Solution:-</p>\n<p>(Add this code between loop to sort array and loop to print array)</p>\n<pre><code>        while (i &lt; numLength1) {\n            merged[k] = src1.array[i];\n            i++;\n            k++;\n        }\n\n        while (j &lt; numLength2) {\n            merged[k] = src2.array[j];\n            j++;\n            k++;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644551896,"creation_date":1644392515,"answer_id":71045623,"question_id":71042384,"body_markdown":"The best way to merge two arrays without repetitive items in sorted order is that insert both of them into treeSet just like the following:\r\n\r\n      public static int[] merge(int[] src1, int[] src2) {\r\n            TreeSet&lt;Integer&gt; mergedArray= new TreeSet&lt;&gt;();\r\n            for (int i = 0; i &lt; src1.length; i++) {\r\n                mergedArray.add(src1[i]);\r\n            }\r\n            for (int i = 0; i &lt; src2.length; i++) {\r\n                mergedArray.add(src2[i]);\r\n            }\r\n            return mergedArray.stream().mapToInt(e-&gt;(int)e).toArray();\r\n    \r\n        }\r\n\r\n    public static void main(String[] argh) {\r\n        int[] src1 = {1,17,42,55};\r\n        int[] src2 = {8,13,21,32,69};\r\n    Arrays.stream(merge(src1,src2)).forEach(s-&gt; System.out.println(s));\r\n      }\r\n\r\noutput:\r\n\r\n    1\r\n    8\r\n    13\r\n    17\r\n    21\r\n    32\r\n    42\r\n    55\r\n    69","title":"Creating a method that merges 2 arrays into one sorted array in ascending order in Java","body":"<p>The best way to merge two arrays without repetitive items in sorted order is that insert both of them into treeSet just like the following:</p>\n<pre><code>  public static int[] merge(int[] src1, int[] src2) {\n        TreeSet&lt;Integer&gt; mergedArray= new TreeSet&lt;&gt;();\n        for (int i = 0; i &lt; src1.length; i++) {\n            mergedArray.add(src1[i]);\n        }\n        for (int i = 0; i &lt; src2.length; i++) {\n            mergedArray.add(src2[i]);\n        }\n        return mergedArray.stream().mapToInt(e-&gt;(int)e).toArray();\n\n    }\n\npublic static void main(String[] argh) {\n    int[] src1 = {1,17,42,55};\n    int[] src2 = {8,13,21,32,69};\nArrays.stream(merge(src1,src2)).forEach(s-&gt; System.out.println(s));\n  }\n</code></pre>\n<p>output:</p>\n<pre><code>1\n8\n13\n17\n21\n32\n42\n55\n69\n</code></pre>\n"},{"tags":[],"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644627170,"creation_date":1644552416,"answer_id":71075223,"question_id":71042384,"body_markdown":"To answer your main question, the length of your target array is `src1.array.length + src2.array.length`, so your loop condition should be one of:\r\n\r\n- `while (k &lt; src1.array.length + src2.array.length) {`\r\n- `while (k &lt;= src1.array.length + src2.array.length - 1) {`\r\n\r\nOtherwise, you will never set a value for the last element, where `k == src1.array.length + src2.array.length - 1`.\r\n\r\n\r\nBut depending on how comprehensively you test the code, you may then find you have a bigger problem: [ArrayIndexOutOfBoundsException](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html). Before trying to use any array index, such as `src1.array[i]`, you need to be sure it is valid. This condition:\r\n\r\n    if(src1.array[i] &lt; src2.array[j]) {\r\n\r\ndoes not verify that `i` is a valid index of `src1.array` or that `j` is a valid index of `src2.array`. When one array has been fully consumed, checking this condition will cause your program to fail. You can see this with input arrays like `{ 1, 2 }` &amp; `{ 1 }`.\r\n\r\nThis revision of the code does the proper bounds checks:\r\n\r\n```\r\nif (i &gt;= src1.array.length) {\r\n\t// src1 is fully consumed\r\n\tmerged[k] = src2.array[j];\r\n\tj++;\r\n} else if (j &gt;= src2.array.length || src1.array[i] &lt; src2.array[j]) {\r\n\t// src2 is fully consumed OR src1&#39;s next is less than src2&#39;s next\r\n\tmerged[k] = src1.array[i];\r\n\ti++;\r\n} else {\r\n\tmerged[k] = src2.array[j];\r\n\tj++;\r\n}\r\n```\r\n\r\nNote that we do not need to check `j` in the first condition because `i &gt;= src1.array.length` implies that `j` is a safe value, due to your loop&#39;s condition and the math of how you are incrementing those variables:\r\n\r\n - `k == i + j` due to parity between k&#39;s incrementing and i &amp; j&#39;s mutually exclusive incrementing \r\n - `k &lt; src1.array.length + src2.array.length` due to the loop condition\r\n - Therefore `i + j &lt; src1.array.length + src2.array.length`\r\n\r\nIf both `i &gt;= src1.array.length` and `j &gt;= src2.array.length` then `i + j &gt;= src1.array.length + src2.array.length`, violating the facts above.\r\n\r\n\r\nA couple other points and things to think about:\r\n\r\n - Be consistent with how you refer to data. If you have variables, use them. Either use `numLength1` &amp; `numLength2` or use `src1.length` &amp; `src2.length`. Either use `myLength` or use `src1.array.length + src2.array.length`.\r\n - Should a `merge` method really output its own results, or should the code that called the method (`main`) handle all the input &amp; output?\r\n - Is the `OrderedArray` class safe to trust as &quot;ordered&quot;, and is it doing its job properly, if you can directly access its internal data like `src1.array` and make modifications to the array?","title":"Creating a method that merges 2 arrays into one sorted array in ascending order in Java","body":"<p>To answer your main question, the length of your target array is <code>src1.array.length + src2.array.length</code>, so your loop condition should be one of:</p>\n<ul>\n<li><code>while (k &lt; src1.array.length + src2.array.length) {</code></li>\n<li><code>while (k &lt;= src1.array.length + src2.array.length - 1) {</code></li>\n</ul>\n<p>Otherwise, you will never set a value for the last element, where <code>k == src1.array.length + src2.array.length - 1</code>.</p>\n<p>But depending on how comprehensively you test the code, you may then find you have a bigger problem: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">ArrayIndexOutOfBoundsException</a>. Before trying to use any array index, such as <code>src1.array[i]</code>, you need to be sure it is valid. This condition:</p>\n<pre><code>if(src1.array[i] &lt; src2.array[j]) {\n</code></pre>\n<p>does not verify that <code>i</code> is a valid index of <code>src1.array</code> or that <code>j</code> is a valid index of <code>src2.array</code>. When one array has been fully consumed, checking this condition will cause your program to fail. You can see this with input arrays like <code>{ 1, 2 }</code> &amp; <code>{ 1 }</code>.</p>\n<p>This revision of the code does the proper bounds checks:</p>\n<pre><code>if (i &gt;= src1.array.length) {\n    // src1 is fully consumed\n    merged[k] = src2.array[j];\n    j++;\n} else if (j &gt;= src2.array.length || src1.array[i] &lt; src2.array[j]) {\n    // src2 is fully consumed OR src1's next is less than src2's next\n    merged[k] = src1.array[i];\n    i++;\n} else {\n    merged[k] = src2.array[j];\n    j++;\n}\n</code></pre>\n<p>Note that we do not need to check <code>j</code> in the first condition because <code>i &gt;= src1.array.length</code> implies that <code>j</code> is a safe value, due to your loop's condition and the math of how you are incrementing those variables:</p>\n<ul>\n<li><code>k == i + j</code> due to parity between k's incrementing and i &amp; j's mutually exclusive incrementing</li>\n<li><code>k &lt; src1.array.length + src2.array.length</code> due to the loop condition</li>\n<li>Therefore <code>i + j &lt; src1.array.length + src2.array.length</code></li>\n</ul>\n<p>If both <code>i &gt;= src1.array.length</code> and <code>j &gt;= src2.array.length</code> then <code>i + j &gt;= src1.array.length + src2.array.length</code>, violating the facts above.</p>\n<p>A couple other points and things to think about:</p>\n<ul>\n<li>Be consistent with how you refer to data. If you have variables, use them. Either use <code>numLength1</code> &amp; <code>numLength2</code> or use <code>src1.length</code> &amp; <code>src2.length</code>. Either use <code>myLength</code> or use <code>src1.array.length + src2.array.length</code>.</li>\n<li>Should a <code>merge</code> method really output its own results, or should the code that called the method (<code>main</code>) handle all the input &amp; output?</li>\n<li>Is the <code>OrderedArray</code> class safe to trust as &quot;ordered&quot;, and is it doing its job properly, if you can directly access its internal data like <code>src1.array</code> and make modifications to the array?</li>\n</ul>\n"}],"owner":{"account_id":20046485,"reputation":23,"user_id":14696031,"display_name":"Cedric Ramos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71043906,"answer_count":3,"score":1,"last_activity_date":1644627170,"creation_date":1644364463,"question_id":71042384,"body_markdown":"For part of an assignment, I have to create a method that merges 2 arrays into one sorted array in ascending order. I have most of it done, but I am getting a bug that replaces the last element in the array with 0. Has anyone ever run into this problem and know a solution? Heres my code: \r\n\r\n```\r\n\t public static OrderedArray merge(OrderedArray src1, OrderedArray src2) {\r\n\r\n\t\t int numLength1 = src1.array.length;\r\n\t\t int numLength2 = src2.array.length;\r\n\t\t \r\n\t\t //combined array lengths\r\n\t\t int myLength = (numLength1 + numLength2);\r\n\t\t// System.out.println(myLength);\r\n\t\t OrderedArray mergedArr = new OrderedArray(myLength);\r\n\t\t \r\n\t\t //new array\r\n\t\t long[] merged = new long[myLength];\r\n\t\t \r\n\t\t //loop to sort array\r\n\t\t int i = 0;\r\n\t\t int j = 0;\r\n\t\t int k = 0;\r\n\t\t while (k &lt; src1.array.length + src2.array.length - 1) {\r\n\t\t\t if(src1.array[i] &lt; src2.array[j]) {\r\n\t\t\t\t merged[k] = src1.array[i];\r\n\t\t\t i++;\r\n\t\t\t }\r\n\t\t\t else {\r\n\t\t\t \tmerged[k] = src2.array[j];\r\n\t\t\t j++;\r\n\t\t\t\t \r\n\t\t\t }\r\n\t\t\tk++; \r\n\t\t\t\r\n\t\t }\r\n\t\t \r\n\t\t //loop to print result\r\n\t\t for(int x = 0; x &lt; myLength; x++) {\r\n\t\t\t System.out.println(merged[x]);\r\n\t\t }\r\n\t\t return mergedArr;\r\n\t }\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint maxSize = 100; // array size\r\n//\t\tOrderedArray arr; // reference to array\r\n\t\tOrderedArray src1 = new OrderedArray(4);\r\n\t\tOrderedArray src2 = new OrderedArray(5);\r\n\r\n\r\n\t\t\r\n//\t\tarr = new OrderedArray(maxSize); // create the array\r\n\t\t\r\n\t\t\r\n\t\tsrc1.insert(1);\t //insert src1\r\n\t\tsrc1.insert(17);\r\n\t\tsrc1.insert(42);\r\n\t\tsrc1.insert(55);\r\n\t\r\n\t\t\r\n\t\tsrc2.insert(8);\t//insert src2\r\n\t\tsrc2.insert(13);\r\n\t\tsrc2.insert(21);\r\n\t\tsrc2.insert(32);\r\n\t\tsrc2.insert(69);\r\n\t\t\r\n\t\tOrderedArray myArray = merge(src1, src2);\r\n\r\n```\r\n\r\nThis is my expected output: \r\n```\r\n1\r\n8\r\n13\r\n17\r\n21\r\n32\r\n42\r\n55\r\n69\r\n```\r\nand this is my current output: \r\n```\r\n1\r\n8\r\n13\r\n17\r\n21\r\n32\r\n42\r\n55\r\n0\r\n```","title":"Creating a method that merges 2 arrays into one sorted array in ascending order in Java","body":"<p>For part of an assignment, I have to create a method that merges 2 arrays into one sorted array in ascending order. I have most of it done, but I am getting a bug that replaces the last element in the array with 0. Has anyone ever run into this problem and know a solution? Heres my code:</p>\n<pre><code>     public static OrderedArray merge(OrderedArray src1, OrderedArray src2) {\n\n         int numLength1 = src1.array.length;\n         int numLength2 = src2.array.length;\n         \n         //combined array lengths\n         int myLength = (numLength1 + numLength2);\n        // System.out.println(myLength);\n         OrderedArray mergedArr = new OrderedArray(myLength);\n         \n         //new array\n         long[] merged = new long[myLength];\n         \n         //loop to sort array\n         int i = 0;\n         int j = 0;\n         int k = 0;\n         while (k &lt; src1.array.length + src2.array.length - 1) {\n             if(src1.array[i] &lt; src2.array[j]) {\n                 merged[k] = src1.array[i];\n             i++;\n             }\n             else {\n                merged[k] = src2.array[j];\n             j++;\n                 \n             }\n            k++; \n            \n         }\n         \n         //loop to print result\n         for(int x = 0; x &lt; myLength; x++) {\n             System.out.println(merged[x]);\n         }\n         return mergedArr;\n     }\n\n    public static void main(String[] args) {\n        int maxSize = 100; // array size\n//      OrderedArray arr; // reference to array\n        OrderedArray src1 = new OrderedArray(4);\n        OrderedArray src2 = new OrderedArray(5);\n\n\n        \n//      arr = new OrderedArray(maxSize); // create the array\n        \n        \n        src1.insert(1);  //insert src1\n        src1.insert(17);\n        src1.insert(42);\n        src1.insert(55);\n    \n        \n        src2.insert(8); //insert src2\n        src2.insert(13);\n        src2.insert(21);\n        src2.insert(32);\n        src2.insert(69);\n        \n        OrderedArray myArray = merge(src1, src2);\n\n</code></pre>\n<p>This is my expected output:</p>\n<pre><code>1\n8\n13\n17\n21\n32\n42\n55\n69\n</code></pre>\n<p>and this is my current output:</p>\n<pre><code>1\n8\n13\n17\n21\n32\n42\n55\n0\n</code></pre>\n"},{"tags":["java","plugins","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":2,"creation_date":1644615540,"post_id":71086757,"comment_id":125662683,"body_markdown":"Welcome on StackOverflow ! Can you be more precise ? Like what you do, what you want and where are you stuck ?","body":"Welcome on StackOverflow ! Can you be more precise ? Like what you do, what you want and where are you stuck ?"},{"owner":{"account_id":24230602,"reputation":13,"user_id":18184419,"display_name":"JustSomeRandom"},"score":0,"creation_date":1644615918,"post_id":71086757,"comment_id":125662796,"body_markdown":"Sure It will be enough?","body":"Sure It will be enough?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1644617538,"post_id":71086757,"comment_id":125663260,"body_markdown":"It seems better, I will make answer","body":"It seems better, I will make answer"}],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644617543,"creation_date":1644617543,"answer_id":71087071,"question_id":71086757,"body_markdown":"This should work\r\n\r\n    public List load_playerRegions_fromConfig(List&lt;Region&gt; playersRegions) {\r\n        return getConfig().getList(&quot;locs&quot;, playersRegions);\r\n    }","title":"Passing List of class objects to config file","body":"<p>This should work</p>\n<pre><code>public List load_playerRegions_fromConfig(List&lt;Region&gt; playersRegions) {\n    return getConfig().getList(&quot;locs&quot;, playersRegions);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644627046,"creation_date":1644618140,"answer_id":71087150,"question_id":71086757,"body_markdown":"You should define a way to format the region.\r\n\r\nLet assume method are on your `JavaPlugin` class and everything else is well made (`plugin.yml` valid etc)\r\n\r\nTo write them, use something like this:\r\n```java\r\npublic void saveRegion(List&lt;Region&gt; regions) {\r\n   FileConfiguration config = getConfig();\r\n   int i = 0;\r\n   for(Region r : regions) {\r\n       config.set(&quot;regions.&quot; + i + &quot;.name&quot;, r.name);\r\n       config.set(&quot;regions.&quot; + i + &quot;.blockplayers&quot;, r.BlockPlayers);\r\n\r\n       i++;\r\n   }\r\n   saveConfig();\r\n}\r\n```\r\nThe config file will be like this:\r\n```yml\r\nregions:\r\n   0:\r\n      name: &quot;Region 1&quot;\r\n      blockplayers:\r\n      - &quot;Something&quot;\r\n```\r\n\r\nNow, to read it, you should do something like that:\r\n```java\r\npublic List&lt;Region&gt; getRegion() {\r\n   ConfigurationSection config = getConfig().getConfigurationSection(&quot;regions&quot;);\r\n   if(config == null) // no region set yet\r\n       return new ArrayList&lt;&gt;();\r\n   List&lt;Region&gt; list = new ArrayList&lt;&gt;();\r\n   for(String keys : config.getKeys(false)) {\r\n       ConfigurationSection regionConfig = config.getConfigurationSection(keys);\r\n       list.add(new Region(regionConfig.getString(&quot;name&quot;), region.getStringList(&quot;blockplayers&quot;)));\r\n   }\r\n   return list;\r\n}\r\n```\r\nNote: you should define a constructor in your `Region` object like that:\r\n```java\r\npublic class Region{\r\n    String name;\r\n    List&lt;String&gt; blockPlayers = new ArrayList&lt;&gt;();\r\n\r\n    public Region(String name, List&lt;String&gt; blockPlayers) {\r\n        this.name = name;\r\n        this.blockPlayers = blockPlayers;\r\n    }\r\n}\r\n```\r\nFinally, some of your name (method or variable) doesn&#39;t meet the Java convention. Specially about method, but that&#39;s a detail.","title":"Passing List of class objects to config file","body":"<p>You should define a way to format the region.</p>\n<p>Let assume method are on your <code>JavaPlugin</code> class and everything else is well made (<code>plugin.yml</code> valid etc)</p>\n<p>To write them, use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void saveRegion(List&lt;Region&gt; regions) {\n   FileConfiguration config = getConfig();\n   int i = 0;\n   for(Region r : regions) {\n       config.set(&quot;regions.&quot; + i + &quot;.name&quot;, r.name);\n       config.set(&quot;regions.&quot; + i + &quot;.blockplayers&quot;, r.BlockPlayers);\n\n       i++;\n   }\n   saveConfig();\n}\n</code></pre>\n<p>The config file will be like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>regions:\n   0:\n      name: &quot;Region 1&quot;\n      blockplayers:\n      - &quot;Something&quot;\n</code></pre>\n<p>Now, to read it, you should do something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Region&gt; getRegion() {\n   ConfigurationSection config = getConfig().getConfigurationSection(&quot;regions&quot;);\n   if(config == null) // no region set yet\n       return new ArrayList&lt;&gt;();\n   List&lt;Region&gt; list = new ArrayList&lt;&gt;();\n   for(String keys : config.getKeys(false)) {\n       ConfigurationSection regionConfig = config.getConfigurationSection(keys);\n       list.add(new Region(regionConfig.getString(&quot;name&quot;), region.getStringList(&quot;blockplayers&quot;)));\n   }\n   return list;\n}\n</code></pre>\n<p>Note: you should define a constructor in your <code>Region</code> object like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Region{\n    String name;\n    List&lt;String&gt; blockPlayers = new ArrayList&lt;&gt;();\n\n    public Region(String name, List&lt;String&gt; blockPlayers) {\n        this.name = name;\n        this.blockPlayers = blockPlayers;\n    }\n}\n</code></pre>\n<p>Finally, some of your name (method or variable) doesn't meet the Java convention. Specially about method, but that's a detail.</p>\n"}],"owner":{"account_id":24230602,"reputation":13,"user_id":18184419,"display_name":"JustSomeRandom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71087150,"answer_count":2,"score":-1,"last_activity_date":1644627046,"creation_date":1644615261,"question_id":71086757,"body_markdown":"I have got class: \r\n\r\n    class Region{\r\n    String name;\r\n    List&lt;String&gt; BlockPlayers = new ArrayList&lt;&gt;();\r\n    }\r\nThen I made a List of objects in my program like this \r\n\r\n    List&lt;Region&gt; playersRegions = new ArrayList&lt;&gt;();\r\n    \r\nNow I need to make a function that will pass objects from playersRegions list to config file. Then I need to make function that will load everything from config file and pass to playersRegions list\r\n\r\nI have made something like this\r\n\r\n    private void save_regions_inConfig()\r\n    {\r\n    getConfig().set(&quot;locs&quot;, playersRegions);\r\n    saveConfig();\r\n    }\r\n\r\nBut I have no idea how to load it from file to playersRegions. I just want to keep everything after I close the program and open it once more.","title":"Passing List of class objects to config file","body":"<p>I have got class:</p>\n<pre><code>class Region{\nString name;\nList&lt;String&gt; BlockPlayers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Then I made a List of objects in my program like this</p>\n<pre><code>List&lt;Region&gt; playersRegions = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Now I need to make a function that will pass objects from playersRegions list to config file. Then I need to make function that will load everything from config file and pass to playersRegions list</p>\n<p>I have made something like this</p>\n<pre><code>private void save_regions_inConfig()\n{\ngetConfig().set(&quot;locs&quot;, playersRegions);\nsaveConfig();\n}\n</code></pre>\n<p>But I have no idea how to load it from file to playersRegions. I just want to keep everything after I close the program and open it once more.</p>\n"},{"tags":["java","file","split"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1644616882,"post_id":71086931,"comment_id":125663077,"body_markdown":"What is your point of confusion: how to read the data from the file? Or how to find strings like these `&quot;atbWfKL4etk4U&quot; and &quot;&amp;i4KZ5wmac566&quot;` in its content?","body":"What is your point of confusion: how to read the data from the file? Or how to find strings like these <code>&quot;atbWfKL4etk4U&quot; and &quot;&amp;i4KZ5wmac566&quot;</code> in its content?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644617840,"creation_date":1644617840,"answer_id":71087111,"question_id":71086931,"body_markdown":"\r\n\r\n\r\n\r\n```\r\npublic static void main(String[] args) throws IOException{\r\n    \r\n    // Create a scanner for keyboard input\r\n    Scanner scan = new Scanner(System.in);\r\n    \r\n    // Prompt user to select a file to open\r\n    System.out.print(&quot;Enter the path of the file: &quot;);\r\n    String filename = scan.nextLine();\r\n    \r\n    // Open the file\r\n    File file = new File(filename);\r\n    Scanner inputFile = new Scanner(file);\r\n\r\n    List&lt;String&gt; passwords = new ArrayList&lt;&gt;();\r\n    while (sc.hasNextLine()) {\r\n        String line = sc.nextLine();\r\n        String password = line.split(&quot;:&quot;)[1];\r\n        passwords.add(password);\r\n    }\r\n    // Close the file\r\n    scan.close();\r\n    inputFile.close();\r\n}\r\n```\r\n\r\nIf instead you rather store username and password (assuming the first token is the user name), create a `Map` instead of a `List`.\r\n\r\n```\r\nMap&lt;String, String&gt; passwordMap = new HashMap&lt;&gt;();\r\nwhile (sc.hasNextLine()) {\r\n   String line = sc.nextLine();\r\n   String[] tokens = line.split(&quot;:&quot;);\r\n    passwordMap.put(tokens[0], tokens[1]);\r\n}\r\n```","title":"Splitting Contents of a File","body":"<pre><code>public static void main(String[] args) throws IOException{\n    \n    // Create a scanner for keyboard input\n    Scanner scan = new Scanner(System.in);\n    \n    // Prompt user to select a file to open\n    System.out.print(&quot;Enter the path of the file: &quot;);\n    String filename = scan.nextLine();\n    \n    // Open the file\n    File file = new File(filename);\n    Scanner inputFile = new Scanner(file);\n\n    List&lt;String&gt; passwords = new ArrayList&lt;&gt;();\n    while (sc.hasNextLine()) {\n        String line = sc.nextLine();\n        String password = line.split(&quot;:&quot;)[1];\n        passwords.add(password);\n    }\n    // Close the file\n    scan.close();\n    inputFile.close();\n}\n</code></pre>\n<p>If instead you rather store username and password (assuming the first token is the user name), create a <code>Map</code> instead of a <code>List</code>.</p>\n<pre><code>Map&lt;String, String&gt; passwordMap = new HashMap&lt;&gt;();\nwhile (sc.hasNextLine()) {\n   String line = sc.nextLine();\n   String[] tokens = line.split(&quot;:&quot;);\n    passwordMap.put(tokens[0], tokens[1]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644618390,"creation_date":1644618390,"answer_id":71087188,"question_id":71086931,"body_markdown":"You could read the file line by line using a Scanner object.\r\nThen, you use another Scanner object to read the password.  Here&#39;s an example:\r\n\r\n```\r\nString input = &quot;michael:atbWfKL4etk4U:500:500:Michael Ferris:/home/michael:/bin/bash&quot;;\r\nScanner s = new Scanner(input).useDelimiter(&quot;:&quot;);\r\ns.next();  //skipping username\r\nString password = s.next();\r\n```","title":"Splitting Contents of a File","body":"<p>You could read the file line by line using a Scanner object.\nThen, you use another Scanner object to read the password.  Here's an example:</p>\n<pre><code>String input = &quot;michael:atbWfKL4etk4U:500:500:Michael Ferris:/home/michael:/bin/bash&quot;;\nScanner s = new Scanner(input).useDelimiter(&quot;:&quot;);\ns.next();  //skipping username\nString password = s.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644623279,"creation_date":1644623279,"answer_id":71087765,"question_id":71086931,"body_markdown":"This looks like a typical CSV type file format and because there is an unknown number of Users in the file and the fact that arrays can not dynamically grow it&#39;s a good idea to utilize an ArrayList which can grow dynamically and then convert that list to a String array, for example:\r\n\r\nThe following method assumes there is **No Header Line** within the data file:\r\n\r\n    public static String[] getPasswordsFromFile(String filePath) {\r\n        List&lt;String&gt; passwordsList = new ArrayList&lt;&gt;();\r\n        File file = new File(filePath);\r\n        try (Scanner reader = new Scanner(file)) {\r\n            String line = &quot;&quot;;\r\n            while (reader.hasNextLine()) {\r\n                line = reader.nextLine().trim();\r\n                // Skip blank lines (if any).\r\n                if (line.isEmpty()) {\r\n                    continue;\r\n                }\r\n                /* Split out the password from the file data line:\r\n                   The Regular Expression (RegEx) below splits each\r\n                   encountered file line based on the Colon(:) delimiter\r\n                   but also handles any possible whitespaces before \r\n                   or after that delimiter:                 */\r\n                String linePassword = line.split(&quot;\\\\s*\\\\:\\\\s*&quot;)[1];\r\n                \r\n                // If there is no password there then apply &quot;N/A&quot;:\r\n                if (linePassword.isEmpty()) {\r\n                    linePassword = &quot;N/A&quot;;\r\n                }\r\n                // Add the password to the List\r\n                passwordsList.add(linePassword);\r\n            }\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            // Handle the exception (if any) the way you like...\r\n            System.err.println(ex.getMessage());\r\n        }\r\n        \r\n        // Convert the List&lt;String&gt; to String[] Array and return:\r\n        return passwordsList.toArray(new String[passwordsList.size()]);\r\n    }\r\n\r\nHow you might use a method like this:\r\n\r\n    // Create a scanner object for keyboard input\r\n    Scanner userInput = new Scanner(System.in);\r\n        \r\n    // Prompt user to select a file to open with validation:\r\n    String fileName = &quot;&quot;;\r\n    // -----------------------------------\r\n    while (fileName.isEmpty()) {\r\n        System.out.print(&quot;Enter the path of the file (c to cancel): --&gt; &quot;);\r\n        fileName = userInput.nextLine();\r\n        if (fileName.equalsIgnoreCase(&quot;c&quot;)) {\r\n            System.out.println(&quot;Process Canceled! Quiting.&quot;);\r\n            System.exit(0);\r\n        }\r\n        if (!new File(fileName).exists()) {\r\n            System.out.println(&quot;Invalid Entry! Try again...\\n&quot;);\r\n            fileName = &quot;&quot;;\r\n        }\r\n    }\r\n    // -----------------------------------\r\n        \r\n    /* OR - you could have........    \r\n    // -----------------------------------\r\n    javax.swing.JFileChooser fc = new javax.swing.JFileChooser(new File(&quot;&quot;).getAbsolutePath());\r\n    fc.showDialog(new JDialog(), &quot;get Passwords&quot;);\r\n    if (fc.getSelectedFile() != null) {\r\n        fileName = fc.getSelectedFile().getAbsolutePath();\r\n    }\r\n    else {\r\n        System.out.println(&quot;Process Canceled! Quiting.&quot;);\r\n        System.exit(0);\r\n    }\r\n    // -----------------------------------\r\n    */\r\n            \r\n    // Get the Passwords from file:        \r\n    String[] passwords = getPasswordsFromFile(&quot;UserData.txt&quot;);\r\n    // Display the Passwords retrieved:\r\n    System.out.println();\r\n    System.out.println(&quot;Passwords from file:&quot;);\r\n    System.out.println(&quot;====================&quot;);\r\n        \r\n    for (String str : passwords) {\r\n        System.out.println(str);\r\n    }\r\n\r\nIf you were to run this code against a file which contains the data you provided within your post,your console window will diplay:\r\n\r\n```\r\nEnter the path of the file (c to cancel): --&gt; userData.txt\r\n\r\nPasswords from file:\r\n====================\r\natbWfKL4etk4U\r\n&amp;i4KZ5wmac566\r\n```","title":"Splitting Contents of a File","body":"<p>This looks like a typical CSV type file format and because there is an unknown number of Users in the file and the fact that arrays can not dynamically grow it's a good idea to utilize an ArrayList which can grow dynamically and then convert that list to a String array, for example:</p>\n<p>The following method assumes there is <strong>No Header Line</strong> within the data file:</p>\n<pre><code>public static String[] getPasswordsFromFile(String filePath) {\n    List&lt;String&gt; passwordsList = new ArrayList&lt;&gt;();\n    File file = new File(filePath);\n    try (Scanner reader = new Scanner(file)) {\n        String line = &quot;&quot;;\n        while (reader.hasNextLine()) {\n            line = reader.nextLine().trim();\n            // Skip blank lines (if any).\n            if (line.isEmpty()) {\n                continue;\n            }\n            /* Split out the password from the file data line:\n               The Regular Expression (RegEx) below splits each\n               encountered file line based on the Colon(:) delimiter\n               but also handles any possible whitespaces before \n               or after that delimiter:                 */\n            String linePassword = line.split(&quot;\\\\s*\\\\:\\\\s*&quot;)[1];\n            \n            // If there is no password there then apply &quot;N/A&quot;:\n            if (linePassword.isEmpty()) {\n                linePassword = &quot;N/A&quot;;\n            }\n            // Add the password to the List\n            passwordsList.add(linePassword);\n        }\n    }\n    catch (FileNotFoundException ex) {\n        // Handle the exception (if any) the way you like...\n        System.err.println(ex.getMessage());\n    }\n    \n    // Convert the List&lt;String&gt; to String[] Array and return:\n    return passwordsList.toArray(new String[passwordsList.size()]);\n}\n</code></pre>\n<p>How you might use a method like this:</p>\n<pre><code>// Create a scanner object for keyboard input\nScanner userInput = new Scanner(System.in);\n    \n// Prompt user to select a file to open with validation:\nString fileName = &quot;&quot;;\n// -----------------------------------\nwhile (fileName.isEmpty()) {\n    System.out.print(&quot;Enter the path of the file (c to cancel): --&gt; &quot;);\n    fileName = userInput.nextLine();\n    if (fileName.equalsIgnoreCase(&quot;c&quot;)) {\n        System.out.println(&quot;Process Canceled! Quiting.&quot;);\n        System.exit(0);\n    }\n    if (!new File(fileName).exists()) {\n        System.out.println(&quot;Invalid Entry! Try again...\\n&quot;);\n        fileName = &quot;&quot;;\n    }\n}\n// -----------------------------------\n    \n/* OR - you could have........    \n// -----------------------------------\njavax.swing.JFileChooser fc = new javax.swing.JFileChooser(new File(&quot;&quot;).getAbsolutePath());\nfc.showDialog(new JDialog(), &quot;get Passwords&quot;);\nif (fc.getSelectedFile() != null) {\n    fileName = fc.getSelectedFile().getAbsolutePath();\n}\nelse {\n    System.out.println(&quot;Process Canceled! Quiting.&quot;);\n    System.exit(0);\n}\n// -----------------------------------\n*/\n        \n// Get the Passwords from file:        \nString[] passwords = getPasswordsFromFile(&quot;UserData.txt&quot;);\n// Display the Passwords retrieved:\nSystem.out.println();\nSystem.out.println(&quot;Passwords from file:&quot;);\nSystem.out.println(&quot;====================&quot;);\n    \nfor (String str : passwords) {\n    System.out.println(str);\n}\n</code></pre>\n<p>If you were to run this code against a file which contains the data you provided within your post,your console window will diplay:</p>\n<pre><code>Enter the path of the file (c to cancel): --&gt; userData.txt\n\nPasswords from file:\n====================\natbWfKL4etk4U\n&amp;i4KZ5wmac566\n</code></pre>\n"}],"owner":{"account_id":16219786,"reputation":3,"user_id":11711602,"display_name":"Nick Paree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1644623279,"creation_date":1644616525,"question_id":71086931,"body_markdown":"So I have a file with a list of users in the format like this:\r\n\r\nmichael:atbWfKL4etk4U:500:500:Michael Ferris:/home/michael:/bin/bash\r\nabigail:&amp;i4KZ5wmac566:501:501:Abigail Smith:/home/abigail:/bin/tcsh\r\n\r\nWhat I need to do is just extract the passwords from the file which in this case are:\r\n&quot;**atbWfKL4etk4U**&quot; and &quot;**&amp;i4KZ5wmac566**&quot; and to store them into an array.\r\n\r\nThis is what I have so far:\r\n\r\n    public static void main(String[] args) throws IOException{\r\n\t\t\r\n\t\t// Create a scanner for keyboard input\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\t// Prompt user to select a file to open\r\n\t\tSystem.out.print(&quot;Enter the path of the file: &quot;);\r\n\t\tString filename = scan.nextLine();\r\n\t\t\r\n\t\t// Open the file\r\n\t\tFile file = new File(filename);\r\n\t\tScanner inputFile = new Scanner(file);\r\n\t\t\r\n\t\t// Create Array to store each user password in\r\n\t\tString[] passwords = {};\r\n\t\t\r\n\t\r\n\t\t\r\n\t\t// Close the file\r\n\t\tscan.close();\r\n\t\tinputFile.close();\r\n\t\t\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n","title":"Splitting Contents of a File","body":"<p>So I have a file with a list of users in the format like this:</p>\n<p>michael:atbWfKL4etk4U:500:500:Michael Ferris:/home/michael:/bin/bash\nabigail:&amp;i4KZ5wmac566:501:501:Abigail Smith:/home/abigail:/bin/tcsh</p>\n<p>What I need to do is just extract the passwords from the file which in this case are:\n&quot;<strong>atbWfKL4etk4U</strong>&quot; and &quot;<strong>&amp;i4KZ5wmac566</strong>&quot; and to store them into an array.</p>\n<p>This is what I have so far:</p>\n<pre><code>public static void main(String[] args) throws IOException{\n    \n    // Create a scanner for keyboard input\n    Scanner scan = new Scanner(System.in);\n    \n    // Prompt user to select a file to open\n    System.out.print(&quot;Enter the path of the file: &quot;);\n    String filename = scan.nextLine();\n    \n    // Open the file\n    File file = new File(filename);\n    Scanner inputFile = new Scanner(file);\n    \n    // Create Array to store each user password in\n    String[] passwords = {};\n    \n\n    \n    // Close the file\n    scan.close();\n    inputFile.close();\n    \n\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1644622756,"post_id":71087689,"comment_id":125664344,"body_markdown":"post a [mcve].  We don&#39;t see where robots, count are defined and assigned values.","body":"post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  We don&#39;t see where robots, count are defined and assigned values."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1644622763,"post_id":71087689,"comment_id":125664346,"body_markdown":"I suggest you use a `List` instead of an array. A list has a dynamic size for only the number of elements it contains. If you insist on using an array, you will need to provide more details, including a [mcve] and the exact error message you are asking about.","body":"I suggest you use a <code>List</code> instead of an array. A list has a dynamic size for only the number of elements it contains. If you insist on using an array, you will need to provide more details, including a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the exact error message you are asking about."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1644623210,"post_id":71087689,"comment_id":125664415,"body_markdown":"`Arrays.copyOfRange(robots, 0, count);` - that will give you an array of 4 (if there are 4 non-null element) from the very beginning of the array and they might be `null`","body":"<code>Arrays.copyOfRange(robots, 0, count);</code> - that will give you an array of 4 (if there are 4 non-null element) from the very beginning of the array and they might be <code>null</code>"}],"answers":[{"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iya Bursov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644623204,"creation_date":1644623204,"answer_id":71087759,"question_id":71087689,"body_markdown":"I suppose you need to fix 2 errors:\r\n\r\n1. clear the count variable\r\n2. don&#39;t assume that all not null objects are at the beginning\r\n\r\nhere is the fixed code:\r\n\r\n    public Robots[] getRobots() {\r\n        int count = 0;\r\n        for(int i = 0; i &lt; robots.length; i++) {\r\n            if(robots[i] != null)\r\n                count++;\r\n        }\r\n        Robots[] newRobots = new Robots[count];\r\n        \r\n        count = 0;\r\n        for(int i = 0; i &lt; robots.length; i++) {\r\n            if(robots[i] != null)\r\n                newRobots[count++] = robots[i];\r\n        }\r\n        return newRobots;\r\n    } ","title":"How do I return an array of object references with a specific length?","body":"<p>I suppose you need to fix 2 errors:</p>\n<ol>\n<li>clear the count variable</li>\n<li>don't assume that all not null objects are at the beginning</li>\n</ol>\n<p>here is the fixed code:</p>\n<pre><code>public Robots[] getRobots() {\n    int count = 0;\n    for(int i = 0; i &lt; robots.length; i++) {\n        if(robots[i] != null)\n            count++;\n    }\n    Robots[] newRobots = new Robots[count];\n    \n    count = 0;\n    for(int i = 0; i &lt; robots.length; i++) {\n        if(robots[i] != null)\n            newRobots[count++] = robots[i];\n    }\n    return newRobots;\n} \n</code></pre>\n"}],"owner":{"account_id":24231175,"reputation":7,"user_id":18184914,"display_name":"unicorn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1644623204,"creation_date":1644622573,"question_id":71087689,"body_markdown":"I have an array of object references with a size of 100. The array is filled with 4 object references while the rest of it is empty. What I want to do is return the array with only those 4 references. I tried creating a new array and copying the references into it, but then I always get an error saying the array is null when I try to invoke the method. Here&#39;s the code:\r\n\r\n```\r\npublic Robots[] getRobots() {\r\n\t\tfor(int i = 0; i &lt; robots.length; i++) {\r\n\t\t\tif(robots[i] != null)\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\t\tRobots[] newRobots = new Robots[count];\r\n\t\tnewRobots = Arrays.copyOfRange(robots, 0, count);\r\n\t\treturn newRobots;\r\n\t}\t\r\n```","title":"How do I return an array of object references with a specific length?","body":"<p>I have an array of object references with a size of 100. The array is filled with 4 object references while the rest of it is empty. What I want to do is return the array with only those 4 references. I tried creating a new array and copying the references into it, but then I always get an error saying the array is null when I try to invoke the method. Here's the code:</p>\n<pre><code>public Robots[] getRobots() {\n        for(int i = 0; i &lt; robots.length; i++) {\n            if(robots[i] != null)\n                count++;\n        }\n        Robots[] newRobots = new Robots[count];\n        newRobots = Arrays.copyOfRange(robots, 0, count);\n        return newRobots;\n    }   \n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":3829184,"reputation":649,"user_id":3175251,"display_name":"RoyalBigMack"},"score":0,"creation_date":1644505956,"post_id":71067420,"comment_id":125629595,"body_markdown":"I&#39;m thinking [this answer](https://stackoverflow.com/questions/31751554/java-8-streams-merging-a-list-of-maps) should get you up and running...","body":"I&#39;m thinking <a href=\"https://stackoverflow.com/questions/31751554/java-8-streams-merging-a-list-of-maps\">this answer</a> should get you up and running..."},{"owner":{"account_id":2423351,"reputation":1931,"user_id":2115836,"display_name":"Ali Ben Zarrouk"},"score":0,"creation_date":1644509023,"post_id":71067420,"comment_id":125630897,"body_markdown":"Did you try first ?","body":"Did you try first ?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644623095,"creation_date":1644507391,"answer_id":71067937,"question_id":71067420,"body_markdown":"1. Remap the initial lists of maps into `Map&lt;String, Integer&gt;`:\r\n```java\r\nstatic Map&lt;String, Integer&gt; convert(List&lt;Map&lt;String, Object&gt;&gt; list) {\r\n    return list\r\n        .stream()\r\n        .collect(Collectors.toMap(\r\n            m -&gt; (String) m.get(&quot;web_id&quot;),\r\n            m -&gt; (Integer) m.get(&quot;count&quot;)\r\n        ));\r\n}\r\n\r\nList&lt;Map&lt;String, Object&gt;&gt; configs  = fetchConfigsCount();\r\nList&lt;Map&lt;String, Object&gt;&gt; websites = fetchWebsitesCount();\r\n\r\nMap&lt;String, Integer&gt; configMap  = convert(configs);\r\nMap&lt;String, Integer&gt; websiteMap = convert(websites);\r\n```\r\n2. Create a POJO to represent a list entry:\r\n```java\r\nclass Pojo {\r\n    String owner;\r\n    Map&lt;String, Integer&gt; ownerPresence;\r\n    // boilerplate: constructor(s), getters/setters\r\n}\r\n```\r\n3. Stream the list of owners, and build a map:\r\n```java\r\nList&lt;String&gt; listOfOwners = Arrays.asList(&quot;abc&quot;,&quot;xyz&quot;,&quot;pqr&quot;);\r\n\r\nList&lt;Pojo&gt; result = listOfOwners\r\n    .stream()\r\n    .map(owner -&gt; new Pojo(\r\n        owner,\r\n        Map.of(\r\n            &quot;configCount&quot;,  configMap.get(owner),\r\n            &quot;websiteCount&quot;, websiteMap.get(owner)\r\n        )\r\n    ))\r\n    .collect(Collectors.toList());\r\n```\r\n----\r\n**Update**\r\n\r\nIf there are other inputs, a wrapper map may be created to hold the converted maps by appropriate keys `&quot;configCount&quot;, &quot;websiteCount&quot;, &quot;sourceCount&quot;`, etc.:\r\n```java\r\nMap&lt;String, Map&lt;String, Integer&gt;&gt; bigMap = Map.of(\r\n    &quot;configCount&quot;,  convert(fetchConfigsCount()),\r\n    &quot;websiteCount&quot;, convert(fetchWebsitesCount()),\r\n    &quot;sourceCount&quot;,  convert(fetchSourcesCount())\r\n);\r\n```\r\nThen the map for `Pojo` may be created like this:\r\n```java\r\nList&lt;Pojo&gt; result = listOfOwners\r\n    .stream()\r\n    .map(owner -&gt; new Pojo(\r\n        owner,\r\n        bigMap.keySet()\r\n            .stream() // Stream&lt;String&gt;\r\n            .collect(Collectors.toMap(\r\n                k -&gt; k,\r\n                k -&gt; bigMap.get(k).get(owner)\r\n            )) // Map&lt;String, Integer&gt;\r\n    ))\r\n    .collect(Collectors.toList());\r\n```","title":"java 8 grouping a map of same key and value and make a key value pair","body":"<ol>\n<li>Remap the initial lists of maps into <code>Map&lt;String, Integer&gt;</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>static Map&lt;String, Integer&gt; convert(List&lt;Map&lt;String, Object&gt;&gt; list) {\n    return list\n        .stream()\n        .collect(Collectors.toMap(\n            m -&gt; (String) m.get(&quot;web_id&quot;),\n            m -&gt; (Integer) m.get(&quot;count&quot;)\n        ));\n}\n\nList&lt;Map&lt;String, Object&gt;&gt; configs  = fetchConfigsCount();\nList&lt;Map&lt;String, Object&gt;&gt; websites = fetchWebsitesCount();\n\nMap&lt;String, Integer&gt; configMap  = convert(configs);\nMap&lt;String, Integer&gt; websiteMap = convert(websites);\n</code></pre>\n<ol start=\"2\">\n<li>Create a POJO to represent a list entry:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class Pojo {\n    String owner;\n    Map&lt;String, Integer&gt; ownerPresence;\n    // boilerplate: constructor(s), getters/setters\n}\n</code></pre>\n<ol start=\"3\">\n<li>Stream the list of owners, and build a map:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; listOfOwners = Arrays.asList(&quot;abc&quot;,&quot;xyz&quot;,&quot;pqr&quot;);\n\nList&lt;Pojo&gt; result = listOfOwners\n    .stream()\n    .map(owner -&gt; new Pojo(\n        owner,\n        Map.of(\n            &quot;configCount&quot;,  configMap.get(owner),\n            &quot;websiteCount&quot;, websiteMap.get(owner)\n        )\n    ))\n    .collect(Collectors.toList());\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>If there are other inputs, a wrapper map may be created to hold the converted maps by appropriate keys <code>&quot;configCount&quot;, &quot;websiteCount&quot;, &quot;sourceCount&quot;</code>, etc.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Map&lt;String, Integer&gt;&gt; bigMap = Map.of(\n    &quot;configCount&quot;,  convert(fetchConfigsCount()),\n    &quot;websiteCount&quot;, convert(fetchWebsitesCount()),\n    &quot;sourceCount&quot;,  convert(fetchSourcesCount())\n);\n</code></pre>\n<p>Then the map for <code>Pojo</code> may be created like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Pojo&gt; result = listOfOwners\n    .stream()\n    .map(owner -&gt; new Pojo(\n        owner,\n        bigMap.keySet()\n            .stream() // Stream&lt;String&gt;\n            .collect(Collectors.toMap(\n                k -&gt; k,\n                k -&gt; bigMap.get(k).get(owner)\n            )) // Map&lt;String, Integer&gt;\n    ))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644588709,"creation_date":1644515805,"answer_id":71070029,"question_id":71067420,"body_markdown":"Here is one way to do it.\r\n- first, just remap the counts to a `Map&lt;String,List&lt;Integer&gt;&gt;`\r\n- then simply iterate over than map, building the final map and list.\r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; configCount =\r\n\t\tList.of(Map.of(&quot;web_id&quot;, &quot;abc&quot;, &quot;count&quot;, 1),\r\n\t\t\t\tMap.of(&quot;web_id&quot;, &quot;xyz&quot;, &quot;count&quot;, 1),\r\n\t\t\t\tMap.of(&quot;web_id&quot;, &quot;pqr&quot;, &quot;count&quot;, 1));\r\n\r\nList&lt;Map&lt;String, Object&gt;&gt; webCount =\r\n\t\tList.of(Map.of(&quot;web_id&quot;, &quot;abc&quot;, &quot;count&quot;, 2),\r\n\t\t\t\tMap.of(&quot;web_id&quot;, &quot;xyz&quot;, &quot;count&quot;, 3),\r\n\t\t\t\tMap.of(&quot;web_id&quot;, &quot;pqr&quot;, &quot;count&quot;, 4));\r\n\r\nList&lt;Map&lt;String, Object&gt;&gt; sourceCount =\r\n\t\tList.of(Map.of(&quot;web_id&quot;, &quot;abc&quot;, &quot;count&quot;, 22),\r\n\t\t\t\tMap.of(&quot;web_id&quot;, &quot;xyz&quot;, &quot;count&quot;, 32),\r\n\t\t\t\tMap.of(&quot;web_id&quot;, &quot;pqr&quot;, &quot;count&quot;, 42));\r\n\r\nMap&lt;String, List&lt;Integer&gt;&gt; map = Stream\r\n\t\t\t\t.concat(configCount.stream(),\r\n\t\t\t\t\t\tStream.concat(webCount.stream(),\r\n\t\t\t\t\t\t\t\tsourceCount.stream()))\r\n\t\t.collect(Collectors.groupingBy(\r\n\t\t\t\tmp -&gt; (String) mp.get(&quot;web_id&quot;),\r\n\t\t\t\tCollectors.mapping(\r\n\t\t\t\t\t\tmp -&gt; (Integer) mp.get(&quot;count&quot;),\r\n\t\t\t\t\t\tCollectors.toList())));\r\n```\r\nThe above creates the following where the first `List` values are &#39;config, website, and source` in that order.\r\n```\r\npqr=[1, 4, 42]\r\nabc=[1, 2, 22]\r\nxyz=[1, 3, 32]\r\n```\r\n\r\nNow instantiate a final List to hold all the maps and finish up.\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\nfor (Entry&lt;String, List&lt;Integer&gt;&gt; e : map.entrySet()) {\r\n\tMap&lt;String, Object&gt; tempMap = new HashMap&lt;&gt;();\r\n\ttempMap.put(&quot;owner&quot;, e.getKey());\r\n\ttempMap.put(&quot;ownerPresence&quot;,\r\n\t\t\tnew HashMap&lt;&gt;(Map.of(&quot;configCount&quot;,e.getValue().get(0),\r\n\t\t\t\t\t            &quot;webSiteCount&quot;,e.getValue().get(1),\r\n\t\t\t\t\t            &quot;sourceCount&quot;, e.getValue().get(2))));\r\n\tresult.add(tempMap);\r\n}\r\n\r\nresult.forEach(mp -&gt; mp.entrySet()\r\n          .forEach(e -&gt; System.out.println(e.getKey() + &quot;:&quot; + e.getValue())));\r\n```\r\nprints\r\n```\r\nowner:pqr\r\nownerPresence:{sourceCount=42, webSiteCount=4, configCount=1}\r\nowner:abc\r\nownerPresence:{sourceCount=22, webSiteCount=2, configCount=1}\r\nowner:xyz\r\nownerPresence:{sourceCount=32, webSiteCount=3, configCount=1}\r\n\r\n","title":"java 8 grouping a map of same key and value and make a key value pair","body":"<p>Here is one way to do it.</p>\n<ul>\n<li>first, just remap the counts to a <code>Map&lt;String,List&lt;Integer&gt;&gt;</code></li>\n<li>then simply iterate over than map, building the final map and list.</li>\n</ul>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; configCount =\n        List.of(Map.of(&quot;web_id&quot;, &quot;abc&quot;, &quot;count&quot;, 1),\n                Map.of(&quot;web_id&quot;, &quot;xyz&quot;, &quot;count&quot;, 1),\n                Map.of(&quot;web_id&quot;, &quot;pqr&quot;, &quot;count&quot;, 1));\n\nList&lt;Map&lt;String, Object&gt;&gt; webCount =\n        List.of(Map.of(&quot;web_id&quot;, &quot;abc&quot;, &quot;count&quot;, 2),\n                Map.of(&quot;web_id&quot;, &quot;xyz&quot;, &quot;count&quot;, 3),\n                Map.of(&quot;web_id&quot;, &quot;pqr&quot;, &quot;count&quot;, 4));\n\nList&lt;Map&lt;String, Object&gt;&gt; sourceCount =\n        List.of(Map.of(&quot;web_id&quot;, &quot;abc&quot;, &quot;count&quot;, 22),\n                Map.of(&quot;web_id&quot;, &quot;xyz&quot;, &quot;count&quot;, 32),\n                Map.of(&quot;web_id&quot;, &quot;pqr&quot;, &quot;count&quot;, 42));\n\nMap&lt;String, List&lt;Integer&gt;&gt; map = Stream\n                .concat(configCount.stream(),\n                        Stream.concat(webCount.stream(),\n                                sourceCount.stream()))\n        .collect(Collectors.groupingBy(\n                mp -&gt; (String) mp.get(&quot;web_id&quot;),\n                Collectors.mapping(\n                        mp -&gt; (Integer) mp.get(&quot;count&quot;),\n                        Collectors.toList())));\n</code></pre>\n<p>The above creates the following where the first <code>List</code> values are 'config, website, and source` in that order.</p>\n<pre><code>pqr=[1, 4, 42]\nabc=[1, 2, 22]\nxyz=[1, 3, 32]\n</code></pre>\n<p>Now instantiate a final List to hold all the maps and finish up.</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; result = new ArrayList&lt;&gt;();\n\nfor (Entry&lt;String, List&lt;Integer&gt;&gt; e : map.entrySet()) {\n    Map&lt;String, Object&gt; tempMap = new HashMap&lt;&gt;();\n    tempMap.put(&quot;owner&quot;, e.getKey());\n    tempMap.put(&quot;ownerPresence&quot;,\n            new HashMap&lt;&gt;(Map.of(&quot;configCount&quot;,e.getValue().get(0),\n                                &quot;webSiteCount&quot;,e.getValue().get(1),\n                                &quot;sourceCount&quot;, e.getValue().get(2))));\n    result.add(tempMap);\n}\n\nresult.forEach(mp -&gt; mp.entrySet()\n          .forEach(e -&gt; System.out.println(e.getKey() + &quot;:&quot; + e.getValue())));\n</code></pre>\n<p>prints</p>\n<pre><code>owner:pqr\nownerPresence:{sourceCount=42, webSiteCount=4, configCount=1}\nowner:abc\nownerPresence:{sourceCount=22, webSiteCount=2, configCount=1}\nowner:xyz\nownerPresence:{sourceCount=32, webSiteCount=3, configCount=1}\n\n</code></pre>\n"}],"owner":{"account_id":10399375,"reputation":59,"user_id":7668202,"display_name":"ABhadauria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2577,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71070029,"answer_count":2,"score":-1,"last_activity_date":1644623095,"creation_date":1644505202,"question_id":71067420,"body_markdown":"I have a method `fetchConfigsCount()` which returns `List&lt;Map&lt;String, Object&gt;&gt;`.\r\n    \r\nThe result looks like:\r\n```json\r\n{\r\n    &quot;web_id&quot;: &quot;abc&quot;,\r\n    &quot;count&quot;: 1\r\n},\r\n{\r\n    &quot;web_id&quot;: &quot;xyz&quot;,\r\n    &quot;count&quot;: 1\r\n},\r\n{\r\n    &quot;web_id&quot;: &quot;pqr&quot;,\r\n    &quot;count&quot;: 1\r\n}\r\n```    \r\n\r\nWe have another method `fetchWebsitesCount()` which also returns a response in same format.\r\n\r\n`web_id` is the key and its value is owner name.\r\n`count` is another key and its value is of type `int`.\r\n\r\n```json\r\n{\r\n    &quot;web_id&quot;: &quot;abc&quot;,\r\n    &quot;count&quot;: 2\r\n},\r\n{\r\n    &quot;web_id&quot;: &quot;xyz&quot;,\r\n    &quot;count&quot;: 3\r\n},\r\n{\r\n    &quot;web_id&quot;: &quot;pqr&quot;,\r\n    &quot;count&quot;: 4\r\n}\r\n```    \r\n    \r\nWe have a list of owners which is of type `ArrayList&lt;String&gt;`:\r\n    \r\n```java\r\nList&lt;String&gt; listOfOwners = [&quot;abc&quot;,&quot;xyz&quot;,&quot;pqr&quot;];\r\n```\r\n \r\nI want to collect all these things and want to create a result like below:\r\n\r\n```json\r\nresult:[\r\n    {&quot;owner&quot;: &quot;abc&quot;,\r\n    &quot;ownerPresence&quot;:{\r\n    &quot;configCount&quot;:1,\r\n    &quot;websiteCount&quot;:2\r\n    },\r\n    {&quot;owner&quot;: &quot;xyz&quot;,\r\n    &quot;ownerPresence&quot;:{\r\n    &quot;configCount&quot;:1,\r\n    &quot;websiteCount&quot;:3\r\n    },\r\n    {&quot;owner&quot;: &quot;pqr&quot;,\r\n    &quot;ownerPresence&quot;:{\r\n    &quot;configCount&quot;:1,\r\n    &quot;websiteCount&quot;:4\r\n    }]\r\n```    \r\n\r\nI am not sure how I can do this in Java 8.","title":"java 8 grouping a map of same key and value and make a key value pair","body":"<p>I have a method <code>fetchConfigsCount()</code> which returns <code>List&lt;Map&lt;String, Object&gt;&gt;</code>.</p>\n<p>The result looks like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;web_id&quot;: &quot;abc&quot;,\n    &quot;count&quot;: 1\n},\n{\n    &quot;web_id&quot;: &quot;xyz&quot;,\n    &quot;count&quot;: 1\n},\n{\n    &quot;web_id&quot;: &quot;pqr&quot;,\n    &quot;count&quot;: 1\n}\n</code></pre>\n<p>We have another method <code>fetchWebsitesCount()</code> which also returns a response in same format.</p>\n<p><code>web_id</code> is the key and its value is owner name.\n<code>count</code> is another key and its value is of type <code>int</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;web_id&quot;: &quot;abc&quot;,\n    &quot;count&quot;: 2\n},\n{\n    &quot;web_id&quot;: &quot;xyz&quot;,\n    &quot;count&quot;: 3\n},\n{\n    &quot;web_id&quot;: &quot;pqr&quot;,\n    &quot;count&quot;: 4\n}\n</code></pre>\n<p>We have a list of owners which is of type <code>ArrayList&lt;String&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; listOfOwners = [&quot;abc&quot;,&quot;xyz&quot;,&quot;pqr&quot;];\n</code></pre>\n<p>I want to collect all these things and want to create a result like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>result:[\n    {&quot;owner&quot;: &quot;abc&quot;,\n    &quot;ownerPresence&quot;:{\n    &quot;configCount&quot;:1,\n    &quot;websiteCount&quot;:2\n    },\n    {&quot;owner&quot;: &quot;xyz&quot;,\n    &quot;ownerPresence&quot;:{\n    &quot;configCount&quot;:1,\n    &quot;websiteCount&quot;:3\n    },\n    {&quot;owner&quot;: &quot;pqr&quot;,\n    &quot;ownerPresence&quot;:{\n    &quot;configCount&quot;:1,\n    &quot;websiteCount&quot;:4\n    }]\n</code></pre>\n<p>I am not sure how I can do this in Java 8.</p>\n"},{"tags":["java","concurrenthashmap"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1644622359,"post_id":71087512,"comment_id":125664270,"body_markdown":"According to the docs, a recursive update exception implies you&#39;re making one entry in the map have a value that depends on itself, which is impossible to define.  Consider logging the values of `num` you&#39;re working on to try to trace where that happens.","body":"According to the docs, a recursive update exception implies you&#39;re making one entry in the map have a value that depends on itself, which is impossible to define.  Consider logging the values of <code>num</code> you&#39;re working on to try to trace where that happens."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1644622989,"creation_date":1644622494,"answer_id":71087681,"question_id":71087512,"body_markdown":"From [the API docs of `Map.computeIfAbsent()`][1]:\r\n\r\n&gt; The mapping function should not modify this map during computation.\r\n\r\n[The API docs of `ConcurrentHashMap.computeIfAbsent()`][2] make that stronger:\r\n\r\n&gt; The mapping function **must not** modify this map during computation.\r\n\r\n(Emphasis added)\r\n\r\nYou are violating that by using your `minFinder()` method as the mapping function.  That it seems nevertheless to work for certain inputs is irrelevant.  You need to find a different way to achieve what you&#39;re after.\r\n\r\n&gt; Is there any way to increase recursion size to prevent this exception or any other way to solve this?\r\n\r\nYou could avoid `computeIfAbsent()` and instead do the same thing the old-school way:\r\n\r\n    BigInteger halfNum = num.divide(BigInteger.valueOf(2));\r\n    BigInteger cachedValue = cache.get(halfNum);\r\n\r\n    if (cachedValue == null) {\r\n        cachedValue = minFinder(halfNum);\r\n        cache.put(halfNum, cachedValue);\r\n    }\r\n    return 1 + cachedValue;\r\n\r\nBut that&#39;s not going to be sufficient if the computation loops.  You could perhaps detect that by putting a sentinel value into the map before you recurse, so that you can recognize loops.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function)","title":"ConcurrentHashMap throws recursive update exception","body":"<p>From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"noreferrer\">the API docs of <code>Map.computeIfAbsent()</code></a>:</p>\n<blockquote>\n<p>The mapping function should not modify this map during computation.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"noreferrer\">The API docs of <code>ConcurrentHashMap.computeIfAbsent()</code></a> make that stronger:</p>\n<blockquote>\n<p>The mapping function <strong>must not</strong> modify this map during computation.</p>\n</blockquote>\n<p>(Emphasis added)</p>\n<p>You are violating that by using your <code>minFinder()</code> method as the mapping function.  That it seems nevertheless to work for certain inputs is irrelevant.  You need to find a different way to achieve what you're after.</p>\n<blockquote>\n<p>Is there any way to increase recursion size to prevent this exception or any other way to solve this?</p>\n</blockquote>\n<p>You could avoid <code>computeIfAbsent()</code> and instead do the same thing the old-school way:</p>\n<pre><code>BigInteger halfNum = num.divide(BigInteger.valueOf(2));\nBigInteger cachedValue = cache.get(halfNum);\n\nif (cachedValue == null) {\n    cachedValue = minFinder(halfNum);\n    cache.put(halfNum, cachedValue);\n}\nreturn 1 + cachedValue;\n</code></pre>\n<p>But that's not going to be sufficient if the computation loops.  You could perhaps detect that by putting a sentinel value into the map before you recurse, so that you can recognize loops.</p>\n"}],"owner":{"account_id":15726297,"reputation":118,"user_id":11347845,"display_name":"Denis_LT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71087681,"answer_count":1,"score":2,"last_activity_date":1644622989,"creation_date":1644621008,"question_id":71087512,"body_markdown":"Here is my Java code:\r\n```\r\nstatic Map&lt;BigInteger, Integer&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\r\nstatic Integer minFinder(BigInteger num) {\r\n        if (num.equals(BigInteger.ONE)) {\r\n            return 0;\r\n        }\r\n        if (num.mod(BigInteger.valueOf(2)).equals(BigInteger.ZERO)) {\r\n            //focus on stuff thats happening inside this block, since with given inputs it won&#39;t reach last return\r\n            return 1 + cache.computeIfAbsent(num.divide(BigInteger.valueOf(2)),\r\n                    n -&gt; minFinder(n));\r\n        }\r\n        return 1 + Math.min(cache.computeIfAbsent(num.subtract(BigInteger.ONE), n -&gt; minFinder(n)),\r\n                cache.computeIfAbsent(num.add(BigInteger.ONE), n -&gt; minFinder(n)));\r\n    }\r\n```\r\nI tried to memoize a function that returns a minimum number of actions such as division by 2, subtract by one or add one.\r\nThe problem I&#39;m facing is when I call it with smaller inputs such as:\r\n```\r\nminFinder(new BigInteger(&quot;32&quot;))\r\n```\r\nit works, but with bigger values like:\r\n```\r\nminFinder(new BigInteger(&quot;64&quot;))\r\n```\r\nIt throws a Recursive Update exception.\r\nIs there any way to increase recursion size to prevent this exception or any other way to solve this?\r\n","title":"ConcurrentHashMap throws recursive update exception","body":"<p>Here is my Java code:</p>\n<pre><code>static Map&lt;BigInteger, Integer&gt; cache = new ConcurrentHashMap&lt;&gt;();\n\nstatic Integer minFinder(BigInteger num) {\n        if (num.equals(BigInteger.ONE)) {\n            return 0;\n        }\n        if (num.mod(BigInteger.valueOf(2)).equals(BigInteger.ZERO)) {\n            //focus on stuff thats happening inside this block, since with given inputs it won't reach last return\n            return 1 + cache.computeIfAbsent(num.divide(BigInteger.valueOf(2)),\n                    n -&gt; minFinder(n));\n        }\n        return 1 + Math.min(cache.computeIfAbsent(num.subtract(BigInteger.ONE), n -&gt; minFinder(n)),\n                cache.computeIfAbsent(num.add(BigInteger.ONE), n -&gt; minFinder(n)));\n    }\n</code></pre>\n<p>I tried to memoize a function that returns a minimum number of actions such as division by 2, subtract by one or add one.\nThe problem I'm facing is when I call it with smaller inputs such as:</p>\n<pre><code>minFinder(new BigInteger(&quot;32&quot;))\n</code></pre>\n<p>it works, but with bigger values like:</p>\n<pre><code>minFinder(new BigInteger(&quot;64&quot;))\n</code></pre>\n<p>It throws a Recursive Update exception.\nIs there any way to increase recursion size to prevent this exception or any other way to solve this?</p>\n"},{"tags":["java","spring","spring-boot","maven","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1644671389,"post_id":71087722,"comment_id":125671373,"body_markdown":"Please explain this: `I need to run some spring based automated tests in a docker container.` more in detail...why can&#39;t you run those tests outside of a docker container?","body":"Please explain this: <code>I need to run some spring based automated tests in a docker container.</code> more in detail...why can&#39;t you run those tests outside of a docker container?"}],"owner":{"account_id":12845366,"reputation":21,"user_id":9291954,"display_name":"Novice_programmer_0710"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1644622875,"creation_date":1644622875,"question_id":71087722,"body_markdown":"I need to run some spring based automated tests in a docker container. The tests are junit5 based. I cannot use maven test as it&#39;s not available in the container so i&#39;m looking at packaging the tests project as a single fat jar and run the tests via java -jar &lt;fat jar&gt;. I created a small spring boot application that calls the junit tests. I&#39;m also using the maven assembly plugin to package everything into a single jar. Everything is working fine in my IDE but when I run the jar file i&#39;m getting null pointer errors. It also looks like the app is unable to find my application.yml which is in the root level.\r\n\r\nI also created a spring.factories file to include the spring test listeners \r\nI don&#39;t have a src/main/java. These files all reside under src/test/java.\r\n\r\nOne of my sample test class\r\n\r\n    @SpringBootTest\r\n    @ExtendWith(SpringExtension.class)\r\n    public class TestClass {\r\n      \r\n      @Autowired\r\n      private BeanA beanA;\r\n    \r\n      @Test\r\n      public void test() {\r\n        Assertions.assertTrue(true);\r\n      }\r\n    }\r\n\r\nMy main class\r\n\r\n    @SpringBootApplication\r\n    public class TestRunnerApp implements CommandLineRunner {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SmokeTestsRunnerApp.class, args);\r\n      }\r\n    \r\n      @Override\r\n      public void run(String... args) {\r\n   \r\n        SummaryGeneratingListener listener = new SummaryGeneratingListener();\r\n        LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()\r\n            .selectors(selectClass(TestClass.class)))\r\n            .build();\r\n        Launcher launcher = LauncherFactory.create();\r\n        TestPlan testPlan = launcher.discover(request);\r\n        launcher.registerTestExecutionListeners(listener);\r\n        launcher.execute(request);\r\n    \r\n        TestExecutionSummary summary = listener.getSummary();\r\n        summary.printFailuresTo(new PrintWriter(System.out));\r\n        summary.printTo(new PrintWriter(System.out));\r\n    \r\n        if (summary.getTotalFailureCount() &gt; 0) {\r\n          System.exit(-1);\r\n        }\r\n        System.exit(0);\r\n      }\r\n    }\r\n\r\npom.xml\r\n\r\n \r\n\r\n                   &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.3.0&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;descriptors&gt;\r\n                                &lt;descriptor&gt;src/test/assembly/assembly.xml&lt;/descriptor&gt;\r\n                            &lt;/descriptors&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;make-assembly&lt;/id&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;single&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;archive&gt;\r\n                                        &lt;manifest&gt;\r\n                                            &lt;mainClass&gt;my.test.package.TestsRunnerApp&lt;/mainClass&gt;\r\n                                        &lt;/manifest&gt;\r\n                                    &lt;/archive&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\nassembly.xml\r\n\r\n    &lt;assembly\r\n            xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd&quot;&gt;\r\n        &lt;id&gt;fat-tests&lt;/id&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;jar&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n        &lt;dependencySets&gt;\r\n            &lt;dependencySet&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n                &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n                &lt;unpack&gt;true&lt;/unpack&gt;\r\n                &lt;unpackOptions&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;META-INF/spring.factories&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/unpackOptions&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependencySet&gt;\r\n        &lt;/dependencySets&gt;\r\n        &lt;files&gt;\r\n            &lt;file&gt;\r\n                &lt;source&gt;${project.basedir}/src/test/resources/META-INF/spring.factories&lt;/source&gt;\r\n                &lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\r\n            &lt;/file&gt;\r\n        &lt;/files&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;${project.build.directory}/test-classes&lt;/directory&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.class&lt;/include&gt;\r\n                    &lt;include&gt;**/*.yml&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;useDefaultExcludes&gt;true&lt;/useDefaultExcludes&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nspring.factories\r\n\r\n    org.springframework.test.context.TestExecutionListener = \\\r\n    \torg.springframework.test.context.web.ServletTestExecutionListener,\\\r\n    \torg.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener,\\\r\n    \torg.springframework.test.context.support.DependencyInjectionTestExecutionListener,\\\r\n    \torg.springframework.test.context.support.DirtiesContextTestExecutionListener,\\\r\n    \torg.springframework.test.context.transaction.TransactionalTestExecutionListener\r\n\r\nwhen I run the jar file that was created, it doesn&#39;t set the profile i specified via the application.yml or load up values needed for my configuration files. I tried manually specifying the file via --spring.config.location but that didn&#39;t work either. Any ideas what I might be doing wrong? is this approach even possible to run the tests? ","title":"Package and run spring boot tests from jar","body":"<p>I need to run some spring based automated tests in a docker container. The tests are junit5 based. I cannot use maven test as it's not available in the container so i'm looking at packaging the tests project as a single fat jar and run the tests via java -jar . I created a small spring boot application that calls the junit tests. I'm also using the maven assembly plugin to package everything into a single jar. Everything is working fine in my IDE but when I run the jar file i'm getting null pointer errors. It also looks like the app is unable to find my application.yml which is in the root level.</p>\n<p>I also created a spring.factories file to include the spring test listeners\nI don't have a src/main/java. These files all reside under src/test/java.</p>\n<p>One of my sample test class</p>\n<pre><code>@SpringBootTest\n@ExtendWith(SpringExtension.class)\npublic class TestClass {\n  \n  @Autowired\n  private BeanA beanA;\n\n  @Test\n  public void test() {\n    Assertions.assertTrue(true);\n  }\n}\n</code></pre>\n<p>My main class</p>\n<pre><code>@SpringBootApplication\npublic class TestRunnerApp implements CommandLineRunner {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SmokeTestsRunnerApp.class, args);\n  }\n\n  @Override\n  public void run(String... args) {\n\n    SummaryGeneratingListener listener = new SummaryGeneratingListener();\n    LauncherDiscoveryRequest request = LauncherDiscoveryRequestBuilder.request()\n        .selectors(selectClass(TestClass.class)))\n        .build();\n    Launcher launcher = LauncherFactory.create();\n    TestPlan testPlan = launcher.discover(request);\n    launcher.registerTestExecutionListeners(listener);\n    launcher.execute(request);\n\n    TestExecutionSummary summary = listener.getSummary();\n    summary.printFailuresTo(new PrintWriter(System.out));\n    summary.printTo(new PrintWriter(System.out));\n\n    if (summary.getTotalFailureCount() &gt; 0) {\n      System.exit(-1);\n    }\n    System.exit(0);\n  }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>               &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;descriptors&gt;\n                            &lt;descriptor&gt;src/test/assembly/assembly.xml&lt;/descriptor&gt;\n                        &lt;/descriptors&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;make-assembly&lt;/id&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;single&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;archive&gt;\n                                    &lt;manifest&gt;\n                                        &lt;mainClass&gt;my.test.package.TestsRunnerApp&lt;/mainClass&gt;\n                                    &lt;/manifest&gt;\n                                &lt;/archive&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>assembly.xml</p>\n<pre><code>&lt;assembly\n        xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd&quot;&gt;\n    &lt;id&gt;fat-tests&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;jar&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;unpackOptions&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;META-INF/spring.factories&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/unpackOptions&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n    &lt;files&gt;\n        &lt;file&gt;\n            &lt;source&gt;${project.basedir}/src/test/resources/META-INF/spring.factories&lt;/source&gt;\n            &lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\n        &lt;/file&gt;\n    &lt;/files&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.build.directory}/test-classes&lt;/directory&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.class&lt;/include&gt;\n                &lt;include&gt;**/*.yml&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;useDefaultExcludes&gt;true&lt;/useDefaultExcludes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>spring.factories</p>\n<pre><code>org.springframework.test.context.TestExecutionListener = \\\n    org.springframework.test.context.web.ServletTestExecutionListener,\\\n    org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener,\\\n    org.springframework.test.context.support.DependencyInjectionTestExecutionListener,\\\n    org.springframework.test.context.support.DirtiesContextTestExecutionListener,\\\n    org.springframework.test.context.transaction.TransactionalTestExecutionListener\n</code></pre>\n<p>when I run the jar file that was created, it doesn't set the profile i specified via the application.yml or load up values needed for my configuration files. I tried manually specifying the file via --spring.config.location but that didn't work either. Any ideas what I might be doing wrong? is this approach even possible to run the tests?</p>\n"},{"tags":["java","android","bitmap","uri","gallery"],"comments":[{"owner":{"account_id":5703685,"reputation":4432,"user_id":4507927,"accept_rate":82,"display_name":"Yupi"},"score":0,"creation_date":1510275421,"post_id":47213621,"comment_id":81377685,"body_markdown":"What kind of exception?","body":"What kind of exception?"}],"answers":[{"tags":[],"owner":{"account_id":5703685,"reputation":4432,"user_id":4507927,"accept_rate":82,"display_name":"Yupi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1615320396,"creation_date":1510276029,"answer_id":47214198,"question_id":47213621,"body_markdown":"You are not picking the image on right way. Remove these three lines of code from you `onClick` method you will move them inside `onActivityResult`:\r\n```java\r\nUri imageUri = intent.getData();\r\nBitmap bitmap = \r\n    MediaStore.Images.Media.getBitmap(context.getContentResolver(), imageUri);\r\nimageView.setImageBitmap(bitmap);\r\n```\r\nThen in your (probably) `Activity` override `onActivityResult` and do inside something like this:\r\n```java\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n\r\n    if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n\r\n        Uri imageUri = data.getData();\r\n        try {\r\n            Bitmap bitmap = \r\n                MediaStore.Images.Media.getBitmap(getContentResolver(), imageUri);\r\n            imageView.setImageBitmap(bitmap);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Issue converting Image Uri from gallery to bitmap Android","body":"<p>You are not picking the image on right way. Remove these three lines of code from you <code>onClick</code> method you will move them inside <code>onActivityResult</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Uri imageUri = intent.getData();\nBitmap bitmap = \n    MediaStore.Images.Media.getBitmap(context.getContentResolver(), imageUri);\nimageView.setImageBitmap(bitmap);\n</code></pre>\n<p>Then in your (probably) <code>Activity</code> override <code>onActivityResult</code> and do inside something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n\n        Uri imageUri = data.getData();\n        try {\n            Bitmap bitmap = \n                MediaStore.Images.Media.getBitmap(getContentResolver(), imageUri);\n            imageView.setImageBitmap(bitmap);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7695581,"reputation":1304,"user_id":5830240,"display_name":"xbadal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510288602,"creation_date":1510288602,"answer_id":47215748,"question_id":47213621,"body_markdown":"Please try this code, this is working for my app.\r\n\r\n     public void choosePhotoFromGallary() {\r\n        Intent galleryIntent = new Intent(Intent.ACTION_PICK,\r\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n\r\n        startActivityForResult(galleryIntent, GALLERY);\r\n    }\r\n\r\n    private void takePhotoFromCamera() {\r\n        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        startActivityForResult(intent, CAMERA);\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode == RESULT_CANCELED) {\r\n            return;\r\n        }\r\n        if (requestCode == GALLERY) {\r\n            if (data != null) {\r\n                Uri contentURI = data.getData();\r\n                try {\r\n                    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n                    Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), contentURI);\r\n                    bitmap.compress(Bitmap.CompressFormat.JPEG, 90, bytes);\r\n                    // path = saveImage(bitmap);\r\n                  \r\n                    imageView.setImageBitmap(bitmap);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    Toast.makeText(MainActivity.this, &quot;Failed!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        } else if (requestCode == CAMERA) {\r\n            Bitmap thumbnail = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            imageView.setImageBitmap(thumbnail);\r\n            path = saveImage(thumbnail);\r\n      \r\n        }\r\n    }\r\n\r\n    public String saveImage(Bitmap myBitmap) {\r\n        ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n        myBitmap.compress(Bitmap.CompressFormat.JPEG, 90, bytes);\r\n        File wallpaperDirectory = new File(\r\n                Environment.getExternalStorageDirectory() + IMAGE_DIRECTORY);\r\n        // have the object build the directory structure, if needed.\r\n        if (!wallpaperDirectory.exists()) {\r\n            wallpaperDirectory.mkdirs();\r\n        }\r\n\r\n        try {\r\n            File f = new File(wallpaperDirectory, Calendar.getInstance()\r\n                    .getTimeInMillis() + &quot;.jpg&quot;);\r\n            f.createNewFile();\r\n            FileOutputStream fo = new FileOutputStream(f);\r\n            fo.write(bytes.toByteArray());\r\n            MediaScannerConnection.scanFile(this,\r\n                    new String[]{f.getPath()},\r\n                    new String[]{&quot;image/jpeg&quot;}, null);\r\n            fo.close();\r\n            Log.d(&quot;TAG&quot;, &quot;File Saved::---&gt;&quot; + f.getAbsolutePath());\r\n\r\n            return f.getAbsolutePath();\r\n        } catch (IOException e1) {\r\n            e1.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n","title":"Issue converting Image Uri from gallery to bitmap Android","body":"<p>Please try this code, this is working for my app.</p>\n\n<pre><code> public void choosePhotoFromGallary() {\n    Intent galleryIntent = new Intent(Intent.ACTION_PICK,\n            MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n\n    startActivityForResult(galleryIntent, GALLERY);\n}\n\nprivate void takePhotoFromCamera() {\n    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    startActivityForResult(intent, CAMERA);\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n    super.onActivityResult(requestCode, resultCode, data);\n    if (resultCode == RESULT_CANCELED) {\n        return;\n    }\n    if (requestCode == GALLERY) {\n        if (data != null) {\n            Uri contentURI = data.getData();\n            try {\n                ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), contentURI);\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 90, bytes);\n                // path = saveImage(bitmap);\n\n                imageView.setImageBitmap(bitmap);\n            } catch (IOException e) {\n                e.printStackTrace();\n                Toast.makeText(MainActivity.this, \"Failed!\", Toast.LENGTH_SHORT).show();\n            }\n        }\n    } else if (requestCode == CAMERA) {\n        Bitmap thumbnail = (Bitmap) data.getExtras().get(\"data\");\n        imageView.setImageBitmap(thumbnail);\n        path = saveImage(thumbnail);\n\n    }\n}\n\npublic String saveImage(Bitmap myBitmap) {\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\n    myBitmap.compress(Bitmap.CompressFormat.JPEG, 90, bytes);\n    File wallpaperDirectory = new File(\n            Environment.getExternalStorageDirectory() + IMAGE_DIRECTORY);\n    // have the object build the directory structure, if needed.\n    if (!wallpaperDirectory.exists()) {\n        wallpaperDirectory.mkdirs();\n    }\n\n    try {\n        File f = new File(wallpaperDirectory, Calendar.getInstance()\n                .getTimeInMillis() + \".jpg\");\n        f.createNewFile();\n        FileOutputStream fo = new FileOutputStream(f);\n        fo.write(bytes.toByteArray());\n        MediaScannerConnection.scanFile(this,\n                new String[]{f.getPath()},\n                new String[]{\"image/jpeg\"}, null);\n        fo.close();\n        Log.d(\"TAG\", \"File Saved::---&gt;\" + f.getAbsolutePath());\n\n        return f.getAbsolutePath();\n    } catch (IOException e1) {\n        e1.printStackTrace();\n    }\n    return \"\";\n}\n</code></pre>\n"}],"owner":{"account_id":11052284,"reputation":35,"user_id":8116284,"display_name":"Juan Diego Bejarano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47214198,"answer_count":2,"score":2,"last_activity_date":1644622854,"creation_date":1510271705,"question_id":47213621,"body_markdown":"I am having trouble converting from an image uri to a bitmap to then show it in an image view, yet I am getting an unhandled exception when converting into a bitmap.\r\n\r\nHere is the code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    public static final int PICK_IMAGE = 1;\r\n    Image picture = new Image();\r\n    Context context = getApplicationContext();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Button btnGallery = (Button) findViewById(R.id.btnGallery);\r\n        final ImageView imageView = (ImageView) findViewById(R.id.imageView);\r\n\r\n        btnGallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;image/*&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\r\n                Uri imageUri = intent.getData();\r\n                Bitmap bitmap= MediaStore.Images.Media.getBitmap(context.getContentResolver(), imageUri);\r\n                imageView.setImageBitmap(bitmap);\r\n            }});","title":"Issue converting Image Uri from gallery to bitmap Android","body":"<p>I am having trouble converting from an image uri to a bitmap to then show it in an image view, yet I am getting an unhandled exception when converting into a bitmap.</p>\n<p>Here is the code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\npublic static final int PICK_IMAGE = 1;\nImage picture = new Image();\nContext context = getApplicationContext();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Button btnGallery = (Button) findViewById(R.id.btnGallery);\n    final ImageView imageView = (ImageView) findViewById(R.id.imageView);\n\n    btnGallery.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent();\n            intent.setType(&quot;image/*&quot;);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\n            Uri imageUri = intent.getData();\n            Bitmap bitmap= MediaStore.Images.Media.getBitmap(context.getContentResolver(), imageUri);\n            imageView.setImageBitmap(bitmap);\n        }});\n</code></pre>\n"},{"tags":["java","apache","solr","lucene"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":2,"creation_date":1511167649,"post_id":47387008,"comment_id":81729064,"body_markdown":"For the startup errors - my guess is that you&#39;re on SUSE. There&#39;s [an open ticket for that issue](https://issues.apache.org/jira/browse/SOLR-7998). For how to configure Solr as a service with the most recent version, see [Taking Solr to Production](https://lucene.apache.org/solr/guide/6_6/taking-solr-to-production.html).","body":"For the startup errors - my guess is that you&#39;re on SUSE. There&#39;s <a href=\"https://issues.apache.org/jira/browse/SOLR-7998\" rel=\"nofollow noreferrer\">an open ticket for that issue</a>. For how to configure Solr as a service with the most recent version, see <a href=\"https://lucene.apache.org/solr/guide/6_6/taking-solr-to-production.html\" rel=\"nofollow noreferrer\">Taking Solr to Production</a>."},{"owner":{"account_id":316160,"reputation":1017,"user_id":632169,"accept_rate":45,"display_name":"Mike"},"score":0,"creation_date":1511435259,"post_id":47387008,"comment_id":81862566,"body_markdown":"I found that it was related to the lsof version with is too old. older version doesn&#39;t support &#39;LISTEN&#39; command.","body":"I found that it was related to the lsof version with is too old. older version doesn&#39;t support &#39;LISTEN&#39; command."}],"owner":{"account_id":316160,"reputation":1017,"user_id":632169,"accept_rate":45,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644622039,"creation_date":1511163202,"question_id":47387008,"body_markdown":"I just upgraded our solr from 4.7 to 7.1.\r\nIn previous version, we start solr with the following command:\r\n\r\n```none\r\nnohup java -DSTOP.PORT=8079 -DSTOP.KEY=my_solr_key -Xms500m -Xmx500m -jar start.jar\r\n```\r\n\r\nWhat is the equivalent command for the new solr version?\r\n\r\nI ran `bin/solr start` but:\r\n\r\n1. It loaded with default parameters and not with the parameters it used to (`-DSTOP.PORT=8079 -DSTOP.KEY=my_solr_key -Xms500m -Xmx500m`). I need to specify these parameters in the start command (I don&#39;t want to change files in the solr installation folders).\r\n\r\n2. I got the following errors (repeated every few seconds):\r\n\r\n    ```none\r\n    Creating Solr home directory /exlibris/sfx_ver/app/solr-7.1.0/example/cloud/node1/solr\r\n    Cloning /exlibris/sfx_ver/app/solr-7.1.0/example/cloud/node1 into\r\n    /exlibris/sfx_ver/app/solr-7.1.0/example/cloud/node2\r\n\r\n    Starting up Solr on port 8983 using command:\r\n    &quot;bin/solr&quot; start -cloud -p 8983 -s &quot;example/cloud/node1/solr&quot;\r\n    \r\n    Waiting up to 180 seconds to see Solr running on port 8983lsof: unsupported TCP/TPI info selection: C\r\n    lsof: unsupported TCP/TPI info selection: P\r\n    lsof: unsupported TCP/TPI info selection: :\r\n    lsof: unsupported TCP/TPI info selection: L\r\n    lsof: unsupported TCP/TPI info selection: I\r\n    lsof: unsupported TCP/TPI info selection: S\r\n    lsof: unsupported TCP/TPI info selection: T\r\n    lsof: unsupported TCP/TPI info selection: E\r\n    lsof: unsupported TCP/TPI info selection: N\r\n    lsof 4.78\r\n     latest revision: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/\r\n     latest FAQ: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/FAQ\r\n     latest man page: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/lsof_man\r\n     usage: [-?abhlnNoOPRstUvVX] [+|-c c] [+|-d s] [+D D] [+|-f[gG]] [+|-e s]\r\n     [-F [f]] [-g [s]] [-i [i]] [+|-L [l]] [+m [m]] [+|-M] [-o [o]]\r\n     [-p s] [+|-r [t]] [-S [t]] [-T [t]] [-u s] [+|-w] [-x [fl]] [-Z [Z]] [--] [names]\r\n    Use the ``-h&#39;&#39; option to get more help information.\r\n     [\\]  lsof: unsupported TCP/TPI info selection: C\r\n    lsof: unsupported TCP/TPI info selection: P\r\n    lsof: unsupported TCP/TPI info selection: :\r\n    lsof: unsupported TCP/TPI info selection: L\r\n    lsof: unsupported TCP/TPI info selection: I\r\n    lsof: unsupported TCP/TPI info selection: S\r\n    lsof: unsupported TCP/TPI info selection: T\r\n    lsof: unsupported TCP/TPI info selection: E\r\n    lsof: unsupported TCP/TPI info selection: N\r\n    lsof 4.78\r\n    ...\r\n    ...\r\n    ...\r\n    ```","title":"Solr new start command after upgrading from 4.7 to 7.1","body":"<p>I just upgraded our solr from 4.7 to 7.1.\nIn previous version, we start solr with the following command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>nohup java -DSTOP.PORT=8079 -DSTOP.KEY=my_solr_key -Xms500m -Xmx500m -jar start.jar\n</code></pre>\n<p>What is the equivalent command for the new solr version?</p>\n<p>I ran <code>bin/solr start</code> but:</p>\n<ol>\n<li><p>It loaded with default parameters and not with the parameters it used to (<code>-DSTOP.PORT=8079 -DSTOP.KEY=my_solr_key -Xms500m -Xmx500m</code>). I need to specify these parameters in the start command (I don't want to change files in the solr installation folders).</p>\n</li>\n<li><p>I got the following errors (repeated every few seconds):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Creating Solr home directory /exlibris/sfx_ver/app/solr-7.1.0/example/cloud/node1/solr\nCloning /exlibris/sfx_ver/app/solr-7.1.0/example/cloud/node1 into\n/exlibris/sfx_ver/app/solr-7.1.0/example/cloud/node2\n\nStarting up Solr on port 8983 using command:\n&quot;bin/solr&quot; start -cloud -p 8983 -s &quot;example/cloud/node1/solr&quot;\n\nWaiting up to 180 seconds to see Solr running on port 8983lsof: unsupported TCP/TPI info selection: C\nlsof: unsupported TCP/TPI info selection: P\nlsof: unsupported TCP/TPI info selection: :\nlsof: unsupported TCP/TPI info selection: L\nlsof: unsupported TCP/TPI info selection: I\nlsof: unsupported TCP/TPI info selection: S\nlsof: unsupported TCP/TPI info selection: T\nlsof: unsupported TCP/TPI info selection: E\nlsof: unsupported TCP/TPI info selection: N\nlsof 4.78\n latest revision: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/\n latest FAQ: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/FAQ\n latest man page: ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/lsof_man\n usage: [-?abhlnNoOPRstUvVX] [+|-c c] [+|-d s] [+D D] [+|-f[gG]] [+|-e s]\n [-F [f]] [-g [s]] [-i [i]] [+|-L [l]] [+m [m]] [+|-M] [-o [o]]\n [-p s] [+|-r [t]] [-S [t]] [-T [t]] [-u s] [+|-w] [-x [fl]] [-Z [Z]] [--] [names]\nUse the ``-h'' option to get more help information.\n [\\]  lsof: unsupported TCP/TPI info selection: C\nlsof: unsupported TCP/TPI info selection: P\nlsof: unsupported TCP/TPI info selection: :\nlsof: unsupported TCP/TPI info selection: L\nlsof: unsupported TCP/TPI info selection: I\nlsof: unsupported TCP/TPI info selection: S\nlsof: unsupported TCP/TPI info selection: T\nlsof: unsupported TCP/TPI info selection: E\nlsof: unsupported TCP/TPI info selection: N\nlsof 4.78\n...\n...\n...\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","stringbuffer"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1644617112,"post_id":71086996,"comment_id":125663149,"body_markdown":"`String` doesn&#39;t  have a `reverse` method, but `StringBuffer` does.","body":"<code>String</code> doesn&#39;t  have a <code>reverse</code> method, but <code>StringBuffer</code> does."},{"owner":{"account_id":10811702,"reputation":81,"user_id":7952107,"display_name":"Jackson"},"score":0,"creation_date":1644617584,"post_id":71086996,"comment_id":125663273,"body_markdown":"Why not use StringBuilder? It is faster for single-threaded program.","body":"Why not use StringBuilder? It is faster for single-threaded program."},{"owner":{"account_id":14658725,"reputation":488,"user_id":10586599,"display_name":"Amethystx87"},"score":0,"creation_date":1644617653,"post_id":71086996,"comment_id":125663293,"body_markdown":"Depending on the context, could be need of thread safety","body":"Depending on the context, could be need of thread safety"},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":2,"creation_date":1644617884,"post_id":71086996,"comment_id":125663354,"body_markdown":"The real reason that they use String and StringBuffer is that the author never bothered to learn about the Apache StringUtils class,\nwhich provides a reverse method that is null save and does not use a synchronized\nclass (StringBuffer).\n\nYour take away from that code:\nDon&#39;t reinvent the wheel.","body":"The real reason that they use String and StringBuffer is that the author never bothered to learn about the Apache StringUtils class, which provides a reverse method that is null save and does not use a synchronized class (StringBuffer).  Your take away from that code: Don&#39;t reinvent the wheel."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1644621749,"post_id":71086996,"comment_id":125664134,"body_markdown":"Cut and paste programmer?","body":"Cut and paste programmer?"},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1644621803,"post_id":71086996,"comment_id":125664150,"body_markdown":"My first look gives me an instinct of code smell","body":"My first look gives me an instinct of code smell"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1644622492,"post_id":71086996,"comment_id":125664296,"body_markdown":"@Amethystx87 - given `new StringBuffer(...)` - that StringBuffer can&#39;t possibly be used by any other thread, even if this code is being simultaneously executed in multiple threads.","body":"@Amethystx87 - given <code>new StringBuffer(...)</code> - that StringBuffer can&#39;t possibly be used by any other thread, even if this code is being simultaneously executed in multiple threads."},{"owner":{"account_id":11103984,"reputation":145,"user_id":9996617,"display_name":"wangge"},"score":0,"creation_date":1646425929,"post_id":71086996,"comment_id":126128549,"body_markdown":"This is some code from a leetcode question. One solution is this.","body":"This is some code from a leetcode question. One solution is this."}],"answers":[{"tags":[],"owner":{"account_id":14658725,"reputation":488,"user_id":10586599,"display_name":"Amethystx87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644617598,"creation_date":1644617598,"answer_id":71087081,"question_id":71086996,"body_markdown":"`String` has a constructor which takes an array of chars, hence why they create a `new String` first.\r\n\r\nThen to reverse the String, they create a `StringBuffer` to use a built in reverse function in order to not implement their own. `StringBuffer`&#39;s constructor takes a String, hence why a `String` is made first and then a `StringBuffer`","title":"Why the following code use String and StringBuffer in the same line?","body":"<p><code>String</code> has a constructor which takes an array of chars, hence why they create a <code>new String</code> first.</p>\n<p>Then to reverse the String, they create a <code>StringBuffer</code> to use a built in reverse function in order to not implement their own. <code>StringBuffer</code>'s constructor takes a String, hence why a <code>String</code> is made first and then a <code>StringBuffer</code></p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644621369,"creation_date":1644619166,"answer_id":71087273,"question_id":71086996,"body_markdown":"Let&#39;s split the 3 parts on 3 lines to compare:\r\n```\r\nset.add(\r\n  new String(s) \r\n+ (ch == 0 ? &quot;&quot; : ch) \r\n+ new StringBuffer(new String(s)).reverse()\r\n);\r\n```\r\n\r\n### Rewritten\r\nIt is equivalent with\r\n```\r\nString trimZero = ch == 0 ? &quot;&quot; : String.valueOf(ch);\r\nset.add(String.valueOf(s) + trimZero + StringUtils.reverse(s));\r\n```\r\nWell, using Apache&#39;s [`StringUtils.reverse()`][1].\r\n\r\n\r\nIf `s` is a `String` it can simply added as is, for example, in an alternative way (to emphasize the different structures):\r\n```\r\nif (ch == 0) {\r\n   set.add(s + StringUtils.reverse(s));\r\n} else {\r\n   set.add(s + String.valueOf(ch) + StringUtils.reverse(s));\r\n}\r\n```\r\n\r\n### Output wise\r\nFor example: \r\n* `alphabet`  gets added as `alphabet8tebahpla` (for coincidence `ch` is a non-zero integer).\r\n* `an` gets added as `anna` (given that `ch == 0`)\r\n\r\n### Abbreviations and naming-conventions\r\nWhen guessing the types I would say:\r\n* `ch` probably is a primitive `char`, array of that, or `CharSequece`\r\n* `s` most-likely is a `String` (rather than the rarely used `short` integer)\r\n\r\nUsually abbreviations in symbols/names are ambiguous and can be considered a code-smell.\r\n\r\nHowever there seems to be a historical and accepted convention or habit, especially for *temporary / looping variables* like:\r\n* `int i`\r\n* `String s`\r\n* `char ch`\r\n\r\nThe *Java Pocket Guide, 4th Edition by Robert Liguori, Patricia Liguori*, [Chapter 1. Naming Conventions][2] assorted them in a table:\r\n&gt; Temporary variable names may be single letters such as i, j, k, m, and n for integers and c, d, and e for characters. Temporary and looping variables may be one-character names as shown in Table 1-1.\r\n\r\nEven core Java methods have such (ambiguous) abbreviated parameter-names\r\n* if the method-context is obvious enough\r\n* that the contents and purpose of the parameter is self-explaining\r\n\r\nE.g. [`String.contains(CharSequence s)`][3]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#reverse-java.lang.String-\r\n  [2]: https://www.oreilly.com/library/view/java-pocket-guide/9781491938683/ch01.html#temp_loop_vars_table0\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#contains(java.lang.CharSequence)","title":"Why the following code use String and StringBuffer in the same line?","body":"<p>Let's split the 3 parts on 3 lines to compare:</p>\n<pre><code>set.add(\n  new String(s) \n+ (ch == 0 ? &quot;&quot; : ch) \n+ new StringBuffer(new String(s)).reverse()\n);\n</code></pre>\n<h3>Rewritten</h3>\n<p>It is equivalent with</p>\n<pre><code>String trimZero = ch == 0 ? &quot;&quot; : String.valueOf(ch);\nset.add(String.valueOf(s) + trimZero + StringUtils.reverse(s));\n</code></pre>\n<p>Well, using Apache's <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#reverse-java.lang.String-\" rel=\"nofollow noreferrer\"><code>StringUtils.reverse()</code></a>.</p>\n<p>If <code>s</code> is a <code>String</code> it can simply added as is, for example, in an alternative way (to emphasize the different structures):</p>\n<pre><code>if (ch == 0) {\n   set.add(s + StringUtils.reverse(s));\n} else {\n   set.add(s + String.valueOf(ch) + StringUtils.reverse(s));\n}\n</code></pre>\n<h3>Output wise</h3>\n<p>For example:</p>\n<ul>\n<li><code>alphabet</code>  gets added as <code>alphabet8tebahpla</code> (for coincidence <code>ch</code> is a non-zero integer).</li>\n<li><code>an</code> gets added as <code>anna</code> (given that <code>ch == 0</code>)</li>\n</ul>\n<h3>Abbreviations and naming-conventions</h3>\n<p>When guessing the types I would say:</p>\n<ul>\n<li><code>ch</code> probably is a primitive <code>char</code>, array of that, or <code>CharSequece</code></li>\n<li><code>s</code> most-likely is a <code>String</code> (rather than the rarely used <code>short</code> integer)</li>\n</ul>\n<p>Usually abbreviations in symbols/names are ambiguous and can be considered a code-smell.</p>\n<p>However there seems to be a historical and accepted convention or habit, especially for <em>temporary / looping variables</em> like:</p>\n<ul>\n<li><code>int i</code></li>\n<li><code>String s</code></li>\n<li><code>char ch</code></li>\n</ul>\n<p>The <em>Java Pocket Guide, 4th Edition by Robert Liguori, Patricia Liguori</em>, <a href=\"https://www.oreilly.com/library/view/java-pocket-guide/9781491938683/ch01.html#temp_loop_vars_table0\" rel=\"nofollow noreferrer\">Chapter 1. Naming Conventions</a> assorted them in a table:</p>\n<blockquote>\n<p>Temporary variable names may be single letters such as i, j, k, m, and n for integers and c, d, and e for characters. Temporary and looping variables may be one-character names as shown in Table 1-1.</p>\n</blockquote>\n<p>Even core Java methods have such (ambiguous) abbreviated parameter-names</p>\n<ul>\n<li>if the method-context is obvious enough</li>\n<li>that the contents and purpose of the parameter is self-explaining</li>\n</ul>\n<p>E.g. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>String.contains(CharSequence s)</code></a></p>\n"}],"owner":{"account_id":11103984,"reputation":145,"user_id":9996617,"display_name":"wangge"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1644621369,"creation_date":1644616971,"question_id":71086996,"body_markdown":"```\r\nset.add(new String(s) + (ch == 0 ? &quot;&quot; : ch) + new StringBuffer(new String(s)).reverse());\r\n```\r\n\r\nI encountered this code from written by someone. It is java code.\r\n s is a char[]. \r\nset is a String set.\r\nSo why does he use String and then StringBuffer?","title":"Why the following code use String and StringBuffer in the same line?","body":"<pre><code>set.add(new String(s) + (ch == 0 ? &quot;&quot; : ch) + new StringBuffer(new String(s)).reverse());\n</code></pre>\n<p>I encountered this code from written by someone. It is java code.\ns is a char[].\nset is a String set.\nSo why does he use String and then StringBuffer?</p>\n"},{"tags":["java","randomaccessfile"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1644426929,"post_id":71053774,"comment_id":125605774,"body_markdown":"If you have `the previous size of the file` stored somewhere, then in order to read only the new content you can [skip the information that was read previously](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/RandomAccessFile.html#skipBytes(int))","body":"If you have <code>the previous size of the file</code> stored somewhere, then in order to read only the new content you can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/RandomAccessFile.html#skipBytes(int)\" rel=\"nofollow noreferrer\">skip the information that was read previously</a>"},{"owner":{"account_id":24198056,"reputation":1,"user_id":18156255,"display_name":"Jan dzban"},"score":0,"creation_date":1644429081,"post_id":71053774,"comment_id":125606589,"body_markdown":"Can you tell how should I implement this method readFromFile with his skip method","body":"Can you tell how should I implement this method readFromFile with his skip method"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1644453217,"post_id":71053774,"comment_id":125614070,"body_markdown":"Is `size` really the number of bytes, or is it the number of characters?  Is `size` always equal to the number of bytes in the file from `position` to the end of the file?","body":"Is <code>size</code> really the number of bytes, or is it the number of characters?  Is <code>size</code> always equal to the number of bytes in the file from <code>position</code> to the end of the file?"}],"owner":{"account_id":24198056,"reputation":1,"user_id":18156255,"display_name":"Jan dzban"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644620689,"creation_date":1644426316,"question_id":71053774,"body_markdown":"I have to read from file what have been overwritten.\r\nFor example there is file on the disc and size is 75 bytes, then someone add few lines of text and size is 200 bytes. I need to read only this new 125 bytes. I created method for this using RandomAccessFile and it is working fine. I return byte[] bytes then I convert this bytes to String. But what when someone will add 1 GB of text? Is there any way to not read all this bytes to memory, just return new added text? \r\n\r\nThis is my method \r\n\r\n    private byte[] readFromFile(String filePath, int position, int size) throws IOException {\r\n        RandomAccessFile file = new RandomAccessFile(filePath, &quot;r&quot;);\r\n        file.seek(position);\r\n        byte[] bytes = new byte[size];\r\n        file.read(bytes);\r\n        file.close();\r\n        return bytes;\r\n    }\r\n\r\nor any better way to do this. I have only size of file in bytes before modified and using this size I have to get new content after modified. \r\n\r\n","title":"Reading text from file from certain point by bytes","body":"<p>I have to read from file what have been overwritten.\nFor example there is file on the disc and size is 75 bytes, then someone add few lines of text and size is 200 bytes. I need to read only this new 125 bytes. I created method for this using RandomAccessFile and it is working fine. I return byte[] bytes then I convert this bytes to String. But what when someone will add 1 GB of text? Is there any way to not read all this bytes to memory, just return new added text?</p>\n<p>This is my method</p>\n<pre><code>private byte[] readFromFile(String filePath, int position, int size) throws IOException {\n    RandomAccessFile file = new RandomAccessFile(filePath, &quot;r&quot;);\n    file.seek(position);\n    byte[] bytes = new byte[size];\n    file.read(bytes);\n    file.close();\n    return bytes;\n}\n</code></pre>\n<p>or any better way to do this. I have only size of file in bytes before modified and using this size I have to get new content after modified.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-session"],"comments":[{"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"score":0,"creation_date":1583271830,"post_id":60514668,"comment_id":107058567,"body_markdown":"Hi, Vlad. Share please a code snippet. And what kind of additional logic do you want to add?","body":"Hi, Vlad. Share please a code snippet. And what kind of additional logic do you want to add?"},{"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"score":0,"creation_date":1583272448,"post_id":60514668,"comment_id":107058790,"body_markdown":"Spring closes a session when the transaction commits/rollbacks, or even later. Read about transaction management, I think you may try to implement a custom TransactionManager, where you can catch commit and rollback events.","body":"Spring closes a session when the transaction commits/rollbacks, or even later. Read about transaction management, I think you may try to implement a custom TransactionManager, where you can catch commit and rollback events."},{"owner":{"account_id":3860367,"reputation":1,"user_id":3198246,"display_name":"vlad"},"score":0,"creation_date":1583316498,"post_id":60514668,"comment_id":107071832,"body_markdown":"Hi Ilya, thank you for the fast reply. I&#39;m trying to catch when there is explicit logout by the user and when the user session has expired. In both cases I need the sessionId because I need to keep track when the user logged out and why. There is separate table in which I keep track of each session, it acts as some kind of audit.\n\nI was thinking to override deleteById method in SessionRepository and add this part there? Is that possible?","body":"Hi Ilya, thank you for the fast reply. I&#39;m trying to catch when there is explicit logout by the user and when the user session has expired. In both cases I need the sessionId because I need to keep track when the user logged out and why. There is separate table in which I keep track of each session, it acts as some kind of audit.  I was thinking to override deleteById method in SessionRepository and add this part there? Is that possible?"}],"owner":{"account_id":3860367,"reputation":1,"user_id":3198246,"display_name":"vlad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644619201,"creation_date":1583265791,"question_id":60514668,"body_markdown":"Since Spring Session JDBC implementation does not support publishing of session events, how can I catch when the session is destroyed? I need to perform some additional logic when user&#39;s session has ended, but I couldn&#39;t find any other workaround. In the Spring Session docs there isn&#39;t any other solution presented.\r\n\r\n","title":"Spring Session JDBC - How to catch when the session is destroyed?","body":"<p>Since Spring Session JDBC implementation does not support publishing of session events, how can I catch when the session is destroyed? I need to perform some additional logic when user's session has ended, but I couldn't find any other workaround. In the Spring Session docs there isn't any other solution presented.</p>\n"},{"tags":["java","multithreading","sockets","hashmap","server-side"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1644319597,"post_id":71032925,"comment_id":125569620,"body_markdown":"Find the proper scope for the `Map`, or provide methods that do the work of inserting/reading the entries on the `Map` instance. But why do you use inner classes at all?","body":"Find the proper scope for the <code>Map</code>, or provide methods that do the work of inserting/reading the entries on the <code>Map</code> instance. But why do you use inner classes at all?"},{"owner":{"account_id":17251155,"reputation":11,"user_id":12491312,"display_name":"Nour"},"score":0,"creation_date":1644320124,"post_id":71032925,"comment_id":125569814,"body_markdown":"@tquadrat I used an inner class because in my main class I manage the server&#39;s GUI and I extend Application. I tried creating functions that get the HashMap values from inside the run method but nothing seems to work and I don&#39;t know what the problem is","body":"@tquadrat I used an inner class because in my main class I manage the server&#39;s GUI and I extend Application. I tried creating functions that get the HashMap values from inside the run method but nothing seems to work and I don&#39;t know what the problem is"}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644618598,"creation_date":1644617469,"answer_id":71087062,"question_id":71032925,"body_markdown":"&gt; I want to store this object in a HashMap. My problem is, the values inside the map are only accessible inside the run method. I&#39;d like to access the Map values inside the sendMessageToInvitedPlayer function, but the Map is empty inside the function.\r\n\r\nThe problem is not that it is a different function, the problem is that it is a different _thread_.  Whenever you are sharing information between 2 threads you need to worry about memory synchronization and locking.  Threads keep information in local memory for performance reasons so synchronizing the local copy of the `HashMap` with the central JVM memory is required  both when reading and when updating the `Map`.  Also, when you are updating a `Map` (or any shared object) you need to worry that you don&#39;t get a copy of the memory in the middle of an update which can result in all sorts of problems.  For this reason you need appropriate locking.\r\n\r\n `HashMap` is not a synchronized class so updates made by thread executing the `run()` method won&#39;t necessarily be seen by another thread calling `sendMessageToInvitedPlayer(...)`.  You can use a `ConcurrentHashMap` which is a reentrant class designed to share information between multiple threads.\r\n\r\nMore generally, sharing information between threads can be very complex and shouldn&#39;t be done lightly.  here&#39;s a tutorial about [sharing data between threads in Java][1].\r\n\r\n  [1]: https://medium.com/@jgwest/concurrency-pattern-keep-your-java-objects-safe-from-multithreaded-meddlers-1065bbd2a27d","title":"How to access HashMap values outside run method?","body":"<blockquote>\n<p>I want to store this object in a HashMap. My problem is, the values inside the map are only accessible inside the run method. I'd like to access the Map values inside the sendMessageToInvitedPlayer function, but the Map is empty inside the function.</p>\n</blockquote>\n<p>The problem is not that it is a different function, the problem is that it is a different <em>thread</em>.  Whenever you are sharing information between 2 threads you need to worry about memory synchronization and locking.  Threads keep information in local memory for performance reasons so synchronizing the local copy of the <code>HashMap</code> with the central JVM memory is required  both when reading and when updating the <code>Map</code>.  Also, when you are updating a <code>Map</code> (or any shared object) you need to worry that you don't get a copy of the memory in the middle of an update which can result in all sorts of problems.  For this reason you need appropriate locking.</p>\n<p><code>HashMap</code> is not a synchronized class so updates made by thread executing the <code>run()</code> method won't necessarily be seen by another thread calling <code>sendMessageToInvitedPlayer(...)</code>.  You can use a <code>ConcurrentHashMap</code> which is a reentrant class designed to share information between multiple threads.</p>\n<p>More generally, sharing information between threads can be very complex and shouldn't be done lightly.  here's a tutorial about <a href=\"https://medium.com/@jgwest/concurrency-pattern-keep-your-java-objects-safe-from-multithreaded-meddlers-1065bbd2a27d\" rel=\"nofollow noreferrer\">sharing data between threads in Java</a>.</p>\n"}],"owner":{"account_id":17251155,"reputation":11,"user_id":12491312,"display_name":"Nour"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644618598,"creation_date":1644318807,"question_id":71032925,"body_markdown":"I have a static inner class `mainThreadForPlayers` in my server project. Inside the run method, I want to create an object for each client, containing the client&#39;s username, socket, and his IP address. Moreover, I want to store this object in a HashMap. My problem is, the values inside the map are only accessible inside the run method. I&#39;d like to access the Map values inside the `sendMessageToInvitedPlayer` function, but the Map is empty inside the function.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npublic static class mainThreadForPlayers extends Thread {\r\n       DatabaseConnection data = new DatabaseConnection();\r\n       static HashMap&lt;String, Clients&gt; allUsersInfo;\r\n     \r\n       static{\r\n         allUsersInfo = new HashMap&lt;String, Clients&gt;();\r\n       }\r\n       ServerSocket serverSocket;\r\n       boolean accepted = false;\r\n       boolean x = true;\r\n     \r\n       public void run(){\r\n          try{\r\n            \r\n                   serverSocket = new ServerSocket(8000);\r\n            \r\n                   while(x){\r\n                       Socket player1 = serverSocket.accept();\r\n                       InetSocketAddress socketAddress = (InetSocketAddress) player1.getRemoteSocketAddress();\r\n                       String clientIpAddress = socketAddress.getAddress().getHostAddress();\r\n                       try{\r\n                         Thread.sleep(15000);\r\n                       }catch(Exception e){}\r\n                       String username = data.getLastInserted();\r\n                       Clients client = new Clients(username, player1, clientIpAddress);\r\n                       InsertIntoMap(username, client);\r\n\r\n                    }\r\n                  \r\n               }\r\n               catch(IOException ex){ex.printStackTrace();}\r\n        }\r\n\r\n      public static void InsertIntoMap(String username, Clients client){\r\n           \r\n           if(allUsersInfo.containsKey(username)){\r\n                return;\r\n           }else{\r\n                                \r\n                                allUsersInfo.put(username, client);}\r\n                                for (String name: allUsersInfo.keySet()) {\r\n                                String key = name;\r\n                                String value = allUsersInfo.get(name).toString();\r\n                                System.out.println(key + &quot; &quot; + value);\r\n             }\r\n        \r\n    }\r\n\r\n      public void sendMessageToInvitedPlayer(String from_user, String to_user) throws IOException{\r\n \r\n              if(allUsersInfo.isEmpty()){\r\n                  System.out.println(&quot;Hello from server empty&quot;);\r\n              }\r\n              else{\r\n                  System.out.println(&quot;Hello from server NOT empty&quot;);\r\n\r\n              }\r\n          \r\n           }  \r\n        \r\n    \r\n}\r\n  \r\n\r\n```","title":"How to access HashMap values outside run method?","body":"<p>I have a static inner class <code>mainThreadForPlayers</code> in my server project. Inside the run method, I want to create an object for each client, containing the client's username, socket, and his IP address. Moreover, I want to store this object in a HashMap. My problem is, the values inside the map are only accessible inside the run method. I'd like to access the Map values inside the <code>sendMessageToInvitedPlayer</code> function, but the Map is empty inside the function.</p>\n<p>Here's my code:</p>\n<pre><code>public static class mainThreadForPlayers extends Thread {\n       DatabaseConnection data = new DatabaseConnection();\n       static HashMap&lt;String, Clients&gt; allUsersInfo;\n     \n       static{\n         allUsersInfo = new HashMap&lt;String, Clients&gt;();\n       }\n       ServerSocket serverSocket;\n       boolean accepted = false;\n       boolean x = true;\n     \n       public void run(){\n          try{\n            \n                   serverSocket = new ServerSocket(8000);\n            \n                   while(x){\n                       Socket player1 = serverSocket.accept();\n                       InetSocketAddress socketAddress = (InetSocketAddress) player1.getRemoteSocketAddress();\n                       String clientIpAddress = socketAddress.getAddress().getHostAddress();\n                       try{\n                         Thread.sleep(15000);\n                       }catch(Exception e){}\n                       String username = data.getLastInserted();\n                       Clients client = new Clients(username, player1, clientIpAddress);\n                       InsertIntoMap(username, client);\n\n                    }\n                  \n               }\n               catch(IOException ex){ex.printStackTrace();}\n        }\n\n      public static void InsertIntoMap(String username, Clients client){\n           \n           if(allUsersInfo.containsKey(username)){\n                return;\n           }else{\n                                \n                                allUsersInfo.put(username, client);}\n                                for (String name: allUsersInfo.keySet()) {\n                                String key = name;\n                                String value = allUsersInfo.get(name).toString();\n                                System.out.println(key + &quot; &quot; + value);\n             }\n        \n    }\n\n      public void sendMessageToInvitedPlayer(String from_user, String to_user) throws IOException{\n \n              if(allUsersInfo.isEmpty()){\n                  System.out.println(&quot;Hello from server empty&quot;);\n              }\n              else{\n                  System.out.println(&quot;Hello from server NOT empty&quot;);\n\n              }\n          \n           }  \n        \n    \n}\n  \n\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":23013928,"reputation":5,"user_id":17136025,"display_name":"Itzzmates"},"score":0,"creation_date":1644516767,"post_id":71070226,"comment_id":125634062,"body_markdown":"i mean show not shot","body":"i mean show not shot"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1644517582,"post_id":71070226,"comment_id":125634381,"body_markdown":"If you want to fix a typo you can (and should) just edit your question.","body":"If you want to fix a typo you can (and should) just edit your question."}],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644618239,"creation_date":1644618239,"answer_id":71087159,"question_id":71070226,"body_markdown":"The only suggestable solution is to either make the text shorter or to try to fix it yourself. This is not a place where you can just post your code and expect someone to fix the issue. Maybe you should try learning java before coding a client. (And maybe not a hack client tbh)","title":"minecraft clickgui is broken","body":"<p>The only suggestable solution is to either make the text shorter or to try to fix it yourself. This is not a place where you can just post your code and expect someone to fix the issue. Maybe you should try learning java before coding a client. (And maybe not a hack client tbh)</p>\n"}],"owner":{"account_id":23013928,"reputation":5,"user_id":17136025,"display_name":"Itzzmates"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1644618239,"creation_date":1644516722,"question_id":71070226,"body_markdown":"so i was following the tutorial but it bugs\\\r\nthe tutorial: https://www.youtube.com/watch?v=clonDGFq49Y\\\r\nThe bug:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wyZVH.png\r\nThe bug is when i want to have long name in the hack it disappears\\\r\nPlease help\\\r\ni will shot the code:\\\r\n```java\r\npackage sonikhack.render;\r\n\r\nimport java.io.IOException;\r\n\r\nimport net.minecraft.client.gui.GuiButton;\r\nimport net.minecraft.client.gui.GuiScreen;\r\nimport sonikhack.Client;\r\nimport sonikhack.module.Module;\r\nimport sonikhack.module.Category;\r\n\r\npublic class ClickGui extends GuiScreen{\r\n\r\n\t\r\n\t@Override\r\n\tpublic void drawScreen(int mouseX, int mouseY, float partialTicks) {\r\n\t\tdrawDefaultBackground();\r\n\t\tdrawRect(150, 2, 220, 14, 0xffff6052);\r\n\t\tmc.fontRendererObj.drawString(&quot;Combat&quot;, 152, 4, 0xffffffff);\r\n\t\tdrawRect(250, 2, 322, 14, 0xffff6052);\r\n\t\tmc.fontRendererObj.drawString(&quot;Movement&quot;, 252, 4, 0xffffffff);\r\n\t\tdrawRect(350, 2, 432, 14, 0xffff6052);\r\n\t\tmc.fontRendererObj.drawString(&quot;Render&quot;, 352, 4, 0xffffffff);\r\n\t\tdrawRect(450, 2, 506, 14, 0xffff6052);\r\n\t\tmc.fontRendererObj.drawString(&quot;Misc&quot;, 452, 4, 0xffffffff);\r\n\t\tsuper.drawScreen(mouseX, mouseY, partialTicks);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean doesGuiPauseGame() {\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t\r\n\tpublic int placeForHackY(Module m) {\r\n\t\t\r\n\t\tif(m.getCategory().equals(Category.COMBAT)) return Category.placeInListCombat(m) * 14;\r\n\t\tif(m.getCategory().equals(Category.MOVEMENT)) return Category.placeInListMovement(m) * 14;\r\n\t\tif(m.getCategory().equals(Category.RENDER)) return Category.placeInListRender(m) * 14;\r\n\t\tif(m.getCategory().equals(Category.MISC)) return Category.placeInListMisc(m) * 14;\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\tpublic int placeForHackX(Module m) {\r\n\t\t\r\n\t\tif(m.getCategory().equals(Category.COMBAT)) return 150;\r\n\t\tif(m.getCategory().equals(Category.MOVEMENT)) return 250;\r\n\t\tif(m.getCategory().equals(Category.RENDER)) return 350;\r\n\t\tif(m.getCategory().equals(Category.MISC)) return 450;\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n \t\r\n\tpublic void initGui() {\r\n\t\t\tfor(int i = 1; i &lt; Client.modules.size(); i++) {\r\n\t\t\t\tModule m = Client.modules.get(i);\r\n\t\t\t\tbuttonList.add(new GuiButton(i, placeForHackX(m), placeForHackY(m), 25 + (m.getName().length() * 3) + m.getName().length(), 14, m.getName()));\r\n\t\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void actionPerformed(GuiButton button) throws IOException {\r\n\t\tfor(int i= 1; i &lt; Client.modules.size(); i++) {\r\n\t\t\tif(button.id == i) {\r\n\t\t\t\tClient.getModules().get(i).toggle();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThis is the clickgui\\\r\nnow category:\r\n```java\r\npackage sonikhack.module;\r\n\r\nimport sonikhack.Client;\r\n\r\n\tpublic enum Category {\r\n\t    COMBAT(&quot;Combat&quot;),\r\n\t    MOVEMENT(&quot;Movement&quot;),\r\n\t    RENDER(&quot;Render&quot;),\r\n\t    MISC(&quot;Misc&quot;);\r\n\t\r\n\t    public String name;\r\n\t    public int moduleIndex;\r\n\t\r\n\t    Category(String name) {\r\n\t        this.name = name;\r\n\t    }\r\n\r\n\r\n\tpublic static int size(Category cat) {\r\n\t\t\r\n\t\tint i = 0;\r\n\t\t\r\n\t\t\r\n\t\tfor(Module m : Client.getModules()) {\r\n\t\t\tif(m.getCategory().equals(cat)) {\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tpublic static int placeInListRender(Module m) {\r\n\t\t\r\n\t\t\r\n\t\tint i = 0;\r\n\t\t\r\n\t\tfor(Module mod : Client.getModules()) {\r\n\t\t\tif(mod.getCategory().equals(RENDER) &amp;&amp; !mod.equals(m)) {\r\n\t\t\t\ti++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(mod.getCategory().equals(RENDER) &amp;&amp; mod.equals(m)) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n\tpublic static int placeInListMovement(Module m) {\r\n\t\t\r\n\t\t\r\n\t\tint i = 1;\r\n\t\t\r\n\t\tfor(Module mod : Client.getModules()) {\r\n\t\t\tif(mod.getCategory().equals(MOVEMENT) &amp;&amp; !mod.equals(m)) {\r\n\t\t\t\ti++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(mod.getCategory().equals(MOVEMENT) &amp;&amp; mod.equals(m)) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n\tpublic static int placeInListCombat(Module m) {\r\n\t\r\n\t\r\n\tint i = 1;\r\n\t\r\n\tfor(Module mod : Client.getModules()) {\r\n\t\tif(mod.getCategory().equals(COMBAT) &amp;&amp; !mod.equals(m)) {\r\n\t\t\ti++;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\r\n\t\tif(mod.getCategory().equals(COMBAT) &amp;&amp; mod.equals(m)) {\r\n\t\t\treturn i;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\treturn 0;\r\n}\r\n\tpublic static int placeInListMisc(Module m) {\r\n\t\r\n\t\r\n\tint i = 1;\r\n\t\r\n\tfor(Module mod : Client.getModules()) {\r\n\t\tif(mod.getCategory().equals(MISC) &amp;&amp; !mod.equals(m)) {\r\n\t\t\ti++;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\r\n\t\tif(mod.getCategory().equals(MISC) &amp;&amp; mod.equals(m)) {\r\n\t\t\treturn i;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\treturn 0;\r\n}\r\n\t\r\n}\r\n```\r\nAnd the gui:\r\n```java\r\npackage sonikhack.render;\r\n\r\nimport org.lwjgl.input.Keyboard;\r\n\r\nimport sonikhack.module.Category;\r\nimport sonikhack.module.Module;\r\n\r\npublic class Gui extends Module{\r\n\r\n\tpublic Gui() {\r\n\t\tsuper(&quot;ClickGui&quot;, Keyboard.KEY_RSHIFT, Category.RENDER);\r\n\t}\r\n\t\r\n\tpublic void onEnable() {\r\n\t\tmc.displayGuiScreen(new ClickGui());\r\n\t\ttoggle();\r\n\t}\r\n\r\n}\r\n```\r\n","title":"minecraft clickgui is broken","body":"<p>so i was following the tutorial but it bugs<br />\nthe tutorial: <a href=\"https://www.youtube.com/watch?v=clonDGFq49Y%5C\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=clonDGFq49Y\\</a>\nThe bug:\n<a href=\"https://i.stack.imgur.com/wyZVH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wyZVH.png\" alt=\"enter image description here\" /></a></p>\n<p>The bug is when i want to have long name in the hack it disappears<br />\nPlease help<br />\ni will shot the code:\\</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sonikhack.render;\n\nimport java.io.IOException;\n\nimport net.minecraft.client.gui.GuiButton;\nimport net.minecraft.client.gui.GuiScreen;\nimport sonikhack.Client;\nimport sonikhack.module.Module;\nimport sonikhack.module.Category;\n\npublic class ClickGui extends GuiScreen{\n\n    \n    @Override\n    public void drawScreen(int mouseX, int mouseY, float partialTicks) {\n        drawDefaultBackground();\n        drawRect(150, 2, 220, 14, 0xffff6052);\n        mc.fontRendererObj.drawString(&quot;Combat&quot;, 152, 4, 0xffffffff);\n        drawRect(250, 2, 322, 14, 0xffff6052);\n        mc.fontRendererObj.drawString(&quot;Movement&quot;, 252, 4, 0xffffffff);\n        drawRect(350, 2, 432, 14, 0xffff6052);\n        mc.fontRendererObj.drawString(&quot;Render&quot;, 352, 4, 0xffffffff);\n        drawRect(450, 2, 506, 14, 0xffff6052);\n        mc.fontRendererObj.drawString(&quot;Misc&quot;, 452, 4, 0xffffffff);\n        super.drawScreen(mouseX, mouseY, partialTicks);\n    }\n    \n    @Override\n    public boolean doesGuiPauseGame() {\n        return false;\n    }\n    \n    \n    public int placeForHackY(Module m) {\n        \n        if(m.getCategory().equals(Category.COMBAT)) return Category.placeInListCombat(m) * 14;\n        if(m.getCategory().equals(Category.MOVEMENT)) return Category.placeInListMovement(m) * 14;\n        if(m.getCategory().equals(Category.RENDER)) return Category.placeInListRender(m) * 14;\n        if(m.getCategory().equals(Category.MISC)) return Category.placeInListMisc(m) * 14;\n        \n        return 0;\n    }\n    \n    public int placeForHackX(Module m) {\n        \n        if(m.getCategory().equals(Category.COMBAT)) return 150;\n        if(m.getCategory().equals(Category.MOVEMENT)) return 250;\n        if(m.getCategory().equals(Category.RENDER)) return 350;\n        if(m.getCategory().equals(Category.MISC)) return 450;\n        \n        return 0;\n    }\n    \n    public void initGui() {\n            for(int i = 1; i &lt; Client.modules.size(); i++) {\n                Module m = Client.modules.get(i);\n                buttonList.add(new GuiButton(i, placeForHackX(m), placeForHackY(m), 25 + (m.getName().length() * 3) + m.getName().length(), 14, m.getName()));\n            }\n    }\n    \n    @Override\n    protected void actionPerformed(GuiButton button) throws IOException {\n        for(int i= 1; i &lt; Client.modules.size(); i++) {\n            if(button.id == i) {\n                Client.getModules().get(i).toggle();\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is the clickgui<br />\nnow category:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sonikhack.module;\n\nimport sonikhack.Client;\n\n    public enum Category {\n        COMBAT(&quot;Combat&quot;),\n        MOVEMENT(&quot;Movement&quot;),\n        RENDER(&quot;Render&quot;),\n        MISC(&quot;Misc&quot;);\n    \n        public String name;\n        public int moduleIndex;\n    \n        Category(String name) {\n            this.name = name;\n        }\n\n\n    public static int size(Category cat) {\n        \n        int i = 0;\n        \n        \n        for(Module m : Client.getModules()) {\n            if(m.getCategory().equals(cat)) {\n                i++;\n            }\n        }\n        \n        return 0;\n    }\n\n    public static int placeInListRender(Module m) {\n        \n        \n        int i = 0;\n        \n        for(Module mod : Client.getModules()) {\n            if(mod.getCategory().equals(RENDER) &amp;&amp; !mod.equals(m)) {\n                i++;\n                continue;\n            }\n            \n            if(mod.getCategory().equals(RENDER) &amp;&amp; mod.equals(m)) {\n                return i;\n            }\n            \n        }\n        \n        return 0;\n    }\n    public static int placeInListMovement(Module m) {\n        \n        \n        int i = 1;\n        \n        for(Module mod : Client.getModules()) {\n            if(mod.getCategory().equals(MOVEMENT) &amp;&amp; !mod.equals(m)) {\n                i++;\n                continue;\n            }\n            \n            if(mod.getCategory().equals(MOVEMENT) &amp;&amp; mod.equals(m)) {\n                return i;\n            }\n            \n        }\n        \n        return 0;\n    }\n    public static int placeInListCombat(Module m) {\n    \n    \n    int i = 1;\n    \n    for(Module mod : Client.getModules()) {\n        if(mod.getCategory().equals(COMBAT) &amp;&amp; !mod.equals(m)) {\n            i++;\n            continue;\n        }\n        \n        if(mod.getCategory().equals(COMBAT) &amp;&amp; mod.equals(m)) {\n            return i;\n        }\n        \n    }\n    \n    return 0;\n}\n    public static int placeInListMisc(Module m) {\n    \n    \n    int i = 1;\n    \n    for(Module mod : Client.getModules()) {\n        if(mod.getCategory().equals(MISC) &amp;&amp; !mod.equals(m)) {\n            i++;\n            continue;\n        }\n        \n        if(mod.getCategory().equals(MISC) &amp;&amp; mod.equals(m)) {\n            return i;\n        }\n        \n    }\n    \n    return 0;\n}\n    \n}\n</code></pre>\n<p>And the gui:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sonikhack.render;\n\nimport org.lwjgl.input.Keyboard;\n\nimport sonikhack.module.Category;\nimport sonikhack.module.Module;\n\npublic class Gui extends Module{\n\n    public Gui() {\n        super(&quot;ClickGui&quot;, Keyboard.KEY_RSHIFT, Category.RENDER);\n    }\n    \n    public void onEnable() {\n        mc.displayGuiScreen(new ClickGui());\n        toggle();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1497222960,"post_id":44489471,"comment_id":75973254,"body_markdown":"Paste logs, POMs, etc., in the question itself.","body":"Paste logs, POMs, etc., in the question itself."},{"owner":{"account_id":7826615,"reputation":223,"user_id":5917957,"accept_rate":80,"display_name":"Doomed Mind"},"score":0,"creation_date":1497245263,"post_id":44489471,"comment_id":75977568,"body_markdown":"Now,  why is my question being voted down?","body":"Now,  why is my question being voted down?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1497248613,"post_id":44489471,"comment_id":75978770,"body_markdown":"Please don&#39;t let people click links to get a full picture. Add it to your question. Also I doubt that what you say is your pom is your actual pom file. Please add your **actual** pom file and not the **effective** pom.xml.","body":"Please don&#39;t let people click links to get a full picture. Add it to your question. Also I doubt that what you say is your pom is your actual pom file. Please add your <b>actual</b> pom file and not the <b>effective</b> pom.xml."},{"owner":{"account_id":7826615,"reputation":223,"user_id":5917957,"accept_rate":80,"display_name":"Doomed Mind"},"score":0,"creation_date":1497255100,"post_id":44489471,"comment_id":75982152,"body_markdown":"@M.Deinum I have addressed your feedback. However, I cannot post the whole log with spring debug on, as it exceeds the character limitations.","body":"@M.Deinum I have addressed your feedback. However, I cannot post the whole log with spring debug on, as it exceeds the character limitations."},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1497268661,"post_id":44489471,"comment_id":75990783,"body_markdown":"Am not seeing `@Query` annotation containg named query on  `Player findByUserAccount(String useraccount);` method in `PlayerRepository` interface. okay to have such abstract methods?","body":"Am not seeing <code>@Query</code> annotation containg named query on  <code>Player findByUserAccount(String useraccount);</code> method in <code>PlayerRepository</code> interface. okay to have such abstract methods?"},{"owner":{"account_id":7826615,"reputation":223,"user_id":5917957,"accept_rate":80,"display_name":"Doomed Mind"},"score":1,"creation_date":1497268767,"post_id":44489471,"comment_id":75990863,"body_markdown":"@harshavmb for JpaRepositories you can define the query by a specific syntax in the method name, look here http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","body":"@harshavmb for JpaRepositories you can define the query by a specific syntax in the method name, look here <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1497269000,"post_id":44489471,"comment_id":75991014,"body_markdown":"oh.. great. Thanks! Just to be sure double check whether it is `findByUserAccount` or `findByUseraccount`. Thanks for sharing the doc. wasn&#39;t aware of such functionality!","body":"oh.. great. Thanks! Just to be sure double check whether it is <code>findByUserAccount</code> or <code>findByUseraccount</code>. Thanks for sharing the doc. wasn&#39;t aware of such functionality!"},{"owner":{"account_id":7826615,"reputation":223,"user_id":5917957,"accept_rate":80,"display_name":"Doomed Mind"},"score":0,"creation_date":1497269837,"post_id":44489471,"comment_id":75991593,"body_markdown":"@harshavmb It is, but if there was no such property, the compiler would have thrown an appropriate exception telling me this.","body":"@harshavmb It is, but if there was no such property, the compiler would have thrown an appropriate exception telling me this."}],"answers":[{"tags":[],"owner":{"account_id":7826615,"reputation":223,"user_id":5917957,"accept_rate":80,"display_name":"Doomed Mind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1498813218,"creation_date":1498813218,"answer_id":44842584,"question_id":44489471,"body_markdown":"Apparently, somewhere in the project structure, there was a different version of the repository, and a different version of the player.\r\n\r\nWhile usually I would expect Spring to produce an error telling me that there are multiple services with the same type description, I suspect due to both player and playerRepository being duplicates, this mechanism did not produce the expected error method, but instead told me that there is *no* service of that name at all.","title":"Spring Boot doesn&#39;t seem to find Repository","body":"<p>Apparently, somewhere in the project structure, there was a different version of the repository, and a different version of the player.</p>\n\n<p>While usually I would expect Spring to produce an error telling me that there are multiple services with the same type description, I suspect due to both player and playerRepository being duplicates, this mechanism did not produce the expected error method, but instead told me that there is <em>no</em> service of that name at all.</p>\n"},{"tags":[],"owner":{"account_id":1728044,"reputation":412,"user_id":1582284,"accept_rate":80,"display_name":"Igor Donin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543254356,"creation_date":1543254356,"answer_id":53486459,"question_id":44489471,"body_markdown":"My issue was similar: I had more than one ORM class and more than one repository for the same entity, and that prevented the Application from running properly.","title":"Spring Boot doesn&#39;t seem to find Repository","body":"<p>My issue was similar: I had more than one ORM class and more than one repository for the same entity, and that prevented the Application from running properly.</p>\n"},{"tags":[],"owner":{"account_id":19025169,"reputation":31,"user_id":13888401,"display_name":"Zohra Hlimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644617102,"creation_date":1644617102,"answer_id":71087020,"question_id":44489471,"body_markdown":"I had the same issue, I had repositories for both mongo and mysql database. so I was using spring data jdbc for mysql database and spring data mongodb for mongoDB. spring could not find jdbc repositories because when there is more then one datasource spring enters strict repository mode and if your entities are not properly annotated spring wont be able to identify the repos. \r\nfor example if you are using JPA, annotate your entities with @Entity. \r\nsprinf-data-jdbc --&gt; @Table, spring-data-mongodb --&gt; @Document. ","title":"Spring Boot doesn&#39;t seem to find Repository","body":"<p>I had the same issue, I had repositories for both mongo and mysql database. so I was using spring data jdbc for mysql database and spring data mongodb for mongoDB. spring could not find jdbc repositories because when there is more then one datasource spring enters strict repository mode and if your entities are not properly annotated spring wont be able to identify the repos.\nfor example if you are using JPA, annotate your entities with @Entity.\nsprinf-data-jdbc --&gt; @Table, spring-data-mongodb --&gt; @Document.</p>\n"}],"owner":{"account_id":7826615,"reputation":223,"user_id":5917957,"accept_rate":80,"display_name":"Doomed Mind"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15777,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":44842584,"answer_count":3,"score":5,"last_activity_date":1644617102,"creation_date":1497221612,"question_id":44489471,"body_markdown":"I&#39;m not sure what&#39;s wrong with my configuration, but as far as I can see it should be correct, despite that spring announces that there is no such bean definition. I veryfied these points:\r\n\r\n - The configuration class is in the root package of everything else\r\n - The repository extends JpaRepository, thus needs no annotation\r\n - The player object is annotated with &quot;@Entity&quot;\r\n - The pojo for this repository is completely mapped in terms of annotations\r\n - No non-java configuration files present\r\n - The database is set up and the correct credentials are used.\r\n - Jpa/hibernate is set to &quot;Create-Update&quot; for development purposes.\r\n\r\n\r\nHere&#39;s my complete debug log:\r\n[spring startup log pastebin][1]\r\n\r\nlog without debug flag:\r\n\r\n    2017-06-12 09:34:36.395  INFO 12880 --- [  restartedMain] \r\n    d.a.c.newworlds.NewWorldsApplication     : No active profile set, falling back to default profiles: default\r\n    2017-06-12 09:34:36.727  INFO 12880 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@10057b9b: startup date [Mon Jun 12 09:34:36 CEST 2017]; root of context hierarchy\r\n    2017-06-12 09:34:38.090  INFO 12880 --- [  restartedMain] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;playerRepository&#39; with a different definition: replacing [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]\r\n    2017-06-12 09:34:38.107  INFO 12880 --- [  restartedMain] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;userAccountRepository&#39; with a different definition: replacing [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]\r\n    2017-06-12 09:34:38.115  INFO 12880 --- [  restartedMain] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;organizationRepository&#39; with a different definition: replacing [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]\r\n    2017-06-12 09:34:38.612  INFO 12880 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration&#39; of type [class org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2017-06-12 09:34:38.664  INFO 12880 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;validator&#39; of type [class org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2017-06-12 09:34:38.701  INFO 12880 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [class org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$93eeb181] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2017-06-12 09:34:39.009  INFO 12880 --- [  restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n    2017-06-12 09:34:39.019  INFO 12880 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n    2017-06-12 09:34:39.020  INFO 12880 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11\r\n    2017-06-12 09:34:39.243  INFO 12880 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2017-06-12 09:34:39.243  INFO 12880 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2521 ms\r\n    2017-06-12 09:34:39.635  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2017-06-12 09:34:39.635  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2017-06-12 09:34:39.636  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2017-06-12 09:34:39.636  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2017-06-12 09:34:39.637  INFO 12880 --- [ost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: &#39;springSecurityFilterChain&#39; to: [/*]\r\n    2017-06-12 09:34:39.637  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n    2017-06-12 09:34:40.130  INFO 12880 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2017-06-12 09:34:40.156  INFO 12880 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n\tname: default\r\n\t...]\r\n    2017-06-12 09:34:40.266  INFO 12880 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.11.Final}\r\n    2017-06-12 09:34:40.267  INFO 12880 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2017-06-12 09:34:40.271  INFO 12880 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist\r\n    2017-06-12 09:34:40.324  INFO 12880 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n    2017-06-12 09:34:40.890  INFO 12880 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    2017-06-12 09:34:41.031  WARN 12880 --- [  restartedMain] org.hibernate.cfg.AnnotationBinder       : HHH000138: Mixing inheritance strategy in a entity hierarchy is not allowed, ignoring sub strategy in: de.awesome.corporate.newworlds.core.planets.entity.AbstractPlanetoid\r\n    2017-06-12 09:34:41.186  WARN 12880 --- [  restartedMain] o.h.b.i.SessionFactoryBuilderImpl        : Unrecognized hbm2ddl_auto value : create-update.  Supported values include create, create-drop, update, and validate.  Ignoring\r\n    2017-06-12 09:34:41.604  INFO 12880 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2017-06-12 09:34:41.930  WARN 12880 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;playerRegistrationController&#39;: Unsatisfied dependency expressed through field &#39;registrationService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;registrationService&#39;: Unsatisfied dependency expressed through field &#39;playerRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;de.awesome.corporate.newworlds.core.usermanagement.repository.PlayerRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    2017-06-12 09:34:41.931  INFO 12880 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2017-06-12 09:34:41.944  INFO 12880 --- [  restartedMain] utoConfigurationReportLoggingInitializer : \r\n    \r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2017-06-12 09:34:42.090 ERROR 12880 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Field playerRepository in de.awesome.corporate.newworlds.core.usermanagement.service.RegistrationService required a bean of type &#39;de.awesome.corporate.newworlds.core.usermanagement.repository.PlayerRepository&#39; that could not be found.\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type &#39;de.awesome.corporate.newworlds.core.usermanagement.repository.PlayerRepository&#39; in your configuration.\r\n\r\n\r\n\r\nMy SpringBootApplication: \r\n\r\n    package de.awesome.corporate.newworlds;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n    @SpringBootApplication\r\n    public class NewWorldsApplication {\r\n\r\n\t public static void main(String[] args) {\r\n\t\tSpringApplication.run(NewWorldsApplication.class, args);\r\n\t }\r\n    }\r\n\r\nMy PlayerRepository:\r\n\r\n    package de.awesome.corporate.newworlds.core.usermanagement.repository;\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n    import de.awesome.corporate.newworlds.core.usermanagement.entity.Player;\r\n\r\n    public interface PlayerRepository extends JpaRepository&lt;Player, String&gt;{\r\n\t\r\n\t    Player findByUserAccount(String useraccount);\r\n\t\r\n    }\r\n\r\nThe calling Service:\r\n\r\n    package de.awesome.corporate.newworlds.core.usermanagement.service;\r\n    @Service\r\n    public class RegistrationService {\r\n\t\r\n\t    @Autowired\r\n\t    private PlayerRepository playerRepository;\r\n\t\r\n\t    @Autowired\r\n\t    private UserAccountRepository userRepository;\r\n\t\r\n\t    @Autowired\r\n\t    private OrganizationCreationService organizationCreationService;\r\n\t\r\n\t    @Autowired\r\n\t    private BCryptPasswordEncoder passwordEncoder;\r\n    }\r\n\r\nPOM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;de.awesome.corporate.newworlds&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;New-Worlds&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;new-worlds&lt;/name&gt;\r\n\t&lt;description&gt;Text-based Management Game&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nEDIT: It seems that, after removing spring-data-jpa-starter from the pom, and then reinsert it, that it also has problems now autowiring the password encorder.\r\nIs there a general problem with the way spring does the autowiring?\r\n\r\n  [1]: https://pastebin.com/MDT5nQ6s\r\n  [2]: https://pastebin.com/D8Pvu8WL","title":"Spring Boot doesn&#39;t seem to find Repository","body":"<p>I'm not sure what's wrong with my configuration, but as far as I can see it should be correct, despite that spring announces that there is no such bean definition. I veryfied these points:</p>\n\n<ul>\n<li>The configuration class is in the root package of everything else</li>\n<li>The repository extends JpaRepository, thus needs no annotation</li>\n<li>The player object is annotated with \"@Entity\"</li>\n<li>The pojo for this repository is completely mapped in terms of annotations</li>\n<li>No non-java configuration files present</li>\n<li>The database is set up and the correct credentials are used.</li>\n<li>Jpa/hibernate is set to \"Create-Update\" for development purposes.</li>\n</ul>\n\n<p>Here's my complete debug log:\n<a href=\"https://pastebin.com/MDT5nQ6s\" rel=\"nofollow noreferrer\">spring startup log pastebin</a></p>\n\n<p>log without debug flag:</p>\n\n<pre><code>2017-06-12 09:34:36.395  INFO 12880 --- [  restartedMain] \nd.a.c.newworlds.NewWorldsApplication     : No active profile set, falling back to default profiles: default\n2017-06-12 09:34:36.727  INFO 12880 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@10057b9b: startup date [Mon Jun 12 09:34:36 CEST 2017]; root of context hierarchy\n2017-06-12 09:34:38.090  INFO 12880 --- [  restartedMain] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'playerRepository' with a different definition: replacing [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]\n2017-06-12 09:34:38.107  INFO 12880 --- [  restartedMain] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'userAccountRepository' with a different definition: replacing [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]\n2017-06-12 09:34:38.115  INFO 12880 --- [  restartedMain] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'organizationRepository' with a different definition: replacing [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Root bean: class [org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]\n2017-06-12 09:34:38.612  INFO 12880 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration' of type [class org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2017-06-12 09:34:38.664  INFO 12880 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'validator' of type [class org.springframework.validation.beanvalidation.LocalValidatorFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2017-06-12 09:34:38.701  INFO 12880 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [class org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$93eeb181] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2017-06-12 09:34:39.009  INFO 12880 --- [  restartedMain] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2017-06-12 09:34:39.019  INFO 12880 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2017-06-12 09:34:39.020  INFO 12880 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11\n2017-06-12 09:34:39.243  INFO 12880 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2017-06-12 09:34:39.243  INFO 12880 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2521 ms\n2017-06-12 09:34:39.635  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2017-06-12 09:34:39.635  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2017-06-12 09:34:39.636  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2017-06-12 09:34:39.636  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2017-06-12 09:34:39.637  INFO 12880 --- [ost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]\n2017-06-12 09:34:39.637  INFO 12880 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]\n2017-06-12 09:34:40.130  INFO 12880 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'\n2017-06-12 09:34:40.156  INFO 12880 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\nname: default\n...]\n2017-06-12 09:34:40.266  INFO 12880 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.11.Final}\n2017-06-12 09:34:40.267  INFO 12880 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2017-06-12 09:34:40.271  INFO 12880 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist\n2017-06-12 09:34:40.324  INFO 12880 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\n2017-06-12 09:34:40.890  INFO 12880 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2017-06-12 09:34:41.031  WARN 12880 --- [  restartedMain] org.hibernate.cfg.AnnotationBinder       : HHH000138: Mixing inheritance strategy in a entity hierarchy is not allowed, ignoring sub strategy in: de.awesome.corporate.newworlds.core.planets.entity.AbstractPlanetoid\n2017-06-12 09:34:41.186  WARN 12880 --- [  restartedMain] o.h.b.i.SessionFactoryBuilderImpl        : Unrecognized hbm2ddl_auto value : create-update.  Supported values include create, create-drop, update, and validate.  Ignoring\n2017-06-12 09:34:41.604  INFO 12880 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2017-06-12 09:34:41.930  WARN 12880 --- [  restartedMain] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerRegistrationController': Unsatisfied dependency expressed through field 'registrationService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'registrationService': Unsatisfied dependency expressed through field 'playerRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'de.awesome.corporate.newworlds.core.usermanagement.repository.PlayerRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2017-06-12 09:34:41.931  INFO 12880 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2017-06-12 09:34:41.944  INFO 12880 --- [  restartedMain] utoConfigurationReportLoggingInitializer : \n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2017-06-12 09:34:42.090 ERROR 12880 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField playerRepository in de.awesome.corporate.newworlds.core.usermanagement.service.RegistrationService required a bean of type 'de.awesome.corporate.newworlds.core.usermanagement.repository.PlayerRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'de.awesome.corporate.newworlds.core.usermanagement.repository.PlayerRepository' in your configuration.\n</code></pre>\n\n<p>My SpringBootApplication: </p>\n\n<pre><code>package de.awesome.corporate.newworlds;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\npublic class NewWorldsApplication {\n\n public static void main(String[] args) {\n    SpringApplication.run(NewWorldsApplication.class, args);\n }\n}\n</code></pre>\n\n<p>My PlayerRepository:</p>\n\n<pre><code>package de.awesome.corporate.newworlds.core.usermanagement.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport de.awesome.corporate.newworlds.core.usermanagement.entity.Player;\n\npublic interface PlayerRepository extends JpaRepository&lt;Player, String&gt;{\n\n    Player findByUserAccount(String useraccount);\n\n}\n</code></pre>\n\n<p>The calling Service:</p>\n\n<pre><code>package de.awesome.corporate.newworlds.core.usermanagement.service;\n@Service\npublic class RegistrationService {\n\n    @Autowired\n    private PlayerRepository playerRepository;\n\n    @Autowired\n    private UserAccountRepository userRepository;\n\n    @Autowired\n    private OrganizationCreationService organizationCreationService;\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n}\n</code></pre>\n\n<p>POM:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;de.awesome.corporate.newworlds&lt;/groupId&gt;\n&lt;artifactId&gt;New-Worlds&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;new-worlds&lt;/name&gt;\n&lt;description&gt;Text-based Management Game&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-session&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>EDIT: It seems that, after removing spring-data-jpa-starter from the pom, and then reinsert it, that it also has problems now autowiring the password encorder.\nIs there a general problem with the way spring does the autowiring?</p>\n"},{"tags":["java","junit","backend","junit5"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":2,"creation_date":1644576344,"post_id":71077954,"comment_id":125648678,"body_markdown":"Does this answer your question? [Separation of JUnit classes into special test package?](https://stackoverflow.com/questions/2388253/separation-of-junit-classes-into-special-test-package). Also check https://stackoverflow.com/questions/23635120/eclipse-java-separate-unit-test-and-integration-test and https://stackoverflow.com/questions/36396265/how-to-organize-unit-and-integration-tests","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2388253/separation-of-junit-classes-into-special-test-package\">Separation of JUnit classes into special test package?</a>. Also check <a href=\"https://stackoverflow.com/questions/23635120/eclipse-java-separate-unit-test-and-integration-test\" title=\"eclipse java separate unit test and integration test\">stackoverflow.com/questions/23635120/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/36396265/how-to-organize-unit-and-integration-tests\" title=\"how to organize unit and integration tests\">stackoverflow.com/questions/36396265/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11662342,"reputation":80,"user_id":8540213,"display_name":"adeveloper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644616912,"creation_date":1644616578,"answer_id":71086940,"question_id":71077954,"body_markdown":"It is good idea to have all the tests under src/tests folder. Within src/tests folder, I generally created one folder for each kind of tests. So something like this -\r\nsrc/tests/integration\r\n\r\nsrc/tests/unit\r\n\r\nsrc/tests/smoke\r\n\r\nIn our current project, due to some dependencies, we have kept integration tests directly under src directory. I guess it all works fine if you have all the similar kind of tests organized under a folder with that name (integration for example).","title":"How to organise different kinds of tests in Java project?","body":"<p>It is good idea to have all the tests under src/tests folder. Within src/tests folder, I generally created one folder for each kind of tests. So something like this -\nsrc/tests/integration</p>\n<p>src/tests/unit</p>\n<p>src/tests/smoke</p>\n<p>In our current project, due to some dependencies, we have kept integration tests directly under src directory. I guess it all works fine if you have all the similar kind of tests organized under a folder with that name (integration for example).</p>\n"}],"owner":{"account_id":6508380,"reputation":571,"user_id":5036543,"accept_rate":95,"display_name":"Sukhbir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644616912,"creation_date":1644572593,"question_id":71077954,"body_markdown":"We have a Java project where we have placed all the tests for the source code in one place at this path: src/test/java/com/temp. At this path we have placed all kinds of tests which includes unit tests, integration tests, smoke tests etc.\r\n\r\nAnd I would like to get some idea on how we can **organise** it in a better way, such that it will help in organising future tests written for the project. Another motivation is that we can easily distinguish where exactly particular type of tests reside in the project.\r\n\r\nI found this stack overflow answer: https://stackoverflow.com/questions/52110023/how-do-you-organize-tests-in-a-modular-java-project/52110406\r\n\r\nBut in the above link, there was no mention of organising different **kinds** of tests","title":"How to organise different kinds of tests in Java project?","body":"<p>We have a Java project where we have placed all the tests for the source code in one place at this path: src/test/java/com/temp. At this path we have placed all kinds of tests which includes unit tests, integration tests, smoke tests etc.</p>\n<p>And I would like to get some idea on how we can <strong>organise</strong> it in a better way, such that it will help in organising future tests written for the project. Another motivation is that we can easily distinguish where exactly particular type of tests reside in the project.</p>\n<p>I found this stack overflow answer: <a href=\"https://stackoverflow.com/questions/52110023/how-do-you-organize-tests-in-a-modular-java-project/52110406\">How do you organize tests in a modular Java project?</a></p>\n<p>But in the above link, there was no mention of organising different <strong>kinds</strong> of tests</p>\n"},{"tags":["java","multithreading","for-loop","executorservice"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":1,"creation_date":1644392503,"post_id":71045599,"comment_id":125591620,"body_markdown":"Add `interrupt()` in the exception block and try.","body":"Add <code>interrupt()</code> in the exception block and try."},{"owner":{"account_id":18975310,"reputation":68,"user_id":13847924,"display_name":"Mohan k"},"score":2,"creation_date":1644393359,"post_id":71045599,"comment_id":125591886,"body_markdown":"@Batzpup Once thread is running state,   executor shutdownNow() will not stop running thread, you need  to check in your task logic whether this thread is interrupt or not.\nIf it is interrupted then you need to make sure that some how it should complete the task.\nIn your case, if it is interrupted then break the for loop so that task will complete.","body":"@Batzpup Once thread is running state,   executor shutdownNow() will not stop running thread, you need  to check in your task logic whether this thread is interrupt or not. If it is interrupted then you need to make sure that some how it should complete the task. In your case, if it is interrupted then break the for loop so that task will complete."},{"owner":{"account_id":4994171,"reputation":2831,"user_id":4015372,"display_name":"OhleC"},"score":1,"creation_date":1644393611,"post_id":71045599,"comment_id":125591962,"body_markdown":"When `shutdownNow()` interrupts your thread, `Thead.sleep()` will throw `InterruptedException`. Since you ignore that exception, the loop will just continue.","body":"When <code>shutdownNow()</code> interrupts your thread, <code>Thead.sleep()</code> will throw <code>InterruptedException</code>. Since you ignore that exception, the loop will just continue."},{"owner":{"account_id":24200880,"reputation":13,"user_id":18158726,"display_name":"Batzpup"},"score":0,"creation_date":1644395550,"post_id":71045599,"comment_id":125592642,"body_markdown":"Thank you guys for commenting, @Sambit answer worked so ill mark that as a solved,\nBut the other comments helped me understand why the code wasn&#39;t working, so again thanks","body":"Thank you guys for commenting, @Sambit answer worked so ill mark that as a solved, But the other comments helped me understand why the code wasn&#39;t working, so again thanks"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1644404824,"post_id":71045599,"comment_id":125596334,"body_markdown":"If shutdownNow was called, add `return` to the catch block will also bail out of the processing.","body":"If shutdownNow was called, add <code>return</code> to the catch block will also bail out of the processing."}],"answers":[{"tags":[],"owner":{"account_id":24200880,"reputation":13,"user_id":18158726,"display_name":"Batzpup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644395573,"creation_date":1644395573,"answer_id":71046254,"question_id":71045599,"body_markdown":"Adding  Thread.currentThread().interrupt() in my catch statement worked\r\n\r\nCredit To @Sambit","title":"How to stop a for loop inside an ExecutorService?","body":"<p>Adding  Thread.currentThread().interrupt() in my catch statement worked</p>\n<p>Credit To @Sambit</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644396541,"creation_date":1644396541,"answer_id":71046460,"question_id":71045599,"body_markdown":"2 solutions. your for loop you do need to check &lt;br&gt;\r\n`if(Thread.currentThread().isInterrupted()) {[clean up and finish the thread code here]}`\r\n\r\nIn your `catch` section, instead of `e.printStackTrace();` place [clean up and finish the thread code]. In the catch statement you don&#39;t need to check if the thread has been interrupted. The fact that you caught the InterruptedException is already a flag that the thread has been interrupted","title":"How to stop a for loop inside an ExecutorService?","body":"<p>2 solutions. your for loop you do need to check <br>\n<code>if(Thread.currentThread().isInterrupted()) {[clean up and finish the thread code here]}</code></p>\n<p>In your <code>catch</code> section, instead of <code>e.printStackTrace();</code> place [clean up and finish the thread code]. In the catch statement you don't need to check if the thread has been interrupted. The fact that you caught the InterruptedException is already a flag that the thread has been interrupted</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644616723,"creation_date":1644616723,"answer_id":71086961,"question_id":71045599,"body_markdown":"&gt; When using executorService.shutdownNow() almost all tasks stop immediately as intended except ones with for loops in them.\r\n\r\nThis is a misleading statement. `executorService.shutdownNow()` cancels any jobs that have not run yet and interrupts all of the threads that are currently running.  The reason why some of your threads aren&#39;t being interrupted is because you are catching `InterruptedException` in your for loop.  Whenever `InterruptedException` is thrown, the interrupt bit of the running thread is cleared.\r\n\r\nWhenever you catch `InterruptedException`, you should immediately re-interrupt the running thread so that the caller will know that the interrupt has been set.  Your bug is a good example of why this pattern is necessary.\r\n\r\n    try {\r\n       Thread.sleep(minDelayBetween, maxDelayBetween);\r\n    } catch (InterruptedException e) {\r\n       // when InterruptedException is thrown it clears the interrupt bit so\r\n       // we need to re-interrupt the thread whenever we catch it\r\n       Thread.currentThread().interrupt();\r\n       // you should handle the interrupt appropriately and not just print it\r\n       return;\r\n    }\r\n\r\nHere&#39;s a good tutorial on the subject of [Java thread interrupts][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-interrupted-exception","title":"How to stop a for loop inside an ExecutorService?","body":"<blockquote>\n<p>When using executorService.shutdownNow() almost all tasks stop immediately as intended except ones with for loops in them.</p>\n</blockquote>\n<p>This is a misleading statement. <code>executorService.shutdownNow()</code> cancels any jobs that have not run yet and interrupts all of the threads that are currently running.  The reason why some of your threads aren't being interrupted is because you are catching <code>InterruptedException</code> in your for loop.  Whenever <code>InterruptedException</code> is thrown, the interrupt bit of the running thread is cleared.</p>\n<p>Whenever you catch <code>InterruptedException</code>, you should immediately re-interrupt the running thread so that the caller will know that the interrupt has been set.  Your bug is a good example of why this pattern is necessary.</p>\n<pre><code>try {\n   Thread.sleep(minDelayBetween, maxDelayBetween);\n} catch (InterruptedException e) {\n   // when InterruptedException is thrown it clears the interrupt bit so\n   // we need to re-interrupt the thread whenever we catch it\n   Thread.currentThread().interrupt();\n   // you should handle the interrupt appropriately and not just print it\n   return;\n}\n</code></pre>\n<p>Here's a good tutorial on the subject of <a href=\"https://www.baeldung.com/java-interrupted-exception\" rel=\"nofollow noreferrer\">Java thread interrupts</a>.</p>\n"}],"owner":{"account_id":24200880,"reputation":13,"user_id":18158726,"display_name":"Batzpup"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71046460,"answer_count":3,"score":0,"last_activity_date":1644616723,"creation_date":1644392379,"question_id":71045599,"body_markdown":"I&#39;ve tried looking on other threads and I can&#39;t seem to find a proper answer,\r\n\r\nWhen using executorService.shutdownNow() almost all tasks stop immediately as intended except ones with for loops in them.\r\nI have no idea why it happens, but the most I&#39;ve seen from other threads is that you should be using Thread.currentThread().isInterrupted() to check if it is interrupted, but adding a\r\n\r\n    if(Thread.currentThread().isInterrupted())\r\n        {return;}\r\n\r\nDoesn&#39;t actually stop it all.  I&#39;m calling executor shutdownNow when a UI button is toggled off.\r\n\r\nCode example:\r\n\r\n```\r\nexecutorService.submit(() -&gt; {\r\n            ctx.batzUtils.keyEvent(KeyEvent.KEY_PRESSED, VK_SHIFT);\r\n            //Shit keeps going if you call ShutdownNow Todo\r\n            for (Rectangle rect : rects)\r\n            {\r\n                ctx.batzUtils.click(rect);\r\n                try\r\n                {\r\n                    Thread.sleep(minDelayBetween, maxDelayBetween);\r\n                } catch (InterruptedException e)\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            ctx.batzUtils.keyEvent(KeyEvent.KEY_RELEASED, VK_SHIFT);\r\n            ctx.batzUtils.keyEvent(KeyEvent.KEY_TYPED, VK_SHIFT);\r\n        });\r\n ```\r\n\r\nAny ideas as to why or solutions would be greatly appreciated","title":"How to stop a for loop inside an ExecutorService?","body":"<p>I've tried looking on other threads and I can't seem to find a proper answer,</p>\n<p>When using executorService.shutdownNow() almost all tasks stop immediately as intended except ones with for loops in them.\nI have no idea why it happens, but the most I've seen from other threads is that you should be using Thread.currentThread().isInterrupted() to check if it is interrupted, but adding a</p>\n<pre><code>if(Thread.currentThread().isInterrupted())\n    {return;}\n</code></pre>\n<p>Doesn't actually stop it all.  I'm calling executor shutdownNow when a UI button is toggled off.</p>\n<p>Code example:</p>\n<pre><code>executorService.submit(() -&gt; {\n            ctx.batzUtils.keyEvent(KeyEvent.KEY_PRESSED, VK_SHIFT);\n            //Shit keeps going if you call ShutdownNow Todo\n            for (Rectangle rect : rects)\n            {\n                ctx.batzUtils.click(rect);\n                try\n                {\n                    Thread.sleep(minDelayBetween, maxDelayBetween);\n                } catch (InterruptedException e)\n                {\n                    e.printStackTrace();\n                }\n            }\n            ctx.batzUtils.keyEvent(KeyEvent.KEY_RELEASED, VK_SHIFT);\n            ctx.batzUtils.keyEvent(KeyEvent.KEY_TYPED, VK_SHIFT);\n        });\n</code></pre>\n<p>Any ideas as to why or solutions would be greatly appreciated</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":8441424,"reputation":320,"user_id":6333782,"accept_rate":50,"display_name":"Karashevich B."},"score":0,"creation_date":1644614670,"post_id":71086425,"comment_id":125662449,"body_markdown":"Aren&#39;t you actually calculating height and not leaf count?\nAnyway, this tree&#39;s height is still certainly not zero. Is `height` method just `return 0` stub for now?\n\nAlso the input tree is by no way perfect, so this test is conceptually incorrect.","body":"Aren&#39;t you actually calculating height and not leaf count? Anyway, this tree&#39;s height is still certainly not zero. Is <code>height</code> method just <code>return 0</code> stub for now?  Also the input tree is by no way perfect, so this test is conceptually incorrect."},{"owner":{"account_id":24229775,"reputation":15,"user_id":18183706,"display_name":"hello123"},"score":0,"creation_date":1644615660,"post_id":71086425,"comment_id":125662713,"body_markdown":"@KarashevichB. How should i improve the tree according to you? Also I have edited so the whole tree class is included","body":"@KarashevichB. How should i improve the tree according to you? Also I have edited so the whole tree class is included"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1644616718,"post_id":71086425,"comment_id":125663021,"body_markdown":"`countHeight(Node node)` will only traverse to the end of all nodes and return 0 when it reaches the end(ie `node==null`), you&#39;re not actually counting the height. You need to have an integer value that increases based on the number of nodes it goes through before it hits the end of a particular branch and this will return through recursively and give you the proper max height using `Math.max`.","body":"<code>countHeight(Node node)</code> will only traverse to the end of all nodes and return 0 when it reaches the end(ie <code>node==null</code>), you&#39;re not actually counting the height. You need to have an integer value that increases based on the number of nodes it goes through before it hits the end of a particular branch and this will return through recursively and give you the proper max height using <code>Math.max</code>."},{"owner":{"account_id":8441424,"reputation":320,"user_id":6333782,"accept_rate":50,"display_name":"Karashevich B."},"score":0,"creation_date":1644616725,"post_id":71086425,"comment_id":125663022,"body_markdown":"Nevermind, I was looking at the setup section. The tree in the test itself looks fine. Why do you even have setup in this test? The data it sets doesn&#39;t seem to be used at all.","body":"Nevermind, I was looking at the setup section. The tree in the test itself looks fine. Why do you even have setup in this test? The data it sets doesn&#39;t seem to be used at all."},{"owner":{"account_id":24229775,"reputation":15,"user_id":18183706,"display_name":"hello123"},"score":0,"creation_date":1644651959,"post_id":71086425,"comment_id":125667852,"body_markdown":"@KarashevichB. I have changed my code,  private int countHeight(Node node){\n        if(node == null) {\n            return -1;\n        }\n        return Math.max(countHeight(node.Left)+1, countHeight(node.getRight())+1);\n    } but now one test called heightIsZeroWhenTreeIsEmpty() is not going through","body":"@KarashevichB. I have changed my code,  private int countHeight(Node node){         if(node == null) {             return -1;         }         return Math.max(countHeight(node.Left)+1, countHeight(node.getRight())+1);     } but now one test called heightIsZeroWhenTreeIsEmpty() is not going through"},{"owner":{"account_id":8441424,"reputation":320,"user_id":6333782,"accept_rate":50,"display_name":"Karashevich B."},"score":0,"creation_date":1644660823,"post_id":71086425,"comment_id":125669320,"body_markdown":"oh so you had that defined in another way huh... ok then, just add another `if` in `height` before calling `countHeight(root)`, that should cover it","body":"oh so you had that defined in another way huh... ok then, just add another <code>if</code> in <code>height</code> before calling <code>countHeight(root)</code>, that should cover it"}],"answers":[{"tags":[],"owner":{"account_id":8441424,"reputation":320,"user_id":6333782,"accept_rate":50,"display_name":"Karashevich B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644616659,"creation_date":1644616659,"answer_id":71086951,"question_id":71086425,"body_markdown":"Your `countHeight` method can return either zero or a maximum of two returns, and there are no other operations in it. You can&#39;t get a value greater of zero out of zeros just by using max function.\r\n\r\nYou should return -1 for an empty tree and `max(height(left) + 1, height(right) + 1)` otherwise. Each +1 accounts for length of corresponding parent-child edge.\r\n\r\n(Mathematically speaking, height of an &quot;empty&quot; tree is usually undefined, but defining it as -1 in this case helps a lot so let&#39;s stick to that.)","title":"Binary Search Tree, one test does not go through","body":"<p>Your <code>countHeight</code> method can return either zero or a maximum of two returns, and there are no other operations in it. You can't get a value greater of zero out of zeros just by using max function.</p>\n<p>You should return -1 for an empty tree and <code>max(height(left) + 1, height(right) + 1)</code> otherwise. Each +1 accounts for length of corresponding parent-child edge.</p>\n<p>(Mathematically speaking, height of an &quot;empty&quot; tree is usually undefined, but defining it as -1 in this case helps a lot so let's stick to that.)</p>\n"}],"owner":{"account_id":24229775,"reputation":15,"user_id":18183706,"display_name":"hello123"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71086951,"answer_count":1,"score":0,"last_activity_date":1644616659,"creation_date":1644612971,"question_id":71086425,"body_markdown":"I have written a code of Binary Search tree that extends comparable and implements an interface. The code for leaves and the helper method countLeaves (included down here), makes sure that all of the test goes through except for one, heightIsLogOfNumLeavesTreeIsPerfect().\r\n\r\n// TODO: Look at the Leaves and the helper method to leaves and see how I should change it so that this test goes through aswell.\r\n\r\n//EDIT: I have added the whole tree class\r\n\r\n```\r\njava.lang.AssertionError: \r\nExpected: &lt;2&gt;\r\n     but: was &lt;0&gt;\r\nExpected :&lt;2&gt;\r\nActual   :&lt;0&gt;\r\n```\r\n```\r\nimport org.junit.Test;\r\nimport org.junit.Before;\r\nimport org.junit.Rule;\r\nimport org.junit.rules.Timeout;\r\nimport static org.junit.Assert.*;\r\n\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.CoreMatchers.*;\r\nimport java.util.Arrays;\r\nimport java.util.stream.IntStream;\r\n/**\r\n * Test class for a tree.\r\n */\r\npublic class TreeTest{\r\n    @Rule public Timeout globalTimeout = Timeout.seconds(5);\r\n\r\n    Tree&lt;Integer&gt; tree;\r\n    int[] elementsInTree;\r\n    int[] elementsNotInTree;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        /**\r\n         * This tree should look like this:\r\n         *\r\n         *               8\r\n         *             /  \\\r\n         *            3   10\r\n         *           / \\    \\\r\n         *          1   6    14\r\n         *             / \\   /\r\n         *            4   7 13\r\n         */\r\n        tree = new Tree&lt;&gt;();\r\n        elementsInTree = new int[] {8, 10, 14, 13, 3, 1, 6, 4, 7};\r\n        for (int elem : elementsInTree) {\r\n            tree.insert(elem);\r\n        }\r\n        elementsNotInTree = new int[] {34, -3, -10, 12, 74, 5};\r\n    }\r\n\r\n    @Test\r\n    public void heightIsLogOfNumLeavesTreeIsPerfect() {\r\n        // For a perfect tree, tree.height() == log2(tree.leaves()\r\n\r\n        // Arrange\r\n        Tree&lt;Integer&gt; tree = new Tree&lt;&gt;();\r\n        int[] elements = new int[] {8, 3, 10, 1, 6, 9, 14};\r\n        int numLeaves = 4;\r\n        int logNumLeaves = (int) Math.round(Math.log(numLeaves) / Math.log(2));\r\n        for (int elem : elements) {\r\n            tree.insert(elem);\r\n        }\r\n\r\n        // Act\r\n        int height = tree.height();\r\n        // Assert\r\n        assertThat(height, equalTo(logNumLeaves));\r\n    }\r\n}\r\n```\r\n```\r\n**\r\n * An interface describing a generic Comparable\r\n */\r\n\r\npublic interface BSTInterface &lt;T&gt;{\r\n\r\n    boolean search(T elem);\r\n   \r\n    boolean insert(T elem);\r\n\r\n        int size();\r\n\r\n    int height();\r\n   \r\n    int leaves();\r\n}\r\n```\r\n```\r\n/**\r\n * An Binary Search tree implementation of the comparable interface.\r\n * @param &lt;T&gt;\r\n */\r\npublic class Tree &lt;T extends Comparable &lt;T&gt;&gt; implements BSTInterface &lt;T&gt;{\r\n    private int size;\r\n    private Node root;\r\n    public class Node{\r\n        private Node Left;\r\n        private Node Right;\r\n        private T data;\r\n\r\n        public Node(T data){\r\n            this.data = data;\r\n        }\r\n        public Node getRight(){\r\n            return Right;\r\n        }\r\n\r\n        public Node getLeft() {\r\n            return Left;\r\n        }\r\n\r\n        public T getData() {\r\n            return data;\r\n        }\r\n    }\r\n    public Tree (){\r\n        size = 0;\r\n        root = null;\r\n    }\r\n\r\n\r\n    /**\r\n     * Test for presence of a value.\r\n     * @param elem\r\n     * @return true/false\r\n     */\r\n    @Override\r\n    public boolean search(T elem) {\r\n        if(root == null ||elem == null){\r\n        return false;\r\n        }\r\n        Node node = root;\r\n        while(true){\r\n            if(node.data.compareTo(elem) &gt; 0){\r\n                if(node.Right == null){\r\n                    return false;\r\n                } else{\r\n                    node = node.Right;\r\n                }\r\n            } else if(node.data.compareTo(elem) == 0){\r\n                break;\r\n            } else{\r\n                if(node.Left== null){\r\n                    return false;\r\n                }\r\n                else{\r\n                    node = node.Left;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Add value to tree; duplicates are not allowed.\r\n     * Return true if the element is not already present (and is thus inserted),\r\n     * false otherwise.\r\n     *\r\n     * @param elem\r\n     * @return true/false\r\n     */\r\n    @Override\r\n    public boolean insert(T elem) {\r\n        if (elem == null){\r\n            return false;\r\n        }\r\n        if (root == null){\r\n            root = new Node(elem);\r\n            size++;\r\n            return true;\r\n        }\r\n        Node node = root;\r\n        while (true){\r\n            if (node.data.compareTo(elem) &gt; 0) {\r\n                if (node.Right == null){\r\n                    node.Right = new Node(elem);\r\n                    size++;\r\n                    break;\r\n                } else {\r\n                    node = node.Right;\r\n                }\r\n\r\n            } else if (node.data.compareTo(elem) == 0) {\r\n                return false;\r\n            } else {\r\n                if (node.Left == null){\r\n                    node.Left = new Node(elem);\r\n                    size++;\r\n                    break;\r\n                } else {\r\n                    node = node.Left;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    /**\r\n     * the number of elements in the tree\r\n     * @return size.\r\n     */\r\n    @Override\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    /**\r\n     * The height of the tree.\r\n     * The empty tree and the tree with only the root node both have height 0.\r\n     * @return the height of the tree.\r\n     */\r\n    @Override\r\n    public int height() {\r\n        return countHeight(root);\r\n    }\r\n    /**\r\n     * Helper method for height\r\n     */\r\n    private int countHeight(Node node){\r\n        if(node == null) {\r\n            return 0;\r\n        }\r\n        return Math.max(countHeight(node.Left), countHeight(node.Right));\r\n    }\r\n\r\n    /**\r\n     * The number of leaves in the tree.\r\n     * @return the amount of leaves the tree have.\r\n     */\r\n    @Override\r\n    public int leaves() {\r\n        return countLeaves(root);\r\n    }\r\n    /**\r\n     * Helper method for leaves\r\n     */\r\n    private int countLeaves(Node node) {\r\n        if (node == null) {\r\n            return 0;\r\n        }\r\n        if (node.Left == null &amp;&amp; node.Right == null) {\r\n            return 1;\r\n        }\r\n        return countLeaves(node.Left) + countLeaves(node.Right);\r\n    }\r\n\r\n\r\n    /**\r\n     * A string describing the tree\r\n     * @return\r\n     */\r\n    public String toString(){\r\n        String str = &quot;[&quot; + helpToString(root);\r\n        if (str.length() &gt; 1) {\r\n            str = str.substring(0, str.length() - 2);\r\n        } return str + &quot;]&quot;;\r\n    }\r\n\r\n    /**\r\n     * Helper method for toString\r\n     */\r\n    private String helpToString(Node node) {\r\n        String str = &quot;&quot;;\r\n        if (node != null) {\r\n            str += helpToString(node.Right);\r\n            str += node.data + &quot;, &quot;;\r\n            str += helpToString(node.Left);\r\n        }\r\n        return str;\r\n      }\r\n}\r\n\r\n    \r\n```","title":"Binary Search Tree, one test does not go through","body":"<p>I have written a code of Binary Search tree that extends comparable and implements an interface. The code for leaves and the helper method countLeaves (included down here), makes sure that all of the test goes through except for one, heightIsLogOfNumLeavesTreeIsPerfect().</p>\n<p>// TODO: Look at the Leaves and the helper method to leaves and see how I should change it so that this test goes through aswell.</p>\n<p>//EDIT: I have added the whole tree class</p>\n<pre><code>java.lang.AssertionError: \nExpected: &lt;2&gt;\n     but: was &lt;0&gt;\nExpected :&lt;2&gt;\nActual   :&lt;0&gt;\n</code></pre>\n<pre><code>import org.junit.Test;\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.rules.Timeout;\nimport static org.junit.Assert.*;\n\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.CoreMatchers.*;\nimport java.util.Arrays;\nimport java.util.stream.IntStream;\n/**\n * Test class for a tree.\n */\npublic class TreeTest{\n    @Rule public Timeout globalTimeout = Timeout.seconds(5);\n\n    Tree&lt;Integer&gt; tree;\n    int[] elementsInTree;\n    int[] elementsNotInTree;\n\n    @Before\n    public void setUp() {\n        /**\n         * This tree should look like this:\n         *\n         *               8\n         *             /  \\\n         *            3   10\n         *           / \\    \\\n         *          1   6    14\n         *             / \\   /\n         *            4   7 13\n         */\n        tree = new Tree&lt;&gt;();\n        elementsInTree = new int[] {8, 10, 14, 13, 3, 1, 6, 4, 7};\n        for (int elem : elementsInTree) {\n            tree.insert(elem);\n        }\n        elementsNotInTree = new int[] {34, -3, -10, 12, 74, 5};\n    }\n\n    @Test\n    public void heightIsLogOfNumLeavesTreeIsPerfect() {\n        // For a perfect tree, tree.height() == log2(tree.leaves()\n\n        // Arrange\n        Tree&lt;Integer&gt; tree = new Tree&lt;&gt;();\n        int[] elements = new int[] {8, 3, 10, 1, 6, 9, 14};\n        int numLeaves = 4;\n        int logNumLeaves = (int) Math.round(Math.log(numLeaves) / Math.log(2));\n        for (int elem : elements) {\n            tree.insert(elem);\n        }\n\n        // Act\n        int height = tree.height();\n        // Assert\n        assertThat(height, equalTo(logNumLeaves));\n    }\n}\n</code></pre>\n<pre><code>**\n * An interface describing a generic Comparable\n */\n\npublic interface BSTInterface &lt;T&gt;{\n\n    boolean search(T elem);\n   \n    boolean insert(T elem);\n\n        int size();\n\n    int height();\n   \n    int leaves();\n}\n</code></pre>\n<pre><code>/**\n * An Binary Search tree implementation of the comparable interface.\n * @param &lt;T&gt;\n */\npublic class Tree &lt;T extends Comparable &lt;T&gt;&gt; implements BSTInterface &lt;T&gt;{\n    private int size;\n    private Node root;\n    public class Node{\n        private Node Left;\n        private Node Right;\n        private T data;\n\n        public Node(T data){\n            this.data = data;\n        }\n        public Node getRight(){\n            return Right;\n        }\n\n        public Node getLeft() {\n            return Left;\n        }\n\n        public T getData() {\n            return data;\n        }\n    }\n    public Tree (){\n        size = 0;\n        root = null;\n    }\n\n\n    /**\n     * Test for presence of a value.\n     * @param elem\n     * @return true/false\n     */\n    @Override\n    public boolean search(T elem) {\n        if(root == null ||elem == null){\n        return false;\n        }\n        Node node = root;\n        while(true){\n            if(node.data.compareTo(elem) &gt; 0){\n                if(node.Right == null){\n                    return false;\n                } else{\n                    node = node.Right;\n                }\n            } else if(node.data.compareTo(elem) == 0){\n                break;\n            } else{\n                if(node.Left== null){\n                    return false;\n                }\n                else{\n                    node = node.Left;\n                }\n            }\n        }\n        return true;\n    }\n\n    /**\n     * Add value to tree; duplicates are not allowed.\n     * Return true if the element is not already present (and is thus inserted),\n     * false otherwise.\n     *\n     * @param elem\n     * @return true/false\n     */\n    @Override\n    public boolean insert(T elem) {\n        if (elem == null){\n            return false;\n        }\n        if (root == null){\n            root = new Node(elem);\n            size++;\n            return true;\n        }\n        Node node = root;\n        while (true){\n            if (node.data.compareTo(elem) &gt; 0) {\n                if (node.Right == null){\n                    node.Right = new Node(elem);\n                    size++;\n                    break;\n                } else {\n                    node = node.Right;\n                }\n\n            } else if (node.data.compareTo(elem) == 0) {\n                return false;\n            } else {\n                if (node.Left == null){\n                    node.Left = new Node(elem);\n                    size++;\n                    break;\n                } else {\n                    node = node.Left;\n                }\n            }\n        }\n        return true;\n    }\n\n\n    /**\n     * the number of elements in the tree\n     * @return size.\n     */\n    @Override\n    public int size() {\n        return size;\n    }\n\n    /**\n     * The height of the tree.\n     * The empty tree and the tree with only the root node both have height 0.\n     * @return the height of the tree.\n     */\n    @Override\n    public int height() {\n        return countHeight(root);\n    }\n    /**\n     * Helper method for height\n     */\n    private int countHeight(Node node){\n        if(node == null) {\n            return 0;\n        }\n        return Math.max(countHeight(node.Left), countHeight(node.Right));\n    }\n\n    /**\n     * The number of leaves in the tree.\n     * @return the amount of leaves the tree have.\n     */\n    @Override\n    public int leaves() {\n        return countLeaves(root);\n    }\n    /**\n     * Helper method for leaves\n     */\n    private int countLeaves(Node node) {\n        if (node == null) {\n            return 0;\n        }\n        if (node.Left == null &amp;&amp; node.Right == null) {\n            return 1;\n        }\n        return countLeaves(node.Left) + countLeaves(node.Right);\n    }\n\n\n    /**\n     * A string describing the tree\n     * @return\n     */\n    public String toString(){\n        String str = &quot;[&quot; + helpToString(root);\n        if (str.length() &gt; 1) {\n            str = str.substring(0, str.length() - 2);\n        } return str + &quot;]&quot;;\n    }\n\n    /**\n     * Helper method for toString\n     */\n    private String helpToString(Node node) {\n        String str = &quot;&quot;;\n        if (node != null) {\n            str += helpToString(node.Right);\n            str += node.data + &quot;, &quot;;\n            str += helpToString(node.Left);\n        }\n        return str;\n      }\n}\n\n    \n</code></pre>\n"},{"tags":["java","collections","iterator"],"answers":[{"tags":[],"owner":{"account_id":24230044,"reputation":26,"user_id":18183936,"display_name":"aps08"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644610862,"creation_date":1644610862,"answer_id":71086128,"question_id":71086078,"body_markdown":"Guava has [Iterators.concat](https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable,%20java.lang.Iterable)), have a look. the link contains all your answers probably.","title":"How to combine several iterators to one?","body":"<p>Guava has <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable,%20java.lang.Iterable)\" rel=\"nofollow noreferrer\">Iterators.concat</a>, have a look. the link contains all your answers probably.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644611412,"creation_date":1644611412,"answer_id":71086215,"question_id":71086078,"body_markdown":"Use [Stream.concat](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)), and obtain an Iterator from the resulting Stream:\r\n\r\n    public Iterator&lt;Address&gt; iterator() {\r\n        return Stream.concat(\r\n            Stream.concat(additional.stream(), verified.stream()),\r\n            Stream.of(main)).iterator();\r\n    }\r\n\r\nBe warned, if someone changes the additional or verified addresses while the Iterator is still being used, the results are undefined.  You can just document that in your class javadoc, or you can copy the Lists, so your method provides a snapshot and is unaffected by later changes:\r\n\r\n    public Iterator&lt;Address&gt; iterator() {\r\n        Stream&lt;String&gt; additionalStream = new ArrayList&lt;&gt;(additional).stream();\r\n        Stream&lt;String&gt; verifiedStream = new ArrayList&lt;&gt;(verified).stream();\r\n        return Stream.concat(\r\n            Stream.concat(additionalStream, verifiedStream),\r\n            Stream.of(main)).iterator();\r\n    }\r\n","title":"How to combine several iterators to one?","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)\" rel=\"nofollow noreferrer\">Stream.concat</a>, and obtain an Iterator from the resulting Stream:</p>\n<pre><code>public Iterator&lt;Address&gt; iterator() {\n    return Stream.concat(\n        Stream.concat(additional.stream(), verified.stream()),\n        Stream.of(main)).iterator();\n}\n</code></pre>\n<p>Be warned, if someone changes the additional or verified addresses while the Iterator is still being used, the results are undefined.  You can just document that in your class javadoc, or you can copy the Lists, so your method provides a snapshot and is unaffected by later changes:</p>\n<pre><code>public Iterator&lt;Address&gt; iterator() {\n    Stream&lt;String&gt; additionalStream = new ArrayList&lt;&gt;(additional).stream();\n    Stream&lt;String&gt; verifiedStream = new ArrayList&lt;&gt;(verified).stream();\n    return Stream.concat(\n        Stream.concat(additionalStream, verifiedStream),\n        Stream.of(main)).iterator();\n}\n</code></pre>\n"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71086215,"answer_count":2,"score":1,"last_activity_date":1644616442,"creation_date":1644610555,"question_id":71086078,"body_markdown":"Can I return several iterators like one? For example in `iterator()` method maybe I can combine iterators like one? \r\n\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    public class Addresses implements Iterable&lt;Address&gt; {\r\n        private final Address main;\r\n        private final List&lt;Address&gt; additional;\r\n        private final List&lt;Address&gt; verified;\r\n    \r\n        public Addresses(Address main, List&lt;Address&gt; additional, List&lt;Address&gt; verified) {\r\n            this.main = main;\r\n            this.additional = additional;\r\n            this.verified = verified;\r\n        }\r\n    \r\n        public Address getMain() {\r\n            return main;\r\n        }\r\n    \r\n        public List&lt;Address&gt; getAdditional() {\r\n            return additional;\r\n        }\r\n    \r\n        public List&lt;Address&gt; getVerified() {\r\n            return verified;\r\n        }\r\n    \r\n        @Override\r\n        public Iterator&lt;Address&gt; iterator() {\r\n            // return 3 iterators main and additional and verified like one?\r\n            return additional.iterator() + verified.iterator() + Collections.singletonList(main).iterator();\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI just need to iterate through all items in both lists and the main address in one cycle but have them separated.  For example, I am going to use it like this\r\n\r\n    User user = ...\r\n    Addresses addresses = new Addresses(user.getMainAddress(), user.getAdditionalAddressess(), user.getVerifiedAddressess());\r\n    //iterate through addresses and change some fields an each address\r\n    user.setMain(addresses.getMain());\r\n    user.setAdditional(addresses.getAdditional());\r\n    user.setVerified(addresses.getVerified());","title":"How to combine several iterators to one?","body":"<p>Can I return several iterators like one? For example in <code>iterator()</code> method maybe I can combine iterators like one?</p>\n<pre><code>import java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class Addresses implements Iterable&lt;Address&gt; {\n    private final Address main;\n    private final List&lt;Address&gt; additional;\n    private final List&lt;Address&gt; verified;\n\n    public Addresses(Address main, List&lt;Address&gt; additional, List&lt;Address&gt; verified) {\n        this.main = main;\n        this.additional = additional;\n        this.verified = verified;\n    }\n\n    public Address getMain() {\n        return main;\n    }\n\n    public List&lt;Address&gt; getAdditional() {\n        return additional;\n    }\n\n    public List&lt;Address&gt; getVerified() {\n        return verified;\n    }\n\n    @Override\n    public Iterator&lt;Address&gt; iterator() {\n        // return 3 iterators main and additional and verified like one?\n        return additional.iterator() + verified.iterator() + Collections.singletonList(main).iterator();\n    }\n\n}\n</code></pre>\n<p>I just need to iterate through all items in both lists and the main address in one cycle but have them separated.  For example, I am going to use it like this</p>\n<pre><code>User user = ...\nAddresses addresses = new Addresses(user.getMainAddress(), user.getAdditionalAddressess(), user.getVerifiedAddressess());\n//iterate through addresses and change some fields an each address\nuser.setMain(addresses.getMain());\nuser.setAdditional(addresses.getAdditional());\nuser.setVerified(addresses.getVerified());\n</code></pre>\n"},{"tags":["java","json","google-cloud-platform","artificial-intelligence","cloud-document-ai"],"comments":[{"owner":{"account_id":22772109,"reputation":1393,"user_id":16929358,"display_name":"Jose Gutierrez Paliza"},"score":0,"creation_date":1644271223,"post_id":71016818,"comment_id":125557084,"body_markdown":"Have you tried changing the path of the file that you are reading?","body":"Have you tried changing the path of the file that you are reading?"},{"owner":{"account_id":5224110,"reputation":139,"user_id":8921265,"display_name":"Abdulbasith"},"score":0,"creation_date":1644305652,"post_id":71016818,"comment_id":125564333,"body_markdown":"Yes I tried reading from several response json files. It gives me the same error each time.","body":"Yes I tried reading from several response json files. It gives me the same error each time."},{"owner":{"account_id":22772109,"reputation":1393,"user_id":16929358,"display_name":"Jose Gutierrez Paliza"},"score":0,"creation_date":1644337713,"post_id":71016818,"comment_id":125577584,"body_markdown":"Do the files that you tried reading were in the path: `&quot;src/main/resources/filename.JSON&quot;` ?","body":"Do the files that you tried reading were in the path: <code>&quot;src&#47;main&#47;resources&#47;filename.JSON&quot;</code> ?"},{"owner":{"account_id":5224110,"reputation":139,"user_id":8921265,"display_name":"Abdulbasith"},"score":0,"creation_date":1644414548,"post_id":71016818,"comment_id":125600254,"body_markdown":"Yes. I did not get a FileNotFoundException","body":"Yes. I did not get a FileNotFoundException"}],"answers":[{"tags":[],"owner":{"account_id":7638335,"reputation":76,"user_id":5791254,"display_name":"David Cardozo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644615841,"creation_date":1644615841,"answer_id":71086843,"question_id":71016818,"body_markdown":"Today I came across this issue as well. [This answer](https://stackoverflow.com/a/38441368/5791254) gave me the starting point for a solution.\r\n\r\nIf your json file was saved from a call to Document AI and looks like:\r\n```json\r\n{\r\n  &quot;document&quot;: {\r\n    ...\r\n    &quot;text&quot;: &quot;...&quot;,\r\n    ...\r\n  },\r\n  &quot;humanReviewStatus&quot;: {...}\r\n}\r\n```\r\nyou may use the following code snippet:\r\n\r\n```java\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\nimport com.google.cloud.documentai.v1.Document;\r\nimport com.google.cloud.documentai.v1.ProcessResponse;\r\nimport com.google.protobuf.util.JsonFormat;\r\n\r\nPath filePath = Paths.get(&quot;src/main/resources/responseFromAPICall.json&quot;);\r\nProcessResponse.Builder responseBuilder = ProcessResponse.newBuilder();\r\nJsonFormat.parser().merge(Files.newBufferedReader(filePath), responseBuilder);\r\nDocument document = responseBuilder.getDocument();\r\nSystem.out.println(document.getText());\r\n```\r\n\r\nIf your json file only contains the &quot;document&quot; object:\r\n```json\r\n{\r\n  ...\r\n  &quot;text&quot;: &quot;...&quot;,\r\n  ...\r\n}\r\n```\r\nThis code will do the trick:\r\n```java\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\nimport com.google.cloud.documentai.v1.Document;\r\nimport com.google.protobuf.util.JsonFormat;\r\n\r\nPath filePath = Paths.get(&quot;src/main/resources/responseFromAPICall.json&quot;);\r\nDocument.Builder docBuilder = Document.newBuilder();\r\nJsonFormat.parser().merge(Files.newBufferedReader(filePath), docBuilder);\r\nSystem.out.println(docBuilder.getText());\r\n```","title":"How to read json response string into Document object of Document AI from java?","body":"<p>Today I came across this issue as well. <a href=\"https://stackoverflow.com/a/38441368/5791254\">This answer</a> gave me the starting point for a solution.</p>\n<p>If your json file was saved from a call to Document AI and looks like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;document&quot;: {\n    ...\n    &quot;text&quot;: &quot;...&quot;,\n    ...\n  },\n  &quot;humanReviewStatus&quot;: {...}\n}\n</code></pre>\n<p>you may use the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\nimport com.google.cloud.documentai.v1.Document;\nimport com.google.cloud.documentai.v1.ProcessResponse;\nimport com.google.protobuf.util.JsonFormat;\n\nPath filePath = Paths.get(&quot;src/main/resources/responseFromAPICall.json&quot;);\nProcessResponse.Builder responseBuilder = ProcessResponse.newBuilder();\nJsonFormat.parser().merge(Files.newBufferedReader(filePath), responseBuilder);\nDocument document = responseBuilder.getDocument();\nSystem.out.println(document.getText());\n</code></pre>\n<p>If your json file only contains the &quot;document&quot; object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  ...\n  &quot;text&quot;: &quot;...&quot;,\n  ...\n}\n</code></pre>\n<p>This code will do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\nimport com.google.cloud.documentai.v1.Document;\nimport com.google.protobuf.util.JsonFormat;\n\nPath filePath = Paths.get(&quot;src/main/resources/responseFromAPICall.json&quot;);\nDocument.Builder docBuilder = Document.newBuilder();\nJsonFormat.parser().merge(Files.newBufferedReader(filePath), docBuilder);\nSystem.out.println(docBuilder.getText());\n</code></pre>\n"}],"owner":{"account_id":5224110,"reputation":139,"user_id":8921265,"display_name":"Abdulbasith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71086843,"answer_count":1,"score":0,"last_activity_date":1644615841,"creation_date":1644228974,"question_id":71016818,"body_markdown":"I&#39;m working with another API which calls the google Document AI API. I&#39;m trying to read the JSON String from the file into a Document object. How should this be done?\r\n\r\nI tried the following but it is not working.\r\n```\r\nimport com.google.cloud.documentai.v1.Document;\r\nimport java.io.FileInputStream;\r\n\r\nDocument document = Document.parseFrom(new FileInputStream(&quot;src/main/resources/responseFromAPICall.json&quot;));\r\nSystem.out.println(document.getText());\r\n```\r\nI&#39;m getting this error:\r\n\r\n```\r\nException in thread &quot;main&quot; com.google.protobuf.InvalidProtocolBufferException: Protocol message end-group tag did not match expected tag.\r\n\tat com.google.protobuf.InvalidProtocolBufferException.invalidEndTag(InvalidProtocolBufferException.java:129)\r\n\tat com.google.protobuf.CodedInputStream$StreamDecoder.checkLastTagWas(CodedInputStream.java:2124)\r\n\tat com.google.protobuf.CodedInputStream$StreamDecoder.readGroup(CodedInputStream.java:2358)\r\n```","title":"How to read json response string into Document object of Document AI from java?","body":"<p>I'm working with another API which calls the google Document AI API. I'm trying to read the JSON String from the file into a Document object. How should this be done?</p>\n<p>I tried the following but it is not working.</p>\n<pre><code>import com.google.cloud.documentai.v1.Document;\nimport java.io.FileInputStream;\n\nDocument document = Document.parseFrom(new FileInputStream(&quot;src/main/resources/responseFromAPICall.json&quot;));\nSystem.out.println(document.getText());\n</code></pre>\n<p>I'm getting this error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.protobuf.InvalidProtocolBufferException: Protocol message end-group tag did not match expected tag.\n    at com.google.protobuf.InvalidProtocolBufferException.invalidEndTag(InvalidProtocolBufferException.java:129)\n    at com.google.protobuf.CodedInputStream$StreamDecoder.checkLastTagWas(CodedInputStream.java:2124)\n    at com.google.protobuf.CodedInputStream$StreamDecoder.readGroup(CodedInputStream.java:2358)\n</code></pre>\n"},{"tags":["java","jvm","heap-dump","thread-dump"],"comments":[{"owner":{"account_id":13465,"reputation":7411,"user_id":27067,"accept_rate":100,"display_name":"iny"},"score":0,"creation_date":1230920709,"post_id":407612,"comment_id":80116520,"body_markdown":"See http://java.sun.com/javase/6/docs/technotes/tools/#troubleshoot","body":"See <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/#troubleshoot\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/technotes/tools/#troubleshoot</a>"}],"answers":[{"tags":[],"owner":{"account_id":12111,"reputation":75875,"user_id":23691,"accept_rate":71,"display_name":"krosenvold"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1507042711,"creation_date":1230920391,"answer_id":407625,"question_id":407612,"body_markdown":"You can send the `kill -3 &lt;pid&gt;` from Cygwin. You have to use the Cygwin `ps` options to find windows processes then just send the signal to that process.","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>You can send the <code>kill -3 &lt;pid&gt;</code> from Cygwin. You have to use the Cygwin <code>ps</code> options to find windows processes then just send the signal to that process.</p>\n"},{"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1547107828,"creation_date":1230920786,"answer_id":407635,"question_id":407612,"body_markdown":"You have to redirect output from second java executable to some file.\r\nThen, use [SendSignal][1] to [send &quot;-3&quot;][2] to your second process.\r\n\r\n\r\n  [1]: http://www.viewtier.com/support/technical_notes/SendSignal.exe\r\n  [2]: https://stackoverflow.com/questions/813086/can-i-send-a-ctrl-c-sigint-to-an-application-on-windows","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>You have to redirect output from second java executable to some file.\nThen, use <a href=\"http://www.viewtier.com/support/technical_notes/SendSignal.exe\" rel=\"nofollow noreferrer\">SendSignal</a> to <a href=\"https://stackoverflow.com/questions/813086/can-i-send-a-ctrl-c-sigint-to-an-application-on-windows\">send \"-3\"</a> to your second process.</p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1230922265,"creation_date":1230921922,"answer_id":407685,"question_id":407612,"body_markdown":"You could run `jconsole` (included with Java 6&#39;s SDK) then connect to your Java application. It will show you every Thread running and its stack trace.","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>You could run <code>jconsole</code> (included with Java 6's SDK) then connect to your Java application. It will show you every Thread running and its stack trace.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1230924354,"creation_date":1230924354,"answer_id":407792,"question_id":407612,"body_markdown":"I recommend the Java VisualVM distributed with the JDK (jvisualvm.exe).  It can connect dynamically and access the threads and heap.  I have found in invaluable for some problems.","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>I recommend the Java VisualVM distributed with the JDK (jvisualvm.exe).  It can connect dynamically and access the threads and heap.  I have found in invaluable for some problems.</p>\n"},{"tags":[],"owner":{"account_id":67017,"reputation":4157,"user_id":196315,"display_name":"ankon"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1435741653,"creation_date":1259516764,"answer_id":1816177,"question_id":407612,"body_markdown":"In addition to using the mentioned jconsole/visualvm, you can use `jstack -l &lt;vm-id&gt;` on another command line window, and capture that output.\r\n\r\nThe &amp;lt;vm-id&amp;gt; can be found using the task manager (it is the process id on windows and unix), or using `jps`.\r\n\r\nBoth `jstack` and `jps` are include in the Sun JDK version 6 and higher.","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>In addition to using the mentioned jconsole/visualvm, you can use <code>jstack -l &lt;vm-id&gt;</code> on another command line window, and capture that output.</p>\n\n<p>The &lt;vm-id&gt; can be found using the task manager (it is the process id on windows and unix), or using <code>jps</code>.</p>\n\n<p>Both <code>jstack</code> and <code>jps</code> are include in the Sun JDK version 6 and higher.</p>\n"},{"tags":[],"owner":{"account_id":623461,"reputation":5119,"user_id":366887,"display_name":"rkaganda"},"down_vote_count":1,"up_vote_count":462,"is_accepted":false,"score":461,"last_activity_date":1644615358,"creation_date":1276575144,"answer_id":3042463,"question_id":407612,"body_markdown":"You can use `jmap` to get a dump of any process running, assuming you know the `pid`.\r\n\r\nUse Task Manager or Resource Monitor to get the `pid`. Then\r\n\r\n    jmap -dump:format=b,file=heap.hprof &lt;pid&gt;\r\n\r\nto get the heap for that process.\r\n\r\nFor systems where `bash` and `pgrep` are installed and a single Java process is running, try:\r\n\r\n    jmap -dump:format=b,file=heap.hprof $(pgrep java)\r\n","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>You can use <code>jmap</code> to get a dump of any process running, assuming you know the <code>pid</code>.</p>\n<p>Use Task Manager or Resource Monitor to get the <code>pid</code>. Then</p>\n<pre><code>jmap -dump:format=b,file=heap.hprof &lt;pid&gt;\n</code></pre>\n<p>to get the heap for that process.</p>\n<p>For systems where <code>bash</code> and <code>pgrep</code> are installed and a single Java process is running, try:</p>\n<pre><code>jmap -dump:format=b,file=heap.hprof $(pgrep java)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":140373,"reputation":2438,"user_id":346629,"accept_rate":55,"display_name":"Daniel Winterstein"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1326902352,"creation_date":1326902352,"answer_id":8913240,"question_id":407612,"body_markdown":"If you want a heapdump on out-of-memory, you can start Java with the option `-XX:-HeapDumpOnOutOfMemoryError` \r\n\r\nc.f. [JVM Options reference page][1]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>If you want a heapdump on out-of-memory, you can start Java with the option <code>-XX:-HeapDumpOnOutOfMemoryError</code> </p>\n\n<p>c.f. <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">JVM Options reference page</a></p>\n"},{"tags":[],"owner":{"account_id":3296491,"reputation":1949,"user_id":2773646,"display_name":"Derek"},"down_vote_count":2,"up_vote_count":133,"is_accepted":false,"score":131,"last_activity_date":1524662538,"creation_date":1379531712,"answer_id":18880485,"question_id":407612,"body_markdown":"You are confusing two different java dumps.  `kill -3` generates a thread dump, not a heap dump.  \n\n&gt; Thread dump = stack traces for each thread in the JVM output to stdout as text. \n&gt;\n&gt;Heap dump = memory contents for the JVM process output to a binary file.\n\nTo take a thread dump on Windows, &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;BREAK&lt;/kbd&gt; if your JVM is the foreground process is the simplest way.  If you have a unix-like shell on Windows like Cygwin or MobaXterm, you can use `kill -3 {pid}` like you can in Unix.\n\nTo take a thread dump in Unix, &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;C&lt;/kbd&gt; if your JVM is the foreground process or `kill -3 {pid}` will work as long as you get the right PID for the JVM.\n\nWith either platform, Java comes with several utilities that can help.  For thread dumps, `jstack {pid}` is your best bet. http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstack.html\n\nJust to finish the dump question out: Heap dumps are not commonly used because they are difficult to interpret.  But, they have a lot of useful information in them if you know where/how to look at them.  The most common usage is to locate memory leaks.  It is a good practice to set the `-D` on the java command-line so that the heap dump is generated automatically upon an OutOfMemoryError, `-XX:+HeapDumpOnOutOfMemoryError`  But, you can manually trigger a heap dump, also.  The most common way is to use the java utility `jmap`.  \n\n**NOTE:** this utility is not available on all platforms.  As of JDK 1.6, `jmap` is available on Windows.  \n\nAn example command-line would look something like \n\n    jmap -dump:file=myheap.bin {pid of the JVM}\n\nThe output &quot;myheap.bin&quot; is not human readable (for most of us), and you will need a tool to analyze it.  My preference is MAT.  http://www.eclipse.org/mat/","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>You are confusing two different java dumps.  <code>kill -3</code> generates a thread dump, not a heap dump.</p>\n<blockquote>\n<p>Thread dump = stack traces for each thread in the JVM output to stdout as text.</p>\n<p>Heap dump = memory contents for the JVM process output to a binary file.</p>\n</blockquote>\n<p>To take a thread dump on Windows, <kbd>CTRL</kbd>+<kbd>BREAK</kbd> if your JVM is the foreground process is the simplest way.  If you have a unix-like shell on Windows like Cygwin or MobaXterm, you can use <code>kill -3 {pid}</code> like you can in Unix.</p>\n<p>To take a thread dump in Unix, <kbd>CTRL</kbd>+<kbd>C</kbd> if your JVM is the foreground process or <code>kill -3 {pid}</code> will work as long as you get the right PID for the JVM.</p>\n<p>With either platform, Java comes with several utilities that can help.  For thread dumps, <code>jstack {pid}</code> is your best bet. <a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstack.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstack.html</a></p>\n<p>Just to finish the dump question out: Heap dumps are not commonly used because they are difficult to interpret.  But, they have a lot of useful information in them if you know where/how to look at them.  The most common usage is to locate memory leaks.  It is a good practice to set the <code>-D</code> on the java command-line so that the heap dump is generated automatically upon an OutOfMemoryError, <code>-XX:+HeapDumpOnOutOfMemoryError</code>  But, you can manually trigger a heap dump, also.  The most common way is to use the java utility <code>jmap</code>.</p>\n<p><strong>NOTE:</strong> this utility is not available on all platforms.  As of JDK 1.6, <code>jmap</code> is available on Windows.</p>\n<p>An example command-line would look something like</p>\n<pre><code>jmap -dump:file=myheap.bin {pid of the JVM}\n</code></pre>\n<p>The output &quot;myheap.bin&quot; is not human readable (for most of us), and you will need a tool to analyze it.  My preference is MAT.  <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">http://www.eclipse.org/mat/</a></p>\n"},{"tags":[],"owner":{"account_id":3437918,"reputation":341,"user_id":2880580,"display_name":"Roberto Flores"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1381790950,"creation_date":1381789894,"answer_id":19370350,"question_id":407612,"body_markdown":"I think the best way to create .hprof file in Linux process is with **jmap** command. For example: `jmap -dump:format=b,file=filename.hprof {PID}`","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>I think the best way to create .hprof file in Linux process is with <strong>jmap</strong> command. For example: <code>jmap -dump:format=b,file=filename.hprof {PID}</code></p>\n"},{"tags":[],"owner":{"account_id":157982,"reputation":4128,"user_id":376287,"accept_rate":83,"display_name":"Badal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454644561,"creation_date":1423734497,"answer_id":28474185,"question_id":407612,"body_markdown":"If you are using JDK 1.6 or above, You can use `jmap` command to take a heap Dump of a Java process, condition is you should known ProcessID.\r\n\r\nIf you are on Windows Machine, you can use Task Manager to get PID. For Linux machine you can use varieties of command like `ps -A | grep java` or  `netstat -tupln | grep java` or `top | grep java`, depends on your application.\r\n\r\nThen you can use the command like `jmap -dump:format=b,file=sample_heap_dump.hprof 1234` where 1234 is PID.\r\n\r\nThere are varieties of [tool available][1] to interpret the hprof file. I will recommend Oracle&#39;s visualvm tool, which is simple to use. \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/tooldescr-136044.html","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>If you are using JDK 1.6 or above, You can use <code>jmap</code> command to take a heap Dump of a Java process, condition is you should known ProcessID.</p>\n\n<p>If you are on Windows Machine, you can use Task Manager to get PID. For Linux machine you can use varieties of command like <code>ps -A | grep java</code> or  <code>netstat -tupln | grep java</code> or <code>top | grep java</code>, depends on your application.</p>\n\n<p>Then you can use the command like <code>jmap -dump:format=b,file=sample_heap_dump.hprof 1234</code> where 1234 is PID.</p>\n\n<p>There are varieties of <a href=\"http://www.oracle.com/technetwork/java/javase/tooldescr-136044.html\" rel=\"nofollow\">tool available</a> to interpret the hprof file. I will recommend Oracle's visualvm tool, which is simple to use. </p>\n"},{"tags":[],"owner":{"account_id":396974,"reputation":4632,"user_id":760854,"accept_rate":50,"display_name":"Atul Soman"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1507042804,"creation_date":1454996593,"answer_id":35284729,"question_id":407612,"body_markdown":"If you are on server-jre 8 and above you can use this:\r\n\r\n    jcmd PID GC.heap_dump /tmp/dump","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>If you are on server-jre 8 and above you can use this:</p>\n\n<pre><code>jcmd PID GC.heap_dump /tmp/dump\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1507042898,"creation_date":1467986521,"answer_id":38268609,"question_id":407612,"body_markdown":"Try one of below options.\r\n\r\n1. For 32 bit JVM:\r\n\r\n        jmap -dump:format=b,file=&lt;heap_dump_filename&gt; &lt;pid&gt;\r\n\r\n2. For 64 bit JVM (explicitly quoting):\r\n    \r\n        jmap -J-d64 -dump:format=b,file=&lt;heap_dump_filename&gt; &lt;pid&gt;\r\n   \r\n3. For 64 bit JVM with G1GC algorithm in VM parameters (Only live objects heap is generated with G1GC algorithm): \r\n\r\n        jmap -J-d64 -dump:live,format=b,file=&lt;heap_dump_filename&gt; &lt;pid&gt;\r\n\r\nRelated SE question: https://stackoverflow.com/questions/36604102/java-heap-dump-error-with-jmap-command-premature-eof/ \r\n\r\nHave a look at various options of `jmap` at this [article][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>Try one of below options.</p>\n\n<ol>\n<li><p>For 32 bit JVM:</p>\n\n<pre><code>jmap -dump:format=b,file=&lt;heap_dump_filename&gt; &lt;pid&gt;\n</code></pre></li>\n<li><p>For 64 bit JVM (explicitly quoting):</p>\n\n<pre><code>jmap -J-d64 -dump:format=b,file=&lt;heap_dump_filename&gt; &lt;pid&gt;\n</code></pre></li>\n<li><p>For 64 bit JVM with G1GC algorithm in VM parameters (Only live objects heap is generated with G1GC algorithm): </p>\n\n<pre><code>jmap -J-d64 -dump:live,format=b,file=&lt;heap_dump_filename&gt; &lt;pid&gt;\n</code></pre></li>\n</ol>\n\n<p>Related SE question: <a href=\"https://stackoverflow.com/questions/36604102/java-heap-dump-error-with-jmap-command-premature-eof/\">Java heap dump error with jmap command : Premature EOF</a> </p>\n\n<p>Have a look at various options of <code>jmap</code> at this <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html\" rel=\"noreferrer\">article</a></p>\n"},{"tags":[],"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589473493,"creation_date":1490293736,"answer_id":42984176,"question_id":407612,"body_markdown":"The following script uses PsExec to connect to another Windows Session so it works even when connected via Remote Desktop Service.\r\n\r\nI wrote a small batch script for Java 8 (using [`PsExec`][1] and `jcmd`) named [`jvmdump.bat`][2], which dumps the threads, heap, system properties, and JVM args.\r\n\r\n    \r\n    :: set the paths for your environment\r\n    set PsExec=C:\\Apps\\SysInternals\\PsExec.exe\r\n    set JAVA_HOME=C:\\Apps\\Java\\jdk1.8.0_121\r\n    set DUMP_DIR=C:\\temp\r\n\r\n    @echo off\r\n    \r\n    set PID=%1\r\n    \r\n    if &quot;%PID%&quot;==&quot;&quot; (\r\n    \techo usage: jvmdump.bat {pid}\r\n    \texit /b\r\n    )\r\n    \r\n    for /f &quot;tokens=2,3,4 delims=/ &quot; %%f in (&#39;date /t&#39;) do set timestamp_d=%%h%%g%%f\r\n    for /f &quot;tokens=1,2 delims=: &quot; %%f in (&#39;time /t&#39;) do set timestamp_t=%%f%%g\r\n    set timestamp=%timestamp_d%%timestamp_t%\r\n    echo datetime is: %timestamp%\r\n    \r\n    echo ### Version &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    %PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.version &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    \r\n    echo. &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    echo ### Uptime &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    %PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.uptime &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    \r\n    echo. &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    echo ### Command &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    %PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.command_line &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    \r\n    echo. &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    echo ### Flags &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    %PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.flags &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    \r\n    echo. &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    echo ### Properties &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    %PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.system_properties &gt;&gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-jvm.log&quot;\r\n    \r\n    %PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% Thread.print -l &gt;&quot;%DUMP_DIR%\\%PID%-%timestamp%-threads.log&quot;\r\n    \r\n    %PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% GC.heap_dump &quot;%DUMP_DIR%\\%PID%-%timestamp%-heap.hprof&quot;\r\n    \r\n    echo Dumped to %DUMP_DIR%\r\n\r\n\r\nIt must be run in the same Windows session of the user that started the JVM, so if you connect through Remote Desktop you might need to launch a command prompt in `Session 0` and run it from there.  e.g.\r\n\r\n    %PsExec% -s -h -d -i 0 cmd.exe\r\n\r\nThis will prompt you (click the taskbar icon at the bottom) to `View the message` in the interactive session, which will take you to the new console in the other session from which you can run the `jvmdump.bat` script.\r\n\r\n  [1]: https://technet.microsoft.com/en-us/sysinternals/bb897553.aspx\r\n  [2]: https://gist.github.com/isapir/e2bf7595b926a94d54516f395f89e1c8","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>The following script uses PsExec to connect to another Windows Session so it works even when connected via Remote Desktop Service.</p>\n\n<p>I wrote a small batch script for Java 8 (using <a href=\"https://technet.microsoft.com/en-us/sysinternals/bb897553.aspx\" rel=\"nofollow noreferrer\"><code>PsExec</code></a> and <code>jcmd</code>) named <a href=\"https://gist.github.com/isapir/e2bf7595b926a94d54516f395f89e1c8\" rel=\"nofollow noreferrer\"><code>jvmdump.bat</code></a>, which dumps the threads, heap, system properties, and JVM args.</p>\n\n<pre><code>:: set the paths for your environment\nset PsExec=C:\\Apps\\SysInternals\\PsExec.exe\nset JAVA_HOME=C:\\Apps\\Java\\jdk1.8.0_121\nset DUMP_DIR=C:\\temp\n\n@echo off\n\nset PID=%1\n\nif \"%PID%\"==\"\" (\n    echo usage: jvmdump.bat {pid}\n    exit /b\n)\n\nfor /f \"tokens=2,3,4 delims=/ \" %%f in ('date /t') do set timestamp_d=%%h%%g%%f\nfor /f \"tokens=1,2 delims=: \" %%f in ('time /t') do set timestamp_t=%%f%%g\nset timestamp=%timestamp_d%%timestamp_t%\necho datetime is: %timestamp%\n\necho ### Version &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n%PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.version &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n\necho. &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\necho ### Uptime &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n%PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.uptime &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n\necho. &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\necho ### Command &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n%PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.command_line &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n\necho. &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\necho ### Flags &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n%PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.flags &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n\necho. &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\necho ### Properties &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n%PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% VM.system_properties &gt;&gt;\"%DUMP_DIR%\\%PID%-%timestamp%-jvm.log\"\n\n%PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% Thread.print -l &gt;\"%DUMP_DIR%\\%PID%-%timestamp%-threads.log\"\n\n%PsExec% -s %JAVA_HOME%\\bin\\jcmd.exe %PID% GC.heap_dump \"%DUMP_DIR%\\%PID%-%timestamp%-heap.hprof\"\n\necho Dumped to %DUMP_DIR%\n</code></pre>\n\n<p>It must be run in the same Windows session of the user that started the JVM, so if you connect through Remote Desktop you might need to launch a command prompt in <code>Session 0</code> and run it from there.  e.g.</p>\n\n<pre><code>%PsExec% -s -h -d -i 0 cmd.exe\n</code></pre>\n\n<p>This will prompt you (click the taskbar icon at the bottom) to <code>View the message</code> in the interactive session, which will take you to the new console in the other session from which you can run the <code>jvmdump.bat</code> script.</p>\n"},{"tags":[],"owner":{"account_id":5475128,"reputation":107,"user_id":4353310,"display_name":"Suresh Ram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519303087,"creation_date":1519292261,"answer_id":48923965,"question_id":407612,"body_markdown":"On a Oracle JDK, we have a command called jmap (available in the bin folder of Java Home).\r\nusage of the command comes as follows\r\n\r\n&gt; jmap (option) (pid)\r\n\r\nExample: jmap -dump:live,format=b,file=heap.bin (pid)\r\n\r\n","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>On a Oracle JDK, we have a command called jmap (available in the bin folder of Java Home).\nusage of the command comes as follows</p>\n\n<blockquote>\n  <p>jmap (option) (pid)</p>\n</blockquote>\n\n<p>Example: jmap -dump:live,format=b,file=heap.bin (pid)</p>\n"},{"tags":[],"owner":{"account_id":3938431,"reputation":4754,"user_id":4289700,"display_name":"HugoTeixeira"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533261625,"creation_date":1533261625,"answer_id":51664333,"question_id":407612,"body_markdown":"If you can&#39;t (or don&#39;t want) to use the console/terminal for some reason, there is an alternative solution. You can make the Java application print the thread dump for you. The code that collects the Stack Trace is reasonable simple and can be attached to a button or a web interface.\r\n\r\n\tprivate static String getThreadDump() {\r\n\t\tMap&lt;Thread, StackTraceElement[]&gt; allStackTraces = Thread.getAllStackTraces();\r\n\r\n\t\tStringBuilder out = new StringBuilder();\r\n\t\tfor (Map.Entry&lt;Thread, StackTraceElement[]&gt; entry : allStackTraces.entrySet()) {\r\n\t\t\tThread thread = entry.getKey();\r\n\t\t\tStackTraceElement[] elements = entry.getValue();\r\n\t\t\tout.append(String.format(&quot;%s | prio=%d | %s&quot;, thread.getName(), thread.getPriority(), thread.getState()));\r\n\t\t\tout.append(&#39;\\n&#39;);\r\n\r\n\t\t\tfor (StackTraceElement element : elements) {\r\n\t\t\t\tout.append(element.toString()).append(&#39;\\n&#39;);\r\n\t\t\t}\r\n\t\t\tout.append(&#39;\\n&#39;);\r\n\t\t}\r\n\t\treturn out.toString();\r\n\t}\r\n\r\nThis method will return a string that looks like this:\r\n\r\n\tmain | prio=5 | RUNNABLE\r\n\tjava.lang.Thread.dumpThreads(Native Method)\r\n\tjava.lang.Thread.getAllStackTraces(Thread.java:1607)\r\n\tMain.getThreadDump(Main.java:8)\r\n\tMain.main(Main.java:36)\r\n\t\r\n\tMonitor Ctrl-Break | prio=5 | RUNNABLE\r\n\tjava.net.PlainSocketImpl.initProto(Native Method)\r\n\tjava.net.PlainSocketImpl.&lt;clinit&gt;(PlainSocketImpl.java:45)\r\n\tjava.net.Socket.setImpl(Socket.java:503)\r\n\tjava.net.Socket.&lt;init&gt;(Socket.java:424)\r\n\tjava.net.Socket.&lt;init&gt;(Socket.java:211)\r\n\tcom.intellij.rt.execution.application.AppMainV2$1.run(AppMainV2.java:59)\r\n\t\r\n\tFinalizer | prio=8 | WAITING\r\n\tjava.lang.Object.wait(Native Method)\r\n\tjava.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\r\n\tjava.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\r\n\tjava.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\r\n\t\r\n\tReference Handler | prio=10 | WAITING\r\n\tjava.lang.Object.wait(Native Method)\r\n\tjava.lang.Object.wait(Object.java:502)\r\n\tjava.lang.ref.Reference.tryHandlePending(Reference.java:191)\r\n\tjava.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\r\n\r\nFor those interested in a Java 8 version with streams, the code is even more compact:\r\n\r\n\tprivate static String getThreadDump() {\r\n\t\tMap&lt;Thread, StackTraceElement[]&gt; allStackTraces = Thread.getAllStackTraces();\r\n\t\tStringBuilder out = new StringBuilder();\r\n\t\tallStackTraces.forEach((thread, elements) -&gt; {\r\n\t\t\tout.append(String.format(&quot;%s | prio=%d | %s&quot;, thread.getName(), thread.getPriority(), thread.getState()));\r\n\t\t\tout.append(&#39;\\n&#39;);\r\n\r\n\t\t\tArrays.stream(elements).forEach(element -&gt; out.append(element.toString()).append(&#39;\\n&#39;));\r\n\t\t\tout.append(&#39;\\n&#39;);\r\n\t\t});\r\n\t\treturn out.toString();\r\n\t}\r\n\r\nYou can easily test this code with:\r\n\r\n    System.out.print(getThreadDump());","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>If you can't (or don't want) to use the console/terminal for some reason, there is an alternative solution. You can make the Java application print the thread dump for you. The code that collects the Stack Trace is reasonable simple and can be attached to a button or a web interface.</p>\n\n<pre><code>private static String getThreadDump() {\n    Map&lt;Thread, StackTraceElement[]&gt; allStackTraces = Thread.getAllStackTraces();\n\n    StringBuilder out = new StringBuilder();\n    for (Map.Entry&lt;Thread, StackTraceElement[]&gt; entry : allStackTraces.entrySet()) {\n        Thread thread = entry.getKey();\n        StackTraceElement[] elements = entry.getValue();\n        out.append(String.format(\"%s | prio=%d | %s\", thread.getName(), thread.getPriority(), thread.getState()));\n        out.append('\\n');\n\n        for (StackTraceElement element : elements) {\n            out.append(element.toString()).append('\\n');\n        }\n        out.append('\\n');\n    }\n    return out.toString();\n}\n</code></pre>\n\n<p>This method will return a string that looks like this:</p>\n\n<pre><code>main | prio=5 | RUNNABLE\njava.lang.Thread.dumpThreads(Native Method)\njava.lang.Thread.getAllStackTraces(Thread.java:1607)\nMain.getThreadDump(Main.java:8)\nMain.main(Main.java:36)\n\nMonitor Ctrl-Break | prio=5 | RUNNABLE\njava.net.PlainSocketImpl.initProto(Native Method)\njava.net.PlainSocketImpl.&lt;clinit&gt;(PlainSocketImpl.java:45)\njava.net.Socket.setImpl(Socket.java:503)\njava.net.Socket.&lt;init&gt;(Socket.java:424)\njava.net.Socket.&lt;init&gt;(Socket.java:211)\ncom.intellij.rt.execution.application.AppMainV2$1.run(AppMainV2.java:59)\n\nFinalizer | prio=8 | WAITING\njava.lang.Object.wait(Native Method)\njava.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\njava.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\njava.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\n\nReference Handler | prio=10 | WAITING\njava.lang.Object.wait(Native Method)\njava.lang.Object.wait(Object.java:502)\njava.lang.ref.Reference.tryHandlePending(Reference.java:191)\njava.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\n</code></pre>\n\n<p>For those interested in a Java 8 version with streams, the code is even more compact:</p>\n\n<pre><code>private static String getThreadDump() {\n    Map&lt;Thread, StackTraceElement[]&gt; allStackTraces = Thread.getAllStackTraces();\n    StringBuilder out = new StringBuilder();\n    allStackTraces.forEach((thread, elements) -&gt; {\n        out.append(String.format(\"%s | prio=%d | %s\", thread.getName(), thread.getPriority(), thread.getState()));\n        out.append('\\n');\n\n        Arrays.stream(elements).forEach(element -&gt; out.append(element.toString()).append('\\n'));\n        out.append('\\n');\n    });\n    return out.toString();\n}\n</code></pre>\n\n<p>You can easily test this code with:</p>\n\n<pre><code>System.out.print(getThreadDump());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548701005,"creation_date":1548701005,"answer_id":54408355,"question_id":407612,"body_markdown":"Visualvm followup:\r\n\r\nIf you &quot;can&#39;t connect&quot; to your running JVM from jvisualvm because you didn&#39;t start it with the right JVM arguments (and it&#39;s on remote box), run `jstatd` on the remote box, then, assuming you have a direct connection, add it as a &quot;remote host&quot; in visualvm, double click the host name, and all other JVM&#39;s on that box will magically show up in visualvm.\r\n\r\n  If you don&#39;t have &quot;direct connection&quot; to ports on that box, you can also do this through a [proxy][1].  \r\n\r\nOnce you can see the process you want, drill into it in jvisualvm and use monitor tab -&gt; &quot;heapdump&quot; button.\r\n\r\n\r\n  [1]: https://dzone.com/articles/visualvm-monitoring-remote-jvm","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>Visualvm followup:</p>\n\n<p>If you \"can't connect\" to your running JVM from jvisualvm because you didn't start it with the right JVM arguments (and it's on remote box), run <code>jstatd</code> on the remote box, then, assuming you have a direct connection, add it as a \"remote host\" in visualvm, double click the host name, and all other JVM's on that box will magically show up in visualvm.</p>\n\n<p>If you don't have \"direct connection\" to ports on that box, you can also do this through a <a href=\"https://dzone.com/articles/visualvm-monitoring-remote-jvm\" rel=\"nofollow noreferrer\">proxy</a>.  </p>\n\n<p>Once you can see the process you want, drill into it in jvisualvm and use monitor tab -> \"heapdump\" button.</p>\n"},{"tags":[],"owner":{"account_id":2324956,"reputation":967,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644433130,"creation_date":1557992468,"answer_id":56163317,"question_id":407612,"body_markdown":"Below java code is used to get the Heap Dump of a Java Process by providing a remote process&#39; PID. The Program uses Remote JMX connection to dump heap to a file. It may be helpful for some one.  Doesn&#39;t require jmap.\r\n\r\n    \r\n    import java.lang.management.ManagementFactory;\r\n    import javax.management.MBeanServerConnection;\r\n    import javax.management.remote.JMXConnector;\r\n    import javax.management.remote.JMXConnectorFactory;\r\n    import javax.management.remote.JMXServiceURL;\r\n    import java.lang.reflect.Method;\r\n    \r\n    public class HeapDumper {\r\n\r\n\tpublic static final String HOST = &quot;192.168.11.177&quot;;\r\n    public static final String PORT = &quot;1600&quot;;\r\n    public static final String FILE_NAME = &quot;heapDump.hprof&quot;;\r\n    public static final String FOLDER_PATH = &quot;C:/&quot;;\r\n    private static final String HOTSPOT_BEAN_NAME =&quot;com.sun.management:type=HotSpotDiagnostic&quot;;\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tif(args.length == 0) {\r\n\t\t\tSystem.out.println(&quot;Enter PID of the Java Process !!!&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tString pidString = args[0];\r\n\t\tint pid = -1;\r\n\t\tif(pidString!=null &amp;&amp; pidString.length() &gt; 0) {\r\n\t\t\ttry {\r\n\t\t\t\tpid = Integer.parseInt(pidString);\r\n\t\t\t}\r\n\t\t\tcatch(Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;PID is not Valid !!!&quot;);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tboolean isHeapDumpSuccess = false;\r\n\t\tboolean live = true;\r\n\t\tif(pid &gt; 0) {\r\n\t\t\tMBeanServerConnection beanServerConn = getJMXConnection();\r\n\t\t\t\r\n\t\t\tif(beanServerConn!=null) {\r\n\t\t\t\tClass clazz = null;\r\n\t\t\t\tString dumpFile = FOLDER_PATH+&quot;/&quot;+FILE_NAME;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tclazz = Class.forName(&quot;com.sun.management.HotSpotDiagnosticMXBean&quot;);\r\n\t\t\t\t\tObject hotspotMBean = ManagementFactory.newPlatformMXBeanProxy(beanServerConn, HOTSPOT_BEAN_NAME, clazz);\r\n\t\t\t\t\tMethod method = clazz.getMethod(&quot;dumpHeap&quot;, new Class[]{String.class , boolean.class});\r\n\t\t\t\t\tmethod.setAccessible(true);\r\n\t\t\t\t\tmethod.invoke(hotspotMBean , new Object[] {dumpFile, new Boolean(live)});\r\n\t\t\t\t\tisHeapDumpSuccess = true;\r\n\t\t\t\t}\r\n\t\t\t\tcatch(Exception e){\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\tisHeapDumpSuccess = false;\r\n\t\t\t\t}\r\n\t\t\t\tfinally{\r\n\t\t\t\t\tclazz = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(isHeapDumpSuccess){\r\n\t\t\tSystem.out.println(&quot;HeapDump is Success !!!&quot;);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;HeapDump is not Success !!!&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static MBeanServerConnection getJMXConnection() {\r\n\t\tMBeanServerConnection mbeanServerConnection = null;\r\n\t\tString urlString = &quot;service:jmx:rmi:///jndi/rmi://&quot; + HOST + &quot;:&quot; + PORT + &quot;/jmxrmi&quot;;\r\n\t\ttry {\r\n\t\t\tJMXServiceURL url = new JMXServiceURL(urlString);\r\n\t        JMXConnector jmxConnector = JMXConnectorFactory.connect(url);\r\n\t        mbeanServerConnection = jmxConnector.getMBeanServerConnection();\r\n\t        System.out.println(&quot;JMX Connection is Success for the URL :&quot;+urlString);\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.println(&quot;JMX Connection Failed !!!&quot;);\r\n\t\t}\r\n\t\treturn mbeanServerConnection;\r\n\t}\r\n\r\n}\r\n","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>Below java code is used to get the Heap Dump of a Java Process by providing a remote process' PID. The Program uses Remote JMX connection to dump heap to a file. It may be helpful for some one.  Doesn't require jmap.</p>\n<pre><code>import java.lang.management.ManagementFactory;\nimport javax.management.MBeanServerConnection;\nimport javax.management.remote.JMXConnector;\nimport javax.management.remote.JMXConnectorFactory;\nimport javax.management.remote.JMXServiceURL;\nimport java.lang.reflect.Method;\n\npublic class HeapDumper {\n\npublic static final String HOST = &quot;192.168.11.177&quot;;\npublic static final String PORT = &quot;1600&quot;;\npublic static final String FILE_NAME = &quot;heapDump.hprof&quot;;\npublic static final String FOLDER_PATH = &quot;C:/&quot;;\nprivate static final String HOTSPOT_BEAN_NAME =&quot;com.sun.management:type=HotSpotDiagnostic&quot;;\n\npublic static void main(String[] args) {\n    if(args.length == 0) {\n        System.out.println(&quot;Enter PID of the Java Process !!!&quot;);\n        return;\n    }\n    \n    String pidString = args[0];\n    int pid = -1;\n    if(pidString!=null &amp;&amp; pidString.length() &gt; 0) {\n        try {\n            pid = Integer.parseInt(pidString);\n        }\n        catch(Exception e) {\n            System.out.println(&quot;PID is not Valid !!!&quot;);\n            return;\n        }\n    }\n    boolean isHeapDumpSuccess = false;\n    boolean live = true;\n    if(pid &gt; 0) {\n        MBeanServerConnection beanServerConn = getJMXConnection();\n        \n        if(beanServerConn!=null) {\n            Class clazz = null;\n            String dumpFile = FOLDER_PATH+&quot;/&quot;+FILE_NAME;\n            try{\n                clazz = Class.forName(&quot;com.sun.management.HotSpotDiagnosticMXBean&quot;);\n                Object hotspotMBean = ManagementFactory.newPlatformMXBeanProxy(beanServerConn, HOTSPOT_BEAN_NAME, clazz);\n                Method method = clazz.getMethod(&quot;dumpHeap&quot;, new Class[]{String.class , boolean.class});\n                method.setAccessible(true);\n                method.invoke(hotspotMBean , new Object[] {dumpFile, new Boolean(live)});\n                isHeapDumpSuccess = true;\n            }\n            catch(Exception e){\n                e.printStackTrace();\n                isHeapDumpSuccess = false;\n            }\n            finally{\n                clazz = null;\n            }\n        }\n    }\n    \n    if(isHeapDumpSuccess){\n        System.out.println(&quot;HeapDump is Success !!!&quot;);\n    }\n    else{\n        System.out.println(&quot;HeapDump is not Success !!!&quot;);\n    }\n}\n\nprivate static MBeanServerConnection getJMXConnection() {\n    MBeanServerConnection mbeanServerConnection = null;\n    String urlString = &quot;service:jmx:rmi:///jndi/rmi://&quot; + HOST + &quot;:&quot; + PORT + &quot;/jmxrmi&quot;;\n    try {\n        JMXServiceURL url = new JMXServiceURL(urlString);\n        JMXConnector jmxConnector = JMXConnectorFactory.connect(url);\n        mbeanServerConnection = jmxConnector.getMBeanServerConnection();\n        System.out.println(&quot;JMX Connection is Success for the URL :&quot;+urlString);\n    }\n    catch(Exception e) {\n        System.out.println(&quot;JMX Connection Failed !!!&quot;);\n    }\n    return mbeanServerConnection;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559137793,"creation_date":1559137793,"answer_id":56362179,"question_id":407612,"body_markdown":"Maybe [jcmd][1]?\r\n\r\n**Jcmd** utility is used to send diagnostic command requests to the JVM, where these requests are useful for controlling Java Flight Recordings, troubleshoot, and diagnose JVM and Java Applications.\r\n\r\nThe jcmd tool was introduced with Oracle&#39;s Java 7 and is particularly useful in troubleshooting issues with JVM applications by using it to identify Java processes&#39; IDs (akin to jps), acquiring heap dumps (akin to jmap), acquiring thread dumps (akin to jstack), viewing virtual machine characteristics such as system properties and command-line flags (akin to jinfo), and acquiring garbage collection statistics (akin to jstat). The jcmd tool has been called &quot;a swiss-army knife for investigating and resolving issues with your JVM application&quot; and a &quot;hidden gem.&quot;\r\n\r\nHeres the process youll need to use in invoking the `jcmd`:\r\n\r\n 1. Go to `jcmd &lt;pid&gt; GC.heap_dump &lt;file-path&gt;` \r\n 2. In which \r\n 3. pid: is a Java Process Id, for which the heap dump will be captured Also, the\r\n 4. file-path: is a file path in which the heap dump is be printed.\r\n\r\nCheck it out for more information about taking [Java heap dump][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jcmd.html\r\n  [2]: https://javatutorial.net/capture-java-heap-dump","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>Maybe <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/jcmd.html\" rel=\"nofollow noreferrer\">jcmd</a>?</p>\n\n<p><strong>Jcmd</strong> utility is used to send diagnostic command requests to the JVM, where these requests are useful for controlling Java Flight Recordings, troubleshoot, and diagnose JVM and Java Applications.</p>\n\n<p>The jcmd tool was introduced with Oracle's Java 7 and is particularly useful in troubleshooting issues with JVM applications by using it to identify Java processes' IDs (akin to jps), acquiring heap dumps (akin to jmap), acquiring thread dumps (akin to jstack), viewing virtual machine characteristics such as system properties and command-line flags (akin to jinfo), and acquiring garbage collection statistics (akin to jstat). The jcmd tool has been called \"a swiss-army knife for investigating and resolving issues with your JVM application\" and a \"hidden gem.\"</p>\n\n<p>Heres the process youll need to use in invoking the <code>jcmd</code>:</p>\n\n<ol>\n<li>Go to <code>jcmd &lt;pid&gt; GC.heap_dump &lt;file-path&gt;</code> </li>\n<li>In which </li>\n<li>pid: is a Java Process Id, for which the heap dump will be captured Also, the</li>\n<li>file-path: is a file path in which the heap dump is be printed.</li>\n</ol>\n\n<p>Check it out for more information about taking <a href=\"https://javatutorial.net/capture-java-heap-dump\" rel=\"nofollow noreferrer\">Java heap dump</a>.</p>\n"},{"tags":[],"owner":{"account_id":15369721,"reputation":101,"user_id":11531849,"display_name":"Jim T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576211377,"creation_date":1576131942,"answer_id":59298829,"question_id":407612,"body_markdown":"Inorder to take thread dump/heap dump from a child java process in windows, you need to identify the child process Id as first step. \n\nBy issuing the command: **jps** you will be able get all java process Ids that are running on your windows machine. From this list you need to select child process Id. Once you have child process Id, there are various options to capture thread dump and heap dumps.\n\n**Capturing Thread Dumps:**\n\n  There are 8 options to capture thread dumps: \n\n 1. jstack\n 2. kill -3\n 3. jvisualVM\n 4. JMC\n 5. Windows (Ctrl + Break)\n 6. ThreadMXBean\n 7. APM Tools\n 8. jcmd\n\nDetails about each option can be found [in this article][1]. Once you have capture thread dumps, you can use tools like [fastThread][2], [Samuraito][3] analyze thread dumps.\n\n**Capturing Heap Dumps:**\n\n  There are 7 options to capture heap dumps:&lt;br&gt;\n\n1. jmap&lt;br&gt;\n\n2. -XX:+HeapDumpOnOutOfMemoryError&lt;br&gt;\n\n3. jcmd&lt;br&gt;\n\n4. JVisualVM&lt;br&gt;\n\n5. JMX&lt;br&gt;\n\n6. Programmatic Approach&lt;br&gt;\n\n7. Administrative consoles&lt;br&gt;\n\nDetails about each option can be found [in this article][1]. Once you have captured heap dump, you may use tools like [Eclipse Memory Analysis tool][1], [HeapHero][2] to analyze the captured heap dumps.\n\n\n  [1]: https://www.eclipse.org/\n  [2]: https://heaphero.io/\n  [3]: https://github.com/yusuke/samurai","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>Inorder to take thread dump/heap dump from a child java process in windows, you need to identify the child process Id as first step.</p>\n<p>By issuing the command: <strong>jps</strong> you will be able get all java process Ids that are running on your windows machine. From this list you need to select child process Id. Once you have child process Id, there are various options to capture thread dump and heap dumps.</p>\n<p><strong>Capturing Thread Dumps:</strong></p>\n<p>There are 8 options to capture thread dumps:</p>\n<ol>\n<li>jstack</li>\n<li>kill -3</li>\n<li>jvisualVM</li>\n<li>JMC</li>\n<li>Windows (Ctrl + Break)</li>\n<li>ThreadMXBean</li>\n<li>APM Tools</li>\n<li>jcmd</li>\n</ol>\n<p>Details about each option can be found <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">in this article</a>. Once you have capture thread dumps, you can use tools like <a href=\"https://heaphero.io/\" rel=\"nofollow noreferrer\">fastThread</a>, <a href=\"https://github.com/yusuke/samurai\" rel=\"nofollow noreferrer\">Samuraito</a> analyze thread dumps.</p>\n<p><strong>Capturing Heap Dumps:</strong></p>\n<p>There are 7 options to capture heap dumps:<br></p>\n<ol>\n<li><p>jmap<br></p>\n</li>\n<li><p>-XX:+HeapDumpOnOutOfMemoryError<br></p>\n</li>\n<li><p>jcmd<br></p>\n</li>\n<li><p>JVisualVM<br></p>\n</li>\n<li><p>JMX<br></p>\n</li>\n<li><p>Programmatic Approach<br></p>\n</li>\n<li><p>Administrative consoles<br></p>\n</li>\n</ol>\n<p>Details about each option can be found <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">in this article</a>. Once you have captured heap dump, you may use tools like <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse Memory Analysis tool</a>, <a href=\"https://heaphero.io/\" rel=\"nofollow noreferrer\">HeapHero</a> to analyze the captured heap dumps.</p>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1578038384,"creation_date":1578038384,"answer_id":59575039,"question_id":407612,"body_markdown":"**How to get process id of java application?**\r\n\r\nExecute the command &#39;jcmd&#39; to get the process id of java applications.\r\n\r\n**How to get Thread dump?**\r\n\r\njcmd PID Thread.print &gt; thread.dump\r\n\r\nReference [link][1]\r\n\r\nYou can even use jstack to get thread dump (jstack PID &gt; thread.dump). Reference [link][2]\r\n\r\n**How to get heap dump?**\r\n\r\nUse jmap tool to get heap dump.\r\njmap -F -dump:live,format=b,file=heap.bin PID\r\n\r\nPID stands for process id of the application. Reference [link][3]\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2018/08/jcmd-threadprint-get-thread-dumps.html\r\n  [2]: https://self-learning-java-tutorial.blogspot.com/2018/08/jstack-get-thread-dump.html\r\n  [3]: https://self-learning-java-tutorial.blogspot.com/2018/08/jmap-force-heap-dump-generation.html","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p><strong>How to get process id of java application?</strong></p>\n\n<p>Execute the command 'jcmd' to get the process id of java applications.</p>\n\n<p><strong>How to get Thread dump?</strong></p>\n\n<p>jcmd PID Thread.print > thread.dump</p>\n\n<p>Reference <a href=\"https://self-learning-java-tutorial.blogspot.com/2018/08/jcmd-threadprint-get-thread-dumps.html\" rel=\"noreferrer\">link</a></p>\n\n<p>You can even use jstack to get thread dump (jstack PID > thread.dump). Reference <a href=\"https://self-learning-java-tutorial.blogspot.com/2018/08/jstack-get-thread-dump.html\" rel=\"noreferrer\">link</a></p>\n\n<p><strong>How to get heap dump?</strong></p>\n\n<p>Use jmap tool to get heap dump.\njmap -F -dump:live,format=b,file=heap.bin PID</p>\n\n<p>PID stands for process id of the application. Reference <a href=\"https://self-learning-java-tutorial.blogspot.com/2018/08/jmap-force-heap-dump-generation.html\" rel=\"noreferrer\">link</a></p>\n"}],"owner":{"display_name":"macgreg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610916,"favorite_count":0,"down_vote_count":0,"up_vote_count":269,"answer_count":20,"score":269,"last_activity_date":1644615358,"creation_date":1230920251,"question_id":407612,"body_markdown":"I have a Java application that I run from a console which in turn executes an another Java process. I want to get a thread/heap dump of that child process.\r\n\r\nOn Unix, I could do a `kill -3 &lt;pid&gt;` but on Windows AFAIK the only way to get a thread dump is Ctrl-Break in the console. But that only gives me the dump of the parent process, not the child.\r\n\r\nIs there another way to get that heap dump?","title":"How to get a thread and heap dump of a Java process on Windows that&#39;s not running in a console","body":"<p>I have a Java application that I run from a console which in turn executes an another Java process. I want to get a thread/heap dump of that child process.</p>\n\n<p>On Unix, I could do a <code>kill -3 &lt;pid&gt;</code> but on Windows AFAIK the only way to get a thread dump is Ctrl-Break in the console. But that only gives me the dump of the parent process, not the child.</p>\n\n<p>Is there another way to get that heap dump?</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1644612631,"post_id":71086290,"comment_id":125661846,"body_markdown":"Do you see this file in the application context configured in IntelliJ IDEA? https://www.jetbrains.com/help/idea/spring-support.html#spring-file-set.","body":"Do you see this file in the application context configured in IntelliJ IDEA? <a href=\"https://www.jetbrains.com/help/idea/spring-support.html#spring-file-set\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/spring-support.html#spring-file-set</a>."}],"answers":[{"tags":[],"owner":{"account_id":14719802,"reputation":1,"user_id":10630754,"display_name":"Kirti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644614895,"creation_date":1644614895,"answer_id":71086708,"question_id":71086290,"body_markdown":"Could you please try renaming file as application.properties and define property like below and check if it works?\r\nconfig.myValue = some value\r\n","title":"Spring not picking up value defined in properties file","body":"<p>Could you please try renaming file as application.properties and define property like below and check if it works?\nconfig.myValue = some value</p>\n"}],"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644614895,"creation_date":1644611936,"question_id":71086290,"body_markdown":"I have a class with inject attributes like so:\r\n\r\n```\r\n@RestController\r\npublic class MyController {\r\n\r\n    private final String myValue;\r\n\r\n    @Autowired\r\n    public MyController(\r\n        @Value(&quot;${config.myValue}&quot;) String myValue) {\r\n        this.myValue = myValue;\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/dostuff&quot;)\r\n    public String dostuff(@RequestBody String message) {\r\n      // stuff\r\n    }\r\n}\r\n```\r\n\r\nAnd then I have a config file defined inside `src/main/resources/application.yml` like so:\r\n```\r\nconfig:\r\n  myValue: &quot;some value&quot;\r\n```\r\n\r\nBut my IntelliJ (and cmd) tell me the value is not found:\r\n```\r\n Could not resolve placeholder &#39;config.myValue&#39; in value &quot;${config.myValue}&quot;\r\n```\r\n\r\nWhy is my defined value not being recognized? (I tried renaming file to `application-default.yml` and `application.properties` but that didn&#39;t help either)","title":"Spring not picking up value defined in properties file","body":"<p>I have a class with inject attributes like so:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    private final String myValue;\n\n    @Autowired\n    public MyController(\n        @Value(&quot;${config.myValue}&quot;) String myValue) {\n        this.myValue = myValue;\n    }\n\n\n    @PostMapping(&quot;/dostuff&quot;)\n    public String dostuff(@RequestBody String message) {\n      // stuff\n    }\n}\n</code></pre>\n<p>And then I have a config file defined inside <code>src/main/resources/application.yml</code> like so:</p>\n<pre><code>config:\n  myValue: &quot;some value&quot;\n</code></pre>\n<p>But my IntelliJ (and cmd) tell me the value is not found:</p>\n<pre><code> Could not resolve placeholder 'config.myValue' in value &quot;${config.myValue}&quot;\n</code></pre>\n<p>Why is my defined value not being recognized? (I tried renaming file to <code>application-default.yml</code> and <code>application.properties</code> but that didn't help either)</p>\n"},{"tags":["java","selenium","xpath","css-selectors","getattribute"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644614519,"creation_date":1644614139,"answer_id":71086595,"question_id":71086272,"body_markdown":"To print the _value_ i.e. _**1626**_ you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48376890/7429447):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  System.out.println(driver.findElement(By.cssSelector(&quot;input.mat-input-element[id^=&#39;mat-input&#39;][type=&#39;number&#39;][matinput]&quot;)).getAttribute(&quot;value&quot;));\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  System.out.println(driver.findElement(By.xpath(&quot;//input[contains(@class, &#39;mat-input-element&#39;) and starts-with(@id, &#39;mat-input&#39;)][@type=&#39;number&#39; and @matinput]&quot;)).getAttribute(&quot;value&quot;));\r\n\r\n\r\n----------\r\n\r\n\r\nHowever, as the element is a dynamic element so to identify the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [presenceOfElementLocated()](https://stackoverflow.com/a/49752577/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(&quot;input[id*=&#39;Empty&#39;][value=&#39;emptyAssembly&#39;]&quot;))).getAttribute(&quot;value&quot;));\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@value=&#39;emptyAssembly&#39; and contains(@id, &#39;Empty&#39;)]&quot;))).getAttribute(&quot;value&quot;));","title":"How to extract the value when there is no value tag using Selenium and Java","body":"<p>To print the <em>value</em> i.e. <em><strong>1626</strong></em> you can use either of the following <a href=\"https://stackoverflow.com/a/48376890/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>System.out.println(driver.findElement(By.cssSelector(&quot;input.mat-input-element[id^='mat-input'][type='number'][matinput]&quot;)).getAttribute(&quot;value&quot;));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//input[contains(@class, 'mat-input-element') and starts-with(@id, 'mat-input')][@type='number' and @matinput]&quot;)).getAttribute(&quot;value&quot;));\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>However, as the element is a dynamic element so to identify the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49752577/7429447\">presenceOfElementLocated()</a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(&quot;input[id*='Empty'][value='emptyAssembly']&quot;))).getAttribute(&quot;value&quot;));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@value='emptyAssembly' and contains(@id, 'Empty')]&quot;))).getAttribute(&quot;value&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":16135163,"reputation":11,"user_id":11647796,"display_name":"Batuhan BAKAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644614519,"creation_date":1644611828,"question_id":71086272,"body_markdown":"I want to get value of input tag and compare with sum of 2 numbers. But there is no value tag, or I can not see result number. I tried to get but I got null. The picture and Input tag is like under. \r\n\r\n    &lt;input _ngcontent-lbg-c92=&quot;&quot; matinput=&quot;&quot; type=&quot;number&quot; class=&quot;mat-input-element mat-form-field-autofill-control ng-tns-c35-2 cdk-text-field-autofill-monitored ng-untouched ng-pristine&quot; style=&quot;text-align: center;&quot; id=&quot;mat-input-2&quot; aria-invalid=&quot;false&quot; aria-required=&quot;false&quot; disabled=&quot;&quot;&gt;\r\n\r\nElement snapshot:\r\n\r\n![snapshot](https://i.stack.imgur.com/F6q15.png)","title":"How to extract the value when there is no value tag using Selenium and Java","body":"<p>I want to get value of input tag and compare with sum of 2 numbers. But there is no value tag, or I can not see result number. I tried to get but I got null. The picture and Input tag is like under.</p>\n<pre><code>&lt;input _ngcontent-lbg-c92=&quot;&quot; matinput=&quot;&quot; type=&quot;number&quot; class=&quot;mat-input-element mat-form-field-autofill-control ng-tns-c35-2 cdk-text-field-autofill-monitored ng-untouched ng-pristine&quot; style=&quot;text-align: center;&quot; id=&quot;mat-input-2&quot; aria-invalid=&quot;false&quot; aria-required=&quot;false&quot; disabled=&quot;&quot;&gt;\n</code></pre>\n<p>Element snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/F6q15.png\" alt=\"snapshot\" /></p>\n"},{"tags":["java","arrays","multithreading"],"comments":[{"owner":{"account_id":202305,"reputation":837,"user_id":449303,"accept_rate":98,"display_name":"aironman"},"score":0,"creation_date":1605100533,"post_id":64786919,"comment_id":114547838,"body_markdown":"Hi Yakov, welcome to SO. Please, you have to tell us one specific question and provide a sample with your effort. I suggest you to read this thread, try it and then, with some working example, we will try to help you. https://dzone.com/articles/java-thread-tutorial-creating-threads-and-multithr","body":"Hi Yakov, welcome to SO. Please, you have to tell us one specific question and provide a sample with your effort. I suggest you to read this thread, try it and then, with some working example, we will try to help you. <a href=\"https://dzone.com/articles/java-thread-tutorial-creating-threads-and-multithr\" rel=\"nofollow noreferrer\">dzone.com/articles/&hellip;</a>"},{"owner":{"account_id":19949419,"reputation":1,"user_id":14619400,"display_name":"Yakov"},"score":0,"creation_date":1605105780,"post_id":64786919,"comment_id":114550444,"body_markdown":"Ehh I mean I know how to find the sum of array. What I don&#39;t understand is to how assign chunks of array to each thread(sorry If I&#39;m not making myself clear, english is not my native language). I added some changes but I think it&#39;s not right","body":"Ehh I mean I know how to find the sum of array. What I don&#39;t understand is to how assign chunks of array to each thread(sorry If I&#39;m not making myself clear, english is not my native language). I added some changes but I think it&#39;s not right"},{"owner":{"account_id":23671129,"reputation":1,"user_id":17697875,"display_name":"Uma Shankar Nayak"},"score":0,"creation_date":1639710570,"post_id":64786919,"comment_id":124424442,"body_markdown":"you can find out the solution on URL below.\nhttps://codereview.stackexchange.com/questions/123305/initialize-and-sum-an-array-in-java-using-threads/123332 Thank you :)","body":"you can find out the solution on URL below. <a href=\"https://codereview.stackexchange.com/questions/123305/initialize-and-sum-an-array-in-java-using-threads/123332\" title=\"initialize and sum an array in java using threads\">codereview.stackexchange.com/questions/123305/&hellip;</a> Thank you :)"}],"answers":[{"tags":[],"owner":{"account_id":6364163,"reputation":188,"user_id":4938634,"display_name":"kvs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644613701,"creation_date":1644613701,"answer_id":71086529,"question_id":64786919,"body_markdown":"As this dates back to a year ago I would mention how I approached this.\r\nFirstly, as using ExecutorService is more encouraged I used this to do multithreading. It&#39;s also worth mentioning that I haven&#39;t used synchronize or locks as I won&#39;t share any value and the sum will be computed at the end instead of each tread adding to one common sum.\r\n\r\n```\r\npublic void arraySum(int[] arr){\r\n        start = System.currentTimeMillis();\r\n\t\tExecutorService exec = Executors.newSingleThreadExecutor();\r\n\t\tsum = 0L;\r\n\t\tint noThreads = 100;\r\n\t\tint length = arr.length/noThreads;\r\n\t\t\r\n\t\tList&lt;Long&gt; res = new ArrayList&lt;&gt;();\r\n\t\tfor(int i=0;i&lt;noThreads;i++) {//each thread\r\n\t\t\tint low = length*i;\r\n\t\t\tint high = length+low;\r\n\t\t\t\r\n\t\t\tres.add(exec.submit(callable(arr, low, high)).get());\r\n\t\t}\r\n\t\t\t\t\r\n\t\texec.shutdown();\r\n\t\twhile(!exec.isTerminated());\r\n\t\tif(exec.isTerminated()) {\t\t\t\r\n\t\t\tfor(long l:res) {\t\t\t\t\r\n\t\t\t\tsum+= l;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinish = System.currentTimeMillis();\r\n\t\tSystem.out.println(noThreads+&quot; threads: Sum: &quot;+sum+&quot; Complettion in miliseconds: &quot;+(finish -start));\r\n\t\t\r\n\t}\r\n\r\n\tCallable&lt;Long&gt; callable(int[] arr,int low, int high){\r\n\t\treturn ()-&gt;{\r\n\t\t\tLong res = 0L;\r\n\t\t\tfor(int i=low;i&lt;high;i++) {\r\n\t\t\t\tres += arr[i];\r\n\t\t\t}\t\t\t\r\n\t\t\treturn res;\r\n\t\t};\t\t\r\n\t}\r\n\r\n```\r\n","title":"Find the sum of array using multiple threads","body":"<p>As this dates back to a year ago I would mention how I approached this.\nFirstly, as using ExecutorService is more encouraged I used this to do multithreading. It's also worth mentioning that I haven't used synchronize or locks as I won't share any value and the sum will be computed at the end instead of each tread adding to one common sum.</p>\n<pre><code>public void arraySum(int[] arr){\n        start = System.currentTimeMillis();\n        ExecutorService exec = Executors.newSingleThreadExecutor();\n        sum = 0L;\n        int noThreads = 100;\n        int length = arr.length/noThreads;\n        \n        List&lt;Long&gt; res = new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;noThreads;i++) {//each thread\n            int low = length*i;\n            int high = length+low;\n            \n            res.add(exec.submit(callable(arr, low, high)).get());\n        }\n                \n        exec.shutdown();\n        while(!exec.isTerminated());\n        if(exec.isTerminated()) {           \n            for(long l:res) {               \n                sum+= l;\n            }\n        }\n        finish = System.currentTimeMillis();\n        System.out.println(noThreads+&quot; threads: Sum: &quot;+sum+&quot; Complettion in miliseconds: &quot;+(finish -start));\n        \n    }\n\n    Callable&lt;Long&gt; callable(int[] arr,int low, int high){\n        return ()-&gt;{\n            Long res = 0L;\n            for(int i=low;i&lt;high;i++) {\n                res += arr[i];\n            }           \n            return res;\n        };      \n    }\n\n</code></pre>\n"}],"owner":{"account_id":19949419,"reputation":1,"user_id":14619400,"display_name":"Yakov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644613701,"creation_date":1605099568,"question_id":64786919,"body_markdown":"This is my first time trying to work with multithreading so help would be appreciated!\r\n\r\nFollowing problem:\r\n\r\nThe user enters values for the array, as well as desired quantity of threads to the console. The array should be summed using those threads and each thread finds the sum of its own chunk in array. The summed result should be printed for each thread and also overrall sum.\r\n\r\n```\r\npublic class Thread1  extends Thread{\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Enter the required size of the array :: &quot;);\r\n        Scanner s = new Scanner(System.in);\r\n        int size = s.nextInt();\r\n        int[] myArray = new int [size];\r\n        System.out.println(&quot;Enter the required quantity of the threads :: &quot;);\r\n        int k = s.nextInt();\r\n        int sum = 0;\r\n        System.out.println(&quot;Enter the elements of the array one by one &quot;);\r\n        \r\n        for(int i=0; i&lt;size; i++) {\r\n            myArray[i] = s.nextInt();\r\n\r\n            for(int j = 0; j&lt; k; j++){\r\n                sum = sum + myArray[i];\r\n\r\n            }\r\n            System.out.println(&quot;Sum for thread: &quot; + this.getName() + &quot; = &quot; + sum);\r\n        }\r\n        System.out.println(&quot;Elements of the array are: &quot;+ Arrays.toString(myArray));\r\n        System.out.println(&quot;Sum of the elements of the array ::&quot;+sum);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Thread1 t = new Thread1();\r\n        t.start();\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n```","title":"Find the sum of array using multiple threads","body":"<p>This is my first time trying to work with multithreading so help would be appreciated!</p>\n<p>Following problem:</p>\n<p>The user enters values for the array, as well as desired quantity of threads to the console. The array should be summed using those threads and each thread finds the sum of its own chunk in array. The summed result should be printed for each thread and also overrall sum.</p>\n<pre><code>public class Thread1  extends Thread{\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Enter the required size of the array :: &quot;);\n        Scanner s = new Scanner(System.in);\n        int size = s.nextInt();\n        int[] myArray = new int [size];\n        System.out.println(&quot;Enter the required quantity of the threads :: &quot;);\n        int k = s.nextInt();\n        int sum = 0;\n        System.out.println(&quot;Enter the elements of the array one by one &quot;);\n        \n        for(int i=0; i&lt;size; i++) {\n            myArray[i] = s.nextInt();\n\n            for(int j = 0; j&lt; k; j++){\n                sum = sum + myArray[i];\n\n            }\n            System.out.println(&quot;Sum for thread: &quot; + this.getName() + &quot; = &quot; + sum);\n        }\n        System.out.println(&quot;Elements of the array are: &quot;+ Arrays.toString(myArray));\n        System.out.println(&quot;Sum of the elements of the array ::&quot;+sum);\n    }\n\n    public static void main(String[] args) {\n        Thread1 t = new Thread1();\n        t.start();\n\n\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","jstack"],"answers":[{"tags":[],"owner":{"account_id":199712,"reputation":2723,"user_id":445190,"accept_rate":80,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1644613091,"creation_date":1415826538,"answer_id":26896598,"question_id":26896182,"body_markdown":"You can do it via jcmd, like this:\r\n\r\n```\r\njcmd process_id VM.version\r\n```\r\n","title":"get java version of a running java process","body":"<p>You can do it via jcmd, like this:</p>\n<pre><code>jcmd process_id VM.version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1563248,"reputation":469,"user_id":1452622,"display_name":"AtlasMeh-ed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415826842,"creation_date":1415826842,"answer_id":26896682,"question_id":26896182,"body_markdown":"I think Andrew&#39;s solution is better and probably what you are looking for. Nevertheless here&#39;s another solution:\r\n\r\n    ps -A | grep &quot;^ &lt;the pid&gt;&quot; | grep -o &quot;jdk.*.jdk&quot;\r\n\r\nOutput for a program I was running:\r\n\r\n    jdk1.8.0_05.jdk","title":"get java version of a running java process","body":"<p>I think Andrew's solution is better and probably what you are looking for. Nevertheless here's another solution:</p>\n\n<pre><code>ps -A | grep \"^ &lt;the pid&gt;\" | grep -o \"jdk.*.jdk\"\n</code></pre>\n\n<p>Output for a program I was running:</p>\n\n<pre><code>jdk1.8.0_05.jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7115012,"reputation":41,"user_id":5441635,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444752142,"creation_date":1444752142,"answer_id":33107414,"question_id":26896182,"body_markdown":"A simple solution with standard command would look like:\r\n\r\n    lsof -p PID | grep jdk\r\nIt gives you the list of loaded files by the process.","title":"get java version of a running java process","body":"<p>A simple solution with standard command would look like:</p>\n\n<pre><code>lsof -p PID | grep jdk\n</code></pre>\n\n<p>It gives you the list of loaded files by the process.</p>\n"},{"tags":[],"owner":{"account_id":215757,"reputation":14141,"user_id":470583,"accept_rate":55,"display_name":"Tagar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506551816,"creation_date":1506551816,"answer_id":46458253,"question_id":26896182,"body_markdown":"In Linux you could do \r\n\r\n    sudo strings /proc/&lt;java_pid&gt;/smaps |grep jre\r\n\r\nwhich will produce something similar to \r\n\r\n&gt; 7f8ff82ac000-7f8ff82ad000 r-xp 00000000 fd:00 252363860                  /usr/java/jdk1.8.0_141/jre/lib/amd64/libjaas_unix.so\r\n\r\nFrom this you can clearly see what JDK version it&#39;s using.","title":"get java version of a running java process","body":"<p>In Linux you could do </p>\n\n<pre><code>sudo strings /proc/&lt;java_pid&gt;/smaps |grep jre\n</code></pre>\n\n<p>which will produce something similar to </p>\n\n<blockquote>\n  <p>7f8ff82ac000-7f8ff82ad000 r-xp 00000000 fd:00 252363860                  /usr/java/jdk1.8.0_141/jre/lib/amd64/libjaas_unix.so</p>\n</blockquote>\n\n<p>From this you can clearly see what JDK version it's using.</p>\n"}],"owner":{"account_id":3980638,"reputation":870,"user_id":3282611,"accept_rate":0,"display_name":"user3282611"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9876,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1644613091,"creation_date":1415825040,"question_id":26896182,"body_markdown":"I can use jps to list running java processes and use jstack -l process_id to get a stack information of a running java process. I want to know this process runs on which java version. Is there a way to do it? I don&#39;t have to use jstack tool. thanks.\r\n\r\njstack -l 23819\r\n2014-11-12 12:36:11\r\nFull thread dump OpenJDK 64-Bit Server VM (23.25-b01 mixed mode):\r\n\r\n&quot;Attach Listener&quot; daemon prio=10 tid=0x000000000272f800 nid=0x614b waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n   Locked ownable synchronizers:\r\n\t- None\r\n","title":"get java version of a running java process","body":"<p>I can use jps to list running java processes and use jstack -l process_id to get a stack information of a running java process. I want to know this process runs on which java version. Is there a way to do it? I don't have to use jstack tool. thanks.</p>\n\n<p>jstack -l 23819\n2014-11-12 12:36:11\nFull thread dump OpenJDK 64-Bit Server VM (23.25-b01 mixed mode):</p>\n\n<p>\"Attach Listener\" daemon prio=10 tid=0x000000000272f800 nid=0x614b waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE</p>\n\n<p>Locked ownable synchronizers:\n    - None</p>\n"},{"tags":["java","oop","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":15270519,"reputation":28,"user_id":11017859,"display_name":"Roasted Toast"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644613084,"creation_date":1644613084,"answer_id":71086448,"question_id":71085205,"body_markdown":"Theres two alternative solutions that I could come up with. \r\n\r\n1) If you are into monads at all you could move away from using exceptions to a custom `LoggingEither&lt;L, R&gt;` or `LoggingResult&lt;S, E&gt;` return type. They would carry the result/exception as well as all accumulated messages so far. You would just have to make sure to merge the messages of all methods you call into the object you return in the current method. For an idea of how these monad types could be implemented take a look at [vavr][1].\r\n\r\n2) If everything happens in the same Thread you could consider using [ThreadLocal][2] to keep track of all the log messages. This eliminates the need of passing a collection down the stacktrace. You will still need to take care of bundling messages and resetting the `ThreadLocal`, though.\r\n\r\n\r\n  [1]: https://www.vavr.io/\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ThreadLocal.html","title":"How do I cancel processing in a deep call stack with messages?","body":"<p>Theres two alternative solutions that I could come up with.</p>\n<ol>\n<li><p>If you are into monads at all you could move away from using exceptions to a custom <code>LoggingEither&lt;L, R&gt;</code> or <code>LoggingResult&lt;S, E&gt;</code> return type. They would carry the result/exception as well as all accumulated messages so far. You would just have to make sure to merge the messages of all methods you call into the object you return in the current method. For an idea of how these monad types could be implemented take a look at <a href=\"https://www.vavr.io/\" rel=\"nofollow noreferrer\">vavr</a>.</p>\n</li>\n<li><p>If everything happens in the same Thread you could consider using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">ThreadLocal</a> to keep track of all the log messages. This eliminates the need of passing a collection down the stacktrace. You will still need to take care of bundling messages and resetting the <code>ThreadLocal</code>, though.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":8556756,"reputation":595,"user_id":6412004,"display_name":"Regyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71086448,"answer_count":1,"score":-1,"last_activity_date":1644613084,"creation_date":1644605562,"question_id":71085205,"body_markdown":"My requirement is that the user will see localized messages at the end of the process. If the process failed, there will be at least one &quot;external&quot; message of type error. If the process was successfully executed, the user might see multiple &quot;external&quot; information messages.  \r\nAdditionally, all messages (including internal) shall be logged by the application. \r\n\r\nNow here comes the tricky part. Assume the following callstack:\r\n\r\n 1. controller.uploadImageHandler\r\n 2. imageService.createImageContainer\r\n 3. galleryService.loadForImage\r\n 4. galleryService.validateGalleryAttributes\r\n\r\nNow `validateGalleryAttributes` will validate 3 attributes. 2 aren&#39;t matching, so the messages `Attribute A must be X` and `Attribute B must not be empty` of type `External` are generated and logged to the application log. The calls before added multiple information messages.\r\n\r\nNow I need have to\r\n\r\n - abort processing\r\n - bubble the Messages up\r\n\r\nIs the right approach to pass along a Message Collection (or add a collection to the logger) into every method, throw an Exception upon failure (even simple ones such as invalid attributes), extract the messages at the controller level and return them to the user? It&#39;s not enough to add them to the exception class, since info messages must also be possible and multiple methods might produce just messages.\r\n\r\nBut honestly it seems a bit weird to have a collection that is inspected upon success and exception. Is there a better language construct?","title":"How do I cancel processing in a deep call stack with messages?","body":"<p>My requirement is that the user will see localized messages at the end of the process. If the process failed, there will be at least one &quot;external&quot; message of type error. If the process was successfully executed, the user might see multiple &quot;external&quot; information messages.<br />\nAdditionally, all messages (including internal) shall be logged by the application.</p>\n<p>Now here comes the tricky part. Assume the following callstack:</p>\n<ol>\n<li>controller.uploadImageHandler</li>\n<li>imageService.createImageContainer</li>\n<li>galleryService.loadForImage</li>\n<li>galleryService.validateGalleryAttributes</li>\n</ol>\n<p>Now <code>validateGalleryAttributes</code> will validate 3 attributes. 2 aren't matching, so the messages <code>Attribute A must be X</code> and <code>Attribute B must not be empty</code> of type <code>External</code> are generated and logged to the application log. The calls before added multiple information messages.</p>\n<p>Now I need have to</p>\n<ul>\n<li>abort processing</li>\n<li>bubble the Messages up</li>\n</ul>\n<p>Is the right approach to pass along a Message Collection (or add a collection to the logger) into every method, throw an Exception upon failure (even simple ones such as invalid attributes), extract the messages at the controller level and return them to the user? It's not enough to add them to the exception class, since info messages must also be possible and multiple methods might produce just messages.</p>\n<p>But honestly it seems a bit weird to have a collection that is inspected upon success and exception. Is there a better language construct?</p>\n"},{"tags":["java","spring","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1390467099,"post_id":21294160,"comment_id":32106418,"body_markdown":"Also posted on the Camel user mailing list where its being discussed - http://camel.465427.n5.nabble.com/Split-and-Aggregate-Old-Exchange-is-null-everytime-in-AggregationStrategy-tp5746365.html","body":"Also posted on the Camel user mailing list where its being discussed - <a href=\"http://camel.465427.n5.nabble.com/Split-and-Aggregate-Old-Exchange-is-null-everytime-in-AggregationStrategy-tp5746365.html\" rel=\"nofollow noreferrer\">camel.465427.n5.nabble.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1201633,"reputation":2153,"user_id":1172194,"accept_rate":92,"display_name":"Dinesh Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1471436036,"creation_date":1390492027,"answer_id":21312964,"question_id":21294160,"body_markdown":"I think I figured it out how to aggregate the messages using Aggregator. I added a headerName called id and use it as my correlation id. \r\n\r\n   \r\n\r\n    &lt;camel:route&gt;\r\n      &lt;camel:from uri=&quot;file:src/data/catask/test?noop=true&quot;/&gt;\r\n      &lt;camel:log message=&quot;${body}&quot;&gt;&lt;/camel:log&gt;\r\n      &lt;camel:split&gt;\r\n        &lt;camel:xpath&gt;//te:Orders/*&lt;/camel:xpath&gt;\r\n        &lt;camel:to uri=&quot;direct:addHeaders&quot;/&gt;\r\n        &lt;camel:to uri=&quot;direct:aggegateQueries&quot;/&gt;\r\n      &lt;/camel:split&gt;\r\n    &lt;/camel:route&gt;\r\n    \r\n    &lt;camel:route&gt;\r\n      &lt;camel:from uri=&quot;direct:addHeaders&quot;/&gt;\r\n      &lt;camel:setHeader headerName=&quot;id&quot;&gt;\r\n        &lt;camel:constant&gt;order&lt;/camel:constant&gt;\r\n      &lt;/camel:setHeader&gt;\r\n    &lt;/camel:route&gt;\r\n\r\n    &lt;camel:route&gt;\r\n      &lt;camel:from uri=&quot;direct:aggegateQueries&quot;/&gt;\r\n      &lt;camel:aggregate strategyRef=&quot;aggrTask&quot; completionInterval=&quot;8000&quot; &gt;\r\n        &lt;camel:correlationExpression&gt;\r\n          &lt;simple&gt;header.id&lt;/simple&gt;\r\n        &lt;/camel:correlationExpression&gt;\r\n        &lt;camel:to uri=&quot;file:src/data/catask/output?fileName=output.xml&quot;/&gt;\r\n        &lt;camel:log message=&quot;MERGED:: /n ${body}&quot;&gt;&lt;/camel:log&gt;\r\n      &lt;/camel:aggregate&gt;\r\n    &lt;/camel:route&gt;  \r\n\r\nThis aggregates my messages. However I am still not sure that despite using correct XPATH why does Camel thinks that it is different type of message? \r\n\r\n**COPYING CLAUS&#39;s explanation from camel forums:**\r\n*&quot;Looks like its your correlation expression that is a new group for \r\neach message, eg each xpath result is different. \r\nIf you want to split and join the same messages then see this eip \r\nhttp://camel.apache.org/composed-message-processor.html\r\nAnd see the example using only splitter. That is much easier to do. &quot;*\r\n\r\nI tested the Xpath expression using a Xpath Evaluator tool and also printed out the coorelation expression results and all my messages with //Order are same. Ex- \r\n\r\n    Group 1: \r\n    &lt;Order&gt;  \r\n      &lt;orderNum&gt;1&lt;/orderNum&gt;  \r\n    &lt;/Order&gt;  \r\n\r\n    Group 2: \r\n    &lt;Order&gt;  \r\n      &lt;orderNum&gt;2&lt;/orderNum&gt;  \r\n    &lt;/Order&gt; \r\n","title":"Apache Camel - Split and aggregate - Old Exchange is always null","body":"<p>I think I figured it out how to aggregate the messages using Aggregator. I added a headerName called id and use it as my correlation id. </p>\n\n<pre><code>&lt;camel:route&gt;\n  &lt;camel:from uri=\"file:src/data/catask/test?noop=true\"/&gt;\n  &lt;camel:log message=\"${body}\"&gt;&lt;/camel:log&gt;\n  &lt;camel:split&gt;\n    &lt;camel:xpath&gt;//te:Orders/*&lt;/camel:xpath&gt;\n    &lt;camel:to uri=\"direct:addHeaders\"/&gt;\n    &lt;camel:to uri=\"direct:aggegateQueries\"/&gt;\n  &lt;/camel:split&gt;\n&lt;/camel:route&gt;\n\n&lt;camel:route&gt;\n  &lt;camel:from uri=\"direct:addHeaders\"/&gt;\n  &lt;camel:setHeader headerName=\"id\"&gt;\n    &lt;camel:constant&gt;order&lt;/camel:constant&gt;\n  &lt;/camel:setHeader&gt;\n&lt;/camel:route&gt;\n\n&lt;camel:route&gt;\n  &lt;camel:from uri=\"direct:aggegateQueries\"/&gt;\n  &lt;camel:aggregate strategyRef=\"aggrTask\" completionInterval=\"8000\" &gt;\n    &lt;camel:correlationExpression&gt;\n      &lt;simple&gt;header.id&lt;/simple&gt;\n    &lt;/camel:correlationExpression&gt;\n    &lt;camel:to uri=\"file:src/data/catask/output?fileName=output.xml\"/&gt;\n    &lt;camel:log message=\"MERGED:: /n ${body}\"&gt;&lt;/camel:log&gt;\n  &lt;/camel:aggregate&gt;\n&lt;/camel:route&gt;  \n</code></pre>\n\n<p>This aggregates my messages. However I am still not sure that despite using correct XPATH why does Camel thinks that it is different type of message? </p>\n\n<p><strong>COPYING CLAUS's explanation from camel forums:</strong>\n<em>\"Looks like its your correlation expression that is a new group for \neach message, eg each xpath result is different. \nIf you want to split and join the same messages then see this eip \n<a href=\"http://camel.apache.org/composed-message-processor.html\" rel=\"nofollow\">http://camel.apache.org/composed-message-processor.html</a>\nAnd see the example using only splitter. That is much easier to do. \"</em></p>\n\n<p>I tested the Xpath expression using a Xpath Evaluator tool and also printed out the coorelation expression results and all my messages with //Order are same. Ex- </p>\n\n<pre><code>Group 1: \n&lt;Order&gt;  \n  &lt;orderNum&gt;1&lt;/orderNum&gt;  \n&lt;/Order&gt;  \n\nGroup 2: \n&lt;Order&gt;  \n  &lt;orderNum&gt;2&lt;/orderNum&gt;  \n&lt;/Order&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7434067,"reputation":41,"user_id":5654073,"display_name":"Frank Rakhorst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644612087,"creation_date":1644612087,"answer_id":71086308,"question_id":21294160,"body_markdown":"    &lt;camel:correlationExpression&gt;\r\n      &lt;simple&gt;header.id&lt;/simple&gt;\r\n    &lt;/camel:correlationExpression&gt;\r\n\r\ncould be replaced by:\r\n     \r\n    &lt;!-- Required! The expression to retrieve the correlation key. When no key the constant true could be used. --&gt; \r\n    &lt;camel:correlationExpression&gt;\r\n      &lt;constant&gt;true&lt;/constant&gt;\r\n    &lt;/camel:correlationExpression&gt;\r\n","title":"Apache Camel - Split and aggregate - Old Exchange is always null","body":"<pre><code>&lt;camel:correlationExpression&gt;\n  &lt;simple&gt;header.id&lt;/simple&gt;\n&lt;/camel:correlationExpression&gt;\n</code></pre>\n<p>could be replaced by:</p>\n<pre><code>&lt;!-- Required! The expression to retrieve the correlation key. When no key the constant true could be used. --&gt; \n&lt;camel:correlationExpression&gt;\n  &lt;constant&gt;true&lt;/constant&gt;\n&lt;/camel:correlationExpression&gt;\n</code></pre>\n"}],"owner":{"account_id":1201633,"reputation":2153,"user_id":1172194,"accept_rate":92,"display_name":"Dinesh Arora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10945,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":21312964,"answer_count":2,"score":2,"last_activity_date":1644612087,"creation_date":1390425449,"question_id":21294160,"body_markdown":"I see that this question has been asked a number of times but none of post helped or had a conclusive solution. I am splitting a message and then aggregating it using Aggregator2. The code was throwing exception because oldExchange was always null. So to test I designed a small code. \r\n\r\nI read an orders,xml file which looks like this \r\n\r\n    &lt;Orders xmlns=&quot;http://some/schema/Order&quot;&gt;\r\n        &lt;Order&gt;\r\n                &lt;orderNum&gt;1&lt;/orderNum&gt;\r\n        &lt;/Order&gt;\r\n        &lt;Order&gt;\r\n                &lt;orderNum&gt;2&lt;/orderNum&gt;\r\n        &lt;/Order&gt;\r\n        &lt;Order&gt;\r\n                &lt;orderNum&gt;3&lt;/orderNum&gt;\r\n        &lt;/Order&gt;\r\n        &lt;Order&gt;\r\n                &lt;orderNum&gt;5&lt;/orderNum&gt;\r\n        &lt;/Order&gt;\r\n        &lt;Order&gt;\r\n                &lt;orderNum&gt;6&lt;/orderNum&gt;\r\n        &lt;/Order&gt;\r\n&lt;/Orders&gt;\r\n\r\nMy camel Context Looks like this \r\n&lt;camel:camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot; xmlns:te=&quot;http://acn/schema/Order&quot;&gt;\r\n    \r\n    &lt;camel:route&gt;\r\n    &lt;camel:from uri=&quot;file:src/data/catask/test?noop=true&quot;/&gt;\r\n    &lt;camel:log message=&quot;${body}&quot;&gt;&lt;/camel:log&gt;\r\n    &lt;camel:split&gt;\r\n    &lt;camel:xpath&gt;//te:Orders/*&lt;/camel:xpath&gt;\r\n    &lt;camel:to uri=&quot;direct:logQueries&quot;/&gt;\r\n    &lt;camel:to uri=&quot;direct:aggegateQueries&quot;/&gt;  \r\n    &lt;/camel:split&gt;\r\n  \r\n    &lt;/camel:route&gt;\r\n    \r\n    &lt;camel:route&gt;\r\n    &lt;camel:from uri=&quot;direct:logQueries&quot;/&gt;\r\n    &lt;camel:log message=&quot;After the call : \\n ${body}&quot;&gt;&lt;/camel:log&gt;  \r\n    &lt;/camel:route&gt;\r\n    \r\n     &lt;camel:route&gt;\r\n    &lt;camel:from uri=&quot;direct:aggegateQueries&quot;/&gt;\r\n    &lt;camel:aggregate strategyRef=&quot;aggrTask&quot; completionInterval=&quot;8000&quot; &gt;\r\n    &lt;camel:correlationExpression&gt;\r\n    &lt;camel:xpath&gt;//te:Order&lt;/camel:xpath&gt;\r\n    &lt;/camel:correlationExpression&gt;\r\n    &lt;camel:to uri=&quot;file:src/data/catask/output?fileName=output.xml&quot;/&gt;  \r\n\r\n    &lt;/camel:aggregate&gt;\r\n    &lt;/camel:route&gt;  \r\n    \r\n  &lt;/camel:camelContext&gt;\r\n\r\nMy Aggregation Strategy class looks like this \r\n                \r\n       public Exchange aggregate(Exchange oldExchange, Exchange newExchange) { \r\n                if (oldExchange == null) { \r\n                System.out.println(&quot;Returning new exchange&quot;); \r\n                    return newExchange; \r\n                } \r\n          \r\n                String oldBody = oldExchange.getIn().getBody(String.class); \r\n                String newBody = newExchange.getIn().getBody(String.class); \r\n                oldExchange.getIn().setBody(oldBody + &quot;+&quot; + newBody); \r\n                return oldExchange; \r\n            } \r\n\r\n\r\nThe problem is that when the aggregated result is saved in output.xml file it contains only the last record it read from Orders.xml. \r\n\r\ni.e. \r\n\r\n    &lt;Order xmlns=&quot;http://some/schema/Order&quot;&gt;\r\n                &lt;orderNum&gt;6&lt;/orderNum&gt;\r\n        &lt;/Order&gt;\r\n\r\n\r\n\r\nI looked into it further and found that this was happening because after the first call oldExchange should have some value but it turns out it is always null. I think that because it is reading everything from a single file and splitting it, there is only exchange. \r\n\r\n**&gt; Any suggestions??**\r\n\r\n**UPDATE 1:** Per Claus I can use Splitter only to solve this issue. I did that and was able to successfully join all the messages. However I am still looking for a way to use Aggregator2. Here how I did it using Splitter only.\r\n\r\n    camel:route&gt;\r\n    &lt;camel:from uri=&quot;file:src/data/catask/test?noop=true&quot;/&gt;\r\n    &lt;camel:log message=&quot;${body}&quot;&gt;&lt;/camel:log&gt;\r\n    &lt;camel:split strategyRef=&quot;aggrTask&quot;&gt; \r\n    &lt;camel:xpath&gt;//te:Orders/*&lt;/camel:xpath&gt;\r\n    &lt;camel:to uri=&quot;direct:logQueries&quot;/&gt;\r\n     &lt; \r\n    &lt;/camel:split&gt;\r\n  \r\n    &lt;/camel:route&gt;\r\n    \r\n    &lt;camel:route&gt;\r\n    &lt;camel:from uri=&quot;direct:logQueries&quot;/&gt;\r\n    &lt;camel:log message=&quot;After the call : \\n ${body}&quot;&gt;&lt;/camel:log&gt;  \r\n    &lt;/camel:route&gt;\r\n","title":"Apache Camel - Split and aggregate - Old Exchange is always null","body":"<p>I see that this question has been asked a number of times but none of post helped or had a conclusive solution. I am splitting a message and then aggregating it using Aggregator2. The code was throwing exception because oldExchange was always null. So to test I designed a small code. </p>\n\n<p>I read an orders,xml file which looks like this </p>\n\n<pre><code>&lt;Orders xmlns=\"http://some/schema/Order\"&gt;\n    &lt;Order&gt;\n            &lt;orderNum&gt;1&lt;/orderNum&gt;\n    &lt;/Order&gt;\n    &lt;Order&gt;\n            &lt;orderNum&gt;2&lt;/orderNum&gt;\n    &lt;/Order&gt;\n    &lt;Order&gt;\n            &lt;orderNum&gt;3&lt;/orderNum&gt;\n    &lt;/Order&gt;\n    &lt;Order&gt;\n            &lt;orderNum&gt;5&lt;/orderNum&gt;\n    &lt;/Order&gt;\n    &lt;Order&gt;\n            &lt;orderNum&gt;6&lt;/orderNum&gt;\n    &lt;/Order&gt;\n</code></pre>\n\n<p></p>\n\n<p>My camel Context Looks like this \n</p>\n\n<pre><code>&lt;camel:route&gt;\n&lt;camel:from uri=\"file:src/data/catask/test?noop=true\"/&gt;\n&lt;camel:log message=\"${body}\"&gt;&lt;/camel:log&gt;\n&lt;camel:split&gt;\n&lt;camel:xpath&gt;//te:Orders/*&lt;/camel:xpath&gt;\n&lt;camel:to uri=\"direct:logQueries\"/&gt;\n&lt;camel:to uri=\"direct:aggegateQueries\"/&gt;  \n&lt;/camel:split&gt;\n\n&lt;/camel:route&gt;\n\n&lt;camel:route&gt;\n&lt;camel:from uri=\"direct:logQueries\"/&gt;\n&lt;camel:log message=\"After the call : \\n ${body}\"&gt;&lt;/camel:log&gt;  \n&lt;/camel:route&gt;\n\n &lt;camel:route&gt;\n&lt;camel:from uri=\"direct:aggegateQueries\"/&gt;\n&lt;camel:aggregate strategyRef=\"aggrTask\" completionInterval=\"8000\" &gt;\n&lt;camel:correlationExpression&gt;\n&lt;camel:xpath&gt;//te:Order&lt;/camel:xpath&gt;\n&lt;/camel:correlationExpression&gt;\n&lt;camel:to uri=\"file:src/data/catask/output?fileName=output.xml\"/&gt;  \n\n&lt;/camel:aggregate&gt;\n&lt;/camel:route&gt;  \n</code></pre>\n\n<p></p>\n\n<p>My Aggregation Strategy class looks like this </p>\n\n<pre><code>   public Exchange aggregate(Exchange oldExchange, Exchange newExchange) { \n            if (oldExchange == null) { \n            System.out.println(\"Returning new exchange\"); \n                return newExchange; \n            } \n\n            String oldBody = oldExchange.getIn().getBody(String.class); \n            String newBody = newExchange.getIn().getBody(String.class); \n            oldExchange.getIn().setBody(oldBody + \"+\" + newBody); \n            return oldExchange; \n        } \n</code></pre>\n\n<p>The problem is that when the aggregated result is saved in output.xml file it contains only the last record it read from Orders.xml. </p>\n\n<p>i.e. </p>\n\n<pre><code>&lt;Order xmlns=\"http://some/schema/Order\"&gt;\n            &lt;orderNum&gt;6&lt;/orderNum&gt;\n    &lt;/Order&gt;\n</code></pre>\n\n<p>I looked into it further and found that this was happening because after the first call oldExchange should have some value but it turns out it is always null. I think that because it is reading everything from a single file and splitting it, there is only exchange. </p>\n\n<p><strong>> Any suggestions??</strong></p>\n\n<p><strong>UPDATE 1:</strong> Per Claus I can use Splitter only to solve this issue. I did that and was able to successfully join all the messages. However I am still looking for a way to use Aggregator2. Here how I did it using Splitter only.</p>\n\n<pre><code>camel:route&gt;\n&lt;camel:from uri=\"file:src/data/catask/test?noop=true\"/&gt;\n&lt;camel:log message=\"${body}\"&gt;&lt;/camel:log&gt;\n&lt;camel:split strategyRef=\"aggrTask\"&gt; \n&lt;camel:xpath&gt;//te:Orders/*&lt;/camel:xpath&gt;\n&lt;camel:to uri=\"direct:logQueries\"/&gt;\n &lt; \n&lt;/camel:split&gt;\n\n&lt;/camel:route&gt;\n\n&lt;camel:route&gt;\n&lt;camel:from uri=\"direct:logQueries\"/&gt;\n&lt;camel:log message=\"After the call : \\n ${body}\"&gt;&lt;/camel:log&gt;  \n&lt;/camel:route&gt;\n</code></pre>\n"},{"tags":["java","spring","github","resttemplate"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1644612296,"post_id":71082552,"comment_id":125661745,"body_markdown":"Just a note that if the file you want to read from is on a public github repo, include a link to the actual file, I think you&#39;ll get better answers if you include as much real information regarding your question.","body":"Just a note that if the file you want to read from is on a public github repo, include a link to the actual file, I think you&#39;ll get better answers if you include as much real information regarding your question."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644611921,"creation_date":1644611921,"answer_id":71086287,"question_id":71082552,"body_markdown":"Using RestTemplate, you can achieve it in this way.\r\n\r\n    String fortune500String = restTemplate.getForEntity\r\n       (&quot;https://raw.githubusercontent.com/dariusk/corpora/master/data/corporations/fortune500.json&quot;, String.class);\r\n\r\nThat will return a `ResponseEntity` of type `String`, of which you can invoke `getBody()` to get the String.\r\n\r\nThat&#39;s what you&#39;ve asked for, but I think there&#39;s a better approach.  I assume that the data itself is the only thing that changes, and not the structure.  Given this assumption, create a model that represents the data, like this:\r\n\r\n    @Data\r\n    public class Fortune500 {\r\n      private String description;\r\n      private List&lt;String&gt; companies;\r\n    }\r\n\r\nThen configure RestTemplate to be able to convert from the content type of `text/plain`\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\r\n    mappingJackson2HttpMessageConverter.setSupportedMediaTypes(List.of(MediaType.TEXT_PLAIN));\r\n    restTemplate.getMessageConverters().add(mappingJackson2HttpMessageConverter);\r\n\r\nThen you can have RestTemplate return an instance of the model, which will be much easier for you to work with.\r\n\r\n    Fortune500 fortune500 = restTemplate.getForEntity\r\n        (&quot;https://raw.githubusercontent.com/dariusk/corpora/master/data/corporations/fortune500.json&quot;, Fortune500.class).getBody();\r\n\r\n","title":"How to read a JSON file content from GitHub public repository using RestTemplate?","body":"<p>Using RestTemplate, you can achieve it in this way.</p>\n<pre><code>String fortune500String = restTemplate.getForEntity\n   (&quot;https://raw.githubusercontent.com/dariusk/corpora/master/data/corporations/fortune500.json&quot;, String.class);\n</code></pre>\n<p>That will return a <code>ResponseEntity</code> of type <code>String</code>, of which you can invoke <code>getBody()</code> to get the String.</p>\n<p>That's what you've asked for, but I think there's a better approach.  I assume that the data itself is the only thing that changes, and not the structure.  Given this assumption, create a model that represents the data, like this:</p>\n<pre><code>@Data\npublic class Fortune500 {\n  private String description;\n  private List&lt;String&gt; companies;\n}\n</code></pre>\n<p>Then configure RestTemplate to be able to convert from the content type of <code>text/plain</code></p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nMappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\nmappingJackson2HttpMessageConverter.setSupportedMediaTypes(List.of(MediaType.TEXT_PLAIN));\nrestTemplate.getMessageConverters().add(mappingJackson2HttpMessageConverter);\n</code></pre>\n<p>Then you can have RestTemplate return an instance of the model, which will be much easier for you to work with.</p>\n<pre><code>Fortune500 fortune500 = restTemplate.getForEntity\n    (&quot;https://raw.githubusercontent.com/dariusk/corpora/master/data/corporations/fortune500.json&quot;, Fortune500.class).getBody();\n</code></pre>\n"}],"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71086287,"answer_count":1,"score":0,"last_activity_date":1644611921,"creation_date":1644593232,"question_id":71082552,"body_markdown":"I need to read the content of a JSON file on a public GitHub repository using RestTemplate. The content of this JSON file keeps changing quite often, so I need to pull the data from this file once a week. I just need to get the content as String object. Is there anyway to do that? \r\n\r\nAn example of a JSON file on a public GitHub repository: [JSON_File](https://github.com/dariusk/corpora/blob/master/data/corporations/fortune500.json)","title":"How to read a JSON file content from GitHub public repository using RestTemplate?","body":"<p>I need to read the content of a JSON file on a public GitHub repository using RestTemplate. The content of this JSON file keeps changing quite often, so I need to pull the data from this file once a week. I just need to get the content as String object. Is there anyway to do that?</p>\n<p>An example of a JSON file on a public GitHub repository: <a href=\"https://github.com/dariusk/corpora/blob/master/data/corporations/fortune500.json\" rel=\"nofollow noreferrer\">JSON_File</a></p>\n"},{"tags":["java","spring","netty","bouncycastle","reactor"],"answers":[{"tags":[],"owner":{"account_id":44297,"reputation":1181,"user_id":129929,"accept_rate":60,"display_name":"Jason Mathison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644611594,"creation_date":1644611594,"answer_id":71086248,"question_id":71086247,"body_markdown":"If a `server.ssl.keyAlias` is configured spring boot will use a KeyManagerFactory wrapper that causes problems like this.  Deleting that configuration item resolved the issue for us.","title":"Spring-webflux / Netty service won&#39;t handle any requests","body":"<p>If a <code>server.ssl.keyAlias</code> is configured spring boot will use a KeyManagerFactory wrapper that causes problems like this.  Deleting that configuration item resolved the issue for us.</p>\n"}],"owner":{"account_id":44297,"reputation":1181,"user_id":129929,"accept_rate":60,"display_name":"Jason Mathison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644611594,"creation_date":1644611594,"question_id":71086247,"body_markdown":"Attempting to update a Spring-webflux java service to use BouncyCastle for FIPS compliant cryptography would startup, however every request to the service would end up failing with a stack trace like this:\r\n\r\n```[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server selected protocol version: TLSv1.2 \r\n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server ignored SNI (no matchers specified) \r\n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server specified new session: 3897681a0667834f4be0c7c579976c84863b65c3cb5b572ab2064488b89069e7 \r\n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server (1.2) selected credentials for signature scheme &#39;ecdsa_secp521r1_sha512(0x603)&#39; (keyType &#39;ECDHE_ECDSA&#39;), with private key algorithm &#39;RSA&#39; \r\n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server selected cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 \r\n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server raised fatal(2) internal_error(80) alert: Failed to process record\r\njava.lang.IllegalStateException: Invalid algorithm: {sha512(6),ecdsa(3)} at org.bouncycastle.tls.crypto.impl.jcajce.JcaTlsRSASigner.generateRawSignature(JcaTlsRSASigner.java:59) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.DefaultTlsCredentialedSigner.generateRawSignature(DefaultTlsCredentialedSigner.java:53) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsUtils.generateServerKeyExchangeSignature(TlsUtils.java:2587) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsECDHEKeyExchange.generateServerKeyExchange(TlsECDHEKeyExchange.java:79) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsServerProtocol.handleHandshakeMessage(TlsServerProtocol.java:1082) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.processHandshakeQueue(TlsProtocol.java:695) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.processRecord(TlsProtocol.java:584) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.RecordStream.readFullRecord(RecordStream.java:207) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.safeReadFullRecord(TlsProtocol.java:890) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.offerInput(TlsProtocol.java:1282) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.offerInput(TlsProtocol.java:1250) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.jsse.provider.ProvSSLEngine.unwrap(ProvSSLEngine.java:464) \r\n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637) \r\n~[na:na] at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:298) \r\n~[netty-handler-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1344) \r\n~[netty-handler-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1237) \r\n~[netty-handler-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286) \r\n~[netty-handler-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507) \r\n~[netty-codec-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446) \r\n~[netty-codec-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) \r\n~[netty-codec-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) \r\n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) \r\n~[netty-common-4.1.66.Final.jar:4.1.66.Final] at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) \r\n~[netty-common-4.1.66.Final.jar:4.1.66.Final] at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) \r\n~[netty-common-4.1.66.Final.jar:4.1.66.Final] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n```","title":"Spring-webflux / Netty service won&#39;t handle any requests","body":"<p>Attempting to update a Spring-webflux java service to use BouncyCastle for FIPS compliant cryptography would startup, however every request to the service would end up failing with a stack trace like this:</p>\n<pre><code>[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server ignored SNI (no matchers specified) \n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server specified new session: 3897681a0667834f4be0c7c579976c84863b65c3cb5b572ab2064488b89069e7 \n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server (1.2) selected credentials for signature scheme 'ecdsa_secp521r1_sha512(0x603)' (keyType 'ECDHE_ECDSA'), with private key algorithm 'RSA' \n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server selected cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 \n[ctor-http-nio-5] o.b.jsse.provider.ProvTlsServer : Server raised fatal(2) internal_error(80) alert: Failed to process record\njava.lang.IllegalStateException: Invalid algorithm: {sha512(6),ecdsa(3)} at org.bouncycastle.tls.crypto.impl.jcajce.JcaTlsRSASigner.generateRawSignature(JcaTlsRSASigner.java:59) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.DefaultTlsCredentialedSigner.generateRawSignature(DefaultTlsCredentialedSigner.java:53) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsUtils.generateServerKeyExchangeSignature(TlsUtils.java:2587) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsECDHEKeyExchange.generateServerKeyExchange(TlsECDHEKeyExchange.java:79) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsServerProtocol.handleHandshakeMessage(TlsServerProtocol.java:1082) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.processHandshakeQueue(TlsProtocol.java:695) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.processRecord(TlsProtocol.java:584) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.RecordStream.readFullRecord(RecordStream.java:207) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.safeReadFullRecord(TlsProtocol.java:890) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.offerInput(TlsProtocol.java:1282) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.tls.TlsProtocol.offerInput(TlsProtocol.java:1250) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at org.bouncycastle.jsse.provider.ProvSSLEngine.unwrap(ProvSSLEngine.java:464) \n~[bctls-fips-1.0.12.2.jar:1.0.12.2] at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637) \n~[na:na] at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:298) \n~[netty-handler-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1344) \n~[netty-handler-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1237) \n~[netty-handler-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286) \n~[netty-handler-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507) \n~[netty-codec-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446) \n~[netty-codec-4.1.66.Final.jar:4.1.66.Final] at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) \n~[netty-codec-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) \n~[netty-transport-4.1.66.Final.jar:4.1.66.Final] at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) \n~[netty-common-4.1.66.Final.jar:4.1.66.Final] at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) \n~[netty-common-4.1.66.Final.jar:4.1.66.Final] at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) \n~[netty-common-4.1.66.Final.jar:4.1.66.Final] at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["java","c#","biginteger","sha256","hmac"],"comments":[{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":2,"creation_date":1638419211,"post_id":70194157,"comment_id":124084782,"body_markdown":"The byte representation returned by toByteArray() is different in C# and Java. Compare the binary output in both cases and see what are the differences. To fix the issue you must make sure the key and the message are bytewise identical. For example, you could convert  the BigIntegers to String.","body":"The byte representation returned by toByteArray() is different in C# and Java. Compare the binary output in both cases and see what are the differences. To fix the issue you must make sure the key and the message are bytewise identical. For example, you could convert  the BigIntegers to String."},{"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"score":0,"creation_date":1638419423,"post_id":70194157,"comment_id":124084818,"body_markdown":"Thank you @roccobaroccoSC, but the code in C# can not be changed, then when I tried to convert BigInteger to String, it was still deliver the diference.","body":"Thank you @roccobaroccoSC, but the code in C# can not be changed, then when I tried to convert BigInteger to String, it was still deliver the diference."},{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1638421092,"post_id":70194157,"comment_id":124085058,"body_markdown":"When you compare the binary output of toByteArray() in both cases, do you see any differences? Maybe it&#39;s some padding at the end that could be patched?","body":"When you compare the binary output of toByteArray() in both cases, do you see any differences? Maybe it&#39;s some padding at the end that could be patched?"},{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1638421146,"post_id":70194157,"comment_id":124085073,"body_markdown":"Dump the two outputs in the console as numbers and then use diff to compare them.","body":"Dump the two outputs in the console as numbers and then use diff to compare them."},{"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"score":0,"creation_date":1638443166,"post_id":70194157,"comment_id":124091529,"body_markdown":"Thank you @roccobaroccoSC, but if there is any differences, we also see it in the hex result, is that right? So far now still no luck after all.","body":"Thank you @roccobaroccoSC, but if there is any differences, we also see it in the hex result, is that right? So far now still no luck after all."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1638460656,"post_id":70194157,"comment_id":124099536,"body_markdown":"Just because the methods have the same name `.toByteArray()` doesn&#39;t mean they are the same. I wouldn&#39;t be surprised if .Net BigInteger returns the array in little-endian.","body":"Just because the methods have the same name <code>.toByteArray()</code> doesn&#39;t mean they are the same. I wouldn&#39;t be surprised if .Net BigInteger returns the array in little-endian."},{"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"score":0,"creation_date":1638474141,"post_id":70194157,"comment_id":124104753,"body_markdown":"I did try to reverse the byte array too, still did not hit the match.","body":"I did try to reverse the byte array too, still did not hit the match."}],"owner":{"account_id":23501729,"reputation":3,"user_id":17551551,"display_name":"Nick Pham"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644611501,"creation_date":1638418837,"question_id":70194157,"body_markdown":"Yesterday I ran into a trouble with hashing using Java and C#\r\n\r\nI have this code in C#\r\n\r\n```\r\nbyte[] message = Encoding.UTF8.GetBytes(&quot;nick&quot;);\r\nbyte[] key = Encoding.UTF8.GetBytes(&quot;key&quot;);\r\n\r\nHMACSHA256 hmac = new HMACSHA256(key);\r\nbyte[] HmacBytes = hmac.ComputeHash(message);\r\n\r\nvar result = BitConverter.toString(HmacBytes);\r\n\r\n_logger.LogInformation($&quot;&gt;&gt;&gt; HMAC: &quot; + result);\r\n```\r\n\r\nand this code in Java\r\n\r\n```\r\nbyte[] message = &quot;nick&quot;.getBytes(&quot;UTF-8&quot;);\r\nbyte[] key = &quot;key&quot;.getBytes(&quot;UTF-8&quot;);\r\n\r\nMac sha256HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\r\nSecretKeySpec secretKey = new SecretKeySpec(key, sha256HMAC.getAlgorithm());\r\nsha256HMAC.init(secretKey);\r\n\r\nbyte[] hmacBytes = sha256HMAC.doFinal(message);\r\n            \r\nSystem.out.println(&quot;&gt;&gt;&gt; HMAC: &quot; + Utils.bytesToHex(hmacBytes));\r\n```\r\n\r\nBoth of these codes have a same result as: \r\n`D56F32BEB288697DBC666CFCE330750240EE7252A8EACB90F30AE5EC2B6544FE`\r\n\r\nHowever, If I use the message and the key with BigInteger variable, the result eventually  was different.\r\n\r\nFor specific\r\n\r\nThe key BigInteger variable: \r\n`89846755145779207896151571317970843398423995352339053147606272151939451164346932712779779593562801986871149751592444563734853909794103626366575265329402498505873220784518950449894168432504409626921891704398413417881679930643396500380895818666783852587744861261584959964779866038266086235614583684537765854767`\r\n\r\nThe message BigInteger variable: \r\n`105278801605955351183032861925660079240049371193037037019863031780531990060755731057393990664319512505978954889835933668032824049054190807125138251307247771506918060803959346902566451812689470408398611041302277800747341495594297701677567604614145074223483256879948522462707345079591319551080307454838134385381`\r\n\r\nand I change in C#\r\n\r\n```\r\nHMACSHA256 hmac = new HMACSHA256(key.toByteArray());\r\nbyte[] HmacBytes = hmac.ComputeHash(message.toByteArray());\r\n\r\nvar result = BitConverter.toString(HmacBytes);\r\n\r\n_logger.LogInformation($&quot;&gt;&gt;&gt; HMAC: &quot; + result);\r\n```\r\n\r\nsame with Java\r\n```\r\nMac sha256HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\r\nSecretKeySpec secretKey = new SecretKeySpec(key.toByteArray(), sha256HMAC.getAlgorithm());\r\nsha256HMAC.init(secretKey);\r\n\r\nbyte[] hmacBytes = sha256HMAC.doFinal(message.toByteArray());\r\n            \r\nSystem.out.println(&quot;&gt;&gt;&gt; HMAC: &quot; + Utils.bytesToHex(hmacBytes));\r\n```\r\n\r\nThen the result is very different when in C#:\r\n`ED12EC5908E91F9F9CCE0AB8D703DC31A7DE70B20A39FC5C9A35C9193019C6D2`\r\n\r\nand Java:\r\n`827EE601E601B44BF09D34947A7255EE484596B8C7DBEF283A64EE5C9BDA0CD1`\r\n\r\nWhat do I have to fix in Java to match with C# result?","title":"Java hmacSHA256 with BigInteger is different compare to C#","body":"<p>Yesterday I ran into a trouble with hashing using Java and C#</p>\n<p>I have this code in C#</p>\n<pre><code>byte[] message = Encoding.UTF8.GetBytes(&quot;nick&quot;);\nbyte[] key = Encoding.UTF8.GetBytes(&quot;key&quot;);\n\nHMACSHA256 hmac = new HMACSHA256(key);\nbyte[] HmacBytes = hmac.ComputeHash(message);\n\nvar result = BitConverter.toString(HmacBytes);\n\n_logger.LogInformation($&quot;&gt;&gt;&gt; HMAC: &quot; + result);\n</code></pre>\n<p>and this code in Java</p>\n<pre><code>byte[] message = &quot;nick&quot;.getBytes(&quot;UTF-8&quot;);\nbyte[] key = &quot;key&quot;.getBytes(&quot;UTF-8&quot;);\n\nMac sha256HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\nSecretKeySpec secretKey = new SecretKeySpec(key, sha256HMAC.getAlgorithm());\nsha256HMAC.init(secretKey);\n\nbyte[] hmacBytes = sha256HMAC.doFinal(message);\n            \nSystem.out.println(&quot;&gt;&gt;&gt; HMAC: &quot; + Utils.bytesToHex(hmacBytes));\n</code></pre>\n<p>Both of these codes have a same result as:\n<code>D56F32BEB288697DBC666CFCE330750240EE7252A8EACB90F30AE5EC2B6544FE</code></p>\n<p>However, If I use the message and the key with BigInteger variable, the result eventually  was different.</p>\n<p>For specific</p>\n<p>The key BigInteger variable:\n<code>89846755145779207896151571317970843398423995352339053147606272151939451164346932712779779593562801986871149751592444563734853909794103626366575265329402498505873220784518950449894168432504409626921891704398413417881679930643396500380895818666783852587744861261584959964779866038266086235614583684537765854767</code></p>\n<p>The message BigInteger variable:\n<code>105278801605955351183032861925660079240049371193037037019863031780531990060755731057393990664319512505978954889835933668032824049054190807125138251307247771506918060803959346902566451812689470408398611041302277800747341495594297701677567604614145074223483256879948522462707345079591319551080307454838134385381</code></p>\n<p>and I change in C#</p>\n<pre><code>HMACSHA256 hmac = new HMACSHA256(key.toByteArray());\nbyte[] HmacBytes = hmac.ComputeHash(message.toByteArray());\n\nvar result = BitConverter.toString(HmacBytes);\n\n_logger.LogInformation($&quot;&gt;&gt;&gt; HMAC: &quot; + result);\n</code></pre>\n<p>same with Java</p>\n<pre><code>Mac sha256HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\nSecretKeySpec secretKey = new SecretKeySpec(key.toByteArray(), sha256HMAC.getAlgorithm());\nsha256HMAC.init(secretKey);\n\nbyte[] hmacBytes = sha256HMAC.doFinal(message.toByteArray());\n            \nSystem.out.println(&quot;&gt;&gt;&gt; HMAC: &quot; + Utils.bytesToHex(hmacBytes));\n</code></pre>\n<p>Then the result is very different when in C#:\n<code>ED12EC5908E91F9F9CCE0AB8D703DC31A7DE70B20A39FC5C9A35C9193019C6D2</code></p>\n<p>and Java:\n<code>827EE601E601B44BF09D34947A7255EE484596B8C7DBEF283A64EE5C9BDA0CD1</code></p>\n<p>What do I have to fix in Java to match with C# result?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":427350,"reputation":3460,"user_id":809069,"accept_rate":67,"display_name":"Andrea Thacker"},"score":1,"creation_date":1493654940,"post_id":25770563,"comment_id":74488111,"body_markdown":"Btw this doesn&#39;t seem to be a jRebel specific question","body":"Btw this doesn&#39;t seem to be a jRebel specific question"},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1565902832,"post_id":25770563,"comment_id":101500265,"body_markdown":"Happened because I accidentally selected run as junit for testng tests.","body":"Happened because I accidentally selected run as junit for testng tests."}],"answers":[{"tags":[],"owner":{"account_id":5455827,"reputation":305,"user_id":4339295,"display_name":"Raj"},"down_vote_count":4,"up_vote_count":31,"is_accepted":false,"score":27,"last_activity_date":1418083634,"creation_date":1418079577,"answer_id":27368591,"question_id":25770563,"body_markdown":"This can be fixed by [invalidating the cache](https://www.jetbrains.com/idea/help/cleaning-system-cache.html).\r\n\r\nOn the main menu, choose &lt;kbd&gt;File&lt;/kbd&gt; -&gt; &lt;kbd&gt;Invalidate Caches/Restart&lt;/kbd&gt;.\r\n\r\n[Source](https://devnet.jetbrains.com/thread/454231)","title":"0 test class found in package &lt;default package&gt;","body":"<p>This can be fixed by <a href=\"https://www.jetbrains.com/idea/help/cleaning-system-cache.html\">invalidating the cache</a>.</p>\n\n<p>On the main menu, choose <kbd>File</kbd> -> <kbd>Invalidate Caches/Restart</kbd>.</p>\n\n<p><a href=\"https://devnet.jetbrains.com/thread/454231\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":7361643,"reputation":173,"user_id":5604739,"accept_rate":64,"display_name":"jinan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483255805,"creation_date":1483243907,"answer_id":41413298,"question_id":25770563,"body_markdown":"When I used the IntelliJ &#39;Create Test&#39; feature, my test classes were automatically created as private. \r\n\r\nWhen I manually changed my test classes to public, my test classes were found. \r\n\r\n&lt;a href=&quot;https://www.reddit.com/r/javahelp/comments/4ca825/intellij_junit4_0_test_classes_found/?st=ixec25w2&amp;sh=8e1fa458&quot;&gt;Source&lt;/a&gt;","title":"0 test class found in package &lt;default package&gt;","body":"<p>When I used the IntelliJ 'Create Test' feature, my test classes were automatically created as private. </p>\n\n<p>When I manually changed my test classes to public, my test classes were found. </p>\n\n<p><a href=\"https://www.reddit.com/r/javahelp/comments/4ca825/intellij_junit4_0_test_classes_found/?st=ixec25w2&amp;sh=8e1fa458\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":10325995,"reputation":421,"user_id":7617450,"display_name":"Marcelo Melo"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1491568691,"creation_date":1491568691,"answer_id":43278381,"question_id":25770563,"body_markdown":"Make sure your class is declared as public and not &#39;default&#39;\r\n\r\n    public class MyClassTest\r\n\r\nas opposed to:\r\n\r\n    class MyClassTest\r\n\r\nWhen creating a new test class via IntelliJ shortcut the generated class was not declared as public and that caused the error.","title":"0 test class found in package &lt;default package&gt;","body":"<p>Make sure your class is declared as public and not 'default'</p>\n\n<pre><code>public class MyClassTest\n</code></pre>\n\n<p>as opposed to:</p>\n\n<pre><code>class MyClassTest\n</code></pre>\n\n<p>When creating a new test class via IntelliJ shortcut the generated class was not declared as public and that caused the error.</p>\n"},{"tags":[],"owner":{"account_id":2411350,"reputation":7732,"user_id":2106348,"display_name":"Vinod Joshi"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1502261575,"creation_date":1502261575,"answer_id":45583525,"question_id":25770563,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jhHjX.png\r\n\r\nMake sure &#39;app&#39; is selected to run...","title":"0 test class found in package &lt;default package&gt;","body":"<p><a href=\"https://i.stack.imgur.com/jhHjX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jhHjX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Make sure 'app' is selected to run...</p>\n"},{"tags":[],"owner":{"account_id":7854098,"reputation":1780,"user_id":5936602,"display_name":"Sorin Vetemean"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1509981166,"creation_date":1509981166,"answer_id":47140066,"question_id":25770563,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lo0lV.png\r\n\r\nOn your topbar or Alt + Shift + F10 and Run your project with your default Configuration not &quot;values in app&quot;","title":"0 test class found in package &lt;default package&gt;","body":"<p><a href=\"https://i.stack.imgur.com/lo0lV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lo0lV.png\" alt=\"enter image description here\"></a></p>\n\n<p>On your topbar or Alt + Shift + F10 and Run your project with your default Configuration not \"values in app\"</p>\n"},{"tags":[],"owner":{"account_id":12675123,"reputation":11,"user_id":9211218,"display_name":"Mikhail Polishuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515798964,"creation_date":1515798964,"answer_id":48235310,"question_id":25770563,"body_markdown":"Just create **another folder**, which will mark the directory as **Sources Root** and move your executable file into this folder.","title":"0 test class found in package &lt;default package&gt;","body":"<p>Just create <strong>another folder</strong>, which will mark the directory as <strong>Sources Root</strong> and move your executable file into this folder.</p>\n"},{"tags":[],"owner":{"account_id":295369,"reputation":2082,"user_id":599743,"accept_rate":33,"display_name":"tonisives"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516272177,"creation_date":1516272177,"answer_id":48319345,"question_id":25770563,"body_markdown":"What worked for me was deleting the .idea folder and importing the project again.","title":"0 test class found in package &lt;default package&gt;","body":"<p>What worked for me was deleting the .idea folder and importing the project again.</p>\n"},{"tags":[],"owner":{"account_id":13306030,"reputation":31,"user_id":9926812,"display_name":"Samya Daleh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534498602,"creation_date":1534497415,"answer_id":51892139,"question_id":25770563,"body_markdown":"For me this was the problem: My test folder was `./test/src/com/...`. I had marked `test` as test folder, but `test/src` was the right one.\r\n\r\nThe &quot;false&quot; setting worked for me with Jintellij 2017.1.3, but not in 2018.02.","title":"0 test class found in package &lt;default package&gt;","body":"<p>For me this was the problem: My test folder was <code>./test/src/com/...</code>. I had marked <code>test</code> as test folder, but <code>test/src</code> was the right one.</p>\n\n<p>The \"false\" setting worked for me with Jintellij 2017.1.3, but not in 2018.02.</p>\n"},{"tags":[],"owner":{"account_id":354520,"reputation":759,"user_id":692913,"display_name":"mlecar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570616125,"creation_date":1570616125,"answer_id":58301899,"question_id":25770563,"body_markdown":"I had this same issue and for me it was because TestNG plugin was not installed in Intellij. I did not choose it when installed Intellij and forgot about that.","title":"0 test class found in package &lt;default package&gt;","body":"<p>I had this same issue and for me it was because TestNG plugin was not installed in Intellij. I did not choose it when installed Intellij and forgot about that.</p>\n"}],"owner":{"account_id":4368579,"reputation":371,"user_id":3563560,"display_name":"webdigga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26588,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"answer_count":9,"score":36,"last_activity_date":1644611448,"creation_date":1410366435,"question_id":25770563,"body_markdown":"I have recently installed IntelliJ IDEA 13.1.4 and the jRebel plugin. I have licensed it ok and created and added configurations in `catalina.bat` file.\r\n\r\nWhen running jRebel from within IntelliJ, it seems to be monitoring the correct directories but I get the following message:\r\n\r\n&gt; 0 test class found in package &lt;default package&gt;\r\n\r\nThis then tells me that it has failed to start.\r\n\r\nDoes anybody know what I might need to change to get this to work?","title":"0 test class found in package &lt;default package&gt;","body":"<p>I have recently installed IntelliJ IDEA 13.1.4 and the jRebel plugin. I have licensed it ok and created and added configurations in <code>catalina.bat</code> file.</p>\n\n<p>When running jRebel from within IntelliJ, it seems to be monitoring the correct directories but I get the following message:</p>\n\n<blockquote>\n  <p>0 test class found in package </p>\n</blockquote>\n\n<p>This then tells me that it has failed to start.</p>\n\n<p>Does anybody know what I might need to change to get this to work?</p>\n"},{"tags":["java","spring-boot","jackson","jackson-databind","java-15"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644591553,"post_id":71082115,"comment_id":125654336,"body_markdown":"Check if this helps some way: https://www.baeldung.com/jackson-serialize-field-custom-criteria and https://stackoverflow.com/questions/25131282/skip-objects-conditionally-when-serializing-with-jackson","body":"Check if this helps some way: <a href=\"https://www.baeldung.com/jackson-serialize-field-custom-criteria\" rel=\"nofollow noreferrer\">baeldung.com/jackson-serialize-field-custom-criteria</a> and <a href=\"https://stackoverflow.com/questions/25131282/skip-objects-conditionally-when-serializing-with-jackson\" title=\"skip objects conditionally when serializing with jackson\">stackoverflow.com/questions/25131282/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644611091,"creation_date":1644611091,"answer_id":71086169,"question_id":71082115,"body_markdown":"Jackson has following concepts for that:\r\n \r\n### *Filter*: filter and control serialization of properties\r\n__How to setup:__\r\nThe annotation `@JsonFilter` applies a *named* filter to a class (bean).\r\nThat name can be looked up in a registry to find a custom `PropertyFilter` implementation (e.g. an extension of abstract `SimpleBeanPropertyFilter`).\r\nThe registry is a `FilterProvider` which can be configured with your `ObjectMapper`.\r\n\r\n__How it works:__\r\nSo when the ObjectMapper instance is about to serialize your bean it will recognize the filter and use the logic  to a `FilterProvider`. The `FilterProvider` then controls if and how the property is serialized.\r\n\r\nSee:\r\n* tutorial on Baeldung (2019): [Serialize Only Fields that meet a Custom Criteria with Jackson](https://www.baeldung.com/jackson-serialize-field-custom-criteria) \r\n* article on CowTownCoder (2011): [Advanced filtering with Jackson, Json Filters](http://www.cowtowncoder.com/blog/archives/2011/09/entry_461.html)\r\n\r\n### *Modifier*: modify serialization at runtime, dynamically/conditional\r\nFor example `BeanSerializerModifier` as solution to hide a field *dynamically* - based on a runtime value condition. See https://stackoverflow.com/questions/25131282/skip-objects-conditionally-when-serializing-with-jackson.\r\n\r\n### Static masking\r\n(Probably not for your variable key/value pairs, but generally good approach for fields designed to hide sensitive data)\r\n\r\nSee https://stackoverflow.com/questions/56070451/mask-json-fields-using-jackson which tries to add a specific serializer which derives its mask from a custom annotation.","title":"Jackson serialise property based on other property value","body":"<p>Jackson has following concepts for that:</p>\n<h3><em>Filter</em>: filter and control serialization of properties</h3>\n<p><strong>How to setup:</strong>\nThe annotation <code>@JsonFilter</code> applies a <em>named</em> filter to a class (bean).\nThat name can be looked up in a registry to find a custom <code>PropertyFilter</code> implementation (e.g. an extension of abstract <code>SimpleBeanPropertyFilter</code>).\nThe registry is a <code>FilterProvider</code> which can be configured with your <code>ObjectMapper</code>.</p>\n<p><strong>How it works:</strong>\nSo when the ObjectMapper instance is about to serialize your bean it will recognize the filter and use the logic  to a <code>FilterProvider</code>. The <code>FilterProvider</code> then controls if and how the property is serialized.</p>\n<p>See:</p>\n<ul>\n<li>tutorial on Baeldung (2019): <a href=\"https://www.baeldung.com/jackson-serialize-field-custom-criteria\" rel=\"nofollow noreferrer\">Serialize Only Fields that meet a Custom Criteria with Jackson</a></li>\n<li>article on CowTownCoder (2011): <a href=\"http://www.cowtowncoder.com/blog/archives/2011/09/entry_461.html\" rel=\"nofollow noreferrer\">Advanced filtering with Jackson, Json Filters</a></li>\n</ul>\n<h3><em>Modifier</em>: modify serialization at runtime, dynamically/conditional</h3>\n<p>For example <code>BeanSerializerModifier</code> as solution to hide a field <em>dynamically</em> - based on a runtime value condition. See <a href=\"https://stackoverflow.com/questions/25131282/skip-objects-conditionally-when-serializing-with-jackson\">Skip objects conditionally when serializing with jackson</a>.</p>\n<h3>Static masking</h3>\n<p>(Probably not for your variable key/value pairs, but generally good approach for fields designed to hide sensitive data)</p>\n<p>See <a href=\"https://stackoverflow.com/questions/56070451/mask-json-fields-using-jackson\">Mask json fields using jackson</a> which tries to add a specific serializer which derives its mask from a custom annotation.</p>\n"}],"owner":{"account_id":6469254,"reputation":23,"user_id":5009945,"display_name":"Darshan Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71086169,"answer_count":1,"score":1,"last_activity_date":1644611091,"creation_date":1644591270,"question_id":71082115,"body_markdown":"I&#39;m looking for a solution to serialize a POJO object property based on some other property value within the same POJO using Jackson. &lt;br/&gt;\r\n\r\nIf a property value matches some criteria then other property values should be changed as per requirement. &lt;br/&gt;\r\nFor example, below is my JSON object:\r\n```json\r\n{\r\n  &quot;testProperty&quot;: &quot;testValue&quot;,\r\n  &quot;object&quot;: [{\r\n    &quot;key&quot;: &quot;password&quot;,\r\n    &quot;value&quot;: &quot;passwordValue&quot;\r\n  },\r\n  {\r\n    &quot;key&quot;: &quot;key2&quot;,\r\n    &quot;value&quot;: &quot;value2&quot;\r\n  }]\r\n}\r\n```\r\nIn above case, if `key`&#39;s value matches some criteria then I should be able to change the value of `value`. &lt;br/&gt;\r\n&lt;br/&gt;\r\n\r\nWhy this is required:\r\n- `object` is a configuration object\r\n- And `key`-`value` are configuration settings\r\n- In the above example one of the `key` is `password` and I need to mask/change the respective `value` of that.\r\n\r\n&lt;br/&gt;\r\n\r\nOne more point to add, here in this example the properties are `key` and `value`, but if we find some solution to get it applied generically to any other properties dynamically then that would be great. &lt;br/&gt;\r\nAnnotating the properties can be one way but haven&#39;t found any way within Jackson to do so with custom serializers.\r\n\r\nThanks in advance. &lt;br/&gt;\r\nAny help will be appreciated.","title":"Jackson serialise property based on other property value","body":"<p>I'm looking for a solution to serialize a POJO object property based on some other property value within the same POJO using Jackson. <br/></p>\n<p>If a property value matches some criteria then other property values should be changed as per requirement. <br/>\nFor example, below is my JSON object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;testProperty&quot;: &quot;testValue&quot;,\n  &quot;object&quot;: [{\n    &quot;key&quot;: &quot;password&quot;,\n    &quot;value&quot;: &quot;passwordValue&quot;\n  },\n  {\n    &quot;key&quot;: &quot;key2&quot;,\n    &quot;value&quot;: &quot;value2&quot;\n  }]\n}\n</code></pre>\n<p>In above case, if <code>key</code>'s value matches some criteria then I should be able to change the value of <code>value</code>. <br/>\n<br/></p>\n<p>Why this is required:</p>\n<ul>\n<li><code>object</code> is a configuration object</li>\n<li>And <code>key</code>-<code>value</code> are configuration settings</li>\n<li>In the above example one of the <code>key</code> is <code>password</code> and I need to mask/change the respective <code>value</code> of that.</li>\n</ul>\n<br/>\n<p>One more point to add, here in this example the properties are <code>key</code> and <code>value</code>, but if we find some solution to get it applied generically to any other properties dynamically then that would be great. <br/>\nAnnotating the properties can be one way but haven't found any way within Jackson to do so with custom serializers.</p>\n<p>Thanks in advance. <br/>\nAny help will be appreciated.</p>\n"},{"tags":["java","recursion","multidimensional-array","knights-tour"],"comments":[{"owner":{"account_id":2811841,"reputation":1042,"user_id":2417922,"accept_rate":0,"display_name":"Mark Lavin"},"score":0,"creation_date":1644590336,"post_id":71081793,"comment_id":125653869,"body_markdown":"If the goal is to hit every cell once, I don&#39;t see why the starting position matters.   It would seem like the only thing you can vary is &quot;n&quot;.","body":"If the goal is to hit every cell once, I don&#39;t see why the starting position matters.   It would seem like the only thing you can vary is &quot;n&quot;."},{"owner":{"account_id":24129544,"reputation":1,"user_id":18097328,"display_name":"oryan7"},"score":0,"creation_date":1644590466,"post_id":71081793,"comment_id":125653911,"body_markdown":"@MarkLavin because I need to print *all* the different boards given different initial positions.","body":"@MarkLavin because I need to print <i>all</i> the different boards given different initial positions."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644591546,"post_id":71081793,"comment_id":125654334,"body_markdown":"Your problem is that the evaluation of the first nested `if/else` always evaluate to false. Either `isValid(b,i-1,j+2)` returns `false` or `b[i-1][j-2] == 0` returns false. Because the `else` returns `void`, none of the rest cases execute. I commented all the return statements, and the output still the same. All values inside the `b` array are filled with 1.","body":"Your problem is that the evaluation of the first nested <code>if&#47;else</code> always evaluate to false. Either <code>isValid(b,i-1,j+2)</code> returns <code>false</code> or <code>b[i-1][j-2] == 0</code> returns false. Because the <code>else</code> returns <code>void</code>, none of the rest cases execute. I commented all the return statements, and the output still the same. All values inside the <code>b</code> array are filled with 1."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644591834,"post_id":71081793,"comment_id":125654467,"body_markdown":"Basically, whatever `counter` value is passed from main, that&#39;s the value added to each index location in the 2D array.","body":"Basically, whatever <code>counter</code> value is passed from main, that&#39;s the value added to each index location in the 2D array."},{"owner":{"account_id":24129544,"reputation":1,"user_id":18097328,"display_name":"oryan7"},"score":0,"creation_date":1644591971,"post_id":71081793,"comment_id":125654544,"body_markdown":"@hfontanez how do i assign the counter value only to the current cell?","body":"@hfontanez how do i assign the counter value only to the current cell?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644593702,"post_id":71081793,"comment_id":125655279,"body_markdown":"@oryan7 I don&#39;t fully understand the problem. But first, you need to accumulate your `counter` variable because in the program execution it is only incremented locally. So, when you this evaluation `counter == b.length * b[0].length`, its value is always 1.","body":"@oryan7 I don&#39;t fully understand the problem. But first, you need to accumulate your <code>counter</code> variable because in the program execution it is only incremented locally. So, when you this evaluation <code>counter == b.length * b[0].length</code>, its value is always 1."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644593828,"post_id":71081793,"comment_id":125655333,"body_markdown":"If you allow me to edit your code, I can replace it with the one I am running so that you could take it from there.","body":"If you allow me to edit your code, I can replace it with the one I am running so that you could take it from there."},{"owner":{"account_id":24129544,"reputation":1,"user_id":18097328,"display_name":"oryan7"},"score":0,"creation_date":1644593967,"post_id":71081793,"comment_id":125655392,"body_markdown":"@hfontanez go ahead. thank you","body":"@hfontanez go ahead. thank you"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644594364,"post_id":71081793,"comment_id":125655533,"body_markdown":"@oryan7 since `counter` is a global variable, you don&#39;t really need to pass (`newCounter`) it  as a variable. I just made that change for you as well.","body":"@oryan7 since <code>counter</code> is a global variable, you don&#39;t really need to pass (<code>newCounter</code>) it  as a variable. I just made that change for you as well."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644594939,"post_id":71081793,"comment_id":125655776,"body_markdown":"@oryan7 Here&#39;s the summary of your issue: you are only visiting each index once. How did I determine this? If I take this line `b[i][j] = counter;` and I add the contents of that location to `counter` before replacing its value (`b[i][j] = counter + b[i][j];`), the value set will not change; meaning the previous value at that index location was zero. Also, if I don&#39;t increment counter and call `printMatrix(b)` at the end, the array will be filled with whatever value I started with. If counter initial value was 5, the array will be filled with that value.","body":"@oryan7 Here&#39;s the summary of your issue: you are only visiting each index once. How did I determine this? If I take this line <code>b[i][j] = counter;</code> and I add the contents of that location to <code>counter</code> before replacing its value (<code>b[i][j] = counter + b[i][j];</code>), the value set will not change; meaning the previous value at that index location was zero. Also, if I don&#39;t increment counter and call <code>printMatrix(b)</code> at the end, the array will be filled with whatever value I started with. If counter initial value was 5, the array will be filled with that value."},{"owner":{"account_id":24129544,"reputation":1,"user_id":18097328,"display_name":"oryan7"},"score":0,"creation_date":1644594987,"post_id":71081793,"comment_id":125655796,"body_markdown":"Fantatic, it works. but it only prints 1 matrix, how to I get it to print all matrices, given different starting points? it should print 303-304 of them.","body":"Fantatic, it works. but it only prints 1 matrix, how to I get it to print all matrices, given different starting points? it should print 303-304 of them."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644595080,"post_id":71081793,"comment_id":125655830,"body_markdown":"I don&#39;t understand the problem you are trying to solve. I just fixed the obvious problem related to counter variable not updating.","body":"I don&#39;t understand the problem you are trying to solve. I just fixed the obvious problem related to counter variable not updating."},{"owner":{"account_id":24129544,"reputation":1,"user_id":18097328,"display_name":"oryan7"},"score":0,"creation_date":1644595345,"post_id":71081793,"comment_id":125655946,"body_markdown":"@hfontanez  I understand your solution and where my mistake was. what I&#39;m asking is, the new code only prints 1 array, 1 possible path. Is there a way to print *all* the arrays with all different paths?","body":"@hfontanez  I understand your solution and where my mistake was. what I&#39;m asking is, the new code only prints 1 array, 1 possible path. Is there a way to print <i>all</i> the arrays with all different paths?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644596334,"post_id":71081793,"comment_id":125656364,"body_markdown":"@oryan7 wait... I think it is starting to sink in. Do you want to capture, for a given position `b[i][j]` all possible paths a knight can take? For instance, given starting position of `b[0][0]` (top-left corner) a knight can take two paths, ending in: {{1,2}, {2, 1}}. Therefore, you want to print out that matrix. Am I correct? If so, this code is all wrong.","body":"@oryan7 wait... I think it is starting to sink in. Do you want to capture, for a given position <code>b[i][j]</code> all possible paths a knight can take? For instance, given starting position of <code>b[0][0]</code> (top-left corner) a knight can take two paths, ending in: {{1,2}, {2, 1}}. Therefore, you want to print out that matrix. Am I correct? If so, this code is all wrong."},{"owner":{"account_id":24129544,"reputation":1,"user_id":18097328,"display_name":"oryan7"},"score":0,"creation_date":1644596892,"post_id":71081793,"comment_id":125656582,"body_markdown":"Yes exactly. well I&#39;d appreciate it if you can point me at some direction so I can start  working on this :)","body":"Yes exactly. well I&#39;d appreciate it if you can point me at some direction so I can start  working on this :)"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644601203,"post_id":71081793,"comment_id":125658226,"body_markdown":"@oryan7 I posted my solution. I hope it is accurate.","body":"@oryan7 I posted my solution. I hope it is accurate."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644611097,"post_id":71081793,"comment_id":125661406,"body_markdown":"@oryan7 I have updated my answer with two versions, one that maps the cell counter from top-left to the set of destination cell coordinates, and one that maps the coordinates of the current cell to the set of coordinates of the destination cells. I am really curious if this is really what you wanted.","body":"@oryan7 I have updated my answer with two versions, one that maps the cell counter from top-left to the set of destination cell coordinates, and one that maps the coordinates of the current cell to the set of coordinates of the destination cells. I am really curious if this is really what you wanted."},{"owner":{"account_id":24129544,"reputation":1,"user_id":18097328,"display_name":"oryan7"},"score":0,"creation_date":1644611713,"post_id":71081793,"comment_id":125661591,"body_markdown":"@hfontanez my friend, this is exactly what I needed. I appreciate your time and your effort, I&#39;d vote it up but I&#39;m quite new to the site so I can&#39;t :/  thank you very very much!","body":"@hfontanez my friend, this is exactly what I needed. I appreciate your time and your effort, I&#39;d vote it up but I&#39;m quite new to the site so I can&#39;t :/  thank you very very much!"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1644612266,"post_id":71081793,"comment_id":125661737,"body_markdown":"@oryan7 if the answer satisfies your needs, click the checkmark next to it to mark it as the accepted answer. I will appreciate it if you do that.","body":"@oryan7 if the answer satisfies your needs, click the checkmark next to it to mark it as the accepted answer. I will appreciate it if you do that."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644610950,"creation_date":1644601181,"answer_id":71084328,"question_id":71081793,"body_markdown":"Based on the OP&#39;s explanation in the comments section, the goal is to map out all possible paths a knight can take from a location on the board. Basically, given the knight&#39;s location `b[i][j]`, calculate all legal paths.\r\n\r\nIf a knight is at {0, 0}, the knight has only two legal paths that end in {1, 2} and {2, 1}. The idea here is to capture that in a map. Then, move on to the next location on the board (i.e. {1, 0}) and repeat the process. Since each board location can be identified as an integer (`counter`), we can use it to map the paths...\r\n```\r\n0=[{1, 2}, {2, 1}]\r\n1=[{2, 2}, {1, 3}, {2, 0}]\r\n...\r\nn=[{n^-2 - 3, n^-2 - 2}, {n^-2 - 2, n^-2 - 3}] // last location is always a corner\r\n```\r\nTo make it simple, I decided to create a Java `record` of coordinates to store the {*x, y*} coordinates of the end location of a given path, making my map `&lt;Integer, Set&lt;Coordinates&gt;&gt;`\r\n\r\nThe logic here is quite simple. First, seed the map with empty lists for each one corresponding location in the matrix. Then, iterate through the matrix (2D array) and calculate all the legal paths a knight can take from this location. For each legal path, add the `Coordinates` of the end location of the path. I used a `Set` to eliminate duplicate coordinates.\r\n\r\nMy solution (perhaps not optimal) is as follows (used OP code as baseline) - Need Java 15 or later to run. For Java 14 or earlier, replace `Coordinates` with an `Integer[]` of length 2, and store the coordinates in it.\r\n```\r\npublic class KnightDemo {\r\n\r\n\tstatic int counter = 0;\r\n\tstatic Map&lt;Integer, Set&lt;Coordinates&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\n\tpublic static void KnightPath(int[][] b, int i, int j) {\r\n\t\tSet&lt;Coordinates&gt; paths = map.get(counter);\r\n\t\tif (isValid(b, i - 1, j + 2)) {\r\n\t\t\tpaths.add(new Coordinates(i - 1, j + 2));\r\n\t\t\tmap.put(counter, paths);\r\n\t\t}\r\n\t\tif (isValid(b, i - 2, j + 1)) {\r\n\t\t\tpaths.add(new Coordinates(i - 2, j + 1));\r\n\t\t\tmap.put(counter, paths);\r\n\t\t}\r\n\t\tif (isValid(b, i - 1, j - 2)) {\r\n\t\t\tpaths.add(new Coordinates(i - 1, j - 2));\r\n\t\t\tmap.put(counter, paths);\r\n\t\t}\r\n\t\tif (isValid(b, i - 2, j - 1)) {\r\n\t\t\tpaths.add(new Coordinates(i - 2, j - 1));\r\n\t\t\tmap.put(counter, paths);\r\n\t\t}\r\n\t\tif (isValid(b, i + 2, j - 1)) {\r\n\t\t\tpaths.add(new Coordinates(i + 2, j - 1));\r\n\t\t\tmap.put(counter, paths);\r\n\t\t}\r\n\t\tif (isValid(b, i + 1, j - 2)) {\r\n\t\t\tpaths.add(new Coordinates(i + 1, j - 2));\r\n\t\t\tmap.put(counter, paths);\r\n\t\t}\r\n\t\tif (isValid(b, i + 1, j + 2)) {\r\n\t\t\tpaths.add(new Coordinates(i + 1, j + 2));\r\n\t\t\tmap.put(counter, paths);\r\n\t\t}\r\n\t\tif (isValid(b, i + 2, j + 1)) {\r\n\t\t\tpaths.add(new Coordinates(i + 2, j + 1));\r\n\t\t\tmap.put(counter, paths);\r\n\t\t}\r\n\r\n\t\tcounter++;\r\n\t}\r\n\r\n\tpublic static boolean isValid(int[][] a, int i, int j) {\r\n\t\treturn i &gt;= 0 &amp;&amp; i &lt; a.length &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; a[0].length;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[][] b = new int[5][5];\r\n\t\tfor (int i = 0; i &lt; b.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; b[0].length; j++) {\r\n\t\t\t\tmap.put(counter, new HashSet&lt;&gt;()); // add a new set before calculating paths\r\n\t\t\t\tKnightPath(b, i, j);\r\n\t\t\t}\r\n\t\t}\r\n\t\tmap.entrySet().stream().forEach(System.out::println);\r\n\t}\r\n\r\n\tprivate static record Coordinates(int row, int col) {\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;{&quot; + row + &quot;, &quot; + col + &quot;}&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThe program outputs:\r\n```\r\n0=[{1, 2}, {2, 1}]\r\n1=[{2, 2}, {1, 3}, {2, 0}]\r\n2=[{2, 3}, {1, 4}, {2, 1}, {1, 0}]\r\n3=[{2, 2}, {1, 1}, {2, 4}]\r\n4=[{2, 3}, {1, 2}]\r\n5=[{2, 2}, {0, 2}, {3, 1}]\r\n6=[{2, 3}, {0, 3}, {3, 0}, {3, 2}]\r\n7=[{0, 0}, {3, 3}, {2, 4}, {0, 4}, {3, 1}, {2, 0}]\r\n8=[{0, 1}, {3, 4}, {3, 2}, {2, 1}]\r\n9=[{3, 3}, {2, 2}, {0, 2}]\r\n10=[{1, 2}, {0, 1}, {4, 1}, {3, 2}]\r\n11=[{0, 0}, {3, 3}, {1, 3}, {0, 2}, {4, 0}, {4, 2}]\r\n12=[{0, 1}, {3, 4}, {1, 4}, {0, 3}, {4, 1}, {3, 0}, {1, 0}, {4, 3}]\r\n13=[{1, 1}, {4, 4}, {0, 2}, {0, 4}, {4, 2}, {3, 1}]\r\n14=[{1, 2}, {0, 3}, {4, 3}, {3, 2}]\r\n15=[{2, 2}, {1, 1}, {4, 2}]\r\n16=[{2, 3}, {1, 2}, {1, 0}, {4, 3}]\r\n17=[{1, 1}, {4, 4}, {2, 4}, {1, 3}, {4, 0}, {2, 0}]\r\n18=[{1, 2}, {1, 4}, {4, 1}, {2, 1}]\r\n19=[{2, 2}, {1, 3}, {4, 2}]\r\n20=[{3, 2}, {2, 1}]\r\n21=[{3, 3}, {2, 2}, {2, 0}]\r\n22=[{3, 4}, {2, 3}, {3, 0}, {2, 1}]\r\n23=[{2, 2}, {2, 4}, {3, 1}]\r\n24=[{2, 3}, {3, 2}]\r\n```\r\nUPDATE: Can you use this in a real game of chess?\r\n-----------------------------------------\r\nYes, you can! Suppose you seed the matrix with `black` and `white`. You could enhance the logic so that, if the end location corresponds to your color, you don&#39;t add as a valid path since it is blocked by one of your pieces.\r\n\r\nSECOND UPDATE: Same code but using `Coordinate` object as key\r\n-------------------------------------------------------------\r\n```\r\npublic class KnightDemo {\r\n\r\n\tstatic int counter = 0;\r\n\tstatic Map&lt;Coordinates, Set&lt;Coordinates&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\n\tpublic static void KnightPath(int[][] b, Coordinates coordinates) {\r\n\r\n\t\tSet&lt;Coordinates&gt; paths = map.get(coordinates);\r\n\t\tif (isValid(b, coordinates.row() - 1, coordinates.col() + 2)) {\r\n\t\t\tpaths.add(new Coordinates(coordinates.row() - 1, coordinates.col() + 2));\r\n\t\t\tmap.put(coordinates, paths);\r\n\t\t}\r\n\t\tif (isValid(b, coordinates.row() - 2, coordinates.col() + 1)) {\r\n\t\t\tpaths.add(new Coordinates(coordinates.row() - 2, coordinates.col() + 1));\r\n\t\t\tmap.put(coordinates, paths);\r\n\t\t}\r\n\t\tif (isValid(b, coordinates.row() - 1, coordinates.col() - 2)) {\r\n\t\t\tpaths.add(new Coordinates(coordinates.row() - 1, coordinates.col() - 2));\r\n\t\t\tmap.put(coordinates, paths);\r\n\t\t}\r\n\t\tif (isValid(b, coordinates.row() - 2, coordinates.col() - 1)) {\r\n\t\t\tpaths.add(new Coordinates(coordinates.row() - 2, coordinates.col() - 1));\r\n\t\t\tmap.put(coordinates, paths);\r\n\t\t}\r\n\t\tif (isValid(b, coordinates.row() + 2, coordinates.col() - 1)) {\r\n\t\t\tpaths.add(new Coordinates(coordinates.row() + 2, coordinates.col() - 1));\r\n\t\t\tmap.put(coordinates, paths);\r\n\t\t}\r\n\t\tif (isValid(b, coordinates.row() + 1, coordinates.col() - 2)) {\r\n\t\t\tpaths.add(new Coordinates(coordinates.row() + 1, coordinates.col() - 2));\r\n\t\t\tmap.put(coordinates, paths);\r\n\t\t}\r\n\t\tif (isValid(b, coordinates.row() + 1, coordinates.col() + 2)) {\r\n\t\t\tpaths.add(new Coordinates(coordinates.row() + 1, coordinates.col() + 2));\r\n\t\t\tmap.put(coordinates, paths);\r\n\t\t}\r\n\t\tif (isValid(b, coordinates.row() + 2, coordinates.col() + 1)) {\r\n\t\t\tpaths.add(new Coordinates(coordinates.row() + 2, coordinates.col() + 1));\r\n\t\t\tmap.put(coordinates, paths);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static boolean isValid(int[][] a, int i, int j) {\r\n\t\treturn i &gt;= 0 &amp;&amp; i &lt; a.length &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; a[0].length;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[][] b = new int[5][5];\r\n\t\tfor (int i = 0; i &lt; b.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; b[0].length; j++) {\r\n\t\t\t\tCoordinates coordinates = new Coordinates(i, j);\r\n\t\t\t\tmap.put(coordinates, new HashSet&lt;&gt;());\r\n\t\t\t\tKnightPath(b, coordinates);\r\n\t\t\t\tcounter++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tmap.entrySet().stream().forEach(System.out::println);\r\n\t}\r\n\r\n\tprivate static record Coordinates(int row, int col) {\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;{&quot; + row + &quot;, &quot; + col + &quot;}&quot;;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nOutputs:\r\n```\r\n{0, 0}=[{1, 2}, {2, 1}]\r\n{2, 2}=[{0, 1}, {3, 4}, {1, 4}, {0, 3}, {4, 1}, {3, 0}, {1, 0}, {4, 3}]\r\n{4, 4}=[{2, 3}, {3, 2}]\r\n{0, 1}=[{2, 2}, {1, 3}, {2, 0}]\r\n{2, 3}=[{1, 1}, {4, 4}, {0, 2}, {0, 4}, {4, 2}, {3, 1}]\r\n{0, 2}=[{2, 3}, {1, 4}, {2, 1}, {1, 0}]\r\n{2, 4}=[{1, 2}, {0, 3}, {4, 3}, {3, 2}]\r\n{0, 3}=[{2, 2}, {1, 1}, {2, 4}]\r\n{0, 4}=[{2, 3}, {1, 2}]\r\n{3, 0}=[{2, 2}, {1, 1}, {4, 2}]\r\n{3, 1}=[{2, 3}, {1, 2}, {1, 0}, {4, 3}]\r\n{1, 0}=[{2, 2}, {0, 2}, {3, 1}]\r\n{3, 2}=[{1, 1}, {4, 4}, {2, 4}, {1, 3}, {4, 0}, {2, 0}]\r\n{1, 1}=[{2, 3}, {0, 3}, {3, 0}, {3, 2}]\r\n{3, 3}=[{1, 2}, {1, 4}, {4, 1}, {2, 1}]\r\n{1, 2}=[{0, 0}, {3, 3}, {2, 4}, {0, 4}, {3, 1}, {2, 0}]\r\n{3, 4}=[{2, 2}, {1, 3}, {4, 2}]\r\n{1, 3}=[{0, 1}, {3, 4}, {3, 2}, {2, 1}]\r\n{1, 4}=[{3, 3}, {2, 2}, {0, 2}]\r\n{4, 0}=[{3, 2}, {2, 1}]\r\n{4, 1}=[{3, 3}, {2, 2}, {2, 0}]\r\n{2, 0}=[{1, 2}, {0, 1}, {4, 1}, {3, 2}]\r\n{4, 2}=[{3, 4}, {2, 3}, {3, 0}, {2, 1}]\r\n{2, 1}=[{0, 0}, {3, 3}, {1, 3}, {0, 2}, {4, 0}, {4, 2}]\r\n{4, 3}=[{2, 2}, {2, 4}, {3, 1}]\r\n```\r\nThey don&#39;t print in the same order, but you can tell that coordinates `{2, 2}` is the same set as `counter==12` in the previous example. Cell {2, 2} is the 13th cell from the top-left.","title":"Determining if a knight can pass through all cells in a 2d array - if so print board","body":"<p>Based on the OP's explanation in the comments section, the goal is to map out all possible paths a knight can take from a location on the board. Basically, given the knight's location <code>b[i][j]</code>, calculate all legal paths.</p>\n<p>If a knight is at {0, 0}, the knight has only two legal paths that end in {1, 2} and {2, 1}. The idea here is to capture that in a map. Then, move on to the next location on the board (i.e. {1, 0}) and repeat the process. Since each board location can be identified as an integer (<code>counter</code>), we can use it to map the paths...</p>\n<pre><code>0=[{1, 2}, {2, 1}]\n1=[{2, 2}, {1, 3}, {2, 0}]\n...\nn=[{n^-2 - 3, n^-2 - 2}, {n^-2 - 2, n^-2 - 3}] // last location is always a corner\n</code></pre>\n<p>To make it simple, I decided to create a Java <code>record</code> of coordinates to store the {<em>x, y</em>} coordinates of the end location of a given path, making my map <code>&lt;Integer, Set&lt;Coordinates&gt;&gt;</code></p>\n<p>The logic here is quite simple. First, seed the map with empty lists for each one corresponding location in the matrix. Then, iterate through the matrix (2D array) and calculate all the legal paths a knight can take from this location. For each legal path, add the <code>Coordinates</code> of the end location of the path. I used a <code>Set</code> to eliminate duplicate coordinates.</p>\n<p>My solution (perhaps not optimal) is as follows (used OP code as baseline) - Need Java 15 or later to run. For Java 14 or earlier, replace <code>Coordinates</code> with an <code>Integer[]</code> of length 2, and store the coordinates in it.</p>\n<pre><code>public class KnightDemo {\n\n    static int counter = 0;\n    static Map&lt;Integer, Set&lt;Coordinates&gt;&gt; map = new HashMap&lt;&gt;();\n\n    public static void KnightPath(int[][] b, int i, int j) {\n        Set&lt;Coordinates&gt; paths = map.get(counter);\n        if (isValid(b, i - 1, j + 2)) {\n            paths.add(new Coordinates(i - 1, j + 2));\n            map.put(counter, paths);\n        }\n        if (isValid(b, i - 2, j + 1)) {\n            paths.add(new Coordinates(i - 2, j + 1));\n            map.put(counter, paths);\n        }\n        if (isValid(b, i - 1, j - 2)) {\n            paths.add(new Coordinates(i - 1, j - 2));\n            map.put(counter, paths);\n        }\n        if (isValid(b, i - 2, j - 1)) {\n            paths.add(new Coordinates(i - 2, j - 1));\n            map.put(counter, paths);\n        }\n        if (isValid(b, i + 2, j - 1)) {\n            paths.add(new Coordinates(i + 2, j - 1));\n            map.put(counter, paths);\n        }\n        if (isValid(b, i + 1, j - 2)) {\n            paths.add(new Coordinates(i + 1, j - 2));\n            map.put(counter, paths);\n        }\n        if (isValid(b, i + 1, j + 2)) {\n            paths.add(new Coordinates(i + 1, j + 2));\n            map.put(counter, paths);\n        }\n        if (isValid(b, i + 2, j + 1)) {\n            paths.add(new Coordinates(i + 2, j + 1));\n            map.put(counter, paths);\n        }\n\n        counter++;\n    }\n\n    public static boolean isValid(int[][] a, int i, int j) {\n        return i &gt;= 0 &amp;&amp; i &lt; a.length &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; a[0].length;\n    }\n\n    public static void main(String[] args) {\n        int[][] b = new int[5][5];\n        for (int i = 0; i &lt; b.length; i++) {\n            for (int j = 0; j &lt; b[0].length; j++) {\n                map.put(counter, new HashSet&lt;&gt;()); // add a new set before calculating paths\n                KnightPath(b, i, j);\n            }\n        }\n        map.entrySet().stream().forEach(System.out::println);\n    }\n\n    private static record Coordinates(int row, int col) {\n\n        @Override\n        public String toString() {\n            return &quot;{&quot; + row + &quot;, &quot; + col + &quot;}&quot;;\n        }\n    }\n}\n</code></pre>\n<p>The program outputs:</p>\n<pre><code>0=[{1, 2}, {2, 1}]\n1=[{2, 2}, {1, 3}, {2, 0}]\n2=[{2, 3}, {1, 4}, {2, 1}, {1, 0}]\n3=[{2, 2}, {1, 1}, {2, 4}]\n4=[{2, 3}, {1, 2}]\n5=[{2, 2}, {0, 2}, {3, 1}]\n6=[{2, 3}, {0, 3}, {3, 0}, {3, 2}]\n7=[{0, 0}, {3, 3}, {2, 4}, {0, 4}, {3, 1}, {2, 0}]\n8=[{0, 1}, {3, 4}, {3, 2}, {2, 1}]\n9=[{3, 3}, {2, 2}, {0, 2}]\n10=[{1, 2}, {0, 1}, {4, 1}, {3, 2}]\n11=[{0, 0}, {3, 3}, {1, 3}, {0, 2}, {4, 0}, {4, 2}]\n12=[{0, 1}, {3, 4}, {1, 4}, {0, 3}, {4, 1}, {3, 0}, {1, 0}, {4, 3}]\n13=[{1, 1}, {4, 4}, {0, 2}, {0, 4}, {4, 2}, {3, 1}]\n14=[{1, 2}, {0, 3}, {4, 3}, {3, 2}]\n15=[{2, 2}, {1, 1}, {4, 2}]\n16=[{2, 3}, {1, 2}, {1, 0}, {4, 3}]\n17=[{1, 1}, {4, 4}, {2, 4}, {1, 3}, {4, 0}, {2, 0}]\n18=[{1, 2}, {1, 4}, {4, 1}, {2, 1}]\n19=[{2, 2}, {1, 3}, {4, 2}]\n20=[{3, 2}, {2, 1}]\n21=[{3, 3}, {2, 2}, {2, 0}]\n22=[{3, 4}, {2, 3}, {3, 0}, {2, 1}]\n23=[{2, 2}, {2, 4}, {3, 1}]\n24=[{2, 3}, {3, 2}]\n</code></pre>\n<h2>UPDATE: Can you use this in a real game of chess?</h2>\n<p>Yes, you can! Suppose you seed the matrix with <code>black</code> and <code>white</code>. You could enhance the logic so that, if the end location corresponds to your color, you don't add as a valid path since it is blocked by one of your pieces.</p>\n<h2>SECOND UPDATE: Same code but using <code>Coordinate</code> object as key</h2>\n<pre><code>public class KnightDemo {\n\n    static int counter = 0;\n    static Map&lt;Coordinates, Set&lt;Coordinates&gt;&gt; map = new HashMap&lt;&gt;();\n\n    public static void KnightPath(int[][] b, Coordinates coordinates) {\n\n        Set&lt;Coordinates&gt; paths = map.get(coordinates);\n        if (isValid(b, coordinates.row() - 1, coordinates.col() + 2)) {\n            paths.add(new Coordinates(coordinates.row() - 1, coordinates.col() + 2));\n            map.put(coordinates, paths);\n        }\n        if (isValid(b, coordinates.row() - 2, coordinates.col() + 1)) {\n            paths.add(new Coordinates(coordinates.row() - 2, coordinates.col() + 1));\n            map.put(coordinates, paths);\n        }\n        if (isValid(b, coordinates.row() - 1, coordinates.col() - 2)) {\n            paths.add(new Coordinates(coordinates.row() - 1, coordinates.col() - 2));\n            map.put(coordinates, paths);\n        }\n        if (isValid(b, coordinates.row() - 2, coordinates.col() - 1)) {\n            paths.add(new Coordinates(coordinates.row() - 2, coordinates.col() - 1));\n            map.put(coordinates, paths);\n        }\n        if (isValid(b, coordinates.row() + 2, coordinates.col() - 1)) {\n            paths.add(new Coordinates(coordinates.row() + 2, coordinates.col() - 1));\n            map.put(coordinates, paths);\n        }\n        if (isValid(b, coordinates.row() + 1, coordinates.col() - 2)) {\n            paths.add(new Coordinates(coordinates.row() + 1, coordinates.col() - 2));\n            map.put(coordinates, paths);\n        }\n        if (isValid(b, coordinates.row() + 1, coordinates.col() + 2)) {\n            paths.add(new Coordinates(coordinates.row() + 1, coordinates.col() + 2));\n            map.put(coordinates, paths);\n        }\n        if (isValid(b, coordinates.row() + 2, coordinates.col() + 1)) {\n            paths.add(new Coordinates(coordinates.row() + 2, coordinates.col() + 1));\n            map.put(coordinates, paths);\n        }\n    }\n\n    public static boolean isValid(int[][] a, int i, int j) {\n        return i &gt;= 0 &amp;&amp; i &lt; a.length &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; a[0].length;\n    }\n\n    public static void main(String[] args) {\n        int[][] b = new int[5][5];\n        for (int i = 0; i &lt; b.length; i++) {\n            for (int j = 0; j &lt; b[0].length; j++) {\n                Coordinates coordinates = new Coordinates(i, j);\n                map.put(coordinates, new HashSet&lt;&gt;());\n                KnightPath(b, coordinates);\n                counter++;\n            }\n        }\n        map.entrySet().stream().forEach(System.out::println);\n    }\n\n    private static record Coordinates(int row, int col) {\n\n        @Override\n        public String toString() {\n            return &quot;{&quot; + row + &quot;, &quot; + col + &quot;}&quot;;\n        }\n    }\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>{0, 0}=[{1, 2}, {2, 1}]\n{2, 2}=[{0, 1}, {3, 4}, {1, 4}, {0, 3}, {4, 1}, {3, 0}, {1, 0}, {4, 3}]\n{4, 4}=[{2, 3}, {3, 2}]\n{0, 1}=[{2, 2}, {1, 3}, {2, 0}]\n{2, 3}=[{1, 1}, {4, 4}, {0, 2}, {0, 4}, {4, 2}, {3, 1}]\n{0, 2}=[{2, 3}, {1, 4}, {2, 1}, {1, 0}]\n{2, 4}=[{1, 2}, {0, 3}, {4, 3}, {3, 2}]\n{0, 3}=[{2, 2}, {1, 1}, {2, 4}]\n{0, 4}=[{2, 3}, {1, 2}]\n{3, 0}=[{2, 2}, {1, 1}, {4, 2}]\n{3, 1}=[{2, 3}, {1, 2}, {1, 0}, {4, 3}]\n{1, 0}=[{2, 2}, {0, 2}, {3, 1}]\n{3, 2}=[{1, 1}, {4, 4}, {2, 4}, {1, 3}, {4, 0}, {2, 0}]\n{1, 1}=[{2, 3}, {0, 3}, {3, 0}, {3, 2}]\n{3, 3}=[{1, 2}, {1, 4}, {4, 1}, {2, 1}]\n{1, 2}=[{0, 0}, {3, 3}, {2, 4}, {0, 4}, {3, 1}, {2, 0}]\n{3, 4}=[{2, 2}, {1, 3}, {4, 2}]\n{1, 3}=[{0, 1}, {3, 4}, {3, 2}, {2, 1}]\n{1, 4}=[{3, 3}, {2, 2}, {0, 2}]\n{4, 0}=[{3, 2}, {2, 1}]\n{4, 1}=[{3, 3}, {2, 2}, {2, 0}]\n{2, 0}=[{1, 2}, {0, 1}, {4, 1}, {3, 2}]\n{4, 2}=[{3, 4}, {2, 3}, {3, 0}, {2, 1}]\n{2, 1}=[{0, 0}, {3, 3}, {1, 3}, {0, 2}, {4, 0}, {4, 2}]\n{4, 3}=[{2, 2}, {2, 4}, {3, 1}]\n</code></pre>\n<p>They don't print in the same order, but you can tell that coordinates <code>{2, 2}</code> is the same set as <code>counter==12</code> in the previous example. Cell {2, 2} is the 13th cell from the top-left.</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644604215,"creation_date":1644604215,"answer_id":71084918,"question_id":71081793,"body_markdown":"To solve for all paths, you need to reset the placed values of paths you&#39;ve exhausted so that newer paths can access them.  Additionally, your counter should reflect how deep you&#39;ve gone, so that if you back out to try another path, your counter should roll back, too.  I would recommend passing a counter as a parameter rather than using a static counter.  Also, if you want to try all valid possibilities, then you need to avoid those return statements whenever one possibility is deemed invalid.\r\n\r\n    public static void KnightPath(int[][] b, int i, int j, int counter) {\r\n        ...\r\n            if (isValid(b, i - 1, j + 2) &amp;&amp; b[i - 1][j + 2] == 0) {\r\n                KnightPath(b, i - 1, j + 2, counter+1);\r\n            }\r\n        ...\r\n        b[i][j] = 0;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ...\r\n                KnightPath(b, i, j, 1);\r\n        ...\r\n    }","title":"Determining if a knight can pass through all cells in a 2d array - if so print board","body":"<p>To solve for all paths, you need to reset the placed values of paths you've exhausted so that newer paths can access them.  Additionally, your counter should reflect how deep you've gone, so that if you back out to try another path, your counter should roll back, too.  I would recommend passing a counter as a parameter rather than using a static counter.  Also, if you want to try all valid possibilities, then you need to avoid those return statements whenever one possibility is deemed invalid.</p>\n<pre><code>public static void KnightPath(int[][] b, int i, int j, int counter) {\n    ...\n        if (isValid(b, i - 1, j + 2) &amp;&amp; b[i - 1][j + 2] == 0) {\n            KnightPath(b, i - 1, j + 2, counter+1);\n        }\n    ...\n    b[i][j] = 0;\n}\n\npublic static void main(String[] args) {\n    ...\n            KnightPath(b, i, j, 1);\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":24129544,"reputation":1,"user_id":18097328,"display_name":"oryan7"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71084328,"answer_count":2,"score":0,"last_activity_date":1644610950,"creation_date":1644589970,"question_id":71081793,"body_markdown":"I need an advice regarding this problem called &quot;Knight Path&quot;.\r\nGiven an n*n board whose cells are initialized to 0, I need to determine, given an arbitrary Knight&#39;s position, if the knight can pass through every cell on the board exactly once, where every cell the Knight had visited will be marked as counter, counting from: 1 - n^2.\r\nIf a path is possible, I need to print the board. I need to print all the valid boards.\r\nThe knight, for those who do not know the rules for chess, can move either up or down one square vertically and over two squares horizontally OR up or down two squares vertically and over one square horizontally.\r\n\r\nFor example given a 5*5 board, starting at (0,0) the method should print:\r\n\r\n    {{1,16,11,6,21},\r\n    {10,5,20,15,12},\r\n    {17,2,13,22,7},\r\n    {4,9,24,19,14},\r\n    {25,18,3,8,23}};\r\n\r\nThe above out put would be one of few, as there could be different other ways considering different initial positions.\r\nI&#39;ve written the below code but it doesn&#39;t print anything. I need to spot the logic flaws here so I can make it work.\r\n```\r\npublic class KnightDemo {\r\n\r\n\tstatic int counter = 1;\r\n\tpublic static void KnightPath(int[][] b, int i, int j) {\r\n\t\tb[i][j] = counter;\r\n\t\tif (counter == b.length * b[0].length) {\r\n\t\t\tprintMatrix(b);\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tcounter++;\r\n\r\n\t\t\tif (isValid(b, i - 1, j + 2) &amp;&amp; b[i - 1][j + 2] == 0) {\r\n\t\t\t\tKnightPath(b, i - 1, j + 2);\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isValid(b, i - 2, j + 1) &amp;&amp; b[i - 1][j + 1] == 0) {\r\n\t\t\t\tKnightPath(b, i - 2, j + 1);\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isValid(b, i - 1, j - 2) &amp;&amp; b[i - 1][j - 2] == 0) {\r\n\t\t\t\tKnightPath(b, i - 1, j - 2);\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isValid(b, i - 2, j - 1) &amp;&amp; b[i - 2][j - 1] == 0) {\r\n\t\t\t\tKnightPath(b, i - 2, j - 1);\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isValid(b, i + 2, j - 1) &amp;&amp; b[i + 2][j - 1] == 0) {\r\n\t\t\t\tKnightPath(b, i + 2, j - 1);\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isValid(b, i + 1, j - 2) &amp;&amp; b[i + 1][j - 2] == 0) {\r\n\t\t\t\tKnightPath(b, i + 1, j - 2);\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isValid(b, i + 1, j + 2) &amp;&amp; b[i + 1][j + 2] == 0) {\r\n\t\t\t\tKnightPath(b, i + 1, j + 2);\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (isValid(b, i + 2, j + 1) &amp;&amp; b[i + 2][j + 1] == 0) {\r\n\t\t\t\tKnightPath(b, i + 2, j + 1);\r\n\t\t\t} else {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static boolean isValid(int[][] a, int i, int j) {\r\n\t\tif (i &gt; a.length - 1 || i &lt; 0 || j &gt; a[0].length - 1 || j &lt; 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[][] b = new int[5][5];\r\n\t\tfor (int i = 0; i &lt; b.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; b[0].length; j++) {\r\n\t\t\t\tKnightPath(b, i, j);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void printMatrix(int[][] matrix) {\r\n\t\tfor (int[] rows: matrix) {\r\n\t\t\tStringBuilder buff = new StringBuilder();\r\n\t\t\tbuff.append(&quot;[&quot;);\r\n\t\t\tfor (int i = 0; i &lt; rows.length; i++) {\r\n\t\t\t\tint value = rows[i];\r\n\t\t\t\tbuff.append(value);\r\n\t\t\t\tif (i &lt; rows.length - 1) {\r\n\t\t\t\t\tbuff.append(&quot;, &quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbuff.append(&quot;]&quot;);\r\n\t\t\tSystem.out.println(buff.toString());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThe output is\r\n```\r\n[1, 2, 3, 4, 5]\r\n[6, 7, 8, 9, 10]\r\n[11, 12, 13, 14, 15]\r\n[16, 17, 18, 19, 20]\r\n[21, 22, 23, 24, 25]\r\n```","title":"Determining if a knight can pass through all cells in a 2d array - if so print board","body":"<p>I need an advice regarding this problem called &quot;Knight Path&quot;.\nGiven an n*n board whose cells are initialized to 0, I need to determine, given an arbitrary Knight's position, if the knight can pass through every cell on the board exactly once, where every cell the Knight had visited will be marked as counter, counting from: 1 - n^2.\nIf a path is possible, I need to print the board. I need to print all the valid boards.\nThe knight, for those who do not know the rules for chess, can move either up or down one square vertically and over two squares horizontally OR up or down two squares vertically and over one square horizontally.</p>\n<p>For example given a 5*5 board, starting at (0,0) the method should print:</p>\n<pre><code>{{1,16,11,6,21},\n{10,5,20,15,12},\n{17,2,13,22,7},\n{4,9,24,19,14},\n{25,18,3,8,23}};\n</code></pre>\n<p>The above out put would be one of few, as there could be different other ways considering different initial positions.\nI've written the below code but it doesn't print anything. I need to spot the logic flaws here so I can make it work.</p>\n<pre><code>public class KnightDemo {\n\n    static int counter = 1;\n    public static void KnightPath(int[][] b, int i, int j) {\n        b[i][j] = counter;\n        if (counter == b.length * b[0].length) {\n            printMatrix(b);\n            return;\n        } else {\n            counter++;\n\n            if (isValid(b, i - 1, j + 2) &amp;&amp; b[i - 1][j + 2] == 0) {\n                KnightPath(b, i - 1, j + 2);\n            } else {\n                return;\n            }\n            if (isValid(b, i - 2, j + 1) &amp;&amp; b[i - 1][j + 1] == 0) {\n                KnightPath(b, i - 2, j + 1);\n            } else {\n                return;\n            }\n            if (isValid(b, i - 1, j - 2) &amp;&amp; b[i - 1][j - 2] == 0) {\n                KnightPath(b, i - 1, j - 2);\n            } else {\n                return;\n            }\n            if (isValid(b, i - 2, j - 1) &amp;&amp; b[i - 2][j - 1] == 0) {\n                KnightPath(b, i - 2, j - 1);\n            } else {\n                return;\n            }\n            if (isValid(b, i + 2, j - 1) &amp;&amp; b[i + 2][j - 1] == 0) {\n                KnightPath(b, i + 2, j - 1);\n            } else {\n                return;\n            }\n            if (isValid(b, i + 1, j - 2) &amp;&amp; b[i + 1][j - 2] == 0) {\n                KnightPath(b, i + 1, j - 2);\n            } else {\n                return;\n            }\n            if (isValid(b, i + 1, j + 2) &amp;&amp; b[i + 1][j + 2] == 0) {\n                KnightPath(b, i + 1, j + 2);\n            } else {\n                return;\n            }\n            if (isValid(b, i + 2, j + 1) &amp;&amp; b[i + 2][j + 1] == 0) {\n                KnightPath(b, i + 2, j + 1);\n            } else {\n                return;\n            }\n\n        }\n    }\n\n    public static boolean isValid(int[][] a, int i, int j) {\n        if (i &gt; a.length - 1 || i &lt; 0 || j &gt; a[0].length - 1 || j &lt; 0) {\n            return false;\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        int[][] b = new int[5][5];\n        for (int i = 0; i &lt; b.length; i++) {\n            for (int j = 0; j &lt; b[0].length; j++) {\n                KnightPath(b, i, j);\n            }\n        }\n    }\n    \n    public static void printMatrix(int[][] matrix) {\n        for (int[] rows: matrix) {\n            StringBuilder buff = new StringBuilder();\n            buff.append(&quot;[&quot;);\n            for (int i = 0; i &lt; rows.length; i++) {\n                int value = rows[i];\n                buff.append(value);\n                if (i &lt; rows.length - 1) {\n                    buff.append(&quot;, &quot;);\n                }\n            }\n            buff.append(&quot;]&quot;);\n            System.out.println(buff.toString());\n        }\n    }\n}\n</code></pre>\n<p>The output is</p>\n<pre><code>[1, 2, 3, 4, 5]\n[6, 7, 8, 9, 10]\n[11, 12, 13, 14, 15]\n[16, 17, 18, 19, 20]\n[21, 22, 23, 24, 25]\n</code></pre>\n"},{"tags":["java","java-8","apache-flink","openjdk-11"],"answers":[{"tags":[],"owner":{"account_id":3278201,"reputation":811,"user_id":2759538,"accept_rate":79,"display_name":"Ace McCloud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624785050,"creation_date":1624785050,"answer_id":68149608,"question_id":68149415,"body_markdown":"Set my java home to point to java 11.0 using\r\n\r\nexport JAVA_HOME=/usr/libexec/java_home -v 11.0\r\n\r\nFlink runs with 1.8 or 11 but not the later ones","title":"Apache flink job crashes with exception java.lang.IllegalAccessError: class org.apache.flink.util.NetUtils on start_cluster","body":"<p>Set my java home to point to java 11.0 using</p>\n<p>export JAVA_HOME=/usr/libexec/java_home -v 11.0</p>\n<p>Flink runs with 1.8 or 11 but not the later ones</p>\n"},{"tags":[],"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624813516,"creation_date":1624813516,"answer_id":68153526,"question_id":68149415,"body_markdown":"Uhm, yes - if the question is whether the Flink documentation is correct, then I believe the answer is yes. From the page you referenced in your question:\r\n\r\n&gt; To be able to run Flink, the only requirement is to have a working Java 8 or 11 installation\r\n","title":"Apache flink job crashes with exception java.lang.IllegalAccessError: class org.apache.flink.util.NetUtils on start_cluster","body":"<p>Uhm, yes - if the question is whether the Flink documentation is correct, then I believe the answer is yes. From the page you referenced in your question:</p>\n<blockquote>\n<p>To be able to run Flink, the only requirement is to have a working Java 8 or 11 installation</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9743899,"reputation":15,"user_id":9969561,"display_name":"BBQ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644610943,"creation_date":1644562481,"answer_id":71076175,"question_id":68149415,"body_markdown":"Flink runs on JVM from v1.8 up to v11 but not on the later ones.\r\nThe official manual is misleading &quot;[Java 1.8.x or higher...][1]&quot;  \r\n\r\n**If you use a package manager** (yum, dnf, apt, etc.) then it&#39;s enough **just make a clean install of java-1.8.0-openjdk and java-1.8.0-openjdk-devel**.\r\nYou **won&#39;t need to export any environmental variables**. But do not forget to remove any newer/older java versions.\r\n\r\nIf you have multiple Java versions or if you installed java manually, do:\r\n\r\n    export JAVA_HOME=/usr/libexec/java_home -v 1.8.0\r\n\r\n   \r\n*or whatever your java path is.\r\nYou might also need to set paths for `JRE_HOME`* \r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/overview/#preparation","title":"Apache flink job crashes with exception java.lang.IllegalAccessError: class org.apache.flink.util.NetUtils on start_cluster","body":"<p>Flink runs on JVM from v1.8 up to v11 but not on the later ones.\nThe official manual is misleading &quot;<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/overview/#preparation\" rel=\"nofollow noreferrer\">Java 1.8.x or higher...</a>&quot;</p>\n<p><strong>If you use a package manager</strong> (yum, dnf, apt, etc.) then it's enough <strong>just make a clean install of java-1.8.0-openjdk and java-1.8.0-openjdk-devel</strong>.\nYou <strong>won't need to export any environmental variables</strong>. But do not forget to remove any newer/older java versions.</p>\n<p>If you have multiple Java versions or if you installed java manually, do:</p>\n<pre><code>export JAVA_HOME=/usr/libexec/java_home -v 1.8.0\n</code></pre>\n<p><em>or whatever your java path is.\nYou might also need to set paths for <code>JRE_HOME</code></em></p>\n"}],"owner":{"account_id":3278201,"reputation":811,"user_id":2759538,"accept_rate":79,"display_name":"Ace McCloud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1644610943,"creation_date":1624783303,"question_id":68149415,"body_markdown":"Just downloaded Flink 1.13.1 and wanted to run a small local test project. My java version is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    pneelaka@MacBook-Pro Apache %\r\n    pneelaka@MacBook-Pro Apache % $FLINK_HOME/bin/start-cluster.sh\r\n    Starting cluster.\r\n    Starting standalonesession daemon on host MacBook-Pro.\r\n    Starting taskexecutor daemon on host MacBook-Pro.\r\n    pneelaka@MacBook-Pro Apache %\r\n\r\nThe UI at localhost:8081 does not launch. I see the following in my logs:\r\n\r\n    java.lang.IllegalAccessError: class org.apache.flink.util.NetUtils (in unnamed module @0x76e041cf) cannot access class sun.net.util.IPAddressUtil (in module java.base) because module java.base does not export sun.net.util to unnamed module @0x76e041cf\r\n    \tat org.apache.flink.util.NetUtils.unresolvedHostToNormalizedString(NetUtils.java:169) ~[flink-dist_2.12-1.13.1.jar:1.13.1]\r\n    \tat org.apache.flink.util.NetUtils.unresolvedHostAndPortToNormalizedString(NetUtils.java:197) ~[flink-dist_2.12-1.13.1.jar:1.13.1]\r\n    \tat org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils.getRpcUrl(AkkaRpcServiceUtils.java:173) ~[flink-dist_2.12-1.13.1.jar:1.13.1]\r\n    \tat org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils.getRpcUrl(AkkaRpcServiceUtils.java:138) ~[flink-dist_2.12-1.13.\r\n\r\nThis heavily seems to be a java version issue ? But wouldn&#39;t flink be comptable with latest java? Will I have to go back Java 11 or 8 as it says here: https://ci.apache.org/projects/flink/flink-docs-release-1.13//docs/try-flink/local_installation/#step-1-download\r\n\r\nAny suggestions? I have other java versions but my java home points to the latest i.e 16:\r\n\r\n    pneelaka@MacBook-Pro Apache % /usr/libexec/java_home -V\r\n    Matching Java Virtual Machines (5):\r\n        16.0.1, x86_64:\t&quot;OpenJDK 16.0.1&quot;\t/Users/pneelaka/Library/Java/JavaVirtualMachines/openjdk-16.0.1/Contents/Home\r\n        16.0.1, x86_64:\t&quot;Java SE 16.0.1&quot;\t/Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home\r\n        14.0.2, x86_64:\t&quot;OpenJDK 14.0.2&quot;\t/Users/pneelaka/Library/Java/JavaVirtualMachines/adopt-openjdk-14.0.2/Contents/Home\r\n        11.0.11.1, x86_64:\t&quot;Amazon Corretto 11&quot;\t/Users/pneelaka/Library/Java/JavaVirtualMachines/corretto-11.0.11/Contents/Home\r\n        1.8.0_292, x86_64:\t&quot;Amazon Corretto 8&quot;\t/Users/pneelaka/Library/Java/JavaVirtualMachines/corretto-1.8.0_292/Contents/Home\r\n\r\n\r\nUPDATE : Set my java home to point to java 11.0 using \r\n\r\nexport JAVA_HOME=`/usr/libexec/java_home -v 11.0`\r\n\r\nand it worked","title":"Apache flink job crashes with exception java.lang.IllegalAccessError: class org.apache.flink.util.NetUtils on start_cluster","body":"<p>Just downloaded Flink 1.13.1 and wanted to run a small local test project. My java version is:</p>\n<p>[![enter image description here][1]][1]</p>\n<pre><code>pneelaka@MacBook-Pro Apache %\npneelaka@MacBook-Pro Apache % $FLINK_HOME/bin/start-cluster.sh\nStarting cluster.\nStarting standalonesession daemon on host MacBook-Pro.\nStarting taskexecutor daemon on host MacBook-Pro.\npneelaka@MacBook-Pro Apache %\n</code></pre>\n<p>The UI at localhost:8081 does not launch. I see the following in my logs:</p>\n<pre><code>java.lang.IllegalAccessError: class org.apache.flink.util.NetUtils (in unnamed module @0x76e041cf) cannot access class sun.net.util.IPAddressUtil (in module java.base) because module java.base does not export sun.net.util to unnamed module @0x76e041cf\n    at org.apache.flink.util.NetUtils.unresolvedHostToNormalizedString(NetUtils.java:169) ~[flink-dist_2.12-1.13.1.jar:1.13.1]\n    at org.apache.flink.util.NetUtils.unresolvedHostAndPortToNormalizedString(NetUtils.java:197) ~[flink-dist_2.12-1.13.1.jar:1.13.1]\n    at org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils.getRpcUrl(AkkaRpcServiceUtils.java:173) ~[flink-dist_2.12-1.13.1.jar:1.13.1]\n    at org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils.getRpcUrl(AkkaRpcServiceUtils.java:138) ~[flink-dist_2.12-1.13.\n</code></pre>\n<p>This heavily seems to be a java version issue ? But wouldn't flink be comptable with latest java? Will I have to go back Java 11 or 8 as it says here: <a href=\"https://ci.apache.org/projects/flink/flink-docs-release-1.13//docs/try-flink/local_installation/#step-1-download\" rel=\"nofollow noreferrer\">https://ci.apache.org/projects/flink/flink-docs-release-1.13//docs/try-flink/local_installation/#step-1-download</a></p>\n<p>Any suggestions? I have other java versions but my java home points to the latest i.e 16:</p>\n<pre><code>pneelaka@MacBook-Pro Apache % /usr/libexec/java_home -V\nMatching Java Virtual Machines (5):\n    16.0.1, x86_64: &quot;OpenJDK 16.0.1&quot;    /Users/pneelaka/Library/Java/JavaVirtualMachines/openjdk-16.0.1/Contents/Home\n    16.0.1, x86_64: &quot;Java SE 16.0.1&quot;    /Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home\n    14.0.2, x86_64: &quot;OpenJDK 14.0.2&quot;    /Users/pneelaka/Library/Java/JavaVirtualMachines/adopt-openjdk-14.0.2/Contents/Home\n    11.0.11.1, x86_64:  &quot;Amazon Corretto 11&quot;    /Users/pneelaka/Library/Java/JavaVirtualMachines/corretto-11.0.11/Contents/Home\n    1.8.0_292, x86_64:  &quot;Amazon Corretto 8&quot; /Users/pneelaka/Library/Java/JavaVirtualMachines/corretto-1.8.0_292/Contents/Home\n</code></pre>\n<p>UPDATE : Set my java home to point to java 11.0 using</p>\n<p>export JAVA_HOME=<code>/usr/libexec/java_home -v 11.0</code></p>\n<p>and it worked</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644570369,"creation_date":1644570369,"answer_id":71077503,"question_id":71068190,"body_markdown":"You need to use `thenAnswer` or its twin `doAnswer` method.\r\n\r\nSee [Mockito : doAnswer Vs thenReturn](https://stackoverflow.com/a/36627077/1570854)\r\n\r\n&gt; You should use `thenReturn` or `doReturn` when you know the return value at the time you mock a method call. This defined value is returned when you invoke the mocked method.\r\n&gt;\r\n&gt; `Answer` is used when you need to do additional actions when a mocked method is invoked, e.g. when you need to compute the return value based on the parameters of this method call.\r\n\r\nIf your answers become too complicated, consider using a fake instead of a mock.","title":"How do I manipulate an argument with mockito","body":"<p>You need to use <code>thenAnswer</code> or its twin <code>doAnswer</code> method.</p>\n<p>See <a href=\"https://stackoverflow.com/a/36627077/1570854\">Mockito : doAnswer Vs thenReturn</a></p>\n<blockquote>\n<p>You should use <code>thenReturn</code> or <code>doReturn</code> when you know the return value at the time you mock a method call. This defined value is returned when you invoke the mocked method.</p>\n<p><code>Answer</code> is used when you need to do additional actions when a mocked method is invoked, e.g. when you need to compute the return value based on the parameters of this method call.</p>\n</blockquote>\n<p>If your answers become too complicated, consider using a fake instead of a mock.</p>\n"},{"tags":[],"owner":{"account_id":7736086,"reputation":111,"user_id":5857630,"display_name":"tejas.bargal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644610738,"creation_date":1644610738,"answer_id":71086109,"question_id":71068190,"body_markdown":"In this case if your goal is to set field of Person object you can do that before or after the line:\r\n\r\n```\r\nMockito.when(myClass.foo(Mockito.any()).thenReturn(bar);\r\n``` \r\ndoAnswer() would help do operations based on input, but operations would be performed on copy of arguments not the original arguments.","title":"How do I manipulate an argument with mockito","body":"<p>In this case if your goal is to set field of Person object you can do that before or after the line:</p>\n<pre><code>Mockito.when(myClass.foo(Mockito.any()).thenReturn(bar);\n</code></pre>\n<p>doAnswer() would help do operations based on input, but operations would be performed on copy of arguments not the original arguments.</p>\n"}],"owner":{"account_id":1812949,"reputation":1762,"user_id":1648641,"accept_rate":60,"display_name":"Lieuwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644610738,"creation_date":1644508449,"question_id":71068190,"body_markdown":"I am using junit to run a few unit tests. One of these calls a method in an object that I mock using mockito like;\r\n\r\n    @Mock\r\n    private MyClass myClass;\r\n\r\nI then set up mockito to do something like \r\n\r\n    Mockito.when(myClass.foo(Mockito.any()).thenReturn(bar);\r\n\r\nNow myClass.foo actually takes another one of my classes (say class Person) as an argument and what I would like to do is something like this\r\n\r\n    Mockito.when(myClass.foo(Person parson)).thenDo(person.setName(&quot;Name&quot;)).thenReturn(bar);\r\n\r\nThat is of course pseudo code but I hope it illustrates what I am trying to do. Is this possible?","title":"How do I manipulate an argument with mockito","body":"<p>I am using junit to run a few unit tests. One of these calls a method in an object that I mock using mockito like;</p>\n<pre><code>@Mock\nprivate MyClass myClass;\n</code></pre>\n<p>I then set up mockito to do something like</p>\n<pre><code>Mockito.when(myClass.foo(Mockito.any()).thenReturn(bar);\n</code></pre>\n<p>Now myClass.foo actually takes another one of my classes (say class Person) as an argument and what I would like to do is something like this</p>\n<pre><code>Mockito.when(myClass.foo(Person parson)).thenDo(person.setName(&quot;Name&quot;)).thenReturn(bar);\n</code></pre>\n<p>That is of course pseudo code but I hope it illustrates what I am trying to do. Is this possible?</p>\n"},{"tags":["java","spring-boot","authentication","keycloak","spring-security-oauth2"],"owner":{"account_id":1904726,"reputation":179,"user_id":1719829,"display_name":"VarunKrish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644610669,"creation_date":1644610669,"question_id":71086097,"body_markdown":"All, I am experiencing a strange behaviour. When I use curl to call ../token/introspect SSO is returning back a proper response but while invoking introspect endpoint using Spring Rest Template,  I am getting the below error:\r\n```\r\norg.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: &quot;{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Authentication failed.&quot;}&quot;\r\n```\r\n***Keycloak logs***\r\n```\r\n06:54:44,711 DEBUG [org.keycloak.authentication.AuthenticationProcessor] (default task-9) AUTHENTICATE CLIENT\r\n06:54:44,711 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-secret\r\n06:54:44,712 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-jwt\r\n06:54:44,713 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-secret-jwt\r\n*06:54:44,713 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-x509\r\n*06:54:44,713 DEBUG [org.keycloak.services] (default task-9) KC-SERVICES0014: Failed client authentication: *org.keycloak.authentication.AuthenticationFlowException: Invalid client credentials\r\n\tat org.keycloak.key*\r\n\r\n\r\n```\r\n**CODE**\r\n```\r\nRestTemplate restTemplate = new RestTemplate();\r\n\t\tClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n\t\trestTemplate.setRequestFactory(requestFactory);\r\n\t\trestTemplate.getInterceptors().add(new BasicAuthenticationInterceptor(clientId, clientSecret));\r\n\t\tvar reqEntity= new RequestEntity&lt;MultiValueMap&lt;?, ?&gt;&gt;(requestBody(token),requestHeaders() , HttpMethod.POST, URI.create(introspectUri));  \r\n\t//\tmakeRequest(restTemplate,reqEntity);\r\n\t\tHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(requestHeaders(), requestBody(token));\r\n\r\n\t\tResponseEntity&lt;String&gt; response =\r\n\t\t    restTemplate.exchange(introspectUri,\r\n\t\t                          HttpMethod.POST,\r\n\t\t                          entity,\r\n\t\t                          String.class);\r\n```\r\n**When I use curl/postman , I see the below logs :**\r\n```\r\n06:57:12,930 DEBUG [org.keycloak.transaction.JtaTransactionWrapper] (default task-9) new JtaTransactionWrapper\r\n06:57:12,930 DEBUG [org.keycloak.transaction.JtaTransactionWrapper] (default task-9) was existing? false\r\n06:57:12,931 DEBUG [org.keycloak.authentication.AuthenticationProcessor] (default task-9) AUTHENTICATE CLIENT\r\n06:57:12,931 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-secret\r\n06:57:12,931 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator SUCCESS: client-secret\r\n06:57:12,931 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) Client consumer-test authenticated by client-secret\r\n06:57:12,932 DEBUG [org.keycloak.events] (default task-9) type=INTROSPECT_TOKEN, realmId=**, clientId=consumer-test, userId=null, ipAddress=127.0.0.1, client_auth_method=client-secret\r\n```\r\nwhat could be the reason? Why Keycloak is invoking additional auth flows (client-x509) while calling the endpoint from Spring Boot App?  How do I resolve this issue?\r\n\r\n\r\n","title":"KeyCloak Introspection returns 401 while calling from spring app","body":"<p>All, I am experiencing a strange behaviour. When I use curl to call ../token/introspect SSO is returning back a proper response but while invoking introspect endpoint using Spring Rest Template,  I am getting the below error:</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: &quot;{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;Authentication failed.&quot;}&quot;\n</code></pre>\n<p><em><strong>Keycloak logs</strong></em></p>\n<pre><code>06:54:44,711 DEBUG [org.keycloak.authentication.AuthenticationProcessor] (default task-9) AUTHENTICATE CLIENT\n06:54:44,711 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-secret\n06:54:44,712 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-jwt\n06:54:44,713 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-secret-jwt\n*06:54:44,713 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-x509\n*06:54:44,713 DEBUG [org.keycloak.services] (default task-9) KC-SERVICES0014: Failed client authentication: *org.keycloak.authentication.AuthenticationFlowException: Invalid client credentials\n    at org.keycloak.key*\n\n\n</code></pre>\n<p><strong>CODE</strong></p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\n        ClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n        restTemplate.setRequestFactory(requestFactory);\n        restTemplate.getInterceptors().add(new BasicAuthenticationInterceptor(clientId, clientSecret));\n        var reqEntity= new RequestEntity&lt;MultiValueMap&lt;?, ?&gt;&gt;(requestBody(token),requestHeaders() , HttpMethod.POST, URI.create(introspectUri));  \n    //  makeRequest(restTemplate,reqEntity);\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(requestHeaders(), requestBody(token));\n\n        ResponseEntity&lt;String&gt; response =\n            restTemplate.exchange(introspectUri,\n                                  HttpMethod.POST,\n                                  entity,\n                                  String.class);\n</code></pre>\n<p><strong>When I use curl/postman , I see the below logs :</strong></p>\n<pre><code>06:57:12,930 DEBUG [org.keycloak.transaction.JtaTransactionWrapper] (default task-9) new JtaTransactionWrapper\n06:57:12,930 DEBUG [org.keycloak.transaction.JtaTransactionWrapper] (default task-9) was existing? false\n06:57:12,931 DEBUG [org.keycloak.authentication.AuthenticationProcessor] (default task-9) AUTHENTICATE CLIENT\n06:57:12,931 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator: client-secret\n06:57:12,931 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) client authenticator SUCCESS: client-secret\n06:57:12,931 DEBUG [org.keycloak.authentication.ClientAuthenticationFlow] (default task-9) Client consumer-test authenticated by client-secret\n06:57:12,932 DEBUG [org.keycloak.events] (default task-9) type=INTROSPECT_TOKEN, realmId=**, clientId=consumer-test, userId=null, ipAddress=127.0.0.1, client_auth_method=client-secret\n</code></pre>\n<p>what could be the reason? Why Keycloak is invoking additional auth flows (client-x509) while calling the endpoint from Spring Boot App?  How do I resolve this issue?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":1,"creation_date":1644603080,"post_id":71084576,"comment_id":125658873,"body_markdown":"There are a lot of overriding constructors for Cell type","body":"There are a lot of overriding constructors for Cell type"},{"owner":{"account_id":16770211,"reputation":153,"user_id":12352530,"display_name":"IHaveAQuestion"},"score":0,"creation_date":1644604200,"post_id":71084576,"comment_id":125659249,"body_markdown":"Do you mind posting a response to the question?","body":"Do you mind posting a response to the question?"}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644610629,"creation_date":1644606013,"answer_id":71085291,"question_id":71084576,"body_markdown":"In your example, you&#39;ve already done filling cells of one row by loop, for filling person data it will be the same:\r\n\r\n    int rowNum = 1;\r\n    for (Person person: personList) {\r\n         Row row = sheet.createRow(rowNum++);\r\n         Cell cell0 = row.createCell(0);\r\n         cell0.setCellValue(person.getName());\r\n         Cell cell1 = row.createCell(1);\r\n         cell1.setCellValue(person.getAddress());\r\n         Cell cell2 = row.createCell(2);\r\n         cell2.setCellValue(person.getAge());\r\n         Cell cell3 = row.createCell(3);\r\n         cell3.setCellValue(person.getBallance());\r\n    }\r\n\r\nCell&#39;s type have different types of overriding constructors for double type, String, Integer, and so on.\r\n\r\nHow you asked, I&#39;ll add reflection getting fields of Person.class\r\n\r\n  \r\n\r\n        int rowNum = 1;\r\n        for (Person person: personList) {\r\n             Row row = sheet.createRow(rowNum++);\r\n             Field[] fieldArray = Person.class.getDeclaredFields();\r\n             for(int i = 0; i &lt; fieldArray.length; i++){\r\n               Cell cell = row.createCell(i);\r\n               cell.setCellValue(fieldArray[i].get(person));\r\n             }\r\n        }\r\n\r\nBut you should remember in this solution value of fields will be type Object, for simple cases you can cast this value to String type, but if you want to create a cell with different types you can&#39;t do it in the loop,  since for every individual cell you will create an individual cell, how I wrote above.\r\n\r\nThe main reason why you can&#39;t create cells dynamicly is a different types of fields in your DTO class","title":"Java how to write object to xlsx using SXSSFWorkbook?","body":"<p>In your example, you've already done filling cells of one row by loop, for filling person data it will be the same:</p>\n<pre><code>int rowNum = 1;\nfor (Person person: personList) {\n     Row row = sheet.createRow(rowNum++);\n     Cell cell0 = row.createCell(0);\n     cell0.setCellValue(person.getName());\n     Cell cell1 = row.createCell(1);\n     cell1.setCellValue(person.getAddress());\n     Cell cell2 = row.createCell(2);\n     cell2.setCellValue(person.getAge());\n     Cell cell3 = row.createCell(3);\n     cell3.setCellValue(person.getBallance());\n}\n</code></pre>\n<p>Cell's type have different types of overriding constructors for double type, String, Integer, and so on.</p>\n<p>How you asked, I'll add reflection getting fields of Person.class</p>\n<pre><code>    int rowNum = 1;\n    for (Person person: personList) {\n         Row row = sheet.createRow(rowNum++);\n         Field[] fieldArray = Person.class.getDeclaredFields();\n         for(int i = 0; i &lt; fieldArray.length; i++){\n           Cell cell = row.createCell(i);\n           cell.setCellValue(fieldArray[i].get(person));\n         }\n    }\n</code></pre>\n<p>But you should remember in this solution value of fields will be type Object, for simple cases you can cast this value to String type, but if you want to create a cell with different types you can't do it in the loop,  since for every individual cell you will create an individual cell, how I wrote above.</p>\n<p>The main reason why you can't create cells dynamicly is a different types of fields in your DTO class</p>\n"}],"owner":{"account_id":16770211,"reputation":153,"user_id":12352530,"display_name":"IHaveAQuestion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644610629,"creation_date":1644602439,"question_id":71084576,"body_markdown":"I have a class that takes in a ```List&lt;Person&gt;``` and writes it out to an .xlsx file.\r\n \r\nThe person model&#39;s fields are:\r\n```\r\nString name\r\nString address\r\nInteger age\r\nDouble balance\r\n```\r\n \r\nThe headers are ```List&lt;String&gt; header = Arrays.asList(&quot;Name&quot;,&quot;Address&quot;,&quot;Age&quot;,&quot;Balance&quot;)```.\r\n \r\nTo create my headers I did:\r\n```\r\nSXSSFWorkbook workbook = new SXSSFWorkbook(100);\r\n                            \r\nSXSSFSheet sheet = workbook.createSheet(&quot;People&#39;s Info&quot;);\r\n \r\nint rowNum = 0;\r\nRow headerRow = sheet.createRow(rowNum);\r\n                  \r\nint colNum = 0;\r\nfor (String header: headers) {\r\n          Cell cell = headerRow.createCell(colNum++);\r\n          cell.setCellValue(header);\r\n}\r\n \r\n// want to do a for loop and go through list of list of Person and write their info down\r\n```\r\n \r\nHow would I go through the ```List&lt;Person&gt;``` and dynamically or smartly use their get method or something and correctly. And I am pretty sure I need to be able to set the cell value as a Double or String depending on the object fields type correct?","title":"Java how to write object to xlsx using SXSSFWorkbook?","body":"<p>I have a class that takes in a <code>List&lt;Person&gt;</code> and writes it out to an .xlsx file.</p>\n<p>The person model's fields are:</p>\n<pre><code>String name\nString address\nInteger age\nDouble balance\n</code></pre>\n<p>The headers are <code>List&lt;String&gt; header = Arrays.asList(&quot;Name&quot;,&quot;Address&quot;,&quot;Age&quot;,&quot;Balance&quot;)</code>.</p>\n<p>To create my headers I did:</p>\n<pre><code>SXSSFWorkbook workbook = new SXSSFWorkbook(100);\n                            \nSXSSFSheet sheet = workbook.createSheet(&quot;People's Info&quot;);\n \nint rowNum = 0;\nRow headerRow = sheet.createRow(rowNum);\n                  \nint colNum = 0;\nfor (String header: headers) {\n          Cell cell = headerRow.createCell(colNum++);\n          cell.setCellValue(header);\n}\n \n// want to do a for loop and go through list of list of Person and write their info down\n</code></pre>\n<p>How would I go through the <code>List&lt;Person&gt;</code> and dynamically or smartly use their get method or something and correctly. And I am pretty sure I need to be able to set the cell value as a Double or String depending on the object fields type correct?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644612438,"post_id":71085992,"comment_id":125661794,"body_markdown":"`&lt;files-path` I think you should have only one of such","body":"<code>&lt;files-path</code> I think you should have only one of such"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644612509,"post_id":71085992,"comment_id":125661821,"body_markdown":"Try file exists() and fike.canRead() before calling FileProvider.","body":"Try file exists() and fike.canRead() before calling FileProvider."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1644612565,"post_id":71085992,"comment_id":125661835,"body_markdown":"And if you share with other apps?","body":"And if you share with other apps?"},{"owner":{"account_id":11115517,"reputation":1,"user_id":8159970,"display_name":"Andrew Yorke"},"score":0,"creation_date":1644655209,"post_id":71085992,"comment_id":125668338,"body_markdown":"@blackapps thanks for the response.\nInitially there was only 1 `&lt;files-path` but I added another to check if I could share an image instead of the text file\n\nSo the issue was that my file didn&#39;t exist. I assumed it did because it returned the correct path to me. I got another error which was root couldn&#39;t be found but I fixed that following your answer here [link](https://stackoverflow.com/a/70609343/8159970). \nThanks so much for the help!","body":"@blackapps thanks for the response. Initially there was only 1 <code>&lt;files-path</code> but I added another to check if I could share an image instead of the text file  So the issue was that my file didn&#39;t exist. I assumed it did because it returned the correct path to me. I got another error which was root couldn&#39;t be found but I fixed that following your answer here <a href=\"https://stackoverflow.com/a/70609343/8159970\">link</a>.  Thanks so much for the help!"}],"owner":{"account_id":11115517,"reputation":1,"user_id":8159970,"display_name":"Andrew Yorke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644610045,"creation_date":1644610045,"question_id":71085992,"body_markdown":"I am saving .txt files in a subdirectory named &quot;SaveFiles&quot; under files in my applications folder. At runtime I would like to share certain files to through WhatsApp/discord/email as attachments.\r\n\r\nWhen I try to share the file the chooser opens and if I select WhatsApp I&#39;m able to see the contact and when I click on the contact I wish to share with I get a Toast message saying &quot;Sharing Failed, please try again&quot;.\r\n\r\nThis is my provider\r\n```\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.MyCompany.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n```\r\n\r\nThis is my res/xml/file_paths.xml\r\n```\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;cache-path name=&quot;all&quot; path=&quot;.&quot; /&gt;\r\n    &lt;files-path name=&quot;SaveFiles&quot; path=&quot;SaveFiles/&quot; /&gt;\r\n    &lt;files-path name=&quot;Images&quot; path=&quot;Images/&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\n\r\nAnd this is the code I&#39;m using to share the file\r\n```\r\n    public  void  ShareFile(String fileName){\r\n        try {\r\n            File imagePath = new File(getFilesDir(), &quot;SaveFiles&quot;);\r\n            File file = new File(imagePath,fileName);\r\n\r\n            Uri uri = FileProvider.getUriForFile(this, &quot;com.MyCompany.fileprovider&quot;, file);\r\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);\r\n            shareIntent.putExtra(Intent.EXTRA_STREAM, uri);\r\n            shareIntent.setType(&quot;text/plain&quot;);\r\n            shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            startActivity(Intent.createChooser(shareIntent, &quot;Share File&quot;));\r\n        }catch (Exception e){\r\n            Log.d(TAG, &quot;ShareFile: &quot; + e.getMessage());\r\n            ShowMessage(e.getMessage());\r\n        }\r\n\r\n    }\r\n```\r\n\r\nAny help would be appreciated. Thanks.","title":"Unable to share files with File Provider in Android Studio","body":"<p>I am saving .txt files in a subdirectory named &quot;SaveFiles&quot; under files in my applications folder. At runtime I would like to share certain files to through WhatsApp/discord/email as attachments.</p>\n<p>When I try to share the file the chooser opens and if I select WhatsApp I'm able to see the contact and when I click on the contact I wish to share with I get a Toast message saying &quot;Sharing Failed, please try again&quot;.</p>\n<p>This is my provider</p>\n<pre><code>        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.MyCompany.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n        &lt;/provider&gt;\n</code></pre>\n<p>This is my res/xml/file_paths.xml</p>\n<pre><code>&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;cache-path name=&quot;all&quot; path=&quot;.&quot; /&gt;\n    &lt;files-path name=&quot;SaveFiles&quot; path=&quot;SaveFiles/&quot; /&gt;\n    &lt;files-path name=&quot;Images&quot; path=&quot;Images/&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>And this is the code I'm using to share the file</p>\n<pre><code>    public  void  ShareFile(String fileName){\n        try {\n            File imagePath = new File(getFilesDir(), &quot;SaveFiles&quot;);\n            File file = new File(imagePath,fileName);\n\n            Uri uri = FileProvider.getUriForFile(this, &quot;com.MyCompany.fileprovider&quot;, file);\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);\n            shareIntent.putExtra(Intent.EXTRA_STREAM, uri);\n            shareIntent.setType(&quot;text/plain&quot;);\n            shareIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            startActivity(Intent.createChooser(shareIntent, &quot;Share File&quot;));\n        }catch (Exception e){\n            Log.d(TAG, &quot;ShareFile: &quot; + e.getMessage());\n            ShowMessage(e.getMessage());\n        }\n\n    }\n</code></pre>\n<p>Any help would be appreciated. Thanks.</p>\n"},{"tags":["java","android","colors","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":990996,"reputation":399,"user_id":1008331,"accept_rate":75,"display_name":"simaremare"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1371620425,"creation_date":1371620425,"answer_id":17183626,"question_id":17183587,"body_markdown":"RGB uses hexa decimal number format,.\r\nif you have integer value, convert it to hexa,.","title":"Convert integer color value to RGB","body":"<p>RGB uses hexa decimal number format,.\nif you have integer value, convert it to hexa,.</p>\n"},{"tags":[],"owner":{"account_id":264582,"reputation":82175,"user_id":550966,"accept_rate":97,"display_name":"Pankaj Kumar"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1534917333,"creation_date":1371620458,"answer_id":17183630,"question_id":17183587,"body_markdown":"Use this \r\n    \r\n    String hexColor = String.format(&quot;#%06X&quot;, (0xFFFFFF &amp; intColor));\r\n\r\nWe know lenght of color value in HEX is 6. So you see 6 here. %06X matches the result coming from (0xFFFFFF &amp; intColor) and if length is less than 6, it makes result with 6 by appending ZERO to left side of result. And you see #, so this # char gets appended to result and finally you get a HEX COLOR value.\r\n\r\n\r\n----------\r\n\r\n&gt; Update since API 26\r\n\r\nSince API 26, new methods [`Color.valueOf(....)`][1] has been introduced to convert colors for similar reason. you can use it like \r\n\r\n    // sRGB\r\n    Color opaqueRed = Color.valueOf(0xffff0000); // from a color int\r\n    Color translucentRed = Color.valueOf(1.0f, 0.0f, 0.0f, 0.5f);\r\n    \r\n    // Wide gamut color\r\n    ColorSpace sRgb = ColorSpace.get(ColorSpace.Named.SRGB);\r\n    @ColorLong long p3 = Color.pack(1.0f, 1.0f, 0.0f, 1.0f, sRgb);\r\n    Color opaqueYellow = Color.valueOf(p3); // from a color long\r\n    \r\n    // CIE L*a*b* color space\r\n    ColorSpace lab = ColorSpace.get(Named.CIE_LAB);\r\n    Color green = Color.valueOf(100.0f, -128.0f, 128.0f, 1.0f, lab);\r\n    \r\n    mView.setBackgroundColor(opaqueRed.toArgb());\r\n    mView2.setBackgroundColor(green.toArgb());\r\n    mView3.setBackgroundColor(translucentRed.toArgb());\r\n    mView4.setBackgroundColor(opaqueYellow.toArgb());\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/Color","title":"Convert integer color value to RGB","body":"<p>Use this </p>\n\n<pre><code>String hexColor = String.format(\"#%06X\", (0xFFFFFF &amp; intColor));\n</code></pre>\n\n<p>We know lenght of color value in HEX is 6. So you see 6 here. %06X matches the result coming from (0xFFFFFF &amp; intColor) and if length is less than 6, it makes result with 6 by appending ZERO to left side of result. And you see #, so this # char gets appended to result and finally you get a HEX COLOR value.</p>\n\n<hr>\n\n<blockquote>\n  <p>Update since API 26</p>\n</blockquote>\n\n<p>Since API 26, new methods <a href=\"https://developer.android.com/reference/android/graphics/Color\" rel=\"noreferrer\"><code>Color.valueOf(....)</code></a> has been introduced to convert colors for similar reason. you can use it like </p>\n\n<pre><code>// sRGB\nColor opaqueRed = Color.valueOf(0xffff0000); // from a color int\nColor translucentRed = Color.valueOf(1.0f, 0.0f, 0.0f, 0.5f);\n\n// Wide gamut color\nColorSpace sRgb = ColorSpace.get(ColorSpace.Named.SRGB);\n@ColorLong long p3 = Color.pack(1.0f, 1.0f, 0.0f, 1.0f, sRgb);\nColor opaqueYellow = Color.valueOf(p3); // from a color long\n\n// CIE L*a*b* color space\nColorSpace lab = ColorSpace.get(Named.CIE_LAB);\nColor green = Color.valueOf(100.0f, -128.0f, 128.0f, 1.0f, lab);\n\nmView.setBackgroundColor(opaqueRed.toArgb());\nmView2.setBackgroundColor(green.toArgb());\nmView3.setBackgroundColor(translucentRed.toArgb());\nmView4.setBackgroundColor(opaqueYellow.toArgb());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4553194,"reputation":2169,"user_id":3697686,"accept_rate":75,"display_name":"Francesco D.M."},"down_vote_count":1,"up_vote_count":87,"is_accepted":false,"score":86,"last_activity_date":1522226583,"creation_date":1422021420,"answer_id":28111503,"question_id":17183587,"body_markdown":"What I found to be the simplest and best solution for me was to directly use the Color class as follows:  \r\n  \r\n    int red = Color.red(intColor);\r\n    int green = Color.green(intColor);\r\n    int blue = Color.blue(intColor);\r\n    int alpha = Color.alpha(intColor);\r\n\r\nThis way I could already deal with the integer values without having to handle strings. If on the other hand the string representing the rgb color is what you need, Pankaj Kumar&#39;s answer is the best. I hope this is useful to someone.","title":"Convert integer color value to RGB","body":"<p>What I found to be the simplest and best solution for me was to directly use the Color class as follows:  </p>\n\n<pre><code>int red = Color.red(intColor);\nint green = Color.green(intColor);\nint blue = Color.blue(intColor);\nint alpha = Color.alpha(intColor);\n</code></pre>\n\n<p>This way I could already deal with the integer values without having to handle strings. If on the other hand the string representing the rgb color is what you need, Pankaj Kumar's answer is the best. I hope this is useful to someone.</p>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1517652756,"creation_date":1517652756,"answer_id":48596185,"question_id":17183587,"body_markdown":"Since [SDK 26 you can just use][1]\r\n\r\n    Color c = Color.valueOf(colorInt);\r\n\r\napart from that it does not seem to possible to create a Color instance from arbitrary argb. The underlying code uses a private constructor:\r\n\r\n    /**\r\n     * Creates a new &lt;code&gt;Color&lt;/code&gt; instance from an ARGB color int.\r\n     * The resulting color is in the {@link ColorSpace.Named#SRGB sRGB}\r\n     * color space.\r\n     *\r\n     * @param color The ARGB color int to create a &lt;code&gt;Color&lt;/code&gt; from\r\n     * @return A non-null instance of {@link Color}\r\n     */\r\n    @NonNull\r\n    public static Color valueOf(@ColorInt int color) {\r\n        float r = ((color &gt;&gt; 16) &amp; 0xff) / 255.0f;\r\n        float g = ((color &gt;&gt;  8) &amp; 0xff) / 255.0f;\r\n        float b = ((color      ) &amp; 0xff) / 255.0f;\r\n        float a = ((color &gt;&gt; 24) &amp; 0xff) / 255.0f;\r\n        return new Color(r, g, b, a, ColorSpace.get(ColorSpace.Named.SRGB));\r\n    }\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/Color.html#valueOf(int)","title":"Convert integer color value to RGB","body":"<p>Since <a href=\"https://developer.android.com/reference/android/graphics/Color.html#valueOf(int)\" rel=\"noreferrer\">SDK 26 you can just use</a></p>\n\n<pre><code>Color c = Color.valueOf(colorInt);\n</code></pre>\n\n<p>apart from that it does not seem to possible to create a Color instance from arbitrary argb. The underlying code uses a private constructor:</p>\n\n<pre><code>/**\n * Creates a new &lt;code&gt;Color&lt;/code&gt; instance from an ARGB color int.\n * The resulting color is in the {@link ColorSpace.Named#SRGB sRGB}\n * color space.\n *\n * @param color The ARGB color int to create a &lt;code&gt;Color&lt;/code&gt; from\n * @return A non-null instance of {@link Color}\n */\n@NonNull\npublic static Color valueOf(@ColorInt int color) {\n    float r = ((color &gt;&gt; 16) &amp; 0xff) / 255.0f;\n    float g = ((color &gt;&gt;  8) &amp; 0xff) / 255.0f;\n    float b = ((color      ) &amp; 0xff) / 255.0f;\n    float a = ((color &gt;&gt; 24) &amp; 0xff) / 255.0f;\n    return new Color(r, g, b, a, ColorSpace.get(ColorSpace.Named.SRGB));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210389,"reputation":4552,"user_id":461982,"display_name":"Abandoned Cart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644610032,"creation_date":1643294394,"answer_id":70880470,"question_id":17183587,"body_markdown":"It seems the value being quoted and the format desired are mismatched. The value is hexadecimal, while RGB would read `255, 0, 255` and the integer is a composite color representation. Since it is unclear what is being accomplished, here are all three variations:\r\n\r\nIf you have an integer for the composite color, then most color endpoints will accept it unmodified. This would be something like `setBackgroundColor(colorInt)`\r\n\r\nIf you have the hexadecimal value, then `Color.parseColor(#colorHex)` would convert it to a color object.\r\n\r\nLikewise, `Color.rgb(redInt, greenInt, blueInt)` would convert the red, green, and blue values to a color object.\r\n\r\nIf you need to restore the composite integer into a color object, that is even simpler with `Color.valueOf(colorInt)`","title":"Convert integer color value to RGB","body":"<p>It seems the value being quoted and the format desired are mismatched. The value is hexadecimal, while RGB would read <code>255, 0, 255</code> and the integer is a composite color representation. Since it is unclear what is being accomplished, here are all three variations:</p>\n<p>If you have an integer for the composite color, then most color endpoints will accept it unmodified. This would be something like <code>setBackgroundColor(colorInt)</code></p>\n<p>If you have the hexadecimal value, then <code>Color.parseColor(#colorHex)</code> would convert it to a color object.</p>\n<p>Likewise, <code>Color.rgb(redInt, greenInt, blueInt)</code> would convert the red, green, and blue values to a color object.</p>\n<p>If you need to restore the composite integer into a color object, that is even simpler with <code>Color.valueOf(colorInt)</code></p>\n"}],"owner":{"account_id":2743468,"reputation":3955,"user_id":2364393,"accept_rate":50,"display_name":"Marek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90355,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":17183630,"answer_count":5,"score":36,"last_activity_date":1644610032,"creation_date":1371620308,"question_id":17183587,"body_markdown":"I am trying to modify a third party software. I want to use a color which is returned by some methods (which I cant modifiy) as an integer. However, I would like to use RGB format, like #FF00FF. How can I make a conversion?\r\n\r\nHere is an HTML example http://www.shodor.org/stella2java/rgbint.html\r\nI would like to archive same thing in Java, on Android.","title":"Convert integer color value to RGB","body":"<p>I am trying to modify a third party software. I want to use a color which is returned by some methods (which I cant modifiy) as an integer. However, I would like to use RGB format, like #FF00FF. How can I make a conversion?</p>\n\n<p>Here is an HTML example <a href=\"http://www.shodor.org/stella2java/rgbint.html\" rel=\"noreferrer\">http://www.shodor.org/stella2java/rgbint.html</a>\nI would like to archive same thing in Java, on Android.</p>\n"},{"tags":["java","opencv","javacv","background-subtraction"],"comments":[{"owner":{"account_id":7737450,"reputation":382,"user_id":5858567,"accept_rate":50,"display_name":"Gurinderbeer Singh"},"score":0,"creation_date":1455732226,"post_id":34368799,"comment_id":58624429,"body_markdown":"Hello Bahramdun,  I am new to Opencv. Can you help me how to initialize background subtractor mog2 in java. I am not able to do that.","body":"Hello Bahramdun,  I am new to Opencv. Can you help me how to initialize background subtractor mog2 in java. I am not able to do that."},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1455758246,"post_id":34368799,"comment_id":58637368,"body_markdown":"Hi! It is easy you can just do the following that is OK: `mog2 = Video.createBackgroundSubtractorMOG2();` Or `knn = Video.createBackgroundSubtractorKNN();` and also it is better to do this as will `mog2.setShadowValue(0);&#39;","body":"Hi! It is easy you can just do the following that is OK: <code>mog2 = Video.createBackgroundSubtractorMOG2();</code> Or <code>knn = Video.createBackgroundSubtractorKNN();</code> and also it is better to do this as will `mog2.setShadowValue(0);&#39;"},{"owner":{"account_id":7737450,"reputation":382,"user_id":5858567,"accept_rate":50,"display_name":"Gurinderbeer Singh"},"score":0,"creation_date":1455809524,"post_id":34368799,"comment_id":58664695,"body_markdown":"Thanks a lot... I appreciate your help.","body":"Thanks a lot... I appreciate your help."},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1455809622,"post_id":34368799,"comment_id":58664791,"body_markdown":"You are so welcome! Wish you Good Luck!!","body":"You are so welcome! Wish you Good Luck!!"}],"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1644609959,"creation_date":1450513679,"question_id":34368799,"body_markdown":"*I have searched a lot for this problem, but I did not find any solution.*\r\n\r\nI have a program which receives JPEG format file data through socket (in bytes), then I convert the byte array to `OpenCV Mat` object as below:\r\n\r\n    Mat mat = Imgcodecs.imdecode(new MatOfByte(byteArray), Imgcodecs.CV_LOAD_IMAGE_UNCHANGED);\r\n\r\nIt converts well without any exception, then (for test case to ensure the data is OK) I convert the `Mat` object to `BufferedImage` and then show it in a `JPanel`, everything goes well without any exception.\r\n\r\n**But** when I apply:\r\n\r\n    mog2.apply(mat, foregroundImg, -1); // tried 1, 0, 0.003 etc\r\n**OR**\r\n\r\n    knn.apply(mat, foregroundImg, -1); // tried 1, 0, 0.003 etc\r\n\r\n the `mat` to `BackgroundSubtractor` (any of `BackgroundSubtractorMOG2` or `BackgroundSubtractorKNN`) then it throws the exception with the following message:\r\n\r\n    OpenCV Error: Bad flag (parameter or structure field) (Unrecognized or unsupported array type) in cvGetMat, file C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp, line 2494\r\n\r\n**Then** I change the type of `Mat` as follow, but throws the same error\r\n\r\n    Mat newMat = new Mat();\r\n    mat.convertTo(newMat, CvType.CV_8UC3)\r\n\r\n\r\n----------\r\n\r\n\r\n**For** test I have done some other operation on this `mat` to ensure that it works with other OpenCV functions, **but it all works well** like:\r\n\r\nConvert to gray\r\n\r\n    Imgproc.cvtColor(mat, grayImg, Imgproc.COLOR_RGB2GRAY);\r\nDo threshold\r\n\r\n    Imgproc.threshold(grayImg, grayImg, 100, 255, Imgproc.THRESH_BINARY);\r\n**And so on...** all works without any exception.\r\n\r\n**Special case:** If I use a webcam (integrated or USB camera) or read frames from a video file, everything goes well without any exception.\r\n \r\n**Now** I don&#39;t know why this error or exception happens, is this a bug with the `BackgroundSubtractor` or there is anything wrong in data?\r\n\r\n**Special Note:** I am using OpenCV latest version (3.0) in `Java` Languange","title":"BackgroundSubtractor throws &#39;Unrecognized or unsupported array type in function cvGetMat&#39; Exception","body":"<p><em>I have searched a lot for this problem, but I did not find any solution.</em></p>\n\n<p>I have a program which receives JPEG format file data through socket (in bytes), then I convert the byte array to <code>OpenCV Mat</code> object as below:</p>\n\n<pre><code>Mat mat = Imgcodecs.imdecode(new MatOfByte(byteArray), Imgcodecs.CV_LOAD_IMAGE_UNCHANGED);\n</code></pre>\n\n<p>It converts well without any exception, then (for test case to ensure the data is OK) I convert the <code>Mat</code> object to <code>BufferedImage</code> and then show it in a <code>JPanel</code>, everything goes well without any exception.</p>\n\n<p><strong>But</strong> when I apply:</p>\n\n<pre><code>mog2.apply(mat, foregroundImg, -1); // tried 1, 0, 0.003 etc\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>knn.apply(mat, foregroundImg, -1); // tried 1, 0, 0.003 etc\n</code></pre>\n\n<p>the <code>mat</code> to <code>BackgroundSubtractor</code> (any of <code>BackgroundSubtractorMOG2</code> or <code>BackgroundSubtractorKNN</code>) then it throws the exception with the following message:</p>\n\n<pre><code>OpenCV Error: Bad flag (parameter or structure field) (Unrecognized or unsupported array type) in cvGetMat, file C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp, line 2494\n</code></pre>\n\n<p><strong>Then</strong> I change the type of <code>Mat</code> as follow, but throws the same error</p>\n\n<pre><code>Mat newMat = new Mat();\nmat.convertTo(newMat, CvType.CV_8UC3)\n</code></pre>\n\n<hr>\n\n<p><strong>For</strong> test I have done some other operation on this <code>mat</code> to ensure that it works with other OpenCV functions, <strong>but it all works well</strong> like:</p>\n\n<p>Convert to gray</p>\n\n<pre><code>Imgproc.cvtColor(mat, grayImg, Imgproc.COLOR_RGB2GRAY);\n</code></pre>\n\n<p>Do threshold</p>\n\n<pre><code>Imgproc.threshold(grayImg, grayImg, 100, 255, Imgproc.THRESH_BINARY);\n</code></pre>\n\n<p><strong>And so on...</strong> all works without any exception.</p>\n\n<p><strong>Special case:</strong> If I use a webcam (integrated or USB camera) or read frames from a video file, everything goes well without any exception.</p>\n\n<p><strong>Now</strong> I don't know why this error or exception happens, is this a bug with the <code>BackgroundSubtractor</code> or there is anything wrong in data?</p>\n\n<p><strong>Special Note:</strong> I am using OpenCV latest version (3.0) in <code>Java</code> Languange</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643789567,"post_id":70952272,"comment_id":125429424,"body_markdown":"No, create a class `AToBMapper` which is injected into `Hello` and test that separately.","body":"No, create a class <code>AToBMapper</code> which is injected into <code>Hello</code> and test that separately."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1643941413,"post_id":70952272,"comment_id":125479478,"body_markdown":"No, you shouldn&#39;t be testing the contents of `b`, but its effect.  What does your method do with `b` after it&#39;s created it?  Focus on testing that the method does the right thing, not on what goes on inside the method.","body":"No, you shouldn&#39;t be testing the contents of <code>b</code>, but its effect.  What does your method do with <code>b</code> after it&#39;s created it?  Focus on testing that the method does the right thing, not on what goes on inside the method."}],"owner":{"account_id":24130108,"reputation":3,"user_id":18097825,"display_name":"Himesh Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644609743,"creation_date":1643789425,"question_id":70952272,"body_markdown":"So I am trying to write a test with `junit 5` \r\nLets say I have a class:\r\n\r\n    Class Hello {\r\n        Public void doSomething(ObjectA a) {\r\n            ObjB b = some logic to map A to B\r\n        }\r\n    }\r\n\r\n\r\nIs there a way in java which I can use to capture the contents of `objB` and test its contents?","title":"Capturing local scope variables with junit or mockito","body":"<p>So I am trying to write a test with <code>junit 5</code>\nLets say I have a class:</p>\n<pre><code>Class Hello {\n    Public void doSomething(ObjectA a) {\n        ObjB b = some logic to map A to B\n    }\n}\n</code></pre>\n<p>Is there a way in java which I can use to capture the contents of <code>objB</code> and test its contents?</p>\n"},{"tags":["java","oop","methods","field","abstract"],"comments":[{"owner":{"account_id":40747,"reputation":16788,"user_id":118133,"accept_rate":86,"display_name":"Nate"},"score":3,"creation_date":1265419550,"post_id":2211002,"comment_id":2163584,"body_markdown":"It sounds like you could have sidestepped this entire issue by making the field non-constant and simply supplying the value through the constructor, ending up with 2 instances of one class rather than 2 classes.","body":"It sounds like you could have sidestepped this entire issue by making the field non-constant and simply supplying the value through the constructor, ending up with 2 instances of one class rather than 2 classes."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":6,"creation_date":1265448260,"post_id":2211002,"comment_id":2164869,"body_markdown":"By making a fields abstract in a super class, you have specific that every sub class must have this field, so this is no different to a non-abstract field.","body":"By making a fields abstract in a super class, you have specific that every sub class must have this field, so this is no different to a non-abstract field."},{"owner":{"account_id":1391519,"reputation":1710,"user_id":1322243,"accept_rate":66,"display_name":"liltitus27"},"score":0,"creation_date":1384974708,"post_id":2211002,"comment_id":29956736,"body_markdown":"@peter, i&#39;m not sure i&#39;m following your point.  if a non-abstract constant was specified in the abstract class, then it&#39;s value is constant through all subclasses as well.  if it were abstract, then its value would have to be implemented/supplied by each subclass.  so, it would not be the same at all.","body":"@peter, i&#39;m not sure i&#39;m following your point.  if a non-abstract constant was specified in the abstract class, then it&#39;s value is constant through all subclasses as well.  if it were abstract, then its value would have to be implemented/supplied by each subclass.  so, it would not be the same at all."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1384976325,"post_id":2211002,"comment_id":29957697,"body_markdown":"@liltitus27 I think my point 3.5 years ago was that having abstract fields wouldn&#39;t change very much except break the whole idea of separating the user of an interface from the implementation.","body":"@liltitus27 I think my point 3.5 years ago was that having abstract fields wouldn&#39;t change very much except break the whole idea of separating the user of an interface from the implementation."},{"owner":{"account_id":3338406,"reputation":4475,"user_id":2805265,"accept_rate":73,"display_name":"geg"},"score":1,"creation_date":1496170109,"post_id":2211002,"comment_id":75547477,"body_markdown":"This would be helpful because it could allow custom field annotations in the child class","body":"This would be helpful because it could allow custom field annotations in the child class"}],"answers":[{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1265410401,"creation_date":1265410401,"answer_id":2211022,"question_id":2211002,"body_markdown":"Obviously it *could* have been designed to allow this, but under the covers it&#39;d still have to do dynamic dispatch, and hence a method call. Java&#39;s design (at least in the early days) was, to some extent, an attempt to be minimalist. That is, the designers tried to avoid adding new features if they could be easily simulated by other features already in the language.","title":"Why not abstract fields?","body":"<p>Obviously it <em>could</em> have been designed to allow this, but under the covers it'd still have to do dynamic dispatch, and hence a method call. Java's design (at least in the early days) was, to some extent, an attempt to be minimalist. That is, the designers tried to avoid adding new features if they could be easily simulated by other features already in the language.</p>\n"},{"tags":[],"owner":{"account_id":76141,"reputation":801331,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1265412429,"creation_date":1265410584,"answer_id":2211037,"question_id":2211002,"body_markdown":"I see no point in that. You can move the function to the abstract class and just override some protected field. I don&#39;t know if this works with constants but the effect is the same:\r\n\r\n\r\n    public abstract class Abstract {\r\n        protected String errorMsg = &quot;&quot;;\r\n    \r\n        public String getErrMsg() {\r\n            return this.errorMsg;\r\n        }\r\n    }\r\n    \r\n    public class Foo extends Abstract {\r\n        public Foo() {\r\n           this.errorMsg = &quot;Foo&quot;;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class Bar extends Abstract {\r\n        public Bar() {\r\n           this.errorMsg = &quot;Bar&quot;;\r\n        }\r\n    }\r\n\r\nSo your point is that you want to enforce the implementation/overriding/whatever of `errorMsg` in the subclasses? I thought you just wanted to have the method in the base class and didn&#39;t know how to deal with the field then.","title":"Why not abstract fields?","body":"<p>I see no point in that. You can move the function to the abstract class and just override some protected field. I don't know if this works with constants but the effect is the same:</p>\n\n<pre><code>public abstract class Abstract {\n    protected String errorMsg = \"\";\n\n    public String getErrMsg() {\n        return this.errorMsg;\n    }\n}\n\npublic class Foo extends Abstract {\n    public Foo() {\n       this.errorMsg = \"Foo\";\n    }\n\n}\n\npublic class Bar extends Abstract {\n    public Bar() {\n       this.errorMsg = \"Bar\";\n    }\n}\n</code></pre>\n\n<p>So your point is that you want to enforce the implementation/overriding/whatever of <code>errorMsg</code> in the subclasses? I thought you just wanted to have the method in the base class and didn't know how to deal with the field then.</p>\n"},{"tags":[],"owner":{"account_id":46925,"reputation":8408,"user_id":138837,"accept_rate":60,"display_name":"Drew Wills"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265410733,"creation_date":1265410733,"answer_id":2211053,"question_id":2211002,"body_markdown":"Reading your title, I thought you were referring to abstract instance members;  and I couldn&#39;t see much use for them.  But abstract static members is another matter entirely.\r\n\r\nI have often wished that I could declare a method like the following in Java:\r\n\r\n    public abstract class MyClass {\r\n    \r\n        public static abstract MyClass createInstance();\r\n    \r\n        // more stuff...\r\n    \r\n    }\r\n\r\nBasically, I would like to insist that concrete implementations of my parent class provide a static factory method with a specific signature.  This would allow me to get a reference to a concrete class with `Class.forName()` and be certain that I could construct one in a convention of my choosing.","title":"Why not abstract fields?","body":"<p>Reading your title, I thought you were referring to abstract instance members;  and I couldn't see much use for them.  But abstract static members is another matter entirely.</p>\n\n<p>I have often wished that I could declare a method like the following in Java:</p>\n\n<pre><code>public abstract class MyClass {\n\n    public static abstract MyClass createInstance();\n\n    // more stuff...\n\n}\n</code></pre>\n\n<p>Basically, I would like to insist that concrete implementations of my parent class provide a static factory method with a specific signature.  This would allow me to get a reference to a concrete class with <code>Class.forName()</code> and be certain that I could construct one in a convention of my choosing.</p>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":122,"is_accepted":true,"score":122,"last_activity_date":1436353820,"creation_date":1265410771,"answer_id":2211059,"question_id":2211002,"body_markdown":"You can do what you described by having a final field in your abstract class that is initialised in its constructor (untested code):\r\n\r\n    abstract class Base {\r\n\r\n        final String errMsg;\r\n\r\n        Base(String msg) {\r\n            errMsg = msg;\r\n        }\r\n\r\n        abstract String doSomething();\r\n    }\r\n\r\n    class Sub extends Base {\r\n\r\n        Sub() {\r\n            super(&quot;Sub message&quot;);\r\n        }\r\n\r\n        String doSomething() {\r\n\r\n            return errMsg + &quot; from something&quot;;\r\n        }\r\n    }\r\n\r\nIf your child class &quot;forgets&quot; to initialise the final through the super constructor the compiler will give &lt;strike&gt;a warning&lt;/strike&gt; an error, just like when an abstract method is not implemented.\r\n","title":"Why not abstract fields?","body":"<p>You can do what you described by having a final field in your abstract class that is initialised in its constructor (untested code):</p>\n\n<pre><code>abstract class Base {\n\n    final String errMsg;\n\n    Base(String msg) {\n        errMsg = msg;\n    }\n\n    abstract String doSomething();\n}\n\nclass Sub extends Base {\n\n    Sub() {\n        super(\"Sub message\");\n    }\n\n    String doSomething() {\n\n        return errMsg + \" from something\";\n    }\n}\n</code></pre>\n\n<p>If your child class \"forgets\" to initialise the final through the super constructor the compiler will give <strike>a warning</strike> an error, just like when an abstract method is not implemented.</p>\n"},{"tags":[],"owner":{"account_id":4609940,"reputation":2386,"user_id":3738356,"accept_rate":32,"display_name":"interestedparty333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497627181,"creation_date":1497627181,"answer_id":44593039,"question_id":2211002,"body_markdown":"Another option is to define the field as a public (final, if you like) in the base class, and then initialize that field in the constructor of the base class, depending upon which subclass is currently being used.  It&#39;s a bit shady, in that it introduces a circular dependency.  But, at least it&#39;s not a dependency that can ever change -- i.e., the subclass will either exist or not exist, but the subclass&#39;s methods or fields can not influence the value of `field`.\r\n\r\n\r\n    public abstract class Base {\r\n      public final int field;\r\n      public Base() {\r\n        if (this instanceof SubClassOne) {\r\n          field = 1;\r\n        } else if (this instanceof SubClassTwo) {\r\n          field = 2;\r\n        } else {\r\n          // assertion, thrown exception, set to -1, whatever you want to do \r\n          // to trigger an error\r\n          field = -1;\r\n        }\r\n      }\r\n    }\r\n","title":"Why not abstract fields?","body":"<p>Another option is to define the field as a public (final, if you like) in the base class, and then initialize that field in the constructor of the base class, depending upon which subclass is currently being used.  It's a bit shady, in that it introduces a circular dependency.  But, at least it's not a dependency that can ever change -- i.e., the subclass will either exist or not exist, but the subclass's methods or fields can not influence the value of <code>field</code>.</p>\n\n<pre><code>public abstract class Base {\n  public final int field;\n  public Base() {\n    if (this instanceof SubClassOne) {\n      field = 1;\n    } else if (this instanceof SubClassTwo) {\n      field = 2;\n    } else {\n      // assertion, thrown exception, set to -1, whatever you want to do \n      // to trigger an error\n      field = -1;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4926,"reputation":8646,"user_id":7648,"accept_rate":80,"display_name":"Paul Reiners"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87974,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":2211059,"answer_count":5,"score":126,"last_activity_date":1644609661,"creation_date":1265410147,"question_id":2211002,"body_markdown":"Why can&#39;t Java classes have abstract fields like they can with abstract methods?\r\n\r\nFor example: I have two classes that extend the same abstract base class.  These two classes each have a method that is identical except for a String constant, which happens to be an error message, within them. If fields could be abstract, I could make this constant abstract and pull the method up into the base class. Instead, I have to create an abstract method, called `getErrMsg()` in this case, that returns the String, override this method in the two derived classes, and then I can pull up the method (which now calls the abstract method).\r\n\r\nWhy couldn&#39;t I just make the field abstract to begin with? Could Java have been designed to allow this?","title":"Why not abstract fields?","body":"<p>Why can't Java classes have abstract fields like they can with abstract methods?</p>\n<p>For example: I have two classes that extend the same abstract base class.  These two classes each have a method that is identical except for a String constant, which happens to be an error message, within them. If fields could be abstract, I could make this constant abstract and pull the method up into the base class. Instead, I have to create an abstract method, called <code>getErrMsg()</code> in this case, that returns the String, override this method in the two derived classes, and then I can pull up the method (which now calls the abstract method).</p>\n<p>Why couldn't I just make the field abstract to begin with? Could Java have been designed to allow this?</p>\n"},{"tags":["java","jmeter","jvm"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1621493534,"post_id":67615212,"comment_id":119513466,"body_markdown":"Do you use latest JMeter version? what machine are you running it?","body":"Do you use latest JMeter version? what machine are you running it?"},{"owner":{"account_id":19341064,"reputation":118,"user_id":14140560,"display_name":"Kaylee Paez"},"score":0,"creation_date":1628823680,"post_id":67615212,"comment_id":121529420,"body_markdown":"I was using Java 16 and changed it to Java 15 and it worked. Seems to be some kind of bug.","body":"I was using Java 16 and changed it to Java 15 and it worked. Seems to be some kind of bug."},{"owner":{"account_id":7213792,"reputation":1527,"user_id":5506988,"accept_rate":60,"display_name":"Mark"},"score":0,"creation_date":1649350867,"post_id":67615212,"comment_id":126859549,"body_markdown":"I got this same error while trying to save in Jmeter https://stackoverflow.com/a/69640910/5506988","body":"I got this same error while trying to save in Jmeter <a href=\"https://stackoverflow.com/a/69640910/5506988\">stackoverflow.com/a/69640910/5506988</a>"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621493900,"creation_date":1621493900,"answer_id":67615404,"question_id":67615212,"body_markdown":"Sounds like you&#39;re facing a [JDK bug 482318][1], try changing your Java to another version, i.e.\r\n\r\n - Upgrade to [Java 11][2] (it&#39;s LTS release)\r\n - Downgrade to [Java 8][3] (it&#39;s the minimum version capable of running JMeter 5.4.1)\r\n\r\nYou can also try switching to cross-platform look and feel by running JMeter as:\r\n\r\n    jmeter -Jjmeter.laf=CrossPlatform ....\r\n\r\nif it helps you can make the change permanent by adding the next line to *user.properties* file:\r\n\r\n    jmeter.laf=CrossPlatform\r\n\r\nand last but not the least, you can open a .jmx script in GUI mode by providing it via `-t` argument like:\r\n\r\n    jmeter -t /path/to/your/test.jmx\r\n\r\nthis way JMeter will start and open your test plan (hopefully)\r\n\r\nMore information:\r\n\r\n - [Configuring JMeter][4]\r\n - [Full list of command-line options][5]\r\n - [Apache JMeter Properties Customization Guide][6]\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=482318\r\n  [2]: https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\r\n  [3]: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\r\n  [4]: https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\r\n  [5]: https://jmeter.apache.org/usermanual/get-started.html#options\r\n  [6]: https://www.blazemeter.com/blog/apache-jmeter-properties-customization","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>Sounds like you're facing a <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=482318\" rel=\"nofollow noreferrer\">JDK bug 482318</a>, try changing your Java to another version, i.e.</p>\n<ul>\n<li>Upgrade to <a href=\"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\" rel=\"nofollow noreferrer\">Java 11</a> (it's LTS release)</li>\n<li>Downgrade to <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"nofollow noreferrer\">Java 8</a> (it's the minimum version capable of running JMeter 5.4.1)</li>\n</ul>\n<p>You can also try switching to cross-platform look and feel by running JMeter as:</p>\n<pre><code>jmeter -Jjmeter.laf=CrossPlatform ....\n</code></pre>\n<p>if it helps you can make the change permanent by adding the next line to <em>user.properties</em> file:</p>\n<pre><code>jmeter.laf=CrossPlatform\n</code></pre>\n<p>and last but not the least, you can open a .jmx script in GUI mode by providing it via <code>-t</code> argument like:</p>\n<pre><code>jmeter -t /path/to/your/test.jmx\n</code></pre>\n<p>this way JMeter will start and open your test plan (hopefully)</p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\" rel=\"nofollow noreferrer\">Configuring JMeter</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#options\" rel=\"nofollow noreferrer\">Full list of command-line options</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/apache-jmeter-properties-customization\" rel=\"nofollow noreferrer\">Apache JMeter Properties Customization Guide</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1622468739,"creation_date":1622468739,"answer_id":67774978,"question_id":67615212,"body_markdown":"I had the same issue, found this workaround, which is not working for me:\r\n&gt; adding the following to the `JAVA9_OPTS` variable in jmeter.bat: `--add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED`\r\n\r\nSource: https://bz.apache.org/bugzilla/show_bug.cgi?id=65300#c3\r\n\r\nInstead, using the 5.5 snapshot of JMeter of today is working for me: https://ci-builds.apache.org/job/JMeter/job/JMeter-trunk/lastSuccessfulBuild/artifact/src/dist/build/distributions/","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>I had the same issue, found this workaround, which is not working for me:</p>\n<blockquote>\n<p>adding the following to the <code>JAVA9_OPTS</code> variable in jmeter.bat: <code>--add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED</code></p>\n</blockquote>\n<p>Source: <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=65300#c3\" rel=\"noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=65300#c3</a></p>\n<p>Instead, using the 5.5 snapshot of JMeter of today is working for me: <a href=\"https://ci-builds.apache.org/job/JMeter/job/JMeter-trunk/lastSuccessfulBuild/artifact/src/dist/build/distributions/\" rel=\"noreferrer\">https://ci-builds.apache.org/job/JMeter/job/JMeter-trunk/lastSuccessfulBuild/artifact/src/dist/build/distributions/</a></p>\n"},{"tags":[],"owner":{"account_id":22396009,"reputation":621,"user_id":16607270,"display_name":" "},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1628251312,"creation_date":1628251312,"answer_id":68681249,"question_id":67615212,"body_markdown":"Consider changing your JMeter Theme to Windows Classic(Options -&gt; Look and Feel -&gt; Windows classic)","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>Consider changing your JMeter Theme to Windows Classic(Options -&gt; Look and Feel -&gt; Windows classic)</p>\n"},{"tags":[],"owner":{"display_name":"user16652756"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628793120,"creation_date":1628792075,"answer_id":68762406,"question_id":67615212,"body_markdown":"Adding the following to the **JAVA9_OPTS** variable in `jmeter.bat`: `--add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED`\r\n\r\nSource [here][1].\r\n\r\nAfter doing this step you have to open one existing jmx file from edit tab not from file tab. And after that your `jmeter` will start to work.\r\n\r\nNOTE:Be careful! You have to change the `jmeter.bat` file. And also there are three **JAVA9_OPTS** words, you have to change the true one.\r\n\r\n\r\n  [1]: https://bz.apache.org/bugzilla/show_bug.cgi?id=65300#c3","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>Adding the following to the <strong>JAVA9_OPTS</strong> variable in <code>jmeter.bat</code>: <code>--add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED</code></p>\n<p>Source <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=65300#c3\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>After doing this step you have to open one existing jmx file from edit tab not from file tab. And after that your <code>jmeter</code> will start to work.</p>\n<p>NOTE:Be careful! You have to change the <code>jmeter.bat</code> file. And also there are three <strong>JAVA9_OPTS</strong> words, you have to change the true one.</p>\n"},{"tags":[],"owner":{"account_id":1333351,"reputation":316,"user_id":1276694,"display_name":"Nayan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1630512308,"creation_date":1630512308,"answer_id":69017221,"question_id":67615212,"body_markdown":"This might be related to the dark mode of JMeter. Atleast for me this solved the issue by changing it to non-dark theme.\r\nSystem Info : \r\nOS - macOS Big Sur\r\nJmeter Version - 5.4.1\r\nJava version - 16\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://bz.apache.org/bugzilla/show_bug.cgi?id=65300#c8","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>This might be related to the dark mode of JMeter. Atleast for me this solved the issue by changing it to non-dark theme.\nSystem Info :\nOS - macOS Big Sur\nJmeter Version - 5.4.1\nJava version - 16\n<a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=65300#c8\" rel=\"noreferrer\">Reference</a></p>\n"},{"tags":[],"owner":{"account_id":8830932,"reputation":71,"user_id":17128760,"display_name":"Jorge M"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633974435,"creation_date":1633974435,"answer_id":69530470,"question_id":67615212,"body_markdown":"I had the same problem on my Mac and I fix it changing the theme to Nimbus.\r\n\r\nI followed the steps that @  mentioned before. (Options -&gt; Look and Feel -&gt; Nimbus)\r\n","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>I had the same problem on my Mac and I fix it changing the theme to Nimbus.</p>\n<p>I followed the steps that @  mentioned before. (Options -&gt; Look and Feel -&gt; Nimbus)</p>\n"},{"tags":[],"owner":{"account_id":2338750,"reputation":2396,"user_id":2050511,"display_name":"Hemant Thorat"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1634708957,"creation_date":1634708957,"answer_id":69640910,"question_id":67615212,"body_markdown":"The solution was changing the theme!\r\n\r\nTry the following:\r\n\r\n    Open JMeter -&gt; Options -&gt; Look and Feel -&gt; Select System theme.\r\n    Restart JMeter.\r\n","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>The solution was changing the theme!</p>\n<p>Try the following:</p>\n<pre><code>Open JMeter -&gt; Options -&gt; Look and Feel -&gt; Select System theme.\nRestart JMeter.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23933006,"reputation":1,"user_id":17927185,"display_name":"Dmitry Galas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642100180,"creation_date":1642100180,"answer_id":70701679,"question_id":67615212,"body_markdown":"Changing theme to Windows Classic works, but it&#39;s **impossible to do if the frame is empty.** \r\n\r\nTry to launch `\\apache-jmeter-5.4.3\\bin\\jmeter.bat.` This should open jmeter no matter which theme is applied. \r\n\r\nAnd then you could change theme to Windows classic if you prefer launch as `ApacheJMeter.jar`","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>Changing theme to Windows Classic works, but it's <strong>impossible to do if the frame is empty.</strong></p>\n<p>Try to launch <code>\\apache-jmeter-5.4.3\\bin\\jmeter.bat.</code> This should open jmeter no matter which theme is applied.</p>\n<p>And then you could change theme to Windows classic if you prefer launch as <code>ApacheJMeter.jar</code></p>\n"},{"tags":[],"owner":{"account_id":24222271,"reputation":1,"user_id":18177283,"display_name":"Daniel Felipe Henao Toro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644609505,"creation_date":1644609505,"answer_id":71085900,"question_id":67615212,"body_markdown":"I was able to open jmetter on Windows in the following way:\r\n\r\n1. Open cmd shell of windows.\r\n2. Go to path where bin directory of jmetter is. Path example:\r\n\r\nC:\\Users\\xxxx\\Documents\\PROYECTOS\\apache-jmeter-5.4.3\\bin\r\n\r\n3. Write jmeter word and click Enter.\r\n\r\nNote: Jmetter will open automatically.\r\n\r\n4. Click on: &gt; Options -&gt; Look and Feel -&gt; Windows Classic (Example)\r\n\r\n[Picture][1]\r\n\r\n  [1]: https://i.stack.imgur.com/dWqMC.png\r\n\r\n5. Restart jmetter and then repeat 1, 2 and 3 steps.","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>I was able to open jmetter on Windows in the following way:</p>\n<ol>\n<li>Open cmd shell of windows.</li>\n<li>Go to path where bin directory of jmetter is. Path example:</li>\n</ol>\n<p>C:\\Users\\xxxx\\Documents\\PROYECTOS\\apache-jmeter-5.4.3\\bin</p>\n<ol start=\"3\">\n<li>Write jmeter word and click Enter.</li>\n</ol>\n<p>Note: Jmetter will open automatically.</p>\n<ol start=\"4\">\n<li>Click on: &gt; Options -&gt; Look and Feel -&gt; Windows Classic (Example)</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/dWqMC.png\" rel=\"nofollow noreferrer\">Picture</a></p>\n<ol start=\"5\">\n<li>Restart jmetter and then repeat 1, 2 and 3 steps.</li>\n</ol>\n"}],"owner":{"account_id":10574176,"reputation":400,"user_id":7789967,"display_name":"presty prajna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25917,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"answer_count":9,"score":40,"last_activity_date":1644609505,"creation_date":1621493074,"question_id":67615212,"body_markdown":"Below is the error i get,while clicking on open icon:\r\n\r\n    2021-05-20 12:11:25,651 ERROR o.a.j.JMeter: Uncaught exception in thread Thread[AWT-EventQueue-0,6,main]\r\n    java.lang.IllegalAccessError: class com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge$DetailsTableModel (in unnamed module @0x21507a04) cannot access class sun.awt.shell.ShellFolder (in module java.desktop) because module java.desktop does not export sun.awt.shell to unnamed module @0x21507a04\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge$DetailsTableModel.updateColumnInfo(DarkFilePaneUIBridge.java:1128) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge$DetailsTableModel.&lt;init&gt;(DarkFilePaneUIBridge.java:1115) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge.getDetailsTableModel(DarkFilePaneUIBridge.java:576) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge$SortableListModel.&lt;init&gt;(DarkFilePaneUIBridge.java:1079) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFilePane.createList(DarkFilePane.java:137) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFileChooserUIBridge.createList(DarkFileChooserUIBridge.java:585) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFileChooserUIBridge$MetalFileChooserUIAccessor.createList(DarkFileChooserUIBridge.java:750) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge.setViewType(DarkFilePaneUIBridge.java:376) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge.propertyChange(DarkFilePaneUIBridge.java:890) ~[darklaf-core-2.5.4.jar:2.5.4]\r\n    \tat java.beans.PropertyChangeSupport.fire(PropertyChangeSupport.java:342) ~[?:?]\r\n    \tat java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:334) ~[?:?]\r\n    \tat java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:267) ~[?:?]\r\n    \tat java.awt.Component.firePropertyChange(Component.java:8713) ~[?:?]\r\n    \tat javax.swing.JComponent.setUI(JComponent.java:688) ~[?:?]\r\n    \tat javax.swing.JFileChooser.updateUI(JFileChooser.java:1838) ~[?:?]\r\n    \tat javax.swing.JFileChooser.setup(JFileChooser.java:395) ~[?:?]\r\n    \tat javax.swing.JFileChooser.&lt;init&gt;(JFileChooser.java:361) ~[?:?]\r\n    \tat javax.swing.JFileChooser.&lt;init&gt;(JFileChooser.java:308) ~[?:?]\r\n    \tat org.apache.jmeter.gui.util.FileDialoger.&lt;clinit&gt;(FileDialoger.java:42) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.gui.action.Load.doActionAfterCheck(Load.java:75) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.gui.action.AbstractActionWithNoRunningTest.doAction(AbstractActionWithNoRunningTest.java:44) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.gui.action.ActionRouter.performAction(ActionRouter.java:87) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.gui.action.ActionRouter.lambda$actionPerformed$0(ActionRouter.java:69) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316) ~[?:?]\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770) ~[?:?]\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:721) ~[?:?]\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:715) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(AccessController.java:391) ~[?:?]\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85) ~[?:?]\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:740) ~[?:?]\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203) [?:?]\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124) [?:?]\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113) [?:?]\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109) [?:?]\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) [?:?]\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:90) [?:?]\r\n\r\n","title":"Why am i not able to click on open icon in Jmeter?","body":"<p>Below is the error i get,while clicking on open icon:</p>\n<pre><code>2021-05-20 12:11:25,651 ERROR o.a.j.JMeter: Uncaught exception in thread Thread[AWT-EventQueue-0,6,main]\njava.lang.IllegalAccessError: class com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge$DetailsTableModel (in unnamed module @0x21507a04) cannot access class sun.awt.shell.ShellFolder (in module java.desktop) because module java.desktop does not export sun.awt.shell to unnamed module @0x21507a04\n    at com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge$DetailsTableModel.updateColumnInfo(DarkFilePaneUIBridge.java:1128) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge$DetailsTableModel.&lt;init&gt;(DarkFilePaneUIBridge.java:1115) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge.getDetailsTableModel(DarkFilePaneUIBridge.java:576) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge$SortableListModel.&lt;init&gt;(DarkFilePaneUIBridge.java:1079) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at com.github.weisj.darklaf.ui.filechooser.DarkFilePane.createList(DarkFilePane.java:137) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at com.github.weisj.darklaf.ui.filechooser.DarkFileChooserUIBridge.createList(DarkFileChooserUIBridge.java:585) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at com.github.weisj.darklaf.ui.filechooser.DarkFileChooserUIBridge$MetalFileChooserUIAccessor.createList(DarkFileChooserUIBridge.java:750) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge.setViewType(DarkFilePaneUIBridge.java:376) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at com.github.weisj.darklaf.ui.filechooser.DarkFilePaneUIBridge.propertyChange(DarkFilePaneUIBridge.java:890) ~[darklaf-core-2.5.4.jar:2.5.4]\n    at java.beans.PropertyChangeSupport.fire(PropertyChangeSupport.java:342) ~[?:?]\n    at java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:334) ~[?:?]\n    at java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:267) ~[?:?]\n    at java.awt.Component.firePropertyChange(Component.java:8713) ~[?:?]\n    at javax.swing.JComponent.setUI(JComponent.java:688) ~[?:?]\n    at javax.swing.JFileChooser.updateUI(JFileChooser.java:1838) ~[?:?]\n    at javax.swing.JFileChooser.setup(JFileChooser.java:395) ~[?:?]\n    at javax.swing.JFileChooser.&lt;init&gt;(JFileChooser.java:361) ~[?:?]\n    at javax.swing.JFileChooser.&lt;init&gt;(JFileChooser.java:308) ~[?:?]\n    at org.apache.jmeter.gui.util.FileDialoger.&lt;clinit&gt;(FileDialoger.java:42) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.gui.action.Load.doActionAfterCheck(Load.java:75) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.gui.action.AbstractActionWithNoRunningTest.doAction(AbstractActionWithNoRunningTest.java:44) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.gui.action.ActionRouter.performAction(ActionRouter.java:87) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.gui.action.ActionRouter.lambda$actionPerformed$0(ActionRouter.java:69) ~[ApacheJMeter_core.jar:5.4.1]\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316) ~[?:?]\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770) ~[?:?]\n    at java.awt.EventQueue$4.run(EventQueue.java:721) ~[?:?]\n    at java.awt.EventQueue$4.run(EventQueue.java:715) ~[?:?]\n    at java.security.AccessController.doPrivileged(AccessController.java:391) ~[?:?]\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85) ~[?:?]\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:740) ~[?:?]\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203) [?:?]\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124) [?:?]\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113) [?:?]\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109) [?:?]\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101) [?:?]\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:90) [?:?]\n</code></pre>\n"},{"tags":["java","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1644546659,"post_id":71074666,"comment_id":125641907,"body_markdown":"What problem are you having doing this, exactly?","body":"What problem are you having doing this, exactly?"},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":1,"creation_date":1644589698,"post_id":71074666,"comment_id":125653570,"body_markdown":"Parsing the response to POJO would make it easy","body":"Parsing the response to POJO would make it easy"}],"answers":[{"tags":[],"owner":{"account_id":2357064,"reputation":184,"user_id":2064640,"display_name":"AMOD MAHAJAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644608734,"creation_date":1644608734,"answer_id":71085788,"question_id":71074666,"body_markdown":"&quot;payment&quot; will be parent key under which either &quot;bankAccount&quot; or &quot;creditCard&quot; would be present. You can just deserialize &quot;payment&quot; into Map and then get the key of it. Now based on key name you can write ur next step. ","title":"RestAssured how to get the name of a value from response","body":"<p>&quot;payment&quot; will be parent key under which either &quot;bankAccount&quot; or &quot;creditCard&quot; would be present. You can just deserialize &quot;payment&quot; into Map and then get the key of it. Now based on key name you can write ur next step.</p>\n"}],"owner":{"account_id":5632493,"reputation":905,"user_id":4459027,"accept_rate":86,"display_name":"Sheikh Rahman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71085788,"answer_count":1,"score":0,"last_activity_date":1644608734,"creation_date":1644546222,"question_id":71074666,"body_markdown":"I did some research in satckoverflow. I could not find any answer. From the response below how can I find out what the value is after payment? It can either be bankAccount or creditCard. Depending on the value I get, I will run the next script. In the example below you can see that the current value is bankAccount.\r\n\r\n    {\r\n\t&quot;code&quot;: &quot;I00001&quot;,\r\n\t&quot;description&quot;: &quot;Successful.&quot;,\r\n\t&quot;customerProfileId&quot;: &quot;1234&quot;,\r\n\t&quot;paymentProfles&quot;: [{\r\n\t\t&quot;customerPaymentProfileId&quot;: &quot;9874&quot;,\r\n\t\t&quot;billingAddress&quot;: {\r\n\t\t\t&quot;address&quot;: &quot;123 Steven Road&quot;,\r\n\t\t\t&quot;city&quot;: &quot;Hopkins&quot;,\r\n\t\t\t&quot;state&quot;: &quot;MN&quot;,\r\n\t\t\t&quot;zipcode&quot;: &quot;55344&quot;,\r\n\t\t\t&quot;phoneNumber&quot;: &quot;507-3821122&quot;,\r\n\t\t\t&quot;country&quot;: &quot;USA&quot;\r\n\t\t},\r\n\t\t&quot;payment&quot;: {\r\n\t\t\t&quot;bankAccount&quot;: {\r\n\t\t\t\t&quot;accountNumber&quot;: &quot;XXXX1234&quot;,\r\n\t\t\t\t&quot;accountType&quot;: &quot;CHECKING&quot;,\r\n\t\t\t\t&quot;eCheckType&quot;: &quot;WEB&quot;,\r\n\t\t\t\t&quot;nameOnAccount&quot;: &quot;QA Tes1t&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}]\r\n}\r\n\r\nThanks in advance for your time and help.","title":"RestAssured how to get the name of a value from response","body":"<p>I did some research in satckoverflow. I could not find any answer. From the response below how can I find out what the value is after payment? It can either be bankAccount or creditCard. Depending on the value I get, I will run the next script. In the example below you can see that the current value is bankAccount.</p>\n<pre><code>{\n&quot;code&quot;: &quot;I00001&quot;,\n&quot;description&quot;: &quot;Successful.&quot;,\n&quot;customerProfileId&quot;: &quot;1234&quot;,\n&quot;paymentProfles&quot;: [{\n    &quot;customerPaymentProfileId&quot;: &quot;9874&quot;,\n    &quot;billingAddress&quot;: {\n        &quot;address&quot;: &quot;123 Steven Road&quot;,\n        &quot;city&quot;: &quot;Hopkins&quot;,\n        &quot;state&quot;: &quot;MN&quot;,\n        &quot;zipcode&quot;: &quot;55344&quot;,\n        &quot;phoneNumber&quot;: &quot;507-3821122&quot;,\n        &quot;country&quot;: &quot;USA&quot;\n    },\n    &quot;payment&quot;: {\n        &quot;bankAccount&quot;: {\n            &quot;accountNumber&quot;: &quot;XXXX1234&quot;,\n            &quot;accountType&quot;: &quot;CHECKING&quot;,\n            &quot;eCheckType&quot;: &quot;WEB&quot;,\n            &quot;nameOnAccount&quot;: &quot;QA Tes1t&quot;\n        }\n    }\n}]\n</code></pre>\n<p>}</p>\n<p>Thanks in advance for your time and help.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":3251622,"reputation":11214,"user_id":2741705,"display_name":"Pham Trung"},"score":0,"creation_date":1432793124,"post_id":30497470,"comment_id":49073516,"body_markdown":"Can you add the problem statement also?","body":"Can you add the problem statement also?"}],"answers":[{"tags":[],"owner":{"account_id":3251622,"reputation":11214,"user_id":2741705,"display_name":"Pham Trung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1432796113,"creation_date":1432793238,"answer_id":30498447,"question_id":30497470,"body_markdown":"Look at this line:\r\n\r\n    Pair s = new Pair(i + A[i], true);\r\n\r\nThis is equivalent with `Pair s = new Pair((long)(i + A[i]) , true);`\r\n\r\nAs `i` is integer, and `A[i]` is also integer, so this can cause overflow, as value in `A[i]` can go up to `Integer.MAX_VALUE`, and the cast to `long` happened after add operation is completed.\r\n\r\nTo fix:\r\n\r\n    Pair s = new Pair((long)i + (long)A[i], true);\r\n\r\n**Note**: I have submitted with my fixed and got 100%\r\n\r\nhttps://codility.com/demo/results/demoRRBY3Q-UXH/","title":"NumberOfDiscIntersections overflow in codility test","body":"<p>Look at this line:</p>\n\n<pre><code>Pair s = new Pair(i + A[i], true);\n</code></pre>\n\n<p>This is equivalent with <code>Pair s = new Pair((long)(i + A[i]) , true);</code></p>\n\n<p>As <code>i</code> is integer, and <code>A[i]</code> is also integer, so this can cause overflow, as value in <code>A[i]</code> can go up to <code>Integer.MAX_VALUE</code>, and the cast to <code>long</code> happened after add operation is completed.</p>\n\n<p>To fix:</p>\n\n<pre><code>Pair s = new Pair((long)i + (long)A[i], true);\n</code></pre>\n\n<p><strong>Note</strong>: I have submitted with my fixed and got 100%</p>\n\n<p><a href=\"https://codility.com/demo/results/demoRRBY3Q-UXH/\" rel=\"nofollow\">https://codility.com/demo/results/demoRRBY3Q-UXH/</a></p>\n"},{"tags":[],"owner":{"account_id":1402825,"reputation":647,"user_id":1331274,"accept_rate":67,"display_name":"Zbyszek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534444825,"creation_date":1534444825,"answer_id":51883469,"question_id":30497470,"body_markdown":"My todays solution. O(N) time complexity. Simple assumption that number of availble pairs in next point of the table is difference between total open circle to that moment (circle) and circles that have been processed before. Maybe it&#39;s to simple :)\r\n\r\n      public int solution04(int[] A) { \r\n        final int N = A.length;\r\n        final int M = N + 2;\r\n        int[] left  = new int[M]; // values of nb of &quot;left&quot;  edges of the circles in that point\r\n        int[] sleft = new int[M]; // prefix sum of left[]\r\n        int il, ir;               // index of the &quot;left&quot; and of the &quot;right&quot; edge of the circle\r\n    \r\n        for (int i = 0; i &lt; N; i++) { // counting left edges\r\n          il = tl(i, A);\r\n          left[il]++;\r\n        }\r\n        \r\n        sleft[0] = left[0];\r\n        for (int i = 1; i &lt; M; i++) {// counting prefix sums for future use\r\n          sleft[i]=sleft[i-1]+left[i];\r\n        }\r\n        int o, pairs, total_p = 0, total_used=0;\r\n        for (int i = 0; i &lt; N; i++) { // counting pairs\r\n          ir = tr(i, A, M);\r\n          o  = sleft[ir];                // nb of open till right edge\r\n          pairs  = o -1 - total_used;\r\n          total_used++;\r\n          total_p += pairs;\r\n        }\r\n        if(total_p &gt; 10000000){\r\n          total_p = -1;\r\n        }\r\n        return total_p;\r\n      }\r\n      \r\n      int tl(int i, int[] A){\r\n        int tl = i - A[i]; // index of &quot;begin&quot; of the circle\r\n          if (tl &lt; 0) {\r\n            tl = 0;\r\n          } else {\r\n            tl = i - A[i] + 1;\r\n          }\r\n        return tl;\r\n      }\r\n      int tr(int i, int[] A, int M){\r\n        int tr;           // index of &quot;end&quot; of the circle\r\n          if (Integer.MAX_VALUE - i &lt; A[i] || i + A[i] &gt;= M - 1) {\r\n            tr = M - 1;\r\n          } else {\r\n            tr = i + A[i] + 1;\r\n          }\r\n          return tr;\r\n      }\r\n      ","title":"NumberOfDiscIntersections overflow in codility test","body":"<p>My todays solution. O(N) time complexity. Simple assumption that number of availble pairs in next point of the table is difference between total open circle to that moment (circle) and circles that have been processed before. Maybe it's to simple :)</p>\n\n<pre><code>  public int solution04(int[] A) { \n    final int N = A.length;\n    final int M = N + 2;\n    int[] left  = new int[M]; // values of nb of \"left\"  edges of the circles in that point\n    int[] sleft = new int[M]; // prefix sum of left[]\n    int il, ir;               // index of the \"left\" and of the \"right\" edge of the circle\n\n    for (int i = 0; i &lt; N; i++) { // counting left edges\n      il = tl(i, A);\n      left[il]++;\n    }\n\n    sleft[0] = left[0];\n    for (int i = 1; i &lt; M; i++) {// counting prefix sums for future use\n      sleft[i]=sleft[i-1]+left[i];\n    }\n    int o, pairs, total_p = 0, total_used=0;\n    for (int i = 0; i &lt; N; i++) { // counting pairs\n      ir = tr(i, A, M);\n      o  = sleft[ir];                // nb of open till right edge\n      pairs  = o -1 - total_used;\n      total_used++;\n      total_p += pairs;\n    }\n    if(total_p &gt; 10000000){\n      total_p = -1;\n    }\n    return total_p;\n  }\n\n  int tl(int i, int[] A){\n    int tl = i - A[i]; // index of \"begin\" of the circle\n      if (tl &lt; 0) {\n        tl = 0;\n      } else {\n        tl = i - A[i] + 1;\n      }\n    return tl;\n  }\n  int tr(int i, int[] A, int M){\n    int tr;           // index of \"end\" of the circle\n      if (Integer.MAX_VALUE - i &lt; A[i] || i + A[i] &gt;= M - 1) {\n        tr = M - 1;\n      } else {\n        tr = i + A[i] + 1;\n      }\n      return tr;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5826952,"reputation":966,"user_id":4592959,"accept_rate":50,"display_name":"Noel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551888008,"creation_date":1551888008,"answer_id":55027319,"question_id":30497470,"body_markdown":"My take on this, O(n):\r\n\r\n    public int solution(int[] A) {\r\n        \r\n        int[] startPoints = new int[A.length];\r\n        int[] endPoints = new int[A.length];\r\n        int tempPoint;\r\n        \r\n        int currOpenCircles = 0;\r\n        long pairs = 0;\r\n        \r\n        //sum of starting and end points - how many circles open and close at each index?\r\n        for(int i = 0; i &lt; A.length; i++){\r\n            tempPoint = i - A[i];\r\n            startPoints[tempPoint &lt; 0 ? 0 : tempPoint]++;\r\n            tempPoint = i + A[i];\r\n            if(A[i] &lt; A.length &amp;&amp; tempPoint &lt; A.length) //first prevents int overflow, second chooses correct point\r\n                endPoints[tempPoint]++;\r\n        }\r\n        \r\n        //find all pairs of new circles (combinations), then make pairs with exiting circles (multiplication)\r\n        for(int i = 0; i &lt; A.length; i++){\r\n            \r\n            if(startPoints[i] &gt;= 2)\r\n                pairs += (startPoints[i] * (startPoints[i] - 1)) / 2;\r\n            \r\n            pairs += currOpenCircles * startPoints[i];\r\n            \r\n            currOpenCircles += startPoints[i];\r\n            currOpenCircles -= endPoints[i];\r\n            \r\n            if(pairs &gt; 10000000) \r\n                return -1;\r\n        }\r\n        \r\n        return (int) pairs;\r\n    }","title":"NumberOfDiscIntersections overflow in codility test","body":"<p>My take on this, O(n):</p>\n\n<pre><code>public int solution(int[] A) {\n\n    int[] startPoints = new int[A.length];\n    int[] endPoints = new int[A.length];\n    int tempPoint;\n\n    int currOpenCircles = 0;\n    long pairs = 0;\n\n    //sum of starting and end points - how many circles open and close at each index?\n    for(int i = 0; i &lt; A.length; i++){\n        tempPoint = i - A[i];\n        startPoints[tempPoint &lt; 0 ? 0 : tempPoint]++;\n        tempPoint = i + A[i];\n        if(A[i] &lt; A.length &amp;&amp; tempPoint &lt; A.length) //first prevents int overflow, second chooses correct point\n            endPoints[tempPoint]++;\n    }\n\n    //find all pairs of new circles (combinations), then make pairs with exiting circles (multiplication)\n    for(int i = 0; i &lt; A.length; i++){\n\n        if(startPoints[i] &gt;= 2)\n            pairs += (startPoints[i] * (startPoints[i] - 1)) / 2;\n\n        pairs += currOpenCircles * startPoints[i];\n\n        currOpenCircles += startPoints[i];\n        currOpenCircles -= endPoints[i];\n\n        if(pairs &gt; 10000000) \n            return -1;\n    }\n\n    return (int) pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18941600,"reputation":1,"user_id":13821505,"display_name":"Kev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593223862,"creation_date":1593205718,"answer_id":62602853,"question_id":30497470,"body_markdown":"The explanation to Helsing&#39;s solution part:\r\n```\r\nif(startPoints[i] &gt;= 2) pairs += (startPoints[i] * (startPoints[i] - 1)) / 2; \r\n```\r\nis based on mathematical combinations formula: \r\n```\r\nCn,m = n! / ((n-m)!.m!\r\n```\r\nfor pairs, m=2 then: \r\n```\r\nCn,2 = n! / ((n-2)!.2\r\n```\r\nEqual to:\r\n```\r\nCn,2 = n.(n-1).(n-2)! / ((n-2)!.2\r\n```\r\nBy simplification:\r\n```\r\nCn,2 = n.(n-1) / 2\r\n```","title":"NumberOfDiscIntersections overflow in codility test","body":"<p>The explanation to Helsing's solution part:</p>\n<pre><code>if(startPoints[i] &gt;= 2) pairs += (startPoints[i] * (startPoints[i] - 1)) / 2; \n</code></pre>\n<p>is based on mathematical combinations formula:</p>\n<pre><code>Cn,m = n! / ((n-m)!.m!\n</code></pre>\n<p>for pairs, m=2 then:</p>\n<pre><code>Cn,2 = n! / ((n-2)!.2\n</code></pre>\n<p>Equal to:</p>\n<pre><code>Cn,2 = n.(n-1).(n-2)! / ((n-2)!.2\n</code></pre>\n<p>By simplification:</p>\n<pre><code>Cn,2 = n.(n-1) / 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10513148,"reputation":53,"user_id":7748148,"display_name":"Guillermo Abbona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593804493,"creation_date":1593804493,"answer_id":62721637,"question_id":30497470,"body_markdown":"Not a very good performance, but using streams.\r\n\r\n    List&lt;Long&gt; list = IntStream.range(0, A.length).mapToObj(i -&gt; Arrays.asList((long) i - A[i], (long) i + A[i]))\r\n                .sorted((o1, o2) -&gt; {\r\n                    int f = o1.get(0).compareTo(o2.get(0));\r\n                    return f == 0 ? o1.get(1).compareTo(o2.get(1)) : f;\r\n                })\r\n                .collect(ArrayList&lt;Long&gt;::new,\r\n                        (acc, val) -&gt; {\r\n                            if (acc.isEmpty()) {\r\n                                acc.add(0l);\r\n                                acc.add(val.get(1));\r\n                            } else {\r\n                                Iterator it = acc.iterator();\r\n                                it.next();\r\n                                while (it.hasNext()) {\r\n                                    long el = (long) it.next();\r\n                                    if (val.get(0) &lt;= el) {\r\n                                        long count = acc.get(0);\r\n                                        acc.set(0, ++count);\r\n                                    } else {\r\n                                        it.remove();\r\n                                    }\r\n                                }\r\n                                acc.add(val.get(1));\r\n                            }\r\n                        },\r\n                        ArrayList::addAll);\r\n        return (int) (list.isEmpty() ? 0 : list.get(0) &gt; 10000000 ? -1 : list.get(0));","title":"NumberOfDiscIntersections overflow in codility test","body":"<p>Not a very good performance, but using streams.</p>\n<pre><code>List&lt;Long&gt; list = IntStream.range(0, A.length).mapToObj(i -&gt; Arrays.asList((long) i - A[i], (long) i + A[i]))\n            .sorted((o1, o2) -&gt; {\n                int f = o1.get(0).compareTo(o2.get(0));\n                return f == 0 ? o1.get(1).compareTo(o2.get(1)) : f;\n            })\n            .collect(ArrayList&lt;Long&gt;::new,\n                    (acc, val) -&gt; {\n                        if (acc.isEmpty()) {\n                            acc.add(0l);\n                            acc.add(val.get(1));\n                        } else {\n                            Iterator it = acc.iterator();\n                            it.next();\n                            while (it.hasNext()) {\n                                long el = (long) it.next();\n                                if (val.get(0) &lt;= el) {\n                                    long count = acc.get(0);\n                                    acc.set(0, ++count);\n                                } else {\n                                    it.remove();\n                                }\n                            }\n                            acc.add(val.get(1));\n                        }\n                    },\n                    ArrayList::addAll);\n    return (int) (list.isEmpty() ? 0 : list.get(0) &gt; 10000000 ? -1 : list.get(0));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4472135,"reputation":804,"user_id":3638183,"accept_rate":83,"display_name":"Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644607887,"creation_date":1644607887,"answer_id":71085632,"question_id":30497470,"body_markdown":"This one in Python passed all &quot;Correctness tests&quot; and failed all &quot;Performance tests&quot; due to O(n&#178;), so I got 50% score. But it is very simple to understand. I just used the right radius (maximum) and checked if it was bigger or equal to the left radius (minimum) of the next circles. I also avoided to use sort and did not check twice the same circle. Later I will try to improve performance, but the problem here for me was the algorithm. I tried to find a very easy solution to help explain the concept. Maybe this will help someone.\r\n\r\n    def solution(A):\r\n         n = len(A)\r\n         cnt = 0\r\n\r\n         for j in range(1,n):\r\n             for i in range(n-j):\r\n                 if(i+A[i]&gt;=i+j-A[i+j]):\r\n                     cnt+=1\r\n    \r\n         if(cnt&gt;1e7):\r\n             return -1\r\n         return cnt","title":"NumberOfDiscIntersections overflow in codility test","body":"<p>This one in Python passed all &quot;Correctness tests&quot; and failed all &quot;Performance tests&quot; due to O(n), so I got 50% score. But it is very simple to understand. I just used the right radius (maximum) and checked if it was bigger or equal to the left radius (minimum) of the next circles. I also avoided to use sort and did not check twice the same circle. Later I will try to improve performance, but the problem here for me was the algorithm. I tried to find a very easy solution to help explain the concept. Maybe this will help someone.</p>\n<pre><code>def solution(A):\n     n = len(A)\n     cnt = 0\n\n     for j in range(1,n):\n         for i in range(n-j):\n             if(i+A[i]&gt;=i+j-A[i+j]):\n                 cnt+=1\n\n     if(cnt&gt;1e7):\n         return -1\n     return cnt\n</code></pre>\n"}],"owner":{"account_id":410405,"reputation":10757,"user_id":782220,"accept_rate":83,"display_name":"user782220"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4412,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30498447,"answer_count":6,"score":8,"last_activity_date":1644607887,"creation_date":1432788560,"question_id":30497470,"body_markdown":"In the codility test [NumberOfDiscIntersections][1] I am getting perf 100% and correctness 87% with the one test failing being\r\n\r\n    overflow\r\n    arithmetic overflow tests\r\n    got -1 expected 2\r\n\r\nI can&#39;t see what is causing that given that I am using long which is 64-bit. And even if I can get it to 100% perf 100% correctness I am wondering if there is a better way to do this that is not as verbose in Java.\r\n\r\nedit: figured out a much better way to do with with two arrays rather than a pair class\r\n\r\n    // you can also use imports, for example:\r\n     import java.util.*;\r\n    \r\n    // you can use System.out.println for debugging purposes, e.g.\r\n    // System.out.println(&quot;this is a debug message&quot;);\r\n    \r\n    class Solution {\r\n        public int solution(int[] A) {\r\n            int j = 0;\r\n            Pair[] arr = new Pair[A.length * 2];\r\n            for (int i = 0; i &lt; A.length; i++) {\r\n                Pair s = new Pair(i - A[i], true);\r\n                arr[j] = s;\r\n                j++;\r\n                Pair e = new Pair(i + A[i], false);\r\n                arr[j] = e;\r\n                j++;\r\n            }\r\n            Arrays.sort(arr, new Pair(0, true));\r\n            \r\n            long numIntersect = 0;\r\n            long currentCount = 0;\r\n            for (Pair p: arr) {\r\n                if (p.start) {\r\n                    numIntersect += currentCount;\r\n                    if (numIntersect &gt; 10000000) {\r\n                        return -1;\r\n                    }\r\n                    currentCount++;\r\n                } else {\r\n                    currentCount--;\r\n                }\r\n            }\r\n            \r\n            return (int) numIntersect;\r\n        }\r\n        \r\n        static private class Pair implements Comparator&lt;Pair&gt; {\r\n            private long x;\r\n            private boolean start;\r\n            public Pair(long x, boolean start) {\r\n                this.x = x;\r\n                this.start = start;\r\n            }\r\n    \r\n            public int compare(Pair p1, Pair p2) {\r\n                if (p1.x &lt; p2.x) {\r\n                    return -1;\r\n                } else if (p1.x &gt; p2.x) {\r\n                    return 1;\r\n                } else {\r\n                    if (p1.start &amp;&amp; p2.start == false) {\r\n                        return -1;\r\n                    } else if (p1.start == false &amp;&amp; p2.start) {\r\n                        return 1;\r\n                    } else {\r\n                        return 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://codility.com/programmers/lessons/4","title":"NumberOfDiscIntersections overflow in codility test","body":"<p>In the codility test <a href=\"https://codility.com/programmers/lessons/4\" rel=\"noreferrer\">NumberOfDiscIntersections</a> I am getting perf 100% and correctness 87% with the one test failing being</p>\n\n<pre><code>overflow\narithmetic overflow tests\ngot -1 expected 2\n</code></pre>\n\n<p>I can't see what is causing that given that I am using long which is 64-bit. And even if I can get it to 100% perf 100% correctness I am wondering if there is a better way to do this that is not as verbose in Java.</p>\n\n<p>edit: figured out a much better way to do with with two arrays rather than a pair class</p>\n\n<pre><code>// you can also use imports, for example:\n import java.util.*;\n\n// you can use System.out.println for debugging purposes, e.g.\n// System.out.println(\"this is a debug message\");\n\nclass Solution {\n    public int solution(int[] A) {\n        int j = 0;\n        Pair[] arr = new Pair[A.length * 2];\n        for (int i = 0; i &lt; A.length; i++) {\n            Pair s = new Pair(i - A[i], true);\n            arr[j] = s;\n            j++;\n            Pair e = new Pair(i + A[i], false);\n            arr[j] = e;\n            j++;\n        }\n        Arrays.sort(arr, new Pair(0, true));\n\n        long numIntersect = 0;\n        long currentCount = 0;\n        for (Pair p: arr) {\n            if (p.start) {\n                numIntersect += currentCount;\n                if (numIntersect &gt; 10000000) {\n                    return -1;\n                }\n                currentCount++;\n            } else {\n                currentCount--;\n            }\n        }\n\n        return (int) numIntersect;\n    }\n\n    static private class Pair implements Comparator&lt;Pair&gt; {\n        private long x;\n        private boolean start;\n        public Pair(long x, boolean start) {\n            this.x = x;\n            this.start = start;\n        }\n\n        public int compare(Pair p1, Pair p2) {\n            if (p1.x &lt; p2.x) {\n                return -1;\n            } else if (p1.x &gt; p2.x) {\n                return 1;\n            } else {\n                if (p1.start &amp;&amp; p2.start == false) {\n                    return -1;\n                } else if (p1.start == false &amp;&amp; p2.start) {\n                    return 1;\n                } else {\n                    return 0;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1644606829,"post_id":71085414,"comment_id":125660155,"body_markdown":"Please tell us the details of your code and your problem.  Your question is missing information.","body":"Please tell us the details of your code and your problem.  Your question is missing information."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1644606896,"post_id":71085414,"comment_id":125660174,"body_markdown":"This, `f.setLayout(null);` is very very bad. Get rid of it and learn to use the layout managers. That is your problem, you&#39;re ignoring the placement and positioning of components and compounding it with null l ayouts.","body":"This, <code>f.setLayout(null);</code> is very very bad. Get rid of it and learn to use the layout managers. That is your problem, you&#39;re ignoring the placement and positioning of components and compounding it with null l ayouts."},{"owner":{"account_id":23951166,"reputation":23,"user_id":17942727,"display_name":"FrederickAmpsUp"},"score":0,"creation_date":1644607776,"post_id":71085414,"comment_id":125660456,"body_markdown":"Thanks, using BoxLayout seems to fix the problem!","body":"Thanks, using BoxLayout seems to fix the problem!"}],"owner":{"account_id":23951166,"reputation":23,"user_id":17942727,"display_name":"FrederickAmpsUp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644606974,"answer_count":0,"score":0,"last_activity_date":1644606910,"creation_date":1644606568,"question_id":71085414,"body_markdown":"I am trying to make a simple program to learn about Java Swing. I want an Icon button and a label to show the latest ActionEvent. However, with this code:\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\nimport java.net.*;\r\npublic class MyProgram implements ActionListener {\r\n    JButton b1;\r\n    JFrame f;\r\n    JLabel ael;\r\n    int i = 1;\r\n    MyProgram() throws Exception {\r\n        f = new JFrame();\r\n        URL img = new URL(&quot;https://c.tenor.com/cSNnlTEM4rUAAAAM/booze-man.gif&quot;);\r\n        ImageIcon imgIcon = new ImageIcon(img);\r\n        b1 = new JButton(&quot;Click me or you&#39;ll be punched!&quot;, imgIcon);\r\n        b1.setHorizontalTextPosition(JButton.CENTER);\r\n        b1.setVerticalTextPosition(JButton.TOP);\r\n        b1.addActionListener(this);\r\n        b1.setActionCommand(&quot;Button click&quot;);\r\n        f.getContentPane().add(b1);\r\n        ael = new JLabel(&quot;Latest action event: NULL&quot;);\r\n        f.add(ael);\r\n        f.pack();\r\n        f.setLayout(null);\r\n        f.setVisible(true);\r\n    }\r\n    public static void main(String[] args) throws Exception {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    new MyProgram();\r\n                }catch(Exception ex){}\r\n            }\r\n        });\r\n    }\r\n    public void actionPerformed(ActionEvent ae) {\r\n        System.out.println(ae.getActionCommand());\r\n        b1.setText(&quot;Thanks!&quot;);\r\n        ael.setText(&quot;Latest action event: &quot; + ae.getActionCommand());\r\n        try {\r\n        b1.setIcon(new ImageIcon(new URL(&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Emoji_u1f44d.svg/120px-Emoji_u1f44d.svg.png&quot;)));\r\n        }catch(Exception ex){}\r\n        b1.setActionCommand(&quot;Button click after activation number: &quot; + i);\r\n        i++;\r\n    }\r\n}\r\n```\r\nIt only shows the `ael` label.\r\nI have tried packing the frame twice, but then it will only show the `b1` button.\r\nWhy is this and how can I fix it?","title":"Java Swing show icon button and JLabel","body":"<p>I am trying to make a simple program to learn about Java Swing. I want an Icon button and a label to show the latest ActionEvent. However, with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.event.*;\nimport java.net.*;\npublic class MyProgram implements ActionListener {\n    JButton b1;\n    JFrame f;\n    JLabel ael;\n    int i = 1;\n    MyProgram() throws Exception {\n        f = new JFrame();\n        URL img = new URL(&quot;https://c.tenor.com/cSNnlTEM4rUAAAAM/booze-man.gif&quot;);\n        ImageIcon imgIcon = new ImageIcon(img);\n        b1 = new JButton(&quot;Click me or you'll be punched!&quot;, imgIcon);\n        b1.setHorizontalTextPosition(JButton.CENTER);\n        b1.setVerticalTextPosition(JButton.TOP);\n        b1.addActionListener(this);\n        b1.setActionCommand(&quot;Button click&quot;);\n        f.getContentPane().add(b1);\n        ael = new JLabel(&quot;Latest action event: NULL&quot;);\n        f.add(ael);\n        f.pack();\n        f.setLayout(null);\n        f.setVisible(true);\n    }\n    public static void main(String[] args) throws Exception {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    new MyProgram();\n                }catch(Exception ex){}\n            }\n        });\n    }\n    public void actionPerformed(ActionEvent ae) {\n        System.out.println(ae.getActionCommand());\n        b1.setText(&quot;Thanks!&quot;);\n        ael.setText(&quot;Latest action event: &quot; + ae.getActionCommand());\n        try {\n        b1.setIcon(new ImageIcon(new URL(&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Emoji_u1f44d.svg/120px-Emoji_u1f44d.svg.png&quot;)));\n        }catch(Exception ex){}\n        b1.setActionCommand(&quot;Button click after activation number: &quot; + i);\n        i++;\n    }\n}\n</code></pre>\n<p>It only shows the <code>ael</code> label.\nI have tried packing the frame twice, but then it will only show the <code>b1</code> button.\nWhy is this and how can I fix it?</p>\n"},{"tags":["java","spring","validation"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644606044,"creation_date":1644605631,"answer_id":71085222,"question_id":71082303,"body_markdown":"A naive solution is to change the regex to match several alternatives:\r\n\r\n```\r\n@Pattern(regexp = &quot;ipV4|ipV6&quot;)\r\nString ipAddress;\r\n```","title":"How can I use the Spring @Pattern annotation to force the string to comply to one of the regexes, but not all at the same time?","body":"<p>A naive solution is to change the regex to match several alternatives:</p>\n<pre><code>@Pattern(regexp = &quot;ipV4|ipV6&quot;)\nString ipAddress;\n</code></pre>\n"}],"owner":{"account_id":23823901,"reputation":3,"user_id":17831233,"display_name":"Hallvard Barra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644606044,"creation_date":1644592112,"question_id":71082303,"body_markdown":"I don&#39;t want to have several regexes that all have to be fulfilled. Rather, I would like that only one of the regexes provided are valid, not the others. An example could be that I want a string to fulfill the demands for either an IP on V4 format or V6 format, but not both at the same time.\r\n\r\n```\r\n@Pattern(regexp = ipV4)\r\n@Pattern(regexp = ipV6)\r\nString ipAddress; \r\n```","title":"How can I use the Spring @Pattern annotation to force the string to comply to one of the regexes, but not all at the same time?","body":"<p>I don't want to have several regexes that all have to be fulfilled. Rather, I would like that only one of the regexes provided are valid, not the others. An example could be that I want a string to fulfill the demands for either an IP on V4 format or V6 format, but not both at the same time.</p>\n<pre><code>@Pattern(regexp = ipV4)\n@Pattern(regexp = ipV6)\nString ipAddress; \n</code></pre>\n"},{"tags":["java","mysql","spring"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":1,"creation_date":1644604085,"post_id":71084658,"comment_id":125659210,"body_markdown":"Hi @AmohPrince \nPlease have a look of this link\nhttps://stackoverflow.com/questions/21113154/spring-boot-ddl-auto-generator\nhttps://stackoverflow.com/questions/221379/hibernate-hbm2ddl-auto-update-in-production","body":"Hi @AmohPrince  Please have a look of this link <a href=\"https://stackoverflow.com/questions/21113154/spring-boot-ddl-auto-generator\" title=\"spring boot ddl auto generator\">stackoverflow.com/questions/21113154/&hellip;</a> <a href=\"https://stackoverflow.com/questions/221379/hibernate-hbm2ddl-auto-update-in-production\" title=\"hibernate hbm2ddl auto update in production\">stackoverflow.com/questions/221379/&hellip;</a>"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1644604479,"post_id":71084658,"comment_id":125659341,"body_markdown":"Spring doesn&#39;t by itself. You are probably taking about one of the persistence solutions, like JPA (or JDCBTemplate, or other).","body":"Spring doesn&#39;t by itself. You are probably taking about one of the persistence solutions, like JPA (or JDCBTemplate, or other)."}],"answers":[{"tags":[],"owner":{"account_id":2747016,"reputation":467,"user_id":2367228,"accept_rate":22,"display_name":"Rafa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644605876,"creation_date":1644605554,"answer_id":71085203,"question_id":71084658,"body_markdown":"To achive this you dont have to do anything. Just inside the application.properties file add:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_name\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n\r\nThe rest is handled by JPA.\r\n\r\nSometimes we may need to run our own sql scripts on application&#39;s startup by using data.sql or schema.sql files. In this situation we have to disable Hibernate automatic schema creation by adding the following inside the application.properties file.\r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n\r\n\r\n","title":"How does spring create and update databases?","body":"<p>To achive this you dont have to do anything. Just inside the application.properties file add:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/db_name\nspring.datasource.username=root\nspring.datasource.password=password\n</code></pre>\n<p>The rest is handled by JPA.</p>\n<p>Sometimes we may need to run our own sql scripts on application's startup by using data.sql or schema.sql files. In this situation we have to disable Hibernate automatic schema creation by adding the following inside the application.properties file.</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n"}],"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71085203,"answer_count":1,"score":0,"last_activity_date":1644605876,"creation_date":1644602894,"question_id":71084658,"body_markdown":"I&#39;ve seen this line of code \r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n\r\nin multiple spring tutorials. My question is for example in a production scenario I want my app to create a database for the first time in the client machine then keep using the database and not keep recreating a new database each time it is run. How can I achieve this? and what does the above code really mean?\r\n\r\n","title":"How does spring create and update databases?","body":"<p>I've seen this line of code</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n<p>in multiple spring tutorials. My question is for example in a production scenario I want my app to create a database for the first time in the client machine then keep using the database and not keep recreating a new database each time it is run. How can I achieve this? and what does the above code really mean?</p>\n"},{"tags":["java","android","spinner","android-spinner"],"comments":[{"owner":{"account_id":11915782,"reputation":1135,"user_id":8719734,"display_name":"aryanknp"},"score":0,"creation_date":1596983452,"post_id":63327455,"comment_id":111980225,"body_markdown":"where is the spinner in your image","body":"where is the spinner in your image"},{"owner":{"account_id":19241022,"reputation":9,"user_id":14061024,"display_name":"Vaibhav Gupta"},"score":0,"creation_date":1596984342,"post_id":63327455,"comment_id":111980485,"body_markdown":"@aryanagarwal  The two boxes above the &#39;ADD ITEM&#39; button are the two spinners. The first one contains the item list with price tags, and the other one contains item quantity.","body":"@aryanagarwal  The two boxes above the &#39;ADD ITEM&#39; button are the two spinners. The first one contains the item list with price tags, and the other one contains item quantity."},{"owner":{"account_id":11915782,"reputation":1135,"user_id":8719734,"display_name":"aryanknp"},"score":1,"creation_date":1596984813,"post_id":63327455,"comment_id":111980658,"body_markdown":"I would be very happy if you first take an attempt at it and then ask , then it will be easy to review your code or embellish it","body":"I would be very happy if you first take an attempt at it and then ask , then it will be easy to review your code or embellish it"}],"answers":[{"tags":[],"owner":{"account_id":19232434,"reputation":31,"user_id":14054042,"display_name":"Pritish Deshpande"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596986277,"creation_date":1596986277,"answer_id":63328012,"question_id":63327455,"body_markdown":"You can do it this way,\r\nFirstly grab the values from both the spinners\r\n\r\n    //From spinner 1\r\n\tString s1_val = spinner1.getSelectedItemsAsString(); \r\n\t//From spinner 2\r\n\tString s2_val = spinner2.getSelectedItemsAsString(); \r\n\r\nConcat the values and set it to the text view.\r\n\r\n    //concat and set to textView\r\n\ttextView.setText(s1_val.concat(s2.val()));\r\n\r\nPerform this on the onClick of **Add Items** button.\r\n\r\n","title":"How do I add multiple values from a Spinner to a TextView in Android?","body":"<p>You can do it this way,\nFirstly grab the values from both the spinners</p>\n<pre><code>//From spinner 1\nString s1_val = spinner1.getSelectedItemsAsString(); \n//From spinner 2\nString s2_val = spinner2.getSelectedItemsAsString(); \n</code></pre>\n<p>Concat the values and set it to the text view.</p>\n<pre><code>//concat and set to textView\ntextView.setText(s1_val.concat(s2.val()));\n</code></pre>\n<p>Perform this on the onClick of <strong>Add Items</strong> button.</p>\n"},{"tags":[],"owner":{"account_id":17679173,"reputation":1273,"user_id":12833551,"display_name":"Pratik Fagadiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1596987434,"creation_date":1596987434,"answer_id":63328232,"question_id":63327455,"body_markdown":"Define  your string global\r\n\r\n    String priceTag,quantityTag;\r\n\r\nthen get value from spinner like this\r\n \r\n \r\n\r\n    yourSpinner1.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n    \r\n     @Override\r\n     public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\r\n     int position, long id) {\r\n     \r\n    priceTag= yourSpinner1.spinnerDropDownView.getSelectedItem().toString();\r\n     }\r\n    \r\n     @Override\r\n     public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n     // TODO Auto-generated method stub\r\n     \r\n     }\r\n     });\r\n\r\nsame as getting value from your second spinner\r\n\r\n    yourSpinner2.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n    \r\n     @Override\r\n     public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\r\n     int position, long id) {\r\n     \r\n    priceTag= yourSpinner1.spinnerDropDownView.getSelectedItem().toString();\r\n     }\r\n    \r\n     @Override\r\n     public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n     // TODO Auto-generated method stub\r\n     \r\n     }\r\n     });\r\n\r\nand show data on button click like this \r\n\r\n    mButton.setOnClickListener(new View.OnClickListener() { \r\n                @Override\r\n                public void onClick(View view) \r\n                { \r\n                    yourtextViewId.setText(priceTag &quot; - &quot; quantityTag);\r\n                } \r\n            }); \r\n","title":"How do I add multiple values from a Spinner to a TextView in Android?","body":"<p>Define  your string global</p>\n<pre><code>String priceTag,quantityTag;\n</code></pre>\n<p>then get value from spinner like this</p>\n<pre><code>yourSpinner1.setOnItemSelectedListener(new OnItemSelectedListener() {\n\n @Override\n public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\n int position, long id) {\n \npriceTag= yourSpinner1.spinnerDropDownView.getSelectedItem().toString();\n }\n\n @Override\n public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n // TODO Auto-generated method stub\n \n }\n });\n</code></pre>\n<p>same as getting value from your second spinner</p>\n<pre><code>yourSpinner2.setOnItemSelectedListener(new OnItemSelectedListener() {\n\n @Override\n public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\n int position, long id) {\n \npriceTag= yourSpinner1.spinnerDropDownView.getSelectedItem().toString();\n }\n\n @Override\n public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n // TODO Auto-generated method stub\n \n }\n });\n</code></pre>\n<p>and show data on button click like this</p>\n<pre><code>mButton.setOnClickListener(new View.OnClickListener() { \n            @Override\n            public void onClick(View view) \n            { \n                yourtextViewId.setText(priceTag &quot; - &quot; quantityTag);\n            } \n        }); \n</code></pre>\n"}],"owner":{"account_id":19241022,"reputation":9,"user_id":14061024,"display_name":"Vaibhav Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":945,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":63328232,"answer_count":2,"score":-1,"last_activity_date":1644605498,"creation_date":1596982987,"question_id":63327455,"body_markdown":"I am building a simple grocery ordering App with firebase, where I want two spinners and a button.\r\n\r\n - One Spinner for the item name and item price tag. (For example - &#39;Chips -5rs-&#39;)\r\n - Second spinner for the quantity. (for Example - &#39;5 packet&#39;)\r\n - A button for taking the values from the spinners and putting it to the TextView below. (One item after the other.)\r\n\r\nFor Example, after adding several items from the spinners, the textview below should look like this. -\r\n\r\n - Chips -5rs-       5 packet\r\n - Biscuits -20rs-   20 packet\r\n - Noodles -15rs-    2 packet\r\n\r\nand so on..\r\n\r\nHow do I actually implement it? and if anyone could help me with actual java codes, I would be very thankful. I&#39;ve also attached a picture below of how I am trying to Implement it. I am new to Android Development and I have keen interest in it.. any help would be deeply appreciated.. \r\n\r\n:) Thankyou .. \r\n\r\n [This is the Screenshot of what I am trying to approach.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NnKE4.png","title":"How do I add multiple values from a Spinner to a TextView in Android?","body":"<p>I am building a simple grocery ordering App with firebase, where I want two spinners and a button.</p>\n<ul>\n<li>One Spinner for the item name and item price tag. (For example - 'Chips -5rs-')</li>\n<li>Second spinner for the quantity. (for Example - '5 packet')</li>\n<li>A button for taking the values from the spinners and putting it to the TextView below. (One item after the other.)</li>\n</ul>\n<p>For Example, after adding several items from the spinners, the textview below should look like this. -</p>\n<ul>\n<li>Chips -5rs-       5 packet</li>\n<li>Biscuits -20rs-   20 packet</li>\n<li>Noodles -15rs-    2 packet</li>\n</ul>\n<p>and so on..</p>\n<p>How do I actually implement it? and if anyone could help me with actual java codes, I would be very thankful. I've also attached a picture below of how I am trying to Implement it. I am new to Android Development and I have keen interest in it.. any help would be deeply appreciated..</p>\n<p>:) Thankyou ..</p>\n<p><a href=\"https://i.stack.imgur.com/NnKE4.png\" rel=\"nofollow noreferrer\">This is the Screenshot of what I am trying to approach.</a></p>\n"},{"tags":["java","android","gradle","google-cloud-firestore"],"comments":[{"owner":{"account_id":5028906,"reputation":923,"user_id":4039784,"display_name":"Hayssam Soussi"},"score":0,"creation_date":1602787254,"post_id":64377782,"comment_id":113838055,"body_markdown":"can you post your app level build.gradle?","body":"can you post your app level build.gradle?"},{"owner":{"account_id":9591999,"reputation":1172,"user_id":10462531,"display_name":"Kes Walker"},"score":0,"creation_date":1602787319,"post_id":64377782,"comment_id":113838091,"body_markdown":"@HayssamSoussi sure, it&#39;s kinda big though","body":"@HayssamSoussi sure, it&#39;s kinda big though"},{"owner":{"account_id":5028906,"reputation":923,"user_id":4039784,"display_name":"Hayssam Soussi"},"score":0,"creation_date":1602787495,"post_id":64377782,"comment_id":113838166,"body_markdown":"just post the implementations","body":"just post the implementations"},{"owner":{"account_id":9591999,"reputation":1172,"user_id":10462531,"display_name":"Kes Walker"},"score":0,"creation_date":1602787962,"post_id":64377782,"comment_id":113838326,"body_markdown":"@HayssamSoussi posted","body":"@HayssamSoussi posted"},{"owner":{"account_id":9591999,"reputation":1172,"user_id":10462531,"display_name":"Kes Walker"},"score":0,"creation_date":1602789126,"post_id":64377782,"comment_id":113838793,"body_markdown":"okay, removing `implementation &#39;com.github.triplet.gradle:play-publisher:2.8.0&#39;` fixes the issue. But I don&#39;t want to remove this dependency :/","body":"okay, removing <code>implementation &#39;com.github.triplet.gradle:play-publisher:2.8.0&#39;</code> fixes the issue. But I don&#39;t want to remove this dependency :/"},{"owner":{"account_id":5028906,"reputation":923,"user_id":4039784,"display_name":"Hayssam Soussi"},"score":0,"creation_date":1602791259,"post_id":64377782,"comment_id":113839600,"body_markdown":"Try to keep it and change guava version to 28.0","body":"Try to keep it and change guava version to 28.0"}],"answers":[{"tags":[],"owner":{"account_id":13734147,"reputation":51,"user_id":9910943,"display_name":"R. Cozendey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644605289,"creation_date":1644605289,"answer_id":71085147,"question_id":64377782,"body_markdown":"If you replace \r\n\r\n    implementation &#39;com.google.guava:guava:29.0-android&#39;\r\n\r\n\r\nfor this\r\n\r\n    \r\n    implementation (&#39;com.google.guava:guava&#39;) {\r\n        version {\r\n            strictly &#39;29.0-android&#39;\r\n        }\r\n    }\r\n\r\nit should work.\r\n","title":"Android API 24 &lt; Crashes with java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher","body":"<p>If you replace</p>\n<pre><code>implementation 'com.google.guava:guava:29.0-android'\n</code></pre>\n<p>for this</p>\n<pre><code>implementation ('com.google.guava:guava') {\n    version {\n        strictly '29.0-android'\n    }\n}\n</code></pre>\n<p>it should work.</p>\n"}],"owner":{"account_id":9591999,"reputation":1172,"user_id":10462531,"display_name":"Kes Walker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1644605289,"creation_date":1602787027,"question_id":64377782,"body_markdown":"My app is crashing everytime it starts up with: `java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher`. This only happens on devices running below android API 24. I have tried amending the Gradle versions and plugins as well as including the `com.google.guava` dependency but it did not work. Here is the full stack trace:\r\n\r\n    java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher\r\n        at com.google.common.base.Splitter.on(Splitter.java:127)\r\n        at io.grpc.internal.GrpcUtil.&lt;clinit&gt;(GrpcUtil.java:197)\r\n        at io.grpc.internal.AbstractManagedChannelImplBuilder.&lt;clinit&gt;(AbstractManagedChannelImplBuilder.java:90)\r\n        at io.grpc.okhttp.OkHttpChannelProvider.builderForTarget(OkHttpChannelProvider.java:46)\r\n        at io.grpc.okhttp.OkHttpChannelProvider.builderForTarget(OkHttpChannelProvider.java:26)\r\n        at io.grpc.ManagedChannelBuilder.forTarget(ManagedChannelBuilder.java:76)\r\n        at com.google.firebase.firestore.remote.GrpcCallProvider.initChannel(GrpcCallProvider.java:113)\r\n        at com.google.firebase.firestore.remote.GrpcCallProvider.lambda$initChannelTask$6(GrpcCallProvider.java:256)\r\n        at com.google.firebase.firestore.remote.GrpcCallProvider$$Lambda$5.call(GrpcCallProvider.java)\r\n        at com.google.android.gms.tasks.zzy.run(com.google.android.gms:play-services-tasks@@17.1.0:2)\r\n        at com.google.firebase.firestore.util.ThrottledForwardingExecutor.lambda$execute$0(ThrottledForwardingExecutor.java:54)\r\n        at com.google.firebase.firestore.util.ThrottledForwardingExecutor$$Lambda$1.run(ThrottledForwardingExecutor.java)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n        at java.lang.Thread.run(Thread.java:818)\r\n\r\nI also get this exception constantly along with the above one:\r\n\r\n```\r\nW/System.err: io.reactivex.exceptions.UndeliverableException: java.lang.NoClassDefFoundError: io.grpc.okhttp.OkHttpChannelBuilder\r\n        at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\r\n        at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:69)\r\n        at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n        at java.lang.Thread.run(Thread.java:818)\r\n    Caused by: java.lang.NoClassDefFoundError: io.grpc.okhttp.OkHttpChannelBuilder\r\n```\r\n\r\nMy project level gradle file looks like this:\r\n\r\n    buildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n        classpath &#39;com.android.tools.build:gradle:4.0.2&#39;\r\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.3.0&quot;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.1.1&#39;\r\n        classpath &#39;com.google.firebase:perf-plugin:1.3.1&#39;  // Performance Monitoring plugin\r\n    }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n    }\r\n\r\nThis is my app level gradle file:\r\n\r\n\r\n```\r\nplugins {\r\n    id(&quot;com.github.triplet.play&quot;) version &quot;2.8.0&quot;\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\n\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    defaultConfig {\r\n        applicationId &quot;...&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 29\r\n        versionCode 48\r\n        versionName &quot;4.0.4&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    signingConfigs {\r\n        release {\r\n            ...\r\n        }\r\n    }\r\n    buildTypes {\r\n        release {\r\n            signingConfig signingConfigs.release\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        debug {\r\n            minifyEnabled false\r\n            shrinkResources false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;),\r\n                    &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    flavorDimensions &quot;version&quot;\r\n    productFlavors{\r\n        spanish{\r\n            dimension &quot;version&quot;\r\n            applicationId &quot;...&quot;\r\n            buildConfigField &#39;String&#39;, &#39;PRIMARY_COLOR&#39;, &#39;&quot;#ffc400&quot;&#39;\r\n            buildConfigField &#39;String&#39;, &#39;ACCENT_COLOR&#39;, &#39;&quot;#C60B1E&quot;&#39;\r\n            buildConfigField &#39;String&#39;, &#39;LANG_CODE&#39;, &#39;&quot;es&quot;&#39;\r\n        }\r\n        italian{\r\n            dimension &quot;version&quot;\r\n            applicationId &quot;...&quot;\r\n            buildConfigField &#39;String&#39;, &#39;PRIMARY_COLOR&#39;, &#39;&quot;#008C45&quot;&#39;\r\n            buildConfigField &#39;String&#39;, &#39;ACCENT_COLOR&#39;, &#39;&quot;#CD212A&quot;&#39;\r\n            buildConfigField &#39;String&#39;, &#39;LANG_CODE&#39;, &#39;&quot;it&quot;&#39;\r\n        }\r\n    }\r\n    packagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n    }\r\n}\r\n\r\nplay {\r\n    ...\r\n}\r\n\r\ndependencies {\r\n    //debugImplementation &#39;com.squareup.leakcanary:leakcanary-android:2.0-beta-5&#39;\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:17.4.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:21.7.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:17.1.1&#39;\r\n    implementation &#39;br.com.simplepass:loading-button-android:2.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-perf:19.0.8&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.4.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-functions:19.0.2&#39;\r\n    implementation &#39;com.google.android.play:core:1.8.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-config:19.2.0&#39;\r\n    implementation &#39;com.github.triplet.gradle:play-publisher:2.8.0&#39;\r\n    implementation &#39;com.google.guava:guava:29.0-android&#39;\r\n}\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\napply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n```\r\n\r\n\r\n\r\n","title":"Android API 24 &lt; Crashes with java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher","body":"<p>My app is crashing everytime it starts up with: <code>java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher</code>. This only happens on devices running below android API 24. I have tried amending the Gradle versions and plugins as well as including the <code>com.google.guava</code> dependency but it did not work. Here is the full stack trace:</p>\n<pre><code>java.lang.NoClassDefFoundError: com.google.common.base.CharMatcher\n    at com.google.common.base.Splitter.on(Splitter.java:127)\n    at io.grpc.internal.GrpcUtil.&lt;clinit&gt;(GrpcUtil.java:197)\n    at io.grpc.internal.AbstractManagedChannelImplBuilder.&lt;clinit&gt;(AbstractManagedChannelImplBuilder.java:90)\n    at io.grpc.okhttp.OkHttpChannelProvider.builderForTarget(OkHttpChannelProvider.java:46)\n    at io.grpc.okhttp.OkHttpChannelProvider.builderForTarget(OkHttpChannelProvider.java:26)\n    at io.grpc.ManagedChannelBuilder.forTarget(ManagedChannelBuilder.java:76)\n    at com.google.firebase.firestore.remote.GrpcCallProvider.initChannel(GrpcCallProvider.java:113)\n    at com.google.firebase.firestore.remote.GrpcCallProvider.lambda$initChannelTask$6(GrpcCallProvider.java:256)\n    at com.google.firebase.firestore.remote.GrpcCallProvider$$Lambda$5.call(GrpcCallProvider.java)\n    at com.google.android.gms.tasks.zzy.run(com.google.android.gms:play-services-tasks@@17.1.0:2)\n    at com.google.firebase.firestore.util.ThrottledForwardingExecutor.lambda$execute$0(ThrottledForwardingExecutor.java:54)\n    at com.google.firebase.firestore.util.ThrottledForwardingExecutor$$Lambda$1.run(ThrottledForwardingExecutor.java)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n    at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n<p>I also get this exception constantly along with the above one:</p>\n<pre><code>W/System.err: io.reactivex.exceptions.UndeliverableException: java.lang.NoClassDefFoundError: io.grpc.okhttp.OkHttpChannelBuilder\n        at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\n        at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:69)\n        at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n    Caused by: java.lang.NoClassDefFoundError: io.grpc.okhttp.OkHttpChannelBuilder\n</code></pre>\n<p>My project level gradle file looks like this:</p>\n<pre><code>buildscript {\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.google.gms:google-services:4.3.3'\n    classpath 'com.android.tools.build:gradle:4.0.2'\n    classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.3.0&quot;\n    classpath 'com.google.firebase:firebase-crashlytics-gradle:2.1.1'\n    classpath 'com.google.firebase:perf-plugin:1.3.1'  // Performance Monitoring plugin\n}\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n</code></pre>\n<p>This is my app level gradle file:</p>\n<pre><code>plugins {\n    id(&quot;com.github.triplet.play&quot;) version &quot;2.8.0&quot;\n}\n\napply plugin: 'com.android.application'\n\n\nandroid {\n    compileSdkVersion 29\n    defaultConfig {\n        applicationId &quot;...&quot;\n        minSdkVersion 21\n        targetSdkVersion 29\n        versionCode 48\n        versionName &quot;4.0.4&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    signingConfigs {\n        release {\n            ...\n        }\n    }\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            minifyEnabled false\n            shrinkResources false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'),\n                    'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    flavorDimensions &quot;version&quot;\n    productFlavors{\n        spanish{\n            dimension &quot;version&quot;\n            applicationId &quot;...&quot;\n            buildConfigField 'String', 'PRIMARY_COLOR', '&quot;#ffc400&quot;'\n            buildConfigField 'String', 'ACCENT_COLOR', '&quot;#C60B1E&quot;'\n            buildConfigField 'String', 'LANG_CODE', '&quot;es&quot;'\n        }\n        italian{\n            dimension &quot;version&quot;\n            applicationId &quot;...&quot;\n            buildConfigField 'String', 'PRIMARY_COLOR', '&quot;#008C45&quot;'\n            buildConfigField 'String', 'ACCENT_COLOR', '&quot;#CD212A&quot;'\n            buildConfigField 'String', 'LANG_CODE', '&quot;it&quot;'\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n    }\n}\n\nplay {\n    ...\n}\n\ndependencies {\n    //debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.0-beta-5'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'com.google.firebase:firebase-core:17.4.4'\n    implementation 'com.google.firebase:firebase-firestore:21.7.1'\n    implementation 'com.google.firebase:firebase-crashlytics:17.1.1'\n    implementation 'br.com.simplepass:loading-button-android:2.2.0'\n    implementation 'com.google.firebase:firebase-perf:19.0.8'\n    implementation 'com.google.firebase:firebase-analytics:17.4.4'\n    implementation 'com.google.firebase:firebase-functions:19.0.2'\n    implementation 'com.google.android.play:core:1.8.0'\n    implementation 'com.google.firebase:firebase-config:19.2.0'\n    implementation 'com.github.triplet.gradle:play-publisher:2.8.0'\n    implementation 'com.google.guava:guava:29.0-android'\n}\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\napply plugin: 'com.google.firebase.firebase-perf'\n</code></pre>\n"},{"tags":["java","code-coverage","squish"],"answers":[{"tags":[],"owner":{"account_id":5510841,"reputation":795,"user_id":4377157,"display_name":"Eugen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467026737,"creation_date":1467026737,"answer_id":38052718,"question_id":38009507,"body_markdown":"From what I know, other product, from Froglogic, Squish Coco does what you want.\r\nThe version you are using, doesn&#39;t.\r\n","title":"code coverage in squish for JAVA","body":"<p>From what I know, other product, from Froglogic, Squish Coco does what you want.\nThe version you are using, doesn't.</p>\n"},{"tags":[],"owner":{"account_id":12850897,"reputation":364,"user_id":9295846,"display_name":"Harri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517610202,"creation_date":1517610202,"answer_id":48591721,"question_id":38009507,"body_markdown":"When using Squish for Java code coverage can be measured with any 3rd party Java coverage tool. With JaCoCo for example. The tools will do their job without knowing about each other.\r\n\r\nIf you wrap your application in a shell script or batch file simply pass the  -javaagent parameters like described in the [agent setup instructions](http://www.eclemma.org/jacoco/trunk/doc/agent.html). After executing your tests via Squish you&#39;ll have your coverage data. Possibe output channels are the file system or a network socket.\r\n","title":"code coverage in squish for JAVA","body":"<p>When using Squish for Java code coverage can be measured with any 3rd party Java coverage tool. With JaCoCo for example. The tools will do their job without knowing about each other.</p>\n\n<p>If you wrap your application in a shell script or batch file simply pass the  -javaagent parameters like described in the <a href=\"http://www.eclemma.org/jacoco/trunk/doc/agent.html\" rel=\"nofollow noreferrer\">agent setup instructions</a>. After executing your tests via Squish you'll have your coverage data. Possibe output channels are the file system or a network socket.</p>\n"},{"tags":[],"owner":{"account_id":13240726,"reputation":31,"user_id":9561346,"display_name":"Kinith Hettiarachchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644604430,"creation_date":1644604430,"answer_id":71084963,"question_id":38009507,"body_markdown":"You may use JaCoco with Squish. \r\nSee Squish&#39;s JaCoCo article [here][1].\r\n\r\n\r\n  [1]: https://www.froglogic.com/blog/tip-of-the-week/integrating-java-code-coverage-tools-with-squish-tests/","title":"code coverage in squish for JAVA","body":"<p>You may use JaCoco with Squish.\nSee Squish's JaCoCo article <a href=\"https://www.froglogic.com/blog/tip-of-the-week/integrating-java-code-coverage-tools-with-squish-tests/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":8263331,"reputation":11,"user_id":6213877,"display_name":"amal s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1644604430,"creation_date":1466759132,"question_id":38009507,"body_markdown":"I am using Squish for JAVA. I was wondering whether is it possible to test the code coverage of the Application Under Test(AUT) using Squish(for JAVA). Any help would be much appreciated.\r\n\r\nBest regards,\r\nAmal\r\n\r\n","title":"code coverage in squish for JAVA","body":"<p>I am using Squish for JAVA. I was wondering whether is it possible to test the code coverage of the Application Under Test(AUT) using Squish(for JAVA). Any help would be much appreciated.</p>\n\n<p>Best regards,\nAmal</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1644604579,"post_id":71084904,"comment_id":125659368,"body_markdown":"Hi if this solves your question let me/us know and we can close this question: https://stackoverflow.com/questions/13729294/nosuchelementexception-with-java-util-scanner","body":"Hi if this solves your question let me/us know and we can close this question: <a href=\"https://stackoverflow.com/questions/13729294/nosuchelementexception-with-java-util-scanner\" title=\"nosuchelementexception with java util scanner\">stackoverflow.com/questions/13729294/&hellip;</a>"},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1644609301,"post_id":71084904,"comment_id":125660880,"body_markdown":"We didn&#39;t ask yet - what is your question, concretely?","body":"We didn&#39;t ask yet - what is your question, concretely?"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1644624691,"post_id":71084904,"comment_id":125664679,"body_markdown":"https://www.codechef.com/problems/STACKS this is the problem. You have to enter custom data when you press &quot;run&quot; on codechef (just copy the sample data in the problem description) otherwise the program is run with no data and fails at the first sc.nextInt().","body":"<a href=\"https://www.codechef.com/problems/STACKS\" rel=\"nofollow noreferrer\">codechef.com/problems/STACKS</a> this is the problem. You have to enter custom data when you press &quot;run&quot; on codechef (just copy the sample data in the problem description) otherwise the program is run with no data and fails at the first sc.nextInt()."}],"owner":{"account_id":16039346,"reputation":1,"user_id":18183328,"display_name":"hank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644750958,"answer_count":0,"score":0,"last_activity_date":1644604154,"creation_date":1644604154,"question_id":71084904,"body_markdown":"i am writing a code on stacks where i have used the scanner class but it is showing nosuchelementexception\r\n\r\nThis is the question:   \r\nAs every other little boy, Mike has a favorite toy to play with. Mike&#39;s favorite toy is a set of N disks. The boy likes to compose his disks in stacks, but there&#39;s one very important rule: the disks in a single stack must be ordered by their radiuses in a strictly increasing order such that the top-most disk will have the smallest radius.\r\n\r\nFor example, a stack of disks with radii (5, 2, 1) is valid, while a stack of disks with radii (3, 4, 1) is not.\r\n\r\nLittle Mike has recently come up with the following algorithm after the order of disks are given:\r\n\r\nFirst, Mike initiates an empty set of disk stacks.\r\nThen, Mike processes the disks in the chosen order using the following pattern:\r\nIf there is at least one stack such that Mike can put the current disk on the top of the stack without making it invalid, then he chooses the stack with the smallest top disk radius strictly greater than the radius of the current disk, and puts the current disk on top of that stack.\r\nOtherwise, Mike makes a new stack containing only the current disk.\r\nFor example, let&#39;s assume that the order of the disk radii is (3, 4, 5, 1, 1, 2). Here&#39;s how the set of the top stack disks will appear during the algorithm&#39;s run:\r\n\r\nIn the beginning of the algorithm, the set of disk stacks is empty. After processing the first disk, the set of top stack disks is {3}.\r\nWe cannot put the second disk on the only stack that we have after processing the first disk, so we make a new stack. After processing the second disk, the set of top stack disks is {3, 4}.\r\nWe cannot put the third disk on any of the available stacks, so we make a new stack. After processing the third disk, the set of top stack disks is {3, 4, 5}.\r\nThe fourth disk has radius 1, so it can be easily put on any of the available stacks. According to the algorithm, we choose the stack with the top disk radius equal to 3. After processing the fourth disk, the set of top stack disks is {1, 4, 5}.\r\nThe fifth disk has radius 1, so there are two stacks we can put it on. According to the algorithm, we choose the stack with the top disk radius equal to 4. After processing the fifth disk, the set of top stack disks is {1, 1, 5}.\r\nThe sixth disk has radius 2, so there is only one stack we can put it on. The final set of top stack disks is {1, 1, 2}.\r\nhere is the code..:\r\n```\r\nimport java.util.Scanner;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\nclass Codechef\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\t// your code goes here\r\n\t\tScanner sc = new Scanner(System.in);\r\n        int i,testcases,disks,currentdisk,j,stackarraytop=0,added;\r\n        stack s;\r\n        int[] num;\r\n        stack[] sh= new stack[10];\r\n        testcases=sc.nextInt();\r\n        while(testcases--&gt;0)\r\n        {\r\n            disks=sc.nextInt();\r\n            num = new int[disks];\r\n            for(i=0;i&lt;disks;i++)\r\n            {\r\n                num[i]=sc.nextInt();\r\n            }\r\n            //System.out.print(&quot;no. of disks:&quot;+disks+&quot; input array of disks:&quot;+num+&quot;//\\n&quot;);\r\n            s = new stack(disks);\r\n            for(j=0;j&lt;disks;j++)\r\n            {\r\n                added=0;\r\n                currentdisk=num[j];\r\n                //System.out.println(&quot;current disk:&quot;+currentdisk);\r\n                if(j==0)\r\n                {\r\n                    s.add(currentdisk);\r\n                    sh[stackarraytop++]=s;\r\n                    //sh[0].displaystack();\r\n                    //s.displaystack();\r\n                    //System.out.println(&quot;stacks in the array:&quot;+stackarraytop);\r\n                    continue;\r\n                }\r\n                for(i=0;i&lt;stackarraytop;i++)\r\n                {\r\n                   \r\n                    //System.out.println(&quot;///&quot;+i+&quot; length:&quot;+stackarraytop);\r\n                    if(task.insertcheck(sh[i], currentdisk))\r\n                        {\r\n                            //System.out.println(&quot;stack top:&quot;+sh[i].top);\r\n                            sh[i].add(currentdisk);added=1;//sh[i].displaystack();/\r\n                            break;\r\n                        }\r\n                }\r\n                if(added==0)\r\n                {\r\n                    //System.out.println(&quot;creating new array:&quot;+currentdisk);\r\n                    stack b= new stack(disks-j);\r\n                    b.initiate(disks-j);\r\n                    b.add(currentdisk);\r\n                    sh[stackarraytop++]=b;\r\n                    //sh[stackarraytop-1].displaystack();\r\n                }\r\n                //System.out.println(&quot;stacks in the array:&quot;+stackarraytop);\r\n                //task.stackarraytops(sh,stackarraytop);\r\n            }\r\n            task.stackarraytops(sh,stackarraytop);\r\n            stackarraytop=0;\r\n            s.reset();\r\n        }    \r\n    }\t//\r\n}\r\nclass task{\r\n    static Boolean insertcheck(stack stk,int n){\r\n        int t= stk.top;\r\n        if(n&gt;=stk.stck[t-1])\r\n        {\r\n            //System.out.println(&quot;FALSE &quot;+t+&quot; // &quot;+stk.stck[t-1]);\r\n            return false;\r\n        }\r\n        else return true;\r\n    }\r\n    //static void arraystackentry(stack s,stack[] a,int sat){\r\n      //  a[sat]=s;\r\n    //}\r\n    static void stackarraytops(stack[] s,int limit)\r\n    {\r\n        int i;\r\n        //System.out.print(&quot;stackarrays:&quot;+limit+&quot; //&quot;);\r\n        System.out.print(limit+&quot; &quot;);\r\n        for(i=0;i&lt;limit;i++)\r\n        {\r\n            System.out.print(s[i].stck[(s[i].top)-1]+&quot; &quot;);\r\n        }\r\n        System.out.print(&quot;\\n&quot;);\r\n    }\r\n}\r\nclass stack{\r\n    public int[] stck;\r\n    int elements=0;\r\n    stack(int n){\r\n        this.stck=new int[n];\r\n    }\r\n    int top = 0;\r\n    void initiate(int n)\r\n    {\r\n        int i;\r\n        for(i=0;i&lt;n;i++){\r\n            stck[i]=0;\r\n        }\r\n    }\r\n    void add(int n)\r\n    {\r\n        stck[top++]=n;\r\n        elements++;\r\n    }\r\n    int pop(int n)\r\n    {\r\n        top--;\r\n        return stck[top];\r\n    }\r\n    void displaystack()\r\n    {\r\n        for(int i=0;i&lt;elements;i++){\r\n            System.out.print(stck[i]+&quot; &quot;);\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n    void reset()\r\n    {\r\n        top=0;\r\n    }\r\n}\r\n```","title":"showing nosuchelementexception in java","body":"<p>i am writing a code on stacks where i have used the scanner class but it is showing nosuchelementexception</p>\n<p>This is the question:<br />\nAs every other little boy, Mike has a favorite toy to play with. Mike's favorite toy is a set of N disks. The boy likes to compose his disks in stacks, but there's one very important rule: the disks in a single stack must be ordered by their radiuses in a strictly increasing order such that the top-most disk will have the smallest radius.</p>\n<p>For example, a stack of disks with radii (5, 2, 1) is valid, while a stack of disks with radii (3, 4, 1) is not.</p>\n<p>Little Mike has recently come up with the following algorithm after the order of disks are given:</p>\n<p>First, Mike initiates an empty set of disk stacks.\nThen, Mike processes the disks in the chosen order using the following pattern:\nIf there is at least one stack such that Mike can put the current disk on the top of the stack without making it invalid, then he chooses the stack with the smallest top disk radius strictly greater than the radius of the current disk, and puts the current disk on top of that stack.\nOtherwise, Mike makes a new stack containing only the current disk.\nFor example, let's assume that the order of the disk radii is (3, 4, 5, 1, 1, 2). Here's how the set of the top stack disks will appear during the algorithm's run:</p>\n<p>In the beginning of the algorithm, the set of disk stacks is empty. After processing the first disk, the set of top stack disks is {3}.\nWe cannot put the second disk on the only stack that we have after processing the first disk, so we make a new stack. After processing the second disk, the set of top stack disks is {3, 4}.\nWe cannot put the third disk on any of the available stacks, so we make a new stack. After processing the third disk, the set of top stack disks is {3, 4, 5}.\nThe fourth disk has radius 1, so it can be easily put on any of the available stacks. According to the algorithm, we choose the stack with the top disk radius equal to 3. After processing the fourth disk, the set of top stack disks is {1, 4, 5}.\nThe fifth disk has radius 1, so there are two stacks we can put it on. According to the algorithm, we choose the stack with the top disk radius equal to 4. After processing the fifth disk, the set of top stack disks is {1, 1, 5}.\nThe sixth disk has radius 2, so there is only one stack we can put it on. The final set of top stack disks is {1, 1, 2}.\nhere is the code..:</p>\n<pre><code>import java.util.Scanner;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\nclass Codechef\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        // your code goes here\n        Scanner sc = new Scanner(System.in);\n        int i,testcases,disks,currentdisk,j,stackarraytop=0,added;\n        stack s;\n        int[] num;\n        stack[] sh= new stack[10];\n        testcases=sc.nextInt();\n        while(testcases--&gt;0)\n        {\n            disks=sc.nextInt();\n            num = new int[disks];\n            for(i=0;i&lt;disks;i++)\n            {\n                num[i]=sc.nextInt();\n            }\n            //System.out.print(&quot;no. of disks:&quot;+disks+&quot; input array of disks:&quot;+num+&quot;//\\n&quot;);\n            s = new stack(disks);\n            for(j=0;j&lt;disks;j++)\n            {\n                added=0;\n                currentdisk=num[j];\n                //System.out.println(&quot;current disk:&quot;+currentdisk);\n                if(j==0)\n                {\n                    s.add(currentdisk);\n                    sh[stackarraytop++]=s;\n                    //sh[0].displaystack();\n                    //s.displaystack();\n                    //System.out.println(&quot;stacks in the array:&quot;+stackarraytop);\n                    continue;\n                }\n                for(i=0;i&lt;stackarraytop;i++)\n                {\n                   \n                    //System.out.println(&quot;///&quot;+i+&quot; length:&quot;+stackarraytop);\n                    if(task.insertcheck(sh[i], currentdisk))\n                        {\n                            //System.out.println(&quot;stack top:&quot;+sh[i].top);\n                            sh[i].add(currentdisk);added=1;//sh[i].displaystack();/\n                            break;\n                        }\n                }\n                if(added==0)\n                {\n                    //System.out.println(&quot;creating new array:&quot;+currentdisk);\n                    stack b= new stack(disks-j);\n                    b.initiate(disks-j);\n                    b.add(currentdisk);\n                    sh[stackarraytop++]=b;\n                    //sh[stackarraytop-1].displaystack();\n                }\n                //System.out.println(&quot;stacks in the array:&quot;+stackarraytop);\n                //task.stackarraytops(sh,stackarraytop);\n            }\n            task.stackarraytops(sh,stackarraytop);\n            stackarraytop=0;\n            s.reset();\n        }    \n    }   //\n}\nclass task{\n    static Boolean insertcheck(stack stk,int n){\n        int t= stk.top;\n        if(n&gt;=stk.stck[t-1])\n        {\n            //System.out.println(&quot;FALSE &quot;+t+&quot; // &quot;+stk.stck[t-1]);\n            return false;\n        }\n        else return true;\n    }\n    //static void arraystackentry(stack s,stack[] a,int sat){\n      //  a[sat]=s;\n    //}\n    static void stackarraytops(stack[] s,int limit)\n    {\n        int i;\n        //System.out.print(&quot;stackarrays:&quot;+limit+&quot; //&quot;);\n        System.out.print(limit+&quot; &quot;);\n        for(i=0;i&lt;limit;i++)\n        {\n            System.out.print(s[i].stck[(s[i].top)-1]+&quot; &quot;);\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n}\nclass stack{\n    public int[] stck;\n    int elements=0;\n    stack(int n){\n        this.stck=new int[n];\n    }\n    int top = 0;\n    void initiate(int n)\n    {\n        int i;\n        for(i=0;i&lt;n;i++){\n            stck[i]=0;\n        }\n    }\n    void add(int n)\n    {\n        stck[top++]=n;\n        elements++;\n    }\n    int pop(int n)\n    {\n        top--;\n        return stck[top];\n    }\n    void displaystack()\n    {\n        for(int i=0;i&lt;elements;i++){\n            System.out.print(stck[i]+&quot; &quot;);\n        }\n        System.out.println(&quot;&quot;);\n    }\n    void reset()\n    {\n        top=0;\n    }\n}\n</code></pre>\n"},{"tags":["java","opencv","background-subtraction"],"comments":[{"owner":{"account_id":6467478,"reputation":41095,"user_id":5008845,"display_name":"Miki"},"score":0,"creation_date":1451316551,"post_id":34490062,"comment_id":56733852,"body_markdown":"The problem doesn&#39;t seem to be in the background subtraction part, but rather in the decoding part. Your JPEG images are corrupted (or, at least, OpenCV JPEG decoder can&#39;t decode them).","body":"The problem doesn&#39;t seem to be in the background subtraction part, but rather in the decoding part. Your JPEG images are corrupted (or, at least, OpenCV JPEG decoder can&#39;t decode them)."},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1451316798,"post_id":34490062,"comment_id":56733979,"body_markdown":"I also have the same idea as yours, in exception it says there found two extra bytes, now how to detect and delete them, or how to correctly decode the bytes to Mat object? Thanks","body":"I also have the same idea as yours, in exception it says there found two extra bytes, now how to detect and delete them, or how to correctly decode the bytes to Mat object? Thanks"},{"owner":{"account_id":6467478,"reputation":41095,"user_id":5008845,"display_name":"Miki"},"score":0,"creation_date":1451316973,"post_id":34490062,"comment_id":56734090,"body_markdown":"You&#39;re decoding correctly. The problem is in the stream. You should check why it&#39;s corrupted. Are you sure you wait to receive the whole image?","body":"You&#39;re decoding correctly. The problem is in the stream. You should check why it&#39;s corrupted. Are you sure you wait to receive the whole image?"},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1451317264,"post_id":34490062,"comment_id":56734237,"body_markdown":"I am getting the bytes via a Java wrapper to the IP cam .dll files, after when I connected to the camera then I use the function something like `getJPEG(byte[] bytes);`. then it should be OK, I tried very very much, but really did not find any good solution for this problem.","body":"I am getting the bytes via a Java wrapper to the IP cam .dll files, after when I connected to the camera then I use the function something like <code>getJPEG(byte[] bytes);</code>. then it should be OK, I tried very very much, but really did not find any good solution for this problem."},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1451318651,"post_id":34490062,"comment_id":56734974,"body_markdown":"And also how it works with the other functions although it is a corrupted image?","body":"And also how it works with the other functions although it is a corrupted image?"},{"owner":{"account_id":6467478,"reputation":41095,"user_id":5008845,"display_name":"Miki"},"score":0,"creation_date":1451320209,"post_id":34490062,"comment_id":56735796,"body_markdown":"That&#39;s actually wierd, but since I cannot reproduce this, I can&#39;t tell..","body":"That&#39;s actually wierd, but since I cannot reproduce this, I can&#39;t tell.."},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1451320459,"post_id":34490062,"comment_id":56735916,"body_markdown":"Thank you sir! I have solved one problem which says the corrupted image, I think that was an OpenCV warning. But now the second Exception still exist, which says: `OpenCV Error: Bad flag....Unrecognized or unsupported array type`, I think it is the real error.","body":"Thank you sir! I have solved one problem which says the corrupted image, I think that was an OpenCV warning. But now the second Exception still exist, which says: <code>OpenCV Error: Bad flag....Unrecognized or unsupported array type</code>, I think it is the real error."},{"owner":{"account_id":6467478,"reputation":41095,"user_id":5008845,"display_name":"Miki"},"score":0,"creation_date":1451320568,"post_id":34490062,"comment_id":56735967,"body_markdown":"Ok, that&#39;s much easier to correct. Please post the whole error","body":"Ok, that&#39;s much easier to correct. Please post the whole error"},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1451321283,"post_id":34490062,"comment_id":56736311,"body_markdown":"Thanks in advance if this problem corrected!! I edited the question, it was too long to put here.","body":"Thanks in advance if this problem corrected!! I edited the question, it was too long to put here."},{"owner":{"account_id":6467478,"reputation":41095,"user_id":5008845,"display_name":"Miki"},"score":0,"creation_date":1451321983,"post_id":34490062,"comment_id":56736649,"body_markdown":"That&#39;s not as I expected... The problem still seems not to be in the background subtraction part, but the way you create the matrices.","body":"That&#39;s not as I expected... The problem still seems not to be in the background subtraction part, but the way you create the matrices."},{"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1451353974,"post_id":34490062,"comment_id":56748714,"body_markdown":"You can check this question about the same problem, maybe more clear than this question. http://stackoverflow.com/questions/34368799/backgroundsubtractor-throws-unrecognized-or-unsupported-array-type-in-function","body":"You can check this question about the same problem, maybe more clear than this question. <a href=\"http://stackoverflow.com/questions/34368799/backgroundsubtractor-throws-unrecognized-or-unsupported-array-type-in-function\" title=\"backgroundsubtractor throws unrecognized or unsupported array type in function\">stackoverflow.com/questions/34368799/&hellip;</a>"}],"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644603979,"creation_date":1451291273,"question_id":34490062,"body_markdown":"I am trying to use `BackgroundSubtractor` class of OpenCV in Java, which two sub-classes `BackgroundSubtractorMOG2` and `BackgroundSubtractorKNN` and going subtract the background from a video stream frame, these frame are coming from Network IP camera in `bytes` in `JPEG` format, after that I covert the bytes to OpenCV `Mat` object in this way:\r\n\r\n    Mat mat = Imgcodecs.imdecode(new MatOfByte(data), Imgcodecs.CV_LOAD_IMAGE_UNCHANGED);\r\n\r\nand then pass it to `BackgroundSubtractor` apply method:\r\n\r\n    mog2.apply(mat, foregroundImg, -1); // tried 1, 0, 0.003 etc\r\n    // or\r\n    //knn.apply(mat, foregroundImg, -1); // tried 1, 0, 0.003 etc\r\nIt will throws Exception with the following message:\r\n\r\n    Corrupt JPEG data: 2 extraneous bytes before marker 0xd9\r\n    OpenCV Error: Bad flag (parameter or structure field) (Unrecognized or unsupported array type) in cvGetMat, file C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp, line 2494\r\n\r\nNow I don&#39;t know what can be the reason. Is it a bug with the `BackgroundSubtractor` or there is any wrong in code.\r\n\r\n\r\n----------\r\nFor ensuring that the converted Mat has no problem, I used some other OpenCV functions to test if says the same Error, but works will all of the other functions like:\r\n\r\nConvert to gray\r\n\r\n    Imgproc.cvtColor(mat, grayImg, Imgproc.COLOR_RGB2GRAY);\r\n\r\nDo threshold\r\n\r\n    Imgproc.threshold(grayImg, grayImg, 100, 255, Imgproc.THRESH_BINARY);\r\n\r\n**Note:** When I use webcam (integrated or USB) or reading frames from a video file, everything going well with same code.\r\n\r\n**Edited:** The whole error message:\r\n\r\n     OpenCV Error: Bad flag (parameter or structure field) (Unrecognized or unsupported array type) in cvGetMat, file C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp, line 2494\r\n    CvException [org.opencv.core.CvException: cv::Exception: C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp:2494: error: (-206) Unrecognized or unsupported array type in function cvGetMat\r\n    ]\r\n    \tat com.test.subtractor.VideoStream.start(VideoStream.java:107)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: CvException [org.opencv.core.CvException: cv::Exception: C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp:2494: error: (-206) Unrecognized or unsupported array type in function cvGetMat\r\n    ]","title":"Issue with OpenCV BackgroundSubtractor","body":"<p>I am trying to use <code>BackgroundSubtractor</code> class of OpenCV in Java, which two sub-classes <code>BackgroundSubtractorMOG2</code> and <code>BackgroundSubtractorKNN</code> and going subtract the background from a video stream frame, these frame are coming from Network IP camera in <code>bytes</code> in <code>JPEG</code> format, after that I covert the bytes to OpenCV <code>Mat</code> object in this way:</p>\n\n<pre><code>Mat mat = Imgcodecs.imdecode(new MatOfByte(data), Imgcodecs.CV_LOAD_IMAGE_UNCHANGED);\n</code></pre>\n\n<p>and then pass it to <code>BackgroundSubtractor</code> apply method:</p>\n\n<pre><code>mog2.apply(mat, foregroundImg, -1); // tried 1, 0, 0.003 etc\n// or\n//knn.apply(mat, foregroundImg, -1); // tried 1, 0, 0.003 etc\n</code></pre>\n\n<p>It will throws Exception with the following message:</p>\n\n<pre><code>Corrupt JPEG data: 2 extraneous bytes before marker 0xd9\nOpenCV Error: Bad flag (parameter or structure field) (Unrecognized or unsupported array type) in cvGetMat, file C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp, line 2494\n</code></pre>\n\n<p>Now I don't know what can be the reason. Is it a bug with the <code>BackgroundSubtractor</code> or there is any wrong in code.</p>\n\n<hr>\n\n<p>For ensuring that the converted Mat has no problem, I used some other OpenCV functions to test if says the same Error, but works will all of the other functions like:</p>\n\n<p>Convert to gray</p>\n\n<pre><code>Imgproc.cvtColor(mat, grayImg, Imgproc.COLOR_RGB2GRAY);\n</code></pre>\n\n<p>Do threshold</p>\n\n<pre><code>Imgproc.threshold(grayImg, grayImg, 100, 255, Imgproc.THRESH_BINARY);\n</code></pre>\n\n<p><strong>Note:</strong> When I use webcam (integrated or USB) or reading frames from a video file, everything going well with same code.</p>\n\n<p><strong>Edited:</strong> The whole error message:</p>\n\n<pre><code> OpenCV Error: Bad flag (parameter or structure field) (Unrecognized or unsupported array type) in cvGetMat, file C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp, line 2494\nCvException [org.opencv.core.CvException: cv::Exception: C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp:2494: error: (-206) Unrecognized or unsupported array type in function cvGetMat\n]\n    at com.test.subtractor.VideoStream.start(VideoStream.java:107)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: CvException [org.opencv.core.CvException: cv::Exception: C:\\builds\\master_PackSlaveAddon-win64-vc12-static\\opencv\\modules\\core\\src\\array.cpp:2494: error: (-206) Unrecognized or unsupported array type in function cvGetMat\n]\n</code></pre>\n"},{"tags":["java","json","spring-boot","arraylist"],"answers":[{"tags":[],"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"Hng Chu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589186461,"creation_date":1589186461,"answer_id":61725574,"question_id":61725506,"body_markdown":"You can achieve by adding your Topics to another class, E.g: TopicResponse. Refer this as your controller return type:\r\n\r\n        public class TopicResponse {\r\n             List&lt;Topic&gt; topics;\r\n            //and getter / setter of topics\r\n    }","title":"How to add name to List in jSON Array, posting response using springboot","body":"<p>You can achieve by adding your Topics to another class, E.g: TopicResponse. Refer this as your controller return type:</p>\n\n<pre><code>    public class TopicResponse {\n         List&lt;Topic&gt; topics;\n        //and getter / setter of topics\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589186770,"creation_date":1589186770,"answer_id":61725654,"question_id":61725506,"body_markdown":"This is not a valid json.\r\n```\r\n&quot;topics&quot;:[\r\n    {\r\n        &quot;id&quot;: &quot;Spring&quot;,\r\n        &quot;name&quot;: &quot;Spring FrameWork&quot;,\r\n        &quot;description&quot;: &quot;Spring Frame work descreption&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;java&quot;,\r\n        &quot;name&quot;: &quot;java FrameWork&quot;,\r\n        &quot;description&quot;: &quot;Java Frame work descreption&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;javascript&quot;,\r\n        &quot;name&quot;: &quot;javascript FrameWork&quot;,\r\n        &quot;description&quot;: &quot;java script Frame work descreption&quot;\r\n    }\r\n]\r\n```\r\nAs per [JSON Docs](https://www.json.org/json-en.html), json should start with `{` or `[`.\r\n\r\nCorrect json would be :\r\n```\r\n{\r\n  &quot;topics&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;Spring&quot;,\r\n      &quot;name&quot;: &quot;Spring FrameWork&quot;,\r\n      &quot;description&quot;: &quot;Spring Frame work descreption&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;java&quot;,\r\n      &quot;name&quot;: &quot;java FrameWork&quot;,\r\n      &quot;description&quot;: &quot;Java Frame work descreption&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;javascript&quot;,\r\n      &quot;name&quot;: &quot;javascript FrameWork&quot;,\r\n      &quot;description&quot;: &quot;java script Frame work descreption&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\nAnd to achieve this format in response:\r\n\r\n 1. Create a new model class\r\n```java\r\npublic class TopicsData {\r\n    List&lt;Topic&gt; topics;\r\n    // getters and setters\r\n}\r\n```\r\n2. Set topics list in `TopicsData` object\r\n3. Change `topicService` or controller code to return `TopicsData` object instead of `List&lt;Topic&gt;`.","title":"How to add name to List in jSON Array, posting response using springboot","body":"<p>This is not a valid json.</p>\n\n<pre><code>\"topics\":[\n    {\n        \"id\": \"Spring\",\n        \"name\": \"Spring FrameWork\",\n        \"description\": \"Spring Frame work descreption\"\n    },\n    {\n        \"id\": \"java\",\n        \"name\": \"java FrameWork\",\n        \"description\": \"Java Frame work descreption\"\n    },\n    {\n        \"id\": \"javascript\",\n        \"name\": \"javascript FrameWork\",\n        \"description\": \"java script Frame work descreption\"\n    }\n]\n</code></pre>\n\n<p>As per <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">JSON Docs</a>, json should start with <code>{</code> or <code>[</code>.</p>\n\n<p>Correct json would be :</p>\n\n<pre><code>{\n  \"topics\": [\n    {\n      \"id\": \"Spring\",\n      \"name\": \"Spring FrameWork\",\n      \"description\": \"Spring Frame work descreption\"\n    },\n    {\n      \"id\": \"java\",\n      \"name\": \"java FrameWork\",\n      \"description\": \"Java Frame work descreption\"\n    },\n    {\n      \"id\": \"javascript\",\n      \"name\": \"javascript FrameWork\",\n      \"description\": \"java script Frame work descreption\"\n    }\n  ]\n}\n</code></pre>\n\n<p>And to achieve this format in response:</p>\n\n<ol>\n<li>Create a new model class</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class TopicsData {\n    List&lt;Topic&gt; topics;\n    // getters and setters\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Set topics list in <code>TopicsData</code> object</li>\n<li>Change <code>topicService</code> or controller code to return <code>TopicsData</code> object instead of <code>List&lt;Topic&gt;</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644603455,"creation_date":1589188909,"answer_id":61726281,"question_id":61725506,"body_markdown":"Create a Map and return\r\n\r\n    @RequestMapping(&quot;/topics&quot;)\r\n    public Map&lt;String, List&lt;Topic&gt;&gt; getAllTopics() { \r\n       Map&lt;String, List&lt;Topic&gt;&gt; response = new HashMap&lt;String, List&lt;Topic&gt;&gt;();\r\n       response.put(&quot;topics&quot;, topicService.getAllTopics());\r\n       return response;\r\n    }\r\nIn Java 9+\r\n\r\n    @RequestMapping(&quot;/topics&quot;)\r\n    public Map&lt;String, List&lt;Topic&gt;&gt; getAllTopics() { \r\n       return Map.of(&quot;topics&quot;, topicService.getAllTopics());\r\n    }\r\n","title":"How to add name to List in jSON Array, posting response using springboot","body":"<p>Create a Map and return</p>\n<pre><code>@RequestMapping(&quot;/topics&quot;)\npublic Map&lt;String, List&lt;Topic&gt;&gt; getAllTopics() { \n   Map&lt;String, List&lt;Topic&gt;&gt; response = new HashMap&lt;String, List&lt;Topic&gt;&gt;();\n   response.put(&quot;topics&quot;, topicService.getAllTopics());\n   return response;\n}\n</code></pre>\n<p>In Java 9+</p>\n<pre><code>@RequestMapping(&quot;/topics&quot;)\npublic Map&lt;String, List&lt;Topic&gt;&gt; getAllTopics() { \n   return Map.of(&quot;topics&quot;, topicService.getAllTopics());\n}\n</code></pre>\n"}],"owner":{"account_id":18549810,"reputation":21,"user_id":13516288,"display_name":"Sasi Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61725654,"answer_count":3,"score":1,"last_activity_date":1644603455,"creation_date":1589186216,"question_id":61725506,"body_markdown":"i am build an json data using springBoot. I want data in another way\r\ni&#39;m getting this reponse\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;Spring&quot;,\r\n            &quot;name&quot;: &quot;Spring FrameWork&quot;,\r\n            &quot;description&quot;: &quot;Spring Frame work descreption&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;java FrameWork&quot;,\r\n            &quot;description&quot;: &quot;Java Frame work descreption&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;javascript&quot;,\r\n            &quot;name&quot;: &quot;javascript FrameWork&quot;,\r\n            &quot;description&quot;: &quot;java script Frame work descreption&quot;\r\n        }\r\n    ]\r\n\r\ni want reponse like this\r\n\r\n    &quot;topics&quot;:[\r\n        {\r\n            &quot;id&quot;: &quot;Spring&quot;,\r\n            &quot;name&quot;: &quot;Spring FrameWork&quot;,\r\n            &quot;description&quot;: &quot;Spring Frame work descreption&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;java FrameWork&quot;,\r\n            &quot;description&quot;: &quot;Java Frame work descreption&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;javascript&quot;,\r\n            &quot;name&quot;: &quot;javascript FrameWork&quot;,\r\n            &quot;description&quot;: &quot;java script Frame work descreption&quot;\r\n        }\r\n    ]\r\n\r\n\r\nmy spring boot code is:\r\n\r\n    @RequestMapping(&quot;/topics&quot;)\r\n    \tpublic List&lt;Topic&gt; getAllTopics() {\t\r\n    \t\treturn topicService.getAllTopics();\r\n    \t\t\r\n    \t}\r\nmy model of topic:-\r\n\r\n    public class Topic {\r\n    \r\n    \tprivate String id;\r\n    \tprivate String name;\r\n    \tprivate String description;\r\n    \t\r\n    \tpublic Topic() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic Topic(String id, String name, String description) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \t\r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nWhat i need to add in code so that JSON data should should contain the name of that List.\r\nThis can be done using JSON data object. But is there any other way?\r\nPlease answer my question\r\n\r\n","title":"How to add name to List in jSON Array, posting response using springboot","body":"<p>i am build an json data using springBoot. I want data in another way\ni'm getting this reponse</p>\n\n<pre><code>[\n    {\n        \"id\": \"Spring\",\n        \"name\": \"Spring FrameWork\",\n        \"description\": \"Spring Frame work descreption\"\n    },\n    {\n        \"id\": \"java\",\n        \"name\": \"java FrameWork\",\n        \"description\": \"Java Frame work descreption\"\n    },\n    {\n        \"id\": \"javascript\",\n        \"name\": \"javascript FrameWork\",\n        \"description\": \"java script Frame work descreption\"\n    }\n]\n</code></pre>\n\n<p>i want reponse like this</p>\n\n<pre><code>\"topics\":[\n    {\n        \"id\": \"Spring\",\n        \"name\": \"Spring FrameWork\",\n        \"description\": \"Spring Frame work descreption\"\n    },\n    {\n        \"id\": \"java\",\n        \"name\": \"java FrameWork\",\n        \"description\": \"Java Frame work descreption\"\n    },\n    {\n        \"id\": \"javascript\",\n        \"name\": \"javascript FrameWork\",\n        \"description\": \"java script Frame work descreption\"\n    }\n]\n</code></pre>\n\n<p>my spring boot code is:</p>\n\n<pre><code>@RequestMapping(\"/topics\")\n    public List&lt;Topic&gt; getAllTopics() { \n        return topicService.getAllTopics();\n\n    }\n</code></pre>\n\n<p>my model of topic:-</p>\n\n<pre><code>public class Topic {\n\n    private String id;\n    private String name;\n    private String description;\n\n    public Topic() {\n\n    }\n\n    public Topic(String id, String name, String description) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.description = description;\n    }\n\n    public String getId() {\n        return id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n}\n</code></pre>\n\n<p>What i need to add in code so that JSON data should should contain the name of that List.\nThis can be done using JSON data object. But is there any other way?\nPlease answer my question</p>\n"},{"tags":["java","junit","mockito","byte-buddy"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1513690125,"post_id":47878963,"comment_id":82742002,"body_markdown":"What type are you trying to instrument that fails? Could you add a javap print out? It seems like a compiler added an invalid parameter name and Byte Buddy reads those names using the reflection API what triggers the error.","body":"What type are you trying to instrument that fails? Could you add a javap print out? It seems like a compiler added an invalid parameter name and Byte Buddy reads those names using the reflection API what triggers the error."},{"owner":{"account_id":948386,"reputation":2575,"user_id":975123,"accept_rate":75,"display_name":"mekazu"},"score":1,"creation_date":1513727380,"post_id":47878963,"comment_id":82760558,"body_markdown":"It&#39;s just a regular class that I&#39;m trying to mock. I&#39;ll try to replicate it with something simple and update the question.","body":"It&#39;s just a regular class that I&#39;m trying to mock. I&#39;ll try to replicate it with something simple and update the question."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1634134966,"post_id":47878963,"comment_id":122945382,"body_markdown":"How did you resolve this issue?","body":"How did you resolve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":2793517,"reputation":3819,"user_id":2403253,"accept_rate":88,"display_name":"Justin Albano"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1526692717,"creation_date":1526692717,"answer_id":50420923,"question_id":47878963,"body_markdown":"Try using the newest version of ByteBuddy:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have tried this with Mockito Inline `2.15.0` and it has resolved the same issue with my application. It appears as though this is a known issue and has been resolved in the newest version of ByteBuddy.","title":"Mockito fails with inlined mocks enabled with Invalid paramter name exception","body":"<p>Try using the newest version of ByteBuddy:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n    &lt;version&gt;1.8.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I have tried this with Mockito Inline <code>2.15.0</code> and it has resolved the same issue with my application. It appears as though this is a known issue and has been resolved in the newest version of ByteBuddy.</p>\n"},{"tags":[],"owner":{"account_id":1231562,"reputation":3229,"user_id":1196031,"accept_rate":70,"display_name":"DroidT"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1554263477,"creation_date":1554263477,"answer_id":55486794,"question_id":47878963,"body_markdown":"I got around this by upgrading to the latest version of mockito.  Currently it is:\r\n\r\n    testImplementation &quot;org.mockito:mockito-core:2.25.1&quot;\r\n\r\nAfter that I had some build errors which was resolved by selecting \r\n\r\n    File-&gt;Invalidate Caches / Restart...","title":"Mockito fails with inlined mocks enabled with Invalid paramter name exception","body":"<p>I got around this by upgrading to the latest version of mockito.  Currently it is:</p>\n\n<pre><code>testImplementation \"org.mockito:mockito-core:2.25.1\"\n</code></pre>\n\n<p>After that I had some build errors which was resolved by selecting </p>\n\n<pre><code>File-&gt;Invalidate Caches / Restart...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8825972,"reputation":9,"user_id":6594211,"display_name":"Vaibhav Srivastava"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1586982171,"creation_date":1586982171,"answer_id":61237946,"question_id":47878963,"body_markdown":"for me adding \r\n\r\nspring-boot-starter-web \r\n\r\ndependency to my pom worked as the interface I was trying to mock was a part of the external jar that used feign client.","title":"Mockito fails with inlined mocks enabled with Invalid paramter name exception","body":"<p>for me adding </p>\n\n<p>spring-boot-starter-web </p>\n\n<p>dependency to my pom worked as the interface I was trying to mock was a part of the external jar that used feign client.</p>\n"},{"tags":[],"owner":{"account_id":10345653,"reputation":21,"user_id":7630690,"display_name":"SagarMane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610610477,"creation_date":1610609316,"answer_id":65714921,"question_id":47878963,"body_markdown":"Use below dependency in pox.xml file and update maven project\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n    &lt;version&gt;LATEST&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nRight click on `Project` -&gt; `click on maven` -&gt; `click on Update Project` -&gt; `force update snapshot`","title":"Mockito fails with inlined mocks enabled with Invalid paramter name exception","body":"<p>Use below dependency in pox.xml file and update maven project</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n    &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Right click on <code>Project</code> -&gt; <code>click on maven</code> -&gt; <code>click on Update Project</code> -&gt; <code>force update snapshot</code></p>\n"},{"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635442998,"creation_date":1632909134,"answer_id":69374097,"question_id":47878963,"body_markdown":"In my case I had a slightly different error, And changing JDK from 16 to 11 helped, not sure yet why it didn&#39;t work on 16\r\n\r\n```This problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\r\n - Compiled by older versions of scalac\r\n - Classes that are part of the Android distribution\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:280)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:213)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:152)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:365)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:174)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:376)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMockType(InlineDelegateByteBuddyMockMaker.java:391)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.doCreateMock(InlineDelegateByteBuddyMockMaker.java:351)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMock(InlineDelegateByteBuddyMockMaker.java:330)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:58)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:53)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:84)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1964)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:66)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:27)\r\n\tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:24)\r\n\tat org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:45)\r\n\tat org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:73)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:74)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:48)\r\n\tat org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:82)\r\n\tat org.mockito.internal.framework.DefaultMockitoSession.&lt;init&gt;(DefaultMockitoSession.java:43)\r\n\tat org.mockito.internal.session.DefaultMockitoSessionBuilder.startMocking(DefaultMockitoSessionBuilder.java:83)\r\n\t... 48 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 60\r\n\tat net.bytebuddy.jar.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n\tat net.bytebuddy.jar.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n\tat net.bytebuddy.jar.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n\tat net.bytebuddy.utility.OpenedClassReader.of(OpenedClassReader.java:86)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:3824)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2166)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:224)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:123)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3595)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:393)\r\n\tat java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\r\n\tat java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:565)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:168)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:276)\r\n\t... 72 more```\r\n\r\n","title":"Mockito fails with inlined mocks enabled with Invalid paramter name exception","body":"<p>In my case I had a slightly different error, And changing JDK from 16 to 11 helped, not sure yet why it didn't work on 16</p>\n<pre><code> - Compiled by older versions of scalac\n - Classes that are part of the Android distribution\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:280)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:213)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.lambda$mockClass$0(TypeCachingBytecodeGenerator.java:47)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:152)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:365)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:174)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:376)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:40)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMockType(InlineDelegateByteBuddyMockMaker.java:391)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.doCreateMock(InlineDelegateByteBuddyMockMaker.java:351)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.createMock(InlineDelegateByteBuddyMockMaker.java:330)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:58)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:53)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:84)\n    at org.mockito.Mockito.mock(Mockito.java:1964)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.processAnnotationForMock(MockAnnotationProcessor.java:66)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:27)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:24)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:45)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:73)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:74)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:48)\n    at org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:82)\n    at org.mockito.internal.framework.DefaultMockitoSession.&lt;init&gt;(DefaultMockitoSession.java:43)\n    at org.mockito.internal.session.DefaultMockitoSessionBuilder.startMocking(DefaultMockitoSessionBuilder.java:83)\n    ... 48 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 60\n    at net.bytebuddy.jar.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n    at net.bytebuddy.jar.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n    at net.bytebuddy.jar.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n    at net.bytebuddy.utility.OpenedClassReader.of(OpenedClassReader.java:86)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:3824)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2166)\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:224)\n    at net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:123)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3595)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:393)\n    at java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\n    at java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:565)\n    at java.instrument/sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n    at java.instrument/sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:168)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:276)\n    ... 72 more```\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635345269,"creation_date":1635345269,"answer_id":69740627,"question_id":47878963,"body_markdown":"In my case, I installed the latest Adopt OPENJDK and the problem resolved, (currently temurin-11.jdk.","title":"Mockito fails with inlined mocks enabled with Invalid paramter name exception","body":"<p>In my case, I installed the latest Adopt OPENJDK and the problem resolved, (currently temurin-11.jdk.</p>\n"},{"tags":[],"owner":{"account_id":931498,"reputation":31,"user_id":7703568,"display_name":"Yuko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644603170,"creation_date":1644603170,"answer_id":71084710,"question_id":47878963,"body_markdown":"In my case, it was because my enum class that I wanted to mock (not exactly me but...) had a constructor with parameters that was marked with `@org.springframework.lang.NonNull` and then it failed with ArrayIndexOutOfBoundsException in the byte-buddy. So removing that annotation fixed the issue... The End.","title":"Mockito fails with inlined mocks enabled with Invalid paramter name exception","body":"<p>In my case, it was because my enum class that I wanted to mock (not exactly me but...) had a constructor with parameters that was marked with <code>@org.springframework.lang.NonNull</code> and then it failed with ArrayIndexOutOfBoundsException in the byte-buddy. So removing that annotation fixed the issue... The End.</p>\n"}],"owner":{"account_id":948386,"reputation":2575,"user_id":975123,"accept_rate":75,"display_name":"mekazu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55544,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":7,"score":31,"last_activity_date":1644603170,"creation_date":1513648400,"question_id":47878963,"body_markdown":"I&#39;ve enabled [inlined mocks][1] so that I can mock final classes but now I get the following exception when running tests with Junit.\r\n\r\nWhen I run all the tests at once only two tests fail, but if I run tests individually then most of them fail.\r\n\r\nI&#39;m not using any scala or android classes (that I&#39;m aware of). I am using lombok but I tried removing lombok annotations any it didn&#39;t fix the problem.\r\n\r\nWhen removing mock-maker-inline the problem goes away, but I&#39;d rather keep it.\r\n\r\nHow should I address this problem?\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Mockito cannot mock this class: class com.example.MyClass.\r\n    \r\n    If you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n    \r\n    \r\n    Java               : 1.8\r\n    JVM vendor name    : Oracle Corporation\r\n    JVM vendor version : 25.112-b15\r\n    JVM name           : Java HotSpot(TM) 64-Bit Server VM\r\n    JVM version        : 1.8.0_112-b15\r\n    JVM info           : mixed mode\r\n    OS name            : Windows 10\r\n    OS version         : 10.0\r\n    \r\n    \r\n    You are seeing this disclaimer because Mockito is configured to create inlined mocks.\r\n    You can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\r\n    \r\n    Underlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface java.lang.AutoCloseable, class com.example.MyClass, interface java.io.Closeable, class java.lang.Object]\r\n    \tat org.mockito.internal.junit.JUnitRule$1.evaluate(JUnitRule.java:42)\r\n    \tat org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:539)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:761)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:461)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:207)\r\n    Caused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface java.lang.AutoCloseable, class com.example.MyClass, interface java.io.Closeable, class java.lang.Object]\r\n    \tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\r\n    \tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\r\n    \tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\r\n    \tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\r\n    \t... 18 more\r\n    Caused by: java.lang.IllegalStateException: \r\n    Byte Buddy could not instrument all classes within the mock&#39;s type hierarchy\r\n    \r\n    This problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\r\n     - Compiled by older versions of scalac\r\n     - Classes that are part of the Android distribution\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:120)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:97)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\r\n    \tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\r\n    \tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\r\n    \tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\r\n    \tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\r\n    \tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMockType(InlineByteBuddyMockMaker.java:200)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:181)\r\n    \tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\r\n    \tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:65)\r\n    \tat org.mockito.Mockito.mock(Mockito.java:1821)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:36)\r\n    \tat org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\r\n    \tat org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:38)\r\n    \tat org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:62)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:57)\r\n    \tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:41)\r\n    \tat org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:69)\r\n    \t... 18 more\r\n    Caused by: java.lang.IllegalStateException: Error invoking java.lang.reflect.Executable#getParameters\r\n    \tat net.bytebuddy.description.method.ParameterDescription$ForLoadedParameter$Dispatcher$ForJava8CapableVm.getParameter(ParameterDescription.java:387)\r\n    \tat net.bytebuddy.description.method.ParameterDescription$ForLoadedParameter$Dispatcher$ForJava8CapableVm.isNamePresent(ParameterDescription.java:355)\r\n    \tat net.bytebuddy.description.method.ParameterDescription$ForLoadedParameter.isNamed(ParameterDescription.java:227)\r\n    \tat net.bytebuddy.description.method.ParameterDescription$AbstractBase.asToken(ParameterDescription.java:147)\r\n    \tat net.bytebuddy.description.method.ParameterDescription$AbstractBase.asToken(ParameterDescription.java:107)\r\n    \tat net.bytebuddy.description.method.ParameterList$AbstractBase.asTokenList(ParameterList.java:80)\r\n    \tat net.bytebuddy.description.method.MethodDescription$AbstractBase.asToken(MethodDescription.java:693)\r\n    \tat net.bytebuddy.description.method.MethodDescription$AbstractBase.asToken(MethodDescription.java:334)\r\n    \tat net.bytebuddy.description.method.MethodList$AbstractBase.asTokenList(MethodList.java:53)\r\n    \tat net.bytebuddy.dynamic.scaffold.InstrumentedType$Factory$Default$1.represent(InstrumentedType.java:223)\r\n    \tat net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:698)\r\n    \tat net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:676)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:167)\r\n    \tat sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n    \tat sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\r\n    \tat sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n    \tat sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:117)\r\n    \t... 38 more\r\n    Caused by: java.lang.reflect.MalformedParametersException: Invalid parameter name &quot;&quot;\r\n    \tat java.lang.reflect.Executable.verifyParameters(Executable.java:386)\r\n    \tat java.lang.reflect.Executable.privateGetParameters(Executable.java:416)\r\n    \tat java.lang.reflect.Executable.getParameters(Executable.java:357)\r\n    \tat sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat net.bytebuddy.description.method.ParameterDescription$ForLoadedParameter$Dispatcher$ForJava8CapableVm.getParameter(ParameterDescription.java:383)\r\n    \t... 55 more\r\n\r\nUsing mockito-core 2.13.0 and byte-buddy 1.7.9.\r\n\r\n  [1]: https://static.javadoc.io/org.mockito/mockito-core/2.13.0/org/mockito/Mockito.html#39\r\n\r\n","title":"Mockito fails with inlined mocks enabled with Invalid paramter name exception","body":"<p>I've enabled <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.13.0/org/mockito/Mockito.html#39\" rel=\"noreferrer\">inlined mocks</a> so that I can mock final classes but now I get the following exception when running tests with Junit.</p>\n\n<p>When I run all the tests at once only two tests fail, but if I run tests individually then most of them fail.</p>\n\n<p>I'm not using any scala or android classes (that I'm aware of). I am using lombok but I tried removing lombok annotations any it didn't fix the problem.</p>\n\n<p>When removing mock-maker-inline the problem goes away, but I'd rather keep it.</p>\n\n<p>How should I address this problem?</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class com.example.MyClass.\n\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : Oracle Corporation\nJVM vendor version : 25.112-b15\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\nJVM version        : 1.8.0_112-b15\nJVM info           : mixed mode\nOS name            : Windows 10\nOS version         : 10.0\n\n\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\n\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface java.lang.AutoCloseable, class com.example.MyClass, interface java.io.Closeable, class java.lang.Object]\n    at org.mockito.internal.junit.JUnitRule$1.evaluate(JUnitRule.java:42)\n    at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:239)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:539)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:761)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:461)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:207)\nCaused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface java.lang.AutoCloseable, class com.example.MyClass, interface java.io.Closeable, class java.lang.Object]\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\n    ... 18 more\nCaused by: java.lang.IllegalStateException: \nByte Buddy could not instrument all classes within the mock's type hierarchy\n\nThis problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\n - Compiled by older versions of scalac\n - Classes that are part of the Android distribution\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:120)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:97)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMockType(InlineByteBuddyMockMaker.java:200)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:181)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:65)\n    at org.mockito.Mockito.mock(Mockito.java:1821)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:36)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.createMockFor(IndependentAnnotationEngine.java:38)\n    at org.mockito.internal.configuration.IndependentAnnotationEngine.process(IndependentAnnotationEngine.java:62)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:57)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:41)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:69)\n    ... 18 more\nCaused by: java.lang.IllegalStateException: Error invoking java.lang.reflect.Executable#getParameters\n    at net.bytebuddy.description.method.ParameterDescription$ForLoadedParameter$Dispatcher$ForJava8CapableVm.getParameter(ParameterDescription.java:387)\n    at net.bytebuddy.description.method.ParameterDescription$ForLoadedParameter$Dispatcher$ForJava8CapableVm.isNamePresent(ParameterDescription.java:355)\n    at net.bytebuddy.description.method.ParameterDescription$ForLoadedParameter.isNamed(ParameterDescription.java:227)\n    at net.bytebuddy.description.method.ParameterDescription$AbstractBase.asToken(ParameterDescription.java:147)\n    at net.bytebuddy.description.method.ParameterDescription$AbstractBase.asToken(ParameterDescription.java:107)\n    at net.bytebuddy.description.method.ParameterList$AbstractBase.asTokenList(ParameterList.java:80)\n    at net.bytebuddy.description.method.MethodDescription$AbstractBase.asToken(MethodDescription.java:693)\n    at net.bytebuddy.description.method.MethodDescription$AbstractBase.asToken(MethodDescription.java:334)\n    at net.bytebuddy.description.method.MethodList$AbstractBase.asTokenList(MethodList.java:53)\n    at net.bytebuddy.dynamic.scaffold.InstrumentedType$Factory$Default$1.represent(InstrumentedType.java:223)\n    at net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:698)\n    at net.bytebuddy.ByteBuddy.redefine(ByteBuddy.java:676)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:167)\n    at sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:428)\n    at sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\n    at sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\n    at org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:117)\n    ... 38 more\nCaused by: java.lang.reflect.MalformedParametersException: Invalid parameter name \"\"\n    at java.lang.reflect.Executable.verifyParameters(Executable.java:386)\n    at java.lang.reflect.Executable.privateGetParameters(Executable.java:416)\n    at java.lang.reflect.Executable.getParameters(Executable.java:357)\n    at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at net.bytebuddy.description.method.ParameterDescription$ForLoadedParameter$Dispatcher$ForJava8CapableVm.getParameter(ParameterDescription.java:383)\n    ... 55 more\n</code></pre>\n\n<p>Using mockito-core 2.13.0 and byte-buddy 1.7.9.</p>\n"},{"tags":["java","swing","keylistener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1639018950,"post_id":70284166,"comment_id":124243549,"body_markdown":"1) Creating a class with all static methods is poor design. 2) When a modal dialog is visible the code blocks until the dialog is closed, which means your `addKeyListener()` statement is not executed. 3) don&#39;t use &quot;==&quot; for String comparison. Instead use the `equals(...)` method. 4) Don&#39;t use a KeyListener. Instead you should use `Key Bindings`. Read the [Swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html) for Swing basics. There is a section on &quot;Key Bindings&quot;. Also, any of the examples will show you how to better structure your code so you are not using static methods.","body":"1) Creating a class with all static methods is poor design. 2) When a modal dialog is visible the code blocks until the dialog is closed, which means your <code>addKeyListener()</code> statement is not executed. 3) don&#39;t use &quot;==&quot; for String comparison. Instead use the <code>equals(...)</code> method. 4) Don&#39;t use a KeyListener. Instead you should use <code>Key Bindings</code>. Read the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutorial</a> for Swing basics. There is a section on &quot;Key Bindings&quot;. Also, any of the examples will show you how to better structure your code so you are not using static methods."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639018787,"creation_date":1639018787,"answer_id":70284214,"question_id":70284166,"body_markdown":"You&#39;re going to want to avoid `KeyListener`.  When ever you have another focusable component on the screen, it&#39;s not going to work.\r\n\r\nInstead, you&#39;ll want to look at [How to Use Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html).\r\n\r\n`choice == &quot;Yes&quot;` is not how you compare `String`s in Java, you&#39;ll want to use `&quot;Yes&quot;.equals(choice)` instead.\r\n\r\nI&#39;d also suggesting having a look at [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) as another means for flipping the UI ;)\r\n\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.SwingConstants;\r\n\r\n    public class ObamaSimulator {\r\n\r\n        public static void main(String[] args) {\r\n            JLabel label; // text in JOptionPane\r\n\r\n            label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;b style = &#39;font-size: 40px; color: red;&#39;&gt;WELCOME&lt;/b&gt;&lt;p style = &#39;width: 175px;&#39;&gt;&lt;br&gt; To Obama Simulator. In this game you are obama, there isn&#39;t really much else to say &lt;br&gt;(The story will tell you more)&lt;br&gt;[press OK to continue or X to quit]&quot;, SwingConstants.CENTER);\r\n            String choice = JText(&quot;Yes&quot;, null, label, &quot;Welcome!&quot;); // Runs JText with option 1, option 2, label, and title, and outputs with the option they chose\r\n\r\n            if (&quot;Yes&quot;.equals(choice)) {\r\n                game();\r\n            } else {\r\n                System.out.println(&quot;Baboon closed the window :(&quot;);\r\n\r\n                label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = &#39;width: 175px;&#39;&gt;Game Closed&quot;, SwingConstants.CENTER);\r\n                JText(&quot;OK&quot;, null, label, null);\r\n\r\n                System.exit(0); // Used to end the program, IDK why it dosn&#39;t end by it&#39;s self\r\n            }\r\n\r\n        }\r\n\r\n        public static String JText(String op1, String op2, JLabel label, String title) {\r\n            Object[] options; // Options in JOptionPane\r\n\r\n            JFrame frm = new JFrame(); // Frame used to make JOptionPane have icon\r\n            frm.setIconImage(new ImageIcon(&quot;Obama (1).gif&quot;).getImage()); // Sets icon of JOptionPane window\r\n\r\n            if (op1 == null) { // Checks if an option is missing\r\n                options = new Object[]{op2};\r\n            } else if (op2 == null) {\r\n                options = new Object[]{op1};\r\n            } else {\r\n                options = new Object[]{op1, op2};\r\n            }\r\n\r\n            if (title == null) { // Checks if title is missing\r\n                title = &quot;Obama Simulator&quot;;\r\n            }\r\n\r\n            JOptionPane jp = new JOptionPane(label, JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, options[0]); // Creates basic JOptionPane\r\n            JDialog dialog = jp.createDialog(frm, title); // Finishes by adding icon and title\r\n\r\n            dialog.pack();//setSize(350, 300); // Sets size\r\n            dialog.setLocationRelativeTo(null); // Centers the Window\r\n            dialog.setResizable(true); // Needed to make icon\r\n\r\n            InputMap im = jp.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n            ActionMap am = jp.getActionMap();\r\n\r\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;up&quot;);\r\n            am.put(&quot;up&quot;, new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.out.println(&quot;Up&quot;);\r\n                }\r\n            });\r\n            //\r\n            //dialog.addKeyListener(new KeyListener() {\r\n            //\r\n            //    @Override\r\n            //    public void keyTyped(KeyEvent e) {\r\n            //        // Nothing\r\n            //    }\r\n            //\r\n            //    @Override\r\n            //    public void keyPressed(KeyEvent e) {\r\n            //        // Nothing \r\n            //    }\r\n            //\r\n            //    @Override\r\n            //    public void keyReleased(KeyEvent e) {\r\n            //\r\n            //        if (e.getKeyCode() == KeyEvent.VK_UP) {\r\n            //            System.out.println(&quot;up&quot;);\r\n            //        }\r\n            //\r\n            //    }\r\n            //});\r\n\r\n            dialog.setVisible(true); // Sets JOptionPane visible\r\n\r\n            String choice = (String) jp.getValue(); // Sets Choice to variable\r\n\r\n            return choice; // Sends choice back to meathod\r\n        }\r\n\r\n        public static void game() {\r\n            JLabel label;\r\n            String choice;\r\n\r\n            System.out.println(&quot;Baboon picked yes&quot;);\r\n\r\n            label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = &#39;width: 175px; font-size: 10px;&#39;&gt;You are Obama, having a lovely day in Minecraft, feeding your dog. You need more quarts and Redstone blocks to build a lighthouse by the sea. While running to your portal room you find an untamed wolf, do you want to tame it?&quot;, SwingConstants.CENTER);\r\n            choice = JText(&quot;Tame&quot;, &quot;Dont tame&quot;, label, null);\r\n\r\n            if (&quot;Tame&quot;.equals(choice)) {\r\n                System.out.println(&quot;Baboon picked tame&quot;);\r\n\r\n                label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = &#39;width: 175px; font-size: 10px;&#39;&gt;You shove a bone deep into the mouth of the wolf. You tame it but it makes you feel horrible, maybe it will make you feel better if you dye the collar?&quot;, SwingConstants.CENTER);\r\n                choice = JText(&quot;Dye&quot;, &quot;Dont dye&quot;, label, null);\r\n\r\n                if (&quot;Dye&quot;.equals(choice)) {\r\n                    System.out.println(&quot;Baboon Dyed&quot;);\r\n                }\r\n\r\n            }\r\n\r\n            //  System.exit(0);\r\n        }\r\n    }\r\n","title":"Is there a way to add a keyListener to JDialog / JOptionPane?","body":"<p>You're going to want to avoid <code>KeyListener</code>.  When ever you have another focusable component on the screen, it's not going to work.</p>\n<p>Instead, you'll want to look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to Use Key Bindings</a>.</p>\n<p><code>choice == &quot;Yes&quot;</code> is not how you compare <code>String</code>s in Java, you'll want to use <code>&quot;Yes&quot;.equals(choice)</code> instead.</p>\n<p>I'd also suggesting having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a> as another means for flipping the UI ;)</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.ImageIcon;\nimport javax.swing.InputMap;\nimport javax.swing.JComponent;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.KeyStroke;\nimport javax.swing.SwingConstants;\n\npublic class ObamaSimulator {\n\n    public static void main(String[] args) {\n        JLabel label; // text in JOptionPane\n\n        label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;b style = 'font-size: 40px; color: red;'&gt;WELCOME&lt;/b&gt;&lt;p style = 'width: 175px;'&gt;&lt;br&gt; To Obama Simulator. In this game you are obama, there isn't really much else to say &lt;br&gt;(The story will tell you more)&lt;br&gt;[press OK to continue or X to quit]&quot;, SwingConstants.CENTER);\n        String choice = JText(&quot;Yes&quot;, null, label, &quot;Welcome!&quot;); // Runs JText with option 1, option 2, label, and title, and outputs with the option they chose\n\n        if (&quot;Yes&quot;.equals(choice)) {\n            game();\n        } else {\n            System.out.println(&quot;Baboon closed the window :(&quot;);\n\n            label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = 'width: 175px;'&gt;Game Closed&quot;, SwingConstants.CENTER);\n            JText(&quot;OK&quot;, null, label, null);\n\n            System.exit(0); // Used to end the program, IDK why it dosn't end by it's self\n        }\n\n    }\n\n    public static String JText(String op1, String op2, JLabel label, String title) {\n        Object[] options; // Options in JOptionPane\n\n        JFrame frm = new JFrame(); // Frame used to make JOptionPane have icon\n        frm.setIconImage(new ImageIcon(&quot;Obama (1).gif&quot;).getImage()); // Sets icon of JOptionPane window\n\n        if (op1 == null) { // Checks if an option is missing\n            options = new Object[]{op2};\n        } else if (op2 == null) {\n            options = new Object[]{op1};\n        } else {\n            options = new Object[]{op1, op2};\n        }\n\n        if (title == null) { // Checks if title is missing\n            title = &quot;Obama Simulator&quot;;\n        }\n\n        JOptionPane jp = new JOptionPane(label, JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, options[0]); // Creates basic JOptionPane\n        JDialog dialog = jp.createDialog(frm, title); // Finishes by adding icon and title\n\n        dialog.pack();//setSize(350, 300); // Sets size\n        dialog.setLocationRelativeTo(null); // Centers the Window\n        dialog.setResizable(true); // Needed to make icon\n\n        InputMap im = jp.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\n        ActionMap am = jp.getActionMap();\n\n        im.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;up&quot;);\n        am.put(&quot;up&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                System.out.println(&quot;Up&quot;);\n            }\n        });\n        //\n        //dialog.addKeyListener(new KeyListener() {\n        //\n        //    @Override\n        //    public void keyTyped(KeyEvent e) {\n        //        // Nothing\n        //    }\n        //\n        //    @Override\n        //    public void keyPressed(KeyEvent e) {\n        //        // Nothing \n        //    }\n        //\n        //    @Override\n        //    public void keyReleased(KeyEvent e) {\n        //\n        //        if (e.getKeyCode() == KeyEvent.VK_UP) {\n        //            System.out.println(&quot;up&quot;);\n        //        }\n        //\n        //    }\n        //});\n\n        dialog.setVisible(true); // Sets JOptionPane visible\n\n        String choice = (String) jp.getValue(); // Sets Choice to variable\n\n        return choice; // Sends choice back to meathod\n    }\n\n    public static void game() {\n        JLabel label;\n        String choice;\n\n        System.out.println(&quot;Baboon picked yes&quot;);\n\n        label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = 'width: 175px; font-size: 10px;'&gt;You are Obama, having a lovely day in Minecraft, feeding your dog. You need more quarts and Redstone blocks to build a lighthouse by the sea. While running to your portal room you find an untamed wolf, do you want to tame it?&quot;, SwingConstants.CENTER);\n        choice = JText(&quot;Tame&quot;, &quot;Dont tame&quot;, label, null);\n\n        if (&quot;Tame&quot;.equals(choice)) {\n            System.out.println(&quot;Baboon picked tame&quot;);\n\n            label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = 'width: 175px; font-size: 10px;'&gt;You shove a bone deep into the mouth of the wolf. You tame it but it makes you feel horrible, maybe it will make you feel better if you dye the collar?&quot;, SwingConstants.CENTER);\n            choice = JText(&quot;Dye&quot;, &quot;Dont dye&quot;, label, null);\n\n            if (&quot;Dye&quot;.equals(choice)) {\n                System.out.println(&quot;Baboon Dyed&quot;);\n            }\n\n        }\n\n        //  System.exit(0);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23531121,"reputation":3,"user_id":17576745,"display_name":"Cappytan91"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70284214,"answer_count":1,"score":0,"last_activity_date":1644602561,"creation_date":1639018213,"question_id":70284166,"body_markdown":"I&#39;ve been trying to make a game for a school project and wanted to add some easter eggs, but in order to do so I need to detect key input. I&#39;ve been looking up how to do this for a while and couldn&#39;t find any ways that work.\r\n\r\nThe setup I&#39;m using is making a JOptionPane and creating it with a JDialog to make a title and add an icon to the window.\r\n\r\nHere&#39;s my code so far:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.KeyAdapter;\r\n\r\npublic class ObamaSimulator {\r\n\r\n    public static void main(String[] args) {\r\n    \tJLabel label; // text in JOptionPane\r\n    \t\r\n    \tlabel = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;b style = &#39;font-size: 40px; color: red;&#39;&gt;WELCOME&lt;/b&gt;&lt;p style = &#39;width: 175px;&#39;&gt;&lt;br&gt; To Obama Simulator. In this game you are obama, there isn&#39;t really much else to say &lt;br&gt;(The story will tell you more)&lt;br&gt;[press OK to continue or X to quit]&quot;, SwingConstants.CENTER);\r\n\t\tString choice = JText(&quot;Yes&quot;, null, label, &quot;Welcome!&quot;); // Runs JText with option 1, option 2, label, and title, and outputs with the option they chose\r\n\t\t\r\n\t\tif(choice == &quot;Yes&quot;){\r\n\t\t\tgame();\r\n\t\t}else{\r\n\t\t\tSystem.out.println(&quot;Baboon closed the window :(&quot;);\r\n\t\t\t\r\n\t\t\tlabel = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = &#39;width: 175px;&#39;&gt;Game Closed&quot;, SwingConstants.CENTER);\r\n\t\t\tJText(&quot;OK&quot;, null, label, null);\r\n\t\t\t\r\n\t\t\tSystem.exit(0); // Used to end the program, IDK why it dosn&#39;t end by it&#39;s self\r\n\t\t}\r\n    \t\r\n    }\r\n    \r\n    \r\n    \r\n    public static String JText(String op1, String op2, JLabel label, String title){\r\n    \tObject[] options; // Options in JOptionPane\r\n\t\t\r\n\t\tJFrame frm = new JFrame(); // Frame used to make JOptionPane have icon\r\n\t\tfrm.setIconImage(new ImageIcon(&quot;Obama (1).gif&quot;).getImage()); // Sets icon of JOptionPane window\r\n\t\t\r\n\t\tif(op1 == null){ // Checks if an option is missing\r\n\t\t\toptions = new Object[] {op2};\r\n\t\t}else if(op2 == null){\r\n\t\t\toptions = new Object[] {op1};\r\n\t\t}else{\r\n\t\t\toptions = new Object[] {op1, op2};\r\n\t\t}\r\n\t\t\r\n\t\tif(title == null){ // Checks if title is missing\r\n\t\t\ttitle = &quot;Obama Simulator&quot;;\r\n\t\t}\r\n\r\n\t\tJOptionPane jp = new JOptionPane(label , JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE,null, options, options[0]); // Creates basic JOptionPane\r\n\t\tJDialog dialog = jp.createDialog(frm, title); // Finishes by adding icon and title\r\n\t\t\r\n\t\tdialog.setSize(350, 300); // Sets size\r\n\t\tdialog.setLocationRelativeTo(null); // Centers the Window\r\n\t\tdialog.setResizable(true); // Needed to make icon\r\n\t\t\r\n\t\tdialog.addKeyListener(new KeyListener(){  \r\n  \r\n\t\t\t@Override\r\n\t\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\t\t\t// Nothing\r\n\t\t\t}\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\t// Nothing \r\n\t\t\t}\r\n\t\r\n\t\t\t@Override\r\n\t\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t\t\r\n\t\t\t\t\tif (e.getKeyCode() == KeyEvent.VK_UP){\r\n\t\t\t\t\t  System.out.println(&quot;up&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n  \r\n\t\tdialog.setVisible(true); // Sets JOptionPane visible\r\n\t\t\t\t\r\n\r\n\r\n\t\tString choice = (String) jp.getValue(); // Sets Choice to variable\r\n\r\n\t\treturn choice; // Sends choice back to meathod\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic static void game(){\r\n\t\tJLabel label;\r\n\t\tString choice;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Baboon picked yes&quot;);\r\n\t\t\r\n\t\tlabel = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = &#39;width: 175px; font-size: 10px;&#39;&gt;You are Obama, having a lovely day in Minecraft, feeding your dog. You need more quarts and Redstone blocks to build a lighthouse by the sea. While running to your portal room you find an untamed wolf, do you want to tame it?&quot;, SwingConstants.CENTER);\r\n\t\tchoice = JText(&quot;Tame&quot;, &quot;Dont tame&quot;, label, null);\r\n\t\t\r\n\t\tif(choice == &quot;Tame&quot;){\r\n\t\t\tSystem.out.println(&quot;Baboon picked tame&quot;);\r\n\t\t\t\r\n\t\t\tlabel = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = &#39;width: 175px; font-size: 10px;&#39;&gt;You shove a bone deep into the mouth of the wolf. You tame it but it makes you feel horrible, maybe it will make you feel better if you dye the collar?&quot;, SwingConstants.CENTER);\r\n\t\t\tchoice = JText(&quot;Dye&quot;, &quot;Dont dye&quot;, label, null);\r\n\t\t\t\r\n\t\t\tif(choice == &quot;Dye&quot;){\r\n\t\t\t\tSystem.out.println(&quot;Baboon Dyed&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t//\tSystem.exit(0);\r\n\t}\r\n}\r\n```\r\n\r\nI tried to use keyListener on the dialog, but it doesn&#39;t work. I&#39;ve tried other basic examples and they work, I just have no clue what&#39;s wrong with mine.","title":"Is there a way to add a keyListener to JDialog / JOptionPane?","body":"<p>I've been trying to make a game for a school project and wanted to add some easter eggs, but in order to do so I need to detect key input. I've been looking up how to do this for a while and couldn't find any ways that work.</p>\n<p>The setup I'm using is making a JOptionPane and creating it with a JDialog to make a title and add an icon to the window.</p>\n<p>Here's my code so far:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.KeyAdapter;\n\npublic class ObamaSimulator {\n\n    public static void main(String[] args) {\n        JLabel label; // text in JOptionPane\n        \n        label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;b style = 'font-size: 40px; color: red;'&gt;WELCOME&lt;/b&gt;&lt;p style = 'width: 175px;'&gt;&lt;br&gt; To Obama Simulator. In this game you are obama, there isn't really much else to say &lt;br&gt;(The story will tell you more)&lt;br&gt;[press OK to continue or X to quit]&quot;, SwingConstants.CENTER);\n        String choice = JText(&quot;Yes&quot;, null, label, &quot;Welcome!&quot;); // Runs JText with option 1, option 2, label, and title, and outputs with the option they chose\n        \n        if(choice == &quot;Yes&quot;){\n            game();\n        }else{\n            System.out.println(&quot;Baboon closed the window :(&quot;);\n            \n            label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = 'width: 175px;'&gt;Game Closed&quot;, SwingConstants.CENTER);\n            JText(&quot;OK&quot;, null, label, null);\n            \n            System.exit(0); // Used to end the program, IDK why it dosn't end by it's self\n        }\n        \n    }\n    \n    \n    \n    public static String JText(String op1, String op2, JLabel label, String title){\n        Object[] options; // Options in JOptionPane\n        \n        JFrame frm = new JFrame(); // Frame used to make JOptionPane have icon\n        frm.setIconImage(new ImageIcon(&quot;Obama (1).gif&quot;).getImage()); // Sets icon of JOptionPane window\n        \n        if(op1 == null){ // Checks if an option is missing\n            options = new Object[] {op2};\n        }else if(op2 == null){\n            options = new Object[] {op1};\n        }else{\n            options = new Object[] {op1, op2};\n        }\n        \n        if(title == null){ // Checks if title is missing\n            title = &quot;Obama Simulator&quot;;\n        }\n\n        JOptionPane jp = new JOptionPane(label , JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE,null, options, options[0]); // Creates basic JOptionPane\n        JDialog dialog = jp.createDialog(frm, title); // Finishes by adding icon and title\n        \n        dialog.setSize(350, 300); // Sets size\n        dialog.setLocationRelativeTo(null); // Centers the Window\n        dialog.setResizable(true); // Needed to make icon\n        \n        dialog.addKeyListener(new KeyListener(){  \n  \n            @Override\n            public void keyTyped(KeyEvent e) {\n                // Nothing\n            }\n    \n            @Override\n            public void keyPressed(KeyEvent e) {\n                // Nothing \n            }\n    \n            @Override\n            public void keyReleased(KeyEvent e) {\n                \n                    if (e.getKeyCode() == KeyEvent.VK_UP){\n                      System.out.println(&quot;up&quot;);\n                    }\n                    \n                }\n            });\n  \n        dialog.setVisible(true); // Sets JOptionPane visible\n                \n\n\n        String choice = (String) jp.getValue(); // Sets Choice to variable\n\n        return choice; // Sends choice back to meathod\n    }\n    \n    \n    \n    \n    public static void game(){\n        JLabel label;\n        String choice;\n        \n        System.out.println(&quot;Baboon picked yes&quot;);\n        \n        label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = 'width: 175px; font-size: 10px;'&gt;You are Obama, having a lovely day in Minecraft, feeding your dog. You need more quarts and Redstone blocks to build a lighthouse by the sea. While running to your portal room you find an untamed wolf, do you want to tame it?&quot;, SwingConstants.CENTER);\n        choice = JText(&quot;Tame&quot;, &quot;Dont tame&quot;, label, null);\n        \n        if(choice == &quot;Tame&quot;){\n            System.out.println(&quot;Baboon picked tame&quot;);\n            \n            label = new JLabel(&quot;&lt;html&gt;&lt;center&gt;&lt;p style = 'width: 175px; font-size: 10px;'&gt;You shove a bone deep into the mouth of the wolf. You tame it but it makes you feel horrible, maybe it will make you feel better if you dye the collar?&quot;, SwingConstants.CENTER);\n            choice = JText(&quot;Dye&quot;, &quot;Dont dye&quot;, label, null);\n            \n            if(choice == &quot;Dye&quot;){\n                System.out.println(&quot;Baboon Dyed&quot;);\n            }\n            \n        }\n        \n    //  System.exit(0);\n    }\n}\n</code></pre>\n<p>I tried to use keyListener on the dialog, but it doesn't work. I've tried other basic examples and they work, I just have no clue what's wrong with mine.</p>\n"},{"tags":["java","caching"],"answers":[{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410521318,"creation_date":1410520997,"answer_id":25807154,"question_id":25807055,"body_markdown":"You can do it using [Java Control Panel][1].\r\n\r\n[How do I clear the Java cache?][2] \r\n\r\n[How can do it in command line?][3]\r\n\r\nThis will be the command to clear cache\r\n\r\n    javaws -clearcache // Remove all non-installed applications from the cache.\r\n\r\nAnd\r\n   \r\n    javaws -uninstall // Remove all applications from the cache.\r\n\r\n  [1]: http://www.java.com/en/download/help/win_controlpanel.xml\r\n  [2]: http://www.java.com/en/download/help/plugin_cache.xml\r\n  [3]: http://docs.oracle.com/javase/7/docs/technotes/tools/share/javaws.html","title":"Clear Java Cache","body":"<p>You can do it using <a href=\"http://www.java.com/en/download/help/win_controlpanel.xml\" rel=\"nofollow\">Java Control Panel</a>.</p>\n\n<p><a href=\"http://www.java.com/en/download/help/plugin_cache.xml\" rel=\"nofollow\">How do I clear the Java cache?</a> </p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/javaws.html\" rel=\"nofollow\">How can do it in command line?</a></p>\n\n<p>This will be the command to clear cache</p>\n\n<pre><code>javaws -clearcache // Remove all non-installed applications from the cache.\n</code></pre>\n\n<p>And</p>\n\n<pre><code>javaws -uninstall // Remove all applications from the cache.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4427703,"reputation":3041,"user_id":3605712,"accept_rate":97,"display_name":"Malakai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489152400,"creation_date":1489152400,"answer_id":42719534,"question_id":25807055,"body_markdown":"This can be archived by following line: `javaws -Xclearcache -silent -Xnosplash`","title":"Clear Java Cache","body":"<p>This can be archived by following line: <code>javaws -Xclearcache -silent -Xnosplash</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555732399,"creation_date":1529209362,"answer_id":50893660,"question_id":25807055,"body_markdown":"My understanding is that there are three mainstream Java caching technologies:\r\n\r\n  1.  There is the Application Cache that is part of Java Webstart and associated browser plugins.  This can be controlled using the `javaws` command-line tool, or the Java Control Panel, as outlined in @RuchiraGayanRanaweera&#39;s answer.  \r\n\r\n      AFAIK, `javaws` is the *only* supported way to control the application cache from the command line.\r\n\r\n  2.  There is the Java Object Cache framework that is part of Oracle&#39;s J2EE container product line (aka OC4J).  This is described in the OC4J documentation: [&quot;Chapter 9 - Java Object Cache&quot;][1].  (I don&#39;t think this is what you are looking for.)\r\n\r\n  3. Some JVM implementations have a feature that allows *compiled classes* to be cached and shared or reused by different JVMs.  IBM Java and Eclipse OpenJ9 support this; e.g. see [&quot;Shared class cache&quot;][2].  \r\n\r\n     However, this is not a supported feature of standard (free) Oracle or OpenJDK Java.  There is / was apparently an obscure JVM feature for sharing system class data that was introduced in Java 5, and a commercial feature exists (since Java 8) to extend this to application classes.  Details are hard to find ...\r\n\r\n**UPDATE** - As of Java 10, Oracle and OpenJDK JVMs now support [&quot;Class Data Sharing&quot;][3] (CDS).  This document has instructions on how to regenerate the cache from the command line.\r\n\r\n---------------\r\n\r\nGiven the context in which the question was originally asked, I suspect that the OP is (was) *actually* asking about Java Webstart application caching, but didn&#39;t realize that this functionality is part of Java Webstart rather than Java SE as a whole. \r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B14099_19/web.1012/b14012/objcache.htm\r\n  [2]: https://www.ibm.com/support/knowledgecenter/en/SSGMCP_5.1.0/com.ibm.cics.ts.java.doc/topics/dfhpjd3.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/vm/class-data-sharing.html#GUID-7EAA3411-8CF0-4D19-BD05-DF5E1780AA91","title":"Clear Java Cache","body":"<p>My understanding is that there are three mainstream Java caching technologies:</p>\n\n<ol>\n<li><p>There is the Application Cache that is part of Java Webstart and associated browser plugins.  This can be controlled using the <code>javaws</code> command-line tool, or the Java Control Panel, as outlined in @RuchiraGayanRanaweera's answer.  </p>\n\n<p>AFAIK, <code>javaws</code> is the <em>only</em> supported way to control the application cache from the command line.</p></li>\n<li><p>There is the Java Object Cache framework that is part of Oracle's J2EE container product line (aka OC4J).  This is described in the OC4J documentation: <a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14012/objcache.htm\" rel=\"nofollow noreferrer\">\"Chapter 9 - Java Object Cache\"</a>.  (I don't think this is what you are looking for.)</p></li>\n<li><p>Some JVM implementations have a feature that allows <em>compiled classes</em> to be cached and shared or reused by different JVMs.  IBM Java and Eclipse OpenJ9 support this; e.g. see <a href=\"https://www.ibm.com/support/knowledgecenter/en/SSGMCP_5.1.0/com.ibm.cics.ts.java.doc/topics/dfhpjd3.html\" rel=\"nofollow noreferrer\">\"Shared class cache\"</a>.  </p>\n\n<p>However, this is not a supported feature of standard (free) Oracle or OpenJDK Java.  There is / was apparently an obscure JVM feature for sharing system class data that was introduced in Java 5, and a commercial feature exists (since Java 8) to extend this to application classes.  Details are hard to find ...</p></li>\n</ol>\n\n<p><strong>UPDATE</strong> - As of Java 10, Oracle and OpenJDK JVMs now support <a href=\"https://docs.oracle.com/en/java/javase/11/vm/class-data-sharing.html#GUID-7EAA3411-8CF0-4D19-BD05-DF5E1780AA91\" rel=\"nofollow noreferrer\">\"Class Data Sharing\"</a> (CDS).  This document has instructions on how to regenerate the cache from the command line.</p>\n\n<hr>\n\n<p>Given the context in which the question was originally asked, I suspect that the OP is (was) <em>actually</em> asking about Java Webstart application caching, but didn't realize that this functionality is part of Java Webstart rather than Java SE as a whole. </p>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600149447,"creation_date":1600149447,"answer_id":63895936,"question_id":25807055,"body_markdown":"create a batch file named clearCache.bat.\r\n\r\n    @Echo Off\r\n    \r\n    echo =========================\r\n    \r\n    echo Now clearing all users Java cache folder\r\n    \r\n    set &quot;docandset=%homedrive%\\users&quot;\r\n    \r\n         &gt;&gt; c:\\Delete.log echo/ &quot;Java\\Deployment\\cache\\6.0\\&quot;\r\n    \r\n    for /f &quot;delims=&quot; %%a in (&#39;dir &quot;%docandset%&quot; /ad /b&#39;) do (\r\n    \r\n    for %%b in (\r\n    \r\n    &quot;%docandset%\\%%a\\AppData\\LocalLow\\Sun\\Java\\Deployment\\cache\\6.0&quot;\r\n    \r\n    ) do (\r\n    \r\n    echo %%b &gt;&gt; c:\\Delete.log\r\n    \r\n    cd /d %%b &gt;&gt; c:\\Delete.log  2&gt;&amp;1\r\n    \r\n    rd /s /q %%b &gt;&gt; c:\\Delete.log  2&gt;&amp;1\r\n    \r\n    del /f /s /q %%b &gt;&gt; c:\\Delete.log  2&gt;&amp;1\r\n    \r\n    )\r\n    \r\n    )\r\n    \r\n    echo =========================\r\n    \r\n    echo COMPLETE!!!! \r\n    \r\n    echo =========================\r\n    \r\n    echo All users Java cache folder has been cleared.\r\n    \r\n    PAUSE\r\n now from command prompt(cmd) run the batch file\r\n\r\n    Runtime.getRuntime().exec(&quot;cmd /c start clearCache.bat&quot;);\r\n\r\nit will show you an alert after clearing the cache.","title":"Clear Java Cache","body":"<p>create a batch file named clearCache.bat.</p>\n<pre><code>@Echo Off\n\necho =========================\n\necho Now clearing all users Java cache folder\n\nset &quot;docandset=%homedrive%\\users&quot;\n\n     &gt;&gt; c:\\Delete.log echo/ &quot;Java\\Deployment\\cache\\6.0\\&quot;\n\nfor /f &quot;delims=&quot; %%a in ('dir &quot;%docandset%&quot; /ad /b') do (\n\nfor %%b in (\n\n&quot;%docandset%\\%%a\\AppData\\LocalLow\\Sun\\Java\\Deployment\\cache\\6.0&quot;\n\n) do (\n\necho %%b &gt;&gt; c:\\Delete.log\n\ncd /d %%b &gt;&gt; c:\\Delete.log  2&gt;&amp;1\n\nrd /s /q %%b &gt;&gt; c:\\Delete.log  2&gt;&amp;1\n\ndel /f /s /q %%b &gt;&gt; c:\\Delete.log  2&gt;&amp;1\n\n)\n\n)\n\necho =========================\n\necho COMPLETE!!!! \n\necho =========================\n\necho All users Java cache folder has been cleared.\n\nPAUSE\n</code></pre>\n<p>now from command prompt(cmd) run the batch file</p>\n<pre><code>Runtime.getRuntime().exec(&quot;cmd /c start clearCache.bat&quot;);\n</code></pre>\n<p>it will show you an alert after clearing the cache.</p>\n"}],"owner":{"account_id":2452801,"reputation":113,"user_id":2138639,"accept_rate":40,"display_name":"user2138639"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35319,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1644602455,"creation_date":1410520650,"question_id":25807055,"body_markdown":"I want to know how you can clear your Java Cache using Java Code or CMD Line code. \r\n\r\nThis should be done on a Microsoft Windows Machine anywhere from Windows 7 up.\r\n\r\nThis should be done on multiple computers so the file paths will be different.\r\n\r\nThe application uses Javaw as it&#39;s default application that it launches with (Not to be confused with Javaws or Webstart - I already have code how to clear Javaws cache). So I will need to know how to clear Javaw cache.","title":"Clear Java Cache","body":"<p>I want to know how you can clear your Java Cache using Java Code or CMD Line code. </p>\n\n<p>This should be done on a Microsoft Windows Machine anywhere from Windows 7 up.</p>\n\n<p>This should be done on multiple computers so the file paths will be different.</p>\n\n<p>The application uses Javaw as it's default application that it launches with (Not to be confused with Javaws or Webstart - I already have code how to clear Javaws cache). So I will need to know how to clear Javaw cache.</p>\n"},{"tags":["java","object","oop"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1644589102,"post_id":71081522,"comment_id":125653291,"body_markdown":"*&quot;I saw a lot of posts about chaining&quot;* - That&#39;s how I&#39;d do it.  *&quot;but I haven&#39;t gotten it to work properly&quot;* - What did you try and what didn&#39;t work?","body":"<i>&quot;I saw a lot of posts about chaining&quot;</i> - That&#39;s how I&#39;d do it.  <i>&quot;but I haven&#39;t gotten it to work properly&quot;</i> - What did you try and what didn&#39;t work?"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644602384,"creation_date":1644589236,"answer_id":71081612,"question_id":71081522,"body_markdown":"You should have one constructor to initialize all the variables.  Call it with defaults from other constructors, like this: \r\n\r\n    class Trainingsschema\r\n    {\r\n        // create an arrayList for every oefening\r\n        private String klant;\r\n        private String trainer;\r\n        private Integer nummer;\r\n        private List&lt;Oefening&gt; alleOefeningen;\r\n    \r\n        // two different constructors to correctly initialise the class variables\r\n        public Trainingsschema(String klant, String trainer)\r\n        {\r\n            this.klant = klant;\r\n            this.trainer = trainer;\r\n            this.nummer = this.volgendUniekNummer();\r\n            // Show the method where you initialize the array.  Why do you need method?\r\n            this.alleOefeningen = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public Trainingsschema(String klant)\r\n        {\r\n            this(klant, null);\r\n        }\r\n    }\r\n\r\n","title":"how do I only instantiate every constructor variable ones with multiple constructors?","body":"<p>You should have one constructor to initialize all the variables.  Call it with defaults from other constructors, like this:</p>\n<pre><code>class Trainingsschema\n{\n    // create an arrayList for every oefening\n    private String klant;\n    private String trainer;\n    private Integer nummer;\n    private List&lt;Oefening&gt; alleOefeningen;\n\n    // two different constructors to correctly initialise the class variables\n    public Trainingsschema(String klant, String trainer)\n    {\n        this.klant = klant;\n        this.trainer = trainer;\n        this.nummer = this.volgendUniekNummer();\n        // Show the method where you initialize the array.  Why do you need method?\n        this.alleOefeningen = new ArrayList&lt;&gt;();\n    }\n\n    public Trainingsschema(String klant)\n    {\n        this(klant, null);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19576919,"reputation":160,"user_id":14326814,"display_name":"Martijn Gelton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1644591576,"answer_count":1,"score":-1,"last_activity_date":1644602384,"creation_date":1644588829,"question_id":71081522,"body_markdown":"I need to avoid duplicate code with these constructors, so I wondered if there is a way to instantiate these variables only ones? I saw a lot of posts about chaining but I haven&#39;t gotten it  to work properly.\r\n\r\n    class Trainingsschema\r\n    {\r\n    \t// create an arrayList for every oefening\r\n    \tprivate String klant;\r\n    \tprivate String trainer;\r\n    \tprivate Integer nummer;\r\n    \tprivate ArrayList&lt;Oefening&gt; alleOefeningen;\r\n    \r\n    \t// two different constructors to correctly initialise the class variables\r\n    \tpublic Trainingsschema(String klant, String trainer)\r\n    \t{\r\n    \t\tthis.klant = klant;\r\n    \t\tthis.trainer = trainer;\r\n    \t\tthis.nummer = this.volgendUniekNummer();\r\n    \t\tthis.alleOefeningen = this.initialiseerOefeningen();\r\n    \t}\r\n    \r\n    \tpublic Trainingsschema(String klant)\r\n    \t{\r\n    \t\tthis.klant = klant;\r\n    \t\tthis.trainer = null;\r\n    \t\tthis.nummer = this.volgendUniekNummer();\r\n    \t\tthis.alleOefeningen = this.initialiseerOefeningen();\r\n    \t}","title":"how do I only instantiate every constructor variable ones with multiple constructors?","body":"<p>I need to avoid duplicate code with these constructors, so I wondered if there is a way to instantiate these variables only ones? I saw a lot of posts about chaining but I haven't gotten it  to work properly.</p>\n<pre><code>class Trainingsschema\n{\n    // create an arrayList for every oefening\n    private String klant;\n    private String trainer;\n    private Integer nummer;\n    private ArrayList&lt;Oefening&gt; alleOefeningen;\n\n    // two different constructors to correctly initialise the class variables\n    public Trainingsschema(String klant, String trainer)\n    {\n        this.klant = klant;\n        this.trainer = trainer;\n        this.nummer = this.volgendUniekNummer();\n        this.alleOefeningen = this.initialiseerOefeningen();\n    }\n\n    public Trainingsschema(String klant)\n    {\n        this.klant = klant;\n        this.trainer = null;\n        this.nummer = this.volgendUniekNummer();\n        this.alleOefeningen = this.initialiseerOefeningen();\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":24228962,"reputation":1,"user_id":18183016,"display_name":"Padme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644601681,"creation_date":1644601681,"answer_id":71084425,"question_id":71084353,"body_markdown":"I cant remove all products and once. I need to click trash for every single product\r\n\r\npublic void deleteProduct()\r\n    {\r\n\r\n            WebElement removedProduct = shopDriver.findElement(By.className(&quot;remove-from-cart&quot;));\r\n            for (int i = 0; i &lt;= count; i++)\r\n            {\r\n                removedProduct.click();\r\n                mainTest.stopThreed();\r\n                clickArt();\r\n                mainTest.stopThreed();\r\n                pressCartButton();\r\n                mainTest.stopThreed();\r\n\r\n            }\r\n            //WebDriverWait wait = new WebDriverWait(shopDriver,10);\r\n            //WebElement removedProduct = wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;remove-from-cart&quot;)));\r\n            //removedProduct.click();\r\n    }","title":"stale element reference: element is not attached to the page document in java","body":"<p>I cant remove all products and once. I need to click trash for every single product</p>\n<p>public void deleteProduct()\n{</p>\n<pre><code>        WebElement removedProduct = shopDriver.findElement(By.className(&quot;remove-from-cart&quot;));\n        for (int i = 0; i &lt;= count; i++)\n        {\n            removedProduct.click();\n            mainTest.stopThreed();\n            clickArt();\n            mainTest.stopThreed();\n            pressCartButton();\n            mainTest.stopThreed();\n\n        }\n        //WebDriverWait wait = new WebDriverWait(shopDriver,10);\n        //WebElement removedProduct = wait.until(ExpectedConditions.elementToBeClickable(By.className(&quot;remove-from-cart&quot;)));\n        //removedProduct.click();\n}\n</code></pre>\n"}],"owner":{"account_id":24228962,"reputation":1,"user_id":18183016,"display_name":"Padme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644601681,"creation_date":1644601303,"question_id":71084353,"body_markdown":"Hey I have problem with my script in java and selenium\r\nMy script adds products to cart and later remove it from cart, but when i tried to remove products i get &quot;stale element reference: element is not attached to the page document&quot;. If I understand well, the element  vanish from DOM. I tried await, reoload the page, but still it doesn not work","title":"stale element reference: element is not attached to the page document in java","body":"<p>Hey I have problem with my script in java and selenium\nMy script adds products to cart and later remove it from cart, but when i tried to remove products i get &quot;stale element reference: element is not attached to the page document&quot;. If I understand well, the element  vanish from DOM. I tried await, reoload the page, but still it doesn not work</p>\n"},{"tags":["java","r","bigdecimal"],"comments":[{"owner":{"account_id":15663232,"reputation":13,"user_id":11301681,"display_name":"Sankster"},"score":0,"creation_date":1644599777,"post_id":71083951,"comment_id":125657739,"body_markdown":"Thanks Basil good point will update now","body":"Thanks Basil good point will update now"},{"owner":{"account_id":15663232,"reputation":13,"user_id":11301681,"display_name":"Sankster"},"score":0,"creation_date":1644608134,"post_id":71083951,"comment_id":125660561,"body_markdown":"I since did some research turns out R primitives behave differently to Java primitives .  One of the major issues in Java does not exist in R prim","body":"I since did some research turns out R primitives behave differently to Java primitives .  One of the major issues in Java does not exist in R prim"},{"owner":{"account_id":15663232,"reputation":13,"user_id":11301681,"display_name":"Sankster"},"score":0,"creation_date":1644608230,"post_id":71083951,"comment_id":125660591,"body_markdown":"In Java ---- double myStart = 0.2;\nfor (int i = 0; i &lt; 109; i++) {\n    myStart += 0.2;\n}\n\nyou get the below answer\nprim Sum =21.999999999999954","body":"In Java ---- double myStart = 0.2; for (int i = 0; i &lt; 109; i++) {     myStart += 0.2; }  you get the below answer prim Sum =21.999999999999954"},{"owner":{"account_id":15663232,"reputation":13,"user_id":11301681,"display_name":"Sankster"},"score":0,"creation_date":1644608396,"post_id":71083951,"comment_id":125660636,"body_markdown":"In R ----- &gt; a = 0.2\n&gt; for (x in 1:109) {\n+ a = a + 0.2\n+ }\n&gt; print(a)\n[1] answer is 22","body":"In R ----- &gt; a = 0.2 &gt; for (x in 1:109) { + a = a + 0.2 + } &gt; print(a) [1] answer is 22"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1644676675,"post_id":71083951,"comment_id":125672478,"body_markdown":"Your code examples do **not** imply that R&#39;s floating point types behave differently from Java&#39;s. Your result is likely solely due the default formatting used by your print functions. R does not commit to a representation, but the docs do say that &quot;...on all current platforms IEC 60559 (aka IEEE 754) arithmetic is used...&quot;, same as Java.","body":"Your code examples do <b>not</b> imply that R&#39;s floating point types behave differently from Java&#39;s. Your result is likely solely due the default formatting used by your print functions. R does not commit to a representation, but the docs do say that &quot;...on all current platforms IEC 60559 (aka IEEE 754) arithmetic is used...&quot;, same as Java."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1644677245,"post_id":71083951,"comment_id":125672599,"body_markdown":"I am voting to reopen not because I think the close reason is incorrect but because I think in this particular case it does not serve the goal #1 of stackoverflow, namely to form an archive of useful programming questions with excellent answers.","body":"I am voting to reopen not because I think the close reason is incorrect but because I think in this particular case it does not serve the goal #1 of stackoverflow, namely to form an archive of useful programming questions with excellent answers."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644600712,"creation_date":1644600120,"answer_id":71084103,"question_id":71083951,"body_markdown":"You should definitely use BigDecimal with DECIMAL 128. You should do this knowing that specifications may change in the future and more decimal points may be required. DECIMAL 128 is too too much solution, but it&#39;s bullet proof.\r\n\r\nPerformance is important, but when it comes to money, accuracy is much much more important.\r\n\r\n\r\n ","title":"Java BigDecimal vs R vs Java Float, Double","body":"<p>You should definitely use BigDecimal with DECIMAL 128. You should do this knowing that specifications may change in the future and more decimal points may be required. DECIMAL 128 is too too much solution, but it's bullet proof.</p>\n<p>Performance is important, but when it comes to money, accuracy is much much more important.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644601590,"creation_date":1644600134,"answer_id":71084110,"question_id":71083951,"body_markdown":"# Accuracy\r\n\r\n**Accountants want accuracy.** They dont care about speed of execution. For accounting purposes, always use [`BigDecimal`][1] in Java. \r\n\r\nAn alternative is using integers. If you want to represent pennies on the dollar (USD), multiply by a hundred, and then do further math with that integer. [`BigInteger`][2] may be helpful.\r\n\r\n# Speed\r\n\r\n**Statisticians want speed of execution.** They dont care about [minor inaccuracies.][3] For such work, floating-point in [R][4] makes sense.\r\n\r\nYou can export from `BigDecimal` [to double][5] or [to float][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html\r\n  [3]: https://en.m.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\r\n  [4]: https://en.m.wikipedia.org/wiki/R_(programming_language)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#doubleValue()\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#floatValue()","title":"Java BigDecimal vs R vs Java Float, Double","body":"<h1>Accuracy</h1>\n<p><strong>Accountants want accuracy.</strong> They dont care about speed of execution. For accounting purposes, always use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> in Java.</p>\n<p>An alternative is using integers. If you want to represent pennies on the dollar (USD), multiply by a hundred, and then do further math with that integer. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>BigInteger</code></a> may be helpful.</p>\n<h1>Speed</h1>\n<p><strong>Statisticians want speed of execution.</strong> They dont care about <a href=\"https://en.m.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\">minor inaccuracies.</a> For such work, floating-point in <a href=\"https://en.m.wikipedia.org/wiki/R_(programming_language)\" rel=\"nofollow noreferrer\">R</a> makes sense.</p>\n<p>You can export from <code>BigDecimal</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#doubleValue()\" rel=\"nofollow noreferrer\">to double</a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#floatValue()\" rel=\"nofollow noreferrer\">to float</a>.</p>\n"}],"owner":{"account_id":15663232,"reputation":13,"user_id":11301681,"display_name":"Sankster"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1644619769,"accepted_answer_id":71084103,"answer_count":2,"score":0,"last_activity_date":1644601590,"creation_date":1644599403,"question_id":71083951,"body_markdown":"I am working on a financial system where precision required is 6 decimal places only.  We are currently using R but converting to Java.  I had a debate with a colleague over whether we should go with BigDecimals or double / float primitive in Java.  I was in favor of BigDecimal but his point was that R would be using primitives same as Java primitives so we would have already noticed if there were any issues with the precision.  It should be noted that the end result we would convert to BigDecimal anyway this is just for the calculation itself.  Who is correct here?","title":"Java BigDecimal vs R vs Java Float, Double","body":"<p>I am working on a financial system where precision required is 6 decimal places only.  We are currently using R but converting to Java.  I had a debate with a colleague over whether we should go with BigDecimals or double / float primitive in Java.  I was in favor of BigDecimal but his point was that R would be using primitives same as Java primitives so we would have already noticed if there were any issues with the precision.  It should be noted that the end result we would convert to BigDecimal anyway this is just for the calculation itself.  Who is correct here?</p>\n"},{"tags":["java","unit-testing","reflection","static-block"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1631224456,"post_id":69124839,"comment_id":122172607,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/56039341/get-declared-fields-of-java-lang-reflect-fields-in-jdk12/56043252","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/56039341/get-declared-fields-of-java-lang-reflect-fields-in-jdk12/56043252\" title=\"get declared fields of java lang reflect fields in jdk12\">stackoverflow.com/questions/56039341/&hellip;</a>"},{"owner":{"account_id":1382967,"reputation":1730,"user_id":1315599,"accept_rate":56,"display_name":"yu.pitomets"},"score":3,"creation_date":1631226536,"post_id":69124839,"comment_id":122173000,"body_markdown":"Does this answer your question? [Get declared fields of java.lang.reflect.Fields in jdk12](https://stackoverflow.com/questions/56039341/get-declared-fields-of-java-lang-reflect-fields-in-jdk12)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/56039341/get-declared-fields-of-java-lang-reflect-fields-in-jdk12\">Get declared fields of java.lang.reflect.Fields in jdk12</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1631232130,"post_id":69124839,"comment_id":122173869,"body_markdown":"This is clearly wrong: `Unsafe.class.getDeclaredField(&quot;modifiers&quot;);`  The `Unsafe` class doesn&#39;t have a `modifiers` field.","body":"This is clearly wrong: <code>Unsafe.class.getDeclaredField(&quot;modifiers&quot;);</code>  The <code>Unsafe</code> class doesn&#39;t have a <code>modifiers</code> field."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1631275045,"post_id":69124839,"comment_id":122184574,"body_markdown":"What actual goal do you want to achieve? Make `HttpURLConnection` accept a non-standard method? That can be done be easier by setting the instance field `method`  of an actual  `HttpURLConnection` instance, bypassing the check. Unlike `static final` fields, instance fields can be set with a simple `setAccessible(true)` without manipulating the `Field` internals, of course, assuming that youre either in the unnamed module or have specified the necessary `--add-opens` option.","body":"What actual goal do you want to achieve? Make <code>HttpURLConnection</code> accept a non-standard method? That can be done be easier by setting the instance field <code>method</code>  of an actual  <code>HttpURLConnection</code> instance, bypassing the check. Unlike <code>static final</code> fields, instance fields can be set with a simple <code>setAccessible(true)</code> without manipulating the <code>Field</code> internals, of course, assuming that youre either in the unnamed module or have specified the necessary <code>--add-opens</code> option."},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1631281951,"post_id":69124839,"comment_id":122187305,"body_markdown":"HTTPURLConnection does not support PATCH call. That is why I used this hack to to use reflection to hack the HttpURLConnection#methods static field (through Java Reflection) to add support for &quot;PATCH&quot; (which is not supported by default).","body":"HTTPURLConnection does not support PATCH call. That is why I used this hack to to use reflection to hack the HttpURLConnection#methods static field (through Java Reflection) to add support for &quot;PATCH&quot; (which is not supported by default)."},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1631282245,"post_id":69124839,"comment_id":122187439,"body_markdown":"This hack works until JDK11 but JDK12+ giving the error mentioned in the question","body":"This hack works until JDK11 but JDK12+ giving the error mentioned in the question"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1631357734,"post_id":69124839,"comment_id":122203584,"body_markdown":"Given Java 11 is still supported, but Java 12 has been out of support since September 2019, why are you upgrading to Java 12? If anything, try to target Java 16 (current supported version) or Java 17 (next LTS to be released later this month).","body":"Given Java 11 is still supported, but Java 12 has been out of support since September 2019, why are you upgrading to Java 12? If anything, try to target Java 16 (current supported version) or Java 17 (next LTS to be released later this month)."},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1631444597,"post_id":69124839,"comment_id":122218894,"body_markdown":"Thank you, this problem also exist in Java16 but yesterday I was manage to solve in Java12+ by using VarHandles.","body":"Thank you, this problem also exist in Java16 but yesterday I was manage to solve in Java12+ by using VarHandles."}],"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12719,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1644601566,"creation_date":1631222306,"question_id":69124839,"body_markdown":"Below function Hacks the &quot;HttpURLConnection#methods&quot; static field (through Java Reflection). I am using reflection to unit test my code functionality. I found out we can not change the static final fields in JDK12. I found one solution to use unsafe but I am not sure how can I get this function working in JDK12 using unsafe.\r\n\r\n    protected static void allowMethods(String... methods) {\r\n        try {\r\n            Field methodsField = HttpURLConnection.class.getDeclaredField(&quot;methods&quot;);\r\n\r\n            Field modifiersField = Unsafe.class.getDeclaredField(&quot;modifiers&quot;);\r\n            modifiersField.setAccessible(true);\r\n            modifiersField.setInt(methodsField, methodsField.getModifiers() &amp; ~Modifier.FINAL);\r\n\r\n            methodsField.setAccessible(true);\r\n\r\n            String[] oldMethods = (String[]) methodsField.get(null);\r\n            Set&lt;String&gt; methodsSet = new LinkedHashSet&lt;&gt;(Arrays.asList(oldMethods));\r\n            methodsSet.addAll(Arrays.asList(methods));\r\n            String[] newMethods = methodsSet.toArray(new String[0]);\r\n\r\n            methodsField.set(null/*static field*/, newMethods);\r\n        } catch (NoSuchFieldException | IllegalAccessException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }  \r\n\r\nThis is the stacktrace for the above code: \r\n    \r\n    Caused by: java.lang.IllegalStateException: java.lang.NoSuchFieldException: modifiers\r\n\tat pii.rest.call.RestUtils.allowMethods(RestUtils.java:75)\r\n\tat pii.rest.call.JobAbort.&lt;clinit&gt;(JobAbort.java:39)\r\n    Caused by: java.lang.NoSuchFieldException: modifiers\r\n\tat java.base/java.lang.Class.getDeclaredField(Class.java:2549)\r\n\tat pii.rest.call.RestUtils.allowMethods(RestUtils.java:62)\r\n\r\nCan anybody help me convert this function to use Unsafe so therefore it works with JDK12+. I have tried this until now:\r\n\r\n    final Field ourField = HttpURLConnection.class.getDeclaredField(&quot;methods&quot;);\r\n    final Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n    unsafeField.setAccessible(true);\r\n    final Unsafe unsafe = (Unsafe) unsafeField.get(null);\r\n    final Object staticFieldBase = unsafe.staticFieldBase(ourField);\r\n    final long staticFieldOffset = unsafe.staticFieldOffset(ourField);\r\n    unsafe.putObject(staticFieldBase, staticFieldOffset, &quot;it works&quot;);\r\n","title":"JDK11 to JDK12 Migration java.lang.NoSuchFieldException: modifiers","body":"<p>Below function Hacks the &quot;HttpURLConnection#methods&quot; static field (through Java Reflection). I am using reflection to unit test my code functionality. I found out we can not change the static final fields in JDK12. I found one solution to use unsafe but I am not sure how can I get this function working in JDK12 using unsafe.</p>\n<pre><code>protected static void allowMethods(String... methods) {\n    try {\n        Field methodsField = HttpURLConnection.class.getDeclaredField(&quot;methods&quot;);\n\n        Field modifiersField = Unsafe.class.getDeclaredField(&quot;modifiers&quot;);\n        modifiersField.setAccessible(true);\n        modifiersField.setInt(methodsField, methodsField.getModifiers() &amp; ~Modifier.FINAL);\n\n        methodsField.setAccessible(true);\n\n        String[] oldMethods = (String[]) methodsField.get(null);\n        Set&lt;String&gt; methodsSet = new LinkedHashSet&lt;&gt;(Arrays.asList(oldMethods));\n        methodsSet.addAll(Arrays.asList(methods));\n        String[] newMethods = methodsSet.toArray(new String[0]);\n\n        methodsField.set(null/*static field*/, newMethods);\n    } catch (NoSuchFieldException | IllegalAccessException e) {\n        throw new IllegalStateException(e);\n    }\n}  \n</code></pre>\n<p>This is the stacktrace for the above code:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: java.lang.NoSuchFieldException: modifiers\nat pii.rest.call.RestUtils.allowMethods(RestUtils.java:75)\nat pii.rest.call.JobAbort.&lt;clinit&gt;(JobAbort.java:39)\nCaused by: java.lang.NoSuchFieldException: modifiers\nat java.base/java.lang.Class.getDeclaredField(Class.java:2549)\nat pii.rest.call.RestUtils.allowMethods(RestUtils.java:62)\n</code></pre>\n<p>Can anybody help me convert this function to use Unsafe so therefore it works with JDK12+. I have tried this until now:</p>\n<pre><code>final Field ourField = HttpURLConnection.class.getDeclaredField(&quot;methods&quot;);\nfinal Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\nunsafeField.setAccessible(true);\nfinal Unsafe unsafe = (Unsafe) unsafeField.get(null);\nfinal Object staticFieldBase = unsafe.staticFieldBase(ourField);\nfinal long staticFieldOffset = unsafe.staticFieldOffset(ourField);\nunsafe.putObject(staticFieldBase, staticFieldOffset, &quot;it works&quot;);\n</code></pre>\n"},{"tags":["java","crystal-reports","datasource"],"answers":[{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644600853,"creation_date":1277400968,"answer_id":3112439,"question_id":2897279,"body_markdown":"I found this out for myself. By Adding a DataSource to the `context.xml` of the web app and by referencing it in `web.xml`, Crystal then happily uses it. This is the fastest way to do it.","title":"Setting data source for reports in Crystal Reports 2008 Java (performance)","body":"<p>I found this out for myself. By Adding a DataSource to the <code>context.xml</code> of the web app and by referencing it in <code>web.xml</code>, Crystal then happily uses it. This is the fastest way to do it.</p>\n"}],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":3112439,"answer_count":1,"score":0,"last_activity_date":1644600947,"creation_date":1274707626,"question_id":2897279,"body_markdown":"we have Crystal Reports 2008 on the Tomcat 5.5 server, and use the Java SDK to display reports and convert them to PDF.\r\n\r\nSince the server has its own database, we have to set the data source on the DatabaseController to make CR connect to this database. We do it like specified in the docs, and tried the functions in CRJavaHelper, but for a reason unknown to me setting the connection string takes 300ms to 1500ms.\r\n\r\nWhat is the fastest way to tell Crystal which datasource to use in its reports? I already saw a JNDI name somewhere, but i don&#39;t believe CR actually does a JNDI lookup to find an existing datasource, doesn&#39;t it? I haven&#39;t worked with JNDI datasources before, should I use them instead?\r\n\r\n","title":"Setting data source for reports in Crystal Reports 2008 Java (performance)","body":"<p>we have Crystal Reports 2008 on the Tomcat 5.5 server, and use the Java SDK to display reports and convert them to PDF.</p>\n<p>Since the server has its own database, we have to set the data source on the DatabaseController to make CR connect to this database. We do it like specified in the docs, and tried the functions in CRJavaHelper, but for a reason unknown to me setting the connection string takes 300ms to 1500ms.</p>\n<p>What is the fastest way to tell Crystal which datasource to use in its reports? I already saw a JNDI name somewhere, but i don't believe CR actually does a JNDI lookup to find an existing datasource, doesn't it? I haven't worked with JNDI datasources before, should I use them instead?</p>\n"},{"tags":["java","spring-boot","gradle","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1334377,"reputation":11,"user_id":1277483,"display_name":"Rolandas A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644600800,"creation_date":1644600800,"answer_id":71084253,"question_id":71082943,"body_markdown":"Looks like it&#39;s possible, as in this [example][1] bellow. Didn&#39;t tried it for myself. However it&#39;s simpler to have spec along implementation, but that depends on situation :)\r\n\r\n  [1]: https://pythonrepo.com/repo/OpenAPITools-openapi-generator#2---getting-started","title":"Is it possible to pass API from some url to openapi-generator in gradle?","body":"<p>Looks like it's possible, as in this <a href=\"https://pythonrepo.com/repo/OpenAPITools-openapi-generator#2---getting-started\" rel=\"nofollow noreferrer\">example</a> bellow. Didn't tried it for myself. However it's simpler to have spec along implementation, but that depends on situation :)</p>\n"}],"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1423,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1644600800,"creation_date":1644594816,"question_id":71082943,"body_markdown":"I have some `consumed.yaml` API and now for generating classes with `openapi-generator gradle plugin` - i need to store this `consumed.yaml` file in my spring boot project. Short example of gradle task i use:\r\n```\r\ntask clientApiGenerate(type: GenerateTask) {\r\n    generatorName = &quot;jaxrs-cxf-client&quot;\r\n    inputSpec = &quot;path/to/consumed.yaml&quot;\r\n    ...\r\n}\r\n```\r\n\r\nSo the question - can i use URL for downloading API file, for example, from gitlab and then use it in this line: &lt;br&gt;\r\n`inputSpec = &quot;path/to/consumed.yaml&quot;` &lt;br&gt;\r\n\r\nThe following versions are currently in use, but can be changed, if necessary:&lt;br&gt;\r\n\r\n - gradle: 6.8.3\r\n - openapi-generator gradle plugin: 5.3.0","title":"Is it possible to pass API from some url to openapi-generator in gradle?","body":"<p>I have some <code>consumed.yaml</code> API and now for generating classes with <code>openapi-generator gradle plugin</code> - i need to store this <code>consumed.yaml</code> file in my spring boot project. Short example of gradle task i use:</p>\n<pre><code>task clientApiGenerate(type: GenerateTask) {\n    generatorName = &quot;jaxrs-cxf-client&quot;\n    inputSpec = &quot;path/to/consumed.yaml&quot;\n    ...\n}\n</code></pre>\n<p>So the question - can i use URL for downloading API file, for example, from gitlab and then use it in this line: <br>\n<code>inputSpec = &quot;path/to/consumed.yaml&quot;</code> <br></p>\n<p>The following versions are currently in use, but can be changed, if necessary:<br></p>\n<ul>\n<li>gradle: 6.8.3</li>\n<li>openapi-generator gradle plugin: 5.3.0</li>\n</ul>\n"},{"tags":["java","eclipse","eclipse-plugin","sonarlint","sonarlint-eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1644566446,"post_id":71076659,"comment_id":125645309,"body_markdown":"Show us the full stack trace as plain text, not an image.","body":"Show us the full stack trace as plain text, not an image."},{"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"score":0,"creation_date":1644586209,"post_id":71076659,"comment_id":125652245,"body_markdown":"@greg-449 I have updated the question and added the stack trace. Please check.","body":"@greg-449 I have updated the question and added the stack trace. Please check."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1645548947,"post_id":71076659,"comment_id":125898629,"body_markdown":"Looks like they weren&#39;t prepared for dealing with paths that have spaces in them.","body":"Looks like they weren&#39;t prepared for dealing with paths that have spaces in them."}],"owner":{"account_id":19812774,"reputation":83,"user_id":14511185,"display_name":"Hitesh Kirtane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644600051,"creation_date":1644565629,"question_id":71076659,"body_markdown":"I have recently installed SonarLint plugin in Eclipse IDE on one of my workstation.\r\n\r\nHowever, while initialising the plugin, I am getting an error\r\n\r\n&gt; Illegal character in path at index 16\r\n\r\nbecause of which the plugin is not working as it fails while initialisation only.\r\n\r\nI have used SonarLint frequently on other desktops as well, but I have never encountered such issue before.\r\n\r\n**Note:** Username has been intentionally masked in the folder path shown in the screenshot below.\r\n\r\n[![SonarLint Plugin - Initialisation Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O675F.png\r\n\r\nError stack trace:\r\n```\r\nUnable to load plugin bundleentry://945.fwk697742350/plugins/sonar-html-plugin-3.6.0.3106.jar\r\njava.net.URISyntaxException: Illegal character in path at index 16: file:/C:/Program Files/eclipse/../../Users/ABC/.eclipse/org.eclipse.platform_4.17.0_1709980481_win32_win32_x86_64/plugins/org.sonarlint.eclipse.core_7.2.1.42550/plugins/sonar-html-plugin-3.6.0.3106.jar\r\nat java.base/java.net.URI$Parser.fail(URI.java:2913) at java.base/java.net.URI$Parser.checkChars(URI.java:3084) \r\nat java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166) \r\nat java.base/java.net.URI$Parser.parse(URI.java:3114) \r\nat java.base/java.net.URI.&lt;init&gt;(URI.java:600) \r\nat java.base/java.net.URL.TOURI(URL.java:1061) \r\nat org.sonarlint.eclipse.core.internal.engine.StandaloneEngineFacade.topath(StandaloneEngineFacade.java:96) \r\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) \r\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) \r\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) \r\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) \r\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) \r\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) \r\nat org.sonarlint.eclipse.core.internal.engine.StandaloneEngineFacade.getOrCreateEngine(StandaloneEngineFacade.java:64) \r\nat org.sonarlint.eclipse.core.internal.engine.StandaloneEngineFacadewithEngine(StandaloneEngine Facade.java:104) \r\nat org.sonarlint.eclipse.core.internal.engine.StandaloneEngineFacade.runAnalysis(StandaloneEngineFacade.java:115) \r\nat org.sonarlint.eclipse.core.internal.jobs.AnalyzeStandaloneProjectJob.runAnalysis(AnalyzeStandaloneProjectJob.java:62) \r\nat org.sonarlint.eclipse.core.internal.jobs.AnalyzestandaloneProjectJob.runAnalysis(AnalyzeStandaloneProjectJob.java:1) \r\nat org.sonarlint.eclipse.core.internal.jobs.AbstractAnalyzeProjectJob.run(AbstractAnalyzeProjectJob.java:393) \r\nat org.sonarlint.eclipse.core.internal.jobs.AbstractAnalyzeProjectJob.runAnalysisAndUpdateMarkers(AbstractAnalyzeProjectjob.java:201) \r\nat org.sonarlint.eclipse.core.internal.jobs.AbstractAnalyzeProjectJob.doRun(AbstractAnalyzeProjectjob.java:157) \r\nat org.sonarlint.eclipse.core.internal.jobs.AbstractsonarProjectJob.run(AbstractSonarProjectJob.java:45) \r\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n```","title":"SonarLint Plugin Initialisation Error in Eclipse IDE","body":"<p>I have recently installed SonarLint plugin in Eclipse IDE on one of my workstation.</p>\n<p>However, while initialising the plugin, I am getting an error</p>\n<blockquote>\n<p>Illegal character in path at index 16</p>\n</blockquote>\n<p>because of which the plugin is not working as it fails while initialisation only.</p>\n<p>I have used SonarLint frequently on other desktops as well, but I have never encountered such issue before.</p>\n<p><strong>Note:</strong> Username has been intentionally masked in the folder path shown in the screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/O675F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O675F.png\" alt=\"SonarLint Plugin - Initialisation Error\" /></a></p>\n<p>Error stack trace:</p>\n<pre><code>Unable to load plugin bundleentry://945.fwk697742350/plugins/sonar-html-plugin-3.6.0.3106.jar\njava.net.URISyntaxException: Illegal character in path at index 16: file:/C:/Program Files/eclipse/../../Users/ABC/.eclipse/org.eclipse.platform_4.17.0_1709980481_win32_win32_x86_64/plugins/org.sonarlint.eclipse.core_7.2.1.42550/plugins/sonar-html-plugin-3.6.0.3106.jar\nat java.base/java.net.URI$Parser.fail(URI.java:2913) at java.base/java.net.URI$Parser.checkChars(URI.java:3084) \nat java.base/java.net.URI$Parser.parseHierarchical(URI.java:3166) \nat java.base/java.net.URI$Parser.parse(URI.java:3114) \nat java.base/java.net.URI.&lt;init&gt;(URI.java:600) \nat java.base/java.net.URL.TOURI(URL.java:1061) \nat org.sonarlint.eclipse.core.internal.engine.StandaloneEngineFacade.topath(StandaloneEngineFacade.java:96) \nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) \nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) \nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) \nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) \nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) \nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) \nat org.sonarlint.eclipse.core.internal.engine.StandaloneEngineFacade.getOrCreateEngine(StandaloneEngineFacade.java:64) \nat org.sonarlint.eclipse.core.internal.engine.StandaloneEngineFacadewithEngine(StandaloneEngine Facade.java:104) \nat org.sonarlint.eclipse.core.internal.engine.StandaloneEngineFacade.runAnalysis(StandaloneEngineFacade.java:115) \nat org.sonarlint.eclipse.core.internal.jobs.AnalyzeStandaloneProjectJob.runAnalysis(AnalyzeStandaloneProjectJob.java:62) \nat org.sonarlint.eclipse.core.internal.jobs.AnalyzestandaloneProjectJob.runAnalysis(AnalyzeStandaloneProjectJob.java:1) \nat org.sonarlint.eclipse.core.internal.jobs.AbstractAnalyzeProjectJob.run(AbstractAnalyzeProjectJob.java:393) \nat org.sonarlint.eclipse.core.internal.jobs.AbstractAnalyzeProjectJob.runAnalysisAndUpdateMarkers(AbstractAnalyzeProjectjob.java:201) \nat org.sonarlint.eclipse.core.internal.jobs.AbstractAnalyzeProjectJob.doRun(AbstractAnalyzeProjectjob.java:157) \nat org.sonarlint.eclipse.core.internal.jobs.AbstractsonarProjectJob.run(AbstractSonarProjectJob.java:45) \nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n"},{"tags":["java","adoptopenjdk","debian-packaging"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1632769474,"post_id":69351051,"comment_id":122577989,"body_markdown":"IMHO this is mostly opinion based. If you just want to work with Java 17 use whatever is easiest to install. If you need to decide between the various versions because of performance constraints then you need to do performance tests with different versions and realistic work loads.","body":"IMHO this is mostly opinion based. If you just want to work with Java 17 use whatever is easiest to install. If you need to decide between the various versions because of performance constraints then you need to do performance tests with different versions and realistic work loads."},{"owner":{"account_id":8027469,"reputation":59,"user_id":6053831,"display_name":"S. TOURE"},"score":0,"creation_date":1632772228,"post_id":69351051,"comment_id":122578953,"body_markdown":"Thanks, Thomas! Because I want to use the Temurin OpendJDK, so in which directory can I move the extracted openJDK archive file (more suitable directory)? NB: The directory **usr/lib/jvm** hold only (and deny archive file) jdk installed with apt-get","body":"Thanks, Thomas! Because I want to use the Temurin OpendJDK, so in which directory can I move the extracted openJDK archive file (more suitable directory)? NB: The directory <b>usr/lib/jvm</b> hold only (and deny archive file) jdk installed with apt-get"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1632772721,"post_id":69351051,"comment_id":122579148,"body_markdown":"Sorry, but I don&#39;t know. I only ever installed debian openjdk packages on debian machines.","body":"Sorry, but I don&#39;t know. I only ever installed debian openjdk packages on debian machines."},{"owner":{"account_id":8027469,"reputation":59,"user_id":6053831,"display_name":"S. TOURE"},"score":0,"creation_date":1632776131,"post_id":69351051,"comment_id":122580243,"body_markdown":"Finally I found the solution. You have to create a jdk folder in the opt directory (opt/jdk). See this link [Install JDK from targz](https://gist.github.com/filipelenfers/ef3f593deb0751944bb54b744bcac074)","body":"Finally I found the solution. You have to create a jdk folder in the opt directory (opt/jdk). See this link <a href=\"https://gist.github.com/filipelenfers/ef3f593deb0751944bb54b744bcac074\" rel=\"nofollow noreferrer\">Install JDK from targz</a>"}],"answers":[{"tags":[],"owner":{"account_id":243463,"reputation":987,"user_id":515655,"accept_rate":50,"display_name":"user515655"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643589160,"creation_date":1643589160,"answer_id":70920172,"question_id":69351051,"body_markdown":"lwjgl [had issues][1] with non-Adoptium JVMs from 11 onward. They seem to have [fixed][2] it with version 3.\r\n\r\nAs for this writing, JOGL also has this issue but [does not have a fix][3] AFAIK.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/64135865/515655\r\n  [2]: https://stackoverflow.com/a/67439944/515655\r\n  [3]: https://forum.jogamp.org/Inconsistency-detected-by-ld-so-dl-lookup-c-td4040188.html","title":"What are the advantages of installing Eclipse Temurin OpenJDK in place of OpenJDK Deb Package on Debian?","body":"<p>lwjgl <a href=\"https://stackoverflow.com/a/64135865/515655\">had issues</a> with non-Adoptium JVMs from 11 onward. They seem to have <a href=\"https://stackoverflow.com/a/67439944/515655\">fixed</a> it with version 3.</p>\n<p>As for this writing, JOGL also has this issue but <a href=\"https://forum.jogamp.org/Inconsistency-detected-by-ld-so-dl-lookup-c-td4040188.html\" rel=\"nofollow noreferrer\">does not have a fix</a> AFAIK.</p>\n"},{"tags":[],"owner":{"account_id":24228592,"reputation":76,"user_id":18182699,"display_name":"EVi1b7wO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644599926,"creation_date":1644599926,"answer_id":71084059,"question_id":69351051,"body_markdown":"**As a rule of thumb**, just stick with what the official Debian repositories provide to be sure to receive regular updates and more important: Security updates released by the Debian project.\r\n\r\nBefore you resort to unpack tarballs into whatever location you should watch out for a maintained repository.\r\n\r\nIn case of Adoptium you might want to add their official repository that has been published on 2021-12-30.&lt;br&gt;\r\nhttps://blog.adoptium.net/2021/12/eclipse-temurin-linux-installers-available/\r\n\r\n    wget -O - https://packages.adoptium.net/artifactory/api/gpg/key/public \\\r\n        | apt-key add -\r\n    \r\n    echo &quot;deb https://packages.adoptium.net/artifactory/deb bullseye main&quot; \\\r\n        &gt; /etc/apt/sources.list.d/adoptium.list\r\n    \r\n    apt update &amp;&amp; apt install temurin-17-jdk\r\n\r\n**TCK certification** might be worth only if you intend to ship commercial software to industry customers which insist on it.\r\n","title":"What are the advantages of installing Eclipse Temurin OpenJDK in place of OpenJDK Deb Package on Debian?","body":"<p><strong>As a rule of thumb</strong>, just stick with what the official Debian repositories provide to be sure to receive regular updates and more important: Security updates released by the Debian project.</p>\n<p>Before you resort to unpack tarballs into whatever location you should watch out for a maintained repository.</p>\n<p>In case of Adoptium you might want to add their official repository that has been published on 2021-12-30.<br>\n<a href=\"https://blog.adoptium.net/2021/12/eclipse-temurin-linux-installers-available/\" rel=\"nofollow noreferrer\">https://blog.adoptium.net/2021/12/eclipse-temurin-linux-installers-available/</a></p>\n<pre><code>wget -O - https://packages.adoptium.net/artifactory/api/gpg/key/public \\\n    | apt-key add -\n\necho &quot;deb https://packages.adoptium.net/artifactory/deb bullseye main&quot; \\\n    &gt; /etc/apt/sources.list.d/adoptium.list\n\napt update &amp;&amp; apt install temurin-17-jdk\n</code></pre>\n<p><strong>TCK certification</strong> might be worth only if you intend to ship commercial software to industry customers which insist on it.</p>\n"}],"owner":{"account_id":8027469,"reputation":59,"user_id":6053831,"display_name":"S. TOURE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9326,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1644599926,"creation_date":1632764380,"question_id":69351051,"body_markdown":"I have on my Debian 11 Bullseye these JDK installed : \r\n\r\n    sudo update-java-alternatives -l\r\n    java-1.11.0-openjdk-amd64      1111       /usr/lib/jvm/java-1.11.0-openjdk-amd64\r\n    java-1.8.0-openjdk-amd64       1081       /usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n\r\nI want to switch to OpenJDK 17 and would to know if the Eclipse Temurin OpenJDK 17 is preferable to install instead of deb OpenJDK 17 package?\r\nNB: Temurin advantages according to [Adoptium](https://adoptium.net/) are :\r\n\r\n&gt; supports high-quality, TCK certified runtimes and associated\r\n&gt; technology for use across the Java ecosystem\r\n","title":"What are the advantages of installing Eclipse Temurin OpenJDK in place of OpenJDK Deb Package on Debian?","body":"<p>I have on my Debian 11 Bullseye these JDK installed :</p>\n<pre><code>sudo update-java-alternatives -l\njava-1.11.0-openjdk-amd64      1111       /usr/lib/jvm/java-1.11.0-openjdk-amd64\njava-1.8.0-openjdk-amd64       1081       /usr/lib/jvm/java-1.8.0-openjdk-amd64\n</code></pre>\n<p>I want to switch to OpenJDK 17 and would to know if the Eclipse Temurin OpenJDK 17 is preferable to install instead of deb OpenJDK 17 package?\nNB: Temurin advantages according to <a href=\"https://adoptium.net/\" rel=\"noreferrer\">Adoptium</a> are :</p>\n<blockquote>\n<p>supports high-quality, TCK certified runtimes and associated\ntechnology for use across the Java ecosystem</p>\n</blockquote>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":24142081,"reputation":78,"user_id":18108156,"display_name":"Daniel Scerpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644599920,"creation_date":1644599242,"answer_id":71083915,"question_id":70163658,"body_markdown":"If you need to perform a unit test on the MyInteger class,\r\nyou can simply add a Test Case to your project and create your @Tests:\r\n\r\n    import static org.junit.Assert.*;\r\n    import org.junit.Test;\r\n    \r\n    public class MyIntegerTest {\r\n    \t@Test\r\n    \tpublic void testIsOdd() {\r\n    \t\tMyInteger integer = new MyInteger(11);\r\n    \t\tassertTrue(integer.isOdd());\r\n    \t}\r\n    }\r\n\r\n\r\n[Execution of IntegerTest][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ruBdb.png","title":"How do I run a JUnit test on an implemented class in Eclipse?","body":"<p>If you need to perform a unit test on the MyInteger class,\nyou can simply add a Test Case to your project and create your @Tests:</p>\n<pre><code>import static org.junit.Assert.*;\nimport org.junit.Test;\n\npublic class MyIntegerTest {\n    @Test\n    public void testIsOdd() {\n        MyInteger integer = new MyInteger(11);\n        assertTrue(integer.isOdd());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ruBdb.png\" rel=\"nofollow noreferrer\">Execution of IntegerTest</a></p>\n"}],"owner":{"account_id":23322671,"reputation":13,"user_id":17400288,"display_name":"Jack Beyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644599920,"creation_date":1638240117,"question_id":70163658,"body_markdown":"    package evenodd;\r\n    \r\n    public class HW3 { public static void main(String[] args) {\r\n        MyInteger int1 = new MyInteger(5);\r\n        MyInteger int2 = new MyInteger(38);\r\n        MyInteger int3 = new MyInteger(10);\r\n        MyInteger int4 = new MyInteger(5);\r\n    \r\n        System.out.printf(&quot;%d is even? %s%n&quot;, int1.getValue(), int1.isEven());\r\n        System.out.printf(&quot;%d is even? %s%n&quot;, int2.getValue(), int2.isEven());\r\n        System.out.printf(&quot;%d is even? %s%n&quot;, int3.getValue(), int3.isEven());\r\n    \r\n        System.out.printf(&quot;93 is odd? %s%n&quot;, MyInteger.isOdd(93));\r\n        \r\n        System.out.printf(&quot;%d equals %d? %s%n&quot;, int1.getValue(), int4.getValue(), int1.equals(int4));\r\n        System.out.println(&quot;The value of int1 is equal to 5? &quot; + int1.equals(5));\r\n    }\r\n    }\r\n    \r\n    \r\n    class MyInteger {\r\n    private int mValue;\r\n    \r\n    public MyInteger(int value) {\r\n        mValue = value;\r\n    }\r\n    \r\n    public int getValue() {\r\n        return mValue;\r\n    }\r\n    \r\n    public boolean isEven() {\r\n        return (mValue % 2) == 0;\r\n    }\r\n    \r\n    public boolean isOdd() {\r\n        return (mValue % 2) == 1;\r\n    }\r\n    \r\n    public static boolean isEven(int myInt) {\r\n        return (myInt % 2) == 0;\r\n    }\r\n    \r\n    public static boolean isOdd(int myInt) {\r\n        return (myInt % 2) == 1;\r\n    }  \r\n    \r\n    public static boolean isEven(MyInteger myInt) {\r\n        return myInt.isEven();\r\n    }\r\n    \r\n    public static boolean isOdd(MyInteger myInt) {\r\n        return myInt.isOdd();\r\n    }\r\n    \r\n    public boolean equals(int testInt) {\r\n        if (testInt == mValue) \r\n            return true;\r\n        return false;\r\n    }\r\n    \r\n    public boolean equals(MyInteger myInt) {\r\n        if (myInt.mValue == this.mValue) \r\n            return true;\r\n        return false;\r\n    }\r\n    }\r\nI am trying to test the MyInteger class with JUnit in Eclipse but it keeps saying, &quot;Class under test does not exist in current project.&quot; Does anyone know how to fix this? Also, I created a second source file in the java project with a package of the same name (evenodd) to put the JUnit test into because that&#39;s what this tutorial I was following said to do.","title":"How do I run a JUnit test on an implemented class in Eclipse?","body":"<pre><code>package evenodd;\n\npublic class HW3 { public static void main(String[] args) {\n    MyInteger int1 = new MyInteger(5);\n    MyInteger int2 = new MyInteger(38);\n    MyInteger int3 = new MyInteger(10);\n    MyInteger int4 = new MyInteger(5);\n\n    System.out.printf(&quot;%d is even? %s%n&quot;, int1.getValue(), int1.isEven());\n    System.out.printf(&quot;%d is even? %s%n&quot;, int2.getValue(), int2.isEven());\n    System.out.printf(&quot;%d is even? %s%n&quot;, int3.getValue(), int3.isEven());\n\n    System.out.printf(&quot;93 is odd? %s%n&quot;, MyInteger.isOdd(93));\n    \n    System.out.printf(&quot;%d equals %d? %s%n&quot;, int1.getValue(), int4.getValue(), int1.equals(int4));\n    System.out.println(&quot;The value of int1 is equal to 5? &quot; + int1.equals(5));\n}\n}\n\n\nclass MyInteger {\nprivate int mValue;\n\npublic MyInteger(int value) {\n    mValue = value;\n}\n\npublic int getValue() {\n    return mValue;\n}\n\npublic boolean isEven() {\n    return (mValue % 2) == 0;\n}\n\npublic boolean isOdd() {\n    return (mValue % 2) == 1;\n}\n\npublic static boolean isEven(int myInt) {\n    return (myInt % 2) == 0;\n}\n\npublic static boolean isOdd(int myInt) {\n    return (myInt % 2) == 1;\n}  \n\npublic static boolean isEven(MyInteger myInt) {\n    return myInt.isEven();\n}\n\npublic static boolean isOdd(MyInteger myInt) {\n    return myInt.isOdd();\n}\n\npublic boolean equals(int testInt) {\n    if (testInt == mValue) \n        return true;\n    return false;\n}\n\npublic boolean equals(MyInteger myInt) {\n    if (myInt.mValue == this.mValue) \n        return true;\n    return false;\n}\n}\n</code></pre>\n<p>I am trying to test the MyInteger class with JUnit in Eclipse but it keeps saying, &quot;Class under test does not exist in current project.&quot; Does anyone know how to fix this? Also, I created a second source file in the java project with a package of the same name (evenodd) to put the JUnit test into because that's what this tutorial I was following said to do.</p>\n"},{"tags":["java","design-patterns","abstract-factory","factory-method"],"comments":[{"owner":{"account_id":4518950,"reputation":2083,"user_id":4109326,"display_name":"Alexander Guyer"},"score":1,"creation_date":1644598976,"post_id":71083556,"comment_id":125657454,"body_markdown":"You might be confused about what the factory method pattern is. Both of your examples are identical, and they&#39;re both abstract factories. That is, `UICreatorAbstractFactory` defines an interface for creating a family of objects (buttons and text boxes). `UICreator` does the *exact* same thing; it defines an interface for creating the exact same family of objects. The fact that it&#39;s an &quot;abstract class&quot; instead of an &quot;interface&quot; and includes an extra method is irrelevant. A factory method, in contrast, is supposed to create exactly *one* type of object, not a family of them.","body":"You might be confused about what the factory method pattern is. Both of your examples are identical, and they&#39;re both abstract factories. That is, <code>UICreatorAbstractFactory</code> defines an interface for creating a family of objects (buttons and text boxes). <code>UICreator</code> does the <i>exact</i> same thing; it defines an interface for creating the exact same family of objects. The fact that it&#39;s an &quot;abstract class&quot; instead of an &quot;interface&quot; and includes an extra method is irrelevant. A factory method, in contrast, is supposed to create exactly <i>one</i> type of object, not a family of them."},{"owner":{"account_id":8179562,"reputation":1345,"user_id":8324585,"display_name":"Tortellini Teusday"},"score":0,"creation_date":1644599237,"post_id":71083556,"comment_id":125657536,"body_markdown":"@AlexanderGuyer So, effectively, we can say that &quot;multiple factory methods&quot; are not allowed in the factory method pattern?","body":"@AlexanderGuyer So, effectively, we can say that &quot;multiple factory methods&quot; are not allowed in the factory method pattern?"},{"owner":{"account_id":4518950,"reputation":2083,"user_id":4109326,"display_name":"Alexander Guyer"},"score":1,"creation_date":1644599343,"post_id":71083556,"comment_id":125657588,"body_markdown":"More specifically, we can say that &quot;multiple factory methods&quot; is the definition of an abstract factory. The *intention* of an abstract factory is to define an interface for constructing a family of related objects, but the actual appearance of an abstract factory in practice is just multiple factory methods present in one interface.","body":"More specifically, we can say that &quot;multiple factory methods&quot; is the definition of an abstract factory. The <i>intention</i> of an abstract factory is to define an interface for constructing a family of related objects, but the actual appearance of an abstract factory in practice is just multiple factory methods present in one interface."},{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1644687269,"post_id":71083556,"comment_id":125674766,"body_markdown":"I think this question is another way of asking [What are the differences between Abstract Factory and Factory design patterns?](https://stackoverflow.com/q/5739611/1371329) The top four answers in that thread are all high quality, with the fourth being my own. Note the comment above from @AlexanderGuyer perpetuates the all-too-common misconception that Abstract Factory is nothing more than a factory of factories.","body":"I think this question is another way of asking <a href=\"https://stackoverflow.com/q/5739611/1371329\">What are the differences between Abstract Factory and Factory design patterns?</a> The top four answers in that thread are all high quality, with the fourth being my own. Note the comment above from @AlexanderGuyer perpetuates the all-too-common misconception that Abstract Factory is nothing more than a factory of factories."},{"owner":{"account_id":4518950,"reputation":2083,"user_id":4109326,"display_name":"Alexander Guyer"},"score":0,"creation_date":1644701683,"post_id":71083556,"comment_id":125677844,"body_markdown":"@jaco0646 Perhaps I should&#39;ve been more clear. I didn&#39;t claim that an abstract factory is a factory of factories at all. Rather, I stated that an abstract factory almost always presents as a single class / interface with multiple &quot;factory methods&quot; in it (one per type of object in the family of related object types). The top and accepted answer in your own reference is quoted saying the *exact* same thing: &quot;The abstract factory is an object that has multiple factory methods on it&quot;. Though the distinction that a factory method truly is just a method, rather than an object, is important.","body":"@jaco0646 Perhaps I should&#39;ve been more clear. I didn&#39;t claim that an abstract factory is a factory of factories at all. Rather, I stated that an abstract factory almost always presents as a single class / interface with multiple &quot;factory methods&quot; in it (one per type of object in the family of related object types). The top and accepted answer in your own reference is quoted saying the <i>exact</i> same thing: &quot;The abstract factory is an object that has multiple factory methods on it&quot;. Though the distinction that a factory method truly is just a method, rather than an object, is important."},{"owner":{"account_id":11553033,"reputation":109,"user_id":8464994,"display_name":"manjy"},"score":0,"creation_date":1689078532,"post_id":71083556,"comment_id":135159520,"body_markdown":"i had the same doubt, and none of the answer really answers the question. Were you able to find an answer @TortelliniTeusday ?","body":"i had the same doubt, and none of the answer really answers the question. Were you able to find an answer @TortelliniTeusday ?"}],"answers":[{"tags":[],"owner":{"account_id":14869803,"reputation":1329,"user_id":10737626,"display_name":"Nick the Community Scientist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644599239,"creation_date":1644598337,"answer_id":71083721,"question_id":71083556,"body_markdown":"I would like to show you an image from [Saurav Satpathy&#39;s blog here][1] which quickly can explain why you want abstract factory over factory method at times.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThe argument for dependency injection and collection of related objects makes a lot of sense and here is a coded example by a great creator [The Refactoring Guru on Abstract Factory][3] and here is [his example on factory method][4]. The main difference between the examples in my opinion is the abstract factory better depicts the complexity of factories that create multiple types of objects. Additionally, it effectively divides the code in more classes, making each class simpler to understand (but creating more classes in total, of course).\r\n\r\nKeep in mind this is not a very in depth analysis as of now, I want to see other people&#39;s opinions on the matter and give it some time to think for myself. I may come back in a couple of days with an edit (currently a bit busy, but I sneaked a quick opinion for you)\r\n\r\n**Edit #1 Inheritance**\r\n&gt; &quot;Favor object composition over class inheritance. Inheritance breaks encapsulation, implement abstract classes, do not inherit concrete classes! - The Gang of Four on Design Patterns&quot;\r\n\r\nSo object inheritance if you read the GoF&#39;s book: &quot;Design Patterns Elements of Reusable Object-Oriented Software&quot; is discouraged, especially when systems become more and more complex or higher in scope. Edit influenced by @FelipeLlinares great point indeed.\r\n \r\n\r\n  [1]: https://medium.com/bitmountn/factory-vs-factory-method-vs-abstract-factory-c3adaeb5ac9a\r\n  [2]: https://i.stack.imgur.com/pSY2S.png\r\n  [3]: https://refactoring.guru/design-patterns/abstract-factory\r\n  [4]: https://refactoring.guru/design-patterns/factory-method","title":"If I can have multiple factory methods in a creator class, why would I ever need the abstract factory pattern?","body":"<p>I would like to show you an image from <a href=\"https://medium.com/bitmountn/factory-vs-factory-method-vs-abstract-factory-c3adaeb5ac9a\" rel=\"nofollow noreferrer\">Saurav Satpathy's blog here</a> which quickly can explain why you want abstract factory over factory method at times.</p>\n<p><a href=\"https://i.stack.imgur.com/pSY2S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSY2S.png\" alt=\"enter image description here\" /></a></p>\n<p>The argument for dependency injection and collection of related objects makes a lot of sense and here is a coded example by a great creator <a href=\"https://refactoring.guru/design-patterns/abstract-factory\" rel=\"nofollow noreferrer\">The Refactoring Guru on Abstract Factory</a> and here is <a href=\"https://refactoring.guru/design-patterns/factory-method\" rel=\"nofollow noreferrer\">his example on factory method</a>. The main difference between the examples in my opinion is the abstract factory better depicts the complexity of factories that create multiple types of objects. Additionally, it effectively divides the code in more classes, making each class simpler to understand (but creating more classes in total, of course).</p>\n<p>Keep in mind this is not a very in depth analysis as of now, I want to see other people's opinions on the matter and give it some time to think for myself. I may come back in a couple of days with an edit (currently a bit busy, but I sneaked a quick opinion for you)</p>\n<p><strong>Edit #1 Inheritance</strong></p>\n<blockquote>\n<p>&quot;Favor object composition over class inheritance. Inheritance breaks encapsulation, implement abstract classes, do not inherit concrete classes! - The Gang of Four on Design Patterns&quot;</p>\n</blockquote>\n<p>So object inheritance if you read the GoF's book: &quot;Design Patterns Elements of Reusable Object-Oriented Software&quot; is discouraged, especially when systems become more and more complex or higher in scope. Edit influenced by @FelipeLlinares great point indeed.</p>\n"},{"tags":[],"owner":{"account_id":24228549,"reputation":36,"user_id":18182661,"display_name":"FelipeLlinares"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644598514,"creation_date":1644598514,"answer_id":71083760,"question_id":71083556,"body_markdown":"They are both about creating new objects but the factory method is used to create one product only while the Abstract Factory is about creating families of related or dependent products.\r\nIn the Abstract Factory pattern, a class delegates the responsibility of object instantiation to another object via composition, whereas the Factory Method pattern uses inheritance and relies on a subclass to handle the desired object instantiation.","title":"If I can have multiple factory methods in a creator class, why would I ever need the abstract factory pattern?","body":"<p>They are both about creating new objects but the factory method is used to create one product only while the Abstract Factory is about creating families of related or dependent products.\nIn the Abstract Factory pattern, a class delegates the responsibility of object instantiation to another object via composition, whereas the Factory Method pattern uses inheritance and relies on a subclass to handle the desired object instantiation.</p>\n"}],"owner":{"account_id":8179562,"reputation":1345,"user_id":8324585,"display_name":"Tortellini Teusday"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2027,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1644599239,"creation_date":1644597634,"question_id":71083556,"body_markdown":"The abstract factory pattern is useful when we have families of related classes, and we want to instantiate them without relying on the implementation. However, what&#39;s wrong with using the factory method pattern in such a situation?\r\n\r\nLet&#39;s say that we want to construct cross-platform UI elements, e.g. `TextBox` and `Button` for Windows and macOS and treat them abstractly. This is the typical situation in which we use the abstract factory pattern, and we can do so by defining the following:\r\n\r\n- `AbstractUIElementsFactory` interface\r\n- `WindowsUIElementsFactory` implements `AbstractUIElementsFactory`\r\n- `MacUIElementsFactory` implements `AbstractUIElementsFactory`\r\n- `TextBox` abstract class\r\n    - `MacTextBox` extends `TextBox`\r\n    - `WindowsTextBox` extends `TextBox`\r\n- `Button` abstract class\r\n    - `MacButton` extends `Button`\r\n    - `WindowsButton` extends `Button`\r\n\r\nand the application would decide which concrete factory to create (based on some OS discovery mechanism) and pass it to a `UIApplication` class, which instantiates a `TextBox` and a `Button`, and calls `display` on them (which are abstract methods that simply return a `String`).\r\n\r\nThe code for this situation:\r\n\r\n```java\r\npackage abstractFactory;\r\n\r\nabstract class Button {\r\n    public abstract void display();\r\n}\r\n\r\nclass MacButton extends Button {\r\n    public void display() {\r\n        System.out.println(&quot;macButton&quot;);\r\n    }\r\n}\r\n\r\nclass WindowsButton extends Button {\r\n\r\n    @Override\r\n    public void display() {\r\n        System.out.println(&quot;winButton&quot;);\r\n    }\r\n}\r\n\r\nabstract class TextBox {\r\n    public abstract void display();\r\n}\r\n\r\n\r\nclass MacTextBox extends TextBox {\r\n\r\n    @Override\r\n    public void display() {\r\n        System.out.println(&quot;macTextBox&quot;);\r\n    }\r\n}\r\n\r\nclass WinTextBox extends TextBox {\r\n\r\n    @Override\r\n    public void display() {\r\n        System.out.println(&quot;winTextBox&quot;);\r\n    }\r\n}\r\n\r\ninterface UICreatorAbstractFactory {\r\n    Button getButton();\r\n    TextBox getTextBox();\r\n}\r\n\r\nclass MacFactory implements UICreatorAbstractFactory {\r\n\r\n    @Override\r\n    public Button getButton() {\r\n        return new MacButton();\r\n    }\r\n\r\n    @Override\r\n    public TextBox getTextBox() {\r\n        return new MacTextBox();\r\n    }\r\n}\r\n\r\nclass WindowsFactory implements UICreatorAbstractFactory {\r\n\r\n    @Override\r\n    public Button getButton() {\r\n        return new WindowsButton();\r\n    }\r\n\r\n    @Override\r\n    public TextBox getTextBox() {\r\n        return new WinTextBox();\r\n    }\r\n}\r\n\r\nclass UIApplication {\r\n    private UICreatorAbstractFactory factory;\r\n\r\n    UIApplication(UICreatorAbstractFactory _factory) {\r\n        factory = _factory;\r\n    }\r\n\r\n    public void displayUI() {\r\n        factory.getButton().display();\r\n        factory.getTextBox().display();\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        new UIApplication(new MacFactory()).displayUI();\r\n    }\r\n}\r\n```\r\n\r\nThis implementation allows us to get UI elements transparently from factory implementations and also UI elements implementations, which is largely why we would use the pattern.\r\n\r\nUsing the same `TextBox`, `Button`, and their derivatives, we can have a factory method implementation with two factory methods in the _creator_, `UICreator`, each of which returns an abstract UI element. And we derive the _creator_ and make two specializations `WindowsUICreator`, and `MacUICreator`, and each of which returns the appropriate concrete UI element, as follows:\r\n\r\n```java\r\nabstract class UICreator {\r\n\r\n    public void displayUI() {\r\n        getButton().display();\r\n        getTextBox().display();\r\n    }\r\n\r\n    protected abstract Button getButton();\r\n    protected abstract TextBox getTextBox();\r\n\r\n}\r\n\r\nclass WindowsUICreator extends UICreator {\r\n\r\n    @Override\r\n    protected Button getButton() {\r\n        return new WindowsButton();\r\n    }\r\n\r\n    @Override\r\n    protected TextBox getTextBox() {\r\n        return new WinTextBox();\r\n    }\r\n}\r\n\r\nclass MacUICreator extends UICreator {\r\n\r\n    @Override\r\n    protected Button getButton() {\r\n        return new MacButton();\r\n    }\r\n\r\n    @Override\r\n    protected TextBox getTextBox() {\r\n        return new MacTextBox();\r\n    }\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        new MacUICreator().displayUI();\r\n    }\r\n}\r\n```\r\n\r\nWhat are the downsides of this design? I believe it provides the needed decoupling by not having to deal with any concrete classes, and also provides the proper extensibility in the sense that we can introduce new UI elements and give them new factory methods, or newly supported OSs and implement concrete _creators_ for them. And if we can use the factory method pattern in the exact situation the abstract factory pattern was designed for, I don&#39;t understand why do we have it at all?","title":"If I can have multiple factory methods in a creator class, why would I ever need the abstract factory pattern?","body":"<p>The abstract factory pattern is useful when we have families of related classes, and we want to instantiate them without relying on the implementation. However, what's wrong with using the factory method pattern in such a situation?</p>\n<p>Let's say that we want to construct cross-platform UI elements, e.g. <code>TextBox</code> and <code>Button</code> for Windows and macOS and treat them abstractly. This is the typical situation in which we use the abstract factory pattern, and we can do so by defining the following:</p>\n<ul>\n<li><code>AbstractUIElementsFactory</code> interface</li>\n<li><code>WindowsUIElementsFactory</code> implements <code>AbstractUIElementsFactory</code></li>\n<li><code>MacUIElementsFactory</code> implements <code>AbstractUIElementsFactory</code></li>\n<li><code>TextBox</code> abstract class\n<ul>\n<li><code>MacTextBox</code> extends <code>TextBox</code></li>\n<li><code>WindowsTextBox</code> extends <code>TextBox</code></li>\n</ul>\n</li>\n<li><code>Button</code> abstract class\n<ul>\n<li><code>MacButton</code> extends <code>Button</code></li>\n<li><code>WindowsButton</code> extends <code>Button</code></li>\n</ul>\n</li>\n</ul>\n<p>and the application would decide which concrete factory to create (based on some OS discovery mechanism) and pass it to a <code>UIApplication</code> class, which instantiates a <code>TextBox</code> and a <code>Button</code>, and calls <code>display</code> on them (which are abstract methods that simply return a <code>String</code>).</p>\n<p>The code for this situation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package abstractFactory;\n\nabstract class Button {\n    public abstract void display();\n}\n\nclass MacButton extends Button {\n    public void display() {\n        System.out.println(&quot;macButton&quot;);\n    }\n}\n\nclass WindowsButton extends Button {\n\n    @Override\n    public void display() {\n        System.out.println(&quot;winButton&quot;);\n    }\n}\n\nabstract class TextBox {\n    public abstract void display();\n}\n\n\nclass MacTextBox extends TextBox {\n\n    @Override\n    public void display() {\n        System.out.println(&quot;macTextBox&quot;);\n    }\n}\n\nclass WinTextBox extends TextBox {\n\n    @Override\n    public void display() {\n        System.out.println(&quot;winTextBox&quot;);\n    }\n}\n\ninterface UICreatorAbstractFactory {\n    Button getButton();\n    TextBox getTextBox();\n}\n\nclass MacFactory implements UICreatorAbstractFactory {\n\n    @Override\n    public Button getButton() {\n        return new MacButton();\n    }\n\n    @Override\n    public TextBox getTextBox() {\n        return new MacTextBox();\n    }\n}\n\nclass WindowsFactory implements UICreatorAbstractFactory {\n\n    @Override\n    public Button getButton() {\n        return new WindowsButton();\n    }\n\n    @Override\n    public TextBox getTextBox() {\n        return new WinTextBox();\n    }\n}\n\nclass UIApplication {\n    private UICreatorAbstractFactory factory;\n\n    UIApplication(UICreatorAbstractFactory _factory) {\n        factory = _factory;\n    }\n\n    public void displayUI() {\n        factory.getButton().display();\n        factory.getTextBox().display();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        new UIApplication(new MacFactory()).displayUI();\n    }\n}\n</code></pre>\n<p>This implementation allows us to get UI elements transparently from factory implementations and also UI elements implementations, which is largely why we would use the pattern.</p>\n<p>Using the same <code>TextBox</code>, <code>Button</code>, and their derivatives, we can have a factory method implementation with two factory methods in the <em>creator</em>, <code>UICreator</code>, each of which returns an abstract UI element. And we derive the <em>creator</em> and make two specializations <code>WindowsUICreator</code>, and <code>MacUICreator</code>, and each of which returns the appropriate concrete UI element, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class UICreator {\n\n    public void displayUI() {\n        getButton().display();\n        getTextBox().display();\n    }\n\n    protected abstract Button getButton();\n    protected abstract TextBox getTextBox();\n\n}\n\nclass WindowsUICreator extends UICreator {\n\n    @Override\n    protected Button getButton() {\n        return new WindowsButton();\n    }\n\n    @Override\n    protected TextBox getTextBox() {\n        return new WinTextBox();\n    }\n}\n\nclass MacUICreator extends UICreator {\n\n    @Override\n    protected Button getButton() {\n        return new MacButton();\n    }\n\n    @Override\n    protected TextBox getTextBox() {\n        return new MacTextBox();\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new MacUICreator().displayUI();\n    }\n}\n</code></pre>\n<p>What are the downsides of this design? I believe it provides the needed decoupling by not having to deal with any concrete classes, and also provides the proper extensibility in the sense that we can introduce new UI elements and give them new factory methods, or newly supported OSs and implement concrete <em>creators</em> for them. And if we can use the factory method pattern in the exact situation the abstract factory pattern was designed for, I don't understand why do we have it at all?</p>\n"},{"tags":["java","postgresql","hibernate","heap-memory"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1644598807,"post_id":71083765,"comment_id":125657382,"body_markdown":"The DISTINCT is very inefficient here and not needed to begin with if you change the `LEFT JOIN`s to EXISTS conditions - I don&#39; know how to do that in HQL though.","body":"The DISTINCT is very inefficient here and not needed to begin with if you change the <code>LEFT JOIN</code>s to EXISTS conditions - I don&#39; know how to do that in HQL though."},{"owner":{"account_id":3508935,"reputation":159,"user_id":2933780,"display_name":"galaxy"},"score":0,"creation_date":1644602264,"post_id":71083765,"comment_id":125658574,"body_markdown":"You should use a paging mechanism. Hibernate supports it.","body":"You should use a paging mechanism. Hibernate supports it."}],"owner":{"account_id":3650578,"reputation":535,"user_id":3042873,"accept_rate":83,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644598533,"creation_date":1644598533,"question_id":71083765,"body_markdown":"In my Java application I have a class Journey which among other things has a One-to-Many relationship with ActiveDateRange, which represents details (dates) to when the Journey is operational.\r\n\r\nJourney also has a One-to-Many relationship with the stops that the Journey is scheduled to make, usually 10-30 stops per journey.\r\n\r\n```\r\nclass Journey{\r\n...\r\n    @OneToMany(mappedBy = &quot;journey&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\tprivate SortedSet&lt;ActiveDateRange&gt; activeDateRanges = new TreeSet&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;journey&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\tprivate SortedSet&lt;JourneyStop&gt; stops = new TreeSet&lt;&gt;();\r\n...\r\n}\r\n```\r\n\r\n```\r\nclass ActiveDateRange{\r\n...\r\n    @Temporal(TemporalType.DATE)\r\n\t@Column(name = &quot;valid_start&quot;, nullable = false)\r\n\tprivate Date validStart;\r\n\r\n\t@Temporal(TemporalType.DATE)\r\n\t@Column(name = &quot;valid_end&quot;, nullable = false)\r\n\tprivate Date validEnd;\r\n\r\n    @ManyToOne\r\n\t@JoinColumn(name = &quot;journey_id&quot;, nullable = false)\r\n\tprivate Journey journey;\r\n...\r\n```\r\n\r\n\r\n```\r\nclass JourneyStop{\r\n...\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;journey_id&quot;, nullable = false,\r\n\t\t\tforeignKey = @ForeignKey(name = &quot;fk_journey_stops_journey_id&quot;))\r\n\tprivate Journey journey;\r\n...\r\n```\r\n\r\nI&#39;m attempting to retrieve all Journeys with their linked ActiveDateRanges and JourneyStops for a date range, so to start I&#39;ve already retrieved a large list of journey_ids from the ActiveDateRange table in a separate query.\r\n\r\nUsing these IDs in an IN query, I&#39;m seeing a massive increase in used heap space while the below query executes:\r\n```\r\nStringBuilder queryBuilder = new StringBuilder();\r\nqueryBuilder.append(&quot;SELECT DISTINCT j FROM &quot;)\r\n    .append(Journey.class.getSimpleName())\r\n\t.append(&quot; j &quot;)\r\n\t.append(&quot; LEFT JOIN FETCH j.activeDateRanges rg &quot;)\r\n\t.append(&quot; LEFT JOIN FETCH j.stops where j.id in (:journeyIds)&quot;);\r\n\r\nQuery query = getEntityManager().createQuery(queryBuilder.toString());\r\nquery.setHint(QueryHints.HINT_PASS_DISTINCT_THROUGH, false);\r\n...\r\n```\r\n\r\nThere&#39;s roughly 50K Journeys in the table, my question is as each Journey has multiple ActiveDateRanges (sometimes up to 100) associated with it, and each Journey also has on average 20 JourneyStops associated, is this causing a massive duplication in the data during query execution before the DISTINCT removes these duplicates? \r\n\r\nInitially I&#39;ve thought that I&#39;m experiencing n * m rows retrieved with the join to ActiveDateRanges and then each of these is then joined to the JourneyStops resulting in a lot of duplication of data.\r\n\r\nThe heap usage increases linearly up to 8GB during this query, but once it finishes, the usage drops to less than 1GB as expected for normal operation. I&#39;m looking to resolve this bottleneck as I don&#39;t want to keep a very large heap allocated for this single query.","title":"Is my query for Hibernate retrieving thousands of duplicate records before removing with distinct?","body":"<p>In my Java application I have a class Journey which among other things has a One-to-Many relationship with ActiveDateRange, which represents details (dates) to when the Journey is operational.</p>\n<p>Journey also has a One-to-Many relationship with the stops that the Journey is scheduled to make, usually 10-30 stops per journey.</p>\n<pre><code>class Journey{\n...\n    @OneToMany(mappedBy = &quot;journey&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private SortedSet&lt;ActiveDateRange&gt; activeDateRanges = new TreeSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;journey&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private SortedSet&lt;JourneyStop&gt; stops = new TreeSet&lt;&gt;();\n...\n}\n</code></pre>\n<pre><code>class ActiveDateRange{\n...\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;valid_start&quot;, nullable = false)\n    private Date validStart;\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;valid_end&quot;, nullable = false)\n    private Date validEnd;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;journey_id&quot;, nullable = false)\n    private Journey journey;\n...\n</code></pre>\n<pre><code>class JourneyStop{\n...\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;journey_id&quot;, nullable = false,\n            foreignKey = @ForeignKey(name = &quot;fk_journey_stops_journey_id&quot;))\n    private Journey journey;\n...\n</code></pre>\n<p>I'm attempting to retrieve all Journeys with their linked ActiveDateRanges and JourneyStops for a date range, so to start I've already retrieved a large list of journey_ids from the ActiveDateRange table in a separate query.</p>\n<p>Using these IDs in an IN query, I'm seeing a massive increase in used heap space while the below query executes:</p>\n<pre><code>StringBuilder queryBuilder = new StringBuilder();\nqueryBuilder.append(&quot;SELECT DISTINCT j FROM &quot;)\n    .append(Journey.class.getSimpleName())\n    .append(&quot; j &quot;)\n    .append(&quot; LEFT JOIN FETCH j.activeDateRanges rg &quot;)\n    .append(&quot; LEFT JOIN FETCH j.stops where j.id in (:journeyIds)&quot;);\n\nQuery query = getEntityManager().createQuery(queryBuilder.toString());\nquery.setHint(QueryHints.HINT_PASS_DISTINCT_THROUGH, false);\n...\n</code></pre>\n<p>There's roughly 50K Journeys in the table, my question is as each Journey has multiple ActiveDateRanges (sometimes up to 100) associated with it, and each Journey also has on average 20 JourneyStops associated, is this causing a massive duplication in the data during query execution before the DISTINCT removes these duplicates?</p>\n<p>Initially I've thought that I'm experiencing n * m rows retrieved with the join to ActiveDateRanges and then each of these is then joined to the JourneyStops resulting in a lot of duplication of data.</p>\n<p>The heap usage increases linearly up to 8GB during this query, but once it finishes, the usage drops to less than 1GB as expected for normal operation. I'm looking to resolve this bottleneck as I don't want to keep a very large heap allocated for this single query.</p>\n"},{"tags":["java","android","metadata","media-player","android-bluetooth"],"comments":[{"owner":{"account_id":3859357,"reputation":1492,"user_id":3197468,"accept_rate":40,"display_name":"Pushpendra"},"score":0,"creation_date":1644596427,"post_id":61689383,"comment_id":125656401,"body_markdown":"Hi Did you get the solution for this. I am also facing the same issue.","body":"Hi Did you get the solution for this. I am also facing the same issue."}],"answers":[{"tags":[],"owner":{"account_id":9283335,"reputation":480,"user_id":7333367,"display_name":"A-run"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591944118,"creation_date":1591944118,"answer_id":62338873,"question_id":61689383,"body_markdown":"You have to call MediaSession.setMetadata(MediaMetadataCompat metadata) every time track information changes.\r\nhttps://developer.android.com/guide/topics/media-apps/media-apps-overview#mediasession-and-mediacontroller\r\nTo get the update for Metadata change you need to register for MediaController.Callback for calling MediaControllerCompat.registerCallback(ControllerCallback).\r\nSo when you set new Metadata for MediaSession, this Metadata will be received in onMetadataChanged (MediaMetadata metadata) callback of MediaController.Callback\r\n(https://developer.android.com/reference/android/media/session/MediaController.Callback?hl=en#onMetadataChanged(android.media.MediaMetadata)) method.\r\n\r\n\r\n","title":"Android : Update data on car audio","body":"<p>You have to call MediaSession.setMetadata(MediaMetadataCompat metadata) every time track information changes.\n<a href=\"https://developer.android.com/guide/topics/media-apps/media-apps-overview#mediasession-and-mediacontroller\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media-apps/media-apps-overview#mediasession-and-mediacontroller</a>\nTo get the update for Metadata change you need to register for MediaController.Callback for calling MediaControllerCompat.registerCallback(ControllerCallback).\nSo when you set new Metadata for MediaSession, this Metadata will be received in onMetadataChanged (MediaMetadata metadata) callback of MediaController.Callback\n(<a href=\"https://developer.android.com/reference/android/media/session/MediaController.Callback?hl=en#onMetadataChanged(android.media.MediaMetadata)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/session/MediaController.Callback?hl=en#onMetadataChanged(android.media.MediaMetadata)</a>) method.</p>\n"},{"tags":[],"owner":{"account_id":16250191,"reputation":54,"user_id":11734356,"display_name":"DevKazonovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595462899,"creation_date":1595462095,"answer_id":63044793,"question_id":61689383,"body_markdown":"You have to call MediaSession.setMetadata(MediaMetadataCompat metadata) every time track information changes. (call it in mediasession callbacks you onPlay/onPause/onStop from *MediaSessionCompat.Callback*)\r\nhttps://developer.android.com/guide/topics/media-apps/audio-app/mediasession-callbacks\r\n","title":"Android : Update data on car audio","body":"<p>You have to call MediaSession.setMetadata(MediaMetadataCompat metadata) every time track information changes. (call it in mediasession callbacks you onPlay/onPause/onStop from <em>MediaSessionCompat.Callback</em>)\n<a href=\"https://developer.android.com/guide/topics/media-apps/audio-app/mediasession-callbacks\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media-apps/audio-app/mediasession-callbacks</a></p>\n"},{"tags":[],"owner":{"account_id":3859357,"reputation":1492,"user_id":3197468,"accept_rate":40,"display_name":"Pushpendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644598473,"creation_date":1644598473,"answer_id":71083748,"question_id":61689383,"body_markdown":"I was facing this issue. And the problem was a bit. In My case, I was not setting the duration for the music. And always it was going to 0 only. After lots of research over google and stack overflow itself. I was not able to get the solution. But finally, I have found it and now it&#39;s working fine. If one of you also facing the same issue please go through with the below solution.\r\n\r\n        private fun initMediaSessionMetadata(currentTrack: MusicModel?) {\r\n        var duration =\r\n            (currentTrack?.duration?.toLong() ?: mMediaPlayer?.duration?.toLong()) ?: 1000\r\n        duration = if (duration &lt;= 0) 1000 else duration\r\n        val info = MediaMetadataCompat.Builder()\r\n            .putString(MediaMetadata.METADATA_KEY_MEDIA_ID, currentTrack?.id.toString())\r\n            .putString(MediaMetadata.METADATA_KEY_TITLE, currentTrack?.name)\r\n            .putString(MediaMetadata.METADATA_KEY_ARTIST, currentTrack?.artists)\r\n            .putString(MediaMetadata.METADATA_KEY_ALBUM_ART_URI, currentTrack?.thumbnail)\r\n            .putLong(MediaMetadata.METADATA_KEY_DURATION, duration)\r\n        val metadata = info.build()\r\n        mediaSession?.setMetadata(metadata)\r\n    }\r\n\r\nI hope you will able to crack it now. The following line is only the main problem for me \r\n&lt;br&gt;`duration = if (duration &lt;= 0) 1000 else duration`\r\n&lt;br&gt;After this, My Code is working very well. If you have any query you can connect me via comment.","title":"Android : Update data on car audio","body":"<p>I was facing this issue. And the problem was a bit. In My case, I was not setting the duration for the music. And always it was going to 0 only. After lots of research over google and stack overflow itself. I was not able to get the solution. But finally, I have found it and now it's working fine. If one of you also facing the same issue please go through with the below solution.</p>\n<pre><code>    private fun initMediaSessionMetadata(currentTrack: MusicModel?) {\n    var duration =\n        (currentTrack?.duration?.toLong() ?: mMediaPlayer?.duration?.toLong()) ?: 1000\n    duration = if (duration &lt;= 0) 1000 else duration\n    val info = MediaMetadataCompat.Builder()\n        .putString(MediaMetadata.METADATA_KEY_MEDIA_ID, currentTrack?.id.toString())\n        .putString(MediaMetadata.METADATA_KEY_TITLE, currentTrack?.name)\n        .putString(MediaMetadata.METADATA_KEY_ARTIST, currentTrack?.artists)\n        .putString(MediaMetadata.METADATA_KEY_ALBUM_ART_URI, currentTrack?.thumbnail)\n        .putLong(MediaMetadata.METADATA_KEY_DURATION, duration)\n    val metadata = info.build()\n    mediaSession?.setMetadata(metadata)\n}\n</code></pre>\n<p>I hope you will able to crack it now. The following line is only the main problem for me\n<br><code>duration = if (duration &lt;= 0) 1000 else duration</code>\n<br>After this, My Code is working very well. If you have any query you can connect me via comment.</p>\n"}],"owner":{"account_id":18531087,"reputation":1,"user_id":13501843,"display_name":"JCV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1644598473,"creation_date":1588978288,"question_id":61689383,"body_markdown":"Sorry for my pore english.\r\n\r\nI do a radio player. I can get curent name and title so every 15 seconds I read the new informations and display them on the main activity and in the notification. When I connect my phone to my car, the firdt artist is well displayed. When the second comes, name is correct on my phone but not updated on the car&#39;s screen. Eachtime the connection is stoped and restarted, name is correct but never updated when the next song comes.\r\n\r\nMy class implement AudioManager.\r\n\r\nI use this code to update metadata :\r\n\r\nmediaSession is a MediaSessionCompat\r\n\r\n       mediaSession.setMetadata(new MediaMetadataCompat.Builder()\r\n        .putString(MediaMetadataCompat.METADATA_KEY_ARTIST, strArtist)\r\n        .putString(MediaMetadataCompat.METADATA_KEY_ALBUM, strAlbum)\r\n        .putString(MediaMetadataCompat.METADATA_KEY_TITLE, strTitle)\r\n        .build()); \r\n\r\nI think the update of mediaSession is not sent to the bluetooth device.\r\n\r\nIs there a command to force the sync ?\r\n\r\nThank you for any help.\r\n\r\nJC","title":"Android : Update data on car audio","body":"<p>Sorry for my pore english.</p>\n\n<p>I do a radio player. I can get curent name and title so every 15 seconds I read the new informations and display them on the main activity and in the notification. When I connect my phone to my car, the firdt artist is well displayed. When the second comes, name is correct on my phone but not updated on the car's screen. Eachtime the connection is stoped and restarted, name is correct but never updated when the next song comes.</p>\n\n<p>My class implement AudioManager.</p>\n\n<p>I use this code to update metadata :</p>\n\n<p>mediaSession is a MediaSessionCompat</p>\n\n<pre><code>   mediaSession.setMetadata(new MediaMetadataCompat.Builder()\n    .putString(MediaMetadataCompat.METADATA_KEY_ARTIST, strArtist)\n    .putString(MediaMetadataCompat.METADATA_KEY_ALBUM, strAlbum)\n    .putString(MediaMetadataCompat.METADATA_KEY_TITLE, strTitle)\n    .build()); \n</code></pre>\n\n<p>I think the update of mediaSession is not sent to the bluetooth device.</p>\n\n<p>Is there a command to force the sync ?</p>\n\n<p>Thank you for any help.</p>\n\n<p>JC</p>\n"},{"tags":["java","android","android-studio","listview","android-tablayout"],"answers":[{"tags":[],"owner":{"account_id":15436122,"reputation":71,"user_id":11136190,"display_name":"Ruchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644597711,"creation_date":1644597711,"answer_id":71083573,"question_id":70887610,"body_markdown":"You can use interface when clicked on item \r\nCreate interface like this in one fragment\r\n\r\n    public interface OnClickListener{\r\n         void onClick(Item listItem);\r\n    }\r\n\r\nand in fragment create object like:\r\n\r\n    OnClickListener onClickListener;\r\n\r\nand in onAttach assign the object\r\n\r\n     @Override\r\n     public void onAttach(Context context) {\r\n    super.onAttach(context);\r\n        try {\r\n          onClickListener= (onClickListener) context;\r\n        } catch (ClassCastException e) {\r\n           \r\n        }\r\n     }\r\n\r\nand then implement this listener in your MainActivity\r\n\r\n    public class MainActivity extends AppCompatActivity implements onClickListener{}\r\n\r\nand on button click in fragment pass the data to your MainActivity\r\n\r\n     button.setOnClickListener(new OnClickListener() {\r\n      public void onClick(View v) {\r\n        onClickListener.onClick(YOUR_ITEM);\r\n      }\r\n    });\r\n\r\n","title":"How can I send data from a tablayout fragment to the main activity","body":"<p>You can use interface when clicked on item\nCreate interface like this in one fragment</p>\n<pre><code>public interface OnClickListener{\n     void onClick(Item listItem);\n}\n</code></pre>\n<p>and in fragment create object like:</p>\n<pre><code>OnClickListener onClickListener;\n</code></pre>\n<p>and in onAttach assign the object</p>\n<pre><code> @Override\n public void onAttach(Context context) {\nsuper.onAttach(context);\n    try {\n      onClickListener= (onClickListener) context;\n    } catch (ClassCastException e) {\n       \n    }\n }\n</code></pre>\n<p>and then implement this listener in your MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements onClickListener{}\n</code></pre>\n<p>and on button click in fragment pass the data to your MainActivity</p>\n<pre><code> button.setOnClickListener(new OnClickListener() {\n  public void onClick(View v) {\n    onClickListener.onClick(YOUR_ITEM);\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":14267108,"reputation":1,"user_id":12995053,"display_name":"Krippi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1644597711,"creation_date":1643330555,"question_id":70887610,"body_markdown":"I have a listview in my tablayout. When I click on one of these elements, I want that element to be added to a list in the mainactivity. So that I can display this list on another fragment.","title":"How can I send data from a tablayout fragment to the main activity","body":"<p>I have a listview in my tablayout. When I click on one of these elements, I want that element to be added to a list in the mainactivity. So that I can display this list on another fragment.</p>\n"},{"tags":["java","charts","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1644258199,"post_id":71018827,"comment_id":125552631,"body_markdown":"A similar issue is examined in a series of questions [here](https://stackoverflow.com/q/64266993/230513), [here](https://stackoverflow.com/q/64217855/230513), [here](https://stackoverflow.com/q/64201748/230513) and [here](https://stackoverflow.com/q/64148281/230513).","body":"A similar issue is examined in a series of questions <a href=\"https://stackoverflow.com/q/64266993/230513\">here</a>, <a href=\"https://stackoverflow.com/q/64217855/230513\">here</a>, <a href=\"https://stackoverflow.com/q/64201748/230513\">here</a> and <a href=\"https://stackoverflow.com/q/64148281/230513\">here</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1644344319,"post_id":71018827,"comment_id":125580470,"body_markdown":"You can look up the power and display it with temperature in your implementation of `generateLabel()`, shown in the examples cited.","body":"You can look up the power and display it with temperature in your implementation of <code>generateLabel()</code>, shown in the examples cited."}],"owner":{"account_id":24180946,"reputation":21,"user_id":18141637,"display_name":"shnnens"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644597457,"answer_count":0,"score":0,"last_activity_date":1644597691,"creation_date":1644237980,"question_id":71018827,"body_markdown":"I try to get mouse cursor values in Java Chart. I have two variables on Y axis and I have one variable on X axis. My y axis variables looks like: [enter image description here][1] and I use crosshair to get the values of axis. My code is attached below.\r\n\r\n\r\n ```\r\n@Override\r\npublic void chartMouseMoved(ChartMouseEvent event){\r\n   ChartEntity chartEntity = event.getEntity();\r\n   if(chartEntity instanceof XYItemEntity)\r\n   {\r\n      XYItemEntity xyItemEntity = (XYItemEntity) chartEntity;\r\n      XYDataset xyDataSet = xyItemEntity.getDataset();\r\n      this.xCrosshair.setValue(xyDataSet.getXValue(xyItemEntity.getSeriesIndex(), \r\n      xyItemEntity.getItem()));\r\n      this.yCrosshair.setValue(xyDataSet.getYValue(xyItemEntity.getSeriesIndex(), \r\n      xyItemEntity.getItem()));\r\n\r\n   }\r\n ```\r\nWhen I put my mouse to values of temperature I can get these values but when I put my values of power, I can&#39;t get the values. Here is the example of temperature values :[enter image description here][2] As you can see I got temperature value 19.215 and here is the example of power :[enter image description here][3] I can&#39;t get the value. How can I get rid of this problem and how can I get all values of two axis?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w6fna.png\r\n  [2]: https://i.stack.imgur.com/y24VQ.png\r\n  [3]: https://i.stack.imgur.com/UEx0s.png","title":"How can i get mouse cursor value in Java Chart?","body":"<p>I try to get mouse cursor values in Java Chart. I have two variables on Y axis and I have one variable on X axis. My y axis variables looks like: <a href=\"https://i.stack.imgur.com/w6fna.png\" rel=\"nofollow noreferrer\">enter image description here</a> and I use crosshair to get the values of axis. My code is attached below.</p>\n<pre><code>@Override\npublic void chartMouseMoved(ChartMouseEvent event){\n  ChartEntity chartEntity = event.getEntity();\n  if(chartEntity instanceof XYItemEntity)\n  {\n     XYItemEntity xyItemEntity = (XYItemEntity) chartEntity;\n     XYDataset xyDataSet = xyItemEntity.getDataset();\n     this.xCrosshair.setValue(xyDataSet.getXValue(xyItemEntity.getSeriesIndex(), \n     xyItemEntity.getItem()));\n     this.yCrosshair.setValue(xyDataSet.getYValue(xyItemEntity.getSeriesIndex(), \n     xyItemEntity.getItem()));\n\n  }\n</code></pre>\n<p>When I put my mouse to values of temperature I can get these values but when I put my values of power, I can't get the values. Here is the example of temperature values :<a href=\"https://i.stack.imgur.com/y24VQ.png\" rel=\"nofollow noreferrer\">enter image description here</a> As you can see I got temperature value 19.215 and here is the example of power :<a href=\"https://i.stack.imgur.com/UEx0s.png\" rel=\"nofollow noreferrer\">enter image description here</a> I can't get the value. How can I get rid of this problem and how can I get all values of two axis?</p>\n"},{"tags":["java","http","post","httpclient","java-11"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1644518773,"post_id":71068109,"comment_id":125634847,"body_markdown":"Did you search for [java http client post zero length](https://www.google.com/search?client=firefox-b-1-d&amp;q=java+http+client+post+zero+length)?","body":"Did you search for <a href=\"https://www.google.com/search?client=firefox-b-1-d&amp;q=java+http+client+post+zero+length\" rel=\"nofollow noreferrer\">java http client post zero length</a>?"},{"owner":{"account_id":19100234,"reputation":85,"user_id":13948679,"display_name":"Ozan"},"score":0,"creation_date":1644525268,"post_id":71068109,"comment_id":125636951,"body_markdown":"Yes but It seems it is not possible to do it in Java 11 HttpClient. Someone says it is possible JDK 12+.","body":"Yes but It seems it is not possible to do it in Java 11 HttpClient. Someone says it is possible JDK 12+."}],"answers":[{"tags":[],"owner":{"account_id":19100234,"reputation":85,"user_id":13948679,"display_name":"Ozan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644581904,"creation_date":1644581904,"answer_id":71079980,"question_id":71068109,"body_markdown":"I achieved it with HttpURLConnection:\r\n\r\n    HttpURLConnection con = (HttpURLConnection) urlBuilder.toURL().openConnection();\r\n    con.setRequestMethod(&quot;POST&quot;);\r\n    con.setDoOutput(true);\r\n    con.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + getCargoApiAuthToken());\r\n    con.setFixedLengthStreamingMode(0);\r\n    con.connect();\r\n    \r\n    if (con.getResponseCode() != 200 &amp;&amp; con.getResponseCode() != 201) {\r\n        // Error response scenario\r\n        return;\r\n    }\r\n    \r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n    \r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    \r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        stringBuilder.append(line).append(&quot;\\n&quot;);\r\n    }\r\n    \r\n    CancelDeliveryResponse cancelDeliveryResponse = gson.fromJson(stringBuilder.toString(), CancelDeliveryResponse.class);\r\n\r\n","title":"Java 11 sending HTTP post request without body","body":"<p>I achieved it with HttpURLConnection:</p>\n<pre><code>HttpURLConnection con = (HttpURLConnection) urlBuilder.toURL().openConnection();\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setDoOutput(true);\ncon.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + getCargoApiAuthToken());\ncon.setFixedLengthStreamingMode(0);\ncon.connect();\n\nif (con.getResponseCode() != 200 &amp;&amp; con.getResponseCode() != 201) {\n    // Error response scenario\n    return;\n}\n\nBufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n\nStringBuilder stringBuilder = new StringBuilder();\n\nString line;\nwhile ((line = reader.readLine()) != null) {\n    stringBuilder.append(line).append(&quot;\\n&quot;);\n}\n\nCancelDeliveryResponse cancelDeliveryResponse = gson.fromJson(stringBuilder.toString(), CancelDeliveryResponse.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1644597670,"creation_date":1644597670,"answer_id":71083562,"question_id":71068109,"body_markdown":"\r\nYou should be able to do the same with HttpClient - on Jdk 11 if I enable logging with `-Djdk.httpclient.HttpClient.log=requests,headers` I can see that Content-Length: 0 is sent with the following request:\r\n\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n        .uri(&lt;uri&gt;)\r\n        .header(&quot;Authorization&quot;, &quot;Bearer &quot; + &lt;token&gt;)\r\n        .version(HttpClient.Version.HTTP_1_1)\r\n        .POST(HttpRequest.BodyPublishers.noBody())\r\n        .build();\r\n    HttpResponse&lt;String&gt; httpResponse = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n","title":"Java 11 sending HTTP post request without body","body":"<p>You should be able to do the same with HttpClient - on Jdk 11 if I enable logging with <code>-Djdk.httpclient.HttpClient.log=requests,headers</code> I can see that Content-Length: 0 is sent with the following request:</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder()\n    .uri(&lt;uri&gt;)\n    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + &lt;token&gt;)\n    .version(HttpClient.Version.HTTP_1_1)\n    .POST(HttpRequest.BodyPublishers.noBody())\n    .build();\nHttpResponse&lt;String&gt; httpResponse = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n"}],"owner":{"account_id":19100234,"reputation":85,"user_id":13948679,"display_name":"Ozan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4732,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71083562,"answer_count":2,"score":3,"last_activity_date":1644597670,"creation_date":1644508089,"question_id":71068109,"body_markdown":"I am using java 11 http client and I need to send a post request without body.\r\n\r\n    HttpRequest request = getRequestBuilder()\r\n        .uri(urlBuilder.toURL().toURI())\r\n        .POST(HttpRequest.BodyPublishers.noBody())\r\n        .build();\r\n    HttpResponse&lt;String&gt; httpResponse = httpClient.send(request, HttpResponse.BodyHandlers.ofString()); \r\n\r\nWhen I try as above I receive 411 error code.\r\nI also tried to set &quot;Content-Length&quot; header &quot;0&quot; but saw that is restricted.\r\n\r\n\r\nThen I tried this:\r\n\r\n        URL url = new URL(getHost());\r\n        Map&lt;String,Object&gt; params = new LinkedHashMap&lt;&gt;();\r\n        params.put(&quot;trackingNo&quot;, orderPackage.getCargoTrackingCode());\r\n        params.put(&quot;referenceNo&quot;, orderPackage.getCargoCode());\r\n\r\n        StringBuilder postData = new StringBuilder();\r\n        for (Map.Entry&lt;String,Object&gt; param : params.entrySet()) {\r\n            if (postData.length() != 0) postData.append(&#39;&amp;&#39;);\r\n            postData.append(URLEncoder.encode(param.getKey(), &quot;UTF-8&quot;));\r\n            postData.append(&#39;=&#39;);\r\n            postData.append(URLEncoder.encode(String.valueOf(param.getValue()), &quot;UTF-8&quot;));\r\n        }\r\n        byte[] postDataBytes = postData.toString().getBytes(&quot;UTF-8&quot;);\r\n\r\n        HttpURLConnection conn = (HttpURLConnection)url.openConnection();\r\n        conn.setRequestMethod(&quot;POST&quot;);\r\n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n        conn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(postDataBytes.length));\r\n        conn.setDoOutput(true);\r\n        conn.getOutputStream().write(postDataBytes);\r\n\r\n        Reader in = new BufferedReader(new InputStreamReader(conn.getInputStream(), &quot;UTF-8&quot;));\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int c; (c = in.read()) &gt;= 0;)\r\n            sb.append((char)c);\r\n        String response = sb.toString();\r\n\r\nIt throws **java.io.FileNotFoundException**\r\n\r\nNormally I should use response like below:\r\n\r\n    CancelDeliveryResponse cancelDeliveryResponse = gson.fromJson(httpResponse.body(), CancelDeliveryResponse.class);\r\n\r\n\r\nSo how can I make this request?","title":"Java 11 sending HTTP post request without body","body":"<p>I am using java 11 http client and I need to send a post request without body.</p>\n<pre><code>HttpRequest request = getRequestBuilder()\n    .uri(urlBuilder.toURL().toURI())\n    .POST(HttpRequest.BodyPublishers.noBody())\n    .build();\nHttpResponse&lt;String&gt; httpResponse = httpClient.send(request, HttpResponse.BodyHandlers.ofString()); \n</code></pre>\n<p>When I try as above I receive 411 error code.\nI also tried to set &quot;Content-Length&quot; header &quot;0&quot; but saw that is restricted.</p>\n<p>Then I tried this:</p>\n<pre><code>    URL url = new URL(getHost());\n    Map&lt;String,Object&gt; params = new LinkedHashMap&lt;&gt;();\n    params.put(&quot;trackingNo&quot;, orderPackage.getCargoTrackingCode());\n    params.put(&quot;referenceNo&quot;, orderPackage.getCargoCode());\n\n    StringBuilder postData = new StringBuilder();\n    for (Map.Entry&lt;String,Object&gt; param : params.entrySet()) {\n        if (postData.length() != 0) postData.append('&amp;');\n        postData.append(URLEncoder.encode(param.getKey(), &quot;UTF-8&quot;));\n        postData.append('=');\n        postData.append(URLEncoder.encode(String.valueOf(param.getValue()), &quot;UTF-8&quot;));\n    }\n    byte[] postDataBytes = postData.toString().getBytes(&quot;UTF-8&quot;);\n\n    HttpURLConnection conn = (HttpURLConnection)url.openConnection();\n    conn.setRequestMethod(&quot;POST&quot;);\n    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n    conn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(postDataBytes.length));\n    conn.setDoOutput(true);\n    conn.getOutputStream().write(postDataBytes);\n\n    Reader in = new BufferedReader(new InputStreamReader(conn.getInputStream(), &quot;UTF-8&quot;));\n\n    StringBuilder sb = new StringBuilder();\n    for (int c; (c = in.read()) &gt;= 0;)\n        sb.append((char)c);\n    String response = sb.toString();\n</code></pre>\n<p>It throws <strong>java.io.FileNotFoundException</strong></p>\n<p>Normally I should use response like below:</p>\n<pre><code>CancelDeliveryResponse cancelDeliveryResponse = gson.fromJson(httpResponse.body(), CancelDeliveryResponse.class);\n</code></pre>\n<p>So how can I make this request?</p>\n"},{"tags":["java","selenium-webdriver","firefox","geckodriver","selenium-firefoxdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644597643,"creation_date":1610581238,"answer_id":65711412,"question_id":65708681,"body_markdown":"This error message...\r\n\r\n\tconsole.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; (new Error(&quot;&quot;, &quot;(unknown module)&quot;))\r\n\r\n...implies that the [WebDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) instance was unable to initiate/spawn a new _Browsing Context_.\r\n\r\nThe most probable reason is there is/are dangling/zombie [GeckoDriver](https://stackoverflow.com/questions/45329528/which-firefox-browser-versions-supported-for-given-geckodriver-version/45331403#45331403) instances clinging on with the `scoped_dir*`s. As a result no new `scoped_dir` can be created.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nYou need to invoke `driver.quit()` within `tearDown(){}` method to close &amp; destroy the _WebDriver_ and _Web Client_ instances gracefully at the end of each execution. Incase the dangling/zombie [GeckoDriver](https://stackoverflow.com/questions/45510338/selenium-webdriver-3-4-0-geckodriver-0-18-0-firefox-which-combination-w/45510453#45510453) process still continues to occupy your system memory you need to forcefully kill them.\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a relevant detailed discussions in:\r\n\r\n- [Error: Can&#39;t find profile directory. console.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; using GeckoDriver Firefox and Selenium](https://stackoverflow.com/a/65561285/7429447)\r\n- [PhantomJS web driver stays in memory](https://stackoverflow.com/questions/45985008/phantomjs-web-driver-stays-in-memory/45985790#45985790)\r\n- [Selenium : How to stop geckodriver process impacting PC memory, without calling driver.quit()?](https://stackoverflow.com/questions/47999568/selenium-how-to-stop-geckodriver-process-impacting-pc-memory-without-calling/48003289#48003289)\r\n- [How to quit all the Firefox processes which gets initiated through GeckoDriver and Selenium using Python](https://stackoverflow.com/questions/58830622/how-to-quit-all-the-firefox-processes-which-gets-initiated-through-geckodriver-a/58833151#58833151)","title":"console.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; (new Error(&quot;&quot;, &quot;(unknown module)&quot;)) using Selenium and Java","body":"<p>This error message...</p>\n<pre><code>console.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; (new Error(&quot;&quot;, &quot;(unknown module)&quot;))\n</code></pre>\n<p>...implies that the <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">WebDriver</a> instance was unable to initiate/spawn a new <em>Browsing Context</em>.</p>\n<p>The most probable reason is there is/are dangling/zombie <a href=\"https://stackoverflow.com/questions/45329528/which-firefox-browser-versions-supported-for-given-geckodriver-version/45331403#45331403\">GeckoDriver</a> instances clinging on with the <code>scoped_dir*</code>s. As a result no new <code>scoped_dir</code> can be created.</p>\n<hr />\n<h2>Solution</h2>\n<p>You need to invoke <code>driver.quit()</code> within <code>tearDown(){}</code> method to close &amp; destroy the <em>WebDriver</em> and <em>Web Client</em> instances gracefully at the end of each execution. Incase the dangling/zombie <a href=\"https://stackoverflow.com/questions/45510338/selenium-webdriver-3-4-0-geckodriver-0-18-0-firefox-which-combination-w/45510453#45510453\">GeckoDriver</a> process still continues to occupy your system memory you need to forcefully kill them.</p>\n<hr />\n<h2>References</h2>\n<p>You can find a relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/65561285/7429447\">Error: Can't find profile directory. console.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; using GeckoDriver Firefox and Selenium</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45985008/phantomjs-web-driver-stays-in-memory/45985790#45985790\">PhantomJS web driver stays in memory</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47999568/selenium-how-to-stop-geckodriver-process-impacting-pc-memory-without-calling/48003289#48003289\">Selenium : How to stop geckodriver process impacting PC memory, without calling driver.quit()?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58830622/how-to-quit-all-the-firefox-processes-which-gets-initiated-through-geckodriver-a/58833151#58833151\">How to quit all the Firefox processes which gets initiated through GeckoDriver and Selenium using Python</a></li>\n</ul>\n"}],"owner":{"account_id":8679023,"reputation":515,"user_id":6495551,"accept_rate":26,"display_name":"Sulteric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7644,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65711412,"answer_count":1,"score":4,"last_activity_date":1644597643,"creation_date":1610566537,"question_id":65708681,"body_markdown":"I&#39;m doing a basic Selenium test program in Java and I notice I&#39;m getting this warning, which is annoying.\r\n\r\n     console.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; (new Error(&quot;&quot;, &quot;(unknown module)&quot;))\r\n\r\nMy code before the driver.get is:\r\n\r\n     FirefoxOptions options = new FirefoxOptions();\r\n     options.setProfile(new FirefoxProfile());\r\n     options.setLogLevel(FirefoxDriverLogLevel.FATAL);\r\n     options.setAcceptInsecureCerts(true);\r\n     options.setHeadless(true);\r\n     WebDriver driver = new FirefoxDriver(options);\r\n\r\nWhat do I need to do to get rid of this warning? The older versions of Selenium never did this.\r\n","title":"console.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; (new Error(&quot;&quot;, &quot;(unknown module)&quot;)) using Selenium and Java","body":"<p>I'm doing a basic Selenium test program in Java and I notice I'm getting this warning, which is annoying.</p>\n<pre><code> console.warn: SearchSettings: &quot;get: No settings file exists, new profile?&quot; (new Error(&quot;&quot;, &quot;(unknown module)&quot;))\n</code></pre>\n<p>My code before the driver.get is:</p>\n<pre><code> FirefoxOptions options = new FirefoxOptions();\n options.setProfile(new FirefoxProfile());\n options.setLogLevel(FirefoxDriverLogLevel.FATAL);\n options.setAcceptInsecureCerts(true);\n options.setHeadless(true);\n WebDriver driver = new FirefoxDriver(options);\n</code></pre>\n<p>What do I need to do to get rid of this warning? The older versions of Selenium never did this.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1644594716,"post_id":71082879,"comment_id":125655679,"body_markdown":"What do you mean by &quot;realistic&quot;? It looks like you want to write something like an extension method like in Kotlin or C# which would allow you to extend existing types by giving them additional methods. Java unfortunately doesn&#39;t support extension methods, so you&#39;re stuck with using `double[] result = MyUtilClass.CPlusC(firstArray, secondArray)`.","body":"What do you mean by &quot;realistic&quot;? It looks like you want to write something like an extension method like in Kotlin or C# which would allow you to extend existing types by giving them additional methods. Java unfortunately doesn&#39;t support extension methods, so you&#39;re stuck with using <code>double[] result = MyUtilClass.CPlusC(firstArray, secondArray)</code>."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1644594857,"post_id":71082879,"comment_id":125655740,"body_markdown":"You can&#39;t call methods on Java primitives. Also, Java doesn&#39;t have operator overloading.","body":"You can&#39;t call methods on Java primitives. Also, Java doesn&#39;t have operator overloading."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1644595566,"post_id":71082879,"comment_id":125656035,"body_markdown":"You might consider creating a class (`Complex` might be a good name).  The class could then contain the methods to do the basic operations plus anything else that could be deemed appropriate for complex values.","body":"You might consider creating a class (<code>Complex</code> might be a good name).  The class could then contain the methods to do the basic operations plus anything else that could be deemed appropriate for complex values."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1644595650,"post_id":71082879,"comment_id":125656073,"body_markdown":"What has `getRed` got to do with complex numbers? Do you mean `getReal`?","body":"What has <code>getRed</code> got to do with complex numbers? Do you mean <code>getReal</code>?"},{"owner":{"account_id":21693349,"reputation":13,"user_id":16007677,"display_name":"ItsErtHere"},"score":0,"creation_date":1644606352,"post_id":71082879,"comment_id":125659977,"body_markdown":"I am relating getRed() to the format of method that I wanted. Now I have a much better method.","body":"I am relating getRed() to the format of method that I wanted. Now I have a much better method."}],"answers":[{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644597439,"creation_date":1644595952,"answer_id":71083217,"question_id":71082879,"body_markdown":"As I mentioned in my comment, you can&#39;t create extension methods like you would do in [Kotlin](https://kotlinlang.org/docs/extensions.html) or [C#](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods).\r\n\r\nBut you shouldn&#39;t use `double[]` to handle complex numbers in the first place. A better approach would be to create your own `Complex` class that contains all necessary methods you need for calculation.\r\n\r\nYour class could look like this:\r\n\r\n    public class Complex {\r\n        private final double re;\r\n        private final double im;\r\n\r\n        public Complex(double re, double im) {\r\n            this.re = re;\r\n            this.im = im;\r\n        }\r\n\r\n        // getters and other methods\r\n\r\n        public Complex add(Complex other) {\r\n            double addedRe = re + other.re;\r\n            double addedIm = im + other.im;\r\n            return new Complex(addedRe, addedIm);\r\n        }\r\n\r\n        public String toString() {\r\n            return String.format(&quot;%s %s %si&quot;, re, im &lt; 0 ? &quot;-&quot; : &quot;+&quot;, Math.abs(im));\r\n        }\r\n    }\r\n\r\nThen you can do your calculations like:\r\n\r\n    Complex c1 = new Complex(0, 1);\r\n    Complex c2 = new Complex(2.5, 1.3);\r\n    Complex c3 = c1.add(c2);\r\n    System.out.println(c3) // 2.5 + 2.3i","title":"How do I make a method like int.getRed() in java?","body":"<p>As I mentioned in my comment, you can't create extension methods like you would do in <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">Kotlin</a> or <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods\" rel=\"nofollow noreferrer\">C#</a>.</p>\n<p>But you shouldn't use <code>double[]</code> to handle complex numbers in the first place. A better approach would be to create your own <code>Complex</code> class that contains all necessary methods you need for calculation.</p>\n<p>Your class could look like this:</p>\n<pre><code>public class Complex {\n    private final double re;\n    private final double im;\n\n    public Complex(double re, double im) {\n        this.re = re;\n        this.im = im;\n    }\n\n    // getters and other methods\n\n    public Complex add(Complex other) {\n        double addedRe = re + other.re;\n        double addedIm = im + other.im;\n        return new Complex(addedRe, addedIm);\n    }\n\n    public String toString() {\n        return String.format(&quot;%s %s %si&quot;, re, im &lt; 0 ? &quot;-&quot; : &quot;+&quot;, Math.abs(im));\n    }\n}\n</code></pre>\n<p>Then you can do your calculations like:</p>\n<pre><code>Complex c1 = new Complex(0, 1);\nComplex c2 = new Complex(2.5, 1.3);\nComplex c3 = c1.add(c2);\nSystem.out.println(c3) // 2.5 + 2.3i\n</code></pre>\n"}],"owner":{"account_id":21693349,"reputation":13,"user_id":16007677,"display_name":"ItsErtHere"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":71083217,"answer_count":1,"score":-2,"last_activity_date":1644597439,"creation_date":1644594569,"question_id":71082879,"body_markdown":"I am making an imaginary number graphing calculator with java (using a+bi={a,b}) and want to make new functions for + - * / and ^ operators, since they don&#39;t work on double[] variables. I know how to make normal methods, like File(), but I am having trouble doing things like int.getRed(). Here&#39;s my code for the addition method\r\n\r\n    private static double[] CPlusC(double[] a, double[] b) {\r\n        double aN = a[1] + b[1];\r\n        double bN = a[2] + b[2];\r\n        double[] ansN = {aN,bN};\r\n        return ansN;\r\n    }\r\nI have the addition parts correct, I just can&#39;t find anything to make the function more &quot;realistic&quot;, as in `double[].CPlusC(double[])`\r\nCould someone please help me out? Once I figure this one out, I should know how to do the others.\r\nThank you so much!","title":"How do I make a method like int.getRed() in java?","body":"<p>I am making an imaginary number graphing calculator with java (using a+bi={a,b}) and want to make new functions for + - * / and ^ operators, since they don't work on double[] variables. I know how to make normal methods, like File(), but I am having trouble doing things like int.getRed(). Here's my code for the addition method</p>\n<pre><code>private static double[] CPlusC(double[] a, double[] b) {\n    double aN = a[1] + b[1];\n    double bN = a[2] + b[2];\n    double[] ansN = {aN,bN};\n    return ansN;\n}\n</code></pre>\n<p>I have the addition parts correct, I just can't find anything to make the function more &quot;realistic&quot;, as in <code>double[].CPlusC(double[])</code>\nCould someone please help me out? Once I figure this one out, I should know how to do the others.\nThank you so much!</p>\n"},{"tags":["java","constructor","tostring"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1644595780,"post_id":71083142,"comment_id":125656135,"body_markdown":"You&#39;ve shown your `Color` class, but you haven&#39;t shown anything calling `lighten` or `darken`. Please provide a [mcve] or it will be hard to help you. If you expect your hex string to always be 6 hex digits though, you need to work out how to do padding...","body":"You&#39;ve shown your <code>Color</code> class, but you haven&#39;t shown anything calling <code>lighten</code> or <code>darken</code>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or it will be hard to help you. If you expect your hex string to always be 6 hex digits though, you need to work out how to do padding..."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1644595812,"post_id":71083142,"comment_id":125656150,"body_markdown":"Side note that may well be relevant - why are your methods and fields static? That&#39;s almost *certainly* not what you want.","body":"Side note that may well be relevant - why are your methods and fields static? That&#39;s almost <i>certainly</i> not what you want."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1644596262,"post_id":71083142,"comment_id":125656329,"body_markdown":"The red, green, and blue fields should not be static and you have the assignments backwards in your constructor. You should be assigning the parameters to the fields.","body":"The red, green, and blue fields should not be static and you have the assignments backwards in your constructor. You should be assigning the parameters to the fields."}],"answers":[{"tags":[],"owner":{"account_id":13763811,"reputation":48,"user_id":9932872,"display_name":"DwightMint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644596566,"creation_date":1644596566,"answer_id":71083359,"question_id":71083142,"body_markdown":"In java you have Classes and Objects that are instances of those classes. When you declare a field or method as `static` it will belong to the class and not to the instance. So when you call Color.red, you will get the value of the class field which is not instanced. \r\nThe best practice in your case would be to remove the `static` from your fields (but keep it on your methods) and create getters and setters instead. \r\nThis concept is better explained there : http://tutorials.jenkov.com/java/fields.html#static-and-non-static-fields","title":"Why won&#39;t the lighten and darken method pass information to the toString method for final output?","body":"<p>In java you have Classes and Objects that are instances of those classes. When you declare a field or method as <code>static</code> it will belong to the class and not to the instance. So when you call Color.red, you will get the value of the class field which is not instanced.\nThe best practice in your case would be to remove the <code>static</code> from your fields (but keep it on your methods) and create getters and setters instead.\nThis concept is better explained there : <a href=\"http://tutorials.jenkov.com/java/fields.html#static-and-non-static-fields\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java/fields.html#static-and-non-static-fields</a></p>\n"}],"owner":{"account_id":24228150,"reputation":1,"user_id":18182339,"display_name":"Zach MacKenzie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644596566,"creation_date":1644595658,"question_id":71083142,"body_markdown":"Below is my Java Color class for my intro to Java class. I am attempting to pass the color object created by the lighten and darken method to the toString() method for final output, however every time I attempt to do the output from the toString method is always #000 when it is suppose to be the hex value of the color.\r\n\r\n    public class Color {\r\n    \r\n        private static int red;\r\n        private static int green;\r\n        private static int blue;\r\n    \r\n        public Color(int r, int g, int b) {\r\n            r = red;\r\n            g = green;\r\n            b = blue;\r\n        }\r\n    \r\n        public String toString() {\r\n            String ax = Integer.toHexString(Color.red);\r\n            String bx = Integer.toHexString(Color.green);\r\n            String cx = Integer.toHexString(Color.blue);\r\n            return &quot;#&quot; + ax + bx + cx;\r\n        }\r\n    \r\n        public static Color dim() {\r\n            int xr = ((red * 80)/100);\r\n            if (xr &lt; 0) {xr = 0;}\r\n            int xg = ((green * 80)/100);\r\n            if (xg &lt; 0) {xg = 0;}\r\n            int xb = ((blue * 80)/100);\r\n            if (xb &lt; 0) {xb = 0;}\r\n            return new Color(xr, xg, xb);\r\n        }\r\n    \r\n        public static Color lighten() {\r\n            int xr = ((red * 120)/100);\r\n            if (xr &gt; 255) {xr = 255;}\r\n            int xg = ((green * 120)/100);\r\n            if (xg &gt; 255) {xg = 255;}\r\n            int xb = ((blue * 120)/100);\r\n            if (xb &gt; 255) {xb = 255;}\r\n            return new Color(xr, xg, xb);\r\n        }\r\n    }","title":"Why won&#39;t the lighten and darken method pass information to the toString method for final output?","body":"<p>Below is my Java Color class for my intro to Java class. I am attempting to pass the color object created by the lighten and darken method to the toString() method for final output, however every time I attempt to do the output from the toString method is always #000 when it is suppose to be the hex value of the color.</p>\n<pre><code>public class Color {\n\n    private static int red;\n    private static int green;\n    private static int blue;\n\n    public Color(int r, int g, int b) {\n        r = red;\n        g = green;\n        b = blue;\n    }\n\n    public String toString() {\n        String ax = Integer.toHexString(Color.red);\n        String bx = Integer.toHexString(Color.green);\n        String cx = Integer.toHexString(Color.blue);\n        return &quot;#&quot; + ax + bx + cx;\n    }\n\n    public static Color dim() {\n        int xr = ((red * 80)/100);\n        if (xr &lt; 0) {xr = 0;}\n        int xg = ((green * 80)/100);\n        if (xg &lt; 0) {xg = 0;}\n        int xb = ((blue * 80)/100);\n        if (xb &lt; 0) {xb = 0;}\n        return new Color(xr, xg, xb);\n    }\n\n    public static Color lighten() {\n        int xr = ((red * 120)/100);\n        if (xr &gt; 255) {xr = 255;}\n        int xg = ((green * 120)/100);\n        if (xg &gt; 255) {xg = 255;}\n        int xb = ((blue * 120)/100);\n        if (xb &gt; 255) {xb = 255;}\n        return new Color(xr, xg, xb);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","second-level-cache","ehcache-3"],"answers":[{"tags":[],"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644596533,"creation_date":1644596533,"answer_id":71083350,"question_id":71082951,"body_markdown":"Yes, there is a way.\r\n\r\n 1. Change your `factory_class` to `org.hibernate.cache.ehcache.EhCacheRegionFactory`\r\n 2. Create an `ehcache.xml` in `/src/main/resources` with this content:\r\n```\r\n   ...\r\n   &lt;cache-template name=&quot;default&quot;&gt;\r\n      &lt;expiry&gt;\r\n         &lt;ttl unit=&quot;hours&quot;&gt;48&lt;/ttl&gt;\r\n      &lt;/expiry&gt;\r\n   \t&lt;/cache-template&gt;\r\n   ...\r\n```\r\n\r\nDetails to the XML configuration can be found at https://www.ehcache.org/documentation/3.9/xml.html","title":"How can I set expiry on Second Level Cache?","body":"<p>Yes, there is a way.</p>\n<ol>\n<li>Change your <code>factory_class</code> to <code>org.hibernate.cache.ehcache.EhCacheRegionFactory</code></li>\n<li>Create an <code>ehcache.xml</code> in <code>/src/main/resources</code> with this content:</li>\n</ol>\n<pre><code>   ...\n   &lt;cache-template name=&quot;default&quot;&gt;\n      &lt;expiry&gt;\n         &lt;ttl unit=&quot;hours&quot;&gt;48&lt;/ttl&gt;\n      &lt;/expiry&gt;\n    &lt;/cache-template&gt;\n   ...\n</code></pre>\n<p>Details to the XML configuration can be found at <a href=\"https://www.ehcache.org/documentation/3.9/xml.html\" rel=\"nofollow noreferrer\">https://www.ehcache.org/documentation/3.9/xml.html</a></p>\n"}],"owner":{"account_id":22518129,"reputation":161,"user_id":16712098,"display_name":"HongJeongHyeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71083350,"answer_count":1,"score":0,"last_activity_date":1644596533,"creation_date":1644594847,"question_id":71082951,"body_markdown":"## Problem\r\nI can&#39;t set expiry of second level cache with Ehcache.  \r\nIs there any way to config expiry?\r\n\r\n## My Codes\r\n### build.gradle\r\n``` groovy\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\nimplementation &#39;org.hibernate:hibernate-jcache:5.6.5.Final&#39;\r\nimplementation &#39;org.ehcache:ehcache:3.9.9&#39;\r\n```\r\n### application.yml\r\n``` yaml\r\nspring:\r\n  jpa:\r\n\r\n    properties:\r\n      javax:\r\n        persistence:\r\n          sharedCache:\r\n            mode: ENABLE_SELECTIVE   # Enable caches only @Cacheable annotated classes\r\n      hibernate:\r\n        cache:\r\n          use_query_cache: true\r\n          use_second_level_cache: true\r\n          region:\r\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\r\n```\r\n### My Entity\r\n``` kotlin\r\n@Getter\r\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n@Entity\r\n@Cacheable\r\n@Cache(region = &quot;test_cache&quot;, usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Test {\r\n.\r\n.\r\n.\r\n}\r\n```","title":"How can I set expiry on Second Level Cache?","body":"<h2>Problem</h2>\n<p>I can't set expiry of second level cache with Ehcache.<br />\nIs there any way to config expiry?</p>\n<h2>My Codes</h2>\n<h3>build.gradle</h3>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-cache'\nimplementation 'org.hibernate:hibernate-jcache:5.6.5.Final'\nimplementation 'org.ehcache:ehcache:3.9.9'\n</code></pre>\n<h3>application.yml</h3>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jpa:\n\n    properties:\n      javax:\n        persistence:\n          sharedCache:\n            mode: ENABLE_SELECTIVE   # Enable caches only @Cacheable annotated classes\n      hibernate:\n        cache:\n          use_query_cache: true\n          use_second_level_cache: true\n          region:\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\n</code></pre>\n<h3>My Entity</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Getter\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@Entity\n@Cacheable\n@Cache(region = &quot;test_cache&quot;, usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Test {\n.\n.\n.\n}\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":24112158,"reputation":433,"user_id":18082610,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643992501,"creation_date":1643966204,"answer_id":70983931,"question_id":70983316,"body_markdown":"You can write your code with while loop like this:\r\n\r\n    import java.util.Scanner;\r\n    public class Test{\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            String[] infos = new String[3];\r\n            char[] characterChecker;\r\n            System.out.print(&quot;Enter your first name: &quot;);\r\n            infos[0] = input.next();\r\n            characterChecker = infos[0].toCharArray();\r\n            int c = 0;\r\n            while(true){\r\n                if (Character.isDigit(characterChecker[c])){\r\n                     System.out.println(&quot;A first name should not contain any number...&quot;);\r\n                     System.out.print(&quot;Enter your first name without a number: &quot;);\r\n                     infos[0] = input.next();\r\n                     characterChecker = infos[0].toCharArray();\r\n                     c = 0;\r\n                }\r\n                else\r\n                     c++;\r\n     \r\n                if(c == characterChecker.length)\r\n                     break;\r\n            }\r\n            System.out.println(&quot;Correct Name&quot;);\r\n        }\r\n    }\r\nIf c is equal to characterChecker.length, ie in the name, there is no number, then it is correct and we break loop and print Correct Name.","title":"Check if characters in a firstname String contain at least 1 digit","body":"<p>You can write your code with while loop like this:</p>\n<pre><code>import java.util.Scanner;\npublic class Test{\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        String[] infos = new String[3];\n        char[] characterChecker;\n        System.out.print(&quot;Enter your first name: &quot;);\n        infos[0] = input.next();\n        characterChecker = infos[0].toCharArray();\n        int c = 0;\n        while(true){\n            if (Character.isDigit(characterChecker[c])){\n                 System.out.println(&quot;A first name should not contain any number...&quot;);\n                 System.out.print(&quot;Enter your first name without a number: &quot;);\n                 infos[0] = input.next();\n                 characterChecker = infos[0].toCharArray();\n                 c = 0;\n            }\n            else\n                 c++;\n \n            if(c == characterChecker.length)\n                 break;\n        }\n        System.out.println(&quot;Correct Name&quot;);\n    }\n}\n</code></pre>\n<p>If c is equal to characterChecker.length, ie in the name, there is no number, then it is correct and we break loop and print Correct Name.</p>\n"}],"owner":{"account_id":24024092,"reputation":1,"user_id":18005947,"display_name":"JohnAce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644596291,"creation_date":1643962839,"question_id":70983316,"body_markdown":"I try to check if characters in a firstname String contain at least 1 digit, if yes ask to the user to input it again and then going back to the loop and check again but with a GoTo break it only works the first time and won&#39;t loop it again. Oh and I do this from a method with a String array of more than only a first name in it. Isn&#39;t the break GoTo supposed to bring me back to my label and then do the loop over again looking for a digit? \r\n\r\n    public static void main(String[] args) {\r\n        infoInputGathering();\r\n    }\r\n    public static String[] infoInputGathering(){\r\n        String[] infos = new String[3]; // Declaration of the infos String array\r\n        boolean isStringOnly;\r\n        char[] characterChecker;\r\n\r\n        Scanner input = new Scanner(System.in); // Creation of the Scanner object input\r\n        // Asking the user to input their first name and stores it in a String Array info[0]\r\n        System.out.print(&quot;Enter your first name: &quot;);\r\n        infos[0] = input.next();\r\n        characterChecker = infos[0].toCharArray();\r\n        \r\n        firstname:\r\n        for (int c = 0 ; c&lt;=characterChecker.length ; ++c ) {\r\n            if (Character.isDigit(characterChecker[c])) {\r\n                System.out.println(&quot;A first name should not contain any number...&quot;);\r\n                System.out.print(&quot;Enter your first name without a number: &quot;);\r\n                infos[0] = input.next();\r\n                characterChecker = infos[0].toCharArray();\r\n                Break firstname;\r\n            }\r\n        }\r\n\r\nFinal Full Code I came up with with Ali&#39;s help on this part\r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n\r\n    public class InfiniteInfoGatheringUntilStop {\r\n\r\n    public static void main(String[] args) {\r\n        int iterationsCounter = 0; // Declares/Initiate a counter for the loops\r\n        Scanner input = new Scanner(System.in); // Creation of the Scanner object input\r\n\r\n        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;(); // Creates an ArrayList for the names inputs\r\n        ArrayList&lt;String&gt; birth = new ArrayList&lt;String&gt;(); // Creates an ArrayList for the date of birth inputs\r\n        ArrayList&lt;String&gt; gpa = new ArrayList&lt;String&gt;(); // Creates an ArrayList for the GPA inputs\r\n\r\n        while(true){ // Always true loop unless break out on if conditions\r\n\r\n            System.out.print(&quot;Enter your name: &quot;);\r\n            names.add(input.next());\r\n            //Code to check if there are numerical character in the String of the listArray inputted\r\n            char[] characterChecker = names.get(iterationsCounter).toCharArray(); //Declare and initiates an array of character from the ArrayList names(iterationsCounter)\r\n            int c = 0;\r\n            while(true){ // Loop to check every character and asks for a retype if detects one character as numerical\r\n                if(Character.isDigit(characterChecker[c])){\r\n                    System.out.println(&quot;A first name should not contain any number...&quot;);\r\n                    System.out.print(&quot;Enter your first name without a number: &quot;);\r\n                    names.set(iterationsCounter,input.next());\r\n                    characterChecker = names.get(iterationsCounter).toCharArray();\r\n                    c = 0;\r\n                }\r\n                else {\r\n                    c++;\r\n                }\r\n                if(c == characterChecker.length){\r\n                    break;\r\n                }\r\n            }\r\n            if(names.get(iterationsCounter).equalsIgnoreCase(&quot;stop&quot;)){ //Checks if stop has been typed, breaks in that case but erases previous ArrayLists of this cycle\r\n                names.remove(iterationsCounter);\r\n                break;\r\n            }\r\n            System.out.print(&quot;Enter your date of birth in this format AAAAmmdd: &quot;);\r\n            birth.add(input.next());\r\n            characterChecker = birth.get(iterationsCounter).toCharArray(); //Declare and initiates an array of character from the ArrayList names(iterationsCounter)\r\n            c = 0;\r\n            while(true){ // Loop to check every character and asks for a retype if detects one character as letter\r\n                if(characterChecker.length != 8){ // Checks for a maximum length of 8 characters\r\n                    System.out.println(&quot;A date of birth in the right format (AAAAmmdd) please...&quot;);\r\n                    System.out.print(&quot;Reenter your date of birth again (AAAAmmdd): &quot;);\r\n                    birth.set(iterationsCounter,input.next());\r\n                    characterChecker = birth.get(iterationsCounter).toCharArray();\r\n                }\r\n                else if(Character.isLetter(characterChecker[c])){ //checkes if there are letters in the characters\r\n                    System.out.println(&quot;A date of birth in the right format (AAAAmmdd) please...&quot;);\r\n                    System.out.print(&quot;Reenter your date of birth again (AAAAmmdd): &quot;);\r\n                    birth.set(iterationsCounter,input.next());\r\n                    characterChecker = birth.get(iterationsCounter).toCharArray();\r\n                    c = 0;\r\n                }\r\n                else {\r\n                    c++;\r\n                }\r\n                if(c == characterChecker.length){ //breaks when c = to the length meaning all characters have been checked through the loop\r\n\r\n                    break;\r\n                }\r\n            }\r\n            if(birth.get(iterationsCounter).equalsIgnoreCase(&quot;stop&quot;)){ //Checks if stop has been typed, breaks in that case but erases previous ArrayLists of this cycle\r\n                names.remove(iterationsCounter);\r\n                birth.remove(iterationsCounter);\r\n                break;\r\n            }\r\n\r\n            System.out.print(&quot;Enter your GPA in 0.0 format: &quot;);\r\n            gpa.add(input.next());\r\n            characterChecker = gpa.get(iterationsCounter).toCharArray(); //Declare and initiates an array of character from the ArrayList names(iterationsCounter)\r\n            c = 0;\r\n            while(true){ // Loop to check every character and asks for a retype if detects one character as letter\r\n                if(characterChecker.length != 3){ // Checkes for a maximum length of 8 characters\r\n                    System.out.println(&quot;A GPA in the right format please (0.0)...&quot;);\r\n                    System.out.print(&quot;Reenter your GPA please: &quot;);\r\n                    gpa.set(iterationsCounter,input.next());\r\n                    characterChecker = gpa.get(iterationsCounter).toCharArray();\r\n                }\r\n                else if(Character.isLetter(characterChecker[c])){ //checks if there are digits in the characters\r\n                    System.out.println(&quot;A GPA in the right format please (0.0)...&quot;);\r\n                    System.out.print(&quot;Reenter your GPA: &quot;);\r\n                    gpa.set(iterationsCounter,input.next());\r\n                    characterChecker = gpa.get(iterationsCounter).toCharArray();\r\n                    c = 0;\r\n                }\r\n\r\n                else {\r\n                    c++;\r\n                }\r\n                if(c == characterChecker.length){ //breaks when c = to the length meaning all characters have been checked through the loop\r\n\r\n                    break;\r\n                }\r\n            }\r\n            if(gpa.get(iterationsCounter).equalsIgnoreCase(&quot;stop&quot;)){ //Checks if stop has been typed, breaks in that case but erases previous ArrayLists of this cycle\r\n                names.remove(iterationsCounter);\r\n                birth.remove(iterationsCounter);\r\n                gpa.remove(iterationsCounter);\r\n                break;\r\n            }\r\n            iterationsCounter++; // Incrementes the counter if a full loop is done\r\n        }\r\n\r\n        // Prints the results\r\n        System.out.println(&quot;Number of valid inputs before you got exhausted: &quot; + iterationsCounter);\r\n        System.out.println(&quot;====================================================================================&quot;);\r\n\r\n        //A loop to print the content of the 3 ListArrays\r\n        for(int arrayLoc = 0; arrayLoc &lt; iterationsCounter; arrayLoc++){\r\n            System.out.println((arrayLoc+1) + &quot;-\\t&quot; + names.get(arrayLoc) +\r\n                                &quot;\\t\\t&quot; + birth.get(arrayLoc) +\r\n                                &quot;\\t\\t&quot; + gpa.get(arrayLoc));\r\n        }\r\n\r\n\r\n    }\r\n}\r\n","title":"Check if characters in a firstname String contain at least 1 digit","body":"<p>I try to check if characters in a firstname String contain at least 1 digit, if yes ask to the user to input it again and then going back to the loop and check again but with a GoTo break it only works the first time and won't loop it again. Oh and I do this from a method with a String array of more than only a first name in it. Isn't the break GoTo supposed to bring me back to my label and then do the loop over again looking for a digit?</p>\n<pre><code>public static void main(String[] args) {\n    infoInputGathering();\n}\npublic static String[] infoInputGathering(){\n    String[] infos = new String[3]; // Declaration of the infos String array\n    boolean isStringOnly;\n    char[] characterChecker;\n\n    Scanner input = new Scanner(System.in); // Creation of the Scanner object input\n    // Asking the user to input their first name and stores it in a String Array info[0]\n    System.out.print(&quot;Enter your first name: &quot;);\n    infos[0] = input.next();\n    characterChecker = infos[0].toCharArray();\n    \n    firstname:\n    for (int c = 0 ; c&lt;=characterChecker.length ; ++c ) {\n        if (Character.isDigit(characterChecker[c])) {\n            System.out.println(&quot;A first name should not contain any number...&quot;);\n            System.out.print(&quot;Enter your first name without a number: &quot;);\n            infos[0] = input.next();\n            characterChecker = infos[0].toCharArray();\n            Break firstname;\n        }\n    }\n</code></pre>\n<p>Final Full Code I came up with with Ali's help on this part</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class InfiniteInfoGatheringUntilStop {\n\npublic static void main(String[] args) {\n    int iterationsCounter = 0; // Declares/Initiate a counter for the loops\n    Scanner input = new Scanner(System.in); // Creation of the Scanner object input\n\n    ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;(); // Creates an ArrayList for the names inputs\n    ArrayList&lt;String&gt; birth = new ArrayList&lt;String&gt;(); // Creates an ArrayList for the date of birth inputs\n    ArrayList&lt;String&gt; gpa = new ArrayList&lt;String&gt;(); // Creates an ArrayList for the GPA inputs\n\n    while(true){ // Always true loop unless break out on if conditions\n\n        System.out.print(&quot;Enter your name: &quot;);\n        names.add(input.next());\n        //Code to check if there are numerical character in the String of the listArray inputted\n        char[] characterChecker = names.get(iterationsCounter).toCharArray(); //Declare and initiates an array of character from the ArrayList names(iterationsCounter)\n        int c = 0;\n        while(true){ // Loop to check every character and asks for a retype if detects one character as numerical\n            if(Character.isDigit(characterChecker[c])){\n                System.out.println(&quot;A first name should not contain any number...&quot;);\n                System.out.print(&quot;Enter your first name without a number: &quot;);\n                names.set(iterationsCounter,input.next());\n                characterChecker = names.get(iterationsCounter).toCharArray();\n                c = 0;\n            }\n            else {\n                c++;\n            }\n            if(c == characterChecker.length){\n                break;\n            }\n        }\n        if(names.get(iterationsCounter).equalsIgnoreCase(&quot;stop&quot;)){ //Checks if stop has been typed, breaks in that case but erases previous ArrayLists of this cycle\n            names.remove(iterationsCounter);\n            break;\n        }\n        System.out.print(&quot;Enter your date of birth in this format AAAAmmdd: &quot;);\n        birth.add(input.next());\n        characterChecker = birth.get(iterationsCounter).toCharArray(); //Declare and initiates an array of character from the ArrayList names(iterationsCounter)\n        c = 0;\n        while(true){ // Loop to check every character and asks for a retype if detects one character as letter\n            if(characterChecker.length != 8){ // Checks for a maximum length of 8 characters\n                System.out.println(&quot;A date of birth in the right format (AAAAmmdd) please...&quot;);\n                System.out.print(&quot;Reenter your date of birth again (AAAAmmdd): &quot;);\n                birth.set(iterationsCounter,input.next());\n                characterChecker = birth.get(iterationsCounter).toCharArray();\n            }\n            else if(Character.isLetter(characterChecker[c])){ //checkes if there are letters in the characters\n                System.out.println(&quot;A date of birth in the right format (AAAAmmdd) please...&quot;);\n                System.out.print(&quot;Reenter your date of birth again (AAAAmmdd): &quot;);\n                birth.set(iterationsCounter,input.next());\n                characterChecker = birth.get(iterationsCounter).toCharArray();\n                c = 0;\n            }\n            else {\n                c++;\n            }\n            if(c == characterChecker.length){ //breaks when c = to the length meaning all characters have been checked through the loop\n\n                break;\n            }\n        }\n        if(birth.get(iterationsCounter).equalsIgnoreCase(&quot;stop&quot;)){ //Checks if stop has been typed, breaks in that case but erases previous ArrayLists of this cycle\n            names.remove(iterationsCounter);\n            birth.remove(iterationsCounter);\n            break;\n        }\n\n        System.out.print(&quot;Enter your GPA in 0.0 format: &quot;);\n        gpa.add(input.next());\n        characterChecker = gpa.get(iterationsCounter).toCharArray(); //Declare and initiates an array of character from the ArrayList names(iterationsCounter)\n        c = 0;\n        while(true){ // Loop to check every character and asks for a retype if detects one character as letter\n            if(characterChecker.length != 3){ // Checkes for a maximum length of 8 characters\n                System.out.println(&quot;A GPA in the right format please (0.0)...&quot;);\n                System.out.print(&quot;Reenter your GPA please: &quot;);\n                gpa.set(iterationsCounter,input.next());\n                characterChecker = gpa.get(iterationsCounter).toCharArray();\n            }\n            else if(Character.isLetter(characterChecker[c])){ //checks if there are digits in the characters\n                System.out.println(&quot;A GPA in the right format please (0.0)...&quot;);\n                System.out.print(&quot;Reenter your GPA: &quot;);\n                gpa.set(iterationsCounter,input.next());\n                characterChecker = gpa.get(iterationsCounter).toCharArray();\n                c = 0;\n            }\n\n            else {\n                c++;\n            }\n            if(c == characterChecker.length){ //breaks when c = to the length meaning all characters have been checked through the loop\n\n                break;\n            }\n        }\n        if(gpa.get(iterationsCounter).equalsIgnoreCase(&quot;stop&quot;)){ //Checks if stop has been typed, breaks in that case but erases previous ArrayLists of this cycle\n            names.remove(iterationsCounter);\n            birth.remove(iterationsCounter);\n            gpa.remove(iterationsCounter);\n            break;\n        }\n        iterationsCounter++; // Incrementes the counter if a full loop is done\n    }\n\n    // Prints the results\n    System.out.println(&quot;Number of valid inputs before you got exhausted: &quot; + iterationsCounter);\n    System.out.println(&quot;====================================================================================&quot;);\n\n    //A loop to print the content of the 3 ListArrays\n    for(int arrayLoc = 0; arrayLoc &lt; iterationsCounter; arrayLoc++){\n        System.out.println((arrayLoc+1) + &quot;-\\t&quot; + names.get(arrayLoc) +\n                            &quot;\\t\\t&quot; + birth.get(arrayLoc) +\n                            &quot;\\t\\t&quot; + gpa.get(arrayLoc));\n    }\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644574979,"creation_date":1644574979,"answer_id":71078496,"question_id":71078374,"body_markdown":"There are two ways to deal with results from asynchronous code:\r\n* Wait for the response to become available. This makes the results become available in the current thread.\r\n* Use some kind of callback mechanism. The results are still not available in the current thread.\r\n\r\nThe waiting can be done using `Future` and one of its `get` methods. For callbacks, I prefer `CompletableFuture`, with methods like `thenAccept`. You can even easily hook it into something like the Swing/AWT Event Dispatcher:\r\n\r\n    future.thenAcceptAsync(action, EventQueue::invokeLater);\r\n\r\nThis works because the second argument needs to be an `Executor`, which is a functional interface with one method that takes a `Runnable` and returns nothing. That&#39;s exactly what `EventQueue.invokeLater` is.","title":"How to implement multithreading with a return value?","body":"<p>There are two ways to deal with results from asynchronous code:</p>\n<ul>\n<li>Wait for the response to become available. This makes the results become available in the current thread.</li>\n<li>Use some kind of callback mechanism. The results are still not available in the current thread.</li>\n</ul>\n<p>The waiting can be done using <code>Future</code> and one of its <code>get</code> methods. For callbacks, I prefer <code>CompletableFuture</code>, with methods like <code>thenAccept</code>. You can even easily hook it into something like the Swing/AWT Event Dispatcher:</p>\n<pre><code>future.thenAcceptAsync(action, EventQueue::invokeLater);\n</code></pre>\n<p>This works because the second argument needs to be an <code>Executor</code>, which is a functional interface with one method that takes a <code>Runnable</code> and returns nothing. That's exactly what <code>EventQueue.invokeLater</code> is.</p>\n"}],"owner":{"account_id":24167174,"reputation":37,"user_id":18129805,"display_name":"Philip Nous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644596278,"creation_date":1644574456,"question_id":71078374,"body_markdown":"I have been working on a calculator app in Java and I want to implement multithreading for this. I want to start a second thread, to calculate the answer for the given input. The only problem is, the calculation has to return a value and that value need to get displayed, but I don&#39;t know how to handle that. (I know its kind of useless to implement multithreading because the calculation doesn&#39;t even take a second, but I want to do it as practice and see if its possible)\r\n\r\nHere you can see the code for which I want to start a second thread for:\r\n\r\n```\r\npublic String calculate() {\r\n//The input (StringBuilder) gets converted to an ArrayList\r\n        String[] tmpArray = inputAsText.toString().split(&quot; &quot;);\r\n        inputAsArrayList = new ArrayList(Arrays.asList(tmpArray));\r\n\r\n//Other functions are called to perform calculations on\r\n        inputAsArrayList = calculateFor(&quot;x&quot;, &quot;&#247;&quot;);\r\n        inputAsArrayList = calculateFor(&quot;+&quot;, &quot;-&quot;);\r\n\r\n//The answer gets retrieved from the arrarList and returned as a String\r\n        String answer = String.valueOf(inputAsArrayList.get(0));\r\n        clearInput();\r\n        return answer;\r\n    }\r\n```\r\n\r\n","title":"How to implement multithreading with a return value?","body":"<p>I have been working on a calculator app in Java and I want to implement multithreading for this. I want to start a second thread, to calculate the answer for the given input. The only problem is, the calculation has to return a value and that value need to get displayed, but I don't know how to handle that. (I know its kind of useless to implement multithreading because the calculation doesn't even take a second, but I want to do it as practice and see if its possible)</p>\n<p>Here you can see the code for which I want to start a second thread for:</p>\n<pre><code>public String calculate() {\n//The input (StringBuilder) gets converted to an ArrayList\n        String[] tmpArray = inputAsText.toString().split(&quot; &quot;);\n        inputAsArrayList = new ArrayList(Arrays.asList(tmpArray));\n\n//Other functions are called to perform calculations on\n        inputAsArrayList = calculateFor(&quot;x&quot;, &quot;&quot;);\n        inputAsArrayList = calculateFor(&quot;+&quot;, &quot;-&quot;);\n\n//The answer gets retrieved from the arrarList and returned as a String\n        String answer = String.valueOf(inputAsArrayList.get(0));\n        clearInput();\n        return answer;\n    }\n</code></pre>\n"},{"tags":["java","jakarta-ee","log4j"],"comments":[{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1457529703,"post_id":35892600,"comment_id":59446307,"body_markdown":"Normally, you don&#39;t bother with appenders in your code. You just get your logger, like `private static final Logger LOGGER = Logger.getLogger( ScheduledAction.class );`, and then just `log()` your messages as desired. If, how, and where those messages are output or stored is defined by your log4j configuration file. See [here](https://logging.apache.org/log4j/2.x/manual/configuration.html) for example, or have a look at the `log4j.properties` syntax. This will allow you to add multiple appenders to each logger and to filter which log messages go where, all through configuration.","body":"Normally, you don&#39;t bother with appenders in your code. You just get your logger, like <code>private static final Logger LOGGER = Logger.getLogger( ScheduledAction.class );</code>, and then just <code>log()</code> your messages as desired. If, how, and where those messages are output or stored is defined by your log4j configuration file. See <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">here</a> for example, or have a look at the <code>log4j.properties</code> syntax. This will allow you to add multiple appenders to each logger and to filter which log messages go where, all through configuration."},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1457534996,"post_id":35892600,"comment_id":59450239,"body_markdown":"Yes I understand but it my case I want to add an appender for the lifetime of the timer method so I can capture any log statements, then remove it, which is why I am adding it programatically","body":"Yes I understand but it my case I want to add an appender for the lifetime of the timer method so I can capture any log statements, then remove it, which is why I am adding it programatically"}],"answers":[{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644410581,"creation_date":1644410095,"answer_id":71049733,"question_id":35892600,"body_markdown":"I found this old question while trying to do something similar. For now, my solution is creating an independent logger/appender, with a unique `loggerId`, like:\r\n\r\n    var loggerId = operation.getId(); // This is a unique ID\r\n    var logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(loggerId);\r\n    var appender = createAppender();\r\n    logger.addAppender(appender);\r\n\r\n    logger.info(&quot;using logger&quot;);\r\n\r\n    appender.stop();\r\n    logger.removeAppender(appender);\r\n\r\nThe problem that I have is that I need to pass this `logger` variable around. I can&#39;t use the classic &quot;static logger&quot;.","title":"log4j - Intercept logging created within a class/method","body":"<p>I found this old question while trying to do something similar. For now, my solution is creating an independent logger/appender, with a unique <code>loggerId</code>, like:</p>\n<pre><code>var loggerId = operation.getId(); // This is a unique ID\nvar logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(loggerId);\nvar appender = createAppender();\nlogger.addAppender(appender);\n\nlogger.info(&quot;using logger&quot;);\n\nappender.stop();\nlogger.removeAppender(appender);\n</code></pre>\n<p>The problem that I have is that I need to pass this <code>logger</code> variable around. I can't use the classic &quot;static logger&quot;.</p>\n"},{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644418561,"creation_date":1644418561,"answer_id":71051829,"question_id":35892600,"body_markdown":"Another solution that I am considering, is adding an `AbstractAppender` to the `rootLogger`, and from there do whatever with the logs.\r\n\r\nI will update this answer when I develop it a bit more.\r\n\r\n    var layout = PatternLayout.newBuilder()\r\n            .withPattern(&quot;%d{ISO8601_OFFSET_DATE_TIME_HHCMM} [%t] %-5level  %c{1.} %X %msg%n%throwable&quot;)\r\n            .build();\r\n\r\n    var rootLogger = (org.apache.logging.log4j.core.Logger) LogManager.getRootLogger();\r\n\r\n    var appender = new AbstractAppender(&quot;intercept-appender&quot;, null, layout, false, null) {\r\n        @Override\r\n        public void append(LogEvent event) {\r\n            System.out.println(&quot;INTERCEPTED: &quot; + getLayout().toSerializable(event));\r\n        }\r\n    };\r\n\r\n    appender.start();\r\n    rootLogger.addAppender(appender);\r\n\r\n    log.info(&quot;Message after adding intercept appender&quot;);\r\n","title":"log4j - Intercept logging created within a class/method","body":"<p>Another solution that I am considering, is adding an <code>AbstractAppender</code> to the <code>rootLogger</code>, and from there do whatever with the logs.</p>\n<p>I will update this answer when I develop it a bit more.</p>\n<pre><code>var layout = PatternLayout.newBuilder()\n        .withPattern(&quot;%d{ISO8601_OFFSET_DATE_TIME_HHCMM} [%t] %-5level  %c{1.} %X %msg%n%throwable&quot;)\n        .build();\n\nvar rootLogger = (org.apache.logging.log4j.core.Logger) LogManager.getRootLogger();\n\nvar appender = new AbstractAppender(&quot;intercept-appender&quot;, null, layout, false, null) {\n    @Override\n    public void append(LogEvent event) {\n        System.out.println(&quot;INTERCEPTED: &quot; + getLayout().toSerializable(event));\n    }\n};\n\nappender.start();\nrootLogger.addAppender(appender);\n\nlog.info(&quot;Message after adding intercept appender&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644595396,"creation_date":1644595396,"answer_id":71083089,"question_id":35892600,"body_markdown":"My final solution is adding an `Appender` with `ThreadContextMapFilter`.\r\n\r\n        // With %X you will see the thread context values\r\n        var layout = PatternLayout.newBuilder()\r\n                .withPattern(&quot;%d{ISO8601_OFFSET_DATE_TIME_HHCMM} [%t] %-5level %c{1.} %X %msg%n%throwable&quot;)\r\n                .build();\r\n\r\n        var appender = FileAppender.newBuilder()\r\n                .setName(fileId)\r\n                .withFileName(&quot;/tmp/my-file.log&quot;)\r\n                .setLayout(layout)\r\n                // --- IMPORTANT PART ---\r\n                .setFilter(new ThreadContextMapFilter(\r\n                        Map.of(&quot;my-key&quot;, List.of(&quot;my-value&quot;)), true, null, null))\r\n                .build();\r\n\r\n        // Add the appender\r\n        // https://logging.apache.org/log4j/2.x/manual/customconfig.html\r\n        appender.start();\r\n        final LoggerContext context = LoggerContext.getContext(false);\r\n        final Configuration config = context.getConfiguration();\r\n        config.addAppender(appender);\r\n        config.getRootLogger().addAppender(appender, null, null);\r\n        context.updateLoggers();\r\n\r\n        // --- IMPORTANT PART ---\r\n        try (var ignore = CloseableThreadContext.put(&quot;my-key&quot;, &quot;my-value&quot;)) {\r\n            // the logs here will be captured by the appender\r\n            log.info(&quot;This log WILL be captured by the appender&quot;);\r\n\r\n            // Note: In case you start threads from here,\r\n            // you should pass the ThreadContext to them.\r\n        }\r\n\r\n        log.info(&quot;This log will NOT be captured by the appender&quot;);\r\n\r\n        // Wait for the logs to be flushed. Any improvement ideas?\r\n        // https://stackoverflow.com/a/71081005/1121497\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException ignore) {\r\n        }\r\n\r\n        // Remove the appender\r\n        final LoggerContext context = LoggerContext.getContext(false);\r\n        final Configuration config = context.getConfiguration();\r\n        config.getRootLogger().removeAppender(appender.getName());\r\n        context.updateLoggers();\r\n        appender.stop();\r\n","title":"log4j - Intercept logging created within a class/method","body":"<p>My final solution is adding an <code>Appender</code> with <code>ThreadContextMapFilter</code>.</p>\n<pre><code>    // With %X you will see the thread context values\n    var layout = PatternLayout.newBuilder()\n            .withPattern(&quot;%d{ISO8601_OFFSET_DATE_TIME_HHCMM} [%t] %-5level %c{1.} %X %msg%n%throwable&quot;)\n            .build();\n\n    var appender = FileAppender.newBuilder()\n            .setName(fileId)\n            .withFileName(&quot;/tmp/my-file.log&quot;)\n            .setLayout(layout)\n            // --- IMPORTANT PART ---\n            .setFilter(new ThreadContextMapFilter(\n                    Map.of(&quot;my-key&quot;, List.of(&quot;my-value&quot;)), true, null, null))\n            .build();\n\n    // Add the appender\n    // https://logging.apache.org/log4j/2.x/manual/customconfig.html\n    appender.start();\n    final LoggerContext context = LoggerContext.getContext(false);\n    final Configuration config = context.getConfiguration();\n    config.addAppender(appender);\n    config.getRootLogger().addAppender(appender, null, null);\n    context.updateLoggers();\n\n    // --- IMPORTANT PART ---\n    try (var ignore = CloseableThreadContext.put(&quot;my-key&quot;, &quot;my-value&quot;)) {\n        // the logs here will be captured by the appender\n        log.info(&quot;This log WILL be captured by the appender&quot;);\n\n        // Note: In case you start threads from here,\n        // you should pass the ThreadContext to them.\n    }\n\n    log.info(&quot;This log will NOT be captured by the appender&quot;);\n\n    // Wait for the logs to be flushed. Any improvement ideas?\n    // https://stackoverflow.com/a/71081005/1121497\n    try {\n        Thread.sleep(500);\n    } catch (InterruptedException ignore) {\n    }\n\n    // Remove the appender\n    final LoggerContext context = LoggerContext.getContext(false);\n    final Configuration config = context.getConfiguration();\n    config.getRootLogger().removeAppender(appender.getName());\n    context.updateLoggers();\n    appender.stop();\n</code></pre>\n"}],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1644595396,"creation_date":1457529171,"question_id":35892600,"body_markdown":"I have an App which has many ejb Timer methods which are fired at various intervals, in an attempt to log the performance of these scheduled tasks I have written two methods which log the start and end of every task and records some info such as name, running duration and log info each time the timer fires\r\n\r\nThe intention with log info was to intercept all logging statements raised from within these methods, output to a string and save...I am doing this by creating a new WriterAppender, appending to the Logger for all logging levels, then when the timer completes capture the string output and remove the appender\r\n\r\nThis works well but it seems to have 2 unwanted effects:\r\n\r\n1) It is stopping any logging from the timer class appearing in our normal file appender logs, eg. the log messages are being captured but they now don&#39;t appear in our normal logs (which are configured to show everything &gt; INFO\r\n\r\n2) Logging statements from different timers which overlap are appearing in each other logs, I guess this is the result of the Logger working on a single thread, not sure if theres a way around this?\r\n\r\nI am no expert in log4j so I am hoping someone can point out a simple fix for 1, 2 or both\r\n\r\nCode below shows the 2 methods which are called at start and end of every job\r\n\r\n    private Writer w = new StringWriter();\r\n\tprivate WriterAppender wa;\r\n\tprivate Logger logOutput = Logger.getLogger(ScheduledActions.class);\r\n\r\n    private TimerEvent logStartTimerEvent(ScheduledTask task){\r\n\t\t\r\n\t\tRedisActions redisActions = (RedisActions)Component.getInstance(&quot;redisActions&quot;);\r\n\t\tTimerEvent event = new TimerEvent(task);\r\n\t\t\r\n\t\t//Initialise a new log appender to intercept all log4j entries\r\n\t\tw = new StringWriter();\r\n        Layout l = new PatternLayout(&quot;%m%n&quot;);\r\n        wa = new WriterAppender(l, w);\r\n        wa.setEncoding(&quot;UTF-8&quot;);\r\n        wa.setThreshold(Level.ALL);\r\n        wa.activateOptions();\r\n\r\n        // Add it to logger\r\n        logOutput = Logger.getLogger(ScheduledActions.class);\r\n        logOutput.addAppender(wa);\r\n\t\t\r\n        //Push this timer event to redis\r\n\t\tredisActions.addToFixedLengthList(RedisItem.TIMER_HISTORY.getKey()+&quot;_&quot;+task.getName(), gson.toJson(event), 100L);\r\n\t\t\r\n\t\treturn event;\r\n\t}\r\n\t\r\n\tprivate void logEndTimerEvent(TimerEvent event){\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\tRedisActions redisActions = (RedisActions)Component.getInstance(&quot;redisActions&quot;);\r\n\t\t\tevent.setLogInfo(w.toString());\r\n\t\t\tevent.setEndTime(new Date());\r\n\t\t\tredisActions.editLastMemberInList(RedisItem.TIMER_HISTORY.getKey()+&quot;_&quot;+event.getTask().getName(), gson.toJson(event));\r\n\t\t\tw.flush();\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}finally{\r\n\t\t\t//clean up the temp log appender\r\n\t\t\tlogOutput.removeAppender(wa);\r\n\t        wa.close();\r\n\t        \r\n\t\t}\r\n\t\t\r\n\t}","title":"log4j - Intercept logging created within a class/method","body":"<p>I have an App which has many ejb Timer methods which are fired at various intervals, in an attempt to log the performance of these scheduled tasks I have written two methods which log the start and end of every task and records some info such as name, running duration and log info each time the timer fires</p>\n\n<p>The intention with log info was to intercept all logging statements raised from within these methods, output to a string and save...I am doing this by creating a new WriterAppender, appending to the Logger for all logging levels, then when the timer completes capture the string output and remove the appender</p>\n\n<p>This works well but it seems to have 2 unwanted effects:</p>\n\n<p>1) It is stopping any logging from the timer class appearing in our normal file appender logs, eg. the log messages are being captured but they now don't appear in our normal logs (which are configured to show everything > INFO</p>\n\n<p>2) Logging statements from different timers which overlap are appearing in each other logs, I guess this is the result of the Logger working on a single thread, not sure if theres a way around this?</p>\n\n<p>I am no expert in log4j so I am hoping someone can point out a simple fix for 1, 2 or both</p>\n\n<p>Code below shows the 2 methods which are called at start and end of every job</p>\n\n<pre><code>private Writer w = new StringWriter();\nprivate WriterAppender wa;\nprivate Logger logOutput = Logger.getLogger(ScheduledActions.class);\n\nprivate TimerEvent logStartTimerEvent(ScheduledTask task){\n\n    RedisActions redisActions = (RedisActions)Component.getInstance(\"redisActions\");\n    TimerEvent event = new TimerEvent(task);\n\n    //Initialise a new log appender to intercept all log4j entries\n    w = new StringWriter();\n    Layout l = new PatternLayout(\"%m%n\");\n    wa = new WriterAppender(l, w);\n    wa.setEncoding(\"UTF-8\");\n    wa.setThreshold(Level.ALL);\n    wa.activateOptions();\n\n    // Add it to logger\n    logOutput = Logger.getLogger(ScheduledActions.class);\n    logOutput.addAppender(wa);\n\n    //Push this timer event to redis\n    redisActions.addToFixedLengthList(RedisItem.TIMER_HISTORY.getKey()+\"_\"+task.getName(), gson.toJson(event), 100L);\n\n    return event;\n}\n\nprivate void logEndTimerEvent(TimerEvent event){\n\n    try{\n\n        RedisActions redisActions = (RedisActions)Component.getInstance(\"redisActions\");\n        event.setLogInfo(w.toString());\n        event.setEndTime(new Date());\n        redisActions.editLastMemberInList(RedisItem.TIMER_HISTORY.getKey()+\"_\"+event.getTask().getName(), gson.toJson(event));\n        w.flush();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }finally{\n        //clean up the temp log appender\n        logOutput.removeAppender(wa);\n        wa.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":24227834,"reputation":11,"user_id":18182073,"display_name":"Andrey Khloptsev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644595357,"creation_date":1644594427,"question_id":71082847,"body_markdown":"I am trying to convert entity to DTO using spring Convertion Service. Maybe the problem is that I call ConversionService inside my implementation of Converter.\r\nThis is my converter :\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ResourceToGroupFilterResourcesCardDtoConverter implements Converter&lt;Resource, GroupFilterResourcesCardDto&gt; {\r\n\r\n\tprivate final ConversionService conversionService;\r\n\r\n\t@Override\r\n\tpublic GroupFilterResourcesCardDto convert(Resource source) {\r\n\t\treturn GroupFilterResourcesCardDto.builder()\r\n\t\t\t\t.uuid(source.getUuid())\r\n\t\t\t\t.primarySoftware(source.getPrimarySoftware() != null ? source.getPrimarySoftware().stream()\r\n\t\t\t\t\t\t.map(it-&gt;conversionService.convert(it, PrimarySoftwareDto.class))\r\n\t\t\t\t\t\t.collect(Collectors.toList()) : null)\r\n\t\t\t\t.build();\r\n\t}\r\n```\r\nI have a lot of over converters like that, but this one can&#39;t be found when I call ConversionService \r\n\r\nThis is the place where I try to call it:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ResourceListToGroupFilterResourceCatalogDtoMapper {\r\n\r\n\tprivate final ConversionService conversionService;\r\n\r\n\tpublic GroupFilterResourcesCatalogDto convert(List&lt;Resource&gt; resources) {\r\n\t\tif (resources == null || resources.isEmpty()) {\r\n\t\t\treturn GroupFilterResourcesCatalogDto.builder().resources(List.of()).build();\r\n\t\t}\r\n\t\treturn GroupFilterResourcesCatalogDto.builder()\r\n\t\t\t\t.resources(resources.stream()\r\n\t\t\t\t\t\t\t\t   .map(it -&gt; conversionService.convert(it, GroupFilterResourcesCardDto.class))\r\n\t\t\t\t\t\t\t\t   .collect(Collectors.toList()))\r\n\t\t\t\t.build();\r\n\t}\r\n```\r\nIn fact I got this exception:\r\n\r\n```\r\n2022-02-11 15:12:25.554 ERROR 12028 --- [nio-7044-exec-6] r.i.s.c.error.GlobalExceptionHandler     : Error id=e43b0d60-c419-4889-82a7-d356b6011d0c with message:\r\n\r\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [ru.khloptsev.back.model.entity.resource.Resource] to type [ru.khloptsev.back.model.domain.back.filter.response.GroupFilterResourcesCardDto]\r\n\tat org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:321)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:194)\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:174)\r\n\tat ru.khloptsev.back.mapper.filter.ResourceListToGroupFilterResourceCatalogDtoMapper.lambda$convert$0(ResourceListToGroupFilterResourceCatalogDtoMapper.java:33)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat ru.khloptsev.back.mapper.filter.ResourceListToGroupFilterResourceCatalogDtoMapper.convert(ResourceListToGroupFilterResourceCatalogDtoMapper.java:34)\r\n\tat ru.khloptsev.back.facade.filter.FilterFacadeImpl.getResources(FilterFacadeImpl.java:171)\r\n\tat ru.khloptsev.back.facade.filter.FilterFacadeImpl$$FastClassBySpringCGLIB$$709444d5.invoke(&lt;generated&gt;)\r\n```\r\n\r\nWhen I try to debug and look at conversionService, I see that it Has a lot of converters, but not mine. At converterCache there is a key for my converter with NO_MATCH value.\r\n\r\nThank you\r\n","title":"ConverterNotFoundException when call ConvertionService inside Converter implementaion","body":"<p>I am trying to convert entity to DTO using spring Convertion Service. Maybe the problem is that I call ConversionService inside my implementation of Converter.\nThis is my converter :</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ResourceToGroupFilterResourcesCardDtoConverter implements Converter&lt;Resource, GroupFilterResourcesCardDto&gt; {\n\n    private final ConversionService conversionService;\n\n    @Override\n    public GroupFilterResourcesCardDto convert(Resource source) {\n        return GroupFilterResourcesCardDto.builder()\n                .uuid(source.getUuid())\n                .primarySoftware(source.getPrimarySoftware() != null ? source.getPrimarySoftware().stream()\n                        .map(it-&gt;conversionService.convert(it, PrimarySoftwareDto.class))\n                        .collect(Collectors.toList()) : null)\n                .build();\n    }\n</code></pre>\n<p>I have a lot of over converters like that, but this one can't be found when I call ConversionService</p>\n<p>This is the place where I try to call it:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ResourceListToGroupFilterResourceCatalogDtoMapper {\n\n    private final ConversionService conversionService;\n\n    public GroupFilterResourcesCatalogDto convert(List&lt;Resource&gt; resources) {\n        if (resources == null || resources.isEmpty()) {\n            return GroupFilterResourcesCatalogDto.builder().resources(List.of()).build();\n        }\n        return GroupFilterResourcesCatalogDto.builder()\n                .resources(resources.stream()\n                                   .map(it -&gt; conversionService.convert(it, GroupFilterResourcesCardDto.class))\n                                   .collect(Collectors.toList()))\n                .build();\n    }\n</code></pre>\n<p>In fact I got this exception:</p>\n<pre><code>2022-02-11 15:12:25.554 ERROR 12028 --- [nio-7044-exec-6] r.i.s.c.error.GlobalExceptionHandler     : Error id=e43b0d60-c419-4889-82a7-d356b6011d0c with message:\n\norg.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [ru.khloptsev.back.model.entity.resource.Resource] to type [ru.khloptsev.back.model.domain.back.filter.response.GroupFilterResourcesCardDto]\n    at org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:321)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:194)\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:174)\n    at ru.khloptsev.back.mapper.filter.ResourceListToGroupFilterResourceCatalogDtoMapper.lambda$convert$0(ResourceListToGroupFilterResourceCatalogDtoMapper.java:33)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\n    at ru.khloptsev.back.mapper.filter.ResourceListToGroupFilterResourceCatalogDtoMapper.convert(ResourceListToGroupFilterResourceCatalogDtoMapper.java:34)\n    at ru.khloptsev.back.facade.filter.FilterFacadeImpl.getResources(FilterFacadeImpl.java:171)\n    at ru.khloptsev.back.facade.filter.FilterFacadeImpl$$FastClassBySpringCGLIB$$709444d5.invoke(&lt;generated&gt;)\n</code></pre>\n<p>When I try to debug and look at conversionService, I see that it Has a lot of converters, but not mine. At converterCache there is a key for my converter with NO_MATCH value.</p>\n<p>Thank you</p>\n"},{"tags":["java","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644595186,"creation_date":1644595186,"answer_id":71083046,"question_id":71081442,"body_markdown":"I needed the page as well to get the element\r\n```\r\nHtmlTextInput textInput =\r\n (HtmlTextInput) ((HtmlPage) webClient\r\n    .getCurrentWindow()\r\n    .getEnclosedPage())\r\n  .getFocusedElement();\r\n```","title":"How do I get the currently focused element in HtmlUnit","body":"<p>I needed the page as well to get the element</p>\n<pre><code>HtmlTextInput textInput =\n (HtmlTextInput) ((HtmlPage) webClient\n    .getCurrentWindow()\n    .getEnclosedPage())\n  .getFocusedElement();\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644595186,"creation_date":1644588493,"question_id":71081442,"body_markdown":"In my javascript I did \r\n\r\n```\r\ndocument.getElementById(myID).focus();\r\n```\r\n\r\nto focus the element.\r\n\r\nRather than trying to traverse through the DOM tree, I was wondering if I can simply say something like\r\n\r\n```\r\nvar element = (HtmlTextInput) webClient.getActieWindow().getFocusedElement();\r\n```\r\n\r\nbut I can&#39;t seem to find it in the API","title":"How do I get the currently focused element in HtmlUnit","body":"<p>In my javascript I did</p>\n<pre><code>document.getElementById(myID).focus();\n</code></pre>\n<p>to focus the element.</p>\n<p>Rather than trying to traverse through the DOM tree, I was wondering if I can simply say something like</p>\n<pre><code>var element = (HtmlTextInput) webClient.getActieWindow().getFocusedElement();\n</code></pre>\n<p>but I can't seem to find it in the API</p>\n"},{"tags":["java","freebsd","opensolaris"],"answers":[{"tags":[],"owner":{"account_id":35560,"reputation":15331,"user_id":100766,"accept_rate":91,"display_name":"jhwist"},"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1596399449,"creation_date":1260460639,"answer_id":1881967,"question_id":1881546,"body_markdown":"In good tradition, I can answer my own question once again:\r\n\r\nIt seems that `InetAddress.getLocalHost()` ignores the `/etc/resolv.conf`, but only looks at the `/etc/hosts` file (where I hadn&#39;t specified anything besides `localhost`). Adding the IP and hostname to this file solves the problem and the exception is gone.\r\n\r\n-----------------------------------------------------------------------------------\r\nAnother answer is almost correct and I got hint from above and my problem get resolved...Thanks.\r\n\r\nBut to improve this, I am adding steps-by-steps changes, so that it will be helpful for even naive users.\r\n\r\nSteps:\r\n\r\n - Open `/etc/hosts`, the entries might look like below.\r\n\r\n        127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4  \r\n        ::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\r\n\r\n - You need to add one more line above of this by any editor like `vi` or `gedit` (e.g. `&lt;your-machine-ip&gt; &lt;your-machine-name&gt; localhost`).\r\n\r\n        192.168.1.73 my_foo localhost\r\n\r\nNow, overall file may look like this:\r\n  \r\n    192.168.1.73 my_foo localhost\r\n    127.0.0.1    localhost localhost.localdomain localhost4 localhost4.localdomain4\r\n    ::1          localhost localhost.localdomain localhost6 localhost6.localdomain6\r\n\r\n - Just save it and run again your Java code... your work is done.","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>In good tradition, I can answer my own question once again:</p>\n<p>It seems that <code>InetAddress.getLocalHost()</code> ignores the <code>/etc/resolv.conf</code>, but only looks at the <code>/etc/hosts</code> file (where I hadn't specified anything besides <code>localhost</code>). Adding the IP and hostname to this file solves the problem and the exception is gone.</p>\n<hr />\n<p>Another answer is almost correct and I got hint from above and my problem get resolved...Thanks.</p>\n<p>But to improve this, I am adding steps-by-steps changes, so that it will be helpful for even naive users.</p>\n<p>Steps:</p>\n<ul>\n<li><p>Open <code>/etc/hosts</code>, the entries might look like below.</p>\n<pre><code> 127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4  \n ::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n</code></pre>\n</li>\n<li><p>You need to add one more line above of this by any editor like <code>vi</code> or <code>gedit</code> (e.g. <code>&lt;your-machine-ip&gt; &lt;your-machine-name&gt; localhost</code>).</p>\n<pre><code> 192.168.1.73 my_foo localhost\n</code></pre>\n</li>\n</ul>\n<p>Now, overall file may look like this:</p>\n<pre><code>192.168.1.73 my_foo localhost\n127.0.0.1    localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1          localhost localhost.localdomain localhost6 localhost6.localdomain6\n</code></pre>\n<ul>\n<li>Just save it and run again your Java code... your work is done.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":66873,"reputation":1073,"user_id":195967,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1369120855,"creation_date":1274363801,"answer_id":2874372,"question_id":1881546,"body_markdown":"Host lookups on Solaris uses `/etc/nsswitch.conf` so depending on what the &#39;hosts:&#39; line says it determines if `/etc/hosts`, NIS, DNS and/or LDAP should be consulted.\r\n\r\nIf you only use hosts and DNS you should have this in `/etc/nsswitch.conf`:\r\n&lt;pre&gt;hosts: files dns&lt;/pre&gt;\r\n\r\nThe reason `nslookup desvearth01` works is because the `nslookup` command directly consults `/etc/resolv.conf`. If you want to do a better command line test, use the command:\r\n&lt;pre&gt;getent hosts desvearth01&lt;/pre&gt;","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>Host lookups on Solaris uses <code>/etc/nsswitch.conf</code> so depending on what the 'hosts:' line says it determines if <code>/etc/hosts</code>, NIS, DNS and/or LDAP should be consulted.</p>\n\n<p>If you only use hosts and DNS you should have this in <code>/etc/nsswitch.conf</code>:</p>\n\n<pre>hosts: files dns</pre>\n\n<p>The reason <code>nslookup desvearth01</code> works is because the <code>nslookup</code> command directly consults <code>/etc/resolv.conf</code>. If you want to do a better command line test, use the command:</p>\n\n<pre>getent hosts desvearth01</pre>\n"},{"tags":[],"owner":{"account_id":160316,"reputation":1009,"user_id":380278,"accept_rate":50,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432901179,"creation_date":1278436095,"answer_id":3188511,"question_id":1881546,"body_markdown":"I am having issues around this as well.  I need to do further testing, but it looks like\r\n`NetworkInterface.getNetworkInterfaces()` can be more reliable.  I think that this does not do the lookup, but just grabs the IP.\r\n\r\nI am using it as the &#39;next best&#39; when the `getLocalHost()` fails.","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>I am having issues around this as well.  I need to do further testing, but it looks like\n<code>NetworkInterface.getNetworkInterfaces()</code> can be more reliable.  I think that this does not do the lookup, but just grabs the IP.</p>\n\n<p>I am using it as the 'next best' when the <code>getLocalHost()</code> fails.</p>\n"},{"tags":[],"owner":{"account_id":1695264,"reputation":9,"user_id":1556753,"display_name":"Pavel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349921955,"creation_date":1343368553,"answer_id":11682214,"question_id":1881546,"body_markdown":"If you see this message than you need set hostname **WITH** `hostname superhost.domain` **COMMAND**! \r\n\r\nAfter this, check which `/etc/hosts` file contain string like this `127.0.0.1 localhost`.\r\n\r\nAlso, check that command `uname -a` returns something like this:\r\n\r\n&gt; Linux &lt;b&gt;superhost.domain&lt;/b&gt; 2.6.38-8-server #42-Ubuntu SMP Mon Apr 11 03:49:04 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**NOT LIKE THIS!!!!**\r\n\r\n&gt; Linux &lt;b&gt;(none)&lt;/b&gt; 2.6.38-8-server #42-Ubuntu SMP Mon Apr 11 03:49:04 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>If you see this message than you need set hostname <strong>WITH</strong> <code>hostname superhost.domain</code> <strong>COMMAND</strong>! </p>\n\n<p>After this, check which <code>/etc/hosts</code> file contain string like this <code>127.0.0.1 localhost</code>.</p>\n\n<p>Also, check that command <code>uname -a</code> returns something like this:</p>\n\n<blockquote>\n  <p>Linux <b>superhost.domain</b> 2.6.38-8-server #42-Ubuntu SMP Mon Apr 11 03:49:04 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux</p>\n</blockquote>\n\n<p><strong>NOT LIKE THIS!!!!</strong></p>\n\n<blockquote>\n  <p>Linux <b>(none)</b> 2.6.38-8-server #42-Ubuntu SMP Mon Apr 11 03:49:04 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":244750,"reputation":19412,"user_id":517781,"accept_rate":82,"display_name":"Dean Hiller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346160964,"creation_date":1346160964,"answer_id":12160451,"question_id":1881546,"body_markdown":"Another option is in this post (in fact, what is in your /etc/sysconfig/network file for your hostname...by changing it to an FQDN name fixes this issue).\r\n\r\nhttps://stackoverflow.com/questions/12159444/java-getlocalhost-unknownhostexception-etc-hosts-file-differs-linux-api","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>Another option is in this post (in fact, what is in your /etc/sysconfig/network file for your hostname...by changing it to an FQDN name fixes this issue).</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12159444/java-getlocalhost-unknownhostexception-etc-hosts-file-differs-linux-api\">java getLocalHost() UnknownHostException /etc/hosts file differs linux api?</a></p>\n"},{"tags":[],"owner":{"account_id":6274651,"reputation":21,"user_id":4877680,"display_name":"user4877680"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431066340,"creation_date":1431063711,"answer_id":30116560,"question_id":1881546,"body_markdown":"Checkout */etc/hostname* then put your hostname to hosts file.","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>Checkout <em>/etc/hostname</em> then put your hostname to hosts file.</p>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1644595050,"creation_date":1442426416,"answer_id":32615563,"question_id":1881546,"body_markdown":"I use [`NetworkInterface.getNetworkInterfaces()`][1] as a fall back for when [`InetAddress.getLocalHost()`][2] throws an [`UnknownHostException`][3].  Here&#39;s the code (without exception handling for clarity).\r\n\r\n    Enumeration&lt;NetworkInterface&gt; iterNetwork;\r\n    Enumeration&lt;InetAddress&gt; iterAddress;\r\n    NetworkInterface network;\r\n    InetAddress address;\r\n    \r\n    iterNetwork = NetworkInterface.getNetworkInterfaces();\r\n    \r\n    while (iterNetwork.hasMoreElements())\r\n    {\r\n       network = iterNetwork.nextElement();\r\n    \r\n       if (!network.isUp())\r\n          continue;\r\n    \r\n       if (network.isLoopback())\r\n          continue;\r\n\r\n       iterAddress = network.getInetAddresses();\r\n\r\n       while (iterAddress.hasMoreElements())\r\n       {\r\n          address = iterAddress.nextElement();\r\n\r\n          if (address.isAnyLocalAddress())\r\n             continue;\r\n\r\n          if (address.isLoopbackAddress())\r\n             continue;\r\n\r\n          if (address.isMulticastAddress())\r\n             continue;\r\n\r\n          return address.getHostAddress();\r\n       }\r\n    }\r\n\r\nOther answers edit the `/etc/hosts` file.  This is error prone, brittle, may require root access and won&#39;t work on all OS&#39;s.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/NetworkInterface.html#getNetworkInterfaces--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html#getLocalHost--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/net/UnknownHostException.html\r\n","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>I use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/NetworkInterface.html#getNetworkInterfaces--\" rel=\"nofollow noreferrer\"><code>NetworkInterface.getNetworkInterfaces()</code></a> as a fall back for when <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html#getLocalHost--\" rel=\"nofollow noreferrer\"><code>InetAddress.getLocalHost()</code></a> throws an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/UnknownHostException.html\" rel=\"nofollow noreferrer\"><code>UnknownHostException</code></a>.  Here's the code (without exception handling for clarity).</p>\n<pre><code>Enumeration&lt;NetworkInterface&gt; iterNetwork;\nEnumeration&lt;InetAddress&gt; iterAddress;\nNetworkInterface network;\nInetAddress address;\n\niterNetwork = NetworkInterface.getNetworkInterfaces();\n\nwhile (iterNetwork.hasMoreElements())\n{\n   network = iterNetwork.nextElement();\n\n   if (!network.isUp())\n      continue;\n\n   if (network.isLoopback())\n      continue;\n\n   iterAddress = network.getInetAddresses();\n\n   while (iterAddress.hasMoreElements())\n   {\n      address = iterAddress.nextElement();\n\n      if (address.isAnyLocalAddress())\n         continue;\n\n      if (address.isLoopbackAddress())\n         continue;\n\n      if (address.isMulticastAddress())\n         continue;\n\n      return address.getHostAddress();\n   }\n}\n</code></pre>\n<p>Other answers edit the <code>/etc/hosts</code> file.  This is error prone, brittle, may require root access and won't work on all OS's.</p>\n"},{"tags":[],"owner":{"account_id":2580018,"reputation":111,"user_id":2236925,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1442931619,"creation_date":1442931619,"answer_id":32719426,"question_id":1881546,"body_markdown":"This errors shows up when I changed the workstation name and tried start Glassfish 2. You also must rename the entry at /etc/hosts, something like this:\r\n\r\n    127.0.0.1       localhost\r\n    127.0.1.1       MyNewName\r\n","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>This errors shows up when I changed the workstation name and tried start Glassfish 2. You also must rename the entry at /etc/hosts, something like this:</p>\n\n<pre><code>127.0.0.1       localhost\n127.0.1.1       MyNewName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1790766,"reputation":1110,"user_id":1631235,"accept_rate":60,"display_name":"ankit.vishen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1512542966,"creation_date":1497430778,"answer_id":44540120,"question_id":1881546,"body_markdown":"On my amazon instance I was having the same issue, there was default DNS configuration issue. So to fix the issue I had done these steps -\r\n\r\n&gt; get your host name\r\n\r\n    $hostname\r\n    ip-10-122-16-169\r\n\r\n&gt; ping to hostname\r\n\r\n    $ping ip-10-122-16-169\r\n    ping: unknown host ip-10-122-16-169\r\n\r\n&gt; cat **/etc/hosts** file, you will get something like\r\n\r\n    127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\r\n    ::1         localhost6 localhost6.localdomain6\r\n\r\n&gt; now you just need to append your host name at the end of the fist line, so when you append it will look like\r\n\r\n    127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4 ip-10-122-16-169\r\n    ::1         localhost6 localhost6.localdomain6\r\n\r\n&gt; now you&#39;re ready to go, to check ping again the same hostname\r\n\r\n    $ping ip-10-122-16-169\r\n    PING localhost (127.0.0.1) 56(84) bytes of data.\r\n    64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=255 time=0.018 ms\r\n    64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=255 time=0.024 ms\r\n\r\n","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>On my amazon instance I was having the same issue, there was default DNS configuration issue. So to fix the issue I had done these steps -</p>\n\n<blockquote>\n  <p>get your host name</p>\n</blockquote>\n\n<pre><code>$hostname\nip-10-122-16-169\n</code></pre>\n\n<blockquote>\n  <p>ping to hostname</p>\n</blockquote>\n\n<pre><code>$ping ip-10-122-16-169\nping: unknown host ip-10-122-16-169\n</code></pre>\n\n<blockquote>\n  <p>cat <strong>/etc/hosts</strong> file, you will get something like</p>\n</blockquote>\n\n<pre><code>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost6 localhost6.localdomain6\n</code></pre>\n\n<blockquote>\n  <p>now you just need to append your host name at the end of the fist line, so when you append it will look like</p>\n</blockquote>\n\n<pre><code>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4 ip-10-122-16-169\n::1         localhost6 localhost6.localdomain6\n</code></pre>\n\n<blockquote>\n  <p>now you're ready to go, to check ping again the same hostname</p>\n</blockquote>\n\n<pre><code>$ping ip-10-122-16-169\nPING localhost (127.0.0.1) 56(84) bytes of data.\n64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=255 time=0.018 ms\n64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=255 time=0.024 ms\n</code></pre>\n"}],"owner":{"account_id":35560,"reputation":15331,"user_id":100766,"accept_rate":91,"display_name":"jhwist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110506,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":1881967,"answer_count":9,"score":90,"last_activity_date":1644595050,"creation_date":1260457329,"question_id":1881546,"body_markdown":"I am testing our server-application (written Java) on different operating systems and thought that OpenSolaris (2008.11) would be the least troublesome due to the nice Java integration. Turns out I was wrong, as I end up with a UnknownHostException\r\n\r\n    try {\r\n      computerName = InetAddress.getLocalHost().getHostName();\r\n      if (computerName.indexOf(&quot;.&quot;) &gt; -1)\r\n        computerName = computerName.substring(0,\r\n            computerName.indexOf(&quot;.&quot;)).toUpperCase();\r\n    } catch (UnknownHostException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nThe output is:\r\n\r\n    java.net.UnknownHostException: desvearth01: desvearth01\r\n        at java.net.InetAddress.getLocalHost(InetAddress.java:1353)\r\n\r\nHowever, `nslookup desvearth01` returns the correct IP address, and `nslookup localhost` returns `127.0.0.1` as expected. Also, the same code works perfectly on FreeBSD. Is there anything special to OpenSolaris that I am not aware of?\r\n\r\nAny hints appreciated, thanks.\r\n\r\n ","title":"InetAddress.getLocalHost() throws UnknownHostException","body":"<p>I am testing our server-application (written Java) on different operating systems and thought that OpenSolaris (2008.11) would be the least troublesome due to the nice Java integration. Turns out I was wrong, as I end up with a UnknownHostException</p>\n\n<pre><code>try {\n  computerName = InetAddress.getLocalHost().getHostName();\n  if (computerName.indexOf(\".\") &gt; -1)\n    computerName = computerName.substring(0,\n        computerName.indexOf(\".\")).toUpperCase();\n} catch (UnknownHostException e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>java.net.UnknownHostException: desvearth01: desvearth01\n    at java.net.InetAddress.getLocalHost(InetAddress.java:1353)\n</code></pre>\n\n<p>However, <code>nslookup desvearth01</code> returns the correct IP address, and <code>nslookup localhost</code> returns <code>127.0.0.1</code> as expected. Also, the same code works perfectly on FreeBSD. Is there anything special to OpenSolaris that I am not aware of?</p>\n\n<p>Any hints appreciated, thanks.</p>\n"},{"tags":["java","token","tokenize"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644593896,"post_id":71082685,"comment_id":125655360,"body_markdown":"See if this helps: https://stackoverflow.com/questions/43067869/lexical-analyser-in-java","body":"See if this helps: <a href=\"https://stackoverflow.com/questions/43067869/lexical-analyser-in-java\" title=\"lexical analyser in java\">stackoverflow.com/questions/43067869/lexical-analyser-in-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644596846,"post_id":71082685,"comment_id":125656560,"body_markdown":"[Tokenization](https://en.wikipedia.org/wiki/Lexical_analysis#Tokenization)","body":"<a href=\"https://en.wikipedia.org/wiki/Lexical_analysis#Tokenization\" rel=\"nofollow noreferrer\">Tokenization</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1644596955,"post_id":71082685,"comment_id":125656610,"body_markdown":"For this case it looks like a simple FSM that tracks whether it is in a run of alphanumeric characters would suffix. Emit a token for each paren and each such run.","body":"For this case it looks like a simple FSM that tracks whether it is in a run of alphanumeric characters would suffix. Emit a token for each paren and each such run."}],"owner":{"account_id":24204913,"reputation":1,"user_id":18162254,"display_name":"Haterproof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644594977,"creation_date":1644593743,"question_id":71082685,"body_markdown":"I need to do a lexical analysis of a very simple program in a file as part of a project. It was suggested to me to use tokenization to divide the lexical elements of the program. I&#39;ve never used this technique and don&#39;t know how to implement it.\r\nTokens can be:\r\n- a keyword like: IF, WHILE, ADD, SUB, SET, TRUE, FALSE etc ...\r\n- a parenthesis (open or closed)\r\n- a number\r\n- a variable\r\n\r\nAn example of an inbound program is:\r\n\r\n`(BLOCK (SET n 10) (SET sum 0) (WHILE (GT n 0) (BLOCK (SET sum (ADD sum n)) (SET n (SUB n 1)) (PRINT sum)))) `\r\n\r\nHow do I use tokenization to recognize and divide these program elements?","title":"How to use tokenization to do lexical analysis in Java of a program in a file","body":"<p>I need to do a lexical analysis of a very simple program in a file as part of a project. It was suggested to me to use tokenization to divide the lexical elements of the program. I've never used this technique and don't know how to implement it.\nTokens can be:</p>\n<ul>\n<li>a keyword like: IF, WHILE, ADD, SUB, SET, TRUE, FALSE etc ...</li>\n<li>a parenthesis (open or closed)</li>\n<li>a number</li>\n<li>a variable</li>\n</ul>\n<p>An example of an inbound program is:</p>\n<p><code>(BLOCK (SET n 10) (SET sum 0) (WHILE (GT n 0) (BLOCK (SET sum (ADD sum n)) (SET n (SUB n 1)) (PRINT sum)))) </code></p>\n<p>How do I use tokenization to recognize and divide these program elements?</p>\n"},{"tags":["java","collections","java-8","hashset","java-11"],"comments":[{"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"score":1,"creation_date":1629892624,"post_id":68922416,"comment_id":121806287,"body_markdown":"What is the instancied type of properties.stringPropertyNames()?","body":"What is the instancied type of properties.stringPropertyNames()?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1629892864,"post_id":68922416,"comment_id":121806407,"body_markdown":"You you can see from the class name `properties.stringPropertyNames()` returns an `Collections$UnmodifiableCollection`. Unmodifiable means you can&#39;t add, insert, remove or change something on this collection.","body":"You you can see from the class name <code>properties.stringPropertyNames()</code> returns an <code>Collections$UnmodifiableCollection</code>. Unmodifiable means you can&#39;t add, insert, remove or change something on this collection."},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1629892878,"post_id":68922416,"comment_id":121806411,"body_markdown":"the type of properties is Properties","body":"the type of properties is Properties"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1629894853,"creation_date":1629892793,"answer_id":68922526,"question_id":68922416,"body_markdown":"Now that you have explained what the type of `properties` is `java.util.Properties` the answer is clear.  In Java 8, `Properties.stringPropertyNames()` returned a set whose modifiability was unspecified:\r\n\r\n&gt; *&quot;Returns a set of keys in this property list where the key and its corresponding value are strings, including distinct keys in the default property list if a key of the same name has not already been found from the main properties list. Properties whose key or value is not of type String are omitted.&quot;*\r\n&gt;\r\n&gt; *&quot;The returned set is not backed by the Properties object. Changes to this Properties are not reflected in the set, or vice versa.&quot;*.\r\n\r\nIn Java 11, it is specified to be unmodifiable.\r\n\r\n&gt; *&quot;Returns an unmodifiable set of keys from this property list where the key and its corresponding value are strings, including distinct keys in the default property list if a key of the same name has not already been found from the main properties list. Properties whose key or value is not of type String are omitted.&quot;*\r\n&gt;\r\n&gt; *&quot;The returned set is not backed by this Properties object. Changes to this Properties object are not reflected in the returned set.&quot;*\r\n\r\nThe change happened in Java 9.  This is related to [bug 8059361](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8059361).  \r\n\r\n(This is was an incompatible change in the sense that it could break customers&#39; code if they relied on being able to modify the returned set. However, that code was relying on unspecified behavior, so you could argue that it was broken already.)","title":"Migration from JDK8 to JDK11 causing java.lang.UnsupportedOperationException","body":"<p>Now that you have explained what the type of <code>properties</code> is <code>java.util.Properties</code> the answer is clear.  In Java 8, <code>Properties.stringPropertyNames()</code> returned a set whose modifiability was unspecified:</p>\n<blockquote>\n<p><em>&quot;Returns a set of keys in this property list where the key and its corresponding value are strings, including distinct keys in the default property list if a key of the same name has not already been found from the main properties list. Properties whose key or value is not of type String are omitted.&quot;</em></p>\n<p><em>&quot;The returned set is not backed by the Properties object. Changes to this Properties are not reflected in the set, or vice versa.&quot;</em>.</p>\n</blockquote>\n<p>In Java 11, it is specified to be unmodifiable.</p>\n<blockquote>\n<p><em>&quot;Returns an unmodifiable set of keys from this property list where the key and its corresponding value are strings, including distinct keys in the default property list if a key of the same name has not already been found from the main properties list. Properties whose key or value is not of type String are omitted.&quot;</em></p>\n<p><em>&quot;The returned set is not backed by this Properties object. Changes to this Properties object are not reflected in the returned set.&quot;</em></p>\n</blockquote>\n<p>The change happened in Java 9.  This is related to <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8059361\" rel=\"noreferrer\">bug 8059361</a>.</p>\n<p>(This is was an incompatible change in the sense that it could break customers' code if they relied on being able to modify the returned set. However, that code was relying on unspecified behavior, so you could argue that it was broken already.)</p>\n"},{"tags":[],"owner":{"account_id":8248682,"reputation":78,"user_id":6204014,"display_name":"Parag Goel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629893050,"creation_date":1629893050,"answer_id":68922592,"question_id":68922416,"body_markdown":"As i understand correctly, you have unmodifiable set and you are tying to change it here \r\n\r\n`parameterNames.removeIf(s -&gt; !s.startsWith(seq));   `\r\n\r\n that&#39;s why you getting this error/exception.\r\n\r\n    Set&lt;String&gt; parameterNames = new HashSet&lt;&gt;(properties.stringPropertyNames());\r\n\r\nThis will create a new Set with same content which can be altered.","title":"Migration from JDK8 to JDK11 causing java.lang.UnsupportedOperationException","body":"<p>As i understand correctly, you have unmodifiable set and you are tying to change it here</p>\n<p><code>parameterNames.removeIf(s -&gt; !s.startsWith(seq));   </code></p>\n<p>that's why you getting this error/exception.</p>\n<pre><code>Set&lt;String&gt; parameterNames = new HashSet&lt;&gt;(properties.stringPropertyNames());\n</code></pre>\n<p>This will create a new Set with same content which can be altered.</p>\n"}],"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644594792,"creation_date":1629892277,"question_id":68922416,"body_markdown":"You you can see from the class name properties.stringPropertyNames() returns an Collections$UnmodifiableCollection. Unmodifiable means you can&#39;t add, insert, remove or change something on this collection","title":"Migration from JDK8 to JDK11 causing java.lang.UnsupportedOperationException","body":"<p>You you can see from the class name properties.stringPropertyNames() returns an Collections$UnmodifiableCollection. Unmodifiable means you can't add, insert, remove or change something on this collection</p>\n"},{"tags":["java","arrays","list","unit-testing","indexoutofboundsexception"],"comments":[{"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"score":1,"creation_date":1630274079,"post_id":68977152,"comment_id":121905461,"body_markdown":"Show your test !","body":"Show your test !"},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1630274215,"post_id":68977152,"comment_id":121905498,"body_markdown":"I added the test above","body":"I added the test above"},{"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"score":0,"creation_date":1630274244,"post_id":68977152,"comment_id":121905509,"body_markdown":"show your inputs","body":"show your inputs"},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1630274538,"post_id":68977152,"comment_id":121905570,"body_markdown":"added more code in the question","body":"added more code in the question"},{"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"score":0,"creation_date":1630274677,"post_id":68977152,"comment_id":121905595,"body_markdown":"private static final int lengthOfList= 4; is very suspicious, because it is static it might be that other test cases are interacting with it in a certain matter, try making this field non static","body":"private static final int lengthOfList= 4; is very suspicious, because it is static it might be that other test cases are interacting with it in a certain matter, try making this field non static"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1630274830,"post_id":68977152,"comment_id":121905622,"body_markdown":"@miroana the field is decleard `final`. There are ways around this, but I wouldl not suspect that the test cases use reflection to change the value of a `final` field.","body":"@miroana the field is decleard <code>final</code>. There are ways around this, but I wouldl not suspect that the test cases use reflection to change the value of a <code>final</code> field."},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1630274894,"post_id":68977152,"comment_id":121905633,"body_markdown":"I declare new variable inside test, still with negative value it is throwing indexoutofbound instead of ArrayIndexout of bound","body":"I declare new variable inside test, still with negative value it is throwing indexoutofbound instead of ArrayIndexout of bound"},{"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"score":0,"creation_date":1630274990,"post_id":68977152,"comment_id":121905654,"body_markdown":"show how variable list is initialized","body":"show how variable list is initialized"},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1630275123,"post_id":68977152,"comment_id":121905671,"body_markdown":"private SensorFailureByOdometerList[] list; like this","body":"private SensorFailureByOdometerList[] list; like this"},{"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"score":0,"creation_date":1630275183,"post_id":68977152,"comment_id":121905680,"body_markdown":"SensorFailureByOdometerList[] list = new SensorFailureByOdometerList[?????] what is inside question marks?","body":"SensorFailureByOdometerList[] list = new SensorFailureByOdometerList[?????] what is inside question marks?"},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1630275267,"post_id":68977152,"comment_id":121905694,"body_markdown":"SensorFailureByOdometerList list = new SensorFailureByOdometerList[NUM_LISTS]; like this","body":"SensorFailureByOdometerList list = new SensorFailureByOdometerList[NUM_LISTS]; like this"},{"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"score":0,"creation_date":1630275268,"post_id":68977152,"comment_id":121905695,"body_markdown":"is it 3? 4? 5? infinity?","body":"is it 3? 4? 5? infinity?"},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1630275300,"post_id":68977152,"comment_id":121905700,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/236550/discussion-between-mutahir-kiani-and-miroana).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/236550/discussion-between-mutahir-kiani-and-miroana\">continue this discussion in chat</a>."},{"owner":{"account_id":13007972,"reputation":627,"user_id":9401943,"display_name":"birneee"},"score":0,"creation_date":1630277341,"post_id":68977152,"comment_id":121906023,"body_markdown":"https://stackoverflow.com/questions/34266174/difference-between-arrayindexoutofboundsexception-and-indexoutofboundsexception","body":"<a href=\"https://stackoverflow.com/questions/34266174/difference-between-arrayindexoutofboundsexception-and-indexoutofboundsexception\" title=\"difference between arrayindexoutofboundsexception and indexoutofboundsexception\">stackoverflow.com/questions/34266174/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1630294452,"post_id":68977152,"comment_id":121908160,"body_markdown":"So your problem is that calling `get(-1)` on a java.util.List throws IndexOutOfboundsException, but not ArrayIndexOutOfBoundsException?","body":"So your problem is that calling <code>get(-1)</code> on a java.util.List throws IndexOutOfboundsException, but not ArrayIndexOutOfBoundsException?"},{"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"score":0,"creation_date":1630309636,"post_id":68977152,"comment_id":121911712,"body_markdown":"@VGR yes right, because it throw ArrayIndexOutOfBoundsException in JDK8 but with JDK11 it throw IndexOutOfboundsException.","body":"@VGR yes right, because it throw ArrayIndexOutOfBoundsException in JDK8 but with JDK11 it throw IndexOutOfboundsException."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630424926,"creation_date":1630324618,"answer_id":68983743,"question_id":68977152,"body_markdown":"Change your test method to check for IndexOutOfBoundsException.\r\n\r\nFrom [the documentation of the List.get method](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html#get(int)):\r\n\r\n&gt;Returns the element at the specified position in this list.\r\n&gt;\r\n&gt;**Parameters:**  \r\n&gt;`index` - index of the element to return\r\n&gt;\r\n&gt;**Returns:**  \r\n&gt;the element at the specified position in this list\r\n&gt;\r\n&gt;**Throws:**  \r\n&gt;`IndexOutOfBoundsException` - if the index is out of range (`index &lt; 0 || index &gt;= size()`) \r\n\r\nNowhere does the documentation mention ArrayIndexOutOfBoundsException.  (The documentation [is exactly the same for Java 8](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-).)\r\n\r\nThe documentation states that callers can safely assume that the method will throw IndexOutOfBoundsException, or some subclass of it, if the argument is negative or out of range.  There has never been any guarantee that any particular subclass of IndexOutOfBoundsException would be thrown.\r\n\r\nYou observed one particular version of Java throwing a subclass of IndexOutOfBoundsException, and you incorrectly assumed that you could rely on the method throwing that subclass.  But that was never a safe assumption, because the methods contract never promised that.  ArrayList (like all implementations of List) was always free to change exactly which subclass of IndexOutOfBoundsException, if any, was thrown.\r\n\r\nIf you want your code to be guaranteed to work with future versions of Java, do not assume anything that isnt in the official documentation.\r\n\r\nSide note:  You should remove the try/catch from your unit test, and annotate the method with `@Test(expected = IndexOutOfBoundsException.class)`.  This allows the test report to show the underlying error, and it will make your test method shorter and cleaner.\r\n\r\n","title":"Migration from Java8 to Java11 java.lang.IndexOutOfBoundsException","body":"<p>Change your test method to check for IndexOutOfBoundsException.</p>\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html#get(int)\" rel=\"nofollow noreferrer\">the documentation of the List.get method</a>:</p>\n<blockquote>\n<p>Returns the element at the specified position in this list.</p>\n<p><strong>Parameters:</strong><br />\n<code>index</code> - index of the element to return</p>\n<p><strong>Returns:</strong><br />\nthe element at the specified position in this list</p>\n<p><strong>Throws:</strong><br />\n<code>IndexOutOfBoundsException</code> - if the index is out of range (<code>index &lt; 0 || index &gt;= size()</code>)</p>\n</blockquote>\n<p>Nowhere does the documentation mention ArrayIndexOutOfBoundsException.  (The documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-\" rel=\"nofollow noreferrer\">is exactly the same for Java 8</a>.)</p>\n<p>The documentation states that callers can safely assume that the method will throw IndexOutOfBoundsException, or some subclass of it, if the argument is negative or out of range.  There has never been any guarantee that any particular subclass of IndexOutOfBoundsException would be thrown.</p>\n<p>You observed one particular version of Java throwing a subclass of IndexOutOfBoundsException, and you incorrectly assumed that you could rely on the method throwing that subclass.  But that was never a safe assumption, because the methods contract never promised that.  ArrayList (like all implementations of List) was always free to change exactly which subclass of IndexOutOfBoundsException, if any, was thrown.</p>\n<p>If you want your code to be guaranteed to work with future versions of Java, do not assume anything that isnt in the official documentation.</p>\n<p>Side note:  You should remove the try/catch from your unit test, and annotate the method with <code>@Test(expected = IndexOutOfBoundsException.class)</code>.  This allows the test report to show the underlying error, and it will make your test method shorter and cleaner.</p>\n"}],"owner":{"account_id":12001366,"reputation":83,"user_id":8781185,"display_name":"Mutahir Kiani"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644594620,"creation_date":1630273545,"question_id":68977152,"body_markdown":"I am migrating my java application from JDK8 to JDK11 but during migration one of my test is failing in java11. It is throwing Index -1 out of bounds for length 3 but this test is passing with JDK8.\r\n    \r\nAccording to ArrayIndexOutOfBoundsException java documentation nothing is changed in Java 8 and Java11 but still this test is failing. According to documentation if the index is negative number then program will throw ArrayIndexOutOfBoundsException. So for Java8 it is throwing ArrayIndexOutOfBoundsException and test is passing. In Java11 it is throwing IndexOutOfBoundsException instead of ArrayIndexOutOfBoundsException and failing my test. \r\nAttaching my stack-trace below:\r\n    \r\n    Index -1 out of bounds for length 3\r\n    java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 3\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n\t\r\n\r\nAny help in this regard will be appreciated. ","title":"Migration from Java8 to Java11 java.lang.IndexOutOfBoundsException","body":"<p>I am migrating my java application from JDK8 to JDK11 but during migration one of my test is failing in java11. It is throwing Index -1 out of bounds for length 3 but this test is passing with JDK8.</p>\n<p>According to ArrayIndexOutOfBoundsException java documentation nothing is changed in Java 8 and Java11 but still this test is failing. According to documentation if the index is negative number then program will throw ArrayIndexOutOfBoundsException. So for Java8 it is throwing ArrayIndexOutOfBoundsException and test is passing. In Java11 it is throwing IndexOutOfBoundsException instead of ArrayIndexOutOfBoundsException and failing my test.\nAttaching my stack-trace below:</p>\n<pre><code>Index -1 out of bounds for length 3\njava.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 3\nat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\nat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n</code></pre>\n<p>Any help in this regard will be appreciated.</p>\n"},{"tags":["java","eclipse","junit"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1644598286,"post_id":71082767,"comment_id":125657196,"body_markdown":"Which jar files? Which one of them contains the org.junit.platform.engine.ConfigurationParameters class?","body":"Which jar files? Which one of them contains the org.junit.platform.engine.ConfigurationParameters class?"},{"owner":{"account_id":23513241,"reputation":129,"user_id":17561543,"display_name":"Harsh Rathod"},"score":0,"creation_date":1644599515,"post_id":71082767,"comment_id":125657645,"body_markdown":"org.junit file @nitind","body":"org.junit file @nitind"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1644746097,"post_id":71082767,"comment_id":125683493,"body_markdown":"https://stackoverflow.com/help/minimal-reproducible-example please.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> please."}],"owner":{"account_id":23513241,"reputation":129,"user_id":17561543,"display_name":"Harsh Rathod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644594090,"creation_date":1644594090,"question_id":71082767,"body_markdown":"  \r\njava.lang.NoClassDefFoundError: org/junit/platform/engine/ConfigurationParameters\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.&lt;init&gt;(JUnit5TestLoader.java:34)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:642)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:371)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:366)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:310)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:225)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.engine.ConfigurationParameters\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\t... 13 more","title":"when I run a simple program in Junit, it is giving me this error. I already inserted jar files and configured my build path","body":"<p>java.lang.NoClassDefFoundError: org/junit/platform/engine/ConfigurationParameters\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.(JUnit5TestLoader.java:34)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\nat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\nat java.base/java.lang.Class.newInstance(Class.java:642)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:371)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:366)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:310)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:225)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.engine.ConfigurationParameters\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n... 13 more</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644592971,"creation_date":1644592771,"answer_id":71082450,"question_id":71082019,"body_markdown":"For one thing, you&#39;re looking for `Stream.flatMap()`.  For example,\r\n\r\n    company.getDepartments().stream()\r\n                .flatMap(d -&gt; d.getEmployees().stream()) // ...\r\n\r\nThat converts your stream of `Departments` to a stream of the `Employees` of each department.  You can then `map()` those to salaries and filter as you already do.\r\n\r\nThe combination `.toList().stream()` makes zero sense, however, as it expends work to convert one stream to another one providing exactly the same objects.  Removing that has only upside.\r\n\r\nTo map to an `IntStream` or, probably better for this purpose, a `DoubleStream`, the `mapToInt()` or `mapToDouble()` method requires a function expressing the details of the mapping, which you are omitting.\r\n\r\nFinally, `IntStream.average()`, `DoubleStream.average()`, *etc* return an `OptionalInteger` / `OptionalDouble` / *etc*, which accommodates the possibility that there is no average on account of the stream  providing zero elements.  You need to deal with that.\r\n\r\nAll together, then:\r\n\r\n    float average = company.getDepartments().stream() // a stream of Departments\r\n            .flatMap(d -&gt; d.getEmployees().stream())  // a stream of Employees\r\n            .map(e -&gt; e.getSalary())                  // a stream of Integer salaries\r\n            .filter(s -&gt; s.intValue() &gt;= salaryLimit) // only the high salaries\r\n            .mapToDouble(Integer::doubleValue)        // as a DoubleStream\r\n            .average()                                // reduce to an average\r\n            .getAsDouble();                           // the value, if it exists\r\n\r\nNote well that the `getAsDouble()` will throw `NoSuchElementException` if no salaries satisfy the filter criterion.  Catching and handling that is a perfectly reasonable way to deal with the situation, but if you want to avoid that then you can store the result of `average()` instead of chaining `getAsDouble()`, and then test it with `isPresent()` to decide whether to go ahead with `getAsDouble()` or to handle the situation differently.  Or if there is a specific `double` value that you want to provide in that case -- such as `0` or `Double.NaN` -- then you could chain on an `orElse(valueForZeroSalaries)` instead of the `getAsDouble()`.","title":"get average salary with Java stream api;","body":"<p>For one thing, you're looking for <code>Stream.flatMap()</code>.  For example,</p>\n<pre><code>company.getDepartments().stream()\n            .flatMap(d -&gt; d.getEmployees().stream()) // ...\n</code></pre>\n<p>That converts your stream of <code>Departments</code> to a stream of the <code>Employees</code> of each department.  You can then <code>map()</code> those to salaries and filter as you already do.</p>\n<p>The combination <code>.toList().stream()</code> makes zero sense, however, as it expends work to convert one stream to another one providing exactly the same objects.  Removing that has only upside.</p>\n<p>To map to an <code>IntStream</code> or, probably better for this purpose, a <code>DoubleStream</code>, the <code>mapToInt()</code> or <code>mapToDouble()</code> method requires a function expressing the details of the mapping, which you are omitting.</p>\n<p>Finally, <code>IntStream.average()</code>, <code>DoubleStream.average()</code>, <em>etc</em> return an <code>OptionalInteger</code> / <code>OptionalDouble</code> / <em>etc</em>, which accommodates the possibility that there is no average on account of the stream  providing zero elements.  You need to deal with that.</p>\n<p>All together, then:</p>\n<pre><code>float average = company.getDepartments().stream() // a stream of Departments\n        .flatMap(d -&gt; d.getEmployees().stream())  // a stream of Employees\n        .map(e -&gt; e.getSalary())                  // a stream of Integer salaries\n        .filter(s -&gt; s.intValue() &gt;= salaryLimit) // only the high salaries\n        .mapToDouble(Integer::doubleValue)        // as a DoubleStream\n        .average()                                // reduce to an average\n        .getAsDouble();                           // the value, if it exists\n</code></pre>\n<p>Note well that the <code>getAsDouble()</code> will throw <code>NoSuchElementException</code> if no salaries satisfy the filter criterion.  Catching and handling that is a perfectly reasonable way to deal with the situation, but if you want to avoid that then you can store the result of <code>average()</code> instead of chaining <code>getAsDouble()</code>, and then test it with <code>isPresent()</code> to decide whether to go ahead with <code>getAsDouble()</code> or to handle the situation differently.  Or if there is a specific <code>double</code> value that you want to provide in that case -- such as <code>0</code> or <code>Double.NaN</code> -- then you could chain on an <code>orElse(valueForZeroSalaries)</code> instead of the <code>getAsDouble()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644593982,"creation_date":1644592897,"answer_id":71082485,"question_id":71082019,"body_markdown":"What you&#39;re getting is a compiler error, because `mapToInt` requires a `ToIntFunction` but you&#39;re providing none.\r\n\r\nAlso you don&#39;t need to collect the stream to a list only to convert it to a stream again. You can still use your stream as long as you don&#39;t call a terminal method.\r\n\r\nSo what you can do is something like this:\r\n\r\n    double average = company.getDepartments().stream()\r\n            .flatMap(department -&gt; department.getEmployees().stream())\r\n            .map(Employee::getSalary)\r\n            .filter(x -&gt; x &gt;= salaryLimit)\r\n            .mapToDouble(salary -&gt; salary)\r\n            .average()\r\n            .orElse(0.0);\r\n\r\n`average()` gives you an `Optional&lt;Double&gt;` so you need to unwrap the value at the end. As a default value you can return `0.0` with a call to `orElse`","title":"get average salary with Java stream api;","body":"<p>What you're getting is a compiler error, because <code>mapToInt</code> requires a <code>ToIntFunction</code> but you're providing none.</p>\n<p>Also you don't need to collect the stream to a list only to convert it to a stream again. You can still use your stream as long as you don't call a terminal method.</p>\n<p>So what you can do is something like this:</p>\n<pre><code>double average = company.getDepartments().stream()\n        .flatMap(department -&gt; department.getEmployees().stream())\n        .map(Employee::getSalary)\n        .filter(x -&gt; x &gt;= salaryLimit)\n        .mapToDouble(salary -&gt; salary)\n        .average()\n        .orElse(0.0);\n</code></pre>\n<p><code>average()</code> gives you an <code>Optional&lt;Double&gt;</code> so you need to unwrap the value at the end. As a default value you can return <code>0.0</code> with a call to <code>orElse</code></p>\n"}],"owner":{"account_id":16215402,"reputation":3,"user_id":12113897,"display_name":"FaiLError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6026,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71082450,"answer_count":2,"score":0,"last_activity_date":1644593982,"creation_date":1644590852,"question_id":71082019,"body_markdown":"how can i get the average salary of company employees whose salary is more than salaryLimit?\r\nI think first I need to get a list of all salaries and filter it + use mapToInt and average, but...nothing works((\r\n\r\n    public class TestCl {\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class Company {\r\n        private List&lt;Department&gt; departments;\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class Department {\r\n        private List&lt;Employee&gt; employees;\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public class Employee {\r\n        private int salary;\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        int salaryLimit = 25;\r\n\r\n        List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(){{\r\n            add(new Employee(10));\r\n            add(new Employee(20));\r\n            add(new Employee(30));\r\n            add(new Employee(40));\r\n            add(new Employee(50));\r\n        }};\r\n\r\n        List&lt;Department&gt; departments = new ArrayList&lt;&gt;(){{\r\n            add(new Department(employees));\r\n            add(new Department(employees));\r\n            add(new Department(employees));\r\n            add(new Department(employees));\r\n            add(new Department(employees));\r\n        }};\r\n\r\n        Company company = new Company(departments);\r\n\r\n        float average = company.getDepartments().stream()\r\n                .map(Department::getEmployees).toList().stream()\r\n                .map(Employee::getSalary).toList().stream()\r\n                .filter(x -&gt; x &gt;= salaryLimit).mapToInt().average();\r\n\r\n        System.out.println(average);\r\n    }\r\n\r\n}","title":"get average salary with Java stream api;","body":"<p>how can i get the average salary of company employees whose salary is more than salaryLimit?\nI think first I need to get a list of all salaries and filter it + use mapToInt and average, but...nothing works((</p>\n<pre><code>public class TestCl {\n\n@Data\n@AllArgsConstructor\npublic class Company {\n    private List&lt;Department&gt; departments;\n}\n\n@Data\n@AllArgsConstructor\npublic class Department {\n    private List&lt;Employee&gt; employees;\n}\n\n@Data\n@AllArgsConstructor\npublic class Employee {\n    private int salary;\n}\n\n@Test\npublic void test() {\n    int salaryLimit = 25;\n\n    List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(){{\n        add(new Employee(10));\n        add(new Employee(20));\n        add(new Employee(30));\n        add(new Employee(40));\n        add(new Employee(50));\n    }};\n\n    List&lt;Department&gt; departments = new ArrayList&lt;&gt;(){{\n        add(new Department(employees));\n        add(new Department(employees));\n        add(new Department(employees));\n        add(new Department(employees));\n        add(new Department(employees));\n    }};\n\n    Company company = new Company(departments);\n\n    float average = company.getDepartments().stream()\n            .map(Department::getEmployees).toList().stream()\n            .map(Employee::getSalary).toList().stream()\n            .filter(x -&gt; x &gt;= salaryLimit).mapToInt().average();\n\n    System.out.println(average);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1644572049,"post_id":71077810,"comment_id":125647122,"body_markdown":"To understand better, you have the UID of the user and you want to get the corresponding details?","body":"To understand better, you have the UID of the user and you want to get the corresponding details?"},{"owner":{"account_id":18087169,"reputation":3,"user_id":13147786,"display_name":"Konstantin Pernikov"},"score":0,"creation_date":1644572507,"post_id":71077810,"comment_id":125647275,"body_markdown":"No Alex, it&#39;s the other way. I have the corresponding details of each user (email, name), and I want to get the uid of one user (no mather which one)","body":"No Alex, it&#39;s the other way. I have the corresponding details of each user (email, name), and I want to get the uid of one user (no mather which one)"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1644572568,"post_id":71077810,"comment_id":125647297,"body_markdown":"Oh, I see. I&#39;ll write you an answer right away.","body":"Oh, I see. I&#39;ll write you an answer right away."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644573151,"creation_date":1644573151,"answer_id":71078083,"question_id":71077810,"body_markdown":"According to your last comment:\r\n\r\n&gt; I have the corresponding details of each user (email, name), and I want to get the UID of one user (no matter which one)\r\n\r\nTo get a particular user from the database based on a particular email address, the query that you are already using:\r\n\r\n    Query emailQuery = usersRef.orderByChild(&quot;email&quot;).equalTo(client.getEmail());\r\n\r\nReturns only the users who have the field `email` set to what `client.getEmail()` returns. For instance, if `client.getEmail()` returns tedo@gmail.com then you&#39;ll get a single result, according to your screenshot, which is the first one. That being said, the following if statement, doesn&#39;t make sense to be used:\r\n\r\n    if (child.getValue(User.class).getEmail().equals(client.getEmail())){\r\n        User user = child.getValue(User.class);\r\n    }\r\n\r\nSince the key of the user node is represented by the UID, then you should get it like this:\r\n\r\n    Query emailQuery = usersRef.orderByChild(&quot;email&quot;).equalTo(client.getEmail());\r\n    emailQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            for (DataSnapshot child : snapshot.getChildren()) {\r\n                User user = child.getValue(User.class);\r\n                String uid = child.getKey();\r\n\r\n                //Do what you need to do with UID.\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n            Log.d(&quot;TAG&quot;, error.getMessage()); //Never ignore potential errors!\r\n        }\r\n    });\r\n\r\nThat&#39;s the simplest, cheapest way to query the Realtime Database, in which you return only the elements that you are interested in and that satisfy a particular condition.","title":"Firebase Realtime Database geting User by Email/Name in Android with Java","body":"<p>According to your last comment:</p>\n<blockquote>\n<p>I have the corresponding details of each user (email, name), and I want to get the UID of one user (no matter which one)</p>\n</blockquote>\n<p>To get a particular user from the database based on a particular email address, the query that you are already using:</p>\n<pre><code>Query emailQuery = usersRef.orderByChild(&quot;email&quot;).equalTo(client.getEmail());\n</code></pre>\n<p>Returns only the users who have the field <code>email</code> set to what <code>client.getEmail()</code> returns. For instance, if <code>client.getEmail()</code> returns tedo@gmail.com then you'll get a single result, according to your screenshot, which is the first one. That being said, the following if statement, doesn't make sense to be used:</p>\n<pre><code>if (child.getValue(User.class).getEmail().equals(client.getEmail())){\n    User user = child.getValue(User.class);\n}\n</code></pre>\n<p>Since the key of the user node is represented by the UID, then you should get it like this:</p>\n<pre><code>Query emailQuery = usersRef.orderByChild(&quot;email&quot;).equalTo(client.getEmail());\nemailQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        for (DataSnapshot child : snapshot.getChildren()) {\n            User user = child.getValue(User.class);\n            String uid = child.getKey();\n\n            //Do what you need to do with UID.\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        Log.d(&quot;TAG&quot;, error.getMessage()); //Never ignore potential errors!\n    }\n});\n</code></pre>\n<p>That's the simplest, cheapest way to query the Realtime Database, in which you return only the elements that you are interested in and that satisfy a particular condition.</p>\n"}],"owner":{"account_id":18087169,"reputation":3,"user_id":13147786,"display_name":"Konstantin Pernikov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71078083,"answer_count":1,"score":0,"last_activity_date":1644593796,"creation_date":1644571834,"question_id":71077810,"body_markdown":"![Screenshot of the database][1]\r\n\r\nI want to get a User or just a User UID via email or name. Tried to write the query, but I&#39;m getting all users and then iterating through them and then getting the user but I think it&#39;s an expensive task. How can I get only one User/Uid from Realtime Database?\r\n\r\nThis is what I came up with (But don&#39;t think is the best way):\r\n\r\n    DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n\r\n    Query emailQuery = usersRef.orderByChild(&quot;email&quot;).equalTo(client.getEmail());\r\n\r\n    emailQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n            for (DataSnapshot child : snapshot.getChildren()) {\r\n\r\n                if (child.getValue(User.class).getEmail().equals(client.getEmail())){\r\n\r\n                    User user = child.getValue(User.class);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n\r\n  [1]: https://i.stack.imgur.com/dTbpA.png\r\n","title":"Firebase Realtime Database geting User by Email/Name in Android with Java","body":"<p><img src=\"https://i.stack.imgur.com/dTbpA.png\" alt=\"Screenshot of the database\" /></p>\n<p>I want to get a User or just a User UID via email or name. Tried to write the query, but I'm getting all users and then iterating through them and then getting the user but I think it's an expensive task. How can I get only one User/Uid from Realtime Database?</p>\n<p>This is what I came up with (But don't think is the best way):</p>\n<pre><code>DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n\nQuery emailQuery = usersRef.orderByChild(&quot;email&quot;).equalTo(client.getEmail());\n\nemailQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n        for (DataSnapshot child : snapshot.getChildren()) {\n\n            if (child.getValue(User.class).getEmail().equals(client.getEmail())){\n\n                User user = child.getValue(User.class);\n            }\n\n        }\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n"},{"tags":["java","swing","jframe","jtable","jscrollpane"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1644548936,"post_id":71074793,"comment_id":125642306,"body_markdown":"`new JPanel();` uses a `FlowLayout` by default; `add(jps);` is adding the `JScrollPane` to the &quot;default&quot; layout position, which is `CENTER` for `BorderLayout`, so you now have two components occupying the centre position, which `BorderLayout` does not support.  `JTable` has no `setVerticalAlignment`  method, not sure what you&#39;re trying to accomplish here.","body":"<code>new JPanel();</code> uses a <code>FlowLayout</code> by default; <code>add(jps);</code> is adding the <code>JScrollPane</code> to the &quot;default&quot; layout position, which is <code>CENTER</code> for <code>BorderLayout</code>, so you now have two components occupying the centre position, which <code>BorderLayout</code> does not support.  <code>JTable</code> has no <code>setVerticalAlignment</code>  method, not sure what you&#39;re trying to accomplish here."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644549478,"creation_date":1644549478,"answer_id":71074956,"question_id":71074793,"body_markdown":"So, let&#39;s take a quick look at the constructor...\r\n\r\n    public GUICommandFunctions() { \r\n        //...\r\n        JPanel panel = new JPanel();  \r\n        this.add(panel, BorderLayout.CENTER); //Location of panel for JButton\r\n\r\n        ButtonOne = LibraryContentButton();\r\n        panel.add(ButtonOne); //adding panel to JFrame\r\n        //...\r\n        jt.setPreferredScrollableViewportSize(new Dimension(450, 63)); //Set size. **HERE IS PROBLEM #2**\r\n        jt.setFillsViewportHeight(true); //Set visible\r\n        jt.setVerticalAlignment(JTable.BOTTOM_ALIGNMENT); //**HERE IS PROBLEM #1**\r\n        \r\n        JScrollPane jps = new JScrollPane(jt); //add scroll **HERE IS PROBLEM #3**\r\n        add(jps);\r\n    }\r\n\r\nYou add `panel` to the `CENTER`.  Since you&#39;ve extended directly from `JFrame`, the layout is already `BorderLayout`, so this is fine.\r\n\r\nBut then you add `jps` using `add(jps);`, which will add the component to the layouts default position, which in the case of `BorderLayout` is `CENTER`.  This is problematic, as `BorderLayout` only allows a single component to be managed at each position, which explains why you&#39;re `setPreferredScrollableViewportSize` isn&#39;t working, as the `BorderLayout` is ignoring it, and making the component fill the available space in the `CENTER`\r\n\r\nSo, I modified your code.  First, I extended from `JPanel` instead of `JFrame`.  It&#39;s generally discouraged to extend from `JFrame` directly, you&#39;re not adding any new functionality to the class, locking yourself into a single use case and it generally just makes you live more difficult.\r\n\r\nSecondly, I placed the `JScrollPane` at the `SOUTH` position of the `BorderLayout`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(new GUICommandFunctionsPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GUICommandFunctionsPane extends JPanel {\r\n\r\n            private JButton ButtonOne;\r\n            private JTable jt;\r\n\r\n            public GUICommandFunctionsPane() {\r\n                setLayout(new BorderLayout());\r\n                JPanel panel = new JPanel();\r\n                this.add(panel, BorderLayout.CENTER); //Location of panel for JButton\r\n\r\n                ButtonOne = LibraryContentButton();\r\n                panel.add(ButtonOne); //adding panel to JFrame\r\n\r\n                String[] columns = {&quot;Title&quot;, &quot;Author/Language&quot;, &quot;Publisher&quot;, &quot;Page Count&quot;, &quot;Version Number/Genre/Topic&quot;, &quot;Part of a series/Illustrator&quot;}; //columns of the JTable\r\n                String[][] data = {{&quot;The Keto Cookbook&quot;, &quot;Chronicle Books&quot;, &quot;304&quot;, &quot;English&quot;, &quot;Keto Cooking&quot;, &quot;null&quot;}, //data under the columns\r\n                {&quot;The Hitchhiker&#39;s Guide to the Galaxy&quot;, &quot;Del Rey&quot;, &quot;224&quot;, &quot;Douglas Adams&quot;, &quot;Fantasy&quot;, &quot;Y&quot;}\r\n                };\r\n\r\n                jt = new JTable(data, columns) { //Makes it so can&#39;t edit data inside table once ran\r\n                    public boolean isCellEditable(int data, int columns) {\r\n                        return false;\r\n                    }\r\n                };\r\n\r\n                jt.setPreferredScrollableViewportSize(new Dimension(450, 63)); //Set size. **HERE IS PROBLEM #2**\r\n                jt.setFillsViewportHeight(true); //Set visible\r\n\r\n                JScrollPane jps = new JScrollPane(jt);\r\n                add(jps, BorderLayout.SOUTH);\r\n\r\n            }\r\n\r\n            private JButton LibraryContentButton() { //\r\n                JButton content = new JButton(&quot;Click to view all content&quot;);\r\n                content.setFocusable(false);\r\n                content.setBackground(Color.DARK_GRAY);\r\n                content.setForeground(Color.WHITE);\r\n                content.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n                content.setToolTipText(&quot;Shows content of the entire library in a neatly ordered JTable&quot;);\r\n                content.setMargin(new Insets(10, 10, 10, 10));\r\n                content.setPreferredSize(new Dimension(300, 75));\r\n\r\n                content.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        JOptionPane.showMessageDialog(GUICommandFunctionsPane.this, &quot;Eventually will make this button load up the JTable&quot;);\r\n                    }\r\n                });\r\n                return content;\r\n\r\n            }\r\n\r\n    //        static {\r\n    //\r\n    //            int arrayCount;\r\n    //\r\n    //            FileReader fr = null;\r\n    //\r\n    //            try {\r\n    //                fr = new FileReader(&quot;C:\\\\Users\\\\Mark Case\\\\Documents\\\\NetBeansProjects\\\\LibraryInventory\\\\src\\\\libraryinventory\\\\library.txt&quot;); //Reads in text file\r\n    //            } catch (FileNotFoundException ex) {\r\n    //                Logger.getLogger(GUICommandFunctionsPane.class.getName()).log(Level.SEVERE, null, ex);\r\n    //            }\r\n    //\r\n    //            BufferedReader reader = new BufferedReader(fr);\r\n    //            ArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\r\n    //            String line = &quot;&quot;;\r\n    //            arrayCount = 0;\r\n    //            try {\r\n    //                while ((line = reader.readLine()) != null) {\r\n    //                    str.add(line);\r\n    //                    arrayCount = arrayCount + 1;\r\n    //\r\n    //                }\r\n    //            } catch (IOException ex) {\r\n    //                Logger.getLogger(GUICommandFunctionsPane.class.getName()).log(Level.SEVERE, null, ex);\r\n    //            }\r\n    //\r\n    //            // Here we would actually set the type to what the user wants (note: Set it to a &quot;0&quot; if the user wants all Books)\r\n    //            String selType = &quot;2&quot;;\r\n    //\r\n    //            // Call method to select Books by category type\r\n    //            String methodResult = SelectType(str, arrayCount, selType);\r\n    //\r\n    //        }\r\n    //\r\n    //        private static String SelectType(ArrayList&lt;String&gt; str, int arrayCount, String selType) {\r\n    //            for (int i = 1; i &lt; arrayCount; i++) {\r\n    //\r\n    //                String buffer = str.get(i);\r\n    //                String bookCat = buffer.substring(0, 1);\r\n    //\r\n    //                // Print books by Category - &quot;0&quot; type means print all Books\r\n    //                if (selType.equals(bookCat)) {\r\n    //                    System.out.println(buffer);\r\n    //                } else if (selType.equals(&quot;0&quot;)) {\r\n    //                    System.out.println(buffer);\r\n    //                }\r\n    //            }\r\n    //            return &quot;0&quot;;\r\n    //        }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RLahB.png\r\n\r\nOh, and I would discourage you from using a `static` initialiser this way, instead, this either needs to go into the constructor, or, you should use some form of dependency injection to pass the information to the class","title":"How to manually align, change size, and add scroll pane of JTable?","body":"<p>So, let's take a quick look at the constructor...</p>\n<pre><code>public GUICommandFunctions() { \n    //...\n    JPanel panel = new JPanel();  \n    this.add(panel, BorderLayout.CENTER); //Location of panel for JButton\n\n    ButtonOne = LibraryContentButton();\n    panel.add(ButtonOne); //adding panel to JFrame\n    //...\n    jt.setPreferredScrollableViewportSize(new Dimension(450, 63)); //Set size. **HERE IS PROBLEM #2**\n    jt.setFillsViewportHeight(true); //Set visible\n    jt.setVerticalAlignment(JTable.BOTTOM_ALIGNMENT); //**HERE IS PROBLEM #1**\n    \n    JScrollPane jps = new JScrollPane(jt); //add scroll **HERE IS PROBLEM #3**\n    add(jps);\n}\n</code></pre>\n<p>You add <code>panel</code> to the <code>CENTER</code>.  Since you've extended directly from <code>JFrame</code>, the layout is already <code>BorderLayout</code>, so this is fine.</p>\n<p>But then you add <code>jps</code> using <code>add(jps);</code>, which will add the component to the layouts default position, which in the case of <code>BorderLayout</code> is <code>CENTER</code>.  This is problematic, as <code>BorderLayout</code> only allows a single component to be managed at each position, which explains why you're <code>setPreferredScrollableViewportSize</code> isn't working, as the <code>BorderLayout</code> is ignoring it, and making the component fill the available space in the <code>CENTER</code></p>\n<p>So, I modified your code.  First, I extended from <code>JPanel</code> instead of <code>JFrame</code>.  It's generally discouraged to extend from <code>JFrame</code> directly, you're not adding any new functionality to the class, locking yourself into a single use case and it generally just makes you live more difficult.</p>\n<p>Secondly, I placed the <code>JScrollPane</code> at the <code>SOUTH</code> position of the <code>BorderLayout</code></p>\n<p><a href=\"https://i.stack.imgur.com/RLahB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RLahB.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new GUICommandFunctionsPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class GUICommandFunctionsPane extends JPanel {\n\n        private JButton ButtonOne;\n        private JTable jt;\n\n        public GUICommandFunctionsPane() {\n            setLayout(new BorderLayout());\n            JPanel panel = new JPanel();\n            this.add(panel, BorderLayout.CENTER); //Location of panel for JButton\n\n            ButtonOne = LibraryContentButton();\n            panel.add(ButtonOne); //adding panel to JFrame\n\n            String[] columns = {&quot;Title&quot;, &quot;Author/Language&quot;, &quot;Publisher&quot;, &quot;Page Count&quot;, &quot;Version Number/Genre/Topic&quot;, &quot;Part of a series/Illustrator&quot;}; //columns of the JTable\n            String[][] data = {{&quot;The Keto Cookbook&quot;, &quot;Chronicle Books&quot;, &quot;304&quot;, &quot;English&quot;, &quot;Keto Cooking&quot;, &quot;null&quot;}, //data under the columns\n            {&quot;The Hitchhiker's Guide to the Galaxy&quot;, &quot;Del Rey&quot;, &quot;224&quot;, &quot;Douglas Adams&quot;, &quot;Fantasy&quot;, &quot;Y&quot;}\n            };\n\n            jt = new JTable(data, columns) { //Makes it so can't edit data inside table once ran\n                public boolean isCellEditable(int data, int columns) {\n                    return false;\n                }\n            };\n\n            jt.setPreferredScrollableViewportSize(new Dimension(450, 63)); //Set size. **HERE IS PROBLEM #2**\n            jt.setFillsViewportHeight(true); //Set visible\n\n            JScrollPane jps = new JScrollPane(jt);\n            add(jps, BorderLayout.SOUTH);\n\n        }\n\n        private JButton LibraryContentButton() { //\n            JButton content = new JButton(&quot;Click to view all content&quot;);\n            content.setFocusable(false);\n            content.setBackground(Color.DARK_GRAY);\n            content.setForeground(Color.WHITE);\n            content.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\n            content.setToolTipText(&quot;Shows content of the entire library in a neatly ordered JTable&quot;);\n            content.setMargin(new Insets(10, 10, 10, 10));\n            content.setPreferredSize(new Dimension(300, 75));\n\n            content.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    JOptionPane.showMessageDialog(GUICommandFunctionsPane.this, &quot;Eventually will make this button load up the JTable&quot;);\n                }\n            });\n            return content;\n\n        }\n\n//        static {\n//\n//            int arrayCount;\n//\n//            FileReader fr = null;\n//\n//            try {\n//                fr = new FileReader(&quot;C:\\\\Users\\\\Mark Case\\\\Documents\\\\NetBeansProjects\\\\LibraryInventory\\\\src\\\\libraryinventory\\\\library.txt&quot;); //Reads in text file\n//            } catch (FileNotFoundException ex) {\n//                Logger.getLogger(GUICommandFunctionsPane.class.getName()).log(Level.SEVERE, null, ex);\n//            }\n//\n//            BufferedReader reader = new BufferedReader(fr);\n//            ArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\n//            String line = &quot;&quot;;\n//            arrayCount = 0;\n//            try {\n//                while ((line = reader.readLine()) != null) {\n//                    str.add(line);\n//                    arrayCount = arrayCount + 1;\n//\n//                }\n//            } catch (IOException ex) {\n//                Logger.getLogger(GUICommandFunctionsPane.class.getName()).log(Level.SEVERE, null, ex);\n//            }\n//\n//            // Here we would actually set the type to what the user wants (note: Set it to a &quot;0&quot; if the user wants all Books)\n//            String selType = &quot;2&quot;;\n//\n//            // Call method to select Books by category type\n//            String methodResult = SelectType(str, arrayCount, selType);\n//\n//        }\n//\n//        private static String SelectType(ArrayList&lt;String&gt; str, int arrayCount, String selType) {\n//            for (int i = 1; i &lt; arrayCount; i++) {\n//\n//                String buffer = str.get(i);\n//                String bookCat = buffer.substring(0, 1);\n//\n//                // Print books by Category - &quot;0&quot; type means print all Books\n//                if (selType.equals(bookCat)) {\n//                    System.out.println(buffer);\n//                } else if (selType.equals(&quot;0&quot;)) {\n//                    System.out.println(buffer);\n//                }\n//            }\n//            return &quot;0&quot;;\n//        }\n    }\n}\n</code></pre>\n<p>Oh, and I would discourage you from using a <code>static</code> initialiser this way, instead, this either needs to go into the constructor, or, you should use some form of dependency injection to pass the information to the class</p>\n"}],"owner":{"display_name":"user14410420"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71074956,"answer_count":1,"score":0,"last_activity_date":1644593658,"creation_date":1644547572,"question_id":71074793,"body_markdown":"I am creating a `JTable` in Netbeans and am having three minor issues with the structure. \r\n\r\n1. I can&#39;t seem to align my table in the direction I want (Say North, East, South, or West) and now it&#39;s annoyingly hovering over my JButton. \r\n2. The code I wrote to set the dimensions of the JTable do nothing if I change the variables.\r\n3. The code I wrote to add a JScrollPane is not showing up when I run it.\r\n\r\nI understand if you can&#39;t solve all three but I figured I&#39;d put them all in one instead of three different questions so any help with a problem is appreciated!\r\n\r\n**Also as a note, ignore everything after the `ActionListener`. I am eventually going to make the code read a text file and sort that data in an `ArrayList`. Then somehow into the table instead of how I manually set it up in this example.\r\n\r\nHere is my code (problem areas are labeled in comments in bold, capitalized font):\r\n\r\nMain:\r\n\r\n    package libraryinventory;\r\n     \r\n    import javax.swing.JFrame;\r\n    import java.io.*;\r\n   \r\n    public class MainClass {\r\n    \r\n        static String[] bookArray;\r\n            \r\n        public static void main(String[] args) {\r\n            \r\n            GUICommandFunctions guiDemo = new GUICommandFunctions();\r\n            //What to do when window closes\r\n            guiDemo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            // size of window in pixels\r\n            guiDemo.setSize(1000, 720); \r\n            //make window visible\r\n            guiDemo.setVisible(true);\r\n            \r\n        }\r\n            \r\n    }\r\n\r\nGUI Class:\r\n\r\n    package libraryinventory;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.io.*;\r\n    import java.io.PrintWriter;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.ArrayList;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.Box;\r\n    import static javax.swing.Box.createHorizontalBox;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFileChooser;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingConstants;\r\n    \r\n\r\n    public class GUICommandFunctions extends JFrame {\r\n        \r\n        private JButton ButtonOne;\r\n        private JTable jt;\r\n        \r\n        public GUICommandFunctions() { \r\n            \r\n            this.setTitle(&quot;Library Inventory&quot;); //Name of window\r\n         \r\n            JPanel panel = new JPanel();  \r\n            this.add(panel, BorderLayout.CENTER); //Location of panel for JButton\r\n    \r\n            ButtonOne = LibraryContentButton();\r\n            panel.add(ButtonOne); //adding panel to JFrame\r\n    \r\n            \r\n            String[] columns = {&quot;Title&quot;, &quot;Author/Language&quot;, &quot;Publisher&quot;, &quot;Page Count&quot;, &quot;Version Number/Genre/Topic&quot;, &quot;Part of a series/Illustrator&quot;}; //columns of the JTable\r\n            String[][] data = {{&quot;The Keto Cookbook&quot;, &quot;Chronicle Books&quot;, &quot;304&quot;, &quot;English&quot;, &quot;Keto Cooking&quot;, &quot;null&quot;}, //data under the columns\r\n                               {&quot;The Hitchhiker&#39;s Guide to the Galaxy&quot;, &quot;Del Rey&quot;, &quot;224&quot;, &quot;Douglas Adams&quot;, &quot;Fantasy&quot;, &quot;Y&quot;}      \r\n            };\r\n            \r\n            jt = new JTable(data, columns){ //Makes it so can&#39;t edit data inside table once ran\r\n                public boolean isCellEditable(int data, int columns) {\r\n                        return false;\r\n                }\r\n            };\r\n            \r\n            jt.setPreferredScrollableViewportSize(new Dimension(450, 63)); //Set size. **HERE IS PROBLEM #2**\r\n            jt.setFillsViewportHeight(true); //Set visible\r\n            jt.setVerticalAlignment(JTable.BOTTOM_ALIGNMENT); //**HERE IS PROBLEM #1**\r\n            \r\n            JScrollPane jps = new JScrollPane(jt); //add scroll **HERE IS PROBLEM #3**\r\n            add(jps);\r\n            \r\n        }\r\n        \r\n            private JButton LibraryContentButton() { //\r\n                JButton content = new JButton(&quot;Click to view all content&quot;);\r\n                content.setFocusable(false);\r\n                content.setBackground(Color.DARK_GRAY);\r\n                content.setForeground(Color.WHITE);\r\n                content.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n                content.setToolTipText(&quot;Shows content of the entire library in a neatly ordered JTable&quot;);\r\n                content.setMargin(new Insets(10, 10, 10, 10));\r\n                content.setPreferredSize(new Dimension(300, 75));\r\n    \r\n                \r\n                \r\n                content.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        JOptionPane.showMessageDialog(rootPane, &quot;Eventually will make this button load up the JTable&quot;);              \r\n                    }\r\n                });\r\n                return content;\r\n         \r\n            }\r\n    \r\n        static {\r\n        \r\n            int arrayCount;\r\n          \r\n            FileReader fr = null;\r\n            \r\n            try {\r\n                fr = new FileReader(&quot;C:\\\\Users\\\\Mark Case\\\\Documents\\\\NetBeansProjects\\\\LibraryInventory\\\\src\\\\libraryinventory\\\\library.txt&quot;); //Reads in text file\r\n            } catch (FileNotFoundException ex) {\r\n                Logger.getLogger(GUICommandFunctions.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            \r\n            BufferedReader reader = new BufferedReader(fr);       \r\n            ArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\r\n            String line = &quot;&quot;;\r\n            arrayCount = 0;\r\n            try {\r\n                while((line=reader.readLine())!=null) {\r\n                    str.add(line);\r\n                    arrayCount = arrayCount + 1;\r\n                    \r\n                }\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(GUICommandFunctions.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n            // Here we would actually set the type to what the user wants (note: Set it to a &quot;0&quot; if the user wants all Books)\r\n            String selType = &quot;2&quot;;  \r\n            \r\n            // Call method to select Books by category type\r\n            String methodResult = SelectType(str, arrayCount, selType);\r\n            \r\n        }  \r\n    \r\n        private static String SelectType (ArrayList&lt;String&gt; str, int arrayCount, String selType) {\r\n            for (int i = 1; i &lt; arrayCount; i++) {\r\n               \r\n                String buffer = str.get(i);\r\n                String bookCat = buffer.substring(0,1);\r\n                \r\n                // Print books by Category - &quot;0&quot; type means print all Books\r\n                if (selType.equals(bookCat)) {\r\n                    System.out.println(buffer);\r\n                }          \r\n                else if (selType.equals(&quot;0&quot;)) {\r\n                    System.out.println(buffer);\r\n                }\r\n            }\r\n            return &quot;0&quot;;   \r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n","title":"How to manually align, change size, and add scroll pane of JTable?","body":"<p>I am creating a <code>JTable</code> in Netbeans and am having three minor issues with the structure.</p>\n<ol>\n<li>I can't seem to align my table in the direction I want (Say North, East, South, or West) and now it's annoyingly hovering over my JButton.</li>\n<li>The code I wrote to set the dimensions of the JTable do nothing if I change the variables.</li>\n<li>The code I wrote to add a JScrollPane is not showing up when I run it.</li>\n</ol>\n<p>I understand if you can't solve all three but I figured I'd put them all in one instead of three different questions so any help with a problem is appreciated!</p>\n<p>**Also as a note, ignore everything after the <code>ActionListener</code>. I am eventually going to make the code read a text file and sort that data in an <code>ArrayList</code>. Then somehow into the table instead of how I manually set it up in this example.</p>\n<p>Here is my code (problem areas are labeled in comments in bold, capitalized font):</p>\n<p>Main:</p>\n<pre><code>package libraryinventory;\n \nimport javax.swing.JFrame;\nimport java.io.*;\n\npublic class MainClass {\n\n    static String[] bookArray;\n        \n    public static void main(String[] args) {\n        \n        GUICommandFunctions guiDemo = new GUICommandFunctions();\n        //What to do when window closes\n        guiDemo.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        // size of window in pixels\n        guiDemo.setSize(1000, 720); \n        //make window visible\n        guiDemo.setVisible(true);\n        \n    }\n        \n}\n</code></pre>\n<p>GUI Class:</p>\n<pre><code>package libraryinventory;\n\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.io.*;\nimport java.io.PrintWriter;\nimport java.io.UnsupportedEncodingException;\nimport java.util.ArrayList;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.Box;\nimport static javax.swing.Box.createHorizontalBox;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFileChooser;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingConstants;\n\n\npublic class GUICommandFunctions extends JFrame {\n    \n    private JButton ButtonOne;\n    private JTable jt;\n    \n    public GUICommandFunctions() { \n        \n        this.setTitle(&quot;Library Inventory&quot;); //Name of window\n     \n        JPanel panel = new JPanel();  \n        this.add(panel, BorderLayout.CENTER); //Location of panel for JButton\n\n        ButtonOne = LibraryContentButton();\n        panel.add(ButtonOne); //adding panel to JFrame\n\n        \n        String[] columns = {&quot;Title&quot;, &quot;Author/Language&quot;, &quot;Publisher&quot;, &quot;Page Count&quot;, &quot;Version Number/Genre/Topic&quot;, &quot;Part of a series/Illustrator&quot;}; //columns of the JTable\n        String[][] data = {{&quot;The Keto Cookbook&quot;, &quot;Chronicle Books&quot;, &quot;304&quot;, &quot;English&quot;, &quot;Keto Cooking&quot;, &quot;null&quot;}, //data under the columns\n                           {&quot;The Hitchhiker's Guide to the Galaxy&quot;, &quot;Del Rey&quot;, &quot;224&quot;, &quot;Douglas Adams&quot;, &quot;Fantasy&quot;, &quot;Y&quot;}      \n        };\n        \n        jt = new JTable(data, columns){ //Makes it so can't edit data inside table once ran\n            public boolean isCellEditable(int data, int columns) {\n                    return false;\n            }\n        };\n        \n        jt.setPreferredScrollableViewportSize(new Dimension(450, 63)); //Set size. **HERE IS PROBLEM #2**\n        jt.setFillsViewportHeight(true); //Set visible\n        jt.setVerticalAlignment(JTable.BOTTOM_ALIGNMENT); //**HERE IS PROBLEM #1**\n        \n        JScrollPane jps = new JScrollPane(jt); //add scroll **HERE IS PROBLEM #3**\n        add(jps);\n        \n    }\n    \n        private JButton LibraryContentButton() { //\n            JButton content = new JButton(&quot;Click to view all content&quot;);\n            content.setFocusable(false);\n            content.setBackground(Color.DARK_GRAY);\n            content.setForeground(Color.WHITE);\n            content.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\n            content.setToolTipText(&quot;Shows content of the entire library in a neatly ordered JTable&quot;);\n            content.setMargin(new Insets(10, 10, 10, 10));\n            content.setPreferredSize(new Dimension(300, 75));\n\n            \n            \n            content.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    JOptionPane.showMessageDialog(rootPane, &quot;Eventually will make this button load up the JTable&quot;);              \n                }\n            });\n            return content;\n     \n        }\n\n    static {\n    \n        int arrayCount;\n      \n        FileReader fr = null;\n        \n        try {\n            fr = new FileReader(&quot;C:\\\\Users\\\\Mark Case\\\\Documents\\\\NetBeansProjects\\\\LibraryInventory\\\\src\\\\libraryinventory\\\\library.txt&quot;); //Reads in text file\n        } catch (FileNotFoundException ex) {\n            Logger.getLogger(GUICommandFunctions.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        \n        BufferedReader reader = new BufferedReader(fr);       \n        ArrayList&lt;String&gt; str = new ArrayList&lt;&gt;();\n        String line = &quot;&quot;;\n        arrayCount = 0;\n        try {\n            while((line=reader.readLine())!=null) {\n                str.add(line);\n                arrayCount = arrayCount + 1;\n                \n            }\n        } catch (IOException ex) {\n            Logger.getLogger(GUICommandFunctions.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n        // Here we would actually set the type to what the user wants (note: Set it to a &quot;0&quot; if the user wants all Books)\n        String selType = &quot;2&quot;;  \n        \n        // Call method to select Books by category type\n        String methodResult = SelectType(str, arrayCount, selType);\n        \n    }  \n\n    private static String SelectType (ArrayList&lt;String&gt; str, int arrayCount, String selType) {\n        for (int i = 1; i &lt; arrayCount; i++) {\n           \n            String buffer = str.get(i);\n            String bookCat = buffer.substring(0,1);\n            \n            // Print books by Category - &quot;0&quot; type means print all Books\n            if (selType.equals(bookCat)) {\n                System.out.println(buffer);\n            }          \n            else if (selType.equals(&quot;0&quot;)) {\n                System.out.println(buffer);\n            }\n        }\n        return &quot;0&quot;;   \n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","swagger","openapi"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1594624379,"post_id":62870564,"comment_id":111178721,"body_markdown":"`mavenCentral()` ?","body":"<code>mavenCentral()</code> ?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594624864,"post_id":62870564,"comment_id":111178911,"body_markdown":"I already have that in my gradle file, didn&#39;t work","body":"I already have that in my gradle file, didn&#39;t work"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1594626300,"post_id":62870564,"comment_id":111179545,"body_markdown":"Try also `jcenter()` or post your `build.gradle` file please","body":"Try also <code>jcenter()</code> or post your <code>build.gradle</code> file please"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1594627667,"post_id":62870564,"comment_id":111180204,"body_markdown":"With jcenter() also not working","body":"With jcenter() also not working"},{"owner":{"account_id":1884162,"reputation":7056,"user_id":1703730,"display_name":"Bj&#248;rn Vester"},"score":1,"creation_date":1594627916,"post_id":62870564,"comment_id":111180318,"body_markdown":"The Spring Boot BOM probably doesn&#39;t declare a version number for that dependency. Try specifying it (e.g. `implementation &#39;org.springdoc:springdoc-openapi-ui:1.4.3&#39;`)","body":"The Spring Boot BOM probably doesn&#39;t declare a version number for that dependency. Try specifying it (e.g. <code>implementation &#39;org.springdoc:springdoc-openapi-ui:1.4.3&#39;</code>)"},{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1599449001,"post_id":62870564,"comment_id":112768051,"body_markdown":"@Bj&#248;rnVester please post the solution as an answer, and please accept the answer. For a community, it&#39;s really important to have an answer that&#39;s accepted.","body":"@Bj&#248;rnVester please post the solution as an answer, and please accept the answer. For a community, it&#39;s really important to have an answer that&#39;s accepted."}],"answers":[{"tags":[],"owner":{"account_id":8930832,"reputation":145,"user_id":6663513,"display_name":"Ankita Srivastava"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600663642,"creation_date":1600663642,"answer_id":63986332,"question_id":62870564,"body_markdown":"Try adding the library with latest version in your project \r\n\r\n```implementation(&quot;org.springdoc:springdoc-openapi-ui:1.4.6&quot;)```","title":"Gradle dependency for springdoc-openapi-ui","body":"<p>Try adding the library with latest version in your project</p>\n<p><code>implementation(&quot;org.springdoc:springdoc-openapi-ui:1.4.6&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":5273615,"reputation":706,"user_id":4211159,"display_name":"A Jakhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644593578,"creation_date":1644593578,"answer_id":71082634,"question_id":62870564,"body_markdown":"implementation &#39;org.springdoc:springdoc-openapi-ui&#39; fail with following error Could not find org.springdoc:springdoc-openapi-ui\r\n\r\nWhile following worked \r\n\r\nimplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.6&#39;","title":"Gradle dependency for springdoc-openapi-ui","body":"<p>implementation 'org.springdoc:springdoc-openapi-ui' fail with following error Could not find org.springdoc:springdoc-openapi-ui</p>\n<p>While following worked</p>\n<p>implementation 'org.springdoc:springdoc-openapi-ui:1.6.6'</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14832,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1644593578,"creation_date":1594622828,"question_id":62870564,"body_markdown":"I am trying to use springdoc-openapi-ui using gradle dependency.\r\n\r\nMaven \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.4.3&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\nGradle\r\n\r\n        plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.3.1.RELEASE&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;fete.bird&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;14&#39;\r\n    compileJava {\r\n        options.compilerArgs += [&quot;--enable-preview&quot;]\r\n    }\r\n    repositories {\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;Hoxton.SR6&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n        implementation &#39;org.springdoc:springdoc-openapi-ui&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-config&#39;\r\n        implementation &#39;org.springframework.kafka:spring-kafka&#39;\r\n        implementation &#39;org.projectlombok:lombok&#39;\r\n    }\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\n**Error** \r\n\r\n    Could not find org.springdoc:springdoc-openapi-ui:.\r\n    Required by:\r\n        project :\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\nWhat is the repository for the gradle?\r\n","title":"Gradle dependency for springdoc-openapi-ui","body":"<p>I am trying to use springdoc-openapi-ui using gradle dependency.</p>\n<p>Maven</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.4.3&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>Gradle</p>\n<pre><code>    plugins {\n    id 'org.springframework.boot' version '2.3.1.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n}\n\ngroup = 'fete.bird'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '14'\ncompileJava {\n    options.compilerArgs += [&quot;--enable-preview&quot;]\n}\nrepositories {\n    jcenter()\n    mavenCentral()\n}\next {\n    set('springCloudVersion', &quot;Hoxton.SR6&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    implementation 'org.springdoc:springdoc-openapi-ui'\n    implementation 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'org.springframework.cloud:spring-cloud-starter-config'\n    implementation 'org.springframework.kafka:spring-kafka'\n    implementation 'org.projectlombok:lombok'\n}\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>Could not find org.springdoc:springdoc-openapi-ui:.\nRequired by:\n    project :\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>What is the repository for the gradle?</p>\n"},{"tags":["java","swing","jtable","swingx"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643942345,"creation_date":1643942345,"answer_id":70980812,"question_id":70976950,"body_markdown":"Sooo, I&#39;ve been digging around in the code and I think you&#39;re in for a bag of issues.  The handling of the mouse clicked is performed by the UI delegate (specifically the `BaseTableHeaderUI`), which calls `TableRowSorter#toggleSortOrder` directly.  So the table and table header aren&#39;t involved at all, so there&#39;s no injection point through which you might be able to control this workflow. \r\n\r\nI then thought about simply adding a `MouseListener` to the `JTableHeader` itself.  My original concern was this would interface with the existing `MouseListener` been used by the `TableHeaderUI`, but if all we want to do is remove a `SortKey` when the header is &lt;kbd&gt;Control&lt;/kbd&gt;+&lt;kbd&gt;Clicked&lt;/kbd&gt;, then it &quot;should&quot; be okay, BUT, you&#39;ll get two calls to `toggleSortOrder`\r\n\r\nNow, I&#39;m not using SwingX, this is pure Swing only, but the concept should work &#129310;.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    import javax.swing.Icon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.RowSorter;\r\n    import javax.swing.RowSorter.SortKey;\r\n    import static javax.swing.SortOrder.ASCENDING;\r\n    import static javax.swing.SortOrder.DESCENDING;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.JTableHeader;\r\n    import javax.swing.table.TableModel;\r\n    import javax.swing.table.TableRowSorter;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JTable table = new JTable();\r\n                    DefaultTableModel model = new DefaultTableModel(\r\n                            new Object[]{&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;},\r\n                            0);\r\n\r\n                    model.addRow(new Object[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;I&quot;});\r\n                    model.addRow(new Object[]{&quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;J&quot;});\r\n                    model.addRow(new Object[]{&quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;K&quot;});\r\n                    model.addRow(new Object[]{&quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;L&quot;});\r\n                    model.addRow(new Object[]{&quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;M&quot;});\r\n                    model.addRow(new Object[]{&quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;N&quot;});\r\n\r\n                    table.setModel(model);\r\n    //                table.setTableHeader(new CustomTableHeader(table));\r\n                    table.getTableHeader().setDefaultRenderer(new DefaultTableHeaderCellRenderer());\r\n                    table.setRowSorter(new TableRowSorter&lt;DefaultTableModel&gt;(model));\r\n\r\n                    JTableHeader header = table.getTableHeader();\r\n                    header.addMouseListener(new MouseAdapter() {\r\n                        @Override\r\n                        public void mouseClicked(MouseEvent e) {\r\n                            if (!(e.getSource() instanceof JTableHeader)) {\r\n                                return;\r\n                            }\r\n                            JTableHeader header = (JTableHeader) e.getSource();\r\n                            JTable table = header.getTable();\r\n                            RowSorter&lt;? extends TableModel&gt; rowSorter = table.getRowSorter();\r\n                            if (rowSorter == null) {\r\n                                return;\r\n                            }\r\n                            int column = header.columnAtPoint(e.getPoint());\r\n                            if (column == -1) {\r\n                                return;\r\n                            }\r\n                            List&lt;? extends SortKey&gt; sortKeys = rowSorter.getSortKeys();\r\n                            List&lt;SortKey&gt; newSortKeys = new ArrayList&lt;&gt;(sortKeys);\r\n\r\n                            Optional&lt;? extends SortKey&gt; firstMatch = sortKeys\r\n                                    .stream()\r\n                                    .filter(key -&gt; key.getColumn() == column)\r\n                                    .findFirst();\r\n\r\n                            if (e.isControlDown()) {\r\n                                if (firstMatch.isPresent()) {\r\n                                    SortKey sortKey = firstMatch.get();\r\n                                    newSortKeys.remove(sortKey);\r\n                                }\r\n                            }\r\n                            rowSorter.setSortKeys(newSortKeys);\r\n                        }\r\n                    });\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new JScrollPane(table));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class DefaultTableHeaderCellRenderer extends DefaultTableCellRenderer {\r\n\r\n            public DefaultTableHeaderCellRenderer() {\r\n                setHorizontalAlignment(CENTER);\r\n                setHorizontalTextPosition(LEFT);\r\n                setVerticalAlignment(BOTTOM);\r\n                setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            public Component getTableCellRendererComponent(JTable table, Object value,\r\n                    boolean isSelected, boolean hasFocus, int row, int column) {\r\n                super.getTableCellRendererComponent(table, value, false, hasFocus, row, column);\r\n                JTableHeader tableHeader = table.getTableHeader();\r\n                if (tableHeader != null) {\r\n                    setForeground(tableHeader.getForeground());\r\n                }\r\n                setIcon(getIcon(table, column));\r\n                setBorder(UIManager.getBorder(&quot;TableHeader.cellBorder&quot;));\r\n                return this;\r\n            }\r\n\r\n            protected Icon getIcon(JTable table, int column) {\r\n                SortKey sortKey = getSortKey(table, column);\r\n                if (sortKey != null &amp;&amp; table.convertColumnIndexToView(sortKey.getColumn()) == column) {\r\n                    switch (sortKey.getSortOrder()) {\r\n                        case ASCENDING:\r\n                            return UIManager.getIcon(&quot;Table.ascendingSortIcon&quot;);\r\n                        case DESCENDING:\r\n                            return UIManager.getIcon(&quot;Table.descendingSortIcon&quot;);\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n\r\n            protected SortKey getSortKey(JTable table, int column) {\r\n                RowSorter rowSorter = table.getRowSorter();\r\n                if (rowSorter == null) {\r\n                    return null;\r\n                }\r\n\r\n                List sortedColumns = rowSorter.getSortKeys();\r\n                if (sortedColumns.size() &gt; 0) {\r\n                    return (SortKey) sortedColumns.get(0);\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nThe problem I see here is figuring out the difference between how `JTable` switches been sort keys and when a sort key is actually removed via the &lt;kbd&gt;Control&lt;/kbd&gt;+&lt;kbd&gt;Clicked&lt;/kbd&gt; event...\r\n\r\nAnd this about the point where I&#39;d be throwing my hands in the air and just toggling the sort order between ascending, descending and none, so you just need to click your way through it, but that&#39;s me","title":"In Java want to implement multi column sorting vai the table header in a sensible way","body":"<p>Sooo, I've been digging around in the code and I think you're in for a bag of issues.  The handling of the mouse clicked is performed by the UI delegate (specifically the <code>BaseTableHeaderUI</code>), which calls <code>TableRowSorter#toggleSortOrder</code> directly.  So the table and table header aren't involved at all, so there's no injection point through which you might be able to control this workflow.</p>\n<p>I then thought about simply adding a <code>MouseListener</code> to the <code>JTableHeader</code> itself.  My original concern was this would interface with the existing <code>MouseListener</code> been used by the <code>TableHeaderUI</code>, but if all we want to do is remove a <code>SortKey</code> when the header is <kbd>Control</kbd>+<kbd>Clicked</kbd>, then it &quot;should&quot; be okay, BUT, you'll get two calls to <code>toggleSortOrder</code></p>\n<p>Now, I'm not using SwingX, this is pure Swing only, but the concept should work .</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport javax.swing.Icon;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.RowSorter;\nimport javax.swing.RowSorter.SortKey;\nimport static javax.swing.SortOrder.ASCENDING;\nimport static javax.swing.SortOrder.DESCENDING;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.JTableHeader;\nimport javax.swing.table.TableModel;\nimport javax.swing.table.TableRowSorter;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JTable table = new JTable();\n                DefaultTableModel model = new DefaultTableModel(\n                        new Object[]{&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;},\n                        0);\n\n                model.addRow(new Object[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;I&quot;});\n                model.addRow(new Object[]{&quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;J&quot;});\n                model.addRow(new Object[]{&quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;K&quot;});\n                model.addRow(new Object[]{&quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;L&quot;});\n                model.addRow(new Object[]{&quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;M&quot;});\n                model.addRow(new Object[]{&quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;N&quot;});\n\n                table.setModel(model);\n//                table.setTableHeader(new CustomTableHeader(table));\n                table.getTableHeader().setDefaultRenderer(new DefaultTableHeaderCellRenderer());\n                table.setRowSorter(new TableRowSorter&lt;DefaultTableModel&gt;(model));\n\n                JTableHeader header = table.getTableHeader();\n                header.addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        if (!(e.getSource() instanceof JTableHeader)) {\n                            return;\n                        }\n                        JTableHeader header = (JTableHeader) e.getSource();\n                        JTable table = header.getTable();\n                        RowSorter&lt;? extends TableModel&gt; rowSorter = table.getRowSorter();\n                        if (rowSorter == null) {\n                            return;\n                        }\n                        int column = header.columnAtPoint(e.getPoint());\n                        if (column == -1) {\n                            return;\n                        }\n                        List&lt;? extends SortKey&gt; sortKeys = rowSorter.getSortKeys();\n                        List&lt;SortKey&gt; newSortKeys = new ArrayList&lt;&gt;(sortKeys);\n\n                        Optional&lt;? extends SortKey&gt; firstMatch = sortKeys\n                                .stream()\n                                .filter(key -&gt; key.getColumn() == column)\n                                .findFirst();\n\n                        if (e.isControlDown()) {\n                            if (firstMatch.isPresent()) {\n                                SortKey sortKey = firstMatch.get();\n                                newSortKeys.remove(sortKey);\n                            }\n                        }\n                        rowSorter.setSortKeys(newSortKeys);\n                    }\n                });\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new JScrollPane(table));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class DefaultTableHeaderCellRenderer extends DefaultTableCellRenderer {\n\n        public DefaultTableHeaderCellRenderer() {\n            setHorizontalAlignment(CENTER);\n            setHorizontalTextPosition(LEFT);\n            setVerticalAlignment(BOTTOM);\n            setOpaque(false);\n        }\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value,\n                boolean isSelected, boolean hasFocus, int row, int column) {\n            super.getTableCellRendererComponent(table, value, false, hasFocus, row, column);\n            JTableHeader tableHeader = table.getTableHeader();\n            if (tableHeader != null) {\n                setForeground(tableHeader.getForeground());\n            }\n            setIcon(getIcon(table, column));\n            setBorder(UIManager.getBorder(&quot;TableHeader.cellBorder&quot;));\n            return this;\n        }\n\n        protected Icon getIcon(JTable table, int column) {\n            SortKey sortKey = getSortKey(table, column);\n            if (sortKey != null &amp;&amp; table.convertColumnIndexToView(sortKey.getColumn()) == column) {\n                switch (sortKey.getSortOrder()) {\n                    case ASCENDING:\n                        return UIManager.getIcon(&quot;Table.ascendingSortIcon&quot;);\n                    case DESCENDING:\n                        return UIManager.getIcon(&quot;Table.descendingSortIcon&quot;);\n                }\n            }\n            return null;\n        }\n\n        protected SortKey getSortKey(JTable table, int column) {\n            RowSorter rowSorter = table.getRowSorter();\n            if (rowSorter == null) {\n                return null;\n            }\n\n            List sortedColumns = rowSorter.getSortKeys();\n            if (sortedColumns.size() &gt; 0) {\n                return (SortKey) sortedColumns.get(0);\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>The problem I see here is figuring out the difference between how <code>JTable</code> switches been sort keys and when a sort key is actually removed via the <kbd>Control</kbd>+<kbd>Clicked</kbd> event...</p>\n<p>And this about the point where I'd be throwing my hands in the air and just toggling the sort order between ascending, descending and none, so you just need to click your way through it, but that's me</p>\n"},{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643986547,"creation_date":1643986547,"answer_id":70988421,"question_id":70976950,"body_markdown":"Decided better to drop the cntl-click idea and instead restore the three stage cycle by modifying `org.jdesktop.swingx.sort,DefaultSortController` from\r\n\r\n        private final static SortOrder[] DEFAULT_CYCLE \r\n         = new SortOrder[] {SortOrder.ASCENDING, SortOrder.DESCENDING};\r\n\r\nto \r\n\r\n  \r\n\r\n      private final static SortOrder[] DEFAULT_CYCLE \r\n       = new SortOrder[] {SortOrder.ASCENDING, SortOrder.DESCENDING,SortOrder.UNSORTED}; \r\n\r\n\r\n\r\nand then this is my toggleSortOrder() method in my custom sort controller\r\n \r\n\r\n    /**\r\n     * If new sort key sort ascending as after other existing sort keys\r\n     * If existing sort key and ascending cycle change to descending\r\n     * If existing sort key and descending remove the sort key\r\n     * If already at MAX_SORT_COLUMNS the ignore\r\n     * \r\n     * @param column\r\n     */\r\n    @Override\r\n    public void toggleSortOrder(int column)\r\n    {\r\n        //Are we allowed to this sort column\r\n        if (this.isSortable(column))\r\n        {\r\n            SortOrder firstInCycle = this.getFirstInCycle();\r\n    \r\n            //If all already a column in sort cycle\r\n            if (firstInCycle != null)\r\n            {\r\n                //Make a copy of existing keys\r\n                List&lt;SortKey&gt; newKeys = new ArrayList(this.getSortKeys());\r\n    \r\n                //Look for any existing sort key for column user has clicked on\r\n                SortKey sortKey = SortUtils.getFirstSortKeyForColumn(newKeys, column);\r\n    \r\n                //Existing Key\r\n                if(sortKey!=null)\r\n                {\r\n                    //Get next in cycle\r\n                    SortOrder nextSortOrder = this.getNextInCycle(sortKey.getSortOrder());\r\n    \r\n                    //Swap to descending/ascending\r\n                    if(nextSortOrder==SortOrder.DESCENDING || nextSortOrder==SortOrder.ASCENDING)\r\n                    {\r\n                        newKeys.set((newKeys).indexOf(sortKey), new SortKey(column, nextSortOrder));\r\n                    }\r\n                    //Remove from sort\r\n                    else\r\n                    {\r\n                        newKeys.remove(sortKey);\r\n                    }\r\n                }\r\n                //New Key\r\n                else\r\n                {\r\n                    (newKeys).add(new SortKey(column, this.getFirstInCycle()));\r\n                }\r\n    \r\n                //Trim the number of keys if we have too many\r\n                if ((newKeys).size() &gt; this.getMaxSortKeys()) {\r\n                    newKeys = ((List)newKeys).subList(0, this.getMaxSortKeys());\r\n                }\r\n                this.setSortKeys(newKeys);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"In Java want to implement multi column sorting vai the table header in a sensible way","body":"<p>Decided better to drop the cntl-click idea and instead restore the three stage cycle by modifying <code>org.jdesktop.swingx.sort,DefaultSortController</code> from</p>\n<pre><code>    private final static SortOrder[] DEFAULT_CYCLE \n     = new SortOrder[] {SortOrder.ASCENDING, SortOrder.DESCENDING};\n</code></pre>\n<p>to</p>\n<pre><code>  private final static SortOrder[] DEFAULT_CYCLE \n   = new SortOrder[] {SortOrder.ASCENDING, SortOrder.DESCENDING,SortOrder.UNSORTED}; \n</code></pre>\n<p>and then this is my toggleSortOrder() method in my custom sort controller</p>\n<pre><code>/**\n * If new sort key sort ascending as after other existing sort keys\n * If existing sort key and ascending cycle change to descending\n * If existing sort key and descending remove the sort key\n * If already at MAX_SORT_COLUMNS the ignore\n * \n * @param column\n */\n@Override\npublic void toggleSortOrder(int column)\n{\n    //Are we allowed to this sort column\n    if (this.isSortable(column))\n    {\n        SortOrder firstInCycle = this.getFirstInCycle();\n\n        //If all already a column in sort cycle\n        if (firstInCycle != null)\n        {\n            //Make a copy of existing keys\n            List&lt;SortKey&gt; newKeys = new ArrayList(this.getSortKeys());\n\n            //Look for any existing sort key for column user has clicked on\n            SortKey sortKey = SortUtils.getFirstSortKeyForColumn(newKeys, column);\n\n            //Existing Key\n            if(sortKey!=null)\n            {\n                //Get next in cycle\n                SortOrder nextSortOrder = this.getNextInCycle(sortKey.getSortOrder());\n\n                //Swap to descending/ascending\n                if(nextSortOrder==SortOrder.DESCENDING || nextSortOrder==SortOrder.ASCENDING)\n                {\n                    newKeys.set((newKeys).indexOf(sortKey), new SortKey(column, nextSortOrder));\n                }\n                //Remove from sort\n                else\n                {\n                    newKeys.remove(sortKey);\n                }\n            }\n            //New Key\n            else\n            {\n                (newKeys).add(new SortKey(column, this.getFirstInCycle()));\n            }\n\n            //Trim the number of keys if we have too many\n            if ((newKeys).size() &gt; this.getMaxSortKeys()) {\n                newKeys = ((List)newKeys).subList(0, this.getMaxSortKeys());\n            }\n            this.setSortKeys(newKeys);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70988421,"answer_count":2,"score":0,"last_activity_date":1644593506,"creation_date":1643915275,"question_id":70976950,"body_markdown":"In Java 11 (with swingx 1.6.6) I have just implemented multi column sorting as follows:\r\n\r\n- Click on first Column, sorts by that columns ascending\r\n- Click on second Column, secondary sort by that column ascending\r\n- and so on, if user clicks on a column they have already clicked on the sort order changes i.e ascending to descending\r\n\r\nBut I don&#39;t have a way to reset the sort and looking at some other applications I think I want it to work in the following way:\r\n\r\n- Click on first Column, sorts by that columns ascending\r\n- Click on second Column, resets sort to primary sort by just that column ascending (same as default sort works)\r\n- But, cntl-click on second Column, then secondary sorts by that column and so on, if user clicks on a column they have already clicked on the sort order changes i.e ascending to descending\r\n\r\nSo whenever anyone click or cntl-clicks that causes a call to `toggleSort()`, but how do I capture that the user has cntl-clicked rather than clicked and know that so accessible to `toggleSort()`\r\n\r\n\r\nFor reference, modified `toggleSort()` method extends \r\n`org.jdesktop.swingx.sort.TableSortController` and I modified swingx code so I could access  previous private methods `getFirstInCycle()` and `getNextInCycle()`)\r\n\r\n    public void toggleSortOrder(int column)\r\n    {\r\n        //Are we allowed to this sort column\r\n        if (this.isSortable(column))\r\n        {\r\n            SortOrder firstInCycle = this.getFirstInCycle();\r\n    \r\n            //If all already a column in sort cycle\r\n            if (firstInCycle != null)\r\n            {\r\n                //Make a copy of existing keys\r\n                List&lt;SortKey&gt; keys = new ArrayList(this.getSortKeys());\r\n    \r\n                //Look for any existing sort key for column user has clicked on\r\n                SortKey sortKey = SortUtils.getFirstSortKeyForColumn((List)keys, column);\r\n    \r\n                //If its the first one\r\n                if (((List)keys).indexOf(sortKey) == 0)\r\n                {\r\n                    //Swap the sort order of to next one, i.e ascending to descending\r\n                    ((List)keys).set(0, new SortKey(column, this.getNextInCycle(sortKey.getSortOrder())));\r\n                }\r\n                else\r\n                {\r\n                    //Add new final sort key for this column\r\n                    ((List)keys).add(new SortKey(column, this.getFirstInCycle()));\r\n                }\r\n    \r\n                //Trim the number of keys if we have to many\r\n                if (((List)keys).size() &gt; this.getMaxSortKeys()) {\r\n                    keys = ((List)keys).subList(0, this.getMaxSortKeys());\r\n                }\r\n    \r\n              \r\n                this.setSortKeys((List)keys);\r\n            }\r\n        }\r\n    }","title":"In Java want to implement multi column sorting vai the table header in a sensible way","body":"<p>In Java 11 (with swingx 1.6.6) I have just implemented multi column sorting as follows:</p>\n<ul>\n<li>Click on first Column, sorts by that columns ascending</li>\n<li>Click on second Column, secondary sort by that column ascending</li>\n<li>and so on, if user clicks on a column they have already clicked on the sort order changes i.e ascending to descending</li>\n</ul>\n<p>But I don't have a way to reset the sort and looking at some other applications I think I want it to work in the following way:</p>\n<ul>\n<li>Click on first Column, sorts by that columns ascending</li>\n<li>Click on second Column, resets sort to primary sort by just that column ascending (same as default sort works)</li>\n<li>But, cntl-click on second Column, then secondary sorts by that column and so on, if user clicks on a column they have already clicked on the sort order changes i.e ascending to descending</li>\n</ul>\n<p>So whenever anyone click or cntl-clicks that causes a call to <code>toggleSort()</code>, but how do I capture that the user has cntl-clicked rather than clicked and know that so accessible to <code>toggleSort()</code></p>\n<p>For reference, modified <code>toggleSort()</code> method extends\n<code>org.jdesktop.swingx.sort.TableSortController</code> and I modified swingx code so I could access  previous private methods <code>getFirstInCycle()</code> and <code>getNextInCycle()</code>)</p>\n<pre><code>public void toggleSortOrder(int column)\n{\n    //Are we allowed to this sort column\n    if (this.isSortable(column))\n    {\n        SortOrder firstInCycle = this.getFirstInCycle();\n\n        //If all already a column in sort cycle\n        if (firstInCycle != null)\n        {\n            //Make a copy of existing keys\n            List&lt;SortKey&gt; keys = new ArrayList(this.getSortKeys());\n\n            //Look for any existing sort key for column user has clicked on\n            SortKey sortKey = SortUtils.getFirstSortKeyForColumn((List)keys, column);\n\n            //If its the first one\n            if (((List)keys).indexOf(sortKey) == 0)\n            {\n                //Swap the sort order of to next one, i.e ascending to descending\n                ((List)keys).set(0, new SortKey(column, this.getNextInCycle(sortKey.getSortOrder())));\n            }\n            else\n            {\n                //Add new final sort key for this column\n                ((List)keys).add(new SortKey(column, this.getFirstInCycle()));\n            }\n\n            //Trim the number of keys if we have to many\n            if (((List)keys).size() &gt; this.getMaxSortKeys()) {\n                keys = ((List)keys).subList(0, this.getMaxSortKeys());\n            }\n\n          \n            this.setSortKeys((List)keys);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","ssl","snowflake-cloud-data-platform","snowflake-connector"],"comments":[{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":1,"creation_date":1644595714,"post_id":71082574,"comment_id":125656103,"body_markdown":"When you&#39;re trying to write a dataframe to a Snowflake table, a file is generated that is uploaded directly to a Snowflake stage created by Spark connector. Now the PUT command is executed to upload this file directly to the stage, for AWS that would be an S3 location. As part of the PUT call there is first a TLS handshake between client (JDBC) and server (S3 location) and this is failing in your case. Do you use an SSL proxy in between?  If yes, have these URLs returned by this [function](https://docs.snowflake.com/en/sql-reference/functions/system_whitelist.html) been whitelisted?","body":"When you&#39;re trying to write a dataframe to a Snowflake table, a file is generated that is uploaded directly to a Snowflake stage created by Spark connector. Now the PUT command is executed to upload this file directly to the stage, for AWS that would be an S3 location. As part of the PUT call there is first a TLS handshake between client (JDBC) and server (S3 location) and this is failing in your case. Do you use an SSL proxy in between?  If yes, have these URLs returned by this <a href=\"https://docs.snowflake.com/en/sql-reference/functions/system_whitelist.html\" rel=\"nofollow noreferrer\">function</a> been whitelisted?"}],"owner":{"account_id":235224,"reputation":361,"user_id":501889,"display_name":"theme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644593352,"creation_date":1644593352,"question_id":71082574,"body_markdown":"Using spark-snowflake_2.12:2.9.3-spark_3.1 and snowflake-jdbc:3.13.14 trying to &quot;overwrite&quot; table in snowflake using spark, keep getting:\r\n```\r\nCaused by: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 6.0 failed 4 times, most recent failure: Lost task 0.3 in stage 6.0 (TID 437) (127.0.0.1 executor 0): net.snowflake.client.jdbc.internal.amazonaws.SdkClientException: Unable to execute HTTP request: Remote host terminated the handshake\r\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1134)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1080)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:745)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:719)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:701)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:669)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:651)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:515)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4443)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4390)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1774)\r\n        at net.snowflake.client.jdbc.internal.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1635)\r\n        at net.snowflake.spark.snowflake.io.S3UploadOutputStream.uploadDataChunk(CloudStorageOperations.scala:1979)\r\n        at net.snowflake.spark.snowflake.io.S3UploadOutputStream.close(CloudStorageOperations.scala:2112)\r\n        at javax.crypto.CipherOutputStream.close(CipherOutputStream.java:225)\r\n        at java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:241)\r\n        at net.snowflake.spark.snowflake.io.CloudStorage.doUploadPartition(CloudStorageOperations.scala:696)\r\n        at net.snowflake.spark.snowflake.io.CloudStorage.uploadPartition(CloudStorageOperations.scala:604)\r\n        at net.snowflake.spark.snowflake.io.CloudStorage.uploadPartition$(CloudStorageOperations.scala:587)\r\n        at net.snowflake.spark.snowflake.io.InternalS3Storage.uploadPartition(CloudStorageOperations.scala:1313)\r\n        at net.snowflake.spark.snowflake.io.CloudStorage.$anonfun$uploadRDD$2(CloudStorageOperations.scala:798)\r\n        at net.snowflake.spark.snowflake.io.CloudStorage.$anonfun$uploadRDD$2$adapted(CloudStorageOperations.scala:788)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2(RDD.scala:915)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2$adapted(RDD.scala:915)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:131)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n        at sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1570)\r\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1400)\r\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1300)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:435)\r\n```\r\nThen I ran same code in my jUnit tests it works - probably because of me mocking all cyphers:\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({&quot;org.apache.hadoop.*&quot;,&quot;javax.net.ssl.*&quot;,&quot;javax.management.*&quot;,&quot;java.net.ssl&quot;, &quot;javax.security.auth.x500.X500Principal&quot;})\r\n```\r\nI noticed in snowflake history that spark connects and even executes some commands, like\r\n```\r\nGET @spark_connector_load_stage_s3Rf6Do1SL/ file:///tmp/dummy_location_spark_connector_tmp/\r\n\r\nPUT file:///tmp/dummy_location_spark_connector_tmp/ @spark_connector_load_stage_s3Rf6Do1SL\r\n```\r\n\r\nOnly difference between test-run and proper execution is *copy into* command.\r\nI&#39;m running spark with following settings:\r\n```\r\nspark.executor.extraJavaOptions=-XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Djavax.net.debug=all -Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2\r\nspark.driver.extraJavaOptions=-XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Djavax.net.debug=all -Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2\r\n```\r\nExtended worker logs:\r\n```\r\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.220 EST|SSLContextImpl.java:119|done seeding of SecureRandom\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.222 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.222 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.222 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.222 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256 for TLS11\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256 for TLS10\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.226 EST|SSLExtensions.java:260|Ignore, context unavailable extension: status_request\r\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SignatureScheme.java:373|Ignore unsupported signature scheme: ed25519\r\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SignatureScheme.java:373|Ignore unsupported signature scheme: ed448\r\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SignatureScheme.java:393|Ignore disabled signature scheme: rsa_md5\r\njavax.net.ssl|INFO|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|AlpnExtension.java:178|No available application protocols\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SSLExtensions.java:260|Ignore, context unavailable extension: application_layer_protocol_negotiation\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SSLExtensions.java:260|Ignore, context unavailable extension: status_request_v2\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SSLExtensions.java:260|Ignore, context unavailable extension: renegotiation_info\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.228 EST|ClientHello.java:575|Produced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n  &quot;random&quot;              : &quot;EB 69 50 C3 56 29 85 7A CA 23 0C 2C 54 88 B9 CF 54 EA A0 6F 35 1B F4 33 C5 8B AF AC 9F AA 83 8D&quot;,\r\n  &quot;session id&quot;          : &quot;&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    &quot;server_name (0)&quot;: {\r\n      type=host_name (0), value=client-telemetry.snowflakecomputing.com\r\n    },\r\n    &quot;supported_groups (10)&quot;: {\r\n      &quot;versions&quot;: [secp256r1, secp384r1, secp521r1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n    },\r\n    &quot;ec_point_formats (11)&quot;: {\r\n      &quot;formats&quot;: [uncompressed]\r\n    },\r\n    &quot;signature_algorithms (13)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;signature_algorithms_cert (50)&quot;: {\r\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n    },\r\n    &quot;extended_master_secret (23)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;supported_versions (43)&quot;: {\r\n      &quot;versions&quot;: [TLSv1.2, TLSv1.1, TLSv1]\r\n    }\r\n  ]\r\n}\r\n)\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.228 EST|SSLSocketOutputRecord.java:241|WRITE: TLS12 handshake, length = 310\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.229 EST|SSLSocketOutputRecord.java:255|Raw write (...)\r\n)\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.304 EST|SSLSocketInputRecord.java:467|Raw read: EOF\r\njavax.net.ssl|SEVERE|74|pool-12-thread-4|2022-02-11 09:58:54.304 EST|TransportContext.java:316|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n  \tat sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1570)\r\n  \tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1400)\r\n  \tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1300)\r\n  \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:435)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n  \tat net.snowflake.client.jdbc.internal.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n  \tat net.snowflake.client.jdbc.telemetryOOB.TelemetryService$TelemetryUploader.uploadPayload(TelemetryService.java:374)\r\n  \tat net.snowflake.client.jdbc.telemetryOOB.TelemetryService$TelemetryUploader.run(TelemetryService.java:358)\r\n  \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n  \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n  \tat java.lang.Thread.run(Thread.java:748)\r\n  Caused by: java.io.EOFException: SSL peer shut down incorrectly\r\n  \tat sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:167)\r\n  \tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:109)\r\n  \tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1392)\r\n  \t... 19 more}\r\n\r\n)\r\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.304 EST|SSLSessionImpl.java:823|Invalidated session:  Session(1644591534222|SSL_NULL_WITH_NULL_NULL)\r\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.304 EST|SSLSocketOutputRecord.java:71|WRITE: TLS12 alert(handshake_failure), length = 2\r\n```\r\nI&#39;m trying to play with snowflake options:\r\n```\r\ninsecureMode: &quot;true&quot;\r\nsfSSL: &quot;on&quot;\r\nsfCompress: &quot;on&quot;\r\n```\r\nBut it doesn&#39;t help. Need to run on spark 3.1.1, so no much room for downgrading drivers. Any ideas on how to make it run will be appreciated","title":"Spark Connector to Snowflake throws &#39;java.io.EOFException: SSL peer shut down incorrectly&#39; on &#39;copy into&#39; sql command","body":"<p>Using spark-snowflake_2.12:2.9.3-spark_3.1 and snowflake-jdbc:3.13.14 trying to &quot;overwrite&quot; table in snowflake using spark, keep getting:</p>\n<pre><code>Caused by: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 6.0 failed 4 times, most recent failure: Lost task 0.3 in stage 6.0 (TID 437) (127.0.0.1 executor 0): net.snowflake.client.jdbc.internal.amazonaws.SdkClientException: Unable to execute HTTP request: Remote host terminated the handshake\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1134)\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1080)\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:745)\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:719)\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:701)\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:669)\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:651)\n        at net.snowflake.client.jdbc.internal.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:515)\n        at net.snowflake.client.jdbc.internal.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4443)\n        at net.snowflake.client.jdbc.internal.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4390)\n        at net.snowflake.client.jdbc.internal.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1774)\n        at net.snowflake.client.jdbc.internal.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1635)\n        at net.snowflake.spark.snowflake.io.S3UploadOutputStream.uploadDataChunk(CloudStorageOperations.scala:1979)\n        at net.snowflake.spark.snowflake.io.S3UploadOutputStream.close(CloudStorageOperations.scala:2112)\n        at javax.crypto.CipherOutputStream.close(CipherOutputStream.java:225)\n        at java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:241)\n        at net.snowflake.spark.snowflake.io.CloudStorage.doUploadPartition(CloudStorageOperations.scala:696)\n        at net.snowflake.spark.snowflake.io.CloudStorage.uploadPartition(CloudStorageOperations.scala:604)\n        at net.snowflake.spark.snowflake.io.CloudStorage.uploadPartition$(CloudStorageOperations.scala:587)\n        at net.snowflake.spark.snowflake.io.InternalS3Storage.uploadPartition(CloudStorageOperations.scala:1313)\n        at net.snowflake.spark.snowflake.io.CloudStorage.$anonfun$uploadRDD$2(CloudStorageOperations.scala:798)\n        at net.snowflake.spark.snowflake.io.CloudStorage.$anonfun$uploadRDD$2$adapted(CloudStorageOperations.scala:788)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2(RDD.scala:915)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2$adapted(RDD.scala:915)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:373)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:337)\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n        at org.apache.spark.scheduler.Task.run(Task.scala:131)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:497)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1439)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:500)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n        at sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1570)\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1400)\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1300)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:435)\n</code></pre>\n<p>Then I ran same code in my jUnit tests it works - probably because of me mocking all cyphers:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({&quot;org.apache.hadoop.*&quot;,&quot;javax.net.ssl.*&quot;,&quot;javax.management.*&quot;,&quot;java.net.ssl&quot;, &quot;javax.security.auth.x500.X500Principal&quot;})\n</code></pre>\n<p>I noticed in snowflake history that spark connects and even executes some commands, like</p>\n<pre><code>GET @spark_connector_load_stage_s3Rf6Do1SL/ file:///tmp/dummy_location_spark_connector_tmp/\n\nPUT file:///tmp/dummy_location_spark_connector_tmp/ @spark_connector_load_stage_s3Rf6Do1SL\n</code></pre>\n<p>Only difference between test-run and proper execution is <em>copy into</em> command.\nI'm running spark with following settings:</p>\n<pre><code>spark.executor.extraJavaOptions=-XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Djavax.net.debug=all -Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2\nspark.driver.extraJavaOptions=-XX:+PrintGCDetails -XX:+PrintGCTimeStamps -Djavax.net.debug=all -Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2\n</code></pre>\n<p>Extended worker logs:</p>\n<pre><code>javax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.220 EST|SSLContextImpl.java:119|done seeding of SecureRandom\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.222 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.222 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.222 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.222 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.223 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256 for TLS11\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.224 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.225 EST|HandshakeContext.java:297|Ignore unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256 for TLS10\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.226 EST|SSLExtensions.java:260|Ignore, context unavailable extension: status_request\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SignatureScheme.java:373|Ignore unsupported signature scheme: ed25519\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SignatureScheme.java:373|Ignore unsupported signature scheme: ed448\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SignatureScheme.java:393|Ignore disabled signature scheme: rsa_md5\njavax.net.ssl|INFO|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|AlpnExtension.java:178|No available application protocols\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SSLExtensions.java:260|Ignore, context unavailable extension: application_layer_protocol_negotiation\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SSLExtensions.java:260|Ignore, context unavailable extension: status_request_v2\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.227 EST|SSLExtensions.java:260|Ignore, context unavailable extension: renegotiation_info\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.228 EST|ClientHello.java:575|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;EB 69 50 C3 56 29 85 7A CA 23 0C 2C 54 88 B9 CF 54 EA A0 6F 35 1B F4 33 C5 8B AF AC 9F AA 83 8D&quot;,\n  &quot;session id&quot;          : &quot;&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;server_name (0)&quot;: {\n      type=host_name (0), value=client-telemetry.snowflakecomputing.com\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [secp256r1, secp384r1, secp521r1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;signature_algorithms (13)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;signature_algorithms_cert (50)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.2, TLSv1.1, TLSv1]\n    }\n  ]\n}\n)\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.228 EST|SSLSocketOutputRecord.java:241|WRITE: TLS12 handshake, length = 310\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.229 EST|SSLSocketOutputRecord.java:255|Raw write (...)\n)\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.304 EST|SSLSocketInputRecord.java:467|Raw read: EOF\njavax.net.ssl|SEVERE|74|pool-12-thread-4|2022-02-11 09:58:54.304 EST|TransportContext.java:316|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n    at sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1570)\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1400)\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1300)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:435)\n    at net.snowflake.client.jdbc.internal.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\n    at net.snowflake.client.jdbc.internal.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at net.snowflake.client.jdbc.internal.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at net.snowflake.client.jdbc.telemetryOOB.TelemetryService$TelemetryUploader.uploadPayload(TelemetryService.java:374)\n    at net.snowflake.client.jdbc.telemetryOOB.TelemetryService$TelemetryUploader.run(TelemetryService.java:358)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n  Caused by: java.io.EOFException: SSL peer shut down incorrectly\n    at sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:167)\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:109)\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1392)\n    ... 19 more}\n\n)\njavax.net.ssl|ALL|74|pool-12-thread-4|2022-02-11 09:58:54.304 EST|SSLSessionImpl.java:823|Invalidated session:  Session(1644591534222|SSL_NULL_WITH_NULL_NULL)\njavax.net.ssl|FINE|74|pool-12-thread-4|2022-02-11 09:58:54.304 EST|SSLSocketOutputRecord.java:71|WRITE: TLS12 alert(handshake_failure), length = 2\n</code></pre>\n<p>I'm trying to play with snowflake options:</p>\n<pre><code>insecureMode: &quot;true&quot;\nsfSSL: &quot;on&quot;\nsfCompress: &quot;on&quot;\n</code></pre>\n<p>But it doesn't help. Need to run on spark 3.1.1, so no much room for downgrading drivers. Any ideas on how to make it run will be appreciated</p>\n"},{"tags":["java","arrays","control-structure"],"comments":[{"owner":{"account_id":24227565,"reputation":11,"user_id":18181841,"display_name":""},"score":0,"creation_date":1644591826,"post_id":71082234,"comment_id":125654461,"body_markdown":"in front of (buchRegal[0] == &quot;&quot; &amp;&amp; buchregal_id == null) there is a IF","body":"in front of (buchRegal[0] == &quot;&quot; &amp;&amp; buchregal_id == null) there is a IF"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1644595998,"post_id":71082234,"comment_id":125656221,"body_markdown":"Please see [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java).","body":"Please see <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>."}],"owner":{"account_id":24227565,"reputation":11,"user_id":18181841,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1644593305,"creation_date":1644591761,"question_id":71082234,"body_markdown":"hi i am sitting on a small library book exchange program in Java i want to understand programming a little more so my question is \r\n\r\ni have this now \r\n\r\n(buchRegal[0] == &quot;&quot; &amp;&amp; buchregal_id[0] == null)\r\n\r\nbuchRegal[0] is a position from a String array and buchregal_id is part of a int Array.\r\nWith this code i learned i can check if a place at array[0] is empty, now  the problem i want it to check if there is something in it AND if so i want it to move to the next part of the array which should be array[0] and place it there until the end is reached \r\n\r\nmy english is bad by the way \r\ngreetings","title":"Java check if a position @array has a value or not","body":"<p>hi i am sitting on a small library book exchange program in Java i want to understand programming a little more so my question is</p>\n<p>i have this now</p>\n<p>(buchRegal[0] == &quot;&quot; &amp;&amp; buchregal_id[0] == null)</p>\n<p>buchRegal[0] is a position from a String array and buchregal_id is part of a int Array.\nWith this code i learned i can check if a place at array[0] is empty, now  the problem i want it to check if there is something in it AND if so i want it to move to the next part of the array which should be array[0] and place it there until the end is reached</p>\n<p>my english is bad by the way\ngreetings</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8393,"page":1599,"page_size":100}
