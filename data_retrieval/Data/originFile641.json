{"items":[{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"score":0,"creation_date":1676558327,"post_id":75472954,"comment_id":133164244,"body_markdown":"Any hints how I may start with this?","body":"Any hints how I may start with this?"}],"tags":[],"owner":{"account_id":9052120,"reputation":63,"user_id":6741752,"display_name":"Muchomor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676553966,"creation_date":1676553966,"answer_id":75472954,"question_id":75471750,"body_markdown":"As you do not know how nested your folder structure is, you need some pattern to recognize the element that you know will exist in the project structure, in your example with &quot;features&quot; text, and then move to the next index. So your idea looks fine to me.","title":"Take array element text before element containing specific text","body":"<p>As you do not know how nested your folder structure is, you need some pattern to recognize the element that you know will exist in the project structure, in your example with &quot;features&quot; text, and then move to the next index. So your idea looks fine to me.</p>\n"},{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676645907,"creation_date":1676561155,"answer_id":75474410,"question_id":75471750,"body_markdown":"I updated your method to return the split value after &quot;features&quot;.\r\n\r\n    private String getProjectName(Scenario scenario) {\r\n        String desiredString = &quot;features&quot;;\r\n        String[] pathArray = Path.of(scenario.getUri()).toUri().getPath().split(&quot;/&quot;);\r\n\t\tfor (int i = 0; i &lt; pathArray.length; i++) {\r\n\t\t\tif (pathArray[i].equals(desiredString)) {\r\n\t\t\t\treturn (pathArray[i + 1]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthrow new IllegalArgumentException(String.format(&quot;The url provided does not contain &lt;%s&gt;&quot;, desiredString));\r\n    }","title":"Take array element text before element containing specific text","body":"<p>I updated your method to return the split value after &quot;features&quot;.</p>\n<pre><code>private String getProjectName(Scenario scenario) {\n    String desiredString = &quot;features&quot;;\n    String[] pathArray = Path.of(scenario.getUri()).toUri().getPath().split(&quot;/&quot;);\n    for (int i = 0; i &lt; pathArray.length; i++) {\n        if (pathArray[i].equals(desiredString)) {\n            return (pathArray[i + 1]);\n        }\n    }\n\n    throw new IllegalArgumentException(String.format(&quot;The url provided does not contain &lt;%s&gt;&quot;, desiredString));\n}\n</code></pre>\n"}],"owner":{"account_id":11432133,"reputation":227,"user_id":8380535,"accept_rate":0,"display_name":"Kermi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75474410,"answer_count":2,"score":0,"last_activity_date":1676645907,"creation_date":1676547697,"question_id":75471750,"body_markdown":"I&#39;m getting specific project name based on the folder root. Using the code:\r\n\r\n    private String getProjectName(Scenario scenario) {\r\n        List&lt;String&gt; pathArray = Arrays.asList(Path.of(scenario.getUri()).toUri().getPath().split(&quot;/&quot;));\r\n        return pathArray.get(pathArray.size() - 1);\r\n    }\r\n\r\nFor such structure as it&#39;s shown on below screenshot it works. However, when more then one folder before .feature (number 9) file name will be added then it will fail. \r\n\r\n[![Folder root][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ld85I.png\r\n\r\nMy idea is to:\r\n1) Get the index of an array which contains text: &quot;features&quot;\r\n2) Move to the next index (project name) and get the proper text + return it\r\n\r\nIs it good idea? ","title":"Take array element text before element containing specific text","body":"<p>I'm getting specific project name based on the folder root. Using the code:</p>\n<pre><code>private String getProjectName(Scenario scenario) {\n    List&lt;String&gt; pathArray = Arrays.asList(Path.of(scenario.getUri()).toUri().getPath().split(&quot;/&quot;));\n    return pathArray.get(pathArray.size() - 1);\n}\n</code></pre>\n<p>For such structure as it's shown on below screenshot it works. However, when more then one folder before .feature (number 9) file name will be added then it will fail.</p>\n<p><a href=\"https://i.stack.imgur.com/Ld85I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ld85I.png\" alt=\"Folder root\" /></a></p>\n<p>My idea is to:</p>\n<ol>\n<li>Get the index of an array which contains text: &quot;features&quot;</li>\n<li>Move to the next index (project name) and get the proper text + return it</li>\n</ol>\n<p>Is it good idea?</p>\n"},{"tags":["java","selenium-webdriver","automation","driver","capability"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1676621879,"post_id":75481531,"comment_id":133177873,"body_markdown":"Can you show us some of your code? Yet your question sounds very general.","body":"Can you show us some of your code? Yet your question sounds very general."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676628666,"creation_date":1676628666,"answer_id":75482859,"question_id":75481531,"body_markdown":"You could do something like this:\r\n\r\n```java\r\npublic class MyDriverStuff {\r\n\r\n  WebDriver driver = null;\r\n\r\n  public static WebDriver getDriver(){\r\n    if(driver == null){\r\n      // configure and create your driver here\r\n      driver = new ChromeDriver();\r\n    }\r\n    return driver;\r\n  }\r\n\r\n\r\n  public static void terminateDriver(){\r\n    driver.quit();\r\n    driver = null;\r\n  }\r\n}\r\n```\r\n\r\n**Disclaimer 1** - This is the most simple case. You need to add different posible exception cases handling.\r\n\r\n**Disclaimer 2** - I didn&#39;t use IDE to write this code so there could be sytax errors.\r\n\r\n**Disclaimer 3** - This case won&#39;t be working for parallel execution case. You&#39;ll have to read about `ThreadLocal` class to add multithreading support.","title":"How to use driver initialize code from a separate class and use it in different class of same package and different package","body":"<p>You could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDriverStuff {\n\n  WebDriver driver = null;\n\n  public static WebDriver getDriver(){\n    if(driver == null){\n      // configure and create your driver here\n      driver = new ChromeDriver();\n    }\n    return driver;\n  }\n\n\n  public static void terminateDriver(){\n    driver.quit();\n    driver = null;\n  }\n}\n</code></pre>\n<p><strong>Disclaimer 1</strong> - This is the most simple case. You need to add different posible exception cases handling.</p>\n<p><strong>Disclaimer 2</strong> - I didn't use IDE to write this code so there could be sytax errors.</p>\n<p><strong>Disclaimer 3</strong> - This case won't be working for parallel execution case. You'll have to read about <code>ThreadLocal</code> class to add multithreading support.</p>\n"}],"owner":{"account_id":4695591,"reputation":1,"user_id":3852339,"display_name":"user3852339"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676645504,"creation_date":1676620581,"question_id":75481531,"body_markdown":"Stuck with making a separate class for the driver (capabilities, allowing notification, an opening web browser) within one separate class and using it is a different class of the same package and a different package\r\n\r\nNeed to fetch it on different classes\r\n\r\nCode:\r\n````\r\npublic class Permission {\r\n\t\r\n\tpublic static ChromeDriver accesspermission() {\r\n\t\t\r\n\t\tDesiredCapabilities caps = new DesiredCapabilities();\r\n        ChromeOptions options = new ChromeOptions();\r\n\r\n        HashMap &lt; String, Integer &gt; conentSettings = new HashMap &lt; String, Integer &gt; ();\r\n        HashMap &lt; String, Object &gt; profile = new HashMap &lt; String, Object &gt; ();\r\n        HashMap &lt; String, Object &gt; prefs = new HashMap &lt; String, Object &gt; ();\r\n\r\n        conentSettings.put(&quot;notifications&quot;, 1);\r\n        conentSettings.put(&quot;geolocation&quot;, 1);\r\n        conentSettings.put(&quot;media_stream&quot;, 1);\r\n\r\n        profile.put(&quot;managed_default_content_settings&quot;, conentSettings);\r\n        prefs.put(&quot;profile&quot;, profile);\r\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n        caps.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\n        ChromeDriver driver = new ChromeDriver(options);\r\n        driver.manage().window().maximize();\r\n        driver.manage().deleteAllCookies();\r\n\r\n        driver.get(&quot;URL&quot;);\r\n\t\t\r\n\t }\r\n        return driver;\r\n}\r\n````\r\n","title":"How to use driver initialize code from a separate class and use it in different class of same package and different package","body":"<p>Stuck with making a separate class for the driver (capabilities, allowing notification, an opening web browser) within one separate class and using it is a different class of the same package and a different package</p>\n<p>Need to fetch it on different classes</p>\n<p>Code:</p>\n<pre><code>public class Permission {\n    \n    public static ChromeDriver accesspermission() {\n        \n        DesiredCapabilities caps = new DesiredCapabilities();\n        ChromeOptions options = new ChromeOptions();\n\n        HashMap &lt; String, Integer &gt; conentSettings = new HashMap &lt; String, Integer &gt; ();\n        HashMap &lt; String, Object &gt; profile = new HashMap &lt; String, Object &gt; ();\n        HashMap &lt; String, Object &gt; prefs = new HashMap &lt; String, Object &gt; ();\n\n        conentSettings.put(&quot;notifications&quot;, 1);\n        conentSettings.put(&quot;geolocation&quot;, 1);\n        conentSettings.put(&quot;media_stream&quot;, 1);\n\n        profile.put(&quot;managed_default_content_settings&quot;, conentSettings);\n        prefs.put(&quot;profile&quot;, profile);\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\n        caps.setCapability(ChromeOptions.CAPABILITY, options);\n\n        ChromeDriver driver = new ChromeDriver(options);\n        driver.manage().window().maximize();\n        driver.manage().deleteAllCookies();\n\n        driver.get(&quot;URL&quot;);\n        \n     }\n        return driver;\n}\n</code></pre>\n"},{"tags":["java","winrun4j"],"comments":[{"owner":{"account_id":1732668,"reputation":179,"user_id":1585944,"display_name":"Warren"},"score":0,"creation_date":1676395662,"post_id":75441318,"comment_id":133127090,"body_markdown":"Tried RCEDIT 32 bit.  That one worked.  It seems to be the 64 bit version that is a problem.","body":"Tried RCEDIT 32 bit.  That one worked.  It seems to be the 64 bit version that is a problem."}],"owner":{"account_id":1732668,"reputation":179,"user_id":1585944,"display_name":"Warren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676645331,"creation_date":1676323466,"question_id":75441318,"body_markdown":"The documentation on the WinRun4j [page][1] mentions that embedding an `.ini` file into an executable is supported:\r\n&gt;Supports embedding (inside the executable) the INI file. See Embedded Resources section below.\r\n\r\nThe problem is, I can&#39;t see how to do it.\r\nThe RCEDIT executable mentioned in the *Embedded Resources Section* does not seem to have an option to do this.\r\nThe `/N` option says it sets the `.ini` file, but that didn&#39;t seem to do anything when I ran:\r\n```none\r\nRCEDIT /N myExecutable.exe myExecutable.ini\r\n```\r\nThe `/P` option says it prints the embedded `.ini` file, but when I ran it after running RCEDIT executables with the `/N` flag, I got an error\r\n&gt;.ini file not found\r\n\r\nI&#39;m sure I&#39;m missing something here.\r\nCan someone tell me what I am doing wrong?\r\n\r\n\r\n\r\n\r\n  [1]: https://winrun4j.sourceforge.net/","title":"How do you embed an .ini in a WinRun4j executable?","body":"<p>The documentation on the WinRun4j <a href=\"https://winrun4j.sourceforge.net/\" rel=\"nofollow noreferrer\">page</a> mentions that embedding an <code>.ini</code> file into an executable is supported:</p>\n<blockquote>\n<p>Supports embedding (inside the executable) the INI file. See Embedded Resources section below.</p>\n</blockquote>\n<p>The problem is, I can't see how to do it.\nThe RCEDIT executable mentioned in the <em>Embedded Resources Section</em> does not seem to have an option to do this.\nThe <code>/N</code> option says it sets the <code>.ini</code> file, but that didn't seem to do anything when I ran:</p>\n<pre class=\"lang-none prettyprint-override\"><code>RCEDIT /N myExecutable.exe myExecutable.ini\n</code></pre>\n<p>The <code>/P</code> option says it prints the embedded <code>.ini</code> file, but when I ran it after running RCEDIT executables with the <code>/N</code> flag, I got an error</p>\n<blockquote>\n<p>.ini file not found</p>\n</blockquote>\n<p>I'm sure I'm missing something here.\nCan someone tell me what I am doing wrong?</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":11267822,"reputation":61,"user_id":8264132,"display_name":"Tayyab Munir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676645029,"creation_date":1676645029,"answer_id":75485728,"question_id":75485646,"body_markdown":"ArgumentCaptor can be used to capture and Assert Arguments in your method. you can read about [ArgumentCaptor][1] here \r\n\r\n\r\n\r\n\r\n  [1]: https://site.mockito.org/javadoc/current/org/mockito/ArgumentCaptor.html","title":"How to write JUnit test case for void method","body":"<p>ArgumentCaptor can be used to capture and Assert Arguments in your method. you can read about <a href=\"https://site.mockito.org/javadoc/current/org/mockito/ArgumentCaptor.html\" rel=\"nofollow noreferrer\">ArgumentCaptor</a> here</p>\n"}],"owner":{"account_id":16232132,"reputation":341,"user_id":11720605,"display_name":"TJ32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676645029,"creation_date":1676644641,"question_id":75485646,"body_markdown":"I am trying to write Junit test cases for a void method. This method is used for updating  values in Database. I have tried certain test cases and its returning a success. But when I check the coverage its showing zero. Can anyone tell me the proper way to write test cases for void methods.\r\n\r\nthis is my service class :\r\n\r\n    public class CustomerServiceImpl implements CustomerService {\r\n    \r\n    \r\n      @Autowired\r\n      ERepository eRepository;\r\n    \r\n      @Autowired\r\n      ActivityUtil activityUtil;\r\n    \r\n    \r\n      @Override\r\n      public void updateCustomer(RequestDTO requestDTO)\r\n          throws CustomAException {\r\n        if (Objects.nonNull(requestDTO.getAdmissionId())) {\r\n          Optional&lt;Admission&gt; optionalAdmission = eRepository.findById(\r\n              requestDTO.getAdmissionId());\r\n          if (optionalAdmission .isPresent()) {\r\n            EAdmission eAdmission = optionalAdmission.get();\r\n            updateCustomer(requestDTO, eAdmission);\r\n          } else {\r\n         \r\n            throw new CustomAException (&quot;Admission details not found&quot;);\r\n          }\r\n        }\r\n        else {\r\n          throw new CustomAException (&quot;Admission id  not found&quot;);\r\n        }\r\n      }\r\n    \r\n      private void updateCustomer(RequestDTO requestDTO,\r\n          EAdmission eAdmission)\r\n          throws CustomAException {\r\n        logger.info(&quot;updating customer info&quot;);\r\n        try {\r\n          if (ObjectUtils.isNotEmpty(eAdmission.getCustomer())) {\r\n            eAdmission.getCustomer().setCustomerEmailAddress(\r\n                requestDTO.getEmail());\r\n            eAdmission.getCustomer().setCorporateTelephoneNumber(\r\n                requestDTO.getCustomerPhone());\r\n            eAdmission.getCustomer().setZipCode(requestDTO.getZipCode());\r\n            eAdmission.getCustomer().setCustomerAddress1(requestDTO.getAddress1());\r\n            evfAdmissionRepository.save(evfAdmission);\r\n            activityUtil.createActivityLog(eAdmission, Constants.ENTRY_COMPLETED);\r\n          } else {\r\n            throw new CustomAException (&quot;Customer details not found &quot;);\r\n          }\r\n        } catch (Exception exception) {\r\n          logger.error(Constants.CUSTOMER_UPDATE_ERROR_MESSAGE);\r\n          throw new CustomAException (Constants.CUSTOMER_UPDATE_ERROR_MESSAGE);\r\n        }\r\n\r\n\r\nI am trying to write test cases for updateCustomer but my test class has zero coverage even though its a success.\r\n\r\ntest class :\r\n\r\n    @SpringBootTest\r\n    public class CustomerServiceImplTest {\r\n    \r\n      @InjectMocks\r\n      CustomerServiceImpl CustomerServiceImpl;\r\n    \r\n      @Mock\r\n      ERepository eRepository ;\r\n    \r\n      @Mock\r\n      ActivityUtil activityUtil;\r\n    \r\n      @Before\r\n      public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n      }\r\n    \r\n      @Test\r\n      public void updateCustomerException() throws Exception {\r\n        CustomerServiceImpl CustomerServiceImplTest = mock(CustomerServiceImpl.class);\r\n        when(evfAdmissionRepository.findById(any())).thenThrow(ConstraintViolationException.class);\r\n        Mockito.doThrow(CustomAException .class).when(CustomerServiceImplTest).updateCustomer(setRequestDTO());\r\n        }\r\n    \r\n      @Test\r\n      public void updateCustomerSuccess() throws Exception {\r\n        CustomerServiceImpl CustomerServiceImplTest = mock(CustomerServiceImpl.class);\r\n     \r\n        CustomerServiceImplTest .updateCustomer(setRequestDTO());\r\n        //doNothing().when(evfCustomerServiceImpl).updateEVFCustomerOnSubscribe(any());\r\n        verify(CustomerServiceImplTest ).updateCustomerOn(setRequestDTO());\r\n      }\r\n    \r\n    private RequestDTO setRequestDTO() {\r\n        RequestDTO eRequestDTO = new RequestDTO ();\r\n        eRequestDTO .setEmail(&quot;test&quot;);\r\n      // rest of code for setting value\r\n        return eRequestDTO ;\r\n      }\r\n\r\n","title":"How to write JUnit test case for void method","body":"<p>I am trying to write Junit test cases for a void method. This method is used for updating  values in Database. I have tried certain test cases and its returning a success. But when I check the coverage its showing zero. Can anyone tell me the proper way to write test cases for void methods.</p>\n<p>this is my service class :</p>\n<pre><code>public class CustomerServiceImpl implements CustomerService {\n\n\n  @Autowired\n  ERepository eRepository;\n\n  @Autowired\n  ActivityUtil activityUtil;\n\n\n  @Override\n  public void updateCustomer(RequestDTO requestDTO)\n      throws CustomAException {\n    if (Objects.nonNull(requestDTO.getAdmissionId())) {\n      Optional&lt;Admission&gt; optionalAdmission = eRepository.findById(\n          requestDTO.getAdmissionId());\n      if (optionalAdmission .isPresent()) {\n        EAdmission eAdmission = optionalAdmission.get();\n        updateCustomer(requestDTO, eAdmission);\n      } else {\n     \n        throw new CustomAException (&quot;Admission details not found&quot;);\n      }\n    }\n    else {\n      throw new CustomAException (&quot;Admission id  not found&quot;);\n    }\n  }\n\n  private void updateCustomer(RequestDTO requestDTO,\n      EAdmission eAdmission)\n      throws CustomAException {\n    logger.info(&quot;updating customer info&quot;);\n    try {\n      if (ObjectUtils.isNotEmpty(eAdmission.getCustomer())) {\n        eAdmission.getCustomer().setCustomerEmailAddress(\n            requestDTO.getEmail());\n        eAdmission.getCustomer().setCorporateTelephoneNumber(\n            requestDTO.getCustomerPhone());\n        eAdmission.getCustomer().setZipCode(requestDTO.getZipCode());\n        eAdmission.getCustomer().setCustomerAddress1(requestDTO.getAddress1());\n        evfAdmissionRepository.save(evfAdmission);\n        activityUtil.createActivityLog(eAdmission, Constants.ENTRY_COMPLETED);\n      } else {\n        throw new CustomAException (&quot;Customer details not found &quot;);\n      }\n    } catch (Exception exception) {\n      logger.error(Constants.CUSTOMER_UPDATE_ERROR_MESSAGE);\n      throw new CustomAException (Constants.CUSTOMER_UPDATE_ERROR_MESSAGE);\n    }\n</code></pre>\n<p>I am trying to write test cases for updateCustomer but my test class has zero coverage even though its a success.</p>\n<p>test class :</p>\n<pre><code>@SpringBootTest\npublic class CustomerServiceImplTest {\n\n  @InjectMocks\n  CustomerServiceImpl CustomerServiceImpl;\n\n  @Mock\n  ERepository eRepository ;\n\n  @Mock\n  ActivityUtil activityUtil;\n\n  @Before\n  public void setUp() {\n    MockitoAnnotations.initMocks(this);\n  }\n\n  @Test\n  public void updateCustomerException() throws Exception {\n    CustomerServiceImpl CustomerServiceImplTest = mock(CustomerServiceImpl.class);\n    when(evfAdmissionRepository.findById(any())).thenThrow(ConstraintViolationException.class);\n    Mockito.doThrow(CustomAException .class).when(CustomerServiceImplTest).updateCustomer(setRequestDTO());\n    }\n\n  @Test\n  public void updateCustomerSuccess() throws Exception {\n    CustomerServiceImpl CustomerServiceImplTest = mock(CustomerServiceImpl.class);\n \n    CustomerServiceImplTest .updateCustomer(setRequestDTO());\n    //doNothing().when(evfCustomerServiceImpl).updateEVFCustomerOnSubscribe(any());\n    verify(CustomerServiceImplTest ).updateCustomerOn(setRequestDTO());\n  }\n\nprivate RequestDTO setRequestDTO() {\n    RequestDTO eRequestDTO = new RequestDTO ();\n    eRequestDTO .setEmail(&quot;test&quot;);\n  // rest of code for setting value\n    return eRequestDTO ;\n  }\n</code></pre>\n"},{"tags":["java","docker","jvm","cpu","cpu-usage"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1657877824,"post_id":72990691,"comment_id":128919318,"body_markdown":"What you said here is not yet a sign of a problem. What is the original problem you&#39;re trying to solve?","body":"What you said here is not yet a sign of a problem. What is the original problem you&#39;re trying to solve?"},{"owner":{"account_id":21875695,"reputation":11,"user_id":16164725,"display_name":"PabPabPab"},"score":0,"creation_date":1657880077,"post_id":72990691,"comment_id":128920011,"body_markdown":"Basically the app consumes AMQ messages and perform various Mongo operations with them.  \nIt used to run well, now it accumulates delay because the data input is bigger.  \nI see that the java process is stuck around 98~102% CPU usage as if it was using a single core. But machine wise, all cores are around 25%.   \nThere is probably a reason why my Java process doesn&#39;t use say 150% CPU, maybe related to Docker.\n+ I find it odd that the process seems to use only one core although its &quot;workload&quot; is spread over all 4.","body":"Basically the app consumes AMQ messages and perform various Mongo operations with them.   It used to run well, now it accumulates delay because the data input is bigger.   I see that the java process is stuck around 98~102% CPU usage as if it was using a single core. But machine wise, all cores are around 25%.    There is probably a reason why my Java process doesn&#39;t use say 150% CPU, maybe related to Docker. + I find it odd that the process seems to use only one core although its &quot;workload&quot; is spread over all 4."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1657880905,"post_id":72990691,"comment_id":128920261,"body_markdown":"OK, this information should have been in the question in the first place (please edit the post accordingly). The problem isn&#39;t necessary related to Docker at all. If the app communicates to Mongo, it likely waits for Mongo responses and thus cannot utilize 100% CPU in one thread. How many worker threads are there in your app? Did you try profiling?","body":"OK, this information should have been in the question in the first place (please edit the post accordingly). The problem isn&#39;t necessary related to Docker at all. If the app communicates to Mongo, it likely waits for Mongo responses and thus cannot utilize 100% CPU in one thread. How many worker threads are there in your app? Did you try profiling?"}],"answers":[{"tags":[],"owner":{"account_id":17176485,"reputation":19,"user_id":12432568,"display_name":"Artem Pavlovskii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676645015,"creation_date":1676645015,"answer_id":75485725,"question_id":72990691,"body_markdown":"I faced such an issue on Docker on AWS EC2 with 64 cores. The problem was that only one core was visible when calling Java with no options. All cores were visible if I used `-XX:ActiveProcessorCount` or `-XX:-UseContainerSupport` options. But in the latter case each of the cores is used less than 2-3% summing all together to about 100%. After a long search I found that tools like htop can see all physical cores from the container but there could be constraints limiting the number of available CPU capacity. For instance, the option `--cpu-shares`. One can check its value from within the container with `cat /sys/fs/cgroup/cpu/cpu.shares`. The 1024 points correspond to 1 core. For example one can set `--cpu-shares 716` and only 70% of the core will be available from the container. This was my case. In your case the number of physical processors is 4 and probably cpu.shares has 1024 points. Thus, you load 25% of every core.\r\n\r\nUseful links for reference:  \r\nhttps://stackoverflow.com/questions/59661653/jvm-in-container-calculates-processors-wrongly  \r\nhttps://bugs.openjdk.org/browse/JDK-8146115  \r\nhttps://docs.docker.com/config/containers/resource_constraints/","title":"JVM in Docker uses 100% CPU accross multiple cores","body":"<p>I faced such an issue on Docker on AWS EC2 with 64 cores. The problem was that only one core was visible when calling Java with no options. All cores were visible if I used <code>-XX:ActiveProcessorCount</code> or <code>-XX:-UseContainerSupport</code> options. But in the latter case each of the cores is used less than 2-3% summing all together to about 100%. After a long search I found that tools like htop can see all physical cores from the container but there could be constraints limiting the number of available CPU capacity. For instance, the option <code>--cpu-shares</code>. One can check its value from within the container with <code>cat /sys/fs/cgroup/cpu/cpu.shares</code>. The 1024 points correspond to 1 core. For example one can set <code>--cpu-shares 716</code> and only 70% of the core will be available from the container. This was my case. In your case the number of physical processors is 4 and probably cpu.shares has 1024 points. Thus, you load 25% of every core.</p>\n<p>Useful links for reference:<br />\n<a href=\"https://stackoverflow.com/questions/59661653/jvm-in-container-calculates-processors-wrongly\">JVM in container calculates processors wrongly?</a><br />\n<a href=\"https://bugs.openjdk.org/browse/JDK-8146115\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8146115</a><br />\n<a href=\"https://docs.docker.com/config/containers/resource_constraints/\" rel=\"nofollow noreferrer\">https://docs.docker.com/config/containers/resource_constraints/</a></p>\n"}],"owner":{"account_id":21875695,"reputation":11,"user_id":16164725,"display_name":"PabPabPab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676645015,"creation_date":1657871294,"question_id":72990691,"body_markdown":"I have a Spring Boot app running in Docker which seems to struggle with its processing, I&#39;ll need to fix it.  \r\nAnyway, to get an idea of where the bottleneck is I made a simple `top`, I see that my Java process uses 100% CPU on a 4 cores machine. Good enough, I guess I need to parallelize some expensive actions in order to spread across multiple cores.  \r\n\r\n**The thing is even if my main Java process seems to max out around 100%, machine wise I see that all 4 cores are used around 25%.**  \r\nI&#39;m clearly not an expert in Docker or JVM but I have to do something about it :/   \r\nTo me, it looks like my JVM only see 1 core but docker manages to spread the work accross all cores.\r\n\r\nAny thoughts about what might be going on ?  \r\nOh and about the versions, it&#39;s running Docker 17.05, JDK 7. I might update Docker but not Java :( ","title":"JVM in Docker uses 100% CPU accross multiple cores","body":"<p>I have a Spring Boot app running in Docker which seems to struggle with its processing, I'll need to fix it.<br />\nAnyway, to get an idea of where the bottleneck is I made a simple <code>top</code>, I see that my Java process uses 100% CPU on a 4 cores machine. Good enough, I guess I need to parallelize some expensive actions in order to spread across multiple cores.</p>\n<p><strong>The thing is even if my main Java process seems to max out around 100%, machine wise I see that all 4 cores are used around 25%.</strong><br />\nI'm clearly not an expert in Docker or JVM but I have to do something about it :/<br />\nTo me, it looks like my JVM only see 1 core but docker manages to spread the work accross all cores.</p>\n<p>Any thoughts about what might be going on ?<br />\nOh and about the versions, it's running Docker 17.05, JDK 7. I might update Docker but not Java :(</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1676584928,"post_id":75478320,"comment_id":133172174,"body_markdown":"Welcome to OOP! Catch up on some basics and I bet the answer will seem obvious. https://www.geeksforgeeks.org/object-oriented-programming-oops-concept-in-java/","body":"Welcome to OOP! Catch up on some basics and I bet the answer will seem obvious. <a href=\"https://www.geeksforgeeks.org/object-oriented-programming-oops-concept-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25676685,"reputation":91,"user_id":19440016,"display_name":"Dioswison"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676585563,"creation_date":1676585563,"answer_id":75478429,"question_id":75478320,"body_markdown":"I&#39;d make a super class called &quot;TeamSport&quot; with the parameters player, team, coach and time. In this class you would make that method which adds to a map on all the fields. \r\n","title":"Pass Different Parameter Types to One Function that Share Functions","body":"<p>I'd make a super class called &quot;TeamSport&quot; with the parameters player, team, coach and time. In this class you would make that method which adds to a map on all the fields.</p>\n"},{"tags":[],"owner":{"account_id":9262696,"reputation":51,"user_id":6879185,"display_name":"ThomasPM"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676587228,"creation_date":1676586695,"answer_id":75478564,"question_id":75478320,"body_markdown":"It sounds like you want an [Interface](https://www.w3schools.com/java/java_interface.asp), which is a type of Java abstract class. You can create an interface that contains your shared methods. For example a `Sport` interface like this:\r\n\r\n```\r\n\r\ninterface Sport {\r\n    public String getPlayer();\r\n    public String getCoach();\r\n    \r\n}\r\n\r\n```\r\n\r\nThen your concrete classes will have to implement the interface, which will force them to all have the methods from the interface:\r\n\r\n```\r\n\r\nclass Soccer implements Sport\r\n{\r\n\r\n    String player = &quot;Soccer Player&quot;;\r\n    String coach = &quot;Soccer Coach&quot;;\r\n\r\n    // This attribute is unique to the Soccer class\r\n    String shoes;\r\n    \r\n    // These methods are required by the interface\r\n    public String getPlayer(){\r\n        return player;\r\n    }\r\n    public String getCoach(){\r\n        return coach;\r\n    }\r\n}\r\n\r\n\r\nclass Lacrosse implements Sport\r\n{\r\n\r\n    String player = &quot;Lacrosse Player&quot;;\r\n    String coach = &quot;Lacrosse Coach&quot;;\r\n\r\n    // This attribute is unique to the Lacrosse class\r\n    String Rules;\r\n    \r\n    // These methods are required by the interface\r\n    public String getPlayer(){\r\n        return player;\r\n    }\r\n    public String getCoach(){\r\n        return coach;\r\n    }\r\n}\r\n```\r\n\r\nThen you can use the `Sport` interface to guarantee that the concrete classes will have the shared methods.\r\n\r\n```\r\npublic Map&lt;String, String&gt; getCommon(Map&lt;S, S&gt; map, Sport o){\r\n    map.put(&quot;coach&quot;, o.getCoach());\r\n    map.put(&quot;player&quot;, o.getPlayer());\r\n    etc...\r\n    return map;\r\n}\r\n\r\n```\r\n\r\nYou can now call the `getCommon` method with either a `Soccer` object or a `Lacrosse` object.\r\n\r\n```  \r\n    // assuming the maps already exist\r\n    Soccer soc = new Soccer();\r\n    Lacrosse lac = new Lacrosse();\r\n    getCommon(socMap, soc);\r\n    getCommon(lacMap, lac);\r\n```","title":"Pass Different Parameter Types to One Function that Share Functions","body":"<p>It sounds like you want an <a href=\"https://www.w3schools.com/java/java_interface.asp\" rel=\"nofollow noreferrer\">Interface</a>, which is a type of Java abstract class. You can create an interface that contains your shared methods. For example a <code>Sport</code> interface like this:</p>\n<pre><code>\ninterface Sport {\n    public String getPlayer();\n    public String getCoach();\n    \n}\n\n</code></pre>\n<p>Then your concrete classes will have to implement the interface, which will force them to all have the methods from the interface:</p>\n<pre><code>\nclass Soccer implements Sport\n{\n\n    String player = &quot;Soccer Player&quot;;\n    String coach = &quot;Soccer Coach&quot;;\n\n    // This attribute is unique to the Soccer class\n    String shoes;\n    \n    // These methods are required by the interface\n    public String getPlayer(){\n        return player;\n    }\n    public String getCoach(){\n        return coach;\n    }\n}\n\n\nclass Lacrosse implements Sport\n{\n\n    String player = &quot;Lacrosse Player&quot;;\n    String coach = &quot;Lacrosse Coach&quot;;\n\n    // This attribute is unique to the Lacrosse class\n    String Rules;\n    \n    // These methods are required by the interface\n    public String getPlayer(){\n        return player;\n    }\n    public String getCoach(){\n        return coach;\n    }\n}\n</code></pre>\n<p>Then you can use the <code>Sport</code> interface to guarantee that the concrete classes will have the shared methods.</p>\n<pre><code>public Map&lt;String, String&gt; getCommon(Map&lt;S, S&gt; map, Sport o){\n    map.put(&quot;coach&quot;, o.getCoach());\n    map.put(&quot;player&quot;, o.getPlayer());\n    etc...\n    return map;\n}\n\n</code></pre>\n<p>You can now call the <code>getCommon</code> method with either a <code>Soccer</code> object or a <code>Lacrosse</code> object.</p>\n<pre><code>    // assuming the maps already exist\n    Soccer soc = new Soccer();\n    Lacrosse lac = new Lacrosse();\n    getCommon(socMap, soc);\n    getCommon(lacMap, lac);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7123163,"reputation":359,"user_id":5447035,"display_name":"Diego Ferruchelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676644753,"creation_date":1676590339,"answer_id":75478955,"question_id":75478320,"body_markdown":"Generics are not the way to go. You need two or more classes (Soccer and Lacrosse) based on one common ancestor (Game). This common ancestor may be another &quot;normal&quot; **class** (in this context called a &quot;superclass&quot;), an **abstract class** (also called a &quot;superclass&quot;) or an **interface**.\r\n\r\nYou only use a normal **class** as the ancestor when you want to (directly) instantiate it. If you don&#39;t (that is, if you&#39;ll create instances of Soccer and/or Lacrosse, but not instances of Game), you use an **abstract class** or an **interface**. There are several differences between these two, but the more important is that each (sub)class can *inherit* from only one (super)class, which may be &quot;normal&quot; or abstract; but it can *implement* any number of interfaces. (Another key difference is that &quot;classic&quot; interfaces are just blueprints that don&#39;t include code; but this restriction was recently relaxed.)\r\n\r\nIn this sample code, I chose to use an *abstract class* as the ancestor (but this _may_ not be the best choice for your actual problem). I also chose to put the `getCommon()` function inside the ancestor (but it could be a &quot;stand-alone&quot; function). I used a map for storing the data of each &quot;game&quot;, and a list for containing all the maps (but this is unrelated with your core question). \r\n```\r\nimport java.util.*;\r\nimport java.time.*;\r\n\r\nabstract class Game {\r\n  String coach;\r\n  String player;\r\n  \r\n  String getCoach() { return coach; }\r\n  String getPlayer() { return player; }\r\n  \r\n  Map&lt;String, String&gt; getCommon () {\r\n    var map = new HashMap&lt;String, String&gt; ();\r\n    \r\n    map.put(&quot;coach&quot;, getCoach());\r\n    map.put(&quot;player&quot;, getPlayer());\r\n    \r\n    return map;\r\n  }\r\n}\r\n\r\nclass Soccer extends Game\r\n{\r\n  Soccer (String league, String team, String coach, String player) { this.league = league; this.team = team; this.coach = coach; this.player = player; time = LocalTime.now(); }\r\n  int ballCnt;\r\n  String league;\r\n  String team;\r\n  String shoes;\r\n  LocalTime time;\r\n}\r\n\r\nclass Lacrosse extends Game\r\n{\r\n  Lacrosse (String team, String coach, String player) { this.team = team; this.coach = coach; this.player = player; time = LocalTime.now(); }\r\n  String team;\r\n  String rules[];\r\n  LocalTime time;\r\n}\r\n\r\nvoid main(String[] args) {\r\n  Soccer soccers[] = {\r\n    new Soccer(&quot;League 1&quot;, &quot;Team 1&quot;, &quot;John Smith&quot;, &quot;Mike&quot;),\r\n    new Soccer(&quot;League 1&quot;, &quot;Team 1&quot;, &quot;John Smith&quot;, &quot;Peter&quot;),\r\n    new Soccer(&quot;League 1&quot;, &quot;Team 2&quot;, &quot;Alan Jones&quot;, &quot;Charly&quot;)\r\n  };\r\n  \r\n  Lacrosse lacrossers[] = {\r\n    new Lacrosse(&quot;We play alone!&quot;, &quot;We don&#39;t need one!&quot;, &quot;Mary&quot;),  \r\n    new Lacrosse(&quot;We play alone!&quot;, &quot;We don&#39;t need one!&quot;, &quot;Susan&quot;)\r\n  };\r\n  \r\n  // Create a List&lt;&gt;. Each element will be the Map&lt;&gt; of a soccer, lacrosser, etc \r\n  var list = new ArrayList&lt;Map&lt;String, String&gt;&gt; ();\r\n  \r\n  // Create a map for each &quot;soccer&quot; and add it to the common list\r\n  for (var s : soccers)  \r\n    list.add (s.getCommon());\r\n  \r\n  // Create a map for each &quot;lacrosser&quot; and add it to the common list\r\n  for (var l : lacrossers)  \r\n    list.add (l.getCommon());\r\n  \r\n  // Dump the list\r\n  for (var element : list) {\r\n    for (var entry : element.entrySet())\r\n      System.out.println (entry.getKey() + &quot;: &quot; + entry.getValue());\r\n    System.out.println ();\r\n  }\r\n}\r\n\r\n```\r\nThe output is:\r\n&gt; coach: John Smith&lt;br&gt;\r\n&gt; player: Mike\r\n&gt;\r\n&gt; coach: John Smith&lt;br&gt;\r\n&gt; player: Peter\r\n&gt; \r\n&gt; coach: Alan Jones&lt;br&gt;\r\n&gt; player: Charly\r\n&gt; \r\n&gt; coach: We don&#39;t need one!&lt;br&gt;\r\n&gt; player: Mary\r\n&gt; \r\n&gt; coach: We don&#39;t need one!&lt;br&gt;\r\n&gt; player: Susan","title":"Pass Different Parameter Types to One Function that Share Functions","body":"<p>Generics are not the way to go. You need two or more classes (Soccer and Lacrosse) based on one common ancestor (Game). This common ancestor may be another &quot;normal&quot; <strong>class</strong> (in this context called a &quot;superclass&quot;), an <strong>abstract class</strong> (also called a &quot;superclass&quot;) or an <strong>interface</strong>.</p>\n<p>You only use a normal <strong>class</strong> as the ancestor when you want to (directly) instantiate it. If you don't (that is, if you'll create instances of Soccer and/or Lacrosse, but not instances of Game), you use an <strong>abstract class</strong> or an <strong>interface</strong>. There are several differences between these two, but the more important is that each (sub)class can <em>inherit</em> from only one (super)class, which may be &quot;normal&quot; or abstract; but it can <em>implement</em> any number of interfaces. (Another key difference is that &quot;classic&quot; interfaces are just blueprints that don't include code; but this restriction was recently relaxed.)</p>\n<p>In this sample code, I chose to use an <em>abstract class</em> as the ancestor (but this <em>may</em> not be the best choice for your actual problem). I also chose to put the <code>getCommon()</code> function inside the ancestor (but it could be a &quot;stand-alone&quot; function). I used a map for storing the data of each &quot;game&quot;, and a list for containing all the maps (but this is unrelated with your core question).</p>\n<pre><code>import java.util.*;\nimport java.time.*;\n\nabstract class Game {\n  String coach;\n  String player;\n  \n  String getCoach() { return coach; }\n  String getPlayer() { return player; }\n  \n  Map&lt;String, String&gt; getCommon () {\n    var map = new HashMap&lt;String, String&gt; ();\n    \n    map.put(&quot;coach&quot;, getCoach());\n    map.put(&quot;player&quot;, getPlayer());\n    \n    return map;\n  }\n}\n\nclass Soccer extends Game\n{\n  Soccer (String league, String team, String coach, String player) { this.league = league; this.team = team; this.coach = coach; this.player = player; time = LocalTime.now(); }\n  int ballCnt;\n  String league;\n  String team;\n  String shoes;\n  LocalTime time;\n}\n\nclass Lacrosse extends Game\n{\n  Lacrosse (String team, String coach, String player) { this.team = team; this.coach = coach; this.player = player; time = LocalTime.now(); }\n  String team;\n  String rules[];\n  LocalTime time;\n}\n\nvoid main(String[] args) {\n  Soccer soccers[] = {\n    new Soccer(&quot;League 1&quot;, &quot;Team 1&quot;, &quot;John Smith&quot;, &quot;Mike&quot;),\n    new Soccer(&quot;League 1&quot;, &quot;Team 1&quot;, &quot;John Smith&quot;, &quot;Peter&quot;),\n    new Soccer(&quot;League 1&quot;, &quot;Team 2&quot;, &quot;Alan Jones&quot;, &quot;Charly&quot;)\n  };\n  \n  Lacrosse lacrossers[] = {\n    new Lacrosse(&quot;We play alone!&quot;, &quot;We don't need one!&quot;, &quot;Mary&quot;),  \n    new Lacrosse(&quot;We play alone!&quot;, &quot;We don't need one!&quot;, &quot;Susan&quot;)\n  };\n  \n  // Create a List&lt;&gt;. Each element will be the Map&lt;&gt; of a soccer, lacrosser, etc \n  var list = new ArrayList&lt;Map&lt;String, String&gt;&gt; ();\n  \n  // Create a map for each &quot;soccer&quot; and add it to the common list\n  for (var s : soccers)  \n    list.add (s.getCommon());\n  \n  // Create a map for each &quot;lacrosser&quot; and add it to the common list\n  for (var l : lacrossers)  \n    list.add (l.getCommon());\n  \n  // Dump the list\n  for (var element : list) {\n    for (var entry : element.entrySet())\n      System.out.println (entry.getKey() + &quot;: &quot; + entry.getValue());\n    System.out.println ();\n  }\n}\n\n</code></pre>\n<p>The output is:</p>\n<blockquote>\n<p>coach: John Smith<br>\nplayer: Mike</p>\n<p>coach: John Smith<br>\nplayer: Peter</p>\n<p>coach: Alan Jones<br>\nplayer: Charly</p>\n<p>coach: We don't need one!<br>\nplayer: Mary</p>\n<p>coach: We don't need one!<br>\nplayer: Susan</p>\n</blockquote>\n"}],"owner":{"account_id":20828322,"reputation":119,"user_id":15298241,"display_name":"JustThatGuy93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676644753,"creation_date":1676584651,"question_id":75478320,"body_markdown":"So I&#39;ve got two object that are entirely different excluding the fact they have some common fields and I&#39;m trying to cut down my code by using a function that would only reference these common fields. \r\n\r\nFor example, one class is called Soccer.\r\nSoccer has these fields: \r\n-Player\r\n-BallCnt\r\n-Team\r\n-Coach\r\n-Time\r\n-Shoes\r\n\r\nNext is Lacrosse having these fields:\r\n-Player\r\n-Team\r\n-Rules\r\n-Coach\r\n-Time\r\n\r\nI&#39;m trying to make a function that would take both sports but would only reference the fields in common so it can just be referenced with ```map += getCommon(map, soccer);``` I.e.\r\n```\r\npublic Map&lt;String, String&gt; getCommon(Map&lt;S, S&gt; map, Object o){\r\n    map.put(&quot;coach&quot;, o.getCoach());\r\n    map.put(&quot;player&quot;, o.getPlayer());\r\n    etc...\r\n    return map;\r\n}\r\n```\r\n\r\nThis way if I add another class in the future it can still share the common fields. My first thought was using a generic for the second function but those are iffy for me.","title":"Pass Different Parameter Types to One Function that Share Functions","body":"<p>So I've got two object that are entirely different excluding the fact they have some common fields and I'm trying to cut down my code by using a function that would only reference these common fields.</p>\n<p>For example, one class is called Soccer.\nSoccer has these fields:\n-Player\n-BallCnt\n-Team\n-Coach\n-Time\n-Shoes</p>\n<p>Next is Lacrosse having these fields:\n-Player\n-Team\n-Rules\n-Coach\n-Time</p>\n<p>I'm trying to make a function that would take both sports but would only reference the fields in common so it can just be referenced with <code>map += getCommon(map, soccer);</code> I.e.</p>\n<pre><code>public Map&lt;String, String&gt; getCommon(Map&lt;S, S&gt; map, Object o){\n    map.put(&quot;coach&quot;, o.getCoach());\n    map.put(&quot;player&quot;, o.getPlayer());\n    etc...\n    return map;\n}\n</code></pre>\n<p>This way if I add another class in the future it can still share the common fields. My first thought was using a generic for the second function but those are iffy for me.</p>\n"},{"tags":["java","aspectj","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676644672,"creation_date":1370266160,"answer_id":16897928,"question_id":16897702,"body_markdown":"You need to read the documentation about [proxies here][1].\r\n\r\nBasically, because of the way proxies are generated, a instance method call within another instance method will not trigger an aspect (or proxy behavior).\r\n\r\nGiven:\r\n\r\n    class FooBar {\r\n        // advised method\r\n        public void foo() {\r\n            bar();\r\n        }\r\n    \r\n        // would&#39;ve been advised\r\n        public void bar() {\r\n            // ... do something\r\n        }\r\n    }\r\n\r\nSay an instance of `FooBar` was proxied, a call to `foo()` will trigger the aspect because from outside you have a reference to the proxy object. When you call `bar()` internally, you have access to `this` (equivalent to `this.bar()`) which is a reference to the target instance, the actual object, so there is no added behavior.\r\n\r\nThere are a few ways to solve this problem, but probably not the way you want. See the answer to [this][2] question.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs//current/reference/html/core.html#aop-understanding-aop-proxies\r\n  [2]: https://stackoverflow.com/questions/8039041/how-to-handle-internal-calls-on-spring-ejb-mockito-proxies","title":"Spring AOP advice is not getting called","body":"<p>You need to read the documentation about <a href=\"https://docs.spring.io/spring-framework/docs//current/reference/html/core.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">proxies here</a>.</p>\n<p>Basically, because of the way proxies are generated, a instance method call within another instance method will not trigger an aspect (or proxy behavior).</p>\n<p>Given:</p>\n<pre><code>class FooBar {\n    // advised method\n    public void foo() {\n        bar();\n    }\n\n    // would've been advised\n    public void bar() {\n        // ... do something\n    }\n}\n</code></pre>\n<p>Say an instance of <code>FooBar</code> was proxied, a call to <code>foo()</code> will trigger the aspect because from outside you have a reference to the proxy object. When you call <code>bar()</code> internally, you have access to <code>this</code> (equivalent to <code>this.bar()</code>) which is a reference to the target instance, the actual object, so there is no added behavior.</p>\n<p>There are a few ways to solve this problem, but probably not the way you want. See the answer to <a href=\"https://stackoverflow.com/questions/8039041/how-to-handle-internal-calls-on-spring-ejb-mockito-proxies\">this</a> question.</p>\n"},{"comments":[{"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"score":0,"creation_date":1370985698,"post_id":16897947,"comment_id":24658395,"body_markdown":"I had the habit when I used Spring of never having a public method call a public method in a DAO class. Since Spring AOP is limited to public methods, that means I can&#39;t be tempted to try for this behavior.  And if the AOP is used for logging, the log viewer doesn&#39;t need to see the input of the internal method.  Actually, I stuck with Service classes that called DAO classes, where Spring AOP added logging and retries to the service classes.","body":"I had the habit when I used Spring of never having a public method call a public method in a DAO class. Since Spring AOP is limited to public methods, that means I can&#39;t be tempted to try for this behavior.  And if the AOP is used for logging, the log viewer doesn&#39;t need to see the input of the internal method.  Actually, I stuck with Service classes that called DAO classes, where Spring AOP added logging and retries to the service classes."}],"tags":[],"owner":{"account_id":279913,"reputation":7622,"user_id":575338,"accept_rate":59,"display_name":"mavarazy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370266210,"creation_date":1370266210,"answer_id":16897947,"question_id":16897702,"body_markdown":"AOP would not normally work this way.\r\n\r\nAOP is added as an aspect through Proxies, to compiled class, so it does not have any effect on the internal class invocations.\r\n\r\n 1. When it&#39;s an outer cal, you are actually referring to some Proxy which intercepts your call and triggers appropriate AOP calls.\r\n 2. When it&#39;s internal cal, inside the class, it is a direct call, without any Proxy involved.\r\n\r\nAs a solution you can do following:\r\n\r\n 1. Refactore service you are using, to exclude internal calls\r\n 2. Alter bytecode on Class loading, with your AOP functionality :)\r\n\r\n","title":"Spring AOP advice is not getting called","body":"<p>AOP would not normally work this way.</p>\n\n<p>AOP is added as an aspect through Proxies, to compiled class, so it does not have any effect on the internal class invocations.</p>\n\n<ol>\n<li>When it's an outer cal, you are actually referring to some Proxy which intercepts your call and triggers appropriate AOP calls.</li>\n<li>When it's internal cal, inside the class, it is a direct call, without any Proxy involved.</li>\n</ol>\n\n<p>As a solution you can do following:</p>\n\n<ol>\n<li>Refactore service you are using, to exclude internal calls</li>\n<li>Alter bytecode on Class loading, with your AOP functionality :)</li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user2463094"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370659479,"creation_date":1370611358,"answer_id":16985245,"question_id":16897702,"body_markdown":"If you want that your advice is called for getPOInvoice method when you are invoking from method getPDFStream(..), both in the same bean, you can&#39;t use a  proxy-based AOP, like Spring use by default. Instead you should use load time weaving(LTW) with AspectJ. \r\n\r\nhttp://static.springsource.org/spring/docs/3.2.2.RELEASE/spring-framework-reference/html/aop.html#aop-aj-ltw","title":"Spring AOP advice is not getting called","body":"<p>If you want that your advice is called for getPOInvoice method when you are invoking from method getPDFStream(..), both in the same bean, you can't use a  proxy-based AOP, like Spring use by default. Instead you should use load time weaving(LTW) with AspectJ. </p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.2.2.RELEASE/spring-framework-reference/html/aop.html#aop-aj-ltw\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.2.2.RELEASE/spring-framework-reference/html/aop.html#aop-aj-ltw</a></p>\n"}],"owner":{"account_id":2850697,"reputation":217,"user_id":2447983,"accept_rate":0,"display_name":"Rahul Kale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676644672,"creation_date":1370265524,"question_id":16897702,"body_markdown":"My advice is not getting called for method **getPOInvoice** method from this method, but if I call it separately then advice is getting called and **getPOInvoice** and **getPOInvoice** is declared in same class.\r\n\r\n\r\n    public StreamingOutput getPDFStream(String invoiceId, String versionNumber) throws TugnavException {\r\n    \r\n       final POInvoice poInv =  getPOInvoice(invoiceId, versionNumber);\r\n       ...\r\n    }\r\n\r\n\r\nMy advice is:\r\n\r\n    @AfterReturning(value=&quot;execution(* com.tugnav.service.facade.*.get*(..))&quot;, returning=&quot;doc&quot;)\r\n    \tpublic TugnavBaseDocument setupTimeCreatedString(TugnavBaseDocument doc){\r\n        ...\r\n    \r\n    }\r\n\r\nIf I call this method from another class then advice is getting called.\r\n\r\nWhy is it not getting called internally?\r\n\r\n","title":"Spring AOP advice is not getting called","body":"<p>My advice is not getting called for method <strong>getPOInvoice</strong> method from this method, but if I call it separately then advice is getting called and <strong>getPOInvoice</strong> and <strong>getPOInvoice</strong> is declared in same class.</p>\n\n<pre><code>public StreamingOutput getPDFStream(String invoiceId, String versionNumber) throws TugnavException {\n\n   final POInvoice poInv =  getPOInvoice(invoiceId, versionNumber);\n   ...\n}\n</code></pre>\n\n<p>My advice is:</p>\n\n<pre><code>@AfterReturning(value=\"execution(* com.tugnav.service.facade.*.get*(..))\", returning=\"doc\")\n    public TugnavBaseDocument setupTimeCreatedString(TugnavBaseDocument doc){\n    ...\n\n}\n</code></pre>\n\n<p>If I call this method from another class then advice is getting called.</p>\n\n<p>Why is it not getting called internally?</p>\n"},{"tags":["java","spring-boot","themes","vaadin-flow","hilla"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1676632541,"post_id":75483140,"comment_id":133180897,"body_markdown":"According to this thread on vaadin forums -&gt; [Change programmatically the Theming of the whole Application](https://vaadin.com/forum/thread/17125463/change-programmatically-the-theming-of-the-whole-application), a good starting point is using [UI.setTheme()](https://vaadin.com/download/release/8.4/8.4.3/docs/api/com/vaadin/ui/UI.html#setTheme-java.lang.String-). I think it&#39;s worth exploring.","body":"According to this thread on vaadin forums -&gt; <a href=\"https://vaadin.com/forum/thread/17125463/change-programmatically-the-theming-of-the-whole-application\" rel=\"nofollow noreferrer\">Change programmatically the Theming of the whole Application</a>, a good starting point is using <a href=\"https://vaadin.com/download/release/8.4/8.4.3/docs/api/com/vaadin/ui/UI.html#setTheme-java.lang.String-\" rel=\"nofollow noreferrer\">UI.setTheme()</a>. I think it&#39;s worth exploring."},{"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"score":0,"creation_date":1676635493,"post_id":75483140,"comment_id":133181705,"body_markdown":"Thank you, but at which point in the startup has this to be set?","body":"Thank you, but at which point in the startup has this to be set?"}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676637742,"creation_date":1676637742,"answer_id":75484447,"question_id":75483140,"body_markdown":"The theme is included in the optimized client-side bundle that is created as part of the production build.\r\n\r\nIf there are only small differences between your different theme variants, then you can include support for all of those variants in the same theme with CSS selectors for different classnames. You can then only change the classname at runtime while always using the same CSS content.\r\n\r\nThe other alternative is that you create separate builds for separate cases.","title":"How to set the the main theme at build or deploy time?","body":"<p>The theme is included in the optimized client-side bundle that is created as part of the production build.</p>\n<p>If there are only small differences between your different theme variants, then you can include support for all of those variants in the same theme with CSS selectors for different classnames. You can then only change the classname at runtime while always using the same CSS content.</p>\n<p>The other alternative is that you create separate builds for separate cases.</p>\n"}],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676644112,"creation_date":1676630189,"question_id":75483140,"body_markdown":"I look for way in Vaadin Flow &amp; Spring Boot to set the main theme at build time or via properties, but it is not working. Any ideas how it can be achieved?\r\n\r\n**Background**: I have an application which I like to have the same code but deployed on different domains with different theme.\r\n\r\nI tried to use a property from Spring Boot &quot;application.properties&quot; like &quot;theme=my-vaadin-app&quot;, but this seems not to be supported. So any other way to set the theme at build or deploy time?\r\n\r\n```java\r\n@SpringBootApplication\r\n@Theme(value = &quot;my-vaadin-app&quot;)  // the usual way\r\n@Theme(vaule = &quot;${thene}&quot;) // NOT Working\r\npublic class MyVaadinApplication  implements AppShellConfigurator {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n\tpublic static void main(String[] args) {\r\n        SpringApplication.run(MyVaadinApplication  .class, args);\r\n    }\r\n\r\n```\r\n","title":"How to set the the main theme at build or deploy time?","body":"<p>I look for way in Vaadin Flow &amp; Spring Boot to set the main theme at build time or via properties, but it is not working. Any ideas how it can be achieved?</p>\n<p><strong>Background</strong>: I have an application which I like to have the same code but deployed on different domains with different theme.</p>\n<p>I tried to use a property from Spring Boot &quot;application.properties&quot; like &quot;theme=my-vaadin-app&quot;, but this seems not to be supported. So any other way to set the theme at build or deploy time?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@Theme(value = &quot;my-vaadin-app&quot;)  // the usual way\n@Theme(vaule = &quot;${thene}&quot;) // NOT Working\npublic class MyVaadinApplication  implements AppShellConfigurator {\n\n    private static final long serialVersionUID = 1L;\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyVaadinApplication  .class, args);\n    }\n\n</code></pre>\n"},{"tags":["java","arrays","web-scraping","jsoup"],"comments":[{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":0,"creation_date":1676650395,"post_id":75485515,"comment_id":133186183,"body_markdown":"I looked at the page&#39;s source HTML.  The data you are looking for is not contained in it.  JSoup can work on the HTML but it cannot work on the JavaScript.  It&#39;s not going to be possible with JSoup.  Looking at the page load requests, I narrowed the creation of the table to https://www.nba.com/_next/static/chunks/6406.2ccdccd6e27a5966.js but I cannot make out where the data actually comes from.","body":"I looked at the page&#39;s source HTML.  The data you are looking for is not contained in it.  JSoup can work on the HTML but it cannot work on the JavaScript.  It&#39;s not going to be possible with JSoup.  Looking at the page load requests, I narrowed the creation of the table to <a href=\"https://www.nba.com/_next/static/chunks/6406.2ccdccd6e27a5966.js\" rel=\"nofollow noreferrer\">nba.com/_next/static/chunks/6406.2ccdccd6e27a5966.js</a> but I cannot make out where the data actually comes from."},{"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"score":1,"creation_date":1676650414,"post_id":75485515,"comment_id":133186188,"body_markdown":"Your question is likely a duplicate of [Page content is loaded with JavaScript and Jsoup doesn&#39;t see it](https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it)","body":"Your question is likely a duplicate of <a href=\"https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it\">Page content is loaded with JavaScript and Jsoup doesn&#39;t see it</a>"}],"owner":{"account_id":19242301,"reputation":49,"user_id":14062055,"display_name":"ReginaldRey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676897576,"answer_count":0,"score":0,"last_activity_date":1676643995,"creation_date":1676643995,"question_id":75485515,"body_markdown":"I&#39;m trying to build a web scraper for an NBA stats site for a school project, but for whatever reason it looks like when I convert the html link to a JSoup document the elements aren&#39;t loading into the array I&#39;ve set up to hold the data. Any idea what I&#39;m doing wrong? It&#39;s my first run with JSoup.\r\n\r\nCode is:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.nodes.Element;\r\n    import org.jsoup.select.Elements;\r\n    public class Comparison {\r\n    public void loadTeams() {\r\n    try {\r\n    \t\t\t\tArrayList&lt;Team&gt; NBA = new ArrayList&lt;Team&gt;(30);\r\n    \t\t\t\tString reference = &quot;https://www.nba.com/stats/teams/four-factors&quot;;\r\n    \t\t\t\tDocument nba = Jsoup.connect(reference).get();\t\t\t\r\n    \t\t\t\tElements team = nba.getElementsByAttributeValue(&quot;field&quot;, &quot;TEAM_NAME&quot;);\r\n    \t\t\t\tElements shooting = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;EFG_PCT&quot;);\r\n    \t\t\t\tElements turnovers = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;TM_TOV_PCT&quot;);\r\n    \t\t\t\tElements rebounds = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;OREB_PCT&quot;);\r\n    \t\t\t\tElements freethrows = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;FTA_RATE&quot;);\r\n    for (int i = 1; i &lt; team.size(); i++) {\r\n    \t\t\t\t\tString name = team.get(i).text();\r\n    double shootingScore = Double.parseDouble(shooting.get(i).text());\r\n    double turnoversScore = Double.parseDouble(turnovers.get(i).text());\t\r\n    double reboundsScore = Double.parseDouble(rebounds.get(i).text());\t\r\n    double freethrowsScore = Double.parseDouble(freethrows.get(i).text());\t\r\n    NBA.add(new Team(name, shootingScore, turnoversScore, reboundsScore, freethrowsScore));\r\n    \t\t\t\t}\r\n    //for testing//\r\n    for(int i=0; i&lt;NBA.size(); i++) {\r\n    \t\t\t    System.out.print(NBA.getClass());\r\n    \t\t\t}\r\n    \t\t}\r\n    catch (IOException e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAny advice would be great. Thanks!","title":"Jsoup - elements from document not populating an array","body":"<p>I'm trying to build a web scraper for an NBA stats site for a school project, but for whatever reason it looks like when I convert the html link to a JSoup document the elements aren't loading into the array I've set up to hold the data. Any idea what I'm doing wrong? It's my first run with JSoup.</p>\n<p>Code is:</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\npublic class Comparison {\npublic void loadTeams() {\ntry {\n                ArrayList&lt;Team&gt; NBA = new ArrayList&lt;Team&gt;(30);\n                String reference = &quot;https://www.nba.com/stats/teams/four-factors&quot;;\n                Document nba = Jsoup.connect(reference).get();          \n                Elements team = nba.getElementsByAttributeValue(&quot;field&quot;, &quot;TEAM_NAME&quot;);\n                Elements shooting = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;EFG_PCT&quot;);\n                Elements turnovers = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;TM_TOV_PCT&quot;);\n                Elements rebounds = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;OREB_PCT&quot;);\n                Elements freethrows = nba.getElementsByAttributeValue(&quot;field&quot; , &quot;FTA_RATE&quot;);\nfor (int i = 1; i &lt; team.size(); i++) {\n                    String name = team.get(i).text();\ndouble shootingScore = Double.parseDouble(shooting.get(i).text());\ndouble turnoversScore = Double.parseDouble(turnovers.get(i).text());    \ndouble reboundsScore = Double.parseDouble(rebounds.get(i).text());  \ndouble freethrowsScore = Double.parseDouble(freethrows.get(i).text());  \nNBA.add(new Team(name, shootingScore, turnoversScore, reboundsScore, freethrowsScore));\n                }\n//for testing//\nfor(int i=0; i&lt;NBA.size(); i++) {\n                System.out.print(NBA.getClass());\n            }\n        }\ncatch (IOException e)\n        {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Any advice would be great. Thanks!</p>\n"},{"tags":["java","spring-boot","properties"],"comments":[{"owner":{"account_id":27811565,"reputation":11,"user_id":21233858,"display_name":"bardia dorry"},"score":0,"creation_date":1676640288,"post_id":75484555,"comment_id":133183111,"body_markdown":"You can use *@Value* or *appContext* : https://stackoverflow.com/a/29744955/21233858","body":"You can use <i>@Value</i> or <i>appContext</i> : <a href=\"https://stackoverflow.com/a/29744955/21233858\">stackoverflow.com/a/29744955/21233858</a>"}],"answers":[{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676639906,"creation_date":1676639906,"answer_id":75484819,"question_id":75484555,"body_markdown":"Unfortunately I do not know what class the `config` object is instatiated from which makes it hard to understand what the `properties.getProperty()` method call is doing. Therefore, I&#39;ll give you a a more general answer. As you are using Spring, you basically have two very elegant solutions to retrieve data from your application property files. If you just need a single value (as in your example the `url.up` field), then you would typically directly *inject* that value into the class that needs this data as in the following short Kotlin snippet (in java this would be very similar, just look up the `@Value` annotation on the internet).\r\n\r\n    @Component\r\n    class PropertyPrinter(\r\n        @Value(&quot;\\${url.up}&quot;) private val url: String\r\n    ) {\r\n        @PostConstruct\r\n        fun postConstruct() {\r\n            println(&quot;URL is: $url&quot;)\r\n        }\r\n    } \r\n\r\nThe other way would be to create a dedicated config class that hold a bunch logically connected fields and add the `@ConfigurationProperties` annotation. See [here][1] for a more in depth explanation.\r\n\r\n  [1]: https://www.baeldung.com/configuration-properties-in-spring-boot","title":"How to extract the url from application.properties?","body":"<p>Unfortunately I do not know what class the <code>config</code> object is instatiated from which makes it hard to understand what the <code>properties.getProperty()</code> method call is doing. Therefore, I'll give you a a more general answer. As you are using Spring, you basically have two very elegant solutions to retrieve data from your application property files. If you just need a single value (as in your example the <code>url.up</code> field), then you would typically directly <em>inject</em> that value into the class that needs this data as in the following short Kotlin snippet (in java this would be very similar, just look up the <code>@Value</code> annotation on the internet).</p>\n<pre><code>@Component\nclass PropertyPrinter(\n    @Value(&quot;\\${url.up}&quot;) private val url: String\n) {\n    @PostConstruct\n    fun postConstruct() {\n        println(&quot;URL is: $url&quot;)\n    }\n} \n</code></pre>\n<p>The other way would be to create a dedicated config class that hold a bunch logically connected fields and add the <code>@ConfigurationProperties</code> annotation. See <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">here</a> for a more in depth explanation.</p>\n"},{"comments":[{"owner":{"account_id":26157618,"reputation":1,"user_id":19844671,"display_name":"username1234565432"},"score":1,"creation_date":1676640264,"post_id":75484821,"comment_id":133183107,"body_markdown":"I just get null and this error\n\njava.lang.IllegalArgumentException: URI is not absolute","body":"I just get null and this error  java.lang.IllegalArgumentException: URI is not absolute"},{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":1,"creation_date":1677015244,"post_id":75484821,"comment_id":133253217,"body_markdown":"See my [Minimal @Value test in Spring](https://stackoverflow.com/q/75524099).","body":"See my <a href=\"https://stackoverflow.com/q/75524099\">Minimal @Value test in Spring</a>."}],"tags":[],"owner":{"account_id":6290186,"reputation":766,"user_id":4888150,"display_name":"Mustafa &#199;il"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676639927,"creation_date":1676639927,"answer_id":75484821,"question_id":75484555,"body_markdown":"You should use `@Value` annotation. For example:\r\n\r\n    @Value(&quot;${url}&quot;)\r\n    private String url;\r\n\r\nThe url variable holds `http://localhost:8080/upload`.","title":"How to extract the url from application.properties?","body":"<p>You should use <code>@Value</code> annotation. For example:</p>\n<pre><code>@Value(&quot;${url}&quot;)\nprivate String url;\n</code></pre>\n<p>The url variable holds <code>http://localhost:8080/upload</code>.</p>\n"},{"comments":[{"owner":{"account_id":26157618,"reputation":1,"user_id":19844671,"display_name":"username1234565432"},"score":0,"creation_date":1676640548,"post_id":75484900,"comment_id":133183201,"body_markdown":"I get null and this error java.lang.IllegalArgumentException: URI is not absolute if I use: ` @Value(&quot;${url}&quot;)\n    String API;`","body":"I get null and this error java.lang.IllegalArgumentException: URI is not absolute if I use: ` @Value(&quot;${url}&quot;)     String API;`"},{"owner":{"account_id":27811565,"reputation":11,"user_id":21233858,"display_name":"bardia dorry"},"score":0,"creation_date":1676804200,"post_id":75484900,"comment_id":133207564,"body_markdown":"your variable is named &quot;url.up&quot; not &quot;url&quot;. becarefull of that. and the text after = is your value","body":"your variable is named &quot;url.up&quot; not &quot;url&quot;. becarefull of that. and the text after = is your value"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676987697,"post_id":75484900,"comment_id":133244598,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75484900/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27811565,"reputation":11,"user_id":21233858,"display_name":"bardia dorry"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676640442,"creation_date":1676640408,"answer_id":75484900,"question_id":75484555,"body_markdown":"You should use `@Value` or `appContext`:\r\n\r\nhttps://stackoverflow.com/a/29744955/21233858","title":"How to extract the url from application.properties?","body":"<p>You should use <code>@Value</code> or <code>appContext</code>:</p>\n<p><a href=\"https://stackoverflow.com/a/29744955/21233858\">https://stackoverflow.com/a/29744955/21233858</a></p>\n"},{"tags":[],"owner":{"account_id":18135565,"reputation":21,"user_id":13190150,"display_name":"Ahmed Eldeeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676643740,"creation_date":1676643740,"answer_id":75485467,"question_id":75484555,"body_markdown":"U can use **@Value** in your class\r\nin your property file U can define \r\n\r\n    url.up=http://localhost:8080/upload\r\n\r\nIn Your class \r\n\r\n    @Value(&quot;${url.up}&quot;)\r\n    private String url;\r\n\r\nthen U can access the value using variable url\r\n\r\n","title":"How to extract the url from application.properties?","body":"<p>U can use <strong>@Value</strong> in your class\nin your property file U can define</p>\n<pre><code>url.up=http://localhost:8080/upload\n</code></pre>\n<p>In Your class</p>\n<pre><code>@Value(&quot;${url.up}&quot;)\nprivate String url;\n</code></pre>\n<p>then U can access the value using variable url</p>\n"}],"owner":{"account_id":26157618,"reputation":1,"user_id":19844671,"display_name":"username1234565432"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1676643740,"creation_date":1676638310,"question_id":75484555,"body_markdown":"I have this `application.properties`:\r\n\r\n```lang-properties\r\nurl.up=${url:http://localhost:8080/upload}\r\n```\r\n\r\nAnd I want to extract the url `&quot;http://localhost:8080/upload&quot;`. How can I extract it?\r\n\r\n\r\n\r\n\r\nI tried something like this, but the url is null:\r\n\r\n```java\r\nString url = config.getPropertyValue(&quot;url&quot;);\r\n```\r\n\r\nWhere `getPropertyValue`:\r\n\r\n```java\r\npublic String getPropertyValue(String propertyKey) {\r\n    return properties.getProperty(propertyKey);\r\n}\r\n```","title":"How to extract the url from application.properties?","body":"<p>I have this <code>application.properties</code>:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>url.up=${url:http://localhost:8080/upload}\n</code></pre>\n<p>And I want to extract the url <code>&quot;http://localhost:8080/upload&quot;</code>. How can I extract it?</p>\n<p>I tried something like this, but the url is null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String url = config.getPropertyValue(&quot;url&quot;);\n</code></pre>\n<p>Where <code>getPropertyValue</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getPropertyValue(String propertyKey) {\n    return properties.getProperty(propertyKey);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1676633530,"post_id":75483528,"comment_id":133181148,"body_markdown":"The easiest way is to update your java version. Java 8 is end-of-life since march 2022.","body":"The easiest way is to update your java version. Java 8 is end-of-life since march 2022."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676632634,"post_id":75483559,"comment_id":133180915,"body_markdown":"Specifically, the OP needs TestNG 7.5 or earlier; see https://testng.org/doc/ and search for &quot;Requirements&quot;.","body":"Specifically, the OP needs TestNG 7.5 or earlier; see <a href=\"https://testng.org/doc/\" rel=\"nofollow noreferrer\">testng.org/doc</a> and search for &quot;Requirements&quot;."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676632408,"creation_date":1676632408,"answer_id":75483559,"question_id":75483528,"body_markdown":"Your problem is that the version of `org/testng/annotations/Test` you are using was compiled with Java 11.\r\n\r\nYou&#39;ll have to see if there is an older version that is compatible with Java 8.","title":"Test compiled by a more recent version of the Java Runtime (class file version 55.0),this version Java Runtimerecognizesclass file versions up to 52.0","body":"<p>Your problem is that the version of <code>org/testng/annotations/Test</code> you are using was compiled with Java 11.</p>\n<p>You'll have to see if there is an older version that is compatible with Java 8.</p>\n"}],"owner":{"account_id":27811009,"reputation":1,"user_id":21233416,"display_name":"Soumya s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1676632734,"answer_count":1,"score":-3,"last_activity_date":1676643595,"creation_date":1676632235,"question_id":75483528,"body_markdown":"There was an error in the forked process\r\n[ERROR] org/testng/annotations/Test has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nKindly provide the solution.\r\n\r\nHave tried changing the compiler level to 1.8,still facing same issue.\r\nI&#39;m using Java 8.","title":"Test compiled by a more recent version of the Java Runtime (class file version 55.0),this version Java Runtimerecognizesclass file versions up to 52.0","body":"<p>There was an error in the forked process\n[ERROR] org/testng/annotations/Test has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<p>Kindly provide the solution.</p>\n<p>Have tried changing the compiler level to 1.8,still facing same issue.\nI'm using Java 8.</p>\n"},{"tags":["java","testing","junit"],"comments":[{"owner":{"account_id":16865861,"reputation":372,"user_id":12195587,"display_name":"Fuzail"},"score":1,"creation_date":1676634081,"post_id":75483820,"comment_id":133181316,"body_markdown":"Test classes belong to src/test/java in a java test project structure, not the target folder. Look at this [link](https://stackoverflow.com/questions/210567/package-structure-for-a-java-project)","body":"Test classes belong to src/test/java in a java test project structure, not the target folder. Look at this <a href=\"https://stackoverflow.com/questions/210567/package-structure-for-a-java-project\">link</a>"},{"owner":{"account_id":24706295,"reputation":13,"user_id":18597074,"display_name":"Jo&#227;o Vieira"},"score":0,"creation_date":1676634183,"post_id":75483820,"comment_id":133181344,"body_markdown":"should I create a test/java folder inside src and put there my test class?","body":"should I create a test/java folder inside src and put there my test class?"},{"owner":{"account_id":16865861,"reputation":372,"user_id":12195587,"display_name":"Fuzail"},"score":0,"creation_date":1676634466,"post_id":75483820,"comment_id":133181423,"body_markdown":"Yes, according to the common convention. Have a look at the link in my comment and also do a little research on project structures in Java.","body":"Yes, according to the common convention. Have a look at the link in my comment and also do a little research on project structures in Java."},{"owner":{"account_id":24706295,"reputation":13,"user_id":18597074,"display_name":"Jo&#227;o Vieira"},"score":0,"creation_date":1676634861,"post_id":75483820,"comment_id":133181545,"body_markdown":"thanks @Fuzail it is solved :) Though it was to use the target folder because it created a tests folder by default on generating the project.","body":"thanks @Fuzail it is solved :) Though it was to use the target folder because it created a tests folder by default on generating the project."}],"owner":{"account_id":24706295,"reputation":13,"user_id":18597074,"display_name":"Jo&#227;o Vieira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676643503,"creation_date":1676633897,"question_id":75483820,"body_markdown":"I&#39;m trying to make my test file run some tests, but my project is not recognizing the file as a test file.\r\n\r\nThis is my playerTests class and on the imports I receive this warning:\r\n\r\n&gt; playerTests.java is not on the classpath of project untitled, it will\r\n&gt; not be compiled to a .class file\r\n\r\n```java\r\npublic class playerTests {\r\n\r\n    @Test\r\n    public void testListPlayersByPortalsConquered() {\r\n        \r\n        Player player1 = new Player(&quot;Player 1&quot;, &quot;Team A&quot;, 80, 100, 5);\r\n        Player player2 = new Player(&quot;Player 2&quot;, &quot;Team B&quot;, 90, 100, 3);\r\n        Player player3 = new Player(&quot;Player 3&quot;, &quot;Team C&quot;, 70, 100, 7);\r\n        Player player4 = new Player(&quot;Player 4&quot;, &quot;Team A&quot;, 100, 100, 4);\r\n        Player player5 = new Player(&quot;Player 5&quot;, &quot;Team B&quot;, 60, 100, 2);\r\n        \r\n        player1.setPortalsConquered(10);\r\n        player2.setPortalsConquered(8);\r\n        player3.setPortalsConquered(15);\r\n        player4.setPortalsConquered(12);\r\n        player5.setPortalsConquered(5);\r\n        \r\n        ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n        players.add(player1);\r\n        players.add(player2);\r\n        players.add(player3);\r\n        players.add(player4);\r\n        players.add(player5);\r\n        \r\n        PlayerLoader playerLoader = new PlayerLoader();\r\n        playerLoader.players = players;\r\n        playerLoader.listPlayersByPortalsConquered();\r\n        \r\n        String expectedOutput = &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               | \\033[1m\\033[31mPlayers ordered by portals\\033[0m     |\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               | Player: Player 3\\n&quot;\r\n                + &quot;               | Portals Conquered: 15\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               | Player: Player 4\\n&quot;\r\n                + &quot;               | Portals Conquered: 12\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               | Player: Player 1\\n&quot;\r\n                + &quot;               | Portals Conquered: 10\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               | Player: Player 2\\n&quot;\r\n                + &quot;               | Portals Conquered: 8\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;\r\n                + &quot;               | Player: Player 5\\n&quot;\r\n                + &quot;               | Portals Conquered: 5\\n&quot;\r\n                + &quot;               ----------------------------------\\n&quot;;\r\n\r\n        String tempFile = &quot;temp.txt&quot;;\r\n        try {\r\n            FileWriter fw = new FileWriter(tempFile);\r\n            playerLoader.listPlayersByPortalsConquered();\r\n            fw.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            String output = new String(Files.readAllBytes(Paths.get(tempFile)));\r\n            assertEquals(expectedOutput, output);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[![This is the path of my test class][1]][1]\r\n\r\n\r\n[![Doesn&#39;t find the test file][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fj9Yj.png\r\n  [2]: https://i.stack.imgur.com/nh4fd.png","title":"Cannot find test class in java using JUnit (playerTests.java is not on the classpath of project untitled, it will not be compiled to a .class file)","body":"<p>I'm trying to make my test file run some tests, but my project is not recognizing the file as a test file.</p>\n<p>This is my playerTests class and on the imports I receive this warning:</p>\n<blockquote>\n<p>playerTests.java is not on the classpath of project untitled, it will\nnot be compiled to a .class file</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class playerTests {\n\n    @Test\n    public void testListPlayersByPortalsConquered() {\n        \n        Player player1 = new Player(&quot;Player 1&quot;, &quot;Team A&quot;, 80, 100, 5);\n        Player player2 = new Player(&quot;Player 2&quot;, &quot;Team B&quot;, 90, 100, 3);\n        Player player3 = new Player(&quot;Player 3&quot;, &quot;Team C&quot;, 70, 100, 7);\n        Player player4 = new Player(&quot;Player 4&quot;, &quot;Team A&quot;, 100, 100, 4);\n        Player player5 = new Player(&quot;Player 5&quot;, &quot;Team B&quot;, 60, 100, 2);\n        \n        player1.setPortalsConquered(10);\n        player2.setPortalsConquered(8);\n        player3.setPortalsConquered(15);\n        player4.setPortalsConquered(12);\n        player5.setPortalsConquered(5);\n        \n        ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\n        players.add(player1);\n        players.add(player2);\n        players.add(player3);\n        players.add(player4);\n        players.add(player5);\n        \n        PlayerLoader playerLoader = new PlayerLoader();\n        playerLoader.players = players;\n        playerLoader.listPlayersByPortalsConquered();\n        \n        String expectedOutput = &quot;               ----------------------------------\\n&quot;\n                + &quot;               | \\033[1m\\033[31mPlayers ordered by portals\\033[0m     |\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               | Player: Player 3\\n&quot;\n                + &quot;               | Portals Conquered: 15\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               | Player: Player 4\\n&quot;\n                + &quot;               | Portals Conquered: 12\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               | Player: Player 1\\n&quot;\n                + &quot;               | Portals Conquered: 10\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               | Player: Player 2\\n&quot;\n                + &quot;               | Portals Conquered: 8\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;\n                + &quot;               | Player: Player 5\\n&quot;\n                + &quot;               | Portals Conquered: 5\\n&quot;\n                + &quot;               ----------------------------------\\n&quot;;\n\n        String tempFile = &quot;temp.txt&quot;;\n        try {\n            FileWriter fw = new FileWriter(tempFile);\n            playerLoader.listPlayersByPortalsConquered();\n            fw.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            String output = new String(Files.readAllBytes(Paths.get(tempFile)));\n            assertEquals(expectedOutput, output);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fj9Yj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fj9Yj.png\" alt=\"This is the path of my test class\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nh4fd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nh4fd.png\" alt=\"Doesn't find the test file\" /></a></p>\n"},{"tags":["java","stringbuilder"],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676568403,"creation_date":1676568403,"answer_id":75475877,"question_id":75475199,"body_markdown":"There&#39;s a function commonly used in SQL that returns the first non-null parameter called &quot;coalesce&quot;.  You could write a Java equivalent of that.\r\n\r\n    Object coalesce(Object... objects) {\r\n        for (Object obj : objects) {\r\n            if(obj != null) return obj;\r\n        }\r\n        return null;\r\n    }\r\n    ... \r\n    Provider firstNonNullTemplate=(Provider) coalesce(template.getProvider1(), template.getProvider2(), template.getProvider3());\r\n\r\n    ","title":"Operators in a table","body":"<p>There's a function commonly used in SQL that returns the first non-null parameter called &quot;coalesce&quot;.  You could write a Java equivalent of that.</p>\n<pre><code>Object coalesce(Object... objects) {\n    for (Object obj : objects) {\n        if(obj != null) return obj;\n    }\n    return null;\n}\n... \nProvider firstNonNullTemplate=(Provider) coalesce(template.getProvider1(), template.getProvider2(), template.getProvider3());\n</code></pre>\n"}],"owner":{"account_id":21758700,"reputation":9,"user_id":16063619,"display_name":"KeceyManis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676643187,"creation_date":1676564825,"question_id":75475199,"body_markdown":"There are 7 rows of output for table, how can I modify this so row 6 displays either of the three providers.\r\n\r\nI tried something like this :\r\n\r\n    template.getProvider2() != null || template.getProvider3() != null ||\r\n    template.getProvider1() != null ? \r\n    template.getProvider2().getBusinessUnit(): &quot;&quot; || \r\n    template.getProvider3().getBusinessUnit(): &quot;&quot; || \r\n    template.getProvider3().getBusinessUnit(): &quot;&quot;,\r\n\r\nwhich gives me an error of StringBuilder not accepting the OR operator, \r\n I&#39;d appreciate any help on this.\r\n\r\nThanks\r\n\r\n\r\nHere is my code:\r\n\r\n    public GetEmailTemplatesResponse getEmailTemplates() throws Exception {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            String tableRow = &quot;&lt;tr&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&quot;;\r\n            Map&lt;String, EmailTemplate&gt; templates = templateRedisCacheReader.getTemplatesByCacheType(CacheType.EMAIL_TEMPLATE);\r\n            templates.values()\r\n                    .forEach(template -&gt; stringBuilder.append(String.format(tableRow,\r\n                            template.getTemplateId(),\r\n                            template.getProvider1() != null ? template.getProvider1().getId() : &quot;&quot;,\r\n                            template.getProvider2() != null ? template.getProvider2().getId() : &quot;&quot;,\r\n                            template.getProvider3() != null ? template.getProvider3().getId() : &quot;&quot;,\r\n                            template.getEnv(),\r\n                            template.getProvider2() != null ? template.getProvider2().getBusinessUnit(): &quot;&quot;,  // &lt;--\r\n                            template.getPriority()))\r\n                    );\r\n\r\n\r\n\r\nI tried to check if all the providers are null and if one of them is not null , then display bussiness unit for that provider","title":"Operators in a table","body":"<p>There are 7 rows of output for table, how can I modify this so row 6 displays either of the three providers.</p>\n<p>I tried something like this :</p>\n<pre><code>template.getProvider2() != null || template.getProvider3() != null ||\ntemplate.getProvider1() != null ? \ntemplate.getProvider2().getBusinessUnit(): &quot;&quot; || \ntemplate.getProvider3().getBusinessUnit(): &quot;&quot; || \ntemplate.getProvider3().getBusinessUnit(): &quot;&quot;,\n</code></pre>\n<p>which gives me an error of StringBuilder not accepting the OR operator,\nI'd appreciate any help on this.</p>\n<p>Thanks</p>\n<p>Here is my code:</p>\n<pre><code>public GetEmailTemplatesResponse getEmailTemplates() throws Exception {\n        StringBuilder stringBuilder = new StringBuilder();\n        String tableRow = &quot;&lt;tr&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;&quot;;\n        Map&lt;String, EmailTemplate&gt; templates = templateRedisCacheReader.getTemplatesByCacheType(CacheType.EMAIL_TEMPLATE);\n        templates.values()\n                .forEach(template -&gt; stringBuilder.append(String.format(tableRow,\n                        template.getTemplateId(),\n                        template.getProvider1() != null ? template.getProvider1().getId() : &quot;&quot;,\n                        template.getProvider2() != null ? template.getProvider2().getId() : &quot;&quot;,\n                        template.getProvider3() != null ? template.getProvider3().getId() : &quot;&quot;,\n                        template.getEnv(),\n                        template.getProvider2() != null ? template.getProvider2().getBusinessUnit(): &quot;&quot;,  // &lt;--\n                        template.getPriority()))\n                );\n</code></pre>\n<p>I tried to check if all the providers are null and if one of them is not null , then display bussiness unit for that provider</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":1845078,"reputation":11,"user_id":1673585,"display_name":"nd03"},"score":0,"creation_date":1676580184,"post_id":75475277,"comment_id":133171064,"body_markdown":"Hi @Bill! Thanks for the response, however even with this approach it&#39;s the same result as before. A `Person` never gets an excludedBy list populated, just exclusions. Definitely will be refactoring into API models once this is working!","body":"Hi @Bill! Thanks for the response, however even with this approach it&#39;s the same result as before. A <code>Person</code> never gets an excludedBy list populated, just exclusions. Definitely will be refactoring into API models once this is working!"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676581300,"post_id":75475277,"comment_id":133171322,"body_markdown":"What was I thinking :-) It is a ManyToMany releationship. The `exclusions` table is a 2 way join table. I&#39;ve updated my answer.","body":"What was I thinking :-) It is a ManyToMany releationship. The <code>exclusions</code> table is a 2 way join table. I&#39;ve updated my answer."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676581290,"creation_date":1676565151,"answer_id":75475277,"question_id":75474788,"body_markdown":"1 - An `@Id` is by default not `nullable`, not required:\r\n\r\n    @Column(nullable = false)\r\n\r\n2 - There is no need for an `@Id` in this class. Both sides of the exclusion are together unique. Not needed:\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    Long id;\r\n\r\n3 - An &quot;Exclusion&quot; requires both an excludedBy and an excluded, give them names that match and they are your `@Id`. It is a 2 way ManyToMany relationship.\r\n\r\n    @Entity\r\n    @Table(name = &quot;exclusions&quot;)\r\n    public class Exclusion {\r\n        @Id\r\n        @ManyToMany // An ID so not optional, so no need for (optional = false)\r\n        Person excludedBy;\r\n    \r\n        @Id\r\n        @ManyToMany // An ID so not optional, so no need for (optional = false)\r\n        Person excluded;\r\n    }\r\n\r\nEntity `Exclusion` always knows both sides of the story.\r\n\r\n\r\n    @ManyToMany(mappedBy = &quot;excludedBy&quot;, cascade = { CascadeType.ALL })\r\n    List&lt;Exclusion&gt; excluded = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany(mappedBy = &quot;excluded&quot;, cascade = { CascadeType.ALL })\r\n    List&lt;Exclusion&gt; excludedBy = new ArrayList&lt;&gt;();\r\n\r\nTip: JSON DTOs shouldn&#39;t be defined in your JPA DTOs, otherwise you can&#39;t change your **internal** data model independently of your **external** API model.","title":"Hibernate Multiple @OneToMany bound to same entity type","body":"<p>1 - An <code>@Id</code> is by default not <code>nullable</code>, not required:</p>\n<pre><code>@Column(nullable = false)\n</code></pre>\n<p>2 - There is no need for an <code>@Id</code> in this class. Both sides of the exclusion are together unique. Not needed:</p>\n<pre><code>@Id\n@GeneratedValue\nLong id;\n</code></pre>\n<p>3 - An &quot;Exclusion&quot; requires both an excludedBy and an excluded, give them names that match and they are your <code>@Id</code>. It is a 2 way ManyToMany relationship.</p>\n<pre><code>@Entity\n@Table(name = &quot;exclusions&quot;)\npublic class Exclusion {\n    @Id\n    @ManyToMany // An ID so not optional, so no need for (optional = false)\n    Person excludedBy;\n\n    @Id\n    @ManyToMany // An ID so not optional, so no need for (optional = false)\n    Person excluded;\n}\n</code></pre>\n<p>Entity <code>Exclusion</code> always knows both sides of the story.</p>\n<pre><code>@ManyToMany(mappedBy = &quot;excludedBy&quot;, cascade = { CascadeType.ALL })\nList&lt;Exclusion&gt; excluded = new ArrayList&lt;&gt;();\n\n@ManyToMany(mappedBy = &quot;excluded&quot;, cascade = { CascadeType.ALL })\nList&lt;Exclusion&gt; excludedBy = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Tip: JSON DTOs shouldn't be defined in your JPA DTOs, otherwise you can't change your <strong>internal</strong> data model independently of your <strong>external</strong> API model.</p>\n"},{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676620837,"creation_date":1676620837,"answer_id":75481568,"question_id":75474788,"body_markdown":"I had this problem in the past. Your key problem ist that your ORM Mapper hibernate does not know which of your database entries need to be assinged to `exclusions` and which are assiged to `excludedBy`. You need a **discriminator** and add the constraint in your select. I would propose a solution that looks something like this:\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;PRIMARY_KEX_IN_EXCLUSION_TABLE&quot;, referencedColumnName = &quot;id&quot;)\r\n    @Where(clause = &quot;is_excluded_by = 0&quot;)\r\n    private Set&lt;Exclusion&gt; exclusions; \r\n\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;PRIMARY_KEX_IN_EXCLUSION_TABLE&quot;, referencedColumnName = &quot;id&quot;)\r\n    @Where(clause = &quot;is_excluded_by = 1&quot;)\r\n    private Set&lt;Exclusion&gt; excludedBy; \r\n\r\nthe value `isExcludedBy` needs to be a database column, part of your Entity and set in your code manually. \r\n\r\nI think you also need to use `Set` instead of `List` when having multiple collections in one Entity. https://vladmihalcea.com/spring-data-jpa-multiplebagfetchexception/  ","title":"Hibernate Multiple @OneToMany bound to same entity type","body":"<p>I had this problem in the past. Your key problem ist that your ORM Mapper hibernate does not know which of your database entries need to be assinged to <code>exclusions</code> and which are assiged to <code>excludedBy</code>. You need a <strong>discriminator</strong> and add the constraint in your select. I would propose a solution that looks something like this:</p>\n<pre><code>@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;PRIMARY_KEX_IN_EXCLUSION_TABLE&quot;, referencedColumnName = &quot;id&quot;)\n@Where(clause = &quot;is_excluded_by = 0&quot;)\nprivate Set&lt;Exclusion&gt; exclusions; \n\n@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;PRIMARY_KEX_IN_EXCLUSION_TABLE&quot;, referencedColumnName = &quot;id&quot;)\n@Where(clause = &quot;is_excluded_by = 1&quot;)\nprivate Set&lt;Exclusion&gt; excludedBy; \n</code></pre>\n<p>the value <code>isExcludedBy</code> needs to be a database column, part of your Entity and set in your code manually.</p>\n<p>I think you also need to use <code>Set</code> instead of <code>List</code> when having multiple collections in one Entity. <a href=\"https://vladmihalcea.com/spring-data-jpa-multiplebagfetchexception/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/spring-data-jpa-multiplebagfetchexception/</a></p>\n"}],"owner":{"account_id":1845078,"reputation":11,"user_id":1673585,"display_name":"nd03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676643163,"creation_date":1676562893,"question_id":75474788,"body_markdown":"I have yet another `@OneToMany` question. In this case, I&#39;m trying to model a person having a list of excluded people they shouldn&#39;t be able to send items to. This is a Spring Boot app using JPA. \r\n\r\nIn the code below, the `exclusions` list populates properly but the `excludedBy` List does not. Because of this, I believe that is causing the deletion of a Person that is excluded by another person to fail because the `Exclusion` in `excludedBy` is not mapped on the object properly. \r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;person&quot;)\r\npublic class Person {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(nullable = false)\r\n    Long id;\r\n\r\n    ...\r\n\r\n    @OneToMany(mappedBy = &quot;sender&quot;, cascade = { CascadeType.ALL })\r\n    List&lt;Exclusion&gt; exclusions = new ArrayList&lt;&gt;();\r\n\r\n    //This is not getting populated\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;receiver&quot;, cascade = { CascadeType.ALL })\r\n    List&lt;Exclusion&gt; excludedBy = new ArrayList&lt;&gt;();\r\n\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;exclusions&quot;)\r\npublic class Exclusion {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(nullable = false)\r\n    Long id;\r\n\r\n    @ManyToOne\r\n    @JsonIgnore\r\n    Person sender;\r\n\r\n    @ManyToOne\r\n    Person receiver;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nI would expect that this would have mapped the bidirectional relationship properly and as such the `excludedBy` List would be populated as well. \r\n\r\nAny wisdom on this matter would be great! ","title":"Hibernate Multiple @OneToMany bound to same entity type","body":"<p>I have yet another <code>@OneToMany</code> question. In this case, I'm trying to model a person having a list of excluded people they shouldn't be able to send items to. This is a Spring Boot app using JPA.</p>\n<p>In the code below, the <code>exclusions</code> list populates properly but the <code>excludedBy</code> List does not. Because of this, I believe that is causing the deletion of a Person that is excluded by another person to fail because the <code>Exclusion</code> in <code>excludedBy</code> is not mapped on the object properly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;person&quot;)\npublic class Person {\n\n    @Id\n    @GeneratedValue\n    @Column(nullable = false)\n    Long id;\n\n    ...\n\n    @OneToMany(mappedBy = &quot;sender&quot;, cascade = { CascadeType.ALL })\n    List&lt;Exclusion&gt; exclusions = new ArrayList&lt;&gt;();\n\n    //This is not getting populated\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;receiver&quot;, cascade = { CascadeType.ALL })\n    List&lt;Exclusion&gt; excludedBy = new ArrayList&lt;&gt;();\n\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;exclusions&quot;)\npublic class Exclusion {\n    @Id\n    @GeneratedValue\n    @Column(nullable = false)\n    Long id;\n\n    @ManyToOne\n    @JsonIgnore\n    Person sender;\n\n    @ManyToOne\n    Person receiver;\n\n    ...\n}\n</code></pre>\n<p>I would expect that this would have mapped the bidirectional relationship properly and as such the <code>excludedBy</code> List would be populated as well.</p>\n<p>Any wisdom on this matter would be great!</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1676670062,"post_id":75485095,"comment_id":133191357,"body_markdown":"you can also use mkdir on a File object... ex:   File file = new File(&quot;c:\\path_to\\folder\\timestamp\\&quot;);\n        if (!file.exists()) {\n            if (file.mkdir()) {\n                System.out.println(&quot;Directory is created!&quot;);\n            } else {\n                System.out.println(&quot;Failed to create directory!&quot;);\n            } }","body":"you can also use mkdir on a File object... ex:   File file = new File(&quot;c:\\path_to\\folder\\timestamp\\&quot;);         if (!file.exists()) {             if (file.mkdir()) {                 System.out.println(&quot;Directory is created!&quot;);             } else {                 System.out.println(&quot;Failed to create directory!&quot;);             } }"}],"tags":[],"owner":{"account_id":3317226,"reputation":2153,"user_id":2789300,"accept_rate":88,"display_name":"Alejandro Cumpa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676641617,"creation_date":1676641617,"answer_id":75485095,"question_id":75484954,"body_markdown":"You can create a directory with the `os`\r\n\r\n    import os\r\n      \r\n    directory = &quot;MyFolder&quot;\r\n    parent_dir = &quot;D:/Pycharm projects/&quot;\r\n    path = os.path.join(parent_dir, directory)      \r\n    os.mkdir(path)\r\n    print(&quot;Directory &#39;% s&#39; created&quot; % directory)\r\n\r\n\r\nSo, for your usecase should be something like this: \r\n\r\n\r\n\r\n    import os\r\n    parent_dir=&quot;C:\\\\Users\\\\Kiko Kikostov\\\\IdeaProjects\\\\AboutPagesBanerScreenSizes\\\\15inchScreenSize\\\\Asia\\\\&quot;;\r\n\r\n    // Take screenshot method\r\n    static void captureScreenshot(String fileName) throws IOException {\r\n    \r\n    // Take the screenshot and store as file format\r\n    File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n    \r\n    // Open the current date and time\r\n    String timestamp = new SimpleDateFormat(&quot;dd_MM_yyyy__hh_mm_ss&quot;).format(new Date());\r\n\r\n    // Assuming you want a folder with the timestamp\r\n    directory = timestamp;\r\n    path = os.path.join(parent_dir, directory)      \r\n    os.mkdir(path)\r\n    \r\n    //Copy the screenshot on the desire location with different name using current date and time\r\n    Cache.copyFile(scrFile, new File(directory + fileName + &quot; &quot; + timestamp + &quot;.png&quot;));\r\n    String st = scrFile.getAbsolutePath();\r\n    String str = scrFile.getParent();\r\n    scrFile = new File(str+&quot;/&quot;+ &quot;/&quot; + fileName);\r\n    \r\n","title":"Creating a new folder each time Selenium WebDriver takes a screenshot","body":"<p>You can create a directory with the <code>os</code></p>\n<pre><code>import os\n  \ndirectory = &quot;MyFolder&quot;\nparent_dir = &quot;D:/Pycharm projects/&quot;\npath = os.path.join(parent_dir, directory)      \nos.mkdir(path)\nprint(&quot;Directory '% s' created&quot; % directory)\n</code></pre>\n<p>So, for your usecase should be something like this:</p>\n<pre><code>import os\nparent_dir=&quot;C:\\\\Users\\\\Kiko Kikostov\\\\IdeaProjects\\\\AboutPagesBanerScreenSizes\\\\15inchScreenSize\\\\Asia\\\\&quot;;\n\n// Take screenshot method\nstatic void captureScreenshot(String fileName) throws IOException {\n\n// Take the screenshot and store as file format\nFile scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n\n// Open the current date and time\nString timestamp = new SimpleDateFormat(&quot;dd_MM_yyyy__hh_mm_ss&quot;).format(new Date());\n\n// Assuming you want a folder with the timestamp\ndirectory = timestamp;\npath = os.path.join(parent_dir, directory)      \nos.mkdir(path)\n\n//Copy the screenshot on the desire location with different name using current date and time\nCache.copyFile(scrFile, new File(directory + fileName + &quot; &quot; + timestamp + &quot;.png&quot;));\nString st = scrFile.getAbsolutePath();\nString str = scrFile.getParent();\nscrFile = new File(str+&quot;/&quot;+ &quot;/&quot; + fileName);\n</code></pre>\n"}],"owner":{"account_id":27793096,"reputation":9,"user_id":21219167,"display_name":"dejan kostov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676643144,"creation_date":1676640747,"question_id":75484954,"body_markdown":"```java\r\n// Take screenshot method\r\nstatic void captureScreenshot(String fileName) throws IOException {\r\n\r\n// Take the screenshot and store as file format\r\n    File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n\r\n// Open the current date and time\r\n    String timestamp = new SimpleDateFormat(&quot;dd_MM_yyyy__hh_mm_ss&quot;).format(new Date());\r\n\r\n//Copy the screenshot on the desire location with different name using current date and time\r\n    Cache.copyFile(scrFile, new File(&quot;C:\\\\Users\\\\Kiko Kikostov\\\\IdeaProjects\\\\AboutPagesBanerScreenSizes\\\\15inchScreenSize\\\\Asia\\\\&quot; + fileName + &quot; &quot; + timestamp + &quot;.png&quot;));\r\n    String st = scrFile.getAbsolutePath();\r\n    String str = scrFile.getParent();\r\n    scrFile = new File(str+&quot;/&quot;+ &quot;/&quot; + fileName);\r\n}\r\n```\r\n\r\nThis works fine for me but I want to implement that every time the test is run a new folder or subfolder is created inside the existing one.","title":"Creating a new folder each time Selenium WebDriver takes a screenshot","body":"<pre class=\"lang-java prettyprint-override\"><code>// Take screenshot method\nstatic void captureScreenshot(String fileName) throws IOException {\n\n// Take the screenshot and store as file format\n    File scrFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n\n// Open the current date and time\n    String timestamp = new SimpleDateFormat(&quot;dd_MM_yyyy__hh_mm_ss&quot;).format(new Date());\n\n//Copy the screenshot on the desire location with different name using current date and time\n    Cache.copyFile(scrFile, new File(&quot;C:\\\\Users\\\\Kiko Kikostov\\\\IdeaProjects\\\\AboutPagesBanerScreenSizes\\\\15inchScreenSize\\\\Asia\\\\&quot; + fileName + &quot; &quot; + timestamp + &quot;.png&quot;));\n    String st = scrFile.getAbsolutePath();\n    String str = scrFile.getParent();\n    scrFile = new File(str+&quot;/&quot;+ &quot;/&quot; + fileName);\n}\n</code></pre>\n<p>This works fine for me but I want to implement that every time the test is run a new folder or subfolder is created inside the existing one.</p>\n"},{"tags":["java","methods","parameters","overloading","default-parameters"],"comments":[{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":116,"creation_date":1274929091,"post_id":997482,"comment_id":2970414,"body_markdown":"No. However, the Builder pattern can help.","body":"No. However, the Builder pattern can help."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":6,"creation_date":1421075839,"post_id":997482,"comment_id":44209522,"body_markdown":"@Jatin With the Eclipse &quot;Change method signature&quot; refactoring you can add a parameter and provide a default value that existing invokers will use.","body":"@Jatin With the Eclipse &quot;Change method signature&quot; refactoring you can add a parameter and provide a default value that existing invokers will use."},{"owner":{"account_id":460664,"reputation":4043,"user_id":861902,"accept_rate":54,"display_name":"Jatin"},"score":2,"creation_date":1421235615,"post_id":997482,"comment_id":44279788,"body_markdown":"@ErwinBolwidt Thanks. I am using Android Studio, and it also has the option of refactoring the method and providing default values. Quite useful.","body":"@ErwinBolwidt Thanks. I am using Android Studio, and it also has the option of refactoring the method and providing default values. Quite useful."},{"owner":{"account_id":2727282,"reputation":1056,"user_id":2351981,"accept_rate":70,"display_name":"E A"},"score":0,"creation_date":1547147469,"post_id":997482,"comment_id":95102316,"body_markdown":"Use the static factory method!","body":"Use the static factory method!"},{"owner":{"account_id":6929274,"reputation":5258,"user_id":5319267,"display_name":"Mario Ishac"},"score":3,"creation_date":1548370168,"post_id":997482,"comment_id":95528026,"body_markdown":"@temporary_user_name `public MyParameterizedFunction(String param1, int param2)` is a constructor, not method, declaration.","body":"@temporary_user_name <code>public MyParameterizedFunction(String param1, int param2)</code> is a constructor, not method, declaration."}],"answers":[{"comments":[{"owner":{"account_id":20970,"reputation":11062,"user_id":50603,"display_name":"Trey"},"score":35,"creation_date":1245095184,"post_id":997489,"comment_id":807000,"body_markdown":"Is it so sad?  Doing so would introduce potentially ambiguous function signatures.","body":"Is it so sad?  Doing so would introduce potentially ambiguous function signatures."},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":81,"creation_date":1306242572,"post_id":997489,"comment_id":7087125,"body_markdown":"@Trey: languages with default parameters often ditch function overloading since it is then less compelling. So no ambiguity. Beside, Scala added the feature in 2.8, and somehow solved the ambiguity issue (since they kept the overloading for compatibility reasons).","body":"@Trey: languages with default parameters often ditch function overloading since it is then less compelling. So no ambiguity. Beside, Scala added the feature in 2.8, and somehow solved the ambiguity issue (since they kept the overloading for compatibility reasons)."},{"owner":{"account_id":120486,"reputation":248,"user_id":312957,"display_name":"Antony Booth"},"score":2,"creation_date":1384455504,"post_id":997489,"comment_id":29754105,"body_markdown":"I believe parameter defaults are bad practice and overloading is a much cleaner solution. You can even hide the default constructor and use static factory methods to return initialized instances. This is also useful for IOC, where you determine the implementation of the interface to return.\n\nIf you want to optionally assign a property, create a public property, or overload a constructor \n\nHaving another way to perform the same function does not make it better. It just makes the language more cryptic and is simply lazy programming when this *is* one of the reasons for function overloading.","body":"I believe parameter defaults are bad practice and overloading is a much cleaner solution. You can even hide the default constructor and use static factory methods to return initialized instances. This is also useful for IOC, where you determine the implementation of the interface to return.  If you want to optionally assign a property, create a public property, or overload a constructor   Having another way to perform the same function does not make it better. It just makes the language more cryptic and is simply lazy programming when this <i>is</i> one of the reasons for function overloading."},{"owner":{"account_id":330362,"reputation":13571,"user_id":654434,"accept_rate":77,"display_name":"FlavorScape"},"score":44,"creation_date":1385833414,"post_id":997489,"comment_id":30295407,"body_markdown":"I fail to see how parameter defaults prevent function overloading. C# for instance allows overrides and also allows for default initializes. Seems like arbitrary choice, not restriction is the reason.","body":"I fail to see how parameter defaults prevent function overloading. C# for instance allows overrides and also allows for default initializes. Seems like arbitrary choice, not restriction is the reason."},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":4,"creation_date":1476372101,"post_id":997489,"comment_id":67327255,"body_markdown":"Works in C# for many years now without problems, even combined with method overloading. Compiler shows a warning on conflicts and that&#39;s it. Just do something like writeToFile(String content, boolea append=false);","body":"Works in C# for many years now without problems, even combined with method overloading. Compiler shows a warning on conflicts and that&#39;s it. Just do something like writeToFile(String content, boolea append=false);"}],"tags":[],"owner":{"account_id":34019,"reputation":14592,"user_id":95699,"accept_rate":73,"display_name":"Rob H"},"comment_count":5,"down_vote_count":19,"up_vote_count":370,"is_accepted":false,"score":351,"last_activity_date":1245089116,"creation_date":1245089116,"answer_id":997489,"question_id":997482,"body_markdown":"Sadly, no.","title":"Does Java support default parameter values?","body":"<p>Sadly, no.</p>\n"},{"comments":[{"owner":{"display_name":"user177800"},"score":32,"creation_date":1450412864,"post_id":997529,"comment_id":56438555,"body_markdown":"this was in 2009, `static` anything is pretty much considered harmful in 2015. [Type safe fluent `Builder` instances that enforce complete and valid construction contracts are a much better solution now.](https://web.archive.org/web/20160106213259/http://www.vertigrated.com/blog/2015/08/fluent-builder-pattern-revisited/)","body":"this was in 2009, <code>static</code> anything is pretty much considered harmful in 2015. <a href=\"https://web.archive.org/web/20160106213259/http://www.vertigrated.com/blog/2015/08/fluent-builder-pattern-revisited/\" rel=\"nofollow noreferrer\">Type safe fluent <code>Builder</code> instances that enforce complete and valid construction contracts are a much better solution now.</a>"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":188,"creation_date":1453451885,"post_id":997529,"comment_id":57616181,"body_markdown":"@JarrodRoberson: Static factory methods are no more harmful than `new`. They are [used](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html#get-java.lang.String-java.lang.String...-) all the [time](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#of-int-int-int-int-int-) in new code. Builders for simple value objects are often the result of over-engineering.","body":"@JarrodRoberson: Static factory methods are no more harmful than <code>new</code>. They are <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html#get-java.lang.String-java.lang.String...-\" rel=\"nofollow noreferrer\">used</a> all the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#of-int-int-int-int-int-\" rel=\"nofollow noreferrer\">time</a> in new code. Builders for simple value objects are often the result of over-engineering."}],"tags":[],"owner":{"account_id":39930,"reputation":25721,"user_id":115432,"display_name":"Kathy Van Stone"},"comment_count":2,"down_vote_count":4,"up_vote_count":1208,"is_accepted":true,"score":1204,"last_activity_date":1664281190,"creation_date":1245089669,"answer_id":997529,"question_id":997482,"body_markdown":"No, the structure you found is how Java handles it, (that is, with overloading instead of default parameters).\r\n\r\nFor constructors, *[**See Effective Java: Programming Language Guide&#39;s**][1]* Item 1 tip (Consider static factory methods instead of constructors) \r\n\r\nIf the overloading is getting complicated. For other methods, renaming some cases or using a parameter object can help. \r\n\r\nThis is when you have enough complexity that differentiating is difficult. A definite case is where you have to differentiate using the order of parameters, not just number and type.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Joshua_Bloch#Bibliography\r\n","title":"Does Java support default parameter values?","body":"<p>No, the structure you found is how Java handles it, (that is, with overloading instead of default parameters).</p>\n<p>For constructors, <em><a href=\"https://en.wikipedia.org/wiki/Joshua_Bloch#Bibliography\" rel=\"noreferrer\"><strong>See Effective Java: Programming Language Guide's</strong></a></em> Item 1 tip (Consider static factory methods instead of constructors)</p>\n<p>If the overloading is getting complicated. For other methods, renaming some cases or using a parameter object can help.</p>\n<p>This is when you have enough complexity that differentiating is difficult. A definite case is where you have to differentiate using the order of parameters, not just number and type.</p>\n"},{"tags":[],"owner":{"account_id":18533,"reputation":3393,"user_id":42540,"accept_rate":78,"display_name":"Santosh Gokak"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1379092425,"creation_date":1245089809,"answer_id":997543,"question_id":997482,"body_markdown":"No. \r\n\r\nYou can achieve the same behavior by passing an Object which has smart defaults. But again it depends what your case is at hand.\r\n","title":"Does Java support default parameter values?","body":"<p>No. </p>\n\n<p>You can achieve the same behavior by passing an Object which has smart defaults. But again it depends what your case is at hand.</p>\n"},{"comments":[{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":30,"creation_date":1316349983,"post_id":997692,"comment_id":9026941,"body_markdown":"Not quite. The bitter truth is that the team was on a tight schedule and had no time for syntactic sugar. Why else would `const` and `goto` be reserved keywords which no implementation?\n—\nEspecially `const` is something I miss bitterly —&#160;`final` is no replacement and they knew it.\n—\nAnd if you made the *concious* decision to never implement `goto` you won&#39;t need to reserve the keyword.\n—\nAnd later in the Java Team cheated by making the Label based `break` and `continue` as powerful as a Pascal `goto`.","body":"Not quite. The bitter truth is that the team was on a tight schedule and had no time for syntactic sugar. Why else would <code>const</code> and <code>goto</code> be reserved keywords which no implementation? — Especially <code>const</code> is something I miss bitterly — <code>final</code> is no replacement and they knew it. — And if you made the <i>concious</i> decision to never implement <code>goto</code> you won&#39;t need to reserve the keyword. — And later in the Java Team cheated by making the Label based <code>break</code> and <code>continue</code> as powerful as a Pascal <code>goto</code>."},{"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"score":0,"creation_date":1378114057,"post_id":997692,"comment_id":27322623,"body_markdown":"&quot;Simple, Object-Oriented and Familiar&quot; was indeed a design goal - see http://www.oracle.com/technetwork/java/intro-141325.html","body":"&quot;Simple, Object-Oriented and Familiar&quot; was indeed a design goal - see <a href=\"http://www.oracle.com/technetwork/java/intro-141325.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/intro-141325.html</a>"},{"owner":{"display_name":"user2133061"},"score":1,"creation_date":1502207937,"post_id":997692,"comment_id":78105431,"body_markdown":"tomjen said: &quot;No. In general Java doesn&#39;t have much (any) syntactic sugar, since they tried to make a simple language&quot;. So you are saying that removing a lot of unnecessary features from C++ makes a Java a simple language, then tell me why Java does have variadic methods? Why does it have varargs? It is not needed if you can simply use an array of objects instead, am I right? So varargs can be removed from the language, because it is unnecessary. This will make Java more simple than what it is now. Am I right? Overloading also can be removed, because you have infinite names for each method.","body":"tomjen said: &quot;No. In general Java doesn&#39;t have much (any) syntactic sugar, since they tried to make a simple language&quot;. So you are saying that removing a lot of unnecessary features from C++ makes a Java a simple language, then tell me why Java does have variadic methods? Why does it have varargs? It is not needed if you can simply use an array of objects instead, am I right? So varargs can be removed from the language, because it is unnecessary. This will make Java more simple than what it is now. Am I right? Overloading also can be removed, because you have infinite names for each method."}],"tags":[],"owner":{"account_id":11041,"reputation":3789,"user_id":21133,"accept_rate":65,"display_name":"tomjen"},"comment_count":3,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1245091757,"creation_date":1245091757,"answer_id":997692,"question_id":997482,"body_markdown":"No. In general Java doesn&#39;t have much (any) syntactic sugar, since they tried to make a simple language.","title":"Does Java support default parameter values?","body":"<p>No. In general Java doesn't have much (any) syntactic sugar, since they tried to make a simple language.</p>\n"},{"comments":[{"owner":{"account_id":24394,"reputation":1415,"user_id":62018,"accept_rate":71,"display_name":"ivanceras"},"score":20,"creation_date":1360830728,"post_id":997883,"comment_id":20847479,"body_markdown":"Im curious though, why do we need a builder class when using the builder pattern. I was thinking of Student s1 = new Student().name(&quot;Spicolo&quot;).age(16).motto(&quot;Aloha, Mr Hand);","body":"Im curious though, why do we need a builder class when using the builder pattern. I was thinking of Student s1 = new Student().name(&quot;Spicolo&quot;).age(16).motto(&quot;Aloha, Mr Hand);"},{"owner":{"account_id":1273,"reputation":187678,"user_id":1694,"accept_rate":95,"display_name":"Eli Courtwright"},"score":68,"creation_date":1360866834,"post_id":997883,"comment_id":20866457,"body_markdown":"@ivanceras: It&#39;s relevant when classes have required fields, and you don&#39;t want to be able to instantiate those classes in an invalid state.  So if you just said `Student s1 = new Student().age(16);` then that would leave you with a Student without a name, which might be bad.  If it&#39;s not bad, then your solution is fine.","body":"@ivanceras: It&#39;s relevant when classes have required fields, and you don&#39;t want to be able to instantiate those classes in an invalid state.  So if you just said <code>Student s1 = new Student().age(16);</code> then that would leave you with a Student without a name, which might be bad.  If it&#39;s not bad, then your solution is fine."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":69,"creation_date":1361980956,"post_id":997883,"comment_id":21272252,"body_markdown":"@ivanceras: another reason is you might want your class to be immutable after construction, so you wouldn&#39;t want methods in it that change its values.","body":"@ivanceras: another reason is you might want your class to be immutable after construction, so you wouldn&#39;t want methods in it that change its values."},{"owner":{"account_id":3965281,"reputation":2517,"user_id":3271430,"accept_rate":100,"display_name":"Abhijeet Kushe"},"score":5,"creation_date":1439762450,"post_id":997883,"comment_id":51981239,"body_markdown":"@ivanceras: I used Builders for 3 things - eliminating the multiple argument and fluent initialization, immutability and most importantly I feel to validate the domain object in the build() method.Why create an object instance if is invalid.You can also overload static factory methods like in the above case buildFreshman(), buildSenior() etc","body":"@ivanceras: I used Builders for 3 things - eliminating the multiple argument and fluent initialization, immutability and most importantly I feel to validate the domain object in the build() method.Why create an object instance if is invalid.You can also overload static factory methods like in the above case buildFreshman(), buildSenior() etc"},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":0,"creation_date":1546534920,"post_id":997883,"comment_id":94889686,"body_markdown":"The use of the Builder pattern here seems rather superfluous for what the OP is asking (default parameter values.) As a matter of fact, I don&#39;t see how this provides an answer to the original question at all.","body":"The use of the Builder pattern here seems rather superfluous for what the OP is asking (default parameter values.) As a matter of fact, I don&#39;t see how this provides an answer to the original question at all."},{"owner":{"account_id":1039514,"reputation":1970,"user_id":1045902,"accept_rate":100,"display_name":"DPM"},"score":0,"creation_date":1579615272,"post_id":997883,"comment_id":105819413,"body_markdown":"That&#39;s the telescoping constructor. The Builder Pattern of the GoF is somewhat different.","body":"That&#39;s the telescoping constructor. The Builder Pattern of the GoF is somewhat different."}],"tags":[],"owner":{"account_id":1273,"reputation":187678,"user_id":1694,"accept_rate":95,"display_name":"Eli Courtwright"},"comment_count":6,"down_vote_count":7,"up_vote_count":774,"is_accepted":false,"score":767,"last_activity_date":1245093611,"creation_date":1245093611,"answer_id":997883,"question_id":997482,"body_markdown":"No, but you can use the &lt;a href=&quot;http://en.wikipedia.org/wiki/Builder_pattern&quot;&gt;Builder Pattern&lt;/a&gt;, as described in &lt;a href=&quot;https://stackoverflow.com/questions/222214/managing-constructors-with-many-parameters-in-java-1-4/222295#222295&quot;&gt;this Stack Overflow answer&lt;/a&gt;.\r\n\r\nAs described in the linked answer, the Builder Pattern lets you write code like\r\n\r\n    Student s1 = new StudentBuilder().name(&quot;Eli&quot;).buildStudent();\r\n    Student s2 = new StudentBuilder()\r\n                     .name(&quot;Spicoli&quot;)\r\n                     .age(16)\r\n                     .motto(&quot;Aloha, Mr Hand&quot;)\r\n                     .buildStudent();\r\n\r\nin which some fields can have default values or otherwise be optional.\r\n","title":"Does Java support default parameter values?","body":"<p>No, but you can use the <a href=\"http://en.wikipedia.org/wiki/Builder_pattern\" rel=\"noreferrer\">Builder Pattern</a>, as described in <a href=\"https://stackoverflow.com/questions/222214/managing-constructors-with-many-parameters-in-java-1-4/222295#222295\">this Stack Overflow answer</a>.</p>\n\n<p>As described in the linked answer, the Builder Pattern lets you write code like</p>\n\n<pre><code>Student s1 = new StudentBuilder().name(\"Eli\").buildStudent();\nStudent s2 = new StudentBuilder()\n                 .name(\"Spicoli\")\n                 .age(16)\n                 .motto(\"Aloha, Mr Hand\")\n                 .buildStudent();\n</code></pre>\n\n<p>in which some fields can have default values or otherwise be optional.</p>\n"},{"tags":[],"owner":{"account_id":561600,"reputation":638,"user_id":177505,"display_name":"Nicholas Jordan"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1571949889,"creation_date":1253666675,"answer_id":1463388,"question_id":997482,"body_markdown":"There are half a dozen or better issues such as this, eventually, you arrive at the static factory pattern ... see the crypto API for that. Sort difficult to explain, but think of it this way: If you have a constructor, default or otherwise, the only way to propagate state beyond the curly braces is either to have a Boolean isValid; ( along with the null as default value v failed constructor ) or throw an exception which is never informative when getting it back from field users.\r\n\r\nCode Correct be damned, I write thousand line constructors and do what I need. I find using isValid at object construction - in other words, two-line constructors - but for some reason, I am migrating to the static factory pattern. I just seem you can do a lot if you in a method call, there are still sync() issues but defaults can be &#39;substituted&#39; better ( safer )\r\n\r\nI think what we need to do here is address the issue of null as default value vis-a-vis something String one=new String(&quot;&quot;); as a member variable, then doing a check for null before assigning string passed to the constructor. \r\n\r\nVery remarkable the amount of raw, stratospheric computer science done in Java.\r\n\r\nC++ and so on has vendor libs, yes. Java can outrun them on large scale servers due to it&#39;s a massive toolbox. Study static initializer blocks, stay with us.","title":"Does Java support default parameter values?","body":"<p>There are half a dozen or better issues such as this, eventually, you arrive at the static factory pattern ... see the crypto API for that. Sort difficult to explain, but think of it this way: If you have a constructor, default or otherwise, the only way to propagate state beyond the curly braces is either to have a Boolean isValid; ( along with the null as default value v failed constructor ) or throw an exception which is never informative when getting it back from field users.</p>\n\n<p>Code Correct be damned, I write thousand line constructors and do what I need. I find using isValid at object construction - in other words, two-line constructors - but for some reason, I am migrating to the static factory pattern. I just seem you can do a lot if you in a method call, there are still sync() issues but defaults can be 'substituted' better ( safer )</p>\n\n<p>I think what we need to do here is address the issue of null as default value vis-a-vis something String one=new String(\"\"); as a member variable, then doing a check for null before assigning string passed to the constructor. </p>\n\n<p>Very remarkable the amount of raw, stratospheric computer science done in Java.</p>\n\n<p>C++ and so on has vendor libs, yes. Java can outrun them on large scale servers due to it's a massive toolbox. Study static initializer blocks, stay with us.</p>\n"},{"comments":[{"owner":{"account_id":1352981,"reputation":8298,"user_id":1291990,"accept_rate":83,"display_name":"Michael Francis"},"score":10,"creation_date":1380653542,"post_id":2917079,"comment_id":28279670,"body_markdown":"One should never use an `assert` in production code. Throw an exception.","body":"One should never use an <code>assert</code> in production code. Throw an exception."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1424543791,"post_id":2917079,"comment_id":45596741,"body_markdown":"`Boolean` != `boolean`... `Boolean.class.isInstance(p[0]);` can be written as `p[0] instanceof Boolean`...","body":"<code>Boolean</code> != <code>boolean</code>... <code>Boolean.class.isInstance(p[0]);</code> can be written as <code>p[0] instanceof Boolean</code>..."},{"owner":{"account_id":171301,"reputation":6297,"user_id":398630,"accept_rate":79,"display_name":"BrainSlugs83"},"score":8,"creation_date":1429382635,"post_id":2917079,"comment_id":47577213,"body_markdown":"-1 This really isn&#39;t what varargs is for. This is a hack.  -- in this case, using overloads will be way more readable (which is unfortunate, since three extra characters is more readable than 5 extra lines of source...). -- but Java does not support default parameters.","body":"-1 This really isn&#39;t what varargs is for. This is a hack.  -- in this case, using overloads will be way more readable (which is unfortunate, since three extra characters is more readable than 5 extra lines of source...). -- but Java does not support default parameters."}],"tags":[],"owner":{"account_id":143232,"reputation":1187,"user_id":351427,"display_name":"ebelisle"},"comment_count":3,"down_vote_count":4,"up_vote_count":97,"is_accepted":false,"score":93,"last_activity_date":1380836268,"creation_date":1274910689,"answer_id":2917079,"question_id":997482,"body_markdown":"Unfortunately, yes.\r\n\r\n    void MyParameterizedFunction(String param1, int param2, bool param3=false) {}\r\n\r\ncould be written in Java 1.5 as:\r\n\r\n    void MyParameterizedFunction(String param1, int param2, Boolean... params) {\r\n        assert params.length &lt;= 1;\r\n        bool param3 = params.length &gt; 0 ? params[0].booleanValue() : false;\r\n    }\r\n\r\nBut whether or not you should depend on how you feel about the compiler generating a\r\n\r\n    new Boolean[]{}\r\n\r\nfor each call.\r\n\r\nFor multiple defaultable parameters:\r\n\r\n    void MyParameterizedFunction(String param1, int param2, bool param3=false, int param4=42) {}\r\n\r\ncould be written in Java 1.5 as:\r\n\r\n    void MyParameterizedFunction(String param1, int param2, Object... p) {\r\n        int l = p.length;\r\n        assert l &lt;= 2;\r\n        assert l &lt; 1 || Boolean.class.isInstance(p[0]);\r\n        assert l &lt; 2 || Integer.class.isInstance(p[1]);\r\n        bool param3 = l &gt; 0 &amp;&amp; p[0] != null ? ((Boolean)p[0]).booleanValue() : false;\r\n        int param4 = l &gt; 1 &amp;&amp; p[1] != null ? ((Integer)p[1]).intValue() : 42;\r\n    }\r\n\r\nThis matches C++ syntax, which only allows defaulted parameters at the end of the parameter list.  \r\n\r\nBeyond syntax, there is a difference where this has run time type checking for passed defaultable parameters and C++ type checks them during compile.","title":"Does Java support default parameter values?","body":"<p>Unfortunately, yes.</p>\n\n<pre><code>void MyParameterizedFunction(String param1, int param2, bool param3=false) {}\n</code></pre>\n\n<p>could be written in Java 1.5 as:</p>\n\n<pre><code>void MyParameterizedFunction(String param1, int param2, Boolean... params) {\n    assert params.length &lt;= 1;\n    bool param3 = params.length &gt; 0 ? params[0].booleanValue() : false;\n}\n</code></pre>\n\n<p>But whether or not you should depend on how you feel about the compiler generating a</p>\n\n<pre><code>new Boolean[]{}\n</code></pre>\n\n<p>for each call.</p>\n\n<p>For multiple defaultable parameters:</p>\n\n<pre><code>void MyParameterizedFunction(String param1, int param2, bool param3=false, int param4=42) {}\n</code></pre>\n\n<p>could be written in Java 1.5 as:</p>\n\n<pre><code>void MyParameterizedFunction(String param1, int param2, Object... p) {\n    int l = p.length;\n    assert l &lt;= 2;\n    assert l &lt; 1 || Boolean.class.isInstance(p[0]);\n    assert l &lt; 2 || Integer.class.isInstance(p[1]);\n    bool param3 = l &gt; 0 &amp;&amp; p[0] != null ? ((Boolean)p[0]).booleanValue() : false;\n    int param4 = l &gt; 1 &amp;&amp; p[1] != null ? ((Integer)p[1]).intValue() : 42;\n}\n</code></pre>\n\n<p>This matches C++ syntax, which only allows defaulted parameters at the end of the parameter list.  </p>\n\n<p>Beyond syntax, there is a difference where this has run time type checking for passed defaultable parameters and C++ type checks them during compile.</p>\n"},{"comments":[{"owner":{"account_id":113266,"reputation":62487,"user_id":298389,"accept_rate":100,"display_name":"om-nom-nom"},"score":68,"creation_date":1333461551,"post_id":6779435,"comment_id":12773923,"body_markdown":"Bring whole new language to get one not so common feature?","body":"Bring whole new language to get one not so common feature?"},{"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"score":10,"creation_date":1478533519,"post_id":6779435,"comment_id":68182497,"body_markdown":"that has nothing to do with the OP&#39;s question","body":"that has nothing to do with the OP&#39;s question"}],"tags":[],"owner":{"account_id":371346,"reputation":496,"user_id":719823,"display_name":"lythic"},"comment_count":2,"down_vote_count":10,"up_vote_count":37,"is_accepted":false,"score":27,"last_activity_date":1333461482,"creation_date":1311265565,"answer_id":6779435,"question_id":997482,"body_markdown":"You can do this is in Scala, which runs on the JVM and is compatible with Java programs.\r\nhttp://www.scala-lang.org/\r\n\r\ni.e.\r\n\r\n    class Foo(var prime: Boolean = false, val rib: String)  {}","title":"Does Java support default parameter values?","body":"<p>You can do this is in Scala, which runs on the JVM and is compatible with Java programs.\n<a href=\"http://www.scala-lang.org/\" rel=\"noreferrer\">http://www.scala-lang.org/</a></p>\n\n<p>i.e.</p>\n\n<pre><code>class Foo(var prime: Boolean = false, val rib: String)  {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355418914,"creation_date":1355418583,"answer_id":13864910,"question_id":997482,"body_markdown":"It is not supported but there are several options like using parameter object pattern with some syntax sugar:\r\n\r\n    public class Foo() {\r\n        private static class ParameterObject {\r\n            int param1 = 1;\r\n            String param2 = &quot;&quot;;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new Foo().myMethod(new ParameterObject() {{ param1 = 10; param2 = &quot;bar&quot;;}});\r\n        }\r\n\r\n        private void myMethod(ParameterObject po) {\r\n        }\r\n    }\r\n\r\nIn this sample we construct `ParameterObject` with default values and override them in class instance initialization section `{ param1 = 10; param2 = &quot;bar&quot;;}`\r\n","title":"Does Java support default parameter values?","body":"<p>It is not supported but there are several options like using parameter object pattern with some syntax sugar:</p>\n\n<pre><code>public class Foo() {\n    private static class ParameterObject {\n        int param1 = 1;\n        String param2 = \"\";\n    }\n\n    public static void main(String[] args) {\n        new Foo().myMethod(new ParameterObject() {{ param1 = 10; param2 = \"bar\";}});\n    }\n\n    private void myMethod(ParameterObject po) {\n    }\n}\n</code></pre>\n\n<p>In this sample we construct <code>ParameterObject</code> with default values and override them in class instance initialization section <code>{ param1 = 10; param2 = \"bar\";}</code></p>\n"},{"comments":[{"owner":{"account_id":1918846,"reputation":1223,"user_id":1730801,"accept_rate":55,"display_name":"Offler"},"score":19,"creation_date":1361196657,"post_id":14938056,"comment_id":20963810,"body_markdown":"The poster asked if this (rather ugly) pattern can be avoided ... ;-) In more modern languages (like c#, Scala) you don&#39;t need this extra overloads which only creates more lines of code. Up to some point you can use varargs in the meantime (static int max( int... array ) { }), but they are only a very ugly workaround.","body":"The poster asked if this (rather ugly) pattern can be avoided ... ;-) In more modern languages (like c#, Scala) you don&#39;t need this extra overloads which only creates more lines of code. Up to some point you can use varargs in the meantime (static int max( int... array ) { }), but they are only a very ugly workaround."},{"owner":{"account_id":120486,"reputation":248,"user_id":312957,"display_name":"Antony Booth"},"score":2,"creation_date":1384459029,"post_id":14938056,"comment_id":29756238,"body_markdown":"Overloading is not ugly and has many benefits, such as different method calls with different signatures can perform different functionality. \n\n    `//This is better\npublic class Foo() {\n\t/* This does something */\n\tpublic void func(String s){ \n\t\t//do something\n\t}\n\n\t/* This does something else with b */\n\tpublic void func(String s, boolean b){\n\t\t// b was passed\n\t}\n}`\n\n`//Than this\npublic class Foo() {\n\t/* This does something unless b = value, then it does something else */\n\tpublic void func(String s, boolean b = value){\n\t\tIf (b){ // Do Something\n\t\t}\n\t\telse{ // Do something else\n\t\t}\n\t}\n}`","body":"Overloading is not ugly and has many benefits, such as different method calls with different signatures can perform different functionality.       <code>&#47;&#47;This is better public class Foo() { \t&#47;* This does something *&#47; \tpublic void func(String s){  \t\t&#47;&#47;do something \t}  \t&#47;* This does something else with b *&#47; \tpublic void func(String s, boolean b){ \t\t&#47;&#47; b was passed \t} }</code>  <code>&#47;&#47;Than this public class Foo() { \t&#47;* This does something unless b = value, then it does something else *&#47; \tpublic void func(String s, boolean b = value){ \t\tIf (b){ &#47;&#47; Do Something \t\t} \t\telse{ &#47;&#47; Do something else \t\t} \t} }</code>"},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":1,"creation_date":1491484163,"post_id":14938056,"comment_id":73580929,"body_markdown":"@Offler default parameters have nothing to do with &quot;modern language&quot;. I used them in Delphi 20 years ago and they probably already existed in Turbo Pascal.","body":"@Offler default parameters have nothing to do with &quot;modern language&quot;. I used them in Delphi 20 years ago and they probably already existed in Turbo Pascal."}],"tags":[],"owner":{"account_id":1186764,"reputation":209,"user_id":1160571,"display_name":"IronWolf"},"comment_count":3,"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1571949678,"creation_date":1361195958,"answer_id":14938056,"question_id":997482,"body_markdown":"I might be stating the obvious here but why not simply implement the &quot;default&quot; parameter yourself?\r\n\r\n    public class Foo() {\r\n            public void func(String s){\r\n                    func(s, true);\r\n            }\r\n            public void func(String s, boolean b){\r\n                    //your code here\r\n            }\r\n    }\r\n\r\nfor the default, you would either use\r\n\r\n    func(&quot;my string&quot;);\r\n\r\nand if you wouldn&#39;t like to use the default, you would use\r\n\r\n    func(&quot;my string&quot;, false);","title":"Does Java support default parameter values?","body":"<p>I might be stating the obvious here but why not simply implement the \"default\" parameter yourself?</p>\n\n<pre><code>public class Foo() {\n        public void func(String s){\n                func(s, true);\n        }\n        public void func(String s, boolean b){\n                //your code here\n        }\n}\n</code></pre>\n\n<p>for the default, you would either use</p>\n\n<pre><code>func(\"my string\");\n</code></pre>\n\n<p>and if you wouldn't like to use the default, you would use</p>\n\n<pre><code>func(\"my string\", false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1337436,"reputation":14559,"user_id":1279820,"accept_rate":59,"display_name":"Celeritas"},"score":2,"creation_date":1405723026,"post_id":19719701,"comment_id":38558354,"body_markdown":"Good explanation. I&#39;ve never seen return values used like this. For 5) what do the `return this` do? Also, doesn&#39;t `FooBuilder().setA(&quot;a&quot;).build();` since (by definition) the constructor is called first and `FooBuilder()` returns a value, doesn&#39;t this mean `.setA(&quot;a&quot;):` doesn&#39;t get the chance to be called?","body":"Good explanation. I&#39;ve never seen return values used like this. For 5) what do the <code>return this</code> do? Also, doesn&#39;t <code>FooBuilder().setA(&quot;a&quot;).build();</code> since (by definition) the constructor is called first and <code>FooBuilder()</code> returns a value, doesn&#39;t this mean <code>.setA(&quot;a&quot;):</code> doesn&#39;t get the chance to be called?"},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":7,"creation_date":1409129048,"post_id":19719701,"comment_id":39845001,"body_markdown":"@Celeritas `return this` returns the same object on which the method was called (in the example, `FooBuilder`). This allows chaining of methods in one statement acting on the same object: `new FooBuilder().setA(..).setB(..).setC(..)` etc as opposed to calling each method in a separate statement.","body":"@Celeritas <code>return this</code> returns the same object on which the method was called (in the example, <code>FooBuilder</code>). This allows chaining of methods in one statement acting on the same object: <code>new FooBuilder().setA(..).setB(..).setC(..)</code> etc as opposed to calling each method in a separate statement."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":3,"creation_date":1409129331,"post_id":19719701,"comment_id":39845150,"body_markdown":"@Celeritas `new FooBuilder()` returns a `FooBuilder` object on which the `setA` method is called. As `setB` is not called, `this.b` retains the default value. Finally the `build` method is called on this `FooBuilder` object. The `build` method creates and returns a `Foo` object which is set to the variable `Foo foo`. Notice that the `FooBuilder` object is not stored in any variable.","body":"@Celeritas <code>new FooBuilder()</code> returns a <code>FooBuilder</code> object on which the <code>setA</code> method is called. As <code>setB</code> is not called, <code>this.b</code> retains the default value. Finally the <code>build</code> method is called on this <code>FooBuilder</code> object. The <code>build</code> method creates and returns a <code>Foo</code> object which is set to the variable <code>Foo foo</code>. Notice that the <code>FooBuilder</code> object is not stored in any variable."},{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":0,"creation_date":1422352079,"post_id":19719701,"comment_id":44704794,"body_markdown":"Annotation can also be used to create default parameters and is most useful when required for polymorphic collections.  http://docs.oracle.com/javase/tutorial/java/annotations/declaring.html","body":"Annotation can also be used to create default parameters and is most useful when required for polymorphic collections.  <a href=\"http://docs.oracle.com/javase/tutorial/java/annotations/declaring.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/annotations/declaring.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":205116,"reputation":2304,"user_id":453702,"display_name":"Pellet"},"score":0,"creation_date":1472698643,"post_id":19719701,"comment_id":65859780,"body_markdown":"Java now supports optionals in 1.8, no need for guava :)","body":"Java now supports optionals in 1.8, no need for guava :)"},{"owner":{"account_id":3835820,"reputation":725,"user_id":3180151,"display_name":"Sebastian"},"score":0,"creation_date":1678686346,"post_id":19719701,"comment_id":133574850,"body_markdown":"I thought that `Optional` was discouraged as a parameter type for methods in Java, and that it was primarily intended as a return type. I certainly get flagged on this in IntelliJ IDEA whenever I try to pass `Optional&lt;T&gt;` for some type `T` to a method.","body":"I thought that <code>Optional</code> was discouraged as a parameter type for methods in Java, and that it was primarily intended as a return type. I certainly get flagged on this in IntelliJ IDEA whenever I try to pass <code>Optional&lt;T&gt;</code> for some type <code>T</code> to a method."}],"tags":[],"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"comment_count":6,"down_vote_count":1,"up_vote_count":634,"is_accepted":false,"score":633,"last_activity_date":1676643130,"creation_date":1383271417,"answer_id":19719701,"question_id":997482,"body_markdown":"There are several ways to simulate default parameters in Java:\r\n\r\n  1. **Method overloading.**\r\n\r\n        void foo(String a, Integer b) {\r\n            //...\r\n        }\r\n\r\n        void foo(String a) {\r\n            foo(a, 0); // here, 0 is a default value for b\r\n        }\r\n   \r\n        foo(&quot;a&quot;, 2);\r\n        foo(&quot;a&quot;);\r\n  \r\n  One of the limitations of this approach is that it doesn&#39;t work if you have two optional parameters of the same type and any of them can be omitted.\r\n        \r\n\r\n  1. **Varargs.**\r\n\r\n a) All optional parameters are of the same type:\r\n\r\n        void foo(String a, Integer... b) {\r\n            Integer b1 = b.length &gt; 0 ? b[0] : 0;\r\n            Integer b2 = b.length &gt; 1 ? b[1] : 0;\r\n            //...\r\n        }\r\n\r\n        foo(&quot;a&quot;);\r\n        foo(&quot;a&quot;, 1, 2);\r\n\r\n b) Types of optional parameters may be different:\r\n\r\n        void foo(String a, Object... b) {\r\n            Integer b1 = 0;\r\n            String b2 = &quot;&quot;;\r\n            if (b.length &gt; 0) {\r\n              if (!(b[0] instanceof Integer)) { \r\n                  throw new IllegalArgumentException(&quot;...&quot;);\r\n              }\r\n              b1 = (Integer)b[0];\r\n            }\r\n            if (b.length &gt; 1) {\r\n                if (!(b[1] instanceof String)) { \r\n                    throw new IllegalArgumentException(&quot;...&quot;);\r\n                }\r\n                b2 = (String)b[1];\r\n                //...\r\n            }\r\n            //...\r\n        }\r\n\r\n        foo(&quot;a&quot;);\r\n        foo(&quot;a&quot;, 1);\r\n        foo(&quot;a&quot;, 1, &quot;b2&quot;);\r\n\r\n The main drawback of this approach is that if optional parameters are of different types you lose static type checking. Furthermore, if each parameter has different meaning you need some way to distinguish them.\r\n\r\n  1. **Nulls.** To address the limitations of the previous approaches you can allow null values and then analyse each parameter in a method body:\r\n\r\n        void foo(String a, Integer b, Integer c) {\r\n            b = b != null ? b : 0;\r\n            c = c != null ? c : 0;\r\n            //...\r\n        }\r\n\r\n        foo(&quot;a&quot;, null, 2);\r\n  \r\n Now all arguments values must be provided, but the default ones may be null.\r\n\r\n  1. **Optional class.** This approach is similar to nulls, but uses Java 8 Optional class for parameters that have a default value:\r\n\r\n        void foo(String a, Optional&lt;Integer&gt; bOpt) {\r\n            Integer b = bOpt.orElse(0);\r\n            //...\r\n        }\r\n\r\n        foo(&quot;a&quot;, Optional.of(2));\r\n        foo(&quot;a&quot;, Optional.&lt;Integer&gt;absent());\r\n\r\n      Optional makes a method contract explicit for a caller, however, one may find such signature too verbose.\r\n\r\n  1. **Builder pattern.** The builder pattern is used for constructors and is implemented by introducing a separate Builder class:\r\n \r\n         class Foo {\r\n             private final String a; \r\n             private final Integer b;\r\n\r\n             Foo(String a, Integer b) {\r\n               this.a = a;\r\n               this.b = b;\r\n             }\r\n\r\n             //...\r\n         }\r\n        \r\n         class FooBuilder {\r\n           private String a = &quot;&quot;; \r\n           private Integer b = 0;\r\n           \r\n           FooBuilder setA(String a) {\r\n             this.a = a;\r\n             return this;\r\n           }\r\n\r\n           FooBuilder setB(Integer b) {\r\n             this.b = b;\r\n             return this;\r\n           }\r\n\r\n           Foo build() {\r\n             return new Foo(a, b);\r\n           }\r\n         }\r\n\r\n         Foo foo = new FooBuilder().setA(&quot;a&quot;).build();\r\n\r\n  1. **Maps.** When the number of parameters is too large and for most of them default values are usually used, you can pass method arguments as a map of their names/values:\r\n\r\n        void foo(Map&lt;String, Object&gt; parameters) {\r\n            String a = &quot;&quot;; \r\n            Integer b = 0;\r\n            if (parameters.containsKey(&quot;a&quot;)) { \r\n                if (!(parameters.get(&quot;a&quot;) instanceof Integer)) { \r\n                    throw new IllegalArgumentException(&quot;...&quot;);\r\n                }\r\n                a = (String)parameters.get(&quot;a&quot;);\r\n            } else if (parameters.containsKey(&quot;b&quot;)) { \r\n                //... \r\n            }\r\n            //...\r\n        }\r\n\r\n        foo(ImmutableMap.&lt;String, Object&gt;of(\r\n            &quot;a&quot;, &quot;a&quot;,\r\n            &quot;b&quot;, 2, \r\n            &quot;d&quot;, &quot;value&quot;)); \r\n\r\nPlease note that you can combine any of these approaches to achieve a desirable result.","title":"Does Java support default parameter values?","body":"<p>There are several ways to simulate default parameters in Java:</p>\n<ol>\n<li><p><strong>Method overloading.</strong></p>\n<p>void foo(String a, Integer b) {\n//...\n}</p>\n<p>void foo(String a) {\nfoo(a, 0); // here, 0 is a default value for b\n}</p>\n<p>foo(&quot;a&quot;, 2);\nfoo(&quot;a&quot;);</p>\n</li>\n</ol>\n<p>One of the limitations of this approach is that it doesn't work if you have two optional parameters of the same type and any of them can be omitted.</p>\n<ol>\n<li><strong>Varargs.</strong></li>\n</ol>\n<p>a) All optional parameters are of the same type:</p>\n<pre><code>    void foo(String a, Integer... b) {\n        Integer b1 = b.length &gt; 0 ? b[0] : 0;\n        Integer b2 = b.length &gt; 1 ? b[1] : 0;\n        //...\n    }\n\n    foo(&quot;a&quot;);\n    foo(&quot;a&quot;, 1, 2);\n</code></pre>\n<p>b) Types of optional parameters may be different:</p>\n<pre><code>    void foo(String a, Object... b) {\n        Integer b1 = 0;\n        String b2 = &quot;&quot;;\n        if (b.length &gt; 0) {\n          if (!(b[0] instanceof Integer)) { \n              throw new IllegalArgumentException(&quot;...&quot;);\n          }\n          b1 = (Integer)b[0];\n        }\n        if (b.length &gt; 1) {\n            if (!(b[1] instanceof String)) { \n                throw new IllegalArgumentException(&quot;...&quot;);\n            }\n            b2 = (String)b[1];\n            //...\n        }\n        //...\n    }\n\n    foo(&quot;a&quot;);\n    foo(&quot;a&quot;, 1);\n    foo(&quot;a&quot;, 1, &quot;b2&quot;);\n</code></pre>\n<p>The main drawback of this approach is that if optional parameters are of different types you lose static type checking. Furthermore, if each parameter has different meaning you need some way to distinguish them.</p>\n<ol>\n<li><p><strong>Nulls.</strong> To address the limitations of the previous approaches you can allow null values and then analyse each parameter in a method body:</p>\n<p>void foo(String a, Integer b, Integer c) {\nb = b != null ? b : 0;\nc = c != null ? c : 0;\n//...\n}</p>\n<p>foo(&quot;a&quot;, null, 2);</p>\n</li>\n</ol>\n<p>Now all arguments values must be provided, but the default ones may be null.</p>\n<ol>\n<li><p><strong>Optional class.</strong> This approach is similar to nulls, but uses Java 8 Optional class for parameters that have a default value:</p>\n<p>void foo(String a, Optional bOpt) {\nInteger b = bOpt.orElse(0);\n//...\n}</p>\n<p>foo(&quot;a&quot;, Optional.of(2));\nfoo(&quot;a&quot;, Optional.absent());</p>\n<p>Optional makes a method contract explicit for a caller, however, one may find such signature too verbose.</p>\n</li>\n<li><p><strong>Builder pattern.</strong> The builder pattern is used for constructors and is implemented by introducing a separate Builder class:</p>\n<pre><code>class Foo {\n    private final String a; \n    private final Integer b;\n\n    Foo(String a, Integer b) {\n      this.a = a;\n      this.b = b;\n    }\n\n    //...\n}\n\nclass FooBuilder {\n  private String a = &quot;&quot;; \n  private Integer b = 0;\n\n  FooBuilder setA(String a) {\n    this.a = a;\n    return this;\n  }\n\n  FooBuilder setB(Integer b) {\n    this.b = b;\n    return this;\n  }\n\n  Foo build() {\n    return new Foo(a, b);\n  }\n}\n\nFoo foo = new FooBuilder().setA(&quot;a&quot;).build();\n</code></pre>\n</li>\n<li><p><strong>Maps.</strong> When the number of parameters is too large and for most of them default values are usually used, you can pass method arguments as a map of their names/values:</p>\n<p>void foo(Map&lt;String, Object&gt; parameters) {\nString a = &quot;&quot;;\nInteger b = 0;\nif (parameters.containsKey(&quot;a&quot;)) {\nif (!(parameters.get(&quot;a&quot;) instanceof Integer)) {\nthrow new IllegalArgumentException(&quot;...&quot;);\n}\na = (String)parameters.get(&quot;a&quot;);\n} else if (parameters.containsKey(&quot;b&quot;)) {\n//...\n}\n//...\n}</p>\n<p>foo(ImmutableMap.&lt;String, Object&gt;of(\n&quot;a&quot;, &quot;a&quot;,\n&quot;b&quot;, 2,\n&quot;d&quot;, &quot;value&quot;));</p>\n</li>\n</ol>\n<p>Please note that you can combine any of these approaches to achieve a desirable result.</p>\n"},{"tags":[],"owner":{"account_id":1279111,"reputation":7592,"user_id":1233659,"accept_rate":67,"display_name":"Hamzeh Soboh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409762705,"creation_date":1383467790,"answer_id":19751173,"question_id":997482,"body_markdown":"Try this solution:\r\n\r\n    public int getScore(int score, Integer... bonus)\r\n    {\r\n    \tif(bonus.length &gt; 0)\r\n    \t{\r\n    \t\treturn score + bonus[0];\r\n    \t}\r\n\r\n    \treturn score;\r\n    }","title":"Does Java support default parameter values?","body":"<p>Try this solution:</p>\n\n<pre><code>public int getScore(int score, Integer... bonus)\n{\n    if(bonus.length &gt; 0)\n    {\n        return score + bonus[0];\n    }\n\n    return score;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1700543,"reputation":129,"user_id":5526815,"display_name":"Kolya Ivankov"},"score":11,"creation_date":1508232463,"post_id":26731331,"comment_id":80519910,"body_markdown":"The main idea of C# default value notation is precisely to avoid this boilerplate coding and have just one constructor instead of many.","body":"The main idea of C# default value notation is precisely to avoid this boilerplate coding and have just one constructor instead of many."},{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":1,"creation_date":1508232858,"post_id":26731331,"comment_id":80520144,"body_markdown":"@KolyaIvankov I don&#39;t know C#, but I know C++ where the reasoning is the same. I don&#39;t know what is the better, but I think, actually the same boilerplate code is generated by the compiler in the case of C++/C# and it is going into the final binary.","body":"@KolyaIvankov I don&#39;t know C#, but I know C++ where the reasoning is the same. I don&#39;t know what is the better, but I think, actually the same boilerplate code is generated by the compiler in the case of C++/C# and it is going into the final binary."},{"owner":{"account_id":1700543,"reputation":129,"user_id":5526815,"display_name":"Kolya Ivankov"},"score":8,"creation_date":1508240748,"post_id":26731331,"comment_id":80524924,"body_markdown":"Every programming language is (in particular) a means to avoid an Assembler boilerplate, am I wrong? The question is only whether it gives a handy functionality, or not.","body":"Every programming language is (in particular) a means to avoid an Assembler boilerplate, am I wrong? The question is only whether it gives a handy functionality, or not."},{"owner":{"account_id":1700543,"reputation":129,"user_id":5526815,"display_name":"Kolya Ivankov"},"score":2,"creation_date":1508248205,"post_id":26731331,"comment_id":80530089,"body_markdown":"Being more specific: languages are tools that allow us to write programs in a way we can have control over what is written, compiling is a way to tell a machine what we want from it. A tool is more useful if it allows us to avoid boilerplate. In effect, gnavi asked, if they can avoid precisely the type of boilerplate code you propose as an answer, since C# allows for it.","body":"Being more specific: languages are tools that allow us to write programs in a way we can have control over what is written, compiling is a way to tell a machine what we want from it. A tool is more useful if it allows us to avoid boilerplate. In effect, gnavi asked, if they can avoid precisely the type of boilerplate code you propose as an answer, since C# allows for it."}],"tags":[],"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"comment_count":4,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1508297993,"creation_date":1415092330,"answer_id":26731331,"question_id":997482,"body_markdown":"No, but you can very easily emulate them. What in C++ was:\r\n\r\n    public: void myFunction(int a, int b=5, string c=&quot;test&quot;) { ... }\r\n\r\nIn Java, it will be an overloaded function:\r\n\r\n    public void myFunction(int a, int b, string c) { ... }\r\n\r\n    public void myFunction(int a, int b) {\r\n        myFunction(a, b, &quot;test&quot;);\r\n    }\r\n\r\n    public void myFunction(int a) {\r\n        myFunction(a, 5);\r\n    }\r\n\r\nEarlier was mentioned, that default parameters caused ambiguous cases in function overloading. That is simply not true, we can see in the case of the C++: yes, maybe it can create ambiguous cases, but these problem can be easily handled. It simply wasn&#39;t developed in Java, probably because the creators wanted a much simpler language as C++ was - if they had right, is another question. But most of us don&#39;t think he uses Java because of its simplicity.","title":"Does Java support default parameter values?","body":"<p>No, but you can very easily emulate them. What in C++ was:</p>\n\n<pre><code>public: void myFunction(int a, int b=5, string c=\"test\") { ... }\n</code></pre>\n\n<p>In Java, it will be an overloaded function:</p>\n\n<pre><code>public void myFunction(int a, int b, string c) { ... }\n\npublic void myFunction(int a, int b) {\n    myFunction(a, b, \"test\");\n}\n\npublic void myFunction(int a) {\n    myFunction(a, 5);\n}\n</code></pre>\n\n<p>Earlier was mentioned, that default parameters caused ambiguous cases in function overloading. That is simply not true, we can see in the case of the C++: yes, maybe it can create ambiguous cases, but these problem can be easily handled. It simply wasn't developed in Java, probably because the creators wanted a much simpler language as C++ was - if they had right, is another question. But most of us don't think he uses Java because of its simplicity.</p>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421595619,"creation_date":1421595619,"answer_id":28011514,"question_id":997482,"body_markdown":"This is how I did it ... it&#39;s not as convenient perhaps as having an &#39;optional argument&#39; against your defined parameter, but it gets the job done:\r\n\r\n    public void postUserMessage(String s,boolean wipeClean)\r\n    {\r\n        if(wipeClean)\r\n        {\r\n            userInformation.setText(s + &quot;\\n&quot;);\r\n        }\r\n        else\r\n        {\r\n            postUserMessage(s);\r\n        }\r\n    }\r\n\r\n    public void postUserMessage(String s)\r\n    {\r\n        userInformation.appendText(s + &quot;\\n&quot;);\r\n    }\r\n\r\nNotice I can invoke the same method name with either just a string or I can invoke it with a string and a boolean value. In this case, setting wipeClean to true will replace all of the text in my TextArea with the provided string. Setting wipeClean to false or leaving it out all together simply appends the provided text to the TextArea.\r\n\r\nAlso notice I am not repeating code in the two methods, I am merely adding the functionality of being able to reset the TextArea by creating a new method with the same name only with the added boolean.\r\n\r\nI actually think this is a little cleaner than if Java provided an &#39;optional argument&#39; for our parameters since we would need to then code for default values etc. In this example, I don&#39;t need to worry about any of that. Yes, I have added yet another method to my class, but it&#39;s easier to read in the long run in my humble opinion.","title":"Does Java support default parameter values?","body":"<p>This is how I did it ... it's not as convenient perhaps as having an 'optional argument' against your defined parameter, but it gets the job done:</p>\n\n<pre><code>public void postUserMessage(String s,boolean wipeClean)\n{\n    if(wipeClean)\n    {\n        userInformation.setText(s + \"\\n\");\n    }\n    else\n    {\n        postUserMessage(s);\n    }\n}\n\npublic void postUserMessage(String s)\n{\n    userInformation.appendText(s + \"\\n\");\n}\n</code></pre>\n\n<p>Notice I can invoke the same method name with either just a string or I can invoke it with a string and a boolean value. In this case, setting wipeClean to true will replace all of the text in my TextArea with the provided string. Setting wipeClean to false or leaving it out all together simply appends the provided text to the TextArea.</p>\n\n<p>Also notice I am not repeating code in the two methods, I am merely adding the functionality of being able to reset the TextArea by creating a new method with the same name only with the added boolean.</p>\n\n<p>I actually think this is a little cleaner than if Java provided an 'optional argument' for our parameters since we would need to then code for default values etc. In this example, I don't need to worry about any of that. Yes, I have added yet another method to my class, but it's easier to read in the long run in my humble opinion.</p>\n"},{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465839770,"creation_date":1465669707,"answer_id":37767200,"question_id":997482,"body_markdown":"You may use [Java Method Invocation Builder][1] to automatically generate the builder with default values.\r\n\r\nJust add @GenerateMethodInvocationBuilder to the class, or interface, and the @Default to parameters in methods where you want default values. A builder will be generated at compile time, using the default values that you specified with your annotations.\r\n\r\n    @GenerateMethodInvocationBuilder\r\n    public class CarService {\r\n     public CarService() {\r\n     }\r\n    \r\n     public String getCarsByFilter(//\r\n       @Default(&quot;Color.BLUE&quot;) Color color, //\r\n       @Default(&quot;new ProductionYear(2001)&quot;) ProductionYear productionYear,//\r\n       @Default(&quot;Tomas&quot;) String owner//\r\n     ) {\r\n      return &quot;Filtering... &quot; + color + productionYear + owner;\r\n     }\r\n    }\r\n\r\nAnd then you can invoke the methods.\r\n\r\n    CarService instance = new CarService();\r\n    String carsByFilter = CarServiceGetCarsByFilterBuilder.getCarsByFilter()//\r\n      .invoke(instance);\r\n\r\nOr set any of the default values to something else.\r\n\r\n    CarService instance = new CarService();\r\n    String carsByFilter = CarServiceGetCarsByFilterBuilder.getCarsByFilter()//\r\n      .withColor(Color.YELLOW)//\r\n      .invoke(instance);\r\n\r\n\r\n  [1]: https://github.com/tomasbjerre/java-method-invocation-builder","title":"Does Java support default parameter values?","body":"<p>You may use <a href=\"https://github.com/tomasbjerre/java-method-invocation-builder\" rel=\"nofollow\">Java Method Invocation Builder</a> to automatically generate the builder with default values.</p>\n\n<p>Just add @GenerateMethodInvocationBuilder to the class, or interface, and the @Default to parameters in methods where you want default values. A builder will be generated at compile time, using the default values that you specified with your annotations.</p>\n\n<pre><code>@GenerateMethodInvocationBuilder\npublic class CarService {\n public CarService() {\n }\n\n public String getCarsByFilter(//\n   @Default(\"Color.BLUE\") Color color, //\n   @Default(\"new ProductionYear(2001)\") ProductionYear productionYear,//\n   @Default(\"Tomas\") String owner//\n ) {\n  return \"Filtering... \" + color + productionYear + owner;\n }\n}\n</code></pre>\n\n<p>And then you can invoke the methods.</p>\n\n<pre><code>CarService instance = new CarService();\nString carsByFilter = CarServiceGetCarsByFilterBuilder.getCarsByFilter()//\n  .invoke(instance);\n</code></pre>\n\n<p>Or set any of the default values to something else.</p>\n\n<pre><code>CarService instance = new CarService();\nString carsByFilter = CarServiceGetCarsByFilterBuilder.getCarsByFilter()//\n  .withColor(Color.YELLOW)//\n  .invoke(instance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468519093,"creation_date":1468519093,"answer_id":38381092,"question_id":997482,"body_markdown":"A similar approach to &lt;https://stackoverflow.com/a/13864910/2323964&gt; that works in Java 8 is to use an interface with default getters. This will be more whitespace verbose, but is mockable, and it&#39;s great for when you have a bunch of instances where you actually want to draw attention to the parameters.\r\n\r\n    public class Foo() {\r\n        public interface Parameters {\r\n            String getRequired();\r\n            default int getOptionalInt(){ return 23; }\r\n            default String getOptionalString(){ return &quot;Skidoo&quot;; }\r\n        }\r\n\r\n        public Foo(Parameters parameters){\r\n            //...\r\n        }\r\n\r\n        public static void baz() {\r\n            final Foo foo = new Foo(new Person() {\r\n                @Override public String getRequired(){ return &quot;blahblahblah&quot;; }\r\n                @Override public int getOptionalInt(){ return 43; }\r\n            });\r\n        }\r\n    }\r\n\r\n    \r\n","title":"Does Java support default parameter values?","body":"<p>A similar approach to <a href=\"https://stackoverflow.com/a/13864910/2323964\">https://stackoverflow.com/a/13864910/2323964</a> that works in Java 8 is to use an interface with default getters. This will be more whitespace verbose, but is mockable, and it's great for when you have a bunch of instances where you actually want to draw attention to the parameters.</p>\n\n<pre><code>public class Foo() {\n    public interface Parameters {\n        String getRequired();\n        default int getOptionalInt(){ return 23; }\n        default String getOptionalString(){ return \"Skidoo\"; }\n    }\n\n    public Foo(Parameters parameters){\n        //...\n    }\n\n    public static void baz() {\n        final Foo foo = new Foo(new Person() {\n            @Override public String getRequired(){ return \"blahblahblah\"; }\n            @Override public int getOptionalInt(){ return 43; }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6061274,"reputation":2289,"user_id":4732930,"accept_rate":86,"display_name":"Umair Khalid"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1472712675,"creation_date":1472712675,"answer_id":39264514,"question_id":997482,"body_markdown":"NO, But we have alternative in the form of function overloading.\r\n\r\ncalled when no parameter passed\r\n\r\n    void operation(){\r\n    \r\n    int a = 0;\r\n    int b = 0;\r\n    \r\n    } \r\n\r\ncalled when &quot;a&quot; parameter was passed\r\n\r\n    void operation(int a){\r\n    \r\n    int b = 0;\r\n    //code\r\n    \r\n    } \r\n\r\ncalled when parameter b passed\r\n\r\n    void operation(int a , int b){\r\n    //code\r\n    } \r\n\r\n","title":"Does Java support default parameter values?","body":"<p>NO, But we have alternative in the form of function overloading.</p>\n\n<p>called when no parameter passed</p>\n\n<pre><code>void operation(){\n\nint a = 0;\nint b = 0;\n\n} \n</code></pre>\n\n<p>called when \"a\" parameter was passed</p>\n\n<pre><code>void operation(int a){\n\nint b = 0;\n//code\n\n} \n</code></pre>\n\n<p>called when parameter b passed</p>\n\n<pre><code>void operation(int a , int b){\n//code\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5282977,"reputation":32623,"user_id":4217744,"accept_rate":50,"display_name":"simhumileco"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1561633281,"creation_date":1511374413,"answer_id":47441378,"question_id":997482,"body_markdown":"**No**, but **the simplest way to implement this** is:\r\n\r\n\r\n\r\n    public myParameterizedFunction(String param1, int param2, Boolean param3) {\r\n    \r\n        param3 = param3 == null ? false : param3;\r\n    }\r\n    \r\n    public myParameterizedFunction(String param1, int param2) {\r\n    \r\n        this(param1, param2, false);\r\n    }\r\n\r\n**or** instead of the *ternary operator*, you can use `if`:\r\n\r\n    public myParameterizedFunction(String param1, int param2, Boolean param3) {\r\n    \r\n        if (param3 == null) {\r\n            param3 = false;\r\n        }\r\n    }\r\n    \r\n    public myParameterizedFunction(String param1, int param2) {\r\n    \r\n        this(param1, param2, false);\r\n    }","title":"Does Java support default parameter values?","body":"<p><strong>No</strong>, but <strong>the simplest way to implement this</strong> is:</p>\n\n<pre><code>public myParameterizedFunction(String param1, int param2, Boolean param3) {\n\n    param3 = param3 == null ? false : param3;\n}\n\npublic myParameterizedFunction(String param1, int param2) {\n\n    this(param1, param2, false);\n}\n</code></pre>\n\n<p><strong>or</strong> instead of the <em>ternary operator</em>, you can use <code>if</code>:</p>\n\n<pre><code>public myParameterizedFunction(String param1, int param2, Boolean param3) {\n\n    if (param3 == null) {\n        param3 = false;\n    }\n}\n\npublic myParameterizedFunction(String param1, int param2) {\n\n    this(param1, param2, false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94872,"reputation":17207,"user_id":258772,"display_name":"mrts"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1511725868,"creation_date":1511725868,"answer_id":47500350,"question_id":997482,"body_markdown":"As Scala was mentioned, [Kotlin](https://kotlinlang.org/docs/reference/functions.html#default-arguments) is also worth mentioning. In Kotlin function parameters can have default values as well and they can even refer to other parameters:\r\n\r\n    fun read(b: Array&lt;Byte&gt;, off: Int = 0, len: Int = b.size) {\r\n        ...\r\n    }\r\n\r\nLike Scala, Kotlin runs on the JVM and can be easily integrated into existing Java projects.","title":"Does Java support default parameter values?","body":"<p>As Scala was mentioned, <a href=\"https://kotlinlang.org/docs/reference/functions.html#default-arguments\" rel=\"noreferrer\">Kotlin</a> is also worth mentioning. In Kotlin function parameters can have default values as well and they can even refer to other parameters:</p>\n\n<pre><code>fun read(b: Array&lt;Byte&gt;, off: Int = 0, len: Int = b.size) {\n    ...\n}\n</code></pre>\n\n<p>Like Scala, Kotlin runs on the JVM and can be easily integrated into existing Java projects.</p>\n"},{"tags":[],"owner":{"account_id":987206,"reputation":1365,"user_id":1005422,"display_name":"AAGD"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552393040,"creation_date":1552393040,"answer_id":55121268,"question_id":997482,"body_markdown":"I&#39;ve now spent quite some time to figure out how to use this with methods that return values, and I haven&#39;t seen any examples so far, I thought it might be useful to add this here:\r\n\r\n```\r\nint foo(int a) {\r\n    // do something with a\r\n    return a;\r\n}\r\n\r\nint foo() {\r\n    return foo(0); // here, 0 is a default value for a\r\n}\r\n```\r\n","title":"Does Java support default parameter values?","body":"<p>I've now spent quite some time to figure out how to use this with methods that return values, and I haven't seen any examples so far, I thought it might be useful to add this here:</p>\n\n<pre><code>int foo(int a) {\n    // do something with a\n    return a;\n}\n\nint foo() {\n    return foo(0); // here, 0 is a default value for a\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5279761,"reputation":313,"user_id":4215521,"accept_rate":29,"display_name":"Virendra Pal Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1576429865,"creation_date":1576429865,"answer_id":59346213,"question_id":997482,"body_markdown":"It is not supported in java as in other language for ex. Kotlin.","title":"Does Java support default parameter values?","body":"<p>It is not supported in java as in other language for ex. Kotlin.</p>\n"},{"tags":[],"owner":{"account_id":14014033,"reputation":699,"user_id":10121996,"display_name":"Sobhit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577692250,"creation_date":1577692250,"answer_id":59527401,"question_id":997482,"body_markdown":"You can use the following- \r\n\r\n    public void mop(Integer x) {\r\n      // Define default values\r\n            x = x == null ? 200 : x;\r\n    }","title":"Does Java support default parameter values?","body":"<p>You can use the following- </p>\n\n<pre><code>public void mop(Integer x) {\n  // Define default values\n        x = x == null ? 200 : x;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1374266,"reputation":598,"user_id":1308590,"accept_rate":73,"display_name":"famfamfam"},"score":1,"creation_date":1631595350,"post_id":60225811,"comment_id":122257200,"body_markdown":"i tried but still need to pass params3 into function for avoid warning error from android studio","body":"i tried but still need to pass params3 into function for avoid warning error from android studio"},{"owner":{"account_id":1853532,"reputation":1273,"user_id":1734357,"accept_rate":86,"display_name":"WurmD"},"score":0,"creation_date":1660294741,"post_id":60225811,"comment_id":129503782,"body_markdown":"What&#39;s the necessary imports for Nullable and Optional?","body":"What&#39;s the necessary imports for Nullable and Optional?"},{"owner":{"account_id":2123560,"reputation":101,"user_id":1886310,"display_name":"Nick Fera"},"score":0,"creation_date":1668698989,"post_id":60225811,"comment_id":131474227,"body_markdown":"import java.util.Optional; and import javax.annotation.Nullable;","body":"import java.util.Optional; and import javax.annotation.Nullable;"}],"tags":[],"owner":{"account_id":16003258,"reputation":265,"user_id":11549376,"display_name":"Viktor Taranenko"},"comment_count":3,"down_vote_count":3,"up_vote_count":26,"is_accepted":false,"score":23,"last_activity_date":1581681130,"creation_date":1581681130,"answer_id":60225811,"question_id":997482,"body_markdown":"Instead of using:\r\n\r\n    void parameterizedMethod(String param1, int param2) {\r\n        this(param1, param2, false);\r\n    }\r\n\r\n    void parameterizedMethod(String param1, int param2, boolean param3) {\r\n        //use all three parameters here\r\n    }\r\n\r\nYou could utilize java&#39;s Optional functionality by having a single method:\r\n\r\n    void parameterizedMethod(String param1, int param2, @Nullable Boolean param3) {\r\n        param3 = Optional.ofNullable(param3).orElse(false);\r\n        //use all three parameters here\r\n    }\r\nThe main difference is that you have to use wrapper classes instead of primitive Java types to allow `null` input.`Boolean` instead of `boolean`, `Integer` instead of `int` and so on.\r\n\r\n","title":"Does Java support default parameter values?","body":"<p>Instead of using:</p>\n\n<pre><code>void parameterizedMethod(String param1, int param2) {\n    this(param1, param2, false);\n}\n\nvoid parameterizedMethod(String param1, int param2, boolean param3) {\n    //use all three parameters here\n}\n</code></pre>\n\n<p>You could utilize java's Optional functionality by having a single method:</p>\n\n<pre><code>void parameterizedMethod(String param1, int param2, @Nullable Boolean param3) {\n    param3 = Optional.ofNullable(param3).orElse(false);\n    //use all three parameters here\n}\n</code></pre>\n\n<p>The main difference is that you have to use wrapper classes instead of primitive Java types to allow <code>null</code> input.<code>Boolean</code> instead of <code>boolean</code>, <code>Integer</code> instead of <code>int</code> and so on.</p>\n"},{"tags":[],"owner":{"account_id":2386370,"reputation":4433,"user_id":2087270,"display_name":"In&#234;s Gomes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595665060,"creation_date":1595665060,"answer_id":63086036,"question_id":997482,"body_markdown":"One idea is to use `String... args`\r\n\r\n    public class Sample {\r\n       void demoMethod(String... args) {\r\n          for (String arg : args) {\r\n             System.out.println(arg);\r\n          }\r\n       }\r\n       public static void main(String args[] ) {\r\n          new Sample().demoMethod(&quot;ram&quot;, &quot;rahim&quot;, &quot;robert&quot;);\r\n          new Sample().demoMethod(&quot;krishna&quot;, &quot;kasyap&quot;);\r\n          new Sample().demoMethod();\r\n       }\r\n    }\r\n\r\nOutput\r\n\r\n    ram\r\n    rahim\r\n    robert\r\n    krishna\r\n    kasyap\r\n\r\nfrom https://www.tutorialspoint.com/Does-Java-support-default-parameter-values-for-a-method","title":"Does Java support default parameter values?","body":"<p>One idea is to use <code>String... args</code></p>\n<pre><code>public class Sample {\n   void demoMethod(String... args) {\n      for (String arg : args) {\n         System.out.println(arg);\n      }\n   }\n   public static void main(String args[] ) {\n      new Sample().demoMethod(&quot;ram&quot;, &quot;rahim&quot;, &quot;robert&quot;);\n      new Sample().demoMethod(&quot;krishna&quot;, &quot;kasyap&quot;);\n      new Sample().demoMethod();\n   }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>ram\nrahim\nrobert\nkrishna\nkasyap\n</code></pre>\n<p>from <a href=\"https://www.tutorialspoint.com/Does-Java-support-default-parameter-values-for-a-method\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/Does-Java-support-default-parameter-values-for-a-method</a></p>\n"},{"tags":[],"owner":{"account_id":16164999,"reputation":381,"user_id":11670196,"display_name":"Tobias"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1609078148,"creation_date":1603190708,"answer_id":64443521,"question_id":997482,"body_markdown":"If you really want to, you can check it manually by using `null`:\r\n\r\n```\r\npublic MyParameterizedFunction(String param1, int param2, boolean param3)\r\n{\r\n    if(param3 == null) {\r\n        param3 = false;\r\n    }\r\n}\r\n```\r\n\r\nHowever i heavily recommend using something else, like overloading or a static factory. Maybe you can get away with this, but it can lead to unexcspected behavior. For example you could have an error in your code, so that your boolean never gets a value. In this case you would not get a `NullPointerException`. Instead it will look like it was set to false, which can be very confusing to debug.\r\n&lt;!-- 6 char limit ---&gt;","title":"Does Java support default parameter values?","body":"<p>If you really want to, you can check it manually by using <code>null</code>:</p>\n<pre><code>public MyParameterizedFunction(String param1, int param2, boolean param3)\n{\n    if(param3 == null) {\n        param3 = false;\n    }\n}\n</code></pre>\n<p>However i heavily recommend using something else, like overloading or a static factory. Maybe you can get away with this, but it can lead to unexcspected behavior. For example you could have an error in your code, so that your boolean never gets a value. In this case you would not get a <code>NullPointerException</code>. Instead it will look like it was set to false, which can be very confusing to debug.</p>\n\n"},{"tags":[],"owner":{"account_id":12667775,"reputation":71,"user_id":9206411,"display_name":"Marco Polo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633395949,"creation_date":1633395949,"answer_id":69443846,"question_id":997482,"body_markdown":"constructor like for method\r\n\r\n    static void popuping() {\r\n        popuping(&quot;message&quot;, &quot;title&quot;);\r\n    }\r\n    static void popuping(String message) {\r\n        popuping(message, &quot;title&quot;);\r\n    }\r\n    static void popuping(String message, String title){\r\n        JOptionPane.showMessageDialog(null, message,\r\n                title, JOptionPane.INFORMATION_MESSAGE);\r\n    }","title":"Does Java support default parameter values?","body":"<p>constructor like for method</p>\n<pre><code>static void popuping() {\n    popuping(&quot;message&quot;, &quot;title&quot;);\n}\nstatic void popuping(String message) {\n    popuping(message, &quot;title&quot;);\n}\nstatic void popuping(String message, String title){\n    JOptionPane.showMessageDialog(null, message,\n            title, JOptionPane.INFORMATION_MESSAGE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4318342,"reputation":137,"user_id":3527470,"display_name":"Legioneroff"},"comment_count":0,"down_vote_count":8,"up_vote_count":8,"is_accepted":false,"score":0,"last_activity_date":1661422796,"creation_date":1661422796,"answer_id":73485829,"question_id":997482,"body_markdown":"Yes = use Kotlin! )))\r\n\r\nIt is a Joke;","title":"Does Java support default parameter values?","body":"<p>Yes = use Kotlin! )))</p>\n<p>It is a Joke;</p>\n"},{"tags":[],"owner":{"account_id":2914894,"reputation":11,"user_id":2498328,"display_name":"user2498328"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671613958,"creation_date":1671613958,"answer_id":74873668,"question_id":997482,"body_markdown":"The Straight answer is no.\r\n\r\nThese answers are pretty old and mainly discuss the alternatives we can have even if java doesn&#39;t have a straight way of the default method parameter.\r\n\r\nwe can deal with this scenario easily with functional Programming in java.\r\n\r\nwe can utilize the method currying of java functional programming and I think it can be best utilized for such scenarios where we need to have default parameters.\r\n\r\nwe may need a default parameter in the following situations...\r\nExample: \r\nCreate a method that works on Two different objects and returns the computation\r\n\r\n\r\n    int mutiply(int a,int b){\r\n    \r\n          return a*b;\r\n    \r\n      }\r\n\r\nif we want to have a method to get multiply by 2, we will have to Override the method like below\r\n\r\n    int mutiply(int a){\r\n    \r\n          mutiply(a, 2); // as can not write mutiply(int a,b=2)\r\n    \r\n      }\r\n\r\nAbove, 2 is a default value for b, but it&#39;s going to be fixed. what if we want to have multiplied by three, now we cannot overload this further and it does feel odd to have multiple methods like this.\r\n\r\nThis is when we can utilize the method currying technique.\r\n\r\nmethod Currying is the way of converting multi-parameter functions into multiple functions each accepting a single parameter.\r\n\r\n**Steps to create a Curried method**\r\n\r\n1. Write a function that accepts a single parameter and returns another\r\n    function, like below.\r\n    \r\n \r\n\r\n  \r\n\r\n \r\n        Function&lt;Integer,Function&lt;Integer,Integer&gt;&gt; mutiply = a-&gt;{\r\n        return  b -&gt; a*b;\r\n        };\r\n\r\n2. Let&#39;s Simplify and understand the above method.\r\n\r\nThe Above method accepts only One integer Argument and returns another function with one parameter a as the default value and b as a variable. In case you are confused and start thinking how the method can use a variable from the caller function and don’t know about closures …\r\n\r\n&quot;A closure is a function that refers to a free variable in its lexical context.&quot;\r\nSo here, in this case, closure is the returned function when operated on variable multiply and it has a free variable a that has the lexical context of the caller function.\r\n\r\n3. Return the multiply method or fix the default value for one of the parameters.\r\n   \r\n\r\n\r\n     \r\n        //multiply is defined in the first step\r\n        mutiplyByTwo = mutiply.apply(2)\r\n        \r\n        mutiplyByThree = mutiply.apply(3);\r\n        \r\n        mutiplyByFour = mutiply.apply(4);;\r\n    \r\n    And so on …\r\n    \r\n4. Pass the second variable to the returned function to get the result.\r\n\r\n   \r\n\r\n       mutiplyByTwo.apply(2);//results \r\n       mutiplyByTwo.apply(3);//results 6\r\n\r\n   \r\n\r\n        mutiplyByThree.apply(2);//results 6\r\n        mutiplyByThree.apply(3);//results 9\r\n        \r\n        mutiplyByFour.apply(2);//results 8\r\n        mutiplyByFour.apply(3);//results 124\r\n\r\nYou can find my original post here ... [https://www.linkedin.com/pulse/can-we-have-default-method-parameter-java-rajat-singh/?trackingId=yW84I1fzT6WGStrNPAWn4w%3D%3D][1]\r\n\r\n\r\n  [1]: https://Original%20Post","title":"Does Java support default parameter values?","body":"<p>The Straight answer is no.</p>\n<p>These answers are pretty old and mainly discuss the alternatives we can have even if java doesn't have a straight way of the default method parameter.</p>\n<p>we can deal with this scenario easily with functional Programming in java.</p>\n<p>we can utilize the method currying of java functional programming and I think it can be best utilized for such scenarios where we need to have default parameters.</p>\n<p>we may need a default parameter in the following situations...\nExample:\nCreate a method that works on Two different objects and returns the computation</p>\n<pre><code>int mutiply(int a,int b){\n\n      return a*b;\n\n  }\n</code></pre>\n<p>if we want to have a method to get multiply by 2, we will have to Override the method like below</p>\n<pre><code>int mutiply(int a){\n\n      mutiply(a, 2); // as can not write mutiply(int a,b=2)\n\n  }\n</code></pre>\n<p>Above, 2 is a default value for b, but it's going to be fixed. what if we want to have multiplied by three, now we cannot overload this further and it does feel odd to have multiple methods like this.</p>\n<p>This is when we can utilize the method currying technique.</p>\n<p>method Currying is the way of converting multi-parameter functions into multiple functions each accepting a single parameter.</p>\n<p><strong>Steps to create a Curried method</strong></p>\n<ol>\n<li><p>Write a function that accepts a single parameter and returns another\nfunction, like below.</p>\n<pre><code> Function&lt;Integer,Function&lt;Integer,Integer&gt;&gt; mutiply = a-&gt;{\n return  b -&gt; a*b;\n };\n</code></pre>\n</li>\n<li><p>Let's Simplify and understand the above method.</p>\n</li>\n</ol>\n<p>The Above method accepts only One integer Argument and returns another function with one parameter a as the default value and b as a variable. In case you are confused and start thinking how the method can use a variable from the caller function and don’t know about closures …</p>\n<p>&quot;A closure is a function that refers to a free variable in its lexical context.&quot;\nSo here, in this case, closure is the returned function when operated on variable multiply and it has a free variable a that has the lexical context of the caller function.</p>\n<ol start=\"3\">\n<li><p>Return the multiply method or fix the default value for one of the parameters.</p>\n<pre><code> //multiply is defined in the first step\n mutiplyByTwo = mutiply.apply(2)\n\n mutiplyByThree = mutiply.apply(3);\n\n mutiplyByFour = mutiply.apply(4);;\n</code></pre>\n<p>And so on …</p>\n</li>\n<li><p>Pass the second variable to the returned function to get the result.</p>\n<pre><code>mutiplyByTwo.apply(2);//results \nmutiplyByTwo.apply(3);//results 6\n\n\n\n mutiplyByThree.apply(2);//results 6\n mutiplyByThree.apply(3);//results 9\n\n mutiplyByFour.apply(2);//results 8\n mutiplyByFour.apply(3);//results 124\n</code></pre>\n</li>\n</ol>\n<p>You can find my original post here ... <a href=\"https://Original%20Post\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/can-we-have-default-method-parameter-java-rajat-singh/?trackingId=yW84I1fzT6WGStrNPAWn4w%3D%3D</a></p>\n"}],"owner":{"account_id":35103,"reputation":25402,"user_id":99317,"display_name":"gnavi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1978002,"favorite_count":0,"down_vote_count":3,"up_vote_count":2128,"accepted_answer_id":997529,"answer_count":28,"score":2125,"last_activity_date":1676643130,"creation_date":1245089068,"question_id":997482,"body_markdown":"I came across some Java code that had the following structure:\r\n\r\n    public MyParameterizedFunction(String param1, int param2)\r\n    {\r\n        this(param1, param2, false);\r\n    }\r\n    \r\n    public MyParameterizedFunction(String param1, int param2, boolean param3)\r\n    {\r\n        //use all three parameters here\r\n    }\r\n\r\nI know that in C++ I can assign a parameter a default value.  For example:\r\n\r\n    void MyParameterizedFunction(String param1, int param2, bool param3=false);\r\n\r\nDoes Java support this kind of syntax?  Are there any reasons why this two step syntax is preferable?\r\n\r\n","title":"Does Java support default parameter values?","body":"<p>I came across some Java code that had the following structure:</p>\n\n<pre><code>public MyParameterizedFunction(String param1, int param2)\n{\n    this(param1, param2, false);\n}\n\npublic MyParameterizedFunction(String param1, int param2, boolean param3)\n{\n    //use all three parameters here\n}\n</code></pre>\n\n<p>I know that in C++ I can assign a parameter a default value.  For example:</p>\n\n<pre><code>void MyParameterizedFunction(String param1, int param2, bool param3=false);\n</code></pre>\n\n<p>Does Java support this kind of syntax?  Are there any reasons why this two step syntax is preferable?</p>\n"},{"tags":["java","spring-boot","jackson","jackson-databind","cve"],"owner":{"account_id":27811439,"reputation":1,"user_id":21233751,"display_name":"curious_cat16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676643059,"creation_date":1676638541,"question_id":75484611,"body_markdown":"I&#39;m using 6.9.2 version for gradle wrapper and my application war file is flagged with the following Jackson-databand vulnerabilities CVE-2022-42004, CVE-2022-42003, CVE-2020-36518, CVE-2022-25649 in WIZ Security scanning.\r\n\r\nTo solve this I have upgraded the old vulnerable version 2.10.0 to the latest one 2.14.2 in build.gradle and excluded the jackson-databind module from some of the implementations but final scan results not of much luck.\r\nEven after the upgrade, wiz scan shows vulnerability with old 2.10.0 version, although when I checked inside the war file, it shows 2.14.2 version for jackson-databind jar.\r\n\r\nCan you please help me?\r\nI fail to understand what&#39;s going wrong.\r\n\r\nFor reference find a screenshot of how I upgraded using gradle constraints and excluded the module, along with the final dependency tree.\r\n[Dependency constraints added for jackson-databind](https://i.stack.imgur.com/PivdE.jpg)\r\n[Module exclusions](https://i.stack.imgur.com/BHdH3.jpg)","title":"com.fasterxml.jackson.core:jackson-databand upgraded to latest 2.14.2 version, yet application war shows vulnerabilities","body":"<p>I'm using 6.9.2 version for gradle wrapper and my application war file is flagged with the following Jackson-databand vulnerabilities CVE-2022-42004, CVE-2022-42003, CVE-2020-36518, CVE-2022-25649 in WIZ Security scanning.</p>\n<p>To solve this I have upgraded the old vulnerable version 2.10.0 to the latest one 2.14.2 in build.gradle and excluded the jackson-databind module from some of the implementations but final scan results not of much luck.\nEven after the upgrade, wiz scan shows vulnerability with old 2.10.0 version, although when I checked inside the war file, it shows 2.14.2 version for jackson-databind jar.</p>\n<p>Can you please help me?\nI fail to understand what's going wrong.</p>\n<p>For reference find a screenshot of how I upgraded using gradle constraints and excluded the module, along with the final dependency tree.\n<a href=\"https://i.stack.imgur.com/PivdE.jpg\" rel=\"nofollow noreferrer\">Dependency constraints added for jackson-databind</a>\n<a href=\"https://i.stack.imgur.com/BHdH3.jpg\" rel=\"nofollow noreferrer\">Module exclusions</a></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":10233123,"reputation":158,"user_id":7553069,"display_name":"Deng"},"score":0,"creation_date":1676300389,"post_id":75437563,"comment_id":133104312,"body_markdown":"There is no extra configuration, just only one `Controller`","body":"There is no extra configuration, just only one <code>Controller</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676300949,"post_id":75437563,"comment_id":133104488,"body_markdown":"What is the type of the parameters you are submitting? Each part has its own content-type, if that isn&#39;t compatible with the type you are trying to convert to it will fail. You are probably submitting things with a wrong content-type. A stream can be read directly into a `String` but not into an `Integer` (spring doesn&#39;t have a converter for that). So basically without knowing what and how you are sending things to this controller this will be impossible to answer.","body":"What is the type of the parameters you are submitting? Each part has its own content-type, if that isn&#39;t compatible with the type you are trying to convert to it will fail. You are probably submitting things with a wrong content-type. A stream can be read directly into a <code>String</code> but not into an <code>Integer</code> (spring doesn&#39;t have a converter for that). So basically without knowing what and how you are sending things to this controller this will be impossible to answer."},{"owner":{"account_id":10233123,"reputation":158,"user_id":7553069,"display_name":"Deng"},"score":0,"creation_date":1676302587,"post_id":75437563,"comment_id":133105095,"body_markdown":"Thanks, I got it, I did not set for each parameter, just set a form-data for the request, but how to set content-type for each parameter.  I just understand how to set the request content-type by code.","body":"Thanks, I got it, I did not set for each parameter, just set a form-data for the request, but how to set content-type for each parameter.  I just understand how to set the request content-type by code."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676355663,"post_id":75437563,"comment_id":133115422,"body_markdown":"You are sending it as text (that is the type you selected) you should specify it as a number which should create a better/proper type for the field.","body":"You are sending it as text (that is the type you selected) you should specify it as a number which should create a better/proper type for the field."}],"answers":[{"tags":[],"owner":{"account_id":3182409,"reputation":761,"user_id":2688838,"display_name":"user2688838"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676642491,"creation_date":1676642491,"answer_id":75485270,"question_id":75437563,"body_markdown":"I take the chance of this post because it pointed me to the right direction anyway so, for sake of anyone using **Postman**, receiving the error above here is my hint, learnt with pain and solved thanks to the hints above.\r\n\r\n\r\nIn **Postman**, when you fill a **form-data** body, the table misses, by default I believe, the **CONTENT TYPE** column. \r\nYou can add the column the using the button on the right side, but then it will show *Auto* consequently, depending from your parameters, you should change it to the proper type.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UaDgU.png\r\n\r\nI hope it may help others :)\r\nRegards","title":"spring boot upload file with the other parameter by using @RequestPart cause Excption","body":"<p>I take the chance of this post because it pointed me to the right direction anyway so, for sake of anyone using <strong>Postman</strong>, receiving the error above here is my hint, learnt with pain and solved thanks to the hints above.</p>\n<p>In <strong>Postman</strong>, when you fill a <strong>form-data</strong> body, the table misses, by default I believe, the <strong>CONTENT TYPE</strong> column.\nYou can add the column the using the button on the right side, but then it will show <em>Auto</em> consequently, depending from your parameters, you should change it to the proper type.</p>\n<p><a href=\"https://i.stack.imgur.com/UaDgU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UaDgU.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope it may help others :)\nRegards</p>\n"}],"owner":{"account_id":10233123,"reputation":158,"user_id":7553069,"display_name":"Deng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676642491,"creation_date":1676300298,"question_id":75437563,"body_markdown":"when using spring boot upload file with parameter, I used @RequestPart for all parameter.\r\nHere the code: \r\n\r\n&gt; spring boot: 2.7.8\r\n\r\nwhen one of them is `String` and the other is `Integer` and both of them annotated by @RequestPart will be cause Exception\r\n```java\r\npackage com.interfaces.anti.mage.api;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.interfaces.anti.mage.model.Address;\r\nimport com.interfaces.anti.mage.model.Order;\r\nimport com.interfaces.anti.mage.service.OrderService;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestPart;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author dengbojing\r\n */\r\n@RestController\r\n@RequestMapping(&quot;/order&quot;)\r\npublic class OrderApi {\r\n\r\n    @PostMapping(&quot;/upload&quot;)\r\n    public String upload(@RequestPart(&quot;file&quot;)MultipartFile file, @RequestPart(&quot;id&quot;) String id, @RequestPart(&quot;number&quot;) Integer number) {\r\n        System.out.println(id);\r\n        System.out.println(number);\r\n        return &quot;success&quot;;\r\n\r\n    }\r\n}\r\n\r\n```\r\nException info:\r\n```\r\n2023-02-13 22:51:40,319 WARN  [http-nio-8099-exec-2] org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver: Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/octet-stream&#39; not supported]\r\n```\r\n\r\n\r\nwhen all the other parameter type is `String` and annotated by @RequestPart, the method will be worked and print the info.\r\n\r\n```java\r\n @PostMapping(&quot;/upload&quot;)\r\n    public String upload(@RequestPart(&quot;file&quot;)MultipartFile file, @RequestPart(&quot;id&quot;) String id, @RequestPart(&quot;number&quot;) String number) {\r\n        System.out.println(id);\r\n        System.out.println(number);\r\n        return &quot;success&quot;;\r\n\r\n    }\r\n```\r\n\r\n\r\nSo why this? the exception means the program treat the `String` and `Integer` paramter as `Stream`? but why all `String` will be fine? \r\nps: even change to this `@PostMapping(value = &quot;/upload&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE, MediaType.APPLICATION_JSON_VALUE})` also got the same problem\r\n\r\n\r\nps: this is the request info: \r\n\r\n[![Here is the request][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BUPbG.png","title":"spring boot upload file with the other parameter by using @RequestPart cause Excption","body":"<p>when using spring boot upload file with parameter, I used @RequestPart for all parameter.\nHere the code:</p>\n<blockquote>\n<p>spring boot: 2.7.8</p>\n</blockquote>\n<p>when one of them is <code>String</code> and the other is <code>Integer</code> and both of them annotated by @RequestPart will be cause Exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.interfaces.anti.mage.api;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.interfaces.anti.mage.model.Address;\nimport com.interfaces.anti.mage.model.Order;\nimport com.interfaces.anti.mage.service.OrderService;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDate;\nimport java.util.List;\n\n/**\n * @author dengbojing\n */\n@RestController\n@RequestMapping(&quot;/order&quot;)\npublic class OrderApi {\n\n    @PostMapping(&quot;/upload&quot;)\n    public String upload(@RequestPart(&quot;file&quot;)MultipartFile file, @RequestPart(&quot;id&quot;) String id, @RequestPart(&quot;number&quot;) Integer number) {\n        System.out.println(id);\n        System.out.println(number);\n        return &quot;success&quot;;\n\n    }\n}\n\n</code></pre>\n<p>Exception info:</p>\n<pre><code>2023-02-13 22:51:40,319 WARN  [http-nio-8099-exec-2] org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver: Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/octet-stream' not supported]\n</code></pre>\n<p>when all the other parameter type is <code>String</code> and annotated by @RequestPart, the method will be worked and print the info.</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping(&quot;/upload&quot;)\n    public String upload(@RequestPart(&quot;file&quot;)MultipartFile file, @RequestPart(&quot;id&quot;) String id, @RequestPart(&quot;number&quot;) String number) {\n        System.out.println(id);\n        System.out.println(number);\n        return &quot;success&quot;;\n\n    }\n</code></pre>\n<p>So why this? the exception means the program treat the <code>String</code> and <code>Integer</code> paramter as <code>Stream</code>? but why all <code>String</code> will be fine?\nps: even change to this <code>@PostMapping(value = &quot;/upload&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE, MediaType.APPLICATION_JSON_VALUE})</code> also got the same problem</p>\n<p>ps: this is the request info:</p>\n<p><a href=\"https://i.stack.imgur.com/BUPbG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BUPbG.png\" alt=\"Here is the request\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1472065956,"post_id":39131117,"comment_id":65607973,"body_markdown":"What does your application&#39;s main method look like? Have you passed its args array into the call to `SpringApplication.run`?","body":"What does your application&#39;s main method look like? Have you passed its args array into the call to <code>SpringApplication.run</code>?"},{"owner":{"account_id":7091272,"reputation":399,"user_id":5426365,"accept_rate":56,"display_name":"Kiba"},"score":0,"creation_date":1472066102,"post_id":39131117,"comment_id":65608049,"body_markdown":"@AndyWilkinson I haven&#39;t passed the args to run method.","body":"@AndyWilkinson I haven&#39;t passed the args to run method."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1472066183,"post_id":39131117,"comment_id":65608089,"body_markdown":"That&#39;s the problem, then. Update your main method so it passes in the args and it should work.","body":"That&#39;s the problem, then. Update your main method so it passes in the args and it should work."},{"owner":{"account_id":7091272,"reputation":399,"user_id":5426365,"accept_rate":56,"display_name":"Kiba"},"score":0,"creation_date":1472066481,"post_id":39131117,"comment_id":65608230,"body_markdown":"@AndyWilkinson thanks, that solved it.","body":"@AndyWilkinson thanks, that solved it."},{"owner":{"account_id":7091272,"reputation":399,"user_id":5426365,"accept_rate":56,"display_name":"Kiba"},"score":0,"creation_date":1472066656,"post_id":39131117,"comment_id":65608332,"body_markdown":"@AndyWilkinson how to mark this as solved?","body":"@AndyWilkinson how to mark this as solved?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1472066910,"post_id":39131117,"comment_id":65608484,"body_markdown":"I&#39;ve posted my comment as an answer along with an example main method. Feel free to accept it if you&#39;d like your question to appear as having been answered.","body":"I&#39;ve posted my comment as an answer along with an example main method. Feel free to accept it if you&#39;d like your question to appear as having been answered."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1472303154,"creation_date":1472066873,"answer_id":39131566,"question_id":39131117,"body_markdown":"For command line arguments to override properties, you need to pass the arguments from your application&#39;s main method into `SpringApplication.run`. \r\n\r\n\r\nYour main method should look something like this:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\tSpringApplication.run(YourApplication.class, args);\r\n\t}\r\n","title":"Spring Boot Application java -jar --property override not working","body":"<p>For command line arguments to override properties, you need to pass the arguments from your application's main method into <code>SpringApplication.run</code>. </p>\n\n<p>Your main method should look something like this:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    SpringApplication.run(YourApplication.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9155183,"reputation":99,"user_id":6808336,"display_name":"Sorin Dumitru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676642455,"creation_date":1676642455,"answer_id":75485260,"question_id":39131117,"body_markdown":"I had the same issue, but I had all the configuration correctly and still wasn&#39;t working. It even worked in the past. So, eventually the solution to make it work again was a simple clean + package of the project.","title":"Spring Boot Application java -jar --property override not working","body":"<p>I had the same issue, but I had all the configuration correctly and still wasn't working. It even worked in the past. So, eventually the solution to make it work again was a simple clean + package of the project.</p>\n"}],"owner":{"account_id":7091272,"reputation":399,"user_id":5426365,"accept_rate":56,"display_name":"Kiba"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39131566,"answer_count":2,"score":3,"last_activity_date":1676642455,"creation_date":1472065172,"question_id":39131117,"body_markdown":"I&#39;ve written a Spring Boot Application. I&#39;m running the jar, while running the jar I&#39;m overriding the property file keys for e.g: `java -jar example.jar --spring.profiles.active=test`, but the key is not overriding. What could be the reason for this?","title":"Spring Boot Application java -jar --property override not working","body":"<p>I've written a Spring Boot Application. I'm running the jar, while running the jar I'm overriding the property file keys for e.g: <code>java -jar example.jar --spring.profiles.active=test</code>, but the key is not overriding. What could be the reason for this?</p>\n"},{"tags":["java","spring-boot","jar","application.properties"],"comments":[{"owner":{"account_id":8496559,"reputation":131,"user_id":6370997,"display_name":"Ashwin Sreekumar"},"score":0,"creation_date":1676625737,"post_id":75482125,"comment_id":133178941,"body_markdown":"Is this an option for you - Let the user of your jar set the properties by exposing a setter ? And the application using the jar can initialise it for you.","body":"Is this an option for you - Let the user of your jar set the properties by exposing a setter ? And the application using the jar can initialise it for you."},{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1676626004,"post_id":75482125,"comment_id":133179019,"body_markdown":"I don&#39;t know, to be honest, but I&#39;m going to investigate about it. Thank you! (I edited my original question to say that the only important info contained in the application.properties is regarding jdbc driver, database url, username and password. But it shouldn&#39;t use its own. It should use the destination project jdbc driver, url, puser and pass)","body":"I don&#39;t know, to be honest, but I&#39;m going to investigate about it. Thank you! (I edited my original question to say that the only important info contained in the application.properties is regarding jdbc driver, database url, username and password. But it shouldn&#39;t use its own. It should use the destination project jdbc driver, url, puser and pass)"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1676627655,"post_id":75482125,"comment_id":133179515,"body_markdown":"I don&#39;t know, how  you start your application, but in general there are a lot of ways to externalize your configuration. E.g. you could add a custom aplication.properties on start witth cli params: ``` --spring.config.location```. There are many other ways, for further info: https://docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html/boot-features-external-config.html","body":"I don&#39;t know, how  you start your application, but in general there are a lot of ways to externalize your configuration. E.g. you could add a custom aplication.properties on start witth cli params: ``` --spring.config.location```. There are many other ways, for further info: <a href=\"https://docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":9173276,"reputation":608,"user_id":6819920,"display_name":"PiNaKa30"},"score":0,"creation_date":1676635960,"post_id":75482125,"comment_id":133181838,"body_markdown":"You should expose the JDBC Connection Class via a class, an interface or an abstract class. Then, when you import this Jar in another project, that project class can override the functions to set the values.","body":"You should expose the JDBC Connection Class via a class, an interface or an abstract class. Then, when you import this Jar in another project, that project class can override the functions to set the values."}],"answers":[{"tags":[],"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676642445,"creation_date":1676642445,"answer_id":75485257,"question_id":75482125,"body_markdown":"I finally managed to fix my issue. I&#39;ve been about to delete the question, but I thought it could be useful for someone else in the future, so I decide to add an answer:\r\n\r\n(I&#39;ll explain for people without much experience, like me)\r\n\r\nAnd a &quot;Tool project&quot;: which will produce a JAR\r\nI have a &quot;Main project&quot;: which will import the JAR to take advantage of the Tool Project features.\r\n\r\nIn order to create a tool (or a utility project. I think it&#39;s the same thing), I created a Spring Boot project, as I usually would do.\r\n\r\nThat tool project doesn&#39;t need to have controllers. Instead, it has Services with public methods, which Main Project will use. Also, if needed (as in my particular case), it has Entities and Repositories.\r\n\r\nIn the Tool Project&#39;s POM.xml file, place the least amount of dependencies possible. Don&#39;t place any dependencies like `MySQL`, `JPA`, etc... since the Main Project will have them as well. Also, remove the `&lt;parent&gt;` tag and its content.\r\n\r\nYou can also delete de Application class (The starter class) or just comment the `@SpringBootApplication` annotation.\r\n\r\nIn the application.properties (or YML), you don&#39;t really need to have anything.\r\n\r\nAfter that, unless I forgot something, you&#39;re ready to go:\r\n\r\n1. Clean\r\n2. Maven Update\r\n3. Install\r\n\r\nAfter you install, a new folder will be created inside:\r\n\r\n`C:\\Users\\YOUR_USER\\.m2\\repository\\com\\guillermo\\myTool\\MyTool\\1.0.0`\r\n\r\nNow, go to your Main Project and add the dependency for the tool.\r\n\r\nMine is as follows:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.guillermo.myTool&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;MyTool&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI really hope this helps someone!","title":"How to manage application.properties in a utility project","body":"<p>I finally managed to fix my issue. I've been about to delete the question, but I thought it could be useful for someone else in the future, so I decide to add an answer:</p>\n<p>(I'll explain for people without much experience, like me)</p>\n<p>And a &quot;Tool project&quot;: which will produce a JAR\nI have a &quot;Main project&quot;: which will import the JAR to take advantage of the Tool Project features.</p>\n<p>In order to create a tool (or a utility project. I think it's the same thing), I created a Spring Boot project, as I usually would do.</p>\n<p>That tool project doesn't need to have controllers. Instead, it has Services with public methods, which Main Project will use. Also, if needed (as in my particular case), it has Entities and Repositories.</p>\n<p>In the Tool Project's POM.xml file, place the least amount of dependencies possible. Don't place any dependencies like <code>MySQL</code>, <code>JPA</code>, etc... since the Main Project will have them as well. Also, remove the <code>&lt;parent&gt;</code> tag and its content.</p>\n<p>You can also delete de Application class (The starter class) or just comment the <code>@SpringBootApplication</code> annotation.</p>\n<p>In the application.properties (or YML), you don't really need to have anything.</p>\n<p>After that, unless I forgot something, you're ready to go:</p>\n<ol>\n<li>Clean</li>\n<li>Maven Update</li>\n<li>Install</li>\n</ol>\n<p>After you install, a new folder will be created inside:</p>\n<p><code>C:\\Users\\YOUR_USER\\.m2\\repository\\com\\guillermo\\myTool\\MyTool\\1.0.0</code></p>\n<p>Now, go to your Main Project and add the dependency for the tool.</p>\n<p>Mine is as follows:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.guillermo.myTool&lt;/groupId&gt;\n    &lt;artifactId&gt;MyTool&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I really hope this helps someone!</p>\n"}],"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676642445,"creation_date":1676624360,"question_id":75482125,"body_markdown":"I&#39;m working on a project intended for managing images (it creates a table in the database with references to the image files so I don&#39;t need to upload them directly to the database). I&#39;m trying to create this project as a JAR that I can import in any other project.\r\n\r\nSo far, I can create the JAR file, but when I import this JAR file in another project so I can use its features, it seems like the imported JAR will not use the destination project&#39;s application.properties. It will use its own.\r\n\r\nThe only important thing in the application.properties to be set (to get it to work) is the jdbc driver and the database url and credentials, but it should be using the info contained in the destination project application.properties file.\r\n\r\nAnd if I delete or rename the utility project application.properties I won&#39;t be able to generate the JAR.\r\n\r\nHow am I supposed to do this?\r\n\r\n","title":"How to manage application.properties in a utility project","body":"<p>I'm working on a project intended for managing images (it creates a table in the database with references to the image files so I don't need to upload them directly to the database). I'm trying to create this project as a JAR that I can import in any other project.</p>\n<p>So far, I can create the JAR file, but when I import this JAR file in another project so I can use its features, it seems like the imported JAR will not use the destination project's application.properties. It will use its own.</p>\n<p>The only important thing in the application.properties to be set (to get it to work) is the jdbc driver and the database url and credentials, but it should be using the info contained in the destination project application.properties file.</p>\n<p>And if I delete or rename the utility project application.properties I won't be able to generate the JAR.</p>\n<p>How am I supposed to do this?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676648430,"post_id":75485238,"comment_id":133185565,"body_markdown":"You haven&#39;t shown a receiver, and removing all annotations, specifically the relationship ones, is less helpful. What does this mean &quot;But the receiver should has his diet even if the creator will remove whole structure&quot;? It isn&#39;t clear why you need to duplicate anything at all or why you&#39;d go with that approach - if receiver has a reference to a diet, just dereference it (null it out, clear the list, what ever). What exactly are you looking to have - seems like you want a Diet to reference the original receiver(s?) always, but be able to dereference the relationship from the receiver side.","body":"You haven&#39;t shown a receiver, and removing all annotations, specifically the relationship ones, is less helpful. What does this mean &quot;But the receiver should has his diet even if the creator will remove whole structure&quot;? It isn&#39;t clear why you need to duplicate anything at all or why you&#39;d go with that approach - if receiver has a reference to a diet, just dereference it (null it out, clear the list, what ever). What exactly are you looking to have - seems like you want a Diet to reference the original receiver(s?) always, but be able to dereference the relationship from the receiver side."},{"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"score":0,"creation_date":1676654893,"post_id":75485238,"comment_id":133187586,"body_markdown":"I don&#39;t want situation when receiver has null values under the Meal or Product included in assigned Diet after the possible deletion whole diet by creator.\nThat&#39;s why I can not allow to onDelete process because of foreign keys, whole structure would be removed. \nSo I decided to copy db record and set id as a new value (in my case, generated automatically) I made copy constructor. \nBut because of the nested structure lower entities are duplicating ids anyway and I can not set it to null/other id because hibernate won&#39;t allow me to do that.","body":"I don&#39;t want situation when receiver has null values under the Meal or Product included in assigned Diet after the possible deletion whole diet by creator. That&#39;s why I can not allow to onDelete process because of foreign keys, whole structure would be removed.  So I decided to copy db record and set id as a new value (in my case, generated automatically) I made copy constructor.  But because of the nested structure lower entities are duplicating ids anyway and I can not set it to null/other id because hibernate won&#39;t allow me to do that."},{"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"score":0,"creation_date":1676655039,"post_id":75485238,"comment_id":133187631,"body_markdown":"I didn&#39;t show receiver because it comes from accessToken and maybe I don&#39;t need that whole entity in this ms. Maybe it could be stored only as table with id_receiver id_diet. \nI would like to copy whole structure including all nested Ids","body":"I didn&#39;t show receiver because it comes from accessToken and maybe I don&#39;t need that whole entity in this ms. Maybe it could be stored only as table with id_receiver id_diet.  I would like to copy whole structure including all nested Ids"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676655802,"post_id":75485238,"comment_id":133187890,"body_markdown":"Why would a null be included in data? Deletion is something you and your settings are doing, not a requirement of merging in changes. You need to outline your use case. A receiver has a diet all worked out.. then what? They make a change and what do you want to happen exactly. I&#39;m guessing you need a diet to be immutable, such that any change to the graph is treated like an entirely new version and persisted as such, much like history data or auditing is done. YOU are causing deletion. If you don&#39;t want to allow a diet to be deleted, don&#39;t. Mark it as deleted (known as soft delete) instead.","body":"Why would a null be included in data? Deletion is something you and your settings are doing, not a requirement of merging in changes. You need to outline your use case. A receiver has a diet all worked out.. then what? They make a change and what do you want to happen exactly. I&#39;m guessing you need a diet to be immutable, such that any change to the graph is treated like an entirely new version and persisted as such, much like history data or auditing is done. YOU are causing deletion. If you don&#39;t want to allow a diet to be deleted, don&#39;t. Mark it as deleted (known as soft delete) instead."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676656109,"post_id":75485238,"comment_id":133188004,"body_markdown":"If you are having problems with fk constraints - show the mappings and the actual details. There should be no issue with setting a FK to null unless you&#39;ve marked the relationship as not-nullable and generated a not-null constraint on the column. But if the full diet is meant to be immutable, you probably need to clone the full graph, or find a good way to version each piece independently - you&#39;ll basically be reinventing history/auditing though. You can mark the version as part of the ID (composite id) if you want, so that the app can see and use multiple versions.","body":"If you are having problems with fk constraints - show the mappings and the actual details. There should be no issue with setting a FK to null unless you&#39;ve marked the relationship as not-nullable and generated a not-null constraint on the column. But if the full diet is meant to be immutable, you probably need to clone the full graph, or find a good way to version each piece independently - you&#39;ll basically be reinventing history/auditing though. You can mark the version as part of the ID (composite id) if you want, so that the app can see and use multiple versions."},{"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"score":0,"creation_date":1676669579,"post_id":75485238,"comment_id":133191241,"body_markdown":"Let me try clarify it.","body":"Let me try clarify it."},{"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"score":0,"creation_date":1676670039,"post_id":75485238,"comment_id":133191348,"body_markdown":"Let me try clarify it. Creator can create diet/meal/product in one request or separately. Which means all ids are generated automatically by hibernate. In diet there is a field (list of receivers ids). Creator should see all diets he made and he should has chance to remove them. Each receiver should get assigned diet whenever he want. It&#39;s permanent. If the creator remove diet with assigned receivers then, they will lose chance to get their diets. That&#39;s why I want to duplicate a records just in case. Without a list of receivers ids but in relation OneToOne","body":"Let me try clarify it. Creator can create diet/meal/product in one request or separately. Which means all ids are generated automatically by hibernate. In diet there is a field (list of receivers ids). Creator should see all diets he made and he should has chance to remove them. Each receiver should get assigned diet whenever he want. It&#39;s permanent. If the creator remove diet with assigned receivers then, they will lose chance to get their diets. That&#39;s why I want to duplicate a records just in case. Without a list of receivers ids but in relation OneToOne"},{"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"score":0,"creation_date":1676670167,"post_id":75485238,"comment_id":133191379,"body_markdown":"If I will add @onDelete annotations all nested and connected records would be deleted, right? So if creator would remove product in meal1 in diet1, then it will be removed from all places, including that cloned record,  unless I will replace all ids in product, meal, diet to lose all foreign keys with original record","body":"If I will add @onDelete annotations all nested and connected records would be deleted, right? So if creator would remove product in meal1 in diet1, then it will be removed from all places, including that cloned record,  unless I will replace all ids in product, meal, diet to lose all foreign keys with original record"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676813236,"post_id":75485238,"comment_id":133208811,"body_markdown":"OnDelete clears the graph when you delete the root- why would you delete the root or even add that annotation or cascade option?","body":"OnDelete clears the graph when you delete the root- why would you delete the root or even add that annotation or cascade option?"}],"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676642329,"creation_date":1676642329,"question_id":75485238,"body_markdown":"I&#39;m stuck with one problem which is that \r\nI have 3 Entities with relations (OneToMany) between them \r\nI will simplify it without all annotations and fields\r\n\r\n```\r\n@Entity(name = &quot;diet&quot;)\r\npublic class Diet \r\n    @Id\r\n    private String id;\r\n\r\n    private List&lt;Meal&gt; mealList = new ArrayList&lt;&gt;();\r\n    Set&lt;String&gt; receiversIds;\r\n\r\n\r\n@Entity(name = &quot;meal&quot;)\r\npublic class Meal {\r\n    @Id\r\n    private String id;\r\n\r\n  \r\n    private List&lt;Product&gt; productList = new ArrayList&lt;&gt;();\r\n\r\n\r\n@Entity(name = &quot;product&quot;)\r\npublic class Product {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n```\r\nSo, the diet can be created including field receiversIds.\r\nSo if the receiver has assigned diet I want him to have that diet for good. \r\nIf creator of the diets wants to remove all diets he could do that. \r\nBut the receiver should has his diet even if the creator will remove whole structure.\r\nI decided to duplicate the row and put it in another table just for the receiver. \r\nHere is the deal, If I will create a new Entity for receiver just to make a relation between Diet and him, then deletion will affect that table too because of the foreign keys in all levels. \r\nShould I actually duplicate all entities : diet, meal, product and map original one to the duplicate structure just to create new entity tree and save that as an another record?\r\nUnless there is any other possibility to avoid deletion in few level relationship structure\r\n\r\n\r\n\r\n\r\n","title":"Duplicate jpa entity to another table avoiding potential deletion because of foreign keys","body":"<p>I'm stuck with one problem which is that\nI have 3 Entities with relations (OneToMany) between them\nI will simplify it without all annotations and fields</p>\n<pre><code>@Entity(name = &quot;diet&quot;)\npublic class Diet \n    @Id\n    private String id;\n\n    private List&lt;Meal&gt; mealList = new ArrayList&lt;&gt;();\n    Set&lt;String&gt; receiversIds;\n\n\n@Entity(name = &quot;meal&quot;)\npublic class Meal {\n    @Id\n    private String id;\n\n  \n    private List&lt;Product&gt; productList = new ArrayList&lt;&gt;();\n\n\n@Entity(name = &quot;product&quot;)\npublic class Product {\n\n    @Id\n    private String id;\n\n</code></pre>\n<p>So, the diet can be created including field receiversIds.\nSo if the receiver has assigned diet I want him to have that diet for good.\nIf creator of the diets wants to remove all diets he could do that.\nBut the receiver should has his diet even if the creator will remove whole structure.\nI decided to duplicate the row and put it in another table just for the receiver.\nHere is the deal, If I will create a new Entity for receiver just to make a relation between Diet and him, then deletion will affect that table too because of the foreign keys in all levels.\nShould I actually duplicate all entities : diet, meal, product and map original one to the duplicate structure just to create new entity tree and save that as an another record?\nUnless there is any other possibility to avoid deletion in few level relationship structure</p>\n"},{"tags":["java","spring-boot","rest","unit-testing","controller-advice"],"owner":{"account_id":11751385,"reputation":358,"user_id":8600439,"display_name":"Edgar Hernandez "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676642232,"creation_date":1676642232,"question_id":75485224,"body_markdown":"I have a @NotNull validation for some fields in a POJO which represents my request params:\r\n\r\nEndpoint:\r\n\r\n    public ResponseEntity&lt;Void&gt; initializeLaunchPost(@Valid OidcFlowInitRequest request) throws LtiValidationException {\r\n\r\nRequest Body\r\n\r\n    @RequiredArgsConstructor\r\n    @ToString\r\n    @Getter\r\n    public class OidcFlowInitRequest { //java record public record keyword\r\n        @NotNull\r\n        private final String iss;\r\n        @NotNull\r\n        private final String loginHint;\r\n        @NotNull\r\n        private final String targetLinkUri;\r\n    }\r\n\r\nI&#39;m performing a test to check the exception thrown:\r\n\r\n    @Test\r\n        void whenRequiredParamNotPassedReturnBadRequest() throws Exception {\r\n            MultiValueMap&lt;String, String&gt; wrongInitFlowRequestParams = new LinkedMultiValueMap&lt;&gt;(initFlowRequestParams);\r\n            wrongInitFlowRequestParams.remove(&quot;iss&quot;);\r\n    \r\n            mockMvc.perform(post(OIDC_INIT_FLOW_ENDPOINT).contentType(MediaType.APPLICATION_FORM_URLENCODED).params(wrongInitFlowRequestParams))\r\n                    .andExpect(status().isBadRequest()).andExpect(jsonPath(&quot;$.description&quot;, containsString(&quot;Mandatory request param&quot;)))\r\n                    .andDo(print());\r\n        }\r\n\r\nThe problem is that the only way to execute my exception handler is overriding this method which is marked as deprecated and for removal:\r\n\r\n    @RestControllerAdvice\r\n    public class ControllerExceptionAdvice extends ResponseEntityExceptionHandler {\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleBindException(BindException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\r\n            String field = ex.getFieldError().getField();\r\n            LtiErrorResponse body = new LtiErrorResponse(HttpStatus.BAD_REQUEST.value(),\r\n                    &quot;Mandatory request param &lt;&quot; + field + &quot;&gt; not present&quot;);\r\n            return handleExceptionInternal(ex, body, headers, status, request);\r\n        }\r\n    }\r\n\r\nAccording to some post the test should be throwing MethodArgumentNotValid but if I implement that method is not executed. In fact, my test prints this in the console:\r\n\r\n    Resolved Exception:\r\n                 Type = org.springframework.validation.BindException\r\n\r\nSo what other alternative do I have? My current solution it&#39;s not future proved.","title":"How to handle a BindException thrown by @Valid annotation using a controller advice which extends ResponseEntityExceptionHandler?","body":"<p>I have a @NotNull validation for some fields in a POJO which represents my request params:</p>\n<p>Endpoint:</p>\n<pre><code>public ResponseEntity&lt;Void&gt; initializeLaunchPost(@Valid OidcFlowInitRequest request) throws LtiValidationException {\n</code></pre>\n<p>Request Body</p>\n<pre><code>@RequiredArgsConstructor\n@ToString\n@Getter\npublic class OidcFlowInitRequest { //java record public record keyword\n    @NotNull\n    private final String iss;\n    @NotNull\n    private final String loginHint;\n    @NotNull\n    private final String targetLinkUri;\n}\n</code></pre>\n<p>I'm performing a test to check the exception thrown:</p>\n<pre><code>@Test\n    void whenRequiredParamNotPassedReturnBadRequest() throws Exception {\n        MultiValueMap&lt;String, String&gt; wrongInitFlowRequestParams = new LinkedMultiValueMap&lt;&gt;(initFlowRequestParams);\n        wrongInitFlowRequestParams.remove(&quot;iss&quot;);\n\n        mockMvc.perform(post(OIDC_INIT_FLOW_ENDPOINT).contentType(MediaType.APPLICATION_FORM_URLENCODED).params(wrongInitFlowRequestParams))\n                .andExpect(status().isBadRequest()).andExpect(jsonPath(&quot;$.description&quot;, containsString(&quot;Mandatory request param&quot;)))\n                .andDo(print());\n    }\n</code></pre>\n<p>The problem is that the only way to execute my exception handler is overriding this method which is marked as deprecated and for removal:</p>\n<pre><code>@RestControllerAdvice\npublic class ControllerExceptionAdvice extends ResponseEntityExceptionHandler {\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleBindException(BindException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request) {\n        String field = ex.getFieldError().getField();\n        LtiErrorResponse body = new LtiErrorResponse(HttpStatus.BAD_REQUEST.value(),\n                &quot;Mandatory request param &lt;&quot; + field + &quot;&gt; not present&quot;);\n        return handleExceptionInternal(ex, body, headers, status, request);\n    }\n}\n</code></pre>\n<p>According to some post the test should be throwing MethodArgumentNotValid but if I implement that method is not executed. In fact, my test prints this in the console:</p>\n<pre><code>Resolved Exception:\n             Type = org.springframework.validation.BindException\n</code></pre>\n<p>So what other alternative do I have? My current solution it's not future proved.</p>\n"},{"tags":["java","json","generics","jackson"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676641941,"creation_date":1676641941,"answer_id":75485157,"question_id":75484880,"body_markdown":"Try a `TypeReference` instance:\r\n\r\n```\r\nclass Wrapper&lt;T&gt; {\r\n    private int num;\r\n    private T[] res;\r\n        // ... getters and setters\r\n}\r\n...\r\nObjectMapper mapper = new ObjectMapper();\r\nWrapper&lt;Person&gt; wrapper = mapper.readValue(reqString, new TypeReference&lt;Wrapper&lt;Person&gt;&gt;{})\r\n```\r\n\r\nGeneric arrays often cause problem, so I&#39;d suggest using a `List&lt;T&gt;` instead:\r\n\r\n```\r\nclass Wrapper&lt;T&gt; {\r\n    private int num;\r\n    private List&lt;T&gt; res;\r\n        // ... getters and setters\r\n}\r\n```\r\n\r\nYou can implement a getter which converts the list to an array upon access. To deserialize, you will still need to use a `TypeReference` instance.\r\n\r\nOr define a non-generic wrapper to avoid the TypeReference:\r\n\r\n```\r\nclass PersonWrapper {\r\n    private int num;\r\n    private Person[] res;\r\n        // ... getters and setters\r\n}\r\n```","title":"Converting JSON input using Jackson into generic array","body":"<p>Try a <code>TypeReference</code> instance:</p>\n<pre><code>class Wrapper&lt;T&gt; {\n    private int num;\n    private T[] res;\n        // ... getters and setters\n}\n...\nObjectMapper mapper = new ObjectMapper();\nWrapper&lt;Person&gt; wrapper = mapper.readValue(reqString, new TypeReference&lt;Wrapper&lt;Person&gt;&gt;{})\n</code></pre>\n<p>Generic arrays often cause problem, so I'd suggest using a <code>List&lt;T&gt;</code> instead:</p>\n<pre><code>class Wrapper&lt;T&gt; {\n    private int num;\n    private List&lt;T&gt; res;\n        // ... getters and setters\n}\n</code></pre>\n<p>You can implement a getter which converts the list to an array upon access. To deserialize, you will still need to use a <code>TypeReference</code> instance.</p>\n<p>Or define a non-generic wrapper to avoid the TypeReference:</p>\n<pre><code>class PersonWrapper {\n    private int num;\n    private Person[] res;\n        // ... getters and setters\n}\n</code></pre>\n"}],"owner":{"account_id":9092138,"reputation":3,"user_id":6767526,"display_name":"Srpski_Ratnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75485157,"answer_count":1,"score":0,"last_activity_date":1676641941,"creation_date":1676640321,"question_id":75484880,"body_markdown":"I have the following JSON file, where one field is the number of elements in an array (not relevant)\r\nand the other is the &quot;res&quot; field of type Person:\r\n\r\n\r\n```\r\n{\r\n\t&quot;num&quot; : 2,\r\n\t&quot;res&quot; : [\r\n\t\t{\r\n\t\t\t&quot;id&quot;: 1,\r\n\t\t\t&quot;name&quot;: &quot;Person1&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;id&quot;: 2,\r\n\t\t\t&quot;name&quot;: &quot;Person2&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\nPerson class:\r\n\r\n```\r\npublic class Person {\r\n\tint id;\r\n\tString name;\r\n}\r\n```\r\nHow to convert this JSON into Person[] array? \r\n\r\nI&#39;ve tried using the Generic wrapper class and readValue\r\nmethod:\r\n\r\n\r\n```\r\nclass Wrapper&lt;T&gt; {\r\n\tprivate int num;\r\n\tprivate T[] res;\r\n        // ... getters and setters\r\n}\r\n...\r\nObjectMapper mapper = new ObjectMapper();\r\nWrapper&lt;Person&gt; wrapper = mapper.readValue(reqString, Wrapper.class)\r\n```\r\n\r\nand I get 2 hash maps instead of Person objects. Is there an easier way to get the Person[] array? I was\r\nthinking of somehow just filtering the &quot;res&quot; field and then doing readValue, but I don&#39;t have a clear idea of how to do that.\r\n\r\n\r\n","title":"Converting JSON input using Jackson into generic array","body":"<p>I have the following JSON file, where one field is the number of elements in an array (not relevant)\nand the other is the &quot;res&quot; field of type Person:</p>\n<pre><code>{\n    &quot;num&quot; : 2,\n    &quot;res&quot; : [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Person1&quot;\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;Person2&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Person class:</p>\n<pre><code>public class Person {\n    int id;\n    String name;\n}\n</code></pre>\n<p>How to convert this JSON into Person[] array?</p>\n<p>I've tried using the Generic wrapper class and readValue\nmethod:</p>\n<pre><code>class Wrapper&lt;T&gt; {\n    private int num;\n    private T[] res;\n        // ... getters and setters\n}\n...\nObjectMapper mapper = new ObjectMapper();\nWrapper&lt;Person&gt; wrapper = mapper.readValue(reqString, Wrapper.class)\n</code></pre>\n<p>and I get 2 hash maps instead of Person objects. Is there an easier way to get the Person[] array? I was\nthinking of somehow just filtering the &quot;res&quot; field and then doing readValue, but I don't have a clear idea of how to do that.</p>\n"},{"tags":["java","file","types"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1676401976,"post_id":75451746,"comment_id":133128791,"body_markdown":"Please show an example of file contents to illustrate your question/problem","body":"Please show an example of file contents to illustrate your question/problem"}],"answers":[{"comments":[{"owner":{"account_id":21965154,"reputation":1,"user_id":16242517,"display_name":"Broliton syan"},"score":0,"creation_date":1676401370,"post_id":75452159,"comment_id":133128606,"body_markdown":"maybe this way of reading the file is not the correct way and it is better to save it in a String array. Because the file may contain a space between each number or a comma and the Scanner.nextInt() method fails ? So if I am right, the data in the file is considered as characters?","body":"maybe this way of reading the file is not the correct way and it is better to save it in a String array. Because the file may contain a space between each number or a comma and the Scanner.nextInt() method fails ? So if I am right, the data in the file is considered as characters?"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1676401784,"post_id":75452159,"comment_id":133128738,"body_markdown":"We can impose more formats on top of the existing data. For example, if you specifically expect the text to use digit symbols that **represent** a number, then you can read that text and then try to **convert** it to integer. In Java, `Scanner.nextInt` works exactly that way: it will use some logic to decide how much of the file should be used to represent &quot;a number&quot;, and then try to interpret the digit symbols to compute an integer, and return that. When the data is wrong, an exception is raised instead.","body":"We can impose more formats on top of the existing data. For example, if you specifically expect the text to use digit symbols that <b>represent</b> a number, then you can read that text and then try to <b>convert</b> it to integer. In Java, <code>Scanner.nextInt</code> works exactly that way: it will use some logic to decide how much of the file should be used to represent &quot;a number&quot;, and then try to interpret the digit symbols to compute an integer, and return that. When the data is wrong, an exception is raised instead."},{"owner":{"account_id":7123163,"reputation":359,"user_id":5447035,"display_name":"Diego Ferruchelli"},"score":0,"creation_date":1676477614,"post_id":75452159,"comment_id":133145670,"body_markdown":"@Brolitonsyan There is no &quot;right&quot; answer to your question. Only you know if you can trust your data (which is probably not really _yours_ and probably hasn&#39;t been &quot;sanitized&quot;). If you&#39;re sure about the contents of the file (and you&#39;re willing to handle and accept an ocasional exception, when the format is not the expected), your code is perfectly correct. Me? When in doubt, I prefer to read each line into a string (text files are usually divided into lines) and parse it &quot;manually&quot;.","body":"@Brolitonsyan There is no &quot;right&quot; answer to your question. Only you know if you can trust your data (which is probably not really <i>yours</i> and probably hasn&#39;t been &quot;sanitized&quot;). If you&#39;re sure about the contents of the file (and you&#39;re willing to handle and accept an ocasional exception, when the format is not the expected), your code is perfectly correct. Me? When in doubt, I prefer to read each line into a string (text files are usually divided into lines) and parse it &quot;manually&quot;."}],"tags":[],"owner":{"account_id":7123163,"reputation":359,"user_id":5447035,"display_name":"Diego Ferruchelli"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676641842,"creation_date":1676400846,"answer_id":75452159,"question_id":75451746,"body_markdown":"For this matter, a file is just a sequence of bytes. Each byte may *represent* many different things. Files with .txt extension are *supposed to be interpreted as a long sequence of characters* (what we usually call &quot;a string&quot;). That is, each byte (or a very few number of bytes) is interpreted as a character/entity, which may be a letter, a digit [0-9], a punctuation mark, etc. Some of these characters/entities may have special meanings, like &quot;end of line (of text)&quot;.\r\n\r\nWhen you&#39;re reading or writing a file that&#39;s *really* a text file, and you know that some (sub)strings represent numbers, you can do the appropriate conversion (like with any number &quot;contained&quot; in a string). When your code calls `Scanner.nextInt()`, it reads into a string a sequence of bytes that represent digits [0-9], stoping when it finds any other character/entity, and then converts that string to a &quot;real&quot; integer. When your code calls `System.out.println()`, it does exactly the opposite: converts an integer to a string (by means of an implicit `.toString()`).\r\n\r\nPlease be aware that in text files, as in strings, the code (ie. the exact sequence of bits) used to represent a given character/entity is actually arbitrary and depends on a chosen &quot;character set&quot; (like ASCII, EBCDIC, ISO8859*, some of the Unicode variantes, etc).","title":"Inside a txt file we have numbers? Are these numbers considered as a String or as real numbers?","body":"<p>For this matter, a file is just a sequence of bytes. Each byte may <em>represent</em> many different things. Files with .txt extension are <em>supposed to be interpreted as a long sequence of characters</em> (what we usually call &quot;a string&quot;). That is, each byte (or a very few number of bytes) is interpreted as a character/entity, which may be a letter, a digit [0-9], a punctuation mark, etc. Some of these characters/entities may have special meanings, like &quot;end of line (of text)&quot;.</p>\n<p>When you're reading or writing a file that's <em>really</em> a text file, and you know that some (sub)strings represent numbers, you can do the appropriate conversion (like with any number &quot;contained&quot; in a string). When your code calls <code>Scanner.nextInt()</code>, it reads into a string a sequence of bytes that represent digits [0-9], stoping when it finds any other character/entity, and then converts that string to a &quot;real&quot; integer. When your code calls <code>System.out.println()</code>, it does exactly the opposite: converts an integer to a string (by means of an implicit <code>.toString()</code>).</p>\n<p>Please be aware that in text files, as in strings, the code (ie. the exact sequence of bits) used to represent a given character/entity is actually arbitrary and depends on a chosen &quot;character set&quot; (like ASCII, EBCDIC, ISO8859*, some of the Unicode variantes, etc).</p>\n"}],"owner":{"account_id":21965154,"reputation":1,"user_id":16242517,"display_name":"Broliton syan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676551115,"answer_count":1,"score":0,"last_activity_date":1676641842,"creation_date":1676398618,"question_id":75451746,"body_markdown":"I would like to know if inside a .txt there are numbers, are they really numbers or are they Strings? When I say String I mean the type of data, they are not integers, when we see them as numbers we may think they are integers but they are really Strings, could you please confirm it? \r\nI ask this because I am trying to store the data in an array of integers.\r\n\r\n    Scanner s = new Scanner(new File(&quot;numbers.txt&quot;));\r\n\t\tint[] num = new int[s.nextInt()];\r\n\t\tfor (int i = 0; i &lt; num.length; i++) {\r\n\t\t\tnum[i] = s.nextInt();\r\n\t\t}\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; num.length; i++) {\r\n\t\t\tSystem.out.println(num[i]);\r\n\t\t}\r\n\r\n","title":"Inside a txt file we have numbers? Are these numbers considered as a String or as real numbers?","body":"<p>I would like to know if inside a .txt there are numbers, are they really numbers or are they Strings? When I say String I mean the type of data, they are not integers, when we see them as numbers we may think they are integers but they are really Strings, could you please confirm it?\nI ask this because I am trying to store the data in an array of integers.</p>\n<pre><code>Scanner s = new Scanner(new File(&quot;numbers.txt&quot;));\n    int[] num = new int[s.nextInt()];\n    for (int i = 0; i &lt; num.length; i++) {\n        num[i] = s.nextInt();\n    }\n    \n    for (int i = 0; i &lt; num.length; i++) {\n        System.out.println(num[i]);\n    }\n</code></pre>\n"},{"tags":["java","keystore"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1629276620,"post_id":68829204,"comment_id":121641381,"body_markdown":"[This blog post](https://blogs.oracle.com/jtc/jdk9-keytool-transitions-default-keystore-to-pkcs12) suggests that PKCS12 was only introduced as the format in Java 9 and that previous versions used something called &quot;JKS&quot; (which I assume is a Java-specific format).","body":"<a href=\"https://blogs.oracle.com/jtc/jdk9-keytool-transitions-default-keystore-to-pkcs12\" rel=\"nofollow noreferrer\">This blog post</a> suggests that PKCS12 was only introduced as the format in Java 9 and that previous versions used something called &quot;JKS&quot; (which I assume is a Java-specific format)."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1629281002,"post_id":68829204,"comment_id":121643211,"body_markdown":"Java 8 already supports PKCS12 but it is not the default format. If you want to use a PKCS12 keystore with Java 8 you need to pass the parameter &quot;-storetype pkcs12&quot; (see https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html#keytool_option_list) and https://stackoverflow.com/a/11540061/5646962","body":"Java 8 already supports PKCS12 but it is not the default format. If you want to use a PKCS12 keystore with Java 8 you need to pass the parameter &quot;-storetype pkcs12&quot; (see <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html#keytool_option_list\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/tools/unix/&hellip;</a>) and <a href=\"https://stackoverflow.com/a/11540061/5646962\">stackoverflow.com/a/11540061/5646962</a>"},{"owner":{"account_id":18158520,"reputation":125,"user_id":13210232,"display_name":"Martin Ocenas"},"score":3,"creation_date":1629363396,"post_id":68829204,"comment_id":121668682,"body_markdown":"Using `-storetype pkcs12` does not help. `(java 8)$ keytool -list -keystore store.p12 -storetype pkcs12` Ends with `keytool error: java.io.IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)`","body":"Using <code>-storetype pkcs12</code> does not help. <code>(java 8)$ keytool -list -keystore store.p12 -storetype pkcs12</code> Ends with <code>keytool error: java.io.IOException: parseAlgParameters failed: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)</code>"},{"owner":{"account_id":18158520,"reputation":125,"user_id":13210232,"display_name":"Martin Ocenas"},"score":1,"creation_date":1629363691,"post_id":68829204,"comment_id":121668807,"body_markdown":"Also java 8 and it&#39;s keytool can open a PKCS12 keystore (and output says `Keystore type: PKCS12` - so java 8 probably has support for it)\n  if it was generated by java 8 but not if it was generated by java 11.","body":"Also java 8 and it&#39;s keytool can open a PKCS12 keystore (and output says <code>Keystore type: PKCS12</code> - so java 8 probably has support for it)   if it was generated by java 8 but not if it was generated by java 11."},{"owner":{"account_id":17690549,"reputation":155,"user_id":12842412,"display_name":"ysn"},"score":0,"creation_date":1631177690,"post_id":68829204,"comment_id":122154344,"body_markdown":"@MartinOcenas , I am facing the same issue. Any update on the solution which worked ?","body":"@MartinOcenas , I am facing the same issue. Any update on the solution which worked ?"},{"owner":{"account_id":18158520,"reputation":125,"user_id":13210232,"display_name":"Martin Ocenas"},"score":0,"creation_date":1631273663,"post_id":68829204,"comment_id":122184051,"body_markdown":"@ysn Not yet. So far we stick with the solution using external `keytool` and optin `-J-Dkeystore.pkcs12.legacy`. It&#39;s far from ideal, but it works.","body":"@ysn Not yet. So far we stick with the solution using external <code>keytool</code> and optin <code>-J-Dkeystore.pkcs12.legacy</code>. It&#39;s far from ideal, but it works."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1638800484,"post_id":68829204,"comment_id":124177123,"body_markdown":"I bet you&#39;re using 11.0.12 or higher and 8 below 8u301. 11.0.12 up (and 16 up) default to a new stronger encryption in PKCS12 https://www.oracle.com/java/technologies/javase/11-0-12-relnotes.html#JDK-8153005 but this uses PBES2 format and 8 below 8u301 doesn&#39;t handle that correctly https://bugs.openjdk.java.net/browse/JDK-8202837","body":"I bet you&#39;re using 11.0.12 or higher and 8 below 8u301. 11.0.12 up (and 16 up) default to a new stronger encryption in PKCS12 <a href=\"https://www.oracle.com/java/technologies/javase/11-0-12-relnotes.html#JDK-8153005\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a> but this uses PBES2 format and 8 below 8u301 doesn&#39;t handle that correctly <a href=\"https://bugs.openjdk.java.net/browse/JDK-8202837\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8202837</a>"},{"owner":{"account_id":5448356,"reputation":118,"user_id":6373136,"display_name":"Leonid"},"score":0,"creation_date":1664063118,"post_id":68829204,"comment_id":130386096,"body_markdown":"Did not you try System.getProperties().setProperty(&quot;keystore.pkcs12.legacy&quot;, &quot;&quot;); ?","body":"Did not you try System.getProperties().setProperty(&quot;keystore.pkcs12.legacy&quot;, &quot;&quot;); ?"}],"answers":[{"tags":[],"owner":{"account_id":27812196,"reputation":1,"user_id":21234379,"display_name":"marpapa"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676641830,"creation_date":1676641830,"answer_id":75485135,"question_id":68829204,"body_markdown":"If you are running with Java 8 , then change like below\r\n\r\nKeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);","title":"Java keystore - compatibility java 8 &amp; 11","body":"<p>If you are running with Java 8 , then change like below</p>\n<p>KeyStore ks = KeyStore.getInstance(&quot;JKS&quot;);</p>\n"}],"owner":{"account_id":18158520,"reputation":125,"user_id":13210232,"display_name":"Martin Ocenas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11562,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1676641830,"creation_date":1629276405,"question_id":68829204,"body_markdown":"I need to generate a java keystore, using java 11, and be able to use it in both java 8 and java 11. I&#39;m using format PKCS12. For some reason, when I generate it, using keytool from java 11, the keytool from java 8 can&#39;t open it.\r\n\r\nGenerating using java 11\r\n\r\n    (java 11)$ keytool -genkeypair -keyalg RSA -noprompt -alias key -dname &quot;CN=hostname, OU=XX, O=XX, L=YY, S=CZ, C=CZ&quot; -keystore file.p12 -storepass password -keypass password -deststoretype pkcs12\r\n\r\n\r\nFor java 11 the keystore is fine and working. But if I try to read it using java 8\r\n\r\n    (java 8)$ keytool -list -keystore file.p12 \r\n    keytool error: java.io.IOException: Invalid keystore format\r\n\r\nWhy is this happening? I thought PKCS12 is a standardized format, and should be universal. But for some reason it&#39;s not working even between java versions.\r\n\r\n\r\nI was able to solve this issue by switching keytool to legacy generating, using switch `-J-Dkeystore.pkcs12.legacy`. \r\n\r\nI want to change my project to generate keystore in code. Something like:\r\n\r\n    KeyStore ks = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n    ks.load(null, password);\r\n    ks.setKeyEntry(keyAlias, keyPair.getPrivate(), password, certChain);\r\n    ks.store(output, password);\r\n\r\n\r\nBut I&#39;ve encountered same issue. If I generate it in java 11, then java 8 is not able to open it (not using keytool neither in java code). Is there a way to make `KeyStore` class to generate keystore in &quot;compatible&quot; format? Or any other way to generate a keystore in code, so it is compatible?\r\n\r\n  [1]: https://stackoverflow.com/questions/43960761/how-to-store-and-reuse-keypair-in-java/43965528#43965528","title":"Java keystore - compatibility java 8 &amp; 11","body":"<p>I need to generate a java keystore, using java 11, and be able to use it in both java 8 and java 11. I'm using format PKCS12. For some reason, when I generate it, using keytool from java 11, the keytool from java 8 can't open it.</p>\n<p>Generating using java 11</p>\n<pre><code>(java 11)$ keytool -genkeypair -keyalg RSA -noprompt -alias key -dname &quot;CN=hostname, OU=XX, O=XX, L=YY, S=CZ, C=CZ&quot; -keystore file.p12 -storepass password -keypass password -deststoretype pkcs12\n</code></pre>\n<p>For java 11 the keystore is fine and working. But if I try to read it using java 8</p>\n<pre><code>(java 8)$ keytool -list -keystore file.p12 \nkeytool error: java.io.IOException: Invalid keystore format\n</code></pre>\n<p>Why is this happening? I thought PKCS12 is a standardized format, and should be universal. But for some reason it's not working even between java versions.</p>\n<p>I was able to solve this issue by switching keytool to legacy generating, using switch <code>-J-Dkeystore.pkcs12.legacy</code>.</p>\n<p>I want to change my project to generate keystore in code. Something like:</p>\n<pre><code>KeyStore ks = KeyStore.getInstance(&quot;pkcs12&quot;);\nks.load(null, password);\nks.setKeyEntry(keyAlias, keyPair.getPrivate(), password, certChain);\nks.store(output, password);\n</code></pre>\n<p>But I've encountered same issue. If I generate it in java 11, then java 8 is not able to open it (not using keytool neither in java code). Is there a way to make <code>KeyStore</code> class to generate keystore in &quot;compatible&quot; format? Or any other way to generate a keystore in code, so it is compatible?</p>\n"},{"tags":["java","spring","lambda","client","vaadin"],"answers":[{"comments":[{"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"score":0,"creation_date":1676637404,"post_id":75482379,"comment_id":133182260,"body_markdown":"Java already has at least two built-in variants of `MutableObject`. One is `AtomicReference&lt;String&gt;` and the other one in `String[1]`.","body":"Java already has at least two built-in variants of <code>MutableObject</code>. One is <code>AtomicReference&lt;String&gt;</code> and the other one in <code>String[1]</code>."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1676641453,"post_id":75482379,"comment_id":133183504,"body_markdown":"Yes, those are viable options, but still... `AtomicReference` holds volatile a reference, i don&#39;t think atomicity is needed here. `String[]` on the other hand is just unclear. Having readability in mind, i feel that a simple custom class is the best fit in this scenario.","body":"Yes, those are viable options, but still... <code>AtomicReference</code> holds volatile a reference, i don&#39;t think atomicity is needed here. <code>String[]</code> on the other hand is just unclear. Having readability in mind, i feel that a simple custom class is the best fit in this scenario."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676641522,"creation_date":1676625984,"answer_id":75482379,"question_id":75482185,"body_markdown":"I don&#39;t know, if this is the right way in vaadin app, but as a workaround you can somewhat abuse mutable objects to achieve it.\r\n```\r\nclass MutableObject {\r\n\r\n  private String value;\r\n\r\n  //getter,setter\r\n}\r\n```\r\nInstantiate it outside the lambda and set the value inside the function:\r\n```\r\nMutableObject mutableObject = new MutableObject();\r\nUI.getCurrent().getPage().fetchCurrentURL(url -&gt; mutableObject.setValue(url.getPath()));\r\nSystem.out.println(mutableObject.getValue());\r\n```","title":"How can i return the URL using fetchCurrentURL in Vaadin","body":"<p>I don't know, if this is the right way in vaadin app, but as a workaround you can somewhat abuse mutable objects to achieve it.</p>\n<pre><code>class MutableObject {\n\n  private String value;\n\n  //getter,setter\n}\n</code></pre>\n<p>Instantiate it outside the lambda and set the value inside the function:</p>\n<pre><code>MutableObject mutableObject = new MutableObject();\nUI.getCurrent().getPage().fetchCurrentURL(url -&gt; mutableObject.setValue(url.getPath()));\nSystem.out.println(mutableObject.getValue());\n</code></pre>\n"}],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75482379,"answer_count":1,"score":1,"last_activity_date":1676641522,"creation_date":1676624791,"question_id":75482185,"body_markdown":"If im using fetchCurrentURL in Vaadin like that:\r\n\r\n    UI.getCurrent().getPage().fetchCurrentURL(url -&gt; Notification.show(url.getPath()));\r\n\r\nto get a Notification at the website with the current URL of the page as String, how then i can get this value back, i want something like:\r\n\r\n    String s = UI.getCurrent().getPage().fetchCurrentURL(url -&gt; Notification.show(url.getPath()));\r\n\r\n???","title":"How can i return the URL using fetchCurrentURL in Vaadin","body":"<p>If im using fetchCurrentURL in Vaadin like that:</p>\n<pre><code>UI.getCurrent().getPage().fetchCurrentURL(url -&gt; Notification.show(url.getPath()));\n</code></pre>\n<p>to get a Notification at the website with the current URL of the page as String, how then i can get this value back, i want something like:</p>\n<pre><code>String s = UI.getCurrent().getPage().fetchCurrentURL(url -&gt; Notification.show(url.getPath()));\n</code></pre>\n<p>???</p>\n"},{"tags":["java","ibm-mobilefirst"],"comments":[{"owner":{"account_id":3436439,"reputation":3158,"user_id":2879463,"accept_rate":59,"display_name":"Kawinesh S K"},"score":0,"creation_date":1676719566,"post_id":75484963,"comment_id":133196564,"body_markdown":"In the mobile first console you can specify the token expiration time.","body":"In the mobile first console you can specify the token expiration time."},{"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"score":0,"creation_date":1677074831,"post_id":75484963,"comment_id":133265545,"body_markdown":"I was more looking for the architecture and how are tokens stored within mobilefirst and are there any configurations around that.","body":"I was more looking for the architecture and how are tokens stored within mobilefirst and are there any configurations around that."}],"owner":{"account_id":6291,"reputation":11568,"user_id":10522,"accept_rate":78,"display_name":"Berlin Brown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676640787,"creation_date":1676640787,"question_id":75484963,"body_markdown":"We have an issue in a distributed environment where when we login, with our authentication adapter.  After a while, users session is redirected to login.\r\n\r\nWhere are tokens stored on the mobilefirst server?  Is that configurable?","title":"Mobilefirst issues with oauth login security flow and tokens","body":"<p>We have an issue in a distributed environment where when we login, with our authentication adapter.  After a while, users session is redirected to login.</p>\n<p>Where are tokens stored on the mobilefirst server?  Is that configurable?</p>\n"},{"tags":["java","jackson","jax-rs"],"comments":[{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":0,"creation_date":1676606023,"post_id":75479849,"comment_id":133175271,"body_markdown":"Can you post the code of your `ContextResolver`??","body":"Can you post the code of your <code>ContextResolver</code>??"}],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676640390,"creation_date":1676602289,"question_id":75479849,"body_markdown":"I have a very strange situation.\r\n\r\nI have a custom Jackson serializer for Object class inside my Jakarta EE/Sprin Data JPA app which is registered trough `ObjectMapper` inside `ContextResolver` implementation.\r\n\r\n \r\nI have my REST endpoint which looks like this:\r\n\r\n    @GET\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @Roles({&quot;user&quot;, &quot;operator&quot;, &quot;admin&quot;})\r\n        public Response fetchAll(@Context SecurityContext securityContext) {\r\n            return ResponseUtils.createSuccessResponse(facade.findAllPrimary());\r\n        }\r\n\r\ncreateSuccessResponse method returns a type Response which looks like this:\r\n\r\n    public class Response {\r\n    \r\n    \tprivate String message;\r\n    \tprivate int code;\r\n    \tprivate Object data;\r\n    }\r\n\r\nand sets the value of facade.findAllPrimary() which returns a List&lt;BlogPost&gt; to its data field.\r\n\r\nSo, the response JSON looks like this:\r\n\r\n    {\r\n    &quot;message&quot;: &quot;ok&quot;,\r\n    &quot;code&quot;: 0,\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;id&quot;: null,\r\n            &quot;uniqueId&quot;: &quot;481333a7-5101-4bbd-9997-34c0e58160cd&quot;,\r\n            &quot;title&quot;: &quot;&quot;,\r\n            &quot;text&quot;: null,\r\n            &quot;hidden&quot;: true,\r\n            &quot;dateOfSubmission&quot;: null,\r\n            &quot;likes&quot;: 0,\r\n            &quot;dislikes&quot;: 0,\r\n            &quot;comments&quot;: null,\r\n            &quot;commentsIds&quot;: null\r\n        },\r\n        {\r\n            &quot;id&quot;: null,\r\n            &quot;uniqueId&quot;: &quot;2279f268-042c-42cd-8d5d-44edfc818d9b&quot;,\r\n            &quot;title&quot;: &quot;&quot;,\r\n            &quot;text&quot;: null,\r\n            &quot;hidden&quot;: true,\r\n            &quot;dateOfSubmission&quot;: null,\r\n            &quot;likes&quot;: 0,\r\n            &quot;dislikes&quot;: 0,\r\n            &quot;comments&quot;: null,\r\n            &quot;commentsIds&quot;: null\r\n        }\r\n    ]\r\n}\r\n\r\nMy custom serializer looks like this:\r\n\r\n        public class RootEntitySerializer extends JsonSerializer&lt;Object&gt; {\r\n        .\r\n        .\r\n        .\r\n        @Override\r\n        public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n   \r\n\r\n        .\r\n        .\r\n        .\r\n        }\r\n\r\nWhen I call the REST endpoint to trigger the serialization, and I put the debugger at the first line of the serialize method, I see that it&#39;s triggered just for the BlogPost objects, but not for the Response object.\r\n\r\nWhy?\r\n\r\nEDIT: Here&#39;s the code of my ContextResolver:\r\n\r\n    package org.example.config;\r\n    \r\n    import com.fasterxml.jackson.databind.*;\r\n    import com.fasterxml.jackson.databind.deser.BeanDeserializerModifier;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\r\n    import com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.Application;\r\n    import jakarta.ws.rs.core.Context;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    import jakarta.ws.rs.core.SecurityContext;\r\n    import jakarta.ws.rs.ext.ContextResolver;\r\n    import jakarta.ws.rs.ext.Provider;\r\n    import org.example.model.RootEntity;\r\n    import org.example.utils.Response;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    \r\n    @Provider\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public class JacksonDatatypeJacksonProducer implements ContextResolver&lt;ObjectMapper&gt; {\r\n    \r\n        @Context\r\n        private Application application;\r\n    \r\n        private static Logger LOG = LoggerFactory.getLogger(JacksonDatatypeJacksonProducer.class);\r\n    \r\n        private final ObjectMapper objectMapper;\r\n    \r\n        private static CustomBeanSerializerModifier customBeanSerializerModifier;\r\n        private static CustomBeanDeserializerModifier customBeanDeserializerModifier;\r\n    \r\n        public JacksonDatatypeJacksonProducer() {\r\n            SecurityContext securityContext = null;\r\n    \r\n            if (application != null) {\r\n                securityContext = ((SecurityContext)application.getProperties().get(&quot;securityContext&quot;));\r\n            }\r\n    \r\n            this.objectMapper = createDefaultMapper(securityContext);\r\n        }\r\n    \r\n        @Override\r\n        public ObjectMapper getContext(Class&lt;?&gt; type) {\r\n            SecurityContext securityContext = ((SecurityContext)application.getProperties().get(&quot;securityContext&quot;));\r\n            customBeanSerializerModifier.setSecurityContext(securityContext);\r\n            customBeanDeserializerModifier.setSecurityContext(securityContext);\r\n            SimpleModule module = new SimpleModule();\r\n            module.setSerializerModifier(customBeanSerializerModifier);\r\n            module.setDeserializerModifier(customBeanDeserializerModifier);\r\n            objectMapper.registerModule(module);\r\n    \r\n            return objectMapper;\r\n        }\r\n    \r\n        private static ObjectMapper createDefaultMapper(SecurityContext securityContext) {\r\n            LOG.warn(&quot;CREATING OBJECT MAPPER&quot;);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.registerModule(new JavaTimeModule());\r\n            mapper.configure(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false); // enable writing dates as strings\r\n            mapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;)); // set custom date format\r\n    \r\n            SimpleModule module = new SimpleModule();\r\n            customBeanSerializerModifier = new CustomBeanSerializerModifier();\r\n            customBeanDeserializerModifier = new CustomBeanDeserializerModifier();\r\n            module.setSerializerModifier(customBeanSerializerModifier);\r\n            module.setDeserializerModifier(customBeanDeserializerModifier);\r\n            mapper.registerModule(module);\r\n    \r\n            return mapper;\r\n        }\r\n    \r\n        private static class CustomBeanSerializerModifier extends BeanSerializerModifier {\r\n            SecurityContext securityContext = null;\r\n            @Override\r\n            public JsonSerializer&lt;?&gt; modifySerializer(com.fasterxml.jackson.databind.SerializationConfig config, com.fasterxml.jackson.databind.BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\r\n                if (RootEntity.class.isAssignableFrom(beanDesc.getBeanClass()) || beanDesc.getBeanClass().equals(Response.class)) {\r\n                    return new RootEntitySerializer((JsonSerializer&lt;Object&gt;) serializer, this.securityContext);\r\n                }\r\n                return serializer;\r\n            }\r\n            public void setSecurityContext(SecurityContext securityContext) {\r\n                this.securityContext = securityContext;\r\n            }\r\n        }\r\n    \r\n        private static class CustomBeanDeserializerModifier extends BeanDeserializerModifier {\r\n            SecurityContext securityContext = null;\r\n    \r\n            @Override\r\n            public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config, BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer) {\r\n                return new RootEntityDeserializer(beanDesc.getBeanClass(), securityContext);\r\n            }\r\n    \r\n            public void setSecurityContext(SecurityContext securityContext) {\r\n                this.securityContext = securityContext;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Custom Jackson serializer never gets triggered for one object but it gets for another","body":"<p>I have a very strange situation.</p>\n<p>I have a custom Jackson serializer for Object class inside my Jakarta EE/Sprin Data JPA app which is registered trough <code>ObjectMapper</code> inside <code>ContextResolver</code> implementation.</p>\n<p>I have my REST endpoint which looks like this:</p>\n<pre><code>@GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Roles({&quot;user&quot;, &quot;operator&quot;, &quot;admin&quot;})\n    public Response fetchAll(@Context SecurityContext securityContext) {\n        return ResponseUtils.createSuccessResponse(facade.findAllPrimary());\n    }\n</code></pre>\n<p>createSuccessResponse method returns a type Response which looks like this:</p>\n<pre><code>public class Response {\n\n    private String message;\n    private int code;\n    private Object data;\n}\n</code></pre>\n<p>and sets the value of facade.findAllPrimary() which returns a List to its data field.</p>\n<p>So, the response JSON looks like this:</p>\n<pre><code>{\n&quot;message&quot;: &quot;ok&quot;,\n&quot;code&quot;: 0,\n&quot;data&quot;: [\n    {\n        &quot;id&quot;: null,\n        &quot;uniqueId&quot;: &quot;481333a7-5101-4bbd-9997-34c0e58160cd&quot;,\n        &quot;title&quot;: &quot;&quot;,\n        &quot;text&quot;: null,\n        &quot;hidden&quot;: true,\n        &quot;dateOfSubmission&quot;: null,\n        &quot;likes&quot;: 0,\n        &quot;dislikes&quot;: 0,\n        &quot;comments&quot;: null,\n        &quot;commentsIds&quot;: null\n    },\n    {\n        &quot;id&quot;: null,\n        &quot;uniqueId&quot;: &quot;2279f268-042c-42cd-8d5d-44edfc818d9b&quot;,\n        &quot;title&quot;: &quot;&quot;,\n        &quot;text&quot;: null,\n        &quot;hidden&quot;: true,\n        &quot;dateOfSubmission&quot;: null,\n        &quot;likes&quot;: 0,\n        &quot;dislikes&quot;: 0,\n        &quot;comments&quot;: null,\n        &quot;commentsIds&quot;: null\n    }\n]\n</code></pre>\n<p>}</p>\n<p>My custom serializer looks like this:</p>\n<pre><code>    public class RootEntitySerializer extends JsonSerializer&lt;Object&gt; {\n    .\n    .\n    .\n    @Override\n    public void serialize(Object value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n\n\n    .\n    .\n    .\n    }\n</code></pre>\n<p>When I call the REST endpoint to trigger the serialization, and I put the debugger at the first line of the serialize method, I see that it's triggered just for the BlogPost objects, but not for the Response object.</p>\n<p>Why?</p>\n<p>EDIT: Here's the code of my ContextResolver:</p>\n<pre><code>package org.example.config;\n\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.deser.BeanDeserializerModifier;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.ser.BeanSerializerModifier;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.Application;\nimport jakarta.ws.rs.core.Context;\nimport jakarta.ws.rs.core.MediaType;\nimport jakarta.ws.rs.core.SecurityContext;\nimport jakarta.ws.rs.ext.ContextResolver;\nimport jakarta.ws.rs.ext.Provider;\nimport org.example.model.RootEntity;\nimport org.example.utils.Response;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.text.SimpleDateFormat;\n\n@Provider\n@Produces(MediaType.APPLICATION_JSON)\npublic class JacksonDatatypeJacksonProducer implements ContextResolver&lt;ObjectMapper&gt; {\n\n    @Context\n    private Application application;\n\n    private static Logger LOG = LoggerFactory.getLogger(JacksonDatatypeJacksonProducer.class);\n\n    private final ObjectMapper objectMapper;\n\n    private static CustomBeanSerializerModifier customBeanSerializerModifier;\n    private static CustomBeanDeserializerModifier customBeanDeserializerModifier;\n\n    public JacksonDatatypeJacksonProducer() {\n        SecurityContext securityContext = null;\n\n        if (application != null) {\n            securityContext = ((SecurityContext)application.getProperties().get(&quot;securityContext&quot;));\n        }\n\n        this.objectMapper = createDefaultMapper(securityContext);\n    }\n\n    @Override\n    public ObjectMapper getContext(Class&lt;?&gt; type) {\n        SecurityContext securityContext = ((SecurityContext)application.getProperties().get(&quot;securityContext&quot;));\n        customBeanSerializerModifier.setSecurityContext(securityContext);\n        customBeanDeserializerModifier.setSecurityContext(securityContext);\n        SimpleModule module = new SimpleModule();\n        module.setSerializerModifier(customBeanSerializerModifier);\n        module.setDeserializerModifier(customBeanDeserializerModifier);\n        objectMapper.registerModule(module);\n\n        return objectMapper;\n    }\n\n    private static ObjectMapper createDefaultMapper(SecurityContext securityContext) {\n        LOG.warn(&quot;CREATING OBJECT MAPPER&quot;);\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false); // enable writing dates as strings\n        mapper.setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;)); // set custom date format\n\n        SimpleModule module = new SimpleModule();\n        customBeanSerializerModifier = new CustomBeanSerializerModifier();\n        customBeanDeserializerModifier = new CustomBeanDeserializerModifier();\n        module.setSerializerModifier(customBeanSerializerModifier);\n        module.setDeserializerModifier(customBeanDeserializerModifier);\n        mapper.registerModule(module);\n\n        return mapper;\n    }\n\n    private static class CustomBeanSerializerModifier extends BeanSerializerModifier {\n        SecurityContext securityContext = null;\n        @Override\n        public JsonSerializer&lt;?&gt; modifySerializer(com.fasterxml.jackson.databind.SerializationConfig config, com.fasterxml.jackson.databind.BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\n            if (RootEntity.class.isAssignableFrom(beanDesc.getBeanClass()) || beanDesc.getBeanClass().equals(Response.class)) {\n                return new RootEntitySerializer((JsonSerializer&lt;Object&gt;) serializer, this.securityContext);\n            }\n            return serializer;\n        }\n        public void setSecurityContext(SecurityContext securityContext) {\n            this.securityContext = securityContext;\n        }\n    }\n\n    private static class CustomBeanDeserializerModifier extends BeanDeserializerModifier {\n        SecurityContext securityContext = null;\n\n        @Override\n        public JsonDeserializer&lt;?&gt; modifyDeserializer(DeserializationConfig config, BeanDescription beanDesc, JsonDeserializer&lt;?&gt; deserializer) {\n            return new RootEntityDeserializer(beanDesc.getBeanClass(), securityContext);\n        }\n\n        public void setSecurityContext(SecurityContext securityContext) {\n            this.securityContext = securityContext;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","spring-test"],"comments":[{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1676626479,"post_id":75482134,"comment_id":133179167,"body_markdown":"Though I only got a little idea about what you are seeking. I would suggest you to look SpyBean annotation as well instead of MockBean.","body":"Though I only got a little idea about what you are seeking. I would suggest you to look SpyBean annotation as well instead of MockBean."},{"owner":{"account_id":16865861,"reputation":372,"user_id":12195587,"display_name":"Fuzail"},"score":0,"creation_date":1676627326,"post_id":75482134,"comment_id":133179427,"body_markdown":"I think you should use the annotation `@Mock` on the repository and `@InjectMocks` on your service declaration to inject the repository or any other mock you have declared into the service.","body":"I think you should use the annotation <code>@Mock</code> on the repository and <code>@InjectMocks</code> on your service declaration to inject the repository or any other mock you have declared into the service."},{"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"score":0,"creation_date":1676628941,"post_id":75482134,"comment_id":133179894,"body_markdown":"Thank you all for your help but the issue is still on, sadly.\nWith Spybean, it modifies my real database :(\nWith Mock and InjectMocks , the &#39;result&#39; variable is at 0. I think there is still no communication between the mocked repository and the mockedService ..","body":"Thank you all for your help but the issue is still on, sadly. With Spybean, it modifies my real database :( With Mock and InjectMocks , the &#39;result&#39; variable is at 0. I think there is still no communication between the mocked repository and the mockedService .."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1676628970,"post_id":75482134,"comment_id":133179904,"body_markdown":"@FrenchCornichon The second example should work. What errors do you get?","body":"@FrenchCornichon The second example should work. What errors do you get?"},{"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"score":0,"creation_date":1676638550,"post_id":75482134,"comment_id":133182602,"body_markdown":"The result is 0..; The repository and service don&#39;t seem to be aware of each other :/","body":"The result is 0..; The repository and service don&#39;t seem to be aware of each other :/"}],"answers":[{"comments":[{"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"score":0,"creation_date":1676626615,"post_id":75482203,"comment_id":133179214,"body_markdown":"Hello ! Thank you for your answer. The repository inside my service for now is like this :\n`\t@Autowired\n\tprivate EntityRepository entityRepository;\n`\nI have to make like a set method in order to change the repository from afar ? Is it possible to do it when it&#39;s autowired ?\nThanks","body":"Hello ! Thank you for your answer. The repository inside my service for now is like this : `\t@Autowired \tprivate EntityRepository entityRepository; ` I have to make like a set method in order to change the repository from afar ? Is it possible to do it when it&#39;s autowired ? Thanks"},{"owner":{"account_id":19179,"reputation":4543,"user_id":44715,"accept_rate":81,"display_name":"Riho"},"score":0,"creation_date":1676627059,"post_id":75482203,"comment_id":133179340,"body_markdown":"Nowadays IDEs recommend not to use Autowired but injections. Create a constructor for service where you inject the repo.","body":"Nowadays IDEs recommend not to use Autowired but injections. Create a constructor for service where you inject the repo."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1676629758,"post_id":75482203,"comment_id":133180113,"body_markdown":"Assuming that `EntityService` works corectly and that `EntityRepository` is injected either through constructor or field injection, then it isn&#39;t necessary to insert the mocked repository because spring will do that for you.","body":"Assuming that <code>EntityService</code> works corectly and that <code>EntityRepository</code> is injected either through constructor or field injection, then it isn&#39;t necessary to insert the mocked repository because spring will do that for you."}],"tags":[],"owner":{"account_id":19179,"reputation":4543,"user_id":44715,"accept_rate":81,"display_name":"Riho"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676624908,"creation_date":1676624908,"answer_id":75482203,"question_id":75482134,"body_markdown":"I think you have to insert the mocked repository into your service in order it to be used:\r\nentityService.setRepository(mockEntityRepository);","title":"Generating unit tests for my service implementations on the spring boot application","body":"<p>I think you have to insert the mocked repository into your service in order it to be used:\nentityService.setRepository(mockEntityRepository);</p>\n"},{"comments":[{"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"score":0,"creation_date":1676638521,"post_id":75483036,"comment_id":133182589,"body_markdown":"Thank you for your explenations. The problem is that, even by doing what you said, the result is at 0 . I don&#39;t really understand why the service and the repository don&#39;t seem to be aware of each other :/","body":"Thank you for your explenations. The problem is that, even by doing what you said, the result is at 0 . I don&#39;t really understand why the service and the repository don&#39;t seem to be aware of each other :/"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676629602,"creation_date":1676629602,"answer_id":75483036,"question_id":75482134,"body_markdown":"There are a few issues with your test:\r\n\r\n### 1. Wrong use of mocks\r\n\r\nA mock is a dummy implementation of a class. You use them to bypass the normal behaviour of those classes. For example, if you write a unit test for `EntityService`, you don&#39;t want to set up an entire database and insert/delete mock data. So in that case you want to mock dependencies such as `EntityRepository`.\r\n\r\nThis means that in your `EntityServiceTest` you should only be mocking `EntityRepository`. You shouldn&#39;t mock `Entity` because this class normally doesn&#39;t contain a lot of behaviour and you shouldn&#39;t mock `EntityService` because you want to test the actual behaviour of this service and not of a mock.\r\n\r\n### 2. Choose one mocking framework\r\n\r\nYour test is currently using a combination of `@Mock` and `@MockBean`.\r\nBoth of these annotations allow you to mock a class.\r\nThe difference is that `@Mock` relies only on Mockito and `@MockBean` mocks the class and creates a Spring bean of it to use for autowiring.\r\n\r\nThis means that the `@MockBean` annotation only works when you run (a part of) your Spring Boot application. \r\nThis is why you use the `@SpringBootTest` annotation.\r\nThe downside is that this might require additional configuration and slows down the tests due to starting/stopping the application.\r\n\r\nIf you only need to unit test a single class with some mocks, it would be easier to write a test with Mockito only. \r\nTo do so, use the `@Mock` annotation and replace `@SpringBootTest` with `@ExtendWith(MockitoExtension.class)`:\r\n\r\n```java\r\n// Replace @SpringBootTest with @ExtendWith to enable testing with Mockito\r\n@ExtendWith(MockitoExtension.class)\r\nclass EntityServiceTest {\r\n    // Add @InjectMocks to the class where the mocks should be injected into.\r\n    // Normally this is the class that you want to test\r\n    @InjectMocks\r\n    private EntityService service;\r\n    // Use @Mock in stead of @MockBean\r\n    @Mock\r\n    private EntityRepository repository;\r\n\r\n    // ...\r\n}\r\n````\r\n\r\n### 3. Test the behaviour of your class\r\n\r\nAs I mentioned before, a mock is a dummy implementation of a class.\r\nSo that means that if you call `repository.save(..)`, it doesn&#39;t really do anything as there&#39;s no behaviour and no database behind it.\r\n\r\nWhat you actually want to test is whether the `service. serviceDeleteEntity()` method calls the `repository. specialDeleteEntity()` method with the right arguments.\r\n\r\nThis means that your second example of your test is the right way.\r\nThe only thing you don&#39;t need is the `entity` because your test doesn&#39;t rely on it (assuming that your service passes the id argument to the repository and returns the result of the query):\r\n\r\n```java\r\n@Test\r\nvoid testDelete() {\r\n    // Given\r\n    when(mockEntityRepository.specialDeleteEntity(1L)).thenReturn(1);\r\n    \r\n    // When\r\n    final int result = entityService.specialDeleteEntity(1L);\r\n    \r\n    // Then\r\n    assertThat(result).isEqualTo(1);\r\n    verify(mockEntityRepository).specialDeleteEntity(1L);\r\n}\r\n```","title":"Generating unit tests for my service implementations on the spring boot application","body":"<p>There are a few issues with your test:</p>\n<h3>1. Wrong use of mocks</h3>\n<p>A mock is a dummy implementation of a class. You use them to bypass the normal behaviour of those classes. For example, if you write a unit test for <code>EntityService</code>, you don't want to set up an entire database and insert/delete mock data. So in that case you want to mock dependencies such as <code>EntityRepository</code>.</p>\n<p>This means that in your <code>EntityServiceTest</code> you should only be mocking <code>EntityRepository</code>. You shouldn't mock <code>Entity</code> because this class normally doesn't contain a lot of behaviour and you shouldn't mock <code>EntityService</code> because you want to test the actual behaviour of this service and not of a mock.</p>\n<h3>2. Choose one mocking framework</h3>\n<p>Your test is currently using a combination of <code>@Mock</code> and <code>@MockBean</code>.\nBoth of these annotations allow you to mock a class.\nThe difference is that <code>@Mock</code> relies only on Mockito and <code>@MockBean</code> mocks the class and creates a Spring bean of it to use for autowiring.</p>\n<p>This means that the <code>@MockBean</code> annotation only works when you run (a part of) your Spring Boot application.\nThis is why you use the <code>@SpringBootTest</code> annotation.\nThe downside is that this might require additional configuration and slows down the tests due to starting/stopping the application.</p>\n<p>If you only need to unit test a single class with some mocks, it would be easier to write a test with Mockito only.\nTo do so, use the <code>@Mock</code> annotation and replace <code>@SpringBootTest</code> with <code>@ExtendWith(MockitoExtension.class)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Replace @SpringBootTest with @ExtendWith to enable testing with Mockito\n@ExtendWith(MockitoExtension.class)\nclass EntityServiceTest {\n    // Add @InjectMocks to the class where the mocks should be injected into.\n    // Normally this is the class that you want to test\n    @InjectMocks\n    private EntityService service;\n    // Use @Mock in stead of @MockBean\n    @Mock\n    private EntityRepository repository;\n\n    // ...\n}\n</code></pre>\n<h3>3. Test the behaviour of your class</h3>\n<p>As I mentioned before, a mock is a dummy implementation of a class.\nSo that means that if you call <code>repository.save(..)</code>, it doesn't really do anything as there's no behaviour and no database behind it.</p>\n<p>What you actually want to test is whether the <code>service. serviceDeleteEntity()</code> method calls the <code>repository. specialDeleteEntity()</code> method with the right arguments.</p>\n<p>This means that your second example of your test is the right way.\nThe only thing you don't need is the <code>entity</code> because your test doesn't rely on it (assuming that your service passes the id argument to the repository and returns the result of the query):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testDelete() {\n    // Given\n    when(mockEntityRepository.specialDeleteEntity(1L)).thenReturn(1);\n    \n    // When\n    final int result = entityService.specialDeleteEntity(1L);\n    \n    // Then\n    assertThat(result).isEqualTo(1);\n    verify(mockEntityRepository).specialDeleteEntity(1L);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1676644417,"post_id":75484891,"comment_id":133184363,"body_markdown":"In both `when()` and `verify()` you can work with `ArgumentMatchers.any()`. For example: `verify(mockEntityRepository).specialDeleteEntity(eq(1L), any());`. You can go even further and use the `ArgumentCaptor` API to extract the timestamp that wass passed to the repository so you can write some assertions.","body":"In both <code>when()</code> and <code>verify()</code> you can work with <code>ArgumentMatchers.any()</code>. For example: <code>verify(mockEntityRepository).specialDeleteEntity(eq(1L), any());</code>. You can go even further and use the <code>ArgumentCaptor</code> API to extract the timestamp that wass passed to the repository so you can write some assertions."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1676644890,"post_id":75484891,"comment_id":133184506,"body_markdown":"You may also want to check the Java time API. These classes have methods to retrieve the current time, but also have a `Clock` class that allow you to freeze the current time (for example during tests).","body":"You may also want to check the Java time API. These classes have methods to retrieve the current time, but also have a <code>Clock</code> class that allow you to freeze the current time (for example during tests)."}],"tags":[],"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676640374,"creation_date":1676640374,"answer_id":75484891,"question_id":75482134,"body_markdown":"thanks to @g00glen00b for the solution.\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class EntityServiceImplTest {\r\n        @InjectMocks\r\n        private EntityServiceImpl entityServiceImpl;\r\n        @Mock\r\n        private EntityRepository entityRepository;\r\n    \r\n     \r\n    @Test{\r\n       Entity e = new Entity();\r\n    \r\n       when(entityRepository.getEntityById(1L)).thenReturn(e);\r\n    \r\n       final Entity result = entityServiceImpl.getEntityById(1L);\r\n    \r\n       assertEquals(e, result);  \r\n      }\r\n    \r\n    }\r\n\r\nThe issue here was that i had to use MockitoExtension on one hand.\r\n\r\nAnother problem was that, in my service implementation method , there was a hidden &quot;new Timestamp(System.currentTimeMillis())&quot; used to call the method in the repository. \r\n\r\n\r\n\r\nSo there was always a difference between the time I &quot;promised&quot; and the time created during the call of the service implementation. \r\nThank you again\r\n","title":"Generating unit tests for my service implementations on the spring boot application","body":"<p>thanks to @g00glen00b for the solution.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class EntityServiceImplTest {\n    @InjectMocks\n    private EntityServiceImpl entityServiceImpl;\n    @Mock\n    private EntityRepository entityRepository;\n\n \n@Test{\n   Entity e = new Entity();\n\n   when(entityRepository.getEntityById(1L)).thenReturn(e);\n\n   final Entity result = entityServiceImpl.getEntityById(1L);\n\n   assertEquals(e, result);  \n  }\n\n}\n</code></pre>\n<p>The issue here was that i had to use MockitoExtension on one hand.</p>\n<p>Another problem was that, in my service implementation method , there was a hidden &quot;new Timestamp(System.currentTimeMillis())&quot; used to call the method in the repository.</p>\n<p>So there was always a difference between the time I &quot;promised&quot; and the time created during the call of the service implementation.\nThank you again</p>\n"}],"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75483036,"answer_count":3,"score":0,"last_activity_date":1676640374,"creation_date":1676624410,"question_id":75482134,"body_markdown":"after hours of tries and fails I come to you in hope of a solution.\r\nI&#39;m struggle making unit tests for my spring boot application. I&#39;m using mockito and Junit 5.\r\n\r\nMy architecture is made out like this:\r\n\r\n- A controller\r\n- An interface of the service\r\n- A implementation of the service interface\r\n- A repository extending CrudRepository\\&lt;Entity, Long\\&gt;\r\n\r\nFor now I just want to test out my service implementation.\r\n\r\nThis is how it looks like for now :\r\n\r\n\\`\r\n\r\n    \r\n    @SpringBootTest public class ServiceImplTest{\r\n            @Mock    \r\n         private Entity e;\r\n    \r\n    \r\n         @MockBean\r\n         private EntityRepository entityRepository;\r\n            \r\n         @MockBean\r\n         private EntityService entityService;\r\n        \r\n         @BeforeEach\r\n             init(){\r\n                   e = new Entity();\r\n                   e.name =&quot;abc&quot;;\r\n              }\r\n        \r\n        \r\n        \r\n        @Test\r\n         private simpleTest(){\r\n            // saving my element in the mocked repository\r\n            entityRepository.save(e);\r\n        \r\n        \r\n            // I have a repository query to delete an element in a specific way. I ask it to return 1 if it receives the order to activate this method\r\n            doReturn(1).when(entityRepository).specialDeleteEntity(1L);\r\n        \r\n        \r\n           // in the code serviceDeleteEntity() does some operations then calls entityRepository.specialDeleteEntity\r\n            int howMany = entityService.serviceDeleteEntity(1L);\r\n        \r\n        \r\n             // this fails because there was nothing in the repository to be deleted \r\n             assertEquals(howMany, 1);\r\n        \r\n         }\r\n    }\r\n\r\n\r\nI just have a feeling the the Mocked Repository is not connected to my Mocked Service and by this, the operations between them don&#39;t work.\r\n\r\nI have also tried another solution where I didn&#39;t mock the repository , just in case :\r\n\r\n    @SpringBootTest class ServiceImplTest {\r\n        @MockBean\r\n        private EntityRepository mockEntityRepository;\r\n        \r\n        @Autowired\r\n        private EntityService entityService;\r\n        \r\n        \r\n        @Test\r\n        void testDelete() {\r\n            // Given\r\n            final Entity entity = new Entity();\r\n            entity.name = &quot;abc&quot;;\r\n        \r\n            // Setup\r\n            when(mockEntityRepository.specialDeleteEntity(1L)).thenReturn(1);\r\n        \r\n            // When\r\n            final int result = entityService.specialDeleteEntity(1L);\r\n        \r\n            // Then\r\n            assertThat(result).isEqualTo(1);\r\n            verify(mockEntityRepository).specialDeleteEntity(1L);\r\n        }\r\n    }\r\n\r\nI may lack some anotations or some methods maybe. I just want your advice on the problem and maybe a step towards the solution. Thank you very much.","title":"Generating unit tests for my service implementations on the spring boot application","body":"<p>after hours of tries and fails I come to you in hope of a solution.\nI'm struggle making unit tests for my spring boot application. I'm using mockito and Junit 5.</p>\n<p>My architecture is made out like this:</p>\n<ul>\n<li>A controller</li>\n<li>An interface of the service</li>\n<li>A implementation of the service interface</li>\n<li>A repository extending CrudRepository&lt;Entity, Long&gt;</li>\n</ul>\n<p>For now I just want to test out my service implementation.</p>\n<p>This is how it looks like for now :</p>\n<p>`</p>\n<pre><code>@SpringBootTest public class ServiceImplTest{\n        @Mock    \n     private Entity e;\n\n\n     @MockBean\n     private EntityRepository entityRepository;\n        \n     @MockBean\n     private EntityService entityService;\n    \n     @BeforeEach\n         init(){\n               e = new Entity();\n               e.name =&quot;abc&quot;;\n          }\n    \n    \n    \n    @Test\n     private simpleTest(){\n        // saving my element in the mocked repository\n        entityRepository.save(e);\n    \n    \n        // I have a repository query to delete an element in a specific way. I ask it to return 1 if it receives the order to activate this method\n        doReturn(1).when(entityRepository).specialDeleteEntity(1L);\n    \n    \n       // in the code serviceDeleteEntity() does some operations then calls entityRepository.specialDeleteEntity\n        int howMany = entityService.serviceDeleteEntity(1L);\n    \n    \n         // this fails because there was nothing in the repository to be deleted \n         assertEquals(howMany, 1);\n    \n     }\n}\n</code></pre>\n<p>I just have a feeling the the Mocked Repository is not connected to my Mocked Service and by this, the operations between them don't work.</p>\n<p>I have also tried another solution where I didn't mock the repository , just in case :</p>\n<pre><code>@SpringBootTest class ServiceImplTest {\n    @MockBean\n    private EntityRepository mockEntityRepository;\n    \n    @Autowired\n    private EntityService entityService;\n    \n    \n    @Test\n    void testDelete() {\n        // Given\n        final Entity entity = new Entity();\n        entity.name = &quot;abc&quot;;\n    \n        // Setup\n        when(mockEntityRepository.specialDeleteEntity(1L)).thenReturn(1);\n    \n        // When\n        final int result = entityService.specialDeleteEntity(1L);\n    \n        // Then\n        assertThat(result).isEqualTo(1);\n        verify(mockEntityRepository).specialDeleteEntity(1L);\n    }\n}\n</code></pre>\n<p>I may lack some anotations or some methods maybe. I just want your advice on the problem and maybe a step towards the solution. Thank you very much.</p>\n"},{"tags":["java","spring-boot","javafx","dependency-injection","autowired"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1676642801,"post_id":75484875,"comment_id":133183875,"body_markdown":"I notice you have two FXML files. Presumably `settings.fxml` has its own controller class, and presumably since you are not setting the controller or the controller factory when you load `settings.fxml`, that controller does not need to be managed by spring. Assuming all that is true and the null pointer exception is stemming from an action in `start.fxml`, I would check that 1. you do **not** have a `fx:controller` attribute in `start.fxml`, and 2. `applicationContext.getBean(JavaFXController.class)` is not returning null.","body":"I notice you have two FXML files. Presumably <code>settings.fxml</code> has its own controller class, and presumably since you are not setting the controller or the controller factory when you load <code>settings.fxml</code>, that controller does not need to be managed by spring. Assuming all that is true and the null pointer exception is stemming from an action in <code>start.fxml</code>, I would check that 1. you do <b>not</b> have a <code>fx:controller</code> attribute in <code>start.fxml</code>, and 2. <code>applicationContext.getBean(JavaFXController.class)</code> is not returning null."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1676643315,"post_id":75484875,"comment_id":133184035,"body_markdown":"Also note that JavaFX controller classes in DI-managed applications (such as Spring) should have `prototype` scope. If you load the same FXML twice, you should have two controller instances.","body":"Also note that JavaFX controller classes in DI-managed applications (such as Spring) should have <code>prototype</code> scope. If you load the same FXML twice, you should have two controller instances."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676645469,"post_id":75484875,"comment_id":133184665,"body_markdown":"Perhaps consider [javafx-weaver](https://github.com/rgielen/javafx-weaver), rather than a custom Spring integration.  I have never used the javafx-weaver library, so the link is not a recommendation, just something for you to investigate and evaluate independently.","body":"Perhaps consider <a href=\"https://github.com/rgielen/javafx-weaver\" rel=\"nofollow noreferrer\">javafx-weaver</a>, rather than a custom Spring integration.  I have never used the javafx-weaver library, so the link is not a recommendation, just something for you to investigate and evaluate independently."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676646484,"post_id":75484875,"comment_id":133184951,"body_markdown":"I demonstrate wiring a service into a controller in [Adding Spring Dependency Injection in JavaFX (JPA Repo, Service)](https://stackoverflow.com/a/57896435/1155209).  Perhaps take a look at that.","body":"I demonstrate wiring a service into a controller in <a href=\"https://stackoverflow.com/a/57896435/1155209\">Adding Spring Dependency Injection in JavaFX (JPA Repo, Service)</a>.  Perhaps take a look at that."},{"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"score":0,"creation_date":1676902696,"post_id":75484875,"comment_id":133225531,"body_markdown":"@James_D In the settings.fxml I also use the JavaFXController class as controller. In the start.fxml I have no fx:controller attribute. When I call applicationContext.getBean(JavaFXController.class), it does not return null. The null pointer exception occurs when I call the saveLogins() method in the GUI. There the class then accesses the repository for the first time. Because this is null, the null pointer exception occurs.","body":"@James_D In the settings.fxml I also use the JavaFXController class as controller. In the start.fxml I have no fx:controller attribute. When I call applicationContext.getBean(JavaFXController.class), it does not return null. The null pointer exception occurs when I call the saveLogins() method in the GUI. There the class then accesses the repository for the first time. Because this is null, the null pointer exception occurs."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1676918798,"post_id":75484875,"comment_id":133230176,"body_markdown":"*&quot;In the settings.fxml I also use the JavaFXController class as controller. &quot;*. Don&#39;t do this. Each FXML should have its own controller class. Since you don&#39;t set the controller or controller factory when you load `settings.fxml`, the controller that is created when you load `settings.fxml` is not spring-managed, and so won&#39;t have any spring-injected fields initialized.","body":"<i>&quot;In the settings.fxml I also use the JavaFXController class as controller. &quot;</i>. Don&#39;t do this. Each FXML should have its own controller class. Since you don&#39;t set the controller or controller factory when you load <code>settings.fxml</code>, the controller that is created when you load <code>settings.fxml</code> is not spring-managed, and so won&#39;t have any spring-injected fields initialized."}],"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676640289,"creation_date":1676640289,"question_id":75484875,"body_markdown":"I am currently developing an application that uses Spring Boot and JavaFX. I want to store email and password in H2 database. With a JUnit test I have already checked if the database is running and I have access to the Spring Boot repository. This works. However, I need to access the Spring Boot service from the JavaFX controller to be able to control the logic from the GUI and after I autowire the Spring Boot service in this class, a NullPointerException comes.\r\n\r\nJavaFXController\r\n```\r\n@Component\r\n@FxmlView(&quot;start.fxml&quot;)\r\n@Service\r\npublic class JavaFXController {\r\n\r\n    @FXML private Label startLabel;\r\n    @FXML private Label settingsLabel;\r\n    @FXML private TextField emailAmazonMerchOnDemand;\r\n    @FXML private PasswordField passwordAmazonMerchOnDemand;\r\n\r\n    private Stage stage;\r\n    private Scene scene;\r\n\r\n    @Autowired\r\n    private AmazonMerchOnDemandService amazonMerchOnDemandService;\r\n\r\n    @FXML\r\n    public void openSettingsSceneFromStartScene() throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getClassLoader().getResource(&quot;settings.fxml&quot;));\r\n        stage = (Stage)(startLabel.getScene().getWindow());\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    public void saveLogins() {\r\n        String emailAmazon = emailAmazonMerchOnDemand.getText();\r\n        String passwordAmazon = passwordAmazonMerchOnDemand.getText();\r\n        AmazonMerchOnDemand amazonMerchOnDemandLogin = new AmazonMerchOnDemand();\r\n        amazonMerchOnDemandLogin.setId(1L);\r\n        amazonMerchOnDemandLogin.setEmail(emailAmazon);\r\n        amazonMerchOnDemandLogin.setPassword(passwordAmazon);\r\n        amazonMerchOnDemandService.saveLogin(amazonMerchOnDemandLogin);\r\n    }\r\n}\r\n```\r\n\r\nJavaFXApplication\r\n```\r\n@SpringBootApplication\r\npublic class JavaFXApplication extends Application {\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    @Override\r\n    public void init() throws Exception {\r\n        String[] args = getParameters().getRaw().toArray(new String[0]);\r\n        this.applicationContext = new SpringApplicationBuilder().sources(PrintOnDemandSellerViewApplication.class).run(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader();\r\n        URL xmlUrl = getClass().getClassLoader().getResource(&quot;start.fxml&quot;);\r\n        loader.setLocation(xmlUrl);\r\n        loader.setController(applicationContext.getBean(JavaFXController.class));\r\n        Parent root = loader.load();\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @Override\r\n    public void stop() throws Exception {\r\n        this.applicationContext.close();\r\n        Platform.exit();\r\n    }\r\n}\r\n```\r\n\r\nAmazonMerchOnDemandService\r\n```\r\n@Service\r\n@Component\r\npublic class AmazonMerchOnDemandService {\r\n\r\n    public static WebDriver driver;\r\n    private static int amountOfSales;\r\n\r\n    @Autowired\r\n    private AmazonMerchOnDemandRepository amazonMerchOnDemandRepository;\r\n\r\n    public void saveLogin(AmazonMerchOnDemand amazonMerchOnDemand) {\r\n        amazonMerchOnDemandRepository.save(amazonMerchOnDemand);\r\n    }\r\n\r\n    public void chromeDriverSetUp() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\r\n        driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n    }\r\n\r\n    public void login() {\r\n        String email = amazonMerchOnDemandRepository.findById(1L).get().getEmail();\r\n        System.out.println(&quot;Email: &quot; + email);\r\n        String password = amazonMerchOnDemandRepository.findById(1L).get().getPassword();\r\n        System.out.println(&quot;Password: &quot; + password);\r\n}\r\n}\r\n```\r\n\r\nAmazonMerchOnDemandRepository\r\n```\r\n@Repository\r\npublic interface AmazonMerchOnDemandRepository extends CrudRepository &lt;AmazonMerchOnDemand, Long&gt; {\r\n}\r\n```\r\n\r\nPrintOnDemandSellerViewApplicationTests\r\n```\r\n@SpringBootTest(classes = JavaFXApplication.class)\r\nclass PrintOnDemandSellerViewApplicationTests {\r\n\r\n    @Autowired\r\n    private AmazonMerchOnDemandRepository amazonMerchOnDemandRepository;\r\n    @Autowired\r\n    private AmazonMerchOnDemandSampleData amazonMerchOnDemandSampleData;\r\n\r\n    @BeforeEach\r\n    public void setupData() {\r\n        amazonMerchOnDemandSampleData.createAmazonMerchOnDemandLogin();\r\n    }\r\n\r\n    @Test\r\n    public void testHasAmazonMerchOnDemandLoginRightPasswordAndRightEmail() {\r\n        assertTrue(amazonMerchOnDemandRepository.existsById(1L));\r\n        Optional&lt;AmazonMerchOnDemand&gt; amazonMerchOnDemandOptional = amazonMerchOnDemandRepository.findById(1L);\r\n        assertFalse(amazonMerchOnDemandOptional.isEmpty());\r\n        AmazonMerchOnDemand amazonMerchOnDemandLogin = amazonMerchOnDemandOptional.get();\r\n        assertEquals(&quot;password&quot;, amazonMerchOnDemandLogin.getPassword());\r\n        assertEquals(&quot;test@gmail.com&quot;, amazonMerchOnDemandLogin.getEmail());\r\n    }\r\n\r\n}\r\n```\r\n\r\nNullPointerException\r\n```\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 29 more\r\nCaused by: java.lang.NullPointerException\r\n\tat com.example.printondemandsellerview.JavaFXController.saveLogins(JavaFXController.java:53)\r\n\t... 40 more\r\n```\r\n\r\n\r\n\r\nI have tried several solutions from StackOverflow:\r\n\r\n[Dependency Injection in JavaFX](https://stackoverflow.com/questions/40539310/dependency-injection-and-javafx)\r\n[Spring Data Autowire in FXML Controller](https://stackoverflow.com/questions/46654085/spring-data-autowire-in-fxml-controller-javafx)\r\n\r\nUnfortunately, none of the solutions could help me. Do you have any other suggestions as to what the problem might be?\r\n\r\n\r\n\r\n","title":"Spring Boot Service always null after @Autowire in JavaFX Controller Class","body":"<p>I am currently developing an application that uses Spring Boot and JavaFX. I want to store email and password in H2 database. With a JUnit test I have already checked if the database is running and I have access to the Spring Boot repository. This works. However, I need to access the Spring Boot service from the JavaFX controller to be able to control the logic from the GUI and after I autowire the Spring Boot service in this class, a NullPointerException comes.</p>\n<p>JavaFXController</p>\n<pre><code>@Component\n@FxmlView(&quot;start.fxml&quot;)\n@Service\npublic class JavaFXController {\n\n    @FXML private Label startLabel;\n    @FXML private Label settingsLabel;\n    @FXML private TextField emailAmazonMerchOnDemand;\n    @FXML private PasswordField passwordAmazonMerchOnDemand;\n\n    private Stage stage;\n    private Scene scene;\n\n    @Autowired\n    private AmazonMerchOnDemandService amazonMerchOnDemandService;\n\n    @FXML\n    public void openSettingsSceneFromStartScene() throws IOException {\n        Parent root = FXMLLoader.load(getClass().getClassLoader().getResource(&quot;settings.fxml&quot;));\n        stage = (Stage)(startLabel.getScene().getWindow());\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    public void saveLogins() {\n        String emailAmazon = emailAmazonMerchOnDemand.getText();\n        String passwordAmazon = passwordAmazonMerchOnDemand.getText();\n        AmazonMerchOnDemand amazonMerchOnDemandLogin = new AmazonMerchOnDemand();\n        amazonMerchOnDemandLogin.setId(1L);\n        amazonMerchOnDemandLogin.setEmail(emailAmazon);\n        amazonMerchOnDemandLogin.setPassword(passwordAmazon);\n        amazonMerchOnDemandService.saveLogin(amazonMerchOnDemandLogin);\n    }\n}\n</code></pre>\n<p>JavaFXApplication</p>\n<pre><code>@SpringBootApplication\npublic class JavaFXApplication extends Application {\n    private ConfigurableApplicationContext applicationContext;\n\n    @Override\n    public void init() throws Exception {\n        String[] args = getParameters().getRaw().toArray(new String[0]);\n        this.applicationContext = new SpringApplicationBuilder().sources(PrintOnDemandSellerViewApplication.class).run(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        FXMLLoader loader = new FXMLLoader();\n        URL xmlUrl = getClass().getClassLoader().getResource(&quot;start.fxml&quot;);\n        loader.setLocation(xmlUrl);\n        loader.setController(applicationContext.getBean(JavaFXController.class));\n        Parent root = loader.load();\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @Override\n    public void stop() throws Exception {\n        this.applicationContext.close();\n        Platform.exit();\n    }\n}\n</code></pre>\n<p>AmazonMerchOnDemandService</p>\n<pre><code>@Service\n@Component\npublic class AmazonMerchOnDemandService {\n\n    public static WebDriver driver;\n    private static int amountOfSales;\n\n    @Autowired\n    private AmazonMerchOnDemandRepository amazonMerchOnDemandRepository;\n\n    public void saveLogin(AmazonMerchOnDemand amazonMerchOnDemand) {\n        amazonMerchOnDemandRepository.save(amazonMerchOnDemand);\n    }\n\n    public void chromeDriverSetUp() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n    }\n\n    public void login() {\n        String email = amazonMerchOnDemandRepository.findById(1L).get().getEmail();\n        System.out.println(&quot;Email: &quot; + email);\n        String password = amazonMerchOnDemandRepository.findById(1L).get().getPassword();\n        System.out.println(&quot;Password: &quot; + password);\n}\n}\n</code></pre>\n<p>AmazonMerchOnDemandRepository</p>\n<pre><code>@Repository\npublic interface AmazonMerchOnDemandRepository extends CrudRepository &lt;AmazonMerchOnDemand, Long&gt; {\n}\n</code></pre>\n<p>PrintOnDemandSellerViewApplicationTests</p>\n<pre><code>@SpringBootTest(classes = JavaFXApplication.class)\nclass PrintOnDemandSellerViewApplicationTests {\n\n    @Autowired\n    private AmazonMerchOnDemandRepository amazonMerchOnDemandRepository;\n    @Autowired\n    private AmazonMerchOnDemandSampleData amazonMerchOnDemandSampleData;\n\n    @BeforeEach\n    public void setupData() {\n        amazonMerchOnDemandSampleData.createAmazonMerchOnDemandLogin();\n    }\n\n    @Test\n    public void testHasAmazonMerchOnDemandLoginRightPasswordAndRightEmail() {\n        assertTrue(amazonMerchOnDemandRepository.existsById(1L));\n        Optional&lt;AmazonMerchOnDemand&gt; amazonMerchOnDemandOptional = amazonMerchOnDemandRepository.findById(1L);\n        assertFalse(amazonMerchOnDemandOptional.isEmpty());\n        AmazonMerchOnDemand amazonMerchOnDemandLogin = amazonMerchOnDemandOptional.get();\n        assertEquals(&quot;password&quot;, amazonMerchOnDemandLogin.getPassword());\n        assertEquals(&quot;test@gmail.com&quot;, amazonMerchOnDemandLogin.getEmail());\n    }\n\n}\n</code></pre>\n<p>NullPointerException</p>\n<pre><code>Caused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor37.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.base@19/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 29 more\nCaused by: java.lang.NullPointerException\n    at com.example.printondemandsellerview.JavaFXController.saveLogins(JavaFXController.java:53)\n    ... 40 more\n</code></pre>\n<p>I have tried several solutions from StackOverflow:</p>\n<p><a href=\"https://stackoverflow.com/questions/40539310/dependency-injection-and-javafx\">Dependency Injection in JavaFX</a>\n<a href=\"https://stackoverflow.com/questions/46654085/spring-data-autowire-in-fxml-controller-javafx\">Spring Data Autowire in FXML Controller</a></p>\n<p>Unfortunately, none of the solutions could help me. Do you have any other suggestions as to what the problem might be?</p>\n"},{"tags":["java","eclipse","plugins","project","wizard"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1676641981,"post_id":75484830,"comment_id":133183675,"body_markdown":"That looks like you don&#39;t actually have the plug-in development plug-ins installed. Look in the &#39;Plug-Ins&#39; list in the Eclipse &gt; About &gt; installation Details dialog and check for various `org.eclipse.pde.xxxx` plug-ins.","body":"That looks like you don&#39;t actually have the plug-in development plug-ins installed. Look in the &#39;Plug-Ins&#39; list in the Eclipse &gt; About &gt; installation Details dialog and check for various <code>org.eclipse.pde.xxxx</code> plug-ins."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676647309,"post_id":75484830,"comment_id":133185215,"body_markdown":"Eclipse IDE for Enterprise Java and Web Developers (https://www.eclipse.org/downloads/packages/release/2022-12/r/eclipse-ide-enterprise-java-and-web-developers) . use this version.","body":"Eclipse IDE for Enterprise Java and Web Developers (<a href=\"https://www.eclipse.org/downloads/packages/release/2022-12/r/eclipse-ide-enterprise-java-and-web-developers\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/release/2022-12/r/&hellip;</a>) . use this version."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676681530,"post_id":75484830,"comment_id":133193056,"body_markdown":"＠greg-449, Eclipse IDE for Enterprise Java and Web Developers (https://www.eclipse.org/downloads/packages/release/2022-12/r/eclipse-ide-enterprise-java-and-web-developers),  This package includes: 1. Data Tools Platform , \n2. Git integration for Eclipse , 3. Eclipse Java Development Tools , 4. Eclipse Java EE Developer Tools, 5. Maven Integration for Eclipse , `6.Eclipse Plug-in Development Environment` , Please check it again.","body":"＠greg-449, Eclipse IDE for Enterprise Java and Web Developers (<a href=\"https://www.eclipse.org/downloads/packages/release/2022-12/r/eclipse-ide-enterprise-java-and-web-developers\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/release/2022-12/r/&hellip;</a>),  This package includes: 1. Data Tools Platform ,  2. Git integration for Eclipse , 3. Eclipse Java Development Tools , 4. Eclipse Java EE Developer Tools, 5. Maven Integration for Eclipse , <code>6.Eclipse Plug-in Development Environment</code> , Please check it again."}],"owner":{"account_id":27811882,"reputation":13,"user_id":21234126,"display_name":"Jona"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676640000,"creation_date":1676640000,"question_id":75484830,"body_markdown":"I would like to create a Plug-In project in Eclipse (the needed Plug-Ins are installed), but when creating a new project (File --&gt; New --&gt; Other) the option is missing.\r\n\r\n\r\n\r\n[this is my screen](https://i.stack.imgur.com/JyXTu.png)\r\n\r\n[this is how it shuold look](https://i.stack.imgur.com/aWNtA.png)\r\n\r\nCan anybody help?\r\n ","title":"Eclipse: Plug-In Development wizard missing when creating a new project","body":"<p>I would like to create a Plug-In project in Eclipse (the needed Plug-Ins are installed), but when creating a new project (File --&gt; New --&gt; Other) the option is missing.</p>\n<p><a href=\"https://i.stack.imgur.com/JyXTu.png\" rel=\"nofollow noreferrer\">this is my screen</a></p>\n<p><a href=\"https://i.stack.imgur.com/aWNtA.png\" rel=\"nofollow noreferrer\">this is how it shuold look</a></p>\n<p>Can anybody help?</p>\n"},{"tags":["java","apache-kafka-connect","strimzi"],"answers":[{"tags":[],"owner":{"account_id":330259,"reputation":5603,"user_id":654269,"accept_rate":93,"display_name":"Majid Azimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676639780,"creation_date":1676639780,"answer_id":75484802,"question_id":75484396,"body_markdown":"Looking at the source code [kafka_connect_run.sh][1], injecting `STRIMZI_JAVA_SYSTEM_PROPERTIES` environment variable, resolves the issue.\r\n\r\n    connectContainer:\r\n      env:\r\n        - name: STRIMZI_JAVA_SYSTEM_PROPERTIES\r\n          value: &quot;--add-exports=java.management/sun.management=ALL-UNNAMED&quot;\r\n\r\n\r\n  [1]: https://github.com/strimzi/strimzi-kafka-operator/blob/main/docker-images/kafka-based/kafka/scripts/kafka_connect_run.sh","title":"How to pass --add-exports to Strimzi Kafka Connect?","body":"<p>Looking at the source code <a href=\"https://github.com/strimzi/strimzi-kafka-operator/blob/main/docker-images/kafka-based/kafka/scripts/kafka_connect_run.sh\" rel=\"nofollow noreferrer\">kafka_connect_run.sh</a>, injecting <code>STRIMZI_JAVA_SYSTEM_PROPERTIES</code> environment variable, resolves the issue.</p>\n<pre><code>connectContainer:\n  env:\n    - name: STRIMZI_JAVA_SYSTEM_PROPERTIES\n      value: &quot;--add-exports=java.management/sun.management=ALL-UNNAMED&quot;\n</code></pre>\n"}],"owner":{"account_id":330259,"reputation":5603,"user_id":654269,"accept_rate":93,"display_name":"Majid Azimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676639780,"creation_date":1676637468,"question_id":75484396,"body_markdown":"I&#39;m using Strimzi 0.33.0 (which uses Java 17) and one of my connect plugins still needs to access `sun.management.ManagementFactoryHelper`. Obviously JVM throws:\r\n\r\n    cannot access class sun.management.ManagementFactoryHelper (in module java.management) because module java.management does not export sun.management to unnamed module @0x478cc5f1\r\n\r\nSo I need to pass `--add-exports=java.management/sun.management=ALL-UNNAMED` to JVM. Looking at the documentation, `jvmOptions` section doesn&#39;t support such a feature. Is there any other approach to enable this feature?","title":"How to pass --add-exports to Strimzi Kafka Connect?","body":"<p>I'm using Strimzi 0.33.0 (which uses Java 17) and one of my connect plugins still needs to access <code>sun.management.ManagementFactoryHelper</code>. Obviously JVM throws:</p>\n<pre><code>cannot access class sun.management.ManagementFactoryHelper (in module java.management) because module java.management does not export sun.management to unnamed module @0x478cc5f1\n</code></pre>\n<p>So I need to pass <code>--add-exports=java.management/sun.management=ALL-UNNAMED</code> to JVM. Looking at the documentation, <code>jvmOptions</code> section doesn't support such a feature. Is there any other approach to enable this feature?</p>\n"},{"tags":["java","spring","rest","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":383976,"reputation":17281,"user_id":3166303,"accept_rate":88,"display_name":"leeor"},"score":0,"creation_date":1443927777,"post_id":32927937,"comment_id":53685230,"body_markdown":"take a look at this http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-pattern-comparison","body":"take a look at this <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-pattern-comparison\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/&hellip;</a>"},{"owner":{"account_id":2742136,"reputation":1664,"user_id":2363435,"display_name":"Daniel T. Sobrosa"},"score":0,"creation_date":1548178800,"post_id":32927937,"comment_id":95447386,"body_markdown":"server.servlet.contextPath=/api","body":"server.servlet.contextPath=/api"},{"owner":{"account_id":6354047,"reputation":580,"user_id":4932044,"display_name":"Pramod Kumar Sharma"},"score":0,"creation_date":1557345697,"post_id":32927937,"comment_id":98737937,"body_markdown":"spring boot version 2.1.4.RELEASE, spring.mvc.servlet.path=/api and server.servlet.context-path=/api , both works","body":"spring boot version 2.1.4.RELEASE, spring.mvc.servlet.path=/api and server.servlet.context-path=/api , both works"},{"owner":{"account_id":2428271,"reputation":211,"user_id":2119761,"display_name":"bmck"},"score":0,"creation_date":1590836117,"post_id":32927937,"comment_id":109835011,"body_markdown":"server.servlet.context-path=/api solution is for APPLICATION , not for only REST. It is valid for SOAP services also. If you want to sperate your SOAP and REST services path, you should use @RequestMapping(&#39;api/...&#39;)... https://medium.com/@bm.celalkartal/how-to-create-rest-and-soap-services-in-same-spring-boot-application-9054d69767a6","body":"server.servlet.context-path=/api solution is for APPLICATION , not for only REST. It is valid for SOAP services also. If you want to sperate your SOAP and REST services path, you should use @RequestMapping(&#39;api/...&#39;)... <a href=\"https://medium.com/@bm.celalkartal/how-to-create-rest-and-soap-services-in-same-spring-boot-application-9054d69767a6\" rel=\"nofollow noreferrer\">medium.com/@bm.celalkartal/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3942923,"reputation":8945,"user_id":3256597,"accept_rate":16,"display_name":"Teimuraz"},"score":0,"creation_date":1444041098,"post_id":32943991,"comment_id":53717722,"body_markdown":"Thank you. I&#39;ve tried this. But now I have to annotate each method with @RequestMapping(&quot;/products&quot;),  @RequestMapping(&quot;/products/{id}&quot;). Instead I need annotate Controller with @RequestMapping(&quot;/products&quot;) and methods with @RequestMapping, @RequestMapping(&quot;/:id&quot;). And products controller should be accesable at api/products (e.g. set api prefix in a single place)","body":"Thank you. I&#39;ve tried this. But now I have to annotate each method with @RequestMapping(&quot;/products&quot;),  @RequestMapping(&quot;/products/{id}&quot;). Instead I need annotate Controller with @RequestMapping(&quot;/products&quot;) and methods with @RequestMapping, @RequestMapping(&quot;/:id&quot;). And products controller should be accesable at api/products (e.g. set api prefix in a single place)"},{"owner":{"account_id":6505000,"reputation":1823,"user_id":5034289,"display_name":"Ilya Novoseltsev"},"score":2,"creation_date":1444048022,"post_id":32943991,"comment_id":53721784,"body_markdown":"In that case, no, there is no solution out of the box, AFAIK. You can try implementing your own `RequestMappingHandlerMapping`. Spring Data REST has a mapper similar to what you need - `BasePathAwareHandlerMapping`.","body":"In that case, no, there is no solution out of the box, AFAIK. You can try implementing your own <code>RequestMappingHandlerMapping</code>. Spring Data REST has a mapper similar to what you need - <code>BasePathAwareHandlerMapping</code>."},{"owner":{"account_id":249093,"reputation":3399,"user_id":524906,"accept_rate":68,"display_name":"fischermatte"},"score":1,"creation_date":1449054143,"post_id":32943991,"comment_id":55836731,"body_markdown":"@moreo, did you find a proper solution? I&#39;d be happy if you could post it as a response. i have the same requirement here.","body":"@moreo, did you find a proper solution? I&#39;d be happy if you could post it as a response. i have the same requirement here."},{"owner":{"account_id":3942923,"reputation":8945,"user_id":3256597,"accept_rate":16,"display_name":"Teimuraz"},"score":0,"creation_date":1449062473,"post_id":32943991,"comment_id":55842062,"body_markdown":"@fischermatte, No, I didn&#39;t find exactly what I wanted, I place @RequestMapping(&quot;/api/products&quot;) or @RequestMapping(&quot;/api/users&quot;)  before each controller class and then, before method just another @RequestMapping(&quot;/{id}&quot;).  But I don&#39;t think this is a big issue, if I want to change &quot;api&quot; to something, I will just change it in the beginning of each class.","body":"@fischermatte, No, I didn&#39;t find exactly what I wanted, I place @RequestMapping(&quot;/api/products&quot;) or @RequestMapping(&quot;/api/users&quot;)  before each controller class and then, before method just another @RequestMapping(&quot;/{id}&quot;).  But I don&#39;t think this is a big issue, if I want to change &quot;api&quot; to something, I will just change it in the beginning of each class."},{"owner":{"account_id":177641,"reputation":10756,"user_id":409102,"accept_rate":69,"display_name":"kravemir"},"score":0,"creation_date":1465308698,"post_id":32943991,"comment_id":62840469,"body_markdown":"@IlyaNovoseltsev There is a solution, see my answer :-)","body":"@IlyaNovoseltsev There is a solution, see my answer :-)"},{"owner":{"account_id":1748624,"reputation":2133,"user_id":1598255,"accept_rate":60,"display_name":"phury"},"score":0,"creation_date":1507290705,"post_id":32943991,"comment_id":80161767,"body_markdown":"tried a few configuration bean approaches and others but in the end this is the cleanest a most usable solution for me. thanks","body":"tried a few configuration bean approaches and others but in the end this is the cleanest a most usable solution for me. thanks"},{"owner":{"account_id":4457518,"reputation":292,"user_id":3627292,"accept_rate":75,"display_name":"Sasi Dunston"},"score":0,"creation_date":1547819742,"post_id":32943991,"comment_id":95334763,"body_markdown":"This is what i had been looking for, Thanks","body":"This is what i had been looking for, Thanks"},{"owner":{"account_id":5219040,"reputation":743,"user_id":4173048,"display_name":"withoutOne"},"score":0,"creation_date":1616438326,"post_id":32943991,"comment_id":117997761,"body_markdown":"thats good. the other solutions were more complex and we dont need to","body":"thats good. the other solutions were more complex and we dont need to"}],"tags":[],"owner":{"account_id":6505000,"reputation":1823,"user_id":5034289,"display_name":"Ilya Novoseltsev"},"comment_count":8,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1444032909,"creation_date":1444032909,"answer_id":32943991,"question_id":32927937,"body_markdown":"You can create a custom annotation for your controllers:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @RestController\r\n    @RequestMapping(&quot;/test&quot;)\r\n    public @interface MyRestController {\r\n    }\r\n\r\nUse it instead of the usual @RestController on your controller classes and annotate methods with @RequestMapping.\r\n\r\nJust tested - works in Spring 4.2!","title":"How to set base url for rest in spring boot?","body":"<p>You can create a custom annotation for your controllers:</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@RestController\n@RequestMapping(\"/test\")\npublic @interface MyRestController {\n}\n</code></pre>\n\n<p>Use it instead of the usual @RestController on your controller classes and annotate methods with @RequestMapping.</p>\n\n<p>Just tested - works in Spring 4.2!</p>\n"},{"comments":[{"owner":{"account_id":1570837,"reputation":338,"user_id":1458556,"accept_rate":71,"display_name":"Siya Sosibo"},"score":21,"creation_date":1464036111,"post_id":35896087,"comment_id":62308951,"body_markdown":"How do you enforce this to only work with RestControllers and access the  normal Controllers without the &quot;/api&quot;","body":"How do you enforce this to only work with RestControllers and access the  normal Controllers without the &quot;/api&quot;"},{"owner":{"account_id":177641,"reputation":10756,"user_id":409102,"accept_rate":69,"display_name":"kravemir"},"score":0,"creation_date":1465283642,"post_id":35896087,"comment_id":62823114,"body_markdown":"@Stoan I found solution, check my answer :-)","body":"@Stoan I found solution, check my answer :-)"},{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":0,"creation_date":1504784802,"post_id":35896087,"comment_id":79152723,"body_markdown":"Don&#39;t do this! See thorinkor&#39;s answer.","body":"Don&#39;t do this! See thorinkor&#39;s answer."},{"owner":{"display_name":"user41871"},"score":0,"creation_date":1519537149,"post_id":35896087,"comment_id":84946495,"body_markdown":"Thorinkor&#39;s answer is specifically for Spring Data REST.","body":"Thorinkor&#39;s answer is specifically for Spring Data REST."},{"owner":{"account_id":1577966,"reputation":602,"user_id":1463974,"accept_rate":50,"display_name":"DS."},"score":13,"creation_date":1531315575,"post_id":35896087,"comment_id":89550828,"body_markdown":"server.contextPath is now deprecated, use server.servlet.context-path instead","body":"server.contextPath is now deprecated, use server.servlet.context-path instead"}],"tags":[],"owner":{"account_id":3053134,"reputation":2049,"user_id":2587320,"display_name":"OriolBG"},"comment_count":5,"down_vote_count":6,"up_vote_count":110,"is_accepted":false,"score":104,"last_activity_date":1457538035,"creation_date":1457538035,"answer_id":35896087,"question_id":32927937,"body_markdown":"A bit late but the same question brought me here before reaching the answer so I post it here.\r\nCreate (if you still don&#39;t have it) an application.properties and add\r\n\r\n    server.contextPath=/api\r\n\r\nSo in the previous example if you have a RestController with `@RequestMapping(&quot;/test&quot;)` you will access it like `localhost:8080/api/test/{your_rest_method}`\r\n\r\nquestion source: [how do i choose the url for my spring boot webapp][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24452072/how-do-i-choose-the-url-for-my-spring-boot-webapp","title":"How to set base url for rest in spring boot?","body":"<p>A bit late but the same question brought me here before reaching the answer so I post it here.\nCreate (if you still don't have it) an application.properties and add</p>\n\n<pre><code>server.contextPath=/api\n</code></pre>\n\n<p>So in the previous example if you have a RestController with <code>@RequestMapping(\"/test\")</code> you will access it like <code>localhost:8080/api/test/{your_rest_method}</code></p>\n\n<p>question source: <a href=\"https://stackoverflow.com/questions/24452072/how-do-i-choose-the-url-for-my-spring-boot-webapp\">how do i choose the url for my spring boot webapp</a></p>\n"},{"comments":[{"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"score":0,"creation_date":1511464388,"post_id":37672760,"comment_id":81878852,"body_markdown":"Is it possible to do this programmatically without use of the xml?","body":"Is it possible to do this programmatically without use of the xml?"},{"owner":{"account_id":177641,"reputation":10756,"user_id":409102,"accept_rate":69,"display_name":"kravemir"},"score":1,"creation_date":1511474646,"post_id":37672760,"comment_id":81882334,"body_markdown":"@ArianHosseinzadeh Yes. It&#39;s possible to do it programmatically. There are many ways to setup spring context. In the example, I have shown how to create child context for REST API handling. Just learn how to setup context within Java, and then combine such knowledge with knowledge in this answer. That&#39;s called programming.","body":"@ArianHosseinzadeh Yes. It&#39;s possible to do it programmatically. There are many ways to setup spring context. In the example, I have shown how to create child context for REST API handling. Just learn how to setup context within Java, and then combine such knowledge with knowledge in this answer. That&#39;s called programming."}],"tags":[],"owner":{"account_id":177641,"reputation":10756,"user_id":409102,"accept_rate":69,"display_name":"kravemir"},"comment_count":2,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1465308405,"creation_date":1465283607,"answer_id":37672760,"question_id":32927937,"body_markdown":"I found a clean solution, which affects only rest controllers. \r\n\r\n    @SpringBootApplication\r\n    public class WebApp extends SpringBootServletInitializer {\r\n    \r\n        @Autowired\r\n        private ApplicationContext context;\r\n    \r\n        @Bean\r\n        public ServletRegistrationBean restApi() {\r\n            XmlWebApplicationContext applicationContext = new XmlWebApplicationContext();\r\n            applicationContext.setParent(context);\r\n            applicationContext.setConfigLocation(&quot;classpath:/META-INF/rest.xml&quot;);\r\n    \r\n            DispatcherServlet dispatcherServlet = new DispatcherServlet();\r\n            dispatcherServlet.setApplicationContext(applicationContext);\r\n    \r\n            ServletRegistrationBean servletRegistrationBean = new ServletRegistrationBean(dispatcherServlet, &quot;/rest/*&quot;);\r\n            servletRegistrationBean.setName(&quot;restApi&quot;);\r\n    \r\n            return servletRegistrationBean;\r\n        }\r\n    \r\n        static public void main(String[] args) throws Exception {\r\n            SpringApplication.run(WebApp.class,args);\r\n        }\r\n    }\r\n\r\n\r\nSpring boot will register two dispatcher servlets - default `dispatcherServlet` for controllers, and `restApi` dispatcher for `@RestControllers` defined in `rest.xml`:\r\n\r\n    2016-06-07 09:06:16.205  INFO 17270 --- [           main] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &#39;restApi&#39; to [/rest/*]\r\n    2016-06-07 09:06:16.206  INFO 17270 --- [           main] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n\r\nThe example `rest.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xsi:schemaLocation=&quot;\r\n      http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n      http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;org.example.web.rest&quot;/&gt;\r\n        &lt;mvc:annotation-driven/&gt;\r\n    \r\n        &lt;!-- Configure to plugin JSON as request and response in method handler --&gt;\r\n        &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;\r\n            &lt;property name=&quot;messageConverters&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;ref bean=&quot;jsonMessageConverter&quot;/&gt;\r\n                &lt;/list&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Configure bean to convert JSON to POJO and vice versa --&gt;\r\n        &lt;bean id=&quot;jsonMessageConverter&quot; class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nBut, you&#39;re **not limited to**:\r\n\r\n - use `XmlWebApplicationContext`, you may use any else context type available, ie. `AnnotationConfigWebApplicationContext`, `GenericWebApplicationContext`, `GroovyWebApplicationContext`, ...\r\n - define `jsonMessageConverter`, `messageConverters` beans in rest context, they may be defined in parent context","title":"How to set base url for rest in spring boot?","body":"<p>I found a clean solution, which affects only rest controllers. </p>\n\n<pre><code>@SpringBootApplication\npublic class WebApp extends SpringBootServletInitializer {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Bean\n    public ServletRegistrationBean restApi() {\n        XmlWebApplicationContext applicationContext = new XmlWebApplicationContext();\n        applicationContext.setParent(context);\n        applicationContext.setConfigLocation(\"classpath:/META-INF/rest.xml\");\n\n        DispatcherServlet dispatcherServlet = new DispatcherServlet();\n        dispatcherServlet.setApplicationContext(applicationContext);\n\n        ServletRegistrationBean servletRegistrationBean = new ServletRegistrationBean(dispatcherServlet, \"/rest/*\");\n        servletRegistrationBean.setName(\"restApi\");\n\n        return servletRegistrationBean;\n    }\n\n    static public void main(String[] args) throws Exception {\n        SpringApplication.run(WebApp.class,args);\n    }\n}\n</code></pre>\n\n<p>Spring boot will register two dispatcher servlets - default <code>dispatcherServlet</code> for controllers, and <code>restApi</code> dispatcher for <code>@RestControllers</code> defined in <code>rest.xml</code>:</p>\n\n<pre><code>2016-06-07 09:06:16.205  INFO 17270 --- [           main] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'restApi' to [/rest/*]\n2016-06-07 09:06:16.206  INFO 17270 --- [           main] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n</code></pre>\n\n<p>The example <code>rest.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n       xsi:schemaLocation=\"\n  http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n  http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\n  http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"org.example.web.rest\"/&gt;\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;!-- Configure to plugin JSON as request and response in method handler --&gt;\n    &lt;bean class=\"org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter\"&gt;\n        &lt;property name=\"messageConverters\"&gt;\n            &lt;list&gt;\n                &lt;ref bean=\"jsonMessageConverter\"/&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Configure bean to convert JSON to POJO and vice versa --&gt;\n    &lt;bean id=\"jsonMessageConverter\" class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\"&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>But, you're <strong>not limited to</strong>:</p>\n\n<ul>\n<li>use <code>XmlWebApplicationContext</code>, you may use any else context type available, ie. <code>AnnotationConfigWebApplicationContext</code>, <code>GenericWebApplicationContext</code>, <code>GroovyWebApplicationContext</code>, ...</li>\n<li>define <code>jsonMessageConverter</code>, <code>messageConverters</code> beans in rest context, they may be defined in parent context</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"score":2,"creation_date":1534016143,"post_id":39907655,"comment_id":90562398,"body_markdown":"In Spring Boot 2.0.0+, work off the WebMvcRegistrations interface directly. WebMvcRegistrationsAdapter was removed in favor of adding default methods to the interface.","body":"In Spring Boot 2.0.0+, work off the WebMvcRegistrations interface directly. WebMvcRegistrationsAdapter was removed in favor of adding default methods to the interface."}],"tags":[],"owner":{"account_id":1913180,"reputation":5333,"user_id":1726423,"display_name":"mh-dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1475800485,"creation_date":1475800485,"answer_id":39907655,"question_id":32927937,"body_markdown":"Since this is the first google hit for the problem and I assume more people will search for this. There is a new option since Spring Boot &#39;1.4.0&#39;.\r\nIt is now possible to define a custom *RequestMappingHandlerMapping* that allows to define a different path for classes annotated with *@RestController*\r\n\r\nA different version with custom annotations that combines *@RestController* with *@RequestMapping* can be found at this [blog post][1]\r\n\r\n\t@Configuration\r\n\tpublic class WebConfig {\r\n\t \r\n\t\t@Bean\r\n\t\tpublic WebMvcRegistrationsAdapter webMvcRegistrationsHandlerMapping() {\r\n\t\t\treturn new WebMvcRegistrationsAdapter() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\r\n\t\t\t\t\treturn new RequestMappingHandlerMapping() {\r\n\t\t\t\t\t\tprivate final static String API_BASE_PATH = &quot;api&quot;;\r\n\t \r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tprotected void registerHandlerMethod(Object handler, Method method, RequestMappingInfo mapping) {\r\n\t\t\t\t\t\t\tClass&lt;?&gt; beanType = method.getDeclaringClass();\r\n\t\t\t\t\t\t\tif (AnnotationUtils.findAnnotation(beanType, RestController.class) != null) {\r\n\t\t\t\t\t\t\t\tPatternsRequestCondition apiPattern = new PatternsRequestCondition(API_BASE_PATH)\r\n\t\t\t\t\t\t\t\t\t\t.combine(mapping.getPatternsCondition());\r\n\t \r\n\t\t\t\t\t\t\t\tmapping = new RequestMappingInfo(mapping.getName(), apiPattern,\r\n\t\t\t\t\t\t\t\t\t\tmapping.getMethodsCondition(), mapping.getParamsCondition(),\r\n\t\t\t\t\t\t\t\t\t\tmapping.getHeadersCondition(), mapping.getConsumesCondition(),\r\n\t\t\t\t\t\t\t\t\t\tmapping.getProducesCondition(), mapping.getCustomCondition());\r\n\t\t\t\t\t\t\t}\r\n\t \r\n\t\t\t\t\t\t\tsuper.registerHandlerMethod(handler, method, mapping);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n  [1]: https://mhdevelopment.wordpress.com/2016/10/03/spring-restcontroller-specific-basepath/","title":"How to set base url for rest in spring boot?","body":"<p>Since this is the first google hit for the problem and I assume more people will search for this. There is a new option since Spring Boot '1.4.0'.\nIt is now possible to define a custom <em>RequestMappingHandlerMapping</em> that allows to define a different path for classes annotated with <em>@RestController</em></p>\n\n<p>A different version with custom annotations that combines <em>@RestController</em> with <em>@RequestMapping</em> can be found at this <a href=\"https://mhdevelopment.wordpress.com/2016/10/03/spring-restcontroller-specific-basepath/\" rel=\"noreferrer\">blog post</a></p>\n\n<pre><code>@Configuration\npublic class WebConfig {\n\n    @Bean\n    public WebMvcRegistrationsAdapter webMvcRegistrationsHandlerMapping() {\n        return new WebMvcRegistrationsAdapter() {\n            @Override\n            public RequestMappingHandlerMapping getRequestMappingHandlerMapping() {\n                return new RequestMappingHandlerMapping() {\n                    private final static String API_BASE_PATH = \"api\";\n\n                    @Override\n                    protected void registerHandlerMethod(Object handler, Method method, RequestMappingInfo mapping) {\n                        Class&lt;?&gt; beanType = method.getDeclaringClass();\n                        if (AnnotationUtils.findAnnotation(beanType, RestController.class) != null) {\n                            PatternsRequestCondition apiPattern = new PatternsRequestCondition(API_BASE_PATH)\n                                    .combine(mapping.getPatternsCondition());\n\n                            mapping = new RequestMappingInfo(mapping.getName(), apiPattern,\n                                    mapping.getMethodsCondition(), mapping.getParamsCondition(),\n                                    mapping.getHeadersCondition(), mapping.getConsumesCondition(),\n                                    mapping.getProducesCondition(), mapping.getCustomCondition());\n                        }\n\n                        super.registerHandlerMethod(handler, method, mapping);\n                    }\n                };\n            }\n        };\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1450282,"reputation":468,"user_id":1367432,"display_name":"Dmitry Serdiuk"},"score":0,"creation_date":1480085801,"post_id":39929670,"comment_id":68836016,"body_markdown":"Can you explain this a bit or point to a releavant documentation?","body":"Can you explain this a bit or point to a releavant documentation?"},{"owner":{"account_id":2378154,"reputation":734,"user_id":2080916,"accept_rate":57,"display_name":"bruce szalwinski"},"score":1,"creation_date":1481689348,"post_id":39929670,"comment_id":69473325,"body_markdown":"Relevant docs are at http://docs.spring.io/spring-data/rest/docs/current/reference/html/#_changing_the_base_uri.","body":"Relevant docs are at <a href=\"http://docs.spring.io/spring-data/rest/docs/current/reference/html/#_changing_the_base_uri\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/rest/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>."},{"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"score":15,"creation_date":1484316481,"post_id":39929670,"comment_id":70472468,"body_markdown":"the environemnt variable  `spring.data.rest.base-path`  only affects spring-data-rest and spring-hateoas.  Plain @RestController  will still sit at the root!","body":"the environemnt variable  <code>spring.data.rest.base-path</code>  only affects spring-data-rest and spring-hateoas.  Plain @RestController  will still sit at the root!"},{"owner":{"account_id":1245560,"reputation":958,"user_id":1207102,"accept_rate":40,"display_name":"thorinkor"},"score":0,"creation_date":1484751837,"post_id":39929670,"comment_id":70640060,"body_markdown":"@Robert of course, but I think currently in most cases You will use Spring Data REST Repositories instead of doing the controllers on your own.","body":"@Robert of course, but I think currently in most cases You will use Spring Data REST Repositories instead of doing the controllers on your own."},{"owner":{"account_id":914356,"reputation":1301,"user_id":947497,"display_name":"Jean-Fran&#231;ois Beauchef"},"score":4,"creation_date":1499456761,"post_id":39929670,"comment_id":76932412,"body_markdown":"@thorinkor based on what are you saying that in most cases people will build Spring Data REST repositories? And the OP is clearly saying he has rest controllers...","body":"@thorinkor based on what are you saying that in most cases people will build Spring Data REST repositories? And the OP is clearly saying he has rest controllers..."},{"owner":{"account_id":1245560,"reputation":958,"user_id":1207102,"accept_rate":40,"display_name":"thorinkor"},"score":0,"creation_date":1500976959,"post_id":39929670,"comment_id":77561406,"body_markdown":"@Jean-Fran&#231;oisBeauchef I think Spring Data REST gives a great oportunity to use it &quot;out of the box&quot; in many cases, instead of writing custom services, repositories and controllers. I&#39;ve got a feeling this generally is a SpringBoot approach - first configure, than code.","body":"@Jean-Fran&#231;oisBeauchef I think Spring Data REST gives a great oportunity to use it &quot;out of the box&quot; in many cases, instead of writing custom services, repositories and controllers. I&#39;ve got a feeling this generally is a SpringBoot approach - first configure, than code."},{"owner":{"account_id":3753631,"reputation":2325,"user_id":3120564,"accept_rate":80,"display_name":"Jaumzera"},"score":1,"creation_date":1512585989,"post_id":39929670,"comment_id":82321815,"body_markdown":"I think it will only work if you are using SpringDataRest.","body":"I think it will only work if you are using SpringDataRest."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1554236456,"post_id":39929670,"comment_id":97675603,"body_markdown":"Why colons, as opposed to periods? (The documentation uses periods.)","body":"Why colons, as opposed to periods? (The documentation uses periods.)"}],"tags":[],"owner":{"account_id":1245560,"reputation":958,"user_id":1207102,"accept_rate":40,"display_name":"thorinkor"},"comment_count":8,"down_vote_count":4,"up_vote_count":11,"is_accepted":false,"score":7,"last_activity_date":1676639552,"creation_date":1475910087,"answer_id":39929670,"question_id":32927937,"body_markdown":"I might be a bit late, BUT... I believe it is the best solution. Set it up in your application.yml (or similar config file):\r\n\r\n    spring:\r\n        data:\r\n            rest:\r\n                basePath: /api\r\n\r\nAs I can remember that&#39;s it - all of your repositories will be exposed beneath this URI.","title":"How to set base url for rest in spring boot?","body":"<p>I might be a bit late, BUT... I believe it is the best solution. Set it up in your application.yml (or similar config file):</p>\n<pre><code>spring:\n    data:\n        rest:\n            basePath: /api\n</code></pre>\n<p>As I can remember that's it - all of your repositories will be exposed beneath this URI.</p>\n"},{"comments":[{"owner":{"account_id":3942923,"reputation":8945,"user_id":3256597,"accept_rate":16,"display_name":"Teimuraz"},"score":0,"creation_date":1482671582,"post_id":41321286,"comment_id":69846439,"body_markdown":"How would you put in into Annotation?","body":"How would you put in into Annotation?"},{"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"score":6,"creation_date":1484254963,"post_id":41321286,"comment_id":70447181,"body_markdown":"meh, then you always have to remember to add this prefix each time you create a new controller","body":"meh, then you always have to remember to add this prefix each time you create a new controller"}],"tags":[],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1484318298,"creation_date":1482670422,"answer_id":41321286,"question_id":32927937,"body_markdown":"I couldn&#39;t believe how complicate the answer to this seemingly simple question is. Here are some references:\r\n\r\n - [Spring JIRA Ticket][1]\r\n - [Another SO question][2]\r\n - [Yet another SO question][3]\r\n - [Very nice GitRepository that showcases the problem][4]\r\n\r\nThere are many differnt things to consider: \r\n\r\n 1. By setting` server.context-path=/api` in `application.properties` you can configure a prefix for *everything*.(Its server.context-path   not server.contextPath !)\r\n 2. Spring Data controllers annotated with @RepositoryRestController that expose a repository as rest endpoint will use the environment variable `spring.data.rest.base-path` in `application.properties`.  But plain `@RestController` won&#39;t take this into account. According to the [spring data rest documentation][5] there is an annotation `@BasePathAwareController` that you can use for that.  But I do have problems in connection with Spring-security when I try to secure such a controller. It is not found anymore.\r\n\r\nAnother workaround is a simple trick. You cannot prefix a static String in an annotation, but you can use expressions like this:\r\n\r\n    @RestController\r\n    public class PingController {\r\n    \r\n      /**\r\n       * Simple is alive test\r\n       * @return &lt;pre&gt;{&quot;Hello&quot;:&quot;World&quot;}&lt;/pre&gt;\r\n       */\r\n      @RequestMapping(&quot;${spring.data.rest.base-path}/_ping&quot;)\r\n      public String isAlive() {\r\n        return &quot;{\\&quot;Hello\\&quot;:\\&quot;World\\&quot;}&quot;;\r\n      }\r\n    }\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-13882\r\n  [2]: https://stackoverflow.com/questions/34801351/how-to-configure-a-default-restcontroller-uri-prefix-for-all-controllers\r\n  [3]: https://stackoverflow.com/questions/32927937/how-to-set-base-url-for-rest-in-spring-boot\r\n  [4]: https://github.com/mike-boddin/spring-data-rest-example\r\n  [5]: http://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers\r\n","title":"How to set base url for rest in spring boot?","body":"<p>I couldn't believe how complicate the answer to this seemingly simple question is. Here are some references:</p>\n\n<ul>\n<li><a href=\"https://jira.spring.io/browse/SPR-13882\" rel=\"noreferrer\">Spring JIRA Ticket</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34801351/how-to-configure-a-default-restcontroller-uri-prefix-for-all-controllers\">Another SO question</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32927937/how-to-set-base-url-for-rest-in-spring-boot\">Yet another SO question</a></li>\n<li><a href=\"https://github.com/mike-boddin/spring-data-rest-example\" rel=\"noreferrer\">Very nice GitRepository that showcases the problem</a></li>\n</ul>\n\n<p>There are many differnt things to consider: </p>\n\n<ol>\n<li>By setting<code>server.context-path=/api</code> in <code>application.properties</code> you can configure a prefix for <em>everything</em>.(Its server.context-path   not server.contextPath !)</li>\n<li>Spring Data controllers annotated with @RepositoryRestController that expose a repository as rest endpoint will use the environment variable <code>spring.data.rest.base-path</code> in <code>application.properties</code>.  But plain <code>@RestController</code> won't take this into account. According to the <a href=\"http://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.overriding-sdr-response-handlers\" rel=\"noreferrer\">spring data rest documentation</a> there is an annotation <code>@BasePathAwareController</code> that you can use for that.  But I do have problems in connection with Spring-security when I try to secure such a controller. It is not found anymore.</li>\n</ol>\n\n<p>Another workaround is a simple trick. You cannot prefix a static String in an annotation, but you can use expressions like this:</p>\n\n<pre><code>@RestController\npublic class PingController {\n\n  /**\n   * Simple is alive test\n   * @return &lt;pre&gt;{\"Hello\":\"World\"}&lt;/pre&gt;\n   */\n  @RequestMapping(\"${spring.data.rest.base-path}/_ping\")\n  public String isAlive() {\n    return \"{\\\"Hello\\\":\\\"World\\\"}\";\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1576989,"reputation":1062,"user_id":1463168,"display_name":"Massimo"},"score":4,"creation_date":1512400754,"post_id":41363455,"comment_id":82230967,"body_markdown":"This is not correct answer, the user is referring to Controller annotation. If you extend an abstract class with a RequestMapping annotation, and the new class has a RequestMapping too, this last will override the first one, it will not concatenate the two.","body":"This is not correct answer, the user is referring to Controller annotation. If you extend an abstract class with a RequestMapping annotation, and the new class has a RequestMapping too, this last will override the first one, it will not concatenate the two."},{"owner":{"account_id":126451,"reputation":535,"user_id":322950,"accept_rate":43,"display_name":"Mashrur"},"score":0,"creation_date":1570711585,"post_id":41363455,"comment_id":103005175,"body_markdown":"Are you aware that annotations are not inherited in java unless it has inherited meta annotation? Check this: https://stackoverflow.com/a/21409651. And @RequestMapping does not seem to have that: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html","body":"Are you aware that annotations are not inherited in java unless it has inherited meta annotation? Check this: <a href=\"https://stackoverflow.com/a/21409651\">stackoverflow.com/a/21409651</a>. And @RequestMapping does not seem to have that: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":2055509,"reputation":2488,"user_id":1833379,"accept_rate":62,"display_name":"Saket Mehta"},"comment_count":2,"down_vote_count":9,"up_vote_count":14,"is_accepted":false,"score":5,"last_activity_date":1482932962,"creation_date":1482932962,"answer_id":41363455,"question_id":32927937,"body_markdown":"You can create a base class with `@RequestMapping(&quot;rest&quot;)` annotations and extend all you other classes with this base class.\r\n\r\n    @RequestMapping(&quot;rest&quot;)\r\n    public abstract class BaseController {}\r\n\r\nNow all classes that extend this base class will be accessible at `rest/**`.","title":"How to set base url for rest in spring boot?","body":"<p>You can create a base class with <code>@RequestMapping(\"rest\")</code> annotations and extend all you other classes with this base class.</p>\n\n<pre><code>@RequestMapping(\"rest\")\npublic abstract class BaseController {}\n</code></pre>\n\n<p>Now all classes that extend this base class will be accessible at <code>rest/**</code>.</p>\n"},{"comments":[{"owner":{"account_id":914356,"reputation":1301,"user_id":947497,"display_name":"Jean-Fran&#231;ois Beauchef"},"score":4,"creation_date":1499456653,"post_id":42811503,"comment_id":76932358,"body_markdown":"This is the exact answer that thorinkor gave.","body":"This is the exact answer that thorinkor gave."},{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":8,"creation_date":1513854324,"post_id":42811503,"comment_id":82814728,"body_markdown":"Thanks, but this does not work for me in Spring Boot version v1.5.7.RELEASE. The other answer server.contextPath=/api worked","body":"Thanks, but this does not work for me in Spring Boot version v1.5.7.RELEASE. The other answer server.contextPath=/api worked"},{"owner":{"account_id":8261770,"reputation":834,"user_id":6212879,"accept_rate":88,"display_name":"Nano"},"score":14,"creation_date":1524232289,"post_id":42811503,"comment_id":86902541,"body_markdown":"@Suroj That solution works only with RepositoryRestController annotated controllers, not with RestController...","body":"@Suroj That solution works only with RepositoryRestController annotated controllers, not with RestController..."},{"owner":{"account_id":4938124,"reputation":996,"user_id":3991578,"accept_rate":100,"display_name":"Carsten Hagemann"},"score":0,"creation_date":1526469744,"post_id":42811503,"comment_id":87754985,"body_markdown":"https://jira.spring.io/browse/DATAREST-1211 This Jira Ticket mentions it being &quot;spring.data.rest.base-path for Spring Boot 2.0.0&quot;. Sadly, both don&#39;t work for me.","body":"<a href=\"https://jira.spring.io/browse/DATAREST-1211\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAREST-1211</a> This Jira Ticket mentions it being &quot;spring.data.rest.base-path for Spring Boot 2.0.0&quot;. Sadly, both don&#39;t work for me."},{"owner":{"account_id":2273309,"reputation":561,"user_id":2000187,"accept_rate":75,"display_name":"vicky"},"score":6,"creation_date":1547557063,"post_id":42811503,"comment_id":95225274,"body_markdown":"for SB 2+ it&#39;s server.servlet.context-path=/url","body":"for SB 2+ it&#39;s server.servlet.context-path=/url"},{"owner":{"account_id":6354047,"reputation":580,"user_id":4932044,"display_name":"Pramod Kumar Sharma"},"score":0,"creation_date":1557345756,"post_id":42811503,"comment_id":98737969,"body_markdown":"spring boot version 2.1.4.RELEASE, spring.mvc.servlet.path=/api and server.servlet.context-path=/api , both works","body":"spring boot version 2.1.4.RELEASE, spring.mvc.servlet.path=/api and server.servlet.context-path=/api , both works"},{"owner":{"account_id":6254221,"reputation":829,"user_id":4863347,"display_name":"Charlie Reitzel"},"score":0,"creation_date":1559080663,"post_id":42811503,"comment_id":99306049,"body_markdown":"I believe this answer is correct for the REST services automatically generated by Spring Data REST.  This isn&#39;t the same thing as for REST services you write yourself using @RestController and Spring MVC.","body":"I believe this answer is correct for the REST services automatically generated by Spring Data REST.  This isn&#39;t the same thing as for REST services you write yourself using @RestController and Spring MVC."},{"owner":{"account_id":3046231,"reputation":1927,"user_id":2581809,"display_name":"Ekeko"},"score":3,"creation_date":1569096943,"post_id":42811503,"comment_id":102487789,"body_markdown":"I don&#39;t understand how this answer got accepted or got so many up-votes. As mentioned by several other comments, this answer does not work (for @RestController) and is equivalent to another answer given almost 6 months before.","body":"I don&#39;t understand how this answer got accepted or got so many up-votes. As mentioned by several other comments, this answer does not work (for @RestController) and is equivalent to another answer given almost 6 months before."},{"owner":{"account_id":1883888,"reputation":898,"user_id":1703497,"display_name":"Girts Strazdins"},"score":2,"creation_date":1646483340,"post_id":42811503,"comment_id":126137508,"body_markdown":"`server.servlet.context-path=/api` sets the base path for all the requests. If you want to serve static files (HTML, CSS Javascript) from `/` while all REST API endpoints should be on `/api`, this won&#39;t work, because also the static HTML and other files will be served from `/api`. See other responses below!","body":"<code>server.servlet.context-path=&#47;api</code> sets the base path for all the requests. If you want to serve static files (HTML, CSS Javascript) from <code>&#47;</code> while all REST API endpoints should be on <code>&#47;api</code>, this won&#39;t work, because also the static HTML and other files will be served from <code>&#47;api</code>. See other responses below!"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701330454,"post_id":42811503,"comment_id":136762884,"body_markdown":"What&#39;s the difference between `spring.mvc.servlet.path` and `server.servlet.context-path` (for Boot 2)?","body":"What&#39;s the difference between <code>spring.mvc.servlet.path</code> and <code>server.servlet.context-path</code> (for Boot 2)?"}],"tags":[],"owner":{"account_id":4237072,"reputation":2197,"user_id":3467950,"display_name":"Suroj"},"comment_count":10,"down_vote_count":13,"up_vote_count":183,"is_accepted":true,"score":170,"last_activity_date":1571089416,"creation_date":1489585211,"answer_id":42811503,"question_id":32927937,"body_markdown":"With Spring Boot 1.2+ (&lt;2.0) all it takes is a single property in application.properties:\r\n\r\n\r\n    spring.data.rest.basePath=/api\r\n\r\nref link : https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.changing-base-uri\r\n\r\nFor 2.x, use\r\n\r\n    server.servlet.context-path=/api","title":"How to set base url for rest in spring boot?","body":"<p>With Spring Boot 1.2+ (&lt;2.0) all it takes is a single property in application.properties:</p>\n\n<pre><code>spring.data.rest.basePath=/api\n</code></pre>\n\n<p>ref link : <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.changing-base-uri\" rel=\"noreferrer\">https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.changing-base-uri</a></p>\n\n<p>For 2.x, use</p>\n\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n"},{"comments":[{"owner":{"account_id":979292,"reputation":1172,"user_id":999466,"accept_rate":75,"display_name":"eigil"},"score":4,"creation_date":1536149135,"post_id":50901239,"comment_id":91319135,"body_markdown":"That put everything under /api it seems, not only @RestController mappers. But thanks anyway. Your information is still useful.","body":"That put everything under /api it seems, not only @RestController mappers. But thanks anyway. Your information is still useful."}],"tags":[],"owner":{"account_id":338221,"reputation":193,"user_id":4313830,"display_name":"Juan Carlos Vergara Santos"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1529278019,"creation_date":1529278019,"answer_id":50901239,"question_id":32927937,"body_markdown":"For Boot 2.0.0+ this works for me: server.servlet.context-path = /api","title":"How to set base url for rest in spring boot?","body":"<p>For Boot 2.0.0+ this works for me: server.servlet.context-path = /api</p>\n"},{"comments":[{"owner":{"account_id":14089434,"reputation":416,"user_id":10178280,"display_name":"K. Ayoub"},"score":0,"creation_date":1534080930,"post_id":51803375,"comment_id":90573729,"body_markdown":"If i&#39;m using Pageable in my RestControler, api/something gives me No primary or default constructor found for interface org.springframework.data.domain.Pageable","body":"If i&#39;m using Pageable in my RestControler, api/something gives me No primary or default constructor found for interface org.springframework.data.domain.Pageable"}],"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534018313,"creation_date":1534018313,"answer_id":51803375,"question_id":32927937,"body_markdown":"This solution applies if:\r\n\r\n 1. You want to prefix `RestController` but not `Controller`.\r\n 2. You are not using Spring Data Rest.\r\n\r\n        @Configuration\r\n        public class WebConfig extends WebMvcConfigurationSupport {\r\n    \r\n    \t@Override\r\n    \tprotected RequestMappingHandlerMapping createRequestMappingHandlerMapping() {\r\n    \t\treturn new ApiAwareRequestMappingHandlerMapping();\r\n    \t}\r\n    \r\n    \tprivate static class ApiAwareRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\r\n    \r\n    \t\tprivate static final String API_PATH_PREFIX = &quot;api&quot;;\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void registerHandlerMethod(Object handler, Method method, RequestMappingInfo mapping) {\r\n    \t\t\tClass&lt;?&gt; beanType = method.getDeclaringClass();\r\n    \t\t\tif (AnnotationUtils.findAnnotation(beanType, RestController.class) != null) {\r\n    \t\t\t\tPatternsRequestCondition apiPattern = new PatternsRequestCondition(API_PATH_PREFIX)\r\n    \t\t\t\t\t\t.combine(mapping.getPatternsCondition());\r\n    \r\n    \t\t\t\tmapping = new RequestMappingInfo(mapping.getName(), apiPattern, mapping.getMethodsCondition(),\r\n    \t\t\t\t\t\tmapping.getParamsCondition(), mapping.getHeadersCondition(), mapping.getConsumesCondition(),\r\n    \t\t\t\t\t\tmapping.getProducesCondition(), mapping.getCustomCondition());\r\n    \t\t\t}\r\n    \t\t\tsuper.registerHandlerMethod(handler, method, mapping);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is similar to the [solution][1] posted by mh-dev, but I think this is a little cleaner and this should be supported on any version of Spring Boot 1.4.0+, including 2.0.0+.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39907655/2860319\r\n","title":"How to set base url for rest in spring boot?","body":"<p>This solution applies if:</p>\n\n<ol>\n<li>You want to prefix <code>RestController</code> but not <code>Controller</code>.</li>\n<li><p>You are not using Spring Data Rest.</p>\n\n<pre><code>@Configuration\npublic class WebConfig extends WebMvcConfigurationSupport {\n\n@Override\nprotected RequestMappingHandlerMapping createRequestMappingHandlerMapping() {\n    return new ApiAwareRequestMappingHandlerMapping();\n}\n\nprivate static class ApiAwareRequestMappingHandlerMapping extends RequestMappingHandlerMapping {\n\n    private static final String API_PATH_PREFIX = \"api\";\n\n    @Override\n    protected void registerHandlerMethod(Object handler, Method method, RequestMappingInfo mapping) {\n        Class&lt;?&gt; beanType = method.getDeclaringClass();\n        if (AnnotationUtils.findAnnotation(beanType, RestController.class) != null) {\n            PatternsRequestCondition apiPattern = new PatternsRequestCondition(API_PATH_PREFIX)\n                    .combine(mapping.getPatternsCondition());\n\n            mapping = new RequestMappingInfo(mapping.getName(), apiPattern, mapping.getMethodsCondition(),\n                    mapping.getParamsCondition(), mapping.getHeadersCondition(), mapping.getConsumesCondition(),\n                    mapping.getProducesCondition(), mapping.getCustomCondition());\n        }\n        super.registerHandlerMethod(handler, method, mapping);\n    }\n}\n</code></pre>\n\n<p>}</p></li>\n</ol>\n\n<p>This is similar to the <a href=\"https://stackoverflow.com/a/39907655/2860319\">solution</a> posted by mh-dev, but I think this is a little cleaner and this should be supported on any version of Spring Boot 1.4.0+, including 2.0.0+.</p>\n"},{"comments":[{"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"score":2,"creation_date":1538684031,"post_id":52144394,"comment_id":92240334,"body_markdown":"This also does affect the public folder :-(","body":"This also does affect the public folder :-("},{"owner":{"account_id":6973537,"reputation":1101,"user_id":5348990,"accept_rate":36,"display_name":"jackycflau"},"score":9,"creation_date":1543462193,"post_id":52144394,"comment_id":93930946,"body_markdown":"this is the correct answer for Spring boot 2+. `spring.data.rest.basePath` does not work for Spring boot 2","body":"this is the correct answer for Spring boot 2+. <code>spring.data.rest.basePath</code> does not work for Spring boot 2"},{"owner":{"account_id":12175626,"reputation":332,"user_id":8888796,"display_name":"Heybat"},"score":0,"creation_date":1608278965,"post_id":52144394,"comment_id":115539610,"body_markdown":"server.servlet.context-path works for spring boot 2","body":"server.servlet.context-path works for spring boot 2"}],"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"comment_count":3,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1535956984,"creation_date":1535956984,"answer_id":52144394,"question_id":32927937,"body_markdown":"For spring boot framework version `2.0.4.RELEASE+`. Add this line to `application.properties`\r\n\r\n    server.servlet.context-path=/api","title":"How to set base url for rest in spring boot?","body":"<p>For spring boot framework version <code>2.0.4.RELEASE+</code>. Add this line to <code>application.properties</code></p>\n\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554300604,"creation_date":1554240434,"answer_id":55483814,"question_id":32927937,"body_markdown":"Per Spring Data REST [docs][1], if using *application.properties*, use this property to set your base path:\r\n\r\n    spring.data.rest.basePath=/api\r\n\r\nBut note that Spring [uses][2] [relaxed binding][3], so this variation can be used:\r\n\r\n    spring.data.rest.base-path=/api\r\n\r\n... or this one if you prefer:\r\n\r\n    spring.data.rest.base_path=/api\r\n\r\nIf using *application.yml*, you would use colons for key separators:\r\n\r\n    spring:\r\n      data:\r\n        rest:\r\n          basePath: /api\r\n\r\n(For reference, a related [ticket][4] was created in March 2018 to clarify the docs.)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.changing-base-uri\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Configuration-Binding#relaxed-binding\r\n  [3]: https://github.com/spring-projects/spring-boot/wiki/Relaxed-Binding-2.0\r\n  [4]: https://jira.spring.io/browse/DATAREST-1211","title":"How to set base url for rest in spring boot?","body":"<p>Per Spring Data REST <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.changing-base-uri\" rel=\"nofollow noreferrer\">docs</a>, if using <em>application.properties</em>, use this property to set your base path:</p>\n\n<pre><code>spring.data.rest.basePath=/api\n</code></pre>\n\n<p>But note that Spring <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-Configuration-Binding#relaxed-binding\" rel=\"nofollow noreferrer\">uses</a> <a href=\"https://github.com/spring-projects/spring-boot/wiki/Relaxed-Binding-2.0\" rel=\"nofollow noreferrer\">relaxed binding</a>, so this variation can be used:</p>\n\n<pre><code>spring.data.rest.base-path=/api\n</code></pre>\n\n<p>... or this one if you prefer:</p>\n\n<pre><code>spring.data.rest.base_path=/api\n</code></pre>\n\n<p>If using <em>application.yml</em>, you would use colons for key separators:</p>\n\n<pre><code>spring:\n  data:\n    rest:\n      basePath: /api\n</code></pre>\n\n<p>(For reference, a related <a href=\"https://jira.spring.io/browse/DATAREST-1211\" rel=\"nofollow noreferrer\">ticket</a> was created in March 2018 to clarify the docs.)</p>\n"},{"tags":[],"owner":{"account_id":1220728,"reputation":111,"user_id":1187428,"display_name":"bsk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554299823,"creation_date":1554299823,"answer_id":55496927,"question_id":32927937,"body_markdown":"With spring-boot 2.x you can configure in application.properties:\r\n\r\n    spring.mvc.servlet.path=/api\r\n\r\n","title":"How to set base url for rest in spring boot?","body":"<p>With spring-boot 2.x you can configure in application.properties:</p>\n\n<pre><code>spring.mvc.servlet.path=/api\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1558921567,"creation_date":1558921567,"answer_id":56318745,"question_id":32927937,"body_markdown":"worked    server.contextPath=/path\r\n\r\n","title":"How to set base url for rest in spring boot?","body":"<p>worked    server.contextPath=/path</p>\n"},{"comments":[{"owner":{"account_id":353405,"reputation":1924,"user_id":691074,"display_name":"Buurman"},"score":3,"creation_date":1570450985,"post_id":58256259,"comment_id":102905948,"body_markdown":"Thanks, this was exactly what I was looking for!\nThis allows you to set a context path element for all RestControllers configured through this WebMvcConfig, similar to what spring.data.rest.base-path does.","body":"Thanks, this was exactly what I was looking for! This allows you to set a context path element for all RestControllers configured through this WebMvcConfig, similar to what spring.data.rest.base-path does."},{"owner":{"account_id":353405,"reputation":1924,"user_id":691074,"display_name":"Buurman"},"score":0,"creation_date":1570451474,"post_id":58256259,"comment_id":102906217,"body_markdown":"Your answer is spot on @HaraldWendel :+1:  You could improve upon it some more by expanding upon it a bit, like explaining what your code does exactly (as I&#39;ve tried to do in my comment) and/or maybe link to some javadoc or documentation that describes this usage.","body":"Your answer is spot on @HaraldWendel :+1:  You could improve upon it some more by expanding upon it a bit, like explaining what your code does exactly (as I&#39;ve tried to do in my comment) and/or maybe link to some javadoc or documentation that describes this usage."},{"owner":{"account_id":7402277,"reputation":340,"user_id":5632321,"display_name":"Anatoly Yakimchuk"},"score":0,"creation_date":1586445092,"post_id":58256259,"comment_id":108135874,"body_markdown":"This is the only solution that worked for me as I&#39;m using controller interfaces","body":"This is the only solution that worked for me as I&#39;m using controller interfaces"},{"owner":{"account_id":1442236,"reputation":422,"user_id":1362003,"display_name":"Sixro"},"score":0,"creation_date":1637186119,"post_id":58256259,"comment_id":123762227,"body_markdown":"This is the only right answer. It should be flagged as THE ANSWER.","body":"This is the only right answer. It should be flagged as THE ANSWER."},{"owner":{"account_id":1462845,"reputation":98,"user_id":1376640,"display_name":"Bageshwar Pratap Narain"},"score":0,"creation_date":1644862944,"post_id":58256259,"comment_id":125712884,"body_markdown":"Worked flawlessly!","body":"Worked flawlessly!"}],"tags":[],"owner":{"account_id":16834836,"reputation":409,"user_id":12171818,"display_name":"Harald Wendel"},"comment_count":5,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1570356838,"creation_date":1570356838,"answer_id":58256259,"question_id":32927937,"body_markdown":"Try using a PathMatchConfigurer (Spring Boot 2.x):\r\n\r\n```\r\n@Configuration\r\npublic class WebMvcConfig implements WebMvcConfigurer  {\r\n\r\n\t@Override\r\n\tpublic void configurePathMatch(PathMatchConfigurer configurer) {\r\n\t\tconfigurer.addPathPrefix(&quot;api&quot;, HandlerTypePredicate.forAnnotation(RestController.class));\r\n\t}\r\n}\r\n```","title":"How to set base url for rest in spring boot?","body":"<p>Try using a PathMatchConfigurer (Spring Boot 2.x):</p>\n\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer  {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.addPathPrefix(\"api\", HandlerTypePredicate.forAnnotation(RestController.class));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17636865,"reputation":11,"user_id":12799964,"display_name":"Prerit Neema"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580234983,"creation_date":1580234983,"answer_id":59954679,"question_id":32927937,"body_markdown":"You can create a custom annotation for your controllers:\r\n\r\nUse it instead of the usual @RestController on your controller classes and annotate methods with @RequestMapping.\r\n\r\nWorks fine in Spring 4.2!","title":"How to set base url for rest in spring boot?","body":"<p>You can create a custom annotation for your controllers:</p>\n\n<p>Use it instead of the usual @RestController on your controller classes and annotate methods with @RequestMapping.</p>\n\n<p>Works fine in Spring 4.2!</p>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580235763,"creation_date":1580235763,"answer_id":59954863,"question_id":32927937,"body_markdown":"For those who use YAML configuration(application.yaml).\r\n\r\n**Note**: this works only for `Spring Boot 2.x.x`\r\n\r\n```\r\nserver:\r\n  servlet:\r\n    contextPath: /api\r\n\r\n```\r\n\r\nIf you are still using `Spring Boot 1.x`\r\n\r\n```\r\nserver:\r\n  contextPath: /api\r\n```","title":"How to set base url for rest in spring boot?","body":"<p>For those who use YAML configuration(application.yaml).</p>\n\n<p><strong>Note</strong>: this works only for <code>Spring Boot 2.x.x</code></p>\n\n<pre><code>server:\n  servlet:\n    contextPath: /api\n\n</code></pre>\n\n<p>If you are still using <code>Spring Boot 1.x</code></p>\n\n<pre><code>server:\n  contextPath: /api\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17826983,"reputation":199,"user_id":12947954,"display_name":"Rahul Talreja"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1582608631,"creation_date":1582599797,"answer_id":60386930,"question_id":32927937,"body_markdown":"`server.servlet.context-path=/api` would be the solution I guess. I had the same issue and this got me solved. I used server.context-path. However, that seemed to be deprecated and I found that `server.servlet.context-path` solves the issue now. Another workaround I found was adding a base tag to my front end (H5) pages. I hope this helps someone out there.\r\n\r\nCheers","title":"How to set base url for rest in spring boot?","body":"<p><code>server.servlet.context-path=/api</code> would be the solution I guess. I had the same issue and this got me solved. I used server.context-path. However, that seemed to be deprecated and I found that <code>server.servlet.context-path</code> solves the issue now. Another workaround I found was adding a base tag to my front end (H5) pages. I hope this helps someone out there.</p>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":20647480,"reputation":151,"user_id":15158620,"display_name":"Thamidu Adikaram"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1623331478,"creation_date":1623331478,"answer_id":67922089,"question_id":32927937,"body_markdown":"I did some research on the differences of spring properties mentioned in this thread. Here are my findings if anybody is wondering.\r\n\r\nspring.data.rest.basePath Property\r\n----\r\n\r\n```\r\nspring.data.rest.basePath=/api\r\n```\r\nThis property is specifically for **Spring Data Rest** projects. It won&#39;t work in a usual Spring MVC projects. \r\n\r\nTo change the context path in MVC projects, you can use those two properties mentioned below. Let me mention the differences too.\r\n\r\nserver.servlet.context-path Property\r\n-----------\r\n\r\n\r\n```\r\nserver.servlet.context-path=/api\r\n```\r\nThis one sets the context path on your web servelet. This property perfectly works fine in both spring mvc and spring data rest projects. **But,** the differnce is the request url will be filter out before reaching spring interceptors. So it will respond with HTML on bad request. Not Spring&#39;s or your own custom JSON response (in @ResponseBodyAdvice annotated class) defined. To overcome that, you should use this property below.\r\n\r\nspring.mvc.servlet.path Property\r\n-----\r\n\r\n```\r\nspring.mvc.servlet.path=/api\r\n```\r\nThis will filter the request URL in spring mvc interceptors and will respond default/your custom JSON response if you invoke a bad request. \r\n\r\nConclusion:\r\n---\r\n\r\nSo as the OP&#39;s question, I would suggest that he should use **spring.mvc.servlet.path** to change the context path.","title":"How to set base url for rest in spring boot?","body":"<p>I did some research on the differences of spring properties mentioned in this thread. Here are my findings if anybody is wondering.</p>\n<h2>spring.data.rest.basePath Property</h2>\n<pre><code>spring.data.rest.basePath=/api\n</code></pre>\n<p>This property is specifically for <strong>Spring Data Rest</strong> projects. It won't work in a usual Spring MVC projects.</p>\n<p>To change the context path in MVC projects, you can use those two properties mentioned below. Let me mention the differences too.</p>\n<h2>server.servlet.context-path Property</h2>\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n<p>This one sets the context path on your web servelet. This property perfectly works fine in both spring mvc and spring data rest projects. <strong>But,</strong> the differnce is the request url will be filter out before reaching spring interceptors. So it will respond with HTML on bad request. Not Spring's or your own custom JSON response (in @ResponseBodyAdvice annotated class) defined. To overcome that, you should use this property below.</p>\n<h2>spring.mvc.servlet.path Property</h2>\n<pre><code>spring.mvc.servlet.path=/api\n</code></pre>\n<p>This will filter the request URL in spring mvc interceptors and will respond default/your custom JSON response if you invoke a bad request.</p>\n<h2>Conclusion:</h2>\n<p>So as the OP's question, I would suggest that he should use <strong>spring.mvc.servlet.path</strong> to change the context path.</p>\n"},{"tags":[],"owner":{"account_id":264651,"reputation":773,"user_id":551074,"accept_rate":83,"display_name":"Gregra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633844117,"creation_date":1633844117,"answer_id":69512593,"question_id":32927937,"body_markdown":"For Spring WebFlux the approach is similar to Harald&#39;s, but with the obvious WebFlux configuration set up:\r\n\r\n    @Configuration\r\n    public class WebFluxConfig implements WebFluxConfigurer  {\r\n\r\n       @Override\r\n       public void configurePathMatching(PathMatchConfigurer configurer) {\r\n           configurer.addPathPrefix(&quot;/api&quot;, HandlerTypePredicate.forAnnotation(RestController.class));\r\n       }\r\n    }\r\n\r\nAnd for Kotlin it&#39;s:\r\n\r\n    @Configuration\r\n    class WebFluxConfig : WebFluxConfigurer {\r\n        override fun configurePathMatching(configurer: PathMatchConfigurer) {\r\n           configurer.addPathPrefix(&quot;/api&quot;, HandlerTypePredicate.forAnnotation(RestController::class.java))\r\n    }","title":"How to set base url for rest in spring boot?","body":"<p>For Spring WebFlux the approach is similar to Harald's, but with the obvious WebFlux configuration set up:</p>\n<pre><code>@Configuration\npublic class WebFluxConfig implements WebFluxConfigurer  {\n\n   @Override\n   public void configurePathMatching(PathMatchConfigurer configurer) {\n       configurer.addPathPrefix(&quot;/api&quot;, HandlerTypePredicate.forAnnotation(RestController.class));\n   }\n}\n</code></pre>\n<p>And for Kotlin it's:</p>\n<pre><code>@Configuration\nclass WebFluxConfig : WebFluxConfigurer {\n    override fun configurePathMatching(configurer: PathMatchConfigurer) {\n       configurer.addPathPrefix(&quot;/api&quot;, HandlerTypePredicate.forAnnotation(RestController::class.java))\n}\n</code></pre>\n"}],"owner":{"account_id":3942923,"reputation":8945,"user_id":3256597,"accept_rate":16,"display_name":"Teimuraz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343725,"favorite_count":0,"down_vote_count":0,"up_vote_count":193,"accepted_answer_id":42811503,"answer_count":20,"score":193,"last_activity_date":1676639552,"creation_date":1443909770,"question_id":32927937,"body_markdown":"I&#39;m trying to to mix mvc and rest in a single spring boot project.\r\n\r\nI want to set base path for all rest controllers (eg. example.com/api)\r\nin a single place (I don&#39;t want annotate each controller with `@RequestMapping(&#39;api/products&#39;)`, instead, just `@RequestMapping(&#39;/products&#39;)`.\r\n\r\nMvc controllers should be accessible by example.com/whatever\r\n\r\nIs it possible?\r\n\r\n(I don&#39;t use spring data rest, just spring mvc)","title":"How to set base url for rest in spring boot?","body":"<p>I'm trying to to mix mvc and rest in a single spring boot project.</p>\n<p>I want to set base path for all rest controllers (eg. example.com/api)\nin a single place (I don't want annotate each controller with <code>@RequestMapping('api/products')</code>, instead, just <code>@RequestMapping('/products')</code>.</p>\n<p>Mvc controllers should be accessible by example.com/whatever</p>\n<p>Is it possible?</p>\n<p>(I don't use spring data rest, just spring mvc)</p>\n"},{"tags":["java","spring","caching","etag"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676639436,"creation_date":1676639436,"answer_id":75484745,"question_id":75484400,"body_markdown":"You have 2 different concepts.\r\n\r\n**Server side cache**: Calls from different clients with the same parameters can get the same result from server cache.\r\n\r\n**Client side cache**: Get once and use ETag to see if anything has changed, no need to get it again if not modified.","title":"Spring CacheManager vs ETag","body":"<p>You have 2 different concepts.</p>\n<p><strong>Server side cache</strong>: Calls from different clients with the same parameters can get the same result from server cache.</p>\n<p><strong>Client side cache</strong>: Get once and use ETag to see if anything has changed, no need to get it again if not modified.</p>\n"}],"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676639436,"creation_date":1676637484,"question_id":75484400,"body_markdown":"I have a Spring (not Boot) application with a successfully configured and used Caching mechanism through the CacheManager that looks like the following:\r\n\r\n```java\r\n@Configuration\r\n@EnableCaching(proxyTargetClass=true)\r\npublic class CachingConfig {\r\n   @Bean\r\n   public CacheManager cacheManager() {\r\n      SimpleCacheManager cacheManager = new SimpleCacheManager();\r\n      List&lt;Cache&gt; caches = List.of(\r\n         new ConcurrentMapCache(&quot;cache_name_1&quot;),\r\n         // ....\r\n      );\r\n      \r\n      cacheManager.setCaches(caches);\r\n      return cacheManager;\r\n   }\r\n\r\n}\r\n```\r\n\r\nSpring also supports ETags as can be read [here](https://www.baeldung.com/etags-for-rest-with-spring). And it could be configured as follows:\r\n\r\n```java\r\n@Bean\r\npublic ShallowEtagHeaderFilter shallowEtagHeaderFilter() {\r\n    return new ShallowEtagHeaderFilter();\r\n}\r\n```\r\n\r\nIs there any need for ETags when one has already configured Caching used the first approach above? ","title":"Spring CacheManager vs ETag","body":"<p>I have a Spring (not Boot) application with a successfully configured and used Caching mechanism through the CacheManager that looks like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableCaching(proxyTargetClass=true)\npublic class CachingConfig {\n   @Bean\n   public CacheManager cacheManager() {\n      SimpleCacheManager cacheManager = new SimpleCacheManager();\n      List&lt;Cache&gt; caches = List.of(\n         new ConcurrentMapCache(&quot;cache_name_1&quot;),\n         // ....\n      );\n      \n      cacheManager.setCaches(caches);\n      return cacheManager;\n   }\n\n}\n</code></pre>\n<p>Spring also supports ETags as can be read <a href=\"https://www.baeldung.com/etags-for-rest-with-spring\" rel=\"nofollow noreferrer\">here</a>. And it could be configured as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ShallowEtagHeaderFilter shallowEtagHeaderFilter() {\n    return new ShallowEtagHeaderFilter();\n}\n</code></pre>\n<p>Is there any need for ETags when one has already configured Caching used the first approach above?</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1676552515,"post_id":75472659,"comment_id":133162328,"body_markdown":"Why are those methods private? And no, this is not the correct way to call private methods and your compiler surely tells you so as well.","body":"Why are those methods private? And no, this is not the correct way to call private methods and your compiler surely tells you so as well."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1676552684,"post_id":75472659,"comment_id":133162387,"body_markdown":"`private` means that this element (the method in your case) is basically only know to the class it is defined in. So other classes should by definition not have access to it - and if you need that to be changed then change the access modifier to something other than `private` (nothing aka package-private, `protected` or `public` depending on who should be able to access the method).","body":"<code>private</code> means that this element (the method in your case) is basically only know to the class it is defined in. So other classes should by definition not have access to it - and if you need that to be changed then change the access modifier to something other than <code>private</code> (nothing aka package-private, <code>protected</code> or <code>public</code> depending on who should be able to access the method)."}],"answers":[{"comments":[{"owner":{"account_id":27691124,"reputation":1,"user_id":21137794,"display_name":"JohnnyBJorden"},"score":0,"creation_date":1676558764,"post_id":75473048,"comment_id":133164411,"body_markdown":"Okay, how do I then access methods within the BasicInfo class, in order to print &quot;fullName()&quot; for example in the Customer class&#39;s displayInfo() method? Sorry I&#39;m quite new to this.","body":"Okay, how do I then access methods within the BasicInfo class, in order to print &quot;fullName()&quot; for example in the Customer class&#39;s displayInfo() method? Sorry I&#39;m quite new to this."},{"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"score":0,"creation_date":1676589026,"post_id":75473048,"comment_id":133173066,"body_markdown":"I guess you need to learn Java first. Get some book. Like &quot;Thinking in Java&quot;. In case of this particular question: make the method `public`.","body":"I guess you need to learn Java first. Get some book. Like &quot;Thinking in Java&quot;. In case of this particular question: make the method <code>public</code>."}],"tags":[],"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676554461,"creation_date":1676554461,"answer_id":75473048,"question_id":75472659,"body_markdown":"This is against Java principles. If a method is designed to be called outside of its class then it cannot be `private`.","title":"Calling a private method within another class into a class","body":"<p>This is against Java principles. If a method is designed to be called outside of its class then it cannot be <code>private</code>.</p>\n"},{"tags":[],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676555379,"creation_date":1676555379,"answer_id":75473206,"question_id":75472659,"body_markdown":"You should change access specifier of this methods to protected/public or default as the private method can be accessed only within the current class.","title":"Calling a private method within another class into a class","body":"<p>You should change access specifier of this methods to protected/public or default as the private method can be accessed only within the current class.</p>\n"},{"tags":[],"owner":{"account_id":27691124,"reputation":1,"user_id":21137794,"display_name":"JohnnyBJorden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676639375,"creation_date":1676639375,"answer_id":75484739,"question_id":75472659,"body_markdown":"Thanks everyone for taking the time to read my post.\r\n\r\n        public void displayInfo()\r\n    {\r\n        System.out.printf(&quot;Full name: %s%n&quot;, bi.fullName());\r\n        System.out.printf(&quot;Also known as: %s%n&quot;, bi.alsoKnownAs());\r\n        System.out.printf(&quot;Gender: %s%n&quot;, bi.getGender());\r\n        System.out.printf(&quot;Year of birth: %d%n&quot;, birthYear);\r\n    }\r\nI changed the above to this:\r\n\r\n        public void displayInfo()\r\n    {\r\n        bi.displayInfo();\r\n        System.out.printf(&quot;Year of birth: %d%n&quot;, birthYear);\r\n    }\r\n\r\nWhich displayed the information from the BasicInfo class&#39;s displayInfo() method. Perhaps my question wasn&#39;t very clear in the first place. Instead of asking how to access a private method, I should have asked how to call displayInfo() method from the BasicInfo class into the Customer class. ","title":"Calling a private method within another class into a class","body":"<p>Thanks everyone for taking the time to read my post.</p>\n<pre><code>    public void displayInfo()\n{\n    System.out.printf(&quot;Full name: %s%n&quot;, bi.fullName());\n    System.out.printf(&quot;Also known as: %s%n&quot;, bi.alsoKnownAs());\n    System.out.printf(&quot;Gender: %s%n&quot;, bi.getGender());\n    System.out.printf(&quot;Year of birth: %d%n&quot;, birthYear);\n}\n</code></pre>\n<p>I changed the above to this:</p>\n<pre><code>    public void displayInfo()\n{\n    bi.displayInfo();\n    System.out.printf(&quot;Year of birth: %d%n&quot;, birthYear);\n}\n</code></pre>\n<p>Which displayed the information from the BasicInfo class's displayInfo() method. Perhaps my question wasn't very clear in the first place. Instead of asking how to access a private method, I should have asked how to call displayInfo() method from the BasicInfo class into the Customer class.</p>\n"}],"owner":{"account_id":27691124,"reputation":1,"user_id":21137794,"display_name":"JohnnyBJorden"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676639375,"creation_date":1676552390,"question_id":75472659,"body_markdown":"I&#39;m trying to call method within the BasicInfo class (full name(), alsoKnownAs()) into another class called Customer, specifically within the displayInfo() portion, but am not sure how to do that, here is my code:\r\n\r\n\r\n```\r\nenum Gender {MALE, FEMALE}\r\n\r\nclass BasicInfo\r\n{\r\n\tprivate String firstName, secondName, lastName;\r\n\tprivate Gender g;\r\n\t\r\n\t//Default Constructor\r\n\tpublic BasicInfo()\r\n\t{\r\n\t\t//Do nothing\r\n\t}\r\n\t\r\n\t//Other Constructor\r\n\tpublic BasicInfo(String firstName, String secondName, String lastName, Gender g)\r\n\t{\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.secondName = secondName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.g = g;\r\n\t}\r\n\t\r\n\t//Copy Constructor\r\n\tpublic BasicInfo(BasicInfo bi)\r\n\t{\r\n\t\tthis.firstName = bi.firstName;\r\n\t\tthis.secondName = bi.secondName;\r\n\t\tthis.lastName = bi.lastName;\r\n\t\tthis.g = bi.g;\r\n\t}\r\n\t\r\n\tpublic String getFirstName()\r\n\t{\r\n\t\treturn firstName;\r\n\t}\r\n\t\r\n\tpublic String getSecondName()\r\n\t{\r\n\t\treturn secondName;\r\n\t}\r\n\t\r\n\tpublic String getLastName()\r\n\t{\r\n\t\treturn lastName;\r\n\t}\r\n\t\r\n\tprivate Gender getGender()\r\n\t{\r\n\t\treturn g;\r\n\t}\r\n\t\r\n\tpublic void setInfo(String firstName, String secondName, String lastName, Gender g)\r\n\t{\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.secondName = secondName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.g = g;\r\n\t}\r\n\t\r\n\tprivate String fullName()\r\n\t{\r\n\t\treturn (firstName + &quot; &quot; + secondName + &quot; &quot; + lastName);\r\n\t}\r\n\t\r\n\tprivate String alsoKnownAs()\r\n\t{\r\n\t\treturn (firstName.charAt(0) + &quot;. &quot; + secondName.charAt(0) + &quot;. &quot; + lastName);\r\n\t}\r\n\t\r\n\tpublic void displayInfo()\r\n\t{\r\n\t\tSystem.out.printf(&quot;Full name: %s%n&quot;, fullName());\r\n\t\tSystem.out.printf(&quot;Also known as: %s%n&quot;, alsoKnownAs());\r\n\t\tSystem.out.printf(&quot;Gender: %s%n&quot;, getGender());\r\n\t}\r\n}\r\n\r\nclass Customer\r\n{\r\n\tprivate BasicInfo bi;\r\n\tprivate int birthYear;\r\n\t\r\n\tpublic Customer()\r\n\t{\r\n\t\t//Do nothing\r\n\t}\r\n\t\r\n\tpublic Customer(BasicInfo bi, int birthYear)\r\n\t{\r\n\t\tthis.bi = bi;\r\n\t\tthis.birthYear = birthYear;\r\n\t}\r\n\t\r\n\tpublic Customer(Customer c)\r\n\t{\r\n\t\tthis.bi = c.bi;\r\n\t\tthis.birthYear = c.birthYear;\r\n\t}\r\n\t\r\n\tpublic BasicInfo getBasicInfo()\r\n\t{\r\n\t\treturn bi;\r\n\t}\r\n\t\r\n\tpublic int getBirthYear()\r\n\t{\r\n\t\treturn birthYear;\r\n\t}\r\n\t\r\n\tpublic void setInfo(BasicInfo bi, int birthYear)\r\n\t{\r\n\t\tthis.bi = bi;\r\n\t\tthis.birthYear = birthYear;\r\n\t}\r\n\t\r\n\tpublic void displayInfo()\r\n\t{\r\n\t\tSystem.out.printf(&quot;Full name: %s%n&quot;, bi.fullName());\r\n\t\tSystem.out.printf(&quot;Also known as: %s%n&quot;, bi.alsoKnownAs());\r\n\t\tSystem.out.printf(&quot;Gender: %s%n&quot;, bi.getGender());\r\n\t\tSystem.out.printf(&quot;Year of birth: %d%n&quot;, birthYear);\r\n\t}\r\n}\r\n```\r\n\r\nWithin customer class, displayInfo(), I used &quot;bi.fullName()&quot; and &quot;bi.alsoKnownAs()&quot; and &quot;bi.getGender()&quot;, is this the right way to method call? Any help would be greatly appreciated :)\r\n\r\nI tried using &quot;BasicInfo.&#39;the method&#39;&quot; as well, but still resulted in a compilation error.","title":"Calling a private method within another class into a class","body":"<p>I'm trying to call method within the BasicInfo class (full name(), alsoKnownAs()) into another class called Customer, specifically within the displayInfo() portion, but am not sure how to do that, here is my code:</p>\n<pre><code>enum Gender {MALE, FEMALE}\n\nclass BasicInfo\n{\n    private String firstName, secondName, lastName;\n    private Gender g;\n    \n    //Default Constructor\n    public BasicInfo()\n    {\n        //Do nothing\n    }\n    \n    //Other Constructor\n    public BasicInfo(String firstName, String secondName, String lastName, Gender g)\n    {\n        this.firstName = firstName;\n        this.secondName = secondName;\n        this.lastName = lastName;\n        this.g = g;\n    }\n    \n    //Copy Constructor\n    public BasicInfo(BasicInfo bi)\n    {\n        this.firstName = bi.firstName;\n        this.secondName = bi.secondName;\n        this.lastName = bi.lastName;\n        this.g = bi.g;\n    }\n    \n    public String getFirstName()\n    {\n        return firstName;\n    }\n    \n    public String getSecondName()\n    {\n        return secondName;\n    }\n    \n    public String getLastName()\n    {\n        return lastName;\n    }\n    \n    private Gender getGender()\n    {\n        return g;\n    }\n    \n    public void setInfo(String firstName, String secondName, String lastName, Gender g)\n    {\n        this.firstName = firstName;\n        this.secondName = secondName;\n        this.lastName = lastName;\n        this.g = g;\n    }\n    \n    private String fullName()\n    {\n        return (firstName + &quot; &quot; + secondName + &quot; &quot; + lastName);\n    }\n    \n    private String alsoKnownAs()\n    {\n        return (firstName.charAt(0) + &quot;. &quot; + secondName.charAt(0) + &quot;. &quot; + lastName);\n    }\n    \n    public void displayInfo()\n    {\n        System.out.printf(&quot;Full name: %s%n&quot;, fullName());\n        System.out.printf(&quot;Also known as: %s%n&quot;, alsoKnownAs());\n        System.out.printf(&quot;Gender: %s%n&quot;, getGender());\n    }\n}\n\nclass Customer\n{\n    private BasicInfo bi;\n    private int birthYear;\n    \n    public Customer()\n    {\n        //Do nothing\n    }\n    \n    public Customer(BasicInfo bi, int birthYear)\n    {\n        this.bi = bi;\n        this.birthYear = birthYear;\n    }\n    \n    public Customer(Customer c)\n    {\n        this.bi = c.bi;\n        this.birthYear = c.birthYear;\n    }\n    \n    public BasicInfo getBasicInfo()\n    {\n        return bi;\n    }\n    \n    public int getBirthYear()\n    {\n        return birthYear;\n    }\n    \n    public void setInfo(BasicInfo bi, int birthYear)\n    {\n        this.bi = bi;\n        this.birthYear = birthYear;\n    }\n    \n    public void displayInfo()\n    {\n        System.out.printf(&quot;Full name: %s%n&quot;, bi.fullName());\n        System.out.printf(&quot;Also known as: %s%n&quot;, bi.alsoKnownAs());\n        System.out.printf(&quot;Gender: %s%n&quot;, bi.getGender());\n        System.out.printf(&quot;Year of birth: %d%n&quot;, birthYear);\n    }\n}\n</code></pre>\n<p>Within customer class, displayInfo(), I used &quot;bi.fullName()&quot; and &quot;bi.alsoKnownAs()&quot; and &quot;bi.getGender()&quot;, is this the right way to method call? Any help would be greatly appreciated :)</p>\n<p>I tried using &quot;BasicInfo.'the method'&quot; as well, but still resulted in a compilation error.</p>\n"},{"tags":["java","if-statement","arraylist","logic","nested-loops"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1676339625,"post_id":75442778,"comment_id":133113584,"body_markdown":"Use `.equals`, not `==`, to compare `String`s.","body":"Use <code>.equals</code>, not <code>==</code>, to compare <code>String</code>s."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676616173,"post_id":75442857,"comment_id":133176655,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75442857/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27779034,"reputation":1,"user_id":21207751,"display_name":"N3wb1e"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676340596,"creation_date":1676340596,"answer_id":75442857,"question_id":75442778,"body_markdown":"I adjusted the outer if statement, problem solved.\r\n```\r\nif((textList.get(start)).equals(textList.get(next))){ \r\n```","title":"Trying to find and the most frequently used word in a list and its frequency .But it looks like there might be a overlooked logical error","body":"<p>I adjusted the outer if statement, problem solved.</p>\n<pre><code>if((textList.get(start)).equals(textList.get(next))){ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":19681373,"reputation":1,"user_id":14408422,"display_name":"Siddheswar Ojha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676638522,"creation_date":1676340822,"answer_id":75442867,"question_id":75442778,"body_markdown":"Instead of == in the first outer if try use .equals and your problem is solved.\r\n\r\nA:s I have mentioned below:\r\n\r\n    if((textList.get(start)).equals(textList.get(next)))","title":"Trying to find and the most frequently used word in a list and its frequency .But it looks like there might be a overlooked logical error","body":"<p>Instead of == in the first outer if try use .equals and your problem is solved.</p>\n<p>A:s I have mentioned below:</p>\n<pre><code>if((textList.get(start)).equals(textList.get(next)))\n</code></pre>\n"}],"owner":{"account_id":27779034,"reputation":1,"user_id":21207751,"display_name":"N3wb1e"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676638522,"creation_date":1676339466,"question_id":75442778,"body_markdown":"I have a method thats supposed to be returning the most used word in a 1D array. \r\nThe testing text: There is a very fat cat, the fat is something else. fat fat fat fat. Come on fat is the most used word.\r\nIt should be returning - fat 7\r\nBut returns There 1  instead\r\n\r\n\r\n\r\nIve tried moving the &quot;track&gt;maxFrequency&quot; if statement outside of the inner for loop, but it returns the same thing. Ive also taken that if statment out of the one its nested in. Getting some tunnel vision\r\n\r\n```\r\npublic String findFrequentWord() {\r\n  String finalP = &quot;&quot;;\r\n  int maxFrequency = 0; // most used word count\r\n  int track= 0; //keeping count of how many times a word appears\r\n  for(int start = 0; start&lt;textList.size();start++){ // picks 1 word at a time\r\n    for(int next = 0; next&lt;textList.size();next++){ // looks for that word in the entire array before moving to the next word in the list\r\n      if(textList.get(start)==textList.get(next)){ //when the currently examined word shows up in the list\r\n        track++;    // that words apperance count goes up\r\n        if(track&gt;maxFrequency){ // before going onto the next word we check if the words apperence is higher                  than the current max frquency\r\n          maxFrequency = track; // if it is we update the new maxiumum\r\n          finalP = textList.get(start); //we update the word displayed the most\r\n          } //nested  if end\r\n      } // if end\r\n    } //inner (next) for loop ends\r\n    track = 0; // reset tracking number for the next word\r\n  } // outter loop ends\r\n  return finalP + &quot; &quot; + maxFrequency; // display the most used word and how many times it showed up\r\n}\r\n```","title":"Trying to find and the most frequently used word in a list and its frequency .But it looks like there might be a overlooked logical error","body":"<p>I have a method thats supposed to be returning the most used word in a 1D array.\nThe testing text: There is a very fat cat, the fat is something else. fat fat fat fat. Come on fat is the most used word.\nIt should be returning - fat 7\nBut returns There 1  instead</p>\n<p>Ive tried moving the &quot;track&gt;maxFrequency&quot; if statement outside of the inner for loop, but it returns the same thing. Ive also taken that if statment out of the one its nested in. Getting some tunnel vision</p>\n<pre><code>public String findFrequentWord() {\n  String finalP = &quot;&quot;;\n  int maxFrequency = 0; // most used word count\n  int track= 0; //keeping count of how many times a word appears\n  for(int start = 0; start&lt;textList.size();start++){ // picks 1 word at a time\n    for(int next = 0; next&lt;textList.size();next++){ // looks for that word in the entire array before moving to the next word in the list\n      if(textList.get(start)==textList.get(next)){ //when the currently examined word shows up in the list\n        track++;    // that words apperance count goes up\n        if(track&gt;maxFrequency){ // before going onto the next word we check if the words apperence is higher                  than the current max frquency\n          maxFrequency = track; // if it is we update the new maxiumum\n          finalP = textList.get(start); //we update the word displayed the most\n          } //nested  if end\n      } // if end\n    } //inner (next) for loop ends\n    track = 0; // reset tracking number for the next word\n  } // outter loop ends\n  return finalP + &quot; &quot; + maxFrequency; // display the most used word and how many times it showed up\n}\n</code></pre>\n"},{"tags":["java","apache-spark","protocol-buffers","spark-streaming","protobuf-java"],"owner":{"account_id":15416910,"reputation":21,"user_id":11122094,"display_name":"Tanmai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676638283,"creation_date":1676638283,"question_id":75484544,"body_markdown":"How can I do something similar to below given code in Java.\r\n\r\nI basically need to deserialise a streaming data in Java using protobuf(which is a spark dataframe and in java its Dataset&lt;Row&gt;)\r\n\r\n```\r\nsparkSession.readStream\r\n      .format(&quot;kafka&quot;)\r\n      .option(&quot;subscribe&quot;, topic)\r\n      .option(&quot;kafka.bootstrap.servers&quot;, bootstrapServers)\r\n      .load()\r\n      .selectExpr(&quot;key&quot;, &quot;value&quot;) // Selecting only key &amp; value\r\n      .as\\[(Array\\[Byte\\], Array\\[Byte\\])\\]\r\n      .flatMap {\r\n        case (key, value) =&gt;\r\n          for {\r\n            deserializedKey &lt;- Try {\r\n              keyDeserializer.deserialize(topic, key)\r\n            }.toOption\r\n            deserializedValue &lt;- Try {\r\n              valueDeserializer.deserialize(topic, value)\r\n            }.toOption\r\n          } yield (deserializedKey, deserializedValue)\r\n      }\r\n```","title":"Deserialising spark dataframe(dataset) in java using protobuf","body":"<p>How can I do something similar to below given code in Java.</p>\n<p>I basically need to deserialise a streaming data in Java using protobuf(which is a spark dataframe and in java its Dataset)</p>\n<pre><code>sparkSession.readStream\n      .format(&quot;kafka&quot;)\n      .option(&quot;subscribe&quot;, topic)\n      .option(&quot;kafka.bootstrap.servers&quot;, bootstrapServers)\n      .load()\n      .selectExpr(&quot;key&quot;, &quot;value&quot;) // Selecting only key &amp; value\n      .as\\[(Array\\[Byte\\], Array\\[Byte\\])\\]\n      .flatMap {\n        case (key, value) =&gt;\n          for {\n            deserializedKey &lt;- Try {\n              keyDeserializer.deserialize(topic, key)\n            }.toOption\n            deserializedValue &lt;- Try {\n              valueDeserializer.deserialize(topic, value)\n            }.toOption\n          } yield (deserializedKey, deserializedValue)\n      }\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":26680163,"reputation":16,"user_id":20290233,"display_name":"Nithish Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676637950,"creation_date":1676637950,"answer_id":75484486,"question_id":75478977,"body_markdown":"I have worked on the @RequestBody to implicitly have the variables but here is an example of the @JsonView where you could accomplish the task easily\r\n[https://github.com/martypitt/JsonViewExample][1]\r\n\r\n\r\n  [1]: https://github.com/martypitt/JsonViewExample","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException when using JsonFilter","body":"<p>I have worked on the @RequestBody to implicitly have the variables but here is an example of the @JsonView where you could accomplish the task easily\n<a href=\"https://github.com/martypitt/JsonViewExample\" rel=\"nofollow noreferrer\">https://github.com/martypitt/JsonViewExample</a></p>\n"}],"owner":{"account_id":24887490,"reputation":47,"user_id":18759913,"display_name":"kentoto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676637950,"creation_date":1676590642,"question_id":75478977,"body_markdown":"I am using Jave Spring Boot frame work. There are one Entity named &quot;Reader&quot; and one resouce for REST APIs. My goal is to use JsonFilter to dynamically filter out some specific fields(e.g. only keeping the `id` field in example) when using APIs. When I tried to retrieve the Reader class without appliying any filters, this error came up.\r\n\r\n**Reader class:**\r\n```\r\npackage book.demo.java.reader;\r\n \r\nimport com.fasterxml.jackson.annotation.JsonFilter;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.validation.constraints.Size;\r\n \r\n@Entity\r\n@JsonFilter(&quot;ReaderFilter&quot;)\r\npublic class Reader {\r\n \r\n    @Id\r\n    @GeneratedValue()\r\n    private int id;\r\n    @Size(min=2)\r\n    private String firstName;\r\n    @Size(min=2)\r\n    private String lastName;\r\n    @Size(min=5)\r\n    private String username;\r\n    private String address;\r\n \r\n    protected Reader() {}\r\n \r\n    public Reader(String firstName, String lastName, String username, String address) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.username = username;\r\n        this.address = address;\r\n    }\r\n \r\n    /*\r\n \r\n    Getters and Setters...\r\n \r\n    */\r\n}\r\n```\r\n\r\n\r\n**Reader Resource:**\r\n\r\n```\r\npackage book.demo.java.reader;\r\n \r\nimport book.demo.java.exception.ReaderNotFoundException;\r\nimport book.demo.java.jpa.ReaderRepository;\r\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.http.converter.json.MappingJacksonValue;\r\nimport org.springframework.web.bind.annotation.*;\r\n \r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n \r\n@RestController\r\npublic class ReaderJpaResource {\r\n \r\n    private final ReaderRepository repository;\r\n \r\n    public ReaderJpaResource(ReaderRepository repository) {\r\n        this.repository = repository;\r\n    }\r\n \r\n \r\n    \r\n    @GetMapping(&quot;/jpa/reader/v1&quot;)\r\n    public MappingJacksonValue retrieveAllReadersV1() {\r\n        List&lt;Reader&gt; savedReader = repository.findAll();\r\n        MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(savedReader);\r\n        SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.serializeAll();\r\n        FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;ReaderFilter&quot;, filter);\r\n        mappingJacksonValue.setFilters(filters);\r\n        return mappingJacksonValue;\r\n    }\r\n \r\n    @GetMapping(&quot;/jpa/reader/v2&quot;)\r\n    public List&lt;Reader&gt; retrieveAllReadersV2() {\r\n        return repository.findAll();\r\n    }\r\n \r\n    @PostMapping(&quot;/jpa/reader&quot;)\r\n    public MappingJacksonValue createReader(@Valid @RequestBody Reader reader) {\r\n        Reader savedReader = repository.save(reader);\r\n        MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(savedReader);\r\n        SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.filterOutAllExcept(&quot;id&quot;);\r\n        FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;ReaderFilter&quot;, filter);\r\n        mappingJacksonValue.setFilters(filters);\r\n \r\n        // a mappingJacksonValue that contains only the id\r\n        return mappingJacksonValue;\r\n    }\r\n \r\n \r\n    @GetMapping(&quot;/jpa/reader/{id}&quot;)\r\n    public Optional&lt;Reader&gt; retrieveReader(@PathVariable int id) {\r\n        Optional&lt;Reader&gt; reader = repository.findById(id);\r\n \r\n        if (reader.isEmpty()) {\r\n            throw new ReaderNotFoundException(&quot;id: &quot;+ id);\r\n        }\r\n        return reader;\r\n    }\r\n \r\n    @DeleteMapping(&quot;/jpa/reader/{id}&quot;)\r\n    public void deleteReader(@PathVariable int id) {\r\n        repository.deleteById(id);\r\n    }\r\n \r\n \r\n}\r\n```\r\n\r\nWhen I tried to send a GET request (two versions above). V1 works as expected. But if I use V2 (do not want to use any filter-related methods), it is shown as below.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2dZRX.png\r\n\r\n\r\n**Complete Error Message in localhost page:**\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nType definition error: [simple type, class book.demo.java.reader.Reader]\r\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class book.demo.java.reader.Reader]\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489)\r\n\tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:103)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:194)\r\n\tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot resolve PropertyFilter with id &#39;ReaderFilter&#39;; no FilterProvider configured (through reference chain: java.util.ArrayList[0])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1306)\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:408)\r\n\tat com.fasterxml.jackson.databind.ser.std.StdSerializer.findPropertyFilter(StdSerializer.java:426)\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFieldsFiltered(BeanSerializerBase.java:814)\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:176)\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)\r\n\tat com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:400)\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)\r\n\tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)\r\n\t... 48 more\r\n```\r\n\r\n\r\nSo my question is, if the @JsonFilter is applied, do I need to involve MappingJac.ksonValue objects etc. in every REST API (findAll, findById, DeleteById, ..., etc)? What is a better way to solve this)? Thank you so much!","title":"com.fasterxml.jackson.databind.exc.InvalidDefinitionException when using JsonFilter","body":"<p>I am using Jave Spring Boot frame work. There are one Entity named &quot;Reader&quot; and one resouce for REST APIs. My goal is to use JsonFilter to dynamically filter out some specific fields(e.g. only keeping the <code>id</code> field in example) when using APIs. When I tried to retrieve the Reader class without appliying any filters, this error came up.</p>\n<p><strong>Reader class:</strong></p>\n<pre><code>package book.demo.java.reader;\n \nimport com.fasterxml.jackson.annotation.JsonFilter;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.validation.constraints.Size;\n \n@Entity\n@JsonFilter(&quot;ReaderFilter&quot;)\npublic class Reader {\n \n    @Id\n    @GeneratedValue()\n    private int id;\n    @Size(min=2)\n    private String firstName;\n    @Size(min=2)\n    private String lastName;\n    @Size(min=5)\n    private String username;\n    private String address;\n \n    protected Reader() {}\n \n    public Reader(String firstName, String lastName, String username, String address) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.username = username;\n        this.address = address;\n    }\n \n    /*\n \n    Getters and Setters...\n \n    */\n}\n</code></pre>\n<p><strong>Reader Resource:</strong></p>\n<pre><code>package book.demo.java.reader;\n \nimport book.demo.java.exception.ReaderNotFoundException;\nimport book.demo.java.jpa.ReaderRepository;\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\nimport jakarta.validation.Valid;\nimport org.springframework.http.converter.json.MappingJacksonValue;\nimport org.springframework.web.bind.annotation.*;\n \nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Optional;\n \n@RestController\npublic class ReaderJpaResource {\n \n    private final ReaderRepository repository;\n \n    public ReaderJpaResource(ReaderRepository repository) {\n        this.repository = repository;\n    }\n \n \n    \n    @GetMapping(&quot;/jpa/reader/v1&quot;)\n    public MappingJacksonValue retrieveAllReadersV1() {\n        List&lt;Reader&gt; savedReader = repository.findAll();\n        MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(savedReader);\n        SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.serializeAll();\n        FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;ReaderFilter&quot;, filter);\n        mappingJacksonValue.setFilters(filters);\n        return mappingJacksonValue;\n    }\n \n    @GetMapping(&quot;/jpa/reader/v2&quot;)\n    public List&lt;Reader&gt; retrieveAllReadersV2() {\n        return repository.findAll();\n    }\n \n    @PostMapping(&quot;/jpa/reader&quot;)\n    public MappingJacksonValue createReader(@Valid @RequestBody Reader reader) {\n        Reader savedReader = repository.save(reader);\n        MappingJacksonValue mappingJacksonValue = new MappingJacksonValue(savedReader);\n        SimpleBeanPropertyFilter filter = SimpleBeanPropertyFilter.filterOutAllExcept(&quot;id&quot;);\n        FilterProvider filters = new SimpleFilterProvider().addFilter(&quot;ReaderFilter&quot;, filter);\n        mappingJacksonValue.setFilters(filters);\n \n        // a mappingJacksonValue that contains only the id\n        return mappingJacksonValue;\n    }\n \n \n    @GetMapping(&quot;/jpa/reader/{id}&quot;)\n    public Optional&lt;Reader&gt; retrieveReader(@PathVariable int id) {\n        Optional&lt;Reader&gt; reader = repository.findById(id);\n \n        if (reader.isEmpty()) {\n            throw new ReaderNotFoundException(&quot;id: &quot;+ id);\n        }\n        return reader;\n    }\n \n    @DeleteMapping(&quot;/jpa/reader/{id}&quot;)\n    public void deleteReader(@PathVariable int id) {\n        repository.deleteById(id);\n    }\n \n \n}\n</code></pre>\n<p>When I tried to send a GET request (two versions above). V1 works as expected. But if I use V2 (do not want to use any filter-related methods), it is shown as below.\n<a href=\"https://i.stack.imgur.com/2dZRX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dZRX.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Complete Error Message in localhost page:</strong></p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nType definition error: [simple type, class book.demo.java.reader.Reader]\norg.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class book.demo.java.reader.Reader]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:489)\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:103)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:194)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot resolve PropertyFilter with id 'ReaderFilter'; no FilterProvider configured (through reference chain: java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1306)\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:408)\n    at com.fasterxml.jackson.databind.ser.std.StdSerializer.findPropertyFilter(StdSerializer.java:426)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFieldsFiltered(BeanSerializerBase.java:814)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:176)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)\n    at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:400)\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)\n    ... 48 more\n</code></pre>\n<p>So my question is, if the @JsonFilter is applied, do I need to involve MappingJac.ksonValue objects etc. in every REST API (findAll, findById, DeleteById, ..., etc)? What is a better way to solve this)? Thank you so much!</p>\n"},{"tags":["java","idempotent","autocloseable"],"comments":[{"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"score":4,"creation_date":1381500272,"post_id":19320115,"comment_id":28616467,"body_markdown":"Idempotent in a programming context means that you can safely repeat an operation. For example, you can issue the same HTTP GET request multiple times without fear of side effects (assuming it has been implemented correctly on the server).","body":"Idempotent in a programming context means that you can safely repeat an operation. For example, you can issue the same HTTP GET request multiple times without fear of side effects (assuming it has been implemented correctly on the server)."},{"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"score":0,"creation_date":1381500345,"post_id":19320115,"comment_id":28616514,"body_markdown":"It means that you can repeat that operation &#39;n&#39; times and get the same result ever, in Http idempotent method example is GET","body":"It means that you can repeat that operation &#39;n&#39; times and get the same result ever, in Http idempotent method example is GET"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":2,"creation_date":1381500672,"post_id":19320115,"comment_id":28616744,"body_markdown":"@RamonBoza Yes, assuming that the server doesn&#39;t change the resource returned, and that the web client doesn&#39;t count requests, and that the last request time isn&#39;t tracked, etc.  A much better example would be `public int add(int first, int second) { return first + second; }`  Two subsequent calls would certainly not change the state of the program, as the program doesn&#39;t even alter it&#39;s state.  Another example `void close() { if (!closed) { file.close(); closed = true; } }` as it does change state on the first call, but state remains identical on subsequent calls.","body":"@RamonBoza Yes, assuming that the server doesn&#39;t change the resource returned, and that the web client doesn&#39;t count requests, and that the last request time isn&#39;t tracked, etc.  A much better example would be <code>public int add(int first, int second) { return first + second; }</code>  Two subsequent calls would certainly not change the state of the program, as the program doesn&#39;t even alter it&#39;s state.  Another example <code>void close() { if (!closed) { file.close(); closed = true; } }</code> as it does change state on the first call, but state remains identical on subsequent calls."},{"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"score":0,"creation_date":1381501033,"post_id":19320115,"comment_id":28617004,"body_markdown":"@EdwinBuck It&#39;s a reasonable assumption to make because HTTP GET requests (amongst others) are supposed to be idempotent according to the HTTP specification.","body":"@EdwinBuck It&#39;s a reasonable assumption to make because HTTP GET requests (amongst others) are supposed to be idempotent according to the HTTP specification."},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":1,"creation_date":1381501155,"post_id":19320115,"comment_id":28617089,"body_markdown":"@JohnTopley Idempotence is very dependent on frame of reference.  GET is meant to be idempotent from the point of view of the server&#39;s internal state.  Certainly the client&#39;s point of view differs, or we would never revisit the same websites for daily updates.  The only way the server gets away with changing data is that the server delegates the content of the request to something that is stateful (namely the file system or underlying application).","body":"@JohnTopley Idempotence is very dependent on frame of reference.  GET is meant to be idempotent from the point of view of the server&#39;s internal state.  Certainly the client&#39;s point of view differs, or we would never revisit the same websites for daily updates.  The only way the server gets away with changing data is that the server delegates the content of the request to something that is stateful (namely the file system or underlying application)."},{"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"score":0,"creation_date":1381501231,"post_id":19320115,"comment_id":28617140,"body_markdown":"@EdwinBuck True. I was referring to the server-side state.","body":"@EdwinBuck True. I was referring to the server-side state."}],"answers":[{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1426029508,"post_id":19320202,"comment_id":46202793,"body_markdown":"Also note that this is but [**one** interpretation of the term &quot;idempotent&quot;](http://stackoverflow.com/a/1077421/632951). &quot;idempotent&quot; has other meanings in different contexts.","body":"Also note that this is but <a href=\"http://stackoverflow.com/a/1077421/632951\"><b>one</b> interpretation of the term &quot;idempotent&quot;</a>. &quot;idempotent&quot; has other meanings in different contexts."},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":1,"creation_date":1444664870,"post_id":19320202,"comment_id":53986717,"body_markdown":"@Pacerier It is also the nearly word-for-word compatible description of the first sentence of your correction.  If you use the mathematical theory approach to analyzing computation, it&#39;s still this definition, albeit with minor rewording `f(f(x)) = f(x)`, which if you speak math means &quot;if you preform the operation `f` on `x` twice, it&#39;s the same as performing the operation `f` on `x` once.","body":"@Pacerier It is also the nearly word-for-word compatible description of the first sentence of your correction.  If you use the mathematical theory approach to analyzing computation, it&#39;s still this definition, albeit with minor rewording <code>f(f(x)) = f(x)</code>, which if you speak math means &quot;if you preform the operation <code>f</code> on <code>x</code> twice, it&#39;s the same as performing the operation <code>f</code> on <code>x</code> once."}],"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1381510553,"creation_date":1381500375,"answer_id":19320202,"question_id":19320115,"body_markdown":"Idempotent means that you can apply the operation a number of times, but the resulting state of one call will be indistinguishable from the resulting state of multiple calls.  In short, it is safe to call the method multiple times.  Effectively the second and third (and so on) calls will have no visible effect on the state of the program.\r\n\r\nSo if you close this object once, and it closes, you don&#39;t have enough information to know if it is idempotent.  However, if you close it twice, and the first time it closes, but the second time it throws an exception, it is clearly not idempotent.  On the other hand, if you close it once, and close it twice, and the second closure results in the item remaining closed in the same manner (perhaps it is a noop), then it is idempotent.\r\n\r\nOne technique of making an idempotent `Closeable` could be:\r\n\r\n    public class Example implements Closeable {\r\n     \r\n      private boolean closed;\r\n \r\n      public Example() {\r\n        closed = false;\r\n      }\r\n\r\n      public void close() {\r\n        if (!isClosed()) {\r\n          closed = true;\r\n        }\r\n      }\r\n \r\n      public boolean isClosed() {\r\n        return closed;\r\n      }\r\n    }\r\n\r\nWhere it is now obvious that if `close()` is called once or multiple times, all returns of the state through `isClosed()` will forever return true.  Therefore, the method `close()` would be considered idempotent.","title":"What does idempotent method mean and what are the side effects in case of calling close method of java.lang.AutoCloseable?","body":"<p>Idempotent means that you can apply the operation a number of times, but the resulting state of one call will be indistinguishable from the resulting state of multiple calls.  In short, it is safe to call the method multiple times.  Effectively the second and third (and so on) calls will have no visible effect on the state of the program.</p>\n\n<p>So if you close this object once, and it closes, you don't have enough information to know if it is idempotent.  However, if you close it twice, and the first time it closes, but the second time it throws an exception, it is clearly not idempotent.  On the other hand, if you close it once, and close it twice, and the second closure results in the item remaining closed in the same manner (perhaps it is a noop), then it is idempotent.</p>\n\n<p>One technique of making an idempotent <code>Closeable</code> could be:</p>\n\n<pre><code>public class Example implements Closeable {\n\n  private boolean closed;\n\n  public Example() {\n    closed = false;\n  }\n\n  public void close() {\n    if (!isClosed()) {\n      closed = true;\n    }\n  }\n\n  public boolean isClosed() {\n    return closed;\n  }\n}\n</code></pre>\n\n<p>Where it is now obvious that if <code>close()</code> is called once or multiple times, all returns of the state through <code>isClosed()</code> will forever return true.  Therefore, the method <code>close()</code> would be considered idempotent.</p>\n"},{"tags":[],"owner":{"account_id":6279284,"reputation":33851,"user_id":4880924,"accept_rate":50,"display_name":"BenKoshy"},"comment_count":0,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1676637869,"creation_date":1483585312,"answer_id":41476686,"question_id":19320115,"body_markdown":"# Explanation of Concept Without Code\r\n\r\n[![Einsteins definition of indempotency][1]][1]\r\n\r\nTo [adopt Einstein&#39;s aphorism][2], if you do the same thing, and get different results, then the method is not idempotent.\r\n\r\n### Example of idempotency\r\n\r\n    &quot;Please sir, can I have a pay rise?&quot;\r\n    \r\n    &quot;No&quot;\r\n\r\n[Same result every time][3]. Asking for a pay rise is an idempotent operation.\r\n\r\n### Examples of non-idempotent operation:\r\n\r\n...would be making a `delete` request to destroy a resource. For example, you can only delete a file once. After that, the operation doesn&#39;t make sense.  It&#39;s not idempotent\r\n\r\n  [1]: https://i.stack.imgur.com/uPm53.jpg\r\n  [2]: https://www.scientificamerican.com/article/einstein-s-parable-of-quantum-insanity/\r\n  [3]: https://www.youtube.com/watch?v=7tOkpntQtBM","title":"What does idempotent method mean and what are the side effects in case of calling close method of java.lang.AutoCloseable?","body":"<h1>Explanation of Concept Without Code</h1>\n<p><a href=\"https://i.stack.imgur.com/uPm53.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPm53.jpg\" alt=\"Einsteins definition of indempotency\" /></a></p>\n<p>To <a href=\"https://www.scientificamerican.com/article/einstein-s-parable-of-quantum-insanity/\" rel=\"nofollow noreferrer\">adopt Einstein's aphorism</a>, if you do the same thing, and get different results, then the method is not idempotent.</p>\n<h3>Example of idempotency</h3>\n<pre><code>&quot;Please sir, can I have a pay rise?&quot;\n\n&quot;No&quot;\n</code></pre>\n<p><a href=\"https://www.youtube.com/watch?v=7tOkpntQtBM\" rel=\"nofollow noreferrer\">Same result every time</a>. Asking for a pay rise is an idempotent operation.</p>\n<h3>Examples of non-idempotent operation:</h3>\n<p>...would be making a <code>delete</code> request to destroy a resource. For example, you can only delete a file once. After that, the operation doesn't make sense.  It's not idempotent</p>\n"},{"tags":[],"owner":{"account_id":15433779,"reputation":107,"user_id":11134416,"display_name":"Abhishek Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625415399,"creation_date":1625415399,"answer_id":68246673,"question_id":19320115,"body_markdown":"**IDEMPOTENT Methods**\r\n\r\nHTTP method is **imdempotent** method if the result become same for every call. When you call any request **n times** then result would be same.\r\n\r\nTake an example that adding **ZERO** in any number would be the same result.\r\n\r\n**HTTP methods** divided into two types.\r\n1. Safely repeatable (**Idempotent**)\r\n2. Can&#39;t be repeatable safely (**Non- Idempotent**)\r\n\r\n**Safely repeatable (**Idempotent**)**: Call method any times, it gives same result. it called **Idempotent** methods.\r\n\r\n**GET, PUT, DELETE** HTTP method called as Idempotent method. Because \r\n\r\n**GET method**: retrieving the resource.\r\n**PUT method**: It will update one resource.\r\n**DELETE method**: It will used to delete the indiviual resource not impact other resource.\r\n\r\n**Can&#39;t be repeatable safely (**Non- Idempotent**)**\r\n\r\nBut when POST method calls.\r\n**POST method** will create new resource everytime. Therefore it called as **Non- Idempotent**","title":"What does idempotent method mean and what are the side effects in case of calling close method of java.lang.AutoCloseable?","body":"<p><strong>IDEMPOTENT Methods</strong></p>\n<p>HTTP method is <strong>imdempotent</strong> method if the result become same for every call. When you call any request <strong>n times</strong> then result would be same.</p>\n<p>Take an example that adding <strong>ZERO</strong> in any number would be the same result.</p>\n<p><strong>HTTP methods</strong> divided into two types.</p>\n<ol>\n<li>Safely repeatable (<strong>Idempotent</strong>)</li>\n<li>Can't be repeatable safely (<strong>Non- Idempotent</strong>)</li>\n</ol>\n<p><strong>Safely repeatable (<strong>Idempotent</strong>)</strong>: Call method any times, it gives same result. it called <strong>Idempotent</strong> methods.</p>\n<p><strong>GET, PUT, DELETE</strong> HTTP method called as Idempotent method. Because</p>\n<p><strong>GET method</strong>: retrieving the resource.\n<strong>PUT method</strong>: It will update one resource.\n<strong>DELETE method</strong>: It will used to delete the indiviual resource not impact other resource.</p>\n<p><strong>Can't be repeatable safely (<strong>Non- Idempotent</strong>)</strong></p>\n<p>But when POST method calls.\n<strong>POST method</strong> will create new resource everytime. Therefore it called as <strong>Non- Idempotent</strong></p>\n"}],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39556,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"accepted_answer_id":19320202,"answer_count":3,"score":38,"last_activity_date":1676637869,"creation_date":1381500112,"question_id":19320115,"body_markdown":"Java docs of close() method of java.lang.AutoCloseable says\r\n\r\n&gt; Note that unlike the [`close()`][1] method of [Closeable][2], this `close()` method is\r\n&gt; not required to be *idempotent*. In other words, calling this close\r\n&gt; method more than once may have some visible side effect, unlike\r\n&gt; `Closeable#close()` which is required to have no effect if called more\r\n&gt; than once. However, implementers of this interface are strongly\r\n&gt; encouraged to make their close methods idempotent.\r\n\r\n&lt;br&gt;\r\nWhat do they mean by ***idempotent*** method and what are the side effects of calling this `close()` method twice?\r\n\r\nAnd since interface `Closeable` extends `AutoCloseable` why are the side effects not to be seen in the close of `Closeable` interface?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html#close()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html","title":"What does idempotent method mean and what are the side effects in case of calling close method of java.lang.AutoCloseable?","body":"<p>Java docs of close() method of java.lang.AutoCloseable says</p>\n\n<blockquote>\n  <p>Note that unlike the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html#close()\" rel=\"noreferrer\"><code>close()</code></a> method of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html\" rel=\"noreferrer\">Closeable</a>, this <code>close()</code> method is\n  not required to be <em>idempotent</em>. In other words, calling this close\n  method more than once may have some visible side effect, unlike\n  <code>Closeable#close()</code> which is required to have no effect if called more\n  than once. However, implementers of this interface are strongly\n  encouraged to make their close methods idempotent.</p>\n</blockquote>\n\n<p><br>\nWhat do they mean by <strong><em>idempotent</em></strong> method and what are the side effects of calling this <code>close()</code> method twice?</p>\n\n<p>And since interface <code>Closeable</code> extends <code>AutoCloseable</code> why are the side effects not to be seen in the close of <code>Closeable</code> interface?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":0,"creation_date":1676637383,"post_id":75484301,"comment_id":133182252,"body_markdown":"I guess you have conflicting version in your classpath. Try proving the version  in schema location like spring-context-4.0.xsd or whichever version you have","body":"I guess you have conflicting version in your classpath. Try proving the version  in schema location like spring-context-4.0.xsd or whichever version you have"},{"owner":{"account_id":8472433,"reputation":77,"user_id":6354584,"display_name":"The Winter Soldier"},"score":0,"creation_date":1676637523,"post_id":75484301,"comment_id":133182283,"body_markdown":"I tried that already, but same issue.","body":"I tried that already, but same issue."},{"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"score":1,"creation_date":1676637619,"post_id":75484301,"comment_id":133182313,"body_markdown":"You need to rebuild after changing the version. Btw I am assuming this config will work on runtime but only showing error in your IDE. which one do you use?","body":"You need to rebuild after changing the version. Btw I am assuming this config will work on runtime but only showing error in your IDE. which one do you use?"},{"owner":{"account_id":8472433,"reputation":77,"user_id":6354584,"display_name":"The Winter Soldier"},"score":0,"creation_date":1676637787,"post_id":75484301,"comment_id":133182363,"body_markdown":"Thanks, It still show error but I am able compile and execute it, I am using eclipse.","body":"Thanks, It still show error but I am able compile and execute it, I am using eclipse."}],"owner":{"account_id":8472433,"reputation":77,"user_id":6354584,"display_name":"The Winter Soldier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676637852,"creation_date":1676636910,"question_id":75484301,"body_markdown":"I am getting error for &lt;context:annotation-config/&gt;, Namespace &amp; schema location seems fine, if i remove &lt;context:annotation-config&gt; tag, i don&#39;t red line under context.xsd\r\n\r\nOn hovering &lt;context&gt; tag, it says cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;context:annotation-config&#39;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/OkXVh.png\r\n\r\nUPDATE: I tried running the Application, It works fine, though I see red lines in xml file but App runs fine.","title":"&#39;context:annotation-config&#39; does not work in spring","body":"<p>I am getting error for context:annotation-config/, Namespace &amp; schema location seems fine, if i remove context:annotation-config tag, i don't red line under context.xsd</p>\n<p>On hovering  tag, it says cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'context:annotation-config'.</p>\n<p><a href=\"https://i.stack.imgur.com/OkXVh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OkXVh.png\" alt=\"enter image description here\" /></a></p>\n<p>UPDATE: I tried running the Application, It works fine, though I see red lines in xml file but App runs fine.</p>\n"},{"tags":["java","android","mapbox","mapbox-android","mapbox-marker"],"owner":{"account_id":14519185,"reputation":184,"user_id":10487304,"display_name":"Hussein Nasereddine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676637594,"creation_date":1676637594,"question_id":75484421,"body_markdown":"The mapbox documentation have a lot of confusing deprecated classes and plugins to be used in an Android project. &lt;br&gt;\r\nI&#39;m seeking for the best, latest and most appropriate way to implement custom layout on-top of `MapboxView`, while keeping in mind to not affect the map&#39;s performance, added views to dynamically zoom in and out on map zoom changes.\r\n&lt;br&gt;&lt;br&gt;\r\nIn short, add a custom view that behave same as the native `Mapbox` pins, but using a customized Android layout.\r\n&lt;br&gt;&lt;br&gt;\r\nHere&#39;s an example:&lt;br&gt;\r\n[![enter image description here](https://i.stack.imgur.com/0fMlO.png)](https://i.stack.imgur.com/0fMlO.png)\r\n&lt;br&gt;&lt;br&gt;\r\nI found this Mapbox documentation that refers to using something like `ViewAnnotationManager` and `PointAnnotationManager` but it&#39;s written in Kotlin. &lt;br&gt;\r\nAlso tried to implement this approach but I couldn&#39;t find the above mentioned classes, here&#39;s the implemented libraries I have in my Gradle file:\r\n```\r\nimplementation &#39;com.mapbox.mapboxsdk:mapbox-android-plugin-markerview-v9:0.4.0&#39;\r\nimplementation &#39;com.mapbox.mapboxsdk:mapbox-android-plugin-annotation-v9:0.9.0&#39;\r\n```\r\nHere&#39;s the layout I want to add on top of the map, it&#39;s a `RippleBackground` that contains an `ImageView` inside of it:\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;250dp&quot;\r\n    android:layout_height=&quot;250dp&quot;&gt;\r\n\r\n    &lt;com.skyfishjy.library.RippleBackground\r\n        android:id=&quot;@+id/layout_mapview_ripple&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        app:rb_color=&quot;@color/primary&quot;\r\n        app:rb_radius=&quot;28dp&quot;\r\n        app:rb_rippleAmount=&quot;3&quot;\r\n        app:rb_duration=&quot;4000&quot;\r\n        app:rb_scale=&quot;4&quot;&gt;\r\n\r\n        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=&quot;@+id/layout_mapview_user&quot;\r\n            android:layout_width=&quot;50dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:background=&quot;@drawable/design_white_circle&quot;\r\n            android:padding=&quot;2dp&quot;\r\n            android:scaleType=&quot;centerCrop&quot;\r\n            android:layout_centerInParent=&quot;true&quot;/&gt;\r\n\r\n    &lt;/com.skyfishjy.library.RippleBackground&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nAnd here&#39;s the method I currently have using `MarkerView` that receives `latitude` and `longitude` to add a `View` on top of the map. But this approach doesn&#39;t feel right and the `View` does not behave as expected when navigating through the map and zooming in/out\r\n```\r\npublic void addUserRippleView(double latitude, double longitude){\r\n        View view = LayoutInflater.from(context).inflate(R.layout.layout_mapview_user_ripple, null);\r\n        view.setLayoutParams(new ViewGroup.LayoutParams(convertDpToPx(250), convertDpToPx(250)));\r\n\r\n        // User photo\r\n        CircleImageView mUserPhoto = view.findViewById(R.id.layout_mapview_user);\r\n        GlideUtil.loadProfilePicture(mSessionManager.getUserPhoto(), context, mUserPhoto);\r\n\r\n        // Ripple bg\r\n        RippleBackground rippleBackground = view.findViewById(R.id.layout_mapview_ripple);\r\n        rippleBackground.startRippleAnimation();\r\n\r\n        MarkerView markerView = new MarkerView(new LatLng(latitude, longitude), view);\r\n        mMarkerViewManager.addMarker(markerView);\r\n}\r\n```\r\n","title":"How to add custom fixed layout on specific coordinates on Mapbox map using Java - 2023","body":"<p>The mapbox documentation have a lot of confusing deprecated classes and plugins to be used in an Android project. <br>\nI'm seeking for the best, latest and most appropriate way to implement custom layout on-top of <code>MapboxView</code>, while keeping in mind to not affect the map's performance, added views to dynamically zoom in and out on map zoom changes.\n<br><br>\nIn short, add a custom view that behave same as the native <code>Mapbox</code> pins, but using a customized Android layout.\n<br><br>\nHere's an example:<br>\n<a href=\"https://i.stack.imgur.com/0fMlO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0fMlO.png\" alt=\"enter image description here\" /></a>\n<br><br>\nI found this Mapbox documentation that refers to using something like <code>ViewAnnotationManager</code> and <code>PointAnnotationManager</code> but it's written in Kotlin. <br>\nAlso tried to implement this approach but I couldn't find the above mentioned classes, here's the implemented libraries I have in my Gradle file:</p>\n<pre><code>implementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-markerview-v9:0.4.0'\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-annotation-v9:0.9.0'\n</code></pre>\n<p>Here's the layout I want to add on top of the map, it's a <code>RippleBackground</code> that contains an <code>ImageView</code> inside of it:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;250dp&quot;\n    android:layout_height=&quot;250dp&quot;&gt;\n\n    &lt;com.skyfishjy.library.RippleBackground\n        android:id=&quot;@+id/layout_mapview_ripple&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        app:rb_color=&quot;@color/primary&quot;\n        app:rb_radius=&quot;28dp&quot;\n        app:rb_rippleAmount=&quot;3&quot;\n        app:rb_duration=&quot;4000&quot;\n        app:rb_scale=&quot;4&quot;&gt;\n\n        &lt;de.hdodenhof.circleimageview.CircleImageView\n            android:id=&quot;@+id/layout_mapview_user&quot;\n            android:layout_width=&quot;50dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:background=&quot;@drawable/design_white_circle&quot;\n            android:padding=&quot;2dp&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            android:layout_centerInParent=&quot;true&quot;/&gt;\n\n    &lt;/com.skyfishjy.library.RippleBackground&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And here's the method I currently have using <code>MarkerView</code> that receives <code>latitude</code> and <code>longitude</code> to add a <code>View</code> on top of the map. But this approach doesn't feel right and the <code>View</code> does not behave as expected when navigating through the map and zooming in/out</p>\n<pre><code>public void addUserRippleView(double latitude, double longitude){\n        View view = LayoutInflater.from(context).inflate(R.layout.layout_mapview_user_ripple, null);\n        view.setLayoutParams(new ViewGroup.LayoutParams(convertDpToPx(250), convertDpToPx(250)));\n\n        // User photo\n        CircleImageView mUserPhoto = view.findViewById(R.id.layout_mapview_user);\n        GlideUtil.loadProfilePicture(mSessionManager.getUserPhoto(), context, mUserPhoto);\n\n        // Ripple bg\n        RippleBackground rippleBackground = view.findViewById(R.id.layout_mapview_ripple);\n        rippleBackground.startRippleAnimation();\n\n        MarkerView markerView = new MarkerView(new LatLng(latitude, longitude), view);\n        mMarkerViewManager.addMarker(markerView);\n}\n</code></pre>\n"},{"tags":["java","aspectj","trace","byte-buddy","open-telemetry"],"answers":[{"comments":[{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1676639367,"post_id":75484284,"comment_id":133182836,"body_markdown":"Thanks, You have made my day! I&#39;ve removed all Throwable from the onExit method and all works fine","body":"Thanks, You have made my day! I&#39;ve removed all Throwable from the onExit method and all works fine"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1676729047,"post_id":75484284,"comment_id":133197874,"body_markdown":"The exception should have told you to do exactly that. Does open telemetry suppress that error?","body":"The exception should have told you to do exactly that. Does open telemetry suppress that error?"},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1676892622,"post_id":75484284,"comment_id":133222670,"body_markdown":"No, I didn&#39;t see exception in the log. Look like opentelemetry suppress errors","body":"No, I didn&#39;t see exception in the log. Look like opentelemetry suppress errors"}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676636802,"creation_date":1676636802,"answer_id":75484284,"question_id":75483643,"body_markdown":"What Byte Buddy would normally do would be to wrap the constructor in a try-finally-block. For a constructor, that is not possible as the super method call cannot be wrapped in such a block. &quot;onThrowable&quot; is therefore not possible for constructors.","title":"TypeTransformer applyAdviceToMethod(isConstructor() doesn&#39;t works in opentelemetry extensions","body":"<p>What Byte Buddy would normally do would be to wrap the constructor in a try-finally-block. For a constructor, that is not possible as the super method call cannot be wrapped in such a block. &quot;onThrowable&quot; is therefore not possible for constructors.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75484284,"answer_count":1,"score":0,"last_activity_date":1676636802,"creation_date":1676632870,"question_id":75483643,"body_markdown":"I&#39;m trying to add spans when constructor of some class called. I&#39;m using opentelemetry javaagent and extensions to add tracing to my application.\r\n\r\n    import io.opentelemetry.api.GlobalOpenTelemetry;\r\n    import io.opentelemetry.api.trace.Span;\r\n    import io.opentelemetry.api.trace.Tracer;\r\n    import io.opentelemetry.javaagent.extension.instrumentation.TypeInstrumentation;\r\n    import io.opentelemetry.javaagent.extension.instrumentation.TypeTransformer;\r\n    import net.bytebuddy.asm.Advice;\r\n    import net.bytebuddy.description.type.TypeDescription;\r\n    import net.bytebuddy.matcher.ElementMatcher;\r\n    import net.bytebuddy.matcher.ElementMatchers;\r\n    \r\n    import static net.bytebuddy.matcher.ElementMatchers.isConstructor;\r\n    import static net.bytebuddy.matcher.ElementMatchers.named;\r\n    \r\n    public class ClassConstructorInstrumentation implements TypeInstrumentation {\r\n    \r\n        @Override\r\n        public ElementMatcher&lt;TypeDescription&gt; typeMatcher() {\r\n            return ElementMatchers\r\n                    .namedOneOf(&quot;org.example.ServiceManagerDummy&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void transform(TypeTransformer transformer) {\r\n            transformer.applyAdviceToMethod(\r\n                    isConstructor(),\r\n                    this.getClass().getName() + &quot;$ConstructorSpanCreateAdvice&quot;);\r\n    //        transformer.applyAdviceToMethod(\r\n    //                named(&quot;dummyMethod&quot;), \r\n    //                this.getClass().getName() + &quot;$ConstructorSpanCreateAdvice&quot;);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public static class ConstructorSpanCreateAdvice {\r\n    \r\n            @Advice.OnMethodEnter\r\n            public static void onEnter() {\r\n                System.out.println(&quot;START SPAN &quot;);\r\n            }\r\n    \r\n            @Advice.OnMethodExit(onThrowable = Throwable.class)\r\n            public static void onExit(\r\n                    @Advice.Thrown Throwable throwable\r\n            ) {\r\n                System.out.println(&quot;END SPAN &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class ServiceManagerDummy {\r\n        public ServiceManagerDummy() {\r\n            System.out.println(&quot;SERVICE MANAGER CONSTR&quot;);\r\n            dummyMethod();\r\n        }\r\n    \r\n        private void dummyMethod() {\r\n            System.out.println(&quot;DUMMY METHOD CALLED&quot;);\r\n            \r\n        }\r\n    \r\n        \r\n    }\r\n\r\n\r\n\r\nI&#39;m using a simple configuration as above just to verify that when the constructor was called my advice method log it. But when it configured to add some logs when the constructor was called, I received nothing in the log. But when I add config for method calling (commented code) it works. What&#39;s wrong in my configuration?","title":"TypeTransformer applyAdviceToMethod(isConstructor() doesn&#39;t works in opentelemetry extensions","body":"<p>I'm trying to add spans when constructor of some class called. I'm using opentelemetry javaagent and extensions to add tracing to my application.</p>\n<pre><code>import io.opentelemetry.api.GlobalOpenTelemetry;\nimport io.opentelemetry.api.trace.Span;\nimport io.opentelemetry.api.trace.Tracer;\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeInstrumentation;\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeTransformer;\nimport net.bytebuddy.asm.Advice;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.matcher.ElementMatcher;\nimport net.bytebuddy.matcher.ElementMatchers;\n\nimport static net.bytebuddy.matcher.ElementMatchers.isConstructor;\nimport static net.bytebuddy.matcher.ElementMatchers.named;\n\npublic class ClassConstructorInstrumentation implements TypeInstrumentation {\n\n    @Override\n    public ElementMatcher&lt;TypeDescription&gt; typeMatcher() {\n        return ElementMatchers\n                .namedOneOf(&quot;org.example.ServiceManagerDummy&quot;);\n    }\n\n    @Override\n    public void transform(TypeTransformer transformer) {\n        transformer.applyAdviceToMethod(\n                isConstructor(),\n                this.getClass().getName() + &quot;$ConstructorSpanCreateAdvice&quot;);\n//        transformer.applyAdviceToMethod(\n//                named(&quot;dummyMethod&quot;), \n//                this.getClass().getName() + &quot;$ConstructorSpanCreateAdvice&quot;);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public static class ConstructorSpanCreateAdvice {\n\n        @Advice.OnMethodEnter\n        public static void onEnter() {\n            System.out.println(&quot;START SPAN &quot;);\n        }\n\n        @Advice.OnMethodExit(onThrowable = Throwable.class)\n        public static void onExit(\n                @Advice.Thrown Throwable throwable\n        ) {\n            System.out.println(&quot;END SPAN &quot;);\n        }\n    }\n}\n\npublic class ServiceManagerDummy {\n    public ServiceManagerDummy() {\n        System.out.println(&quot;SERVICE MANAGER CONSTR&quot;);\n        dummyMethod();\n    }\n\n    private void dummyMethod() {\n        System.out.println(&quot;DUMMY METHOD CALLED&quot;);\n        \n    }\n\n    \n}\n</code></pre>\n<p>I'm using a simple configuration as above just to verify that when the constructor was called my advice method log it. But when it configured to add some logs when the constructor was called, I received nothing in the log. But when I add config for method calling (commented code) it works. What's wrong in my configuration?</p>\n"},{"tags":["java","json","spring","spring-mvc","jackson"],"answers":[{"tags":[],"owner":{"account_id":3229192,"reputation":684,"user_id":3931900,"display_name":"Abolfazl Hashemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518703913,"creation_date":1470658788,"answer_id":38829068,"question_id":38828536,"body_markdown":"If you use jackson ObjectMapper for generating json, you can define following custom ObjectMapper for this purpose and use it instead:\r\n\r\n    &lt;bean id=&quot;jacksonObjectMapper&quot; class=&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;&gt;\r\n       &lt;property name=&quot;serializationInclusion&quot;&gt;\r\n          &lt;value type=&quot;com.fasterxml.jackson.annotation.JsonInclude.Include&quot;&gt;NON_NULL&lt;/value&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;","title":"How to ignore &quot;null&quot; or empty properties in json, globally, using Spring configuration","body":"<p>If you use jackson ObjectMapper for generating json, you can define following custom ObjectMapper for this purpose and use it instead:</p>\n\n<pre><code>&lt;bean id=\"jacksonObjectMapper\" class=\"com.fasterxml.jackson.databind.ObjectMapper\"&gt;\n   &lt;property name=\"serializationInclusion\"&gt;\n      &lt;value type=\"com.fasterxml.jackson.annotation.JsonInclude.Include\"&gt;NON_NULL&lt;/value&gt;\n   &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"score":16,"creation_date":1488874974,"post_id":38829289,"comment_id":72413901,"body_markdown":"It seems you need to use &#39;spring.jackson.default-property-inclusion = non_null&#39; with newer Spring Boot (1.5.2)","body":"It seems you need to use &#39;spring.jackson.default-property-inclusion = non_null&#39; with newer Spring Boot (1.5.2)"},{"owner":{"account_id":2170392,"reputation":631,"user_id":1922558,"display_name":"Kevin Guanche Darias"},"score":0,"creation_date":1584105081,"post_id":38829289,"comment_id":107341559,"body_markdown":"The property from @DavidTinker didn&#39;t work for me, in Spring Boot 2.25, while the Java manual configuration worked","body":"The property from @DavidTinker didn&#39;t work for me, in Spring Boot 2.25, while the Java manual configuration worked"}],"tags":[],"owner":{"account_id":1075584,"reputation":2976,"user_id":1073826,"accept_rate":100,"display_name":"Jon Peterson"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1470662609,"creation_date":1470659436,"answer_id":38829289,"question_id":38828536,"body_markdown":"If you are using Spring Boot, this is as easy as:\r\n\r\n    spring.jackson.serialization-inclusion=non_null\r\n\r\nIf not, then you can configure the ObjectMapper in the MappingJackson2HttpMessageConverter like so:\r\n\r\n    @Configuration\r\n    class WebMvcConfiguration extends WebMvcConfigurationSupport {\r\n        @Override\r\n        protected void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            for(HttpMessageConverter converter: converters) {\r\n                if(converter instanceof MappingJackson2HttpMessageConverter) {\r\n                    ObjectMapper mapper = ((MappingJackson2HttpMessageConverter)converter).getObjectMapper()\r\n                    mapper.setSerializationInclusion(Include.NON_NULL);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to ignore &quot;null&quot; or empty properties in json, globally, using Spring configuration","body":"<p>If you are using Spring Boot, this is as easy as:</p>\n\n<pre><code>spring.jackson.serialization-inclusion=non_null\n</code></pre>\n\n<p>If not, then you can configure the ObjectMapper in the MappingJackson2HttpMessageConverter like so:</p>\n\n<pre><code>@Configuration\nclass WebMvcConfiguration extends WebMvcConfigurationSupport {\n    @Override\n    protected void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        for(HttpMessageConverter converter: converters) {\n            if(converter instanceof MappingJackson2HttpMessageConverter) {\n                ObjectMapper mapper = ((MappingJackson2HttpMessageConverter)converter).getObjectMapper()\n                mapper.setSerializationInclusion(Include.NON_NULL);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1676636665,"creation_date":1509016229,"answer_id":46952770,"question_id":38828536,"body_markdown":"The programmatic alternative to [Abolfazl Hashemi](https://stackoverflow.com/users/3931900/abolfazl-hashemi)&#39;s answer is the following:\r\n\r\n    /**\r\n     * Jackson configuration class.\r\n     */\r\n    @Configuration\r\n    public class JacksonConfig {\r\n\r\n        @Bean\r\n        public ObjectMapper buildObjectMapper() {\r\n           return new ObjectMapper().setSerializationInclusion(Include.NON_NULL);\r\n        }\r\n    }\r\n\r\nThis way, you&#39;re basically telling to the Spring container that, every time an `ObjectMapper` is used, only properties with non-null values are to be included in the mappings.\r\n\r\nAnother alternative, as per the [Spring Boot documentation](https://docs.spring.io/spring-boot/docs/2.4.x/reference/html/howto.html#howto-spring-mvc), for Jackson 2+, is to configure it in the `application.properties`:\r\n\r\n    spring.jackson.default-property-inclusion=non_null\r\n\r\nEDIT:\r\n\r\nIf, instead of `application.properties` one is relying on `application.yml`, then the following configuration should be used:\r\n\r\n    spring:\r\n        jackson:\r\n            default-property-inclusion: non_null","title":"How to ignore &quot;null&quot; or empty properties in json, globally, using Spring configuration","body":"<p>The programmatic alternative to <a href=\"https://stackoverflow.com/users/3931900/abolfazl-hashemi\">Abolfazl Hashemi</a>'s answer is the following:</p>\n<pre><code>/**\n * Jackson configuration class.\n */\n@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public ObjectMapper buildObjectMapper() {\n       return new ObjectMapper().setSerializationInclusion(Include.NON_NULL);\n    }\n}\n</code></pre>\n<p>This way, you're basically telling to the Spring container that, every time an <code>ObjectMapper</code> is used, only properties with non-null values are to be included in the mappings.</p>\n<p>Another alternative, as per the <a href=\"https://docs.spring.io/spring-boot/docs/2.4.x/reference/html/howto.html#howto-spring-mvc\" rel=\"nofollow noreferrer\">Spring Boot documentation</a>, for Jackson 2+, is to configure it in the <code>application.properties</code>:</p>\n<pre><code>spring.jackson.default-property-inclusion=non_null\n</code></pre>\n<p>EDIT:</p>\n<p>If, instead of <code>application.properties</code> one is relying on <code>application.yml</code>, then the following configuration should be used:</p>\n<pre><code>spring:\n    jackson:\n        default-property-inclusion: non_null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4458992,"reputation":1216,"user_id":3628421,"accept_rate":67,"display_name":"JRA_TLL"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591013740,"creation_date":1591013740,"answer_id":62131965,"question_id":38828536,"body_markdown":"In newer versions of Spring Boot (2.0+), use:\r\n\r\n    spring.jackson.default-property-inclusion=non_null","title":"How to ignore &quot;null&quot; or empty properties in json, globally, using Spring configuration","body":"<p>In newer versions of Spring Boot (2.0+), use:</p>\n\n<pre><code>spring.jackson.default-property-inclusion=non_null\n</code></pre>\n"}],"owner":{"account_id":6659555,"reputation":460,"user_id":5139079,"accept_rate":75,"display_name":"Pedro Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24999,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":38829289,"answer_count":4,"score":12,"last_activity_date":1676636665,"creation_date":1470657180,"question_id":38828536,"body_markdown":"I&#39;m trying to return only the properties that have values, but the null ones are also being returned.\r\n\r\nI know that there&#39;s an annotation that does this ( `@JsonInclude(Include.NON_NULL)` ), but then I need these in every single entity class.\r\n\r\nSo, my question is: Is there a way to configure this globally through spring config? (avoiding XML, preferably)\r\n\r\nEDIT: It seems that this question has been considered a duplicate, but I don&#39;t think so. The real question here is how to configure it through spring config, which I couldn&#39;t find in other questions.","title":"How to ignore &quot;null&quot; or empty properties in json, globally, using Spring configuration","body":"<p>I'm trying to return only the properties that have values, but the null ones are also being returned.</p>\n\n<p>I know that there's an annotation that does this ( <code>@JsonInclude(Include.NON_NULL)</code> ), but then I need these in every single entity class.</p>\n\n<p>So, my question is: Is there a way to configure this globally through spring config? (avoiding XML, preferably)</p>\n\n<p>EDIT: It seems that this question has been considered a duplicate, but I don't think so. The real question here is how to configure it through spring config, which I couldn't find in other questions.</p>\n"},{"tags":["java","spring-boot","kotlin","thymeleaf","spring-webflux"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1675940886,"post_id":75386793,"comment_id":133037705,"body_markdown":"I find mockMvc (or webTestClient) not so useful for testing your Thymeleaf UI. I rather use Cypress (or Playwright, but have not used that yet). You can integrate Cypress into your Maven/Gradle build via https://github.com/wimdeblauwe/testcontainers-cypress (note: I am the author).","body":"I find mockMvc (or webTestClient) not so useful for testing your Thymeleaf UI. I rather use Cypress (or Playwright, but have not used that yet). You can integrate Cypress into your Maven/Gradle build via <a href=\"https://github.com/wimdeblauwe/testcontainers-cypress\" rel=\"nofollow noreferrer\">github.com/wimdeblauwe/testcontainers-cypress</a> (note: I am the author)."}],"answers":[{"tags":[],"owner":{"account_id":4536435,"reputation":325,"user_id":3685527,"display_name":"Umit"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676239513,"creation_date":1676239513,"answer_id":75430492,"question_id":75386793,"body_markdown":"My understanding is thymeleaf requires resources to be present, so while you are testing you need to load resources as well.\r\n```\r\n@Controller\r\nclass CustomerController {\r\n    @GetMapping(&quot;/customer-view&quot;)\r\n    suspend fun getCustomerView(model:Model):String{\r\n        model[&quot;something&quot;] = &quot;this is an example&quot;\r\n        return &quot;customer-view&quot;\r\n    }\r\n}\r\n\r\n// make sure that your html template here -&gt; /resource/templates/cusotmer-view.html . Remember to add xmlns attribute to your template, too.\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymelaf.org&quot; lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1 th:text=&quot;${something}&quot;/&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n// Now you can test this\r\n\r\nimport kotlinx.coroutines.runBlocking\r\nimport org.junit.jupiter.api.Test\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.test.autoconfigure.web.reactive.WebFluxTest\r\nimport org.springframework.test.web.reactive.server.WebTestClient\r\n// Again you need resources so add this annotation @WebFluxTest to load them\r\n@WebFluxTest\r\nclass CustomerControllerTest{\r\n    @Autowired\r\n    private lateinit var webTestClient: WebTestClient\r\n\r\n    @Test\r\n    fun testReturns200Ok() {\r\n        runBlocking {\r\n            webTestClient\r\n                .get()\r\n                .uri(&quot;/customer-view&quot;)\r\n                .exchange()\r\n                .expectStatus().isOk\r\n        }\r\n    }\r\n}\r\n\r\n// I hope this helps","title":"Integration test with thymeleaf and webflux","body":"<p>My understanding is thymeleaf requires resources to be present, so while you are testing you need to load resources as well.</p>\n<pre><code>@Controller\nclass CustomerController {\n    @GetMapping(&quot;/customer-view&quot;)\n    suspend fun getCustomerView(model:Model):String{\n        model[&quot;something&quot;] = &quot;this is an example&quot;\n        return &quot;customer-view&quot;\n    }\n}\n\n// make sure that your html template here -&gt; /resource/templates/cusotmer-view.html . Remember to add xmlns attribute to your template, too.\n\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;https://www.thymelaf.org&quot; lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1 th:text=&quot;${something}&quot;/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n// Now you can test this\n\nimport kotlinx.coroutines.runBlocking\nimport org.junit.jupiter.api.Test\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.autoconfigure.web.reactive.WebFluxTest\nimport org.springframework.test.web.reactive.server.WebTestClient\n// Again you need resources so add this annotation @WebFluxTest to load them\n@WebFluxTest\nclass CustomerControllerTest{\n    @Autowired\n    private lateinit var webTestClient: WebTestClient\n\n    @Test\n    fun testReturns200Ok() {\n        runBlocking {\n            webTestClient\n                .get()\n                .uri(&quot;/customer-view&quot;)\n                .exchange()\n                .expectStatus().isOk\n        }\n    }\n}\n\n// I hope this helps\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676636506,"creation_date":1676636506,"answer_id":75484234,"question_id":75386793,"body_markdown":"Modifying umit&#39;s answer - removing blocking\r\n\r\n    @RunWith(SpringRunner::class)\r\n    @WebFluxTest(CustomerController::class)\r\n    class CustomerControllerTest {\r\n    \r\n      @Autowired\r\n      private lateinit var webTestClient: WebTestClient\r\n    \r\n    \r\n      @Test\r\n      fun `should return customer view`() {\r\n        val customer = Customer(&quot;John&quot;, &quot;Doe&quot;)\r\n        `when`(customerService.getCustomer()).thenReturn(customer)\r\n    \r\n        webTestClient.get().uri(&quot;/customer-view&quot;)\r\n            .exchange()\r\n            .expectStatus().isOk\r\n            .expectBody&lt;String&gt;()\r\n            .consumeWith {\r\n                //assertions\r\n            }\r\n      }\r\n    }","title":"Integration test with thymeleaf and webflux","body":"<p>Modifying umit's answer - removing blocking</p>\n<pre><code>@RunWith(SpringRunner::class)\n@WebFluxTest(CustomerController::class)\nclass CustomerControllerTest {\n\n  @Autowired\n  private lateinit var webTestClient: WebTestClient\n\n\n  @Test\n  fun `should return customer view`() {\n    val customer = Customer(&quot;John&quot;, &quot;Doe&quot;)\n    `when`(customerService.getCustomer()).thenReturn(customer)\n\n    webTestClient.get().uri(&quot;/customer-view&quot;)\n        .exchange()\n        .expectStatus().isOk\n        .expectBody&lt;String&gt;()\n        .consumeWith {\n            //assertions\n        }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3231270,"reputation":526,"user_id":2726467,"accept_rate":60,"display_name":"Shaunyl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676636506,"creation_date":1675864449,"question_id":75386793,"body_markdown":"I am not sure how to test thymeleaf controller views in a spring boot webflux application.\r\nThe following gives 404 BAD REQUEST:\r\n\r\n```\r\n        webTestClient.get()\r\n                .uri(&quot;/customer-view&quot;)\r\n                .accept(MediaType.TEXT_HTML)a\r\n                .exchange().isOk\r\n\r\n```\r\nI believe that webTestClient doesn&#39;t give any server-side views testing support, only mockMvc. But I have only the webflux dependency &quot;org.springframework.boot:spring-boot-starter-webflux&quot;, and mockMvc is not present in webflux as it&#39;s a blocking client of course.\r\n\r\nI am wondering if there is a way to test a thymeleaf view in webflux. For example a method like the following:\r\n\r\n\r\n      @Controller\r\n      class CustomerController {\r\n\r\n    @GetMapping(&quot;/customer-view&quot;)\r\n    suspend fun getCustomerView(model: Model\r\n    ): String {\r\n        val customer = customerService.getCustomer()\r\n        model[&quot;customer&quot;] = customer\r\n        return &quot;customer-view&quot;\r\n    }\r\n      }\r\n\r\nThanks\r\n\r\n\r\n","title":"Integration test with thymeleaf and webflux","body":"<p>I am not sure how to test thymeleaf controller views in a spring boot webflux application.\nThe following gives 404 BAD REQUEST:</p>\n<pre><code>        webTestClient.get()\n                .uri(&quot;/customer-view&quot;)\n                .accept(MediaType.TEXT_HTML)a\n                .exchange().isOk\n\n</code></pre>\n<p>I believe that webTestClient doesn't give any server-side views testing support, only mockMvc. But I have only the webflux dependency &quot;org.springframework.boot:spring-boot-starter-webflux&quot;, and mockMvc is not present in webflux as it's a blocking client of course.</p>\n<p>I am wondering if there is a way to test a thymeleaf view in webflux. For example a method like the following:</p>\n<pre><code>  @Controller\n  class CustomerController {\n\n@GetMapping(&quot;/customer-view&quot;)\nsuspend fun getCustomerView(model: Model\n): String {\n    val customer = customerService.getCustomer()\n    model[&quot;customer&quot;] = customer\n    return &quot;customer-view&quot;\n}\n  }\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":11751385,"reputation":358,"user_id":8600439,"display_name":"Edgar Hernandez "},"score":0,"creation_date":1676305564,"post_id":75416388,"comment_id":133106155,"body_markdown":"Thank you, it worked! Now, I&#39;m gonna ask more of you. I want to check theexistence of the 0 params in the url, I can do an &quot;andExpect&quot; for each param but sounds like an overkill. Hamcrest has a way to pass a list of substring in one method to check with a single call all the params?","body":"Thank you, it worked! Now, I&#39;m gonna ask more of you. I want to check theexistence of the 0 params in the url, I can do an &quot;andExpect&quot; for each param but sounds like an overkill. Hamcrest has a way to pass a list of substring in one method to check with a single call all the params?"},{"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"score":1,"creation_date":1676312302,"post_id":75416388,"comment_id":133108194,"body_markdown":"Happy to help. *Maybe* I have made the same mistake once or twice and recognized the pattern :-). Yes, you absolutely can combine multiple Hamcrest matchers, e.g. using the [allOf matcher](https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#allOf%28org.hamcrest.Matcher,%20org.hamcrest.Matcher%29).","body":"Happy to help. <i>Maybe</i> I have made the same mistake once or twice and recognized the pattern :-). Yes, you absolutely can combine multiple Hamcrest matchers, e.g. using the <a href=\"https://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html#allOf%28org.hamcrest.Matcher,%20org.hamcrest.Matcher%29\" rel=\"nofollow noreferrer\">allOf matcher</a>."},{"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"score":0,"creation_date":1676313413,"post_id":75416388,"comment_id":133108508,"body_markdown":"Linked an outdated version of the docs, here&#39;s the [current docs for allOf](https://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/core/AllOf.html)","body":"Linked an outdated version of the docs, here&#39;s the <a href=\"https://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/core/AllOf.html\" rel=\"nofollow noreferrer\">current docs for allOf</a>"}],"tags":[],"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676065462,"creation_date":1676065462,"answer_id":75416388,"question_id":75415074,"body_markdown":"Try using:\r\n\r\n```java\r\nimport static org.hamcrest.Matchers.containsString;\r\n\r\n// ...\r\nmockMvc.perform(get(OIDC_INIT_FLOW_ENDPOINT)\r\n                 .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                 .params(initFlowRequestParams))\r\n\t\t.andExpect(status().isFound())\r\n\t\t.andExpect(header().exists(LOCATION))\r\n\t\t.andExpect(header().string(LOCATION, containsString(&quot;openId&quot;)));\r\n```\r\n\r\nMy hunch is that the `contains` method you are using is a Mockito argument matcher which leads you to the wrong overload of the `string()` match method. The overload you want to use expects a Hamcrest matcher.","title":"How to validate using MockMvc the redirect url in the location header of a response","body":"<p>Try using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.Matchers.containsString;\n\n// ...\nmockMvc.perform(get(OIDC_INIT_FLOW_ENDPOINT)\n                 .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                 .params(initFlowRequestParams))\n        .andExpect(status().isFound())\n        .andExpect(header().exists(LOCATION))\n        .andExpect(header().string(LOCATION, containsString(&quot;openId&quot;)));\n</code></pre>\n<p>My hunch is that the <code>contains</code> method you are using is a Mockito argument matcher which leads you to the wrong overload of the <code>string()</code> match method. The overload you want to use expects a Hamcrest matcher.</p>\n"}],"owner":{"account_id":11751385,"reputation":358,"user_id":8600439,"display_name":"Edgar Hernandez "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75416388,"answer_count":1,"score":3,"last_activity_date":1676636256,"creation_date":1676055208,"question_id":75415074,"body_markdown":"I&#39;m testing an endpoint with MockMvc. This endpoints does a redirect at the end, so it&#39;s setting the redirect URL in the location header. This url has several params, so the resulting redirect url it&#39;s like this:\r\n\r\n    https://platform:8080/auth?scope=openid&amp;response_type=id_token&amp;response_mode=form_post&amp;prompt=none&amp;client_id=toolid&amp;redirect_uri=https://localhost:8080/tool/token/receiver&amp;login_hint=loginHint&amp;state=1d73c90f-fe03-47dc-9e28-ed416fad7773&amp;nonce=7b5e7240-161e-4d78-8e32-54923c9ce04a\r\n\r\nI want to check that the 9 params are present at least. I&#39;m thinking in something like:\r\n\r\n```java    \r\nmockMvc.perform(get(OIDC_INIT_FLOW_ENDPOINT)\r\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n                .params(initFlowRequestParams))\r\n        .andExpect(status().isFound())\r\n        .andExpect(header().exists(LOCATION))\r\n        .andExpect(header().string(LOCATION, contains(&quot;openId&quot;)));\r\n```\r\n\r\nThis piece of code doesn&#39;t work cause the last &quot;andExpect&quot; but it shows my intent. How can I do achieve my goal?\r\n\r\n\r\nEDIT:\r\n\r\nWith the help of Chris I was able to find a solution for my enquiry:\r\n\r\n    mockMvc.perform(get(OIDC_INIT_FLOW_ENDPOINT).contentType(MediaType.APPLICATION_FORM_URLENCODED).params(initFlowRequestParams))\r\n                    .andExpect(status().isFound()).andExpect(header().exists(LOCATION)).andExpect(header().string(LOCATION,\r\n                            Matchers.allOf(containsString(&quot;scope&quot;), containsString(&quot;response_type&quot;), containsString(&quot;response_type&quot;),\r\n                                    containsString(&quot;prompt&quot;), containsString(&quot;client_id&quot;), containsString(&quot;redirect_uri&quot;), containsString(&quot;login_hint&quot;),\r\n                                    containsString(&quot;state&quot;), containsString(&quot;nonce&quot;))));","title":"How to validate using MockMvc the redirect url in the location header of a response","body":"<p>I'm testing an endpoint with MockMvc. This endpoints does a redirect at the end, so it's setting the redirect URL in the location header. This url has several params, so the resulting redirect url it's like this:</p>\n<pre><code>https://platform:8080/auth?scope=openid&amp;response_type=id_token&amp;response_mode=form_post&amp;prompt=none&amp;client_id=toolid&amp;redirect_uri=https://localhost:8080/tool/token/receiver&amp;login_hint=loginHint&amp;state=1d73c90f-fe03-47dc-9e28-ed416fad7773&amp;nonce=7b5e7240-161e-4d78-8e32-54923c9ce04a\n</code></pre>\n<p>I want to check that the 9 params are present at least. I'm thinking in something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mockMvc.perform(get(OIDC_INIT_FLOW_ENDPOINT)\n                .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n                .params(initFlowRequestParams))\n        .andExpect(status().isFound())\n        .andExpect(header().exists(LOCATION))\n        .andExpect(header().string(LOCATION, contains(&quot;openId&quot;)));\n</code></pre>\n<p>This piece of code doesn't work cause the last &quot;andExpect&quot; but it shows my intent. How can I do achieve my goal?</p>\n<p>EDIT:</p>\n<p>With the help of Chris I was able to find a solution for my enquiry:</p>\n<pre><code>mockMvc.perform(get(OIDC_INIT_FLOW_ENDPOINT).contentType(MediaType.APPLICATION_FORM_URLENCODED).params(initFlowRequestParams))\n                .andExpect(status().isFound()).andExpect(header().exists(LOCATION)).andExpect(header().string(LOCATION,\n                        Matchers.allOf(containsString(&quot;scope&quot;), containsString(&quot;response_type&quot;), containsString(&quot;response_type&quot;),\n                                containsString(&quot;prompt&quot;), containsString(&quot;client_id&quot;), containsString(&quot;redirect_uri&quot;), containsString(&quot;login_hint&quot;),\n                                containsString(&quot;state&quot;), containsString(&quot;nonce&quot;))));\n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352466419,"post_id":13308637,"comment_id":18150880,"body_markdown":"Sorry for the design if that is not the case","body":"Sorry for the design if that is not the case"},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352466537,"post_id":13308637,"comment_id":18150935,"body_markdown":"Java programmers for you it&#39;s probably a no-brainer, but for me this is a beginner so hard and I ask to write the code, please","body":"Java programmers for you it&#39;s probably a no-brainer, but for me this is a beginner so hard and I ask to write the code, please"},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1352466838,"post_id":13308637,"comment_id":18151059,"body_markdown":"Is that supposed to be `ршншнщ олрршш`","body":"Is that supposed to be <code>ршншнщ олрршш</code>"},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1352467051,"post_id":13308637,"comment_id":18151150,"body_markdown":"Then it means UTF-8 being misinterpreted as Windows-1251. Check in your browser that the server is sending header properly. In google chrome developer tools, check the headers from network tab.","body":"Then it means UTF-8 being misinterpreted as Windows-1251. Check in your browser that the server is sending header properly. In google chrome developer tools, check the headers from network tab."},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352467170,"post_id":13308637,"comment_id":18151206,"body_markdown":"I have no need to address this issue is the software is not sure that anybody will change the coding, so please help me with the code","body":"I have no need to address this issue is the software is not sure that anybody will change the coding, so please help me with the code"},{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":0,"creation_date":1352467344,"post_id":13308637,"comment_id":18151281,"body_markdown":"what a strange name for russian, Eric Scot. And answer is simple - replace `request.setCharacterEncoding(&quot;utf8&quot;);` to `response.setCharacterEncoding(&quot;utf8&quot;);`","body":"what a strange name for russian, Eric Scot. And answer is simple - replace <code>request.setCharacterEncoding(&quot;utf8&quot;);</code> to <code>response.setCharacterEncoding(&quot;utf8&quot;);</code>"},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352467496,"post_id":13308637,"comment_id":18151367,"body_markdown":"Yes, I have a name I just came from Russia but it is not live, I tried too it is impossible to replace","body":"Yes, I have a name I just came from Russia but it is not live, I tried too it is impossible to replace"},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352467544,"post_id":13308637,"comment_id":18151394,"body_markdown":"again displays the stupid squiggles","body":"again displays the stupid squiggles"},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1352467646,"post_id":13308637,"comment_id":18151445,"body_markdown":"@EricScot well I am trying to help you, right now you are just going in blind. You need to see what headers the browser sees to debug this.","body":"@EricScot well I am trying to help you, right now you are just going in blind. You need to see what headers the browser sees to debug this."},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352467759,"post_id":13308637,"comment_id":18151499,"body_markdown":"I unfortunately do not know how to do this can you just give a bit of code please","body":"I unfortunately do not know how to do this can you just give a bit of code please"},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1352467828,"post_id":13308637,"comment_id":18151531,"body_markdown":"You don&#39;t need any code to see what headers the browser sees, just open up developer tools in google chrome, go to network tab, start recording, load up your page and see what `Content-Type` header is sent.","body":"You don&#39;t need any code to see what headers the browser sees, just open up developer tools in google chrome, go to network tab, start recording, load up your page and see what <code>Content-Type</code> header is sent."},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352468505,"post_id":13308637,"comment_id":18151872,"body_markdown":"The network does not write, but I have seen the following:\nChrome-ekstension :/ / llfbts .....","body":"The network does not write, but I have seen the following: Chrome-ekstension :/ / llfbts ....."},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352468646,"post_id":13308637,"comment_id":18151933,"body_markdown":"That&#39;s what passes:\ncontent-type text / html; charset = utf-8","body":"That&#39;s what passes: content-type text / html; charset = utf-8"},{"owner":{"account_id":1645220,"reputation":5070,"user_id":1516873,"display_name":"user1516873"},"score":0,"creation_date":1352469449,"post_id":13308637,"comment_id":18152271,"body_markdown":"Eric, if you use chrome, please check what encoding using browser to show content. Hit your servlet, press wrench button, then tools-&gt;encoding and in this menu what radiobutton is checked?","body":"Eric, if you use chrome, please check what encoding using browser to show content. Hit your servlet, press wrench button, then tools-&gt;encoding and in this menu what radiobutton is checked?"},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352469786,"post_id":13308637,"comment_id":18152428,"body_markdown":"all I solved the problem, close all the giant question thanks","body":"all I solved the problem, close all the giant question thanks"}],"answers":[{"comments":[{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352467896,"post_id":13309021,"comment_id":18151561,"body_markdown":"Thank you, and where do I enter it?","body":"Thank you, and where do I enter it?"},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1352468018,"post_id":13309021,"comment_id":18151644,"body_markdown":"I believe it&#39;s just the content-type header being sent, `п&#187;ї СЂС€РЅС€РЅС‰ РѕР&#187;СЂСЂС€С€` are already the correct bytes but just misinterpreted.","body":"I believe it&#39;s just the content-type header being sent, <code>п&#187;ї СЂС€РЅС€РЅС‰ РѕР&#187;СЂСЂС€С€</code> are already the correct bytes but just misinterpreted."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1352468124,"post_id":13309021,"comment_id":18151699,"body_markdown":"@Esailija: the content type header doesn&#39;t tell the server what encoding to use to write the response. It tells the client what encoding to use to read the response. But if the server itself didn&#39;t write the response in UTF-8 at all, then the client would of course misinterpret it, which is exactly what is happening here. The server should have been told to write the response in UTF-8. The content type header should of course be kept there, I have nowhere said to remove it. I recommend to read the &quot;See also&quot; link to understand the stuff better.","body":"@Esailija: the content type header doesn&#39;t tell the server what encoding to use to write the response. It tells the client what encoding to use to read the response. But if the server itself didn&#39;t write the response in UTF-8 at all, then the client would of course misinterpret it, which is exactly what is happening here. The server should have been told to write the response in UTF-8. The content type header should of course be kept there, I have nowhere said to remove it. I recommend to read the &quot;See also&quot; link to understand the stuff better."},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1352468321,"post_id":13309021,"comment_id":18151777,"body_markdown":"@BalusC the server is writing the response `п&#187;ї СЂС€РЅС€РЅС‰ РѕР&#187;СЂСЂС€С€`, in other words, the raw bytes in the response are `EF BB BF 20 D1 80 D1 88 D0 BD D1 88 D0 BD D1 89 20 D0 BE D0 BB D1 80 D1 80 D1 88 D1 88`. When these are interpreted in UTF-8, one will see `ршншнщ олрршш` in the browser. When they are interpreted in windows-1251, one sees `п&#187;ї СЂС€РЅС€РЅС‰ РѕР&#187;СЂСЂС€С€`. So the browser was interpreting them in windows-1251, so the content-type header must have been wrong and setting it to utf-8 is enough to fix it.","body":"@BalusC the server is writing the response <code>п&#187;ї СЂС€РЅС€РЅС‰ РѕР&#187;СЂСЂС€С€</code>, in other words, the raw bytes in the response are <code>EF BB BF 20 D1 80 D1 88 D0 BD D1 88 D0 BD D1 89 20 D0 BE D0 BB D1 80 D1 80 D1 88 D1 88</code>. When these are interpreted in UTF-8, one will see <code>ршншнщ олрршш</code> in the browser. When they are interpreted in windows-1251, one sees <code>п&#187;ї СЂС€РЅС€РЅС‰ РѕР&#187;СЂСЂС€С€</code>. So the browser was interpreting them in windows-1251, so the content-type header must have been wrong and setting it to utf-8 is enough to fix it."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1352468402,"post_id":13309021,"comment_id":18151823,"body_markdown":"@Esailija: Those garbled characters are in first place not caused by wrong response encoding, but by wrong `FileReader` encoding. It is reading an UTF-8 file using the platform default encoding (which in turn is also written to the response using the platform default encoding). If the `FileReader` encoding was been fixed, but the response encoding not, then you would have seen the problem the other way round.","body":"@Esailija: Those garbled characters are in first place not caused by wrong response encoding, but by wrong <code>FileReader</code> encoding. It is reading an UTF-8 file using the platform default encoding (which in turn is also written to the response using the platform default encoding). If the <code>FileReader</code> encoding was been fixed, but the response encoding not, then you would have seen the problem the other way round."},{"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"score":0,"creation_date":1352469397,"post_id":13309021,"comment_id":18152244,"body_markdown":"@SuppressWarnings(&quot;resource&quot;)\n\t...\n    \t\t\n            String myName = request.getParameter(&quot;text&quot;);\n            myName.getBytes(&quot;UTF-8&quot;);\n            ....\n            for (String string : files) {\n            if (myName.equals(string)) {\n                  FileReader reader  = null;\n                   try  {\n                \t    \n                \t    File file =  new File(&quot;C:\\\\Users\\\\ваня\\\\Desktop\\\\asksearch\\\\&quot; + string );\n                \t    \n                \t    reader = (FileReader) new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;);","body":"@SuppressWarnings(&quot;resource&quot;) \t...     \t\t             String myName = request.getParameter(&quot;text&quot;);             myName.getBytes(&quot;UTF-8&quot;);             ....             for (String string : files) {             if (myName.equals(string)) {                   FileReader reader  = null;                    try  {                 \t                     \t    File file =  new File(&quot;C:\\\\Users\\\\ваня\\\\Desktop\\\\asksearch\\\\&quot; + string );                 \t                     \t    reader = (FileReader) new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;);"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676636041,"creation_date":1352467816,"answer_id":13309021,"question_id":13308637,"body_markdown":"This problem is two-fold.\r\n\r\nFirst, you forgot to set the response encoding. This way the response is written with server platform default encoding. Add the following line *before* writing any byte/character to the response.\r\n\r\n    response.setCharacterEncoding(StandardCharsets.UTF_8.name());\r\n\r\nSecond, you&#39;re reading the file using server platform default encoding.\r\n\r\n    Reader reader = new FileReader(file);\r\n\r\nYou should be reading the file using an explicitly specified encoding matching the encoding actually used by the text file itself. This can be done with help of [`InputStreamReader`][1].\r\n\r\n    Reader reader = new InputStreamReader(new FileInputStream(file), StandardCharsets.UTF_8);\r\n\r\n### See also:\r\n\r\n- [Unicode - How to get the characters right?][2]\r\n\r\n---\r\n\r\n**Unrelated** to the concrete problem, HTML code doesn&#39;t belong in a servlet. It belongs in a JSP. Continue here to learn how to deal with it: https://stackoverflow.com/questions/2370960/generate-an-html-response-in-a-java-servlet.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html\r\n  [2]: https://balusc.omnifaces.org/2009/05/unicode-how-to-get-characters-right.html","title":"encoding in the servlets(java)","body":"<p>This problem is two-fold.</p>\n<p>First, you forgot to set the response encoding. This way the response is written with server platform default encoding. Add the following line <em>before</em> writing any byte/character to the response.</p>\n<pre><code>response.setCharacterEncoding(StandardCharsets.UTF_8.name());\n</code></pre>\n<p>Second, you're reading the file using server platform default encoding.</p>\n<pre><code>Reader reader = new FileReader(file);\n</code></pre>\n<p>You should be reading the file using an explicitly specified encoding matching the encoding actually used by the text file itself. This can be done with help of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html\" rel=\"nofollow noreferrer\"><code>InputStreamReader</code></a>.</p>\n<pre><code>Reader reader = new InputStreamReader(new FileInputStream(file), StandardCharsets.UTF_8);\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://balusc.omnifaces.org/2009/05/unicode-how-to-get-characters-right.html\" rel=\"nofollow noreferrer\">Unicode - How to get the characters right?</a></li>\n</ul>\n<hr />\n<p><strong>Unrelated</strong> to the concrete problem, HTML code doesn't belong in a servlet. It belongs in a JSP. Continue here to learn how to deal with it: <a href=\"https://stackoverflow.com/questions/2370960/generate-an-html-response-in-a-java-servlet\">Generate an HTML Response in a Java Servlet</a>.</p>\n"}],"owner":{"account_id":2020526,"reputation":197,"user_id":1806816,"accept_rate":90,"display_name":"Eric Scot"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13309021,"answer_count":1,"score":1,"last_activity_date":1676636041,"creation_date":1352466299,"question_id":13308637,"body_markdown":"I, the following servlet code does not display the characters, place them, he says something like this: п&#187;ї СЂС€РЅС€РЅС‰ РѕР&#187;СЂСЂС€С€. Could you help fix it, I will be very grateful, I beginner in java so you can please send me the code to encoded everything was fine, it is advised to use:\r\n\r\n    .getBytes(&quot;UTF-8&quot;);\r\n\r\nHere&#39;s the code:\r\n\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    public class servlet extends HttpServlet {\r\n        /**\r\n         * \r\n         */\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public static List&lt;String&gt; getFileNames(File directory, String extension) {\r\n    \r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            File[] total = directory.listFiles();\r\n            for (File file : total) {\r\n                if (file.getName().endsWith(extension)) {\r\n                    list.add(file.getName());\r\n                }\r\n                if (file.isDirectory()) {\r\n                    List&lt;String&gt; tempList = getFileNames(file, extension);\r\n                    list.addAll(tempList);          \r\n                }\r\n            }\r\n            return list;\r\n        }\r\n    \r\n    \r\n    \r\n    @SuppressWarnings(&quot;resource&quot;)\r\n            protected void doPost(HttpServletRequest request, HttpServletResponse response) \r\n                    throws ServletException, IOException{ \r\n                    request.setCharacterEncoding(&quot;utf8&quot;);\r\n                    response.setContentType(&quot;text/html; charset=UTF-8&quot;);\r\n                    String myName = request.getParameter(&quot;text&quot;);\r\n    \r\n                    List&lt;String&gt; files = getFileNames(new File(&quot;C:\\\\Users\\\\vany\\\\Desktop\\\\test&quot;), &quot;txt&quot;);\r\n                    for (String string : files) {\r\n                    if (myName.equals(string)) {\r\n                           try {\r\n                                File file = new File(&quot;C:\\\\Users\\\\vany\\\\Desktop\\\\test\\\\&quot; + string);\r\n                                FileReader reader = new FileReader(file);\r\n                                int b;\r\n                                PrintWriter writer = response.getWriter();\r\n                                writer.print(&quot;&lt;html&gt;&quot;);\r\n                                writer.print(&quot;&lt;head&gt;&quot;);\r\n                                writer.print(&quot;&lt;title&gt;HelloWorld&lt;/title&gt;&quot;);\r\n                                writer.print(&quot;&lt;body&gt;&quot;);\r\n                                writer.write(&quot;&lt;div&gt;&quot;);\r\n                                while((b = reader.read()) != -1) {\r\n                                    writer.write((char) b);\r\n                                }\r\n                                writer.write(&quot;&lt;/div&gt;&quot;);\r\n                                writer.print(&quot;&lt;/body&gt;&quot;);\r\n                                writer.print(&quot;&lt;/html&gt;&quot;);\r\n    \r\n                            } \r\n                           catch (Exception ex) {\r\n    \r\n                            }\r\n                        }\r\n    \r\n                    }\r\n                   }\r\n            }\r\n\r\n\r\nall I solved the problem, close all the giant question thanks.Special thanks to @BalusC  put him pluses)","title":"encoding in the servlets(java)","body":"<p>I, the following servlet code does not display the characters, place them, he says something like this: п»ї СЂС€РЅС€РЅС‰ РѕР»СЂСЂС€С€. Could you help fix it, I will be very grateful, I beginner in java so you can please send me the code to encoded everything was fine, it is advised to use:</p>\n\n<pre><code>.getBytes(\"UTF-8\");\n</code></pre>\n\n<p>Here's the code:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class servlet extends HttpServlet {\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    public static List&lt;String&gt; getFileNames(File directory, String extension) {\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        File[] total = directory.listFiles();\n        for (File file : total) {\n            if (file.getName().endsWith(extension)) {\n                list.add(file.getName());\n            }\n            if (file.isDirectory()) {\n                List&lt;String&gt; tempList = getFileNames(file, extension);\n                list.addAll(tempList);          \n            }\n        }\n        return list;\n    }\n\n\n\n@SuppressWarnings(\"resource\")\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) \n                throws ServletException, IOException{ \n                request.setCharacterEncoding(\"utf8\");\n                response.setContentType(\"text/html; charset=UTF-8\");\n                String myName = request.getParameter(\"text\");\n\n                List&lt;String&gt; files = getFileNames(new File(\"C:\\\\Users\\\\vany\\\\Desktop\\\\test\"), \"txt\");\n                for (String string : files) {\n                if (myName.equals(string)) {\n                       try {\n                            File file = new File(\"C:\\\\Users\\\\vany\\\\Desktop\\\\test\\\\\" + string);\n                            FileReader reader = new FileReader(file);\n                            int b;\n                            PrintWriter writer = response.getWriter();\n                            writer.print(\"&lt;html&gt;\");\n                            writer.print(\"&lt;head&gt;\");\n                            writer.print(\"&lt;title&gt;HelloWorld&lt;/title&gt;\");\n                            writer.print(\"&lt;body&gt;\");\n                            writer.write(\"&lt;div&gt;\");\n                            while((b = reader.read()) != -1) {\n                                writer.write((char) b);\n                            }\n                            writer.write(\"&lt;/div&gt;\");\n                            writer.print(\"&lt;/body&gt;\");\n                            writer.print(\"&lt;/html&gt;\");\n\n                        } \n                       catch (Exception ex) {\n\n                        }\n                    }\n\n                }\n               }\n        }\n</code></pre>\n\n<p>all I solved the problem, close all the giant question thanks.Special thanks to @BalusC  put him pluses)</p>\n"},{"tags":["java","jpa","spring-security","jjwt"],"comments":[{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1676626701,"post_id":75481825,"comment_id":133179233,"body_markdown":"Your JWT contains your user. You can get the user from JWT.\nSee this for what a JWT contains:\nhttps://jwt.io/","body":"Your JWT contains your user. You can get the user from JWT. See this for what a JWT contains: <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a>"},{"owner":{"account_id":15736034,"reputation":189,"user_id":11354959,"display_name":"El Pandario"},"score":0,"creation_date":1676627414,"post_id":75481825,"comment_id":133179448,"body_markdown":"Yes I understand this but in my request can I parse the token in order to get the id of my user? In terms of security how it is?","body":"Yes I understand this but in my request can I parse the token in order to get the id of my user? In terms of security how it is?"},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1676627618,"post_id":75481825,"comment_id":133179504,"body_markdown":"Yes. You can find a JWTToken utlity class on internet and parse your user from the claim in the JWT. \nRef:\nhttps://github.com/koushikkothagal/spring-security-jwt/blob/master/src/main/java/io/javabrains/springsecurityjwt/util/JwtUtil.java","body":"Yes. You can find a JWTToken utlity class on internet and parse your user from the claim in the JWT.  Ref: <a href=\"https://github.com/koushikkothagal/spring-security-jwt/blob/master/src/main/java/io/javabrains/springsecurityjwt/util/JwtUtil.java\" rel=\"nofollow noreferrer\">github.com/koushikkothagal/spring-security-jwt/blob/master/s&zwnj;&#8203;rc/&hellip;</a>"},{"owner":{"account_id":15736034,"reputation":189,"user_id":11354959,"display_name":"El Pandario"},"score":0,"creation_date":1676650013,"post_id":75481825,"comment_id":133186062,"body_markdown":"So would it be secured to read the id of the user from the token to call my DB with this ID and make changes with it?","body":"So would it be secured to read the id of the user from the token to call my DB with this ID and make changes with it?"},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1676875401,"post_id":75481825,"comment_id":133218308,"body_markdown":"Ideally, JWT is for authentication only. Once the user is authenticated, you can do any operation just like a normal user would do.","body":"Ideally, JWT is for authentication only. Once the user is authenticated, you can do any operation just like a normal user would do."}],"answers":[{"comments":[{"owner":{"account_id":15736034,"reputation":189,"user_id":11354959,"display_name":"El Pandario"},"score":0,"creation_date":1676625439,"post_id":75482188,"comment_id":133178865,"body_markdown":"The thing I am wondering is that is there a way to get the user from the token?","body":"The thing I am wondering is that is there a way to get the user from the token?"},{"owner":{"account_id":19442387,"reputation":39,"user_id":14220554,"display_name":"Art"},"score":0,"creation_date":1676626180,"post_id":75482188,"comment_id":133179075,"body_markdown":"Not sure about that, sorry. If it was helpful, please don&#39;t forget to upvote.","body":"Not sure about that, sorry. If it was helpful, please don&#39;t forget to upvote."}],"tags":[],"owner":{"account_id":19442387,"reputation":39,"user_id":14220554,"display_name":"Art"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676624815,"creation_date":1676624815,"answer_id":75482188,"question_id":75481825,"body_markdown":"    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;?&gt; updateUser(@PathVariable Long id, @RequestBody User user) {\r\n            // Use Spring Security to get the authenticated user from the security context\r\n            Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n            User authenticatedUser = (User) authentication.getPrincipal();\r\n    \r\n            // Verify that the authenticated user is the same as the user being updated\r\n            if (!authenticatedUser.getId().equals(id)) {\r\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n            }\r\n    \r\n            // Update the user information\r\n            user.setId(id);\r\n            userService.updateUser(user);\r\n    \r\n            return ResponseEntity.ok().build();\r\n        }\r\n    }\r\n\r\nWhat do you think about this? UserService would be responsible for actually updating the user in the database. The controller simply handles the request, authenticates the user with JWT, and checks that the authenticated user is authorized to make the update.\r\n\r\nYou can change the ResponseEntity type as you like.\r\n","title":"Updating user info with JWT on spring security app","body":"<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;?&gt; updateUser(@PathVariable Long id, @RequestBody User user) {\n        // Use Spring Security to get the authenticated user from the security context\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        User authenticatedUser = (User) authentication.getPrincipal();\n\n        // Verify that the authenticated user is the same as the user being updated\n        if (!authenticatedUser.getId().equals(id)) {\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n        }\n\n        // Update the user information\n        user.setId(id);\n        userService.updateUser(user);\n\n        return ResponseEntity.ok().build();\n    }\n}\n</code></pre>\n<p>What do you think about this? UserService would be responsible for actually updating the user in the database. The controller simply handles the request, authenticates the user with JWT, and checks that the authenticated user is authorized to make the update.</p>\n<p>You can change the ResponseEntity type as you like.</p>\n"}],"owner":{"account_id":15736034,"reputation":189,"user_id":11354959,"display_name":"El Pandario"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676636010,"creation_date":1676622437,"question_id":75481825,"body_markdown":"I am working on a simple REST API using spring security with a JWT Filter. However, I am a little bit confused with how to update user info.\r\n\r\nAfter loggin in I get a JWT that I use to make request on other endpoints. But how do I create a controller that create or update data? \r\nI have my user table and my preferences table they are one to one related. \r\nIf I make a request like &quot;/create/preferences&quot; what do I put in the body in order for me to create a preference link to this user making the call to the api? \r\n\r\n ```\r\n    \r\n    @PostMapping(&quot;/user/preferences&quot;)\r\n    public ResponseEntity&lt;Preferences&gt; getUserPreferences() {\r\n        /*\r\nwhat to put here\r\n*/\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }    \r\n```\r\nDo I have to get the user from the token? Then I can create a preference object with this user id? \r\n\r\nThanks in advance","title":"Updating user info with JWT on spring security app","body":"<p>I am working on a simple REST API using spring security with a JWT Filter. However, I am a little bit confused with how to update user info.</p>\n<p>After loggin in I get a JWT that I use to make request on other endpoints. But how do I create a controller that create or update data?\nI have my user table and my preferences table they are one to one related.\nIf I make a request like &quot;/create/preferences&quot; what do I put in the body in order for me to create a preference link to this user making the call to the api?</p>\n<pre><code>   \n   @PostMapping(&quot;/user/preferences&quot;)\n   public ResponseEntity&lt;Preferences&gt; getUserPreferences() {\n       /*\nwhat to put here\n*/\n       return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n   }    \n</code></pre>\n<p>Do I have to get the user from the token? Then I can create a preference object with this user id?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","inputstream","bufferedreader","fileinputstream","bytestream"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1676625894,"post_id":75481437,"comment_id":133178987,"body_markdown":"Please post your code as text not as an image.","body":"Please post your code as text not as an image."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676644797,"post_id":75481437,"comment_id":133184474,"body_markdown":"Basically, you use a Reader if it is character data, and an InputStream if it is binary data, and otherwise you look at the API for a specific class for guidance (e.g. sometimes you can offer an InputStream + Charset, or you can offer a Reader, in that case you decide based on what you have available), but this is not something that is generally answerable.","body":"Basically, you use a Reader if it is character data, and an InputStream if it is binary data, and otherwise you look at the API for a specific class for guidance (e.g. sometimes you can offer an InputStream + Charset, or you can offer a Reader, in that case you decide based on what you have available), but this is not something that is generally answerable."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676670662,"post_id":75481437,"comment_id":133191480,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676635731,"creation_date":1676635731,"answer_id":75484096,"question_id":75481437,"body_markdown":"It depends on the individual case. \r\n\r\nFor property files, there is an overloaded `Properties.load()` method. You can pass either an `InputStream` or a `Reader`. \r\nHere it would be best to use the `InputStream` option (byte stream) because the `load()` function handles the correct character set on its own. If you use a `Reader` you are responsible to read the file with the correct encoding.\r\n\r\nSame for parsing XML files. The encoding is part of the XML header (or UTF-8 as default) so it is the best option to let the parser read and handle it.\r\n\r\nFor JSON the default encoding is UTF-8. Other encodings are possible but I don&#39;t know whether it is possible to declare the encoding inside a JSON document like in XML. \r\n\r\nSo for other file types it depends on the use case. If you have a text file encoded as UTF-8 and you want to copy it to another location as is, you can simply treat the file as a byte block. But if you have to extract some words it is necessary to interpret the byte block as characters so you need a `Reader` and the right character encoding (in conjunction with an `InputStreamReader`).\r\n\r\nSometimes you get the right encoding via an API e.g. if you call a REST service via HTTP you can extract the encoding out of a HTTP header. Otherwise, you simply have to know the encoding. ","title":"How to know when to use byteStream for reading data and when to use charStream for reading data from a file?","body":"<p>It depends on the individual case.</p>\n<p>For property files, there is an overloaded <code>Properties.load()</code> method. You can pass either an <code>InputStream</code> or a <code>Reader</code>.\nHere it would be best to use the <code>InputStream</code> option (byte stream) because the <code>load()</code> function handles the correct character set on its own. If you use a <code>Reader</code> you are responsible to read the file with the correct encoding.</p>\n<p>Same for parsing XML files. The encoding is part of the XML header (or UTF-8 as default) so it is the best option to let the parser read and handle it.</p>\n<p>For JSON the default encoding is UTF-8. Other encodings are possible but I don't know whether it is possible to declare the encoding inside a JSON document like in XML.</p>\n<p>So for other file types it depends on the use case. If you have a text file encoded as UTF-8 and you want to copy it to another location as is, you can simply treat the file as a byte block. But if you have to extract some words it is necessary to interpret the byte block as characters so you need a <code>Reader</code> and the right character encoding (in conjunction with an <code>InputStreamReader</code>).</p>\n<p>Sometimes you get the right encoding via an API e.g. if you call a REST service via HTTP you can extract the encoding out of a HTTP header. Otherwise, you simply have to know the encoding.</p>\n"}],"owner":{"account_id":12452034,"reputation":11,"user_id":9066397,"display_name":"Sudipta Mohapatra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676635731,"creation_date":1676619917,"question_id":75481437,"body_markdown":"I am trying to understand if I need to read data from different types of files (.properties file, json file, text file etc) or from console, which java class should I use and why exactly.\r\n\r\nSome classes are reading data in the form of bytes (8 bits) and some are reading in the form of characters (16 bits unicode). So, how do I decide which class to use for reading data?\r\n\r\n[enter image description here](https://i.stack.imgur.com/e7azx.png)\r\n\r\nIn the above sample code, I am trying to read a .properties file. So, how to decide if I need to use FileInputStream or any other class to read the file?\r\n\r\nI tried looking for answers online but I am still not clear.\r\n","title":"How to know when to use byteStream for reading data and when to use charStream for reading data from a file?","body":"<p>I am trying to understand if I need to read data from different types of files (.properties file, json file, text file etc) or from console, which java class should I use and why exactly.</p>\n<p>Some classes are reading data in the form of bytes (8 bits) and some are reading in the form of characters (16 bits unicode). So, how do I decide which class to use for reading data?</p>\n<p><a href=\"https://i.stack.imgur.com/e7azx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In the above sample code, I am trying to read a .properties file. So, how to decide if I need to use FileInputStream or any other class to read the file?</p>\n<p>I tried looking for answers online but I am still not clear.</p>\n"},{"tags":["java","json","jackson","adobe"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676635427,"creation_date":1676635427,"answer_id":75484060,"question_id":75476514,"body_markdown":"Probably you are overthinking about it, for example if you take a semplified version of your json input file like below as a starting point:\r\n\r\n~~~\r\n{\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;PKey&quot;: &quot;@9v59tLj9c.....&quot;\r\n        },\r\n        {\r\n            &quot;PKey&quot;: &quot;@9f32tLj5c.....&quot;\r\n        }\r\n    ]\r\n}\r\n~~~\r\n\r\nYou can use part of the code you wrote, so one way to deserialize it is to convert your `ArrayNode` array of `JsonNode` into a `Profile[]` array:\r\n\r\n~~~\r\n@Data\r\npublic class Profile {\r\n\r\n    @JsonProperty(&quot;PKey&quot;)\r\n    private String pKey;\r\n}\r\n\r\nArrayNode arrayNode = (ArrayNode) mapper.readTree(json).get(&quot;content&quot;);\r\nProfile[] profiles = mapper.convertValue(arrayNode, Profile[].class);\r\n//ok it prints the array [{&quot;PKey&quot;:&quot;@9v59tLj9c.....&quot;},{&quot;PKey&quot;:&quot;@9f32tLj5c.....&quot;}]\r\nSystem.out.println(mapper.writeValueAsString(profiles));\r\n~~~","title":"Marshalling API response to List&lt;POJO&gt; with Jackson","body":"<p>Probably you are overthinking about it, for example if you take a semplified version of your json input file like below as a starting point:</p>\n<pre><code>{\n    &quot;content&quot;: [\n        {\n            &quot;PKey&quot;: &quot;@9v59tLj9c.....&quot;\n        },\n        {\n            &quot;PKey&quot;: &quot;@9f32tLj5c.....&quot;\n        }\n    ]\n}\n</code></pre>\n<p>You can use part of the code you wrote, so one way to deserialize it is to convert your <code>ArrayNode</code> array of <code>JsonNode</code> into a <code>Profile[]</code> array:</p>\n<pre><code>@Data\npublic class Profile {\n\n    @JsonProperty(&quot;PKey&quot;)\n    private String pKey;\n}\n\nArrayNode arrayNode = (ArrayNode) mapper.readTree(json).get(&quot;content&quot;);\nProfile[] profiles = mapper.convertValue(arrayNode, Profile[].class);\n//ok it prints the array [{&quot;PKey&quot;:&quot;@9v59tLj9c.....&quot;},{&quot;PKey&quot;:&quot;@9f32tLj5c.....&quot;}]\nSystem.out.println(mapper.writeValueAsString(profiles));\n</code></pre>\n"}],"owner":{"account_id":9286335,"reputation":85,"user_id":6896096,"display_name":"scadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75484060,"answer_count":1,"score":1,"last_activity_date":1676635427,"creation_date":1676572263,"question_id":75476514,"body_markdown":"I am having trouble parsing the response from an Adobe Campaign API endpoint into a POJO. \r\n\r\nI am grabbing the data from the response:\r\n\r\n    String json = EntityUtils.toString(response.getEntity());\r\n\r\nThe data (heavily redacted) data looks like this:\r\n\r\n    {\r\n      &quot;content&quot;: [\r\n        {\r\n          &quot;PKey&quot;: &quot;@9v59tLj9c.....&quot;,\r\n          &quot;age&quot;: 36,\r\n          &quot;birthDate&quot;: &quot;1986-04-30&quot;,\r\n          &quot;blackList&quot;: false,\r\n          ...\r\n        },\r\n        {\r\n          &quot;PKey&quot;: &quot;@9f32tLj5c.....&quot;,\r\n          &quot;age&quot;: 32,\r\n          &quot;birthDate&quot;: &quot;1999-05-11&quot;,\r\n          &quot;blackList&quot;: false,\r\n          ...\r\n        },\r\n        ...\r\n      ]\r\n    }\r\n\r\nI&#39;m instantiating a Jackson ObjectMapper and configuring it such that the root &quot;content&quot; node is ignored.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(SerializationFeature.WRAP_ROOT_VALUE, true);\r\n    objectMapper.configure(DeserializationFeature.UNWRAP_ROOT_VALUE, true);\r\n\r\nI have tried many different ways of parsing the data into my Profile POJO, without success. There&#39;s always an issue related to it being wrapped in &quot;content&quot; node, or being a list of one, or something. For brevity, the code below is for a single POJO, but I have also tried with `List&lt;Profile&gt;` since, as mentioned, the response is always a List of one or more.\r\n\r\n    // object mapper\r\n    Profile profile = objectMapper.readValue(json), Profile.class)\r\n    // ERROR: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;content&quot; (class com.example.adobecampaignprototype.Profile), not marked as ignorable (0 known properties: ])\r\n\r\n    // object reader\r\n    ObjectReader objectReader = objectMapper.readerFor(Profile.class).withRootName(&quot;content&quot;);\r\n    Profile profile = objectReader.readValue(json);\r\n    // ERROR: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.adobecampaignprototype.Profile` from Array value (token `JsonToken.START_ARRAY`)\r\n\r\n    // array node\r\n    ArrayNode arrayNode = (ArrayNode) objectMapper.readTree(json).get(&quot;content&quot;);\r\n    // ERROR: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;content&quot; (class com.example.adobecampaignprototype.Profile), not marked as ignorable (0 known properties: ])\r\n\r\n    // json node\r\n    JsonNode jsonNodeRoot = objectMapper.readTree(json);\r\n    JsonNode jsonNodeNested = jsonNodeRoot.get(&quot;content&quot;);\r\n    JsonNode jsonNodeActual = jsonNodeNested.get(0) // to get profile at index 0\r\n    JsonNode jsonNodeActualValue = jsonNodeActual.get(&quot;PKey&quot;) // to read single property\r\n\r\nI&#39;ve tried the above in many combinations, but have never been able to successfully parse either a Profile or List&lt;Profile&gt;. I have read the official docs exhaustively, been through tutorials on Baeldung and elsewhere. I feel like this should be a simple thing and there&#39;s probably something obvious that I&#39;m overlooking, but unsure what it is. Would be grateful if someone could point me toward the EASY button.","title":"Marshalling API response to List&lt;POJO&gt; with Jackson","body":"<p>I am having trouble parsing the response from an Adobe Campaign API endpoint into a POJO.</p>\n<p>I am grabbing the data from the response:</p>\n<pre><code>String json = EntityUtils.toString(response.getEntity());\n</code></pre>\n<p>The data (heavily redacted) data looks like this:</p>\n<pre><code>{\n  &quot;content&quot;: [\n    {\n      &quot;PKey&quot;: &quot;@9v59tLj9c.....&quot;,\n      &quot;age&quot;: 36,\n      &quot;birthDate&quot;: &quot;1986-04-30&quot;,\n      &quot;blackList&quot;: false,\n      ...\n    },\n    {\n      &quot;PKey&quot;: &quot;@9f32tLj5c.....&quot;,\n      &quot;age&quot;: 32,\n      &quot;birthDate&quot;: &quot;1999-05-11&quot;,\n      &quot;blackList&quot;: false,\n      ...\n    },\n    ...\n  ]\n}\n</code></pre>\n<p>I'm instantiating a Jackson ObjectMapper and configuring it such that the root &quot;content&quot; node is ignored.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(SerializationFeature.WRAP_ROOT_VALUE, true);\nobjectMapper.configure(DeserializationFeature.UNWRAP_ROOT_VALUE, true);\n</code></pre>\n<p>I have tried many different ways of parsing the data into my Profile POJO, without success. There's always an issue related to it being wrapped in &quot;content&quot; node, or being a list of one, or something. For brevity, the code below is for a single POJO, but I have also tried with <code>List&lt;Profile&gt;</code> since, as mentioned, the response is always a List of one or more.</p>\n<pre><code>// object mapper\nProfile profile = objectMapper.readValue(json), Profile.class)\n// ERROR: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;content&quot; (class com.example.adobecampaignprototype.Profile), not marked as ignorable (0 known properties: ])\n\n// object reader\nObjectReader objectReader = objectMapper.readerFor(Profile.class).withRootName(&quot;content&quot;);\nProfile profile = objectReader.readValue(json);\n// ERROR: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.adobecampaignprototype.Profile` from Array value (token `JsonToken.START_ARRAY`)\n\n// array node\nArrayNode arrayNode = (ArrayNode) objectMapper.readTree(json).get(&quot;content&quot;);\n// ERROR: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;content&quot; (class com.example.adobecampaignprototype.Profile), not marked as ignorable (0 known properties: ])\n\n// json node\nJsonNode jsonNodeRoot = objectMapper.readTree(json);\nJsonNode jsonNodeNested = jsonNodeRoot.get(&quot;content&quot;);\nJsonNode jsonNodeActual = jsonNodeNested.get(0) // to get profile at index 0\nJsonNode jsonNodeActualValue = jsonNodeActual.get(&quot;PKey&quot;) // to read single property\n</code></pre>\n<p>I've tried the above in many combinations, but have never been able to successfully parse either a Profile or List. I have read the official docs exhaustively, been through tutorials on Baeldung and elsewhere. I feel like this should be a simple thing and there's probably something obvious that I'm overlooking, but unsure what it is. Would be grateful if someone could point me toward the EASY button.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1676629434,"post_id":75482925,"comment_id":133180028,"body_markdown":"You never change `CAPSval` from false to true.","body":"You never change <code>CAPSval</code> from false to true."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1676630154,"post_id":75482925,"comment_id":133180255,"body_markdown":"Your `CAPSval` is always false and that means you never append `temp` to the result. And even if `CAPSval` magically changed to `true`: you never assign anything but an empty string to `temp` and therefore the `result` will never change.","body":"Your <code>CAPSval</code> is always false and that means you never append <code>temp</code> to the result. And even if <code>CAPSval</code> magically changed to <code>true</code>: you never assign anything but an empty string to <code>temp</code> and therefore the <code>result</code> will never change."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1676630226,"post_id":75482925,"comment_id":133180282,"body_markdown":"The criterion for quitting the loop is wrong - it shouldn&#39;t be based on the length of `result`, you should just be looping `n` times.","body":"The criterion for quitting the loop is wrong - it shouldn&#39;t be based on the length of <code>result</code>, you should just be looping <code>n</code> times."}],"answers":[{"tags":[],"owner":{"account_id":20058882,"reputation":72,"user_id":16870814,"display_name":"Javohir Xoldorov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676631115,"creation_date":1676630763,"answer_id":75483260,"question_id":75482925,"body_markdown":" 1. you can set limit for while\r\n\r\n 2. CAPSval if first button second it value equal false or true\r\n\r\n 3. if CAPSval == true single change to Upper else toLower\r\n\r\n 4. if n == 0 while end and output result\r\n\r\n 5. Sorry I update solution you nofify first time button caps and If not button caps you enter upper or lower character then output same with enter \r\n\r\n```java\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int CAPScounter = 0;\r\n        String result = &quot;&quot;;\r\n        String singles = &quot;&quot;;\r\n        boolean CAPSval = false, fistButton = false;\r\n        Scanner input = new Scanner(System.in);\r\n        int n = input.nextInt();\r\n        while (n-- &gt; 0) {\r\n            singles = input.next();\r\n            if (singles.equals(&quot;CAPS&quot;)) {\r\n                fistButton = true;\r\n                CAPSval = !CAPSval;\r\n                CAPScounter += 1;\r\n            } else {\r\n                if (fistButton) {\r\n                    if (CAPSval)\r\n                        singles = singles.toUpperCase();\r\n                    else singles = singles.toLowerCase();\r\n                }\r\n                result += singles;\r\n            }\r\n\r\n        }\r\n        System.out.print(result);\r\n    }\r\n}\r\n\r\n```","title":"Java changing upper or lower case by entering CAPS","body":"<ol>\n<li><p>you can set limit for while</p>\n</li>\n<li><p>CAPSval if first button second it value equal false or true</p>\n</li>\n<li><p>if CAPSval == true single change to Upper else toLower</p>\n</li>\n<li><p>if n == 0 while end and output result</p>\n</li>\n<li><p>Sorry I update solution you nofify first time button caps and If not button caps you enter upper or lower character then output same with enter</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        int CAPScounter = 0;\n        String result = &quot;&quot;;\n        String singles = &quot;&quot;;\n        boolean CAPSval = false, fistButton = false;\n        Scanner input = new Scanner(System.in);\n        int n = input.nextInt();\n        while (n-- &gt; 0) {\n            singles = input.next();\n            if (singles.equals(&quot;CAPS&quot;)) {\n                fistButton = true;\n                CAPSval = !CAPSval;\n                CAPScounter += 1;\n            } else {\n                if (fistButton) {\n                    if (CAPSval)\n                        singles = singles.toUpperCase();\n                    else singles = singles.toLowerCase();\n                }\n                result += singles;\n            }\n\n        }\n        System.out.print(result);\n    }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1676634813,"post_id":75483556,"comment_id":133181529,"body_markdown":"Note that the condition in the while loop assumes that each token is only one character long. It would break too soon if they are longer. Just loop n times, it&#39;s easier.","body":"Note that the condition in the while loop assumes that each token is only one character long. It would break too soon if they are longer. Just loop n times, it&#39;s easier."},{"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"score":0,"creation_date":1676635260,"post_id":75483556,"comment_id":133181648,"body_markdown":"Makes sense. Updated! In this case we also don&#39;t need the `CAPScounter`","body":"Makes sense. Updated! In this case we also don&#39;t need the <code>CAPScounter</code>"}],"tags":[],"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676635196,"creation_date":1676632377,"answer_id":75483556,"question_id":75482925,"body_markdown":"This could be a simple solution:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String result = &quot;&quot;;\r\n        String singles = &quot;&quot;;\r\n        boolean isCAPSEnabled = false;\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        int n = input.nextInt();\r\n\r\n        while (n-- &gt; 0) {\r\n            singles = input.next();\r\n            if (singles.equals(&quot;CAPS&quot;)) {\r\n                isCAPSEnabled = !isCAPSEnabled; // reverse\r\n            } else {\r\n                result += isCAPSEnabled ? singles.toUpperCase() : singles.toLowerCase(); \r\n            }\r\n        }\r\n        System.out.print(result);\r\n    }\r\n}\r\n```","title":"Java changing upper or lower case by entering CAPS","body":"<p>This could be a simple solution:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String result = &quot;&quot;;\n        String singles = &quot;&quot;;\n        boolean isCAPSEnabled = false;\n\n        Scanner input = new Scanner(System.in);\n        int n = input.nextInt();\n\n        while (n-- &gt; 0) {\n            singles = input.next();\n            if (singles.equals(&quot;CAPS&quot;)) {\n                isCAPSEnabled = !isCAPSEnabled; // reverse\n            } else {\n                result += isCAPSEnabled ? singles.toUpperCase() : singles.toLowerCase(); \n            }\n        }\n        System.out.print(result);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27810500,"reputation":83,"user_id":21232984,"display_name":"Phantom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75483556,"answer_count":2,"score":0,"last_activity_date":1676635196,"creation_date":1676629002,"question_id":75482925,"body_markdown":"i want to write a program which at first it gets an integer number which is the number of strings of characters that are supposed to be entered including CAPS and i want that after each CAPS that was entered the rest of characters change in upper or lower case (the default is lower case at first) and finally the program outputs the final string. here is an example:\r\ninput:\r\n\r\n```\r\n8\r\ns\r\nf\r\nk\r\nCAPS\r\nh\r\nj\r\nCAPS\r\np\r\n```\r\n\r\noutput:\r\n\r\n```\r\nsfkHJp\r\n```\r\n \r\n\r\nhere is what i tried so far first i wanted to check out whether this algorithm will work out or not but it actually did not because it does not print the result at all !\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int CAPScounter = 0;\r\n        String result = &quot;&quot;;\r\n        String temp = &quot;&quot;;\r\n        String singles = &quot;&quot;;\r\n        boolean CAPSval = false;\r\n\r\n        if (CAPSval) {\r\n            singles = &quot;CAPS&quot;;\r\n        }\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        int n = input.nextInt();\r\n        // System.out.print(n);\r\n\r\n        while (true) {\r\n            if (result.length() == n - CAPScounter) {\r\n                break;\r\n            }\r\n            //temp += input.next();\r\n            singles = input.next();\r\n            if (CAPSval) {\r\n                CAPScounter += 1;\r\n                result += temp;\r\n                temp = &quot;&quot;;\r\n            }\r\n        }\r\n        System.out.print(result);\r\n    }\r\n}\r\n\r\n  \r\n```","title":"Java changing upper or lower case by entering CAPS","body":"<p>i want to write a program which at first it gets an integer number which is the number of strings of characters that are supposed to be entered including CAPS and i want that after each CAPS that was entered the rest of characters change in upper or lower case (the default is lower case at first) and finally the program outputs the final string. here is an example:\ninput:</p>\n<pre><code>8\ns\nf\nk\nCAPS\nh\nj\nCAPS\np\n</code></pre>\n<p>output:</p>\n<pre><code>sfkHJp\n</code></pre>\n<p>here is what i tried so far first i wanted to check out whether this algorithm will work out or not but it actually did not because it does not print the result at all !</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        int CAPScounter = 0;\n        String result = &quot;&quot;;\n        String temp = &quot;&quot;;\n        String singles = &quot;&quot;;\n        boolean CAPSval = false;\n\n        if (CAPSval) {\n            singles = &quot;CAPS&quot;;\n        }\n\n        Scanner input = new Scanner(System.in);\n        int n = input.nextInt();\n        // System.out.print(n);\n\n        while (true) {\n            if (result.length() == n - CAPScounter) {\n                break;\n            }\n            //temp += input.next();\n            singles = input.next();\n            if (CAPSval) {\n                CAPScounter += 1;\n                result += temp;\n                temp = &quot;&quot;;\n            }\n        }\n        System.out.print(result);\n    }\n}\n\n  \n</code></pre>\n"},{"tags":["java","ssh","kerberos","jsch","gssapi"],"answers":[{"comments":[{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1676633928,"post_id":75483633,"comment_id":133181272,"body_markdown":"OpenSSH has direct access to the Kerberos tickets that are created by windows interactive login (Physical/RDP). \nBut JSch/putty any other SSH tools doesn&#39;t have the access to those tickets.  We need to configure Krb5.init, ktab files need to manually generate the tickets and force the Java/Jsch use it.","body":"OpenSSH has direct access to the Kerberos tickets that are created by windows interactive login (Physical/RDP).  But JSch/putty any other SSH tools doesn&#39;t have the access to those tickets.  We need to configure Krb5.init, ktab files need to manually generate the tickets and force the Java/Jsch use it."},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1676634303,"post_id":75483633,"comment_id":133181378,"body_markdown":"We already implemented the waffle SSO login which uses negotiation to implement Kerberos/NTLM. if everything works fine, we should be able to utilize the Kerberos tickets that are created by Waffle SSO. However, If I check the available tickets using &quot;Klist&quot; cmd, I don&#39;t see any new tickets after the successful authentication. I suspect our application uses only NTML and it is reluctant to use Kerberos. Any suggestions or improvement would be grateful for us!","body":"We already implemented the waffle SSO login which uses negotiation to implement Kerberos/NTLM. if everything works fine, we should be able to utilize the Kerberos tickets that are created by Waffle SSO. However, If I check the available tickets using &quot;Klist&quot; cmd, I don&#39;t see any new tickets after the successful authentication. I suspect our application uses only NTML and it is reluctant to use Kerberos. Any suggestions or improvement would be grateful for us!"}],"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676632815,"creation_date":1676632815,"answer_id":75483633,"question_id":75483088,"body_markdown":"JSch has Kerberos authentication enabled by default (what is a [frequent cause of problems](https://stackoverflow.com/q/29669459/850848)).\r\n\r\nSo you should not need to do anything special to use it in JSch. Just try to login with username only.","title":"Does anyone implemented JSch using Kerberos/GASAPI-based authentication","body":"<p>JSch has Kerberos authentication enabled by default (what is a <a href=\"https://stackoverflow.com/q/29669459/850848\">frequent cause of problems</a>).</p>\n<p>So you should not need to do anything special to use it in JSch. Just try to login with username only.</p>\n"}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676634820,"creation_date":1676629888,"question_id":75483088,"body_markdown":"As we are in corporate environment and with basic configuration changes, SSH Kerberos working seamlessly in OpenSSH\r\n\r\n    SSH -K server@domain.com\r\n\r\nSince default Kerberos setup didn&#39;t work, we have installed MIT Kerberos and generated ktab files for the application uses. \r\n\r\nHowever we are not aware how to setup Kerberos settings and properties for JSch. Password based authentication is working fine. But not sure how to implement the **gssapi-with-mic**. Any pointers or suggestion would be grateful. \r\n\r\n\r\nhttps://stackoverflow.com/questions/65250299/jsch-connection-with-kerberos\r\n\r\n[![Kerberos Configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i0Wor.png\r\n\r\n&gt; How to create these files with valid the values and explanation would\r\n&gt; be grateful. \r\n&gt; \r\n&gt; JSch is here for more than a decade, I don&#39;t see any single workable\r\n&gt; sample with Kerberos/GSSAPI authentication online. If anyone\r\n&gt; successfully implemented, kindly let me know.\r\n\r\n","title":"Does anyone implemented JSch using Kerberos/GASAPI-based authentication","body":"<p>As we are in corporate environment and with basic configuration changes, SSH Kerberos working seamlessly in OpenSSH</p>\n<pre><code>SSH -K server@domain.com\n</code></pre>\n<p>Since default Kerberos setup didn't work, we have installed MIT Kerberos and generated ktab files for the application uses.</p>\n<p>However we are not aware how to setup Kerberos settings and properties for JSch. Password based authentication is working fine. But not sure how to implement the <strong>gssapi-with-mic</strong>. Any pointers or suggestion would be grateful.</p>\n<p><a href=\"https://stackoverflow.com/questions/65250299/jsch-connection-with-kerberos\">Jsch connection with Kerberos</a></p>\n<p><a href=\"https://i.stack.imgur.com/i0Wor.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i0Wor.png\" alt=\"Kerberos Configuration\" /></a></p>\n<blockquote>\n<p>How to create these files with valid the values and explanation would\nbe grateful.</p>\n<p>JSch is here for more than a decade, I don't see any single workable\nsample with Kerberos/GSSAPI authentication online. If anyone\nsuccessfully implemented, kindly let me know.</p>\n</blockquote>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676653342,"post_id":75483843,"comment_id":133187112,"body_markdown":"findById doesn&#39;t return json, it should return entity instances. So if you are querying for a &#39;B&#39; instance by a particular ID value, you should get a B instance back that only has properties aAttribute, bAttribute, and id. If you are not - what exactly are you getting back? What is in the database row for the ID you are querying, and what is the SQL issued?","body":"findById doesn&#39;t return json, it should return entity instances. So if you are querying for a &#39;B&#39; instance by a particular ID value, you should get a B instance back that only has properties aAttribute, bAttribute, and id. If you are not - what exactly are you getting back? What is in the database row for the ID you are querying, and what is the SQL issued?"},{"owner":{"account_id":9981674,"reputation":42,"user_id":7384417,"display_name":"amit kumar"},"score":0,"creation_date":1676966033,"post_id":75483843,"comment_id":133238046,"body_markdown":"It is returning an instance of B entity. But instead of bAttribute, it is returning cAttribute which is part of the C entity.  bAttribute and cAttribute represent jsonb column of the B and C entity respectively. SQL issued by hibernate is for the B entity and nothing is relatable for the C entity. In the DB, data is properly inserted for B and C, there is no mismatch.","body":"It is returning an instance of B entity. But instead of bAttribute, it is returning cAttribute which is part of the C entity.  bAttribute and cAttribute represent jsonb column of the B and C entity respectively. SQL issued by hibernate is for the B entity and nothing is relatable for the C entity. In the DB, data is properly inserted for B and C, there is no mismatch."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676992896,"post_id":75483843,"comment_id":133246559,"body_markdown":"Step it back - how can anything be returning &#39;cAttribute&#39; if it isn&#39;t in a physical B entity? Either you are getting B entity instance objects back that can only have B properties (and from its parent A), or you are getting C entity instances back. Are you maybe confusing JPA with JSON serialization (Jackson) inheritance issues? Show maybe what you are seeing exactly and include SQL queries and results as I don&#39;t see what you can be seeing.","body":"Step it back - how can anything be returning &#39;cAttribute&#39; if it isn&#39;t in a physical B entity? Either you are getting B entity instance objects back that can only have B properties (and from its parent A), or you are getting C entity instances back. Are you maybe confusing JPA with JSON serialization (Jackson) inheritance issues? Show maybe what you are seeing exactly and include SQL queries and results as I don&#39;t see what you can be seeing."}],"owner":{"account_id":9981674,"reputation":42,"user_id":7384417,"display_name":"amit kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676634008,"creation_date":1676634008,"question_id":75483843,"body_markdown":"Problem \r\nI have created three entities with the strategy InheritanceType.JOINED. \r\nParent entity looks like this:\r\n```\r\n\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class A&lt;E extends AJsonContent&gt;  extends AbstractDomainJsonEntity&lt;E, String&gt; {\r\n\r\n  @Id\r\n  @GeneratedValue(generator = &quot;uuid2&quot;)\r\n  @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n  @NotNull(groups = OnUpdate.class)\r\n  @Null(groups = OnCreate.class)\r\n  @Column(name = &quot;a_id&quot;, columnDefinition = &quot;VARCHAR(255)&quot;)\r\n  @JsonProperty(&quot;aId&quot;)\r\n  @Schema(description = &quot;This attribute indicates unique id of OriginationJsonApplication&quot;)\r\n  private String id;\r\n\r\n  private String aAttribute;\r\n}\r\n```\r\nFirst child is:\r\n```\r\n@Entity\r\npublic class B extends A&lt;BAttribute&gt; {\r\n\r\n  private String bAttribute;\r\n}\r\n```\r\nSecond child is:\r\n\r\n```\r\n@Entity\r\npublic class C extends A&lt;CAttribute&gt; {\r\n\r\n  private String cAttribute;\r\n}\r\n```\r\nHere parent has a column of jsonb type whose type is being passed by child entities using generics argument  A&lt;E extends AJsonContent&gt; and argument should of subtype  AJsonContent.\r\n\r\nNow, when bRepository.findById() is called, it returns an instance of B with jsonb column  CAttribute instead of BAttribute.\r\n\r\nWhen I removed C entity completely, then it is working fine. But when it B and C are both together it fetches the wrong jsonb column for B entity.\r\n","title":"Table with @Inheritance(strategy = InheritanceType.JOINED) strategy fetching wrong column of Jsonb type","body":"<p>Problem\nI have created three entities with the strategy InheritanceType.JOINED.\nParent entity looks like this:</p>\n<pre><code>\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class A&lt;E extends AJsonContent&gt;  extends AbstractDomainJsonEntity&lt;E, String&gt; {\n\n  @Id\n  @GeneratedValue(generator = &quot;uuid2&quot;)\n  @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @NotNull(groups = OnUpdate.class)\n  @Null(groups = OnCreate.class)\n  @Column(name = &quot;a_id&quot;, columnDefinition = &quot;VARCHAR(255)&quot;)\n  @JsonProperty(&quot;aId&quot;)\n  @Schema(description = &quot;This attribute indicates unique id of OriginationJsonApplication&quot;)\n  private String id;\n\n  private String aAttribute;\n}\n</code></pre>\n<p>First child is:</p>\n<pre><code>@Entity\npublic class B extends A&lt;BAttribute&gt; {\n\n  private String bAttribute;\n}\n</code></pre>\n<p>Second child is:</p>\n<pre><code>@Entity\npublic class C extends A&lt;CAttribute&gt; {\n\n  private String cAttribute;\n}\n</code></pre>\n<p>Here parent has a column of jsonb type whose type is being passed by child entities using generics argument  A and argument should of subtype  AJsonContent.</p>\n<p>Now, when bRepository.findById() is called, it returns an instance of B with jsonb column  CAttribute instead of BAttribute.</p>\n<p>When I removed C entity completely, then it is working fine. But when it B and C are both together it fetches the wrong jsonb column for B entity.</p>\n"},{"tags":["java","eclipse","structure","directory"],"comments":[{"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"score":0,"creation_date":1393691199,"post_id":22116913,"comment_id":33552621,"body_markdown":"Show us exactly what you&#39;re doing. Odds are that your &quot;normal path&quot; is incorrect.","body":"Show us exactly what you&#39;re doing. Odds are that your &quot;normal path&quot; is incorrect."},{"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"score":1,"creation_date":1393691215,"post_id":22116913,"comment_id":33552632,"body_markdown":"What do you mean by load the image? Use it from within your code or viewing it outside your program?","body":"What do you mean by load the image? Use it from within your code or viewing it outside your program?"},{"owner":{"account_id":1212966,"reputation":1590,"user_id":1181162,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1393691324,"post_id":22116913,"comment_id":33552679,"body_markdown":"And also refresh/clean your project, maybe Eclipse does not know your image is there.","body":"And also refresh/clean your project, maybe Eclipse does not know your image is there."}],"answers":[{"tags":[],"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1393692849,"creation_date":1393692849,"answer_id":22117293,"question_id":22116913,"body_markdown":"This is happening because your `Resources` folder is created as a `&quot;source folder&quot;`. So it is displaying subfolders as a package structure. Define your `Resources` folder as a normal folder using `&quot;New -&gt; Folder&quot;`","title":"Why does Eclipse not allow me to create sub folders correctly?","body":"<p>This is happening because your <code>Resources</code> folder is created as a <code>\"source folder\"</code>. So it is displaying subfolders as a package structure. Define your <code>Resources</code> folder as a normal folder using <code>\"New -&gt; Folder\"</code></p>\n"},{"tags":[],"owner":{"account_id":271636,"reputation":303,"user_id":3129992,"display_name":"XelaNimed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676633800,"creation_date":1676633800,"answer_id":75483802,"question_id":22116913,"body_markdown":"The solution proposed by [Sanjeev][1] (use the context menu item &quot;New&quot;-&gt;&quot;Folder&quot; in resource folder) does not work for me in Eclipse 2022-12 (4.26.0).\r\nI found that to display folders instead of packages, you need to set the Excluded filter as a pattern `**`. To do this, in the &quot;Java Build Path&quot; select the &quot;Excluded&quot; item in the properties of the resources folder, then click on the &quot;Edit&quot; button and in the window that appears add the &quot;**&quot; pattern to the &quot;Exclusion patterns&quot;.\r\n\r\n[![Add exclusion pattern to resource folder][2]][2]\r\n\r\n[![Resource subfolders as packages][3]][3] [![Resource subfolders as folder][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22117293/3129992\r\n  [2]: https://i.stack.imgur.com/dkTd5.png\r\n  [3]: https://i.stack.imgur.com/Ah7xA.png\r\n  [4]: https://i.stack.imgur.com/1CQ8a.png","title":"Why does Eclipse not allow me to create sub folders correctly?","body":"<p>The solution proposed by <a href=\"https://stackoverflow.com/a/22117293/3129992\">Sanjeev</a> (use the context menu item &quot;New&quot;-&gt;&quot;Folder&quot; in resource folder) does not work for me in Eclipse 2022-12 (4.26.0).\nI found that to display folders instead of packages, you need to set the Excluded filter as a pattern <code>**</code>. To do this, in the &quot;Java Build Path&quot; select the &quot;Excluded&quot; item in the properties of the resources folder, then click on the &quot;Edit&quot; button and in the window that appears add the &quot;**&quot; pattern to the &quot;Exclusion patterns&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/dkTd5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dkTd5.png\" alt=\"Add exclusion pattern to resource folder\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Ah7xA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ah7xA.png\" alt=\"Resource subfolders as packages\" /></a> <a href=\"https://i.stack.imgur.com/1CQ8a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1CQ8a.png\" alt=\"Resource subfolders as folder\" /></a></p>\n"}],"owner":{"account_id":4103993,"reputation":53,"user_id":3368646,"display_name":"user3368646"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4042,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22117293,"answer_count":2,"score":5,"last_activity_date":1676633800,"creation_date":1393690970,"question_id":22116913,"body_markdown":"When I&#39;m trying to create a folder structure in my Resources folder, Eclipse messes it up. \r\n\r\nFor example I have an image stored in `/Resources/Graphics/SomeFolder/example.gif` \r\n\r\nIn the `Package/Project Explorer` I have then an empty package `Graphics` and a different package called `Graphics.SomeFolder`. Now I can&#39;t load the image when I try to access is with the normal path.\r\n\r\n\r\n For clarification I created this folder structure `\\Resources\\graphics\\images\\subfolder\\image.gif` and this is what Eclipse makes of it:\r\n\r\n[![Screenshot][1]][1]  \n&lt;sub&gt;(source: [666kb.com](http://666kb.com/i/cm9j1lc3n76biybxp.gif))&lt;/sub&gt;  \n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fWTit.gif","title":"Why does Eclipse not allow me to create sub folders correctly?","body":"<p>When I'm trying to create a folder structure in my Resources folder, Eclipse messes it up. </p>\n\n<p>For example I have an image stored in <code>/Resources/Graphics/SomeFolder/example.gif</code> </p>\n\n<p>In the <code>Package/Project Explorer</code> I have then an empty package <code>Graphics</code> and a different package called <code>Graphics.SomeFolder</code>. Now I can't load the image when I try to access is with the normal path.</p>\n\n<p>For clarification I created this folder structure <code>\\Resources\\graphics\\images\\subfolder\\image.gif</code> and this is what Eclipse makes of it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fWTit.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWTit.gif\" alt=\"Screenshot\"></a><br>\n<sub>(source: <a href=\"http://666kb.com/i/cm9j1lc3n76biybxp.gif\" rel=\"nofollow noreferrer\">666kb.com</a>)</sub>  </p>\n"},{"tags":["java","csv","opencsv","csvreader"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1676633235,"post_id":75483373,"comment_id":133181070,"body_markdown":"Example [right here](https://opencsv.sourceforge.net/apidocs/com/opencsv/CSVParserBuilder.html)","body":"Example <a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/CSVParserBuilder.html\" rel=\"nofollow noreferrer\">right here</a>"}],"answers":[{"tags":[],"owner":{"account_id":9579337,"reputation":341,"user_id":7114363,"display_name":"Stratos K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676633722,"creation_date":1676633722,"answer_id":75483791,"question_id":75483373,"body_markdown":"With [g00se][1]&#39;s help, please see below the correct code:\r\n\r\n```\r\npublic class TestMain {\r\n    public static void parseTsv(String filePath) throws Exception {\r\n        try (CSVReader reader = new CSVReaderBuilder(new InputStreamReader(Objects.requireNonNull(TestMain.class.getResourceAsStream(filePath))))\r\n                .withCSVParser(new CSVParserBuilder().withSeparator(&#39;\\t&#39;).build())\r\n                .build()) {\r\n            String[] line;\r\n            while ((line = reader.readNext()) != null) {\r\n                System.out.println(line[0] + &quot; &quot; + line[1]);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            parseTsv(&quot;path-to-tsv-file&quot;);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/16376827/g00se","title":"Change delimiter in OpenCSV CSVReader","body":"<p>With <a href=\"https://stackoverflow.com/users/16376827/g00se\">g00se</a>'s help, please see below the correct code:</p>\n<pre><code>public class TestMain {\n    public static void parseTsv(String filePath) throws Exception {\n        try (CSVReader reader = new CSVReaderBuilder(new InputStreamReader(Objects.requireNonNull(TestMain.class.getResourceAsStream(filePath))))\n                .withCSVParser(new CSVParserBuilder().withSeparator('\\t').build())\n                .build()) {\n            String[] line;\n            while ((line = reader.readNext()) != null) {\n                System.out.println(line[0] + &quot; &quot; + line[1]);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            parseTsv(&quot;path-to-tsv-file&quot;);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9579337,"reputation":341,"user_id":7114363,"display_name":"Stratos K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676633722,"creation_date":1676631346,"question_id":75483373,"body_markdown":"I have the following piece of code which reads a CSV file.\r\n\r\n```\r\npublic class TestMain {\r\n    public static void parseTsv(String filePath) throws Exception {\r\n        try (CSVReader reader = new CSVReader(new InputStreamReader(Objects.requireNonNull(TestMain.class.getResourceAsStream(filePath))))) {\r\n            String[] line;\r\n            while ((line = reader.readNext()) != null) {\r\n                System.out.println(line[0] + &quot; &quot; + line[1]);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            parseTsv(&quot;path-to-tsv-file&quot;);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nAnd I want to modify the delimiter so that it can read tsv files (tab-separated). Any help would be greatly appreciated!","title":"Change delimiter in OpenCSV CSVReader","body":"<p>I have the following piece of code which reads a CSV file.</p>\n<pre><code>public class TestMain {\n    public static void parseTsv(String filePath) throws Exception {\n        try (CSVReader reader = new CSVReader(new InputStreamReader(Objects.requireNonNull(TestMain.class.getResourceAsStream(filePath))))) {\n            String[] line;\n            while ((line = reader.readNext()) != null) {\n                System.out.println(line[0] + &quot; &quot; + line[1]);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            parseTsv(&quot;path-to-tsv-file&quot;);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>And I want to modify the delimiter so that it can read tsv files (tab-separated). Any help would be greatly appreciated!</p>\n"},{"tags":["java","command-line","entity","dao"],"comments":[{"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"score":0,"creation_date":1305186653,"post_id":5972659,"comment_id":6894772,"body_markdown":"Since the task is so small and well-defined, of course there are little tools which do exactly that. And many huge, expensive tools have an option/program/wizard to do the same. But I&#39;ve found that coming up with 30-50 lines of Perl is in fact much faster than finding the one tool that does it exactly the way you want. Since your colleagues already can&#39;t agree on tools, maybe writing your own tiny, adaptable script is the way to go.","body":"Since the task is so small and well-defined, of course there are little tools which do exactly that. And many huge, expensive tools have an option/program/wizard to do the same. But I&#39;ve found that coming up with 30-50 lines of Perl is in fact much faster than finding the one tool that does it exactly the way you want. Since your colleagues already can&#39;t agree on tools, maybe writing your own tiny, adaptable script is the way to go."}],"answers":[{"comments":[{"owner":{"account_id":130402,"reputation":395,"user_id":329639,"accept_rate":50,"display_name":"N. Q. P"},"score":2,"creation_date":1305270684,"post_id":5972700,"comment_id":6914125,"body_markdown":"As I understand, setting hibernate.hbm2ddl.auto=create is to generate the database schema. I still didn&#39;t see the relationship between your solution and my problem. May you make it clearer?","body":"As I understand, setting hibernate.hbm2ddl.auto=create is to generate the database schema. I still didn&#39;t see the relationship between your solution and my problem. May you make it clearer?"},{"owner":{"account_id":1080401,"reputation":599,"user_id":1077548,"accept_rate":79,"display_name":"bodtx"},"score":1,"creation_date":1582731264,"post_id":5972700,"comment_id":106879960,"body_markdown":"the owner asked the opposite","body":"the owner asked the opposite"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1305167182,"creation_date":1305167182,"answer_id":5972700,"question_id":5972659,"body_markdown":"Try Hibernate&#39;s hbm2ddl:\r\n\r\nhttp://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html\r\n\r\nLook for the `hibernate.hbm2ddl.auto` parameter.  It has a create option.\r\n\r\n","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>Try Hibernate's hbm2ddl:</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html\" rel=\"nofollow\">http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html</a></p>\n\n<p>Look for the <code>hibernate.hbm2ddl.auto</code> parameter.  It has a create option.</p>\n"},{"comments":[{"owner":{"account_id":5277974,"reputation":655,"user_id":4214215,"display_name":"rlopez"},"score":0,"creation_date":1530031816,"post_id":27321252,"comment_id":89086872,"body_markdown":"A Command Line Interface is now available, see  https://github.com/telosys-tools-bricks/telosys-cli/wiki","body":"A Command Line Interface is now available, see  <a href=\"https://github.com/telosys-tools-bricks/telosys-cli/wiki\" rel=\"nofollow noreferrer\">github.com/telosys-tools-bricks/telosys-cli/wiki</a>"}],"tags":[],"owner":{"account_id":5277974,"reputation":655,"user_id":4214215,"display_name":"rlopez"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449795782,"creation_date":1417799672,"answer_id":27321252,"question_id":5972659,"body_markdown":"For **Eclipse users**, you should use an **Eclipse plugin** like &quot;Telosys Tools&quot; (http://marketplace.eclipse.org/content/telosys-tools )\r\n\r\nIt does what you want : connect to a database, retrieve the schema and \r\ngenerate any kind of source files like JPA entities\r\nSee tutorials : https://sites.google.com/site/telosystutorial/ \r\n\r\nJPA templates are here : https://github.com/telosys-tools/persistence-jpa-TT210-R2 ","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>For <strong>Eclipse users</strong>, you should use an <strong>Eclipse plugin</strong> like \"Telosys Tools\" (<a href=\"http://marketplace.eclipse.org/content/telosys-tools\" rel=\"nofollow\">http://marketplace.eclipse.org/content/telosys-tools</a> )</p>\n\n<p>It does what you want : connect to a database, retrieve the schema and \ngenerate any kind of source files like JPA entities\nSee tutorials : <a href=\"https://sites.google.com/site/telosystutorial/\" rel=\"nofollow\">https://sites.google.com/site/telosystutorial/</a> </p>\n\n<p>JPA templates are here : <a href=\"https://github.com/telosys-tools/persistence-jpa-TT210-R2\" rel=\"nofollow\">https://github.com/telosys-tools/persistence-jpa-TT210-R2</a> </p>\n"},{"tags":[],"owner":{"account_id":5162992,"reputation":253,"user_id":4134019,"display_name":"Yevgeny Krasik"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428822842,"creation_date":1428508988,"answer_id":29519703,"question_id":5972659,"body_markdown":"I found myself in a similar situation, and after searching around for quite a while, the only tool I found that supports this from the **command line** is [Apache OpenJPA][1].\r\n\r\nIt takes a bit of configuration to get it to work, but it seems to do the job.\r\nIt works like this:\r\n\r\n 1. Create a .xml file from your existing DB schema using the [Schema Tool][2].\r\n 2. Optionally edit the generated xml to your liking (I run this whole process through a Gradle task, so I used Groovy to delete some unwanted tables from the schema)\r\n 3. Generate JPA entity classes from the .xml using the Reverse Mapping Tool (don&#39;t have enough reputation to post more then 2 links, sorry). This tool can also take an optional customizer class that you can use to further customize the generated code.\r\n\r\nEven though the documentation for these tools states that it is enough to have a properties.xml file on your classpath to make them work, for me they only worked when I explicitly pointed them to a file with the &#39;-properties&#39; arg.\r\n\r\nAnd here are some code snippets to save anyone reading this some time. This was tested with OpenJPA 2.3.0:\r\n\r\n**Generate schema xml** (from a MSSQL DB in my case, hence the driver is on the classpath):\r\n\r\n    java -cp openjpa-all-2.3.0.jar;sqljdbc4.jar org.apache.openjpa.jdbc.schema.SchemaTool -properties openjpa.xml -action reflect -file schema.xml\r\n\r\n**Generate entities from xml**:\r\n\r\n    java -cp openjpa-all-2.3.0.jar org.apache.openjpa.jdbc.meta.ReverseMappingTool -properties openjpa.xml -metadata none -annotations true -nullableAsObject true -useGenericCollections true -pkg {your package} -directory {output directory} schema.xml\r\n\r\n**Sample openjpa.xml** (Again, for a MSSQL DB):\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;1.0&quot;&gt;\r\n      &lt;persistence-unit name=&quot;Gaya STG&quot;&gt;\r\n        &lt;properties&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionURL&quot; value=&quot;jdbc:sqlserver://{ip}&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionDriverName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionUserName&quot; value=&quot;{username}&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.ConnectionPassword&quot; value=&quot;{pass}&quot;/&gt;\r\n          &lt;property name=&quot;openjpa.Log&quot; value=&quot;DefaultLevel=WARN, Tool=INFO&quot;/&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n**Sample build.gradle file that contains all the above as tasks** (Again, for a MSSQL DB):\r\n\r\n    import java.util.regex.Pattern\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\n    dependencies {\r\n        compile &quot;org.apache.openjpa:openjpa-all:2.3.0&quot;\r\n        compile &quot;sqljdbc4:sqljdbc4:sqljdbc4&quot;\r\n    }\r\n\r\n    task cleanSchemaXml(type: Delete) {\r\n        delete file(&quot;schema.xml&quot;)\r\n    }\r\n\r\n    task generateSchemaXml(type: JavaExec, dependsOn: cleanSchemaXml) {\r\n        classpath = configurations.compile\r\n        main = &quot;org.apache.openjpa.jdbc.schema.SchemaTool&quot;\r\n        args &quot;-properties&quot;, getPropertiesFile(),\r\n             &quot;-action&quot;, &quot;reflect&quot;,\r\n             &quot;-file&quot;, &quot;schema.xml&quot;\r\n\r\n        doFirst {\r\n            println &quot;Generating schema.xml...&quot;\r\n        }\r\n\r\n        doLast {\r\n            println &quot;Done generating schema.xml.&quot;\r\n            println &quot;Updating schema.xml...&quot;\r\n            updateSchema()\r\n            println &quot;Done updating schema.xml.&quot;\r\n        }\r\n    }\r\n\r\n    task cleanEntities(type: Delete) {\r\n        delete fileTree(dir: &quot;{path/to/your/entities}&quot;)\r\n    }\r\n\r\n    task generateEntities(type: JavaExec, dependsOn: [cleanEntities, clean,  generateSchemaXml, jar]) {\r\n        classpath = files(configurations.compile, jar.archivePath)  // Add this module&#39;s jar to the executed classpath, so we can use the EntityCustomizer (which is assumed to be in this module).\r\n        main = &quot;org.apache.openjpa.jdbc.meta.ReverseMappingTool&quot;\r\n        args &quot;-metadata&quot;, &quot;none&quot;,\r\n             &quot;-annotations&quot;, &quot;true&quot;,\r\n             &quot;-nullableAsObject&quot;, &quot;true&quot;,\r\n             &quot;-useGenericCollections&quot;, &quot;true&quot;,\r\n             &quot;-properties&quot;, getPropertiesFile(),\r\n    //        &quot;-customizerClass&quot;, &quot;{path.to.your.EntityCustomizer}&quot;,\r\n             &quot;-directory&quot;, &quot;{path/to/your/entities}&quot;,\r\n             &quot;-pkg&quot;, &quot;{your.entity.package}&quot;,\r\n             &quot;schema.xml&quot;\r\n\r\n        doFirst {\r\n            println &quot;Generating entity classes from schema.xml...&quot;\r\n        }\r\n\r\n        doLast {\r\n            println &quot;Done generating entity classes.&quot;\r\n        }\r\n    }\r\n\r\n    private String getPropertiesFile() {\r\n        // File is read directly from the file-system, will not work from a Jar.\r\n        return file(&quot;src/main/resources/openjpa.xml&quot;).getAbsolutePath()\r\n    }\r\n\r\n    private void updateSchema() {\r\n        // Only this schema will be kept.\r\n        final def schemasToKeep = [&#39;dbo&#39;]\r\n\r\n        // These tables will be removed from the .xml\r\n        final def tablesToRemove = [\r\n            &#39;ReplicationMonitor&#39;, &#39;DDLEvents&#39;, &#39;AuditTrail&#39;, &#39;AuditTrailErrorLog&#39;, &#39;sysdiagrams&#39;, &#39;table_relations&#39;,\r\n            &#39;tasks_queue&#39;, &#39;tasks_queue_archive&#39;,\r\n            &#39;.*history&#39;    // Remove all tables ending with &#39;history&#39;.\r\n        ].collect { Pattern.compile(it) }\r\n\r\n        final File xmlFile = file(&#39;schema.xml&#39;)\r\n\r\n        // Read xml.\r\n        final def xml = new XmlParser().parse(xmlFile)\r\n\r\n        // Remove all unnecessary schemas.\r\n        filterSchemas(xml, schemasToKeep)\r\n\r\n        // Remove all unnecessary tables.\r\n        filterTables(xml, tablesToRemove)\r\n\r\n        // Save updated xml file.\r\n        new XmlNodePrinter(new PrintWriter(new FileWriter(xmlFile))).print(xml)\r\n    }\r\n\r\n    private void filterSchemas(Node xml, List&lt;String&gt; schemasToKeep) {\r\n        final List&lt;Node&gt; removedSchemas = []\r\n        xml.each { schema -&gt;\r\n            final String name = schema.@name\r\n            if (!schemasToKeep.contains(name)) {\r\n                println(&quot;Removing schema: $name&quot;)\r\n                removedSchemas += schema\r\n            }\r\n        }\r\n        removedSchemas.each { xml.remove(it) }\r\n    }\r\n\r\n    private void filterTables(Node xml, List&lt;Pattern&gt; tablesToRemove) {\r\n        xml.each { schema -&gt;\r\n            final List&lt;Node&gt; removedTables = []\r\n            schema.each { table -&gt;\r\n                final String name = table.@name\r\n                if (tablesToRemove.any { it.matcher(name).matches() }) {\r\n                    println(&quot;Removing table: $name&quot;)\r\n                    removedTables += table\r\n                }\r\n            }\r\n            removedTables.each { schema.remove(it) }\r\n        }\r\n    }\r\n\r\n  [1]: http://openjpa.apache.org/\r\n  [2]: http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_schema_schematool.html","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>I found myself in a similar situation, and after searching around for quite a while, the only tool I found that supports this from the <strong>command line</strong> is <a href=\"http://openjpa.apache.org/\" rel=\"noreferrer\">Apache OpenJPA</a>.</p>\n\n<p>It takes a bit of configuration to get it to work, but it seems to do the job.\nIt works like this:</p>\n\n<ol>\n<li>Create a .xml file from your existing DB schema using the <a href=\"http://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/ref_guide_schema_schematool.html\" rel=\"noreferrer\">Schema Tool</a>.</li>\n<li>Optionally edit the generated xml to your liking (I run this whole process through a Gradle task, so I used Groovy to delete some unwanted tables from the schema)</li>\n<li>Generate JPA entity classes from the .xml using the Reverse Mapping Tool (don't have enough reputation to post more then 2 links, sorry). This tool can also take an optional customizer class that you can use to further customize the generated code.</li>\n</ol>\n\n<p>Even though the documentation for these tools states that it is enough to have a properties.xml file on your classpath to make them work, for me they only worked when I explicitly pointed them to a file with the '-properties' arg.</p>\n\n<p>And here are some code snippets to save anyone reading this some time. This was tested with OpenJPA 2.3.0:</p>\n\n<p><strong>Generate schema xml</strong> (from a MSSQL DB in my case, hence the driver is on the classpath):</p>\n\n<pre><code>java -cp openjpa-all-2.3.0.jar;sqljdbc4.jar org.apache.openjpa.jdbc.schema.SchemaTool -properties openjpa.xml -action reflect -file schema.xml\n</code></pre>\n\n<p><strong>Generate entities from xml</strong>:</p>\n\n<pre><code>java -cp openjpa-all-2.3.0.jar org.apache.openjpa.jdbc.meta.ReverseMappingTool -properties openjpa.xml -metadata none -annotations true -nullableAsObject true -useGenericCollections true -pkg {your package} -directory {output directory} schema.xml\n</code></pre>\n\n<p><strong>Sample openjpa.xml</strong> (Again, for a MSSQL DB):</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"1.0\"&gt;\n  &lt;persistence-unit name=\"Gaya STG\"&gt;\n    &lt;properties&gt;\n      &lt;property name=\"openjpa.ConnectionURL\" value=\"jdbc:sqlserver://{ip}\"/&gt;\n      &lt;property name=\"openjpa.ConnectionDriverName\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\"/&gt;\n      &lt;property name=\"openjpa.ConnectionUserName\" value=\"{username}\"/&gt;\n      &lt;property name=\"openjpa.ConnectionPassword\" value=\"{pass}\"/&gt;\n      &lt;property name=\"openjpa.Log\" value=\"DefaultLevel=WARN, Tool=INFO\"/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p><strong>Sample build.gradle file that contains all the above as tasks</strong> (Again, for a MSSQL DB):</p>\n\n<pre><code>import java.util.regex.Pattern\n\napply plugin: 'java'\n\ndependencies {\n    compile \"org.apache.openjpa:openjpa-all:2.3.0\"\n    compile \"sqljdbc4:sqljdbc4:sqljdbc4\"\n}\n\ntask cleanSchemaXml(type: Delete) {\n    delete file(\"schema.xml\")\n}\n\ntask generateSchemaXml(type: JavaExec, dependsOn: cleanSchemaXml) {\n    classpath = configurations.compile\n    main = \"org.apache.openjpa.jdbc.schema.SchemaTool\"\n    args \"-properties\", getPropertiesFile(),\n         \"-action\", \"reflect\",\n         \"-file\", \"schema.xml\"\n\n    doFirst {\n        println \"Generating schema.xml...\"\n    }\n\n    doLast {\n        println \"Done generating schema.xml.\"\n        println \"Updating schema.xml...\"\n        updateSchema()\n        println \"Done updating schema.xml.\"\n    }\n}\n\ntask cleanEntities(type: Delete) {\n    delete fileTree(dir: \"{path/to/your/entities}\")\n}\n\ntask generateEntities(type: JavaExec, dependsOn: [cleanEntities, clean,  generateSchemaXml, jar]) {\n    classpath = files(configurations.compile, jar.archivePath)  // Add this module's jar to the executed classpath, so we can use the EntityCustomizer (which is assumed to be in this module).\n    main = \"org.apache.openjpa.jdbc.meta.ReverseMappingTool\"\n    args \"-metadata\", \"none\",\n         \"-annotations\", \"true\",\n         \"-nullableAsObject\", \"true\",\n         \"-useGenericCollections\", \"true\",\n         \"-properties\", getPropertiesFile(),\n//        \"-customizerClass\", \"{path.to.your.EntityCustomizer}\",\n         \"-directory\", \"{path/to/your/entities}\",\n         \"-pkg\", \"{your.entity.package}\",\n         \"schema.xml\"\n\n    doFirst {\n        println \"Generating entity classes from schema.xml...\"\n    }\n\n    doLast {\n        println \"Done generating entity classes.\"\n    }\n}\n\nprivate String getPropertiesFile() {\n    // File is read directly from the file-system, will not work from a Jar.\n    return file(\"src/main/resources/openjpa.xml\").getAbsolutePath()\n}\n\nprivate void updateSchema() {\n    // Only this schema will be kept.\n    final def schemasToKeep = ['dbo']\n\n    // These tables will be removed from the .xml\n    final def tablesToRemove = [\n        'ReplicationMonitor', 'DDLEvents', 'AuditTrail', 'AuditTrailErrorLog', 'sysdiagrams', 'table_relations',\n        'tasks_queue', 'tasks_queue_archive',\n        '.*history'    // Remove all tables ending with 'history'.\n    ].collect { Pattern.compile(it) }\n\n    final File xmlFile = file('schema.xml')\n\n    // Read xml.\n    final def xml = new XmlParser().parse(xmlFile)\n\n    // Remove all unnecessary schemas.\n    filterSchemas(xml, schemasToKeep)\n\n    // Remove all unnecessary tables.\n    filterTables(xml, tablesToRemove)\n\n    // Save updated xml file.\n    new XmlNodePrinter(new PrintWriter(new FileWriter(xmlFile))).print(xml)\n}\n\nprivate void filterSchemas(Node xml, List&lt;String&gt; schemasToKeep) {\n    final List&lt;Node&gt; removedSchemas = []\n    xml.each { schema -&gt;\n        final String name = schema.@name\n        if (!schemasToKeep.contains(name)) {\n            println(\"Removing schema: $name\")\n            removedSchemas += schema\n        }\n    }\n    removedSchemas.each { xml.remove(it) }\n}\n\nprivate void filterTables(Node xml, List&lt;Pattern&gt; tablesToRemove) {\n    xml.each { schema -&gt;\n        final List&lt;Node&gt; removedTables = []\n        schema.each { table -&gt;\n            final String name = table.@name\n            if (tablesToRemove.any { it.matcher(name).matches() }) {\n                println(\"Removing table: $name\")\n                removedTables += table\n            }\n        }\n        removedTables.each { schema.remove(it) }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676633590,"creation_date":1518622256,"answer_id":48790773,"question_id":5972659,"body_markdown":"You can use the CLI (Command Line Interface) version of the **Telosys Code Generator** \r\n\r\nSee https://www.telosys.org/cli.html  \r\n\r\nDocumentation :  https://doc.telosys.org/\r\n\r\nThis tool can be used in association with any kind of IDE \r\n","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>You can use the CLI (Command Line Interface) version of the <strong>Telosys Code Generator</strong></p>\n<p>See <a href=\"https://www.telosys.org/cli.html\" rel=\"nofollow noreferrer\">https://www.telosys.org/cli.html</a></p>\n<p>Documentation :  <a href=\"https://doc.telosys.org/\" rel=\"nofollow noreferrer\">https://doc.telosys.org/</a></p>\n<p>This tool can be used in association with any kind of IDE</p>\n"}],"owner":{"account_id":130402,"reputation":395,"user_id":329639,"accept_rate":50,"display_name":"N. Q. P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6681,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":4,"score":15,"last_activity_date":1676633590,"creation_date":1305166466,"question_id":5972659,"body_markdown":"I used to use Netbeans wizard (version 6.7.1) to generate entity classes from database. Now I want to look for an independent tool (script, command line tool...) that can do the same task, because some developers in my team use Eclipse instead of Netbeans, or Netbeans but of different version (ie 6.9.1 or 7.0...), and those IDE generate entity classes in different ways. \r\n\r\nUp to now I haven&#39;t found any independent tool like that. Maybe I have missed something. If you know one, please tell me. I appreciate that so much.\r\n\r\n","title":"Is there any command line tool that can generate Java entity classes from db (NOT Netbeans or Eclipse wizard)","body":"<p>I used to use Netbeans wizard (version 6.7.1) to generate entity classes from database. Now I want to look for an independent tool (script, command line tool...) that can do the same task, because some developers in my team use Eclipse instead of Netbeans, or Netbeans but of different version (ie 6.9.1 or 7.0...), and those IDE generate entity classes in different ways. </p>\n\n<p>Up to now I haven't found any independent tool like that. Maybe I have missed something. If you know one, please tell me. I appreciate that so much.</p>\n"},{"tags":["java","spring-boot","okta"],"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1676469333,"post_id":75459753,"comment_id":133142529,"body_markdown":"Do you mind to show the resulting request (without authorization header)? It might help to figure what&#39;s wrong with it. If you are doing that in Postman you should be able just get a cURL command for your request","body":"Do you mind to show the resulting request (without authorization header)? It might help to figure what&#39;s wrong with it. If you are doing that in Postman you should be able just get a cURL command for your request"},{"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"score":0,"creation_date":1676470144,"post_id":75459753,"comment_id":133142821,"body_markdown":"curl --location &#39;https://dev-61814681.okta.com/oauth2/default/v1/token&#39; \\\n--header &#39;accept: application/json&#39; \\\n--header &#39;cache-control: no-cache&#39; \\\n--header &#39;content-type: application/x-www-form-urlencoded&#39; \\\n--header &#39;Authorization: Basic MG9h[...]OQ==&#39; \\\n--header &#39;Cookie: DT=DI1tM8NGUbgTbO9pYl_O16rEA; JSESSIONID=C1CEE3CAB5B197C225A8928586850E9E; t=default&#39; \\\n--data-urlencode &#39;grant_type=client_credentials&#39; \\\n--data-urlencode &#39;scope=MyDefault&#39;","body":"curl --location &#39;<a href=\"https://dev-61814681.okta.com/oauth2/default/v1/token\" rel=\"nofollow noreferrer\">dev-61814681.okta.com/oauth2/default/v1/token</a>&#39; \\ --header &#39;accept: application/json&#39; \\ --header &#39;cache-control: no-cache&#39; \\ --header &#39;content-type: application/x-www-form-urlencoded&#39; \\ --header &#39;Authorization: Basic MG9h[...]OQ==&#39; \\ --header &#39;Cookie: DT=DI1tM8NGUbgTbO9pYl_O16rEA; JSESSIONID=C1CEE3CAB5B197C225A8928586850E9E; t=default&#39; \\ --data-urlencode &#39;grant_type=client_credentials&#39; \\ --data-urlencode &#39;scope=MyDefault&#39;"},{"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"score":0,"creation_date":1676470179,"post_id":75459753,"comment_id":133142833,"body_markdown":"&lt;html&gt;\n&lt;head&gt;&lt;title&gt;400 Bad Request&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;center&gt;&lt;h1&gt;400 Bad Request&lt;/h1&gt;&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;","body":"&lt;html&gt; &lt;head&gt;&lt;title&gt;400 Bad Request&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;center&gt;&lt;h1&gt;400 Bad Request&lt;/h1&gt;&lt;/center&gt; &lt;/body&gt; &lt;/html&gt;"}],"answers":[{"comments":[{"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"score":0,"creation_date":1676464253,"post_id":75459779,"comment_id":133140860,"body_markdown":"Fixed the typo but nothing changed. The MyDefault scope is defined with following parameters: UserConsent = No, BlockServices = No, DefaultScope = No, MetadataPublish = Yes.","body":"Fixed the typo but nothing changed. The MyDefault scope is defined with following parameters: UserConsent = No, BlockServices = No, DefaultScope = No, MetadataPublish = Yes."}],"tags":[],"owner":{"account_id":12926276,"reputation":742,"user_id":9346879,"display_name":"Kreetchy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676463964,"creation_date":1676463964,"answer_id":75459779,"question_id":75459753,"body_markdown":"It should be `grant-type` instead of what you wrote (grand-type).\r\n\r\nAlso, make sure you have defined the &quot;MyDefault&quot; scope in your Okta API app and that it has the necessary permissions for your client to access the endpoints it requires.\r\n\r\nHopefully the typo fixes the issue in this case.","title":"Not able to get an access token for my okta api service via postman","body":"<p>It should be <code>grant-type</code> instead of what you wrote (grand-type).</p>\n<p>Also, make sure you have defined the &quot;MyDefault&quot; scope in your Okta API app and that it has the necessary permissions for your client to access the endpoints it requires.</p>\n<p>Hopefully the typo fixes the issue in this case.</p>\n"},{"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1676474112,"post_id":75461605,"comment_id":133144318,"body_markdown":"You see the difference now in your body?","body":"You see the difference now in your body?"},{"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"score":0,"creation_date":1676475405,"post_id":75461605,"comment_id":133144817,"body_markdown":"Yes thank you. You pointed me in the right direction.","body":"Yes thank you. You pointed me in the right direction."},{"owner":{"account_id":12926276,"reputation":742,"user_id":9346879,"display_name":"Kreetchy"},"score":0,"creation_date":1676634527,"post_id":75461605,"comment_id":133181440,"body_markdown":"Point to note, you are using &quot;customScope&quot; here, yet when asked, you said &quot;MyDefault&quot; was your current configuration. That was also why it was not giving any useful errors at all previously.","body":"Point to note, you are using &quot;customScope&quot; here, yet when asked, you said &quot;MyDefault&quot; was your current configuration. That was also why it was not giving any useful errors at all previously."}],"tags":[],"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676472891,"creation_date":1676472891,"answer_id":75461605,"question_id":75459753,"body_markdown":"I was able to solve my problem by doing the following:\r\n\r\nI took the cURL pictured at &lt;https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter that I inserted my Okta domain, added my authorization (client id and client secret written in the same line seperated by &#39;:&#39; and encoded as base64) and updated the scope from customScope to my own custom scope.\r\n\r\nI imported all of that into postman by pressing the import button and inserting the raw text.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t8int.png\r\n  [2]: https://i.stack.imgur.com/xriPa.png\r\n\r\nNow everithing works fine.","title":"Not able to get an access token for my okta api service via postman","body":"<p>I was able to solve my problem by doing the following:</p>\n<p>I took the cURL pictured at <a href=\"https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token\" rel=\"nofollow noreferrer\">https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token</a></p>\n<p><a href=\"https://i.stack.imgur.com/xriPa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xriPa.png\" alt=\"enter image description here\" /></a></p>\n<p>After that I inserted my Okta domain, added my authorization (client id and client secret written in the same line seperated by ':' and encoded as base64) and updated the scope from customScope to my own custom scope.</p>\n<p>I imported all of that into postman by pressing the import button and inserting the raw text.</p>\n<p><a href=\"https://i.stack.imgur.com/t8int.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t8int.png\" alt=\"enter image description here\" /></a></p>\n<p>Now everithing works fine.</p>\n"}],"owner":{"account_id":27792788,"reputation":11,"user_id":21218914,"display_name":"Leon Winter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75461605,"answer_count":2,"score":1,"last_activity_date":1676633575,"creation_date":1676463796,"question_id":75459753,"body_markdown":"I&#39;m writing a spring boot backend in java which endpoints are secured by okta.&lt;br/&gt;\r\nThe application uses the okta api service app integration since only the frontend and never a user is retreiving data from it.\r\n\r\nTo get a valid access token from the okta api I followed these steps: &lt;https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token&gt;\r\n\r\nSadly all my attempts result in an error.\r\n\r\nMy postman configuration:\r\n\r\nOkta api endpoint:&lt;br/&gt;\r\n&lt;https://dev-61814681.okta.com/oauth2/default/v1/token&gt;\r\n\r\nAuthentication method:&lt;br/&gt;\r\nBasic auth with client id as username and client secret as password&lt;br/&gt;\r\n\r\nHeaders:&lt;br/&gt;\r\n```\r\naccept = application/json\r\ncache-control = no-cache\r\ncontent-type = application/x-www-form-urlencoded\r\n```\r\n\r\nBody:&lt;br/&gt;\r\n```\r\ngrant-type = client_credentials\r\nscope = MyDefault\r\n```\r\n\r\nThe response:\r\n400 bad request\r\n\r\nIt would be nice if someone could push me in the right direction with this one.","title":"Not able to get an access token for my okta api service via postman","body":"<p>I'm writing a spring boot backend in java which endpoints are secured by okta.<br/>\nThe application uses the okta api service app integration since only the frontend and never a user is retreiving data from it.</p>\n<p>To get a valid access token from the okta api I followed these steps: <a href=\"https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token\" rel=\"nofollow noreferrer\">https://developer.okta.com/docs/guides/implement-grant-type/clientcreds/main/#request-for-token</a></p>\n<p>Sadly all my attempts result in an error.</p>\n<p>My postman configuration:</p>\n<p>Okta api endpoint:<br/>\n<a href=\"https://dev-61814681.okta.com/oauth2/default/v1/token\" rel=\"nofollow noreferrer\">https://dev-61814681.okta.com/oauth2/default/v1/token</a></p>\n<p>Authentication method:<br/>\nBasic auth with client id as username and client secret as password<br/></p>\n<p>Headers:<br/></p>\n<pre><code>accept = application/json\ncache-control = no-cache\ncontent-type = application/x-www-form-urlencoded\n</code></pre>\n<p>Body:<br/></p>\n<pre><code>grant-type = client_credentials\nscope = MyDefault\n</code></pre>\n<p>The response:\n400 bad request</p>\n<p>It would be nice if someone could push me in the right direction with this one.</p>\n"},{"tags":["java","android","android-relativelayout","android-glide"],"owner":{"account_id":7099472,"reputation":361,"user_id":5431673,"accept_rate":40,"display_name":"God Usopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676633528,"creation_date":1676611726,"question_id":75480563,"body_markdown":"I have been trying to use Glide to apply a blur transformation to the background image of a RelativeLayout. The Request options and transition don&#39;t seem to apply properly to this SimpleTarget. I know this is now deprecated but they still don&#39;t apply to a CustomTarget or Target. Do I need to specify these somewhere else? I have found threads with other people who have had this problem but an answer isn&#39;t provided.\r\n```\r\nRequestOptions ro;\r\n        if(settings.getBoolean(&quot;bgOptions&quot;, true))\r\n            ro = requestOptionsTransparent;\r\n        else\r\n            ro = requestOptionsBlur;\r\n        Glide.with(getApplicationContext()).load(getResources().getDrawable(R.drawable.splash)).transition(withCrossFade(2000)).apply(ro).override(screenWidth, screenHeight).diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(true).centerCrop().into(new SimpleTarget&lt;Drawable&gt;() {\r\n            @Override\r\n            public void onResourceReady(Drawable resource, Transition&lt;? super Drawable&gt; transition) {\r\n                rL.setBackground(resource);\r\n            }\r\n        });\r\n```\r\n\r\n```\r\nRequestOptions requestOptionsTransparent = new RequestOptions();\r\nRequestOptions requestOptionsBlur = new RequestOptions().transform(new BlurTransformation(22, 3));\r\n```\r\n\r\nInstead, this always shows the same image that it would if &quot;bgOptions&quot; is transparent. The image isn&#39;t blurred if &quot;bgOptions&quot; is false. ","title":"Does Glide have issues with applying transitions or transformations on a SimpleTarget, CustomTarget, or Target?","body":"<p>I have been trying to use Glide to apply a blur transformation to the background image of a RelativeLayout. The Request options and transition don't seem to apply properly to this SimpleTarget. I know this is now deprecated but they still don't apply to a CustomTarget or Target. Do I need to specify these somewhere else? I have found threads with other people who have had this problem but an answer isn't provided.</p>\n<pre><code>RequestOptions ro;\n        if(settings.getBoolean(&quot;bgOptions&quot;, true))\n            ro = requestOptionsTransparent;\n        else\n            ro = requestOptionsBlur;\n        Glide.with(getApplicationContext()).load(getResources().getDrawable(R.drawable.splash)).transition(withCrossFade(2000)).apply(ro).override(screenWidth, screenHeight).diskCacheStrategy(DiskCacheStrategy.NONE).skipMemoryCache(true).centerCrop().into(new SimpleTarget&lt;Drawable&gt;() {\n            @Override\n            public void onResourceReady(Drawable resource, Transition&lt;? super Drawable&gt; transition) {\n                rL.setBackground(resource);\n            }\n        });\n</code></pre>\n<pre><code>RequestOptions requestOptionsTransparent = new RequestOptions();\nRequestOptions requestOptionsBlur = new RequestOptions().transform(new BlurTransformation(22, 3));\n</code></pre>\n<p>Instead, this always shows the same image that it would if &quot;bgOptions&quot; is transparent. The image isn't blurred if &quot;bgOptions&quot; is false.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":1,"creation_date":1676542735,"post_id":75470694,"comment_id":133159413,"body_markdown":"Could you add the stacktrace from the error?","body":"Could you add the stacktrace from the error?"},{"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"score":0,"creation_date":1676543503,"post_id":75470694,"comment_id":133159696,"body_markdown":"@Sebastian https://filetransfer.io/data-package/iDvzEIpi#link here is the stacktrace","body":"@Sebastian <a href=\"https://filetransfer.io/data-package/iDvzEIpi#link\" rel=\"nofollow noreferrer\">filetransfer.io/data-package/iDvzEIpi#link</a> here is the stacktrace"},{"owner":{"account_id":3004867,"reputation":715,"user_id":2549581,"accept_rate":0,"display_name":"vs_lala"},"score":1,"creation_date":1676551870,"post_id":75470694,"comment_id":133162111,"body_markdown":"UserList is immutable under `UserServiceImpl`. Create list using `new ArrayList&lt;&gt;();`","body":"UserList is immutable under <code>UserServiceImpl</code>. Create list using <code>new ArrayList&lt;&gt;();</code>"}],"answers":[{"tags":[],"owner":{"account_id":6715571,"reputation":4013,"user_id":5177506,"display_name":"hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676546312,"creation_date":1676546312,"answer_id":75471504,"question_id":75470694,"body_markdown":"Stack trace has all the information you are looking for. `UserServiceImple.addUser` tries to add an object to the `userList` . but `userList` is an immutable list. so it throws exception. code flows to &quot;catch&quot; block and it returns 500 with newly created object.","title":"Internal Server Error on Post Request Spring Boot [Java]","body":"<p>Stack trace has all the information you are looking for. <code>UserServiceImple.addUser</code> tries to add an object to the <code>userList</code> . but <code>userList</code> is an immutable list. so it throws exception. code flows to &quot;catch&quot; block and it returns 500 with newly created object.</p>\n"},{"tags":[],"owner":{"account_id":18135565,"reputation":21,"user_id":13190150,"display_name":"Ahmed Eldeeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676547044,"creation_date":1676547044,"answer_id":75471641,"question_id":75470694,"body_markdown":"In my opinion That&#39;s happens because \r\nwhen U use List.of it equals to \r\n**Collections.unmodifiableList** so it will throw an exception as Its Immutable.","title":"Internal Server Error on Post Request Spring Boot [Java]","body":"<p>In my opinion That's happens because\nwhen U use List.of it equals to\n<strong>Collections.unmodifiableList</strong> so it will throw an exception as Its Immutable.</p>\n"}],"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75471504,"answer_count":2,"score":0,"last_activity_date":1676633243,"creation_date":1676542196,"question_id":75470694,"body_markdown":"I am trying to send a post request to add an User object to the list of users (no database).\r\ngetUser, getAllUsers Api endpoints are working fine and giving desired results.\r\n\r\nWhen I send a Post request with User, it is always giving 500 Internal Server Error.\r\n\r\nI have also printed out the User and data is fine.\r\n\r\nBelow is my code - \r\n\r\nUser Entity (User.java) -\r\n\r\n    public class User {\r\n    \r\n    \t\r\n    \tprivate Integer userId;\r\n    \t\r\n    \tprivate String name;\r\n    \tprivate String email;\r\n    \t\r\n    \tprivate Account account;\r\n\r\nGetters and Setters along with constructors are also there.\r\n\r\nMy User Service and its implementation - \r\n\r\nUserService.java - \r\n\r\n    @Service\r\n    public interface UserService {\r\n    \tpublic User getUser(Integer userId);\r\n    \tpublic List&lt;User&gt; getAllUsers();\r\n    \t&lt;T&gt; ResponseEntity&lt;T&gt; deleteUser(Integer userId);\r\n    \t&lt;T&gt; ResponseEntity&lt;User&gt; addUser(User user);\r\n    \t\r\n    }\r\n\r\nUserServiceImpl.java\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService{\r\n    \tList&lt;User&gt; userList = List.of(\r\n    \t\t\tnew User(1311, &quot;Vaibhav Shrivastava&quot;, &quot;innomightmail@gmail.com&quot;),\r\n    \t\t\tnew User(1312, &quot;Varun Shrivastava&quot;, &quot;varun@gmail.com&quot;),\r\n    \t\t\tnew User(1313, &quot;Rajesh Shrivastava&quot;, &quot;rajesh@gmail.com&quot;)\r\n    \t\t);\r\n    \t\r\n    \t@Override\r\n    \tpublic User getUser(Integer id) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.out.println(this.userList.stream().filter(user -&gt; user.getUserId().equals(id)).findAny().orElse(null));\r\n    \t\treturn this.userList.stream().filter(user -&gt; user.getUserId().equals(id)).findAny().orElse(null);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;User&gt; getAllUsers() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn userList;\r\n    \t}\r\n    \r\n    \t\r\n    \t@Override\r\n    \tpublic &lt;T&gt; ResponseEntity&lt;User&gt; addUser(User user) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tuserList.add(user);\r\n    \t\treturn new ResponseEntity&lt;User&gt;((User)user, HttpStatus.OK);\r\n    \t\t\r\n    \t}\r\n\r\nController (UserController.java) -\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserController {\r\n    \t\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t\r\n\t@Autowired\r\n\tprivate RestTemplate restTemplate;\r\n\t\r\n\t@GetMapping(&quot;/{userId}&quot;)\r\n\tpublic User getUser(@PathVariable(&quot;userId&quot;) Integer userId) {\r\n\t\tUser user = this.userService.getUser(userId);\r\n\t\tAccount account = this.restTemplate.getForObject(&quot;http://account-service/account/user/&quot; + user.getUserId(), Account.class);\r\n\t\t\r\n\t\tuser.setAccount(account);\r\n\t\t\r\n\t\treturn user;\r\n\t\t\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/all-users&quot;)\r\n\tpublic List&lt;User&gt; getAllUsers(){\r\n\t\treturn this.userService.getAllUsers();\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/add-user&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; addUser(@RequestBody User user) {\r\n\t\ttry {\r\n\t\t\t  User newUser = new User(user.getUserId(), user.getName(), user.getEmail());\r\n\t\t      this.userService.addUser(newUser);\r\n\t\t      return new ResponseEntity&lt;&gt;(user, HttpStatus.CREATED);\r\n\t\t    } catch (Exception e) {\r\n\t\t      User newUser = new User(user.getUserId(), user.getName(), user.getEmail());\r\n\t\t      return new ResponseEntity&lt;&gt;(newUser, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t    }\r\n\t\t\r\n\t}\r\n\r\n**getUser and getAllUsers are working fine (dont get confused by account in getUser that is my another microservice)**\r\n\r\nWhen I am sending Post request using postman -\r\n\r\n    {\r\n        &quot;userId&quot;: 1314,\r\n        &quot;name&quot;: &quot;James&quot;,\r\n        &quot;email&quot;: &quot;james@gmail.com&quot;\r\n    }\r\n\r\n\r\nI am getting response - \r\n500 Internal server error and User object which I wanted to check so I printed it out - \r\n\r\n    {\r\n        &quot;userId&quot;: 1314,\r\n        &quot;name&quot;: &quot;Kavita Shrivastava&quot;,\r\n        &quot;email&quot;: &quot;kavita@gmail.com&quot;,\r\n        &quot;account&quot;: null\r\n    }\r\n\r\nI do not know why I am getting Internal server error. \r\n\r\n**The request should add the new User to the list in UserServiceImpl.**\r\n\r\n","title":"Internal Server Error on Post Request Spring Boot [Java]","body":"<p>I am trying to send a post request to add an User object to the list of users (no database).\ngetUser, getAllUsers Api endpoints are working fine and giving desired results.</p>\n<p>When I send a Post request with User, it is always giving 500 Internal Server Error.</p>\n<p>I have also printed out the User and data is fine.</p>\n<p>Below is my code -</p>\n<p>User Entity (User.java) -</p>\n<pre><code>public class User {\n\n    \n    private Integer userId;\n    \n    private String name;\n    private String email;\n    \n    private Account account;\n</code></pre>\n<p>Getters and Setters along with constructors are also there.</p>\n<p>My User Service and its implementation -</p>\n<p>UserService.java -</p>\n<pre><code>@Service\npublic interface UserService {\n    public User getUser(Integer userId);\n    public List&lt;User&gt; getAllUsers();\n    &lt;T&gt; ResponseEntity&lt;T&gt; deleteUser(Integer userId);\n    &lt;T&gt; ResponseEntity&lt;User&gt; addUser(User user);\n    \n}\n</code></pre>\n<p>UserServiceImpl.java</p>\n<pre><code>@Service\npublic class UserServiceImpl implements UserService{\n    List&lt;User&gt; userList = List.of(\n            new User(1311, &quot;Vaibhav Shrivastava&quot;, &quot;innomightmail@gmail.com&quot;),\n            new User(1312, &quot;Varun Shrivastava&quot;, &quot;varun@gmail.com&quot;),\n            new User(1313, &quot;Rajesh Shrivastava&quot;, &quot;rajesh@gmail.com&quot;)\n        );\n    \n    @Override\n    public User getUser(Integer id) {\n        // TODO Auto-generated method stub\n        System.out.println(this.userList.stream().filter(user -&gt; user.getUserId().equals(id)).findAny().orElse(null));\n        return this.userList.stream().filter(user -&gt; user.getUserId().equals(id)).findAny().orElse(null);\n    }\n\n    @Override\n    public List&lt;User&gt; getAllUsers() {\n        // TODO Auto-generated method stub\n        return userList;\n    }\n\n    \n    @Override\n    public &lt;T&gt; ResponseEntity&lt;User&gt; addUser(User user) {\n        // TODO Auto-generated method stub\n        \n        userList.add(user);\n        return new ResponseEntity&lt;User&gt;((User)user, HttpStatus.OK);\n        \n    }\n</code></pre>\n<p>Controller (UserController.java) -</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n    \n@Autowired\nprivate UserService userService;\n\n@Autowired\nprivate RestTemplate restTemplate;\n\n@GetMapping(&quot;/{userId}&quot;)\npublic User getUser(@PathVariable(&quot;userId&quot;) Integer userId) {\n    User user = this.userService.getUser(userId);\n    Account account = this.restTemplate.getForObject(&quot;http://account-service/account/user/&quot; + user.getUserId(), Account.class);\n    \n    user.setAccount(account);\n    \n    return user;\n    \n}\n\n@GetMapping(&quot;/all-users&quot;)\npublic List&lt;User&gt; getAllUsers(){\n    return this.userService.getAllUsers();\n}\n\n@PostMapping(&quot;/add-user&quot;)\npublic ResponseEntity&lt;Object&gt; addUser(@RequestBody User user) {\n    try {\n          User newUser = new User(user.getUserId(), user.getName(), user.getEmail());\n          this.userService.addUser(newUser);\n          return new ResponseEntity&lt;&gt;(user, HttpStatus.CREATED);\n        } catch (Exception e) {\n          User newUser = new User(user.getUserId(), user.getName(), user.getEmail());\n          return new ResponseEntity&lt;&gt;(newUser, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    \n}\n</code></pre>\n<p><strong>getUser and getAllUsers are working fine (dont get confused by account in getUser that is my another microservice)</strong></p>\n<p>When I am sending Post request using postman -</p>\n<pre><code>{\n    &quot;userId&quot;: 1314,\n    &quot;name&quot;: &quot;James&quot;,\n    &quot;email&quot;: &quot;james@gmail.com&quot;\n}\n</code></pre>\n<p>I am getting response -\n500 Internal server error and User object which I wanted to check so I printed it out -</p>\n<pre><code>{\n    &quot;userId&quot;: 1314,\n    &quot;name&quot;: &quot;Kavita Shrivastava&quot;,\n    &quot;email&quot;: &quot;kavita@gmail.com&quot;,\n    &quot;account&quot;: null\n}\n</code></pre>\n<p>I do not know why I am getting Internal server error.</p>\n<p><strong>The request should add the new User to the list in UserServiceImpl.</strong></p>\n"},{"tags":["java","xml","hibernate","orm","jaxb"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676632990,"creation_date":1676632990,"answer_id":75483663,"question_id":75482435,"body_markdown":"JPA has no generator, there is no way of doing this.\r\n\r\nIt is never a good idea to mix data transfer objects (DTOs) together.\r\n\r\nYour SOAP XML generated classes should only be used for the external API (SOAP DTOs).\r\n\r\nYour application model should manage the persistence separately (JPA DTOs).\r\n\r\nDoing it this way allows you to later change the API and the application model independently of each other.\r\n\r\nIt also allows you to easily add another API, e.g. REST and use REST DTOs for that (typically JSON).","title":"Create Java stub from Hibernate ORM file","body":"<p>JPA has no generator, there is no way of doing this.</p>\n<p>It is never a good idea to mix data transfer objects (DTOs) together.</p>\n<p>Your SOAP XML generated classes should only be used for the external API (SOAP DTOs).</p>\n<p>Your application model should manage the persistence separately (JPA DTOs).</p>\n<p>Doing it this way allows you to later change the API and the application model independently of each other.</p>\n<p>It also allows you to easily add another API, e.g. REST and use REST DTOs for that (typically JSON).</p>\n"}],"owner":{"account_id":27810263,"reputation":1,"user_id":21232790,"display_name":"Aditya Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676632990,"creation_date":1676626339,"question_id":75482435,"body_markdown":"Is there any jar which which will help me to create Java files from an existing hibernate orm-xml file?\r\nLike we have an avro utility to convert (avsc) to .java files.\r\nWe have orm files and want to move toward Entity classes with annotations rather than using the orm files.\r\n\r\nI tried converting xml- xsd and then using jaxb over it but failed.","title":"Create Java stub from Hibernate ORM file","body":"<p>Is there any jar which which will help me to create Java files from an existing hibernate orm-xml file?\nLike we have an avro utility to convert (avsc) to .java files.\nWe have orm files and want to move toward Entity classes with annotations rather than using the orm files.</p>\n<p>I tried converting xml- xsd and then using jaxb over it but failed.</p>\n"},{"tags":["java","git","gradle","groovy","grgit"],"answers":[{"tags":[],"owner":{"account_id":6414270,"reputation":495,"user_id":6923507,"accept_rate":0,"display_name":"Adnan Abdul Khaliq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676632971,"creation_date":1676632971,"answer_id":75483659,"question_id":75372342,"body_markdown":"Ok i have achieved this by:\r\n\r\n    grgit.push(refsOrSpecs: [&quot;refs/heads/master&quot;: &quot;refs/heads/master&quot; ],tags:true) \r\n\r\ndoes the trick push to remote master branch only.","title":"Gradle Grgit : push to a specific remote branch","body":"<p>Ok i have achieved this by:</p>\n<pre><code>grgit.push(refsOrSpecs: [&quot;refs/heads/master&quot;: &quot;refs/heads/master&quot; ],tags:true) \n</code></pre>\n<p>does the trick push to remote master branch only.</p>\n"}],"owner":{"account_id":6414270,"reputation":495,"user_id":6923507,"accept_rate":0,"display_name":"Adnan Abdul Khaliq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75483659,"answer_count":1,"score":0,"last_activity_date":1676632971,"creation_date":1675767172,"question_id":75372342,"body_markdown":"I am trying to push the local changes on the master branch to the remote master branch using this library for gradle https://ajoberstar.org/grgit/main/grgit-push.html:\r\n\r\n    grgit.push(remote:&quot;master&quot;,tag:true)\r\n\r\nIt complains and i get this exception `org.eclipse.jgit.errors.NoRemoteRepositoryException master not found` how is that possible as master branch does exist at remote.\r\n\r\nI even tried the following:\r\n\r\n    grgit.push(remote:&quot;refs/heads/master&quot;,tags:true)\r\n    grgit.push(remote:&quot;refs/remotes/origin/master&quot;,tags:true)\r\n\r\nwith no luck and same exception occurred as above.\r\n\r\nBut when i try with:\r\n\r\n    grgit.push(branch:all,tags:true)\r\n\r\nthat works but it pushes to all the branches at remote but that what i don&#39;t want. My requirement is to push to the specific branch. Like just master branch only. \r\n","title":"Gradle Grgit : push to a specific remote branch","body":"<p>I am trying to push the local changes on the master branch to the remote master branch using this library for gradle <a href=\"https://ajoberstar.org/grgit/main/grgit-push.html\" rel=\"nofollow noreferrer\">https://ajoberstar.org/grgit/main/grgit-push.html</a>:</p>\n<pre><code>grgit.push(remote:&quot;master&quot;,tag:true)\n</code></pre>\n<p>It complains and i get this exception <code>org.eclipse.jgit.errors.NoRemoteRepositoryException master not found</code> how is that possible as master branch does exist at remote.</p>\n<p>I even tried the following:</p>\n<pre><code>grgit.push(remote:&quot;refs/heads/master&quot;,tags:true)\ngrgit.push(remote:&quot;refs/remotes/origin/master&quot;,tags:true)\n</code></pre>\n<p>with no luck and same exception occurred as above.</p>\n<p>But when i try with:</p>\n<pre><code>grgit.push(branch:all,tags:true)\n</code></pre>\n<p>that works but it pushes to all the branches at remote but that what i don't want. My requirement is to push to the specific branch. Like just master branch only.</p>\n"},{"tags":["java","buffer","netty","handler","decoding"],"answers":[{"tags":[],"owner":{"account_id":484415,"reputation":63,"user_id":900073,"display_name":"Junyong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671006471,"creation_date":1671006471,"answer_id":74795407,"question_id":74689384,"body_markdown":"The usual way to serialize an array is to first record the length of the array, and then serialize the elements one by one\r\nI&#39;m not sure if you meant to ask this, hope this helps\r\n\r\n    package com.ljy.netty.codec;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * Using big-endian byte ordering, reference to the Bits class of the java library\r\n     */\r\n    public class IntArrayCodecExample {\r\n    \r\n        public static byte[] encode(int[] ia) {\r\n            byte[] bytes = new byte[ia.length * 4 + 4];\r\n            writeInt(bytes, 0, ia.length);\r\n            for (int i = 0; i &lt; ia.length; i++) {\r\n                writeInt(bytes, (i + 1) * 4, ia[i]);\r\n            }\r\n    \r\n            return bytes;\r\n        }\r\n    \r\n        public static int[] decode(byte[] bytes) {\r\n            int length = readInt(bytes, 0);\r\n            int[] ia = new int[length];\r\n            int offset = 4;\r\n            while(offset &lt; bytes.length) {\r\n                ia[offset / 4 - 1] = readInt(bytes, offset);\r\n                offset += 4;\r\n            }\r\n    \r\n            return ia;\r\n        }\r\n    \r\n    \r\n        private static void writeInt(byte[] bytes, int offset, int val) {\r\n            bytes[offset + 3] = (byte) (val       );\r\n            bytes[offset + 2] = (byte) (val &gt;&gt;&gt;  8);\r\n            bytes[offset + 1] = (byte) (val &gt;&gt;&gt; 16);\r\n            bytes[offset    ] = (byte) (val &gt;&gt;&gt; 24);\r\n        }\r\n    \r\n        private static int readInt(byte[] b, int off) {\r\n            return ((b[off + 3] &amp; 0xFF)      ) +\r\n                    ((b[off + 2] &amp; 0xFF) &lt;&lt;  8) +\r\n                    ((b[off + 1] &amp; 0xFF) &lt;&lt; 16) +\r\n                    ((b[off    ]       ) &lt;&lt; 24);\r\n        }\r\n    \r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            int[] ia = new int[]{1, 3, 2, 4, 5};\r\n            System.out.println(Arrays.toString(decode(encode(ia))));\r\n        }\r\n    }\r\n    ","title":"Do I have to set buffer sizes accordingly to the size of the payload in netty?","body":"<p>The usual way to serialize an array is to first record the length of the array, and then serialize the elements one by one\nI'm not sure if you meant to ask this, hope this helps</p>\n<pre><code>package com.ljy.netty.codec;\n\nimport java.util.Arrays;\n\n/**\n * Using big-endian byte ordering, reference to the Bits class of the java library\n */\npublic class IntArrayCodecExample {\n\n    public static byte[] encode(int[] ia) {\n        byte[] bytes = new byte[ia.length * 4 + 4];\n        writeInt(bytes, 0, ia.length);\n        for (int i = 0; i &lt; ia.length; i++) {\n            writeInt(bytes, (i + 1) * 4, ia[i]);\n        }\n\n        return bytes;\n    }\n\n    public static int[] decode(byte[] bytes) {\n        int length = readInt(bytes, 0);\n        int[] ia = new int[length];\n        int offset = 4;\n        while(offset &lt; bytes.length) {\n            ia[offset / 4 - 1] = readInt(bytes, offset);\n            offset += 4;\n        }\n\n        return ia;\n    }\n\n\n    private static void writeInt(byte[] bytes, int offset, int val) {\n        bytes[offset + 3] = (byte) (val       );\n        bytes[offset + 2] = (byte) (val &gt;&gt;&gt;  8);\n        bytes[offset + 1] = (byte) (val &gt;&gt;&gt; 16);\n        bytes[offset    ] = (byte) (val &gt;&gt;&gt; 24);\n    }\n\n    private static int readInt(byte[] b, int off) {\n        return ((b[off + 3] &amp; 0xFF)      ) +\n                ((b[off + 2] &amp; 0xFF) &lt;&lt;  8) +\n                ((b[off + 1] &amp; 0xFF) &lt;&lt; 16) +\n                ((b[off    ]       ) &lt;&lt; 24);\n    }\n\n\n\n    public static void main(String[] args) {\n        int[] ia = new int[]{1, 3, 2, 4, 5};\n        System.out.println(Arrays.toString(decode(encode(ia))));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676632928,"creation_date":1676632928,"answer_id":75483652,"question_id":74689384,"body_markdown":"If you work with relatively small objects and have enough memory to handle all requests by simple serialisation `(dto, allocator) -&gt; ByteBuf`, then enjoy this simplicity:\r\n\r\n    val size = calculateSerializedSize(dto)\r\n    val buf = ctx.alloc().buffer(size)\r\n    serialize(dto, buf)\r\n    ctx.write(buf)\r\n\r\nHowever if you work with large or even huge objects, then you need to consider using `io.netty.handler.stream.ChunkedInput&lt;ByteBuf&gt;`. See for example how huge files are downstreamed with `io.netty.handler.stream.ChunkedFile`:\r\n\r\n    pipeline.addLast(new ChunkedWriteHandler());\r\n    pipeline.addLast(new YourHandler());\r\n\r\n    ...\r\n\r\n    // YourHandler\r\n    ctx.write(new YourCustomDtoChunkedInput(dto, ctx.alloc()))","title":"Do I have to set buffer sizes accordingly to the size of the payload in netty?","body":"<p>If you work with relatively small objects and have enough memory to handle all requests by simple serialisation <code>(dto, allocator) -&gt; ByteBuf</code>, then enjoy this simplicity:</p>\n<pre><code>val size = calculateSerializedSize(dto)\nval buf = ctx.alloc().buffer(size)\nserialize(dto, buf)\nctx.write(buf)\n</code></pre>\n<p>However if you work with large or even huge objects, then you need to consider using <code>io.netty.handler.stream.ChunkedInput&lt;ByteBuf&gt;</code>. See for example how huge files are downstreamed with <code>io.netty.handler.stream.ChunkedFile</code>:</p>\n<pre><code>pipeline.addLast(new ChunkedWriteHandler());\npipeline.addLast(new YourHandler());\n\n...\n\n// YourHandler\nctx.write(new YourCustomDtoChunkedInput(dto, ctx.alloc()))\n</code></pre>\n"}],"owner":{"account_id":16783330,"reputation":15,"user_id":12132971,"display_name":"TraversingOnTarget"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74795407,"answer_count":2,"score":0,"last_activity_date":1676632928,"creation_date":1670248799,"question_id":74689384,"body_markdown":"I read the netty.io tutorial for netty 4.1 and the object echo example from GitHub, but they did not go into detail about buffer size when sending objects that vary in size. \r\n\r\nLet&#39;s assume I want to send an object that contains one int[] and one float[]. It&#39;s a DTO, so it&#39;s just constructor and getters. \r\n\r\nHow do I decide on a buffer size? I can&#39;t seem to find any answer, so I&#39;m assuming it&#39;s a stupid question. But what to Google for to understand where I went off on this? I&#39;m fairly new to networking in general.\r\n\r\nI know that I need to add a decoder- and encoderHandlers to the respective channel pipelines, but I don&#39;t know how to implement them with varying sizes in objects in mind. I know about the classes ObjectDecoder and ObjectEncoder, but I don&#39;t know how big I should make the buffer because the arrays inside the DTO get created dynamically.\r\n","title":"Do I have to set buffer sizes accordingly to the size of the payload in netty?","body":"<p>I read the netty.io tutorial for netty 4.1 and the object echo example from GitHub, but they did not go into detail about buffer size when sending objects that vary in size.</p>\n<p>Let's assume I want to send an object that contains one int[] and one float[]. It's a DTO, so it's just constructor and getters.</p>\n<p>How do I decide on a buffer size? I can't seem to find any answer, so I'm assuming it's a stupid question. But what to Google for to understand where I went off on this? I'm fairly new to networking in general.</p>\n<p>I know that I need to add a decoder- and encoderHandlers to the respective channel pipelines, but I don't know how to implement them with varying sizes in objects in mind. I know about the classes ObjectDecoder and ObjectEncoder, but I don't know how big I should make the buffer because the arrays inside the DTO get created dynamically.</p>\n"},{"tags":["java","spring-boot","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1588237352,"post_id":61519138,"comment_id":108823710,"body_markdown":"You are missing a dependency hence the error. Please add your `pom.xml` as generally these kind of errors come from wrong dependencies in your `pom.xml` or trying to work around the Sprign Boot starters.","body":"You are missing a dependency hence the error. Please add your <code>pom.xml</code> as generally these kind of errors come from wrong dependencies in your <code>pom.xml</code> or trying to work around the Sprign Boot starters."}],"answers":[{"tags":[],"owner":{"account_id":8206242,"reputation":1370,"user_id":6175872,"display_name":"PatrickChen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588237351,"creation_date":1588237351,"answer_id":61519687,"question_id":61519138,"body_markdown":"Need to check your dependencies, if this [mockito-all][1] is including in the test resources. \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.mockito/mockito-all/1.9.5","title":"Mockito don&#39;t work MockitoSessionLogger DefFoundError","body":"<p>Need to check your dependencies, if this <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-all/1.9.5\" rel=\"nofollow noreferrer\">mockito-all</a> is including in the test resources. </p>\n"},{"tags":[],"owner":{"account_id":2023601,"reputation":2330,"user_id":1809221,"accept_rate":83,"display_name":"Manu Zi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610442104,"creation_date":1610442104,"answer_id":65680788,"question_id":61519138,"body_markdown":"I recommend to add the `mockito-core` dependency (https://mvnrepository.com/artifact/org.mockito/mockito-core).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThe `mockito-all` dependency mentioned in another answer was last updated in 2015.","title":"Mockito don&#39;t work MockitoSessionLogger DefFoundError","body":"<p>I recommend to add the <code>mockito-core</code> dependency (<a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.mockito/mockito-core</a>).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;3.7.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The <code>mockito-all</code> dependency mentioned in another answer was last updated in 2015.</p>\n"},{"tags":[],"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676632873,"creation_date":1676632873,"answer_id":75483644,"question_id":61519138,"body_markdown":"I had this issue, my issue was solved by adding `mockito-core` and also `mockito-junit-jupiter` beside each other in my dependencies:\r\n\r\n\r\n         &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Mockito don&#39;t work MockitoSessionLogger DefFoundError","body":"<p>I had this issue, my issue was solved by adding <code>mockito-core</code> and also <code>mockito-junit-jupiter</code> beside each other in my dependencies:</p>\n<pre><code>     &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8685922,"reputation":13,"user_id":6500359,"display_name":"mev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676632873,"creation_date":1588235541,"question_id":61519138,"body_markdown":"My tests in Spring project work well until I did something and in my WebMvcTest, MockMvc started simply to be null. In Service tests where I need to mock my repository this exception is thrown:\r\n\r\n    \r\n    java.lang.NoClassDefFoundError: org/mockito/session/MockitoSessionLogger\r\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3215)\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3420)\r\n    \tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2631)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:475)\r\n    \tat org.junit.jupiter.engine.extension.MutableExtensionRegistry.registerExtension(MutableExtensionRegistry.java:182)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\n    \tat org.junit.jupiter.engine.extension.MutableExtensionRegistry.createRegistryFrom(MutableExtensionRegistry.java:123)\r\n    \tat org.junit.jupiter.engine.descriptor.ExtensionUtils.populateNewExtensionRegistryFromExtendWithAnnotation(ExtensionUtils.java:77)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:142)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:77)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\r\n    Caused by: java.lang.ClassNotFoundException: org.mockito.session.MockitoSessionLogger\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 37 more\r\n\r\n","title":"Mockito don&#39;t work MockitoSessionLogger DefFoundError","body":"<p>My tests in Spring project work well until I did something and in my WebMvcTest, MockMvc started simply to be null. In Service tests where I need to mock my repository this exception is thrown:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/mockito/session/MockitoSessionLogger\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3215)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3420)\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2631)\n    at org.junit.platform.commons.util.ReflectionUtils.newInstance(ReflectionUtils.java:475)\n    at org.junit.jupiter.engine.extension.MutableExtensionRegistry.registerExtension(MutableExtensionRegistry.java:182)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\n    at org.junit.jupiter.engine.extension.MutableExtensionRegistry.createRegistryFrom(MutableExtensionRegistry.java:123)\n    at org.junit.jupiter.engine.descriptor.ExtensionUtils.populateNewExtensionRegistryFromExtendWithAnnotation(ExtensionUtils.java:77)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:142)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.prepare(ClassBasedTestDescriptor.java:77)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\nCaused by: java.lang.ClassNotFoundException: org.mockito.session.MockitoSessionLogger\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 37 more\n</code></pre>\n"},{"tags":["java","intellij-idea","javadoc"],"comments":[{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":0,"creation_date":1423166742,"post_id":28352832,"comment_id":45049783,"body_markdown":"Do you have any non-bundled plugins installed?","body":"Do you have any non-bundled plugins installed?"},{"owner":{"account_id":3503445,"reputation":560,"user_id":2929589,"accept_rate":83,"display_name":"CrypticStorm"},"score":1,"creation_date":1423166989,"post_id":28352832,"comment_id":45049921,"body_markdown":"Yes, the issue was probably with the markdown plugin since * is uses as an opening and closing tag. Completely forgot about plugins since I had so few.","body":"Yes, the issue was probably with the markdown plugin since * is uses as an opening and closing tag. Completely forgot about plugins since I had so few."}],"answers":[{"comments":[{"owner":{"account_id":3503445,"reputation":560,"user_id":2929589,"accept_rate":83,"display_name":"CrypticStorm"},"score":1,"creation_date":1424212706,"post_id":28572446,"comment_id":45454719,"body_markdown":"Yes it was actually the gauge plugin, not markdown.","body":"Yes it was actually the gauge plugin, not markdown."}],"tags":[],"owner":{"account_id":4685839,"reputation":96,"user_id":3793266,"display_name":"Landa"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1424212449,"creation_date":1424212449,"answer_id":28572446,"question_id":28352832,"body_markdown":"Did removing the markdown plugin work?\r\nBecause I had the same problem and I can reliable cause it by activating the plugin for [gauge version 0.0.3](https://github.com/getgauge/Intellij-Plugin).\r\n\r\nAny other plugin doesn&#39;t make a jot of difference.","title":"IntelliJ Javadoc adding an additional asterisk every line","body":"<p>Did removing the markdown plugin work?\nBecause I had the same problem and I can reliable cause it by activating the plugin for <a href=\"https://github.com/getgauge/Intellij-Plugin\">gauge version 0.0.3</a>.</p>\n\n<p>Any other plugin doesn't make a jot of difference.</p>\n"}],"owner":{"account_id":3503445,"reputation":560,"user_id":2929589,"accept_rate":83,"display_name":"CrypticStorm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28572446,"answer_count":1,"score":5,"last_activity_date":1676632638,"creation_date":1423166007,"question_id":28352832,"body_markdown":"I&#39;m having an obscure bug with IntelliJ javadoc formatting. Whenever I create a javadocor add a new line, it is adding a second asterisk after my cursor which is very annoying to deal with.\r\n\r\nHere&#39;s a gif of what happens when I try to write javadocs: http://gyazo.com/4f8cf0727e545715afe02658a08edbe1","title":"IntelliJ Javadoc adding an additional asterisk every line","body":"<p>I'm having an obscure bug with IntelliJ javadoc formatting. Whenever I create a javadocor add a new line, it is adding a second asterisk after my cursor which is very annoying to deal with.</p>\n\n<p>Here's a gif of what happens when I try to write javadocs: <a href=\"http://gyazo.com/4f8cf0727e545715afe02658a08edbe1\">http://gyazo.com/4f8cf0727e545715afe02658a08edbe1</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":2218936,"reputation":1780,"user_id":1958893,"accept_rate":76,"display_name":"tmj"},"score":1,"creation_date":1491405925,"post_id":43232480,"comment_id":73541017,"body_markdown":"thanks for the example. For more clarity could you also add the DataSource class","body":"thanks for the example. For more clarity could you also add the DataSource class"},{"owner":{"account_id":2218936,"reputation":1780,"user_id":1958893,"accept_rate":76,"display_name":"tmj"},"score":0,"creation_date":1491478658,"post_id":43232480,"comment_id":73576644,"body_markdown":"This is interesting - I do not see the point of the bean method now. Couldn&#39;t one directly `@Autowired` the DataSource class ?","body":"This is interesting - I do not see the point of the bean method now. Couldn&#39;t one directly <code>@Autowired</code> the DataSource class ?"},{"owner":{"account_id":380946,"reputation":8180,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"score":5,"creation_date":1505977081,"post_id":43232480,"comment_id":79634372,"body_markdown":"@tMJ Imagine you have multiple database configurations. You could extend the `DataSource` class multiple times for each seperate database and add the `@ConfigurationProperties` to each one, Or you could create a bean for each one with the appropriate property prefix. e.g. (`@ConfigurationProperties(prefix=&quot;spring.datasource.test&quot;) @Bean public DataSource testDataSource(){...}`). This saves the redundancy of creating each class for the sake of seperate property sets.","body":"@tMJ Imagine you have multiple database configurations. You could extend the <code>DataSource</code> class multiple times for each seperate database and add the <code>@ConfigurationProperties</code> to each one, Or you could create a bean for each one with the appropriate property prefix. e.g. (<code>@ConfigurationProperties(prefix=&quot;spring.datasource.test&quot;) @Bean public DataSource testDataSource(){...}</code>). This saves the redundancy of creating each class for the sake of seperate property sets."},{"owner":{"account_id":380946,"reputation":8180,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"score":0,"creation_date":1506037171,"post_id":43232480,"comment_id":79669326,"body_markdown":"@EvgeniDimitrov Thanks, it actually only occurred to me because I was looking for this very solution to my problem and this fit my current use case as described perfectly.","body":"@EvgeniDimitrov Thanks, it actually only occurred to me because I was looking for this very solution to my problem and this fit my current use case as described perfectly."},{"owner":{"account_id":982708,"reputation":705,"user_id":1002020,"accept_rate":64,"display_name":"nik686"},"score":1,"creation_date":1515539158,"post_id":43232480,"comment_id":83336046,"body_markdown":"Just to point out that setters are important in the destination class (eg. Datasource). I thought it would use reflection for the mapping but it uses the setters instead.","body":"Just to point out that setters are important in the destination class (eg. Datasource). I thought it would use reflection for the mapping but it uses the setters instead."},{"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"score":0,"creation_date":1544822656,"post_id":43232480,"comment_id":94425742,"body_markdown":"this is very powerful, since you can re-use the DataSource class for multiple configurations.","body":"this is very powerful, since you can re-use the DataSource class for multiple configurations."},{"owner":{"account_id":1639144,"reputation":603,"user_id":1511940,"accept_rate":100,"display_name":"rilaby"},"score":1,"creation_date":1576784188,"post_id":43232480,"comment_id":105019183,"body_markdown":"Starting form `spring-boot:2.2` class path scanning will automatically register beans of classes annotated with `@ConfigurationProperties` hence there is no need in `@Component` or `@EnableConfigurationProperty` for that matter.","body":"Starting form <code>spring-boot:2.2</code> class path scanning will automatically register beans of classes annotated with <code>@ConfigurationProperties</code> hence there is no need in <code>@Component</code> or <code>@EnableConfigurationProperty</code> for that matter."}],"tags":[],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"comment_count":7,"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1676632216,"creation_date":1491398444,"answer_id":43232480,"question_id":43232021,"body_markdown":"```properties\r\nspring.datasource.url = [url]\r\nspring.datasource.username = [username]\r\nspring.datasource.password = [password]\r\nspring.datasource.driverClassName = oracle.jdbc.OracleDriver\r\n```\r\n    \r\n    @Bean\r\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n    public DataSource dataSource() {\r\n        return new DataSource();\r\n    }\r\n\r\nHere the DataSource class has properties url, username, password, driverClassName, so spring boot maps them to the created object.  \r\n\r\nExample of the DataSource class:\r\n\r\n    public class DataSource {\r\n      \tprivate String url;\r\n       \tprivate String driverClassName;\r\n       \tprivate String username;\r\n       \tprivate String password;\r\n        //getters &amp; setters, etc.\r\n    }\r\n\r\nIn other words this has the same effect as if you initialize some bean with stereotype annotations(@Component, @Service, etc.) \r\ne.g.\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n    public class DataSource {\r\n        private String url;\r\n       \tprivate String driverClassName;\r\n       \tprivate String username;\r\n       \tprivate String password;\r\n        //getters &amp; setters, etc.\r\n    }\r\n\r\n","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<pre><code>spring.datasource.url = [url]\nspring.datasource.username = [username]\nspring.datasource.password = [password]\nspring.datasource.driverClassName = oracle.jdbc.OracleDriver\n</code></pre>\n<pre><code>@Bean\n@ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\npublic DataSource dataSource() {\n    return new DataSource();\n}\n</code></pre>\n<p>Here the DataSource class has properties url, username, password, driverClassName, so spring boot maps them to the created object.</p>\n<p>Example of the DataSource class:</p>\n<pre><code>public class DataSource {\n    private String url;\n    private String driverClassName;\n    private String username;\n    private String password;\n    //getters &amp; setters, etc.\n}\n</code></pre>\n<p>In other words this has the same effect as if you initialize some bean with stereotype annotations(@Component, @Service, etc.)\ne.g.</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\npublic class DataSource {\n    private String url;\n    private String driverClassName;\n    private String username;\n    private String password;\n    //getters &amp; setters, etc.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1540180497,"creation_date":1540180497,"answer_id":52922200,"question_id":43232021,"body_markdown":"[24.8.1 Third-party Configuration][1]\r\n\r\nAs well as using `@ConfigurationProperties` to annotate a class, you can also use it on public `@Bean` methods. Doing so can be particularly useful when you want to bind properties to third-party components that are outside of your control.\r\n\r\nTo configure a bean from the Environment properties, add `@ConfigurationProperties` to its bean registration, as shown in the following example:\r\n\r\n    @ConfigurationProperties(prefix = &quot;another&quot;)\r\n    @Bean\r\n    public AnotherComponent anotherComponent() {\r\n    \t...\r\n    }\r\n\r\nAny property defined with the another prefix is mapped onto that AnotherComponent bean in manner similar to the preceding AcmeProperties example.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-3rd-party-configuration","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-3rd-party-configuration\" rel=\"nofollow noreferrer\">24.8.1 Third-party Configuration</a></p>\n\n<p>As well as using <code>@ConfigurationProperties</code> to annotate a class, you can also use it on public <code>@Bean</code> methods. Doing so can be particularly useful when you want to bind properties to third-party components that are outside of your control.</p>\n\n<p>To configure a bean from the Environment properties, add <code>@ConfigurationProperties</code> to its bean registration, as shown in the following example:</p>\n\n<pre><code>@ConfigurationProperties(prefix = \"another\")\n@Bean\npublic AnotherComponent anotherComponent() {\n    ...\n}\n</code></pre>\n\n<p>Any property defined with the another prefix is mapped onto that AnotherComponent bean in manner similar to the preceding AcmeProperties example.</p>\n"},{"comments":[{"owner":{"account_id":14576942,"reputation":597,"user_id":10528552,"display_name":"hamidreza75"},"score":0,"creation_date":1665328982,"post_id":53409267,"comment_id":130669602,"body_markdown":"don&#39;t forget to add @EnableConfigurationProperties","body":"don&#39;t forget to add @EnableConfigurationProperties"},{"owner":{"account_id":444523,"reputation":929,"user_id":836376,"accept_rate":77,"display_name":"KevinBui"},"score":0,"creation_date":1665387104,"post_id":53409267,"comment_id":130679492,"body_markdown":"@hamidreza75: don&#39;t need to add `@EnableConfigurationProperties`, because `@SpringBootApplication` is already include it.","body":"@hamidreza75: don&#39;t need to add <code>@EnableConfigurationProperties</code>, because <code>@SpringBootApplication</code> is already include it."}],"tags":[],"owner":{"account_id":444523,"reputation":929,"user_id":836376,"accept_rate":77,"display_name":"KevinBui"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1542793717,"creation_date":1542793717,"answer_id":53409267,"question_id":43232021,"body_markdown":"You can use @ConfigurationProperties as below\r\n\r\n**Entity Model**\r\n\r\n    public class MY_ENTITY {\r\n        private String prop1;\r\n        private String prop2;\r\n        // setter &amp; getter &amp; toString()\r\n    }\r\n\r\n**Bean Method**\r\n\r\n    @Configuration\r\n    public class MyClass {\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(prefix = &quot;my.entity&quot;)\r\n        public MY_ENTITY getContract() {\r\n            return new MY_ENTITY()\r\n                    .setProp1(&quot;prop1111111&quot;)\r\n                    .setProp2(&quot;prop2222222&quot;)\r\n                    ;\r\n        }\r\n    \r\n        @Bean(name = &quot;contract2&quot;)\r\n        @ConfigurationProperties(prefix = &quot;my.entity2&quot;)\r\n        public MY_ENTITY getContract2() {\r\n            return new MY_ENTITY()\r\n                    .setProp1(&quot;prop1111.2222&quot;)\r\n                    .setProp2(&quot;prop2222.222&quot;)\r\n                    ;\r\n        }\r\n    }\r\n\r\n**application.properties**\r\n\r\n    my.entity.prop1=2120180023\r\n    my.entity.prop2=CUSTOMER_NAME111\r\n    \r\n    my.entity2.prop1=9994494949\r\n    my.entity2.prop2=CUSTOMER_NAME222\r\n\r\n**SpringBootApplication**\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;contract2&quot;)\r\n        private MY_ENTITY myEntity;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            System.out.println(myEntity);\r\n        }\r\n    }","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<p>You can use @ConfigurationProperties as below</p>\n\n<p><strong>Entity Model</strong></p>\n\n<pre><code>public class MY_ENTITY {\n    private String prop1;\n    private String prop2;\n    // setter &amp; getter &amp; toString()\n}\n</code></pre>\n\n<p><strong>Bean Method</strong></p>\n\n<pre><code>@Configuration\npublic class MyClass {\n\n    @Bean\n    @ConfigurationProperties(prefix = \"my.entity\")\n    public MY_ENTITY getContract() {\n        return new MY_ENTITY()\n                .setProp1(\"prop1111111\")\n                .setProp2(\"prop2222222\")\n                ;\n    }\n\n    @Bean(name = \"contract2\")\n    @ConfigurationProperties(prefix = \"my.entity2\")\n    public MY_ENTITY getContract2() {\n        return new MY_ENTITY()\n                .setProp1(\"prop1111.2222\")\n                .setProp2(\"prop2222.222\")\n                ;\n    }\n}\n</code></pre>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>my.entity.prop1=2120180023\nmy.entity.prop2=CUSTOMER_NAME111\n\nmy.entity2.prop1=9994494949\nmy.entity2.prop2=CUSTOMER_NAME222\n</code></pre>\n\n<p><strong>SpringBootApplication</strong></p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    @Autowired\n    @Qualifier(\"contract2\")\n    private MY_ENTITY myEntity;\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(myEntity);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16519167,"reputation":1779,"user_id":11935809,"display_name":"Michael Ushakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586872550,"creation_date":1586872550,"answer_id":61209437,"question_id":43232021,"body_markdown":"I found following solution: i.e. we have in application yaml couple of section and we are interesting in appConfig:\r\n\r\n      appConfig:\r\n      version: 1.0_alpha\r\n      environment: ${spring.profiles}\r\n      dbDriver: ${spring.datasource.driver-class-name}\r\n      dbUrl: ${spring.datasource.url}\r\n      keyCloak:\r\n          serverOne:\r\n              host: http://xx.xx.xxx.xxx:8080\r\n              baseUrl: ${appConfig.keyCloak.serverOne.host}/auth/realms/master\r\n              clientId: api-service-agent\r\n              clientSecret: f00955443-d123-4cfe-90d3-e3ff3b214aaffe\r\n              serviceUsername: service-user\r\n              servicePassword: 1234567890\r\n          serverTwo:\r\n              host: http://xx.xxx.xxx.xxx:8080\r\n              baseUrl: ${appConfig.keyCloak.serverTwo.host}/auth/realms/wissance\r\n              clientId: api-service-agent\r\n              clientSecret: a20ddf0-56fa-4991-85bc-114377eeffddcc\r\n              serviceUsername: service-user\r\n              servicePassword: 1234567890\r\n          using: \r\n              baseUrl: ${appConfig.keyCloak.serverTwo.baseUrl}\r\n              clientId: ${appConfig.keyCloak.serverTwo.clientId}\r\n              clientSecret: ${appConfig.keyCloak.serverTwo.clientSecret}\r\n              serviceUsername: ${appConfig.keyCloak.serverTwo.serviceUsername}\r\n              servicePassword: ${appConfig.keyCloak.serverTwo.servicePassword}\r\n\r\nWe would like to split common settings and using KeyCloak settings, so i implemented following scheme:\r\n\r\nI make following KeyCloakConfig class (without @ConfigurationProperties annotation) to store using authentication server settings:\r\n\r\n    @Configuration\r\n    public class KeyCloakConfig {\r\n    \r\n\t\tpublic KeyCloakConfig(){\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic KeyCloakConfig(String baseUrl, String clientId, String clientSecret, String username, String password) {\r\n\t\t\tthis.baseUrl = baseUrl;\r\n\t\t\tthis.clientId = clientId;\r\n\t\t\tthis.clientSecret = clientSecret;\r\n\t\t\tthis.username = username;\r\n\t\t\tthis.password = password;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getBaseUrl(){\r\n\t\t\treturn baseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setBaseUrl(String baseUrl){\r\n\t\t\tthis.baseUrl = baseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getClientId(){\r\n\t\t\treturn clientId;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setClientId(String clientId){\r\n\t\t\tthis.clientId = clientId;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getClientSecret(){\r\n\t\t\treturn clientSecret;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setClientSecret(String clientSecret){\r\n\t\t\tthis.clientSecret = clientSecret;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getUsername(){\r\n\t\t\treturn username;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setUsername(String username){\r\n\t\t\tthis.username = username;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getPassword(){\r\n\t\t\treturn password;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setPassword(String password){\r\n\t\t\tthis.password = password;\r\n\t\t}\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.baseUrl}&quot;)\r\n\t\tprivate String baseUrl;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.clientId}&quot;)\r\n\t\tprivate String clientId;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.clientSecret}&quot;)\r\n\t\tprivate String clientSecret;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.serviceUsername}&quot;)\r\n\t\tprivate String username;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.keyCloak.using.servicePassword}&quot;)\r\n\t\tprivate String password;\r\n    }\r\n\r\nand AppConfig class that holds common settings like version, environment using DB driver &amp; url and also KeyCloakConfig as property:\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties\r\n    public class AppConfig {\r\n    \r\n    public AppConfig(){\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic AppConfig(String apiVersion, String environment, String databaseDriver, String databaseUrl){\r\n\t\t\tthis.apiVersion = apiVersion;\r\n\t\t\tthis.environment = environment;\r\n\t\t\tthis.databaseDriver = databaseDriver;\r\n\t\t\tthis.databaseUrl = databaseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getEnvironment(){\r\n\t\t\treturn environment;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setEnvironment(String environment) {\r\n\t\t\tthis.environment = environment;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getDatabaseDriver(){\r\n\t\t\treturn databaseDriver;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDatabaseDriver(String databaseDriver) {\r\n\t\t\tthis.databaseDriver = databaseDriver;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getDatabaseUrl(){\r\n\t\t\treturn databaseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDatabaseUrl(String databaseUrl) {\r\n\t\t\tthis.databaseUrl = databaseUrl;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getApiVersion(){\r\n\t\t\treturn apiVersion;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setApiVersion(String apiVersion) {\r\n\t\t\tthis.apiVersion = apiVersion;\r\n\t\t}\r\n\t\t\r\n\t\tpublic KeyCloakConfig getKeyCloakConfig(){\r\n\t\t\treturn keyCloakConfig;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setKeyCloakConfig(KeyCloakConfig keyCloakConfig){\r\n\t\t\tthis.keyCloakConfig = keyCloakConfig;\r\n\t\t}\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.version}&quot;)\r\n\t\tprivate String apiVersion;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.environment}&quot;)\r\n\t\tprivate String environment;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.dbDriver}&quot;)\r\n\t\tprivate String databaseDriver;\r\n\t\t\r\n\t\t@Value(&quot;${appConfig.dbUrl}&quot;)\r\n\t\tprivate String databaseUrl;\r\n\t\t\r\n\t\t@Autowired\r\n\t\tprivate KeyCloakConfig keyCloakConfig;\r\n    }\r\n\r\n","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<p>I found following solution: i.e. we have in application yaml couple of section and we are interesting in appConfig:</p>\n\n<pre><code>  appConfig:\n  version: 1.0_alpha\n  environment: ${spring.profiles}\n  dbDriver: ${spring.datasource.driver-class-name}\n  dbUrl: ${spring.datasource.url}\n  keyCloak:\n      serverOne:\n          host: http://xx.xx.xxx.xxx:8080\n          baseUrl: ${appConfig.keyCloak.serverOne.host}/auth/realms/master\n          clientId: api-service-agent\n          clientSecret: f00955443-d123-4cfe-90d3-e3ff3b214aaffe\n          serviceUsername: service-user\n          servicePassword: 1234567890\n      serverTwo:\n          host: http://xx.xxx.xxx.xxx:8080\n          baseUrl: ${appConfig.keyCloak.serverTwo.host}/auth/realms/wissance\n          clientId: api-service-agent\n          clientSecret: a20ddf0-56fa-4991-85bc-114377eeffddcc\n          serviceUsername: service-user\n          servicePassword: 1234567890\n      using: \n          baseUrl: ${appConfig.keyCloak.serverTwo.baseUrl}\n          clientId: ${appConfig.keyCloak.serverTwo.clientId}\n          clientSecret: ${appConfig.keyCloak.serverTwo.clientSecret}\n          serviceUsername: ${appConfig.keyCloak.serverTwo.serviceUsername}\n          servicePassword: ${appConfig.keyCloak.serverTwo.servicePassword}\n</code></pre>\n\n<p>We would like to split common settings and using KeyCloak settings, so i implemented following scheme:</p>\n\n<p>I make following KeyCloakConfig class (without @ConfigurationProperties annotation) to store using authentication server settings:</p>\n\n<pre><code>@Configuration\npublic class KeyCloakConfig {\n\n    public KeyCloakConfig(){\n\n    }\n\n    public KeyCloakConfig(String baseUrl, String clientId, String clientSecret, String username, String password) {\n        this.baseUrl = baseUrl;\n        this.clientId = clientId;\n        this.clientSecret = clientSecret;\n        this.username = username;\n        this.password = password;\n    }\n\n    public String getBaseUrl(){\n        return baseUrl;\n    }\n\n    public void setBaseUrl(String baseUrl){\n        this.baseUrl = baseUrl;\n    }\n\n    public String getClientId(){\n        return clientId;\n    }\n\n    public void setClientId(String clientId){\n        this.clientId = clientId;\n    }\n\n    public String getClientSecret(){\n        return clientSecret;\n    }\n\n    public void setClientSecret(String clientSecret){\n        this.clientSecret = clientSecret;\n    }\n\n    public String getUsername(){\n        return username;\n    }\n\n    public void setUsername(String username){\n        this.username = username;\n    }\n\n    public String getPassword(){\n        return password;\n    }\n\n    public void setPassword(String password){\n        this.password = password;\n    }\n\n    @Value(\"${appConfig.keyCloak.using.baseUrl}\")\n    private String baseUrl;\n\n    @Value(\"${appConfig.keyCloak.using.clientId}\")\n    private String clientId;\n\n    @Value(\"${appConfig.keyCloak.using.clientSecret}\")\n    private String clientSecret;\n\n    @Value(\"${appConfig.keyCloak.using.serviceUsername}\")\n    private String username;\n\n    @Value(\"${appConfig.keyCloak.using.servicePassword}\")\n    private String password;\n}\n</code></pre>\n\n<p>and AppConfig class that holds common settings like version, environment using DB driver &amp; url and also KeyCloakConfig as property:</p>\n\n<pre><code>@Configuration\n@EnableConfigurationProperties\n@ConfigurationProperties\npublic class AppConfig {\n\npublic AppConfig(){\n\n    }\n\n    public AppConfig(String apiVersion, String environment, String databaseDriver, String databaseUrl){\n        this.apiVersion = apiVersion;\n        this.environment = environment;\n        this.databaseDriver = databaseDriver;\n        this.databaseUrl = databaseUrl;\n    }\n\n    public String getEnvironment(){\n        return environment;\n    }\n\n    public void setEnvironment(String environment) {\n        this.environment = environment;\n    }\n\n    public String getDatabaseDriver(){\n        return databaseDriver;\n    }\n\n    public void setDatabaseDriver(String databaseDriver) {\n        this.databaseDriver = databaseDriver;\n    }\n\n    public String getDatabaseUrl(){\n        return databaseUrl;\n    }\n\n    public void setDatabaseUrl(String databaseUrl) {\n        this.databaseUrl = databaseUrl;\n    }\n\n    public String getApiVersion(){\n        return apiVersion;\n    }\n\n    public void setApiVersion(String apiVersion) {\n        this.apiVersion = apiVersion;\n    }\n\n    public KeyCloakConfig getKeyCloakConfig(){\n        return keyCloakConfig;\n    }\n\n    public void setKeyCloakConfig(KeyCloakConfig keyCloakConfig){\n        this.keyCloakConfig = keyCloakConfig;\n    }\n\n    @Value(\"${appConfig.version}\")\n    private String apiVersion;\n\n    @Value(\"${appConfig.environment}\")\n    private String environment;\n\n    @Value(\"${appConfig.dbDriver}\")\n    private String databaseDriver;\n\n    @Value(\"${appConfig.dbUrl}\")\n    private String databaseUrl;\n\n    @Autowired\n    private KeyCloakConfig keyCloakConfig;\n}\n</code></pre>\n"}],"owner":{"account_id":2218936,"reputation":1780,"user_id":1958893,"accept_rate":76,"display_name":"tmj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37332,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":43232480,"answer_count":4,"score":39,"last_activity_date":1676632216,"creation_date":1491397269,"question_id":43232021,"body_markdown":"Could someone give a MWE of how to use the `@ConfigurationProperties` annotation directly on a `@Bean` method?\r\n\r\nI have seen countless examples of it being used on class definitions - but no examples yet for `@Bean` methods. \r\n\r\nTo quote the [documentation](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html):\r\n\r\n+ Add this to a class definition or **a `@Bean` method**\r\n+ @Target(value={TYPE,**METHOD**})\r\n\r\nSo, I think there is a possibility and an intended use as well - but unluckily I am unable to figure it out.","title":"Using `@ConfigurationProperties` annotation on `@Bean` Method","body":"<p>Could someone give a MWE of how to use the <code>@ConfigurationProperties</code> annotation directly on a <code>@Bean</code> method?</p>\n\n<p>I have seen countless examples of it being used on class definitions - but no examples yet for <code>@Bean</code> methods. </p>\n\n<p>To quote the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<ul>\n<li>Add this to a class definition or <strong>a <code>@Bean</code> method</strong></li>\n<li>@Target(value={TYPE,<strong>METHOD</strong>})</li>\n</ul>\n\n<p>So, I think there is a possibility and an intended use as well - but unluckily I am unable to figure it out.</p>\n"},{"tags":["java","spring","spring-boot","properties"],"comments":[{"owner":{"account_id":9173276,"reputation":608,"user_id":6819920,"display_name":"PiNaKa30"},"score":0,"creation_date":1676631210,"post_id":75483110,"comment_id":133180562,"body_markdown":"That&#39;s because Spring will create all the beans for dependency injection before the main() method is executed. So, the exception is thrown even before the code is reached.","body":"That&#39;s because Spring will create all the beans for dependency injection before the main() method is executed. So, the exception is thrown even before the code is reached."}],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676632005,"creation_date":1676630029,"question_id":75483110,"body_markdown":"I&#39;m writing Spring Boot 3.0.2 application. \r\n\r\nMy application using external yaml config file:\r\n```bash\r\njava -jar app.jar --spring.config.import=&quot;file:///config.yml&quot;\r\n# or \r\njava -jar -Dspring.config.import=&quot;file:///config.yml&quot; app.jar\r\n```\r\n\r\nIf I forget to start app with `spring.config.import` argument, it crash with error:\r\n```java\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hostingController&#39;: Unsatisfied dependency expressed through field &#39;hostingService&#39;: Error creating bean with name &#39;hostingService&#39;: Unsatisfied dependency expressed through field &#39;appConf&#39;: Error creating bean with name &#39;appConf&#39;: Injection of autowired dependencies failed\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\r\n```\r\nit&#39;s logical. But is there any way how to set custom error message? This exception looks terrible for my users. I want to add some information on how to fix it.\r\n\r\nI tried:\r\n```\r\npackage net.example.app;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration;\r\n\r\n@SpringBootApplication(\r\n\t\tproxyBeanMethods = false,\r\n\t\texclude=SpringDataWebAutoConfiguration.class,\r\n\t\tscanBasePackages=&quot;net.example.app&quot;)\r\npublic class MyApplication {\r\n\tprivate static Logger log = LoggerFactory.getLogger(MyApplication.class);\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tboolean springConf = false;\r\n\t\tfor (String a : args) {\r\n\t\t\tif (a.contains(&quot;--spring.config.location&quot;)) {\r\n\t\t\t\tspringConf = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (! springConf) {\r\n\t\t\tlog.error(&quot;Missing &#39;--spring.config.import&#39; argument.&quot;);\r\n\t\t}\r\n\r\n\t\tSpringApplication.run(MyApplication.class, args);\r\n\t}\r\n}\r\n```\r\nbut it doesn&#39;t work.","title":"Spring: set custom error message for missing &quot;--spring.config.location&quot; argument","body":"<p>I'm writing Spring Boot 3.0.2 application.</p>\n<p>My application using external yaml config file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar app.jar --spring.config.import=&quot;file:///config.yml&quot;\n# or \njava -jar -Dspring.config.import=&quot;file:///config.yml&quot; app.jar\n</code></pre>\n<p>If I forget to start app with <code>spring.config.import</code> argument, it crash with error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hostingController': Unsatisfied dependency expressed through field 'hostingService': Error creating bean with name 'hostingService': Unsatisfied dependency expressed through field 'appConf': Error creating bean with name 'appConf': Injection of autowired dependencies failed\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)\n</code></pre>\n<p>it's logical. But is there any way how to set custom error message? This exception looks terrible for my users. I want to add some information on how to fix it.</p>\n<p>I tried:</p>\n<pre><code>package net.example.app;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration;\n\n@SpringBootApplication(\n        proxyBeanMethods = false,\n        exclude=SpringDataWebAutoConfiguration.class,\n        scanBasePackages=&quot;net.example.app&quot;)\npublic class MyApplication {\n    private static Logger log = LoggerFactory.getLogger(MyApplication.class);\n\n    public static void main(String[] args) throws Exception {\n        \n        boolean springConf = false;\n        for (String a : args) {\n            if (a.contains(&quot;--spring.config.location&quot;)) {\n                springConf = true;\n            }\n        }\n\n        if (! springConf) {\n            log.error(&quot;Missing '--spring.config.import' argument.&quot;);\n        }\n\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n<p>but it doesn't work.</p>\n"},{"tags":["java","memory-leaks","leakcanary"],"owner":{"account_id":20954869,"reputation":3,"user_id":15395645,"display_name":"&#195;ss&#227;ss&#238;&#241;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676631992,"creation_date":1676623554,"question_id":75481998,"body_markdown":"I still don&#39;t how to ask in stack but I hope you guys can understand my problem , I have been struggling to solve this leak that happens to me , I have a splash fragment that its only job is to show a video and then replaces with starting page fragment , but when it replaces with starting page fragment **I get this leak\r\n\r\n\r\n     ┬───\r\n        │ GC Root: Global variable in native code\r\n        │\r\n        ├─ java.util.HashMap instance\r\n        │    Leaking: NO (MainMenu↓ is not leaking)\r\n        │    ↓ HashMap[&quot;act&quot;]\r\n        ├─ com.phoehood.games.mafiastory.activities.MainMenu instance\r\n        │    Leaking: NO (Activity#mDestroyed is false)\r\n        │    mApplication instance of android.app.Application\r\n        │    mBase instance of androidx.appcompat.view.ContextThemeWrapper\r\n        │    ↓ MainMenu.fragment\r\n        │               ~~~~~~~~\r\n        ╰→ com.phoehood.games.mafiastory.fragments.Splash instance\r\n        ​     Leaking: YES (ObjectWatcher was watching this because com.phoehood.games.mafiastory.fragments.Splash received\r\n        ​     Fragment#onDestroy() callback and Fragment#mFragmentManager is null)\r\n        ​     Retaining ٢٫٤ kB in 83 objects\r\n        ​     key = b6f24425-36ab-45fa-920e-4e11216bbf03\r\n        ​     watchDurationMillis = 194425\r\n        ​     retainedDurationMillis = 189425**\r\n\r\n**here is my code of splash fragment **\r\n\r\n\r\n`\r\npublic class Splash extends Fragment {\r\n\r\n    private VideoView videoView;\r\n    private View view;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        view = inflater.inflate(R.layout.splash, container, false);\r\n\r\n\r\n        videoView = view.findViewById(R.id.video);\r\n\r\n\r\n        videoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + view.getContext().getPackageName() + &quot;/&quot; + R.raw.splash));\r\n\r\n        videoView.start();\r\n\r\n        videoView.setOnCompletionListener(mp -&gt; ReplaceDelay.replaceFragment(new StartingPage(), R.anim.fade_in, R.anim.fade_out,\r\n                0, 0, getParentFragmentManager()));\r\n\r\n        return view;\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n\r\n        videoView = null;\r\n        view = null;\r\n\r\n    }\r\n}\r\n`\r\n\r\n\r\n\r\n**And this is my startin page fragment**\r\n\r\n\r\n` private RecyclerView recyclerView;\r\n    private Button exit;\r\n    private View view;\r\n    \r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n\r\n       view = inflater.inflate(R.layout.starting_page, container, false);\r\n\r\n        this.findViewById();\r\n\r\n        this.settingOnClick();\r\n\r\n        ReplaceDelay.ads(view);\r\n\r\n        settingRecyclerView();\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    private void findViewById() {\r\n\r\n        recyclerView = view.findViewById(R.id.buttonsRecycler);\r\n        exit = view.findViewById(R.id.exit);\r\n\r\n    }\r\n\r\n\r\n    private void settingOnClick() {\r\n\r\n        exit.setOnClickListener(v -&gt; {\r\n\r\n            new Dialogs(requireContext(), 2, false);\r\n            Sounds.playSound(4);\r\n\r\n        });\r\n\r\n    }\r\n\r\n    private void settingRecyclerView() {\r\n\r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n        arrayList.add(getResources().getString(R.string.play));\r\n        arrayList.add(getResources().getString(R.string.explain));\r\n        arrayList.add(getResources().getString(R.string.about_us));\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutAnimation(AnimationUtils.loadLayoutAnimation(getContext(), R.anim.layout_fade_in));\r\n        recyclerView.setAdapter(new ButtonsAdapter(arrayList , getContext()));\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n\r\n        recyclerView.setClickable(false);\r\n        exit.setClickable(false);\r\n\r\n        new Handler().postDelayed(() -&gt; {\r\n\r\n            recyclerView.setClickable(true);\r\n            exit.setClickable(true);\r\n\r\n        }, 220);\r\n\r\n        ReplaceDelay.showHideButtons(requireActivity() , false);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n\r\n        recyclerView = null;\r\n        exit = null;\r\n        view = null;\r\n    }`\r\n\r\n\r\n\r\n\r\n\r\n**and not to forget the activity class that holds the fragments**\r\n\r\n    private ImageView musicBtn, languageBtn;\r\n    private long mLastClickTime = 0;\r\n    public static  boolean isOn = true;\r\n    private MainMenuMethods mainMenuMethods;\r\n    private Fragment fragment;\r\n    private boolean isInterrupted = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        getApplication().setTheme(R.style.Theme_MafiaTheNarratorStory);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main_menu);\r\n\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment, new Splash())\r\n                .commit();\r\n\r\n\r\n        this.initializeComponents();\r\n\r\n\r\n        this.findingViewByID();\r\n\r\n\r\n        this.settingOnClick();\r\n\r\n\r\n        new Thread(this).start();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private void initializeComponents() {\r\n\r\n        mainMenuMethods = new MainMenuMethods(this);\r\n        BackgroundMusic.playMusic(this);\r\n        isOn = mainMenuMethods.checkIsOn();\r\n        BackgroundMusic.setMuted(!isOn);\r\n\r\n\r\n    }\r\n\r\n\r\n    private void findingViewByID() {\r\n\r\n        languageBtn = findViewById(R.id.language);\r\n        musicBtn = findViewById(R.id.volume);\r\n        mainMenuMethods.musicConditions(musicBtn);\r\n\r\n    }\r\n\r\n\r\n    private void settingOnClick() {\r\n\r\n        musicBtn.setOnClickListener(this);\r\n        languageBtn.setOnClickListener(this);\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        if (!isInterrupted) {\r\n            Sounds.initSounds(this);\r\n            Sounds.loadSounds(this);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n\r\n        int getID = v.getId();\r\n\r\n        if (getID == R.id.volume) {\r\n\r\n            MainMenuMethods.musicStatus(musicBtn, isOn);\r\n            isOn = !isOn;\r\n            MainMenuMethods.saveMusicState(isOn);\r\n            return;\r\n\r\n        }\r\n\r\n\r\n        if (SystemClock.elapsedRealtime() - mLastClickTime &lt; 800) return;\r\n        mLastClickTime = SystemClock.elapsedRealtime();\r\n\r\n        new Dialogs( this, 3, false);\r\n        Sounds.playSound(4);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        new InvisibleUI(MainMenu.this);\r\n        loadLanguage();\r\n\r\n        fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n\r\n        if (fragment instanceof Playing) {\r\n            BackgroundMusic.setMuted(true);\r\n            return;\r\n        }\r\n\r\n        BackgroundMusic.setMuted(!isOn);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n\r\n        BackgroundMusic.setMuted(true);\r\n\r\n        fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n\r\n        if (fragment instanceof Splash) {\r\n            finishAndRemoveTask();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n\r\n        if (fragment instanceof StartingPage) {\r\n\r\n            Sounds.playSound(4);\r\n            new Dialogs(this, 2, false);\r\n            return;\r\n\r\n        }\r\n        if (fragment instanceof Playing) {\r\n\r\n            Sounds.playSound(4);\r\n            new Dialogs(this, 5, false);\r\n            return;\r\n\r\n        }\r\n        if (fragment instanceof Splash) {\r\n\r\n            finishAndRemoveTask();\r\n            return;\r\n\r\n        }\r\n\r\n        if (fragment instanceof ExplainStory) {\r\n\r\n            ReplaceDelay.replaceFragment(new StartingPage(), R.anim.enter_from_left, R.anim.exit_to_right,\r\n                    R.anim.enter_from_right, R.anim.exit_to_left, getSupportFragmentManager());\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        Sounds.playSound(2);\r\n        ReplaceDelay.replaceFragment(new StartingPage(), R.anim.enter_from_left, R.anim.exit_to_right,\r\n                R.anim.enter_from_right, R.anim.exit_to_left, getSupportFragmentManager());\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n\r\n        Sounds.cleanup();\r\n        isInterrupted = true;\r\n        musicBtn = null;\r\n        languageBtn = null;\r\n        mainMenuMethods = null;\r\n        mLastClickTime = 0;\r\n        fragment = null;\r\n\r\n    }`\r\n\r\n\r\nI hope you gusys can help me , I will be appriciated thanks :)\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have tried to set all views to null but the same leak happens and I looked for it and I did not find a solution and I forgot to add the replaceFragment method \r\n\r\n` public static void replaceFragment(Fragment fragment, int firstAnim, int secondAnim, int thirdAnim, int fourthAnim, FragmentManager fragmentManager) {\r\n\r\n        fragmentManager.beginTransaction()\r\n                .setCustomAnimations(firstAnim, secondAnim, thirdAnim, fourthAnim)\r\n                .replace(R.id.fragment, fragment)\r\n                .commit();\r\n\r\n    }`\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"Fragment leaks whenever I replace it with a new fragment in android studio (Java) leak canary","body":"<p>I still don't how to ask in stack but I hope you guys can understand my problem , I have been struggling to solve this leak that happens to me , I have a splash fragment that its only job is to show a video and then replaces with starting page fragment , but when it replaces with starting page fragment **I get this leak</p>\n<pre><code> ┬───\n    │ GC Root: Global variable in native code\n    │\n    ├─ java.util.HashMap instance\n    │    Leaking: NO (MainMenu↓ is not leaking)\n    │    ↓ HashMap[&quot;act&quot;]\n    ├─ com.phoehood.games.mafiastory.activities.MainMenu instance\n    │    Leaking: NO (Activity#mDestroyed is false)\n    │    mApplication instance of android.app.Application\n    │    mBase instance of androidx.appcompat.view.ContextThemeWrapper\n    │    ↓ MainMenu.fragment\n    │               ~~~~~~~~\n    ╰→ com.phoehood.games.mafiastory.fragments.Splash instance\n    ​     Leaking: YES (ObjectWatcher was watching this because com.phoehood.games.mafiastory.fragments.Splash received\n    ​     Fragment#onDestroy() callback and Fragment#mFragmentManager is null)\n    ​     Retaining ٢٫٤ kB in 83 objects\n    ​     key = b6f24425-36ab-45fa-920e-4e11216bbf03\n    ​     watchDurationMillis = 194425\n    ​     retainedDurationMillis = 189425**\n</code></pre>\n<p>**here is my code of splash fragment **</p>\n<p>`\npublic class Splash extends Fragment {</p>\n<pre><code>private VideoView videoView;\nprivate View view;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    view = inflater.inflate(R.layout.splash, container, false);\n\n\n    videoView = view.findViewById(R.id.video);\n\n\n    videoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + view.getContext().getPackageName() + &quot;/&quot; + R.raw.splash));\n\n    videoView.start();\n\n    videoView.setOnCompletionListener(mp -&gt; ReplaceDelay.replaceFragment(new StartingPage(), R.anim.fade_in, R.anim.fade_out,\n            0, 0, getParentFragmentManager()));\n\n    return view;\n\n}\n\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n\n    videoView = null;\n    view = null;\n\n}\n</code></pre>\n<p>}\n`</p>\n<p><strong>And this is my startin page fragment</strong></p>\n<p>` private RecyclerView recyclerView;\nprivate Button exit;\nprivate View view;</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n\n\n   view = inflater.inflate(R.layout.starting_page, container, false);\n\n    this.findViewById();\n\n    this.settingOnClick();\n\n    ReplaceDelay.ads(view);\n\n    settingRecyclerView();\n\n    return view;\n}\n\n\nprivate void findViewById() {\n\n    recyclerView = view.findViewById(R.id.buttonsRecycler);\n    exit = view.findViewById(R.id.exit);\n\n}\n\n\nprivate void settingOnClick() {\n\n    exit.setOnClickListener(v -&gt; {\n\n        new Dialogs(requireContext(), 2, false);\n        Sounds.playSound(4);\n\n    });\n\n}\n\nprivate void settingRecyclerView() {\n\n    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n\n    arrayList.add(getResources().getString(R.string.play));\n    arrayList.add(getResources().getString(R.string.explain));\n    arrayList.add(getResources().getString(R.string.about_us));\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutAnimation(AnimationUtils.loadLayoutAnimation(getContext(), R.anim.layout_fade_in));\n    recyclerView.setAdapter(new ButtonsAdapter(arrayList , getContext()));\n\n}\n\n\n\n@Override\npublic void onResume() {\n    super.onResume();\n\n    recyclerView.setClickable(false);\n    exit.setClickable(false);\n\n    new Handler().postDelayed(() -&gt; {\n\n        recyclerView.setClickable(true);\n        exit.setClickable(true);\n\n    }, 220);\n\n    ReplaceDelay.showHideButtons(requireActivity() , false);\n\n}\n\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n\n    recyclerView = null;\n    exit = null;\n    view = null;\n}`\n</code></pre>\n<p><strong>and not to forget the activity class that holds the fragments</strong></p>\n<pre><code>private ImageView musicBtn, languageBtn;\nprivate long mLastClickTime = 0;\npublic static  boolean isOn = true;\nprivate MainMenuMethods mainMenuMethods;\nprivate Fragment fragment;\nprivate boolean isInterrupted = false;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    getApplication().setTheme(R.style.Theme_MafiaTheNarratorStory);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main_menu);\n\n    getSupportFragmentManager().beginTransaction()\n            .replace(R.id.fragment, new Splash())\n            .commit();\n\n\n    this.initializeComponents();\n\n\n    this.findingViewByID();\n\n\n    this.settingOnClick();\n\n\n    new Thread(this).start();\n\n}\n\n\n\n\n\nprivate void initializeComponents() {\n\n    mainMenuMethods = new MainMenuMethods(this);\n    BackgroundMusic.playMusic(this);\n    isOn = mainMenuMethods.checkIsOn();\n    BackgroundMusic.setMuted(!isOn);\n\n\n}\n\n\nprivate void findingViewByID() {\n\n    languageBtn = findViewById(R.id.language);\n    musicBtn = findViewById(R.id.volume);\n    mainMenuMethods.musicConditions(musicBtn);\n\n}\n\n\nprivate void settingOnClick() {\n\n    musicBtn.setOnClickListener(this);\n    languageBtn.setOnClickListener(this);\n\n\n}\n\n\n@Override\npublic void run() {\n\n    if (!isInterrupted) {\n        Sounds.initSounds(this);\n        Sounds.loadSounds(this);\n    }\n}\n\n\n@Override\npublic void onClick(View v) {\n\n    int getID = v.getId();\n\n    if (getID == R.id.volume) {\n\n        MainMenuMethods.musicStatus(musicBtn, isOn);\n        isOn = !isOn;\n        MainMenuMethods.saveMusicState(isOn);\n        return;\n\n    }\n\n\n    if (SystemClock.elapsedRealtime() - mLastClickTime &lt; 800) return;\n    mLastClickTime = SystemClock.elapsedRealtime();\n\n    new Dialogs( this, 3, false);\n    Sounds.playSound(4);\n\n}\n\n\n@Override\nprotected void onResume() {\n    super.onResume();\n\n    new InvisibleUI(MainMenu.this);\n    loadLanguage();\n\n    fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\n\n    if (fragment instanceof Playing) {\n        BackgroundMusic.setMuted(true);\n        return;\n    }\n\n    BackgroundMusic.setMuted(!isOn);\n\n}\n\n\n@Override\nprotected void onPause() {\n    super.onPause();\n\n    BackgroundMusic.setMuted(true);\n\n    fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\n\n    if (fragment instanceof Splash) {\n        finishAndRemoveTask();\n    }\n}\n\n\n\n@Override\npublic void onBackPressed() {\n\n    fragment = getSupportFragmentManager().findFragmentById(R.id.fragment);\n\n    if (fragment instanceof StartingPage) {\n\n        Sounds.playSound(4);\n        new Dialogs(this, 2, false);\n        return;\n\n    }\n    if (fragment instanceof Playing) {\n\n        Sounds.playSound(4);\n        new Dialogs(this, 5, false);\n        return;\n\n    }\n    if (fragment instanceof Splash) {\n\n        finishAndRemoveTask();\n        return;\n\n    }\n\n    if (fragment instanceof ExplainStory) {\n\n        ReplaceDelay.replaceFragment(new StartingPage(), R.anim.enter_from_left, R.anim.exit_to_right,\n                R.anim.enter_from_right, R.anim.exit_to_left, getSupportFragmentManager());\n\n        return;\n\n    }\n\n    Sounds.playSound(2);\n    ReplaceDelay.replaceFragment(new StartingPage(), R.anim.enter_from_left, R.anim.exit_to_right,\n            R.anim.enter_from_right, R.anim.exit_to_left, getSupportFragmentManager());\n\n}\n\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n\n    Sounds.cleanup();\n    isInterrupted = true;\n    musicBtn = null;\n    languageBtn = null;\n    mainMenuMethods = null;\n    mLastClickTime = 0;\n    fragment = null;\n\n}`\n</code></pre>\n<p>I hope you gusys can help me , I will be appriciated thanks :)</p>\n<p>I have tried to set all views to null but the same leak happens and I looked for it and I did not find a solution and I forgot to add the replaceFragment method</p>\n<p>` public static void replaceFragment(Fragment fragment, int firstAnim, int secondAnim, int thirdAnim, int fourthAnim, FragmentManager fragmentManager) {</p>\n<pre><code>    fragmentManager.beginTransaction()\n            .setCustomAnimations(firstAnim, secondAnim, thirdAnim, fourthAnim)\n            .replace(R.id.fragment, fragment)\n            .commit();\n\n}`\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","amazon-web-services","ssl","ssl-certificate"],"answers":[{"comments":[{"owner":{"account_id":14041706,"reputation":711,"user_id":10142946,"display_name":"Gabriel Robaina"},"score":0,"creation_date":1610643490,"post_id":62530876,"comment_id":116203549,"body_markdown":"How did you link it? I am going through the same problem","body":"How did you link it? I am going through the same problem"},{"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"score":0,"creation_date":1610649060,"post_id":62530876,"comment_id":116206091,"body_markdown":"@GabrielRobaina Maybe https://stackoverflow.com/questions/2138940/import-pem-into-java-key-store?","body":"@GabrielRobaina Maybe <a href=\"https://stackoverflow.com/questions/2138940/import-pem-into-java-key-store\" title=\"import pem into java key store\">stackoverflow.com/questions/2138940/&hellip;</a>?"},{"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"score":0,"creation_date":1610649095,"post_id":62530876,"comment_id":116206108,"body_markdown":"I don&#39;t recall from the top of my head as it&#39;s been a while now :/","body":"I don&#39;t recall from the top of my head as it&#39;s been a while now :/"}],"tags":[],"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592902289,"creation_date":1592902289,"answer_id":62530876,"question_id":62509454,"body_markdown":"So I figured out what was wrong: not having any sort of custom truststore defined for my jboss meant that the AWS SDK pulled the regular cacerts truststore from `$JAVA_HOME/lib/security/cacerts`. Defining my own truststore (which lacked all the certificates from the cacerts truststore) - meant that AWS SDK had nowhere to fetch the regular certificates.\r\n\r\nSo to solve it: I imported my `rds-ca-2019-root.pem` into the above mentioned cacerts file and linked that as my server truststore in my standalone.xml. ","title":"AWS Java SDK SSL Certificates","body":"<p>So I figured out what was wrong: not having any sort of custom truststore defined for my jboss meant that the AWS SDK pulled the regular cacerts truststore from <code>$JAVA_HOME/lib/security/cacerts</code>. Defining my own truststore (which lacked all the certificates from the cacerts truststore) - meant that AWS SDK had nowhere to fetch the regular certificates.</p>\n<p>So to solve it: I imported my <code>rds-ca-2019-root.pem</code> into the above mentioned cacerts file and linked that as my server truststore in my standalone.xml.</p>\n"},{"comments":[{"owner":{"account_id":11323077,"reputation":95,"user_id":8302898,"display_name":"aabceh"},"score":0,"creation_date":1650293969,"post_id":69570438,"comment_id":127075291,"body_markdown":"The default password is `changeit` not `chageit` if anyone is having trouble with that","body":"The default password is <code>changeit</code> not <code>chageit</code> if anyone is having trouble with that"}],"tags":[],"owner":{"account_id":3875313,"reputation":1511,"user_id":3209508,"accept_rate":74,"display_name":"Asanka sanjaya"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676631736,"creation_date":1634213329,"answer_id":69570438,"question_id":62509454,"body_markdown":"Ognjen&#39;s answer helped me to troubleshoot this issue. I had same problem and the issue was due to AWS SDK using custom truststore that I built for RDS connection. I had specified the custom truststore by setting `javax.net.ssl.trustStore` parameter explicitly.\r\n\r\n**The solution I applied:**\r\nI used the script in [this][1] documentation to import the `rds-combined-ca-bundle.pem` into the `$JAVA_HOME/lib/security/cacerts` (You may find this `cacerts` file inside the `jre/lib/security` folder if you have the JDK installed.). Then I removed the `javax.net.ssl.trustStore` setting that I had. Then java started using the default `cacerts` file and now all is good.\r\n\r\nThe default password for java default truststore is `changeit`. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html","title":"AWS Java SDK SSL Certificates","body":"<p>Ognjen's answer helped me to troubleshoot this issue. I had same problem and the issue was due to AWS SDK using custom truststore that I built for RDS connection. I had specified the custom truststore by setting <code>javax.net.ssl.trustStore</code> parameter explicitly.</p>\n<p><strong>The solution I applied:</strong>\nI used the script in <a href=\"https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html\" rel=\"nofollow noreferrer\">this</a> documentation to import the <code>rds-combined-ca-bundle.pem</code> into the <code>$JAVA_HOME/lib/security/cacerts</code> (You may find this <code>cacerts</code> file inside the <code>jre/lib/security</code> folder if you have the JDK installed.). Then I removed the <code>javax.net.ssl.trustStore</code> setting that I had. Then java started using the default <code>cacerts</code> file and now all is good.</p>\n<p>The default password for java default truststore is <code>changeit</code>.</p>\n"},{"comments":[{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1639064606,"post_id":70098146,"comment_id":124257915,"body_markdown":"Thx, is this possible in AWS S3 Java SDK 2.x, and code reference please?","body":"Thx, is this possible in AWS S3 Java SDK 2.x, and code reference please?"}],"tags":[],"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637847804,"creation_date":1637765206,"answer_id":70098146,"question_id":62509454,"body_markdown":"Ognjen and Asanka propose to use the same truststore for whole application (or application server) that is not suitable in some cases. But AWS Java SDK provides ``ApacheHttpClientConfig`` via ``ClientConfiguration`` to affect Apache HTTP client, e.g.:\r\n\r\n```\r\nimport com.amazonaws.ApacheHttpClientConfig;\r\nimport com.amazonaws.ClientConfiguration;\r\nimport com.amazonaws.http.conn.ssl.SdkTLSSocketFactory;\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.SSLContext;\r\nimport org.apache.http.conn.socket.ConnectionSocketFactory;\r\n\r\nSSLContext myContext = ...\r\nHostnameVerifier myVerifier = ...\r\n\r\nConnectionSocketFactory factory = new SdkTLSSocketFactory(myContext, myVerifier);\r\n\r\nClientConfiguration clientConfiguration = new ClientConfiguration();\r\nclientConfiguration.getApacheHttpClientConfig().setSslSocketFactory(factory);\r\n\r\nAmazonS3 s3client = AmazonS3ClientBuilder.standard()\r\n    .withClientConfiguration(clientConfiguration)\r\n    .build();\r\n```\r\n\r\nEdit: See also [StackOverflow question #47913449][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47913449","title":"AWS Java SDK SSL Certificates","body":"<p>Ognjen and Asanka propose to use the same truststore for whole application (or application server) that is not suitable in some cases. But AWS Java SDK provides <code>ApacheHttpClientConfig</code> via <code>ClientConfiguration</code> to affect Apache HTTP client, e.g.:</p>\n<pre><code>import com.amazonaws.ApacheHttpClientConfig;\nimport com.amazonaws.ClientConfiguration;\nimport com.amazonaws.http.conn.ssl.SdkTLSSocketFactory;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport org.apache.http.conn.socket.ConnectionSocketFactory;\n\nSSLContext myContext = ...\nHostnameVerifier myVerifier = ...\n\nConnectionSocketFactory factory = new SdkTLSSocketFactory(myContext, myVerifier);\n\nClientConfiguration clientConfiguration = new ClientConfiguration();\nclientConfiguration.getApacheHttpClientConfig().setSslSocketFactory(factory);\n\nAmazonS3 s3client = AmazonS3ClientBuilder.standard()\n    .withClientConfiguration(clientConfiguration)\n    .build();\n</code></pre>\n<p>Edit: See also <a href=\"https://stackoverflow.com/questions/47913449\">StackOverflow question #47913449</a>.</p>\n"}],"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9382,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62530876,"answer_count":3,"score":5,"last_activity_date":1676631736,"creation_date":1592811106,"question_id":62509454,"body_markdown":"I have a JBoss AS7 connecting to AWS and specifically to S3 over the AWS SDK for Java, I have the access and secret keys, and everything runs fine. I use the S3 for various file sharing.\r\n\r\nThe JBoss&#39; datasource connects to AWS RDS. I&#39;ve enabled SSL encryption for the datasource - I have the `rds-ca-2019-root.pem` in my truststore configured in my standalone.xml, and my RDS datasource connects and verifies the SSL with no problem.\r\nHowever, when I try to connect to S3 over the SDK (when the truststore with the RDS cert is enabled), I get the following exception:\r\n\r\n```Caused by: com.amazonaws.SdkClientException: Unable to execute HTTP request: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target```\r\n\r\nSo, no truststore enabled: I can connect to S3 through SDK just fine. When I enable the truststore with the RDS certificate: my SDK -&gt; S3 connection breaks. \r\n\r\nI can&#39;t figure out what certificate I need to add to the truststore so that the SDK can work, or do I need to configure the SDK to use TLS somehow?","title":"AWS Java SDK SSL Certificates","body":"<p>I have a JBoss AS7 connecting to AWS and specifically to S3 over the AWS SDK for Java, I have the access and secret keys, and everything runs fine. I use the S3 for various file sharing.</p>\n<p>The JBoss' datasource connects to AWS RDS. I've enabled SSL encryption for the datasource - I have the <code>rds-ca-2019-root.pem</code> in my truststore configured in my standalone.xml, and my RDS datasource connects and verifies the SSL with no problem.\nHowever, when I try to connect to S3 over the SDK (when the truststore with the RDS cert is enabled), I get the following exception:</p>\n<p><code>Caused by: com.amazonaws.SdkClientException: Unable to execute HTTP request: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></p>\n<p>So, no truststore enabled: I can connect to S3 through SDK just fine. When I enable the truststore with the RDS certificate: my SDK -&gt; S3 connection breaks.</p>\n<p>I can't figure out what certificate I need to add to the truststore so that the SDK can work, or do I need to configure the SDK to use TLS somehow?</p>\n"},{"tags":["java","reflection","constructor"],"answers":[{"comments":[{"owner":{"account_id":1730192,"reputation":333,"user_id":1583951,"accept_rate":53,"display_name":"zoro"},"score":0,"creation_date":1431436668,"post_id":30188873,"comment_id":48489097,"body_markdown":"wow, after changing as your suggestion, My super genius program is working fine now. \nJB Nizet: Thank you, you&#39;re a genius. !!","body":"wow, after changing as your suggestion, My super genius program is working fine now.  JB Nizet: Thank you, you&#39;re a genius. !!"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1431436859,"post_id":30188873,"comment_id":48489272,"body_markdown":"@zoro thank you, but I&#39;m not a genius. Just an experimented developer who knows that most programming problems can be solved by reading the documentation :)","body":"@zoro thank you, but I&#39;m not a genius. Just an experimented developer who knows that most programming problems can be solved by reading the documentation :)"}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1431428426,"creation_date":1431428426,"answer_id":30188873,"question_id":30188805,"body_markdown":"You&#39;re calling the first of the two constructors without argument. But how can you be sure that the first constructor in the array is the one without argument, and not the one expecting a String?\r\n\r\nYou can&#39;t, because [the javadoc][1] says:\r\n\r\n&gt; The elements in the array returned are not sorted and are not in any particular order.\r\n\r\nIf you want a reference to the no-argument constructor of the class, you should call\r\n  \r\n    cl.getDeclaredConstructor();\r\n\r\nIf you want a reference to the constructor taking a STring as argument, you should call\r\n  \r\n    cl.getDeclaredConstructor(String.class);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredConstructors%28%29","title":"reflection newinstance constructor java wrong number of arguments","body":"<p>You're calling the first of the two constructors without argument. But how can you be sure that the first constructor in the array is the one without argument, and not the one expecting a String?</p>\n\n<p>You can't, because <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredConstructors%28%29\" rel=\"noreferrer\">the javadoc</a> says:</p>\n\n<blockquote>\n  <p>The elements in the array returned are not sorted and are not in any particular order.</p>\n</blockquote>\n\n<p>If you want a reference to the no-argument constructor of the class, you should call</p>\n\n<pre><code>cl.getDeclaredConstructor();\n</code></pre>\n\n<p>If you want a reference to the constructor taking a STring as argument, you should call</p>\n\n<pre><code>cl.getDeclaredConstructor(String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13356416,"reputation":372,"user_id":9639790,"display_name":"shreeramaute"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676631426,"creation_date":1676631426,"answer_id":75483388,"question_id":30188805,"body_markdown":"&gt; the &quot;wrong number of arguments&quot; error on call of newInstance() appears till Java 10, which is resolved in Java 11 onwards.\r\n\r\n@JBNizet solution is right, I would like to add to it, you can get array of constructors, loop through each constructor, add a conditional check for parameter counts as per your need and do the respective configurations as follows:\r\n\r\n    Constructor&lt;?&gt;[] constructors = cl.getDeclaredConstructors();\r\n    try {\r\n          for( Constructor construct : constructors){\r\n              if (construct.getParameterCount() == 0) {\r\n               p1 = (PrintClass) construct.newInstance(null); \r\n              }\r\n              p2 = (PrintClass) construct.newInstance(&quot;this is not PrintClass&quot;);\r\n          }\r\n          p1.print();\r\n          p2.print();\r\n        } catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        }","title":"reflection newinstance constructor java wrong number of arguments","body":"<blockquote>\n<p>the &quot;wrong number of arguments&quot; error on call of newInstance() appears till Java 10, which is resolved in Java 11 onwards.</p>\n</blockquote>\n<p>@JBNizet solution is right, I would like to add to it, you can get array of constructors, loop through each constructor, add a conditional check for parameter counts as per your need and do the respective configurations as follows:</p>\n<pre><code>Constructor&lt;?&gt;[] constructors = cl.getDeclaredConstructors();\ntry {\n      for( Constructor construct : constructors){\n          if (construct.getParameterCount() == 0) {\n           p1 = (PrintClass) construct.newInstance(null); \n          }\n          p2 = (PrintClass) construct.newInstance(&quot;this is not PrintClass&quot;);\n      }\n      p1.print();\n      p2.print();\n    } catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":1730192,"reputation":333,"user_id":1583951,"accept_rate":53,"display_name":"zoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4983,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30188873,"answer_count":2,"score":1,"last_activity_date":1676631426,"creation_date":1431428219,"question_id":30188805,"body_markdown":"\r\nI am learning Reflection in Java, and trying to make an example of Constructor. But there is a problem: &quot;wrong number of arguments&quot;.\r\nSearching through google and stackoverflow, I cannot find the same problem as I am currently facing. \r\ncan anyone please help me to understand the problem, thank you so much.\r\nThis is my codes:\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\tPrintClass f = new PrintClass();\r\n\t\tClass cl = f.getClass();\r\n\t\tConstructor&lt;?&gt; constructor[] = cl.getDeclaredConstructors(); // cl.getDeclaredConstructors() also won&#39;t work...\r\n\r\n\t\tf.field1 = 3;\r\n\t\tPrintClass p1 = null;\r\n\t\tPrintClass p2 = null;\r\n\r\n\t\ttry {\r\n\t\t\tp1 = (PrintClass) constructor[0].newInstance(); // constructor[0].newInstance((Object[])args) also won&#39;t work...\r\n\t\t\tp2 = (PrintClass) constructor[1].newInstance(&quot;this is not PrintClass-------&quot;);\r\n\r\n\t\t\tp1.print();\r\n\t\t\tp2.print();\r\n\r\n\t\t} catch (InstantiationException | IllegalAccessException\r\n\t\t\t\t| IllegalArgumentException | InvocationTargetException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t    }\r\n    }\r\n\r\n    class PrintClass {\r\n\tString s = &quot;this is PrintClass...&quot;;\r\n\tint field1;\r\n\r\n\tpublic PrintClass(String s) {\r\n\t\tthis.s = s;\r\n\t}\r\n\r\n\tpublic PrintClass() {\r\n\t}\r\n\r\n\tpublic void print() {\r\n\t\tSystem.out.println(s);\r\n\t}\r\n}\r\n\r\nand this is the error\r\n\r\n    java.lang.IllegalArgumentException: wrong number of arguments\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat reflection.MainClass.main(MainClass.java:18)\r\nAgain, thank you so much for helping me understand the problem. :)","title":"reflection newinstance constructor java wrong number of arguments","body":"<p>I am learning Reflection in Java, and trying to make an example of Constructor. But there is a problem: \"wrong number of arguments\".\nSearching through google and stackoverflow, I cannot find the same problem as I am currently facing. \ncan anyone please help me to understand the problem, thank you so much.\nThis is my codes:</p>\n\n<pre><code>    public static void main(String[] args) {\n    PrintClass f = new PrintClass();\n    Class cl = f.getClass();\n    Constructor&lt;?&gt; constructor[] = cl.getDeclaredConstructors(); // cl.getDeclaredConstructors() also won't work...\n\n    f.field1 = 3;\n    PrintClass p1 = null;\n    PrintClass p2 = null;\n\n    try {\n        p1 = (PrintClass) constructor[0].newInstance(); // constructor[0].newInstance((Object[])args) also won't work...\n        p2 = (PrintClass) constructor[1].newInstance(\"this is not PrintClass-------\");\n\n        p1.print();\n        p2.print();\n\n    } catch (InstantiationException | IllegalAccessException\n            | IllegalArgumentException | InvocationTargetException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    }\n}\n\nclass PrintClass {\nString s = \"this is PrintClass...\";\nint field1;\n\npublic PrintClass(String s) {\n    this.s = s;\n}\n\npublic PrintClass() {\n}\n\npublic void print() {\n    System.out.println(s);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and this is the error</p>\n\n<pre><code>java.lang.IllegalArgumentException: wrong number of arguments\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\nat java.lang.reflect.Constructor.newInstance(Unknown Source)\nat reflection.MainClass.main(MainClass.java:18)\n</code></pre>\n\n<p>Again, thank you so much for helping me understand the problem. :)</p>\n"},{"tags":["java","apache-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":18562970,"reputation":392,"user_id":13526580,"display_name":"Jessica Vasey"},"score":1,"creation_date":1674848564,"post_id":75261805,"comment_id":132808475,"body_markdown":"Why would you need 60 consumers? What&#39;s the logic behind this. Increasing the number of partitions increases the throughput but also has some downfalls such as increased downtime when there is a new leader election.\n\nYou currently have 3 partitions and if there are 60 consumers then majority of those consumers will be inactive. Usually you should have as many consumers as partitions","body":"Why would you need 60 consumers? What&#39;s the logic behind this. Increasing the number of partitions increases the throughput but also has some downfalls such as increased downtime when there is a new leader election.  You currently have 3 partitions and if there are 60 consumers then majority of those consumers will be inactive. Usually you should have as many consumers as partitions"}],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1674887764,"post_id":75264876,"comment_id":132813949,"body_markdown":"Thanks @OneCricketeer for the answer. Thank you for confirming the waste of resource, upvoted. Before I accept, I would like to ask for some clarifications on the second part of your answer please. If you look at my snippet, ```.flatMap(oneMessage -&gt; consume(oneMessage))``` + ```private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) ``` the event processing (saving to a repository) as well as the transformation of event is already NON-blocking. Can the reactor core / event loop &quot;separate the event processing&quot; already, without me relying to external API?","body":"Thanks @OneCricketeer for the answer. Thank you for confirming the waste of resource, upvoted. Before I accept, I would like to ask for some clarifications on the second part of your answer please. If you look at my snippet, <code>.flatMap(oneMessage -&gt; consume(oneMessage))</code> + <code>private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) </code> the event processing (saving to a repository) as well as the transformation of event is already NON-blocking. Can the reactor core / event loop &quot;separate the event processing&quot; already, without me relying to external API?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674916106,"post_id":75264876,"comment_id":132818052,"body_markdown":"It&#39;s not decoupled, though. You&#39;re waiting on the result of the save method before the function ends and processes the next event. Then your doOnNext / doOnError are blocking calls to print to IO streams","body":"It&#39;s not decoupled, though. You&#39;re waiting on the result of the save method before the function ends and processes the next event. Then your doOnNext / doOnError are blocking calls to print to IO streams"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1674938599,"post_id":75264876,"comment_id":132822132,"body_markdown":"Understood. For the save method, I use ReactiveCassandraRepository, and tested trying to insert a very consequent data. I timed and used BlockHound, I believe it is non blocking. Will double check. As for the doOnNext / doOnError, I am using an async LOGGER. But again, let me double check","body":"Understood. For the save method, I use ReactiveCassandraRepository, and tested trying to insert a very consequent data. I timed and used BlockHound, I believe it is non blocking. Will double check. As for the doOnNext / doOnError, I am using an async LOGGER. But again, let me double check"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674877402,"creation_date":1674870727,"answer_id":75264876,"question_id":75261805,"body_markdown":"&gt; since the topic has only three partitions, that at any time, 57 other consumers will be wasted?\r\n\r\nYes. That&#39;s how Kafka consumer API works. The framework you use around it isn&#39;t relevant. \r\n\r\n&gt; benefits from scaling up the number of containers when the number of partitions is low\r\n\r\nYou need to separate the event processing (saving to a reposistory) from the actual consumption / poll loop. For example, push transformed events onto a non-blocking, external queue / external API, without waiting for a response. Then setup an autoscaler on that API endpoint. ","title":"Reactor Kafka - Bottleneck if the number of consumer is greater than the number of partition","body":"<blockquote>\n<p>since the topic has only three partitions, that at any time, 57 other consumers will be wasted?</p>\n</blockquote>\n<p>Yes. That's how Kafka consumer API works. The framework you use around it isn't relevant.</p>\n<blockquote>\n<p>benefits from scaling up the number of containers when the number of partitions is low</p>\n</blockquote>\n<p>You need to separate the event processing (saving to a reposistory) from the actual consumption / poll loop. For example, push transformed events onto a non-blocking, external queue / external API, without waiting for a response. Then setup an autoscaler on that API endpoint.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674916171,"post_id":75265516,"comment_id":132818058,"body_markdown":"Separate consumer group wouldn&#39;t work well here since that would duplicate data in what appears to be a database save action","body":"Separate consumer group wouldn&#39;t work well here since that would duplicate data in what appears to be a database save action"},{"owner":{"account_id":9083183,"reputation":172,"user_id":7366323,"display_name":"Aritra Sur Roy"},"score":0,"creation_date":1674963562,"post_id":75265516,"comment_id":132825221,"body_markdown":"Yes multiple consumer groups would be reading the same data multiple times. However when adding to the db, one can check if data is already saved to the db and if it is then don&#39;t save.","body":"Yes multiple consumer groups would be reading the same data multiple times. However when adding to the db, one can check if data is already saved to the db and if it is then don&#39;t save."},{"owner":{"account_id":9083183,"reputation":172,"user_id":7366323,"display_name":"Aritra Sur Roy"},"score":0,"creation_date":1674964613,"post_id":75265516,"comment_id":132825300,"body_markdown":"Also one can try something like, one consumer group reads from even offset and others from odd offset. That would save the extra call to db to check if it&#39;s already processed or not.","body":"Also one can try something like, one consumer group reads from even offset and others from odd offset. That would save the extra call to db to check if it&#39;s already processed or not."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674976270,"post_id":75265516,"comment_id":132826188,"body_markdown":"That&#39;s not how Kafka consumer groups work. Offsets are read in sequence, not selectively","body":"That&#39;s not how Kafka consumer groups work. Offsets are read in sequence, not selectively"},{"owner":{"account_id":9083183,"reputation":172,"user_id":7366323,"display_name":"Aritra Sur Roy"},"score":0,"creation_date":1674988692,"post_id":75265516,"comment_id":132827851,"body_markdown":"I&#39;m not saying we have to read offsets selectively, but when the consumer consumes a message from a partition of a topic, it can skip the message of an odd or even offset in a partition based on the consumer group its in. I believe the api can provide the offset of the message. Other consumer group can continue with the leftover offsets as offsets are maintained per consumer group I believe.","body":"I&#39;m not saying we have to read offsets selectively, but when the consumer consumes a message from a partition of a topic, it can skip the message of an odd or even offset in a partition based on the consumer group its in. I believe the api can provide the offset of the message. Other consumer group can continue with the leftover offsets as offsets are maintained per consumer group I believe."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675102475,"post_id":75265516,"comment_id":132852187,"body_markdown":"Incorrect. Only one consumer can be assigned a partition at a time. Therefore, if you filter based on offset, you are skipping events, not making another in the group process it.","body":"Incorrect. Only one consumer can be assigned a partition at a time. Therefore, if you filter based on offset, you are skipping events, not making another in the group process it."}],"tags":[],"owner":{"account_id":9083183,"reputation":172,"user_id":7366323,"display_name":"Aritra Sur Roy"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674882657,"creation_date":1674882657,"answer_id":75265516,"question_id":75261805,"body_markdown":"&gt; Does it mean, since the topic has only three partitions, that at any time, 57 other consumers will be wasted?\r\n\r\nYes. For a single consumer group you can have as many concurrent consumers as the number of partitions.\r\n\r\n&gt; How to benefit from scaling up the number of containers when the number of partitions is low please?\r\n\r\nYou might try to register each of those containers in different consumer groups of number of partitions. That will work. But as mentioned by @OneCricketeer you should have a separate event processing pipeline. That would be the best approach if you don&#39;t want to process the same event multiple times.\r\n","title":"Reactor Kafka - Bottleneck if the number of consumer is greater than the number of partition","body":"<blockquote>\n<p>Does it mean, since the topic has only three partitions, that at any time, 57 other consumers will be wasted?</p>\n</blockquote>\n<p>Yes. For a single consumer group you can have as many concurrent consumers as the number of partitions.</p>\n<blockquote>\n<p>How to benefit from scaling up the number of containers when the number of partitions is low please?</p>\n</blockquote>\n<p>You might try to register each of those containers in different consumer groups of number of partitions. That will work. But as mentioned by @OneCricketeer you should have a separate event processing pipeline. That would be the best approach if you don't want to process the same event multiple times.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676631350,"creation_date":1674842757,"question_id":75261805,"body_markdown":"Is the number of partitions is a bottleneck to performance if the number of kafka consumer is (much) greater than the number of partitions?\r\n\r\nLet&#39;s say I have a topic named the-topic with only three partitions.\r\n\r\nNow, I have this below app in order to consume from the topic:\r\n\r\n```\r\n@Service\r\npublic class MyConsumer implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private KafkaReceiver&lt;String, String&gt; kafkaReceiver;\r\n\r\n\r\n    @Override\r\n    public void run(String... args) {\r\n        myConsumer().subscribe();\r\n    }\r\n\r\n    public Flux&lt;String&gt; myConsumer() {\r\n        return kafkaReceiver.receive()\r\n                .flatMap(oneMessage -&gt; consume(oneMessage))\r\n                .doOnNext(abc -&gt; System.out.println(&quot;successfully consumed {}={}&quot; + abc))\r\n                .doOnError(throwable -&gt; System.out.println(&quot;something bad happened while consuming : {}&quot; + throwable.getMessage()));\r\n    }\r\n\r\n    private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) {\r\n        // this first line is a heavy in memory computation which transforms the incoming message to a data to be saved.\r\n        // it is very intensive computation, but has been tested NON BLOCKING by different tools, and takes 1 second :D\r\n        String transformedStringCPUIntensiveNonButNonBLocking = transformDataNonBlockingWithIntensiveOperation(oneMessage);\r\n        //then, just saved the correct transformed data into any REACTIVE repository :)\r\n        return myReactiveRepository.save(transformedStringCPUIntensiveNonButNonBLocking);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI dockerized the app and deploy in Kubernetes.\r\n\r\nWith cloud providers, I am able to easily deploy 60 of those containers, 60 of those apps.\r\n\r\nAnd suppose for the sake of this question, each of my app are super resilient, never crashes.\r\n\r\nDoes it mean, since the topic has only three partitions, that at any time, 57 other consumers will be wasted?\r\n\r\nHow to benefit from scaling up the number of containers when the number of partitions is low?\r\n","title":"Reactor Kafka - Bottleneck if the number of consumer is greater than the number of partition","body":"<p>Is the number of partitions is a bottleneck to performance if the number of kafka consumer is (much) greater than the number of partitions?</p>\n<p>Let's say I have a topic named the-topic with only three partitions.</p>\n<p>Now, I have this below app in order to consume from the topic:</p>\n<pre><code>@Service\npublic class MyConsumer implements CommandLineRunner {\n\n    @Autowired\n    private KafkaReceiver&lt;String, String&gt; kafkaReceiver;\n\n\n    @Override\n    public void run(String... args) {\n        myConsumer().subscribe();\n    }\n\n    public Flux&lt;String&gt; myConsumer() {\n        return kafkaReceiver.receive()\n                .flatMap(oneMessage -&gt; consume(oneMessage))\n                .doOnNext(abc -&gt; System.out.println(&quot;successfully consumed {}={}&quot; + abc))\n                .doOnError(throwable -&gt; System.out.println(&quot;something bad happened while consuming : {}&quot; + throwable.getMessage()));\n    }\n\n    private Mono&lt;String&gt; consume(ConsumerRecord&lt;String, String&gt; oneMessage) {\n        // this first line is a heavy in memory computation which transforms the incoming message to a data to be saved.\n        // it is very intensive computation, but has been tested NON BLOCKING by different tools, and takes 1 second :D\n        String transformedStringCPUIntensiveNonButNonBLocking = transformDataNonBlockingWithIntensiveOperation(oneMessage);\n        //then, just saved the correct transformed data into any REACTIVE repository :)\n        return myReactiveRepository.save(transformedStringCPUIntensiveNonButNonBLocking);\n    }\n\n}\n</code></pre>\n<p>I dockerized the app and deploy in Kubernetes.</p>\n<p>With cloud providers, I am able to easily deploy 60 of those containers, 60 of those apps.</p>\n<p>And suppose for the sake of this question, each of my app are super resilient, never crashes.</p>\n<p>Does it mean, since the topic has only three partitions, that at any time, 57 other consumers will be wasted?</p>\n<p>How to benefit from scaling up the number of containers when the number of partitions is low?</p>\n"},{"tags":["java","kubernetes","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675175872,"post_id":75298622,"comment_id":132869187,"body_markdown":"Try it out and measure. There is no easy answer as it all depends on the available resources, how well your code is written. So the only thing to do is measure it.","body":"Try it out and measure. There is no easy answer as it all depends on the available resources, how well your code is written. So the only thing to do is measure it."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675230405,"post_id":75298622,"comment_id":132881470,"body_markdown":"You probably don&#39;t need to multiply memory. 3 cores should be able to distribute threads in parallel. As mentioned, measure your app heap space for memory, though","body":"You probably don&#39;t need to multiply memory. 3 cores should be able to distribute threads in parallel. As mentioned, measure your app heap space for memory, though"}],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675231504,"post_id":75306124,"comment_id":132881615,"body_markdown":"Very clear answer. Upvoted. Before I accept, suppose high availability is a constant. (Suppose the containers never crashes for either of the two solutions, I just want to take this variable out of the picture, but based on what you say, I will go with design 1). Does it means, in terms of performance, 1 java kafka consumer running in its own container, multiply by 3, has no difference than one bigger container, but only one, with .setConcurrency(3)?","body":"Very clear answer. Upvoted. Before I accept, suppose high availability is a constant. (Suppose the containers never crashes for either of the two solutions, I just want to take this variable out of the picture, but based on what you say, I will go with design 1). Does it means, in terms of performance, 1 java kafka consumer running in its own container, multiply by 3, has no difference than one bigger container, but only one, with .setConcurrency(3)?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675232383,"post_id":75306124,"comment_id":132881721,"body_markdown":"As mentioned, you need to do your own benchmarks to adequately capture performance differences. There will be a difference, yes, but it may be unnoticeable","body":"As mentioned, you need to do your own benchmarks to adequately capture performance differences. There will be a difference, yes, but it may be unnoticeable"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675232487,"post_id":75306124,"comment_id":132881733,"body_markdown":"Also, kubernetes can (and will) restart the pods at any time, especially during cluster upgrades, for example. So, don&#39;t assume pods are constant","body":"Also, kubernetes can (and will) restart the pods at any time, especially during cluster upgrades, for example. So, don&#39;t assume pods are constant"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675232655,"post_id":75306124,"comment_id":132881770,"body_markdown":"Agreed. starting my benmark right away, but it seems from a design point of view, those are equivalent (in terms of performance only)","body":"Agreed. starting my benmark right away, but it seems from a design point of view, those are equivalent (in terms of performance only)"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675243297,"post_id":75306124,"comment_id":132884502,"body_markdown":"So far, not seeing any difference between the two (while the services are up) it seems like this ```.setConcurrency(3)``` was created for usecases unrelated to Kubernetes","body":"So far, not seeing any difference between the two (while the services are up) it seems like this <code>.setConcurrency(3)</code> was created for usecases unrelated to Kubernetes"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675271801,"post_id":75306124,"comment_id":132894287,"body_markdown":"Or, can still be used in Kubernetes. If you have 9 partitions, you could run 3 pods with 3 concurrency... Eventually, you will run into a thread-per-core limit on your containers, in which case, you can add more pods","body":"Or, can still be used in Kubernetes. If you have 9 partitions, you could run 3 pods with 3 concurrency... Eventually, you will run into a thread-per-core limit on your containers, in which case, you can add more pods"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675230601,"creation_date":1675230601,"answer_id":75306124,"question_id":75298622,"body_markdown":"The difference is high availability.\r\n\r\nIf you have any one pod, consuming all three partitions, and it stops, then you need additional config in k8s to have a RestartPolicy.\r\n\r\nAlternatively, have a ReplicaSet with a maxContainers of 3, and then Kafka Consumer API can rebalance when any one of them starts/stops.\r\n\r\nYou can also look into KEDA to autoscale based on consumer lag. ","title":"Difference between 3 apps setConcurrency(1) vs 1 app setConcurrency(3)","body":"<p>The difference is high availability.</p>\n<p>If you have any one pod, consuming all three partitions, and it stops, then you need additional config in k8s to have a RestartPolicy.</p>\n<p>Alternatively, have a ReplicaSet with a maxContainers of 3, and then Kafka Consumer API can rebalance when any one of them starts/stops.</p>\n<p>You can also look into KEDA to autoscale based on consumer lag.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675787006,"accepted_answer_id":75306124,"answer_count":1,"score":-2,"last_activity_date":1676631304,"creation_date":1675175147,"question_id":75298622,"body_markdown":"I have a question regarding Kafka concurrency with Spring Kafka. I have one Kafka topic ```theimportanttopic``` where many messages are being sent over it. Hard fact, this Kafka topic has three partitions. (Calling them theimportanttopic-0 theimportanttopic-1 theimportanttopic-2)\r\n\r\nIt is known Kafka does not allow multiple consumers from one same group to consume messages from one same partition. I.e, no two consumers within one same group can consume from theimportanttopic-0.\r\n\r\nMy Spring Kafka application code is as follow:\r\n\r\n```java\r\n@Configuration\r\nclass KafkaConsumerConfig {\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;mykafka.com:9092&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.setConcurrency(1); //HERE\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\nclass KafkaListenersExample {\r\n\r\n    Logger LOG = LoggerFactory.getLogger(KafkaListenersExample.class);\r\n\r\n    @KafkaListener(topics = &quot;theimportanttopic&quot;, groupId = &quot;uniquegroup&quot;)\r\n    void listener(String data) {\r\n        LOG.info(data);\r\n        doSomethingImportantWithTheData(data);\r\n    }\r\n}\r\n```\r\n\r\nWith that, I am having a hard time understanding the difference between the two constructs:\r\n\r\nSuppose this application is already dockerized and a cloud environment is ready for use.\r\n\r\nDesign number 1: this application, since it is in a container deployed on the cloud, like Kubernetes, spin up three instances of it.\r\nBy definition, I will have three of those &quot;apps&quot; and each one of the app will consume from one out of the three partition.\r\n\r\n```none\r\nkubectl get pods\r\nmy-app-AaAaAaAaAa-AaAaA\r\nmy-app-BbBbBbBbBb-BbBbB\r\nmy-app-CcCcCcCcCc-CcCcC\r\n```\r\n(and hypothetically, my-app-AaAaAaAaAa-AaAaA consumes theimportanttopic-0, my-app-BbBbBbBbBb-BbBbB theimportanttopic-1, my-app-CcCcCcCcCc-CcCcCtheimportanttopic-2)\r\n\r\n\r\nDesign number 2:\r\nOn the other hand, I can have one, and only one of this app my-app in container, set the concurrency to 3. (same code as above, just one line change)\r\n\r\n```java\r\n@Bean\r\npublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\r\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    factory.setConsumerFactory(consumerFactory());\r\n    factory.setConcurrency(3);\r\n    return factory;\r\n}\r\n```\r\n\r\nWhat are the differences between the two designs please?\r\n\r\nWhich one is preferred and why please?\r\n\r\nThis is not an opinion based question. What is the performance, the cost, the pros and cons between design number 1 and design number 2?\r\n\r\n","title":"Difference between 3 apps setConcurrency(1) vs 1 app setConcurrency(3)","body":"<p>I have a question regarding Kafka concurrency with Spring Kafka. I have one Kafka topic <code>theimportanttopic</code> where many messages are being sent over it. Hard fact, this Kafka topic has three partitions. (Calling them theimportanttopic-0 theimportanttopic-1 theimportanttopic-2)</p>\n<p>It is known Kafka does not allow multiple consumers from one same group to consume messages from one same partition. I.e, no two consumers within one same group can consume from theimportanttopic-0.</p>\n<p>My Spring Kafka application code is as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass KafkaConsumerConfig {\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;mykafka.com:9092&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return props;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.setConcurrency(1); //HERE\n        return factory;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass KafkaListenersExample {\n\n    Logger LOG = LoggerFactory.getLogger(KafkaListenersExample.class);\n\n    @KafkaListener(topics = &quot;theimportanttopic&quot;, groupId = &quot;uniquegroup&quot;)\n    void listener(String data) {\n        LOG.info(data);\n        doSomethingImportantWithTheData(data);\n    }\n}\n</code></pre>\n<p>With that, I am having a hard time understanding the difference between the two constructs:</p>\n<p>Suppose this application is already dockerized and a cloud environment is ready for use.</p>\n<p>Design number 1: this application, since it is in a container deployed on the cloud, like Kubernetes, spin up three instances of it.\nBy definition, I will have three of those &quot;apps&quot; and each one of the app will consume from one out of the three partition.</p>\n<pre class=\"lang-none prettyprint-override\"><code>kubectl get pods\nmy-app-AaAaAaAaAa-AaAaA\nmy-app-BbBbBbBbBb-BbBbB\nmy-app-CcCcCcCcCc-CcCcC\n</code></pre>\n<p>(and hypothetically, my-app-AaAaAaAaAa-AaAaA consumes theimportanttopic-0, my-app-BbBbBbBbBb-BbBbB theimportanttopic-1, my-app-CcCcCcCcCc-CcCcCtheimportanttopic-2)</p>\n<p>Design number 2:\nOn the other hand, I can have one, and only one of this app my-app in container, set the concurrency to 3. (same code as above, just one line change)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    factory.setConcurrency(3);\n    return factory;\n}\n</code></pre>\n<p>What are the differences between the two designs please?</p>\n<p>Which one is preferred and why please?</p>\n<p>This is not an opinion based question. What is the performance, the cost, the pros and cons between design number 1 and design number 2?</p>\n"},{"tags":["java","selenium-webdriver","arraylist","selenium-chromedriver","selenium-firefoxdriver"],"answers":[{"tags":[],"owner":{"account_id":27773545,"reputation":26,"user_id":21203373,"display_name":"furkan bi&#231;err"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676631293,"creation_date":1676292572,"answer_id":75436118,"question_id":75435929,"body_markdown":"Here are two Methods, and then you can use `tabnumber` for switching tabs\r\n\r\n    public void switchTab(int tabNumber){\r\n\r\n        driver.switchTo().window(listTabs().get(tabNumber));\r\n    }\r\n\r\n    public List&lt;String&gt; listTabs(){\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        for (String window: driver.getWindowHandles()){\r\n            list.add(window);\r\n        }\r\n        return list;\r\n    }","title":"Unable to work in second tab using java selenium","body":"<p>Here are two Methods, and then you can use <code>tabnumber</code> for switching tabs</p>\n<pre><code>public void switchTab(int tabNumber){\n\n    driver.switchTo().window(listTabs().get(tabNumber));\n}\n\npublic List&lt;String&gt; listTabs(){\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    for (String window: driver.getWindowHandles()){\n        list.add(window);\n    }\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676631293,"creation_date":1676291591,"question_id":75435929,"body_markdown":"I am registering on a website and for OTP and signup link I am using yopmail so I have to toggle between two tabs everything is working fine but when I switch to second window using any browser webdriver is not focussing on the second tab and giving error as array index out of bounds I have triedit on both chrome and firefox browsers but still getting the same error   \r\n\r\n\r\n\r\n\r\n    package Stripetesting;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Plansinfirefox {\r\n        public static void main(String[] args) throws InterruptedException, AWTException {\r\n            System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/home/gt51022/Downloads/geckodriver-v0.32.0-linux64/geckodriver&quot;);\r\n            WebDriver driver = new FirefoxDriver();\r\n            String windowHandle = driver.getWindowHandle();\r\n            driver.get(&quot;https://app.ai/&quot;);\r\n            driver.navigate().forward();\r\n            driver.manage().window().maximize();\r\n            driver.navigate().forward();\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formBasicEmail\\&quot;]&quot;)).sendKeys(&quot;wond@yopmail.com&quot;);\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@1&quot;);\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div/div[1]/div/div/form/button&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[2]/a&quot;)).click();\r\n            Thread.sleep(4000);\r\n            // Selecting the team from here //\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[2]/div[3]/div/div/div[2]/div&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(4000);\r\n            // Clicking on add new team member //\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[1]/div[2]/button&quot;)).click();\r\n            Thread.sleep(1000);\r\n            ArrayList&lt;String&gt; tabs3 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n            driver.switchTo().newWindow(WindowType.TAB);\r\n            // Generating random email //\r\n            driver.get(&quot;http://www.yopmail.com&quot;);\r\n            // Clicking on random email generator //\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div[2]/main/div[3]/div/div[2]/div/a[1]/div[2]/h3&quot;)).click();\r\n            Thread.sleep(4000);\r\n            // Clicking on copy to clipboard //\r\n            WebElement copytoclipboard  = driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;notmobile\\&quot;])[2]&quot;));\r\n            Actions actions = new Actions(driver);\r\n            actions.click(copytoclipboard).doubleClick().perform();\r\n            // navigating to main window //\r\n            driver.switchTo().window(windowHandle);\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formPlaintextEmail\\&quot;]&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\r\n            // Selecting the role from here //\r\n            driver.navigate().forward();driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[1]/input[1]&quot;)).click();\r\n           driver.navigate().forward();\r\n            Thread.sleep(4000);\r\n            // Selecting the permissions from here //\r\n            driver.findElement(By.xpath(&quot;//a[@id=\\&quot;basic-typeahead-multiple-item-16\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            //driver.findElement(By.xpath(&quot;(//span)[22]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//button[@id=\\&quot;teams\\&quot;]&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/div/div/div/span[1]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/button&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.manage().deleteAllCookies();\r\n            // If you want to sign out //\r\n            driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//a[@href=\\&quot;#\\&quot;]&quot;)).click();\r\n            Thread.sleep(4000);\r\n            // Opening new browser so commenting this code //\r\n            //driver.switchTo().newWindow(WindowType.WINDOW);\r\n            // User has received invitation //\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/gt51022/Downloads/chromedriver_linux64/chromedriver&quot;);\r\n            driver = new ChromeDriver();\r\n            driver.get(&quot;http://www.yopmail.com&quot;);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;); //replace the test email\r\n            //driver.get(&quot;http://www.yopmail.com&quot;);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.manage().window().maximize();\r\n            driver.switchTo().frame(&quot;ifmail&quot;);\r\n            driver.findElement(By.linkText(&quot;http://app.ambaram.ai/signup&quot;)).click();\r\n            driver.switchTo().window(tabs3.get(2));\r\n            driver.switchTo().activeElement();\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.className(&quot;form-control&quot;)).sendKeys(&quot;buyer&quot;);\r\n            driver.navigate().forward();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div[1]/div/div/form/div[2]/input&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\r\n            Thread.sleep(1000);\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            Thread.sleep(1000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\r\n            //driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div/div[1]/div/div/p/a&quot;)).click();\r\n            driver.navigate().forward();\r\n            /*Thread.sleep(4000);\r\n            // Commenting this code for usage checking //\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fullName\\&quot;]&quot;)).sendKeys(&quot;Bestfit&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Second@yopmail.com&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\r\n            //perform other operations.\r\n            // Stopping the robot class as we have tab already opened //\r\n            /*Robot r = new Robot();\r\n            r.keyPress(KeyEvent.VK_CONTROL);\r\n            r.keyPress(KeyEvent.VK_T);\r\n            r.keyRelease(KeyEvent.VK_CONTROL);\r\n            r.keyRelease(KeyEvent.VK_T);*/\r\n            driver.switchTo().window(tabs3.get(1));\r\n            //driver.get(&quot;http://www.yopmail.com&quot;);\r\n            Thread.sleep(4000);\r\n            driver.navigate().refresh();\r\n            Thread.sleep(4000);\r\n            //driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;nu&quot;); //replace the test email\r\n            //driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\r\n            driver.switchTo().frame(&quot;ifmail&quot;);\r\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n            String strCode = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;mail\\&quot;]/div/table/tbody/tr[3]/td/table/tbody/tr[1]/td/table/tbody/tr[5]/td/span&quot;)).getText(); //replace the locator for verification code\r\n            System.out.println(&quot;----------------&quot;);\r\n            System.out.println(strCode);\r\n            System.out.println(&quot;----------------&quot;);\r\n            //Actions actions = new Actions(driver);\r\n            actions.sendKeys(Keys.chord(Keys.LEFT_CONTROL, &quot;c&quot;)).build().perform();\r\n            driver.switchTo().window(tabs3.get(2));\r\n            //driver.manage().timeouts().implicitlyWait(60,TimeUnit.SECONDS);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.id(&quot;code1&quot;)).sendKeys(strCode);\r\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n            int i;\r\n            for (i = 1; i &lt;= 6; i++) {\r\n                driver.navigate().forward();\r\n                driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;newPassword\\&quot;]&quot;)).sendKeys(&quot;Qwert@1&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;comfirmNewPass\\&quot;] &quot;)).sendKeys(&quot;Qwert@1&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n                driver.findElement(By.name(&quot;email&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwert@1&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//span[@class=\\&quot;checkmark\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\r\n                // User click on joining a team //\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[2]/span/div/button&quot;)).click();\r\n                //New Team Creation //\r\n                /*driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.name(&quot;teamLogo&quot;)).sendKeys(&quot;/home/gt51022/Downloads/Wallpapers/Good.jpg&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.name(&quot;name&quot;)).sendKeys(&quot;Creaters&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//textarea[@name=\\&quot;description\\&quot;]&quot;)).sendKeys(&quot;Of good time&quot;);\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[3]/button[2]&quot;)).click();*/\r\n                // Changing the profile photo here //\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[2]/header/div/div[3]/div[3]/div/div/a[1]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                WebElement elementLocator = driver.findElement(By.name(&quot;profilePicture&quot;));\r\n                actions.click(driver.findElement(By.name(&quot;profilePicture&quot;)));\r\n                //actions.moveToElement(elementLocator).click().perform();\r\n                driver.findElement(By.name(&quot;profilePicture&quot;)).sendKeys(&quot;/home/gt51022/Downloads/ca-times.brightspotcdn.jpeg&quot;);\r\n                //driver.findElement(By.name(&quot;profilePicture&quot;)).sendKeys(&quot;/home/gt8201/Downloads/Kolkata.jpeg&quot;);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;activateBtn btn btn-primary\\&quot;]&quot;)).click();\r\n                //driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[1]/ul/li[1]/a&quot;)).click();\r\n                Thread.sleep(2000);\r\n                actions.click(driver.findElement(By.name(&quot;profilePicture&quot;)));\r\n            }\r\n            // Navigating back to the dashboard //\r\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;toggleHide\\&quot;]&quot;)).click();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to work in second tab using java selenium","body":"<p>I am registering on a website and for OTP and signup link I am using yopmail so I have to toggle between two tabs everything is working fine but when I switch to second window using any browser webdriver is not focussing on the second tab and giving error as array index out of bounds I have triedit on both chrome and firefox browsers but still getting the same error</p>\n<pre><code>package Stripetesting;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.interactions.Actions;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.concurrent.TimeUnit;\n\npublic class Plansinfirefox {\n    public static void main(String[] args) throws InterruptedException, AWTException {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/home/gt51022/Downloads/geckodriver-v0.32.0-linux64/geckodriver&quot;);\n        WebDriver driver = new FirefoxDriver();\n        String windowHandle = driver.getWindowHandle();\n        driver.get(&quot;https://app.ai/&quot;);\n        driver.navigate().forward();\n        driver.manage().window().maximize();\n        driver.navigate().forward();\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formBasicEmail\\&quot;]&quot;)).sendKeys(&quot;wond@yopmail.com&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@1&quot;);\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.navigate().forward();\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div/div[1]/div/div/form/button&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[2]/a&quot;)).click();\n        Thread.sleep(4000);\n        // Selecting the team from here //\n        driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[2]/div[3]/div/div/div[2]/div&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(4000);\n        // Clicking on add new team member //\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[1]/div[2]/button&quot;)).click();\n        Thread.sleep(1000);\n        ArrayList&lt;String&gt; tabs3 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().newWindow(WindowType.TAB);\n        // Generating random email //\n        driver.get(&quot;http://www.yopmail.com&quot;);\n        // Clicking on random email generator //\n        driver.findElement(By.xpath(&quot;/html/body/div/div[2]/main/div[3]/div/div[2]/div/a[1]/div[2]/h3&quot;)).click();\n        Thread.sleep(4000);\n        // Clicking on copy to clipboard //\n        WebElement copytoclipboard  = driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;notmobile\\&quot;])[2]&quot;));\n        Actions actions = new Actions(driver);\n        actions.click(copytoclipboard).doubleClick().perform();\n        // navigating to main window //\n        driver.switchTo().window(windowHandle);\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formPlaintextEmail\\&quot;]&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\n        // Selecting the role from here //\n        driver.navigate().forward();driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[1]/input[1]&quot;)).click();\n       driver.navigate().forward();\n        Thread.sleep(4000);\n        // Selecting the permissions from here //\n        driver.findElement(By.xpath(&quot;//a[@id=\\&quot;basic-typeahead-multiple-item-16\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        //driver.findElement(By.xpath(&quot;(//span)[22]&quot;)).click();\n        driver.findElement(By.xpath(&quot;//button[@id=\\&quot;teams\\&quot;]&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/div/div/div/span[1]&quot;)).click();\n        Thread.sleep(2000);\n        driver.navigate().forward();\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/button&quot;)).click();\n        driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.manage().deleteAllCookies();\n        // If you want to sign out //\n        driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\n        driver.findElement(By.xpath(&quot;//a[@href=\\&quot;#\\&quot;]&quot;)).click();\n        Thread.sleep(4000);\n        // Opening new browser so commenting this code //\n        //driver.switchTo().newWindow(WindowType.WINDOW);\n        // User has received invitation //\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/gt51022/Downloads/chromedriver_linux64/chromedriver&quot;);\n        driver = new ChromeDriver();\n        driver.get(&quot;http://www.yopmail.com&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;); //replace the test email\n        //driver.get(&quot;http://www.yopmail.com&quot;);\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\n        Thread.sleep(2000);\n        driver.manage().window().maximize();\n        driver.switchTo().frame(&quot;ifmail&quot;);\n        driver.findElement(By.linkText(&quot;http://app.ambaram.ai/signup&quot;)).click();\n        driver.switchTo().window(tabs3.get(2));\n        driver.switchTo().activeElement();\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        driver.findElement(By.className(&quot;form-control&quot;)).sendKeys(&quot;buyer&quot;);\n        driver.navigate().forward();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div[1]/div/div/form/div[2]/input&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\n        Thread.sleep(1000);\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        Thread.sleep(1000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\n        //driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div/div[1]/div/div/p/a&quot;)).click();\n        driver.navigate().forward();\n        /*Thread.sleep(4000);\n        // Commenting this code for usage checking //\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fullName\\&quot;]&quot;)).sendKeys(&quot;Bestfit&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Second@yopmail.com&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\n        //perform other operations.\n        // Stopping the robot class as we have tab already opened //\n        /*Robot r = new Robot();\n        r.keyPress(KeyEvent.VK_CONTROL);\n        r.keyPress(KeyEvent.VK_T);\n        r.keyRelease(KeyEvent.VK_CONTROL);\n        r.keyRelease(KeyEvent.VK_T);*/\n        driver.switchTo().window(tabs3.get(1));\n        //driver.get(&quot;http://www.yopmail.com&quot;);\n        Thread.sleep(4000);\n        driver.navigate().refresh();\n        Thread.sleep(4000);\n        //driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;nu&quot;); //replace the test email\n        //driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\n        driver.switchTo().frame(&quot;ifmail&quot;);\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        String strCode = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;mail\\&quot;]/div/table/tbody/tr[3]/td/table/tbody/tr[1]/td/table/tbody/tr[5]/td/span&quot;)).getText(); //replace the locator for verification code\n        System.out.println(&quot;----------------&quot;);\n        System.out.println(strCode);\n        System.out.println(&quot;----------------&quot;);\n        //Actions actions = new Actions(driver);\n        actions.sendKeys(Keys.chord(Keys.LEFT_CONTROL, &quot;c&quot;)).build().perform();\n        driver.switchTo().window(tabs3.get(2));\n        //driver.manage().timeouts().implicitlyWait(60,TimeUnit.SECONDS);\n        driver.navigate().forward();\n        driver.findElement(By.id(&quot;code1&quot;)).sendKeys(strCode);\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        int i;\n        for (i = 1; i &lt;= 6; i++) {\n            driver.navigate().forward();\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;newPassword\\&quot;]&quot;)).sendKeys(&quot;Qwert@1&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;comfirmNewPass\\&quot;] &quot;)).sendKeys(&quot;Qwert@1&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(Keys.LEFT_CONTROL,&quot;v&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwert@1&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;checkmark\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\n            // User click on joining a team //\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[2]/span/div/button&quot;)).click();\n            //New Team Creation //\n            /*driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.name(&quot;teamLogo&quot;)).sendKeys(&quot;/home/gt51022/Downloads/Wallpapers/Good.jpg&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.name(&quot;name&quot;)).sendKeys(&quot;Creaters&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//textarea[@name=\\&quot;description\\&quot;]&quot;)).sendKeys(&quot;Of good time&quot;);\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[3]/button[2]&quot;)).click();*/\n            // Changing the profile photo here //\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[2]/header/div/div[3]/div[3]/div/div/a[1]&quot;)).click();\n            Thread.sleep(1000);\n            WebElement elementLocator = driver.findElement(By.name(&quot;profilePicture&quot;));\n            actions.click(driver.findElement(By.name(&quot;profilePicture&quot;)));\n            //actions.moveToElement(elementLocator).click().perform();\n            driver.findElement(By.name(&quot;profilePicture&quot;)).sendKeys(&quot;/home/gt51022/Downloads/ca-times.brightspotcdn.jpeg&quot;);\n            //driver.findElement(By.name(&quot;profilePicture&quot;)).sendKeys(&quot;/home/gt8201/Downloads/Kolkata.jpeg&quot;);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;activateBtn btn btn-primary\\&quot;]&quot;)).click();\n            //driver.findElement(By.xpath(&quot;/html/body/div/div[2]/div[1]/ul/li[1]/a&quot;)).click();\n            Thread.sleep(2000);\n            actions.click(driver.findElement(By.name(&quot;profilePicture&quot;)));\n        }\n        // Navigating back to the dashboard //\n        driver.findElement(By.xpath(&quot;//span[@class=\\&quot;toggleHide\\&quot;]&quot;)).click();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","undertow"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676638558,"post_id":75483360,"comment_id":133182604,"body_markdown":"Look at the message. You are creating an additional directory which, by definition almost, does not exist.","body":"Look at the message. You are creating an additional directory which, by definition almost, does not exist."},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1676887478,"post_id":75483360,"comment_id":133221256,"body_markdown":"@g00se any idea from where it is being created or how I can control the creation? For me it is created automatically when I start the application, but I don&#39;t know why it is not working in production.","body":"@g00se any idea from where it is being created or how I can control the creation? For me it is created automatically when I start the application, but I don&#39;t know why it is not working in production."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676896356,"post_id":75483360,"comment_id":133223675,"body_markdown":"`FilenameUtils.getExtension(multipartFile.getOriginalFilename()));` Debug the value of that separately and let us know. Also this debug: *System.out.println(&quot;File Path &quot;+file.getAbsolutePath());* comes in the wrong place, as an attempt (failing) has already been made by then","body":"<code>FilenameUtils.getExtension(multipartFile.getOriginalFilename&zwnj;&#8203;()));</code> Debug the value of that separately and let us know. Also this debug: <i>System.out.println(&quot;File Path &quot;+file.getAbsolutePath());</i> comes in the wrong place, as an attempt (failing) has already been made by then"}],"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676631288,"creation_date":1676631288,"question_id":75483360,"body_markdown":"I am new to using undertow and I have an issue when uploading files in  my spring boot application. This is happening in production only, it is working fine in my local system and staging environment (all Linux servers). This is the code:\r\n\r\n    public static String uploadFile(MultipartFile multipartFile, Long partnerId) throws Exception {\r\n        if (multipartFile == null || multipartFile.isEmpty())\r\n            return null;\r\n        File file = new File(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/&quot; + UUID.randomUUID() + &quot;.&quot;\r\n            + FilenameUtils.getExtension(multipartFile.getOriginalFilename()));\r\n        multipartFile.transferTo(file);\r\n        System.out.println(&quot;File Path &quot;+file.getAbsolutePath());\r\n        return uploadFile(file, partnerId);\r\n    }\r\n\r\nThe error is:\r\n\r\n    Java.lang.RuntimeException: java.nio.file.NoSuchFileException: /tmp/undertow.3862881763240028662.4010/undertow3870310975240593973upload\r\n\tat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:261)\r\n\tat io.undertow.util.MultipartParser$ParseState.headerName(MultipartParser.java:208)\r\n\tat io.undertow.util.MultipartParser$ParseState.parse(MultipartParser.java:123)\r\n\tat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.parseBlocking(MultiPartParserDefinition.java:232)\r\n\tat io.undertow.servlet.spec.HttpServletRequestImpl.parseFormData(HttpServletRequestImpl.java:835)\r\n\tat io.undertow.servlet.spec.HttpServletRequestImpl.getParameter(HttpServletRequestImpl.java:714)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:85)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n    Caused by: java.nio.file.NoSuchFileException: /tmp/undertow.3862881763240028662.4010/undertow3870310975240593973upload\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\r\n\tat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\r\n\tat java.nio.file.Files.newByteChannel(Files.java:361)\r\n\tat java.nio.file.Files.createFile(Files.java:632)\r\n\tat java.nio.file.TempFileHelper.create(TempFileHelper.java:138)\r\n\tat java.nio.file.TempFileHelper.createTempFile(TempFileHelper.java:161)\r\n\tat java.nio.file.Files.createTempFile(Files.java:852)\r\n\tat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:254)\r\n\r\n\r\nI can see the /tmp/undertow folders created in the staging environment:[![enter image description here][1]][1]\r\n\r\nBut the /tmp folder in production is empty after deployment. The file permissions etc for both servers are same. Any help here is appreciated.Thanks!\r\n\r\n  [1]: https://i.stack.imgur.com/PaUFw.png","title":"Undertow java.nio.file.NoSuchFileException when saving a file","body":"<p>I am new to using undertow and I have an issue when uploading files in  my spring boot application. This is happening in production only, it is working fine in my local system and staging environment (all Linux servers). This is the code:</p>\n<pre><code>public static String uploadFile(MultipartFile multipartFile, Long partnerId) throws Exception {\n    if (multipartFile == null || multipartFile.isEmpty())\n        return null;\n    File file = new File(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/&quot; + UUID.randomUUID() + &quot;.&quot;\n        + FilenameUtils.getExtension(multipartFile.getOriginalFilename()));\n    multipartFile.transferTo(file);\n    System.out.println(&quot;File Path &quot;+file.getAbsolutePath());\n    return uploadFile(file, partnerId);\n}\n</code></pre>\n<p>The error is:</p>\n<pre><code>Java.lang.RuntimeException: java.nio.file.NoSuchFileException: /tmp/undertow.3862881763240028662.4010/undertow3870310975240593973upload\nat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:261)\nat io.undertow.util.MultipartParser$ParseState.headerName(MultipartParser.java:208)\nat io.undertow.util.MultipartParser$ParseState.parse(MultipartParser.java:123)\nat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.parseBlocking(MultiPartParserDefinition.java:232)\nat io.undertow.servlet.spec.HttpServletRequestImpl.parseFormData(HttpServletRequestImpl.java:835)\nat io.undertow.servlet.spec.HttpServletRequestImpl.getParameter(HttpServletRequestImpl.java:714)\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:85)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\nat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\nat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\nat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)\nCaused by: java.nio.file.NoSuchFileException: /tmp/undertow.3862881763240028662.4010/undertow3870310975240593973upload\nat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)\nat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\nat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\nat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\nat java.nio.file.Files.newByteChannel(Files.java:361)\nat java.nio.file.Files.createFile(Files.java:632)\nat java.nio.file.TempFileHelper.create(TempFileHelper.java:138)\nat java.nio.file.TempFileHelper.createTempFile(TempFileHelper.java:161)\nat java.nio.file.Files.createTempFile(Files.java:852)\nat io.undertow.server.handlers.form.MultiPartParserDefinition$MultiPartUploadHandler.beginPart(MultiPartParserDefinition.java:254)\n</code></pre>\n<p>I can see the /tmp/undertow folders created in the staging environment:<a href=\"https://i.stack.imgur.com/PaUFw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PaUFw.png\" alt=\"enter image description here\" /></a></p>\n<p>But the /tmp folder in production is empty after deployment. The file permissions etc for both servers are same. Any help here is appreciated.Thanks!</p>\n"},{"tags":["java","apache-kafka","spring-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675838283,"post_id":75382084,"comment_id":133011832,"body_markdown":"have you tried delaySubscription() ?","body":"have you tried delaySubscription() ?"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1675840484,"post_id":75382084,"comment_id":133012241,"body_markdown":"You can try to raise a custom event when `@PostConstruct` is done; annotate `myConsumer` with `@EventListener`. So the consumption will start only on PostConstruct end","body":"You can try to raise a custom event when <code>@PostConstruct</code> is done; annotate <code>myConsumer</code> with <code>@EventListener</code>. So the consumption will start only on PostConstruct end"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675865198,"creation_date":1675865198,"answer_id":75386932,"question_id":75382084,"body_markdown":"You should not `subscribe()` to the flux in a post construct method. Instead, implement `SmartLifecycle` and subscribe in `start()`.\r\n\r\nOr use an event listener and only subscribe after the context is refreshed.\r\n\r\nThat way, all beans will be fully wired up before you start to receive the records.","title":"Delay the start of message consumption","body":"<p>You should not <code>subscribe()</code> to the flux in a post construct method. Instead, implement <code>SmartLifecycle</code> and subscribe in <code>start()</code>.</p>\n<p>Or use an event listener and only subscribe after the context is refreshed.</p>\n<p>That way, all beans will be fully wired up before you start to receive the records.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75386932,"answer_count":1,"score":-1,"last_activity_date":1676631254,"creation_date":1675837821,"question_id":75382084,"body_markdown":"I have a very simple Reactor Kafka consumer.\r\n\r\nHowever, in order for the message to be handled properly, couple of @Postconstruct should be executed beforehand.\r\n\r\nThe @Postconstruct will initialize some objects in memory, prepare data, etc...\r\n\r\nIf the messages start being consumed, but the @Postconstruct is not complete, the message handling will fail for sure.\r\n\r\nThe @Postconstruct needs some time to complete, roughly 3ish seconds.\r\nWhat I tried:\r\nTherefore, currently, in my code, I would just handle the messages, and for the first 3ish seconds, all messages processing will fail, and I would put the failed messages in another topic.\r\n\r\nAt some point, after the 3ish seconds, the @Postconstruct is complete, the messages are being processed normally, happy.\r\n\r\nHowever, I found this very redundant, I have another topic and another job which existence is just here to re process the messages failed within those 3 seconds.\r\n\r\nIs there a simpler way, to tell Reactor Kafka to only start consuming, only once the @Postconstruct is complete (maybe by sending some signal within the app), or maybe even just to wait 3ish seconds?\r\n\r\nSo far, I tried this:\r\n\r\n```\r\n  public Flux&lt;String&gt; myConsumer() {\r\n        return KafkaReceiver\r\n                .create(receiverOptions)\r\n                .receive()\r\n                .delayUntil(a -&gt; Mono.delay(Duration.ofSeconds(4)))\r\n                .flatMap((oneMessage) -&gt;\r\n                        Mono.deferContextual(contextView -&gt; {\r\n                            var scope = ContextSnapshot.setAllThreadLocalsFrom(contextView);\r\n                            try (scope) {\r\n                                return consume(oneMessage);\r\n                            }\r\n                        }), 500)\r\n                .name(&quot;greeting.call&quot;)\t\t//1\r\n                .tag(&quot;latency&quot;, &quot;low&quot;)\t//2\r\n                .tap(Micrometer.observation(observationRegistry));\r\n```\r\n\r\nHowever, it is not doing what I expect, it is just delaying.","title":"Delay the start of message consumption","body":"<p>I have a very simple Reactor Kafka consumer.</p>\n<p>However, in order for the message to be handled properly, couple of @Postconstruct should be executed beforehand.</p>\n<p>The @Postconstruct will initialize some objects in memory, prepare data, etc...</p>\n<p>If the messages start being consumed, but the @Postconstruct is not complete, the message handling will fail for sure.</p>\n<p>The @Postconstruct needs some time to complete, roughly 3ish seconds.\nWhat I tried:\nTherefore, currently, in my code, I would just handle the messages, and for the first 3ish seconds, all messages processing will fail, and I would put the failed messages in another topic.</p>\n<p>At some point, after the 3ish seconds, the @Postconstruct is complete, the messages are being processed normally, happy.</p>\n<p>However, I found this very redundant, I have another topic and another job which existence is just here to re process the messages failed within those 3 seconds.</p>\n<p>Is there a simpler way, to tell Reactor Kafka to only start consuming, only once the @Postconstruct is complete (maybe by sending some signal within the app), or maybe even just to wait 3ish seconds?</p>\n<p>So far, I tried this:</p>\n<pre><code>  public Flux&lt;String&gt; myConsumer() {\n        return KafkaReceiver\n                .create(receiverOptions)\n                .receive()\n                .delayUntil(a -&gt; Mono.delay(Duration.ofSeconds(4)))\n                .flatMap((oneMessage) -&gt;\n                        Mono.deferContextual(contextView -&gt; {\n                            var scope = ContextSnapshot.setAllThreadLocalsFrom(contextView);\n                            try (scope) {\n                                return consume(oneMessage);\n                            }\n                        }), 500)\n                .name(&quot;greeting.call&quot;)      //1\n                .tag(&quot;latency&quot;, &quot;low&quot;)  //2\n                .tap(Micrometer.observation(observationRegistry));\n</code></pre>\n<p>However, it is not doing what I expect, it is just delaying.</p>\n"},{"tags":["java","servlet-filters","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":18581,"reputation":1143,"user_id":42685,"accept_rate":85,"display_name":"Hugh"},"score":0,"creation_date":1557410159,"post_id":56061018,"comment_id":98762322,"body_markdown":"Thank you! Should I take that to mean that this is one of those times when my unit test is trying to be more of an integration test?","body":"Thank you! Should I take that to mean that this is one of those times when my unit test is trying to be more of an integration test?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1557410324,"post_id":56061018,"comment_id":98762431,"body_markdown":"Yes. If you want test the web layer you should use WebTestClient or TestRestTemplate https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html","body":"Yes. If you want test the web layer you should use WebTestClient or TestRestTemplate <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557409988,"creation_date":1557409988,"answer_id":56061018,"question_id":56060668,"body_markdown":"MockMvc is an infrastructure to test your controllers and not the full web container.\r\n\r\nIf you want to have the filters working you have to add it.\r\nThis would look something like:\r\n\r\n    @Autowired\r\n    private WebApplicationContext wac;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @Before\r\n    public void setUp() {\r\n       Collection&lt;Filter&gt; filterCollection = wac.getBeansOfType(Filter.class).values();\r\n       Filter[] filters = filterCollection.toArray(new Filter[filterCollection.size()]);\r\n       mockMvc = MockMvcBuilders.webAppContextSetup(wac).addFilters(filters).build();\r\n    }","title":"Can I test servlet filters with REST Assured?","body":"<p>MockMvc is an infrastructure to test your controllers and not the full web container.</p>\n\n<p>If you want to have the filters working you have to add it.\nThis would look something like:</p>\n\n<pre><code>@Autowired\nprivate WebApplicationContext wac;\n\nprivate MockMvc mockMvc;\n\n@Before\npublic void setUp() {\n   Collection&lt;Filter&gt; filterCollection = wac.getBeansOfType(Filter.class).values();\n   Filter[] filters = filterCollection.toArray(new Filter[filterCollection.size()]);\n   mockMvc = MockMvcBuilders.webAppContextSetup(wac).addFilters(filters).build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7734155,"reputation":66,"user_id":5856251,"display_name":"andreu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676630878,"creation_date":1676630878,"answer_id":75483274,"question_id":56060668,"body_markdown":"You can do it as this:\r\n\r\n```java\r\nStandaloneMockMvcBuilder builder = MockMvcBuilders.standaloneSetup(yourController);\r\nbuilder.addFilters(new YourFilter());\r\nRestAssuredMockMvc.standaloneSetup(builder);\r\n```","title":"Can I test servlet filters with REST Assured?","body":"<p>You can do it as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StandaloneMockMvcBuilder builder = MockMvcBuilders.standaloneSetup(yourController);\nbuilder.addFilters(new YourFilter());\nRestAssuredMockMvc.standaloneSetup(builder);\n</code></pre>\n"}],"owner":{"account_id":18581,"reputation":1143,"user_id":42685,"accept_rate":85,"display_name":"Hugh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56061018,"answer_count":2,"score":1,"last_activity_date":1676630878,"creation_date":1557408911,"question_id":56060668,"body_markdown":"I have a Spring Boot MVC app with a `@WebFilter` that adds a custom header to every response. It works fine when I actually run the app, but I&#39;m a little surprised that the filter doesn&#39;t run during my REST Assured test.\r\n\r\nThere&#39;s nothing fancy in my test; it basically reduces to\r\n\r\n```\r\nRestAssuredMockMvc.standaloneSetup(new MyController());\r\nboolean headerExists = given().when().get().headers().hasHeaderWithName(&quot;my-header&quot;);\r\n```\r\n\r\nIs this expected? Should I be doing something extra to set up the filter chain?","title":"Can I test servlet filters with REST Assured?","body":"<p>I have a Spring Boot MVC app with a <code>@WebFilter</code> that adds a custom header to every response. It works fine when I actually run the app, but I'm a little surprised that the filter doesn't run during my REST Assured test.</p>\n\n<p>There's nothing fancy in my test; it basically reduces to</p>\n\n<pre><code>RestAssuredMockMvc.standaloneSetup(new MyController());\nboolean headerExists = given().when().get().headers().hasHeaderWithName(\"my-header\");\n</code></pre>\n\n<p>Is this expected? Should I be doing something extra to set up the filter chain?</p>\n"},{"tags":["java","docx4j"],"answers":[{"comments":[{"owner":{"account_id":4247429,"reputation":85,"user_id":3475675,"accept_rate":75,"display_name":"Wisdom Ekene"},"score":0,"creation_date":1676633130,"post_id":75480776,"comment_id":133181045,"body_markdown":"Thanks for MOXy correction. And, yes I am calling Docx4J.toPDF. I tried docx4j-MOXy-JAXBContext: 6.0.0 but I get the following error &gt; Failed to read artifact descriptor for org.docx4j:docx4j-MOXy-JAXBContext:jar:6.0.0","body":"Thanks for MOXy correction. And, yes I am calling Docx4J.toPDF. I tried docx4j-MOXy-JAXBContext: 6.0.0 but I get the following error &gt; Failed to read artifact descriptor for org.docx4j:docx4j-MOXy-JAXBContext:jar:6.0.0"},{"owner":{"account_id":4247429,"reputation":85,"user_id":3475675,"accept_rate":75,"display_name":"Wisdom Ekene"},"score":0,"creation_date":1676640899,"post_id":75480776,"comment_id":133183306,"body_markdown":"I have changed docx4j-MOXy-JAXBContext to version 6.0.0, I still get the same error.   I also tried Docx4J.toFO but I am now getting the following error java.lang.NoSuchMethodError: org.docx4j.convert.out.FOSettings.setOpcPackage(Lorg/docx4j/openpackaging/packages/OpcPackage;)","body":"I have changed docx4j-MOXy-JAXBContext to version 6.0.0, I still get the same error.   I also tried Docx4J.toFO but I am now getting the following error java.lang.NoSuchMethodError: org.docx4j.convert.out.FOSettings.setOpcPackage(Lorg/docx4j/&zwnj;&#8203;openpackaging/packag&zwnj;&#8203;es/OpcPackage;)"},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1676670114,"post_id":75480776,"comment_id":133191371,"body_markdown":"You want https://search.maven.org/artifact/org.docx4j/docx4j-JAXB-MOXy/8.3.9/jar (as you have).  That and docx4j-export-fo are all you need explicitly. Get rid of docx4j-MOXy-JAXBContext entirely!","body":"You want <a href=\"https://search.maven.org/artifact/org.docx4j/docx4j-JAXB-MOXy/8.3.9/jar\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.docx4j/docx4j-JAXB-MOXy/8.3.9/&zwnj;&#8203;jar</a> (as you have).  That and docx4j-export-fo are all you need explicitly. Get rid of docx4j-MOXy-JAXBContext entirely!"}],"tags":[],"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676614088,"creation_date":1676614088,"answer_id":75480776,"question_id":75467390,"body_markdown":"From your deps you are using MOXy, not JAXB-ReferenceImpl.  Not that this should matter.\r\n\r\nLooks like you are calling Docx4J.toPDF\r\n\r\nThis should be fixed at https://github.com/plutext/docx4j/blob/VERSION_8_3_9/docx4j-core/src/main/java/org/docx4j/convert/out/FopReflective.java\r\n\r\nI guess your problem will go away if you remove the old:\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n  &lt;artifactId&gt;docx4j-MOXy-JAXBContext&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.6&lt;/version&gt;\r\n  &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSee also https://stackoverflow.com/questions/71595802/docx4j-docx-to-image-convertion","title":"Docx4j - Docx to PDF convertion; you must invoke FORendererApacheFOP.getFOUserAgent error","body":"<p>From your deps you are using MOXy, not JAXB-ReferenceImpl.  Not that this should matter.</p>\n<p>Looks like you are calling Docx4J.toPDF</p>\n<p>This should be fixed at <a href=\"https://github.com/plutext/docx4j/blob/VERSION_8_3_9/docx4j-core/src/main/java/org/docx4j/convert/out/FopReflective.java\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/VERSION_8_3_9/docx4j-core/src/main/java/org/docx4j/convert/out/FopReflective.java</a></p>\n<p>I guess your problem will go away if you remove the old:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n  &lt;artifactId&gt;docx4j-MOXy-JAXBContext&lt;/artifactId&gt;\n  &lt;version&gt;3.3.6&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>See also <a href=\"https://stackoverflow.com/questions/71595802/docx4j-docx-to-image-convertion\">Docx4j - Docx to Image convertion</a></p>\n"}],"owner":{"account_id":4247429,"reputation":85,"user_id":3475675,"accept_rate":75,"display_name":"Wisdom Ekene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676630757,"creation_date":1676516163,"question_id":75467390,"body_markdown":"We want to convert docx to pdf using **docx4j-JAXB-MOXy 8.3.9** and **docx4j-export-fo 8.3.9**, but we are hitting the following error;\r\n\r\n    org.docx4j.openpackaging.exceptions.Docx4JException: Exception exporting package\r\n\tat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:109)\r\n\tat org.docx4j.Docx4J.toFO(Docx4J.java:597)\r\n\tat org.docx4j.Docx4J.toPDF(Docx4J.java:612)\r\n\r\n    Caused by: org.docx4j.openpackaging.exceptions.Docx4JException: You must invoke FORendererApacheFOP.getFOUserAgent\r\n\tat org.docx4j.convert.out.fo.renderers.FORendererApacheFOP.render(FORendererApacheFOP.java:124)\r\n\tat org.docx4j.convert.out.fo.AbstractFOExporter.postprocess(AbstractFOExporter.java:168)\r\n\tat org.docx4j.convert.out.fo.AbstractFOExporter.postprocess(AbstractFOExporter.java:47)\r\n\tat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:82)\r\n\t... 76 more\r\n\r\nOur maven dependencies are as follows:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.1&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\r\n      &lt;version&gt;8.3.9&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;docx4j-MOXy-JAXBContext&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.6&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n      &lt;version&gt;8.3.9&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease help!!!","title":"Docx4j - Docx to PDF convertion; you must invoke FORendererApacheFOP.getFOUserAgent error","body":"<p>We want to convert docx to pdf using <strong>docx4j-JAXB-MOXy 8.3.9</strong> and <strong>docx4j-export-fo 8.3.9</strong>, but we are hitting the following error;</p>\n<pre><code>org.docx4j.openpackaging.exceptions.Docx4JException: Exception exporting package\nat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:109)\nat org.docx4j.Docx4J.toFO(Docx4J.java:597)\nat org.docx4j.Docx4J.toPDF(Docx4J.java:612)\n\nCaused by: org.docx4j.openpackaging.exceptions.Docx4JException: You must invoke FORendererApacheFOP.getFOUserAgent\nat org.docx4j.convert.out.fo.renderers.FORendererApacheFOP.render(FORendererApacheFOP.java:124)\nat org.docx4j.convert.out.fo.AbstractFOExporter.postprocess(AbstractFOExporter.java:168)\nat org.docx4j.convert.out.fo.AbstractFOExporter.postprocess(AbstractFOExporter.java:47)\nat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:82)\n... 76 more\n</code></pre>\n<p>Our maven dependencies are as follows:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n  &lt;version&gt;2.3.1&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n  &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\n  &lt;version&gt;8.3.9&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n  &lt;artifactId&gt;docx4j-MOXy-JAXBContext&lt;/artifactId&gt;\n  &lt;version&gt;3.3.6&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n  &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n  &lt;version&gt;8.3.9&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Please help!!!</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1676574571,"post_id":75473406,"comment_id":133169587,"body_markdown":"What RDBMS are you using?","body":"What RDBMS are you using?"},{"owner":{"account_id":3137113,"reputation":3,"user_id":2653412,"display_name":"khushboo"},"score":0,"creation_date":1676575541,"post_id":75473406,"comment_id":133169842,"body_markdown":"MySQL for both the databases","body":"MySQL for both the databases"},{"owner":{"account_id":3137113,"reputation":3,"user_id":2653412,"display_name":"khushboo"},"score":0,"creation_date":1676614243,"post_id":75473406,"comment_id":133176354,"body_markdown":"Hi, Lukas, thanks for responding on my query. Please let me know if there are some more details needed from my end. I am kind of stuck in this issue and wanted to know whether it&#39;s possible to use join with multiple contexts?","body":"Hi, Lukas, thanks for responding on my query. Please let me know if there are some more details needed from my end. I am kind of stuck in this issue and wanted to know whether it&#39;s possible to use join with multiple contexts?"}],"answers":[{"comments":[{"owner":{"account_id":3137113,"reputation":3,"user_id":2653412,"display_name":"khushboo"},"score":0,"creation_date":1676647852,"post_id":75483179,"comment_id":133185371,"body_markdown":"Hi Lukas, yes I have created two DSL contexts because both the databases are on different servers. I am able to fetch the data from both the databases in separate queries using the two DSL contexts. I will try implementing joins as you suggested . Thanks for your inputs @Lukas.","body":"Hi Lukas, yes I have created two DSL contexts because both the databases are on different servers. I am able to fetch the data from both the databases in separate queries using the two DSL contexts. I will try implementing joins as you suggested . Thanks for your inputs @Lukas."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676630415,"creation_date":1676630415,"answer_id":75483179,"question_id":75473406,"body_markdown":"I&#39;m assuming that the reason for you to have two distinct `DSLContext` instances is because you have separate JDBC `Connection` instances, and you&#39;re connecting to separate database instances. To my knowledge, it isn&#39;t possible to use [Oracle style database links or PostgreSQL style foreign data wrappers in MySQL][1], so you cannot join between the two tables in a single query. You&#39;ll have to run both queries separately, and join the data in the client, e.g.:\r\n\r\n```java\r\nResult&lt;?&gt; r1 = ctx1.select(..).from(..).where(..).fetch();\r\nResult&lt;?&gt; r2 = ctx2.select(..).from(..).where(\r\n    CORRELATION.ID.in(r1.getValues(...))).fetch();\r\n```\r\n\r\nOf course, it may well be that there isn&#39;t really a need for two separate `DSLContext` instances, if the two databases are on the same server, but you didn&#39;t specify those details. In any case, jOOQ can&#39;t do that for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/1565993/521799","title":"Getting error while implementing joins on multiple DSL contexts from different databases in jooq","body":"<p>I'm assuming that the reason for you to have two distinct <code>DSLContext</code> instances is because you have separate JDBC <code>Connection</code> instances, and you're connecting to separate database instances. To my knowledge, it isn't possible to use <a href=\"https://stackoverflow.com/q/1565993/521799\">Oracle style database links or PostgreSQL style foreign data wrappers in MySQL</a>, so you cannot join between the two tables in a single query. You'll have to run both queries separately, and join the data in the client, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Result&lt;?&gt; r1 = ctx1.select(..).from(..).where(..).fetch();\nResult&lt;?&gt; r2 = ctx2.select(..).from(..).where(\n    CORRELATION.ID.in(r1.getValues(...))).fetch();\n</code></pre>\n<p>Of course, it may well be that there isn't really a need for two separate <code>DSLContext</code> instances, if the two databases are on the same server, but you didn't specify those details. In any case, jOOQ can't do that for you.</p>\n"}],"owner":{"account_id":3137113,"reputation":3,"user_id":2653412,"display_name":"khushboo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75483179,"answer_count":1,"score":0,"last_activity_date":1676630415,"creation_date":1676556399,"question_id":75473406,"body_markdown":"I want to execute one query having joins with the tables related to different DSLCONTEXT which are related to different databases.Below is the example of what I am trying to do :\r\n```\r\nDSLContext ctx1;\r\nDSLContext ctx2;\r\nVal findDetails= ctx1.select(table1(**from ctx1**). innerjoin(table2)(**from ctx2**).on(table2.column.eq(table1.column)).asTable();\r\n```\r\nWhile executing the above query getting table2 doesn&#39;t exist.\r\n\r\nI am expecting to use something like ctx2. Table2 inside the query. \r\n\r\n","title":"Getting error while implementing joins on multiple DSL contexts from different databases in jooq","body":"<p>I want to execute one query having joins with the tables related to different DSLCONTEXT which are related to different databases.Below is the example of what I am trying to do :</p>\n<pre><code>DSLContext ctx1;\nDSLContext ctx2;\nVal findDetails= ctx1.select(table1(**from ctx1**). innerjoin(table2)(**from ctx2**).on(table2.column.eq(table1.column)).asTable();\n</code></pre>\n<p>While executing the above query getting table2 doesn't exist.</p>\n<p>I am expecting to use something like ctx2. Table2 inside the query.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-cardview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676633835,"post_id":75481904,"comment_id":133181238,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":17181427,"reputation":51,"user_id":12436797,"display_name":"Ishant Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676623346,"creation_date":1676623346,"answer_id":75481971,"question_id":75481904,"body_markdown":"Simply add an image view inside a card view\r\n\r\n```xml\r\n&lt;CardView\r\n   android:width=&quot;wrap_content&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;ImageView\r\n     android:width=&quot;300dp&quot;\r\n     android:height=&quot;300dp&quot;\r\n     src=&quot;yourImgFile&quot; /&gt;\r\n&lt;/CardView&gt;\r\n```\r\n\r\nAnd the image reference you provided, you can nest this code in another CardView element containing a Linear Layout with horizontal orientation i.e\r\n\r\n```xml\r\n&lt;CardView\r\n   android:width=&quot;match_parent&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;LinearLayout\r\n     android:width=&quot;match_parent&quot;\r\n     android:height=&quot;wrap_content&quot;\r\n     android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n&lt;CardView\r\n   android:width=&quot;wrap_content&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;ImageView\r\n     android:width=&quot;300dp&quot;\r\n     android:height=&quot;300dp&quot;\r\n     src=&quot;yourImgFile&quot; /&gt;\r\n&lt;/CardView&gt;\r\n\r\n\r\n&lt;CardView\r\n   android:width=&quot;wrap_content&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;ImageView\r\n     android:width=&quot;300dp&quot;\r\n     android:height=&quot;300dp&quot;\r\n     src=&quot;yourImgFile&quot; /&gt;\r\n&lt;/CardView&gt;\r\n\r\n\r\n&lt;CardView\r\n   android:width=&quot;wrap_content&quot;\r\n   android:height=&quot;wrap_content&quot;\r\n   app:cardElevation=&quot;2dp&quot;&gt; \r\n  &lt;ImageView\r\n     android:width=&quot;300dp&quot;\r\n     android:height=&quot;300dp&quot;\r\n     src=&quot;yourImgFile&quot; /&gt;\r\n&lt;/CardView&gt;\r\n\r\n\r\n  &lt;/LinearLayout&gt;\r\n&lt;/CardView&gt;\r\n```","title":"RecyclerView and CradView in Android Studio","body":"<p>Simply add an image view inside a card view</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;CardView\n   android:width=&quot;wrap_content&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;ImageView\n     android:width=&quot;300dp&quot;\n     android:height=&quot;300dp&quot;\n     src=&quot;yourImgFile&quot; /&gt;\n&lt;/CardView&gt;\n</code></pre>\n<p>And the image reference you provided, you can nest this code in another CardView element containing a Linear Layout with horizontal orientation i.e</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;CardView\n   android:width=&quot;match_parent&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;LinearLayout\n     android:width=&quot;match_parent&quot;\n     android:height=&quot;wrap_content&quot;\n     android:orientation=&quot;horizontal&quot;&gt;\n\n&lt;CardView\n   android:width=&quot;wrap_content&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;ImageView\n     android:width=&quot;300dp&quot;\n     android:height=&quot;300dp&quot;\n     src=&quot;yourImgFile&quot; /&gt;\n&lt;/CardView&gt;\n\n\n&lt;CardView\n   android:width=&quot;wrap_content&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;ImageView\n     android:width=&quot;300dp&quot;\n     android:height=&quot;300dp&quot;\n     src=&quot;yourImgFile&quot; /&gt;\n&lt;/CardView&gt;\n\n\n&lt;CardView\n   android:width=&quot;wrap_content&quot;\n   android:height=&quot;wrap_content&quot;\n   app:cardElevation=&quot;2dp&quot;&gt; \n  &lt;ImageView\n     android:width=&quot;300dp&quot;\n     android:height=&quot;300dp&quot;\n     src=&quot;yourImgFile&quot; /&gt;\n&lt;/CardView&gt;\n\n\n  &lt;/LinearLayout&gt;\n&lt;/CardView&gt;\n</code></pre>\n"}],"owner":{"account_id":24270649,"reputation":1,"user_id":18218770,"display_name":"ei8ht"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676629866,"creation_date":1676622938,"question_id":75481904,"body_markdown":"I want to development an app that contains the following images.\r\n[enter image description here](https://i.stack.imgur.com/UEmgn.png)\r\n\r\nand I don&#39;t know how to do that with CardView\r\n\r\nHow to create a CardView that can be added like the image?","title":"RecyclerView and CradView in Android Studio","body":"<p>I want to development an app that contains the following images.\n<a href=\"https://i.stack.imgur.com/UEmgn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and I don't know how to do that with CardView</p>\n<p>How to create a CardView that can be added like the image?</p>\n"},{"tags":["java","intellij-idea","lambda","intellij-14"],"answers":[{"comments":[{"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"score":0,"creation_date":1444480529,"post_id":33054046,"comment_id":53928182,"body_markdown":"it is: project sdk 1.8 &amp; sdk default 8","body":"it is: project sdk 1.8 &amp; sdk default 8"},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1444480669,"post_id":33054046,"comment_id":53928228,"body_markdown":"Try these: 1. Retype the example, make sure you entered it correctly; 2. **File / Invalidate Caches, Restart...**; 3. Reimport project; 4. Edit into your question the code snipped where the error is reported","body":"Try these: 1. Retype the example, make sure you entered it correctly; 2. <b>File / Invalidate Caches, Restart...</b>; 3. Reimport project; 4. Edit into your question the code snipped where the error is reported"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1444484716,"post_id":33054046,"comment_id":53929449,"body_markdown":"@rala - also check Modules - Dependencies - Module SDK","body":"@rala - also check Modules - Dependencies - Module SDK"}],"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1444480464,"creation_date":1444480464,"answer_id":33054046,"question_id":33053891,"body_markdown":"It looks like your IntelliJ or your project is not setup to use Java 8.\r\n\r\n1. Open **Project Structure**\r\n2. Look into **Project Settings | Project**, the value of **Project SDK** should be 1.8\r\n3. Look into **Platform Settings | SDK**, there should be 1.8 listed\r\n\r\nIt should look something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jaAE9.png","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>It looks like your IntelliJ or your project is not setup to use Java 8.</p>\n\n<ol>\n<li>Open <strong>Project Structure</strong></li>\n<li>Look into <strong>Project Settings | Project</strong>, the value of <strong>Project SDK</strong> should be 1.8</li>\n<li>Look into <strong>Platform Settings | SDK</strong>, there should be 1.8 listed</li>\n</ol>\n\n<p>It should look something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jaAE9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaAE9.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5056706,"reputation":4366,"user_id":4059755,"display_name":"uwolfer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444485694,"creation_date":1444485694,"answer_id":33054793,"question_id":33053891,"body_markdown":"You need to change the &quot;Project language level&quot; to &quot;8 - Lambdas, type annotations etc.&quot;. You can find this option in &quot;Project Settings&quot; -&gt; &quot;Project&quot;","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>You need to change the \"Project language level\" to \"8 - Lambdas, type annotations etc.\". You can find this option in \"Project Settings\" -> \"Project\"</p>\n"},{"tags":[],"owner":{"account_id":6285476,"reputation":1340,"user_id":5008698,"accept_rate":29,"display_name":"rigby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560944098,"creation_date":1560944098,"answer_id":56666761,"question_id":33053891,"body_markdown":"In addition to the answers above look into you pom.xml file. Source and target should be 1.8 or higher. e.g.\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>In addition to the answers above look into you pom.xml file. Source and target should be 1.8 or higher. e.g.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676325224,"post_id":75411356,"comment_id":133111327,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75411356/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8663633,"reputation":24,"user_id":6485025,"display_name":"Daniel Tanque"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676629811,"creation_date":1676033270,"answer_id":75411356,"question_id":33053891,"body_markdown":"I&#39;m using Java 17, got the same error, the solution for me was to specify the entity when declaring as Optional, like this:\r\n\r\n    Optional&lt;User&gt; findUserById(Long userId);\r\n\r\n\r\nBecause you want to receive a certain type, but also can be null or undefined.","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>I'm using Java 17, got the same error, the solution for me was to specify the entity when declaring as Optional, like this:</p>\n<pre><code>Optional&lt;User&gt; findUserById(Long userId);\n</code></pre>\n<p>Because you want to receive a certain type, but also can be null or undefined.</p>\n"}],"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7366,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33054046,"answer_count":4,"score":0,"last_activity_date":1676629811,"creation_date":1444479436,"question_id":33053891,"body_markdown":"I&#39;m working with this tutorial which uses lambda expressions.\r\n\r\n[Spring Boot - Bookmarks][1]\r\n\r\n\r\nBut IntelliJ says always: `cannot resolve method(&lt;lambda expression&gt;)`.\r\n\r\nWhat do I have to check?\r\n\r\n    this.accountRepository.findByUsername(userId).orElseThrow(() -&gt; new UserNotFoundException(userId));\r\n\r\n  [1]: http://spring.io/guides/tutorials/bookmarks/","title":"IntelliJ IDEA not supporting Lambda?","body":"<p>I'm working with this tutorial which uses lambda expressions.</p>\n\n<p><a href=\"http://spring.io/guides/tutorials/bookmarks/\" rel=\"nofollow\">Spring Boot - Bookmarks</a></p>\n\n<p>But IntelliJ says always: <code>cannot resolve method(&lt;lambda expression&gt;)</code>.</p>\n\n<p>What do I have to check?</p>\n\n<pre><code>this.accountRepository.findByUsername(userId).orElseThrow(() -&gt; new UserNotFoundException(userId));\n</code></pre>\n"},{"tags":["java","date","datetime","timestamp"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1676617414,"post_id":75480975,"comment_id":133176852,"body_markdown":"Have a look at the Javadocs https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString-- and you will see that it is doing exactly what it says it will do.  Try searching for ways to format a Java Date.","body":"Have a look at the Javadocs <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a> and you will see that it is doing exactly what it says it will do.  Try searching for ways to format a Java Date."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1676617620,"post_id":75480975,"comment_id":133176886,"body_markdown":"As has been said many many times on Stack Overflow, both `Date` classes are terribly flawed, and are now legacy. They were supplanted years ago by the modern *java.time* classes defined in JSR 310. For a date-only value, use `LocalDate` class.","body":"As has been said many many times on Stack Overflow, both <code>Date</code> classes are terribly flawed, and are now legacy. They were supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310. For a date-only value, use <code>LocalDate</code> class."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676617631,"post_id":75480975,"comment_id":133176887,"body_markdown":"Your input string complies with ISO 8601 standard used by default when parsing/generating strings in *java.time*. So simply parse: `LocalDate.parse( &quot;2024-02-10&quot; )`. To generate such a string: `myLocalDate.toString()`.","body":"Your input string complies with ISO 8601 standard used by default when parsing/generating strings in <i>java.time</i>. So simply parse: <code>LocalDate.parse( &quot;2024-02-10&quot; )</code>. To generate such a string: <code>myLocalDate.toString()</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676617799,"post_id":75480975,"comment_id":133176917,"body_markdown":"Tip: In the Java ecosystem, you have your choice of many good JSON processing frameworks. I suggest you use one. See: [*JSON in Java*](https://www.baeldung.com/java-json) by Eugen Paraschiv on Baeldung.com.","body":"Tip: In the Java ecosystem, you have your choice of many good JSON processing frameworks. I suggest you use one. See: <a href=\"https://www.baeldung.com/java-json\" rel=\"nofollow noreferrer\"><i>JSON in Java</i></a> by Eugen Paraschiv on Baeldung.com."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676618967,"post_id":75480975,"comment_id":133177171,"body_markdown":"Use `LocalDate` and use for example [jackson-modules-java8](https://github.com/FasterXML/jackson-modules-java8) and get exactly that format, which is also recommended. What you are seeing is the result of the `toString` method of the outdated `java.util.Date` class; you neither want that class nor that format.","body":"Use <code>LocalDate</code> and use for example <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">jackson-modules-java8</a> and get exactly that format, which is also recommended. What you are seeing is the result of the <code>toString</code> method of the outdated <code>java.util.Date</code> class; you neither want that class nor that format."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1676619370,"post_id":75480975,"comment_id":133177264,"body_markdown":"You&#39;re expecting the `Date` object to remember that it should be printed in a specific format, but it doesn&#39;t work like that. A `Date` object does not have a format by itself; it&#39;s just a date and time value. To print it in a specific format, you&#39;d have to use a `SimpleDateFormat` object.","body":"You&#39;re expecting the <code>Date</code> object to remember that it should be printed in a specific format, but it doesn&#39;t work like that. A <code>Date</code> object does not have a format by itself; it&#39;s just a date and time value. To print it in a specific format, you&#39;d have to use a <code>SimpleDateFormat</code> object."}],"answers":[{"tags":[],"owner":{"account_id":4863301,"reputation":312,"user_id":3922336,"accept_rate":0,"display_name":"umesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676629567,"creation_date":1676629567,"answer_id":75483025,"question_id":75480975,"body_markdown":"Since I was trying to save/parse the object in Google Web Toolkit (GWT) so SimpleDateFormat was creating issue, as GWT doesn&#39;t supports SimpleDateFormat.\r\n\r\nBut below worked for me \r\n\r\n    import com.google.gwt.i18n.shared.DateTimeFormat;\r\n    import com.google.gwt.i18n.shared.DefaultDateTimeFormatInfo;\r\n    String pattern = &quot;yyyy-MM-dd&quot;; /*your pattern here*/ \r\n\tDefaultDateTimeFormatInfo info = new DefaultDateTimeFormatInfo();\r\n\tDateTimeFormat df = new DateTimeFormat(pattern, info) {};\r\n    df.format(expiryDate)\r\n\r\nOutput :-\r\n\r\n    {&quot;id&quot;:123,&quot;expiryDate&quot; : &quot;2024-02-10&quot;}","title":"Unable to store Date in a specific format in database","body":"<p>Since I was trying to save/parse the object in Google Web Toolkit (GWT) so SimpleDateFormat was creating issue, as GWT doesn't supports SimpleDateFormat.</p>\n<p>But below worked for me</p>\n<pre><code>import com.google.gwt.i18n.shared.DateTimeFormat;\nimport com.google.gwt.i18n.shared.DefaultDateTimeFormatInfo;\nString pattern = &quot;yyyy-MM-dd&quot;; /*your pattern here*/ \nDefaultDateTimeFormatInfo info = new DefaultDateTimeFormatInfo();\nDateTimeFormat df = new DateTimeFormat(pattern, info) {};\ndf.format(expiryDate)\n</code></pre>\n<p>Output :-</p>\n<pre><code>{&quot;id&quot;:123,&quot;expiryDate&quot; : &quot;2024-02-10&quot;}\n</code></pre>\n"}],"owner":{"account_id":4863301,"reputation":312,"user_id":3922336,"accept_rate":0,"display_name":"umesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676629567,"creation_date":1676616170,"question_id":75480975,"body_markdown":"reading json data from database, and converting it into a object in java.\r\n\r\n    Data in Database :- {&quot;id&quot;:123,&quot;expiryDate&quot;:&quot;2024-02-10&quot;}\r\n\r\nNOTE :- I am trying to use this data in **Google Web Toolkit (GWT)**\r\n\r\nconverting above data using object mapper.\r\nObject consuming above json TestJson.java \r\n\r\n\r\n     Class TestJson {\r\n     private Long id,\r\n     private Date expiryDate;\r\n     public Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id= id;\r\n\t}\r\n\r\n    public Date getExpiryDate() {\r\n\t\treturn expiryDate;\r\n\t}\r\n\r\n\tpublic void setExpiryDate(Date expiryDate) {\r\n\t\tthis.expiryDate = expiryDate;\r\n\t}\r\n    public String toJSONString() {\r\n         return &quot;{&quot; +\r\n                    &quot;\\&quot;id\\&quot; : \\&quot;&quot; + id + &quot;\\&quot;,&quot; +\r\n                    &quot;\\&quot;expiryDate\\&quot; : \\&quot;&quot; + expiryDate + &quot;\\&quot;}&quot;;\r\n    }\r\n    }\r\n\r\nWhen the Json data is converted then the value of &quot;Expiry Date&quot; is &quot;Sat Feb 10 05:30:00 IST 2024&quot;.\r\nBut I want it in the same format as it is in JSON.","title":"Unable to store Date in a specific format in database","body":"<p>reading json data from database, and converting it into a object in java.</p>\n<pre><code>Data in Database :- {&quot;id&quot;:123,&quot;expiryDate&quot;:&quot;2024-02-10&quot;}\n</code></pre>\n<p>NOTE :- I am trying to use this data in <strong>Google Web Toolkit (GWT)</strong></p>\n<p>converting above data using object mapper.\nObject consuming above json TestJson.java</p>\n<pre><code> Class TestJson {\n private Long id,\n private Date expiryDate;\n public Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id= id;\n}\n\npublic Date getExpiryDate() {\n    return expiryDate;\n}\n\npublic void setExpiryDate(Date expiryDate) {\n    this.expiryDate = expiryDate;\n}\npublic String toJSONString() {\n     return &quot;{&quot; +\n                &quot;\\&quot;id\\&quot; : \\&quot;&quot; + id + &quot;\\&quot;,&quot; +\n                &quot;\\&quot;expiryDate\\&quot; : \\&quot;&quot; + expiryDate + &quot;\\&quot;}&quot;;\n}\n}\n</code></pre>\n<p>When the Json data is converted then the value of &quot;Expiry Date&quot; is &quot;Sat Feb 10 05:30:00 IST 2024&quot;.\nBut I want it in the same format as it is in JSON.</p>\n"},{"tags":["java","android","api","android-studio","retrofit"],"comments":[{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676611726,"post_id":75480540,"comment_id":133176016,"body_markdown":"What error you got while executing it?","body":"What error you got while executing it?"},{"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"score":0,"creation_date":1676612694,"post_id":75480540,"comment_id":133176152,"body_markdown":"Onclick is not giving any response and error it&#39;s not performing any task","body":"Onclick is not giving any response and error it&#39;s not performing any task"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676612923,"post_id":75480540,"comment_id":133176181,"body_markdown":"did you debug it?","body":"did you debug it?"},{"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"score":0,"creation_date":1676613273,"post_id":75480540,"comment_id":133176226,"body_markdown":"Yes and it shows no error","body":"Yes and it shows no error"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676613394,"post_id":75480540,"comment_id":133176238,"body_markdown":"How did you debug it ?","body":"How did you debug it ?"},{"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"score":0,"creation_date":1676613603,"post_id":75480540,"comment_id":133176268,"body_markdown":"With debug option android debugger","body":"With debug option android debugger"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676613956,"post_id":75480540,"comment_id":133176314,"body_markdown":"It always shows some error on any other information. Add a breakpoint on which it should show a response and then check the log window as you are using Retrofit.","body":"It always shows some error on any other information. Add a breakpoint on which it should show a response and then check the log window as you are using Retrofit."},{"owner":{"account_id":6506209,"reputation":697,"user_id":5035015,"accept_rate":50,"display_name":"Kishor Ramani"},"score":0,"creation_date":1676615628,"post_id":75480540,"comment_id":133176555,"body_markdown":"Have you checked whether this API is working in postman or not? Are you testing in mobile or emulator? Also, check whether are you on the same network or not?","body":"Have you checked whether this API is working in postman or not? Are you testing in mobile or emulator? Also, check whether are you on the same network or not?"},{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1676615714,"post_id":75480540,"comment_id":133176568,"body_markdown":"Share the structure of sending request.","body":"Share the structure of sending request."},{"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"score":0,"creation_date":1676617144,"post_id":75480540,"comment_id":133176806,"body_markdown":"@KishorRamani it&#39;s working fine in postman and emulator, only problem i face when i try to run on mobile","body":"@KishorRamani it&#39;s working fine in postman and emulator, only problem i face when i try to run on mobile"},{"owner":{"account_id":6506209,"reputation":697,"user_id":5035015,"accept_rate":50,"display_name":"Kishor Ramani"},"score":0,"creation_date":1676617851,"post_id":75480540,"comment_id":133176926,"body_markdown":"@JaivikKotadiya try this solution https://stackoverflow.com/a/53984915/5035015","body":"@JaivikKotadiya try this solution <a href=\"https://stackoverflow.com/a/53984915/5035015\">stackoverflow.com/a/53984915/5035015</a>"}],"answers":[{"tags":[],"owner":{"account_id":6506209,"reputation":697,"user_id":5035015,"accept_rate":50,"display_name":"Kishor Ramani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676629218,"creation_date":1676629218,"answer_id":75482969,"question_id":75480540,"body_markdown":"refer to this answer for a solution\r\nhttps://stackoverflow.com/a/53984915/5035015\r\n\r\nfor more information regarding Network security configuration, refer to the below link\r\nhttps://developer.android.com/training/articles/security-config","title":"Unable to call api using retrofit in android","body":"<p>refer to this answer for a solution\n<a href=\"https://stackoverflow.com/a/53984915/5035015\">https://stackoverflow.com/a/53984915/5035015</a></p>\n<p>for more information regarding Network security configuration, refer to the below link\n<a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-config</a></p>\n"}],"owner":{"account_id":27380375,"reputation":31,"user_id":20885073,"display_name":"Jaivik Kotadiya"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676629218,"creation_date":1676611538,"question_id":75480540,"body_markdown":"Earlier i was able to call api using this code and but now it is not working\r\nI&#39;m not sure that what went wrong so if you can help it will be great.\r\ni have uploaded my code files of circulareNotice.java,api.java and Retrofitclient.java\r\ncheck the code and let me know that what is error and also solution of that error.\r\n\r\n\r\n**circularNotice.java** \r\n```\r\npackage com.example.college_connect_faculty;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.textclassifier.ConversationActions;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.messaging.FirebaseMessaging;\r\nimport com.google.firebase.messaging.RemoteMessage;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport okhttp3.ResponseBody;\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\npublic class circularNotice extends AppCompatActivity {\r\n    EditText noticetxt,noticeTitle;\r\n    Button noticeBtn;\r\n    TextView stringLength;\r\n    String topic = &quot;com.example.college_connect_faculty&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        FirebaseApp.initializeApp(this);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_circular_notice);\r\n\r\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;all&quot;);\r\n        noticetxt = findViewById(R.id.noticetxt);\r\n        noticeBtn = findViewById(R.id.noticeBtn);\r\n        stringLength = findViewById(R.id.stringLength);\r\n        noticeTitle = findViewById(R.id.noticeTitle);\r\n        noticetxt.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n                String s = noticetxt.getText().toString();\r\n                int l = s.length();\r\n                stringLength.setText(String.valueOf(l));\r\n\r\n            }\r\n        });\r\n\r\n        noticeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                    String notice = noticetxt.getText().toString();\r\n                    String title = noticeTitle.getText().toString();\r\n                    try {\r\n\r\n\r\n                        Call&lt;ResponseBody&gt; call = RetrofitClient.getInstance().getApi().noticeUpload(notice, title);\r\n                        call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                            @RequiresApi(api = Build.VERSION_CODES.Q)\r\n                            @Override\r\n                            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                                try {\r\n                                    String s = response.body().string();\r\n                                    Toast.makeText(circularNotice.this, s, Toast.LENGTH_SHORT).show();\r\n\r\n                                    FcmNotificationsSender notificationsSender = new FcmNotificationsSender(&quot;/topics/all&quot;,\r\n                                            title, notice, getApplicationContext(), circularNotice.this);\r\n                                    notificationsSender.SendNotifications();\r\n                                    FirebaseMessaging firebaseMessaging = FirebaseMessaging.getInstance();\r\n\r\n                                } catch (IOException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n\r\n                            }\r\n                        });\r\n                    }catch (Exception e){\r\n                        Toast.makeText(circularNotice.this,e.getMessage().toString(),Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**api.java** \r\n\r\n```\r\npackage com.example.college_connect_faculty;\r\n\r\nimport java.util.TreeMap;\r\n\r\nimport okhttp3.MultipartBody;\r\nimport okhttp3.RequestBody;\r\nimport okhttp3.ResponseBody;\r\nimport retrofit2.Call;\r\nimport retrofit2.http.Field;\r\nimport retrofit2.http.FormUrlEncoded;\r\nimport retrofit2.http.Multipart;\r\nimport retrofit2.http.POST;\r\nimport retrofit2.http.Part;\r\n\r\npublic interface api {\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;uploadSubjects.php&quot;)\r\n    Call&lt;ResponseBody&gt;uploadSubject(\r\n            @Field(&quot;semester&quot;) String semester,\r\n            @Field(&quot;branch&quot;) String branch,\r\n            @Field(&quot;subject&quot;)String subject\r\n            );\r\n    @FormUrlEncoded\r\n    @POST(&quot;showSubjects.php&quot;)\r\n    Call&lt;ResultSubject&gt; showSubject(\r\n            @Field(&quot;semester&quot;) String semester,\r\n            @Field(&quot;branch&quot;) String branch\r\n    );\r\n    @Multipart\r\n    @POST(&quot;filesUpload.php&quot;)\r\n    Call&lt;ResponseBody&gt; fileUpload(\r\n            @Part MultipartBody.Part fileName,\r\n            @Part(&quot;branch&quot;) RequestBody branch,\r\n            @Part(&quot;semester&quot;) RequestBody semester,\r\n            @Part(&quot;subject&quot;) RequestBody subject\r\n\r\n    );\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;noticeUpload.php&quot;)\r\n    Call&lt;ResponseBody&gt; noticeUpload(\r\n                    @Field(&quot;notice&quot;) String notice,\r\n                    @Field(&quot;title&quot;) String title\r\n    );\r\n}\r\n\r\n```\r\n\r\n**Retrofitclient.java**\r\n\r\n```\r\npackage com.example.college_connect_faculty;\r\n\r\nimport android.content.Context;\r\n\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class RetrofitClient {\r\n    static Context context;\r\n\r\n\r\n    final String BASE_URL = &quot;http://192.168.153.223/college_connect/&quot;;\r\n    private static RetrofitClient mInstance;\r\n    Retrofit retrofit;\r\n\r\n    RetrofitClient(){\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n    }\r\n    public static synchronized RetrofitClient getInstance(){\r\n        if (mInstance==null){\r\n            mInstance = new RetrofitClient();\r\n        }\r\n        return mInstance;\r\n    }\r\n\r\n    public api getApi(){\r\n        return retrofit.create(api.class);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni have checked my ipv4. No problems in it","title":"Unable to call api using retrofit in android","body":"<p>Earlier i was able to call api using this code and but now it is not working\nI'm not sure that what went wrong so if you can help it will be great.\ni have uploaded my code files of circulareNotice.java,api.java and Retrofitclient.java\ncheck the code and let me know that what is error and also solution of that error.</p>\n<p><strong>circularNotice.java</strong></p>\n<pre><code>package com.example.college_connect_faculty;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.textclassifier.ConversationActions;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.messaging.FirebaseMessaging;\nimport com.google.firebase.messaging.RemoteMessage;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport okhttp3.ResponseBody;\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\n\npublic class circularNotice extends AppCompatActivity {\n    EditText noticetxt,noticeTitle;\n    Button noticeBtn;\n    TextView stringLength;\n    String topic = &quot;com.example.college_connect_faculty&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        FirebaseApp.initializeApp(this);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_circular_notice);\n\n        FirebaseMessaging.getInstance().subscribeToTopic(&quot;all&quot;);\n        noticetxt = findViewById(R.id.noticetxt);\n        noticeBtn = findViewById(R.id.noticeBtn);\n        stringLength = findViewById(R.id.stringLength);\n        noticeTitle = findViewById(R.id.noticeTitle);\n        noticetxt.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n                String s = noticetxt.getText().toString();\n                int l = s.length();\n                stringLength.setText(String.valueOf(l));\n\n            }\n        });\n\n        noticeBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                    String notice = noticetxt.getText().toString();\n                    String title = noticeTitle.getText().toString();\n                    try {\n\n\n                        Call&lt;ResponseBody&gt; call = RetrofitClient.getInstance().getApi().noticeUpload(notice, title);\n                        call.enqueue(new Callback&lt;ResponseBody&gt;() {\n                            @RequiresApi(api = Build.VERSION_CODES.Q)\n                            @Override\n                            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n                                try {\n                                    String s = response.body().string();\n                                    Toast.makeText(circularNotice.this, s, Toast.LENGTH_SHORT).show();\n\n                                    FcmNotificationsSender notificationsSender = new FcmNotificationsSender(&quot;/topics/all&quot;,\n                                            title, notice, getApplicationContext(), circularNotice.this);\n                                    notificationsSender.SendNotifications();\n                                    FirebaseMessaging firebaseMessaging = FirebaseMessaging.getInstance();\n\n                                } catch (IOException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n\n                            @Override\n                            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n\n                            }\n                        });\n                    }catch (Exception e){\n                        Toast.makeText(circularNotice.this,e.getMessage().toString(),Toast.LENGTH_SHORT).show();\n                    }\n\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>api.java</strong></p>\n<pre><code>package com.example.college_connect_faculty;\n\nimport java.util.TreeMap;\n\nimport okhttp3.MultipartBody;\nimport okhttp3.RequestBody;\nimport okhttp3.ResponseBody;\nimport retrofit2.Call;\nimport retrofit2.http.Field;\nimport retrofit2.http.FormUrlEncoded;\nimport retrofit2.http.Multipart;\nimport retrofit2.http.POST;\nimport retrofit2.http.Part;\n\npublic interface api {\n\n    @FormUrlEncoded\n    @POST(&quot;uploadSubjects.php&quot;)\n    Call&lt;ResponseBody&gt;uploadSubject(\n            @Field(&quot;semester&quot;) String semester,\n            @Field(&quot;branch&quot;) String branch,\n            @Field(&quot;subject&quot;)String subject\n            );\n    @FormUrlEncoded\n    @POST(&quot;showSubjects.php&quot;)\n    Call&lt;ResultSubject&gt; showSubject(\n            @Field(&quot;semester&quot;) String semester,\n            @Field(&quot;branch&quot;) String branch\n    );\n    @Multipart\n    @POST(&quot;filesUpload.php&quot;)\n    Call&lt;ResponseBody&gt; fileUpload(\n            @Part MultipartBody.Part fileName,\n            @Part(&quot;branch&quot;) RequestBody branch,\n            @Part(&quot;semester&quot;) RequestBody semester,\n            @Part(&quot;subject&quot;) RequestBody subject\n\n    );\n\n    @FormUrlEncoded\n    @POST(&quot;noticeUpload.php&quot;)\n    Call&lt;ResponseBody&gt; noticeUpload(\n                    @Field(&quot;notice&quot;) String notice,\n                    @Field(&quot;title&quot;) String title\n    );\n}\n\n</code></pre>\n<p><strong>Retrofitclient.java</strong></p>\n<pre><code>package com.example.college_connect_faculty;\n\nimport android.content.Context;\n\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class RetrofitClient {\n    static Context context;\n\n\n    final String BASE_URL = &quot;http://192.168.153.223/college_connect/&quot;;\n    private static RetrofitClient mInstance;\n    Retrofit retrofit;\n\n    RetrofitClient(){\n        retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n    }\n    public static synchronized RetrofitClient getInstance(){\n        if (mInstance==null){\n            mInstance = new RetrofitClient();\n        }\n        return mInstance;\n    }\n\n    public api getApi(){\n        return retrofit.create(api.class);\n    }\n\n}\n\n</code></pre>\n<p>i have checked my ipv4. No problems in it</p>\n"},{"tags":["java","state","refactoring"],"comments":[{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1676620462,"post_id":75481371,"comment_id":133177513,"body_markdown":"Mutation refers to changing the internal state of the class. Try making use of final variables to prevent re-initialization or final methods to prevent overriding and final class to prevent class being inherited.","body":"Mutation refers to changing the internal state of the class. Try making use of final variables to prevent re-initialization or final methods to prevent overriding and final class to prevent class being inherited."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1676620761,"post_id":75481371,"comment_id":133177587,"body_markdown":"So, you want to make the class stateless/immutable? Do i understand correct?","body":"So, you want to make the class stateless/immutable? Do i understand correct?"}],"answers":[{"tags":[],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676629190,"creation_date":1676627346,"answer_id":75482617,"question_id":75481371,"body_markdown":"If you want to make your class immutable, this is an option:\r\n\r\n    class ImmutableContainer {\r\n    \tfinal int capacity;\r\n    \tfinal String name;\r\n    \t\t\t   \r\n    \tpublic ImmutableContainer(int capacity, String name) {\r\n    \t\tthis.capacity = capacity;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\t\t   \r\n    \tpublic int getCapacity() {\r\n    \t\treturn capacity;\r\n    \t}\r\n\r\n    \tpublic ImmutableContainer consumeContainer(int numberOfUnits) {\r\n    \t\treturn new ImmutableContainer(this.capacity - numberOfUnits, name);\r\n    \t}\r\n    }\r\n\r\nOr, even simpler, as a record:\r\n\t\r\n\r\n    record ImmutableContainer(int capacity, String name) {\r\n\r\n\t\tpublic ImmutableContainer consumeContainer(int numberOfUnits) {\r\n\t\t\treturn new ImmutableContainer(this.capacity - numberOfUnits, name);\r\n\t\t}\r\n\t}","title":"Refactor a stateful class","body":"<p>If you want to make your class immutable, this is an option:</p>\n<pre><code>class ImmutableContainer {\n    final int capacity;\n    final String name;\n               \n    public ImmutableContainer(int capacity, String name) {\n        this.capacity = capacity;\n        this.name = name;\n    }\n               \n    public int getCapacity() {\n        return capacity;\n    }\n\n    public ImmutableContainer consumeContainer(int numberOfUnits) {\n        return new ImmutableContainer(this.capacity - numberOfUnits, name);\n    }\n}\n</code></pre>\n<p>Or, even simpler, as a record:</p>\n<pre><code>record ImmutableContainer(int capacity, String name) {\n\n    public ImmutableContainer consumeContainer(int numberOfUnits) {\n        return new ImmutableContainer(this.capacity - numberOfUnits, name);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75482617,"answer_count":1,"score":1,"last_activity_date":1676629190,"creation_date":1676619452,"question_id":75481371,"body_markdown":"I have a stateful class in java\r\n\r\n    class Container {\r\n       int capacity;\r\n       String name;\r\n       \r\n       public int getCapacity() {\r\n            return capacity;\r\n       }\r\n       public void consumeContainer(int numberOfUnits) {\r\n            this.capacity = this.capacity - numberOfUnits;\r\n       }\r\n    }\r\n\r\n\r\nI am looking for options to refactor this so I don&#39;t have to mutate the class everytime the container is consumed. Can the experts throw in ideas on how to do that? \r\n\r\nThanks","title":"Refactor a stateful class","body":"<p>I have a stateful class in java</p>\n<pre><code>class Container {\n   int capacity;\n   String name;\n   \n   public int getCapacity() {\n        return capacity;\n   }\n   public void consumeContainer(int numberOfUnits) {\n        this.capacity = this.capacity - numberOfUnits;\n   }\n}\n</code></pre>\n<p>I am looking for options to refactor this so I don't have to mutate the class everytime the container is consumed. Can the experts throw in ideas on how to do that?</p>\n<p>Thanks</p>\n"},{"tags":["python","java","eclipse"],"owner":{"account_id":16995474,"reputation":21,"user_id":12294014,"display_name":"Mirna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676629129,"creation_date":1676628892,"question_id":75482905,"body_markdown":"I&#39;d like to create a function to add EObject. Previously I&#39;ve created a function to check it.\r\n\r\n```\r\nimport sys\r\ndef get_by_query_nam(e_obj, query_name, cls = None):\r\n    e_object_class = getattr(sys.modules[&quot;__main__&quot;], &quot;EObject&quot;)\r\n    return JavaList(getSBQuery(e_obj.get_java_object(), query_name), e_object_class)\r\n```\r\n\r\nthis works as expected (using getName() to have the value name)\r\n\r\nNow with the value from function  &quot;get_by_query_name&quot; I want to add another value to it. \r\nThanks !","title":"how to add Eobject","body":"<p>I'd like to create a function to add EObject. Previously I've created a function to check it.</p>\n<pre><code>import sys\ndef get_by_query_nam(e_obj, query_name, cls = None):\n    e_object_class = getattr(sys.modules[&quot;__main__&quot;], &quot;EObject&quot;)\n    return JavaList(getSBQuery(e_obj.get_java_object(), query_name), e_object_class)\n</code></pre>\n<p>this works as expected (using getName() to have the value name)</p>\n<p>Now with the value from function  &quot;get_by_query_name&quot; I want to add another value to it.\nThanks !</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1676630075,"post_id":75482941,"comment_id":133180234,"body_markdown":"Add both directories to the classpath","body":"Add both directories to the classpath"}],"owner":{"account_id":4153704,"reputation":549,"user_id":3405484,"display_name":"Abdelghani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676629110,"creation_date":1676629110,"question_id":75482941,"body_markdown":"I have a project where test source files are in target/test-classes and source files are in target/classes.\r\n[![enter image description here][1]][1]\r\n\r\nI want to run the tests in command line. I use this command :\r\n\r\n&gt; java -cp &quot;target/test-classes:target/dependency/*&quot; org.junit.runner.JUnitCore com.java.MyClassTest\r\n\r\nBut this rises an error because Junit cant find com.java.MyClass (which is tested by com.java.MyClassTest).\r\n\r\n&gt; There was 1 failure:\r\n&gt; 1) initializationError(org.junit.runner.JUnitCommandLineParseResult)\r\n\r\n&gt; java.lang.IllegalArgumentException: Could not find class [com.java.MyClassTest]\r\n\r\nSo I try :\r\n\r\n&gt; java -cp &quot;target/classes:target/dependency/*&quot; org.junit.runner.JUnitCore com.java.MyClassTest\r\n\r\nBut then Junit cant find com.java.MyClassTest :\r\n\r\n&gt; There was 1 failure:\r\n&gt; 1) initializationError(com.java.MyClassTest)\r\n\r\n&gt; java.lang.NoClassDefFoundError: Lcom.java.MyClass;\r\n\r\nDo you know how to solve this whithout moving classes and/or using Maven?\r\n\r\nThank you in advance,\r\nAbdelghani\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3BXxA.png","title":"Running Java test in command line : test class files in a different directory than source files","body":"<p>I have a project where test source files are in target/test-classes and source files are in target/classes.\n<a href=\"https://i.stack.imgur.com/3BXxA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BXxA.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to run the tests in command line. I use this command :</p>\n<blockquote>\n<p>java -cp &quot;target/test-classes:target/dependency/*&quot; org.junit.runner.JUnitCore com.java.MyClassTest</p>\n</blockquote>\n<p>But this rises an error because Junit cant find com.java.MyClass (which is tested by com.java.MyClassTest).</p>\n<blockquote>\n<p>There was 1 failure:</p>\n<ol>\n<li>initializationError(org.junit.runner.JUnitCommandLineParseResult)</li>\n</ol>\n</blockquote>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Could not find class [com.java.MyClassTest]</p>\n</blockquote>\n<p>So I try :</p>\n<blockquote>\n<p>java -cp &quot;target/classes:target/dependency/*&quot; org.junit.runner.JUnitCore com.java.MyClassTest</p>\n</blockquote>\n<p>But then Junit cant find com.java.MyClassTest :</p>\n<blockquote>\n<p>There was 1 failure:</p>\n<ol>\n<li>initializationError(com.java.MyClassTest)</li>\n</ol>\n</blockquote>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Lcom.java.MyClass;</p>\n</blockquote>\n<p>Do you know how to solve this whithout moving classes and/or using Maven?</p>\n<p>Thank you in advance,\nAbdelghani</p>\n"},{"tags":["java","apache-spark","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":16883509,"reputation":16760,"user_id":12208910,"display_name":"Michael Heil"},"score":1,"creation_date":1611164943,"post_id":65813055,"comment_id":116365562,"body_markdown":"are you sending data into the topic after you run this structured streaming job or have you already written data in the topic and after that starting this job? Also, have you tried deleting your checkpointLocation folder?","body":"are you sending data into the topic after you run this structured streaming job or have you already written data in the topic and after that starting this job? Also, have you tried deleting your checkpointLocation folder?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1611204537,"post_id":65813055,"comment_id":116377038,"body_markdown":"Based on the output, 128 is the latest offset. If you want existing data to be processed, you&#39;ll need another option to do so","body":"Based on the output, 128 is the latest offset. If you want existing data to be processed, you&#39;ll need another option to do so"},{"owner":{"account_id":8001212,"reputation":263,"user_id":6035977,"display_name":"Corram"},"score":0,"creation_date":1611218623,"post_id":65813055,"comment_id":116381120,"body_markdown":"Hi mike and OneCricketeer. I&#39;ve checked and removed the output folder (including checkpoints) of the application as well as deleting all Kafka and Zookeeper data. Then I started the services anew, but the problem still persists.","body":"Hi mike and OneCricketeer. I&#39;ve checked and removed the output folder (including checkpoints) of the application as well as deleting all Kafka and Zookeeper data. Then I started the services anew, but the problem still persists."}],"answers":[{"tags":[],"owner":{"account_id":8001212,"reputation":263,"user_id":6035977,"display_name":"Corram"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1614240948,"creation_date":1614240948,"answer_id":66364713,"question_id":65813055,"body_markdown":"As it turns out, this behaviour of seeking and resetting is perfectly desirable in case that one does not read to the topic from beginning, but from latest offset. The pipeline then only reads new data that gets sent to the Kafka topic whilst it is running and since no new data was sent, the infinite loop of seeking (new data) and resetting (to latest offset).\r\n\r\nBottom line, just read from beginning or send new data and the problem is solved.","title":"Infinite loop of Resetting offset and seeking for LATEST offset","body":"<p>As it turns out, this behaviour of seeking and resetting is perfectly desirable in case that one does not read to the topic from beginning, but from latest offset. The pipeline then only reads new data that gets sent to the Kafka topic whilst it is running and since no new data was sent, the infinite loop of seeking (new data) and resetting (to latest offset).</p>\n<p>Bottom line, just read from beginning or send new data and the problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":1165941,"reputation":53,"user_id":1144256,"display_name":"Sitarama Chekuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624907224,"creation_date":1624907224,"answer_id":68168826,"question_id":65813055,"body_markdown":"I had to avoid this by setting log config:\r\n```\r\nlog4j.logger.org.apache.kafka.clients.consumer.internals.SubscriptionState=WARN\r\n```\r\nAlthough this is expected behavior, it seems unnecessary to log &#39;Seeking to LATEST offset&#39; message every few milliseconds. It obscures all other application logs in the log file. This issue becomes even more concerning when consuming from topics that are not very active all the time. Better if it was just at DEBUG level instead of INFO.","title":"Infinite loop of Resetting offset and seeking for LATEST offset","body":"<p>I had to avoid this by setting log config:</p>\n<pre><code>log4j.logger.org.apache.kafka.clients.consumer.internals.SubscriptionState=WARN\n</code></pre>\n<p>Although this is expected behavior, it seems unnecessary to log 'Seeking to LATEST offset' message every few milliseconds. It obscures all other application logs in the log file. This issue becomes even more concerning when consuming from topics that are not very active all the time. Better if it was just at DEBUG level instead of INFO.</p>\n"},{"tags":[],"owner":{"account_id":294508,"reputation":4953,"user_id":598444,"accept_rate":67,"display_name":"WarFox"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676628974,"creation_date":1676628488,"answer_id":75482816,"question_id":65813055,"body_markdown":"Assuming this is just because of verbose logging from Kafka Consumers [SubscriptionState](https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/SubscriptionState.java#LL390)\r\n\r\nIf you are using Spark 3.3.x with log4j2 setup (default), then the following might work for you\r\n\r\nAdd the following snippet to your `$SPARK_HOME/conf/log4j2.properties`\r\n\r\n\r\n```\r\n# Settings to quiet Kafka consumer logs that is too verbose\r\nlogger.kafkaConsumer.name = org.apache.kafka.clients.consumer\r\nlogger.kafkaConsumer.level = warn\r\n\r\n```\r\n","title":"Infinite loop of Resetting offset and seeking for LATEST offset","body":"<p>Assuming this is just because of verbose logging from Kafka Consumers <a href=\"https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/SubscriptionState.java#LL390\" rel=\"nofollow noreferrer\">SubscriptionState</a></p>\n<p>If you are using Spark 3.3.x with log4j2 setup (default), then the following might work for you</p>\n<p>Add the following snippet to your <code>$SPARK_HOME/conf/log4j2.properties</code></p>\n<pre><code># Settings to quiet Kafka consumer logs that is too verbose\nlogger.kafkaConsumer.name = org.apache.kafka.clients.consumer\nlogger.kafkaConsumer.level = warn\n\n</code></pre>\n"}],"owner":{"account_id":8001212,"reputation":263,"user_id":6035977,"display_name":"Corram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3376,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1676628974,"creation_date":1611158275,"question_id":65813055,"body_markdown":"I am trying to execute a simple spark structured streaming application which for now does not do much expect for pulling from a local Kafka cluster and writing to local file system. The code looks as follows:\r\n```\r\n    private static final String TARGET_PATH = &quot;orchestration/target/myfolder/&quot;;\r\n\r\n    private static final String BOOTSTRAP_SERVER = &quot;localhost:9092&quot;;\r\n    private static final String KAFKA_TOPIC = &quot;twitter_aapl2&quot;;\r\n\r\n    public static void main(String[] args) throws TimeoutException, StreamingQueryException {\r\n\r\n        SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;spark app&quot;).getOrCreate();\r\n\r\n        Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;)\r\n                .option(&quot;kafka.bootstrap.servers&quot;, BOOTSTRAP_SERVER)\r\n                .option(&quot;subscribe&quot;, KAFKA_TOPIC)\r\n                .load();\r\n\r\n        StreamingQuery query = df.writeStream()\r\n                .outputMode(&quot;append&quot;)\r\n                .format(&quot;parquet&quot;)\r\n                .option(&quot;path&quot;, TARGET_PATH + &quot;data/&quot;)\r\n                .option(&quot;checkpointLocation&quot;, TARGET_PATH + &quot;checkpoints/&quot;)\r\n                .start();\r\n        query.awaitTermination();\r\n\r\n\r\n```\r\n\r\nBut on execution I get the following output and my data ain&#39;t really getting processed.\r\n```\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\r\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\r\n```\r\n\r\nHow can I fix this?","title":"Infinite loop of Resetting offset and seeking for LATEST offset","body":"<p>I am trying to execute a simple spark structured streaming application which for now does not do much expect for pulling from a local Kafka cluster and writing to local file system. The code looks as follows:</p>\n<pre><code>    private static final String TARGET_PATH = &quot;orchestration/target/myfolder/&quot;;\n\n    private static final String BOOTSTRAP_SERVER = &quot;localhost:9092&quot;;\n    private static final String KAFKA_TOPIC = &quot;twitter_aapl2&quot;;\n\n    public static void main(String[] args) throws TimeoutException, StreamingQueryException {\n\n        SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(&quot;spark app&quot;).getOrCreate();\n\n        Dataset&lt;Row&gt; df = spark.readStream().format(&quot;kafka&quot;)\n                .option(&quot;kafka.bootstrap.servers&quot;, BOOTSTRAP_SERVER)\n                .option(&quot;subscribe&quot;, KAFKA_TOPIC)\n                .load();\n\n        StreamingQuery query = df.writeStream()\n                .outputMode(&quot;append&quot;)\n                .format(&quot;parquet&quot;)\n                .option(&quot;path&quot;, TARGET_PATH + &quot;data/&quot;)\n                .option(&quot;checkpointLocation&quot;, TARGET_PATH + &quot;checkpoints/&quot;)\n                .start();\n        query.awaitTermination();\n\n\n</code></pre>\n<p>But on execution I get the following output and my data ain't really getting processed.</p>\n<pre><code>21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Seeking to LATEST offset of partition twitter_aapl2-0\n21/01/20 16:54:08 INFO SubscriptionState: [Consumer clientId=consumer-spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0-1, groupId=spark-kafka-source-13ec7de0-97da-499c-a507-d8e4baa764dd-1008481407-driver-0] Resetting offset for partition twitter_aapl2-0 to offset 128.\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","spring-boot","tomcat","virtualhost"],"owner":{"account_id":1102829,"reputation":925,"user_id":1094850,"accept_rate":74,"display_name":"coderunner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676628937,"creation_date":1676628937,"question_id":75482913,"body_markdown":"**Use case:** We are trying to host dev and test environment of our spring boot application on an aws instance. Config used is Ubuntu 20.04, tomcat 9.0.7 and open jdk 11.\r\nWe have configured profiles for specific environments and properties files for each profile (viz. Dev, Test, Prod).&lt;br/&gt;\r\n\r\nVirtual hosts have been added to tomcats ```server.xml``` file as below.\r\n\r\n``` \r\n&lt;Host name=&quot;devbty.transp.in&quot;  appBase=&quot;webappbackend&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n            \r\n        &lt;!-- Access log processes all example.\r\n             Documentation at: /docs/config/valve.html\r\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n               prefix=&quot;dev_bty_access_log&quot; suffix=&quot;.txt&quot;\r\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n\r\n&lt;/Host&gt;\r\n\t\r\n&lt;Host name=&quot;testbty.transp.in&quot;  appBase=&quot;webappbackendtest&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n\r\n        &lt;!-- Access log processes all example.\r\n             Documentation at: /docs/config/valve.html\r\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n               prefix=&quot;test_bty_access_log&quot; suffix=&quot;.txt&quot;\r\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n\r\n&lt;/Host&gt;\r\n```\r\nAppbase directories are created in ```/opt/tomcat/``` directory. After deployment tomcat initializes only one(dev) app and the second one(test) is extracted from the WAR and present inside the appbase directory but not initialized. After hitting the respective URL&#39;s the output is as below.&lt;br/&gt;\r\n**Dev**&lt;br/&gt;\r\n[![enter image description here][1]][1]&lt;br/&gt;\r\n**Test**&lt;br/&gt;\r\n[![enter image description here][2]][2]&lt;br/&gt;\r\nDev is accessible whereas test is not.&lt;br/&gt;\r\n\r\nThe logs too show similar story. Here&#39;s a snippet from the ```catalina.out```. &lt;br/&gt;\r\n```\r\n :: Spring Boot ::                (v2.7.6)\r\n\r\n2023-02-17 07:39:59.644  INFO 19257 --- [           main] in.bilty.Application                : Starting Application using Java 11.0.17 on ip-20-0-2-81 with PID 19257 (/opt/tomcat/webappbackend/ROOT/WEB-INF/classes started by root in /)\r\n2023-02-17 07:39:59.656  INFO 19257 --- [           main] in.bilty.Application                : The following 1 profile is active: &quot;Dev&quot;\r\n2023-02-17 07:40:01.860  INFO 19257 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-02-17 07:40:02.065  INFO 19257 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 188 ms. Found 14 JPA repository interfaces.\r\n17-Feb-2023 07:40:02.929 INFO [main] org.apache.catalina.core.ApplicationContext.log Initializing Spring embedded WebApplicationContext\r\n2023-02-17 07:40:02.929  INFO 19257 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initi\r\n```\r\nIt however finds 2 applications on the classpath &lt;br/&gt;\r\n```\r\n17-Feb-2023 07:39:58.354 INFO [main] org.apache.catalina.core.ApplicationContext.log 2 Spring WebApplicationInitializers detected on classpath\r\n```\r\nIt says that the app is deployed which is correct as the WAR file is extracted and content is present in the appbase directory. &lt;br/&gt; \r\n```\r\n17-Feb-2023 07:40:12.931 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webappbackendtest/ROOT.war]\r\n17-Feb-2023 07:40:15.800 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n17-Feb-2023 07:40:15.812 INFO [main] org.apache.catalina.core.ApplicationContext.log 1 Spring WebApplicationInitializers detected on classpath\r\n17-Feb-2023 07:40:15.852 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/tomcat/webappbackendtest/ROOT.war] has finished in [2,921] ms\r\n```\r\n\r\nNot able to debug why only one app is deployed and not the other and no specific error message present in the logs. What can be missing?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MmB8I.png\r\n  [2]: https://i.stack.imgur.com/XrQoM.png","title":"Tomcat failing to initialize multiple spring boot applications","body":"<p><strong>Use case:</strong> We are trying to host dev and test environment of our spring boot application on an aws instance. Config used is Ubuntu 20.04, tomcat 9.0.7 and open jdk 11.\nWe have configured profiles for specific environments and properties files for each profile (viz. Dev, Test, Prod).<br/></p>\n<p>Virtual hosts have been added to tomcats <code>server.xml</code> file as below.</p>\n<pre><code>&lt;Host name=&quot;devbty.transp.in&quot;  appBase=&quot;webappbackend&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n            \n        &lt;!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\n               prefix=&quot;dev_bty_access_log&quot; suffix=&quot;.txt&quot;\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\n\n&lt;/Host&gt;\n    \n&lt;Host name=&quot;testbty.transp.in&quot;  appBase=&quot;webappbackendtest&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n\n        &lt;!-- Access log processes all example.\n             Documentation at: /docs/config/valve.html\n             Note: The pattern used is equivalent to using pattern=&quot;common&quot; --&gt;\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\n               prefix=&quot;test_bty_access_log&quot; suffix=&quot;.txt&quot;\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\n\n&lt;/Host&gt;\n</code></pre>\n<p>Appbase directories are created in <code>/opt/tomcat/</code> directory. After deployment tomcat initializes only one(dev) app and the second one(test) is extracted from the WAR and present inside the appbase directory but not initialized. After hitting the respective URL's the output is as below.<br/>\n<strong>Dev</strong><br/>\n<a href=\"https://i.stack.imgur.com/MmB8I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmB8I.png\" alt=\"enter image description here\" /></a><br/>\n<strong>Test</strong><br/>\n<a href=\"https://i.stack.imgur.com/XrQoM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XrQoM.png\" alt=\"enter image description here\" /></a><br/>\nDev is accessible whereas test is not.<br/></p>\n<p>The logs too show similar story. Here's a snippet from the <code>catalina.out</code>. <br/></p>\n<pre><code> :: Spring Boot ::                (v2.7.6)\n\n2023-02-17 07:39:59.644  INFO 19257 --- [           main] in.bilty.Application                : Starting Application using Java 11.0.17 on ip-20-0-2-81 with PID 19257 (/opt/tomcat/webappbackend/ROOT/WEB-INF/classes started by root in /)\n2023-02-17 07:39:59.656  INFO 19257 --- [           main] in.bilty.Application                : The following 1 profile is active: &quot;Dev&quot;\n2023-02-17 07:40:01.860  INFO 19257 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-02-17 07:40:02.065  INFO 19257 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 188 ms. Found 14 JPA repository interfaces.\n17-Feb-2023 07:40:02.929 INFO [main] org.apache.catalina.core.ApplicationContext.log Initializing Spring embedded WebApplicationContext\n2023-02-17 07:40:02.929  INFO 19257 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initi\n</code></pre>\n<p>It however finds 2 applications on the classpath <br/></p>\n<pre><code>17-Feb-2023 07:39:58.354 INFO [main] org.apache.catalina.core.ApplicationContext.log 2 Spring WebApplicationInitializers detected on classpath\n</code></pre>\n<p>It says that the app is deployed which is correct as the WAR file is extracted and content is present in the appbase directory. <br/></p>\n<pre><code>17-Feb-2023 07:40:12.931 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webappbackendtest/ROOT.war]\n17-Feb-2023 07:40:15.800 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n17-Feb-2023 07:40:15.812 INFO [main] org.apache.catalina.core.ApplicationContext.log 1 Spring WebApplicationInitializers detected on classpath\n17-Feb-2023 07:40:15.852 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/opt/tomcat/webappbackendtest/ROOT.war] has finished in [2,921] ms\n</code></pre>\n<p>Not able to debug why only one app is deployed and not the other and no specific error message present in the logs. What can be missing?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676566231,"post_id":75474420,"comment_id":133167078,"body_markdown":"Why not just use the Jmeter supplied from maven central, and setting the scope as `provided` to not include it in the final build? Forcing maven to use local jarfiles basically breaks the entire purpose of maven.","body":"Why not just use the Jmeter supplied from maven central, and setting the scope as <code>provided</code> to not include it in the final build? Forcing maven to use local jarfiles basically breaks the entire purpose of maven."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676567775,"post_id":75474420,"comment_id":133167554,"body_markdown":"If you are trying to execute a jar, apart setting permissions as executable as a file property  (not usually needed if another program executes the java.exe or java.bin or java) you need to edit the manifest.mf in theMETA-INF folder of the .jar file to specify the Main-Class:     see the SDK docs  https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html     and   how to in the java tutorial   (program entry point) https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html","body":"If you are trying to execute a jar, apart setting permissions as executable as a file property  (not usually needed if another program executes the java.exe or java.bin or java) you need to edit the manifest.mf in theMETA-INF folder of the .jar file to specify the Main-Class:     see the SDK docs  <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/jar/jar.html</a>     and   how to in the java tutorial   (program entry point) <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/appman.html</a>"}],"owner":{"account_id":19035995,"reputation":3,"user_id":13897088,"display_name":"Keydam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676628735,"creation_date":1676561192,"question_id":75474420,"body_markdown":"I&#39;m not really a developper but I need a tool and I&#39;m willing to improve myself .. be kind with my code please ..\r\n\r\nI&#39;m trying to write a jar tool, but whenever I&#39;m packaging it in a jar with Maven, my main class is never found .. I don&#39;t know what I&#39;m doing wrong \r\n\r\nHere is my java code\r\n\r\n```\r\npackage com.github.keydam.addprometheuslistener;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.jmeter.engine.StandardJMeterEngine;\r\nimport org.apache.jmeter.save.SaveService;\r\nimport org.apache.jmeter.util.JMeterUtils;\r\nimport org.apache.jorphan.collections.HashTree;\r\n\r\nimport picocli.CommandLine;\r\nimport picocli.CommandLine.Command;\r\nimport picocli.CommandLine.Option;\r\n\r\n@Command\r\npublic class addPrometheusListener implements Runnable {\r\n    @Option(names = { &quot;-f&quot;, &quot;--file&quot; }, required = true, description = &quot;JMX file&quot;) \r\n    public static File jmxFile;\r\n\r\n    public void run() {\r\n        // Test de l&#39;existence du fichier\r\n        boolean jmxFileExists = jmxFile.exists();\r\n\r\n        if (jmxFileExists) {\r\n            // Positionnement de JMETER_HOME\r\n            String jmeterHome = &quot;C:\\\\Users\\\\xxxxxx\\\\Documents\\\\Outils\\\\Jmeter\\\\5.5&quot;;\r\n\r\n            // Initialisation de Jmeter\r\n            try {\r\n                StandardJMeterEngine jmeter = new StandardJMeterEngine();\r\n                JMeterUtils.setJMeterHome(jmeterHome);\r\n                JMeterUtils.loadJMeterProperties(jmeterHome + &quot;/bin/jmeter.properties&quot;);\r\n                SaveService.loadProperties();\r\n            } catch (IOException e) {\r\n                System.out.println(e);\r\n            }\r\n\r\n            // Chargement du fichier\r\n            try {\r\n                HashTree testPlanTree = SaveService.loadTree(jmxFile);\r\n            } catch (IOException e) {\r\n                System.out.println(e);\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;Error : file &#39;&quot; + jmxFile + &quot;&#39; does not exist&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int exitCode = new CommandLine(new addPrometheusListener()).execute(args);\r\n        System.exit(exitCode); \r\n    }\r\n}\r\n```\r\n\r\nAnd here is my pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;!--&lt;packaging&gt;jar&lt;/packaging&gt;--&gt;\r\n\r\n  &lt;groupId&gt;com.github.keydam.addprometheuslistener&lt;/groupId&gt;\r\n  &lt;artifactId&gt;addPrometheusListener&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n  &lt;name&gt;addPrometheusListener&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;jmeter.version&gt;5.5&lt;/jmeter.version&gt;\r\n    &lt;jmeter.path&gt;C:/Users/xxxxxx/Documents/Outils/Jmeter/5.5&lt;/jmeter.path&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${jmeter.path}/lib/ext/ApacheJMeter_core.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ApacheJMeter_java&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${jmeter.path}/lib/ext/ApacheJMeter_java.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jorphan&lt;/artifactId&gt;\r\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${jmeter.path}/lib/jorphan.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;info.picocli&lt;/groupId&gt;\r\n        &lt;artifactId&gt;picocli&lt;/artifactId&gt;\r\n        &lt;version&gt;4.7.1&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.github.keydam.addprometheuslistener.addPrometheusListener&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;manifestEntries&gt;\r\n              &lt;Class-Path&gt;${jmeter.path}&lt;/Class-Path&gt;\r\n            &lt;/manifestEntries&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-jar&lt;/id&gt;\r\n            &lt;phase&gt;none&lt;/phase&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.github.keydam.addprometheuslistener.addPrometheusListener&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;manifestEntries&gt;\r\n              &lt;Class-Path&gt;${jmeter.path}/lib/ext/ApacheJMeter_core.jar ${jmeter.path}/lib/ext/ApacheJMeter_java.jar ${jmeter.path}/lib/jorphan.jar&lt;/Class-Path&gt;\r\n            &lt;/manifestEntries&gt;\r\n          &lt;/archive&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nI dont need the Jmeter jar to be in the package because they will be available on the system this code might run ..\r\nWhat am I missing or doing wrong ? My main class is never found when I try to execute my jar\r\n\r\nWell I tried a lot of debug, and the only thing I noticed is when I comment the manifestEntries section I dont have this problem anymore, but I&#39;m missing the Jmeter libraries .. which seems normal.","title":"Main class not found when adding jar to classPath","body":"<p>I'm not really a developper but I need a tool and I'm willing to improve myself .. be kind with my code please ..</p>\n<p>I'm trying to write a jar tool, but whenever I'm packaging it in a jar with Maven, my main class is never found .. I don't know what I'm doing wrong</p>\n<p>Here is my java code</p>\n<pre><code>package com.github.keydam.addprometheuslistener;\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport org.apache.jmeter.engine.StandardJMeterEngine;\nimport org.apache.jmeter.save.SaveService;\nimport org.apache.jmeter.util.JMeterUtils;\nimport org.apache.jorphan.collections.HashTree;\n\nimport picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Option;\n\n@Command\npublic class addPrometheusListener implements Runnable {\n    @Option(names = { &quot;-f&quot;, &quot;--file&quot; }, required = true, description = &quot;JMX file&quot;) \n    public static File jmxFile;\n\n    public void run() {\n        // Test de l'existence du fichier\n        boolean jmxFileExists = jmxFile.exists();\n\n        if (jmxFileExists) {\n            // Positionnement de JMETER_HOME\n            String jmeterHome = &quot;C:\\\\Users\\\\xxxxxx\\\\Documents\\\\Outils\\\\Jmeter\\\\5.5&quot;;\n\n            // Initialisation de Jmeter\n            try {\n                StandardJMeterEngine jmeter = new StandardJMeterEngine();\n                JMeterUtils.setJMeterHome(jmeterHome);\n                JMeterUtils.loadJMeterProperties(jmeterHome + &quot;/bin/jmeter.properties&quot;);\n                SaveService.loadProperties();\n            } catch (IOException e) {\n                System.out.println(e);\n            }\n\n            // Chargement du fichier\n            try {\n                HashTree testPlanTree = SaveService.loadTree(jmxFile);\n            } catch (IOException e) {\n                System.out.println(e);\n            }\n\n        } else {\n            System.out.println(&quot;Error : file '&quot; + jmxFile + &quot;' does not exist&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        int exitCode = new CommandLine(new addPrometheusListener()).execute(args);\n        System.exit(exitCode); \n    }\n}\n</code></pre>\n<p>And here is my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;!--&lt;packaging&gt;jar&lt;/packaging&gt;--&gt;\n\n  &lt;groupId&gt;com.github.keydam.addprometheuslistener&lt;/groupId&gt;\n  &lt;artifactId&gt;addPrometheusListener&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;name&gt;addPrometheusListener&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;jmeter.version&gt;5.5&lt;/jmeter.version&gt;\n    &lt;jmeter.path&gt;C:/Users/xxxxxx/Documents/Outils/Jmeter/5.5&lt;/jmeter.path&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${jmeter.path}/lib/ext/ApacheJMeter_core.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_java&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${jmeter.path}/lib/ext/ApacheJMeter_java.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache&lt;/groupId&gt;\n        &lt;artifactId&gt;jorphan&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${jmeter.path}/lib/jorphan.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.picocli&lt;/groupId&gt;\n        &lt;artifactId&gt;picocli&lt;/artifactId&gt;\n        &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.github.keydam.addprometheuslistener.addPrometheusListener&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;Class-Path&gt;${jmeter.path}&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-jar&lt;/id&gt;\n            &lt;phase&gt;none&lt;/phase&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.github.keydam.addprometheuslistener.addPrometheusListener&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;Class-Path&gt;${jmeter.path}/lib/ext/ApacheJMeter_core.jar ${jmeter.path}/lib/ext/ApacheJMeter_java.jar ${jmeter.path}/lib/jorphan.jar&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I dont need the Jmeter jar to be in the package because they will be available on the system this code might run ..\nWhat am I missing or doing wrong ? My main class is never found when I try to execute my jar</p>\n<p>Well I tried a lot of debug, and the only thing I noticed is when I comment the manifestEntries section I dont have this problem anymore, but I'm missing the Jmeter libraries .. which seems normal.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"score":0,"creation_date":1676623952,"post_id":75481834,"comment_id":133178432,"body_markdown":"Yes I tried this and then I got this result: [{art=2, lz_min=24, lz_max=36, faktor=null, zinssatz=0.5, kondnr=84}]","body":"Yes I tried this and then I got this result: [{art=2, lz_min=24, lz_max=36, faktor=null, zinssatz=0.5, kondnr=84}]"},{"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"score":0,"creation_date":1676626432,"post_id":75481834,"comment_id":133179157,"body_markdown":"Hey, yes I am very new to java. I am learning it atm and thought I could get a quick answer with this post","body":"Hey, yes I am very new to java. I am learning it atm and thought I could get a quick answer with this post"}],"answers":[{"comments":[{"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"score":0,"creation_date":1676626262,"post_id":75482378,"comment_id":133179104,"body_markdown":"Hi, I cannot do that because:\n&quot;Cannot resolve method &#39;get&#39; in &#39;object&#39; for the second .get","body":"Hi, I cannot do that because: &quot;Cannot resolve method &#39;get&#39; in &#39;object&#39; for the second .get"},{"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"score":0,"creation_date":1676626431,"post_id":75482378,"comment_id":133179156,"body_markdown":"Then you probably need a cast, I&#39; ve updated my answer.","body":"Then you probably need a cast, I&#39; ve updated my answer."},{"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"score":0,"creation_date":1676627908,"post_id":75482378,"comment_id":133179588,"body_markdown":"It is an ArrayList. That&#39;s why I am getting the error ArrayList cannot be cast to java.util.HashMap.","body":"It is an ArrayList. That&#39;s why I am getting the error ArrayList cannot be cast to java.util.HashMap."},{"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"score":0,"creation_date":1676628346,"post_id":75482378,"comment_id":133179728,"body_markdown":"Thanks for the answer. Now I know how to access my keys.","body":"Thanks for the answer. Now I know how to access my keys."}],"tags":[],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676628473,"creation_date":1676625982,"answer_id":75482378,"question_id":75481834,"body_markdown":"It seems to be a nested map. Have you tried the following:\r\n\r\n    ((HashMap)mymap.get(&quot;varten&quot;)).get(&quot;zinssatz&quot;);\r\n\r\nOr, if you&#39;re not sure if `varten` is really a `HashMap`, you can try the following to get the type:\r\n\r\n    System.out.println(mymap.get(&quot;varten&quot;).getClass());\r\n\r\n\r\n\r\n**Update**\r\n\r\nIf `varten` is a `HashMap` stored inside an `ArrayList`, try the following:\r\n\r\n    ((HashMap)((ArrayList)mymap.get(&quot;varten&quot;)).get(0)).get(&quot;zinssatz&quot;);\r\n\r\n...which is the same as:\r\n\t\t\r\n\r\n    List list = (ArrayList) mymap.get(&quot;varten&quot;);\r\n    Map map = (HashMap) list.get(0);\r\n    Object zinssatz = map.get(&quot;zinssatz&quot;);","title":"How do I get the value of a dictionary that contains a list of dictionaries in java?","body":"<p>It seems to be a nested map. Have you tried the following:</p>\n<pre><code>((HashMap)mymap.get(&quot;varten&quot;)).get(&quot;zinssatz&quot;);\n</code></pre>\n<p>Or, if you're not sure if <code>varten</code> is really a <code>HashMap</code>, you can try the following to get the type:</p>\n<pre><code>System.out.println(mymap.get(&quot;varten&quot;).getClass());\n</code></pre>\n<p><strong>Update</strong></p>\n<p>If <code>varten</code> is a <code>HashMap</code> stored inside an <code>ArrayList</code>, try the following:</p>\n<pre><code>((HashMap)((ArrayList)mymap.get(&quot;varten&quot;)).get(0)).get(&quot;zinssatz&quot;);\n</code></pre>\n<p>...which is the same as:</p>\n<pre><code>List list = (ArrayList) mymap.get(&quot;varten&quot;);\nMap map = (HashMap) list.get(0);\nObject zinssatz = map.get(&quot;zinssatz&quot;);\n</code></pre>\n"}],"owner":{"account_id":27509564,"reputation":50,"user_id":20991732,"display_name":"fabi80v"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75482378,"answer_count":1,"score":1,"last_activity_date":1676628473,"creation_date":1676622485,"question_id":75481834,"body_markdown":"I am working on a programm in Java which contains a part where I get a couple of information from my Python Server. It is a Hashmap that looks like this: \r\n\r\n```\r\n{hid=null, art=CWE, produktgruppe=23, objekt=K&#252;che, betrag=714.989990234375, iban=DE0212, id=2812, varten=[{art=2, lz_min=24, lz_max=36, faktor=null, zinssatz=0.5, kondnr=84}], status=979}\r\n```\r\nHow can I get the value of the key &quot;zinssatz&quot;.\r\n\r\n\r\n\r\nI tried it with \r\n\r\n```\r\nmymap.get(&quot;zinssatz&quot;);\r\n```\r\nBut that always returns zero. Which is probably because it can&#39;t find the key inside my hashmap because it is build like a &quot;Dictionary with a list of dictionaries&quot; inside it. \r\nThanks for your help. ","title":"How do I get the value of a dictionary that contains a list of dictionaries in java?","body":"<p>I am working on a programm in Java which contains a part where I get a couple of information from my Python Server. It is a Hashmap that looks like this:</p>\n<pre><code>{hid=null, art=CWE, produktgruppe=23, objekt=Küche, betrag=714.989990234375, iban=DE0212, id=2812, varten=[{art=2, lz_min=24, lz_max=36, faktor=null, zinssatz=0.5, kondnr=84}], status=979}\n</code></pre>\n<p>How can I get the value of the key &quot;zinssatz&quot;.</p>\n<p>I tried it with</p>\n<pre><code>mymap.get(&quot;zinssatz&quot;);\n</code></pre>\n<p>But that always returns zero. Which is probably because it can't find the key inside my hashmap because it is build like a &quot;Dictionary with a list of dictionaries&quot; inside it.\nThanks for your help.</p>\n"},{"tags":["java","android","permissions","usb-mass-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1676546826,"post_id":75470482,"comment_id":133160651,"body_markdown":"You did not tell what you tried programmatically. And... you do not need any permission to begin with.","body":"You did not tell what you tried programmatically. And... you do not need any permission to begin with."}],"owner":{"account_id":27801154,"reputation":1,"user_id":21225585,"display_name":"user21225585"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676628457,"creation_date":1676541071,"question_id":75470482,"body_markdown":"First time using stack overflow.\r\n\r\n\r\n\r\nI am creating an application that reads and plays videos from a USB SSD.\r\n\r\nI was able to get the file path using wireless debugging but could not access the file.I&#39;m thinking I can&#39;t access it because I don&#39;t have permissions.\r\n\r\nWhen accessing the SSD with a file manager app, the default file manager app started with a permission dialog.\r\n\r\nDefault file manager app Dialog:\r\n[![Default file manager app Dialog][1]][1]\r\n\r\nDefault File manager app Button:\r\n[![Default File manager app Button][2]][2]\r\n\r\nFile manager app:\r\n[![File manager app][3]][3]\r\n\r\nI tried many other things but it didn&#39;t work.\r\nI think it can be done with this method, but I don&#39;t know how to do it with special permissions, so please help.\r\n\r\nthank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QFTYj.jpg\r\n  [2]: https://i.stack.imgur.com/wRsBZ.jpg\r\n  [3]: https://i.stack.imgur.com/L6JVK.jpg","title":"I want to get permission for a USB connected SSD in Android Studio","body":"<p>First time using stack overflow.</p>\n<p>I am creating an application that reads and plays videos from a USB SSD.</p>\n<p>I was able to get the file path using wireless debugging but could not access the file.I'm thinking I can't access it because I don't have permissions.</p>\n<p>When accessing the SSD with a file manager app, the default file manager app started with a permission dialog.</p>\n<p>Default file manager app Dialog:\n<a href=\"https://i.stack.imgur.com/QFTYj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QFTYj.jpg\" alt=\"Default file manager app Dialog\" /></a></p>\n<p>Default File manager app Button:\n<a href=\"https://i.stack.imgur.com/wRsBZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRsBZ.jpg\" alt=\"Default File manager app Button\" /></a></p>\n<p>File manager app:\n<a href=\"https://i.stack.imgur.com/L6JVK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L6JVK.jpg\" alt=\"File manager app\" /></a></p>\n<p>I tried many other things but it didn't work.\nI think it can be done with this method, but I don't know how to do it with special permissions, so please help.</p>\n<p>thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676626855,"post_id":75482482,"comment_id":133179277,"body_markdown":"[A &quot;why&quot; question like this is inherently unanswerable.](https://meta.stackoverflow.com/a/323382/5133585) Please edit to clarify what you mean by &quot;why&quot;. For example, what behaviour did you expect the code to produce instead?","body":"<a href=\"https://meta.stackoverflow.com/a/323382/5133585\">A &quot;why&quot; question like this is inherently unanswerable.</a> Please edit to clarify what you mean by &quot;why&quot;. For example, what behaviour did you expect the code to produce instead?"},{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1676626893,"post_id":75482482,"comment_id":133179291,"body_markdown":"Once assigned, `final` variables cannot be modified","body":"Once assigned, <code>final</code> variables cannot be modified"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1676627132,"post_id":75482482,"comment_id":133179360,"body_markdown":"@Sweeper Elaborated my Question.","body":"@Sweeper Elaborated my Question."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1676627721,"creation_date":1676627195,"answer_id":75482588,"question_id":75482482,"body_markdown":"**tl;dr:** When we reach the catch-block the try-block has failed, but we don&#39;t know *where* it failed. It might have failed before, during or after assigning to the variable. Therefore the compiler can&#39;t allow a possible re-assignment to a `final` variable.\r\n\r\n**Long answer:** A `final` variable has to be assigned *exactly* once before it can be read. Not less (i.e. never assigned), not more (i.e. assigned twice). Exactly once.\r\n\r\nFor this reason the following code is trivially wrong:\r\n\r\n    final String someString;\r\n    someString = &quot;Hello&quot;;\r\n    someString = &quot;World&quot;;\r\n\r\nThe second assignment will result in a compile time error, since `someString` was definitely already assigned.\r\n\r\nNow let&#39;s look at this code:\r\n\r\n    final String someString;\r\n    try {\r\n      callSomeMethod();\r\n      someString = &quot;Hello&quot;;\r\n      callSomeOtherMethod();\r\n    } catch (Exception e) {\r\n      someString = &quot;World&quot;;\r\n    }\r\n\r\nNow we&#39;ve run into a problem: the compiler can&#39;t know when the exception that causes the catch-block to be executed is thrown: it could be thrown in `callSomeMethod()` or in `callSomeOtherMethod()` (or through some miraculous internal problem even when trying to assign the constant).\r\n\r\nSo the compiler simply doesn&#39;t know if `someString` will have been already been assigned to inside the catch-block or not (and both options would theoretically be possible at runtime!). If the variable had been assigned, then the assignment has to be a compile time error. If it wasn&#39;t it would be fine. But since static analysis can&#39;t tell you which one it is, the compiler has to mark the whole assignment as an error.\r\n\r\nNow in theory in some corner cases the compiler *could theoretically* know that a variable was definitely assigned in the `try` block, even when an exception occurs. Specifically if it&#39;s the first action and it can prove that the assignment action can not throw an exception. But if that&#39;s the case, then the programmer can just trivially move that assignment *out* of the try-block and avoid the whole problem. That&#39;s *probably* why no such rule exists in the JLS.","title":"Why is it not possible to initialize a final variable in a catch block?","body":"<p><strong>tl;dr:</strong> When we reach the catch-block the try-block has failed, but we don't know <em>where</em> it failed. It might have failed before, during or after assigning to the variable. Therefore the compiler can't allow a possible re-assignment to a <code>final</code> variable.</p>\n<p><strong>Long answer:</strong> A <code>final</code> variable has to be assigned <em>exactly</em> once before it can be read. Not less (i.e. never assigned), not more (i.e. assigned twice). Exactly once.</p>\n<p>For this reason the following code is trivially wrong:</p>\n<pre><code>final String someString;\nsomeString = &quot;Hello&quot;;\nsomeString = &quot;World&quot;;\n</code></pre>\n<p>The second assignment will result in a compile time error, since <code>someString</code> was definitely already assigned.</p>\n<p>Now let's look at this code:</p>\n<pre><code>final String someString;\ntry {\n  callSomeMethod();\n  someString = &quot;Hello&quot;;\n  callSomeOtherMethod();\n} catch (Exception e) {\n  someString = &quot;World&quot;;\n}\n</code></pre>\n<p>Now we've run into a problem: the compiler can't know when the exception that causes the catch-block to be executed is thrown: it could be thrown in <code>callSomeMethod()</code> or in <code>callSomeOtherMethod()</code> (or through some miraculous internal problem even when trying to assign the constant).</p>\n<p>So the compiler simply doesn't know if <code>someString</code> will have been already been assigned to inside the catch-block or not (and both options would theoretically be possible at runtime!). If the variable had been assigned, then the assignment has to be a compile time error. If it wasn't it would be fine. But since static analysis can't tell you which one it is, the compiler has to mark the whole assignment as an error.</p>\n<p>Now in theory in some corner cases the compiler <em>could theoretically</em> know that a variable was definitely assigned in the <code>try</code> block, even when an exception occurs. Specifically if it's the first action and it can prove that the assignment action can not throw an exception. But if that's the case, then the programmer can just trivially move that assignment <em>out</em> of the try-block and avoid the whole problem. That's <em>probably</em> why no such rule exists in the JLS.</p>\n"},{"tags":[],"owner":{"account_id":24910774,"reputation":1,"user_id":18780356,"display_name":"SCASTELLANO6044"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676628454,"creation_date":1676628454,"answer_id":75482805,"question_id":75482482,"body_markdown":"In Java, a final variable is a variable that is initialized once and cannot be reassigned. The reason why it is not possible to initialize a final variable in a catch block is that the catch block is only executed when an exception is thrown, and the Java compiler cannot guarantee that the initialization will always happen.","title":"Why is it not possible to initialize a final variable in a catch block?","body":"<p>In Java, a final variable is a variable that is initialized once and cannot be reassigned. The reason why it is not possible to initialize a final variable in a catch block is that the catch block is only executed when an exception is thrown, and the Java compiler cannot guarantee that the initialization will always happen.</p>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75482588,"answer_count":2,"score":0,"last_activity_date":1676628454,"creation_date":1676626585,"question_id":75482482,"body_markdown":"## Case Study 1 ##\r\n```java\r\n    final String someString = &quot;Hello World&quot;;\r\n    try {\r\n      someString = &quot;Hello&quot;;\r\n    } catch (RuntimeException e) {\r\n      someString = &quot;World&quot;;\r\n    }\r\n```\r\nIf we compile this code, we get two errors:\r\n&gt; Cannot assign a value to final variable &#39;someString&#39; // Line 3\r\n\r\n&gt; Cannot assign a value to final variable &#39;someString&#39; // Line 5\r\n\r\nThis, I understand. It&#39;s a final variable, you&#39;ve already assigned a reference to it, and you cannot change it anymore. Nice.\r\n\r\n## Case Study 2 ##\r\n```java\r\n    final String someString;\r\n    try {\r\n      someString = &quot;Hello&quot;;\r\n    } catch (RuntimeException e) {\r\n      someString = &quot;World&quot;;\r\n    }\r\n```\r\nIf we compile this code, we get only one error:\r\n&gt; Variable &#39;someString&#39; might already have been assigned to // Line 5\r\n\r\nThis, I don&#39;t understand. We are allowed to initialize in the try block. Still, if something fails, even before the actual initialization is done, we&#39;re not allowed to initialize the final variable in the catch block.\r\n\r\nWhy is that so? I was expecting we could initialize the variable in the catch block as the `try` block failed anyways. ","title":"Why is it not possible to initialize a final variable in a catch block?","body":"<h2>Case Study 1</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    final String someString = &quot;Hello World&quot;;\n    try {\n      someString = &quot;Hello&quot;;\n    } catch (RuntimeException e) {\n      someString = &quot;World&quot;;\n    }\n</code></pre>\n<p>If we compile this code, we get two errors:</p>\n<blockquote>\n<p>Cannot assign a value to final variable 'someString' // Line 3</p>\n</blockquote>\n<blockquote>\n<p>Cannot assign a value to final variable 'someString' // Line 5</p>\n</blockquote>\n<p>This, I understand. It's a final variable, you've already assigned a reference to it, and you cannot change it anymore. Nice.</p>\n<h2>Case Study 2</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    final String someString;\n    try {\n      someString = &quot;Hello&quot;;\n    } catch (RuntimeException e) {\n      someString = &quot;World&quot;;\n    }\n</code></pre>\n<p>If we compile this code, we get only one error:</p>\n<blockquote>\n<p>Variable 'someString' might already have been assigned to // Line 5</p>\n</blockquote>\n<p>This, I don't understand. We are allowed to initialize in the try block. Still, if something fails, even before the actual initialization is done, we're not allowed to initialize the final variable in the catch block.</p>\n<p>Why is that so? I was expecting we could initialize the variable in the catch block as the <code>try</code> block failed anyways.</p>\n"},{"tags":["java","reflection","rest-assured","java-17"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1676608551,"post_id":75480243,"comment_id":133175590,"body_markdown":"I love [guessing](https://github.com/rest-assured/rest-assured/wiki/GettingStarted#java-9).","body":"I love <a href=\"https://github.com/rest-assured/rest-assured/wiki/GettingStarted#java-9\" rel=\"nofollow noreferrer\">guessing</a>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676608568,"post_id":75480243,"comment_id":133175594,"body_markdown":"For some explanation of the error, see [How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?](https://stackoverflow.com/q/41265266/6395627).","body":"For some explanation of the error, see <a href=\"https://stackoverflow.com/q/41265266/6395627\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?</a>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676609323,"post_id":75480243,"comment_id":133175691,"body_markdown":"@ElliottFrisch That talks about split packages. The error the OP has is not about split packages. Or am I missing something?","body":"@ElliottFrisch That talks about split packages. The error the OP has is not about split packages. Or am I missing something?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1676610000,"post_id":75480243,"comment_id":133175776,"body_markdown":"@Slaw We have no idea how OP is packaging their code or even what version of restassured OP is using; hence **guessing**. But *module java.base does not &quot;opens java.lang&quot; to unnamed module* implies modules. Modules are Java 9+. And that note is labeled &quot;java 9+&quot;","body":"@Slaw We have no idea how OP is packaging their code or even what version of restassured OP is using; hence <b>guessing</b>. But <i>module java.base does not &quot;opens java.lang&quot; to unnamed module</i> implies modules. Modules are Java 9+. And that note is labeled &quot;java 9+&quot;"}],"answers":[{"comments":[{"owner":{"account_id":20531258,"reputation":13,"user_id":15068444,"display_name":"Dhiraj Shetty"},"score":2,"creation_date":1676697779,"post_id":75482795,"comment_id":133194340,"body_markdown":"Thank you. For those who will visit this thread in the future, I was working with older versions of Groovy and Rest-Assured. Problem solved post upgrade to rest-assured 5.3.0, groovy 4.0.9. Really appreciate the service of the stackoverflow community.","body":"Thank you. For those who will visit this thread in the future, I was working with older versions of Groovy and Rest-Assured. Problem solved post upgrade to rest-assured 5.3.0, groovy 4.0.9. Really appreciate the service of the stackoverflow community."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676628401,"creation_date":1676628401,"answer_id":75482795,"question_id":75480243,"body_markdown":"This is a fundamental problem of Groovy.\r\n\r\nGroovy is a dynamic language, using Reflection to access members, and it calls `setAccessible(true)` on all of them.\r\n\r\nIt wasn’t meant to work that way but has been implemented this way to fix access from closures to private members with the collateral damage of ignoring `private` everywhere. See\r\n\r\n  - https://stackoverflow.com/q/7852370/2711488\r\n\r\n  - https://stackoverflow.com/q/2834700/2711488\r\n\r\nThe constructor `String(char[],int,int,java.lang.Void)` does not even exist in older Java versions, so this is not the case of an old program relying on it, but instead, the Groovy runtime tries to cache all members of the class and is calling `setAccessible(true)` in advance, as we can deduce from the stacktrace\r\n\r\n```lang-none\r\n    at org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\r\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\r\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\r\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\r\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\r\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\r\n```\r\nNote the name part `MetaClass` suggesting per-class processing and the plural in the method name `getConstructors` suggesting that it tries to get *all* constructors.\r\n\r\nSince you are not even trying to access a member of class `String` in the posted code, it seems that it is already enough to use/reference a type to trigger the initialization of the meta information.\r\n\r\n---\r\n\r\nFor ordinary Java software, we would suggest to identify the places where the software is accessing internals, then include a specific `--add-opens` option as a temporary work-around, and rewrite the specific part to not access internals on the long term.\r\n\r\nHowever, for Groovy, you’d have to add such an option for *every* package the script is using, with no option to rewrite the code to get rid the issue eventually.\r\n\r\nWhich does not imply that there can’t be truly problematic parts, accessing internals, perhaps accidentally. It’s just that you can’t tell them apart from legitimate uses of the classes.\r\n\r\nIt’s unlikely that a behavior lasting since 2007 gets fixed or that such a fix could be done without breaking things at other places, i.e. the unintended accesses mentioned above or even *intended* ones, as some people consider this a feature.","title":"Why does my rest-assured code not work after moving to JDK 17","body":"<p>This is a fundamental problem of Groovy.</p>\n<p>Groovy is a dynamic language, using Reflection to access members, and it calls <code>setAccessible(true)</code> on all of them.</p>\n<p>It wasn’t meant to work that way but has been implemented this way to fix access from closures to private members with the collateral damage of ignoring <code>private</code> everywhere. See</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/q/7852370/2711488\">Private method in groovy is not private</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/q/2834700/2711488\">groovy call private method in Java super class</a></p>\n</li>\n</ul>\n<p>The constructor <code>String(char[],int,int,java.lang.Void)</code> does not even exist in older Java versions, so this is not the case of an old program relying on it, but instead, the Groovy runtime tries to cache all members of the class and is calling <code>setAccessible(true)</code> in advance, as we can deduce from the stacktrace</p>\n<pre class=\"lang-none prettyprint-override\"><code>    at org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\n</code></pre>\n<p>Note the name part <code>MetaClass</code> suggesting per-class processing and the plural in the method name <code>getConstructors</code> suggesting that it tries to get <em>all</em> constructors.</p>\n<p>Since you are not even trying to access a member of class <code>String</code> in the posted code, it seems that it is already enough to use/reference a type to trigger the initialization of the meta information.</p>\n<hr />\n<p>For ordinary Java software, we would suggest to identify the places where the software is accessing internals, then include a specific <code>--add-opens</code> option as a temporary work-around, and rewrite the specific part to not access internals on the long term.</p>\n<p>However, for Groovy, you’d have to add such an option for <em>every</em> package the script is using, with no option to rewrite the code to get rid the issue eventually.</p>\n<p>Which does not imply that there can’t be truly problematic parts, accessing internals, perhaps accidentally. It’s just that you can’t tell them apart from legitimate uses of the classes.</p>\n<p>It’s unlikely that a behavior lasting since 2007 gets fixed or that such a fix could be done without breaking things at other places, i.e. the unintended accesses mentioned above or even <em>intended</em> ones, as some people consider this a feature.</p>\n"}],"owner":{"account_id":20531258,"reputation":13,"user_id":15068444,"display_name":"Dhiraj Shetty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75482795,"answer_count":1,"score":1,"last_activity_date":1676628401,"creation_date":1676607957,"question_id":75480243,"body_markdown":"We are building REST API with tests. The API runs perfectly and we don&#39;t have any issue with it. The errors we am getting are in the testing part.\r\n\r\nThe tests uses Rest Assured library. We have to use JDK 17 as an organization level choice.\r\n\r\nWe are facing a challenge in running our REST Assured Tests after updating to JDK 17. Perhaps it has something to do with reflection not being permitted in JDK 17\r\n\r\n\r\nWe are getting java.lang.ExceptionInInitializerError for following lines of code\r\n\r\n        RestAssured.baseURI = Constants.BASE_URI;\r\n\r\n        RestAssured.port = Constants.PORT;\r\n\r\n        RestAssured.basePath = Constants.BASE_PATH;\r\n\r\nDo you have any advice/solution/work-arounds. We cannot use a different version of Java since this is an organization level choice.\r\n\r\n\r\n\r\nWe setting the baseURI, port and basePath for all the tests using the code shared above. It was working earlier, but after we moved to JDK 17 there seems to be a problem.\r\n\r\n```lang-none\r\njava.lang.ExceptionInInitializerError\r\n\tat io.restassured.builder.RequestSpecBuilder.&lt;init&gt;(RequestSpecBuilder.java:79)\r\n\tat com.teamcenter.services.strong.utils.TestBase.createRequestSpecification(TestBase.java:99)\r\n\tat com.teamcenter.services.strong.utils.TestBase.createRequestSpecification(TestBase.java:82)\r\n\tat com.teamcenter.services.strong.utils.TestBase.setUp(TestBase.java:116)\r\n\tat com.teamcenter.services.strong.IncludeRuleTest.setUp(IncludeRuleTest.java:36)\r\n\tat junit.framework.TestCase.runBare(TestCase.java:140)\r\n\tat junit.framework.TestResult$1.protect(TestResult.java:122)\r\n\tat junit.framework.TestResult.runProtected(TestResult.java:142)\r\n\tat junit.framework.TestResult.run(TestResult.java:125)\r\n\tat junit.framework.TestCase.run(TestCase.java:130)\r\n\tat junit.framework.TestSuite.runTest(TestSuite.java:241)\r\n\tat junit.framework.TestSuite.run(TestSuite.java:236)\r\n\tat org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:90)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make java.lang.String(char[],int,int,java.lang.Void) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3cda1055\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:188)\r\n\tat java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:181)\r\n\tat org.codehaus.groovy.reflection.CachedConstructor$1.run(CachedConstructor.java:44)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.codehaus.groovy.reflection.CachedConstructor.&lt;init&gt;(CachedConstructor.java:42)\r\n\tat org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:79)\r\n\tat org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:69)\r\n\tat org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:49)\r\n\tat org.codehaus.groovy.util.LazyReference.get(LazyReference.java:36)\r\n\tat org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\r\n\tat groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\r\n\tat groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\r\n\tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\r\n\tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\r\n\tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\r\n\tat org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:253)\r\n\tat org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:285)\r\n\tat org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:295)\r\n\tat org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:261)\r\n\tat org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:873)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.createPojoSite(CallSiteArray.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallSite(CallSiteArray.java:166)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat io.restassured.internal.RequestSpecificationImpl.&lt;clinit&gt;(RequestSpecificationImpl.groovy:86)\r\n\t... 19 more\r\n```\r\n ","title":"Why does my rest-assured code not work after moving to JDK 17","body":"<p>We are building REST API with tests. The API runs perfectly and we don't have any issue with it. The errors we am getting are in the testing part.</p>\n<p>The tests uses Rest Assured library. We have to use JDK 17 as an organization level choice.</p>\n<p>We are facing a challenge in running our REST Assured Tests after updating to JDK 17. Perhaps it has something to do with reflection not being permitted in JDK 17</p>\n<p>We are getting java.lang.ExceptionInInitializerError for following lines of code</p>\n<pre><code>    RestAssured.baseURI = Constants.BASE_URI;\n\n    RestAssured.port = Constants.PORT;\n\n    RestAssured.basePath = Constants.BASE_PATH;\n</code></pre>\n<p>Do you have any advice/solution/work-arounds. We cannot use a different version of Java since this is an organization level choice.</p>\n<p>We setting the baseURI, port and basePath for all the tests using the code shared above. It was working earlier, but after we moved to JDK 17 there seems to be a problem.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ExceptionInInitializerError\n    at io.restassured.builder.RequestSpecBuilder.&lt;init&gt;(RequestSpecBuilder.java:79)\n    at com.teamcenter.services.strong.utils.TestBase.createRequestSpecification(TestBase.java:99)\n    at com.teamcenter.services.strong.utils.TestBase.createRequestSpecification(TestBase.java:82)\n    at com.teamcenter.services.strong.utils.TestBase.setUp(TestBase.java:116)\n    at com.teamcenter.services.strong.IncludeRuleTest.setUp(IncludeRuleTest.java:36)\n    at junit.framework.TestCase.runBare(TestCase.java:140)\n    at junit.framework.TestResult$1.protect(TestResult.java:122)\n    at junit.framework.TestResult.runProtected(TestResult.java:142)\n    at junit.framework.TestResult.run(TestResult.java:125)\n    at junit.framework.TestCase.run(TestCase.java:130)\n    at junit.framework.TestSuite.runTest(TestSuite.java:241)\n    at junit.framework.TestSuite.run(TestSuite.java:236)\n    at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:90)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make java.lang.String(char[],int,int,java.lang.Void) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3cda1055\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:188)\n    at java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:181)\n    at org.codehaus.groovy.reflection.CachedConstructor$1.run(CachedConstructor.java:44)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.codehaus.groovy.reflection.CachedConstructor.&lt;init&gt;(CachedConstructor.java:42)\n    at org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:79)\n    at org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:69)\n    at org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:49)\n    at org.codehaus.groovy.util.LazyReference.get(LazyReference.java:36)\n    at org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:253)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:285)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:295)\n    at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:261)\n    at org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:873)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.createPojoSite(CallSiteArray.java:125)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallSite(CallSiteArray.java:166)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at io.restassured.internal.RequestSpecificationImpl.&lt;clinit&gt;(RequestSpecificationImpl.groovy:86)\n    ... 19 more\n</code></pre>\n"},{"tags":["java","methods","parameters","game-engine","dice"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1676628454,"post_id":75482770,"comment_id":133179764,"body_markdown":"`resetDiceCup( int doublets, int numOfDoublets);` remove those two `int`s from the call (only there, not in the method declaration).","body":"<code>resetDiceCup( int doublets, int numOfDoublets);</code> remove those two <code>int</code>s from the call (only there, not in the method declaration)."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1676628500,"post_id":75482770,"comment_id":133179776,"body_markdown":"Also, you should declare them (and give them a value) inside your `startGame` method.","body":"Also, you should declare them (and give them a value) inside your <code>startGame</code> method."}],"owner":{"account_id":23162146,"reputation":1,"user_id":17262638,"display_name":"Alice333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676628285,"creation_date":1676628285,"question_id":75482770,"body_markdown":"I am creating a Dice Game as a project in IntelliJ with Java and right now I have a method in the Game class, where I want to reset the Dice Cup in the beginning of the game. Therefore, I have created a method called resetDiceCup() and a method called startGame().\r\nRight now, I am getting the error &quot;Identifier expected&quot; in startGame() and I think it has something to do with the parameters I use in resetDiceCup().\r\nIs there any way to fix this?\r\n \r\n\r\n    public class Game{\r\n\r\n    public void startGame() {\r\n\r\n\r\n        resetDiceCup( int doublets, int numOfDoublets);\r\n        System.out.println(&quot;Willkommen zu diesem W&#252;rfelspiel. Los geht&#180;s!&quot;);\r\n        String[] playerNames = Print.multipleAnswers(&quot;Please insert the name of a player.&quot;);\r\n    \r\n        player = new Player[playerNames.length];\r\n        for (int i = 0; i &lt; playerNames.length; i++)\r\n        {\r\n            player[i] = new Player(playerNames[i]);\r\n        }\r\n        }\r\n\r\n    //to &quot;refresh&quot; the DiceCup before every new game\r\n    public void resetDiceCup(int doublets, int numOfDoublets) {\r\n\r\n\r\n        int[] result = new int[numOfDices]; //amout of dices in the game as chosen by players\r\n        sum = 0;\r\n        doublets = 0;\r\n        numOfDoublets = 0;\r\n        sumWithDoublets = 0;\r\n\r\n    }\r\n}\r\n","title":"How to access a method with parameters?","body":"<p>I am creating a Dice Game as a project in IntelliJ with Java and right now I have a method in the Game class, where I want to reset the Dice Cup in the beginning of the game. Therefore, I have created a method called resetDiceCup() and a method called startGame().\nRight now, I am getting the error &quot;Identifier expected&quot; in startGame() and I think it has something to do with the parameters I use in resetDiceCup().\nIs there any way to fix this?</p>\n<pre><code>public class Game{\n\npublic void startGame() {\n\n\n    resetDiceCup( int doublets, int numOfDoublets);\n    System.out.println(&quot;Willkommen zu diesem Würfelspiel. Los geht´s!&quot;);\n    String[] playerNames = Print.multipleAnswers(&quot;Please insert the name of a player.&quot;);\n\n    player = new Player[playerNames.length];\n    for (int i = 0; i &lt; playerNames.length; i++)\n    {\n        player[i] = new Player(playerNames[i]);\n    }\n    }\n\n//to &quot;refresh&quot; the DiceCup before every new game\npublic void resetDiceCup(int doublets, int numOfDoublets) {\n\n\n    int[] result = new int[numOfDices]; //amout of dices in the game as chosen by players\n    sum = 0;\n    doublets = 0;\n    numOfDoublets = 0;\n    sumWithDoublets = 0;\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","netflix-eureka","netflix-zuul"],"owner":{"account_id":20955943,"reputation":69,"user_id":15396449,"display_name":"77jt777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676627568,"creation_date":1649771387,"question_id":71843905,"body_markdown":"For a couple of days I am trying to resolve the ,,Forwarding error - Load balancer does not have available server for client&quot; error. Even though this is a common problem with configuring Eureka server and Zuul I cannot find a solution for my problem. There were couple of possibilities to resolve my problem, but none of them seems to work. What I found on the internet and what I&#39;ve tried:\r\n\r\n1. First solution was that @EnableEurekaClient was absent, but I got this annotation from the begining.\r\n\r\n2. Second solution was with setting ribbon timeouts, but despite of setting the ribbon and hystrix timeouts it still didnt work out.\r\n\r\n3. Third solution that I&#39;ve found was that fetch-registry was set to false, but also this time I&#39;ve got it set on true.\r\n\r\n4. Last solution was that someone had spring-cloud-netflix-eureka-client dependency instead of spring-cloud-starter-netflix-eureka-client which provides the ribbon. But unfortunetely that wasn&#39;t the case either.\r\n\r\nI really don&#39;t know what can be wrong, so I ask for help. Moreover when I configured FeignClients on my client microservices they communicated with themself using Eureka without any problem. What I mean by that is that I could send a request from one microservice to another by using for example this url: http://microservice-name/api/v1/... so I guess the problem is with ZUUL.\r\n\r\nI think worth mentioning is that I use Spring Security and HTTPS self certificate, but I don&#39;t think that it&#39;s the case, because when I configure ZUUL module .yml file to &quot;discover&quot; microservices based on their url, everything works just fine.\r\n\r\n## There is full stack trace of the problem ##\r\nI pasted full stack trace on pastebin because it was too long for here. Here&#39;s the link [pastebin-full-stacktrace][1].\r\n\r\nThese are main 2 lines from stacktrace:\r\n\r\n    com.netflix.zuul.exception.ZuulException: Forwarding error\r\n    Caused by: com.netflix.client.ClientException: Load balancer does not have available server for client: book-module\r\n\r\n\r\n\r\n## There is my ZUUL microservice .yml file with ZUUL and eureka configuration  ##\r\n\r\n    spring:\r\n      data:\r\n        mongodb:\r\n          uri: \r\n          database: users_db\r\n      application:\r\n        name: API-Gateway\r\n      mail:\r\n        host: smtp.mailtrap.io\r\n        port: 2525\r\n        username: \r\n        password: \r\n        protocol: smtp\r\n    \r\n    server:\r\n      port: 8443\r\n      ssl:\r\n        key-store: classpath:https-springboot.jks\r\n        key-store-password: password\r\n        key-store-type: JKS\r\n        key-alias: https-springboot\r\n        key-password: password\r\n    \r\n    app:\r\n      security:\r\n        secretKey: 942P43hf2bnfrepqaskJfsj09fq2JFdeEKAFDMKmfl2FD\r\n        expirationTime: 600\r\n    \r\n    eureka:\r\n      client:\r\n        fetch-registry: true\r\n        register-with-eureka: false\r\n        service-url:\r\n          default-zone: http://localhost:8761/eureka/\r\n      instance:\r\n        hostname: localhost\r\n    \r\n    zuul:\r\n      host:\r\n        connect-timeout-millis: 600000\r\n        socket-timeout-millis: 600000\r\n      ignored-services: &#39;*&#39;\r\n      prefix: /api/v1\r\n      routes:\r\n        author-module:\r\n    #      url: http://localhost:8081\r\n          path: /authors/**\r\n          service-id: author-module\r\n        book-module:\r\n    #      url: http://localhost:8082\r\n          path: /books/**\r\n          service-id: book-module\r\n        user-module:\r\n    #      url: http://localhost:8083\r\n          path: /users/**\r\n          service-id: user-module\r\n    \r\n    springdoc:\r\n      swagger-ui:\r\n        path: &quot;/v3/api-docs/index.html&quot;\r\n        disable-swagger-default-url: true\r\n    \r\n    hystrix:\r\n      command:\r\n        default:\r\n          execution:\r\n            isolation:\r\n              thread:\r\n                timeoutInMilliseconds: 150000\r\n    \r\n    ribbon:\r\n      ConnectTimeout: 6000\r\n      ReadTimeout: 6000\r\n      eureka:\r\n        enabled: true\r\n    \r\n    logging:\r\n      level:\r\n        web: TRACE\r\n        org.springframework:\r\n          web: TRACE\r\n\r\n## There are it&#39;s dependencies ##\r\n\r\n        \t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Auth-module&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Auth-module&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n## There is my example microservice module configuration that I&#39;am trying to connect with ##\r\n\r\n        spring:\r\n      data:\r\n        mongodb:\r\n          uri: \r\n          database: authors_db\r\n      application:\r\n        name: author-module\r\n    \r\n    eureka:\r\n      client:\r\n        fetch-registry: true\r\n        register-with-eureka: true\r\n        service-url:\r\n          default-zone: http://localhost:8761/eureka/\r\n      instance:\r\n        hostname: localhost\r\n    \r\n    server:\r\n      port: 8081\r\n    \r\n    logging:\r\n      level:\r\n        web: TRACE\r\n        org.springframework:\r\n          web: TRACE\r\n\r\n## There are it&#39;s dependencies ##\r\n\r\n        \t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Author-module&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Author-module&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nPlease help, I really don&#39;t know what to do more.\r\n\r\n  [1]: https://pastebin.com/M2nuaSiH","title":"Cannot find solution for ,,Load balancer does not have available server for client&quot; with Zuul","body":"<p>For a couple of days I am trying to resolve the ,,Forwarding error - Load balancer does not have available server for client&quot; error. Even though this is a common problem with configuring Eureka server and Zuul I cannot find a solution for my problem. There were couple of possibilities to resolve my problem, but none of them seems to work. What I found on the internet and what I've tried:</p>\n<ol>\n<li><p>First solution was that @EnableEurekaClient was absent, but I got this annotation from the begining.</p>\n</li>\n<li><p>Second solution was with setting ribbon timeouts, but despite of setting the ribbon and hystrix timeouts it still didnt work out.</p>\n</li>\n<li><p>Third solution that I've found was that fetch-registry was set to false, but also this time I've got it set on true.</p>\n</li>\n<li><p>Last solution was that someone had spring-cloud-netflix-eureka-client dependency instead of spring-cloud-starter-netflix-eureka-client which provides the ribbon. But unfortunetely that wasn't the case either.</p>\n</li>\n</ol>\n<p>I really don't know what can be wrong, so I ask for help. Moreover when I configured FeignClients on my client microservices they communicated with themself using Eureka without any problem. What I mean by that is that I could send a request from one microservice to another by using for example this url: http://microservice-name/api/v1/... so I guess the problem is with ZUUL.</p>\n<p>I think worth mentioning is that I use Spring Security and HTTPS self certificate, but I don't think that it's the case, because when I configure ZUUL module .yml file to &quot;discover&quot; microservices based on their url, everything works just fine.</p>\n<h2>There is full stack trace of the problem</h2>\n<p>I pasted full stack trace on pastebin because it was too long for here. Here's the link <a href=\"https://pastebin.com/M2nuaSiH\" rel=\"nofollow noreferrer\">pastebin-full-stacktrace</a>.</p>\n<p>These are main 2 lines from stacktrace:</p>\n<pre><code>com.netflix.zuul.exception.ZuulException: Forwarding error\nCaused by: com.netflix.client.ClientException: Load balancer does not have available server for client: book-module\n</code></pre>\n<h2>There is my ZUUL microservice .yml file with ZUUL and eureka configuration</h2>\n<pre><code>spring:\n  data:\n    mongodb:\n      uri: \n      database: users_db\n  application:\n    name: API-Gateway\n  mail:\n    host: smtp.mailtrap.io\n    port: 2525\n    username: \n    password: \n    protocol: smtp\n\nserver:\n  port: 8443\n  ssl:\n    key-store: classpath:https-springboot.jks\n    key-store-password: password\n    key-store-type: JKS\n    key-alias: https-springboot\n    key-password: password\n\napp:\n  security:\n    secretKey: 942P43hf2bnfrepqaskJfsj09fq2JFdeEKAFDMKmfl2FD\n    expirationTime: 600\n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: false\n    service-url:\n      default-zone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\n\nzuul:\n  host:\n    connect-timeout-millis: 600000\n    socket-timeout-millis: 600000\n  ignored-services: '*'\n  prefix: /api/v1\n  routes:\n    author-module:\n#      url: http://localhost:8081\n      path: /authors/**\n      service-id: author-module\n    book-module:\n#      url: http://localhost:8082\n      path: /books/**\n      service-id: book-module\n    user-module:\n#      url: http://localhost:8083\n      path: /users/**\n      service-id: user-module\n\nspringdoc:\n  swagger-ui:\n    path: &quot;/v3/api-docs/index.html&quot;\n    disable-swagger-default-url: true\n\nhystrix:\n  command:\n    default:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 150000\n\nribbon:\n  ConnectTimeout: 6000\n  ReadTimeout: 6000\n  eureka:\n    enabled: true\n\nlogging:\n  level:\n    web: TRACE\n    org.springframework:\n      web: TRACE\n</code></pre>\n<h2>There are it's dependencies</h2>\n<pre><code>        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Auth-module&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Auth-module&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>There is my example microservice module configuration that I'am trying to connect with</h2>\n<pre><code>    spring:\n  data:\n    mongodb:\n      uri: \n      database: authors_db\n  application:\n    name: author-module\n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      default-zone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\n\nserver:\n  port: 8081\n\nlogging:\n  level:\n    web: TRACE\n    org.springframework:\n      web: TRACE\n</code></pre>\n<h2>There are it's dependencies</h2>\n<pre><code>        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Author-module&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Author-module&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please help, I really don't know what to do more.</p>\n"},{"tags":["java","oop","deserialization","distributed-system"],"comments":[{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1676628164,"post_id":75482646,"comment_id":133179676,"body_markdown":"Which format are you trying to Serialize/Deserialize it to/from? Also, where do you plan on storing the serialized output, if you cannot use an OutputStream? Your DateTime (JodaTime?) might also be variable length. What have you tried?\n\n I don&#39;t understand this question at all.","body":"Which format are you trying to Serialize/Deserialize it to/from? Also, where do you plan on storing the serialized output, if you cannot use an OutputStream? Your DateTime (JodaTime?) might also be variable length. What have you tried?   I don&#39;t understand this question at all."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1676628255,"post_id":75482646,"comment_id":133179704,"body_markdown":"In my opinion using Java object serialization for a network protocol is a bad idea as it always serializes data and the code (-&gt; possible security problem, unnecessary lare size of transmitted objects). Use a serialization to JSON e.,g. using Jackson or Guava to (de)serialize network data.","body":"In my opinion using Java object serialization for a network protocol is a bad idea as it always serializes data and the code (-&gt; possible security problem, unnecessary lare size of transmitted objects). Use a serialization to JSON e.,g. using Jackson or Guava to (de)serialize network data."},{"owner":{"account_id":27282870,"reputation":39,"user_id":20802513,"display_name":"tayron.vikranth"},"score":0,"creation_date":1676629928,"post_id":75482646,"comment_id":133180173,"body_markdown":"@MikkelL&#248;kke The whole project is done in Java, so big endian format. The serialized output will be stored in a buffer array. The DateTime class is a custom class that takes in year, month, day, hour and minutes all as integers.","body":"@MikkelL&#248;kke The whole project is done in Java, so big endian format. The serialized output will be stored in a buffer array. The DateTime class is a custom class that takes in year, month, day, hour and minutes all as integers."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1676630283,"post_id":75482646,"comment_id":133180307,"body_markdown":"To serialize variable length data you can do what many binary serialisation formats do: they first write the length of the data and then the data itself.","body":"To serialize variable length data you can do what many binary serialisation formats do: they first write the length of the data and then the data itself."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676637566,"post_id":75482646,"comment_id":133182294,"body_markdown":"@ThomasKl&#228;ger *To serialize variable length data you can do what many binary serialisation formats do: they first write the length of the data and then the data itself.* That&#39;s going to be tricky if using `OutputStream` is not allowed ;)","body":"@ThomasKl&#228;ger <i>To serialize variable length data you can do what many binary serialisation formats do: they first write the length of the data and then the data itself.</i> That&#39;s going to be tricky if using <code>OutputStream</code> is not allowed ;)"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1676639140,"post_id":75482646,"comment_id":133182765,"body_markdown":"@g00se if it&#39;s possible to write `int`s  into some kind of output buffer (be it a byte array or whatever) the it should also possible to write a length (in the form of an `int`) and a number of characters (also in the form of `int`s) into the same output buffer :)","body":"@g00se if it&#39;s possible to write <code>int</code>s  into some kind of output buffer (be it a byte array or whatever) the it should also possible to write a length (in the form of an <code>int</code>) and a number of characters (also in the form of <code>int</code>s) into the same output buffer :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676639735,"post_id":75482646,"comment_id":133182949,"body_markdown":"@ThomasKl&#228;ger But how is that buffer going to get from A to B without an `OutputStream`?","body":"@ThomasKl&#228;ger But how is that buffer going to get from A to B without an <code>OutputStream</code>?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1676639929,"post_id":75482646,"comment_id":133183008,"body_markdown":"@g00se not my problem - the OP seems to know some way because apparently the OP has some way to serialize / deserialize the other fields. My comment is only about an idea how to extend that existing serialization / deserialization to accomodate for variable length strings, not for how the solve the complete problem.","body":"@g00se not my problem - the OP seems to know some way because apparently the OP has some way to serialize / deserialize the other fields. My comment is only about an idea how to extend that existing serialization / deserialization to accomodate for variable length strings, not for how the solve the complete problem."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1676640110,"post_id":75482646,"comment_id":133183062,"body_markdown":"@g00se for example, the OP could use a `ByteBuffer` to create the serialized data and then use in-memory-sharing between processes to give another process access to the bytes. Or the task could to create a `List&lt;Integer&gt;` that contains the serialized data and to take such a `List&lt;Integer&gt;` to reconstruct the object - transfering the data would then be handled by outside code.","body":"@g00se for example, the OP could use a <code>ByteBuffer</code> to create the serialized data and then use in-memory-sharing between processes to give another process access to the bytes. Or the task could to create a <code>List&lt;Integer&gt;</code> that contains the serialized data and to take such a <code>List&lt;Integer&gt;</code> to reconstruct the object - transfering the data would then be handled by outside code."}],"owner":{"account_id":27282870,"reputation":39,"user_id":20802513,"display_name":"tayron.vikranth"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676627528,"creation_date":1676627528,"question_id":75482646,"body_markdown":"I am implementing a distributed flight booking system using Java and I have a class Flight.\r\n\r\nFlight.java\r\n```\r\npublic class Flight {\r\n    private int flightId;\r\n    private DateTime departureTime;\r\n    private float airfare;\r\n    private int seatAvailability;\r\n    private String source;\r\n    private String destination;\r\n\r\n    /**\r\n     * Constructor\r\n     * @param flightId\r\n     * @param departureTime\r\n     * @param airfare\r\n     * @param seatAvailability\r\n     * @param source\r\n     * @param destination\r\n     */\r\n    public Flight(int flightId, DateTime departureTime, float airfare, int seatAvailability, String source, String destination) {\r\n        this.flightId = flightId;\r\n        this.departureTime = departureTime;\r\n        this.airfare = airfare;\r\n        this.seatAvailability = seatAvailability;\r\n        this.source = source;\r\n        this.destination = destination;\r\n    }\r\n\r\n    //getters and setters\r\n```\r\n\r\nThe source and destination fields are variable length strings. For this project, we are not allowed to use Java object serialization facilities and input/output stream classes in Java. How do I deserialize the source and destination fields?","title":"Java how to deserialize object of a class that contains a variable length string?","body":"<p>I am implementing a distributed flight booking system using Java and I have a class Flight.</p>\n<p>Flight.java</p>\n<pre><code>public class Flight {\n    private int flightId;\n    private DateTime departureTime;\n    private float airfare;\n    private int seatAvailability;\n    private String source;\n    private String destination;\n\n    /**\n     * Constructor\n     * @param flightId\n     * @param departureTime\n     * @param airfare\n     * @param seatAvailability\n     * @param source\n     * @param destination\n     */\n    public Flight(int flightId, DateTime departureTime, float airfare, int seatAvailability, String source, String destination) {\n        this.flightId = flightId;\n        this.departureTime = departureTime;\n        this.airfare = airfare;\n        this.seatAvailability = seatAvailability;\n        this.source = source;\n        this.destination = destination;\n    }\n\n    //getters and setters\n</code></pre>\n<p>The source and destination fields are variable length strings. For this project, we are not allowed to use Java object serialization facilities and input/output stream classes in Java. How do I deserialize the source and destination fields?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676627389,"creation_date":1676627389,"answer_id":75482625,"question_id":75482132,"body_markdown":"Found a solution. Removed authenticationprovider from SecurityConfiguration class I have created.\r\n\r\nMade changes in my SessionTokenFilter class\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class SessionTokenFilter extends OncePerRequestFilter {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate AuthenticationProvider authenticationProvider;\r\n    \t\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n        \tlog.info(&quot;Inside session filter&quot;);\r\n            String sessionToken = request.getHeader(&quot;session-token&quot;);\r\n            log.info(&quot;Session token &quot; + sessionToken);\r\n            if (sessionToken != null) {\r\n            \tUsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(sessionToken, &quot;Pwd&quot;);\r\n            \tSecurityContext context = SecurityContextHolder.createEmptyContext();\r\n    \t\t\tcontext.setAuthentication(authenticationProvider.authenticate(authentication));\r\n    \t\t\tSecurityContextHolder.setContext(context);\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }","title":"Implement custom Authentication, AuthenticationFilter and AuthenticationProvider in Spring Security","body":"<p>Found a solution. Removed authenticationprovider from SecurityConfiguration class I have created.</p>\n<p>Made changes in my SessionTokenFilter class</p>\n<pre><code>@Component\n@Slf4j\npublic class SessionTokenFilter extends OncePerRequestFilter {\n    \n    @Autowired\n    private AuthenticationProvider authenticationProvider;\n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        log.info(&quot;Inside session filter&quot;);\n        String sessionToken = request.getHeader(&quot;session-token&quot;);\n        log.info(&quot;Session token &quot; + sessionToken);\n        if (sessionToken != null) {\n            UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(sessionToken, &quot;Pwd&quot;);\n            SecurityContext context = SecurityContextHolder.createEmptyContext();\n            context.setAuthentication(authenticationProvider.authenticate(authentication));\n            SecurityContextHolder.setContext(context);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676627389,"creation_date":1676624399,"question_id":75482132,"body_markdown":"The objective is to get a session token from the header in my custom authentication filter. Build my custom authentication object where I can pass the session token as a name. This custom authentication object will be passed to my custom authentication provider class, where I want to build an authentication object if the session token is valid.\r\n\r\nCustom Authentication object\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class AuthenticationObject implements Authentication{\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String name;\r\n    \tprivate Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n    \tprivate Object credentials;\r\n    \tprivate Object details;\r\n    \tprivate Object principal;\r\n    \tprivate boolean authenticated;\r\n    }\r\n\r\nCustom Filter to get token from the header and build Authentication object for passing it to AuthenticationProvider\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class SessionTokenFilter extends OncePerRequestFilter {\r\n    \t\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n        \tlog.info(&quot;Inside session filter&quot;);\r\n            String sessionToken = request.getHeader(&quot;session-token&quot;);\r\n            log.info(&quot;Session token &quot; + sessionToken);\r\n            if (sessionToken != null) {\r\n            \tAuthenticationObject authentication = new AuthenticationObject();\r\n            \tauthentication.setName(sessionToken);\r\n                SecurityContextHolder.createEmptyContext().setAuthentication(authentication);\r\n            }\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nCustom AuthenticationProvider to validate session token and pass Authentication object\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class SessionAuthenticationProvider implements AuthenticationProvider{\r\n    \r\n    \t@Override\r\n    \tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n    \t\tlog.info(&quot;Authentication token &quot; + authentication.getName());\r\n    \t\tAuthenticationObject authenticationObject = new AuthenticationObject();\r\n\t\t    authenticationObject.setName(&quot;Harsh&quot;);\r\n\t\t    authenticationObject.setAuthenticated(true);\r\n\t\t    authenticationObject.setAuthorities(Collections.&lt;GrantedAuthority&gt;emptyList());\r\n\t\t    return authenticationObject;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n    \t\treturn AutenticationObject.class.isAssignableFrom(authentication);\r\n    \t}\r\n    }\r\n\r\nConfiguring SecurityFilterChain to secure all my API endpoints and invoking my custom filter. Injecting my custom AuthenticationProvider implementation inside AuthenticationManager.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate SessionTokenFilter sessionTokenFilter;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SessionAuthenticationProvider authenticationProvider;\r\n    \r\n    \t@Bean\r\n    \tprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp.csrf().disable().authorizeHttpRequests().anyRequest().authenticated().and()\r\n    \t\t\t\t.addFilterBefore(sessionTokenFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \t\treturn http.build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n        public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n            AuthenticationManagerBuilder authenticationManagerBuilder = \r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n            authenticationManagerBuilder.authenticationProvider(authenticationProvider);\r\n            return authenticationManagerBuilder.build();\r\n        }\r\n    }\r\n\r\nWhen I try to invoke any API endpoint I get 403. Below is the trace log of spring security classes\r\n\r\n\r\n    2023-02-17 14:10:22.254[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /api/contenteditor/feed/5\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking DisableEncodeUrlFilter (1/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextPersistenceFilter (3/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not find SecurityContext in HttpSession 83FA8B6A615DD9898C33EF9B98BCC479 using the SPRING_SECURITY_CONTEXT session attribute\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Created SecurityContextImpl [Null authentication]\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking HeaderWriterFilter (4/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking LogoutFilter (5/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.logout.LogoutFilter           [0;39m [2m:[0;39m Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n    [2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionTokenFilter (6/12)\r\n    [2m2023-02-17 14:10:22.254[0;39m [32m INFO[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mc.w.presto.security.SessionTokenFilter  [0;39m [2m:[0;39m Inside session filter\r\n    [2m2023-02-17 14:10:22.255[0;39m [32m INFO[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mc.w.presto.security.SessionTokenFilter  [0;39m [2m:[0;39m Session token 12345\r\n    [2m2023-02-17 14:10:22.256[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking RequestCacheAwareFilter (7/12)\r\n    [2m2023-02-17 14:10:22.256[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Removing DefaultSavedRequest from session if present\r\n    [2m2023-02-17 14:10:22.256[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Loaded matching saved request http://localhost:6060/presto-boot/api/contenteditor/feed/5\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AnonymousAuthenticationFilter (9/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionManagementFilter (10/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking ExceptionTranslationFilter (11/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AuthorizationFilter (12/12)\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.savedrequest.SavedRequestAwareWrapper@6aa7ef6a]\r\n    [2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.savedrequest.SavedRequestAwareWrapper@6aa7ef6a] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6e9866e6\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.ExceptionTranslationFilter    [0;39m [2m:[0;39m Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\n    \r\n    org.springframework.security.access.AccessDeniedException: Access Denied\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:94) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat com.wf.presto.security.SessionTokenFilter.doFilterInternal(SessionTokenFilter.java:31) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    \r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Saved request http://localhost:6060/presto-boot/api/contenteditor/feed/5 to session\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.Http403ForbiddenEntryPoint    [0;39m [2m:[0;39m Pre-authenticated entry point called. Rejecting access\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.header.writers.HstsHeaderWriter [0;39m [2m:[0;39m Not injecting HSTS header since it did not match request to [Is Secure]\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store empty SecurityContext\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store empty SecurityContext\r\n    [2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4ae2b686, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b15617a, org.springframework.security.web.context.SecurityContextPersistenceFilter@37cbe1e9, org.springframework.security.web.header.HeaderWriterFilter@2b6c24bf, org.springframework.security.web.authentication.logout.LogoutFilter@1632f898, com.wf.presto.security.SessionTokenFilter@b4e0b59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a05b84a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20862069, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ccfc0c1, org.springframework.security.web.session.SessionManagementFilter@4b82b88a, org.springframework.security.web.access.ExceptionTranslationFilter@46736c06, org.springframework.security.web.access.intercept.AuthorizationFilter@40a632cb]] (1/1)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /error\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking DisableEncodeUrlFilter (1/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking WebAsyncManagerIntegrationFilter (2/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextPersistenceFilter (3/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not find SecurityContext in HttpSession 83FA8B6A615DD9898C33EF9B98BCC479 using the SPRING_SECURITY_CONTEXT session attribute\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Created SecurityContextImpl [Null authentication]\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking HeaderWriterFilter (4/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking LogoutFilter (5/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.logout.LogoutFilter           [0;39m [2m:[0;39m Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionTokenFilter (6/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking RequestCacheAwareFilter (7/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Did not match request /error to the saved one DefaultSavedRequest [http://localhost:6060/presto-boot/api/contenteditor/feed/5]\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextHolderAwareRequestFilter (8/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AnonymousAuthenticationFilter (9/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionManagementFilter (10/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking ExceptionTranslationFilter (11/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AuthorizationFilter (12/12)\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Secured GET /error\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Authorizing org.springframework.security.web.FilterInvocation$DummyRequest@4f725109\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Checking authorization on org.springframework.security.web.FilterInvocation$DummyRequest@4f725109 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6e9866e6\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store anonymous SecurityContext\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store anonymous SecurityContext\r\n    [2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\r\n\r\n","title":"Implement custom Authentication, AuthenticationFilter and AuthenticationProvider in Spring Security","body":"<p>The objective is to get a session token from the header in my custom authentication filter. Build my custom authentication object where I can pass the session token as a name. This custom authentication object will be passed to my custom authentication provider class, where I want to build an authentication object if the session token is valid.</p>\n<p>Custom Authentication object</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AuthenticationObject implements Authentication{\n\n    private static final long serialVersionUID = 1L;\n    private String name;\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\n    private Object credentials;\n    private Object details;\n    private Object principal;\n    private boolean authenticated;\n}\n</code></pre>\n<p>Custom Filter to get token from the header and build Authentication object for passing it to AuthenticationProvider</p>\n<pre><code>@Component\n@Slf4j\npublic class SessionTokenFilter extends OncePerRequestFilter {\n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        log.info(&quot;Inside session filter&quot;);\n        String sessionToken = request.getHeader(&quot;session-token&quot;);\n        log.info(&quot;Session token &quot; + sessionToken);\n        if (sessionToken != null) {\n            AuthenticationObject authentication = new AuthenticationObject();\n            authentication.setName(sessionToken);\n            SecurityContextHolder.createEmptyContext().setAuthentication(authentication);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Custom AuthenticationProvider to validate session token and pass Authentication object</p>\n<pre><code>@Service\n@Slf4j\npublic class SessionAuthenticationProvider implements AuthenticationProvider{\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        log.info(&quot;Authentication token &quot; + authentication.getName());\n        AuthenticationObject authenticationObject = new AuthenticationObject();\n        authenticationObject.setName(&quot;Harsh&quot;);\n        authenticationObject.setAuthenticated(true);\n        authenticationObject.setAuthorities(Collections.&lt;GrantedAuthority&gt;emptyList());\n        return authenticationObject;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return AutenticationObject.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n<p>Configuring SecurityFilterChain to secure all my API endpoints and invoking my custom filter. Injecting my custom AuthenticationProvider implementation inside AuthenticationManager.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Autowired\n    private SessionTokenFilter sessionTokenFilter;\n    \n    @Autowired\n    private SessionAuthenticationProvider authenticationProvider;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeHttpRequests().anyRequest().authenticated().and()\n                .addFilterBefore(sessionTokenFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder = \n            http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(authenticationProvider);\n        return authenticationManagerBuilder.build();\n    }\n}\n</code></pre>\n<p>When I try to invoke any API endpoint I get 403. Below is the trace log of spring security classes</p>\n<pre><code>2023-02-17 14:10:22.254[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /api/contenteditor/feed/5\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking DisableEncodeUrlFilter (1/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking WebAsyncManagerIntegrationFilter (2/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextPersistenceFilter (3/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not find SecurityContext in HttpSession 83FA8B6A615DD9898C33EF9B98BCC479 using the SPRING_SECURITY_CONTEXT session attribute\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Created SecurityContextImpl [Null authentication]\n[2m2023-02-17 14:10:22.254[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking HeaderWriterFilter (4/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking LogoutFilter (5/12)\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.logout.LogoutFilter           [0;39m [2m:[0;39m Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n[2m2023-02-17 14:10:22.254[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionTokenFilter (6/12)\n[2m2023-02-17 14:10:22.254[0;39m [32m INFO[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mc.w.presto.security.SessionTokenFilter  [0;39m [2m:[0;39m Inside session filter\n[2m2023-02-17 14:10:22.255[0;39m [32m INFO[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mc.w.presto.security.SessionTokenFilter  [0;39m [2m:[0;39m Session token 12345\n[2m2023-02-17 14:10:22.256[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking RequestCacheAwareFilter (7/12)\n[2m2023-02-17 14:10:22.256[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Removing DefaultSavedRequest from session if present\n[2m2023-02-17 14:10:22.256[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Loaded matching saved request http://localhost:6060/presto-boot/api/contenteditor/feed/5\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextHolderAwareRequestFilter (8/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AnonymousAuthenticationFilter (9/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]]\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionManagementFilter (10/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking ExceptionTranslationFilter (11/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AuthorizationFilter (12/12)\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.savedrequest.SavedRequestAwareWrapper@6aa7ef6a]\n[2m2023-02-17 14:10:22.257[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.savedrequest.SavedRequestAwareWrapper@6aa7ef6a] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6e9866e6\n[2m2023-02-17 14:10:22.260[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.ExceptionTranslationFilter    [0;39m [2m:[0;39m Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:94) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at com.wf.presto.security.SessionTokenFilter.doFilterInternal(SessionTokenFilter.java:31) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.6.jar:5.7.6]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.24.jar:5.3.24]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Saved request http://localhost:6060/presto-boot/api/contenteditor/feed/5 to session\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.Http403ForbiddenEntryPoint    [0;39m [2m:[0;39m Pre-authenticated entry point called. Rejecting access\n[2m2023-02-17 14:10:22.260[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.header.writers.HstsHeaderWriter [0;39m [2m:[0;39m Not injecting HSTS header since it did not match request to [Is Secure]\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store empty SecurityContext\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store empty SecurityContext\n[2m2023-02-17 14:10:22.260[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4ae2b686, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b15617a, org.springframework.security.web.context.SecurityContextPersistenceFilter@37cbe1e9, org.springframework.security.web.header.HeaderWriterFilter@2b6c24bf, org.springframework.security.web.authentication.logout.LogoutFilter@1632f898, com.wf.presto.security.SessionTokenFilter@b4e0b59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a05b84a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20862069, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ccfc0c1, org.springframework.security.web.session.SessionManagementFilter@4b82b88a, org.springframework.security.web.access.ExceptionTranslationFilter@46736c06, org.springframework.security.web.access.intercept.AuthorizationFilter@40a632cb]] (1/1)\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Securing GET /error\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking DisableEncodeUrlFilter (1/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking WebAsyncManagerIntegrationFilter (2/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextPersistenceFilter (3/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not find SecurityContext in HttpSession 83FA8B6A615DD9898C33EF9B98BCC479 using the SPRING_SECURITY_CONTEXT session attribute\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Created SecurityContextImpl [Null authentication]\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Set SecurityContextHolder to empty SecurityContext\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking HeaderWriterFilter (4/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking LogoutFilter (5/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.logout.LogoutFilter           [0;39m [2m:[0;39m Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionTokenFilter (6/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking RequestCacheAwareFilter (7/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.s.HttpSessionRequestCache       [0;39m [2m:[0;39m Did not match request /error to the saved one DefaultSavedRequest [http://localhost:6060/presto-boot/api/contenteditor/feed/5]\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SecurityContextHolderAwareRequestFilter (8/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AnonymousAuthenticationFilter (9/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.s.w.a.AnonymousAuthenticationFilter [0;39m [2m:[0;39m Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=83FA8B6A615DD9898C33EF9B98BCC479], Granted Authorities=[ROLE_ANONYMOUS]]\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking SessionManagementFilter (10/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking ExceptionTranslationFilter (11/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Invoking AuthorizationFilter (12/12)\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mo.s.security.web.FilterChainProxy       [0;39m [2m:[0;39m Secured GET /error\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Authorizing org.springframework.security.web.FilterInvocation$DummyRequest@4f725109\n[2m2023-02-17 14:10:22.261[0;39m [32mTRACE[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mestMatcherDelegatingAuthorizationManager[0;39m [2m:[0;39m Checking authorization on org.springframework.security.web.FilterInvocation$DummyRequest@4f725109 using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6e9866e6\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store anonymous SecurityContext\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36mw.c.HttpSessionSecurityContextRepository[0;39m [2m:[0;39m Did not store anonymous SecurityContext\n[2m2023-02-17 14:10:22.261[0;39m [32mDEBUG[0;39m [35m23496[0;39m [2m---[0;39m [2m[nio-6060-exec-2][0;39m [36ms.s.w.c.SecurityContextPersistenceFilter[0;39m [2m:[0;39m Cleared SecurityContextHolder to complete request\n</code></pre>\n"},{"tags":["java","spring-boot","byte","jakarta-mail","email-attachments"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1676638012,"post_id":75482600,"comment_id":133182427,"body_markdown":"*ByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString, &quot;image/png&quot;);* Why would an image&#39;s data be base64-encoded *into a string*?","body":"<i>ByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString, &quot;image/png&quot;);</i> Why would an image&#39;s data be base64-encoded <i>into a string</i>?"}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676627248,"creation_date":1676627248,"question_id":75482600,"body_markdown":"When replying in java mail with .html, .csv and .PHP files as attachment getting the below error,\r\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: \r\nJSON parse error: Cannot deserialize value of type `byte[]` from String\r\n\r\nBelow I have added the java code,\r\n\r\n```\r\n\tDocument document = Jsoup.parse(email.getBody());\r\n\t\t\t\tElements images = document.getElementsByTag(&quot;img&quot;);\r\n\t\t\t\tBodyPart messageBodyPart = new MimeBodyPart();\r\n\t\t\t\tif (images.isEmpty() == false) {\r\n\t\t\t\t\tMimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\r\n\t\t\t\t\tfor (org.jsoup.nodes.Element image : images) {\r\n\t\t\t\t\t\tString cid = ContentIdGenerator.getContentId();\r\n\t\t\t\t\t\tString src = image.attr(&quot;src&quot;);\r\n\t\t\t\t\t\tString[] base64string = src.split(&quot;,&quot;);\r\n\t\t\t\t\t\tString[] datatype = src.split(&quot;;&quot;);\r\n\t\t\t\t\t\timage.attr(&quot;src&quot;, &quot;cid:&quot; + cid);\r\n\t\t\t\t\t\tbase64array.add(base64string[1]);\r\n\t\t\t\t\t\tcidarray.add(cid);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmessageBodyPart.setContent(document.toString(), &quot;text/html; charset=UTF-8&quot;);\r\n\t\t\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\t\t\tif (base64array.isEmpty() == false) {\r\n\t\t\t\t\t\tif (base64array.size() &gt; 1) {\r\n\t\t\t\t\t\t\tfor (int i = 0; i &lt; base64array.size(); ++i) {\r\n\t\t\t\t\t\t\t\tmessageBodyPart = new MimeBodyPart();\r\n\t\t\t\t\t\t\t\tbyte[] decodedString = Base64.getDecoder()\r\n\t\t\t\t\t\t\t\t\t\t.decode(new String(base64array.get(i)).getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\t\t\t\t\tByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString,\r\n\t\t\t\t\t\t\t\t\t\t&quot;image/png&quot;);\r\n\r\n\t\t\t\t\t\t\t\tmessageBodyPart.setDataHandler(new DataHandler(imageDataSource));\r\n\t\t\t\t\t\t\t\t((MimeBodyPart) messageBodyPart).setContentID(&quot;&lt;&quot; + cidarray.get(i) + &quot;&gt;&quot;);\r\n\t\t\t\t\t\t\t\tmessageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + cidarray.get(i) + &quot;&gt;&quot;);\r\n\t\t\t\t\t\t\t\tmessageBodyPart.setDisposition(Part.INLINE);\r\n\t\t\t\t\t\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmessageBodyPart = new MimeBodyPart();\r\n\t\t\t\t\t\t\tbyte[] decodedString = Base64.getDecoder()\r\n\t\t\t\t\t\t\t\t\t.decode(new String(base64array.get(0)).getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\t\t\t\tByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString, &quot;image/png&quot;);\r\n\t\t\t\t\t\t\tmessageBodyPart.setDataHandler(new DataHandler(imageDataSource));\r\n\t\t\t\t\t\t\t((MimeBodyPart) messageBodyPart).setContentID(&quot;&lt;&quot; + cidarray.get(0) + &quot;&gt;&quot;);\r\n\t\t\t\t\t\t\tmessageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + cidarray.get(0) + &quot;&gt;&quot;);\r\n\t\t\t\t\t\t\tmessageBodyPart.setDisposition(Part.INLINE);\r\n\t\t\t\t\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (MultipleAttachment file1 : email.getMultipleAttachment()) {\r\n\t\t\t\t\t\tMimeBodyPart attachPart = new MimeBodyPart();\r\n\t\t\t\t\t\tByteArrayDataSource DataSource = new ByteArrayDataSource(file1.getFileByte(),\r\n\t\t\t\t\t\t\t\tfile1.getFileType());\r\n\t\t\t\t\t\tattachPart.setDataHandler(new DataHandler(DataSource));\r\n\t\t\t\t\t\t// attachPart.setContent(file1.getFileByte(), file1.getFileType());\r\n\t\t\t\t\t\tattachPart.setFileName(file1.getFileName());\r\n\t\t\t\t\t\tattachPart.setDisposition(Part.ATTACHMENT);\r\n\t\t\t\t\t\tmultipart.addBodyPart(attachPart);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\t\t\tmessage2.setContent(multipart, &quot;text/html; charset=UTF-8&quot;);\r\n\t\t\t\t}\r\n```\r\n","title":"JSON parse error: Cannot deserialize value of type `byte[]` from String for java mail reply with attachment","body":"<p>When replying in java mail with .html, .csv and .PHP files as attachment getting the below error,\nResolved [org.springframework.http.converter.HttpMessageNotReadableException:\nJSON parse error: Cannot deserialize value of type <code>byte[]</code> from String</p>\n<p>Below I have added the java code,</p>\n<pre><code>    Document document = Jsoup.parse(email.getBody());\n                Elements images = document.getElementsByTag(&quot;img&quot;);\n                BodyPart messageBodyPart = new MimeBodyPart();\n                if (images.isEmpty() == false) {\n                    MimeMultipart multipart = new MimeMultipart(&quot;related&quot;);\n                    for (org.jsoup.nodes.Element image : images) {\n                        String cid = ContentIdGenerator.getContentId();\n                        String src = image.attr(&quot;src&quot;);\n                        String[] base64string = src.split(&quot;,&quot;);\n                        String[] datatype = src.split(&quot;;&quot;);\n                        image.attr(&quot;src&quot;, &quot;cid:&quot; + cid);\n                        base64array.add(base64string[1]);\n                        cidarray.add(cid);\n                    }\n                    messageBodyPart.setContent(document.toString(), &quot;text/html; charset=UTF-8&quot;);\n                    multipart.addBodyPart(messageBodyPart);\n                    if (base64array.isEmpty() == false) {\n                        if (base64array.size() &gt; 1) {\n                            for (int i = 0; i &lt; base64array.size(); ++i) {\n                                messageBodyPart = new MimeBodyPart();\n                                byte[] decodedString = Base64.getDecoder()\n                                        .decode(new String(base64array.get(i)).getBytes(&quot;UTF-8&quot;));\n                                ByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString,\n                                        &quot;image/png&quot;);\n\n                                messageBodyPart.setDataHandler(new DataHandler(imageDataSource));\n                                ((MimeBodyPart) messageBodyPart).setContentID(&quot;&lt;&quot; + cidarray.get(i) + &quot;&gt;&quot;);\n                                messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + cidarray.get(i) + &quot;&gt;&quot;);\n                                messageBodyPart.setDisposition(Part.INLINE);\n                                multipart.addBodyPart(messageBodyPart);\n                            }\n                        } else {\n                            messageBodyPart = new MimeBodyPart();\n                            byte[] decodedString = Base64.getDecoder()\n                                    .decode(new String(base64array.get(0)).getBytes(&quot;UTF-8&quot;));\n                            ByteArrayDataSource imageDataSource = new ByteArrayDataSource(decodedString, &quot;image/png&quot;);\n                            messageBodyPart.setDataHandler(new DataHandler(imageDataSource));\n                            ((MimeBodyPart) messageBodyPart).setContentID(&quot;&lt;&quot; + cidarray.get(0) + &quot;&gt;&quot;);\n                            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;&lt;&quot; + cidarray.get(0) + &quot;&gt;&quot;);\n                            messageBodyPart.setDisposition(Part.INLINE);\n                            multipart.addBodyPart(messageBodyPart);\n                        }\n                    }\n                    for (MultipleAttachment file1 : email.getMultipleAttachment()) {\n                        MimeBodyPart attachPart = new MimeBodyPart();\n                        ByteArrayDataSource DataSource = new ByteArrayDataSource(file1.getFileByte(),\n                                file1.getFileType());\n                        attachPart.setDataHandler(new DataHandler(DataSource));\n                        // attachPart.setContent(file1.getFileByte(), file1.getFileType());\n                        attachPart.setFileName(file1.getFileName());\n                        attachPart.setDisposition(Part.ATTACHMENT);\n                        multipart.addBodyPart(attachPart);\n                    }\n                    multipart.addBodyPart(messageBodyPart);\n                    message2.setContent(multipart, &quot;text/html; charset=UTF-8&quot;);\n                }\n</code></pre>\n"},{"tags":["java","spring-boot","logback"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676626927,"creation_date":1676626927,"answer_id":75482544,"question_id":71880439,"body_markdown":"Correct me if I am wrong, I believe you want the DEBUG level in DEBUG-FILE, and only the INFO level in FILE.\r\n\r\nTry putting the DEBUG level **above** the INFO level logs in your Logback.xml, and adding `additivity=&quot;false&quot;` in DEBUG level. You may remove `additivity=&quot;true&quot;` in INFO level.\r\n\r\n\r\n    \r\n    &lt;!-- Debug Application Log Level --&gt;\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;DEBUG-FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;!-- User Friendly Application Logs --&gt;\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n    \r\n    &lt;!-- Console Root Log Level --&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;","title":"Logback.xml Same Package Log Different Level","body":"<p>Correct me if I am wrong, I believe you want the DEBUG level in DEBUG-FILE, and only the INFO level in FILE.</p>\n<p>Try putting the DEBUG level <strong>above</strong> the INFO level logs in your Logback.xml, and adding <code>additivity=&quot;false&quot;</code> in DEBUG level. You may remove <code>additivity=&quot;true&quot;</code> in INFO level.</p>\n<pre><code>&lt;!-- Debug Application Log Level --&gt;\n&lt;logger name=&quot;com.example.app&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;DEBUG-FILE&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;!-- User Friendly Application Logs --&gt;\n&lt;logger name=&quot;com.example.app&quot; level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;!-- Console Root Log Level --&gt;\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":20145130,"reputation":13,"user_id":14773844,"display_name":"Muhammet Bolat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676626927,"creation_date":1650000619,"question_id":71880439,"body_markdown":"I am using Slf4 for logging. I want to create two log file for the same package. INFO level log and DEBUG level log. I tried to implement like that\r\n\r\n    enter code here\r\n    &lt;!-- User Friendly Application Logs --&gt;\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;!-- Debug Application Log Level --&gt;\r\n    &lt;logger name=&quot;com.example.app&quot; level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;DEBUG-FILE&quot; /&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;!-- Console Root Log Level --&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\n\r\nI am missing a point because, I can see DEBUG level for all files. When I remove logger for debug, I never see the debug log in the ref=&quot;FILE&quot;. \r\n\r\nThanks in advance.\r\n","title":"Logback.xml Same Package Log Different Level","body":"<p>I am using Slf4 for logging. I want to create two log file for the same package. INFO level log and DEBUG level log. I tried to implement like that</p>\n<pre><code>enter code here\n&lt;!-- User Friendly Application Logs --&gt;\n&lt;logger name=&quot;com.example.app&quot; level=&quot;INFO&quot; additivity=&quot;true&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;!-- Debug Application Log Level --&gt;\n&lt;logger name=&quot;com.example.app&quot; level=&quot;DEBUG&quot;&gt;\n    &lt;appender-ref ref=&quot;DEBUG-FILE&quot; /&gt;\n&lt;/logger&gt;\n\n&lt;!-- Console Root Log Level --&gt;\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;Console&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>I am missing a point because, I can see DEBUG level for all files. When I remove logger for debug, I never see the debug log in the ref=&quot;FILE&quot;.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","postgresql","jdbc","postgresql-11","ref-cursor"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1676619843,"post_id":75481206,"comment_id":133177364,"body_markdown":"This would be so much easier if you use a set-returning function instead of a procedure. Then it&#39;s as simple as running `select * from pr_sampleuser()`","body":"This would be so much easier if you use a set-returning function instead of a procedure. Then it&#39;s as simple as running <code>select * from pr_sampleuser()</code>"},{"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"score":0,"creation_date":1676620927,"post_id":75481206,"comment_id":133177632,"body_markdown":"does this post (https://stackoverflow.com/questions/15671636/testing-postgresql-functions-that-consume-and-return-refcursor/15675036#15675036) answer your question...","body":"does this post (<a href=\"https://stackoverflow.com/questions/15671636/testing-postgresql-functions-that-consume-and-return-refcursor/15675036#15675036\" title=\"testing postgresql functions that consume and return refcursor\">stackoverflow.com/questions/15671636/&hellip;</a>) answer your question..."},{"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"score":0,"creation_date":1676623837,"post_id":75481206,"comment_id":133178400,"body_markdown":"@a_horse_with_no_name: sry but i am not looking for workrounds, consider that aspect that procedure is already created for you, i am asking for how to access it correctly using JDBC.\nJian: The post you have mentioned is about stored proc creation and calling it, i am looking forward to access the data through JDBC driver and it this is the best way to read the data.","body":"@a_horse_with_no_name: sry but i am not looking for workrounds, consider that aspect that procedure is already created for you, i am asking for how to access it correctly using JDBC. Jian: The post you have mentioned is about stored proc creation and calling it, i am looking forward to access the data through JDBC driver and it this is the best way to read the data."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1676623894,"post_id":75481206,"comment_id":133178416,"body_markdown":"Well, a procedure is the wrong thing to use, if a result set should be returned. Using a function is not a &quot;workaround&quot;, it&#39;s the correct solution to the problem here.","body":"Well, a procedure is the wrong thing to use, if a result set should be returned. Using a function is not a &quot;workaround&quot;, it&#39;s the correct solution to the problem here."},{"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"score":0,"creation_date":1676624185,"post_id":75481206,"comment_id":133178492,"body_markdown":"@a_horse_with_no_name: See thats another aspect, but the procedures have already been created and i believe its not wrong as per https://www.enterprisedb.com/docs/jdbc_connector/latest/08_advanced_jdbc_connector_functionality/04_using_ref_cursors_with_java/","body":"@a_horse_with_no_name: See thats another aspect, but the procedures have already been created and i believe its not wrong as per <a href=\"https://www.enterprisedb.com/docs/jdbc_connector/latest/08_advanced_jdbc_connector_functionality/04_using_ref_cursors_with_java/\" rel=\"nofollow noreferrer\">enterprisedb.com/docs/jdbc_connector/latest/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676626592,"post_id":75481206,"comment_id":133179205,"body_markdown":"Does it work? If so, this seems to be the correct solution, and then I am unsure why you&#39;re asking this question...","body":"Does it work? If so, this seems to be the correct solution, and then I am unsure why you&#39;re asking this question..."},{"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"score":0,"creation_date":1676627127,"post_id":75481206,"comment_id":133179358,"body_markdown":"@MarkRotteveel: yes this solution works, my concern was around why we need to use cs.setObject(2,null); Is it that for referenceCursors we need to set the value of 2nd parameter to null or if there is any better way of doing this?","body":"@MarkRotteveel: yes this solution works, my concern was around why we need to use cs.setObject(2,null); Is it that for referenceCursors we need to set the value of 2nd parameter to null or if there is any better way of doing this?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676635274,"post_id":75481206,"comment_id":133181650,"body_markdown":"You need to set it because you declared the argument of the stored procedure as INOUT. Consider declaring it only OUT, then you shouldn&#39;t need to set it.","body":"You need to set it because you declared the argument of the stored procedure as INOUT. Consider declaring it only OUT, then you shouldn&#39;t need to set it."},{"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"score":0,"creation_date":1676815335,"post_id":75481206,"comment_id":133209135,"body_markdown":"@MarkRotteveel: That is true, just that PostGres13 doesn&#39;t support Out Parameters, i think they are available only with PostGres version 14 , https://www.dbi-services.com/blog/postgresql-14-will-support-out-parameters-for-procedures/","body":"@MarkRotteveel: That is true, just that PostGres13 doesn&#39;t support Out Parameters, i think they are available only with PostGres version 14 , <a href=\"https://www.dbi-services.com/blog/postgresql-14-will-support-out-parameters-for-procedures/\" rel=\"nofollow noreferrer\">dbi-services.com/blog/&hellip;</a>"}],"owner":{"account_id":8363885,"reputation":163,"user_id":6281255,"display_name":"Ashu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676626547,"creation_date":1676618278,"question_id":75481206,"body_markdown":"I need some suggestion on how to get the data through PostgreSQL JDBC driver from stored procedures using reference cursors.\r\n\r\nSince PostgreSQL 11, it supports stored procedures with `create procedure` command instead of `create function`.\r\n\r\nI have a scenario in which I want to fetch data from a stored procedure using a reference cursor.\r\n\r\nMy stored procedure SQL looks like as shown below\r\n\r\n```sql\r\nCREATE OR REPLACE PROCEDURE public.pr_sampleuser(\r\n\tp_firstuser character varying,\r\n\tINOUT p_qusers refcursor)\r\nLANGUAGE &#39;plpgsql&#39;\r\nAS $BODY$\r\n\r\nBEGIN\r\n   OPEN p_qusers FOR\r\n   SELECT first_name,last_name,address\r\n   FROM public.test_user\r\n   WHERE UPPER(first_name) = UPPER(p_firstuser);\r\nEND; \r\n$BODY$;\r\n```\r\n\r\nWhen we want to fetch the data using the JDBC driver, the first thing we need to add to the connection string is `escapeSyntaxCallMode=call`.\r\n\r\nFollowing is the code-snippet that I am using to fetch the data,\r\n\r\n```java\r\ntry {\r\n    Properties props = new Properties();\r\n    props.setProperty(&quot;escapeSyntaxCallMode&quot;, &quot;call&quot;);\r\n    Connection conn = DriverManager.getConnection(url,props);\r\n    String storedProc = &quot;{call public.pr_sampleuser(?,?)}&quot;;\r\n    CallableStatement cs = conn.prepareCall(storedProc);\r\n    cs.setString(1,&quot;Umesh&quot;);\r\n    cs.setObject(2,null);\r\n    cs.registerOutParameter(2,Types.REF_CURSOR);\r\n    conn.setAutoCommit(false);\r\n\r\n    // run StoredProcedure\r\n    cs.execute();\r\n\r\n    // get refcursor and convert it to ResultSet\r\n    ResultSet resultSet = (ResultSet) cs.getObject(2);\r\n    while (resultSet.next()) {\r\n        String firstName = resultSet.getString(&quot;first_name&quot;);\r\n        String lastname = resultSet.getString(&quot;last_name&quot;);\r\n        String address = resultSet.getString(&quot;address&quot;);\r\n\r\n        System.out.println(firstName);\r\n        System.out.println(lastname);\r\n        System.out.println(address);\r\n    }\r\n} catch (SQLException e) {\r\n    System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\r\n    e.printStackTrace();\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nIn this I am passing the second parameter as null using \r\n\r\n```java\r\ncs.setObject(2,null);\r\n```\r\n\r\nI wanted to check if this is the correct way to fetch or if there is any better way to get the data.\r\n","title":"Correct way of calling reference cursors in PostgreSQL 11 and above using JDBC driver","body":"<p>I need some suggestion on how to get the data through PostgreSQL JDBC driver from stored procedures using reference cursors.</p>\n<p>Since PostgreSQL 11, it supports stored procedures with <code>create procedure</code> command instead of <code>create function</code>.</p>\n<p>I have a scenario in which I want to fetch data from a stored procedure using a reference cursor.</p>\n<p>My stored procedure SQL looks like as shown below</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE PROCEDURE public.pr_sampleuser(\n    p_firstuser character varying,\n    INOUT p_qusers refcursor)\nLANGUAGE 'plpgsql'\nAS $BODY$\n\nBEGIN\n   OPEN p_qusers FOR\n   SELECT first_name,last_name,address\n   FROM public.test_user\n   WHERE UPPER(first_name) = UPPER(p_firstuser);\nEND; \n$BODY$;\n</code></pre>\n<p>When we want to fetch the data using the JDBC driver, the first thing we need to add to the connection string is <code>escapeSyntaxCallMode=call</code>.</p>\n<p>Following is the code-snippet that I am using to fetch the data,</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Properties props = new Properties();\n    props.setProperty(&quot;escapeSyntaxCallMode&quot;, &quot;call&quot;);\n    Connection conn = DriverManager.getConnection(url,props);\n    String storedProc = &quot;{call public.pr_sampleuser(?,?)}&quot;;\n    CallableStatement cs = conn.prepareCall(storedProc);\n    cs.setString(1,&quot;Umesh&quot;);\n    cs.setObject(2,null);\n    cs.registerOutParameter(2,Types.REF_CURSOR);\n    conn.setAutoCommit(false);\n\n    // run StoredProcedure\n    cs.execute();\n\n    // get refcursor and convert it to ResultSet\n    ResultSet resultSet = (ResultSet) cs.getObject(2);\n    while (resultSet.next()) {\n        String firstName = resultSet.getString(&quot;first_name&quot;);\n        String lastname = resultSet.getString(&quot;last_name&quot;);\n        String address = resultSet.getString(&quot;address&quot;);\n\n        System.out.println(firstName);\n        System.out.println(lastname);\n        System.out.println(address);\n    }\n} catch (SQLException e) {\n    System.err.format(&quot;SQL State: %s\\n%s&quot;, e.getSQLState(), e.getMessage());\n    e.printStackTrace();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>In this I am passing the second parameter as null using</p>\n<pre class=\"lang-java prettyprint-override\"><code>cs.setObject(2,null);\n</code></pre>\n<p>I wanted to check if this is the correct way to fetch or if there is any better way to get the data.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1676624754,"post_id":75482059,"comment_id":133178671,"body_markdown":"What about https://ideone.com/P1m10a? What is your targeted Java version?","body":"What about <a href=\"https://ideone.com/P1m10a\" rel=\"nofollow noreferrer\">ideone.com/P1m10a</a>? What is your targeted Java version?"}],"answers":[{"tags":[],"owner":{"account_id":17451557,"reputation":76,"user_id":12651435,"display_name":"Rasmus Kirvesm&#228;ki"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676625418,"creation_date":1676625418,"answer_id":75482292,"question_id":75482059,"body_markdown":"It seems like Java&#39;s Matcher checks your string size when it initializes, and doesn&#39;t go past that. You are inserting to the string, which makes it longer. The matcher doesn&#39;t check that far.\r\n\r\nA quick, though slow, fix is to re-initialize the matcher every time.\r\n```\r\nStringBuilder text = new StringBuilder(&quot;Hel2o peo7ple it is ou6r wo3rld gu4ys&quot;);\r\nPattern pattern = Pattern.compile(&quot;[a-z]\\\\d&quot;);\r\nMatcher matcher = pattern.matcher(text);\r\n        \r\nwhile (matcher.find()) {\r\n    int startWord = matcher.start();\r\n    int numLetters = Integer.parseInt(text.substring(startWord + 1, startWord + 2));\r\n    text.deleteCharAt(startWord + 1);\r\n    for (int i = 0; i &lt; numLetters - 1; ++i) {\r\n        text.insert(startWord + 1, text.charAt(startWord));\r\n    }\r\n            \r\n    matcher = pattern.matcher(text);\r\n}\r\nSystem.out.println(text);\r\n```\r\nA faster approach would find the numbers, calculate the string length and then manually construct the string using the found numbers.","title":"regex doesn&#39;t find last word in my string","body":"<p>It seems like Java's Matcher checks your string size when it initializes, and doesn't go past that. You are inserting to the string, which makes it longer. The matcher doesn't check that far.</p>\n<p>A quick, though slow, fix is to re-initialize the matcher every time.</p>\n<pre><code>StringBuilder text = new StringBuilder(&quot;Hel2o peo7ple it is ou6r wo3rld gu4ys&quot;);\nPattern pattern = Pattern.compile(&quot;[a-z]\\\\d&quot;);\nMatcher matcher = pattern.matcher(text);\n        \nwhile (matcher.find()) {\n    int startWord = matcher.start();\n    int numLetters = Integer.parseInt(text.substring(startWord + 1, startWord + 2));\n    text.deleteCharAt(startWord + 1);\n    for (int i = 0; i &lt; numLetters - 1; ++i) {\n        text.insert(startWord + 1, text.charAt(startWord));\n    }\n            \n    matcher = pattern.matcher(text);\n}\nSystem.out.println(text);\n</code></pre>\n<p>A faster approach would find the numbers, calculate the string length and then manually construct the string using the found numbers.</p>\n"},{"comments":[{"owner":{"account_id":27809969,"reputation":23,"user_id":21232548,"display_name":"Timur"},"score":0,"creation_date":1676878390,"post_id":75482450,"comment_id":133218898,"body_markdown":"No, it doesn&#39;t work, it cand find string that i need","body":"No, it doesn&#39;t work, it cand find string that i need"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676988127,"post_id":75482450,"comment_id":133244763,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75482450/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24910774,"reputation":1,"user_id":18780356,"display_name":"SCASTELLANO6044"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676626443,"creation_date":1676626443,"answer_id":75482450,"question_id":75482059,"body_markdown":"The issue is probably that the matcher is only finding the pattern [a-z]\\\\d, which matches a single letter followed by a digit, but it is not finding the last word &quot;gu4ys&quot; because it doesn&#39;t match that pattern.\r\n\r\nTo fix this, you can modify the regular expression to include an optional group that matches any remaining letters at the end of the text. \r\n\r\nTry this regex and please let me know if it worked :)\r\n&quot;[a-z]\\\\d|[a-z]+&quot;\r\n","title":"regex doesn&#39;t find last word in my string","body":"<p>The issue is probably that the matcher is only finding the pattern [a-z]\\d, which matches a single letter followed by a digit, but it is not finding the last word &quot;gu4ys&quot; because it doesn't match that pattern.</p>\n<p>To fix this, you can modify the regular expression to include an optional group that matches any remaining letters at the end of the text.</p>\n<p>Try this regex and please let me know if it worked :)\n&quot;[a-z]\\d|[a-z]+&quot;</p>\n"}],"owner":{"account_id":27809969,"reputation":23,"user_id":21232548,"display_name":"Timur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75482292,"answer_count":2,"score":2,"last_activity_date":1676626443,"creation_date":1676623936,"question_id":75482059,"body_markdown":"I have a regular expression [a-z]\\\\d to unpack the text witch is compressed by simple rule\r\nhellowoooorld  -&gt; hel2owo4rld\r\nSo now i have to unpack my text and it doesn&#39;t work correctly. It can&#39;t find last word in my String\r\nit always like skip gu4ys\r\n\r\n```\r\nStringBuilder text = new StringBuilder(&quot;Hel2o peo7ple it is ou6r wo3rld gu4ys&quot;);\r\n        Pattern pattern = Pattern.compile(&quot;[a-z]\\\\d&quot;);\r\n        Matcher matcher = pattern.matcher(text);\r\n        while (matcher.find()) {\r\n            System.out.println(matcher.group());\r\n            int startWord = matcher.start();\r\n            int numLetters = Integer.parseInt(text.substring(startWord + 1, startWord + 2));\r\n            text.deleteCharAt(startWord + 1);\r\n            for (int i = 0; i &lt; numLetters - 1; ++i) {\r\n                text.insert(startWord + 1, text.charAt(startWord));\r\n            }\r\n        }\r\n        System.out.println(text);\r\n```\r\n\r\n\r\n\r\nResult is : Hello peooooooople it is ouuuuuur wooorld gu4ys\r\nI expect this : Hello peooooooople it is ouuuuuur wooorld guuuuys\r\nI can&#39;t understand why it doesn&#39;t work all is simple ","title":"regex doesn&#39;t find last word in my string","body":"<p>I have a regular expression [a-z]\\d to unpack the text witch is compressed by simple rule\nhellowoooorld  -&gt; hel2owo4rld\nSo now i have to unpack my text and it doesn't work correctly. It can't find last word in my String\nit always like skip gu4ys</p>\n<pre><code>StringBuilder text = new StringBuilder(&quot;Hel2o peo7ple it is ou6r wo3rld gu4ys&quot;);\n        Pattern pattern = Pattern.compile(&quot;[a-z]\\\\d&quot;);\n        Matcher matcher = pattern.matcher(text);\n        while (matcher.find()) {\n            System.out.println(matcher.group());\n            int startWord = matcher.start();\n            int numLetters = Integer.parseInt(text.substring(startWord + 1, startWord + 2));\n            text.deleteCharAt(startWord + 1);\n            for (int i = 0; i &lt; numLetters - 1; ++i) {\n                text.insert(startWord + 1, text.charAt(startWord));\n            }\n        }\n        System.out.println(text);\n</code></pre>\n<p>Result is : Hello peooooooople it is ouuuuuur wooorld gu4ys\nI expect this : Hello peooooooople it is ouuuuuur wooorld guuuuys\nI can't understand why it doesn't work all is simple</p>\n"},{"tags":["java","android","android-studio","java-8","android-studio-2.1"],"comments":[{"owner":{"account_id":1017805,"reputation":2367,"user_id":1028958,"accept_rate":75,"display_name":"Stephen J"},"score":0,"creation_date":1472621817,"post_id":38066957,"comment_id":65819556,"body_markdown":"My path has User 1 and Program Files, basically the answer here: http://stackoverflow.com/questions/34199642/cannot-update-jdk-location-in-android-studio \nI had to remove spaces from both the JDK and the SDK, not just the JDK. So basically copied/pasted dir","body":"My path has User 1 and Program Files, basically the answer here: <a href=\"http://stackoverflow.com/questions/34199642/cannot-update-jdk-location-in-android-studio\" title=\"cannot update jdk location in android studio\">stackoverflow.com/questions/34199642/&hellip;</a>  I had to remove spaces from both the JDK and the SDK, not just the JDK. So basically copied/pasted dir"}],"answers":[{"comments":[{"owner":{"display_name":"user5580103"},"score":0,"creation_date":1469542337,"post_id":38067170,"comment_id":64572699,"body_markdown":"Could you give me the location of the config file. I could not find it","body":"Could you give me the location of the config file. I could not find it"},{"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"score":0,"creation_date":1469544080,"post_id":38067170,"comment_id":64574046,"body_markdown":"Go to the driver where your Windows is installed. There will be a folder named &#39;Users&#39; or &#39;Documents and Settings&#39;. In there, you&#39;ll find a folder with your username on it. Inside it will be a folder called .AndroidStudio followed by the version number of your installation. Once you locate this particular folder, find the &#39;config&#39; folder inside it. There you will see the mentioned file. @GuynamedJon","body":"Go to the driver where your Windows is installed. There will be a folder named &#39;Users&#39; or &#39;Documents and Settings&#39;. In there, you&#39;ll find a folder with your username on it. Inside it will be a folder called .AndroidStudio followed by the version number of your installation. Once you locate this particular folder, find the &#39;config&#39; folder inside it. There you will see the mentioned file. @GuynamedJon"},{"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"score":0,"creation_date":1469544163,"post_id":38067170,"comment_id":64574117,"body_markdown":"The fastest way (that I found via Google) to get to your User folder is to press Windows key + R and open the Run dialog box. In there, type this &quot;%userprofile%&quot; (without the quotes). Press enter.","body":"The fastest way (that I found via Google) to get to your User folder is to press Windows key + R and open the Run dialog box. In there, type this &quot;%userprofile%&quot; (without the quotes). Press enter."},{"owner":{"account_id":1680447,"reputation":131,"user_id":1544801,"display_name":"Koti"},"score":3,"creation_date":1471572046,"post_id":38067170,"comment_id":65410452,"body_markdown":"I tried removing **jdk.table.xml** and restarting studio, still the new file getting created with jdk 1.7. I have both JDK_HOME and JAVA_HOME environment variable setup. Any help here greatly appreciated.","body":"I tried removing <b>jdk.table.xml</b> and restarting studio, still the new file getting created with jdk 1.7. I have both JDK_HOME and JAVA_HOME environment variable setup. Any help here greatly appreciated."},{"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"score":0,"creation_date":1471637714,"post_id":38067170,"comment_id":65443956,"body_markdown":"I don&#39;t know if this will work but try to uninstall JDK7 from your system and only leave 8. Restart your PC. Check the PATH variable as well.","body":"I don&#39;t know if this will work but try to uninstall JDK7 from your system and only leave 8. Restart your PC. Check the PATH variable as well."},{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":0,"creation_date":1472809183,"post_id":38067170,"comment_id":65912316,"body_markdown":"Can confirm, AS 2.1.x will fetch the default JDK from the JAVA_HOME env var. (had 8_66 and 8_101 installed and it used 8_66 which was set in the env var)","body":"Can confirm, AS 2.1.x will fetch the default JDK from the JAVA_HOME env var. (had 8_66 and 8_101 installed and it used 8_66 which was set in the env var)"},{"owner":{"account_id":2432870,"reputation":857,"user_id":2123417,"accept_rate":21,"display_name":"Swift"},"score":0,"creation_date":1472815747,"post_id":38067170,"comment_id":65916148,"body_markdown":"I have updated JAVA_HOME and the deleted jdk.table.xml and restarted it,still the problem is same I faced. please, help me.","body":"I have updated JAVA_HOME and the deleted jdk.table.xml and restarted it,still the problem is same I faced. please, help me."},{"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"score":0,"creation_date":1473251220,"post_id":38067170,"comment_id":66067718,"body_markdown":"First, try to uninstall JDK 1.7 and then follow the above instructions.","body":"First, try to uninstall JDK 1.7 and then follow the above instructions."},{"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"score":0,"creation_date":1475160340,"post_id":38067170,"comment_id":66841156,"body_markdown":"You got your environment variables set up correctly? JDK_HOME needs to point to java 1.8. Best option is to remove 1.7, restart, install 1.8, set up the variables then try the above method.","body":"You got your environment variables set up correctly? JDK_HOME needs to point to java 1.8. Best option is to remove 1.7, restart, install 1.8, set up the variables then try the above method."},{"owner":{"account_id":5143607,"reputation":2038,"user_id":4120180,"accept_rate":95,"display_name":"Stav Bodik"},"score":0,"creation_date":1483868488,"post_id":38067170,"comment_id":70267950,"body_markdown":"close android studio ,  replace everything in file with C:/Program Files/Java/jdk1.8.0_101 , re-open studio ,  Sync","body":"close android studio ,  replace everything in file with C:/Program Files/Java/jdk1.8.0_101 , re-open studio ,  Sync"},{"owner":{"account_id":7103968,"reputation":5203,"user_id":5434346,"accept_rate":41,"display_name":"K.Os"},"score":0,"creation_date":1592657410,"post_id":38067170,"comment_id":110506230,"body_markdown":"@Asim Thanks man! It answered me for the question https://stackoverflow.com/q/62485630/5434346!","body":"@Asim Thanks man! It answered me for the question <a href=\"https://stackoverflow.com/q/62485630/5434346\">stackoverflow.com/q/62485630/5434346</a>!"}],"tags":[],"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"comment_count":11,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1470731163,"creation_date":1467088784,"answer_id":38067170,"question_id":38066957,"body_markdown":"Figured it out after looking at a few files inside the Android studio settings directory.\r\n\r\nIf you&#39;ve been upgrading your Android Studio and importing settings from previous installations, this might happen (it might also happen with a fresh installation).\r\n\r\nSolution:\r\n\r\n 1. Go to wherever your Android Studio config folder is located (usually at $HOME/.AndroidStudio2.1/confg).\r\n 2. Open the **Options** folder and delete the file **jdk.table.xml** (keep a backup just in case)\r\n 3. Restart Android Studio\r\n\r\nThis fixed the issue for me. The newly created jdk.table.xml will have updated java8 values (which it most probably fetches from the JDK_HOME environment variable).\r\n\r\n","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>Figured it out after looking at a few files inside the Android studio settings directory.</p>\n\n<p>If you've been upgrading your Android Studio and importing settings from previous installations, this might happen (it might also happen with a fresh installation).</p>\n\n<p>Solution:</p>\n\n<ol>\n<li>Go to wherever your Android Studio config folder is located (usually at $HOME/.AndroidStudio2.1/confg).</li>\n<li>Open the <strong>Options</strong> folder and delete the file <strong>jdk.table.xml</strong> (keep a backup just in case)</li>\n<li>Restart Android Studio</li>\n</ol>\n\n<p>This fixed the issue for me. The newly created jdk.table.xml will have updated java8 values (which it most probably fetches from the JDK_HOME environment variable).</p>\n"},{"tags":[],"owner":{"account_id":7557346,"reputation":73,"user_id":6672894,"display_name":"Mr. El"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475109568,"creation_date":1475109568,"answer_id":39759648,"question_id":38066957,"body_markdown":"What you want to do after deleting the xml file is NOT to close android studio before doing this. Because when android boots back up again it will check its referral settings and say &quot;oh this user may have deleted the table of the jdk, but he still had 1.7 selected by default.&quot;\r\n\r\nNo, when you delete the table file keep studio open. Then select 1.8 so that way it will save the reference settings back to the table. You might not have to restart either since the table xml file is not a currently running file since its in the own users profile folder and not in program files.","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>What you want to do after deleting the xml file is NOT to close android studio before doing this. Because when android boots back up again it will check its referral settings and say \"oh this user may have deleted the table of the jdk, but he still had 1.7 selected by default.\"</p>\n\n<p>No, when you delete the table file keep studio open. Then select 1.8 so that way it will save the reference settings back to the table. You might not have to restart either since the table xml file is not a currently running file since its in the own users profile folder and not in program files.</p>\n"},{"tags":[],"owner":{"account_id":8858672,"reputation":1,"user_id":6615578,"display_name":"HARSH TYAGI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483154663,"creation_date":1482430746,"answer_id":41289476,"question_id":38066957,"body_markdown":"**follow these steps:(the steps are for windows; reach the same directories in case of other operating systems)**\r\n\r\n**Step 1:** Press &quot;Win + R&quot;, type in &quot;%userprofile%&quot; and press enter.\r\n\r\n**Step 2:** Go to the Android Studio folder which will be in the following format - &quot;.AndroidStudio2.2&quot; (the version may vary)\r\n\r\n**Step 3:** Go to the &quot;config\\options&quot; folder.\r\n\r\n**Step 4:** Make a copy of `jdk.table.xml` at desktop and Delete `jdk.table.xml` . (Do it while the android studio is still running)\r\n\r\n**Step 5:** In android Studio -Go to &quot;File-&gt; Project Structure&quot; and select the correct jdk path.\r\n\r\n\r\n**IF STEP 4 and STEP 5 do not solve the problem, follow these steps::**\r\n\r\n**Step 4&#39;:** Open `jdk.table.xml` in notepad.\r\n\r\n**Step 5&#39;:** Find all the words including jdk version - for eg. find &quot;1.8.0_45&quot;\r\n\r\n**Step 6&#39;:** Replace the words found; with your current jdk version . For eg. change &quot;1.8.0_45&quot; to &quot;1.8.0_111&quot; (make sure you replace all the fields containing the version number)\r\n\r\n**Step 7&#39;:** Save the `jdk.table.xml` file\r\n\r\n**Step 8&#39;:** Restart android studio.\r\n\r\nThis will definitely solve the issue.\r\n\r\n**PS: JDK should be installed and the path should be set.**","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p><strong>follow these steps:(the steps are for windows; reach the same directories in case of other operating systems)</strong></p>\n\n<p><strong>Step 1:</strong> Press \"Win + R\", type in \"%userprofile%\" and press enter.</p>\n\n<p><strong>Step 2:</strong> Go to the Android Studio folder which will be in the following format - \".AndroidStudio2.2\" (the version may vary)</p>\n\n<p><strong>Step 3:</strong> Go to the \"config\\options\" folder.</p>\n\n<p><strong>Step 4:</strong> Make a copy of <code>jdk.table.xml</code> at desktop and Delete <code>jdk.table.xml</code> . (Do it while the android studio is still running)</p>\n\n<p><strong>Step 5:</strong> In android Studio -Go to \"File-> Project Structure\" and select the correct jdk path.</p>\n\n<p><strong>IF STEP 4 and STEP 5 do not solve the problem, follow these steps::</strong></p>\n\n<p><strong>Step 4':</strong> Open <code>jdk.table.xml</code> in notepad.</p>\n\n<p><strong>Step 5':</strong> Find all the words including jdk version - for eg. find \"1.8.0_45\"</p>\n\n<p><strong>Step 6':</strong> Replace the words found; with your current jdk version . For eg. change \"1.8.0_45\" to \"1.8.0_111\" (make sure you replace all the fields containing the version number)</p>\n\n<p><strong>Step 7':</strong> Save the <code>jdk.table.xml</code> file</p>\n\n<p><strong>Step 8':</strong> Restart android studio.</p>\n\n<p>This will definitely solve the issue.</p>\n\n<p><strong>PS: JDK should be installed and the path should be set.</strong></p>\n"},{"tags":[],"owner":{"account_id":5143607,"reputation":2038,"user_id":4120180,"accept_rate":95,"display_name":"Stav Bodik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483868750,"creation_date":1483868750,"answer_id":41531367,"question_id":38066957,"body_markdown":"1. close android studio \n\n2. go to :\n\nC:\\Users\\WINDOW_USER_NAME\\AndroidStudio2.1\\config\\options\n\nopen jdk.table.xml\n\n3. replace all with your JDK version , in my case replaced all with :\n\n   C:/Program Files/Java/jdk1.8.0_101\n\n4. re-open android-studio\n\n5. Sync","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<ol>\n<li><p>close android studio</p>\n</li>\n<li><p>go to :</p>\n</li>\n</ol>\n<p>C:\\Users\\WINDOW_USER_NAME\\AndroidStudio2.1\\config\\options</p>\n<p>open jdk.table.xml</p>\n<ol start=\"3\">\n<li><p>replace all with your JDK version , in my case replaced all with :</p>\n<p>C:/Program Files/Java/jdk1.8.0_101</p>\n</li>\n<li><p>re-open android-studio</p>\n</li>\n<li><p>Sync</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1025144,"reputation":1831,"user_id":1034622,"accept_rate":62,"display_name":"Pablo Chvx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510093086,"creation_date":1510093086,"answer_id":47168354,"question_id":38066957,"body_markdown":"Only this answer work out for me:\r\nhttps://stackoverflow.com/a/34199964/1034622\r\n\r\nBoth, the android SDK and the JDK folders must not contain spaces.\r\n","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>Only this answer work out for me:\n<a href=\"https://stackoverflow.com/a/34199964/1034622\">https://stackoverflow.com/a/34199964/1034622</a></p>\n\n<p>Both, the android SDK and the JDK folders must not contain spaces.</p>\n"},{"tags":[],"owner":{"account_id":128422,"reputation":1597,"user_id":326242,"display_name":"Andrew Koster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562637852,"creation_date":1562637852,"answer_id":56944456,"question_id":38066957,"body_markdown":"1) Add this to your app build.gradle (inside the android element)\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\nI copied this from https://stackoverflow.com/a/51032051/326242 . Credit goes to the person who posted that (https://stackoverflow.com/users/2910520/matpag), but the correct answer isn&#39;t posted anywhere on this question.","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>1) Add this to your app build.gradle (inside the android element)</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>I copied this from <a href=\"https://stackoverflow.com/a/51032051/326242\">https://stackoverflow.com/a/51032051/326242</a> . Credit goes to the person who posted that (<a href=\"https://stackoverflow.com/users/2910520/matpag\">https://stackoverflow.com/users/2910520/matpag</a>), but the correct answer isn't posted anywhere on this question.</p>\n"},{"tags":[],"owner":{"account_id":15998873,"reputation":61,"user_id":11546127,"display_name":"Chrisbin Sunny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676625883,"creation_date":1676625883,"answer_id":75482365,"question_id":38066957,"body_markdown":"# 2023 Update\r\nI was trying to update from VERSION 1.8 to VERSION 11. Went through the answers here and found none working. I couldn&#39;t find the file at the specified location. The file has been changed in the newer releases.\r\n\r\n\r\n## New Solution:\r\n\r\n**Step 1:** Open the Android Studio and keep it open.\r\n\r\n**Step 2:**\r\nGo to the location given below:\r\n\r\n    C:\\Users\\{username}\\AppData\\Roaming\\Google\\AndroidStudio2022.1\\options\r\n\r\nor press `Win + R` and enter the following:\r\n\r\n    %userprofile%\\AppData\\Roaming\\Google\\AndroidStudio2022.1\\options\r\nYour latest version of Android Studio might be different.\r\n\r\n**Step 3:** Delete the file `jdk.table.xml` from the options folder.\r\n\r\n**Step 4:** Change the Gradle JDK to the new JDK in the settings, so that the Studio can save the new path in the file. (Important: Else Studio assigns JDK from it&#39;s memory)\r\n\r\n**Step 5:** Restart Android Studio.\r\n\r\nThis fixed the issue for me. The newly created `jdk.table.xml` will have the updated JDK values.","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<h1>2023 Update</h1>\n<p>I was trying to update from VERSION 1.8 to VERSION 11. Went through the answers here and found none working. I couldn't find the file at the specified location. The file has been changed in the newer releases.</p>\n<h2>New Solution:</h2>\n<p><strong>Step 1:</strong> Open the Android Studio and keep it open.</p>\n<p><strong>Step 2:</strong>\nGo to the location given below:</p>\n<pre><code>C:\\Users\\{username}\\AppData\\Roaming\\Google\\AndroidStudio2022.1\\options\n</code></pre>\n<p>or press <code>Win + R</code> and enter the following:</p>\n<pre><code>%userprofile%\\AppData\\Roaming\\Google\\AndroidStudio2022.1\\options\n</code></pre>\n<p>Your latest version of Android Studio might be different.</p>\n<p><strong>Step 3:</strong> Delete the file <code>jdk.table.xml</code> from the options folder.</p>\n<p><strong>Step 4:</strong> Change the Gradle JDK to the new JDK in the settings, so that the Studio can save the new path in the file. (Important: Else Studio assigns JDK from it's memory)</p>\n<p><strong>Step 5:</strong> Restart Android Studio.</p>\n<p>This fixed the issue for me. The newly created <code>jdk.table.xml</code> will have the updated JDK values.</p>\n"}],"owner":{"account_id":895708,"reputation":7032,"user_id":933050,"accept_rate":65,"display_name":"Asim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9814,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":38067170,"answer_count":7,"score":19,"last_activity_date":1676625883,"creation_date":1467087329,"question_id":38066957,"body_markdown":"I recently installed jdk 1.8 u92 after Android Studio said it is needed for api24 builds. However, I&#39;ve run into this issue now.\r\n\r\nI looked at some other solutions and uninstalled jdk 1.7, added environment variables for JDK_HOME, JAVA_HOME, and JAVA8_HOME. The problem still persists.\r\n\r\nEvery time I try to build the app, gradle sync fails and Android studio asks me to **Choose a valid JDK directory**. I then go to **Project Structure =&gt; JDK Location** and update it to the 1.8 folder. Trying to build again gives the same error and when I check the Project Structure, the path is set back to the old JDK 1.7 automatically.\r\n\r\nIs there any fix for this issue?","title":"Android Studio JDK location changes back to 1.7 every time it is updated to 1.8 path","body":"<p>I recently installed jdk 1.8 u92 after Android Studio said it is needed for api24 builds. However, I've run into this issue now.</p>\n\n<p>I looked at some other solutions and uninstalled jdk 1.7, added environment variables for JDK_HOME, JAVA_HOME, and JAVA8_HOME. The problem still persists.</p>\n\n<p>Every time I try to build the app, gradle sync fails and Android studio asks me to <strong>Choose a valid JDK directory</strong>. I then go to <strong>Project Structure => JDK Location</strong> and update it to the 1.8 folder. Trying to build again gives the same error and when I check the Project Structure, the path is set back to the old JDK 1.7 automatically.</p>\n\n<p>Is there any fix for this issue?</p>\n"},{"tags":["java","class","listview","intellij-idea","javafx"],"comments":[{"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"score":0,"creation_date":1676625111,"post_id":75482109,"comment_id":133178773,"body_markdown":"I&#39;m not very familiar with JavaFX, but what I do in this cases os to pass the content of the listview to the other controller by creating a &quot;setup&quot; (or whatever you want to call it) method. So just before I load the scene, I get its controller and call the setup method and pass whatever I will need there (in your case, the content of the listview). Hope it helps!","body":"I&#39;m not very familiar with JavaFX, but what I do in this cases os to pass the content of the listview to the other controller by creating a &quot;setup&quot; (or whatever you want to call it) method. So just before I load the scene, I get its controller and call the setup method and pass whatever I will need there (in your case, the content of the listview). Hope it helps!"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1676633877,"post_id":75482277,"comment_id":133181245,"body_markdown":"well, it&#39;s a mere snippet, not an [mcve] as it should be - so we can&#39;t know whether or not the listView ever is instantiated :) Plus in the context of fx - seeing one class described as &quot;Controller&quot; - the view probably is injected via fxml in which case it _must not_ be instantiated. Without more details in the question, one guessing game is as good or bad as the other, though.","body":"well, it&#39;s a mere snippet, not an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as it should be - so we can&#39;t know whether or not the listView ever is instantiated :) Plus in the context of fx - seeing one class described as &quot;Controller&quot; - the view probably is injected via fxml in which case it <i>must not</i> be instantiated. Without more details in the question, one guessing game is as good or bad as the other, though."}],"tags":[],"owner":{"account_id":19179,"reputation":4543,"user_id":44715,"accept_rate":81,"display_name":"Riho"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676625345,"creation_date":1676625345,"answer_id":75482277,"question_id":75482109,"body_markdown":"I don&#39;t see anywhere where you are declaring listtaking:\r\n\r\n    listtaking = new ListView&lt;Items&gt;();\r\n    \r\nMaybe that&#39;s an issue. ","title":"How to access elements of a Listview from another class?","body":"<p>I don't see anywhere where you are declaring listtaking:</p>\n<pre><code>listtaking = new ListView&lt;Items&gt;();\n</code></pre>\n<p>Maybe that's an issue.</p>\n"}],"owner":{"account_id":24893754,"reputation":9,"user_id":18765296,"display_name":"Cristian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676631083,"answer_count":1,"score":-1,"last_activity_date":1676625345,"creation_date":1676624276,"question_id":75482109,"body_markdown":"I want to gather what&#39;s in one listview. Write that information to a file. Read the file and display it&#39;s contents back into another listview. Currently I am struggling with accessing a listview in another class to be able to iterate through it and write to a file. Listview &quot;temp&quot; is returning null.\r\n\r\n    public void writeToFile(String file, Controller controller) throws IOException {\r\n            FileWriter fw = new FileWriter(file, true);\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            ListView&lt;Items&gt; temp = controller.getListtaking();\r\n            System.out.print(temp);\r\n            for (int i = 0; i &lt; temp.getItems().size(); i++) {\r\n                bw.write(temp.getItems().get(i) + &quot;,\\r&quot;);\r\n            }\r\n            bw.write(totalorder+ &quot;\\r&quot;);\r\n            bw.write(&quot;;\\r&quot;);\r\n            bw.close();\r\n        } \r\n           // This is one class\r\n\r\n    Controller controller;\r\n        public ListView&lt;Items&gt; getListtaking() {\r\n           return listtaking;\r\n        }\r\n        public void OrderIn(ActionEvent actionEvent) throws IOException {\r\n            Orders orderin = new Orders(total);\r\n            totalorder = total;\r\n            System.out.println(orderin.totalcost);\r\n            System.out.println(orderin);\r\n            System.out.println(listtaking.getItems());\r\n            listcurrent.getItems().add(orderin);\r\n            listorder = listtaking;\r\n            String FileName = String.valueOf(Orders.ordernumber);\r\n            new File(FileName + &quot;.txt&quot;);\r\n            ObservableList&lt;Items&gt; myList = listtaking.getItems();\r\n            for (Items i : myList) {\r\n                i.writeToFile(FileName,controller);\r\n            }\r\n            listtaking.getItems().clear(); // This is another class\r\n`","title":"How to access elements of a Listview from another class?","body":"<p>I want to gather what's in one listview. Write that information to a file. Read the file and display it's contents back into another listview. Currently I am struggling with accessing a listview in another class to be able to iterate through it and write to a file. Listview &quot;temp&quot; is returning null.</p>\n<pre><code>public void writeToFile(String file, Controller controller) throws IOException {\n        FileWriter fw = new FileWriter(file, true);\n        BufferedWriter bw = new BufferedWriter(fw);\n        ListView&lt;Items&gt; temp = controller.getListtaking();\n        System.out.print(temp);\n        for (int i = 0; i &lt; temp.getItems().size(); i++) {\n            bw.write(temp.getItems().get(i) + &quot;,\\r&quot;);\n        }\n        bw.write(totalorder+ &quot;\\r&quot;);\n        bw.write(&quot;;\\r&quot;);\n        bw.close();\n    } \n       // This is one class\n\nController controller;\n    public ListView&lt;Items&gt; getListtaking() {\n       return listtaking;\n    }\n    public void OrderIn(ActionEvent actionEvent) throws IOException {\n        Orders orderin = new Orders(total);\n        totalorder = total;\n        System.out.println(orderin.totalcost);\n        System.out.println(orderin);\n        System.out.println(listtaking.getItems());\n        listcurrent.getItems().add(orderin);\n        listorder = listtaking;\n        String FileName = String.valueOf(Orders.ordernumber);\n        new File(FileName + &quot;.txt&quot;);\n        ObservableList&lt;Items&gt; myList = listtaking.getItems();\n        for (Items i : myList) {\n            i.writeToFile(FileName,controller);\n        }\n        listtaking.getItems().clear(); // This is another class\n</code></pre>\n<p>`</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9582,"page":641,"page_size":100}
